function _mergeNamespaces(r,x){for(var y=0;y<x.length;y++){const b=x[y];if(typeof b!="string"&&!Array.isArray(b)){for(const B in b)if(B!=="default"&&!(B in r)){const R=Object.getOwnPropertyDescriptor(b,B);R&&Object.defineProperty(r,B,R.get?R:{enumerable:!0,get:()=>b[B]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const x=document.createElement("link").relList;if(x&&x.supports&&x.supports("modulepreload"))return;for(const B of document.querySelectorAll('link[rel="modulepreload"]'))b(B);new MutationObserver(B=>{for(const R of B)if(R.type==="childList")for(const I of R.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&b(I)}).observe(document,{childList:!0,subtree:!0});function y(B){const R={};return B.integrity&&(R.integrity=B.integrity),B.referrerPolicy&&(R.referrerPolicy=B.referrerPolicy),B.crossOrigin==="use-credentials"?R.credentials="include":B.crossOrigin==="anonymous"?R.credentials="omit":R.credentials="same-origin",R}function b(B){if(B.ep)return;B.ep=!0;const R=y(B);fetch(B.href,R)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var r=Symbol.for("react.transitional.element"),x=Symbol.for("react.fragment");function y(b,B,R){var I=null;if(R!==void 0&&(I=""+R),B.key!==void 0&&(I=""+B.key),"key"in B){R={};for(var O in B)O!=="key"&&(R[O]=B[O])}else R=B;return B=R.ref,{$$typeof:r,type:b,key:I,ref:B!==void 0?B:null,props:R}}return reactJsxRuntime_production.Fragment=x,reactJsxRuntime_production.jsx=y,reactJsxRuntime_production.jsxs=y,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(r){function x(Ze,it){var Ye=Ze.length;Ze.push(it);e:for(;0<Ye;){var et=Ye-1>>>1,gt=Ze[et];if(0<B(gt,it))Ze[et]=it,Ze[Ye]=gt,Ye=et;else break e}}function y(Ze){return Ze.length===0?null:Ze[0]}function b(Ze){if(Ze.length===0)return null;var it=Ze[0],Ye=Ze.pop();if(Ye!==it){Ze[0]=Ye;e:for(var et=0,gt=Ze.length,st=gt>>>1;et<st;){var ht=2*(et+1)-1,vt=Ze[ht],Et=ht+1,Rt=Ze[Et];if(0>B(vt,Ye))Et<gt&&0>B(Rt,vt)?(Ze[et]=Rt,Ze[Et]=Ye,et=Et):(Ze[et]=vt,Ze[ht]=Ye,et=ht);else if(Et<gt&&0>B(Rt,Ye))Ze[et]=Rt,Ze[Et]=Ye,et=Et;else break e}}return it}function B(Ze,it){var Ye=Ze.sortIndex-it.sortIndex;return Ye!==0?Ye:Ze.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var R=performance;r.unstable_now=function(){return R.now()}}else{var I=Date,O=I.now();r.unstable_now=function(){return I.now()-O}}var G=[],q=[],ee=1,ne=null,oe=3,pe=!1,xe=!1,_e=!1,Ue=!1,Le=typeof setTimeout=="function"?setTimeout:null,He=typeof clearTimeout=="function"?clearTimeout:null,$e=typeof setImmediate<"u"?setImmediate:null;function Ne(Ze){for(var it=y(q);it!==null;){if(it.callback===null)b(q);else if(it.startTime<=Ze)b(q),it.sortIndex=it.expirationTime,x(G,it);else break;it=y(q)}}function Qe(Ze){if(_e=!1,Ne(Ze),!xe)if(y(G)!==null)xe=!0,We||(We=!0,ct());else{var it=y(q);it!==null&&lt(Qe,it.startTime-Ze)}}var We=!1,Ge=-1,Xe=5,Je=-1;function ut(){return Ue?!0:!(r.unstable_now()-Je<Xe)}function ft(){if(Ue=!1,We){var Ze=r.unstable_now();Je=Ze;var it=!0;try{e:{xe=!1,_e&&(_e=!1,He(Ge),Ge=-1),pe=!0;var Ye=oe;try{t:{for(Ne(Ze),ne=y(G);ne!==null&&!(ne.expirationTime>Ze&&ut());){var et=ne.callback;if(typeof et=="function"){ne.callback=null,oe=ne.priorityLevel;var gt=et(ne.expirationTime<=Ze);if(Ze=r.unstable_now(),typeof gt=="function"){ne.callback=gt,Ne(Ze),it=!0;break t}ne===y(G)&&b(G),Ne(Ze)}else b(G);ne=y(G)}if(ne!==null)it=!0;else{var st=y(q);st!==null&&lt(Qe,st.startTime-Ze),it=!1}}break e}finally{ne=null,oe=Ye,pe=!1}it=void 0}}finally{it?ct():We=!1}}}var ct;if(typeof $e=="function")ct=function(){$e(ft)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,yt=pt.port2;pt.port1.onmessage=ft,ct=function(){yt.postMessage(null)}}else ct=function(){Le(ft,0)};function lt(Ze,it){Ge=Le(function(){Ze(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Ze){Ze.callback=null},r.unstable_forceFrameRate=function(Ze){0>Ze||125<Ze?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Xe=0<Ze?Math.floor(1e3/Ze):5},r.unstable_getCurrentPriorityLevel=function(){return oe},r.unstable_next=function(Ze){switch(oe){case 1:case 2:case 3:var it=3;break;default:it=oe}var Ye=oe;oe=it;try{return Ze()}finally{oe=Ye}},r.unstable_requestPaint=function(){Ue=!0},r.unstable_runWithPriority=function(Ze,it){switch(Ze){case 1:case 2:case 3:case 4:case 5:break;default:Ze=3}var Ye=oe;oe=Ze;try{return it()}finally{oe=Ye}},r.unstable_scheduleCallback=function(Ze,it,Ye){var et=r.unstable_now();switch(typeof Ye=="object"&&Ye!==null?(Ye=Ye.delay,Ye=typeof Ye=="number"&&0<Ye?et+Ye:et):Ye=et,Ze){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=Ye+gt,Ze={id:ee++,callback:it,priorityLevel:Ze,startTime:Ye,expirationTime:gt,sortIndex:-1},Ye>et?(Ze.sortIndex=Ye,x(q,Ze),y(G)===null&&Ze===y(q)&&(_e?(He(Ge),Ge=-1):_e=!0,lt(Qe,Ye-et))):(Ze.sortIndex=gt,x(G,Ze),xe||pe||(xe=!0,We||(We=!0,ct()))),Ze},r.unstable_shouldYield=ut,r.unstable_wrapCallback=function(Ze){var it=oe;return function(){var Ye=oe;oe=it;try{return Ze.apply(this,arguments)}finally{oe=Ye}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var react$1={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var r=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),I=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),q=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),oe=Symbol.iterator;function pe(st){return st===null||typeof st!="object"?null:(st=oe&&st[oe]||st["@@iterator"],typeof st=="function"?st:null)}var xe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_e=Object.assign,Ue={};function Le(st,ht,vt){this.props=st,this.context=ht,this.refs=Ue,this.updater=vt||xe}Le.prototype.isReactComponent={},Le.prototype.setState=function(st,ht){if(typeof st!="object"&&typeof st!="function"&&st!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,st,ht,"setState")},Le.prototype.forceUpdate=function(st){this.updater.enqueueForceUpdate(this,st,"forceUpdate")};function He(){}He.prototype=Le.prototype;function $e(st,ht,vt){this.props=st,this.context=ht,this.refs=Ue,this.updater=vt||xe}var Ne=$e.prototype=new He;Ne.constructor=$e,_e(Ne,Le.prototype),Ne.isPureReactComponent=!0;var Qe=Array.isArray;function We(){}var Ge={H:null,A:null,T:null,S:null},Xe=Object.prototype.hasOwnProperty;function Je(st,ht,vt){var Et=vt.ref;return{$$typeof:r,type:st,key:ht,ref:Et!==void 0?Et:null,props:vt}}function ut(st,ht){return Je(st.type,ht,st.props)}function ft(st){return typeof st=="object"&&st!==null&&st.$$typeof===r}function ct(st){var ht={"=":"=0",":":"=2"};return"$"+st.replace(/[=:]/g,function(vt){return ht[vt]})}var pt=/\/+/g;function yt(st,ht){return typeof st=="object"&&st!==null&&st.key!=null?ct(""+st.key):ht.toString(36)}function lt(st){switch(st.status){case"fulfilled":return st.value;case"rejected":throw st.reason;default:switch(typeof st.status=="string"?st.then(We,We):(st.status="pending",st.then(function(ht){st.status==="pending"&&(st.status="fulfilled",st.value=ht)},function(ht){st.status==="pending"&&(st.status="rejected",st.reason=ht)})),st.status){case"fulfilled":return st.value;case"rejected":throw st.reason}}throw st}function Ze(st,ht,vt,Et,Rt){var _t=typeof st;(_t==="undefined"||_t==="boolean")&&(st=null);var Ut=!1;if(st===null)Ut=!0;else switch(_t){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(st.$$typeof){case r:case x:Ut=!0;break;case ee:return Ut=st._init,Ze(Ut(st._payload),ht,vt,Et,Rt)}}if(Ut)return Rt=Rt(st),Ut=Et===""?"."+yt(st,0):Et,Qe(Rt)?(vt="",Ut!=null&&(vt=Ut.replace(pt,"$&/")+"/"),Ze(Rt,ht,vt,"",function(Ln){return Ln})):Rt!=null&&(ft(Rt)&&(Rt=ut(Rt,vt+(Rt.key==null||st&&st.key===Rt.key?"":(""+Rt.key).replace(pt,"$&/")+"/")+Ut)),ht.push(Rt)),1;Ut=0;var an=Et===""?".":Et+":";if(Qe(st))for(var hn=0;hn<st.length;hn++)Et=st[hn],_t=an+yt(Et,hn),Ut+=Ze(Et,ht,vt,_t,Rt);else if(hn=pe(st),typeof hn=="function")for(st=hn.call(st),hn=0;!(Et=st.next()).done;)Et=Et.value,_t=an+yt(Et,hn++),Ut+=Ze(Et,ht,vt,_t,Rt);else if(_t==="object"){if(typeof st.then=="function")return Ze(lt(st),ht,vt,Et,Rt);throw ht=String(st),Error("Objects are not valid as a React child (found: "+(ht==="[object Object]"?"object with keys {"+Object.keys(st).join(", ")+"}":ht)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function it(st,ht,vt){if(st==null)return st;var Et=[],Rt=0;return Ze(st,Et,"","",function(_t){return ht.call(vt,_t,Rt++)}),Et}function Ye(st){if(st._status===-1){var ht=st._result;ht=ht(),ht.then(function(vt){(st._status===0||st._status===-1)&&(st._status=1,st._result=vt)},function(vt){(st._status===0||st._status===-1)&&(st._status=2,st._result=vt)}),st._status===-1&&(st._status=0,st._result=ht)}if(st._status===1)return st._result.default;throw st._result}var et=typeof reportError=="function"?reportError:function(st){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ht=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof st=="object"&&st!==null&&typeof st.message=="string"?String(st.message):String(st),error:st});if(!window.dispatchEvent(ht))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",st);return}console.error(st)},gt={map:it,forEach:function(st,ht,vt){it(st,function(){ht.apply(this,arguments)},vt)},count:function(st){var ht=0;return it(st,function(){ht++}),ht},toArray:function(st){return it(st,function(ht){return ht})||[]},only:function(st){if(!ft(st))throw Error("React.Children.only expected to receive a single React element child.");return st}};return react_production.Activity=ne,react_production.Children=gt,react_production.Component=Le,react_production.Fragment=y,react_production.Profiler=B,react_production.PureComponent=$e,react_production.StrictMode=b,react_production.Suspense=G,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ge,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(st){return Ge.H.useMemoCache(st)}},react_production.cache=function(st){return function(){return st.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(st,ht,vt){if(st==null)throw Error("The argument must be a React element, but you passed "+st+".");var Et=_e({},st.props),Rt=st.key;if(ht!=null)for(_t in ht.key!==void 0&&(Rt=""+ht.key),ht)!Xe.call(ht,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&ht.ref===void 0||(Et[_t]=ht[_t]);var _t=arguments.length-2;if(_t===1)Et.children=vt;else if(1<_t){for(var Ut=Array(_t),an=0;an<_t;an++)Ut[an]=arguments[an+2];Et.children=Ut}return Je(st.type,Rt,Et)},react_production.createContext=function(st){return st={$$typeof:I,_currentValue:st,_currentValue2:st,_threadCount:0,Provider:null,Consumer:null},st.Provider=st,st.Consumer={$$typeof:R,_context:st},st},react_production.createElement=function(st,ht,vt){var Et,Rt={},_t=null;if(ht!=null)for(Et in ht.key!==void 0&&(_t=""+ht.key),ht)Xe.call(ht,Et)&&Et!=="key"&&Et!=="__self"&&Et!=="__source"&&(Rt[Et]=ht[Et]);var Ut=arguments.length-2;if(Ut===1)Rt.children=vt;else if(1<Ut){for(var an=Array(Ut),hn=0;hn<Ut;hn++)an[hn]=arguments[hn+2];Rt.children=an}if(st&&st.defaultProps)for(Et in Ut=st.defaultProps,Ut)Rt[Et]===void 0&&(Rt[Et]=Ut[Et]);return Je(st,_t,Rt)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(st){return{$$typeof:O,render:st}},react_production.isValidElement=ft,react_production.lazy=function(st){return{$$typeof:ee,_payload:{_status:-1,_result:st},_init:Ye}},react_production.memo=function(st,ht){return{$$typeof:q,type:st,compare:ht===void 0?null:ht}},react_production.startTransition=function(st){var ht=Ge.T,vt={};Ge.T=vt;try{var Et=st(),Rt=Ge.S;Rt!==null&&Rt(vt,Et),typeof Et=="object"&&Et!==null&&typeof Et.then=="function"&&Et.then(We,et)}catch(_t){et(_t)}finally{ht!==null&&vt.types!==null&&(ht.types=vt.types),Ge.T=ht}},react_production.unstable_useCacheRefresh=function(){return Ge.H.useCacheRefresh()},react_production.use=function(st){return Ge.H.use(st)},react_production.useActionState=function(st,ht,vt){return Ge.H.useActionState(st,ht,vt)},react_production.useCallback=function(st,ht){return Ge.H.useCallback(st,ht)},react_production.useContext=function(st){return Ge.H.useContext(st)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(st,ht){return Ge.H.useDeferredValue(st,ht)},react_production.useEffect=function(st,ht){return Ge.H.useEffect(st,ht)},react_production.useEffectEvent=function(st){return Ge.H.useEffectEvent(st)},react_production.useId=function(){return Ge.H.useId()},react_production.useImperativeHandle=function(st,ht,vt){return Ge.H.useImperativeHandle(st,ht,vt)},react_production.useInsertionEffect=function(st,ht){return Ge.H.useInsertionEffect(st,ht)},react_production.useLayoutEffect=function(st,ht){return Ge.H.useLayoutEffect(st,ht)},react_production.useMemo=function(st,ht){return Ge.H.useMemo(st,ht)},react_production.useOptimistic=function(st,ht){return Ge.H.useOptimistic(st,ht)},react_production.useReducer=function(st,ht,vt){return Ge.H.useReducer(st,ht,vt)},react_production.useRef=function(st){return Ge.H.useRef(st)},react_production.useState=function(st){return Ge.H.useState(st)},react_production.useSyncExternalStore=function(st,ht,vt){return Ge.H.useSyncExternalStore(st,ht,vt)},react_production.useTransition=function(){return Ge.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact$1;function requireReact$1(){return hasRequiredReact$1||(hasRequiredReact$1=1,react$1.exports=requireReact_production()),react$1.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var r=requireReact$1();function x(G){var q="https://react.dev/errors/"+G;if(1<arguments.length){q+="?args[]="+encodeURIComponent(arguments[1]);for(var ee=2;ee<arguments.length;ee++)q+="&args[]="+encodeURIComponent(arguments[ee])}return"Minified React error #"+G+"; visit "+q+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(){}var b={d:{f:y,r:function(){throw Error(x(522))},D:y,C:y,L:y,m:y,X:y,S:y,M:y},p:0,findDOMNode:null},B=Symbol.for("react.portal");function R(G,q,ee){var ne=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:ne==null?null:""+ne,children:G,containerInfo:q,implementation:ee}}var I=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function O(G,q){if(G==="font")return"";if(typeof q=="string")return q==="use-credentials"?q:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,reactDom_production.createPortal=function(G,q){var ee=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q||q.nodeType!==1&&q.nodeType!==9&&q.nodeType!==11)throw Error(x(299));return R(G,q,null,ee)},reactDom_production.flushSync=function(G){var q=I.T,ee=b.p;try{if(I.T=null,b.p=2,G)return G()}finally{I.T=q,b.p=ee,b.d.f()}},reactDom_production.preconnect=function(G,q){typeof G=="string"&&(q?(q=q.crossOrigin,q=typeof q=="string"?q==="use-credentials"?q:"":void 0):q=null,b.d.C(G,q))},reactDom_production.prefetchDNS=function(G){typeof G=="string"&&b.d.D(G)},reactDom_production.preinit=function(G,q){if(typeof G=="string"&&q&&typeof q.as=="string"){var ee=q.as,ne=O(ee,q.crossOrigin),oe=typeof q.integrity=="string"?q.integrity:void 0,pe=typeof q.fetchPriority=="string"?q.fetchPriority:void 0;ee==="style"?b.d.S(G,typeof q.precedence=="string"?q.precedence:void 0,{crossOrigin:ne,integrity:oe,fetchPriority:pe}):ee==="script"&&b.d.X(G,{crossOrigin:ne,integrity:oe,fetchPriority:pe,nonce:typeof q.nonce=="string"?q.nonce:void 0})}},reactDom_production.preinitModule=function(G,q){if(typeof G=="string")if(typeof q=="object"&&q!==null){if(q.as==null||q.as==="script"){var ee=O(q.as,q.crossOrigin);b.d.M(G,{crossOrigin:ee,integrity:typeof q.integrity=="string"?q.integrity:void 0,nonce:typeof q.nonce=="string"?q.nonce:void 0})}}else q==null&&b.d.M(G)},reactDom_production.preload=function(G,q){if(typeof G=="string"&&typeof q=="object"&&q!==null&&typeof q.as=="string"){var ee=q.as,ne=O(ee,q.crossOrigin);b.d.L(G,ee,{crossOrigin:ne,integrity:typeof q.integrity=="string"?q.integrity:void 0,nonce:typeof q.nonce=="string"?q.nonce:void 0,type:typeof q.type=="string"?q.type:void 0,fetchPriority:typeof q.fetchPriority=="string"?q.fetchPriority:void 0,referrerPolicy:typeof q.referrerPolicy=="string"?q.referrerPolicy:void 0,imageSrcSet:typeof q.imageSrcSet=="string"?q.imageSrcSet:void 0,imageSizes:typeof q.imageSizes=="string"?q.imageSizes:void 0,media:typeof q.media=="string"?q.media:void 0})}},reactDom_production.preloadModule=function(G,q){if(typeof G=="string")if(q){var ee=O(q.as,q.crossOrigin);b.d.m(G,{as:typeof q.as=="string"&&q.as!=="script"?q.as:void 0,crossOrigin:ee,integrity:typeof q.integrity=="string"?q.integrity:void 0})}else b.d.m(G)},reactDom_production.requestFormReset=function(G){b.d.r(G)},reactDom_production.unstable_batchedUpdates=function(G,q){return G(q)},reactDom_production.useFormState=function(G,q,ee){return I.H.useFormState(G,q,ee)},reactDom_production.useFormStatus=function(){return I.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(x){console.error(x)}}return r(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var r=requireScheduler(),x=requireReact$1(),y=requireReactDom();function b(M){var X="https://react.dev/errors/"+M;if(1<arguments.length){X+="?args[]="+encodeURIComponent(arguments[1]);for(var ae=2;ae<arguments.length;ae++)X+="&args[]="+encodeURIComponent(arguments[ae])}return"Minified React error #"+M+"; visit "+X+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function B(M){return!(!M||M.nodeType!==1&&M.nodeType!==9&&M.nodeType!==11)}function R(M){var X=M,ae=M;if(M.alternate)for(;X.return;)X=X.return;else{M=X;do X=M,(X.flags&4098)!==0&&(ae=X.return),M=X.return;while(M)}return X.tag===3?ae:null}function I(M){if(M.tag===13){var X=M.memoizedState;if(X===null&&(M=M.alternate,M!==null&&(X=M.memoizedState)),X!==null)return X.dehydrated}return null}function O(M){if(M.tag===31){var X=M.memoizedState;if(X===null&&(M=M.alternate,M!==null&&(X=M.memoizedState)),X!==null)return X.dehydrated}return null}function G(M){if(R(M)!==M)throw Error(b(188))}function q(M){var X=M.alternate;if(!X){if(X=R(M),X===null)throw Error(b(188));return X!==M?null:M}for(var ae=M,ye=X;;){var Ve=ae.return;if(Ve===null)break;var Ke=Ve.alternate;if(Ke===null){if(ye=Ve.return,ye!==null){ae=ye;continue}break}if(Ve.child===Ke.child){for(Ke=Ve.child;Ke;){if(Ke===ae)return G(Ve),M;if(Ke===ye)return G(Ve),X;Ke=Ke.sibling}throw Error(b(188))}if(ae.return!==ye.return)ae=Ve,ye=Ke;else{for(var rt=!1,dt=Ve.child;dt;){if(dt===ae){rt=!0,ae=Ve,ye=Ke;break}if(dt===ye){rt=!0,ye=Ve,ae=Ke;break}dt=dt.sibling}if(!rt){for(dt=Ke.child;dt;){if(dt===ae){rt=!0,ae=Ke,ye=Ve;break}if(dt===ye){rt=!0,ye=Ke,ae=Ve;break}dt=dt.sibling}if(!rt)throw Error(b(189))}}if(ae.alternate!==ye)throw Error(b(190))}if(ae.tag!==3)throw Error(b(188));return ae.stateNode.current===ae?M:X}function ee(M){var X=M.tag;if(X===5||X===26||X===27||X===6)return M;for(M=M.child;M!==null;){if(X=ee(M),X!==null)return X;M=M.sibling}return null}var ne=Object.assign,oe=Symbol.for("react.element"),pe=Symbol.for("react.transitional.element"),xe=Symbol.for("react.portal"),_e=Symbol.for("react.fragment"),Ue=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),He=Symbol.for("react.consumer"),$e=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Qe=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),Je=Symbol.for("react.activity"),ut=Symbol.for("react.memo_cache_sentinel"),ft=Symbol.iterator;function ct(M){return M===null||typeof M!="object"?null:(M=ft&&M[ft]||M["@@iterator"],typeof M=="function"?M:null)}var pt=Symbol.for("react.client.reference");function yt(M){if(M==null)return null;if(typeof M=="function")return M.$$typeof===pt?null:M.displayName||M.name||null;if(typeof M=="string")return M;switch(M){case _e:return"Fragment";case Le:return"Profiler";case Ue:return"StrictMode";case Qe:return"Suspense";case We:return"SuspenseList";case Je:return"Activity"}if(typeof M=="object")switch(M.$$typeof){case xe:return"Portal";case $e:return M.displayName||"Context";case He:return(M._context.displayName||"Context")+".Consumer";case Ne:var X=M.render;return M=M.displayName,M||(M=X.displayName||X.name||"",M=M!==""?"ForwardRef("+M+")":"ForwardRef"),M;case Ge:return X=M.displayName||null,X!==null?X:yt(M.type)||"Memo";case Xe:X=M._payload,M=M._init;try{return yt(M(X))}catch{}}return null}var lt=Array.isArray,Ze=x.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=y.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ye={pending:!1,data:null,method:null,action:null},et=[],gt=-1;function st(M){return{current:M}}function ht(M){0>gt||(M.current=et[gt],et[gt]=null,gt--)}function vt(M,X){gt++,et[gt]=M.current,M.current=X}var Et=st(null),Rt=st(null),_t=st(null),Ut=st(null);function an(M,X){switch(vt(_t,X),vt(Rt,M),vt(Et,null),X.nodeType){case 9:case 11:M=(M=X.documentElement)&&(M=M.namespaceURI)?th(M):0;break;default:if(M=X.tagName,X=X.namespaceURI)X=th(X),M=nh(X,M);else switch(M){case"svg":M=1;break;case"math":M=2;break;default:M=0}}ht(Et),vt(Et,M)}function hn(){ht(Et),ht(Rt),ht(_t)}function Ln(M){M.memoizedState!==null&&vt(Ut,M);var X=Et.current,ae=nh(X,M.type);X!==ae&&(vt(Rt,M),vt(Et,ae))}function pn(M){Rt.current===M&&(ht(Et),ht(Rt)),Ut.current===M&&(ht(Ut),fl._currentValue=Ye)}var qn,on;function tn(M){if(qn===void 0)try{throw Error()}catch(ae){var X=ae.stack.trim().match(/\n( *(at )?)/);qn=X&&X[1]||"",on=-1<ae.stack.indexOf(`
    at`)?" (<anonymous>)":-1<ae.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qn+M+on}var Zn=!1;function Dr(M,X){if(!M||Zn)return"";Zn=!0;var ae=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var ye={DetermineComponentFrameRoot:function(){try{if(X){var Vt=function(){throw Error()};if(Object.defineProperty(Vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Vt,[])}catch(jt){var Dt=jt}Reflect.construct(M,[],Vt)}else{try{Vt.call()}catch(jt){Dt=jt}M.call(Vt.prototype)}}else{try{throw Error()}catch(jt){Dt=jt}(Vt=M())&&typeof Vt.catch=="function"&&Vt.catch(function(){})}}catch(jt){if(jt&&Dt&&typeof jt.stack=="string")return[jt.stack,Dt.stack]}return[null,null]}};ye.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Ve=Object.getOwnPropertyDescriptor(ye.DetermineComponentFrameRoot,"name");Ve&&Ve.configurable&&Object.defineProperty(ye.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Ke=ye.DetermineComponentFrameRoot(),rt=Ke[0],dt=Ke[1];if(rt&&dt){var wt=rt.split(`
`),Mt=dt.split(`
`);for(Ve=ye=0;ye<wt.length&&!wt[ye].includes("DetermineComponentFrameRoot");)ye++;for(;Ve<Mt.length&&!Mt[Ve].includes("DetermineComponentFrameRoot");)Ve++;if(ye===wt.length||Ve===Mt.length)for(ye=wt.length-1,Ve=Mt.length-1;1<=ye&&0<=Ve&&wt[ye]!==Mt[Ve];)Ve--;for(;1<=ye&&0<=Ve;ye--,Ve--)if(wt[ye]!==Mt[Ve]){if(ye!==1||Ve!==1)do if(ye--,Ve--,0>Ve||wt[ye]!==Mt[Ve]){var Ht=`
`+wt[ye].replace(" at new "," at ");return M.displayName&&Ht.includes("<anonymous>")&&(Ht=Ht.replace("<anonymous>",M.displayName)),Ht}while(1<=ye&&0<=Ve);break}}}finally{Zn=!1,Error.prepareStackTrace=ae}return(ae=M?M.displayName||M.name:"")?tn(ae):""}function zn(M,X){switch(M.tag){case 26:case 27:case 5:return tn(M.type);case 16:return tn("Lazy");case 13:return M.child!==X&&X!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return Dr(M.type,!1);case 11:return Dr(M.type.render,!1);case 1:return Dr(M.type,!0);case 31:return tn("Activity");default:return""}}function Tn(M){try{var X="",ae=null;do X+=zn(M,ae),ae=M,M=M.return;while(M);return X}catch(ye){return`
Error generating stack: `+ye.message+`
`+ye.stack}}var yn=Object.prototype.hasOwnProperty,Sr=r.unstable_scheduleCallback,Zt=r.unstable_cancelCallback,Yr=r.unstable_shouldYield,Or=r.unstable_requestPaint,Kt=r.unstable_now,cn=r.unstable_getCurrentPriorityLevel,Cn=r.unstable_ImmediatePriority,Fn=r.unstable_UserBlockingPriority,kn=r.unstable_NormalPriority,or=r.unstable_LowPriority,Jr=r.unstable_IdlePriority,ys=r.log,vi=r.unstable_setDisableYieldValue,Pn=null,qt=null;function er(M){if(typeof ys=="function"&&vi(M),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Pn,M)}catch{}}var Bn=Math.clz32?Math.clz32:Vs,ur=Math.log,vs=Math.LN2;function Vs(M){return M>>>=0,M===0?32:31-(ur(M)/vs|0)|0}var ci=256,jn=262144,Es=4194304;function Fs(M){var X=M&42;if(X!==0)return X;switch(M&-M){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return M&261888;case 262144:case 524288:case 1048576:case 2097152:return M&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return M&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return M}}function Ei(M,X,ae){var ye=M.pendingLanes;if(ye===0)return 0;var Ve=0,Ke=M.suspendedLanes,rt=M.pingedLanes;M=M.warmLanes;var dt=ye&134217727;return dt!==0?(ye=dt&~Ke,ye!==0?Ve=Fs(ye):(rt&=dt,rt!==0?Ve=Fs(rt):ae||(ae=dt&~M,ae!==0&&(Ve=Fs(ae))))):(dt=ye&~Ke,dt!==0?Ve=Fs(dt):rt!==0?Ve=Fs(rt):ae||(ae=ye&~M,ae!==0&&(Ve=Fs(ae)))),Ve===0?0:X!==0&&X!==Ve&&(X&Ke)===0&&(Ke=Ve&-Ve,ae=X&-X,Ke>=ae||Ke===32&&(ae&4194048)!==0)?X:Ve}function Vr(M,X){return(M.pendingLanes&~(M.suspendedLanes&~M.pingedLanes)&X)===0}function Ai(M,X){switch(M){case 1:case 2:case 4:case 8:case 64:return X+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return X+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ir(){var M=Es;return Es<<=1,(Es&62914560)===0&&(Es=4194304),M}function ks(M){for(var X=[],ae=0;31>ae;ae++)X.push(M);return X}function zs(M,X){M.pendingLanes|=X,X!==268435456&&(M.suspendedLanes=0,M.pingedLanes=0,M.warmLanes=0)}function Cs(M,X,ae,ye,Ve,Ke){var rt=M.pendingLanes;M.pendingLanes=ae,M.suspendedLanes=0,M.pingedLanes=0,M.warmLanes=0,M.expiredLanes&=ae,M.entangledLanes&=ae,M.errorRecoveryDisabledLanes&=ae,M.shellSuspendCounter=0;var dt=M.entanglements,wt=M.expirationTimes,Mt=M.hiddenUpdates;for(ae=rt&~ae;0<ae;){var Ht=31-Bn(ae),Vt=1<<Ht;dt[Ht]=0,wt[Ht]=-1;var Dt=Mt[Ht];if(Dt!==null)for(Mt[Ht]=null,Ht=0;Ht<Dt.length;Ht++){var jt=Dt[Ht];jt!==null&&(jt.lane&=-536870913)}ae&=~Vt}ye!==0&&Ct(M,ye,0),Ke!==0&&Ve===0&&M.tag!==0&&(M.suspendedLanes|=Ke&~(rt&~X))}function Ct(M,X,ae){M.pendingLanes|=X,M.suspendedLanes&=~X;var ye=31-Bn(X);M.entangledLanes|=X,M.entanglements[ye]=M.entanglements[ye]|1073741824|ae&261930}function Tt(M,X){var ae=M.entangledLanes|=X;for(M=M.entanglements;ae;){var ye=31-Bn(ae),Ve=1<<ye;Ve&X|M[ye]&X&&(M[ye]|=X),ae&=~Ve}}function Ot(M,X){var ae=X&-X;return ae=(ae&42)!==0?1:zt(ae),(ae&(M.suspendedLanes|X))!==0?0:ae}function zt(M){switch(M){case 2:M=1;break;case 8:M=4;break;case 32:M=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:M=128;break;case 268435456:M=134217728;break;default:M=0}return M}function Jt(M){return M&=-M,2<M?8<M?(M&134217727)!==0?32:268435456:8:2}function sn(){var M=it.p;return M!==0?M:(M=window.event,M===void 0?32:Sh(M.type))}function $t(M,X){var ae=it.p;try{return it.p=M,X()}finally{it.p=ae}}var rn=Math.random().toString(36).slice(2),nn="__reactFiber$"+rn,en="__reactProps$"+rn,fn="__reactContainer$"+rn,un="__reactEvents$"+rn,Sn="__reactListeners$"+rn,Hn="__reactHandles$"+rn,Nr="__reactResources$"+rn,br="__reactMarker$"+rn;function $n(M){delete M[nn],delete M[en],delete M[un],delete M[Sn],delete M[Hn]}function _n(M){var X=M[nn];if(X)return X;for(var ae=M.parentNode;ae;){if(X=ae[fn]||ae[nn]){if(ae=X.alternate,X.child!==null||ae!==null&&ae.child!==null)for(M=ch(M);M!==null;){if(ae=M[nn])return ae;M=ch(M)}return X}M=ae,ae=M.parentNode}return null}function Qn(M){if(M=M[nn]||M[fn]){var X=M.tag;if(X===5||X===6||X===13||X===31||X===26||X===27||X===3)return M}return null}function ws(M){var X=M.tag;if(X===5||X===26||X===27||X===6)return M.stateNode;throw Error(b(33))}function Fr(M){var X=M[Nr];return X||(X=M[Nr]={hoistableStyles:new Map,hoistableScripts:new Map}),X}function sr(M){M[br]=!0}var Gt=new Set,ui={};function Gn(M,X){is(M,X),is(M+"Capture",X)}function is(M,X){for(ui[M]=X,M=0;M<X.length;M++)Gt.add(X[M])}var zi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ln={},wn={};function Nn(M){return yn.call(wn,M)?!0:yn.call(ln,M)?!1:zi.test(M)?wn[M]=!0:(ln[M]=!0,!1)}function hs(M,X,ae){if(Nn(X))if(ae===null)M.removeAttribute(X);else{switch(typeof ae){case"undefined":case"function":case"symbol":M.removeAttribute(X);return;case"boolean":var ye=X.toLowerCase().slice(0,5);if(ye!=="data-"&&ye!=="aria-"){M.removeAttribute(X);return}}M.setAttribute(X,""+ae)}}function lr(M,X,ae){if(ae===null)M.removeAttribute(X);else{switch(typeof ae){case"undefined":case"function":case"symbol":case"boolean":M.removeAttribute(X);return}M.setAttribute(X,""+ae)}}function as(M,X,ae,ye){if(ye===null)M.removeAttribute(ae);else{switch(typeof ye){case"undefined":case"function":case"symbol":case"boolean":M.removeAttribute(ae);return}M.setAttributeNS(X,ae,""+ye)}}function nr(M){switch(typeof M){case"bigint":case"boolean":case"number":case"string":case"undefined":return M;case"object":return M;default:return""}}function Ms(M){var X=M.type;return(M=M.nodeName)&&M.toLowerCase()==="input"&&(X==="checkbox"||X==="radio")}function Fc(M,X,ae){var ye=Object.getOwnPropertyDescriptor(M.constructor.prototype,X);if(!M.hasOwnProperty(X)&&typeof ye<"u"&&typeof ye.get=="function"&&typeof ye.set=="function"){var Ve=ye.get,Ke=ye.set;return Object.defineProperty(M,X,{configurable:!0,get:function(){return Ve.call(this)},set:function(rt){ae=""+rt,Ke.call(this,rt)}}),Object.defineProperty(M,X,{enumerable:ye.enumerable}),{getValue:function(){return ae},setValue:function(rt){ae=""+rt},stopTracking:function(){M._valueTracker=null,delete M[X]}}}}function Br(M){if(!M._valueTracker){var X=Ms(M)?"checked":"value";M._valueTracker=Fc(M,X,""+M[X])}}function ni(M){if(!M)return!1;var X=M._valueTracker;if(!X)return!0;var ae=X.getValue(),ye="";return M&&(ye=Ms(M)?M.checked?"true":"false":M.value),M=ye,M!==ae?(X.setValue(M),!0):!1}function Ga(M){if(M=M||(typeof document<"u"?document:void 0),typeof M>"u")return null;try{return M.activeElement||M.body}catch{return M.body}}var Gi=/[\n"\\]/g;function Vn(M){return M.replace(Gi,function(X){return"\\"+X.charCodeAt(0).toString(16)+" "})}function zr(M,X,ae,ye,Ve,Ke,rt,dt){M.name="",rt!=null&&typeof rt!="function"&&typeof rt!="symbol"&&typeof rt!="boolean"?M.type=rt:M.removeAttribute("type"),X!=null?rt==="number"?(X===0&&M.value===""||M.value!=X)&&(M.value=""+nr(X)):M.value!==""+nr(X)&&(M.value=""+nr(X)):rt!=="submit"&&rt!=="reset"||M.removeAttribute("value"),X!=null?mt(M,rt,nr(X)):ae!=null?mt(M,rt,nr(ae)):ye!=null&&M.removeAttribute("value"),Ve==null&&Ke!=null&&(M.defaultChecked=!!Ke),Ve!=null&&(M.checked=Ve&&typeof Ve!="function"&&typeof Ve!="symbol"),dt!=null&&typeof dt!="function"&&typeof dt!="symbol"&&typeof dt!="boolean"?M.name=""+nr(dt):M.removeAttribute("name")}function Ft(M,X,ae,ye,Ve,Ke,rt,dt){if(Ke!=null&&typeof Ke!="function"&&typeof Ke!="symbol"&&typeof Ke!="boolean"&&(M.type=Ke),X!=null||ae!=null){if(!(Ke!=="submit"&&Ke!=="reset"||X!=null)){Br(M);return}ae=ae!=null?""+nr(ae):"",X=X!=null?""+nr(X):ae,dt||X===M.value||(M.value=X),M.defaultValue=X}ye=ye??Ve,ye=typeof ye!="function"&&typeof ye!="symbol"&&!!ye,M.checked=dt?M.checked:!!ye,M.defaultChecked=!!ye,rt!=null&&typeof rt!="function"&&typeof rt!="symbol"&&typeof rt!="boolean"&&(M.name=rt),Br(M)}function mt(M,X,ae){X==="number"&&Ga(M.ownerDocument)===M||M.defaultValue===""+ae||(M.defaultValue=""+ae)}function dn(M,X,ae,ye){if(M=M.options,X){X={};for(var Ve=0;Ve<ae.length;Ve++)X["$"+ae[Ve]]=!0;for(ae=0;ae<M.length;ae++)Ve=X.hasOwnProperty("$"+M[ae].value),M[ae].selected!==Ve&&(M[ae].selected=Ve),Ve&&ye&&(M[ae].defaultSelected=!0)}else{for(ae=""+nr(ae),X=null,Ve=0;Ve<M.length;Ve++){if(M[Ve].value===ae){M[Ve].selected=!0,ye&&(M[Ve].defaultSelected=!0);return}X!==null||M[Ve].disabled||(X=M[Ve])}X!==null&&(X.selected=!0)}}function $r(M,X,ae){if(X!=null&&(X=""+nr(X),X!==M.value&&(M.value=X),ae==null)){M.defaultValue!==X&&(M.defaultValue=X);return}M.defaultValue=ae!=null?""+nr(ae):""}function ps(M,X,ae,ye){if(X==null){if(ye!=null){if(ae!=null)throw Error(b(92));if(lt(ye)){if(1<ye.length)throw Error(b(93));ye=ye[0]}ae=ye}ae==null&&(ae=""),X=ae}ae=nr(X),M.defaultValue=ae,ye=M.textContent,ye===ae&&ye!==""&&ye!==null&&(M.value=ye),Br(M)}function Ki(M,X){if(X){var ae=M.firstChild;if(ae&&ae===M.lastChild&&ae.nodeType===3){ae.nodeValue=X;return}}M.textContent=X}var Ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ms(M,X,ae){var ye=X.indexOf("--")===0;ae==null||typeof ae=="boolean"||ae===""?ye?M.setProperty(X,""):X==="float"?M.cssFloat="":M[X]="":ye?M.setProperty(X,ae):typeof ae!="number"||ae===0||Ro.has(X)?X==="float"?M.cssFloat=ae:M[X]=(""+ae).trim():M[X]=ae+"px"}function gn(M,X,ae){if(X!=null&&typeof X!="object")throw Error(b(62));if(M=M.style,ae!=null){for(var ye in ae)!ae.hasOwnProperty(ye)||X!=null&&X.hasOwnProperty(ye)||(ye.indexOf("--")===0?M.setProperty(ye,""):ye==="float"?M.cssFloat="":M[ye]="");for(var Ve in X)ye=X[Ve],X.hasOwnProperty(Ve)&&ae[Ve]!==ye&&ms(M,Ve,ye)}else for(var Ke in X)X.hasOwnProperty(Ke)&&ms(M,Ke,X[Ke])}function vr(M){if(M.indexOf("-")===-1)return!1;switch(M){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(M){return kc.test(""+M)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":M}function bs(){}var Sa=null;function Io(M){return M=M.target||M.srcElement||window,M.correspondingUseElement&&(M=M.correspondingUseElement),M.nodeType===3?M.parentNode:M}var _r=null,Gs=null;function ri(M){var X=Qn(M);if(X&&(M=X.stateNode)){var ae=M[en]||null;e:switch(M=X.stateNode,X.type){case"input":if(zr(M,ae.value,ae.defaultValue,ae.defaultValue,ae.checked,ae.defaultChecked,ae.type,ae.name),X=ae.name,ae.type==="radio"&&X!=null){for(ae=M;ae.parentNode;)ae=ae.parentNode;for(ae=ae.querySelectorAll('input[name="'+Vn(""+X)+'"][type="radio"]'),X=0;X<ae.length;X++){var ye=ae[X];if(ye!==M&&ye.form===M.form){var Ve=ye[en]||null;if(!Ve)throw Error(b(90));zr(ye,Ve.value,Ve.defaultValue,Ve.defaultValue,Ve.checked,Ve.defaultChecked,Ve.type,Ve.name)}}for(X=0;X<ae.length;X++)ye=ae[X],ye.form===M.form&&ni(ye)}break e;case"textarea":$r(M,ae.value,ae.defaultValue);break e;case"select":X=ae.value,X!=null&&dn(M,!!ae.multiple,X,!1)}}}var vn=!1;function xl(M,X,ae){if(vn)return M(X,ae);vn=!0;try{var ye=M(X);return ye}finally{if(vn=!1,(_r!==null||Gs!==null)&&(Ac(),_r&&(X=_r,M=Gs,Gs=_r=null,ri(X),M)))for(X=0;X<M.length;X++)ri(M[X])}}function Rn(M,X){var ae=M.stateNode;if(ae===null)return null;var ye=ae[en]||null;if(ye===null)return null;ae=ye[X];e:switch(X){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ye=!ye.disabled)||(M=M.type,ye=!(M==="button"||M==="input"||M==="select"||M==="textarea")),M=!ye;break e;default:M=!1}if(M)return null;if(ae&&typeof ae!="function")throw Error(b(231,X,typeof ae));return ae}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),No=!1;if(Er)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){No=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{No=!1}var si=null,ii=null,Ka=null;function qi(){if(Ka)return Ka;var M,X=ii,ae=X.length,ye,Ve="value"in si?si.value:si.textContent,Ke=Ve.length;for(M=0;M<ae&&X[M]===Ve[M];M++);var rt=ae-M;for(ye=1;ye<=rt&&X[ae-ye]===Ve[Ke-ye];ye++);return Ka=Ve.slice(M,1<ye?1-ye:void 0)}function di(M){var X=M.keyCode;return"charCode"in M?(M=M.charCode,M===0&&X===13&&(M=13)):M=X,M===10&&(M=13),32<=M||M===13?M:0}function fi(){return!0}function Fo(){return!1}function Gr(M){function X(ae,ye,Ve,Ke,rt){this._reactName=ae,this._targetInst=Ve,this.type=ye,this.nativeEvent=Ke,this.target=rt,this.currentTarget=null;for(var dt in M)M.hasOwnProperty(dt)&&(ae=M[dt],this[dt]=ae?ae(Ke):Ke[dt]);return this.isDefaultPrevented=(Ke.defaultPrevented!=null?Ke.defaultPrevented:Ke.returnValue===!1)?fi:Fo,this.isPropagationStopped=Fo,this}return ne(X.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ae=this.nativeEvent;ae&&(ae.preventDefault?ae.preventDefault():typeof ae.returnValue!="unknown"&&(ae.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var ae=this.nativeEvent;ae&&(ae.stopPropagation?ae.stopPropagation():typeof ae.cancelBubble!="unknown"&&(ae.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),X}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(M){return M.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zr=Gr(Ds),Xi=ne({},Ds,{view:0,detail:0}),yl=Gr(Xi),Wa,ko,Ba,qa=ne({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(M){return M.relatedTarget===void 0?M.fromElement===M.srcElement?M.toElement:M.fromElement:M.relatedTarget},movementX:function(M){return"movementX"in M?M.movementX:(M!==Ba&&(Ba&&M.type==="mousemove"?(Wa=M.screenX-Ba.screenX,ko=M.screenY-Ba.screenY):ko=Wa=0,Ba=M),Wa)},movementY:function(M){return"movementY"in M?M.movementY:ko}}),cr=Gr(qa),vl=ne({},qa,{dataTransfer:0}),Xa=Gr(vl),hi=ne({},Xi,{relatedTarget:0}),Mo=Gr(hi),Pt=ne({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Dn=Gr(Pt),ns=ne({},Ds,{clipboardData:function(M){return"clipboardData"in M?M.clipboardData:window.clipboardData}}),Ya=Gr(ns),El=ne({},Ds,{data:0}),Cl=Gr(El),Mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Do={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ur(M){var X=this.nativeEvent;return X.getModifierState?X.getModifierState(M):(M=Do[M])?!!X[M]:!1}function _a(){return Ur}var kr=ne({},Xi,{key:function(M){if(M.key){var X=Mc[M.key]||M.key;if(X!=="Unidentified")return X}return M.type==="keypress"?(M=di(M),M===13?"Enter":String.fromCharCode(M)):M.type==="keydown"||M.type==="keyup"?Dc[M.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(M){return M.type==="keypress"?di(M):0},keyCode:function(M){return M.type==="keydown"||M.type==="keyup"?M.keyCode:0},which:function(M){return M.type==="keypress"?di(M):M.type==="keydown"||M.type==="keyup"?M.keyCode:0}}),Ja=Gr(kr),wi=ne({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dr=Gr(wi),En=ne({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),Oc=Gr(En),Cr=ne({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),bi=Gr(Cr),Yi=ne({},qa,{deltaX:function(M){return"deltaX"in M?M.deltaX:"wheelDeltaX"in M?-M.wheelDeltaX:0},deltaY:function(M){return"deltaY"in M?M.deltaY:"wheelDeltaY"in M?-M.wheelDeltaY:"wheelDelta"in M?-M.wheelDelta:0},deltaZ:0,deltaMode:0}),Lc=Gr(Yi),Ks=ne({},Ds,{newState:0,oldState:0}),Oo=Gr(Ks),wl=[9,13,27,32],Ta=Er&&"CompositionEvent"in window,Ji=null;Er&&"documentMode"in document&&(Ji=document.documentMode);var bl=Er&&"TextEvent"in window&&!Ji,Sl=Er&&(!Ta||Ji&&8<Ji&&11>=Ji),Si=" ",Za=!1;function Bl(M,X){switch(M){case"keyup":return wl.indexOf(X.keyCode)!==-1;case"keydown":return X.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zi(M){return M=M.detail,typeof M=="object"&&"data"in M?M.data:null}var ea=!1;function pi(M,X){switch(M){case"compositionend":return Zi(X);case"keypress":return X.which!==32?null:(Za=!0,Si);case"textInput":return M=X.data,M===Si&&Za?null:M;default:return null}}function eo(M,X){if(ea)return M==="compositionend"||!Ta&&Bl(M,X)?(M=qi(),Ka=ii=si=null,ea=!1,M):null;switch(M){case"paste":return null;case"keypress":if(!(X.ctrlKey||X.altKey||X.metaKey)||X.ctrlKey&&X.altKey){if(X.char&&1<X.char.length)return X.char;if(X.which)return String.fromCharCode(X.which)}return null;case"compositionend":return Sl&&X.locale!=="ko"?null:X.data;default:return null}}var Ss={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lo(M){var X=M&&M.nodeName&&M.nodeName.toLowerCase();return X==="input"?!!Ss[M.type]:X==="textarea"}function Os(M,X,ae,ye){_r?Gs?Gs.push(ye):Gs=[ye]:_r=ye,X=gc(X,"onChange"),0<X.length&&(ae=new Zr("onChange","change",null,ae,ye),M.push({event:ae,listeners:X}))}var Ra=null,Bi=null;function Pc(M){qf(M,0)}function Ia(M){var X=ws(M);if(ni(X))return M}function Ls(M,X){if(M==="change")return X}var _l=!1;if(Er){var Na;if(Er){var _i="oninput"in document;if(!_i){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),_i=typeof Xn.oninput=="function"}Na=_i}else Na=!1;_l=Na&&(!document.documentMode||9<document.documentMode)}function Fa(){Ra&&(Ra.detachEvent("onpropertychange",at),Bi=Ra=null)}function at(M){if(M.propertyName==="value"&&Ia(Bi)){var X=[];Os(X,Bi,M,Io(M)),xl(Pc,X)}}function K(M,X,ae){M==="focusin"?(Fa(),Ra=X,Bi=ae,Ra.attachEvent("onpropertychange",at)):M==="focusout"&&Fa()}function J(M){if(M==="selectionchange"||M==="keyup"||M==="keydown")return Ia(Bi)}function te(M,X){if(M==="click")return Ia(X)}function ue(M,X){if(M==="input"||M==="change")return Ia(X)}function fe(M,X){return M===X&&(M!==0||1/M===1/X)||M!==M&&X!==X}var Be=typeof Object.is=="function"?Object.is:fe;function je(M,X){if(Be(M,X))return!0;if(typeof M!="object"||M===null||typeof X!="object"||X===null)return!1;var ae=Object.keys(M),ye=Object.keys(X);if(ae.length!==ye.length)return!1;for(ye=0;ye<ae.length;ye++){var Ve=ae[ye];if(!yn.call(X,Ve)||!Be(M[Ve],X[Ve]))return!1}return!0}function ze(M){for(;M&&M.firstChild;)M=M.firstChild;return M}function qe(M,X){var ae=ze(M);M=0;for(var ye;ae;){if(ae.nodeType===3){if(ye=M+ae.textContent.length,M<=X&&ye>=X)return{node:ae,offset:X-M};M=ye}e:{for(;ae;){if(ae.nextSibling){ae=ae.nextSibling;break e}ae=ae.parentNode}ae=void 0}ae=ze(ae)}}function nt(M,X){return M&&X?M===X?!0:M&&M.nodeType===3?!1:X&&X.nodeType===3?nt(M,X.parentNode):"contains"in M?M.contains(X):M.compareDocumentPosition?!!(M.compareDocumentPosition(X)&16):!1:!1}function ot(M){M=M!=null&&M.ownerDocument!=null&&M.ownerDocument.defaultView!=null?M.ownerDocument.defaultView:window;for(var X=Ga(M.document);X instanceof M.HTMLIFrameElement;){try{var ae=typeof X.contentWindow.location.href=="string"}catch{ae=!1}if(ae)M=X.contentWindow;else break;X=Ga(M.document)}return X}function At(M){var X=M&&M.nodeName&&M.nodeName.toLowerCase();return X&&(X==="input"&&(M.type==="text"||M.type==="search"||M.type==="tel"||M.type==="url"||M.type==="password")||X==="textarea"||M.contentEditable==="true")}var xt=Er&&"documentMode"in document&&11>=document.documentMode,bt=null,St=null,Nt=null,Lt=!1;function Yt(M,X,ae){var ye=ae.window===ae?ae.document:ae.nodeType===9?ae:ae.ownerDocument;Lt||bt==null||bt!==Ga(ye)||(ye=bt,"selectionStart"in ye&&At(ye)?ye={start:ye.selectionStart,end:ye.selectionEnd}:(ye=(ye.ownerDocument&&ye.ownerDocument.defaultView||window).getSelection(),ye={anchorNode:ye.anchorNode,anchorOffset:ye.anchorOffset,focusNode:ye.focusNode,focusOffset:ye.focusOffset}),Nt&&je(Nt,ye)||(Nt=ye,ye=gc(St,"onSelect"),0<ye.length&&(X=new Zr("onSelect","select",null,X,ae),M.push({event:X,listeners:ye}),X.target=bt)))}function Xt(M,X){var ae={};return ae[M.toLowerCase()]=X.toLowerCase(),ae["Webkit"+M]="webkit"+X,ae["Moz"+M]="moz"+X,ae}var Wt={animationend:Xt("Animation","AnimationEnd"),animationiteration:Xt("Animation","AnimationIteration"),animationstart:Xt("Animation","AnimationStart"),transitionrun:Xt("Transition","TransitionRun"),transitionstart:Xt("Transition","TransitionStart"),transitioncancel:Xt("Transition","TransitionCancel"),transitionend:Xt("Transition","TransitionEnd")},Un={},In={};Er&&(In=document.createElement("div").style,"AnimationEvent"in window||(delete Wt.animationend.animation,delete Wt.animationiteration.animation,delete Wt.animationstart.animation),"TransitionEvent"in window||delete Wt.transitionend.transition);function Lr(M){if(Un[M])return Un[M];if(!Wt[M])return M;var X=Wt[M],ae;for(ae in X)if(X.hasOwnProperty(ae)&&ae in In)return Un[M]=X[ae];return M}var Bs=Lr("animationend"),cs=Lr("animationiteration"),hr=Lr("animationstart"),rs=Lr("transitionrun"),gs=Lr("transitionstart"),na=Lr("transitioncancel"),Ti=Lr("transitionend"),Tl=new Map,Po="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Po.push("scrollEnd");function ai(M,X){Tl.set(M,X),Gn(X,[M])}var Rl=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ws=[],to=0,jc=0;function Il(){for(var M=to,X=jc=to=0;X<M;){var ae=Ws[X];Ws[X++]=null;var ye=Ws[X];Ws[X++]=null;var Ve=Ws[X];Ws[X++]=null;var Ke=Ws[X];if(Ws[X++]=null,ye!==null&&Ve!==null){var rt=ye.pending;rt===null?Ve.next=Ve:(Ve.next=rt.next,rt.next=Ve),ye.pending=Ve}Ke!==0&&Ru(ae,Ve,Ke)}}function Fl(M,X,ae,ye){Ws[to++]=M,Ws[to++]=X,Ws[to++]=ae,Ws[to++]=ye,jc|=ye,M.lanes|=ye,M=M.alternate,M!==null&&(M.lanes|=ye)}function $c(M,X,ae,ye){return Fl(M,X,ae,ye),kl(M)}function ka(M,X){return Fl(M,null,null,X),kl(M)}function Ru(M,X,ae){M.lanes|=ae;var ye=M.alternate;ye!==null&&(ye.lanes|=ae);for(var Ve=!1,Ke=M.return;Ke!==null;)Ke.childLanes|=ae,ye=Ke.alternate,ye!==null&&(ye.childLanes|=ae),Ke.tag===22&&(M=Ke.stateNode,M===null||M._visibility&1||(Ve=!0)),M=Ke,Ke=Ke.return;return M.tag===3?(Ke=M.stateNode,Ve&&X!==null&&(Ve=31-Bn(ae),M=Ke.hiddenUpdates,ye=M[Ve],ye===null?M[Ve]=[X]:ye.push(X),X.lane=ae|536870912),Ke):null}function kl(M){if(50<al)throw al=0,YA=null,Error(b(185));for(var X=M.return;X!==null;)M=X,X=M.return;return M.tag===3?M.stateNode:null}var no={};function Ph(M,X,ae,ye){this.tag=M,this.key=ae,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=X,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ye,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ps(M,X,ae,ye){return new Ph(M,X,ae,ye)}function Uc(M){return M=M.prototype,!(!M||!M.isReactComponent)}function Ri(M,X){var ae=M.alternate;return ae===null?(ae=Ps(M.tag,X,M.key,M.mode),ae.elementType=M.elementType,ae.type=M.type,ae.stateNode=M.stateNode,ae.alternate=M,M.alternate=ae):(ae.pendingProps=X,ae.type=M.type,ae.flags=0,ae.subtreeFlags=0,ae.deletions=null),ae.flags=M.flags&65011712,ae.childLanes=M.childLanes,ae.lanes=M.lanes,ae.child=M.child,ae.memoizedProps=M.memoizedProps,ae.memoizedState=M.memoizedState,ae.updateQueue=M.updateQueue,X=M.dependencies,ae.dependencies=X===null?null:{lanes:X.lanes,firstContext:X.firstContext},ae.sibling=M.sibling,ae.index=M.index,ae.ref=M.ref,ae.refCleanup=M.refCleanup,ae}function Iu(M,X){M.flags&=65011714;var ae=M.alternate;return ae===null?(M.childLanes=0,M.lanes=X,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=ae.childLanes,M.lanes=ae.lanes,M.child=ae.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=ae.memoizedProps,M.memoizedState=ae.memoizedState,M.updateQueue=ae.updateQueue,M.type=ae.type,X=ae.dependencies,M.dependencies=X===null?null:{lanes:X.lanes,firstContext:X.firstContext}),M}function Ml(M,X,ae,ye,Ve,Ke){var rt=0;if(ye=M,typeof M=="function")Uc(M)&&(rt=1);else if(typeof M=="string")rt=zp(M,ae,Et.current)?26:M==="html"||M==="head"||M==="body"?27:5;else e:switch(M){case Je:return M=Ps(31,ae,X,Ve),M.elementType=Je,M.lanes=Ke,M;case _e:return Ma(ae.children,Ve,Ke,X);case Ue:rt=8,Ve|=24;break;case Le:return M=Ps(12,ae,X,Ve|2),M.elementType=Le,M.lanes=Ke,M;case Qe:return M=Ps(13,ae,X,Ve),M.elementType=Qe,M.lanes=Ke,M;case We:return M=Ps(19,ae,X,Ve),M.elementType=We,M.lanes=Ke,M;default:if(typeof M=="object"&&M!==null)switch(M.$$typeof){case $e:rt=10;break e;case He:rt=9;break e;case Ne:rt=11;break e;case Ge:rt=14;break e;case Xe:rt=16,ye=null;break e}rt=29,ae=Error(b(130,M===null?"null":typeof M,"")),ye=null}return X=Ps(rt,ae,X,Ve),X.elementType=M,X.type=ye,X.lanes=Ke,X}function Ma(M,X,ae,ye){return M=Ps(7,M,ye,X),M.lanes=ae,M}function Hc(M,X,ae){return M=Ps(6,M,null,X),M.lanes=ae,M}function Nu(M){var X=Ps(18,null,null,0);return X.stateNode=M,X}function Qc(M,X,ae){return X=Ps(4,M.children!==null?M.children:[],M.key,X),X.lanes=ae,X.stateNode={containerInfo:M.containerInfo,pendingChildren:null,implementation:M.implementation},X}var Fu=new WeakMap;function qs(M,X){if(typeof M=="object"&&M!==null){var ae=Fu.get(M);return ae!==void 0?ae:(X={value:M,source:X,stack:Tn(X)},Fu.set(M,X),X)}return{value:M,source:X,stack:Tn(X)}}var ro=[],so=0,Dl=null,jo=0,Xs=[],Ys=0,ra=null,mi=1,gi="";function Ii(M,X){ro[so++]=jo,ro[so++]=Dl,Dl=M,jo=X}function ku(M,X,ae){Xs[Ys++]=mi,Xs[Ys++]=gi,Xs[Ys++]=ra,ra=M;var ye=mi;M=gi;var Ve=32-Bn(ye)-1;ye&=~(1<<Ve),ae+=1;var Ke=32-Bn(X)+Ve;if(30<Ke){var rt=Ve-Ve%5;Ke=(ye&(1<<rt)-1).toString(32),ye>>=rt,Ve-=rt,mi=1<<32-Bn(X)+Ve|ae<<Ve|ye,gi=Ke+M}else mi=1<<Ke|ae<<Ve|ye,gi=M}function Vc(M){M.return!==null&&(Ii(M,1),ku(M,1,0))}function zc(M){for(;M===Dl;)Dl=ro[--so],ro[so]=null,jo=ro[--so],ro[so]=null;for(;M===ra;)ra=Xs[--Ys],Xs[Ys]=null,gi=Xs[--Ys],Xs[Ys]=null,mi=Xs[--Ys],Xs[Ys]=null}function Mu(M,X){Xs[Ys++]=mi,Xs[Ys++]=gi,Xs[Ys++]=ra,mi=X.id,gi=X.overflow,ra=M}var As=null,Tr=null,rr=!1,sa=null,Js=!1,Gc=Error(b(519));function ia(M){var X=Error(b(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $o(qs(X,M)),Gc}function Du(M){var X=M.stateNode,ae=M.type,ye=M.memoizedProps;switch(X[nn]=M,X[en]=ye,ae){case"dialog":Wn("cancel",X),Wn("close",X);break;case"iframe":case"object":case"embed":Wn("load",X);break;case"video":case"audio":for(ae=0;ae<ll.length;ae++)Wn(ll[ae],X);break;case"source":Wn("error",X);break;case"img":case"image":case"link":Wn("error",X),Wn("load",X);break;case"details":Wn("toggle",X);break;case"input":Wn("invalid",X),Ft(X,ye.value,ye.defaultValue,ye.checked,ye.defaultChecked,ye.type,ye.name,!0);break;case"select":Wn("invalid",X);break;case"textarea":Wn("invalid",X),ps(X,ye.value,ye.defaultValue,ye.children)}ae=ye.children,typeof ae!="string"&&typeof ae!="number"&&typeof ae!="bigint"||X.textContent===""+ae||ye.suppressHydrationWarning===!0||Zf(X.textContent,ae)?(ye.popover!=null&&(Wn("beforetoggle",X),Wn("toggle",X)),ye.onScroll!=null&&Wn("scroll",X),ye.onScrollEnd!=null&&Wn("scrollend",X),ye.onClick!=null&&(X.onclick=bs),X=!0):X=!1,X||ia(M,!0)}function Ou(M){for(As=M.return;As;)switch(As.tag){case 5:case 31:case 13:Js=!1;return;case 27:case 3:Js=!0;return;default:As=As.return}}function io(M){if(M!==As)return!1;if(!rr)return Ou(M),rr=!0,!1;var X=M.tag,ae;if((ae=X!==3&&X!==27)&&((ae=X===5)&&(ae=M.type,ae=!(ae!=="form"&&ae!=="button")||du(M.type,M.memoizedProps)),ae=!ae),ae&&Tr&&ia(M),Ou(M),X===13){if(M=M.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(b(317));Tr=lh(M)}else if(X===31){if(M=M.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(b(317));Tr=lh(M)}else X===27?(X=Tr,ya(M.type)?(M=gu,gu=null,Tr=M):Tr=X):Tr=As?ei(M.stateNode.nextSibling):null;return!0}function Da(){Tr=As=null,rr=!1}function Kc(){var M=sa;return M!==null&&(Is===null?Is=M:Is.push.apply(Is,M),sa=null),M}function $o(M){sa===null?sa=[M]:sa.push(M)}var Wc=st(null),Oa=null,Ni=null;function aa(M,X,ae){vt(Wc,X._currentValue),X._currentValue=ae}function Fi(M){M._currentValue=Wc.current,ht(Wc)}function qc(M,X,ae){for(;M!==null;){var ye=M.alternate;if((M.childLanes&X)!==X?(M.childLanes|=X,ye!==null&&(ye.childLanes|=X)):ye!==null&&(ye.childLanes&X)!==X&&(ye.childLanes|=X),M===ae)break;M=M.return}}function Xc(M,X,ae,ye){var Ve=M.child;for(Ve!==null&&(Ve.return=M);Ve!==null;){var Ke=Ve.dependencies;if(Ke!==null){var rt=Ve.child;Ke=Ke.firstContext;e:for(;Ke!==null;){var dt=Ke;Ke=Ve;for(var wt=0;wt<X.length;wt++)if(dt.context===X[wt]){Ke.lanes|=ae,dt=Ke.alternate,dt!==null&&(dt.lanes|=ae),qc(Ke.return,ae,M),ye||(rt=null);break e}Ke=dt.next}}else if(Ve.tag===18){if(rt=Ve.return,rt===null)throw Error(b(341));rt.lanes|=ae,Ke=rt.alternate,Ke!==null&&(Ke.lanes|=ae),qc(rt,ae,M),rt=null}else rt=Ve.child;if(rt!==null)rt.return=Ve;else for(rt=Ve;rt!==null;){if(rt===M){rt=null;break}if(Ve=rt.sibling,Ve!==null){Ve.return=rt.return,rt=Ve;break}rt=rt.return}Ve=rt}}function ao(M,X,ae,ye){M=null;for(var Ve=X,Ke=!1;Ve!==null;){if(!Ke){if((Ve.flags&524288)!==0)Ke=!0;else if((Ve.flags&262144)!==0)break}if(Ve.tag===10){var rt=Ve.alternate;if(rt===null)throw Error(b(387));if(rt=rt.memoizedProps,rt!==null){var dt=Ve.type;Be(Ve.pendingProps.value,rt.value)||(M!==null?M.push(dt):M=[dt])}}else if(Ve===Ut.current){if(rt=Ve.alternate,rt===null)throw Error(b(387));rt.memoizedState.memoizedState!==Ve.memoizedState.memoizedState&&(M!==null?M.push(fl):M=[fl])}Ve=Ve.return}M!==null&&Xc(X,M,ae,ye),X.flags|=262144}function Ol(M){for(M=M.firstContext;M!==null;){if(!Be(M.context._currentValue,M.memoizedValue))return!0;M=M.next}return!1}function La(M){Oa=M,Ni=null,M=M.dependencies,M!==null&&(M.firstContext=null)}function us(M){return Lu(Oa,M)}function Ll(M,X){return Oa===null&&La(M),Lu(M,X)}function Lu(M,X){var ae=X._currentValue;if(X={context:X,memoizedValue:ae,next:null},Ni===null){if(M===null)throw Error(b(308));Ni=X,M.dependencies={lanes:0,firstContext:X},M.flags|=524288}else Ni=Ni.next=X;return ae}var jh=typeof AbortController<"u"?AbortController:function(){var M=[],X=this.signal={aborted:!1,addEventListener:function(ae,ye){M.push(ye)}};this.abort=function(){X.aborted=!0,M.forEach(function(ae){return ae()})}},$h=r.unstable_scheduleCallback,Uh=r.unstable_NormalPriority,Kr={$$typeof:$e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new jh,data:new Map,refCount:0}}function Uo(M){M.refCount--,M.refCount===0&&$h(Uh,function(){M.controller.abort()})}var Ho=null,Jc=0,oo=0,lo=null;function Hh(M,X){if(Ho===null){var ae=Ho=[];Jc=0,oo=ru(),lo={status:"pending",value:void 0,then:function(ye){ae.push(ye)}}}return Jc++,X.then(Pu,Pu),X}function Pu(){if(--Jc===0&&Ho!==null){lo!==null&&(lo.status="fulfilled");var M=Ho;Ho=null,oo=0,lo=null;for(var X=0;X<M.length;X++)(0,M[X])()}}function Qh(M,X){var ae=[],ye={status:"pending",value:null,reason:null,then:function(Ve){ae.push(Ve)}};return M.then(function(){ye.status="fulfilled",ye.value=X;for(var Ve=0;Ve<ae.length;Ve++)(0,ae[Ve])(X)},function(Ve){for(ye.status="rejected",ye.reason=Ve,Ve=0;Ve<ae.length;Ve++)(0,ae[Ve])(void 0)}),ye}var ju=Ze.S;Ze.S=function(M,X){wf=Kt(),typeof X=="object"&&X!==null&&typeof X.then=="function"&&Hh(M,X),ju!==null&&ju(M,X)};var Pa=st(null);function Zc(){var M=Pa.current;return M!==null?M:wr.pooledCache}function Pl(M,X){X===null?vt(Pa,Pa.current):vt(Pa,X.pool)}function $u(){var M=Zc();return M===null?null:{parent:Kr._currentValue,pool:M}}var co=Error(b(460)),eA=Error(b(474)),jl=Error(b(542)),$l={then:function(){}};function Uu(M){return M=M.status,M==="fulfilled"||M==="rejected"}function Hu(M,X,ae){switch(ae=M[ae],ae===void 0?M.push(X):ae!==X&&(X.then(bs,bs),X=ae),X.status){case"fulfilled":return X.value;case"rejected":throw M=X.reason,Vu(M),M;default:if(typeof X.status=="string")X.then(bs,bs);else{if(M=wr,M!==null&&100<M.shellSuspendCounter)throw Error(b(482));M=X,M.status="pending",M.then(function(ye){if(X.status==="pending"){var Ve=X;Ve.status="fulfilled",Ve.value=ye}},function(ye){if(X.status==="pending"){var Ve=X;Ve.status="rejected",Ve.reason=ye}})}switch(X.status){case"fulfilled":return X.value;case"rejected":throw M=X.reason,Vu(M),M}throw $a=X,co}}function ja(M){try{var X=M._init;return X(M._payload)}catch(ae){throw ae!==null&&typeof ae=="object"&&typeof ae.then=="function"?($a=ae,co):ae}}var $a=null;function Qu(){if($a===null)throw Error(b(459));var M=$a;return $a=null,M}function Vu(M){if(M===co||M===jl)throw Error(b(483))}var Ao=null,Qo=0;function Ul(M){var X=Qo;return Qo+=1,Ao===null&&(Ao=[]),Hu(Ao,M,X)}function Vo(M,X){X=X.props.ref,M.ref=X!==void 0?X:null}function Hl(M,X){throw X.$$typeof===oe?Error(b(525)):(M=Object.prototype.toString.call(X),Error(b(31,M==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":M)))}function zu(M){function X(It,Bt){if(M){var kt=It.deletions;kt===null?(It.deletions=[Bt],It.flags|=16):kt.push(Bt)}}function ae(It,Bt){if(!M)return null;for(;Bt!==null;)X(It,Bt),Bt=Bt.sibling;return null}function ye(It){for(var Bt=new Map;It!==null;)It.key!==null?Bt.set(It.key,It):Bt.set(It.index,It),It=It.sibling;return Bt}function Ve(It,Bt){return It=Ri(It,Bt),It.index=0,It.sibling=null,It}function Ke(It,Bt,kt){return It.index=kt,M?(kt=It.alternate,kt!==null?(kt=kt.index,kt<Bt?(It.flags|=67108866,Bt):kt):(It.flags|=67108866,Bt)):(It.flags|=1048576,Bt)}function rt(It){return M&&It.alternate===null&&(It.flags|=67108866),It}function dt(It,Bt,kt,Qt){return Bt===null||Bt.tag!==6?(Bt=Hc(kt,It.mode,Qt),Bt.return=It,Bt):(Bt=Ve(Bt,kt),Bt.return=It,Bt)}function wt(It,Bt,kt,Qt){var xn=kt.type;return xn===_e?Ht(It,Bt,kt.props.children,Qt,kt.key):Bt!==null&&(Bt.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===Xe&&ja(xn)===Bt.type)?(Bt=Ve(Bt,kt.props),Vo(Bt,kt),Bt.return=It,Bt):(Bt=Ml(kt.type,kt.key,kt.props,null,It.mode,Qt),Vo(Bt,kt),Bt.return=It,Bt)}function Mt(It,Bt,kt,Qt){return Bt===null||Bt.tag!==4||Bt.stateNode.containerInfo!==kt.containerInfo||Bt.stateNode.implementation!==kt.implementation?(Bt=Qc(kt,It.mode,Qt),Bt.return=It,Bt):(Bt=Ve(Bt,kt.children||[]),Bt.return=It,Bt)}function Ht(It,Bt,kt,Qt,xn){return Bt===null||Bt.tag!==7?(Bt=Ma(kt,It.mode,Qt,xn),Bt.return=It,Bt):(Bt=Ve(Bt,kt),Bt.return=It,Bt)}function Vt(It,Bt,kt){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number"||typeof Bt=="bigint")return Bt=Hc(""+Bt,It.mode,kt),Bt.return=It,Bt;if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case pe:return kt=Ml(Bt.type,Bt.key,Bt.props,null,It.mode,kt),Vo(kt,Bt),kt.return=It,kt;case xe:return Bt=Qc(Bt,It.mode,kt),Bt.return=It,Bt;case Xe:return Bt=ja(Bt),Vt(It,Bt,kt)}if(lt(Bt)||ct(Bt))return Bt=Ma(Bt,It.mode,kt,null),Bt.return=It,Bt;if(typeof Bt.then=="function")return Vt(It,Ul(Bt),kt);if(Bt.$$typeof===$e)return Vt(It,Ll(It,Bt),kt);Hl(It,Bt)}return null}function Dt(It,Bt,kt,Qt){var xn=Bt!==null?Bt.key:null;if(typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint")return xn!==null?null:dt(It,Bt,""+kt,Qt);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case pe:return kt.key===xn?wt(It,Bt,kt,Qt):null;case xe:return kt.key===xn?Mt(It,Bt,kt,Qt):null;case Xe:return kt=ja(kt),Dt(It,Bt,kt,Qt)}if(lt(kt)||ct(kt))return xn!==null?null:Ht(It,Bt,kt,Qt,null);if(typeof kt.then=="function")return Dt(It,Bt,Ul(kt),Qt);if(kt.$$typeof===$e)return Dt(It,Bt,Ll(It,kt),Qt);Hl(It,kt)}return null}function jt(It,Bt,kt,Qt,xn){if(typeof Qt=="string"&&Qt!==""||typeof Qt=="number"||typeof Qt=="bigint")return It=It.get(kt)||null,dt(Bt,It,""+Qt,xn);if(typeof Qt=="object"&&Qt!==null){switch(Qt.$$typeof){case pe:return It=It.get(Qt.key===null?kt:Qt.key)||null,wt(Bt,It,Qt,xn);case xe:return It=It.get(Qt.key===null?kt:Qt.key)||null,Mt(Bt,It,Qt,xn);case Xe:return Qt=ja(Qt),jt(It,Bt,kt,Qt,xn)}if(lt(Qt)||ct(Qt))return It=It.get(kt)||null,Ht(Bt,It,Qt,xn,null);if(typeof Qt.then=="function")return jt(It,Bt,kt,Ul(Qt),xn);if(Qt.$$typeof===$e)return jt(It,Bt,kt,Ll(Bt,Qt),xn);Hl(Bt,Qt)}return null}function An(It,Bt,kt,Qt){for(var xn=null,ir=null,mn=Bt,On=Bt=0,Jn=null;mn!==null&&On<kt.length;On++){mn.index>On?(Jn=mn,mn=null):Jn=mn.sibling;var ar=Dt(It,mn,kt[On],Qt);if(ar===null){mn===null&&(mn=Jn);break}M&&mn&&ar.alternate===null&&X(It,mn),Bt=Ke(ar,Bt,On),ir===null?xn=ar:ir.sibling=ar,ir=ar,mn=Jn}if(On===kt.length)return ae(It,mn),rr&&Ii(It,On),xn;if(mn===null){for(;On<kt.length;On++)mn=Vt(It,kt[On],Qt),mn!==null&&(Bt=Ke(mn,Bt,On),ir===null?xn=mn:ir.sibling=mn,ir=mn);return rr&&Ii(It,On),xn}for(mn=ye(mn);On<kt.length;On++)Jn=jt(mn,It,On,kt[On],Qt),Jn!==null&&(M&&Jn.alternate!==null&&mn.delete(Jn.key===null?On:Jn.key),Bt=Ke(Jn,Bt,On),ir===null?xn=Jn:ir.sibling=Jn,ir=Jn);return M&&mn.forEach(function(ba){return X(It,ba)}),rr&&Ii(It,On),xn}function bn(It,Bt,kt,Qt){if(kt==null)throw Error(b(151));for(var xn=null,ir=null,mn=Bt,On=Bt=0,Jn=null,ar=kt.next();mn!==null&&!ar.done;On++,ar=kt.next()){mn.index>On?(Jn=mn,mn=null):Jn=mn.sibling;var ba=Dt(It,mn,ar.value,Qt);if(ba===null){mn===null&&(mn=Jn);break}M&&mn&&ba.alternate===null&&X(It,mn),Bt=Ke(ba,Bt,On),ir===null?xn=ba:ir.sibling=ba,ir=ba,mn=Jn}if(ar.done)return ae(It,mn),rr&&Ii(It,On),xn;if(mn===null){for(;!ar.done;On++,ar=kt.next())ar=Vt(It,ar.value,Qt),ar!==null&&(Bt=Ke(ar,Bt,On),ir===null?xn=ar:ir.sibling=ar,ir=ar);return rr&&Ii(It,On),xn}for(mn=ye(mn);!ar.done;On++,ar=kt.next())ar=jt(mn,It,On,ar.value,Qt),ar!==null&&(M&&ar.alternate!==null&&mn.delete(ar.key===null?On:ar.key),Bt=Ke(ar,Bt,On),ir===null?xn=ar:ir.sibling=ar,ir=ar);return M&&mn.forEach(function(sm){return X(It,sm)}),rr&&Ii(It,On),xn}function yr(It,Bt,kt,Qt){if(typeof kt=="object"&&kt!==null&&kt.type===_e&&kt.key===null&&(kt=kt.props.children),typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case pe:e:{for(var xn=kt.key;Bt!==null;){if(Bt.key===xn){if(xn=kt.type,xn===_e){if(Bt.tag===7){ae(It,Bt.sibling),Qt=Ve(Bt,kt.props.children),Qt.return=It,It=Qt;break e}}else if(Bt.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===Xe&&ja(xn)===Bt.type){ae(It,Bt.sibling),Qt=Ve(Bt,kt.props),Vo(Qt,kt),Qt.return=It,It=Qt;break e}ae(It,Bt);break}else X(It,Bt);Bt=Bt.sibling}kt.type===_e?(Qt=Ma(kt.props.children,It.mode,Qt,kt.key),Qt.return=It,It=Qt):(Qt=Ml(kt.type,kt.key,kt.props,null,It.mode,Qt),Vo(Qt,kt),Qt.return=It,It=Qt)}return rt(It);case xe:e:{for(xn=kt.key;Bt!==null;){if(Bt.key===xn)if(Bt.tag===4&&Bt.stateNode.containerInfo===kt.containerInfo&&Bt.stateNode.implementation===kt.implementation){ae(It,Bt.sibling),Qt=Ve(Bt,kt.children||[]),Qt.return=It,It=Qt;break e}else{ae(It,Bt);break}else X(It,Bt);Bt=Bt.sibling}Qt=Qc(kt,It.mode,Qt),Qt.return=It,It=Qt}return rt(It);case Xe:return kt=ja(kt),yr(It,Bt,kt,Qt)}if(lt(kt))return An(It,Bt,kt,Qt);if(ct(kt)){if(xn=ct(kt),typeof xn!="function")throw Error(b(150));return kt=xn.call(kt),bn(It,Bt,kt,Qt)}if(typeof kt.then=="function")return yr(It,Bt,Ul(kt),Qt);if(kt.$$typeof===$e)return yr(It,Bt,Ll(It,kt),Qt);Hl(It,kt)}return typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint"?(kt=""+kt,Bt!==null&&Bt.tag===6?(ae(It,Bt.sibling),Qt=Ve(Bt,kt),Qt.return=It,It=Qt):(ae(It,Bt),Qt=Hc(kt,It.mode,Qt),Qt.return=It,It=Qt),rt(It)):ae(It,Bt)}return function(It,Bt,kt,Qt){try{Qo=0;var xn=yr(It,Bt,kt,Qt);return Ao=null,xn}catch(mn){if(mn===co||mn===jl)throw mn;var ir=Ps(29,mn,null,It.mode);return ir.lanes=Qt,ir.return=It,ir}finally{}}}var Ua=zu(!0),Gu=zu(!1),oa=!1;function tA(M){M.updateQueue={baseState:M.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nA(M,X){M=M.updateQueue,X.updateQueue===M&&(X.updateQueue={baseState:M.baseState,firstBaseUpdate:M.firstBaseUpdate,lastBaseUpdate:M.lastBaseUpdate,shared:M.shared,callbacks:null})}function la(M){return{lane:M,tag:0,payload:null,callback:null,next:null}}function ca(M,X,ae){var ye=M.updateQueue;if(ye===null)return null;if(ye=ye.shared,(Ar&2)!==0){var Ve=ye.pending;return Ve===null?X.next=X:(X.next=Ve.next,Ve.next=X),ye.pending=X,X=kl(M),Ru(M,null,ae),X}return Fl(M,ye,X,ae),kl(M)}function zo(M,X,ae){if(X=X.updateQueue,X!==null&&(X=X.shared,(ae&4194048)!==0)){var ye=X.lanes;ye&=M.pendingLanes,ae|=ye,X.lanes=ae,Tt(M,ae)}}function rA(M,X){var ae=M.updateQueue,ye=M.alternate;if(ye!==null&&(ye=ye.updateQueue,ae===ye)){var Ve=null,Ke=null;if(ae=ae.firstBaseUpdate,ae!==null){do{var rt={lane:ae.lane,tag:ae.tag,payload:ae.payload,callback:null,next:null};Ke===null?Ve=Ke=rt:Ke=Ke.next=rt,ae=ae.next}while(ae!==null);Ke===null?Ve=Ke=X:Ke=Ke.next=X}else Ve=Ke=X;ae={baseState:ye.baseState,firstBaseUpdate:Ve,lastBaseUpdate:Ke,shared:ye.shared,callbacks:ye.callbacks},M.updateQueue=ae;return}M=ae.lastBaseUpdate,M===null?ae.firstBaseUpdate=X:M.next=X,ae.lastBaseUpdate=X}var sA=!1;function Go(){if(sA){var M=lo;if(M!==null)throw M}}function Ko(M,X,ae,ye){sA=!1;var Ve=M.updateQueue;oa=!1;var Ke=Ve.firstBaseUpdate,rt=Ve.lastBaseUpdate,dt=Ve.shared.pending;if(dt!==null){Ve.shared.pending=null;var wt=dt,Mt=wt.next;wt.next=null,rt===null?Ke=Mt:rt.next=Mt,rt=wt;var Ht=M.alternate;Ht!==null&&(Ht=Ht.updateQueue,dt=Ht.lastBaseUpdate,dt!==rt&&(dt===null?Ht.firstBaseUpdate=Mt:dt.next=Mt,Ht.lastBaseUpdate=wt))}if(Ke!==null){var Vt=Ve.baseState;rt=0,Ht=Mt=wt=null,dt=Ke;do{var Dt=dt.lane&-536870913,jt=Dt!==dt.lane;if(jt?(Yn&Dt)===Dt:(ye&Dt)===Dt){Dt!==0&&Dt===oo&&(sA=!0),Ht!==null&&(Ht=Ht.next={lane:0,tag:dt.tag,payload:dt.payload,callback:null,next:null});e:{var An=M,bn=dt;Dt=X;var yr=ae;switch(bn.tag){case 1:if(An=bn.payload,typeof An=="function"){Vt=An.call(yr,Vt,Dt);break e}Vt=An;break e;case 3:An.flags=An.flags&-65537|128;case 0:if(An=bn.payload,Dt=typeof An=="function"?An.call(yr,Vt,Dt):An,Dt==null)break e;Vt=ne({},Vt,Dt);break e;case 2:oa=!0}}Dt=dt.callback,Dt!==null&&(M.flags|=64,jt&&(M.flags|=8192),jt=Ve.callbacks,jt===null?Ve.callbacks=[Dt]:jt.push(Dt))}else jt={lane:Dt,tag:dt.tag,payload:dt.payload,callback:dt.callback,next:null},Ht===null?(Mt=Ht=jt,wt=Vt):Ht=Ht.next=jt,rt|=Dt;if(dt=dt.next,dt===null){if(dt=Ve.shared.pending,dt===null)break;jt=dt,dt=jt.next,jt.next=null,Ve.lastBaseUpdate=jt,Ve.shared.pending=null}}while(!0);Ht===null&&(wt=Vt),Ve.baseState=wt,Ve.firstBaseUpdate=Mt,Ve.lastBaseUpdate=Ht,Ke===null&&(Ve.shared.lanes=0),ha|=rt,M.lanes=rt,M.memoizedState=Vt}}function Ku(M,X){if(typeof M!="function")throw Error(b(191,M));M.call(X)}function Wu(M,X){var ae=M.callbacks;if(ae!==null)for(M.callbacks=null,M=0;M<ae.length;M++)Ku(ae[M],X)}var uo=st(null),Ql=st(0);function qu(M,X){M=Ui,vt(Ql,M),vt(uo,X),Ui=M|X.baseLanes}function iA(){vt(Ql,Ui),vt(uo,uo.current)}function aA(){Ui=Ql.current,ht(uo),ht(Ql)}var js=st(null),Zs=null;function Aa(M){var X=M.alternate;vt(Hr,Hr.current&1),vt(js,M),Zs===null&&(X===null||uo.current!==null||X.memoizedState!==null)&&(Zs=M)}function oA(M){vt(Hr,Hr.current),vt(js,M),Zs===null&&(Zs=M)}function Xu(M){M.tag===22?(vt(Hr,Hr.current),vt(js,M),Zs===null&&(Zs=M)):ua()}function ua(){vt(Hr,Hr.current),vt(js,js.current)}function $s(M){ht(js),Zs===M&&(Zs=null),ht(Hr)}var Hr=st(0);function Vl(M){for(var X=M;X!==null;){if(X.tag===13){var ae=X.memoizedState;if(ae!==null&&(ae=ae.dehydrated,ae===null||pu(ae)||mu(ae)))return X}else if(X.tag===19&&(X.memoizedProps.revealOrder==="forwards"||X.memoizedProps.revealOrder==="backwards"||X.memoizedProps.revealOrder==="unstable_legacy-backwards"||X.memoizedProps.revealOrder==="together")){if((X.flags&128)!==0)return X}else if(X.child!==null){X.child.return=X,X=X.child;continue}if(X===M)break;for(;X.sibling===null;){if(X.return===null||X.return===M)return null;X=X.return}X.sibling.return=X.return,X=X.sibling}return null}var ki=0,Mn=null,gr=null,Wr=null,zl=!1,fo=!1,Ha=!1,Gl=0,Wo=0,ho=null,Vh=0;function Pr(){throw Error(b(321))}function lA(M,X){if(X===null)return!1;for(var ae=0;ae<X.length&&ae<M.length;ae++)if(!Be(M[ae],X[ae]))return!1;return!0}function cA(M,X,ae,ye,Ve,Ke){return ki=Ke,Mn=X,X.memoizedState=null,X.updateQueue=null,X.lanes=0,Ze.H=M===null||M.memoizedState===null?kd:bA,Ha=!1,Ke=ae(ye,Ve),Ha=!1,fo&&(Ke=Ju(X,ae,ye,Ve)),Yu(M),Ke}function Yu(M){Ze.H=Yo;var X=gr!==null&&gr.next!==null;if(ki=0,Wr=gr=Mn=null,zl=!1,Wo=0,ho=null,X)throw Error(b(300));M===null||qr||(M=M.dependencies,M!==null&&Ol(M)&&(qr=!0))}function Ju(M,X,ae,ye){Mn=M;var Ve=0;do{if(fo&&(ho=null),Wo=0,fo=!1,25<=Ve)throw Error(b(301));if(Ve+=1,Wr=gr=null,M.updateQueue!=null){var Ke=M.updateQueue;Ke.lastEffect=null,Ke.events=null,Ke.stores=null,Ke.memoCache!=null&&(Ke.memoCache.index=0)}Ze.H=Md,Ke=X(ae,ye)}while(fo);return Ke}function zh(){var M=Ze.H,X=M.useState()[0];return X=typeof X.then=="function"?qo(X):X,M=M.useState()[0],(gr!==null?gr.memoizedState:null)!==M&&(Mn.flags|=1024),X}function AA(){var M=Gl!==0;return Gl=0,M}function uA(M,X,ae){X.updateQueue=M.updateQueue,X.flags&=-2053,M.lanes&=~ae}function dA(M){if(zl){for(M=M.memoizedState;M!==null;){var X=M.queue;X!==null&&(X.pending=null),M=M.next}zl=!1}ki=0,Wr=gr=Mn=null,fo=!1,Wo=Gl=0,ho=null}function xs(){var M={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?Mn.memoizedState=Wr=M:Wr=Wr.next=M,Wr}function Qr(){if(gr===null){var M=Mn.alternate;M=M!==null?M.memoizedState:null}else M=gr.next;var X=Wr===null?Mn.memoizedState:Wr.next;if(X!==null)Wr=X,gr=M;else{if(M===null)throw Mn.alternate===null?Error(b(467)):Error(b(310));gr=M,M={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Wr===null?Mn.memoizedState=Wr=M:Wr=Wr.next=M}return Wr}function Kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(M){var X=Wo;return Wo+=1,ho===null&&(ho=[]),M=Hu(ho,M,X),X=Mn,(Wr===null?X.memoizedState:Wr.next)===null&&(X=X.alternate,Ze.H=X===null||X.memoizedState===null?kd:bA),M}function Wl(M){if(M!==null&&typeof M=="object"){if(typeof M.then=="function")return qo(M);if(M.$$typeof===$e)return us(M)}throw Error(b(438,String(M)))}function fA(M){var X=null,ae=Mn.updateQueue;if(ae!==null&&(X=ae.memoCache),X==null){var ye=Mn.alternate;ye!==null&&(ye=ye.updateQueue,ye!==null&&(ye=ye.memoCache,ye!=null&&(X={data:ye.data.map(function(Ve){return Ve.slice()}),index:0})))}if(X==null&&(X={data:[],index:0}),ae===null&&(ae=Kl(),Mn.updateQueue=ae),ae.memoCache=X,ae=X.data[X.index],ae===void 0)for(ae=X.data[X.index]=Array(M),ye=0;ye<M;ye++)ae[ye]=ut;return X.index++,ae}function Mi(M,X){return typeof X=="function"?X(M):X}function ql(M){var X=Qr();return hA(X,gr,M)}function hA(M,X,ae){var ye=M.queue;if(ye===null)throw Error(b(311));ye.lastRenderedReducer=ae;var Ve=M.baseQueue,Ke=ye.pending;if(Ke!==null){if(Ve!==null){var rt=Ve.next;Ve.next=Ke.next,Ke.next=rt}X.baseQueue=Ve=Ke,ye.pending=null}if(Ke=M.baseState,Ve===null)M.memoizedState=Ke;else{X=Ve.next;var dt=rt=null,wt=null,Mt=X,Ht=!1;do{var Vt=Mt.lane&-536870913;if(Vt!==Mt.lane?(Yn&Vt)===Vt:(ki&Vt)===Vt){var Dt=Mt.revertLane;if(Dt===0)wt!==null&&(wt=wt.next={lane:0,revertLane:0,gesture:null,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null}),Vt===oo&&(Ht=!0);else if((ki&Dt)===Dt){Mt=Mt.next,Dt===oo&&(Ht=!0);continue}else Vt={lane:0,revertLane:Mt.revertLane,gesture:null,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},wt===null?(dt=wt=Vt,rt=Ke):wt=wt.next=Vt,Mn.lanes|=Dt,ha|=Dt;Vt=Mt.action,Ha&&ae(Ke,Vt),Ke=Mt.hasEagerState?Mt.eagerState:ae(Ke,Vt)}else Dt={lane:Vt,revertLane:Mt.revertLane,gesture:Mt.gesture,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},wt===null?(dt=wt=Dt,rt=Ke):wt=wt.next=Dt,Mn.lanes|=Vt,ha|=Vt;Mt=Mt.next}while(Mt!==null&&Mt!==X);if(wt===null?rt=Ke:wt.next=dt,!Be(Ke,M.memoizedState)&&(qr=!0,Ht&&(ae=lo,ae!==null)))throw ae;M.memoizedState=Ke,M.baseState=rt,M.baseQueue=wt,ye.lastRenderedState=Ke}return Ve===null&&(ye.lanes=0),[M.memoizedState,ye.dispatch]}function pA(M){var X=Qr(),ae=X.queue;if(ae===null)throw Error(b(311));ae.lastRenderedReducer=M;var ye=ae.dispatch,Ve=ae.pending,Ke=X.memoizedState;if(Ve!==null){ae.pending=null;var rt=Ve=Ve.next;do Ke=M(Ke,rt.action),rt=rt.next;while(rt!==Ve);Be(Ke,X.memoizedState)||(qr=!0),X.memoizedState=Ke,X.baseQueue===null&&(X.baseState=Ke),ae.lastRenderedState=Ke}return[Ke,ye]}function Zu(M,X,ae){var ye=Mn,Ve=Qr(),Ke=rr;if(Ke){if(ae===void 0)throw Error(b(407));ae=ae()}else ae=X();var rt=!Be((gr||Ve).memoizedState,ae);if(rt&&(Ve.memoizedState=ae,qr=!0),Ve=Ve.queue,xA(nd.bind(null,ye,Ve,M),[M]),Ve.getSnapshot!==X||rt||Wr!==null&&Wr.memoizedState.tag&1){if(ye.flags|=2048,po(9,{destroy:void 0},td.bind(null,ye,Ve,ae,X),null),wr===null)throw Error(b(349));Ke||(ki&127)!==0||ed(ye,X,ae)}return ae}function ed(M,X,ae){M.flags|=16384,M={getSnapshot:X,value:ae},X=Mn.updateQueue,X===null?(X=Kl(),Mn.updateQueue=X,X.stores=[M]):(ae=X.stores,ae===null?X.stores=[M]:ae.push(M))}function td(M,X,ae,ye){X.value=ae,X.getSnapshot=ye,rd(X)&&sd(M)}function nd(M,X,ae){return ae(function(){rd(X)&&sd(M)})}function rd(M){var X=M.getSnapshot;M=M.value;try{var ae=X();return!Be(M,ae)}catch{return!0}}function sd(M){var X=ka(M,2);X!==null&&Ns(X,M,2)}function mA(M){var X=xs();if(typeof M=="function"){var ae=M;if(M=ae(),Ha){er(!0);try{ae()}finally{er(!1)}}}return X.memoizedState=X.baseState=M,X.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:M},X}function id(M,X,ae,ye){return M.baseState=ae,hA(M,gr,typeof ye=="function"?ye:Mi)}function Gh(M,X,ae,ye,Ve){if(Jl(M))throw Error(b(485));if(M=X.action,M!==null){var Ke={payload:Ve,action:M,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(rt){Ke.listeners.push(rt)}};Ze.T!==null?ae(!0):Ke.isTransition=!1,ye(Ke),ae=X.pending,ae===null?(Ke.next=X.pending=Ke,ad(X,Ke)):(Ke.next=ae.next,X.pending=ae.next=Ke)}}function ad(M,X){var ae=X.action,ye=X.payload,Ve=M.state;if(X.isTransition){var Ke=Ze.T,rt={};Ze.T=rt;try{var dt=ae(Ve,ye),wt=Ze.S;wt!==null&&wt(rt,dt),od(M,X,dt)}catch(Mt){gA(M,X,Mt)}finally{Ke!==null&&rt.types!==null&&(Ke.types=rt.types),Ze.T=Ke}}else try{Ke=ae(Ve,ye),od(M,X,Ke)}catch(Mt){gA(M,X,Mt)}}function od(M,X,ae){ae!==null&&typeof ae=="object"&&typeof ae.then=="function"?ae.then(function(ye){ld(M,X,ye)},function(ye){return gA(M,X,ye)}):ld(M,X,ae)}function ld(M,X,ae){X.status="fulfilled",X.value=ae,cd(X),M.state=ae,X=M.pending,X!==null&&(ae=X.next,ae===X?M.pending=null:(ae=ae.next,X.next=ae,ad(M,ae)))}function gA(M,X,ae){var ye=M.pending;if(M.pending=null,ye!==null){ye=ye.next;do X.status="rejected",X.reason=ae,cd(X),X=X.next;while(X!==ye)}M.action=null}function cd(M){M=M.listeners;for(var X=0;X<M.length;X++)(0,M[X])()}function Ad(M,X){return X}function ud(M,X){if(rr){var ae=wr.formState;if(ae!==null){e:{var ye=Mn;if(rr){if(Tr){t:{for(var Ve=Tr,Ke=Js;Ve.nodeType!==8;){if(!Ke){Ve=null;break t}if(Ve=ei(Ve.nextSibling),Ve===null){Ve=null;break t}}Ke=Ve.data,Ve=Ke==="F!"||Ke==="F"?Ve:null}if(Ve){Tr=ei(Ve.nextSibling),ye=Ve.data==="F!";break e}}ia(ye)}ye=!1}ye&&(X=ae[0])}}return ae=xs(),ae.memoizedState=ae.baseState=X,ye={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ad,lastRenderedState:X},ae.queue=ye,ae=Id.bind(null,Mn,ye),ye.dispatch=ae,ye=mA(!1),Ke=wA.bind(null,Mn,!1,ye.queue),ye=xs(),Ve={state:X,dispatch:null,action:M,pending:null},ye.queue=Ve,ae=Gh.bind(null,Mn,Ve,Ke,ae),Ve.dispatch=ae,ye.memoizedState=M,[X,ae,!1]}function dd(M){var X=Qr();return fd(X,gr,M)}function fd(M,X,ae){if(X=hA(M,X,Ad)[0],M=ql(Mi)[0],typeof X=="object"&&X!==null&&typeof X.then=="function")try{var ye=qo(X)}catch(rt){throw rt===co?jl:rt}else ye=X;X=Qr();var Ve=X.queue,Ke=Ve.dispatch;return ae!==X.memoizedState&&(Mn.flags|=2048,po(9,{destroy:void 0},Kh.bind(null,Ve,ae),null)),[ye,Ke,M]}function Kh(M,X){M.action=X}function hd(M){var X=Qr(),ae=gr;if(ae!==null)return fd(X,ae,M);Qr(),X=X.memoizedState,ae=Qr();var ye=ae.queue.dispatch;return ae.memoizedState=M,[X,ye,!1]}function po(M,X,ae,ye){return M={tag:M,create:ae,deps:ye,inst:X,next:null},X=Mn.updateQueue,X===null&&(X=Kl(),Mn.updateQueue=X),ae=X.lastEffect,ae===null?X.lastEffect=M.next=M:(ye=ae.next,ae.next=M,M.next=ye,X.lastEffect=M),M}function pd(){return Qr().memoizedState}function Xl(M,X,ae,ye){var Ve=xs();Mn.flags|=M,Ve.memoizedState=po(1|X,{destroy:void 0},ae,ye===void 0?null:ye)}function Yl(M,X,ae,ye){var Ve=Qr();ye=ye===void 0?null:ye;var Ke=Ve.memoizedState.inst;gr!==null&&ye!==null&&lA(ye,gr.memoizedState.deps)?Ve.memoizedState=po(X,Ke,ae,ye):(Mn.flags|=M,Ve.memoizedState=po(1|X,Ke,ae,ye))}function md(M,X){Xl(8390656,8,M,X)}function xA(M,X){Yl(2048,8,M,X)}function Wh(M){Mn.flags|=4;var X=Mn.updateQueue;if(X===null)X=Kl(),Mn.updateQueue=X,X.events=[M];else{var ae=X.events;ae===null?X.events=[M]:ae.push(M)}}function gd(M){var X=Qr().memoizedState;return Wh({ref:X,nextImpl:M}),function(){if((Ar&2)!==0)throw Error(b(440));return X.impl.apply(void 0,arguments)}}function xd(M,X){return Yl(4,2,M,X)}function yd(M,X){return Yl(4,4,M,X)}function vd(M,X){if(typeof X=="function"){M=M();var ae=X(M);return function(){typeof ae=="function"?ae():X(null)}}if(X!=null)return M=M(),X.current=M,function(){X.current=null}}function Ed(M,X,ae){ae=ae!=null?ae.concat([M]):null,Yl(4,4,vd.bind(null,X,M),ae)}function yA(){}function Cd(M,X){var ae=Qr();X=X===void 0?null:X;var ye=ae.memoizedState;return X!==null&&lA(X,ye[1])?ye[0]:(ae.memoizedState=[M,X],M)}function wd(M,X){var ae=Qr();X=X===void 0?null:X;var ye=ae.memoizedState;if(X!==null&&lA(X,ye[1]))return ye[0];if(ye=M(),Ha){er(!0);try{M()}finally{er(!1)}}return ae.memoizedState=[ye,X],ye}function vA(M,X,ae){return ae===void 0||(ki&1073741824)!==0&&(Yn&261930)===0?M.memoizedState=X:(M.memoizedState=ae,M=Sf(),Mn.lanes|=M,ha|=M,ae)}function bd(M,X,ae,ye){return Be(ae,X)?ae:uo.current!==null?(M=vA(M,ae,ye),Be(M,X)||(qr=!0),M):(ki&42)===0||(ki&1073741824)!==0&&(Yn&261930)===0?(qr=!0,M.memoizedState=ae):(M=Sf(),Mn.lanes|=M,ha|=M,X)}function Sd(M,X,ae,ye,Ve){var Ke=it.p;it.p=Ke!==0&&8>Ke?Ke:8;var rt=Ze.T,dt={};Ze.T=dt,wA(M,!1,X,ae);try{var wt=Ve(),Mt=Ze.S;if(Mt!==null&&Mt(dt,wt),wt!==null&&typeof wt=="object"&&typeof wt.then=="function"){var Ht=Qh(wt,ye);Xo(M,X,Ht,Qs(M))}else Xo(M,X,ye,Qs(M))}catch(Vt){Xo(M,X,{then:function(){},status:"rejected",reason:Vt},Qs())}finally{it.p=Ke,rt!==null&&dt.types!==null&&(rt.types=dt.types),Ze.T=rt}}function qh(){}function EA(M,X,ae,ye){if(M.tag!==5)throw Error(b(476));var Ve=Bd(M).queue;Sd(M,Ve,X,Ye,ae===null?qh:function(){return _d(M),ae(ye)})}function Bd(M){var X=M.memoizedState;if(X!==null)return X;X={memoizedState:Ye,baseState:Ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:Ye},next:null};var ae={};return X.next={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ae},next:null},M.memoizedState=X,M=M.alternate,M!==null&&(M.memoizedState=X),X}function _d(M){var X=Bd(M);X.next===null&&(X=M.alternate.memoizedState),Xo(M,X.next.queue,{},Qs())}function CA(){return us(fl)}function Td(){return Qr().memoizedState}function Rd(){return Qr().memoizedState}function Xh(M){for(var X=M.return;X!==null;){switch(X.tag){case 24:case 3:var ae=Qs();M=la(ae);var ye=ca(X,M,ae);ye!==null&&(Ns(ye,X,ae),zo(ye,X,ae)),X={cache:Yc()},M.payload=X;return}X=X.return}}function Yh(M,X,ae){var ye=Qs();ae={lane:ye,revertLane:0,gesture:null,action:ae,hasEagerState:!1,eagerState:null,next:null},Jl(M)?Nd(X,ae):(ae=$c(M,X,ae,ye),ae!==null&&(Ns(ae,M,ye),Fd(ae,X,ye)))}function Id(M,X,ae){var ye=Qs();Xo(M,X,ae,ye)}function Xo(M,X,ae,ye){var Ve={lane:ye,revertLane:0,gesture:null,action:ae,hasEagerState:!1,eagerState:null,next:null};if(Jl(M))Nd(X,Ve);else{var Ke=M.alternate;if(M.lanes===0&&(Ke===null||Ke.lanes===0)&&(Ke=X.lastRenderedReducer,Ke!==null))try{var rt=X.lastRenderedState,dt=Ke(rt,ae);if(Ve.hasEagerState=!0,Ve.eagerState=dt,Be(dt,rt))return Fl(M,X,Ve,0),wr===null&&Il(),!1}catch{}finally{}if(ae=$c(M,X,Ve,ye),ae!==null)return Ns(ae,M,ye),Fd(ae,X,ye),!0}return!1}function wA(M,X,ae,ye){if(ye={lane:2,revertLane:ru(),gesture:null,action:ye,hasEagerState:!1,eagerState:null,next:null},Jl(M)){if(X)throw Error(b(479))}else X=$c(M,ae,ye,2),X!==null&&Ns(X,M,2)}function Jl(M){var X=M.alternate;return M===Mn||X!==null&&X===Mn}function Nd(M,X){fo=zl=!0;var ae=M.pending;ae===null?X.next=X:(X.next=ae.next,ae.next=X),M.pending=X}function Fd(M,X,ae){if((ae&4194048)!==0){var ye=X.lanes;ye&=M.pendingLanes,ae|=ye,X.lanes=ae,Tt(M,ae)}}var Yo={readContext:us,use:Wl,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useLayoutEffect:Pr,useInsertionEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useSyncExternalStore:Pr,useId:Pr,useHostTransitionStatus:Pr,useFormState:Pr,useActionState:Pr,useOptimistic:Pr,useMemoCache:Pr,useCacheRefresh:Pr};Yo.useEffectEvent=Pr;var kd={readContext:us,use:Wl,useCallback:function(M,X){return xs().memoizedState=[M,X===void 0?null:X],M},useContext:us,useEffect:md,useImperativeHandle:function(M,X,ae){ae=ae!=null?ae.concat([M]):null,Xl(4194308,4,vd.bind(null,X,M),ae)},useLayoutEffect:function(M,X){return Xl(4194308,4,M,X)},useInsertionEffect:function(M,X){Xl(4,2,M,X)},useMemo:function(M,X){var ae=xs();X=X===void 0?null:X;var ye=M();if(Ha){er(!0);try{M()}finally{er(!1)}}return ae.memoizedState=[ye,X],ye},useReducer:function(M,X,ae){var ye=xs();if(ae!==void 0){var Ve=ae(X);if(Ha){er(!0);try{ae(X)}finally{er(!1)}}}else Ve=X;return ye.memoizedState=ye.baseState=Ve,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M,lastRenderedState:Ve},ye.queue=M,M=M.dispatch=Yh.bind(null,Mn,M),[ye.memoizedState,M]},useRef:function(M){var X=xs();return M={current:M},X.memoizedState=M},useState:function(M){M=mA(M);var X=M.queue,ae=Id.bind(null,Mn,X);return X.dispatch=ae,[M.memoizedState,ae]},useDebugValue:yA,useDeferredValue:function(M,X){var ae=xs();return vA(ae,M,X)},useTransition:function(){var M=mA(!1);return M=Sd.bind(null,Mn,M.queue,!0,!1),xs().memoizedState=M,[!1,M]},useSyncExternalStore:function(M,X,ae){var ye=Mn,Ve=xs();if(rr){if(ae===void 0)throw Error(b(407));ae=ae()}else{if(ae=X(),wr===null)throw Error(b(349));(Yn&127)!==0||ed(ye,X,ae)}Ve.memoizedState=ae;var Ke={value:ae,getSnapshot:X};return Ve.queue=Ke,md(nd.bind(null,ye,Ke,M),[M]),ye.flags|=2048,po(9,{destroy:void 0},td.bind(null,ye,Ke,ae,X),null),ae},useId:function(){var M=xs(),X=wr.identifierPrefix;if(rr){var ae=gi,ye=mi;ae=(ye&~(1<<32-Bn(ye)-1)).toString(32)+ae,X="_"+X+"R_"+ae,ae=Gl++,0<ae&&(X+="H"+ae.toString(32)),X+="_"}else ae=Vh++,X="_"+X+"r_"+ae.toString(32)+"_";return M.memoizedState=X},useHostTransitionStatus:CA,useFormState:ud,useActionState:ud,useOptimistic:function(M){var X=xs();X.memoizedState=X.baseState=M;var ae={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return X.queue=ae,X=wA.bind(null,Mn,!0,ae),ae.dispatch=X,[M,X]},useMemoCache:fA,useCacheRefresh:function(){return xs().memoizedState=Xh.bind(null,Mn)},useEffectEvent:function(M){var X=xs(),ae={impl:M};return X.memoizedState=ae,function(){if((Ar&2)!==0)throw Error(b(440));return ae.impl.apply(void 0,arguments)}}},bA={readContext:us,use:Wl,useCallback:Cd,useContext:us,useEffect:xA,useImperativeHandle:Ed,useInsertionEffect:xd,useLayoutEffect:yd,useMemo:wd,useReducer:ql,useRef:pd,useState:function(){return ql(Mi)},useDebugValue:yA,useDeferredValue:function(M,X){var ae=Qr();return bd(ae,gr.memoizedState,M,X)},useTransition:function(){var M=ql(Mi)[0],X=Qr().memoizedState;return[typeof M=="boolean"?M:qo(M),X]},useSyncExternalStore:Zu,useId:Td,useHostTransitionStatus:CA,useFormState:dd,useActionState:dd,useOptimistic:function(M,X){var ae=Qr();return id(ae,gr,M,X)},useMemoCache:fA,useCacheRefresh:Rd};bA.useEffectEvent=gd;var Md={readContext:us,use:Wl,useCallback:Cd,useContext:us,useEffect:xA,useImperativeHandle:Ed,useInsertionEffect:xd,useLayoutEffect:yd,useMemo:wd,useReducer:pA,useRef:pd,useState:function(){return pA(Mi)},useDebugValue:yA,useDeferredValue:function(M,X){var ae=Qr();return gr===null?vA(ae,M,X):bd(ae,gr.memoizedState,M,X)},useTransition:function(){var M=pA(Mi)[0],X=Qr().memoizedState;return[typeof M=="boolean"?M:qo(M),X]},useSyncExternalStore:Zu,useId:Td,useHostTransitionStatus:CA,useFormState:hd,useActionState:hd,useOptimistic:function(M,X){var ae=Qr();return gr!==null?id(ae,gr,M,X):(ae.baseState=M,[M,ae.queue.dispatch])},useMemoCache:fA,useCacheRefresh:Rd};Md.useEffectEvent=gd;function _A(M,X,ae,ye){X=M.memoizedState,ae=ae(ye,X),ae=ae==null?X:ne({},X,ae),M.memoizedState=ae,M.lanes===0&&(M.updateQueue.baseState=ae)}var TA={enqueueSetState:function(M,X,ae){M=M._reactInternals;var ye=Qs(),Ve=la(ye);Ve.payload=X,ae!=null&&(Ve.callback=ae),X=ca(M,Ve,ye),X!==null&&(Ns(X,M,ye),zo(X,M,ye))},enqueueReplaceState:function(M,X,ae){M=M._reactInternals;var ye=Qs(),Ve=la(ye);Ve.tag=1,Ve.payload=X,ae!=null&&(Ve.callback=ae),X=ca(M,Ve,ye),X!==null&&(Ns(X,M,ye),zo(X,M,ye))},enqueueForceUpdate:function(M,X){M=M._reactInternals;var ae=Qs(),ye=la(ae);ye.tag=2,X!=null&&(ye.callback=X),X=ca(M,ye,ae),X!==null&&(Ns(X,M,ae),zo(X,M,ae))}};function Dd(M,X,ae,ye,Ve,Ke,rt){return M=M.stateNode,typeof M.shouldComponentUpdate=="function"?M.shouldComponentUpdate(ye,Ke,rt):X.prototype&&X.prototype.isPureReactComponent?!je(ae,ye)||!je(Ve,Ke):!0}function Od(M,X,ae,ye){M=X.state,typeof X.componentWillReceiveProps=="function"&&X.componentWillReceiveProps(ae,ye),typeof X.UNSAFE_componentWillReceiveProps=="function"&&X.UNSAFE_componentWillReceiveProps(ae,ye),X.state!==M&&TA.enqueueReplaceState(X,X.state,null)}function Qa(M,X){var ae=X;if("ref"in X){ae={};for(var ye in X)ye!=="ref"&&(ae[ye]=X[ye])}if(M=M.defaultProps){ae===X&&(ae=ne({},ae));for(var Ve in M)ae[Ve]===void 0&&(ae[Ve]=M[Ve])}return ae}function Ld(M){Rl(M)}function Pd(M){console.error(M)}function jd(M){Rl(M)}function Zl(M,X){try{var ae=M.onUncaughtError;ae(X.value,{componentStack:X.stack})}catch(ye){setTimeout(function(){throw ye})}}function $d(M,X,ae){try{var ye=M.onCaughtError;ye(ae.value,{componentStack:ae.stack,errorBoundary:X.tag===1?X.stateNode:null})}catch(Ve){setTimeout(function(){throw Ve})}}function RA(M,X,ae){return ae=la(ae),ae.tag=3,ae.payload={element:null},ae.callback=function(){Zl(M,X)},ae}function Ud(M){return M=la(M),M.tag=3,M}function Hd(M,X,ae,ye){var Ve=ae.type.getDerivedStateFromError;if(typeof Ve=="function"){var Ke=ye.value;M.payload=function(){return Ve(Ke)},M.callback=function(){$d(X,ae,ye)}}var rt=ae.stateNode;rt!==null&&typeof rt.componentDidCatch=="function"&&(M.callback=function(){$d(X,ae,ye),typeof Ve!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var dt=ye.stack;this.componentDidCatch(ye.value,{componentStack:dt!==null?dt:""})})}function Jh(M,X,ae,ye,Ve){if(ae.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){if(X=ae.alternate,X!==null&&ao(X,ae,Ve,!0),ae=js.current,ae!==null){switch(ae.tag){case 31:case 13:return Zs===null?uc():ae.alternate===null&&jr===0&&(jr=3),ae.flags&=-257,ae.flags|=65536,ae.lanes=Ve,ye===$l?ae.flags|=16384:(X=ae.updateQueue,X===null?ae.updateQueue=new Set([ye]):X.add(ye),eu(M,ye,Ve)),!1;case 22:return ae.flags|=65536,ye===$l?ae.flags|=16384:(X=ae.updateQueue,X===null?(X={transitions:null,markerInstances:null,retryQueue:new Set([ye])},ae.updateQueue=X):(ae=X.retryQueue,ae===null?X.retryQueue=new Set([ye]):ae.add(ye)),eu(M,ye,Ve)),!1}throw Error(b(435,ae.tag))}return eu(M,ye,Ve),uc(),!1}if(rr)return X=js.current,X!==null?((X.flags&65536)===0&&(X.flags|=256),X.flags|=65536,X.lanes=Ve,ye!==Gc&&(M=Error(b(422),{cause:ye}),$o(qs(M,ae)))):(ye!==Gc&&(X=Error(b(423),{cause:ye}),$o(qs(X,ae))),M=M.current.alternate,M.flags|=65536,Ve&=-Ve,M.lanes|=Ve,ye=qs(ye,ae),Ve=RA(M.stateNode,ye,Ve),rA(M,Ve),jr!==4&&(jr=2)),!1;var Ke=Error(b(520),{cause:ye});if(Ke=qs(Ke,ae),il===null?il=[Ke]:il.push(Ke),jr!==4&&(jr=2),X===null)return!0;ye=qs(ye,ae),ae=X;do{switch(ae.tag){case 3:return ae.flags|=65536,M=Ve&-Ve,ae.lanes|=M,M=RA(ae.stateNode,ye,M),rA(ae,M),!1;case 1:if(X=ae.type,Ke=ae.stateNode,(ae.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||Ke!==null&&typeof Ke.componentDidCatch=="function"&&(pa===null||!pa.has(Ke))))return ae.flags|=65536,Ve&=-Ve,ae.lanes|=Ve,Ve=Ud(Ve),Hd(Ve,M,ae,ye),rA(ae,Ve),!1}ae=ae.return}while(ae!==null);return!1}var IA=Error(b(461)),qr=!1;function ds(M,X,ae,ye){X.child=M===null?Gu(X,null,ae,ye):Ua(X,M.child,ae,ye)}function Qd(M,X,ae,ye,Ve){ae=ae.render;var Ke=X.ref;if("ref"in ye){var rt={};for(var dt in ye)dt!=="ref"&&(rt[dt]=ye[dt])}else rt=ye;return La(X),ye=cA(M,X,ae,rt,Ke,Ve),dt=AA(),M!==null&&!qr?(uA(M,X,Ve),Di(M,X,Ve)):(rr&&dt&&Vc(X),X.flags|=1,ds(M,X,ye,Ve),X.child)}function Vd(M,X,ae,ye,Ve){if(M===null){var Ke=ae.type;return typeof Ke=="function"&&!Uc(Ke)&&Ke.defaultProps===void 0&&ae.compare===null?(X.tag=15,X.type=Ke,zd(M,X,Ke,ye,Ve)):(M=Ml(ae.type,null,ye,X,X.mode,Ve),M.ref=X.ref,M.return=X,X.child=M)}if(Ke=M.child,!PA(M,Ve)){var rt=Ke.memoizedProps;if(ae=ae.compare,ae=ae!==null?ae:je,ae(rt,ye)&&M.ref===X.ref)return Di(M,X,Ve)}return X.flags|=1,M=Ri(Ke,ye),M.ref=X.ref,M.return=X,X.child=M}function zd(M,X,ae,ye,Ve){if(M!==null){var Ke=M.memoizedProps;if(je(Ke,ye)&&M.ref===X.ref)if(qr=!1,X.pendingProps=ye=Ke,PA(M,Ve))(M.flags&131072)!==0&&(qr=!0);else return X.lanes=M.lanes,Di(M,X,Ve)}return NA(M,X,ae,ye,Ve)}function Gd(M,X,ae,ye){var Ve=ye.children,Ke=M!==null?M.memoizedState:null;if(M===null&&X.stateNode===null&&(X.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),ye.mode==="hidden"){if((X.flags&128)!==0){if(Ke=Ke!==null?Ke.baseLanes|ae:ae,M!==null){for(ye=X.child=M.child,Ve=0;ye!==null;)Ve=Ve|ye.lanes|ye.childLanes,ye=ye.sibling;ye=Ve&~Ke}else ye=0,X.child=null;return Kd(M,X,Ke,ae,ye)}if((ae&536870912)!==0)X.memoizedState={baseLanes:0,cachePool:null},M!==null&&Pl(X,Ke!==null?Ke.cachePool:null),Ke!==null?qu(X,Ke):iA(),Xu(X);else return ye=X.lanes=536870912,Kd(M,X,Ke!==null?Ke.baseLanes|ae:ae,ae,ye)}else Ke!==null?(Pl(X,Ke.cachePool),qu(X,Ke),ua(),X.memoizedState=null):(M!==null&&Pl(X,null),iA(),ua());return ds(M,X,Ve,ae),X.child}function Jo(M,X){return M!==null&&M.tag===22||X.stateNode!==null||(X.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),X.sibling}function Kd(M,X,ae,ye,Ve){var Ke=Zc();return Ke=Ke===null?null:{parent:Kr._currentValue,pool:Ke},X.memoizedState={baseLanes:ae,cachePool:Ke},M!==null&&Pl(X,null),iA(),Xu(X),M!==null&&ao(M,X,ye,!0),X.childLanes=Ve,null}function ec(M,X){return X=nc({mode:X.mode,children:X.children},M.mode),X.ref=M.ref,M.child=X,X.return=M,X}function Wd(M,X,ae){return Ua(X,M.child,null,ae),M=ec(X,X.pendingProps),M.flags|=2,$s(X),X.memoizedState=null,M}function Zh(M,X,ae){var ye=X.pendingProps,Ve=(X.flags&128)!==0;if(X.flags&=-129,M===null){if(rr){if(ye.mode==="hidden")return M=ec(X,ye),X.lanes=536870912,Jo(null,M);if(oA(X),(M=Tr)?(M=oh(M,Js),M=M!==null&&M.data==="&"?M:null,M!==null&&(X.memoizedState={dehydrated:M,treeContext:ra!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},ae=Nu(M),ae.return=X,X.child=ae,As=X,Tr=null)):M=null,M===null)throw ia(X);return X.lanes=536870912,null}return ec(X,ye)}var Ke=M.memoizedState;if(Ke!==null){var rt=Ke.dehydrated;if(oA(X),Ve)if(X.flags&256)X.flags&=-257,X=Wd(M,X,ae);else if(X.memoizedState!==null)X.child=M.child,X.flags|=128,X=null;else throw Error(b(558));else if(qr||ao(M,X,ae,!1),Ve=(ae&M.childLanes)!==0,qr||Ve){if(ye=wr,ye!==null&&(rt=Ot(ye,ae),rt!==0&&rt!==Ke.retryLane))throw Ke.retryLane=rt,ka(M,rt),Ns(ye,M,rt),IA;uc(),X=Wd(M,X,ae)}else M=Ke.treeContext,Tr=ei(rt.nextSibling),As=X,rr=!0,sa=null,Js=!1,M!==null&&Mu(X,M),X=ec(X,ye),X.flags|=4096;return X}return M=Ri(M.child,{mode:ye.mode,children:ye.children}),M.ref=X.ref,X.child=M,M.return=X,M}function tc(M,X){var ae=X.ref;if(ae===null)M!==null&&M.ref!==null&&(X.flags|=4194816);else{if(typeof ae!="function"&&typeof ae!="object")throw Error(b(284));(M===null||M.ref!==ae)&&(X.flags|=4194816)}}function NA(M,X,ae,ye,Ve){return La(X),ae=cA(M,X,ae,ye,void 0,Ve),ye=AA(),M!==null&&!qr?(uA(M,X,Ve),Di(M,X,Ve)):(rr&&ye&&Vc(X),X.flags|=1,ds(M,X,ae,Ve),X.child)}function qd(M,X,ae,ye,Ve,Ke){return La(X),X.updateQueue=null,ae=Ju(X,ye,ae,Ve),Yu(M),ye=AA(),M!==null&&!qr?(uA(M,X,Ke),Di(M,X,Ke)):(rr&&ye&&Vc(X),X.flags|=1,ds(M,X,ae,Ke),X.child)}function Xd(M,X,ae,ye,Ve){if(La(X),X.stateNode===null){var Ke=no,rt=ae.contextType;typeof rt=="object"&&rt!==null&&(Ke=us(rt)),Ke=new ae(ye,Ke),X.memoizedState=Ke.state!==null&&Ke.state!==void 0?Ke.state:null,Ke.updater=TA,X.stateNode=Ke,Ke._reactInternals=X,Ke=X.stateNode,Ke.props=ye,Ke.state=X.memoizedState,Ke.refs={},tA(X),rt=ae.contextType,Ke.context=typeof rt=="object"&&rt!==null?us(rt):no,Ke.state=X.memoizedState,rt=ae.getDerivedStateFromProps,typeof rt=="function"&&(_A(X,ae,rt,ye),Ke.state=X.memoizedState),typeof ae.getDerivedStateFromProps=="function"||typeof Ke.getSnapshotBeforeUpdate=="function"||typeof Ke.UNSAFE_componentWillMount!="function"&&typeof Ke.componentWillMount!="function"||(rt=Ke.state,typeof Ke.componentWillMount=="function"&&Ke.componentWillMount(),typeof Ke.UNSAFE_componentWillMount=="function"&&Ke.UNSAFE_componentWillMount(),rt!==Ke.state&&TA.enqueueReplaceState(Ke,Ke.state,null),Ko(X,ye,Ke,Ve),Go(),Ke.state=X.memoizedState),typeof Ke.componentDidMount=="function"&&(X.flags|=4194308),ye=!0}else if(M===null){Ke=X.stateNode;var dt=X.memoizedProps,wt=Qa(ae,dt);Ke.props=wt;var Mt=Ke.context,Ht=ae.contextType;rt=no,typeof Ht=="object"&&Ht!==null&&(rt=us(Ht));var Vt=ae.getDerivedStateFromProps;Ht=typeof Vt=="function"||typeof Ke.getSnapshotBeforeUpdate=="function",dt=X.pendingProps!==dt,Ht||typeof Ke.UNSAFE_componentWillReceiveProps!="function"&&typeof Ke.componentWillReceiveProps!="function"||(dt||Mt!==rt)&&Od(X,Ke,ye,rt),oa=!1;var Dt=X.memoizedState;Ke.state=Dt,Ko(X,ye,Ke,Ve),Go(),Mt=X.memoizedState,dt||Dt!==Mt||oa?(typeof Vt=="function"&&(_A(X,ae,Vt,ye),Mt=X.memoizedState),(wt=oa||Dd(X,ae,wt,ye,Dt,Mt,rt))?(Ht||typeof Ke.UNSAFE_componentWillMount!="function"&&typeof Ke.componentWillMount!="function"||(typeof Ke.componentWillMount=="function"&&Ke.componentWillMount(),typeof Ke.UNSAFE_componentWillMount=="function"&&Ke.UNSAFE_componentWillMount()),typeof Ke.componentDidMount=="function"&&(X.flags|=4194308)):(typeof Ke.componentDidMount=="function"&&(X.flags|=4194308),X.memoizedProps=ye,X.memoizedState=Mt),Ke.props=ye,Ke.state=Mt,Ke.context=rt,ye=wt):(typeof Ke.componentDidMount=="function"&&(X.flags|=4194308),ye=!1)}else{Ke=X.stateNode,nA(M,X),rt=X.memoizedProps,Ht=Qa(ae,rt),Ke.props=Ht,Vt=X.pendingProps,Dt=Ke.context,Mt=ae.contextType,wt=no,typeof Mt=="object"&&Mt!==null&&(wt=us(Mt)),dt=ae.getDerivedStateFromProps,(Mt=typeof dt=="function"||typeof Ke.getSnapshotBeforeUpdate=="function")||typeof Ke.UNSAFE_componentWillReceiveProps!="function"&&typeof Ke.componentWillReceiveProps!="function"||(rt!==Vt||Dt!==wt)&&Od(X,Ke,ye,wt),oa=!1,Dt=X.memoizedState,Ke.state=Dt,Ko(X,ye,Ke,Ve),Go();var jt=X.memoizedState;rt!==Vt||Dt!==jt||oa||M!==null&&M.dependencies!==null&&Ol(M.dependencies)?(typeof dt=="function"&&(_A(X,ae,dt,ye),jt=X.memoizedState),(Ht=oa||Dd(X,ae,Ht,ye,Dt,jt,wt)||M!==null&&M.dependencies!==null&&Ol(M.dependencies))?(Mt||typeof Ke.UNSAFE_componentWillUpdate!="function"&&typeof Ke.componentWillUpdate!="function"||(typeof Ke.componentWillUpdate=="function"&&Ke.componentWillUpdate(ye,jt,wt),typeof Ke.UNSAFE_componentWillUpdate=="function"&&Ke.UNSAFE_componentWillUpdate(ye,jt,wt)),typeof Ke.componentDidUpdate=="function"&&(X.flags|=4),typeof Ke.getSnapshotBeforeUpdate=="function"&&(X.flags|=1024)):(typeof Ke.componentDidUpdate!="function"||rt===M.memoizedProps&&Dt===M.memoizedState||(X.flags|=4),typeof Ke.getSnapshotBeforeUpdate!="function"||rt===M.memoizedProps&&Dt===M.memoizedState||(X.flags|=1024),X.memoizedProps=ye,X.memoizedState=jt),Ke.props=ye,Ke.state=jt,Ke.context=wt,ye=Ht):(typeof Ke.componentDidUpdate!="function"||rt===M.memoizedProps&&Dt===M.memoizedState||(X.flags|=4),typeof Ke.getSnapshotBeforeUpdate!="function"||rt===M.memoizedProps&&Dt===M.memoizedState||(X.flags|=1024),ye=!1)}return Ke=ye,tc(M,X),ye=(X.flags&128)!==0,Ke||ye?(Ke=X.stateNode,ae=ye&&typeof ae.getDerivedStateFromError!="function"?null:Ke.render(),X.flags|=1,M!==null&&ye?(X.child=Ua(X,M.child,null,Ve),X.child=Ua(X,null,ae,Ve)):ds(M,X,ae,Ve),X.memoizedState=Ke.state,M=X.child):M=Di(M,X,Ve),M}function Yd(M,X,ae,ye){return Da(),X.flags|=256,ds(M,X,ae,ye),X.child}var FA={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kA(M){return{baseLanes:M,cachePool:$u()}}function MA(M,X,ae){return M=M!==null?M.childLanes&~ae:0,X&&(M|=Hs),M}function Jd(M,X,ae){var ye=X.pendingProps,Ve=!1,Ke=(X.flags&128)!==0,rt;if((rt=Ke)||(rt=M!==null&&M.memoizedState===null?!1:(Hr.current&2)!==0),rt&&(Ve=!0,X.flags&=-129),rt=(X.flags&32)!==0,X.flags&=-33,M===null){if(rr){if(Ve?Aa(X):ua(),(M=Tr)?(M=oh(M,Js),M=M!==null&&M.data!=="&"?M:null,M!==null&&(X.memoizedState={dehydrated:M,treeContext:ra!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},ae=Nu(M),ae.return=X,X.child=ae,As=X,Tr=null)):M=null,M===null)throw ia(X);return mu(M)?X.lanes=32:X.lanes=536870912,null}var dt=ye.children;return ye=ye.fallback,Ve?(ua(),Ve=X.mode,dt=nc({mode:"hidden",children:dt},Ve),ye=Ma(ye,Ve,ae,null),dt.return=X,ye.return=X,dt.sibling=ye,X.child=dt,ye=X.child,ye.memoizedState=kA(ae),ye.childLanes=MA(M,rt,ae),X.memoizedState=FA,Jo(null,ye)):(Aa(X),DA(X,dt))}var wt=M.memoizedState;if(wt!==null&&(dt=wt.dehydrated,dt!==null)){if(Ke)X.flags&256?(Aa(X),X.flags&=-257,X=OA(M,X,ae)):X.memoizedState!==null?(ua(),X.child=M.child,X.flags|=128,X=null):(ua(),dt=ye.fallback,Ve=X.mode,ye=nc({mode:"visible",children:ye.children},Ve),dt=Ma(dt,Ve,ae,null),dt.flags|=2,ye.return=X,dt.return=X,ye.sibling=dt,X.child=ye,Ua(X,M.child,null,ae),ye=X.child,ye.memoizedState=kA(ae),ye.childLanes=MA(M,rt,ae),X.memoizedState=FA,X=Jo(null,ye));else if(Aa(X),mu(dt)){if(rt=dt.nextSibling&&dt.nextSibling.dataset,rt)var Mt=rt.dgst;rt=Mt,ye=Error(b(419)),ye.stack="",ye.digest=rt,$o({value:ye,source:null,stack:null}),X=OA(M,X,ae)}else if(qr||ao(M,X,ae,!1),rt=(ae&M.childLanes)!==0,qr||rt){if(rt=wr,rt!==null&&(ye=Ot(rt,ae),ye!==0&&ye!==wt.retryLane))throw wt.retryLane=ye,ka(M,ye),Ns(rt,M,ye),IA;pu(dt)||uc(),X=OA(M,X,ae)}else pu(dt)?(X.flags|=192,X.child=M.child,X=null):(M=wt.treeContext,Tr=ei(dt.nextSibling),As=X,rr=!0,sa=null,Js=!1,M!==null&&Mu(X,M),X=DA(X,ye.children),X.flags|=4096);return X}return Ve?(ua(),dt=ye.fallback,Ve=X.mode,wt=M.child,Mt=wt.sibling,ye=Ri(wt,{mode:"hidden",children:ye.children}),ye.subtreeFlags=wt.subtreeFlags&65011712,Mt!==null?dt=Ri(Mt,dt):(dt=Ma(dt,Ve,ae,null),dt.flags|=2),dt.return=X,ye.return=X,ye.sibling=dt,X.child=ye,Jo(null,ye),ye=X.child,dt=M.child.memoizedState,dt===null?dt=kA(ae):(Ve=dt.cachePool,Ve!==null?(wt=Kr._currentValue,Ve=Ve.parent!==wt?{parent:wt,pool:wt}:Ve):Ve=$u(),dt={baseLanes:dt.baseLanes|ae,cachePool:Ve}),ye.memoizedState=dt,ye.childLanes=MA(M,rt,ae),X.memoizedState=FA,Jo(M.child,ye)):(Aa(X),ae=M.child,M=ae.sibling,ae=Ri(ae,{mode:"visible",children:ye.children}),ae.return=X,ae.sibling=null,M!==null&&(rt=X.deletions,rt===null?(X.deletions=[M],X.flags|=16):rt.push(M)),X.child=ae,X.memoizedState=null,ae)}function DA(M,X){return X=nc({mode:"visible",children:X},M.mode),X.return=M,M.child=X}function nc(M,X){return M=Ps(22,M,null,X),M.lanes=0,M}function OA(M,X,ae){return Ua(X,M.child,null,ae),M=DA(X,X.pendingProps.children),M.flags|=2,X.memoizedState=null,M}function Zd(M,X,ae){M.lanes|=X;var ye=M.alternate;ye!==null&&(ye.lanes|=X),qc(M.return,X,ae)}function LA(M,X,ae,ye,Ve,Ke){var rt=M.memoizedState;rt===null?M.memoizedState={isBackwards:X,rendering:null,renderingStartTime:0,last:ye,tail:ae,tailMode:Ve,treeForkCount:Ke}:(rt.isBackwards=X,rt.rendering=null,rt.renderingStartTime=0,rt.last=ye,rt.tail=ae,rt.tailMode=Ve,rt.treeForkCount=Ke)}function ef(M,X,ae){var ye=X.pendingProps,Ve=ye.revealOrder,Ke=ye.tail;ye=ye.children;var rt=Hr.current,dt=(rt&2)!==0;if(dt?(rt=rt&1|2,X.flags|=128):rt&=1,vt(Hr,rt),ds(M,X,ye,ae),ye=rr?jo:0,!dt&&M!==null&&(M.flags&128)!==0)e:for(M=X.child;M!==null;){if(M.tag===13)M.memoizedState!==null&&Zd(M,ae,X);else if(M.tag===19)Zd(M,ae,X);else if(M.child!==null){M.child.return=M,M=M.child;continue}if(M===X)break e;for(;M.sibling===null;){if(M.return===null||M.return===X)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}switch(Ve){case"forwards":for(ae=X.child,Ve=null;ae!==null;)M=ae.alternate,M!==null&&Vl(M)===null&&(Ve=ae),ae=ae.sibling;ae=Ve,ae===null?(Ve=X.child,X.child=null):(Ve=ae.sibling,ae.sibling=null),LA(X,!1,Ve,ae,Ke,ye);break;case"backwards":case"unstable_legacy-backwards":for(ae=null,Ve=X.child,X.child=null;Ve!==null;){if(M=Ve.alternate,M!==null&&Vl(M)===null){X.child=Ve;break}M=Ve.sibling,Ve.sibling=ae,ae=Ve,Ve=M}LA(X,!0,ae,null,Ke,ye);break;case"together":LA(X,!1,null,null,void 0,ye);break;default:X.memoizedState=null}return X.child}function Di(M,X,ae){if(M!==null&&(X.dependencies=M.dependencies),ha|=X.lanes,(ae&X.childLanes)===0)if(M!==null){if(ao(M,X,ae,!1),(ae&X.childLanes)===0)return null}else return null;if(M!==null&&X.child!==M.child)throw Error(b(153));if(X.child!==null){for(M=X.child,ae=Ri(M,M.pendingProps),X.child=ae,ae.return=X;M.sibling!==null;)M=M.sibling,ae=ae.sibling=Ri(M,M.pendingProps),ae.return=X;ae.sibling=null}return X.child}function PA(M,X){return(M.lanes&X)!==0?!0:(M=M.dependencies,!!(M!==null&&Ol(M)))}function ep(M,X,ae){switch(X.tag){case 3:an(X,X.stateNode.containerInfo),aa(X,Kr,M.memoizedState.cache),Da();break;case 27:case 5:Ln(X);break;case 4:an(X,X.stateNode.containerInfo);break;case 10:aa(X,X.type,X.memoizedProps.value);break;case 31:if(X.memoizedState!==null)return X.flags|=128,oA(X),null;break;case 13:var ye=X.memoizedState;if(ye!==null)return ye.dehydrated!==null?(Aa(X),X.flags|=128,null):(ae&X.child.childLanes)!==0?Jd(M,X,ae):(Aa(X),M=Di(M,X,ae),M!==null?M.sibling:null);Aa(X);break;case 19:var Ve=(M.flags&128)!==0;if(ye=(ae&X.childLanes)!==0,ye||(ao(M,X,ae,!1),ye=(ae&X.childLanes)!==0),Ve){if(ye)return ef(M,X,ae);X.flags|=128}if(Ve=X.memoizedState,Ve!==null&&(Ve.rendering=null,Ve.tail=null,Ve.lastEffect=null),vt(Hr,Hr.current),ye)break;return null;case 22:return X.lanes=0,Gd(M,X,ae,X.pendingProps);case 24:aa(X,Kr,M.memoizedState.cache)}return Di(M,X,ae)}function tf(M,X,ae){if(M!==null)if(M.memoizedProps!==X.pendingProps)qr=!0;else{if(!PA(M,ae)&&(X.flags&128)===0)return qr=!1,ep(M,X,ae);qr=(M.flags&131072)!==0}else qr=!1,rr&&(X.flags&1048576)!==0&&ku(X,jo,X.index);switch(X.lanes=0,X.tag){case 16:e:{var ye=X.pendingProps;if(M=ja(X.elementType),X.type=M,typeof M=="function")Uc(M)?(ye=Qa(M,ye),X.tag=1,X=Xd(null,X,M,ye,ae)):(X.tag=0,X=NA(null,X,M,ye,ae));else{if(M!=null){var Ve=M.$$typeof;if(Ve===Ne){X.tag=11,X=Qd(null,X,M,ye,ae);break e}else if(Ve===Ge){X.tag=14,X=Vd(null,X,M,ye,ae);break e}}throw X=yt(M)||M,Error(b(306,X,""))}}return X;case 0:return NA(M,X,X.type,X.pendingProps,ae);case 1:return ye=X.type,Ve=Qa(ye,X.pendingProps),Xd(M,X,ye,Ve,ae);case 3:e:{if(an(X,X.stateNode.containerInfo),M===null)throw Error(b(387));ye=X.pendingProps;var Ke=X.memoizedState;Ve=Ke.element,nA(M,X),Ko(X,ye,null,ae);var rt=X.memoizedState;if(ye=rt.cache,aa(X,Kr,ye),ye!==Ke.cache&&Xc(X,[Kr],ae,!0),Go(),ye=rt.element,Ke.isDehydrated)if(Ke={element:ye,isDehydrated:!1,cache:rt.cache},X.updateQueue.baseState=Ke,X.memoizedState=Ke,X.flags&256){X=Yd(M,X,ye,ae);break e}else if(ye!==Ve){Ve=qs(Error(b(424)),X),$o(Ve),X=Yd(M,X,ye,ae);break e}else{switch(M=X.stateNode.containerInfo,M.nodeType){case 9:M=M.body;break;default:M=M.nodeName==="HTML"?M.ownerDocument.body:M}for(Tr=ei(M.firstChild),As=X,rr=!0,sa=null,Js=!0,ae=Gu(X,null,ye,ae),X.child=ae;ae;)ae.flags=ae.flags&-3|4096,ae=ae.sibling}else{if(Da(),ye===Ve){X=Di(M,X,ae);break e}ds(M,X,ye,ae)}X=X.child}return X;case 26:return tc(M,X),M===null?(ae=fh(X.type,null,X.pendingProps,null))?X.memoizedState=ae:rr||(ae=X.type,M=X.pendingProps,ye=xc(_t.current).createElement(ae),ye[nn]=X,ye[en]=M,fs(ye,ae,M),sr(ye),X.stateNode=ye):X.memoizedState=fh(X.type,M.memoizedProps,X.pendingProps,M.memoizedState),null;case 27:return Ln(X),M===null&&rr&&(ye=X.stateNode=Ah(X.type,X.pendingProps,_t.current),As=X,Js=!0,Ve=Tr,ya(X.type)?(gu=Ve,Tr=ei(ye.firstChild)):Tr=Ve),ds(M,X,X.pendingProps.children,ae),tc(M,X),M===null&&(X.flags|=4194304),X.child;case 5:return M===null&&rr&&((Ve=ye=Tr)&&(ye=Fp(ye,X.type,X.pendingProps,Js),ye!==null?(X.stateNode=ye,As=X,Tr=ei(ye.firstChild),Js=!1,Ve=!0):Ve=!1),Ve||ia(X)),Ln(X),Ve=X.type,Ke=X.pendingProps,rt=M!==null?M.memoizedProps:null,ye=Ke.children,du(Ve,Ke)?ye=null:rt!==null&&du(Ve,rt)&&(X.flags|=32),X.memoizedState!==null&&(Ve=cA(M,X,zh,null,null,ae),fl._currentValue=Ve),tc(M,X),ds(M,X,ye,ae),X.child;case 6:return M===null&&rr&&((M=ae=Tr)&&(ae=kp(ae,X.pendingProps,Js),ae!==null?(X.stateNode=ae,As=X,Tr=null,M=!0):M=!1),M||ia(X)),null;case 13:return Jd(M,X,ae);case 4:return an(X,X.stateNode.containerInfo),ye=X.pendingProps,M===null?X.child=Ua(X,null,ye,ae):ds(M,X,ye,ae),X.child;case 11:return Qd(M,X,X.type,X.pendingProps,ae);case 7:return ds(M,X,X.pendingProps,ae),X.child;case 8:return ds(M,X,X.pendingProps.children,ae),X.child;case 12:return ds(M,X,X.pendingProps.children,ae),X.child;case 10:return ye=X.pendingProps,aa(X,X.type,ye.value),ds(M,X,ye.children,ae),X.child;case 9:return Ve=X.type._context,ye=X.pendingProps.children,La(X),Ve=us(Ve),ye=ye(Ve),X.flags|=1,ds(M,X,ye,ae),X.child;case 14:return Vd(M,X,X.type,X.pendingProps,ae);case 15:return zd(M,X,X.type,X.pendingProps,ae);case 19:return ef(M,X,ae);case 31:return Zh(M,X,ae);case 22:return Gd(M,X,ae,X.pendingProps);case 24:return La(X),ye=us(Kr),M===null?(Ve=Zc(),Ve===null&&(Ve=wr,Ke=Yc(),Ve.pooledCache=Ke,Ke.refCount++,Ke!==null&&(Ve.pooledCacheLanes|=ae),Ve=Ke),X.memoizedState={parent:ye,cache:Ve},tA(X),aa(X,Kr,Ve)):((M.lanes&ae)!==0&&(nA(M,X),Ko(X,null,null,ae),Go()),Ve=M.memoizedState,Ke=X.memoizedState,Ve.parent!==ye?(Ve={parent:ye,cache:ye},X.memoizedState=Ve,X.lanes===0&&(X.memoizedState=X.updateQueue.baseState=Ve),aa(X,Kr,ye)):(ye=Ke.cache,aa(X,Kr,ye),ye!==Ve.cache&&Xc(X,[Kr],ae,!0))),ds(M,X,X.pendingProps.children,ae),X.child;case 29:throw X.pendingProps}throw Error(b(156,X.tag))}function Oi(M){M.flags|=4}function jA(M,X,ae,ye,Ve){if((X=(M.mode&32)!==0)&&(X=!1),X){if(M.flags|=16777216,(Ve&335544128)===Ve)if(M.stateNode.complete)M.flags|=8192;else if(Rf())M.flags|=8192;else throw $a=$l,eA}else M.flags&=-16777217}function nf(M,X){if(X.type!=="stylesheet"||(X.state.loading&4)!==0)M.flags&=-16777217;else if(M.flags|=16777216,!xh(X))if(Rf())M.flags|=8192;else throw $a=$l,eA}function rc(M,X){X!==null&&(M.flags|=4),M.flags&16384&&(X=M.tag!==22?Ir():536870912,M.lanes|=X,yo|=X)}function Zo(M,X){if(!rr)switch(M.tailMode){case"hidden":X=M.tail;for(var ae=null;X!==null;)X.alternate!==null&&(ae=X),X=X.sibling;ae===null?M.tail=null:ae.sibling=null;break;case"collapsed":ae=M.tail;for(var ye=null;ae!==null;)ae.alternate!==null&&(ye=ae),ae=ae.sibling;ye===null?X||M.tail===null?M.tail=null:M.tail.sibling=null:ye.sibling=null}}function Rr(M){var X=M.alternate!==null&&M.alternate.child===M.child,ae=0,ye=0;if(X)for(var Ve=M.child;Ve!==null;)ae|=Ve.lanes|Ve.childLanes,ye|=Ve.subtreeFlags&65011712,ye|=Ve.flags&65011712,Ve.return=M,Ve=Ve.sibling;else for(Ve=M.child;Ve!==null;)ae|=Ve.lanes|Ve.childLanes,ye|=Ve.subtreeFlags,ye|=Ve.flags,Ve.return=M,Ve=Ve.sibling;return M.subtreeFlags|=ye,M.childLanes=ae,X}function tp(M,X,ae){var ye=X.pendingProps;switch(zc(X),X.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(X),null;case 1:return Rr(X),null;case 3:return ae=X.stateNode,ye=null,M!==null&&(ye=M.memoizedState.cache),X.memoizedState.cache!==ye&&(X.flags|=2048),Fi(Kr),hn(),ae.pendingContext&&(ae.context=ae.pendingContext,ae.pendingContext=null),(M===null||M.child===null)&&(io(X)?Oi(X):M===null||M.memoizedState.isDehydrated&&(X.flags&256)===0||(X.flags|=1024,Kc())),Rr(X),null;case 26:var Ve=X.type,Ke=X.memoizedState;return M===null?(Oi(X),Ke!==null?(Rr(X),nf(X,Ke)):(Rr(X),jA(X,Ve,null,ye,ae))):Ke?Ke!==M.memoizedState?(Oi(X),Rr(X),nf(X,Ke)):(Rr(X),X.flags&=-16777217):(M=M.memoizedProps,M!==ye&&Oi(X),Rr(X),jA(X,Ve,M,ye,ae)),null;case 27:if(pn(X),ae=_t.current,Ve=X.type,M!==null&&X.stateNode!=null)M.memoizedProps!==ye&&Oi(X);else{if(!ye){if(X.stateNode===null)throw Error(b(166));return Rr(X),null}M=Et.current,io(X)?Du(X):(M=Ah(Ve,ye,ae),X.stateNode=M,Oi(X))}return Rr(X),null;case 5:if(pn(X),Ve=X.type,M!==null&&X.stateNode!=null)M.memoizedProps!==ye&&Oi(X);else{if(!ye){if(X.stateNode===null)throw Error(b(166));return Rr(X),null}if(Ke=Et.current,io(X))Du(X);else{var rt=xc(_t.current);switch(Ke){case 1:Ke=rt.createElementNS("http://www.w3.org/2000/svg",Ve);break;case 2:Ke=rt.createElementNS("http://www.w3.org/1998/Math/MathML",Ve);break;default:switch(Ve){case"svg":Ke=rt.createElementNS("http://www.w3.org/2000/svg",Ve);break;case"math":Ke=rt.createElementNS("http://www.w3.org/1998/Math/MathML",Ve);break;case"script":Ke=rt.createElement("div"),Ke.innerHTML="<script><\/script>",Ke=Ke.removeChild(Ke.firstChild);break;case"select":Ke=typeof ye.is=="string"?rt.createElement("select",{is:ye.is}):rt.createElement("select"),ye.multiple?Ke.multiple=!0:ye.size&&(Ke.size=ye.size);break;default:Ke=typeof ye.is=="string"?rt.createElement(Ve,{is:ye.is}):rt.createElement(Ve)}}Ke[nn]=X,Ke[en]=ye;e:for(rt=X.child;rt!==null;){if(rt.tag===5||rt.tag===6)Ke.appendChild(rt.stateNode);else if(rt.tag!==4&&rt.tag!==27&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===X)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===X)break e;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}X.stateNode=Ke;e:switch(fs(Ke,Ve,ye),Ve){case"button":case"input":case"select":case"textarea":ye=!!ye.autoFocus;break e;case"img":ye=!0;break e;default:ye=!1}ye&&Oi(X)}}return Rr(X),jA(X,X.type,M===null?null:M.memoizedProps,X.pendingProps,ae),null;case 6:if(M&&X.stateNode!=null)M.memoizedProps!==ye&&Oi(X);else{if(typeof ye!="string"&&X.stateNode===null)throw Error(b(166));if(M=_t.current,io(X)){if(M=X.stateNode,ae=X.memoizedProps,ye=null,Ve=As,Ve!==null)switch(Ve.tag){case 27:case 5:ye=Ve.memoizedProps}M[nn]=X,M=!!(M.nodeValue===ae||ye!==null&&ye.suppressHydrationWarning===!0||Zf(M.nodeValue,ae)),M||ia(X,!0)}else M=xc(M).createTextNode(ye),M[nn]=X,X.stateNode=M}return Rr(X),null;case 31:if(ae=X.memoizedState,M===null||M.memoizedState!==null){if(ye=io(X),ae!==null){if(M===null){if(!ye)throw Error(b(318));if(M=X.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(b(557));M[nn]=X}else Da(),(X.flags&128)===0&&(X.memoizedState=null),X.flags|=4;Rr(X),M=!1}else ae=Kc(),M!==null&&M.memoizedState!==null&&(M.memoizedState.hydrationErrors=ae),M=!0;if(!M)return X.flags&256?($s(X),X):($s(X),null);if((X.flags&128)!==0)throw Error(b(558))}return Rr(X),null;case 13:if(ye=X.memoizedState,M===null||M.memoizedState!==null&&M.memoizedState.dehydrated!==null){if(Ve=io(X),ye!==null&&ye.dehydrated!==null){if(M===null){if(!Ve)throw Error(b(318));if(Ve=X.memoizedState,Ve=Ve!==null?Ve.dehydrated:null,!Ve)throw Error(b(317));Ve[nn]=X}else Da(),(X.flags&128)===0&&(X.memoizedState=null),X.flags|=4;Rr(X),Ve=!1}else Ve=Kc(),M!==null&&M.memoizedState!==null&&(M.memoizedState.hydrationErrors=Ve),Ve=!0;if(!Ve)return X.flags&256?($s(X),X):($s(X),null)}return $s(X),(X.flags&128)!==0?(X.lanes=ae,X):(ae=ye!==null,M=M!==null&&M.memoizedState!==null,ae&&(ye=X.child,Ve=null,ye.alternate!==null&&ye.alternate.memoizedState!==null&&ye.alternate.memoizedState.cachePool!==null&&(Ve=ye.alternate.memoizedState.cachePool.pool),Ke=null,ye.memoizedState!==null&&ye.memoizedState.cachePool!==null&&(Ke=ye.memoizedState.cachePool.pool),Ke!==Ve&&(ye.flags|=2048)),ae!==M&&ae&&(X.child.flags|=8192),rc(X,X.updateQueue),Rr(X),null);case 4:return hn(),M===null&&ou(X.stateNode.containerInfo),Rr(X),null;case 10:return Fi(X.type),Rr(X),null;case 19:if(ht(Hr),ye=X.memoizedState,ye===null)return Rr(X),null;if(Ve=(X.flags&128)!==0,Ke=ye.rendering,Ke===null)if(Ve)Zo(ye,!1);else{if(jr!==0||M!==null&&(M.flags&128)!==0)for(M=X.child;M!==null;){if(Ke=Vl(M),Ke!==null){for(X.flags|=128,Zo(ye,!1),M=Ke.updateQueue,X.updateQueue=M,rc(X,M),X.subtreeFlags=0,M=ae,ae=X.child;ae!==null;)Iu(ae,M),ae=ae.sibling;return vt(Hr,Hr.current&1|2),rr&&Ii(X,ye.treeForkCount),X.child}M=M.sibling}ye.tail!==null&&Kt()>lc&&(X.flags|=128,Ve=!0,Zo(ye,!1),X.lanes=4194304)}else{if(!Ve)if(M=Vl(Ke),M!==null){if(X.flags|=128,Ve=!0,M=M.updateQueue,X.updateQueue=M,rc(X,M),Zo(ye,!0),ye.tail===null&&ye.tailMode==="hidden"&&!Ke.alternate&&!rr)return Rr(X),null}else 2*Kt()-ye.renderingStartTime>lc&&ae!==536870912&&(X.flags|=128,Ve=!0,Zo(ye,!1),X.lanes=4194304);ye.isBackwards?(Ke.sibling=X.child,X.child=Ke):(M=ye.last,M!==null?M.sibling=Ke:X.child=Ke,ye.last=Ke)}return ye.tail!==null?(M=ye.tail,ye.rendering=M,ye.tail=M.sibling,ye.renderingStartTime=Kt(),M.sibling=null,ae=Hr.current,vt(Hr,Ve?ae&1|2:ae&1),rr&&Ii(X,ye.treeForkCount),M):(Rr(X),null);case 22:case 23:return $s(X),aA(),ye=X.memoizedState!==null,M!==null?M.memoizedState!==null!==ye&&(X.flags|=8192):ye&&(X.flags|=8192),ye?(ae&536870912)!==0&&(X.flags&128)===0&&(Rr(X),X.subtreeFlags&6&&(X.flags|=8192)):Rr(X),ae=X.updateQueue,ae!==null&&rc(X,ae.retryQueue),ae=null,M!==null&&M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(ae=M.memoizedState.cachePool.pool),ye=null,X.memoizedState!==null&&X.memoizedState.cachePool!==null&&(ye=X.memoizedState.cachePool.pool),ye!==ae&&(X.flags|=2048),M!==null&&ht(Pa),null;case 24:return ae=null,M!==null&&(ae=M.memoizedState.cache),X.memoizedState.cache!==ae&&(X.flags|=2048),Fi(Kr),Rr(X),null;case 25:return null;case 30:return null}throw Error(b(156,X.tag))}function np(M,X){switch(zc(X),X.tag){case 1:return M=X.flags,M&65536?(X.flags=M&-65537|128,X):null;case 3:return Fi(Kr),hn(),M=X.flags,(M&65536)!==0&&(M&128)===0?(X.flags=M&-65537|128,X):null;case 26:case 27:case 5:return pn(X),null;case 31:if(X.memoizedState!==null){if($s(X),X.alternate===null)throw Error(b(340));Da()}return M=X.flags,M&65536?(X.flags=M&-65537|128,X):null;case 13:if($s(X),M=X.memoizedState,M!==null&&M.dehydrated!==null){if(X.alternate===null)throw Error(b(340));Da()}return M=X.flags,M&65536?(X.flags=M&-65537|128,X):null;case 19:return ht(Hr),null;case 4:return hn(),null;case 10:return Fi(X.type),null;case 22:case 23:return $s(X),aA(),M!==null&&ht(Pa),M=X.flags,M&65536?(X.flags=M&-65537|128,X):null;case 24:return Fi(Kr),null;case 25:return null;default:return null}}function rf(M,X){switch(zc(X),X.tag){case 3:Fi(Kr),hn();break;case 26:case 27:case 5:pn(X);break;case 4:hn();break;case 31:X.memoizedState!==null&&$s(X);break;case 13:$s(X);break;case 19:ht(Hr);break;case 10:Fi(X.type);break;case 22:case 23:$s(X),aA(),M!==null&&ht(Pa);break;case 24:Fi(Kr)}}function el(M,X){try{var ae=X.updateQueue,ye=ae!==null?ae.lastEffect:null;if(ye!==null){var Ve=ye.next;ae=Ve;do{if((ae.tag&M)===M){ye=void 0;var Ke=ae.create,rt=ae.inst;ye=Ke(),rt.destroy=ye}ae=ae.next}while(ae!==Ve)}}catch(dt){mr(X,X.return,dt)}}function da(M,X,ae){try{var ye=X.updateQueue,Ve=ye!==null?ye.lastEffect:null;if(Ve!==null){var Ke=Ve.next;ye=Ke;do{if((ye.tag&M)===M){var rt=ye.inst,dt=rt.destroy;if(dt!==void 0){rt.destroy=void 0,Ve=X;var wt=ae,Mt=dt;try{Mt()}catch(Ht){mr(Ve,wt,Ht)}}}ye=ye.next}while(ye!==Ke)}}catch(Ht){mr(X,X.return,Ht)}}function sf(M){var X=M.updateQueue;if(X!==null){var ae=M.stateNode;try{Wu(X,ae)}catch(ye){mr(M,M.return,ye)}}}function af(M,X,ae){ae.props=Qa(M.type,M.memoizedProps),ae.state=M.memoizedState;try{ae.componentWillUnmount()}catch(ye){mr(M,X,ye)}}function tl(M,X){try{var ae=M.ref;if(ae!==null){switch(M.tag){case 26:case 27:case 5:var ye=M.stateNode;break;case 30:ye=M.stateNode;break;default:ye=M.stateNode}typeof ae=="function"?M.refCleanup=ae(ye):ae.current=ye}}catch(Ve){mr(M,X,Ve)}}function xi(M,X){var ae=M.ref,ye=M.refCleanup;if(ae!==null)if(typeof ye=="function")try{ye()}catch(Ve){mr(M,X,Ve)}finally{M.refCleanup=null,M=M.alternate,M!=null&&(M.refCleanup=null)}else if(typeof ae=="function")try{ae(null)}catch(Ve){mr(M,X,Ve)}else ae.current=null}function of(M){var X=M.type,ae=M.memoizedProps,ye=M.stateNode;try{e:switch(X){case"button":case"input":case"select":case"textarea":ae.autoFocus&&ye.focus();break e;case"img":ae.src?ye.src=ae.src:ae.srcSet&&(ye.srcset=ae.srcSet)}}catch(Ve){mr(M,M.return,Ve)}}function $A(M,X,ae){try{var ye=M.stateNode;Bp(ye,M.type,ae,X),ye[en]=X}catch(Ve){mr(M,M.return,Ve)}}function lf(M){return M.tag===5||M.tag===3||M.tag===26||M.tag===27&&ya(M.type)||M.tag===4}function UA(M){e:for(;;){for(;M.sibling===null;){if(M.return===null||lf(M.return))return null;M=M.return}for(M.sibling.return=M.return,M=M.sibling;M.tag!==5&&M.tag!==6&&M.tag!==18;){if(M.tag===27&&ya(M.type)||M.flags&2||M.child===null||M.tag===4)continue e;M.child.return=M,M=M.child}if(!(M.flags&2))return M.stateNode}}function HA(M,X,ae){var ye=M.tag;if(ye===5||ye===6)M=M.stateNode,X?(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).insertBefore(M,X):(X=ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae,X.appendChild(M),ae=ae._reactRootContainer,ae!=null||X.onclick!==null||(X.onclick=bs));else if(ye!==4&&(ye===27&&ya(M.type)&&(ae=M.stateNode,X=null),M=M.child,M!==null))for(HA(M,X,ae),M=M.sibling;M!==null;)HA(M,X,ae),M=M.sibling}function sc(M,X,ae){var ye=M.tag;if(ye===5||ye===6)M=M.stateNode,X?ae.insertBefore(M,X):ae.appendChild(M);else if(ye!==4&&(ye===27&&ya(M.type)&&(ae=M.stateNode),M=M.child,M!==null))for(sc(M,X,ae),M=M.sibling;M!==null;)sc(M,X,ae),M=M.sibling}function cf(M){var X=M.stateNode,ae=M.memoizedProps;try{for(var ye=M.type,Ve=X.attributes;Ve.length;)X.removeAttributeNode(Ve[0]);fs(X,ye,ae),X[nn]=M,X[en]=ae}catch(Ke){mr(M,M.return,Ke)}}var Li=!1,Xr=!1,QA=!1,Af=typeof WeakSet=="function"?WeakSet:Set,ls=null;function rp(M,X){if(M=M.containerInfo,Au=Sc,M=ot(M),At(M)){if("selectionStart"in M)var ae={start:M.selectionStart,end:M.selectionEnd};else e:{ae=(ae=M.ownerDocument)&&ae.defaultView||window;var ye=ae.getSelection&&ae.getSelection();if(ye&&ye.rangeCount!==0){ae=ye.anchorNode;var Ve=ye.anchorOffset,Ke=ye.focusNode;ye=ye.focusOffset;try{ae.nodeType,Ke.nodeType}catch{ae=null;break e}var rt=0,dt=-1,wt=-1,Mt=0,Ht=0,Vt=M,Dt=null;t:for(;;){for(var jt;Vt!==ae||Ve!==0&&Vt.nodeType!==3||(dt=rt+Ve),Vt!==Ke||ye!==0&&Vt.nodeType!==3||(wt=rt+ye),Vt.nodeType===3&&(rt+=Vt.nodeValue.length),(jt=Vt.firstChild)!==null;)Dt=Vt,Vt=jt;for(;;){if(Vt===M)break t;if(Dt===ae&&++Mt===Ve&&(dt=rt),Dt===Ke&&++Ht===ye&&(wt=rt),(jt=Vt.nextSibling)!==null)break;Vt=Dt,Dt=Vt.parentNode}Vt=jt}ae=dt===-1||wt===-1?null:{start:dt,end:wt}}else ae=null}ae=ae||{start:0,end:0}}else ae=null;for(uu={focusedElem:M,selectionRange:ae},Sc=!1,ls=X;ls!==null;)if(X=ls,M=X.child,(X.subtreeFlags&1028)!==0&&M!==null)M.return=X,ls=M;else for(;ls!==null;){switch(X=ls,Ke=X.alternate,M=X.flags,X.tag){case 0:if((M&4)!==0&&(M=X.updateQueue,M=M!==null?M.events:null,M!==null))for(ae=0;ae<M.length;ae++)Ve=M[ae],Ve.ref.impl=Ve.nextImpl;break;case 11:case 15:break;case 1:if((M&1024)!==0&&Ke!==null){M=void 0,ae=X,Ve=Ke.memoizedProps,Ke=Ke.memoizedState,ye=ae.stateNode;try{var An=Qa(ae.type,Ve);M=ye.getSnapshotBeforeUpdate(An,Ke),ye.__reactInternalSnapshotBeforeUpdate=M}catch(bn){mr(ae,ae.return,bn)}}break;case 3:if((M&1024)!==0){if(M=X.stateNode.containerInfo,ae=M.nodeType,ae===9)hu(M);else if(ae===1)switch(M.nodeName){case"HEAD":case"HTML":case"BODY":hu(M);break;default:M.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((M&1024)!==0)throw Error(b(163))}if(M=X.sibling,M!==null){M.return=X.return,ls=M;break}ls=X.return}}function uf(M,X,ae){var ye=ae.flags;switch(ae.tag){case 0:case 11:case 15:ji(M,ae),ye&4&&el(5,ae);break;case 1:if(ji(M,ae),ye&4)if(M=ae.stateNode,X===null)try{M.componentDidMount()}catch(rt){mr(ae,ae.return,rt)}else{var Ve=Qa(ae.type,X.memoizedProps);X=X.memoizedState;try{M.componentDidUpdate(Ve,X,M.__reactInternalSnapshotBeforeUpdate)}catch(rt){mr(ae,ae.return,rt)}}ye&64&&sf(ae),ye&512&&tl(ae,ae.return);break;case 3:if(ji(M,ae),ye&64&&(M=ae.updateQueue,M!==null)){if(X=null,ae.child!==null)switch(ae.child.tag){case 27:case 5:X=ae.child.stateNode;break;case 1:X=ae.child.stateNode}try{Wu(M,X)}catch(rt){mr(ae,ae.return,rt)}}break;case 27:X===null&&ye&4&&cf(ae);case 26:case 5:ji(M,ae),X===null&&ye&4&&of(ae),ye&512&&tl(ae,ae.return);break;case 12:ji(M,ae);break;case 31:ji(M,ae),ye&4&&hf(M,ae);break;case 13:ji(M,ae),ye&4&&pf(M,ae),ye&64&&(M=ae.memoizedState,M!==null&&(M=M.dehydrated,M!==null&&(ae=hp.bind(null,ae),Mp(M,ae))));break;case 22:if(ye=ae.memoizedState!==null||Li,!ye){X=X!==null&&X.memoizedState!==null||Xr,Ve=Li;var Ke=Xr;Li=ye,(Xr=X)&&!Ke?$i(M,ae,(ae.subtreeFlags&8772)!==0):ji(M,ae),Li=Ve,Xr=Ke}break;case 30:break;default:ji(M,ae)}}function df(M){var X=M.alternate;X!==null&&(M.alternate=null,df(X)),M.child=null,M.deletions=null,M.sibling=null,M.tag===5&&(X=M.stateNode,X!==null&&$n(X)),M.stateNode=null,M.return=null,M.dependencies=null,M.memoizedProps=null,M.memoizedState=null,M.pendingProps=null,M.stateNode=null,M.updateQueue=null}var Mr=null,_s=!1;function Pi(M,X,ae){for(ae=ae.child;ae!==null;)ff(M,X,ae),ae=ae.sibling}function ff(M,X,ae){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Pn,ae)}catch{}switch(ae.tag){case 26:Xr||xi(ae,X),Pi(M,X,ae),ae.memoizedState?ae.memoizedState.count--:ae.stateNode&&(ae=ae.stateNode,ae.parentNode.removeChild(ae));break;case 27:Xr||xi(ae,X);var ye=Mr,Ve=_s;ya(ae.type)&&(Mr=ae.stateNode,_s=!1),Pi(M,X,ae),Al(ae.stateNode),Mr=ye,_s=Ve;break;case 5:Xr||xi(ae,X);case 6:if(ye=Mr,Ve=_s,Mr=null,Pi(M,X,ae),Mr=ye,_s=Ve,Mr!==null)if(_s)try{(Mr.nodeType===9?Mr.body:Mr.nodeName==="HTML"?Mr.ownerDocument.body:Mr).removeChild(ae.stateNode)}catch(Ke){mr(ae,X,Ke)}else try{Mr.removeChild(ae.stateNode)}catch(Ke){mr(ae,X,Ke)}break;case 18:Mr!==null&&(_s?(M=Mr,ih(M.nodeType===9?M.body:M.nodeName==="HTML"?M.ownerDocument.body:M,ae.stateNode),_o(M)):ih(Mr,ae.stateNode));break;case 4:ye=Mr,Ve=_s,Mr=ae.stateNode.containerInfo,_s=!0,Pi(M,X,ae),Mr=ye,_s=Ve;break;case 0:case 11:case 14:case 15:da(2,ae,X),Xr||da(4,ae,X),Pi(M,X,ae);break;case 1:Xr||(xi(ae,X),ye=ae.stateNode,typeof ye.componentWillUnmount=="function"&&af(ae,X,ye)),Pi(M,X,ae);break;case 21:Pi(M,X,ae);break;case 22:Xr=(ye=Xr)||ae.memoizedState!==null,Pi(M,X,ae),Xr=ye;break;default:Pi(M,X,ae)}}function hf(M,X){if(X.memoizedState===null&&(M=X.alternate,M!==null&&(M=M.memoizedState,M!==null))){M=M.dehydrated;try{_o(M)}catch(ae){mr(X,X.return,ae)}}}function pf(M,X){if(X.memoizedState===null&&(M=X.alternate,M!==null&&(M=M.memoizedState,M!==null&&(M=M.dehydrated,M!==null))))try{_o(M)}catch(ae){mr(X,X.return,ae)}}function sp(M){switch(M.tag){case 31:case 13:case 19:var X=M.stateNode;return X===null&&(X=M.stateNode=new Af),X;case 22:return M=M.stateNode,X=M._retryCache,X===null&&(X=M._retryCache=new Af),X;default:throw Error(b(435,M.tag))}}function ic(M,X){var ae=sp(M);X.forEach(function(ye){if(!ae.has(ye)){ae.add(ye);var Ve=pp.bind(null,M,ye);ye.then(Ve,Ve)}})}function Ts(M,X){var ae=X.deletions;if(ae!==null)for(var ye=0;ye<ae.length;ye++){var Ve=ae[ye],Ke=M,rt=X,dt=rt;e:for(;dt!==null;){switch(dt.tag){case 27:if(ya(dt.type)){Mr=dt.stateNode,_s=!1;break e}break;case 5:Mr=dt.stateNode,_s=!1;break e;case 3:case 4:Mr=dt.stateNode.containerInfo,_s=!0;break e}dt=dt.return}if(Mr===null)throw Error(b(160));ff(Ke,rt,Ve),Mr=null,_s=!1,Ke=Ve.alternate,Ke!==null&&(Ke.return=null),Ve.return=null}if(X.subtreeFlags&13886)for(X=X.child;X!==null;)mf(X,M),X=X.sibling}var oi=null;function mf(M,X){var ae=M.alternate,ye=M.flags;switch(M.tag){case 0:case 11:case 14:case 15:Ts(X,M),Rs(M),ye&4&&(da(3,M,M.return),el(3,M),da(5,M,M.return));break;case 1:Ts(X,M),Rs(M),ye&512&&(Xr||ae===null||xi(ae,ae.return)),ye&64&&Li&&(M=M.updateQueue,M!==null&&(ye=M.callbacks,ye!==null&&(ae=M.shared.hiddenCallbacks,M.shared.hiddenCallbacks=ae===null?ye:ae.concat(ye))));break;case 26:var Ve=oi;if(Ts(X,M),Rs(M),ye&512&&(Xr||ae===null||xi(ae,ae.return)),ye&4){var Ke=ae!==null?ae.memoizedState:null;if(ye=M.memoizedState,ae===null)if(ye===null)if(M.stateNode===null){e:{ye=M.type,ae=M.memoizedProps,Ve=Ve.ownerDocument||Ve;t:switch(ye){case"title":Ke=Ve.getElementsByTagName("title")[0],(!Ke||Ke[br]||Ke[nn]||Ke.namespaceURI==="http://www.w3.org/2000/svg"||Ke.hasAttribute("itemprop"))&&(Ke=Ve.createElement(ye),Ve.head.insertBefore(Ke,Ve.querySelector("head > title"))),fs(Ke,ye,ae),Ke[nn]=M,sr(Ke),ye=Ke;break e;case"link":var rt=mh("link","href",Ve).get(ye+(ae.href||""));if(rt){for(var dt=0;dt<rt.length;dt++)if(Ke=rt[dt],Ke.getAttribute("href")===(ae.href==null||ae.href===""?null:ae.href)&&Ke.getAttribute("rel")===(ae.rel==null?null:ae.rel)&&Ke.getAttribute("title")===(ae.title==null?null:ae.title)&&Ke.getAttribute("crossorigin")===(ae.crossOrigin==null?null:ae.crossOrigin)){rt.splice(dt,1);break t}}Ke=Ve.createElement(ye),fs(Ke,ye,ae),Ve.head.appendChild(Ke);break;case"meta":if(rt=mh("meta","content",Ve).get(ye+(ae.content||""))){for(dt=0;dt<rt.length;dt++)if(Ke=rt[dt],Ke.getAttribute("content")===(ae.content==null?null:""+ae.content)&&Ke.getAttribute("name")===(ae.name==null?null:ae.name)&&Ke.getAttribute("property")===(ae.property==null?null:ae.property)&&Ke.getAttribute("http-equiv")===(ae.httpEquiv==null?null:ae.httpEquiv)&&Ke.getAttribute("charset")===(ae.charSet==null?null:ae.charSet)){rt.splice(dt,1);break t}}Ke=Ve.createElement(ye),fs(Ke,ye,ae),Ve.head.appendChild(Ke);break;default:throw Error(b(468,ye))}Ke[nn]=M,sr(Ke),ye=Ke}M.stateNode=ye}else gh(Ve,M.type,M.stateNode);else M.stateNode=ph(Ve,ye,M.memoizedProps);else Ke!==ye?(Ke===null?ae.stateNode!==null&&(ae=ae.stateNode,ae.parentNode.removeChild(ae)):Ke.count--,ye===null?gh(Ve,M.type,M.stateNode):ph(Ve,ye,M.memoizedProps)):ye===null&&M.stateNode!==null&&$A(M,M.memoizedProps,ae.memoizedProps)}break;case 27:Ts(X,M),Rs(M),ye&512&&(Xr||ae===null||xi(ae,ae.return)),ae!==null&&ye&4&&$A(M,M.memoizedProps,ae.memoizedProps);break;case 5:if(Ts(X,M),Rs(M),ye&512&&(Xr||ae===null||xi(ae,ae.return)),M.flags&32){Ve=M.stateNode;try{Ki(Ve,"")}catch(An){mr(M,M.return,An)}}ye&4&&M.stateNode!=null&&(Ve=M.memoizedProps,$A(M,Ve,ae!==null?ae.memoizedProps:Ve)),ye&1024&&(QA=!0);break;case 6:if(Ts(X,M),Rs(M),ye&4){if(M.stateNode===null)throw Error(b(162));ye=M.memoizedProps,ae=M.stateNode;try{ae.nodeValue=ye}catch(An){mr(M,M.return,An)}}break;case 3:if(Ec=null,Ve=oi,oi=yc(X.containerInfo),Ts(X,M),oi=Ve,Rs(M),ye&4&&ae!==null&&ae.memoizedState.isDehydrated)try{_o(X.containerInfo)}catch(An){mr(M,M.return,An)}QA&&(QA=!1,gf(M));break;case 4:ye=oi,oi=yc(M.stateNode.containerInfo),Ts(X,M),Rs(M),oi=ye;break;case 12:Ts(X,M),Rs(M);break;case 31:Ts(X,M),Rs(M),ye&4&&(ye=M.updateQueue,ye!==null&&(M.updateQueue=null,ic(M,ye)));break;case 13:Ts(X,M),Rs(M),M.child.flags&8192&&M.memoizedState!==null!=(ae!==null&&ae.memoizedState!==null)&&(oc=Kt()),ye&4&&(ye=M.updateQueue,ye!==null&&(M.updateQueue=null,ic(M,ye)));break;case 22:Ve=M.memoizedState!==null;var wt=ae!==null&&ae.memoizedState!==null,Mt=Li,Ht=Xr;if(Li=Mt||Ve,Xr=Ht||wt,Ts(X,M),Xr=Ht,Li=Mt,Rs(M),ye&8192)e:for(X=M.stateNode,X._visibility=Ve?X._visibility&-2:X._visibility|1,Ve&&(ae===null||wt||Li||Xr||Va(M)),ae=null,X=M;;){if(X.tag===5||X.tag===26){if(ae===null){wt=ae=X;try{if(Ke=wt.stateNode,Ve)rt=Ke.style,typeof rt.setProperty=="function"?rt.setProperty("display","none","important"):rt.display="none";else{dt=wt.stateNode;var Vt=wt.memoizedProps.style,Dt=Vt!=null&&Vt.hasOwnProperty("display")?Vt.display:null;dt.style.display=Dt==null||typeof Dt=="boolean"?"":(""+Dt).trim()}}catch(An){mr(wt,wt.return,An)}}}else if(X.tag===6){if(ae===null){wt=X;try{wt.stateNode.nodeValue=Ve?"":wt.memoizedProps}catch(An){mr(wt,wt.return,An)}}}else if(X.tag===18){if(ae===null){wt=X;try{var jt=wt.stateNode;Ve?ah(jt,!0):ah(wt.stateNode,!1)}catch(An){mr(wt,wt.return,An)}}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===M)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===M)break e;for(;X.sibling===null;){if(X.return===null||X.return===M)break e;ae===X&&(ae=null),X=X.return}ae===X&&(ae=null),X.sibling.return=X.return,X=X.sibling}ye&4&&(ye=M.updateQueue,ye!==null&&(ae=ye.retryQueue,ae!==null&&(ye.retryQueue=null,ic(M,ae))));break;case 19:Ts(X,M),Rs(M),ye&4&&(ye=M.updateQueue,ye!==null&&(M.updateQueue=null,ic(M,ye)));break;case 30:break;case 21:break;default:Ts(X,M),Rs(M)}}function Rs(M){var X=M.flags;if(X&2){try{for(var ae,ye=M.return;ye!==null;){if(lf(ye)){ae=ye;break}ye=ye.return}if(ae==null)throw Error(b(160));switch(ae.tag){case 27:var Ve=ae.stateNode,Ke=UA(M);sc(M,Ke,Ve);break;case 5:var rt=ae.stateNode;ae.flags&32&&(Ki(rt,""),ae.flags&=-33);var dt=UA(M);sc(M,dt,rt);break;case 3:case 4:var wt=ae.stateNode.containerInfo,Mt=UA(M);HA(M,Mt,wt);break;default:throw Error(b(161))}}catch(Ht){mr(M,M.return,Ht)}M.flags&=-3}X&4096&&(M.flags&=-4097)}function gf(M){if(M.subtreeFlags&1024)for(M=M.child;M!==null;){var X=M;gf(X),X.tag===5&&X.flags&1024&&X.stateNode.reset(),M=M.sibling}}function ji(M,X){if(X.subtreeFlags&8772)for(X=X.child;X!==null;)uf(M,X.alternate,X),X=X.sibling}function Va(M){for(M=M.child;M!==null;){var X=M;switch(X.tag){case 0:case 11:case 14:case 15:da(4,X,X.return),Va(X);break;case 1:xi(X,X.return);var ae=X.stateNode;typeof ae.componentWillUnmount=="function"&&af(X,X.return,ae),Va(X);break;case 27:Al(X.stateNode);case 26:case 5:xi(X,X.return),Va(X);break;case 22:X.memoizedState===null&&Va(X);break;case 30:Va(X);break;default:Va(X)}M=M.sibling}}function $i(M,X,ae){for(ae=ae&&(X.subtreeFlags&8772)!==0,X=X.child;X!==null;){var ye=X.alternate,Ve=M,Ke=X,rt=Ke.flags;switch(Ke.tag){case 0:case 11:case 15:$i(Ve,Ke,ae),el(4,Ke);break;case 1:if($i(Ve,Ke,ae),ye=Ke,Ve=ye.stateNode,typeof Ve.componentDidMount=="function")try{Ve.componentDidMount()}catch(Mt){mr(ye,ye.return,Mt)}if(ye=Ke,Ve=ye.updateQueue,Ve!==null){var dt=ye.stateNode;try{var wt=Ve.shared.hiddenCallbacks;if(wt!==null)for(Ve.shared.hiddenCallbacks=null,Ve=0;Ve<wt.length;Ve++)Ku(wt[Ve],dt)}catch(Mt){mr(ye,ye.return,Mt)}}ae&&rt&64&&sf(Ke),tl(Ke,Ke.return);break;case 27:cf(Ke);case 26:case 5:$i(Ve,Ke,ae),ae&&ye===null&&rt&4&&of(Ke),tl(Ke,Ke.return);break;case 12:$i(Ve,Ke,ae);break;case 31:$i(Ve,Ke,ae),ae&&rt&4&&hf(Ve,Ke);break;case 13:$i(Ve,Ke,ae),ae&&rt&4&&pf(Ve,Ke);break;case 22:Ke.memoizedState===null&&$i(Ve,Ke,ae),tl(Ke,Ke.return);break;case 30:break;default:$i(Ve,Ke,ae)}X=X.sibling}}function VA(M,X){var ae=null;M!==null&&M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(ae=M.memoizedState.cachePool.pool),M=null,X.memoizedState!==null&&X.memoizedState.cachePool!==null&&(M=X.memoizedState.cachePool.pool),M!==ae&&(M!=null&&M.refCount++,ae!=null&&Uo(ae))}function zA(M,X){M=null,X.alternate!==null&&(M=X.alternate.memoizedState.cache),X=X.memoizedState.cache,X!==M&&(X.refCount++,M!=null&&Uo(M))}function li(M,X,ae,ye){if(X.subtreeFlags&10256)for(X=X.child;X!==null;)xf(M,X,ae,ye),X=X.sibling}function xf(M,X,ae,ye){var Ve=X.flags;switch(X.tag){case 0:case 11:case 15:li(M,X,ae,ye),Ve&2048&&el(9,X);break;case 1:li(M,X,ae,ye);break;case 3:li(M,X,ae,ye),Ve&2048&&(M=null,X.alternate!==null&&(M=X.alternate.memoizedState.cache),X=X.memoizedState.cache,X!==M&&(X.refCount++,M!=null&&Uo(M)));break;case 12:if(Ve&2048){li(M,X,ae,ye),M=X.stateNode;try{var Ke=X.memoizedProps,rt=Ke.id,dt=Ke.onPostCommit;typeof dt=="function"&&dt(rt,X.alternate===null?"mount":"update",M.passiveEffectDuration,-0)}catch(wt){mr(X,X.return,wt)}}else li(M,X,ae,ye);break;case 31:li(M,X,ae,ye);break;case 13:li(M,X,ae,ye);break;case 23:break;case 22:Ke=X.stateNode,rt=X.alternate,X.memoizedState!==null?Ke._visibility&2?li(M,X,ae,ye):nl(M,X):Ke._visibility&2?li(M,X,ae,ye):(Ke._visibility|=2,mo(M,X,ae,ye,(X.subtreeFlags&10256)!==0||!1)),Ve&2048&&VA(rt,X);break;case 24:li(M,X,ae,ye),Ve&2048&&zA(X.alternate,X);break;default:li(M,X,ae,ye)}}function mo(M,X,ae,ye,Ve){for(Ve=Ve&&((X.subtreeFlags&10256)!==0||!1),X=X.child;X!==null;){var Ke=M,rt=X,dt=ae,wt=ye,Mt=rt.flags;switch(rt.tag){case 0:case 11:case 15:mo(Ke,rt,dt,wt,Ve),el(8,rt);break;case 23:break;case 22:var Ht=rt.stateNode;rt.memoizedState!==null?Ht._visibility&2?mo(Ke,rt,dt,wt,Ve):nl(Ke,rt):(Ht._visibility|=2,mo(Ke,rt,dt,wt,Ve)),Ve&&Mt&2048&&VA(rt.alternate,rt);break;case 24:mo(Ke,rt,dt,wt,Ve),Ve&&Mt&2048&&zA(rt.alternate,rt);break;default:mo(Ke,rt,dt,wt,Ve)}X=X.sibling}}function nl(M,X){if(X.subtreeFlags&10256)for(X=X.child;X!==null;){var ae=M,ye=X,Ve=ye.flags;switch(ye.tag){case 22:nl(ae,ye),Ve&2048&&VA(ye.alternate,ye);break;case 24:nl(ae,ye),Ve&2048&&zA(ye.alternate,ye);break;default:nl(ae,ye)}X=X.sibling}}var rl=8192;function go(M,X,ae){if(M.subtreeFlags&rl)for(M=M.child;M!==null;)yf(M,X,ae),M=M.sibling}function yf(M,X,ae){switch(M.tag){case 26:go(M,X,ae),M.flags&rl&&M.memoizedState!==null&&Gp(ae,oi,M.memoizedState,M.memoizedProps);break;case 5:go(M,X,ae);break;case 3:case 4:var ye=oi;oi=yc(M.stateNode.containerInfo),go(M,X,ae),oi=ye;break;case 22:M.memoizedState===null&&(ye=M.alternate,ye!==null&&ye.memoizedState!==null?(ye=rl,rl=16777216,go(M,X,ae),rl=ye):go(M,X,ae));break;default:go(M,X,ae)}}function vf(M){var X=M.alternate;if(X!==null&&(M=X.child,M!==null)){X.child=null;do X=M.sibling,M.sibling=null,M=X;while(M!==null)}}function sl(M){var X=M.deletions;if((M.flags&16)!==0){if(X!==null)for(var ae=0;ae<X.length;ae++){var ye=X[ae];ls=ye,Cf(ye,M)}vf(M)}if(M.subtreeFlags&10256)for(M=M.child;M!==null;)Ef(M),M=M.sibling}function Ef(M){switch(M.tag){case 0:case 11:case 15:sl(M),M.flags&2048&&da(9,M,M.return);break;case 3:sl(M);break;case 12:sl(M);break;case 22:var X=M.stateNode;M.memoizedState!==null&&X._visibility&2&&(M.return===null||M.return.tag!==13)?(X._visibility&=-3,ac(M)):sl(M);break;default:sl(M)}}function ac(M){var X=M.deletions;if((M.flags&16)!==0){if(X!==null)for(var ae=0;ae<X.length;ae++){var ye=X[ae];ls=ye,Cf(ye,M)}vf(M)}for(M=M.child;M!==null;){switch(X=M,X.tag){case 0:case 11:case 15:da(8,X,X.return),ac(X);break;case 22:ae=X.stateNode,ae._visibility&2&&(ae._visibility&=-3,ac(X));break;default:ac(X)}M=M.sibling}}function Cf(M,X){for(;ls!==null;){var ae=ls;switch(ae.tag){case 0:case 11:case 15:da(8,ae,X);break;case 23:case 22:if(ae.memoizedState!==null&&ae.memoizedState.cachePool!==null){var ye=ae.memoizedState.cachePool.pool;ye!=null&&ye.refCount++}break;case 24:Uo(ae.memoizedState.cache)}if(ye=ae.child,ye!==null)ye.return=ae,ls=ye;else e:for(ae=M;ls!==null;){ye=ls;var Ve=ye.sibling,Ke=ye.return;if(df(ye),ye===ae){ls=null;break e}if(Ve!==null){Ve.return=Ke,ls=Ve;break e}ls=Ke}}}var ap={getCacheForType:function(M){var X=us(Kr),ae=X.data.get(M);return ae===void 0&&(ae=M(),X.data.set(M,ae)),ae},cacheSignal:function(){return us(Kr).controller.signal}},lp=typeof WeakMap=="function"?WeakMap:Map,Ar=0,wr=null,Kn=null,Yn=0,pr=0,Us=null,fa=!1,xo=!1,GA=!1,Ui=0,jr=0,ha=0,za=0,KA=0,Hs=0,yo=0,il=null,Is=null,WA=!1,oc=0,wf=0,lc=1/0,cc=null,pa=null,ss=0,ma=null,vo=null,Hi=0,qA=0,XA=null,bf=null,al=0,YA=null;function Qs(){return(Ar&2)!==0&&Yn!==0?Yn&-Yn:Ze.T!==null?ru():sn()}function Sf(){if(Hs===0)if((Yn&536870912)===0||rr){var M=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),Hs=M}else Hs=536870912;return M=js.current,M!==null&&(M.flags|=32),Hs}function Ns(M,X,ae){(M===wr&&(pr===2||pr===9)||M.cancelPendingCommit!==null)&&(Eo(M,0),ga(M,Yn,Hs,!1)),zs(M,ae),((Ar&2)===0||M!==wr)&&(M===wr&&((Ar&2)===0&&(za|=ae),jr===4&&ga(M,Yn,Hs,!1)),yi(M))}function Bf(M,X,ae){if((Ar&6)!==0)throw Error(b(327));var ye=!ae&&(X&127)===0&&(X&M.expiredLanes)===0||Vr(M,X),Ve=ye?up(M,X):ZA(M,X,!0),Ke=ye;do{if(Ve===0){xo&&!ye&&ga(M,X,0,!1);break}else{if(ae=M.current.alternate,Ke&&!cp(ae)){Ve=ZA(M,X,!1),Ke=!1;continue}if(Ve===2){if(Ke=X,M.errorRecoveryDisabledLanes&Ke)var rt=0;else rt=M.pendingLanes&-536870913,rt=rt!==0?rt:rt&536870912?536870912:0;if(rt!==0){X=rt;e:{var dt=M;Ve=il;var wt=dt.current.memoizedState.isDehydrated;if(wt&&(Eo(dt,rt).flags|=256),rt=ZA(dt,rt,!1),rt!==2){if(GA&&!wt){dt.errorRecoveryDisabledLanes|=Ke,za|=Ke,Ve=4;break e}Ke=Is,Is=Ve,Ke!==null&&(Is===null?Is=Ke:Is.push.apply(Is,Ke))}Ve=rt}if(Ke=!1,Ve!==2)continue}}if(Ve===1){Eo(M,0),ga(M,X,0,!0);break}e:{switch(ye=M,Ke=Ve,Ke){case 0:case 1:throw Error(b(345));case 4:if((X&4194048)!==X)break;case 6:ga(ye,X,Hs,!fa);break e;case 2:Is=null;break;case 3:case 5:break;default:throw Error(b(329))}if((X&62914560)===X&&(Ve=oc+300-Kt(),10<Ve)){if(ga(ye,X,Hs,!fa),Ei(ye,0,!0)!==0)break e;Hi=X,ye.timeoutHandle=rh(_f.bind(null,ye,ae,Is,cc,WA,X,Hs,za,yo,fa,Ke,"Throttled",-0,0),Ve);break e}_f(ye,ae,Is,cc,WA,X,Hs,za,yo,fa,Ke,null,-0,0)}}break}while(!0);yi(M)}function _f(M,X,ae,ye,Ve,Ke,rt,dt,wt,Mt,Ht,Vt,Dt,jt){if(M.timeoutHandle=-1,Vt=X.subtreeFlags,Vt&8192||(Vt&16785408)===16785408){Vt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bs},yf(X,Ke,Vt);var An=(Ke&62914560)===Ke?oc-Kt():(Ke&4194048)===Ke?wf-Kt():0;if(An=Kp(Vt,An),An!==null){Hi=Ke,M.cancelPendingCommit=An(Df.bind(null,M,X,Ke,ae,ye,Ve,rt,dt,wt,Ht,Vt,null,Dt,jt)),ga(M,Ke,rt,!Mt);return}}Df(M,X,Ke,ae,ye,Ve,rt,dt,wt)}function cp(M){for(var X=M;;){var ae=X.tag;if((ae===0||ae===11||ae===15)&&X.flags&16384&&(ae=X.updateQueue,ae!==null&&(ae=ae.stores,ae!==null)))for(var ye=0;ye<ae.length;ye++){var Ve=ae[ye],Ke=Ve.getSnapshot;Ve=Ve.value;try{if(!Be(Ke(),Ve))return!1}catch{return!1}}if(ae=X.child,X.subtreeFlags&16384&&ae!==null)ae.return=X,X=ae;else{if(X===M)break;for(;X.sibling===null;){if(X.return===null||X.return===M)return!0;X=X.return}X.sibling.return=X.return,X=X.sibling}}return!0}function ga(M,X,ae,ye){X&=~KA,X&=~za,M.suspendedLanes|=X,M.pingedLanes&=~X,ye&&(M.warmLanes|=X),ye=M.expirationTimes;for(var Ve=X;0<Ve;){var Ke=31-Bn(Ve),rt=1<<Ke;ye[Ke]=-1,Ve&=~rt}ae!==0&&Ct(M,ae,X)}function Ac(){return(Ar&6)===0?(ol(0),!1):!0}function JA(){if(Kn!==null){if(pr===0)var M=Kn.return;else M=Kn,Ni=Oa=null,dA(M),Ao=null,Qo=0,M=Kn;for(;M!==null;)rf(M.alternate,M),M=M.return;Kn=null}}function Eo(M,X){var ae=M.timeoutHandle;ae!==-1&&(M.timeoutHandle=-1,Rp(ae)),ae=M.cancelPendingCommit,ae!==null&&(M.cancelPendingCommit=null,ae()),Hi=0,JA(),wr=M,Kn=ae=Ri(M.current,null),Yn=X,pr=0,Us=null,fa=!1,xo=Vr(M,X),GA=!1,yo=Hs=KA=za=ha=jr=0,Is=il=null,WA=!1,(X&8)!==0&&(X|=X&32);var ye=M.entangledLanes;if(ye!==0)for(M=M.entanglements,ye&=X;0<ye;){var Ve=31-Bn(ye),Ke=1<<Ve;X|=M[Ve],ye&=~Ke}return Ui=X,Il(),ae}function Tf(M,X){Mn=null,Ze.H=Yo,X===co||X===jl?(X=Qu(),pr=3):X===eA?(X=Qu(),pr=4):pr=X===IA?8:X!==null&&typeof X=="object"&&typeof X.then=="function"?6:1,Us=X,Kn===null&&(jr=1,Zl(M,qs(X,M.current)))}function Rf(){var M=js.current;return M===null?!0:(Yn&4194048)===Yn?Zs===null:(Yn&62914560)===Yn||(Yn&536870912)!==0?M===Zs:!1}function If(){var M=Ze.H;return Ze.H=Yo,M===null?Yo:M}function Nf(){var M=Ze.A;return Ze.A=ap,M}function uc(){jr=4,fa||(Yn&4194048)!==Yn&&js.current!==null||(xo=!0),(ha&134217727)===0&&(za&134217727)===0||wr===null||ga(wr,Yn,Hs,!1)}function ZA(M,X,ae){var ye=Ar;Ar|=2;var Ve=If(),Ke=Nf();(wr!==M||Yn!==X)&&(cc=null,Eo(M,X)),X=!1;var rt=jr;e:do try{if(pr!==0&&Kn!==null){var dt=Kn,wt=Us;switch(pr){case 8:JA(),rt=6;break e;case 3:case 2:case 9:case 6:js.current===null&&(X=!0);var Mt=pr;if(pr=0,Us=null,Co(M,dt,wt,Mt),ae&&xo){rt=0;break e}break;default:Mt=pr,pr=0,Us=null,Co(M,dt,wt,Mt)}}Ap(),rt=jr;break}catch(Ht){Tf(M,Ht)}while(!0);return X&&M.shellSuspendCounter++,Ni=Oa=null,Ar=ye,Ze.H=Ve,Ze.A=Ke,Kn===null&&(wr=null,Yn=0,Il()),rt}function Ap(){for(;Kn!==null;)Ff(Kn)}function up(M,X){var ae=Ar;Ar|=2;var ye=If(),Ve=Nf();wr!==M||Yn!==X?(cc=null,lc=Kt()+500,Eo(M,X)):xo=Vr(M,X);e:do try{if(pr!==0&&Kn!==null){X=Kn;var Ke=Us;t:switch(pr){case 1:pr=0,Us=null,Co(M,X,Ke,1);break;case 2:case 9:if(Uu(Ke)){pr=0,Us=null,kf(X);break}X=function(){pr!==2&&pr!==9||wr!==M||(pr=7),yi(M)},Ke.then(X,X);break e;case 3:pr=7;break e;case 4:pr=5;break e;case 7:Uu(Ke)?(pr=0,Us=null,kf(X)):(pr=0,Us=null,Co(M,X,Ke,7));break;case 5:var rt=null;switch(Kn.tag){case 26:rt=Kn.memoizedState;case 5:case 27:var dt=Kn;if(rt?xh(rt):dt.stateNode.complete){pr=0,Us=null;var wt=dt.sibling;if(wt!==null)Kn=wt;else{var Mt=dt.return;Mt!==null?(Kn=Mt,dc(Mt)):Kn=null}break t}}pr=0,Us=null,Co(M,X,Ke,5);break;case 6:pr=0,Us=null,Co(M,X,Ke,6);break;case 8:JA(),jr=6;break e;default:throw Error(b(462))}}dp();break}catch(Ht){Tf(M,Ht)}while(!0);return Ni=Oa=null,Ze.H=ye,Ze.A=Ve,Ar=ae,Kn!==null?0:(wr=null,Yn=0,Il(),jr)}function dp(){for(;Kn!==null&&!Yr();)Ff(Kn)}function Ff(M){var X=tf(M.alternate,M,Ui);M.memoizedProps=M.pendingProps,X===null?dc(M):Kn=X}function kf(M){var X=M,ae=X.alternate;switch(X.tag){case 15:case 0:X=qd(ae,X,X.pendingProps,X.type,void 0,Yn);break;case 11:X=qd(ae,X,X.pendingProps,X.type.render,X.ref,Yn);break;case 5:dA(X);default:rf(ae,X),X=Kn=Iu(X,Ui),X=tf(ae,X,Ui)}M.memoizedProps=M.pendingProps,X===null?dc(M):Kn=X}function Co(M,X,ae,ye){Ni=Oa=null,dA(X),Ao=null,Qo=0;var Ve=X.return;try{if(Jh(M,Ve,X,ae,Yn)){jr=1,Zl(M,qs(ae,M.current)),Kn=null;return}}catch(Ke){if(Ve!==null)throw Kn=Ve,Ke;jr=1,Zl(M,qs(ae,M.current)),Kn=null;return}X.flags&32768?(rr||ye===1?M=!0:xo||(Yn&536870912)!==0?M=!1:(fa=M=!0,(ye===2||ye===9||ye===3||ye===6)&&(ye=js.current,ye!==null&&ye.tag===13&&(ye.flags|=16384))),Mf(X,M)):dc(X)}function dc(M){var X=M;do{if((X.flags&32768)!==0){Mf(X,fa);return}M=X.return;var ae=tp(X.alternate,X,Ui);if(ae!==null){Kn=ae;return}if(X=X.sibling,X!==null){Kn=X;return}Kn=X=M}while(X!==null);jr===0&&(jr=5)}function Mf(M,X){do{var ae=np(M.alternate,M);if(ae!==null){ae.flags&=32767,Kn=ae;return}if(ae=M.return,ae!==null&&(ae.flags|=32768,ae.subtreeFlags=0,ae.deletions=null),!X&&(M=M.sibling,M!==null)){Kn=M;return}Kn=M=ae}while(M!==null);jr=6,Kn=null}function Df(M,X,ae,ye,Ve,Ke,rt,dt,wt){M.cancelPendingCommit=null;do fc();while(ss!==0);if((Ar&6)!==0)throw Error(b(327));if(X!==null){if(X===M.current)throw Error(b(177));if(Ke=X.lanes|X.childLanes,Ke|=jc,Cs(M,ae,Ke,rt,dt,wt),M===wr&&(Kn=wr=null,Yn=0),vo=X,ma=M,Hi=ae,qA=Ke,XA=Ve,bf=ye,(X.subtreeFlags&10256)!==0||(X.flags&10256)!==0?(M.callbackNode=null,M.callbackPriority=0,mp(kn,function(){return $f(),null})):(M.callbackNode=null,M.callbackPriority=0),ye=(X.flags&13878)!==0,(X.subtreeFlags&13878)!==0||ye){ye=Ze.T,Ze.T=null,Ve=it.p,it.p=2,rt=Ar,Ar|=4;try{rp(M,X,ae)}finally{Ar=rt,it.p=Ve,Ze.T=ye}}ss=1,Of(),Lf(),Pf()}}function Of(){if(ss===1){ss=0;var M=ma,X=vo,ae=(X.flags&13878)!==0;if((X.subtreeFlags&13878)!==0||ae){ae=Ze.T,Ze.T=null;var ye=it.p;it.p=2;var Ve=Ar;Ar|=4;try{mf(X,M);var Ke=uu,rt=ot(M.containerInfo),dt=Ke.focusedElem,wt=Ke.selectionRange;if(rt!==dt&&dt&&dt.ownerDocument&&nt(dt.ownerDocument.documentElement,dt)){if(wt!==null&&At(dt)){var Mt=wt.start,Ht=wt.end;if(Ht===void 0&&(Ht=Mt),"selectionStart"in dt)dt.selectionStart=Mt,dt.selectionEnd=Math.min(Ht,dt.value.length);else{var Vt=dt.ownerDocument||document,Dt=Vt&&Vt.defaultView||window;if(Dt.getSelection){var jt=Dt.getSelection(),An=dt.textContent.length,bn=Math.min(wt.start,An),yr=wt.end===void 0?bn:Math.min(wt.end,An);!jt.extend&&bn>yr&&(rt=yr,yr=bn,bn=rt);var It=qe(dt,bn),Bt=qe(dt,yr);if(It&&Bt&&(jt.rangeCount!==1||jt.anchorNode!==It.node||jt.anchorOffset!==It.offset||jt.focusNode!==Bt.node||jt.focusOffset!==Bt.offset)){var kt=Vt.createRange();kt.setStart(It.node,It.offset),jt.removeAllRanges(),bn>yr?(jt.addRange(kt),jt.extend(Bt.node,Bt.offset)):(kt.setEnd(Bt.node,Bt.offset),jt.addRange(kt))}}}}for(Vt=[],jt=dt;jt=jt.parentNode;)jt.nodeType===1&&Vt.push({element:jt,left:jt.scrollLeft,top:jt.scrollTop});for(typeof dt.focus=="function"&&dt.focus(),dt=0;dt<Vt.length;dt++){var Qt=Vt[dt];Qt.element.scrollLeft=Qt.left,Qt.element.scrollTop=Qt.top}}Sc=!!Au,uu=Au=null}finally{Ar=Ve,it.p=ye,Ze.T=ae}}M.current=X,ss=2}}function Lf(){if(ss===2){ss=0;var M=ma,X=vo,ae=(X.flags&8772)!==0;if((X.subtreeFlags&8772)!==0||ae){ae=Ze.T,Ze.T=null;var ye=it.p;it.p=2;var Ve=Ar;Ar|=4;try{uf(M,X.alternate,X)}finally{Ar=Ve,it.p=ye,Ze.T=ae}}ss=3}}function Pf(){if(ss===4||ss===3){ss=0,Or();var M=ma,X=vo,ae=Hi,ye=bf;(X.subtreeFlags&10256)!==0||(X.flags&10256)!==0?ss=5:(ss=0,vo=ma=null,jf(M,M.pendingLanes));var Ve=M.pendingLanes;if(Ve===0&&(pa=null),Jt(ae),X=X.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Pn,X,void 0,(X.current.flags&128)===128)}catch{}if(ye!==null){X=Ze.T,Ve=it.p,it.p=2,Ze.T=null;try{for(var Ke=M.onRecoverableError,rt=0;rt<ye.length;rt++){var dt=ye[rt];Ke(dt.value,{componentStack:dt.stack})}}finally{Ze.T=X,it.p=Ve}}(Hi&3)!==0&&fc(),yi(M),Ve=M.pendingLanes,(ae&261930)!==0&&(Ve&42)!==0?M===YA?al++:(al=0,YA=M):al=0,ol(0)}}function jf(M,X){(M.pooledCacheLanes&=X)===0&&(X=M.pooledCache,X!=null&&(M.pooledCache=null,Uo(X)))}function fc(){return Of(),Lf(),Pf(),$f()}function $f(){if(ss!==5)return!1;var M=ma,X=qA;qA=0;var ae=Jt(Hi),ye=Ze.T,Ve=it.p;try{it.p=32>ae?32:ae,Ze.T=null,ae=XA,XA=null;var Ke=ma,rt=Hi;if(ss=0,vo=ma=null,Hi=0,(Ar&6)!==0)throw Error(b(331));var dt=Ar;if(Ar|=4,Ef(Ke.current),xf(Ke,Ke.current,rt,ae),Ar=dt,ol(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Pn,Ke)}catch{}return!0}finally{it.p=Ve,Ze.T=ye,jf(M,X)}}function Uf(M,X,ae){X=qs(ae,X),X=RA(M.stateNode,X,2),M=ca(M,X,2),M!==null&&(zs(M,2),yi(M))}function mr(M,X,ae){if(M.tag===3)Uf(M,M,ae);else for(;X!==null;){if(X.tag===3){Uf(X,M,ae);break}else if(X.tag===1){var ye=X.stateNode;if(typeof X.type.getDerivedStateFromError=="function"||typeof ye.componentDidCatch=="function"&&(pa===null||!pa.has(ye))){M=qs(ae,M),ae=Ud(2),ye=ca(X,ae,2),ye!==null&&(Hd(ae,ye,X,M),zs(ye,2),yi(ye));break}}X=X.return}}function eu(M,X,ae){var ye=M.pingCache;if(ye===null){ye=M.pingCache=new lp;var Ve=new Set;ye.set(X,Ve)}else Ve=ye.get(X),Ve===void 0&&(Ve=new Set,ye.set(X,Ve));Ve.has(ae)||(GA=!0,Ve.add(ae),M=fp.bind(null,M,X,ae),X.then(M,M))}function fp(M,X,ae){var ye=M.pingCache;ye!==null&&ye.delete(X),M.pingedLanes|=M.suspendedLanes&ae,M.warmLanes&=~ae,wr===M&&(Yn&ae)===ae&&(jr===4||jr===3&&(Yn&62914560)===Yn&&300>Kt()-oc?(Ar&2)===0&&Eo(M,0):KA|=ae,yo===Yn&&(yo=0)),yi(M)}function Hf(M,X){X===0&&(X=Ir()),M=ka(M,X),M!==null&&(zs(M,X),yi(M))}function hp(M){var X=M.memoizedState,ae=0;X!==null&&(ae=X.retryLane),Hf(M,ae)}function pp(M,X){var ae=0;switch(M.tag){case 31:case 13:var ye=M.stateNode,Ve=M.memoizedState;Ve!==null&&(ae=Ve.retryLane);break;case 19:ye=M.stateNode;break;case 22:ye=M.stateNode._retryCache;break;default:throw Error(b(314))}ye!==null&&ye.delete(X),Hf(M,ae)}function mp(M,X){return Sr(M,X)}var hc=null,wo=null,tu=!1,pc=!1,nu=!1,xa=0;function yi(M){M!==wo&&M.next===null&&(wo===null?hc=wo=M:wo=wo.next=M),pc=!0,tu||(tu=!0,xp())}function ol(M,X){if(!nu&&pc){nu=!0;do for(var ae=!1,ye=hc;ye!==null;){if(M!==0){var Ve=ye.pendingLanes;if(Ve===0)var Ke=0;else{var rt=ye.suspendedLanes,dt=ye.pingedLanes;Ke=(1<<31-Bn(42|M)+1)-1,Ke&=Ve&~(rt&~dt),Ke=Ke&201326741?Ke&201326741|1:Ke?Ke|2:0}Ke!==0&&(ae=!0,Gf(ye,Ke))}else Ke=Yn,Ke=Ei(ye,ye===wr?Ke:0,ye.cancelPendingCommit!==null||ye.timeoutHandle!==-1),(Ke&3)===0||Vr(ye,Ke)||(ae=!0,Gf(ye,Ke));ye=ye.next}while(ae);nu=!1}}function gp(){Qf()}function Qf(){pc=tu=!1;var M=0;xa!==0&&Tp()&&(M=xa);for(var X=Kt(),ae=null,ye=hc;ye!==null;){var Ve=ye.next,Ke=Vf(ye,X);Ke===0?(ye.next=null,ae===null?hc=Ve:ae.next=Ve,Ve===null&&(wo=ae)):(ae=ye,(M!==0||(Ke&3)!==0)&&(pc=!0)),ye=Ve}ss!==0&&ss!==5||ol(M),xa!==0&&(xa=0)}function Vf(M,X){for(var ae=M.suspendedLanes,ye=M.pingedLanes,Ve=M.expirationTimes,Ke=M.pendingLanes&-62914561;0<Ke;){var rt=31-Bn(Ke),dt=1<<rt,wt=Ve[rt];wt===-1?((dt&ae)===0||(dt&ye)!==0)&&(Ve[rt]=Ai(dt,X)):wt<=X&&(M.expiredLanes|=dt),Ke&=~dt}if(X=wr,ae=Yn,ae=Ei(M,M===X?ae:0,M.cancelPendingCommit!==null||M.timeoutHandle!==-1),ye=M.callbackNode,ae===0||M===X&&(pr===2||pr===9)||M.cancelPendingCommit!==null)return ye!==null&&ye!==null&&Zt(ye),M.callbackNode=null,M.callbackPriority=0;if((ae&3)===0||Vr(M,ae)){if(X=ae&-ae,X===M.callbackPriority)return X;switch(ye!==null&&Zt(ye),Jt(ae)){case 2:case 8:ae=Fn;break;case 32:ae=kn;break;case 268435456:ae=Jr;break;default:ae=kn}return ye=zf.bind(null,M),ae=Sr(ae,ye),M.callbackPriority=X,M.callbackNode=ae,X}return ye!==null&&ye!==null&&Zt(ye),M.callbackPriority=2,M.callbackNode=null,2}function zf(M,X){if(ss!==0&&ss!==5)return M.callbackNode=null,M.callbackPriority=0,null;var ae=M.callbackNode;if(fc()&&M.callbackNode!==ae)return null;var ye=Yn;return ye=Ei(M,M===wr?ye:0,M.cancelPendingCommit!==null||M.timeoutHandle!==-1),ye===0?null:(Bf(M,ye,X),Vf(M,Kt()),M.callbackNode!=null&&M.callbackNode===ae?zf.bind(null,M):null)}function Gf(M,X){if(fc())return null;Bf(M,X,!0)}function xp(){Ip(function(){(Ar&6)!==0?Sr(Cn,gp):Qf()})}function ru(){if(xa===0){var M=oo;M===0&&(M=ci,ci<<=1,(ci&261888)===0&&(ci=256)),xa=M}return xa}function Kf(M){return M==null||typeof M=="symbol"||typeof M=="boolean"?null:typeof M=="function"?M:Wi(""+M)}function Wf(M,X){var ae=X.ownerDocument.createElement("input");return ae.name=X.name,ae.value=X.value,M.id&&ae.setAttribute("form",M.id),X.parentNode.insertBefore(ae,X),M=new FormData(M),ae.parentNode.removeChild(ae),M}function yp(M,X,ae,ye,Ve){if(X==="submit"&&ae&&ae.stateNode===Ve){var Ke=Kf((Ve[en]||null).action),rt=ye.submitter;rt&&(X=(X=rt[en]||null)?Kf(X.formAction):rt.getAttribute("formAction"),X!==null&&(Ke=X,rt=null));var dt=new Zr("action","action",null,ye,Ve);M.push({event:dt,listeners:[{instance:null,listener:function(){if(ye.defaultPrevented){if(xa!==0){var wt=rt?Wf(Ve,rt):new FormData(Ve);EA(ae,{pending:!0,data:wt,method:Ve.method,action:Ke},null,wt)}}else typeof Ke=="function"&&(dt.preventDefault(),wt=rt?Wf(Ve,rt):new FormData(Ve),EA(ae,{pending:!0,data:wt,method:Ve.method,action:Ke},Ke,wt))},currentTarget:Ve}]})}}for(var su=0;su<Po.length;su++){var iu=Po[su],vp=iu.toLowerCase(),Ep=iu[0].toUpperCase()+iu.slice(1);ai(vp,"on"+Ep)}ai(Bs,"onAnimationEnd"),ai(cs,"onAnimationIteration"),ai(hr,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(rs,"onTransitionRun"),ai(gs,"onTransitionStart"),ai(na,"onTransitionCancel"),ai(Ti,"onTransitionEnd"),is("onMouseEnter",["mouseout","mouseover"]),is("onMouseLeave",["mouseout","mouseover"]),is("onPointerEnter",["pointerout","pointerover"]),is("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function qf(M,X){X=(X&4)!==0;for(var ae=0;ae<M.length;ae++){var ye=M[ae],Ve=ye.event;ye=ye.listeners;e:{var Ke=void 0;if(X)for(var rt=ye.length-1;0<=rt;rt--){var dt=ye[rt],wt=dt.instance,Mt=dt.currentTarget;if(dt=dt.listener,wt!==Ke&&Ve.isPropagationStopped())break e;Ke=dt,Ve.currentTarget=Mt;try{Ke(Ve)}catch(Ht){Rl(Ht)}Ve.currentTarget=null,Ke=wt}else for(rt=0;rt<ye.length;rt++){if(dt=ye[rt],wt=dt.instance,Mt=dt.currentTarget,dt=dt.listener,wt!==Ke&&Ve.isPropagationStopped())break e;Ke=dt,Ve.currentTarget=Mt;try{Ke(Ve)}catch(Ht){Rl(Ht)}Ve.currentTarget=null,Ke=wt}}}}function Wn(M,X){var ae=X[un];ae===void 0&&(ae=X[un]=new Set);var ye=M+"__bubble";ae.has(ye)||(Xf(X,M,2,!1),ae.add(ye))}function au(M,X,ae){var ye=0;X&&(ye|=4),Xf(ae,M,ye,X)}var mc="_reactListening"+Math.random().toString(36).slice(2);function ou(M){if(!M[mc]){M[mc]=!0,Gt.forEach(function(ae){ae!=="selectionchange"&&(Cp.has(ae)||au(ae,!1,M),au(ae,!0,M))});var X=M.nodeType===9?M:M.ownerDocument;X===null||X[mc]||(X[mc]=!0,au("selectionchange",!1,X))}}function Xf(M,X,ae,ye){switch(Sh(X)){case 2:var Ve=Xp;break;case 8:Ve=Yp;break;default:Ve=Cu}ae=Ve.bind(null,X,ae,M),Ve=void 0,!No||X!=="touchstart"&&X!=="touchmove"&&X!=="wheel"||(Ve=!0),ye?Ve!==void 0?M.addEventListener(X,ae,{capture:!0,passive:Ve}):M.addEventListener(X,ae,!0):Ve!==void 0?M.addEventListener(X,ae,{passive:Ve}):M.addEventListener(X,ae,!1)}function lu(M,X,ae,ye,Ve){var Ke=ye;if((X&1)===0&&(X&2)===0&&ye!==null)e:for(;;){if(ye===null)return;var rt=ye.tag;if(rt===3||rt===4){var dt=ye.stateNode.containerInfo;if(dt===Ve)break;if(rt===4)for(rt=ye.return;rt!==null;){var wt=rt.tag;if((wt===3||wt===4)&&rt.stateNode.containerInfo===Ve)return;rt=rt.return}for(;dt!==null;){if(rt=_n(dt),rt===null)return;if(wt=rt.tag,wt===5||wt===6||wt===26||wt===27){ye=Ke=rt;continue e}dt=dt.parentNode}}ye=ye.return}xl(function(){var Mt=Ke,Ht=Io(ae),Vt=[];e:{var Dt=Tl.get(M);if(Dt!==void 0){var jt=Zr,An=M;switch(M){case"keypress":if(di(ae)===0)break e;case"keydown":case"keyup":jt=Ja;break;case"focusin":An="focus",jt=Mo;break;case"focusout":An="blur",jt=Mo;break;case"beforeblur":case"afterblur":jt=Mo;break;case"click":if(ae.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":jt=cr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":jt=Xa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":jt=Oc;break;case Bs:case cs:case hr:jt=Dn;break;case Ti:jt=bi;break;case"scroll":case"scrollend":jt=yl;break;case"wheel":jt=Lc;break;case"copy":case"cut":case"paste":jt=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":jt=dr;break;case"toggle":case"beforetoggle":jt=Oo}var bn=(X&4)!==0,yr=!bn&&(M==="scroll"||M==="scrollend"),It=bn?Dt!==null?Dt+"Capture":null:Dt;bn=[];for(var Bt=Mt,kt;Bt!==null;){var Qt=Bt;if(kt=Qt.stateNode,Qt=Qt.tag,Qt!==5&&Qt!==26&&Qt!==27||kt===null||It===null||(Qt=Rn(Bt,It),Qt!=null&&bn.push(cl(Bt,Qt,kt))),yr)break;Bt=Bt.return}0<bn.length&&(Dt=new jt(Dt,An,null,ae,Ht),Vt.push({event:Dt,listeners:bn}))}}if((X&7)===0){e:{if(Dt=M==="mouseover"||M==="pointerover",jt=M==="mouseout"||M==="pointerout",Dt&&ae!==Sa&&(An=ae.relatedTarget||ae.fromElement)&&(_n(An)||An[fn]))break e;if((jt||Dt)&&(Dt=Ht.window===Ht?Ht:(Dt=Ht.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,jt?(An=ae.relatedTarget||ae.toElement,jt=Mt,An=An?_n(An):null,An!==null&&(yr=R(An),bn=An.tag,An!==yr||bn!==5&&bn!==27&&bn!==6)&&(An=null)):(jt=null,An=Mt),jt!==An)){if(bn=cr,Qt="onMouseLeave",It="onMouseEnter",Bt="mouse",(M==="pointerout"||M==="pointerover")&&(bn=dr,Qt="onPointerLeave",It="onPointerEnter",Bt="pointer"),yr=jt==null?Dt:ws(jt),kt=An==null?Dt:ws(An),Dt=new bn(Qt,Bt+"leave",jt,ae,Ht),Dt.target=yr,Dt.relatedTarget=kt,Qt=null,_n(Ht)===Mt&&(bn=new bn(It,Bt+"enter",An,ae,Ht),bn.target=kt,bn.relatedTarget=yr,Qt=bn),yr=Qt,jt&&An)t:{for(bn=wp,It=jt,Bt=An,kt=0,Qt=It;Qt;Qt=bn(Qt))kt++;Qt=0;for(var xn=Bt;xn;xn=bn(xn))Qt++;for(;0<kt-Qt;)It=bn(It),kt--;for(;0<Qt-kt;)Bt=bn(Bt),Qt--;for(;kt--;){if(It===Bt||Bt!==null&&It===Bt.alternate){bn=It;break t}It=bn(It),Bt=bn(Bt)}bn=null}else bn=null;jt!==null&&Yf(Vt,Dt,jt,bn,!1),An!==null&&yr!==null&&Yf(Vt,yr,An,bn,!0)}}e:{if(Dt=Mt?ws(Mt):window,jt=Dt.nodeName&&Dt.nodeName.toLowerCase(),jt==="select"||jt==="input"&&Dt.type==="file")var ir=Ls;else if(Lo(Dt))if(_l)ir=ue;else{ir=J;var mn=K}else jt=Dt.nodeName,!jt||jt.toLowerCase()!=="input"||Dt.type!=="checkbox"&&Dt.type!=="radio"?Mt&&vr(Mt.elementType)&&(ir=Ls):ir=te;if(ir&&(ir=ir(M,Mt))){Os(Vt,ir,ae,Ht);break e}mn&&mn(M,Dt,Mt),M==="focusout"&&Mt&&Dt.type==="number"&&Mt.memoizedProps.value!=null&&mt(Dt,"number",Dt.value)}switch(mn=Mt?ws(Mt):window,M){case"focusin":(Lo(mn)||mn.contentEditable==="true")&&(bt=mn,St=Mt,Nt=null);break;case"focusout":Nt=St=bt=null;break;case"mousedown":Lt=!0;break;case"contextmenu":case"mouseup":case"dragend":Lt=!1,Yt(Vt,ae,Ht);break;case"selectionchange":if(xt)break;case"keydown":case"keyup":Yt(Vt,ae,Ht)}var On;if(Ta)e:{switch(M){case"compositionstart":var Jn="onCompositionStart";break e;case"compositionend":Jn="onCompositionEnd";break e;case"compositionupdate":Jn="onCompositionUpdate";break e}Jn=void 0}else ea?Bl(M,ae)&&(Jn="onCompositionEnd"):M==="keydown"&&ae.keyCode===229&&(Jn="onCompositionStart");Jn&&(Sl&&ae.locale!=="ko"&&(ea||Jn!=="onCompositionStart"?Jn==="onCompositionEnd"&&ea&&(On=qi()):(si=Ht,ii="value"in si?si.value:si.textContent,ea=!0)),mn=gc(Mt,Jn),0<mn.length&&(Jn=new Cl(Jn,M,null,ae,Ht),Vt.push({event:Jn,listeners:mn}),On?Jn.data=On:(On=Zi(ae),On!==null&&(Jn.data=On)))),(On=bl?pi(M,ae):eo(M,ae))&&(Jn=gc(Mt,"onBeforeInput"),0<Jn.length&&(mn=new Cl("onBeforeInput","beforeinput",null,ae,Ht),Vt.push({event:mn,listeners:Jn}),mn.data=On)),yp(Vt,M,Mt,ae,Ht)}qf(Vt,X)})}function cl(M,X,ae){return{instance:M,listener:X,currentTarget:ae}}function gc(M,X){for(var ae=X+"Capture",ye=[];M!==null;){var Ve=M,Ke=Ve.stateNode;if(Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Ke===null||(Ve=Rn(M,ae),Ve!=null&&ye.unshift(cl(M,Ve,Ke)),Ve=Rn(M,X),Ve!=null&&ye.push(cl(M,Ve,Ke))),M.tag===3)return ye;M=M.return}return[]}function wp(M){if(M===null)return null;do M=M.return;while(M&&M.tag!==5&&M.tag!==27);return M||null}function Yf(M,X,ae,ye,Ve){for(var Ke=X._reactName,rt=[];ae!==null&&ae!==ye;){var dt=ae,wt=dt.alternate,Mt=dt.stateNode;if(dt=dt.tag,wt!==null&&wt===ye)break;dt!==5&&dt!==26&&dt!==27||Mt===null||(wt=Mt,Ve?(Mt=Rn(ae,Ke),Mt!=null&&rt.unshift(cl(ae,Mt,wt))):Ve||(Mt=Rn(ae,Ke),Mt!=null&&rt.push(cl(ae,Mt,wt)))),ae=ae.return}rt.length!==0&&M.push({event:X,listeners:rt})}var bp=/\r\n?/g,Sp=/\u0000|\uFFFD/g;function Jf(M){return(typeof M=="string"?M:""+M).replace(bp,`
`).replace(Sp,"")}function Zf(M,X){return X=Jf(X),Jf(M)===X}function xr(M,X,ae,ye,Ve,Ke){switch(ae){case"children":typeof ye=="string"?X==="body"||X==="textarea"&&ye===""||Ki(M,ye):(typeof ye=="number"||typeof ye=="bigint")&&X!=="body"&&Ki(M,""+ye);break;case"className":lr(M,"class",ye);break;case"tabIndex":lr(M,"tabindex",ye);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(M,ae,ye);break;case"style":gn(M,ye,Ke);break;case"data":if(X!=="object"){lr(M,"data",ye);break}case"src":case"href":if(ye===""&&(X!=="a"||ae!=="href")){M.removeAttribute(ae);break}if(ye==null||typeof ye=="function"||typeof ye=="symbol"||typeof ye=="boolean"){M.removeAttribute(ae);break}ye=Wi(""+ye),M.setAttribute(ae,ye);break;case"action":case"formAction":if(typeof ye=="function"){M.setAttribute(ae,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Ke=="function"&&(ae==="formAction"?(X!=="input"&&xr(M,X,"name",Ve.name,Ve,null),xr(M,X,"formEncType",Ve.formEncType,Ve,null),xr(M,X,"formMethod",Ve.formMethod,Ve,null),xr(M,X,"formTarget",Ve.formTarget,Ve,null)):(xr(M,X,"encType",Ve.encType,Ve,null),xr(M,X,"method",Ve.method,Ve,null),xr(M,X,"target",Ve.target,Ve,null)));if(ye==null||typeof ye=="symbol"||typeof ye=="boolean"){M.removeAttribute(ae);break}ye=Wi(""+ye),M.setAttribute(ae,ye);break;case"onClick":ye!=null&&(M.onclick=bs);break;case"onScroll":ye!=null&&Wn("scroll",M);break;case"onScrollEnd":ye!=null&&Wn("scrollend",M);break;case"dangerouslySetInnerHTML":if(ye!=null){if(typeof ye!="object"||!("__html"in ye))throw Error(b(61));if(ae=ye.__html,ae!=null){if(Ve.children!=null)throw Error(b(60));M.innerHTML=ae}}break;case"multiple":M.multiple=ye&&typeof ye!="function"&&typeof ye!="symbol";break;case"muted":M.muted=ye&&typeof ye!="function"&&typeof ye!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(ye==null||typeof ye=="function"||typeof ye=="boolean"||typeof ye=="symbol"){M.removeAttribute("xlink:href");break}ae=Wi(""+ye),M.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",ae);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":ye!=null&&typeof ye!="function"&&typeof ye!="symbol"?M.setAttribute(ae,""+ye):M.removeAttribute(ae);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":ye&&typeof ye!="function"&&typeof ye!="symbol"?M.setAttribute(ae,""):M.removeAttribute(ae);break;case"capture":case"download":ye===!0?M.setAttribute(ae,""):ye!==!1&&ye!=null&&typeof ye!="function"&&typeof ye!="symbol"?M.setAttribute(ae,ye):M.removeAttribute(ae);break;case"cols":case"rows":case"size":case"span":ye!=null&&typeof ye!="function"&&typeof ye!="symbol"&&!isNaN(ye)&&1<=ye?M.setAttribute(ae,ye):M.removeAttribute(ae);break;case"rowSpan":case"start":ye==null||typeof ye=="function"||typeof ye=="symbol"||isNaN(ye)?M.removeAttribute(ae):M.setAttribute(ae,ye);break;case"popover":Wn("beforetoggle",M),Wn("toggle",M),hs(M,"popover",ye);break;case"xlinkActuate":as(M,"http://www.w3.org/1999/xlink","xlink:actuate",ye);break;case"xlinkArcrole":as(M,"http://www.w3.org/1999/xlink","xlink:arcrole",ye);break;case"xlinkRole":as(M,"http://www.w3.org/1999/xlink","xlink:role",ye);break;case"xlinkShow":as(M,"http://www.w3.org/1999/xlink","xlink:show",ye);break;case"xlinkTitle":as(M,"http://www.w3.org/1999/xlink","xlink:title",ye);break;case"xlinkType":as(M,"http://www.w3.org/1999/xlink","xlink:type",ye);break;case"xmlBase":as(M,"http://www.w3.org/XML/1998/namespace","xml:base",ye);break;case"xmlLang":as(M,"http://www.w3.org/XML/1998/namespace","xml:lang",ye);break;case"xmlSpace":as(M,"http://www.w3.org/XML/1998/namespace","xml:space",ye);break;case"is":hs(M,"is",ye);break;case"innerText":case"textContent":break;default:(!(2<ae.length)||ae[0]!=="o"&&ae[0]!=="O"||ae[1]!=="n"&&ae[1]!=="N")&&(ae=gl.get(ae)||ae,hs(M,ae,ye))}}function cu(M,X,ae,ye,Ve,Ke){switch(ae){case"style":gn(M,ye,Ke);break;case"dangerouslySetInnerHTML":if(ye!=null){if(typeof ye!="object"||!("__html"in ye))throw Error(b(61));if(ae=ye.__html,ae!=null){if(Ve.children!=null)throw Error(b(60));M.innerHTML=ae}}break;case"children":typeof ye=="string"?Ki(M,ye):(typeof ye=="number"||typeof ye=="bigint")&&Ki(M,""+ye);break;case"onScroll":ye!=null&&Wn("scroll",M);break;case"onScrollEnd":ye!=null&&Wn("scrollend",M);break;case"onClick":ye!=null&&(M.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ui.hasOwnProperty(ae))e:{if(ae[0]==="o"&&ae[1]==="n"&&(Ve=ae.endsWith("Capture"),X=ae.slice(2,Ve?ae.length-7:void 0),Ke=M[en]||null,Ke=Ke!=null?Ke[ae]:null,typeof Ke=="function"&&M.removeEventListener(X,Ke,Ve),typeof ye=="function")){typeof Ke!="function"&&Ke!==null&&(ae in M?M[ae]=null:M.hasAttribute(ae)&&M.removeAttribute(ae)),M.addEventListener(X,ye,Ve);break e}ae in M?M[ae]=ye:ye===!0?M.setAttribute(ae,""):hs(M,ae,ye)}}}function fs(M,X,ae){switch(X){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Wn("error",M),Wn("load",M);var ye=!1,Ve=!1,Ke;for(Ke in ae)if(ae.hasOwnProperty(Ke)){var rt=ae[Ke];if(rt!=null)switch(Ke){case"src":ye=!0;break;case"srcSet":Ve=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(b(137,X));default:xr(M,X,Ke,rt,ae,null)}}Ve&&xr(M,X,"srcSet",ae.srcSet,ae,null),ye&&xr(M,X,"src",ae.src,ae,null);return;case"input":Wn("invalid",M);var dt=Ke=rt=Ve=null,wt=null,Mt=null;for(ye in ae)if(ae.hasOwnProperty(ye)){var Ht=ae[ye];if(Ht!=null)switch(ye){case"name":Ve=Ht;break;case"type":rt=Ht;break;case"checked":wt=Ht;break;case"defaultChecked":Mt=Ht;break;case"value":Ke=Ht;break;case"defaultValue":dt=Ht;break;case"children":case"dangerouslySetInnerHTML":if(Ht!=null)throw Error(b(137,X));break;default:xr(M,X,ye,Ht,ae,null)}}Ft(M,Ke,dt,wt,Mt,rt,Ve,!1);return;case"select":Wn("invalid",M),ye=rt=Ke=null;for(Ve in ae)if(ae.hasOwnProperty(Ve)&&(dt=ae[Ve],dt!=null))switch(Ve){case"value":Ke=dt;break;case"defaultValue":rt=dt;break;case"multiple":ye=dt;default:xr(M,X,Ve,dt,ae,null)}X=Ke,ae=rt,M.multiple=!!ye,X!=null?dn(M,!!ye,X,!1):ae!=null&&dn(M,!!ye,ae,!0);return;case"textarea":Wn("invalid",M),Ke=Ve=ye=null;for(rt in ae)if(ae.hasOwnProperty(rt)&&(dt=ae[rt],dt!=null))switch(rt){case"value":ye=dt;break;case"defaultValue":Ve=dt;break;case"children":Ke=dt;break;case"dangerouslySetInnerHTML":if(dt!=null)throw Error(b(91));break;default:xr(M,X,rt,dt,ae,null)}ps(M,ye,Ve,Ke);return;case"option":for(wt in ae)if(ae.hasOwnProperty(wt)&&(ye=ae[wt],ye!=null))switch(wt){case"selected":M.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:xr(M,X,wt,ye,ae,null)}return;case"dialog":Wn("beforetoggle",M),Wn("toggle",M),Wn("cancel",M),Wn("close",M);break;case"iframe":case"object":Wn("load",M);break;case"video":case"audio":for(ye=0;ye<ll.length;ye++)Wn(ll[ye],M);break;case"image":Wn("error",M),Wn("load",M);break;case"details":Wn("toggle",M);break;case"embed":case"source":case"link":Wn("error",M),Wn("load",M);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Mt in ae)if(ae.hasOwnProperty(Mt)&&(ye=ae[Mt],ye!=null))switch(Mt){case"children":case"dangerouslySetInnerHTML":throw Error(b(137,X));default:xr(M,X,Mt,ye,ae,null)}return;default:if(vr(X)){for(Ht in ae)ae.hasOwnProperty(Ht)&&(ye=ae[Ht],ye!==void 0&&cu(M,X,Ht,ye,ae,void 0));return}}for(dt in ae)ae.hasOwnProperty(dt)&&(ye=ae[dt],ye!=null&&xr(M,X,dt,ye,ae,null))}function Bp(M,X,ae,ye){switch(X){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Ve=null,Ke=null,rt=null,dt=null,wt=null,Mt=null,Ht=null;for(jt in ae){var Vt=ae[jt];if(ae.hasOwnProperty(jt)&&Vt!=null)switch(jt){case"checked":break;case"value":break;case"defaultValue":wt=Vt;default:ye.hasOwnProperty(jt)||xr(M,X,jt,null,ye,Vt)}}for(var Dt in ye){var jt=ye[Dt];if(Vt=ae[Dt],ye.hasOwnProperty(Dt)&&(jt!=null||Vt!=null))switch(Dt){case"type":Ke=jt;break;case"name":Ve=jt;break;case"checked":Mt=jt;break;case"defaultChecked":Ht=jt;break;case"value":rt=jt;break;case"defaultValue":dt=jt;break;case"children":case"dangerouslySetInnerHTML":if(jt!=null)throw Error(b(137,X));break;default:jt!==Vt&&xr(M,X,Dt,jt,ye,Vt)}}zr(M,rt,dt,wt,Mt,Ht,Ke,Ve);return;case"select":jt=rt=dt=Dt=null;for(Ke in ae)if(wt=ae[Ke],ae.hasOwnProperty(Ke)&&wt!=null)switch(Ke){case"value":break;case"multiple":jt=wt;default:ye.hasOwnProperty(Ke)||xr(M,X,Ke,null,ye,wt)}for(Ve in ye)if(Ke=ye[Ve],wt=ae[Ve],ye.hasOwnProperty(Ve)&&(Ke!=null||wt!=null))switch(Ve){case"value":Dt=Ke;break;case"defaultValue":dt=Ke;break;case"multiple":rt=Ke;default:Ke!==wt&&xr(M,X,Ve,Ke,ye,wt)}X=dt,ae=rt,ye=jt,Dt!=null?dn(M,!!ae,Dt,!1):!!ye!=!!ae&&(X!=null?dn(M,!!ae,X,!0):dn(M,!!ae,ae?[]:"",!1));return;case"textarea":jt=Dt=null;for(dt in ae)if(Ve=ae[dt],ae.hasOwnProperty(dt)&&Ve!=null&&!ye.hasOwnProperty(dt))switch(dt){case"value":break;case"children":break;default:xr(M,X,dt,null,ye,Ve)}for(rt in ye)if(Ve=ye[rt],Ke=ae[rt],ye.hasOwnProperty(rt)&&(Ve!=null||Ke!=null))switch(rt){case"value":Dt=Ve;break;case"defaultValue":jt=Ve;break;case"children":break;case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(b(91));break;default:Ve!==Ke&&xr(M,X,rt,Ve,ye,Ke)}$r(M,Dt,jt);return;case"option":for(var An in ae)if(Dt=ae[An],ae.hasOwnProperty(An)&&Dt!=null&&!ye.hasOwnProperty(An))switch(An){case"selected":M.selected=!1;break;default:xr(M,X,An,null,ye,Dt)}for(wt in ye)if(Dt=ye[wt],jt=ae[wt],ye.hasOwnProperty(wt)&&Dt!==jt&&(Dt!=null||jt!=null))switch(wt){case"selected":M.selected=Dt&&typeof Dt!="function"&&typeof Dt!="symbol";break;default:xr(M,X,wt,Dt,ye,jt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bn in ae)Dt=ae[bn],ae.hasOwnProperty(bn)&&Dt!=null&&!ye.hasOwnProperty(bn)&&xr(M,X,bn,null,ye,Dt);for(Mt in ye)if(Dt=ye[Mt],jt=ae[Mt],ye.hasOwnProperty(Mt)&&Dt!==jt&&(Dt!=null||jt!=null))switch(Mt){case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(b(137,X));break;default:xr(M,X,Mt,Dt,ye,jt)}return;default:if(vr(X)){for(var yr in ae)Dt=ae[yr],ae.hasOwnProperty(yr)&&Dt!==void 0&&!ye.hasOwnProperty(yr)&&cu(M,X,yr,void 0,ye,Dt);for(Ht in ye)Dt=ye[Ht],jt=ae[Ht],!ye.hasOwnProperty(Ht)||Dt===jt||Dt===void 0&&jt===void 0||cu(M,X,Ht,Dt,ye,jt);return}}for(var It in ae)Dt=ae[It],ae.hasOwnProperty(It)&&Dt!=null&&!ye.hasOwnProperty(It)&&xr(M,X,It,null,ye,Dt);for(Vt in ye)Dt=ye[Vt],jt=ae[Vt],!ye.hasOwnProperty(Vt)||Dt===jt||Dt==null&&jt==null||xr(M,X,Vt,Dt,ye,jt)}function eh(M){switch(M){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _p(){if(typeof performance.getEntriesByType=="function"){for(var M=0,X=0,ae=performance.getEntriesByType("resource"),ye=0;ye<ae.length;ye++){var Ve=ae[ye],Ke=Ve.transferSize,rt=Ve.initiatorType,dt=Ve.duration;if(Ke&&dt&&eh(rt)){for(rt=0,dt=Ve.responseEnd,ye+=1;ye<ae.length;ye++){var wt=ae[ye],Mt=wt.startTime;if(Mt>dt)break;var Ht=wt.transferSize,Vt=wt.initiatorType;Ht&&eh(Vt)&&(wt=wt.responseEnd,rt+=Ht*(wt<dt?1:(dt-Mt)/(wt-Mt)))}if(--ye,X+=8*(Ke+rt)/(Ve.duration/1e3),M++,10<M)break}}if(0<M)return X/M/1e6}return navigator.connection&&(M=navigator.connection.downlink,typeof M=="number")?M:5}var Au=null,uu=null;function xc(M){return M.nodeType===9?M:M.ownerDocument}function th(M){switch(M){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nh(M,X){if(M===0)switch(X){case"svg":return 1;case"math":return 2;default:return 0}return M===1&&X==="foreignObject"?0:M}function du(M,X){return M==="textarea"||M==="noscript"||typeof X.children=="string"||typeof X.children=="number"||typeof X.children=="bigint"||typeof X.dangerouslySetInnerHTML=="object"&&X.dangerouslySetInnerHTML!==null&&X.dangerouslySetInnerHTML.__html!=null}var fu=null;function Tp(){var M=window.event;return M&&M.type==="popstate"?M===fu?!1:(fu=M,!0):(fu=null,!1)}var rh=typeof setTimeout=="function"?setTimeout:void 0,Rp=typeof clearTimeout=="function"?clearTimeout:void 0,sh=typeof Promise=="function"?Promise:void 0,Ip=typeof queueMicrotask=="function"?queueMicrotask:typeof sh<"u"?function(M){return sh.resolve(null).then(M).catch(Np)}:rh;function Np(M){setTimeout(function(){throw M})}function ya(M){return M==="head"}function ih(M,X){var ae=X,ye=0;do{var Ve=ae.nextSibling;if(M.removeChild(ae),Ve&&Ve.nodeType===8)if(ae=Ve.data,ae==="/$"||ae==="/&"){if(ye===0){M.removeChild(Ve),_o(X);return}ye--}else if(ae==="$"||ae==="$?"||ae==="$~"||ae==="$!"||ae==="&")ye++;else if(ae==="html")Al(M.ownerDocument.documentElement);else if(ae==="head"){ae=M.ownerDocument.head,Al(ae);for(var Ke=ae.firstChild;Ke;){var rt=Ke.nextSibling,dt=Ke.nodeName;Ke[br]||dt==="SCRIPT"||dt==="STYLE"||dt==="LINK"&&Ke.rel.toLowerCase()==="stylesheet"||ae.removeChild(Ke),Ke=rt}}else ae==="body"&&Al(M.ownerDocument.body);ae=Ve}while(ae);_o(X)}function ah(M,X){var ae=M;M=0;do{var ye=ae.nextSibling;if(ae.nodeType===1?X?(ae._stashedDisplay=ae.style.display,ae.style.display="none"):(ae.style.display=ae._stashedDisplay||"",ae.getAttribute("style")===""&&ae.removeAttribute("style")):ae.nodeType===3&&(X?(ae._stashedText=ae.nodeValue,ae.nodeValue=""):ae.nodeValue=ae._stashedText||""),ye&&ye.nodeType===8)if(ae=ye.data,ae==="/$"){if(M===0)break;M--}else ae!=="$"&&ae!=="$?"&&ae!=="$~"&&ae!=="$!"||M++;ae=ye}while(ae)}function hu(M){var X=M.firstChild;for(X&&X.nodeType===10&&(X=X.nextSibling);X;){var ae=X;switch(X=X.nextSibling,ae.nodeName){case"HTML":case"HEAD":case"BODY":hu(ae),$n(ae);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(ae.rel.toLowerCase()==="stylesheet")continue}M.removeChild(ae)}}function Fp(M,X,ae,ye){for(;M.nodeType===1;){var Ve=ae;if(M.nodeName.toLowerCase()!==X.toLowerCase()){if(!ye&&(M.nodeName!=="INPUT"||M.type!=="hidden"))break}else if(ye){if(!M[br])switch(X){case"meta":if(!M.hasAttribute("itemprop"))break;return M;case"link":if(Ke=M.getAttribute("rel"),Ke==="stylesheet"&&M.hasAttribute("data-precedence"))break;if(Ke!==Ve.rel||M.getAttribute("href")!==(Ve.href==null||Ve.href===""?null:Ve.href)||M.getAttribute("crossorigin")!==(Ve.crossOrigin==null?null:Ve.crossOrigin)||M.getAttribute("title")!==(Ve.title==null?null:Ve.title))break;return M;case"style":if(M.hasAttribute("data-precedence"))break;return M;case"script":if(Ke=M.getAttribute("src"),(Ke!==(Ve.src==null?null:Ve.src)||M.getAttribute("type")!==(Ve.type==null?null:Ve.type)||M.getAttribute("crossorigin")!==(Ve.crossOrigin==null?null:Ve.crossOrigin))&&Ke&&M.hasAttribute("async")&&!M.hasAttribute("itemprop"))break;return M;default:return M}}else if(X==="input"&&M.type==="hidden"){var Ke=Ve.name==null?null:""+Ve.name;if(Ve.type==="hidden"&&M.getAttribute("name")===Ke)return M}else return M;if(M=ei(M.nextSibling),M===null)break}return null}function kp(M,X,ae){if(X==="")return null;for(;M.nodeType!==3;)if((M.nodeType!==1||M.nodeName!=="INPUT"||M.type!=="hidden")&&!ae||(M=ei(M.nextSibling),M===null))return null;return M}function oh(M,X){for(;M.nodeType!==8;)if((M.nodeType!==1||M.nodeName!=="INPUT"||M.type!=="hidden")&&!X||(M=ei(M.nextSibling),M===null))return null;return M}function pu(M){return M.data==="$?"||M.data==="$~"}function mu(M){return M.data==="$!"||M.data==="$?"&&M.ownerDocument.readyState!=="loading"}function Mp(M,X){var ae=M.ownerDocument;if(M.data==="$~")M._reactRetry=X;else if(M.data!=="$?"||ae.readyState!=="loading")X();else{var ye=function(){X(),ae.removeEventListener("DOMContentLoaded",ye)};ae.addEventListener("DOMContentLoaded",ye),M._reactRetry=ye}}function ei(M){for(;M!=null;M=M.nextSibling){var X=M.nodeType;if(X===1||X===3)break;if(X===8){if(X=M.data,X==="$"||X==="$!"||X==="$?"||X==="$~"||X==="&"||X==="F!"||X==="F")break;if(X==="/$"||X==="/&")return null}}return M}var gu=null;function lh(M){M=M.nextSibling;for(var X=0;M;){if(M.nodeType===8){var ae=M.data;if(ae==="/$"||ae==="/&"){if(X===0)return ei(M.nextSibling);X--}else ae!=="$"&&ae!=="$!"&&ae!=="$?"&&ae!=="$~"&&ae!=="&"||X++}M=M.nextSibling}return null}function ch(M){M=M.previousSibling;for(var X=0;M;){if(M.nodeType===8){var ae=M.data;if(ae==="$"||ae==="$!"||ae==="$?"||ae==="$~"||ae==="&"){if(X===0)return M;X--}else ae!=="/$"&&ae!=="/&"||X++}M=M.previousSibling}return null}function Ah(M,X,ae){switch(X=xc(ae),M){case"html":if(M=X.documentElement,!M)throw Error(b(452));return M;case"head":if(M=X.head,!M)throw Error(b(453));return M;case"body":if(M=X.body,!M)throw Error(b(454));return M;default:throw Error(b(451))}}function Al(M){for(var X=M.attributes;X.length;)M.removeAttributeNode(X[0]);$n(M)}var ti=new Map,uh=new Set;function yc(M){return typeof M.getRootNode=="function"?M.getRootNode():M.nodeType===9?M:M.ownerDocument}var Qi=it.d;it.d={f:Dp,r:Op,D:Lp,C:Pp,L:jp,m:$p,X:Hp,S:Up,M:Qp};function Dp(){var M=Qi.f(),X=Ac();return M||X}function Op(M){var X=Qn(M);X!==null&&X.tag===5&&X.type==="form"?_d(X):Qi.r(M)}var bo=typeof document>"u"?null:document;function dh(M,X,ae){var ye=bo;if(ye&&typeof X=="string"&&X){var Ve=Vn(X);Ve='link[rel="'+M+'"][href="'+Ve+'"]',typeof ae=="string"&&(Ve+='[crossorigin="'+ae+'"]'),uh.has(Ve)||(uh.add(Ve),M={rel:M,crossOrigin:ae,href:X},ye.querySelector(Ve)===null&&(X=ye.createElement("link"),fs(X,"link",M),sr(X),ye.head.appendChild(X)))}}function Lp(M){Qi.D(M),dh("dns-prefetch",M,null)}function Pp(M,X){Qi.C(M,X),dh("preconnect",M,X)}function jp(M,X,ae){Qi.L(M,X,ae);var ye=bo;if(ye&&M&&X){var Ve='link[rel="preload"][as="'+Vn(X)+'"]';X==="image"&&ae&&ae.imageSrcSet?(Ve+='[imagesrcset="'+Vn(ae.imageSrcSet)+'"]',typeof ae.imageSizes=="string"&&(Ve+='[imagesizes="'+Vn(ae.imageSizes)+'"]')):Ve+='[href="'+Vn(M)+'"]';var Ke=Ve;switch(X){case"style":Ke=So(M);break;case"script":Ke=Bo(M)}ti.has(Ke)||(M=ne({rel:"preload",href:X==="image"&&ae&&ae.imageSrcSet?void 0:M,as:X},ae),ti.set(Ke,M),ye.querySelector(Ve)!==null||X==="style"&&ye.querySelector(ul(Ke))||X==="script"&&ye.querySelector(dl(Ke))||(X=ye.createElement("link"),fs(X,"link",M),sr(X),ye.head.appendChild(X)))}}function $p(M,X){Qi.m(M,X);var ae=bo;if(ae&&M){var ye=X&&typeof X.as=="string"?X.as:"script",Ve='link[rel="modulepreload"][as="'+Vn(ye)+'"][href="'+Vn(M)+'"]',Ke=Ve;switch(ye){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Ke=Bo(M)}if(!ti.has(Ke)&&(M=ne({rel:"modulepreload",href:M},X),ti.set(Ke,M),ae.querySelector(Ve)===null)){switch(ye){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(ae.querySelector(dl(Ke)))return}ye=ae.createElement("link"),fs(ye,"link",M),sr(ye),ae.head.appendChild(ye)}}}function Up(M,X,ae){Qi.S(M,X,ae);var ye=bo;if(ye&&M){var Ve=Fr(ye).hoistableStyles,Ke=So(M);X=X||"default";var rt=Ve.get(Ke);if(!rt){var dt={loading:0,preload:null};if(rt=ye.querySelector(ul(Ke)))dt.loading=5;else{M=ne({rel:"stylesheet",href:M,"data-precedence":X},ae),(ae=ti.get(Ke))&&xu(M,ae);var wt=rt=ye.createElement("link");sr(wt),fs(wt,"link",M),wt._p=new Promise(function(Mt,Ht){wt.onload=Mt,wt.onerror=Ht}),wt.addEventListener("load",function(){dt.loading|=1}),wt.addEventListener("error",function(){dt.loading|=2}),dt.loading|=4,vc(rt,X,ye)}rt={type:"stylesheet",instance:rt,count:1,state:dt},Ve.set(Ke,rt)}}}function Hp(M,X){Qi.X(M,X);var ae=bo;if(ae&&M){var ye=Fr(ae).hoistableScripts,Ve=Bo(M),Ke=ye.get(Ve);Ke||(Ke=ae.querySelector(dl(Ve)),Ke||(M=ne({src:M,async:!0},X),(X=ti.get(Ve))&&yu(M,X),Ke=ae.createElement("script"),sr(Ke),fs(Ke,"link",M),ae.head.appendChild(Ke)),Ke={type:"script",instance:Ke,count:1,state:null},ye.set(Ve,Ke))}}function Qp(M,X){Qi.M(M,X);var ae=bo;if(ae&&M){var ye=Fr(ae).hoistableScripts,Ve=Bo(M),Ke=ye.get(Ve);Ke||(Ke=ae.querySelector(dl(Ve)),Ke||(M=ne({src:M,async:!0,type:"module"},X),(X=ti.get(Ve))&&yu(M,X),Ke=ae.createElement("script"),sr(Ke),fs(Ke,"link",M),ae.head.appendChild(Ke)),Ke={type:"script",instance:Ke,count:1,state:null},ye.set(Ve,Ke))}}function fh(M,X,ae,ye){var Ve=(Ve=_t.current)?yc(Ve):null;if(!Ve)throw Error(b(446));switch(M){case"meta":case"title":return null;case"style":return typeof ae.precedence=="string"&&typeof ae.href=="string"?(X=So(ae.href),ae=Fr(Ve).hoistableStyles,ye=ae.get(X),ye||(ye={type:"style",instance:null,count:0,state:null},ae.set(X,ye)),ye):{type:"void",instance:null,count:0,state:null};case"link":if(ae.rel==="stylesheet"&&typeof ae.href=="string"&&typeof ae.precedence=="string"){M=So(ae.href);var Ke=Fr(Ve).hoistableStyles,rt=Ke.get(M);if(rt||(Ve=Ve.ownerDocument||Ve,rt={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Ke.set(M,rt),(Ke=Ve.querySelector(ul(M)))&&!Ke._p&&(rt.instance=Ke,rt.state.loading=5),ti.has(M)||(ae={rel:"preload",as:"style",href:ae.href,crossOrigin:ae.crossOrigin,integrity:ae.integrity,media:ae.media,hrefLang:ae.hrefLang,referrerPolicy:ae.referrerPolicy},ti.set(M,ae),Ke||Vp(Ve,M,ae,rt.state))),X&&ye===null)throw Error(b(528,""));return rt}if(X&&ye!==null)throw Error(b(529,""));return null;case"script":return X=ae.async,ae=ae.src,typeof ae=="string"&&X&&typeof X!="function"&&typeof X!="symbol"?(X=Bo(ae),ae=Fr(Ve).hoistableScripts,ye=ae.get(X),ye||(ye={type:"script",instance:null,count:0,state:null},ae.set(X,ye)),ye):{type:"void",instance:null,count:0,state:null};default:throw Error(b(444,M))}}function So(M){return'href="'+Vn(M)+'"'}function ul(M){return'link[rel="stylesheet"]['+M+"]"}function hh(M){return ne({},M,{"data-precedence":M.precedence,precedence:null})}function Vp(M,X,ae,ye){M.querySelector('link[rel="preload"][as="style"]['+X+"]")?ye.loading=1:(X=M.createElement("link"),ye.preload=X,X.addEventListener("load",function(){return ye.loading|=1}),X.addEventListener("error",function(){return ye.loading|=2}),fs(X,"link",ae),sr(X),M.head.appendChild(X))}function Bo(M){return'[src="'+Vn(M)+'"]'}function dl(M){return"script[async]"+M}function ph(M,X,ae){if(X.count++,X.instance===null)switch(X.type){case"style":var ye=M.querySelector('style[data-href~="'+Vn(ae.href)+'"]');if(ye)return X.instance=ye,sr(ye),ye;var Ve=ne({},ae,{"data-href":ae.href,"data-precedence":ae.precedence,href:null,precedence:null});return ye=(M.ownerDocument||M).createElement("style"),sr(ye),fs(ye,"style",Ve),vc(ye,ae.precedence,M),X.instance=ye;case"stylesheet":Ve=So(ae.href);var Ke=M.querySelector(ul(Ve));if(Ke)return X.state.loading|=4,X.instance=Ke,sr(Ke),Ke;ye=hh(ae),(Ve=ti.get(Ve))&&xu(ye,Ve),Ke=(M.ownerDocument||M).createElement("link"),sr(Ke);var rt=Ke;return rt._p=new Promise(function(dt,wt){rt.onload=dt,rt.onerror=wt}),fs(Ke,"link",ye),X.state.loading|=4,vc(Ke,ae.precedence,M),X.instance=Ke;case"script":return Ke=Bo(ae.src),(Ve=M.querySelector(dl(Ke)))?(X.instance=Ve,sr(Ve),Ve):(ye=ae,(Ve=ti.get(Ke))&&(ye=ne({},ae),yu(ye,Ve)),M=M.ownerDocument||M,Ve=M.createElement("script"),sr(Ve),fs(Ve,"link",ye),M.head.appendChild(Ve),X.instance=Ve);case"void":return null;default:throw Error(b(443,X.type))}else X.type==="stylesheet"&&(X.state.loading&4)===0&&(ye=X.instance,X.state.loading|=4,vc(ye,ae.precedence,M));return X.instance}function vc(M,X,ae){for(var ye=ae.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Ve=ye.length?ye[ye.length-1]:null,Ke=Ve,rt=0;rt<ye.length;rt++){var dt=ye[rt];if(dt.dataset.precedence===X)Ke=dt;else if(Ke!==Ve)break}Ke?Ke.parentNode.insertBefore(M,Ke.nextSibling):(X=ae.nodeType===9?ae.head:ae,X.insertBefore(M,X.firstChild))}function xu(M,X){M.crossOrigin==null&&(M.crossOrigin=X.crossOrigin),M.referrerPolicy==null&&(M.referrerPolicy=X.referrerPolicy),M.title==null&&(M.title=X.title)}function yu(M,X){M.crossOrigin==null&&(M.crossOrigin=X.crossOrigin),M.referrerPolicy==null&&(M.referrerPolicy=X.referrerPolicy),M.integrity==null&&(M.integrity=X.integrity)}var Ec=null;function mh(M,X,ae){if(Ec===null){var ye=new Map,Ve=Ec=new Map;Ve.set(ae,ye)}else Ve=Ec,ye=Ve.get(ae),ye||(ye=new Map,Ve.set(ae,ye));if(ye.has(M))return ye;for(ye.set(M,null),ae=ae.getElementsByTagName(M),Ve=0;Ve<ae.length;Ve++){var Ke=ae[Ve];if(!(Ke[br]||Ke[nn]||M==="link"&&Ke.getAttribute("rel")==="stylesheet")&&Ke.namespaceURI!=="http://www.w3.org/2000/svg"){var rt=Ke.getAttribute(X)||"";rt=M+rt;var dt=ye.get(rt);dt?dt.push(Ke):ye.set(rt,[Ke])}}return ye}function gh(M,X,ae){M=M.ownerDocument||M,M.head.insertBefore(ae,X==="title"?M.querySelector("head > title"):null)}function zp(M,X,ae){if(ae===1||X.itemProp!=null)return!1;switch(M){case"meta":case"title":return!0;case"style":if(typeof X.precedence!="string"||typeof X.href!="string"||X.href==="")break;return!0;case"link":if(typeof X.rel!="string"||typeof X.href!="string"||X.href===""||X.onLoad||X.onError)break;switch(X.rel){case"stylesheet":return M=X.disabled,typeof X.precedence=="string"&&M==null;default:return!0}case"script":if(X.async&&typeof X.async!="function"&&typeof X.async!="symbol"&&!X.onLoad&&!X.onError&&X.src&&typeof X.src=="string")return!0}return!1}function xh(M){return!(M.type==="stylesheet"&&(M.state.loading&3)===0)}function Gp(M,X,ae,ye){if(ae.type==="stylesheet"&&(typeof ye.media!="string"||matchMedia(ye.media).matches!==!1)&&(ae.state.loading&4)===0){if(ae.instance===null){var Ve=So(ye.href),Ke=X.querySelector(ul(Ve));if(Ke){X=Ke._p,X!==null&&typeof X=="object"&&typeof X.then=="function"&&(M.count++,M=Cc.bind(M),X.then(M,M)),ae.state.loading|=4,ae.instance=Ke,sr(Ke);return}Ke=X.ownerDocument||X,ye=hh(ye),(Ve=ti.get(Ve))&&xu(ye,Ve),Ke=Ke.createElement("link"),sr(Ke);var rt=Ke;rt._p=new Promise(function(dt,wt){rt.onload=dt,rt.onerror=wt}),fs(Ke,"link",ye),ae.instance=Ke}M.stylesheets===null&&(M.stylesheets=new Map),M.stylesheets.set(ae,X),(X=ae.state.preload)&&(ae.state.loading&3)===0&&(M.count++,ae=Cc.bind(M),X.addEventListener("load",ae),X.addEventListener("error",ae))}}var vu=0;function Kp(M,X){return M.stylesheets&&M.count===0&&bc(M,M.stylesheets),0<M.count||0<M.imgCount?function(ae){var ye=setTimeout(function(){if(M.stylesheets&&bc(M,M.stylesheets),M.unsuspend){var Ke=M.unsuspend;M.unsuspend=null,Ke()}},6e4+X);0<M.imgBytes&&vu===0&&(vu=62500*_p());var Ve=setTimeout(function(){if(M.waitingForImages=!1,M.count===0&&(M.stylesheets&&bc(M,M.stylesheets),M.unsuspend)){var Ke=M.unsuspend;M.unsuspend=null,Ke()}},(M.imgBytes>vu?50:800)+X);return M.unsuspend=ae,function(){M.unsuspend=null,clearTimeout(ye),clearTimeout(Ve)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var M=this.unsuspend;this.unsuspend=null,M()}}}var wc=null;function bc(M,X){M.stylesheets=null,M.unsuspend!==null&&(M.count++,wc=new Map,X.forEach(Wp,M),wc=null,Cc.call(M))}function Wp(M,X){if(!(X.state.loading&4)){var ae=wc.get(M);if(ae)var ye=ae.get(null);else{ae=new Map,wc.set(M,ae);for(var Ve=M.querySelectorAll("link[data-precedence],style[data-precedence]"),Ke=0;Ke<Ve.length;Ke++){var rt=Ve[Ke];(rt.nodeName==="LINK"||rt.getAttribute("media")!=="not all")&&(ae.set(rt.dataset.precedence,rt),ye=rt)}ye&&ae.set(null,ye)}Ve=X.instance,rt=Ve.getAttribute("data-precedence"),Ke=ae.get(rt)||ye,Ke===ye&&ae.set(null,Ve),ae.set(rt,Ve),this.count++,ye=Cc.bind(this),Ve.addEventListener("load",ye),Ve.addEventListener("error",ye),Ke?Ke.parentNode.insertBefore(Ve,Ke.nextSibling):(M=M.nodeType===9?M.head:M,M.insertBefore(Ve,M.firstChild)),X.state.loading|=4}}var fl={$$typeof:$e,Provider:null,Consumer:null,_currentValue:Ye,_currentValue2:Ye,_threadCount:0};function qp(M,X,ae,ye,Ve,Ke,rt,dt,wt){this.tag=1,this.containerInfo=M,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ks(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ks(0),this.hiddenUpdates=ks(null),this.identifierPrefix=ye,this.onUncaughtError=Ve,this.onCaughtError=Ke,this.onRecoverableError=rt,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=wt,this.incompleteTransitions=new Map}function yh(M,X,ae,ye,Ve,Ke,rt,dt,wt,Mt,Ht,Vt){return M=new qp(M,X,ae,rt,wt,Mt,Ht,Vt,dt),X=1,Ke===!0&&(X|=24),Ke=Ps(3,null,null,X),M.current=Ke,Ke.stateNode=M,X=Yc(),X.refCount++,M.pooledCache=X,X.refCount++,Ke.memoizedState={element:ye,isDehydrated:ae,cache:X},tA(Ke),M}function vh(M){return M?(M=no,M):no}function Eh(M,X,ae,ye,Ve,Ke){Ve=vh(Ve),ye.context===null?ye.context=Ve:ye.pendingContext=Ve,ye=la(X),ye.payload={element:ae},Ke=Ke===void 0?null:Ke,Ke!==null&&(ye.callback=Ke),ae=ca(M,ye,X),ae!==null&&(Ns(ae,M,X),zo(ae,M,X))}function Ch(M,X){if(M=M.memoizedState,M!==null&&M.dehydrated!==null){var ae=M.retryLane;M.retryLane=ae!==0&&ae<X?ae:X}}function Eu(M,X){Ch(M,X),(M=M.alternate)&&Ch(M,X)}function wh(M){if(M.tag===13||M.tag===31){var X=ka(M,67108864);X!==null&&Ns(X,M,67108864),Eu(M,67108864)}}function bh(M){if(M.tag===13||M.tag===31){var X=Qs();X=zt(X);var ae=ka(M,X);ae!==null&&Ns(ae,M,X),Eu(M,X)}}var Sc=!0;function Xp(M,X,ae,ye){var Ve=Ze.T;Ze.T=null;var Ke=it.p;try{it.p=2,Cu(M,X,ae,ye)}finally{it.p=Ke,Ze.T=Ve}}function Yp(M,X,ae,ye){var Ve=Ze.T;Ze.T=null;var Ke=it.p;try{it.p=8,Cu(M,X,ae,ye)}finally{it.p=Ke,Ze.T=Ve}}function Cu(M,X,ae,ye){if(Sc){var Ve=wu(ye);if(Ve===null)lu(M,X,ye,Bc,ae),Bh(M,ye);else if(Zp(Ve,M,X,ae,ye))ye.stopPropagation();else if(Bh(M,ye),X&4&&-1<Jp.indexOf(M)){for(;Ve!==null;){var Ke=Qn(Ve);if(Ke!==null)switch(Ke.tag){case 3:if(Ke=Ke.stateNode,Ke.current.memoizedState.isDehydrated){var rt=Fs(Ke.pendingLanes);if(rt!==0){var dt=Ke;for(dt.pendingLanes|=2,dt.entangledLanes|=2;rt;){var wt=1<<31-Bn(rt);dt.entanglements[1]|=wt,rt&=~wt}yi(Ke),(Ar&6)===0&&(lc=Kt()+500,ol(0))}}break;case 31:case 13:dt=ka(Ke,2),dt!==null&&Ns(dt,Ke,2),Ac(),Eu(Ke,2)}if(Ke=wu(ye),Ke===null&&lu(M,X,ye,Bc,ae),Ke===Ve)break;Ve=Ke}Ve!==null&&ye.stopPropagation()}else lu(M,X,ye,null,ae)}}function wu(M){return M=Io(M),bu(M)}var Bc=null;function bu(M){if(Bc=null,M=_n(M),M!==null){var X=R(M);if(X===null)M=null;else{var ae=X.tag;if(ae===13){if(M=I(X),M!==null)return M;M=null}else if(ae===31){if(M=O(X),M!==null)return M;M=null}else if(ae===3){if(X.stateNode.current.memoizedState.isDehydrated)return X.tag===3?X.stateNode.containerInfo:null;M=null}else X!==M&&(M=null)}}return Bc=M,null}function Sh(M){switch(M){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cn()){case Cn:return 2;case Fn:return 8;case kn:case or:return 32;case Jr:return 268435456;default:return 32}default:return 32}}var Su=!1,va=null,Ea=null,Ca=null,hl=new Map,pl=new Map,wa=[],Jp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bh(M,X){switch(M){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":hl.delete(X.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(X.pointerId)}}function ml(M,X,ae,ye,Ve,Ke){return M===null||M.nativeEvent!==Ke?(M={blockedOn:X,domEventName:ae,eventSystemFlags:ye,nativeEvent:Ke,targetContainers:[Ve]},X!==null&&(X=Qn(X),X!==null&&wh(X)),M):(M.eventSystemFlags|=ye,X=M.targetContainers,Ve!==null&&X.indexOf(Ve)===-1&&X.push(Ve),M)}function Zp(M,X,ae,ye,Ve){switch(X){case"focusin":return va=ml(va,M,X,ae,ye,Ve),!0;case"dragenter":return Ea=ml(Ea,M,X,ae,ye,Ve),!0;case"mouseover":return Ca=ml(Ca,M,X,ae,ye,Ve),!0;case"pointerover":var Ke=Ve.pointerId;return hl.set(Ke,ml(hl.get(Ke)||null,M,X,ae,ye,Ve)),!0;case"gotpointercapture":return Ke=Ve.pointerId,pl.set(Ke,ml(pl.get(Ke)||null,M,X,ae,ye,Ve)),!0}return!1}function _h(M){var X=_n(M.target);if(X!==null){var ae=R(X);if(ae!==null){if(X=ae.tag,X===13){if(X=I(ae),X!==null){M.blockedOn=X,$t(M.priority,function(){bh(ae)});return}}else if(X===31){if(X=O(ae),X!==null){M.blockedOn=X,$t(M.priority,function(){bh(ae)});return}}else if(X===3&&ae.stateNode.current.memoizedState.isDehydrated){M.blockedOn=ae.tag===3?ae.stateNode.containerInfo:null;return}}}M.blockedOn=null}function _c(M){if(M.blockedOn!==null)return!1;for(var X=M.targetContainers;0<X.length;){var ae=wu(M.nativeEvent);if(ae===null){ae=M.nativeEvent;var ye=new ae.constructor(ae.type,ae);Sa=ye,ae.target.dispatchEvent(ye),Sa=null}else return X=Qn(ae),X!==null&&wh(X),M.blockedOn=ae,!1;X.shift()}return!0}function Th(M,X,ae){_c(M)&&ae.delete(X)}function em(){Su=!1,va!==null&&_c(va)&&(va=null),Ea!==null&&_c(Ea)&&(Ea=null),Ca!==null&&_c(Ca)&&(Ca=null),hl.forEach(Th),pl.forEach(Th)}function Tc(M,X){M.blockedOn===X&&(M.blockedOn=null,Su||(Su=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,em)))}var Rc=null;function Rh(M){Rc!==M&&(Rc=M,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===M&&(Rc=null);for(var X=0;X<M.length;X+=3){var ae=M[X],ye=M[X+1],Ve=M[X+2];if(typeof ye!="function"){if(bu(ye||ae)===null)continue;break}var Ke=Qn(ae);Ke!==null&&(M.splice(X,3),X-=3,EA(Ke,{pending:!0,data:Ve,method:ae.method,action:ye},ye,Ve))}}))}function _o(M){function X(wt){return Tc(wt,M)}va!==null&&Tc(va,M),Ea!==null&&Tc(Ea,M),Ca!==null&&Tc(Ca,M),hl.forEach(X),pl.forEach(X);for(var ae=0;ae<wa.length;ae++){var ye=wa[ae];ye.blockedOn===M&&(ye.blockedOn=null)}for(;0<wa.length&&(ae=wa[0],ae.blockedOn===null);)_h(ae),ae.blockedOn===null&&wa.shift();if(ae=(M.ownerDocument||M).$$reactFormReplay,ae!=null)for(ye=0;ye<ae.length;ye+=3){var Ve=ae[ye],Ke=ae[ye+1],rt=Ve[en]||null;if(typeof Ke=="function")rt||Rh(ae);else if(rt){var dt=null;if(Ke&&Ke.hasAttribute("formAction")){if(Ve=Ke,rt=Ke[en]||null)dt=rt.formAction;else if(bu(Ve)!==null)continue}else dt=rt.action;typeof dt=="function"?ae[ye+1]=dt:(ae.splice(ye,3),ye-=3),Rh(ae)}}}function Ih(){function M(Ke){Ke.canIntercept&&Ke.info==="react-transition"&&Ke.intercept({handler:function(){return new Promise(function(rt){return Ve=rt})},focusReset:"manual",scroll:"manual"})}function X(){Ve!==null&&(Ve(),Ve=null),ye||setTimeout(ae,20)}function ae(){if(!ye&&!navigation.transition){var Ke=navigation.currentEntry;Ke&&Ke.url!=null&&navigation.navigate(Ke.url,{state:Ke.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var ye=!1,Ve=null;return navigation.addEventListener("navigate",M),navigation.addEventListener("navigatesuccess",X),navigation.addEventListener("navigateerror",X),setTimeout(ae,100),function(){ye=!0,navigation.removeEventListener("navigate",M),navigation.removeEventListener("navigatesuccess",X),navigation.removeEventListener("navigateerror",X),Ve!==null&&(Ve(),Ve=null)}}}function Bu(M){this._internalRoot=M}Ic.prototype.render=Bu.prototype.render=function(M){var X=this._internalRoot;if(X===null)throw Error(b(409));var ae=X.current,ye=Qs();Eh(ae,ye,M,X,null,null)},Ic.prototype.unmount=Bu.prototype.unmount=function(){var M=this._internalRoot;if(M!==null){this._internalRoot=null;var X=M.containerInfo;Eh(M.current,2,null,M,null,null),Ac(),X[fn]=null}};function Ic(M){this._internalRoot=M}Ic.prototype.unstable_scheduleHydration=function(M){if(M){var X=sn();M={blockedOn:null,target:M,priority:X};for(var ae=0;ae<wa.length&&X!==0&&X<wa[ae].priority;ae++);wa.splice(ae,0,M),ae===0&&_h(M)}};var Nh=x.version;if(Nh!=="19.2.0")throw Error(b(527,Nh,"19.2.0"));it.findDOMNode=function(M){var X=M._reactInternals;if(X===void 0)throw typeof M.render=="function"?Error(b(188)):(M=Object.keys(M).join(","),Error(b(268,M)));return M=q(X),M=M!==null?ee(M):null,M=M===null?null:M.stateNode,M};var tm={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Ze,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Pn=Nc.inject(tm),qt=Nc}catch{}}return reactDomClient_production.createRoot=function(M,X){if(!B(M))throw Error(b(299));var ae=!1,ye="",Ve=Ld,Ke=Pd,rt=jd;return X!=null&&(X.unstable_strictMode===!0&&(ae=!0),X.identifierPrefix!==void 0&&(ye=X.identifierPrefix),X.onUncaughtError!==void 0&&(Ve=X.onUncaughtError),X.onCaughtError!==void 0&&(Ke=X.onCaughtError),X.onRecoverableError!==void 0&&(rt=X.onRecoverableError)),X=yh(M,1,!1,null,null,ae,ye,null,Ve,Ke,rt,Ih),M[fn]=X.current,ou(M),new Bu(X)},reactDomClient_production.hydrateRoot=function(M,X,ae){if(!B(M))throw Error(b(299));var ye=!1,Ve="",Ke=Ld,rt=Pd,dt=jd,wt=null;return ae!=null&&(ae.unstable_strictMode===!0&&(ye=!0),ae.identifierPrefix!==void 0&&(Ve=ae.identifierPrefix),ae.onUncaughtError!==void 0&&(Ke=ae.onUncaughtError),ae.onCaughtError!==void 0&&(rt=ae.onCaughtError),ae.onRecoverableError!==void 0&&(dt=ae.onRecoverableError),ae.formState!==void 0&&(wt=ae.formState)),X=yh(M,1,!0,X,ae??null,ye,Ve,wt,Ke,rt,dt,Ih),X.context=vh(null),ae=X.current,ye=Qs(),ye=zt(ye),Ve=la(ye),Ve.callback=null,ca(ae,Ve,ye),ae=ye,X.current.lanes=ae,zs(X,ae),yi(X),M[fn]=X.current,ou(M),new Ic(X)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(x){console.error(x)}}return r(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM$1=getDefaultExportFromCjs(clientExports);var reactExports$1=requireReact$1();const React=getDefaultExportFromCjs(reactExports$1),ErrorBoundaryContext=reactExports$1.createContext(null),initialState$1={didCatch:!1,error:null};class ErrorBoundary extends reactExports$1.Component{constructor(x){super(x),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState$1}static getDerivedStateFromError(x){return{didCatch:!0,error:x}}resetErrorBoundary(){const{error:x}=this.state;if(x!==null){for(var y,b,B=arguments.length,R=new Array(B),I=0;I<B;I++)R[I]=arguments[I];(y=(b=this.props).onReset)===null||y===void 0||y.call(b,{args:R,reason:"imperative-api"}),this.setState(initialState$1)}}componentDidCatch(x,y){var b,B;(b=(B=this.props).onError)===null||b===void 0||b.call(B,x,y)}componentDidUpdate(x,y){const{didCatch:b}=this.state,{resetKeys:B}=this.props;if(b&&y.error!==null&&hasArrayChanged(x.resetKeys,B)){var R,I;(R=(I=this.props).onReset)===null||R===void 0||R.call(I,{next:B,prev:x.resetKeys,reason:"keys"}),this.setState(initialState$1)}}render(){const{children:x,fallbackRender:y,FallbackComponent:b,fallback:B}=this.props,{didCatch:R,error:I}=this.state;let O=x;if(R){const G={error:I,resetErrorBoundary:this.resetErrorBoundary};if(typeof y=="function")O=y(G);else if(b)O=reactExports$1.createElement(b,G);else if(B!==void 0)O=B;else throw I}return reactExports$1.createElement(ErrorBoundaryContext.Provider,{value:{didCatch:R,error:I,resetErrorBoundary:this.resetErrorBoundary}},O)}}function hasArrayChanged(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return r.length!==x.length||r.some((y,b)=>!Object.is(y,x[b]))}/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var __typeError=r=>{throw TypeError(r)},__accessCheck=(r,x,y)=>x.has(r)||__typeError("Cannot "+y),__privateGet=(r,x,y)=>(__accessCheck(r,x,"read from private field"),y?y.call(r):x.get(r)),__privateAdd=(r,x,y)=>x.has(r)?__typeError("Cannot add the same private member more than once"):x instanceof WeakSet?x.add(r):x.set(r,y),PopStateEventType="popstate";function createBrowserHistory(r={}){function x(b,B){let{pathname:R,search:I,hash:O}=b.location;return createLocation("",{pathname:R,search:I,hash:O},B.state&&B.state.usr||null,B.state&&B.state.key||"default")}function y(b,B){return typeof B=="string"?B:createPath(B)}return getUrlBasedHistory(x,y,null,r)}function invariant(r,x){if(r===!1||r===null||typeof r>"u")throw new Error(x)}function warning(r,x){if(!r){typeof console<"u"&&console.warn(x);try{throw new Error(x)}catch{}}}function createKey$1(){return Math.random().toString(36).substring(2,10)}function getHistoryState(r,x){return{usr:r.state,key:r.key,idx:x}}function createLocation(r,x,y=null,b){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof x=="string"?parsePath(x):x,state:y,key:x&&x.key||b||createKey$1()}}function createPath({pathname:r="/",search:x="",hash:y=""}){return x&&x!=="?"&&(r+=x.charAt(0)==="?"?x:"?"+x),y&&y!=="#"&&(r+=y.charAt(0)==="#"?y:"#"+y),r}function parsePath(r){let x={};if(r){let y=r.indexOf("#");y>=0&&(x.hash=r.substring(y),r=r.substring(0,y));let b=r.indexOf("?");b>=0&&(x.search=r.substring(b),r=r.substring(0,b)),r&&(x.pathname=r)}return x}function getUrlBasedHistory(r,x,y,b={}){let{window:B=document.defaultView,v5Compat:R=!1}=b,I=B.history,O="POP",G=null,q=ee();q==null&&(q=0,I.replaceState({...I.state,idx:q},""));function ee(){return(I.state||{idx:null}).idx}function ne(){O="POP";let Ue=ee(),Le=Ue==null?null:Ue-q;q=Ue,G&&G({action:O,location:_e.location,delta:Le})}function oe(Ue,Le){O="PUSH";let He=createLocation(_e.location,Ue,Le);q=ee()+1;let $e=getHistoryState(He,q),Ne=_e.createHref(He);try{I.pushState($e,"",Ne)}catch(Qe){if(Qe instanceof DOMException&&Qe.name==="DataCloneError")throw Qe;B.location.assign(Ne)}R&&G&&G({action:O,location:_e.location,delta:1})}function pe(Ue,Le){O="REPLACE";let He=createLocation(_e.location,Ue,Le);q=ee();let $e=getHistoryState(He,q),Ne=_e.createHref(He);I.replaceState($e,"",Ne),R&&G&&G({action:O,location:_e.location,delta:0})}function xe(Ue){return createBrowserURLImpl(Ue)}let _e={get action(){return O},get location(){return r(B,I)},listen(Ue){if(G)throw new Error("A history only accepts one active listener");return B.addEventListener(PopStateEventType,ne),G=Ue,()=>{B.removeEventListener(PopStateEventType,ne),G=null}},createHref(Ue){return x(B,Ue)},createURL:xe,encodeLocation(Ue){let Le=xe(Ue);return{pathname:Le.pathname,search:Le.search,hash:Le.hash}},push:oe,replace:pe,go(Ue){return I.go(Ue)}};return _e}function createBrowserURLImpl(r,x=!1){let y="http://localhost";typeof window<"u"&&(y=window.location.origin!=="null"?window.location.origin:window.location.href),invariant(y,"No window.location.(origin|href) available to create URL");let b=typeof r=="string"?r:createPath(r);return b=b.replace(/ $/,"%20"),!x&&b.startsWith("//")&&(b=y+b),new URL(b,y)}var _map,RouterContextProvider=class{constructor(r){if(__privateAdd(this,_map,new Map),r)for(let[x,y]of r)this.set(x,y)}get(r){if(__privateGet(this,_map).has(r))return __privateGet(this,_map).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,x){__privateGet(this,_map).set(r,x)}};_map=new WeakMap;var unsupportedLazyRouteObjectKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isUnsupportedLazyRouteObjectKey(r){return unsupportedLazyRouteObjectKeys.has(r)}var unsupportedLazyRouteFunctionKeys=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function isUnsupportedLazyRouteFunctionKey(r){return unsupportedLazyRouteFunctionKeys.has(r)}function isIndexRoute(r){return r.index===!0}function convertRoutesToDataRoutes(r,x,y=[],b={},B=!1){return r.map((R,I)=>{let O=[...y,String(I)],G=typeof R.id=="string"?R.id:O.join("-");if(invariant(R.index!==!0||!R.children,"Cannot specify children on an index route"),invariant(B||!b[G],`Found a route id collision on id "${G}".  Route id's must be globally unique within Data Router usages`),isIndexRoute(R)){let q={...R,id:G};return b[G]=mergeRouteUpdates(q,x(q)),q}else{let q={...R,id:G,children:void 0};return b[G]=mergeRouteUpdates(q,x(q)),R.children&&(q.children=convertRoutesToDataRoutes(R.children,x,O,b,B)),q}})}function mergeRouteUpdates(r,x){return Object.assign(r,{...x,...typeof x.lazy=="object"&&x.lazy!=null?{lazy:{...r.lazy,...x.lazy}}:{}})}function matchRoutes(r,x,y="/"){return matchRoutesImpl(r,x,y,!1)}function matchRoutesImpl(r,x,y,b){let B=typeof x=="string"?parsePath(x):x,R=stripBasename(B.pathname||"/",y);if(R==null)return null;let I=flattenRoutes(r);rankRouteBranches(I);let O=null;for(let G=0;O==null&&G<I.length;++G){let q=decodePath(R);O=matchRouteBranch(I[G],q,b)}return O}function convertRouteMatchToUiMatch(r,x){let{route:y,pathname:b,params:B}=r;return{id:y.id,pathname:b,params:B,data:x[y.id],loaderData:x[y.id],handle:y.handle}}function flattenRoutes(r,x=[],y=[],b="",B=!1){let R=(I,O,G=B,q)=>{let ee={relativePath:q===void 0?I.path||"":q,caseSensitive:I.caseSensitive===!0,childrenIndex:O,route:I};if(ee.relativePath.startsWith("/")){if(!ee.relativePath.startsWith(b)&&G)return;invariant(ee.relativePath.startsWith(b),`Absolute route path "${ee.relativePath}" nested under path "${b}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),ee.relativePath=ee.relativePath.slice(b.length)}let ne=joinPaths([b,ee.relativePath]),oe=y.concat(ee);I.children&&I.children.length>0&&(invariant(I.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ne}".`),flattenRoutes(I.children,x,oe,ne,G)),!(I.path==null&&!I.index)&&x.push({path:ne,score:computeScore(ne,I.index),routesMeta:oe})};return r.forEach((I,O)=>{var G;if(I.path===""||!((G=I.path)!=null&&G.includes("?")))R(I,O);else for(let q of explodeOptionalSegments(I.path))R(I,O,!0,q)}),x}function explodeOptionalSegments(r){let x=r.split("/");if(x.length===0)return[];let[y,...b]=x,B=y.endsWith("?"),R=y.replace(/\?$/,"");if(b.length===0)return B?[R,""]:[R];let I=explodeOptionalSegments(b.join("/")),O=[];return O.push(...I.map(G=>G===""?R:[R,G].join("/"))),B&&O.push(...I),O.map(G=>r.startsWith("/")&&G===""?"/":G)}function rankRouteBranches(r){r.sort((x,y)=>x.score!==y.score?y.score-x.score:compareIndexes(x.routesMeta.map(b=>b.childrenIndex),y.routesMeta.map(b=>b.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=r=>r==="*";function computeScore(r,x){let y=r.split("/"),b=y.length;return y.some(isSplat)&&(b+=splatPenalty),x&&(b+=indexRouteValue),y.filter(B=>!isSplat(B)).reduce((B,R)=>B+(paramRe.test(R)?dynamicSegmentValue:R===""?emptySegmentValue:staticSegmentValue),b)}function compareIndexes(r,x){return r.length===x.length&&r.slice(0,-1).every((b,B)=>b===x[B])?r[r.length-1]-x[x.length-1]:0}function matchRouteBranch(r,x,y=!1){let{routesMeta:b}=r,B={},R="/",I=[];for(let O=0;O<b.length;++O){let G=b[O],q=O===b.length-1,ee=R==="/"?x:x.slice(R.length)||"/",ne=matchPath({path:G.relativePath,caseSensitive:G.caseSensitive,end:q},ee),oe=G.route;if(!ne&&q&&y&&!b[b.length-1].route.index&&(ne=matchPath({path:G.relativePath,caseSensitive:G.caseSensitive,end:!1},ee)),!ne)return null;Object.assign(B,ne.params),I.push({params:B,pathname:joinPaths([R,ne.pathname]),pathnameBase:normalizePathname(joinPaths([R,ne.pathnameBase])),route:oe}),ne.pathnameBase!=="/"&&(R=joinPaths([R,ne.pathnameBase]))}return I}function matchPath(r,x){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[y,b]=compilePath(r.path,r.caseSensitive,r.end),B=x.match(y);if(!B)return null;let R=B[0],I=R.replace(/(.)\/+$/,"$1"),O=B.slice(1);return{params:b.reduce((q,{paramName:ee,isOptional:ne},oe)=>{if(ee==="*"){let xe=O[oe]||"";I=R.slice(0,R.length-xe.length).replace(/(.)\/+$/,"$1")}const pe=O[oe];return ne&&!pe?q[ee]=void 0:q[ee]=(pe||"").replace(/%2F/g,"/"),q},{}),pathname:R,pathnameBase:I,pattern:r}}function compilePath(r,x=!1,y=!0){warning(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let b=[],B="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(I,O,G)=>(b.push({paramName:O,isOptional:G!=null}),G?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(b.push({paramName:"*"}),B+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):y?B+="\\/*$":r!==""&&r!=="/"&&(B+="(?:(?=\\/|$))"),[new RegExp(B,x?void 0:"i"),b]}function decodePath(r){try{return r.split("/").map(x=>decodeURIComponent(x).replace(/\//g,"%2F")).join("/")}catch(x){return warning(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${x}).`),r}}function stripBasename(r,x){if(x==="/")return r;if(!r.toLowerCase().startsWith(x.toLowerCase()))return null;let y=x.endsWith("/")?x.length-1:x.length,b=r.charAt(y);return b&&b!=="/"?null:r.slice(y)||"/"}function prependBasename({basename:r,pathname:x}){return x==="/"?r:joinPaths([r,x])}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=r=>ABSOLUTE_URL_REGEX.test(r);function resolvePath(r,x="/"){let{pathname:y,search:b="",hash:B=""}=typeof r=="string"?parsePath(r):r,R;if(y)if(isAbsoluteUrl(y))R=y;else{if(y.includes("//")){let I=y;y=y.replace(/\/\/+/g,"/"),warning(!1,`Pathnames cannot have embedded double slashes - normalizing ${I} -> ${y}`)}y.startsWith("/")?R=resolvePathname(y.substring(1),"/"):R=resolvePathname(y,x)}else R=x;return{pathname:R,search:normalizeSearch(b),hash:normalizeHash(B)}}function resolvePathname(r,x){let y=x.replace(/\/+$/,"").split("/");return r.split("/").forEach(B=>{B===".."?y.length>1&&y.pop():B!=="."&&y.push(B)}),y.length>1?y.join("/"):"/"}function getInvalidPathError(r,x,y,b){return`Cannot include a '${r}' character in a manually specified \`to.${x}\` field [${JSON.stringify(b)}].  Please separate it out to the \`to.${y}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(r){return r.filter((x,y)=>y===0||x.route.path&&x.route.path.length>0)}function getResolveToMatches(r){let x=getPathContributingMatches(r);return x.map((y,b)=>b===x.length-1?y.pathname:y.pathnameBase)}function resolveTo(r,x,y,b=!1){let B;typeof r=="string"?B=parsePath(r):(B={...r},invariant(!B.pathname||!B.pathname.includes("?"),getInvalidPathError("?","pathname","search",B)),invariant(!B.pathname||!B.pathname.includes("#"),getInvalidPathError("#","pathname","hash",B)),invariant(!B.search||!B.search.includes("#"),getInvalidPathError("#","search","hash",B)));let R=r===""||B.pathname==="",I=R?"/":B.pathname,O;if(I==null)O=y;else{let ne=x.length-1;if(!b&&I.startsWith("..")){let oe=I.split("/");for(;oe[0]==="..";)oe.shift(),ne-=1;B.pathname=oe.join("/")}O=ne>=0?x[ne]:"/"}let G=resolvePath(B,O),q=I&&I!=="/"&&I.endsWith("/"),ee=(R||I===".")&&y.endsWith("/");return!G.pathname.endsWith("/")&&(q||ee)&&(G.pathname+="/"),G}var joinPaths=r=>r.join("/").replace(/\/\/+/g,"/"),normalizePathname=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,normalizeHash=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,ErrorResponseImpl=class{constructor(r,x,y,b=!1){this.status=r,this.statusText=x||"",this.internal=b,y instanceof Error?(this.data=y.toString(),this.error=y):this.data=y}};function isRouteErrorResponse(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function getRoutePattern(r){return r.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var UninstrumentedSymbol=Symbol("Uninstrumented");function getRouteInstrumentationUpdates(r,x){let y={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};r.forEach(B=>B({id:x.id,index:x.index,path:x.path,instrument(R){let I=Object.keys(y);for(let O of I)R[O]&&y[O].push(R[O])}}));let b={};if(typeof x.lazy=="function"&&y.lazy.length>0){let B=wrapImpl(y.lazy,x.lazy,()=>{});B&&(b.lazy=B)}if(typeof x.lazy=="object"){let B=x.lazy;["middleware","loader","action"].forEach(R=>{let I=B[R],O=y[`lazy.${R}`];if(typeof I=="function"&&O.length>0){let G=wrapImpl(O,I,()=>{});G&&(b.lazy=Object.assign(b.lazy||{},{[R]:G}))}})}return["loader","action"].forEach(B=>{let R=x[B];if(typeof R=="function"&&y[B].length>0){let I=R[UninstrumentedSymbol]??R,O=wrapImpl(y[B],I,(...G)=>getHandlerInfo(G[0]));O&&(O[UninstrumentedSymbol]=I,b[B]=O)}}),x.middleware&&x.middleware.length>0&&y.middleware.length>0&&(b.middleware=x.middleware.map(B=>{let R=B[UninstrumentedSymbol]??B,I=wrapImpl(y.middleware,R,(...O)=>getHandlerInfo(O[0]));return I?(I[UninstrumentedSymbol]=R,I):B})),b}function instrumentClientSideRouter(r,x){let y={navigate:[],fetch:[]};if(x.forEach(b=>b({instrument(B){let R=Object.keys(B);for(let I of R)B[I]&&y[I].push(B[I])}})),y.navigate.length>0){let b=r.navigate[UninstrumentedSymbol]??r.navigate,B=wrapImpl(y.navigate,b,(...R)=>{let[I,O]=R;return{to:typeof I=="number"||typeof I=="string"?I:I?createPath(I):".",...getRouterInfo(r,O??{})}});B&&(B[UninstrumentedSymbol]=b,r.navigate=B)}if(y.fetch.length>0){let b=r.fetch[UninstrumentedSymbol]??r.fetch,B=wrapImpl(y.fetch,b,(...R)=>{let[I,,O,G]=R;return{href:O??".",fetcherKey:I,...getRouterInfo(r,G??{})}});B&&(B[UninstrumentedSymbol]=b,r.fetch=B)}return r}function wrapImpl(r,x,y){return r.length===0?null:async(...b)=>{let B=await recurseRight(r,y(...b),()=>x(...b),r.length-1);if(B.type==="error")throw B.value;return B.value}}async function recurseRight(r,x,y,b){let B=r[b],R;if(B){let I,O=async()=>(I?console.error("You cannot call instrumented handlers more than once"):I=recurseRight(r,x,y,b-1),R=await I,invariant(R,"Expected a result"),R.type==="error"&&R.value instanceof Error?{status:"error",error:R.value}:{status:"success",error:void 0});try{await B(O,x)}catch(G){console.error("An instrumentation function threw an error:",G)}I||await O(),await I}else try{R={type:"success",value:await y()}}catch(I){R={type:"error",value:I}}return R||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function getHandlerInfo(r){let{request:x,context:y,params:b,unstable_pattern:B}=r;return{request:getReadonlyRequest(x),params:{...b},unstable_pattern:B,context:getReadonlyContext(y)}}function getRouterInfo(r,x){return{currentUrl:createPath(r.state.location),..."formMethod"in x?{formMethod:x.formMethod}:{},..."formEncType"in x?{formEncType:x.formEncType}:{},..."formData"in x?{formData:x.formData}:{},..."body"in x?{body:x.body}:{}}}function getReadonlyRequest(r){return{method:r.method,url:r.url,headers:{get:(...x)=>r.headers.get(...x)}}}function getReadonlyContext(r){if(isPlainObject$2(r)){let x={...r};return Object.freeze(x),x}else return{get:x=>r.get(x)}}var objectProtoNames=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function isPlainObject$2(r){if(r===null||typeof r!="object")return!1;const x=Object.getPrototypeOf(r);return x===Object.prototype||x===null||Object.getOwnPropertyNames(x).sort().join("\0")===objectProtoNames}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["GET",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},defaultMapRouteProperties=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions",ResetLoaderDataSymbol=Symbol("ResetLoaderData");function createRouter(r){const x=r.window?r.window:typeof window<"u"?window:void 0,y=typeof x<"u"&&typeof x.document<"u"&&typeof x.document.createElement<"u";invariant(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let b=r.hydrationRouteProperties||[],B=r.mapRouteProperties||defaultMapRouteProperties,R=B;if(r.unstable_instrumentations){let Ct=r.unstable_instrumentations;R=Tt=>({...B(Tt),...getRouteInstrumentationUpdates(Ct.map(Ot=>Ot.route).filter(Boolean),Tt)})}let I={},O=convertRoutesToDataRoutes(r.routes,R,void 0,I),G,q=r.basename||"/";q.startsWith("/")||(q=`/${q}`);let ee=r.dataStrategy||defaultDataStrategyWithMiddleware,ne={...r.future},oe=null,pe=new Set,xe=null,_e=null,Ue=null,Le=r.hydrationData!=null,He=matchRoutes(O,r.history.location,q),$e=!1,Ne=null,Qe;if(He==null&&!r.patchRoutesOnNavigation){let Ct=getInternalRouterError(404,{pathname:r.history.location.pathname}),{matches:Tt,route:Ot}=getShortCircuitMatches(O);Qe=!0,He=Tt,Ne={[Ot.id]:Ct}}else if(He&&!r.hydrationData&&Ai(He,O,r.history.location.pathname).active&&(He=null),He)if(He.some(Ct=>Ct.route.lazy))Qe=!1;else if(!He.some(Ct=>routeHasLoaderOrMiddleware(Ct.route)))Qe=!0;else{let Ct=r.hydrationData?r.hydrationData.loaderData:null,Tt=r.hydrationData?r.hydrationData.errors:null;if(Tt){let Ot=He.findIndex(zt=>Tt[zt.route.id]!==void 0);Qe=He.slice(0,Ot+1).every(zt=>!shouldLoadRouteOnHydration(zt.route,Ct,Tt))}else Qe=He.every(Ot=>!shouldLoadRouteOnHydration(Ot.route,Ct,Tt))}else{Qe=!1,He=[];let Ct=Ai(null,O,r.history.location.pathname);Ct.active&&Ct.matches&&($e=!0,He=Ct.matches)}let We,Ge={historyAction:r.history.action,location:r.history.location,matches:He,initialized:Qe,navigation:IDLE_NAVIGATION,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||Ne,fetchers:new Map,blockers:new Map},Xe="POP",Je=!1,ut,ft=!1,ct=new Map,pt=null,yt=!1,lt=!1,Ze=new Set,it=new Map,Ye=0,et=-1,gt=new Map,st=new Set,ht=new Map,vt=new Map,Et=new Set,Rt=new Map,_t,Ut=null;function an(){if(oe=r.history.listen(({action:Ct,location:Tt,delta:Ot})=>{if(_t){_t(),_t=void 0;return}warning(Rt.size===0||Ot!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let zt=ci({currentLocation:Ge.location,nextLocation:Tt,historyAction:Ct});if(zt&&Ot!=null){let Jt=new Promise(sn=>{_t=sn});r.history.go(Ot*-1),Vs(zt,{state:"blocked",location:Tt,proceed(){Vs(zt,{state:"proceeding",proceed:void 0,reset:void 0,location:Tt}),Jt.then(()=>r.history.go(Ot))},reset(){let sn=new Map(Ge.blockers);sn.set(zt,IDLE_BLOCKER),pn({blockers:sn})}});return}return Zn(Ct,Tt)}),y){restoreAppliedTransitions(x,ct);let Ct=()=>persistAppliedTransitions(x,ct);x.addEventListener("pagehide",Ct),pt=()=>x.removeEventListener("pagehide",Ct)}return Ge.initialized||Zn("POP",Ge.location,{initialHydration:!0}),We}function hn(){oe&&oe(),pt&&pt(),pe.clear(),ut&&ut.abort(),Ge.fetchers.forEach((Ct,Tt)=>ys(Tt)),Ge.blockers.forEach((Ct,Tt)=>vs(Tt))}function Ln(Ct){return pe.add(Ct),()=>pe.delete(Ct)}function pn(Ct,Tt={}){Ct.matches&&(Ct.matches=Ct.matches.map(Jt=>{let sn=I[Jt.route.id],$t=Jt.route;return $t.element!==sn.element||$t.errorElement!==sn.errorElement||$t.hydrateFallbackElement!==sn.hydrateFallbackElement?{...Jt,route:sn}:Jt})),Ge={...Ge,...Ct};let Ot=[],zt=[];Ge.fetchers.forEach((Jt,sn)=>{Jt.state==="idle"&&(Et.has(sn)?Ot.push(sn):zt.push(sn))}),Et.forEach(Jt=>{!Ge.fetchers.has(Jt)&&!it.has(Jt)&&Ot.push(Jt)}),[...pe].forEach(Jt=>Jt(Ge,{deletedFetchers:Ot,viewTransitionOpts:Tt.viewTransitionOpts,flushSync:Tt.flushSync===!0})),Ot.forEach(Jt=>ys(Jt)),zt.forEach(Jt=>Ge.fetchers.delete(Jt))}function qn(Ct,Tt,{flushSync:Ot}={}){var fn,un;let zt=Ge.actionData!=null&&Ge.navigation.formMethod!=null&&isMutationMethod(Ge.navigation.formMethod)&&Ge.navigation.state==="loading"&&((fn=Ct.state)==null?void 0:fn._isRedirect)!==!0,Jt;Tt.actionData?Object.keys(Tt.actionData).length>0?Jt=Tt.actionData:Jt=null:zt?Jt=Ge.actionData:Jt=null;let sn=Tt.loaderData?mergeLoaderData(Ge.loaderData,Tt.loaderData,Tt.matches||[],Tt.errors):Ge.loaderData,$t=Ge.blockers;$t.size>0&&($t=new Map($t),$t.forEach((Sn,Hn)=>$t.set(Hn,IDLE_BLOCKER)));let rn=yt?!1:Vr(Ct,Tt.matches||Ge.matches),nn=Je===!0||Ge.navigation.formMethod!=null&&isMutationMethod(Ge.navigation.formMethod)&&((un=Ct.state)==null?void 0:un._isRedirect)!==!0;G&&(O=G,G=void 0),yt||Xe==="POP"||(Xe==="PUSH"?r.history.push(Ct,Ct.state):Xe==="REPLACE"&&r.history.replace(Ct,Ct.state));let en;if(Xe==="POP"){let Sn=ct.get(Ge.location.pathname);Sn&&Sn.has(Ct.pathname)?en={currentLocation:Ge.location,nextLocation:Ct}:ct.has(Ct.pathname)&&(en={currentLocation:Ct,nextLocation:Ge.location})}else if(ft){let Sn=ct.get(Ge.location.pathname);Sn?Sn.add(Ct.pathname):(Sn=new Set([Ct.pathname]),ct.set(Ge.location.pathname,Sn)),en={currentLocation:Ge.location,nextLocation:Ct}}pn({...Tt,actionData:Jt,loaderData:sn,historyAction:Xe,location:Ct,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:rn,preventScrollReset:nn,blockers:$t},{viewTransitionOpts:en,flushSync:Ot===!0}),Xe="POP",Je=!1,ft=!1,yt=!1,lt=!1,Ut==null||Ut.resolve(),Ut=null}async function on(Ct,Tt){if(typeof Ct=="number"){r.history.go(Ct);return}let Ot=normalizeTo(Ge.location,Ge.matches,q,Ct,Tt==null?void 0:Tt.fromRouteId,Tt==null?void 0:Tt.relative),{path:zt,submission:Jt,error:sn}=normalizeNavigateOptions(!1,Ot,Tt),$t=Ge.location,rn=createLocation(Ge.location,zt,Tt&&Tt.state);rn={...rn,...r.history.encodeLocation(rn)};let nn=Tt&&Tt.replace!=null?Tt.replace:void 0,en="PUSH";nn===!0?en="REPLACE":nn===!1||Jt!=null&&isMutationMethod(Jt.formMethod)&&Jt.formAction===Ge.location.pathname+Ge.location.search&&(en="REPLACE");let fn=Tt&&"preventScrollReset"in Tt?Tt.preventScrollReset===!0:void 0,un=(Tt&&Tt.flushSync)===!0,Sn=ci({currentLocation:$t,nextLocation:rn,historyAction:en});if(Sn){Vs(Sn,{state:"blocked",location:rn,proceed(){Vs(Sn,{state:"proceeding",proceed:void 0,reset:void 0,location:rn}),on(Ct,Tt)},reset(){let Hn=new Map(Ge.blockers);Hn.set(Sn,IDLE_BLOCKER),pn({blockers:Hn})}});return}await Zn(en,rn,{submission:Jt,pendingError:sn,preventScrollReset:fn,replace:Tt&&Tt.replace,enableViewTransition:Tt&&Tt.viewTransition,flushSync:un})}function tn(){Ut||(Ut=createDeferred()),Cn(),pn({revalidation:"loading"});let Ct=Ut.promise;return Ge.navigation.state==="submitting"?Ct:Ge.navigation.state==="idle"?(Zn(Ge.historyAction,Ge.location,{startUninterruptedRevalidation:!0}),Ct):(Zn(Xe||Ge.historyAction,Ge.navigation.location,{overrideNavigation:Ge.navigation,enableViewTransition:ft===!0}),Ct)}async function Zn(Ct,Tt,Ot){ut&&ut.abort(),ut=null,Xe=Ct,yt=(Ot&&Ot.startUninterruptedRevalidation)===!0,Ei(Ge.location,Ge.matches),Je=(Ot&&Ot.preventScrollReset)===!0,ft=(Ot&&Ot.enableViewTransition)===!0;let zt=G||O,Jt=Ot&&Ot.overrideNavigation,sn=Ot!=null&&Ot.initialHydration&&Ge.matches&&Ge.matches.length>0&&!$e?Ge.matches:matchRoutes(zt,Tt,q),$t=(Ot&&Ot.flushSync)===!0;if(sn&&Ge.initialized&&!lt&&isHashChangeOnly(Ge.location,Tt)&&!(Ot&&Ot.submission&&isMutationMethod(Ot.submission.formMethod))){qn(Tt,{matches:sn},{flushSync:$t});return}let rn=Ai(sn,zt,Tt.pathname);if(rn.active&&rn.matches&&(sn=rn.matches),!sn){let{error:br,notFoundMatches:$n,route:_n}=jn(Tt.pathname);qn(Tt,{matches:$n,loaderData:{},errors:{[_n.id]:br}},{flushSync:$t});return}ut=new AbortController;let nn=createClientSideRequest(r.history,Tt,ut.signal,Ot&&Ot.submission),en=r.getContext?await r.getContext():new RouterContextProvider,fn;if(Ot&&Ot.pendingError)fn=[findNearestBoundary(sn).route.id,{type:"error",error:Ot.pendingError}];else if(Ot&&Ot.submission&&isMutationMethod(Ot.submission.formMethod)){let br=await Dr(nn,Tt,Ot.submission,sn,en,rn.active,Ot&&Ot.initialHydration===!0,{replace:Ot.replace,flushSync:$t});if(br.shortCircuited)return;if(br.pendingActionResult){let[$n,_n]=br.pendingActionResult;if(isErrorResult(_n)&&isRouteErrorResponse(_n.error)&&_n.error.status===404){ut=null,qn(Tt,{matches:br.matches,loaderData:{},errors:{[$n]:_n.error}});return}}sn=br.matches||sn,fn=br.pendingActionResult,Jt=getLoadingNavigation(Tt,Ot.submission),$t=!1,rn.active=!1,nn=createClientSideRequest(r.history,nn.url,nn.signal)}let{shortCircuited:un,matches:Sn,loaderData:Hn,errors:Nr}=await zn(nn,Tt,sn,en,rn.active,Jt,Ot&&Ot.submission,Ot&&Ot.fetcherSubmission,Ot&&Ot.replace,Ot&&Ot.initialHydration===!0,$t,fn);un||(ut=null,qn(Tt,{matches:Sn||sn,...getActionDataForCommit(fn),loaderData:Hn,errors:Nr}))}async function Dr(Ct,Tt,Ot,zt,Jt,sn,$t,rn={}){Cn();let nn=getSubmittingNavigation(Tt,Ot);if(pn({navigation:nn},{flushSync:rn.flushSync===!0}),sn){let un=await Ir(zt,Tt.pathname,Ct.signal);if(un.type==="aborted")return{shortCircuited:!0};if(un.type==="error"){if(un.partialMatches.length===0){let{matches:Hn,route:Nr}=getShortCircuitMatches(O);return{matches:Hn,pendingActionResult:[Nr.id,{type:"error",error:un.error}]}}let Sn=findNearestBoundary(un.partialMatches).route.id;return{matches:un.partialMatches,pendingActionResult:[Sn,{type:"error",error:un.error}]}}else if(un.matches)zt=un.matches;else{let{notFoundMatches:Sn,error:Hn,route:Nr}=jn(Tt.pathname);return{matches:Sn,pendingActionResult:[Nr.id,{type:"error",error:Hn}]}}}let en,fn=getTargetMatch(zt,Tt);if(!fn.route.action&&!fn.route.lazy)en={type:"error",error:getInternalRouterError(405,{method:Ct.method,pathname:Tt.pathname,routeId:fn.route.id})};else{let un=getTargetedDataStrategyMatches(R,I,Ct,zt,fn,$t?[]:b,Jt),Sn=await Kt(Ct,un,Jt,null);if(en=Sn[fn.route.id],!en){for(let Hn of zt)if(Sn[Hn.route.id]){en=Sn[Hn.route.id];break}}if(Ct.signal.aborted)return{shortCircuited:!0}}if(isRedirectResult(en)){let un;return rn&&rn.replace!=null?un=rn.replace:un=normalizeRedirectLocation(en.response.headers.get("Location"),new URL(Ct.url),q)===Ge.location.pathname+Ge.location.search,await Or(Ct,en,!0,{submission:Ot,replace:un}),{shortCircuited:!0}}if(isErrorResult(en)){let un=findNearestBoundary(zt,fn.route.id);return(rn&&rn.replace)!==!0&&(Xe="PUSH"),{matches:zt,pendingActionResult:[un.route.id,en,fn.route.id]}}return{matches:zt,pendingActionResult:[fn.route.id,en]}}async function zn(Ct,Tt,Ot,zt,Jt,sn,$t,rn,nn,en,fn,un){let Sn=sn||getLoadingNavigation(Tt,$t),Hn=$t||rn||getSubmissionFromNavigation(Sn),Nr=!yt&&!en;if(Jt){if(Nr){let wn=Tn(un);pn({navigation:Sn,...wn!==void 0?{actionData:wn}:{}},{flushSync:fn})}let ln=await Ir(Ot,Tt.pathname,Ct.signal);if(ln.type==="aborted")return{shortCircuited:!0};if(ln.type==="error"){if(ln.partialMatches.length===0){let{matches:Nn,route:hs}=getShortCircuitMatches(O);return{matches:Nn,loaderData:{},errors:{[hs.id]:ln.error}}}let wn=findNearestBoundary(ln.partialMatches).route.id;return{matches:ln.partialMatches,loaderData:{},errors:{[wn]:ln.error}}}else if(ln.matches)Ot=ln.matches;else{let{error:wn,notFoundMatches:Nn,route:hs}=jn(Tt.pathname);return{matches:Nn,loaderData:{},errors:{[hs.id]:wn}}}}let br=G||O,{dsMatches:$n,revalidatingFetchers:_n}=getMatchesToLoad(Ct,zt,R,I,r.history,Ge,Ot,Hn,Tt,en?[]:b,en===!0,lt,Ze,Et,ht,st,br,q,r.patchRoutesOnNavigation!=null,un);if(et=++Ye,!r.dataStrategy&&!$n.some(ln=>ln.shouldLoad)&&!$n.some(ln=>ln.route.middleware&&ln.route.middleware.length>0)&&_n.length===0){let ln=er();return qn(Tt,{matches:Ot,loaderData:{},errors:un&&isErrorResult(un[1])?{[un[0]]:un[1].error}:null,...getActionDataForCommit(un),...ln?{fetchers:new Map(Ge.fetchers)}:{}},{flushSync:fn}),{shortCircuited:!0}}if(Nr){let ln={};if(!Jt){ln.navigation=Sn;let wn=Tn(un);wn!==void 0&&(ln.actionData=wn)}_n.length>0&&(ln.fetchers=yn(_n)),pn(ln,{flushSync:fn})}_n.forEach(ln=>{Pn(ln.key),ln.controller&&it.set(ln.key,ln.controller)});let Qn=()=>_n.forEach(ln=>Pn(ln.key));ut&&ut.signal.addEventListener("abort",Qn);let{loaderResults:ws,fetcherResults:Fr}=await cn($n,_n,Ct,zt);if(Ct.signal.aborted)return{shortCircuited:!0};ut&&ut.signal.removeEventListener("abort",Qn),_n.forEach(ln=>it.delete(ln.key));let sr=findRedirect(ws);if(sr)return await Or(Ct,sr.result,!0,{replace:nn}),{shortCircuited:!0};if(sr=findRedirect(Fr),sr)return st.add(sr.key),await Or(Ct,sr.result,!0,{replace:nn}),{shortCircuited:!0};let{loaderData:Gt,errors:ui}=processLoaderData(Ge,Ot,ws,un,_n,Fr);en&&Ge.errors&&(ui={...Ge.errors,...ui});let Gn=er(),is=Bn(et),zi=Gn||is||_n.length>0;return{matches:Ot,loaderData:Gt,errors:ui,...zi?{fetchers:new Map(Ge.fetchers)}:{}}}function Tn(Ct){if(Ct&&!isErrorResult(Ct[1]))return{[Ct[0]]:Ct[1].data};if(Ge.actionData)return Object.keys(Ge.actionData).length===0?null:Ge.actionData}function yn(Ct){return Ct.forEach(Tt=>{let Ot=Ge.fetchers.get(Tt.key),zt=getLoadingFetcher(void 0,Ot?Ot.data:void 0);Ge.fetchers.set(Tt.key,zt)}),new Map(Ge.fetchers)}async function Sr(Ct,Tt,Ot,zt){Pn(Ct);let Jt=(zt&&zt.flushSync)===!0,sn=G||O,$t=normalizeTo(Ge.location,Ge.matches,q,Ot,Tt,zt==null?void 0:zt.relative),rn=matchRoutes(sn,$t,q),nn=Ai(rn,sn,$t);if(nn.active&&nn.matches&&(rn=nn.matches),!rn){kn(Ct,Tt,getInternalRouterError(404,{pathname:$t}),{flushSync:Jt});return}let{path:en,submission:fn,error:un}=normalizeNavigateOptions(!0,$t,zt);if(un){kn(Ct,Tt,un,{flushSync:Jt});return}let Sn=r.getContext?await r.getContext():new RouterContextProvider,Hn=(zt&&zt.preventScrollReset)===!0;if(fn&&isMutationMethod(fn.formMethod)){await Zt(Ct,Tt,en,rn,Sn,nn.active,Jt,Hn,fn);return}ht.set(Ct,{routeId:Tt,path:en}),await Yr(Ct,Tt,en,rn,Sn,nn.active,Jt,Hn,fn)}async function Zt(Ct,Tt,Ot,zt,Jt,sn,$t,rn,nn){Cn(),ht.delete(Ct);let en=Ge.fetchers.get(Ct);Fn(Ct,getSubmittingFetcher(nn,en),{flushSync:$t});let fn=new AbortController,un=createClientSideRequest(r.history,Ot,fn.signal,nn);if(sn){let lr=await Ir(zt,new URL(un.url).pathname,un.signal,Ct);if(lr.type==="aborted")return;if(lr.type==="error"){kn(Ct,Tt,lr.error,{flushSync:$t});return}else if(lr.matches)zt=lr.matches;else{kn(Ct,Tt,getInternalRouterError(404,{pathname:Ot}),{flushSync:$t});return}}let Sn=getTargetMatch(zt,Ot);if(!Sn.route.action&&!Sn.route.lazy){let lr=getInternalRouterError(405,{method:nn.formMethod,pathname:Ot,routeId:Tt});kn(Ct,Tt,lr,{flushSync:$t});return}it.set(Ct,fn);let Hn=Ye,Nr=getTargetedDataStrategyMatches(R,I,un,zt,Sn,b,Jt),br=await Kt(un,Nr,Jt,Ct),$n=br[Sn.route.id];if(!$n){for(let lr of Nr)if(br[lr.route.id]){$n=br[lr.route.id];break}}if(un.signal.aborted){it.get(Ct)===fn&&it.delete(Ct);return}if(Et.has(Ct)){if(isRedirectResult($n)||isErrorResult($n)){Fn(Ct,getDoneFetcher(void 0));return}}else{if(isRedirectResult($n))if(it.delete(Ct),et>Hn){Fn(Ct,getDoneFetcher(void 0));return}else return st.add(Ct),Fn(Ct,getLoadingFetcher(nn)),Or(un,$n,!1,{fetcherSubmission:nn,preventScrollReset:rn});if(isErrorResult($n)){kn(Ct,Tt,$n.error);return}}let _n=Ge.navigation.location||Ge.location,Qn=createClientSideRequest(r.history,_n,fn.signal),ws=G||O,Fr=Ge.navigation.state!=="idle"?matchRoutes(ws,Ge.navigation.location,q):Ge.matches;invariant(Fr,"Didn't find any matches after fetcher action");let sr=++Ye;gt.set(Ct,sr);let Gt=getLoadingFetcher(nn,$n.data);Ge.fetchers.set(Ct,Gt);let{dsMatches:ui,revalidatingFetchers:Gn}=getMatchesToLoad(Qn,Jt,R,I,r.history,Ge,Fr,nn,_n,b,!1,lt,Ze,Et,ht,st,ws,q,r.patchRoutesOnNavigation!=null,[Sn.route.id,$n]);Gn.filter(lr=>lr.key!==Ct).forEach(lr=>{let as=lr.key,nr=Ge.fetchers.get(as),Ms=getLoadingFetcher(void 0,nr?nr.data:void 0);Ge.fetchers.set(as,Ms),Pn(as),lr.controller&&it.set(as,lr.controller)}),pn({fetchers:new Map(Ge.fetchers)});let is=()=>Gn.forEach(lr=>Pn(lr.key));fn.signal.addEventListener("abort",is);let{loaderResults:zi,fetcherResults:ln}=await cn(ui,Gn,Qn,Jt);if(fn.signal.aborted)return;if(fn.signal.removeEventListener("abort",is),gt.delete(Ct),it.delete(Ct),Gn.forEach(lr=>it.delete(lr.key)),Ge.fetchers.has(Ct)){let lr=getDoneFetcher($n.data);Ge.fetchers.set(Ct,lr)}let wn=findRedirect(zi);if(wn)return Or(Qn,wn.result,!1,{preventScrollReset:rn});if(wn=findRedirect(ln),wn)return st.add(wn.key),Or(Qn,wn.result,!1,{preventScrollReset:rn});let{loaderData:Nn,errors:hs}=processLoaderData(Ge,Fr,zi,void 0,Gn,ln);Bn(sr),Ge.navigation.state==="loading"&&sr>et?(invariant(Xe,"Expected pending action"),ut&&ut.abort(),qn(Ge.navigation.location,{matches:Fr,loaderData:Nn,errors:hs,fetchers:new Map(Ge.fetchers)})):(pn({errors:hs,loaderData:mergeLoaderData(Ge.loaderData,Nn,Fr,hs),fetchers:new Map(Ge.fetchers)}),lt=!1)}async function Yr(Ct,Tt,Ot,zt,Jt,sn,$t,rn,nn){let en=Ge.fetchers.get(Ct);Fn(Ct,getLoadingFetcher(nn,en?en.data:void 0),{flushSync:$t});let fn=new AbortController,un=createClientSideRequest(r.history,Ot,fn.signal);if(sn){let _n=await Ir(zt,new URL(un.url).pathname,un.signal,Ct);if(_n.type==="aborted")return;if(_n.type==="error"){kn(Ct,Tt,_n.error,{flushSync:$t});return}else if(_n.matches)zt=_n.matches;else{kn(Ct,Tt,getInternalRouterError(404,{pathname:Ot}),{flushSync:$t});return}}let Sn=getTargetMatch(zt,Ot);it.set(Ct,fn);let Hn=Ye,Nr=getTargetedDataStrategyMatches(R,I,un,zt,Sn,b,Jt),$n=(await Kt(un,Nr,Jt,Ct))[Sn.route.id];if(it.get(Ct)===fn&&it.delete(Ct),!un.signal.aborted){if(Et.has(Ct)){Fn(Ct,getDoneFetcher(void 0));return}if(isRedirectResult($n))if(et>Hn){Fn(Ct,getDoneFetcher(void 0));return}else{st.add(Ct),await Or(un,$n,!1,{preventScrollReset:rn});return}if(isErrorResult($n)){kn(Ct,Tt,$n.error);return}Fn(Ct,getDoneFetcher($n.data))}}async function Or(Ct,Tt,Ot,{submission:zt,fetcherSubmission:Jt,preventScrollReset:sn,replace:$t}={}){Tt.response.headers.has("X-Remix-Revalidate")&&(lt=!0);let rn=Tt.response.headers.get("Location");invariant(rn,"Expected a Location header on the redirect Response"),rn=normalizeRedirectLocation(rn,new URL(Ct.url),q);let nn=createLocation(Ge.location,rn,{_isRedirect:!0});if(y){let Nr=!1;if(Tt.response.headers.has("X-Remix-Reload-Document"))Nr=!0;else if(isAbsoluteUrl(rn)){const br=createBrowserURLImpl(rn,!0);Nr=br.origin!==x.location.origin||stripBasename(br.pathname,q)==null}if(Nr){$t?x.location.replace(rn):x.location.assign(rn);return}}ut=null;let en=$t===!0||Tt.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:fn,formAction:un,formEncType:Sn}=Ge.navigation;!zt&&!Jt&&fn&&un&&Sn&&(zt=getSubmissionFromNavigation(Ge.navigation));let Hn=zt||Jt;if(redirectPreserveMethodStatusCodes.has(Tt.response.status)&&Hn&&isMutationMethod(Hn.formMethod))await Zn(en,nn,{submission:{...Hn,formAction:rn},preventScrollReset:sn||Je,enableViewTransition:Ot?ft:void 0});else{let Nr=getLoadingNavigation(nn,zt);await Zn(en,nn,{overrideNavigation:Nr,fetcherSubmission:Jt,preventScrollReset:sn||Je,enableViewTransition:Ot?ft:void 0})}}async function Kt(Ct,Tt,Ot,zt){let Jt,sn={};try{Jt=await callDataStrategyImpl(ee,Ct,Tt,zt,Ot,!1)}catch($t){return Tt.filter(rn=>rn.shouldLoad).forEach(rn=>{sn[rn.route.id]={type:"error",error:$t}}),sn}if(Ct.signal.aborted)return sn;for(let[$t,rn]of Object.entries(Jt))if(isRedirectDataStrategyResult(rn)){let nn=rn.result;sn[$t]={type:"redirect",response:normalizeRelativeRoutingRedirectResponse(nn,Ct,$t,Tt,q)}}else sn[$t]=await convertDataStrategyResultToDataResult(rn);return sn}async function cn(Ct,Tt,Ot,zt){let Jt=Kt(Ot,Ct,zt,null),sn=Promise.all(Tt.map(async nn=>{if(nn.matches&&nn.match&&nn.request&&nn.controller){let fn=(await Kt(nn.request,nn.matches,zt,nn.key))[nn.match.route.id];return{[nn.key]:fn}}else return Promise.resolve({[nn.key]:{type:"error",error:getInternalRouterError(404,{pathname:nn.path})}})})),$t=await Jt,rn=(await sn).reduce((nn,en)=>Object.assign(nn,en),{});return{loaderResults:$t,fetcherResults:rn}}function Cn(){lt=!0,ht.forEach((Ct,Tt)=>{it.has(Tt)&&Ze.add(Tt),Pn(Tt)})}function Fn(Ct,Tt,Ot={}){Ge.fetchers.set(Ct,Tt),pn({fetchers:new Map(Ge.fetchers)},{flushSync:(Ot&&Ot.flushSync)===!0})}function kn(Ct,Tt,Ot,zt={}){let Jt=findNearestBoundary(Ge.matches,Tt);ys(Ct),pn({errors:{[Jt.route.id]:Ot},fetchers:new Map(Ge.fetchers)},{flushSync:(zt&&zt.flushSync)===!0})}function or(Ct){return vt.set(Ct,(vt.get(Ct)||0)+1),Et.has(Ct)&&Et.delete(Ct),Ge.fetchers.get(Ct)||IDLE_FETCHER}function Jr(Ct,Tt){Pn(Ct,Tt==null?void 0:Tt.reason),Fn(Ct,getDoneFetcher(null))}function ys(Ct){let Tt=Ge.fetchers.get(Ct);it.has(Ct)&&!(Tt&&Tt.state==="loading"&&gt.has(Ct))&&Pn(Ct),ht.delete(Ct),gt.delete(Ct),st.delete(Ct),Et.delete(Ct),Ze.delete(Ct),Ge.fetchers.delete(Ct)}function vi(Ct){let Tt=(vt.get(Ct)||0)-1;Tt<=0?(vt.delete(Ct),Et.add(Ct)):vt.set(Ct,Tt),pn({fetchers:new Map(Ge.fetchers)})}function Pn(Ct,Tt){let Ot=it.get(Ct);Ot&&(Ot.abort(Tt),it.delete(Ct))}function qt(Ct){for(let Tt of Ct){let Ot=or(Tt),zt=getDoneFetcher(Ot.data);Ge.fetchers.set(Tt,zt)}}function er(){let Ct=[],Tt=!1;for(let Ot of st){let zt=Ge.fetchers.get(Ot);invariant(zt,`Expected fetcher: ${Ot}`),zt.state==="loading"&&(st.delete(Ot),Ct.push(Ot),Tt=!0)}return qt(Ct),Tt}function Bn(Ct){let Tt=[];for(let[Ot,zt]of gt)if(zt<Ct){let Jt=Ge.fetchers.get(Ot);invariant(Jt,`Expected fetcher: ${Ot}`),Jt.state==="loading"&&(Pn(Ot),gt.delete(Ot),Tt.push(Ot))}return qt(Tt),Tt.length>0}function ur(Ct,Tt){let Ot=Ge.blockers.get(Ct)||IDLE_BLOCKER;return Rt.get(Ct)!==Tt&&Rt.set(Ct,Tt),Ot}function vs(Ct){Ge.blockers.delete(Ct),Rt.delete(Ct)}function Vs(Ct,Tt){let Ot=Ge.blockers.get(Ct)||IDLE_BLOCKER;invariant(Ot.state==="unblocked"&&Tt.state==="blocked"||Ot.state==="blocked"&&Tt.state==="blocked"||Ot.state==="blocked"&&Tt.state==="proceeding"||Ot.state==="blocked"&&Tt.state==="unblocked"||Ot.state==="proceeding"&&Tt.state==="unblocked",`Invalid blocker state transition: ${Ot.state} -> ${Tt.state}`);let zt=new Map(Ge.blockers);zt.set(Ct,Tt),pn({blockers:zt})}function ci({currentLocation:Ct,nextLocation:Tt,historyAction:Ot}){if(Rt.size===0)return;Rt.size>1&&warning(!1,"A router only supports one blocker at a time");let zt=Array.from(Rt.entries()),[Jt,sn]=zt[zt.length-1],$t=Ge.blockers.get(Jt);if(!($t&&$t.state==="proceeding")&&sn({currentLocation:Ct,nextLocation:Tt,historyAction:Ot}))return Jt}function jn(Ct){let Tt=getInternalRouterError(404,{pathname:Ct}),Ot=G||O,{matches:zt,route:Jt}=getShortCircuitMatches(Ot);return{notFoundMatches:zt,route:Jt,error:Tt}}function Es(Ct,Tt,Ot){if(xe=Ct,Ue=Tt,_e=Ot||null,!Le&&Ge.navigation===IDLE_NAVIGATION){Le=!0;let zt=Vr(Ge.location,Ge.matches);zt!=null&&pn({restoreScrollPosition:zt})}return()=>{xe=null,Ue=null,_e=null}}function Fs(Ct,Tt){return _e&&_e(Ct,Tt.map(zt=>convertRouteMatchToUiMatch(zt,Ge.loaderData)))||Ct.key}function Ei(Ct,Tt){if(xe&&Ue){let Ot=Fs(Ct,Tt);xe[Ot]=Ue()}}function Vr(Ct,Tt){if(xe){let Ot=Fs(Ct,Tt),zt=xe[Ot];if(typeof zt=="number")return zt}return null}function Ai(Ct,Tt,Ot){if(r.patchRoutesOnNavigation)if(Ct){if(Object.keys(Ct[0].params).length>0)return{active:!0,matches:matchRoutesImpl(Tt,Ot,q,!0)}}else return{active:!0,matches:matchRoutesImpl(Tt,Ot,q,!0)||[]};return{active:!1,matches:null}}async function Ir(Ct,Tt,Ot,zt){if(!r.patchRoutesOnNavigation)return{type:"success",matches:Ct};let Jt=Ct;for(;;){let sn=G==null,$t=G||O,rn=I;try{await r.patchRoutesOnNavigation({signal:Ot,path:Tt,matches:Jt,fetcherKey:zt,patch:(fn,un)=>{Ot.aborted||patchRoutesImpl(fn,un,$t,rn,R,!1)}})}catch(fn){return{type:"error",error:fn,partialMatches:Jt}}finally{sn&&!Ot.aborted&&(O=[...O])}if(Ot.aborted)return{type:"aborted"};let nn=matchRoutes($t,Tt,q),en=null;if(nn){if(Object.keys(nn[0].params).length===0)return{type:"success",matches:nn};if(en=matchRoutesImpl($t,Tt,q,!0),!(en&&Jt.length<en.length&&ks(Jt,en.slice(0,Jt.length))))return{type:"success",matches:nn}}if(en||(en=matchRoutesImpl($t,Tt,q,!0)),!en||ks(Jt,en))return{type:"success",matches:null};Jt=en}}function ks(Ct,Tt){return Ct.length===Tt.length&&Ct.every((Ot,zt)=>Ot.route.id===Tt[zt].route.id)}function zs(Ct){I={},G=convertRoutesToDataRoutes(Ct,R,void 0,I)}function Cs(Ct,Tt,Ot=!1){let zt=G==null;patchRoutesImpl(Ct,Tt,G||O,I,R,Ot),zt&&(O=[...O],pn({}))}return We={get basename(){return q},get future(){return ne},get state(){return Ge},get routes(){return O},get window(){return x},initialize:an,subscribe:Ln,enableScrollRestoration:Es,navigate:on,fetch:Sr,revalidate:tn,createHref:Ct=>r.history.createHref(Ct),encodeLocation:Ct=>r.history.encodeLocation(Ct),getFetcher:or,resetFetcher:Jr,deleteFetcher:vi,dispose:hn,getBlocker:ur,deleteBlocker:vs,patchRoutes:Cs,_internalFetchControllers:it,_internalSetRoutes:zs,_internalSetStateDoNotUseOrYouWillBreakYourApp(Ct){pn(Ct)}},r.unstable_instrumentations&&(We=instrumentClientSideRouter(We,r.unstable_instrumentations.map(Ct=>Ct.router).filter(Boolean))),We}function isSubmissionNavigation(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function normalizeTo(r,x,y,b,B,R){let I,O;if(B){I=[];for(let q of x)if(I.push(q),q.route.id===B){O=q;break}}else I=x,O=x[x.length-1];let G=resolveTo(b||".",getResolveToMatches(I),stripBasename(r.pathname,y)||r.pathname,R==="path");if(b==null&&(G.search=r.search,G.hash=r.hash),(b==null||b===""||b===".")&&O){let q=hasNakedIndexQuery(G.search);if(O.route.index&&!q)G.search=G.search?G.search.replace(/^\?/,"?index&"):"?index";else if(!O.route.index&&q){let ee=new URLSearchParams(G.search),ne=ee.getAll("index");ee.delete("index"),ne.filter(pe=>pe).forEach(pe=>ee.append("index",pe));let oe=ee.toString();G.search=oe?`?${oe}`:""}}return y!=="/"&&(G.pathname=prependBasename({basename:y,pathname:G.pathname})),createPath(G)}function normalizeNavigateOptions(r,x,y){if(!y||!isSubmissionNavigation(y))return{path:x};if(y.formMethod&&!isValidMethod(y.formMethod))return{path:x,error:getInternalRouterError(405,{method:y.formMethod})};let b=()=>({path:x,error:getInternalRouterError(400,{type:"invalid-body"})}),R=(y.formMethod||"get").toUpperCase(),I=stripHashFromPath(x);if(y.body!==void 0){if(y.formEncType==="text/plain"){if(!isMutationMethod(R))return b();let ne=typeof y.body=="string"?y.body:y.body instanceof FormData||y.body instanceof URLSearchParams?Array.from(y.body.entries()).reduce((oe,[pe,xe])=>`${oe}${pe}=${xe}
`,""):String(y.body);return{path:x,submission:{formMethod:R,formAction:I,formEncType:y.formEncType,formData:void 0,json:void 0,text:ne}}}else if(y.formEncType==="application/json"){if(!isMutationMethod(R))return b();try{let ne=typeof y.body=="string"?JSON.parse(y.body):y.body;return{path:x,submission:{formMethod:R,formAction:I,formEncType:y.formEncType,formData:void 0,json:ne,text:void 0}}}catch{return b()}}}invariant(typeof FormData=="function","FormData is not available in this environment");let O,G;if(y.formData)O=convertFormDataToSearchParams(y.formData),G=y.formData;else if(y.body instanceof FormData)O=convertFormDataToSearchParams(y.body),G=y.body;else if(y.body instanceof URLSearchParams)O=y.body,G=convertSearchParamsToFormData(O);else if(y.body==null)O=new URLSearchParams,G=new FormData;else try{O=new URLSearchParams(y.body),G=convertSearchParamsToFormData(O)}catch{return b()}let q={formMethod:R,formAction:I,formEncType:y&&y.formEncType||"application/x-www-form-urlencoded",formData:G,json:void 0,text:void 0};if(isMutationMethod(q.formMethod))return{path:x,submission:q};let ee=parsePath(x);return r&&ee.search&&hasNakedIndexQuery(ee.search)&&O.append("index",""),ee.search=`?${O}`,{path:createPath(ee),submission:q}}function getMatchesToLoad(r,x,y,b,B,R,I,O,G,q,ee,ne,oe,pe,xe,_e,Ue,Le,He,$e){var yt;let Ne=$e?isErrorResult($e[1])?$e[1].error:$e[1].data:void 0,Qe=B.createURL(R.location),We=B.createURL(G),Ge;if(ee&&R.errors){let lt=Object.keys(R.errors)[0];Ge=I.findIndex(Ze=>Ze.route.id===lt)}else if($e&&isErrorResult($e[1])){let lt=$e[0];Ge=I.findIndex(Ze=>Ze.route.id===lt)-1}let Xe=$e?$e[1].statusCode:void 0,Je=Xe&&Xe>=400,ut={currentUrl:Qe,currentParams:((yt=R.matches[0])==null?void 0:yt.params)||{},nextUrl:We,nextParams:I[0].params,...O,actionResult:Ne,actionStatus:Xe},ft=getRoutePattern(I.map(lt=>lt.route.path)),ct=I.map((lt,Ze)=>{let{route:it}=lt,Ye=null;if(Ge!=null&&Ze>Ge?Ye=!1:it.lazy?Ye=!0:routeHasLoaderOrMiddleware(it)?ee?Ye=shouldLoadRouteOnHydration(it,R.loaderData,R.errors):isNewLoader(R.loaderData,R.matches[Ze],lt)&&(Ye=!0):Ye=!1,Ye!==null)return getDataStrategyMatch(y,b,r,ft,lt,q,x,Ye);let et=Je?!1:ne||Qe.pathname+Qe.search===We.pathname+We.search||Qe.search!==We.search||isNewRouteInstance(R.matches[Ze],lt),gt={...ut,defaultShouldRevalidate:et},st=shouldRevalidateLoader(lt,gt);return getDataStrategyMatch(y,b,r,ft,lt,q,x,st,gt)}),pt=[];return xe.forEach((lt,Ze)=>{if(ee||!I.some(Et=>Et.route.id===lt.routeId)||pe.has(Ze))return;let it=R.fetchers.get(Ze),Ye=it&&it.state!=="idle"&&it.data===void 0,et=matchRoutes(Ue,lt.path,Le);if(!et){if(He&&Ye)return;pt.push({key:Ze,routeId:lt.routeId,path:lt.path,matches:null,match:null,request:null,controller:null});return}if(_e.has(Ze))return;let gt=getTargetMatch(et,lt.path),st=new AbortController,ht=createClientSideRequest(B,lt.path,st.signal),vt=null;if(oe.has(Ze))oe.delete(Ze),vt=getTargetedDataStrategyMatches(y,b,ht,et,gt,q,x);else if(Ye)ne&&(vt=getTargetedDataStrategyMatches(y,b,ht,et,gt,q,x));else{let Et={...ut,defaultShouldRevalidate:Je?!1:ne};shouldRevalidateLoader(gt,Et)&&(vt=getTargetedDataStrategyMatches(y,b,ht,et,gt,q,x,Et))}vt&&pt.push({key:Ze,routeId:lt.routeId,path:lt.path,matches:vt,match:gt,request:ht,controller:st})}),{dsMatches:ct,revalidatingFetchers:pt}}function routeHasLoaderOrMiddleware(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function shouldLoadRouteOnHydration(r,x,y){if(r.lazy)return!0;if(!routeHasLoaderOrMiddleware(r))return!1;let b=x!=null&&r.id in x,B=y!=null&&y[r.id]!==void 0;return!b&&B?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!b&&!B}function isNewLoader(r,x,y){let b=!x||y.route.id!==x.route.id,B=!r.hasOwnProperty(y.route.id);return b||B}function isNewRouteInstance(r,x){let y=r.route.path;return r.pathname!==x.pathname||y!=null&&y.endsWith("*")&&r.params["*"]!==x.params["*"]}function shouldRevalidateLoader(r,x){if(r.route.shouldRevalidate){let y=r.route.shouldRevalidate(x);if(typeof y=="boolean")return y}return x.defaultShouldRevalidate}function patchRoutesImpl(r,x,y,b,B,R){let I;if(r){let q=b[r];invariant(q,`No route found to patch children into: routeId = ${r}`),q.children||(q.children=[]),I=q.children}else I=y;let O=[],G=[];if(x.forEach(q=>{let ee=I.find(ne=>isSameRoute(q,ne));ee?G.push({existingRoute:ee,newRoute:q}):O.push(q)}),O.length>0){let q=convertRoutesToDataRoutes(O,B,[r||"_","patch",String((I==null?void 0:I.length)||"0")],b);I.push(...q)}if(R&&G.length>0)for(let q=0;q<G.length;q++){let{existingRoute:ee,newRoute:ne}=G[q],oe=ee,[pe]=convertRoutesToDataRoutes([ne],B,[],{},!0);Object.assign(oe,{element:pe.element?pe.element:oe.element,errorElement:pe.errorElement?pe.errorElement:oe.errorElement,hydrateFallbackElement:pe.hydrateFallbackElement?pe.hydrateFallbackElement:oe.hydrateFallbackElement})}}function isSameRoute(r,x){return"id"in r&&"id"in x&&r.id===x.id?!0:r.index===x.index&&r.path===x.path&&r.caseSensitive===x.caseSensitive?(!r.children||r.children.length===0)&&(!x.children||x.children.length===0)?!0:r.children.every((y,b)=>{var B;return(B=x.children)==null?void 0:B.some(R=>isSameRoute(y,R))}):!1}var lazyRoutePropertyCache=new WeakMap,loadLazyRouteProperty=({key:r,route:x,manifest:y,mapRouteProperties:b})=>{let B=y[x.id];if(invariant(B,"No route found in manifest"),!B.lazy||typeof B.lazy!="object")return;let R=B.lazy[r];if(!R)return;let I=lazyRoutePropertyCache.get(B);I||(I={},lazyRoutePropertyCache.set(B,I));let O=I[r];if(O)return O;let G=(async()=>{let q=isUnsupportedLazyRouteObjectKey(r),ne=B[r]!==void 0&&r!=="hasErrorBoundary";if(q)warning(!q,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),I[r]=Promise.resolve();else if(ne)warning(!1,`Route "${B.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let oe=await R();oe!=null&&(Object.assign(B,{[r]:oe}),Object.assign(B,b(B)))}typeof B.lazy=="object"&&(B.lazy[r]=void 0,Object.values(B.lazy).every(oe=>oe===void 0)&&(B.lazy=void 0))})();return I[r]=G,G},lazyRouteFunctionCache=new WeakMap;function loadLazyRoute(r,x,y,b,B){let R=y[r.id];if(invariant(R,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let ee=lazyRouteFunctionCache.get(R);if(ee)return{lazyRoutePromise:ee,lazyHandlerPromise:ee};let ne=(async()=>{invariant(typeof r.lazy=="function","No lazy route function found");let oe=await r.lazy(),pe={};for(let xe in oe){let _e=oe[xe];if(_e===void 0)continue;let Ue=isUnsupportedLazyRouteFunctionKey(xe),He=R[xe]!==void 0&&xe!=="hasErrorBoundary";Ue?warning(!Ue,"Route property "+xe+" is not a supported property to be returned from a lazy route function. This property will be ignored."):He?warning(!He,`Route "${R.id}" has a static property "${xe}" defined but its lazy function is also returning a value for this property. The lazy route property "${xe}" will be ignored.`):pe[xe]=_e}Object.assign(R,pe),Object.assign(R,{...b(R),lazy:void 0})})();return lazyRouteFunctionCache.set(R,ne),ne.catch(()=>{}),{lazyRoutePromise:ne,lazyHandlerPromise:ne}}let I=Object.keys(r.lazy),O=[],G;for(let ee of I){if(B&&B.includes(ee))continue;let ne=loadLazyRouteProperty({key:ee,route:r,manifest:y,mapRouteProperties:b});ne&&(O.push(ne),ee===x&&(G=ne))}let q=O.length>0?Promise.all(O).then(()=>{}):void 0;return q==null||q.catch(()=>{}),G==null||G.catch(()=>{}),{lazyRoutePromise:q,lazyHandlerPromise:G}}async function defaultDataStrategy(r){let x=r.matches.filter(B=>B.shouldLoad),y={};return(await Promise.all(x.map(B=>B.resolve()))).forEach((B,R)=>{y[x[R].route.id]=B}),y}async function defaultDataStrategyWithMiddleware(r){return r.matches.some(x=>x.route.middleware)?runClientMiddlewarePipeline(r,()=>defaultDataStrategy(r)):defaultDataStrategy(r)}function runClientMiddlewarePipeline(r,x){return runMiddlewarePipeline(r,x,b=>b,isDataStrategyResults,y);function y(b,B,R){if(R)return Promise.resolve(Object.assign(R.value,{[B]:{type:"error",result:b}}));{let{matches:I}=r,O=Math.min(Math.max(I.findIndex(q=>q.route.id===B),0),Math.max(I.findIndex(q=>q.unstable_shouldCallHandler()),0)),G=findNearestBoundary(I,I[O].route.id).route.id;return Promise.resolve({[G]:{type:"error",result:b}})}}}async function runMiddlewarePipeline(r,x,y,b,B){let{matches:R,request:I,params:O,context:G,unstable_pattern:q}=r,ee=R.flatMap(oe=>oe.route.middleware?oe.route.middleware.map(pe=>[oe.route.id,pe]):[]);return await callRouteMiddleware({request:I,params:O,context:G,unstable_pattern:q},ee,x,y,b,B)}async function callRouteMiddleware(r,x,y,b,B,R,I=0){let{request:O}=r;if(O.signal.aborted)throw O.signal.reason??new Error(`Request aborted: ${O.method} ${O.url}`);let G=x[I];if(!G)return await y();let[q,ee]=G,ne,oe=async()=>{if(ne)throw new Error("You may only call `next()` once per middleware");try{return ne={value:await callRouteMiddleware(r,x,y,b,B,R,I+1)},ne.value}catch(pe){return ne={value:await R(pe,q,ne)},ne.value}};try{let pe=await ee(r,oe),xe=pe!=null?b(pe):void 0;return B(xe)?xe:ne?xe??ne.value:(ne={value:await oe()},ne.value)}catch(pe){return await R(pe,q,ne)}}function getDataStrategyMatchLazyPromises(r,x,y,b,B){let R=loadLazyRouteProperty({key:"middleware",route:b.route,manifest:x,mapRouteProperties:r}),I=loadLazyRoute(b.route,isMutationMethod(y.method)?"action":"loader",x,r,B);return{middleware:R,route:I.lazyRoutePromise,handler:I.lazyHandlerPromise}}function getDataStrategyMatch(r,x,y,b,B,R,I,O,G=null){let q=!1,ee=getDataStrategyMatchLazyPromises(r,x,y,B,R);return{...B,_lazyPromises:ee,shouldLoad:O,unstable_shouldRevalidateArgs:G,unstable_shouldCallHandler(ne){return q=!0,G?typeof ne=="boolean"?shouldRevalidateLoader(B,{...G,defaultShouldRevalidate:ne}):shouldRevalidateLoader(B,G):O},resolve(ne){let{lazy:oe,loader:pe,middleware:xe}=B.route,_e=q||O||ne&&!isMutationMethod(y.method)&&(oe||pe),Ue=xe&&xe.length>0&&!pe&&!oe;return _e&&(isMutationMethod(y.method)||!Ue)?callLoaderOrAction({request:y,unstable_pattern:b,match:B,lazyHandlerPromise:ee==null?void 0:ee.handler,lazyRoutePromise:ee==null?void 0:ee.route,handlerOverride:ne,scopedContext:I}):Promise.resolve({type:"data",result:void 0})}}}function getTargetedDataStrategyMatches(r,x,y,b,B,R,I,O=null){return b.map(G=>G.route.id!==B.route.id?{...G,shouldLoad:!1,unstable_shouldRevalidateArgs:O,unstable_shouldCallHandler:()=>!1,_lazyPromises:getDataStrategyMatchLazyPromises(r,x,y,G,R),resolve:()=>Promise.resolve({type:"data",result:void 0})}:getDataStrategyMatch(r,x,y,getRoutePattern(b.map(q=>q.route.path)),G,R,I,!0,O))}async function callDataStrategyImpl(r,x,y,b,B,R){y.some(q=>{var ee;return(ee=q._lazyPromises)==null?void 0:ee.middleware})&&await Promise.all(y.map(q=>{var ee;return(ee=q._lazyPromises)==null?void 0:ee.middleware}));let I={request:x,unstable_pattern:getRoutePattern(y.map(q=>q.route.path)),params:y[0].params,context:B,matches:y},G=await r({...I,fetcherKey:b,runClientMiddleware:q=>{let ee=I;return runClientMiddlewarePipeline(ee,()=>q({...ee,fetcherKey:b,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(y.flatMap(q=>{var ee,ne;return[(ee=q._lazyPromises)==null?void 0:ee.handler,(ne=q._lazyPromises)==null?void 0:ne.route]}))}catch{}return G}async function callLoaderOrAction({request:r,unstable_pattern:x,match:y,lazyHandlerPromise:b,lazyRoutePromise:B,handlerOverride:R,scopedContext:I}){let O,G,q=isMutationMethod(r.method),ee=q?"action":"loader",ne=oe=>{let pe,xe=new Promise((Le,He)=>pe=He);G=()=>pe(),r.signal.addEventListener("abort",G);let _e=Le=>typeof oe!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${ee}" [routeId: ${y.route.id}]`)):oe({request:r,unstable_pattern:x,params:y.params,context:I},...Le!==void 0?[Le]:[]),Ue=(async()=>{try{return{type:"data",result:await(R?R(He=>_e(He)):_e())}}catch(Le){return{type:"error",result:Le}}})();return Promise.race([Ue,xe])};try{let oe=q?y.route.action:y.route.loader;if(b||B)if(oe){let pe,[xe]=await Promise.all([ne(oe).catch(_e=>{pe=_e}),b,B]);if(pe!==void 0)throw pe;O=xe}else{await b;let pe=q?y.route.action:y.route.loader;if(pe)[O]=await Promise.all([ne(pe),B]);else if(ee==="action"){let xe=new URL(r.url),_e=xe.pathname+xe.search;throw getInternalRouterError(405,{method:r.method,pathname:_e,routeId:y.route.id})}else return{type:"data",result:void 0}}else if(oe)O=await ne(oe);else{let pe=new URL(r.url),xe=pe.pathname+pe.search;throw getInternalRouterError(404,{pathname:xe})}}catch(oe){return{type:"error",result:oe}}finally{G&&r.signal.removeEventListener("abort",G)}return O}async function parseResponseBody(r){let x=r.headers.get("Content-Type");return x&&/\bapplication\/json\b/.test(x)?r.body==null?null:r.json():r.text()}async function convertDataStrategyResultToDataResult(r){var b,B,R,I,O,G;let{result:x,type:y}=r;if(isResponse$1(x)){let q;try{q=await parseResponseBody(x)}catch(ee){return{type:"error",error:ee}}return y==="error"?{type:"error",error:new ErrorResponseImpl(x.status,x.statusText,q),statusCode:x.status,headers:x.headers}:{type:"data",data:q,statusCode:x.status,headers:x.headers}}return y==="error"?isDataWithResponseInit(x)?x.data instanceof Error?{type:"error",error:x.data,statusCode:(b=x.init)==null?void 0:b.status,headers:(B=x.init)!=null&&B.headers?new Headers(x.init.headers):void 0}:{type:"error",error:new ErrorResponseImpl(((R=x.init)==null?void 0:R.status)||500,void 0,x.data),statusCode:isRouteErrorResponse(x)?x.status:void 0,headers:(I=x.init)!=null&&I.headers?new Headers(x.init.headers):void 0}:{type:"error",error:x,statusCode:isRouteErrorResponse(x)?x.status:void 0}:isDataWithResponseInit(x)?{type:"data",data:x.data,statusCode:(O=x.init)==null?void 0:O.status,headers:(G=x.init)!=null&&G.headers?new Headers(x.init.headers):void 0}:{type:"data",data:x}}function normalizeRelativeRoutingRedirectResponse(r,x,y,b,B){let R=r.headers.get("Location");if(invariant(R,"Redirects returned/thrown from loaders/actions must have a Location header"),!isAbsoluteUrl(R)){let I=b.slice(0,b.findIndex(O=>O.route.id===y)+1);R=normalizeTo(new URL(x.url),I,B,R),r.headers.set("Location",R)}return r}function normalizeRedirectLocation(r,x,y){if(isAbsoluteUrl(r)){let b=r,B=b.startsWith("//")?new URL(x.protocol+b):new URL(b),R=stripBasename(B.pathname,y)!=null;if(B.origin===x.origin&&R)return B.pathname+B.search+B.hash}return r}function createClientSideRequest(r,x,y,b){let B=r.createURL(stripHashFromPath(x)).toString(),R={signal:y};if(b&&isMutationMethod(b.formMethod)){let{formMethod:I,formEncType:O}=b;R.method=I.toUpperCase(),O==="application/json"?(R.headers=new Headers({"Content-Type":O}),R.body=JSON.stringify(b.json)):O==="text/plain"?R.body=b.text:O==="application/x-www-form-urlencoded"&&b.formData?R.body=convertFormDataToSearchParams(b.formData):R.body=b.formData}return new Request(B,R)}function convertFormDataToSearchParams(r){let x=new URLSearchParams;for(let[y,b]of r.entries())x.append(y,typeof b=="string"?b:b.name);return x}function convertSearchParamsToFormData(r){let x=new FormData;for(let[y,b]of r.entries())x.append(y,b);return x}function processRouteLoaderData(r,x,y,b=!1,B=!1){let R={},I=null,O,G=!1,q={},ee=y&&isErrorResult(y[1])?y[1].error:void 0;return r.forEach(ne=>{if(!(ne.route.id in x))return;let oe=ne.route.id,pe=x[oe];if(invariant(!isRedirectResult(pe),"Cannot handle redirect results in processLoaderData"),isErrorResult(pe)){let xe=pe.error;if(ee!==void 0&&(xe=ee,ee=void 0),I=I||{},B)I[oe]=xe;else{let _e=findNearestBoundary(r,oe);I[_e.route.id]==null&&(I[_e.route.id]=xe)}b||(R[oe]=ResetLoaderDataSymbol),G||(G=!0,O=isRouteErrorResponse(pe.error)?pe.error.status:500),pe.headers&&(q[oe]=pe.headers)}else R[oe]=pe.data,pe.statusCode&&pe.statusCode!==200&&!G&&(O=pe.statusCode),pe.headers&&(q[oe]=pe.headers)}),ee!==void 0&&y&&(I={[y[0]]:ee},y[2]&&(R[y[2]]=void 0)),{loaderData:R,errors:I,statusCode:O||200,loaderHeaders:q}}function processLoaderData(r,x,y,b,B,R){let{loaderData:I,errors:O}=processRouteLoaderData(x,y,b);return B.filter(G=>!G.matches||G.matches.some(q=>q.shouldLoad)).forEach(G=>{let{key:q,match:ee,controller:ne}=G;if(ne&&ne.signal.aborted)return;let oe=R[q];if(invariant(oe,"Did not find corresponding fetcher result"),isErrorResult(oe)){let pe=findNearestBoundary(r.matches,ee==null?void 0:ee.route.id);O&&O[pe.route.id]||(O={...O,[pe.route.id]:oe.error}),r.fetchers.delete(q)}else if(isRedirectResult(oe))invariant(!1,"Unhandled fetcher revalidation redirect");else{let pe=getDoneFetcher(oe.data);r.fetchers.set(q,pe)}}),{loaderData:I,errors:O}}function mergeLoaderData(r,x,y,b){let B=Object.entries(x).filter(([,R])=>R!==ResetLoaderDataSymbol).reduce((R,[I,O])=>(R[I]=O,R),{});for(let R of y){let I=R.route.id;if(!x.hasOwnProperty(I)&&r.hasOwnProperty(I)&&R.route.loader&&(B[I]=r[I]),b&&b.hasOwnProperty(I))break}return B}function getActionDataForCommit(r){return r?isErrorResult(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function findNearestBoundary(r,x){return(x?r.slice(0,r.findIndex(b=>b.route.id===x)+1):[...r]).reverse().find(b=>b.route.hasErrorBoundary===!0)||r[0]}function getShortCircuitMatches(r){let x=r.length===1?r[0]:r.find(y=>y.index||!y.path||y.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:x}],route:x}}function getInternalRouterError(r,{pathname:x,routeId:y,method:b,type:B,message:R}={}){let I="Unknown Server Error",O="Unknown @remix-run/router error";return r===400?(I="Bad Request",b&&x&&y?O=`You made a ${b} request to "${x}" but did not provide a \`loader\` for route "${y}", so there is no way to handle the request.`:B==="invalid-body"&&(O="Unable to encode submission body")):r===403?(I="Forbidden",O=`Route "${y}" does not match URL "${x}"`):r===404?(I="Not Found",O=`No route matches URL "${x}"`):r===405&&(I="Method Not Allowed",b&&x&&y?O=`You made a ${b.toUpperCase()} request to "${x}" but did not provide an \`action\` for route "${y}", so there is no way to handle the request.`:b&&(O=`Invalid request method "${b.toUpperCase()}"`)),new ErrorResponseImpl(r||500,I,new Error(O),!0)}function findRedirect(r){let x=Object.entries(r);for(let y=x.length-1;y>=0;y--){let[b,B]=x[y];if(isRedirectResult(B))return{key:b,result:B}}}function stripHashFromPath(r){let x=typeof r=="string"?parsePath(r):r;return createPath({...x,hash:""})}function isHashChangeOnly(r,x){return r.pathname!==x.pathname||r.search!==x.search?!1:r.hash===""?x.hash!=="":r.hash===x.hash?!0:x.hash!==""}function isDataStrategyResults(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([x,y])=>typeof x=="string"&&isDataStrategyResult(y))}function isDataStrategyResult(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function isRedirectDataStrategyResult(r){return isResponse$1(r.result)&&redirectStatusCodes.has(r.result.status)}function isErrorResult(r){return r.type==="error"}function isRedirectResult(r){return(r&&r.type)==="redirect"}function isDataWithResponseInit(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function isResponse$1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function isValidMethod(r){return validRequestMethods.has(r.toUpperCase())}function isMutationMethod(r){return validMutationMethods.has(r.toUpperCase())}function hasNakedIndexQuery(r){return new URLSearchParams(r).getAll("index").some(x=>x==="")}function getTargetMatch(r,x){let y=typeof x=="string"?parsePath(x).search:x.search;if(r[r.length-1].route.index&&hasNakedIndexQuery(y||""))return r[r.length-1];let b=getPathContributingMatches(r);return b[b.length-1]}function getSubmissionFromNavigation(r){let{formMethod:x,formAction:y,formEncType:b,text:B,formData:R,json:I}=r;if(!(!x||!y||!b)){if(B!=null)return{formMethod:x,formAction:y,formEncType:b,formData:void 0,json:void 0,text:B};if(R!=null)return{formMethod:x,formAction:y,formEncType:b,formData:R,json:void 0,text:void 0};if(I!==void 0)return{formMethod:x,formAction:y,formEncType:b,formData:void 0,json:I,text:void 0}}}function getLoadingNavigation(r,x){return x?{state:"loading",location:r,formMethod:x.formMethod,formAction:x.formAction,formEncType:x.formEncType,formData:x.formData,json:x.json,text:x.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(r,x){return{state:"submitting",location:r,formMethod:x.formMethod,formAction:x.formAction,formEncType:x.formEncType,formData:x.formData,json:x.json,text:x.text}}function getLoadingFetcher(r,x){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:x}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:x}}function getSubmittingFetcher(r,x){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:x?x.data:void 0}}function getDoneFetcher(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function restoreAppliedTransitions(r,x){try{let y=r.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(y){let b=JSON.parse(y);for(let[B,R]of Object.entries(b||{}))R&&Array.isArray(R)&&x.set(B,new Set(R||[]))}}catch{}}function persistAppliedTransitions(r,x){if(x.size>0){let y={};for(let[b,B]of x)y[b]=[...B];try{r.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(y))}catch(b){warning(!1,`Failed to save applied view transitions in sessionStorage (${b}).`)}}}function createDeferred(){let r,x,y=new Promise((b,B)=>{r=async R=>{b(R);try{await y}catch{}},x=async R=>{B(R);try{await y}catch{}}});return{promise:y,resolve:r,reject:x}}var DataRouterContext=reactExports$1.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports$1.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports$1.createContext(!1);var ViewTransitionContext=reactExports$1.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports$1.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports$1.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports$1.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports$1.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports$1.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports$1.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(r,{relative:x}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:y,navigator:b}=reactExports$1.useContext(NavigationContext),{hash:B,pathname:R,search:I}=useResolvedPath(r,{relative:x}),O=R;return y!=="/"&&(O=R==="/"?y:joinPaths([y,R])),b.createHref({pathname:O,search:I,hash:B})}function useInRouterContext(){return reactExports$1.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports$1.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(r){reactExports$1.useContext(NavigationContext).static||reactExports$1.useLayoutEffect(r)}function useNavigate(){let{isDataRoute:r}=reactExports$1.useContext(RouteContext);return r?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let r=reactExports$1.useContext(DataRouterContext),{basename:x,navigator:y}=reactExports$1.useContext(NavigationContext),{matches:b}=reactExports$1.useContext(RouteContext),{pathname:B}=useLocation(),R=JSON.stringify(getResolveToMatches(b)),I=reactExports$1.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{I.current=!0}),reactExports$1.useCallback((G,q={})=>{if(warning(I.current,navigateEffectWarning),!I.current)return;if(typeof G=="number"){y.go(G);return}let ee=resolveTo(G,JSON.parse(R),B,q.relative==="path");r==null&&x!=="/"&&(ee.pathname=ee.pathname==="/"?x:joinPaths([x,ee.pathname])),(q.replace?y.replace:y.push)(ee,q.state,q)},[x,y,R,B,r])}var OutletContext=reactExports$1.createContext(null);function useOutlet(r){let x=reactExports$1.useContext(RouteContext).outlet;return reactExports$1.useMemo(()=>x&&reactExports$1.createElement(OutletContext.Provider,{value:r},x),[x,r])}function useParams(){let{matches:r}=reactExports$1.useContext(RouteContext),x=r[r.length-1];return x?x.params:{}}function useResolvedPath(r,{relative:x}={}){let{matches:y}=reactExports$1.useContext(RouteContext),{pathname:b}=useLocation(),B=JSON.stringify(getResolveToMatches(y));return reactExports$1.useMemo(()=>resolveTo(r,JSON.parse(B),b,x==="path"),[r,B,b,x])}function useRoutesImpl(r,x,y,b,B){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:R}=reactExports$1.useContext(NavigationContext),{matches:I}=reactExports$1.useContext(RouteContext),O=I[I.length-1],G=O?O.params:{},q=O?O.pathname:"/",ee=O?O.pathnameBase:"/",ne=O&&O.route;{let He=ne&&ne.path||"";warningOnce(q,!ne||He.endsWith("*")||He.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${q}" (under <Route path="${He}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${He}"> to <Route path="${He==="/"?"*":`${He}/*`}">.`)}let oe=useLocation(),pe;pe=oe;let xe=pe.pathname||"/",_e=xe;if(ee!=="/"){let He=ee.replace(/^\//,"").split("/");_e="/"+xe.replace(/^\//,"").split("/").slice(He.length).join("/")}let Ue=matchRoutes(r,{pathname:_e});return warning(ne||Ue!=null,`No routes matched location "${pe.pathname}${pe.search}${pe.hash}" `),warning(Ue==null||Ue[Ue.length-1].route.element!==void 0||Ue[Ue.length-1].route.Component!==void 0||Ue[Ue.length-1].route.lazy!==void 0,`Matched leaf route at location "${pe.pathname}${pe.search}${pe.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_renderMatches(Ue&&Ue.map(He=>Object.assign({},He,{params:Object.assign({},G,He.params),pathname:joinPaths([ee,R.encodeLocation?R.encodeLocation(He.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:He.pathname]),pathnameBase:He.pathnameBase==="/"?ee:joinPaths([ee,R.encodeLocation?R.encodeLocation(He.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:He.pathnameBase])})),I,y,b,B)}function DefaultErrorComponent(){let r=useRouteError(),x=isRouteErrorResponse(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),y=r instanceof Error?r.stack:null,b="rgba(200,200,200, 0.5)",B={padding:"0.5rem",backgroundColor:b},R={padding:"2px 4px",backgroundColor:b},I=null;return console.error("Error handled by React Router default ErrorBoundary:",r),I=reactExports$1.createElement(reactExports$1.Fragment,null,reactExports$1.createElement("p",null," Hey developer "),reactExports$1.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports$1.createElement("code",{style:R},"ErrorBoundary")," or"," ",reactExports$1.createElement("code",{style:R},"errorElement")," prop on your route.")),reactExports$1.createElement(reactExports$1.Fragment,null,reactExports$1.createElement("h2",null,"Unexpected Application Error!"),reactExports$1.createElement("h3",{style:{fontStyle:"italic"}},x),y?reactExports$1.createElement("pre",{style:B},y):null,I)}var defaultErrorElement=reactExports$1.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports$1.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,x){return x.location!==r.location||x.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:x.error,location:x.location,revalidation:r.revalidation||x.revalidation}}componentDidCatch(r,x){this.props.onError?this.props.onError(r,x):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?reactExports$1.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports$1.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:r,match:x,children:y}){let b=reactExports$1.useContext(DataRouterContext);return b&&b.static&&b.staticContext&&(x.route.errorElement||x.route.ErrorBoundary)&&(b.staticContext._deepestRenderedBoundaryId=x.route.id),reactExports$1.createElement(RouteContext.Provider,{value:r},y)}function _renderMatches(r,x=[],y=null,b=null,B=null){if(r==null){if(!y)return null;if(y.errors)r=y.matches;else if(x.length===0&&!y.initialized&&y.matches.length>0)r=y.matches;else return null}let R=r,I=y==null?void 0:y.errors;if(I!=null){let ee=R.findIndex(ne=>ne.route.id&&(I==null?void 0:I[ne.route.id])!==void 0);invariant(ee>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(I).join(",")}`),R=R.slice(0,Math.min(R.length,ee+1))}let O=!1,G=-1;if(y)for(let ee=0;ee<R.length;ee++){let ne=R[ee];if((ne.route.HydrateFallback||ne.route.hydrateFallbackElement)&&(G=ee),ne.route.id){let{loaderData:oe,errors:pe}=y,xe=ne.route.loader&&!oe.hasOwnProperty(ne.route.id)&&(!pe||pe[ne.route.id]===void 0);if(ne.route.lazy||xe){O=!0,G>=0?R=R.slice(0,G+1):R=[R[0]];break}}}let q=y&&b?(ee,ne)=>{var oe,pe;b(ee,{location:y.location,params:((pe=(oe=y.matches)==null?void 0:oe[0])==null?void 0:pe.params)??{},errorInfo:ne})}:void 0;return R.reduceRight((ee,ne,oe)=>{let pe,xe=!1,_e=null,Ue=null;y&&(pe=I&&ne.route.id?I[ne.route.id]:void 0,_e=ne.route.errorElement||defaultErrorElement,O&&(G<0&&oe===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),xe=!0,Ue=null):G===oe&&(xe=!0,Ue=ne.route.hydrateFallbackElement||null)));let Le=x.concat(R.slice(0,oe+1)),He=()=>{let $e;return pe?$e=_e:xe?$e=Ue:ne.route.Component?$e=reactExports$1.createElement(ne.route.Component,null):ne.route.element?$e=ne.route.element:$e=ee,reactExports$1.createElement(RenderedRoute,{match:ne,routeContext:{outlet:ee,matches:Le,isDataRoute:y!=null},children:$e})};return y&&(ne.route.ErrorBoundary||ne.route.errorElement||oe===0)?reactExports$1.createElement(RenderErrorBoundary,{location:y.location,revalidation:y.revalidation,component:_e,error:pe,children:He(),routeContext:{outlet:null,matches:Le,isDataRoute:!0},onError:q}):He()},null)}function getDataRouterConsoleError(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(r){let x=reactExports$1.useContext(DataRouterContext);return invariant(x,getDataRouterConsoleError(r)),x}function useDataRouterState(r){let x=reactExports$1.useContext(DataRouterStateContext);return invariant(x,getDataRouterConsoleError(r)),x}function useRouteContext(r){let x=reactExports$1.useContext(RouteContext);return invariant(x,getDataRouterConsoleError(r)),x}function useCurrentRouteId(r){let x=useRouteContext(r),y=x.matches[x.matches.length-1];return invariant(y.route.id,`${r} can only be used on routes that contain a unique "id"`),y.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var b;let r=reactExports$1.useContext(RouteErrorContext),x=useDataRouterState("useRouteError"),y=useCurrentRouteId("useRouteError");return r!==void 0?r:(b=x.errors)==null?void 0:b[y]}function useNavigateStable(){let{router:r}=useDataRouterContext("useNavigate"),x=useCurrentRouteId("useNavigate"),y=reactExports$1.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{y.current=!0}),reactExports$1.useCallback(async(B,R={})=>{warning(y.current,navigateEffectWarning),y.current&&(typeof B=="number"?r.navigate(B):await r.navigate(B,{fromRouteId:x,...R}))},[r,x])}var alreadyWarned={};function warningOnce(r,x,y){!x&&!alreadyWarned[r]&&(alreadyWarned[r]=!0,warning(!1,y))}var alreadyWarned2={};function warnOnce(r,x){!r&&!alreadyWarned2[x]&&(alreadyWarned2[x]=!0,console.warn(x))}function mapRouteProperties(r){let x={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&warning(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(x,{element:reactExports$1.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&warning(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(x,{hydrateFallbackElement:reactExports$1.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&warning(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(x,{errorElement:reactExports$1.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),x}var hydrationRouteProperties=["HydrateFallback","hydrateFallbackElement"],Deferred$1=class{constructor(){this.status="pending",this.promise=new Promise((x,y)=>{this.resolve=b=>{this.status==="pending"&&(this.status="resolved",x(b))},this.reject=b=>{this.status==="pending"&&(this.status="rejected",y(b))}})}};function RouterProvider({router:r,flushSync:x,unstable_onError:y}){let[b,B]=reactExports$1.useState(r.state),[R,I]=reactExports$1.useState(),[O,G]=reactExports$1.useState({isTransitioning:!1}),[q,ee]=reactExports$1.useState(),[ne,oe]=reactExports$1.useState(),[pe,xe]=reactExports$1.useState(),_e=reactExports$1.useRef(new Map),Ue=reactExports$1.useCallback(Qe=>{B(We=>(Qe.errors&&y&&Object.entries(Qe.errors).forEach(([Ge,Xe])=>{var Je,ut;((Je=We.errors)==null?void 0:Je[Ge])!==Xe&&y(Xe,{location:Qe.location,params:((ut=Qe.matches[0])==null?void 0:ut.params)??{}})}),Qe))},[y]),Le=reactExports$1.useCallback((Qe,{deletedFetchers:We,flushSync:Ge,viewTransitionOpts:Xe})=>{Qe.fetchers.forEach((ut,ft)=>{ut.data!==void 0&&_e.current.set(ft,ut.data)}),We.forEach(ut=>_e.current.delete(ut)),warnOnce(Ge===!1||x!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Je=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(warnOnce(Xe==null||Je,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Xe||!Je){x&&Ge?x(()=>Ue(Qe)):reactExports$1.startTransition(()=>Ue(Qe));return}if(x&&Ge){x(()=>{ne&&(q&&q.resolve(),ne.skipTransition()),G({isTransitioning:!0,flushSync:!0,currentLocation:Xe.currentLocation,nextLocation:Xe.nextLocation})});let ut=r.window.document.startViewTransition(()=>{x(()=>Ue(Qe))});ut.finished.finally(()=>{x(()=>{ee(void 0),oe(void 0),I(void 0),G({isTransitioning:!1})})}),x(()=>oe(ut));return}ne?(q&&q.resolve(),ne.skipTransition(),xe({state:Qe,currentLocation:Xe.currentLocation,nextLocation:Xe.nextLocation})):(I(Qe),G({isTransitioning:!0,flushSync:!1,currentLocation:Xe.currentLocation,nextLocation:Xe.nextLocation}))},[r.window,x,ne,q,Ue]);reactExports$1.useLayoutEffect(()=>r.subscribe(Le),[r,Le]),reactExports$1.useEffect(()=>{O.isTransitioning&&!O.flushSync&&ee(new Deferred$1)},[O]),reactExports$1.useEffect(()=>{if(q&&R&&r.window){let Qe=R,We=q.promise,Ge=r.window.document.startViewTransition(async()=>{reactExports$1.startTransition(()=>Ue(Qe)),await We});Ge.finished.finally(()=>{ee(void 0),oe(void 0),I(void 0),G({isTransitioning:!1})}),oe(Ge)}},[R,q,r.window,Ue]),reactExports$1.useEffect(()=>{q&&R&&b.location.key===R.location.key&&q.resolve()},[q,ne,b.location,R]),reactExports$1.useEffect(()=>{!O.isTransitioning&&pe&&(I(pe.state),G({isTransitioning:!0,flushSync:!1,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation}),xe(void 0))},[O.isTransitioning,pe]);let He=reactExports$1.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:Qe=>r.navigate(Qe),push:(Qe,We,Ge)=>r.navigate(Qe,{state:We,preventScrollReset:Ge==null?void 0:Ge.preventScrollReset}),replace:(Qe,We,Ge)=>r.navigate(Qe,{replace:!0,state:We,preventScrollReset:Ge==null?void 0:Ge.preventScrollReset})}),[r]),$e=r.basename||"/",Ne=reactExports$1.useMemo(()=>({router:r,navigator:He,static:!1,basename:$e,unstable_onError:y}),[r,He,$e,y]);return reactExports$1.createElement(reactExports$1.Fragment,null,reactExports$1.createElement(DataRouterContext.Provider,{value:Ne},reactExports$1.createElement(DataRouterStateContext.Provider,{value:b},reactExports$1.createElement(FetchersContext.Provider,{value:_e.current},reactExports$1.createElement(ViewTransitionContext.Provider,{value:O},reactExports$1.createElement(Router,{basename:$e,location:b.location,navigationType:b.historyAction,navigator:He},reactExports$1.createElement(MemoizedDataRoutes,{routes:r.routes,future:r.future,state:b,unstable_onError:y})))))),null)}var MemoizedDataRoutes=reactExports$1.memo(DataRoutes);function DataRoutes({routes:r,future:x,state:y,unstable_onError:b}){return useRoutesImpl(r,void 0,y,b,x)}function Navigate({to:r,replace:x,state:y,relative:b}){invariant(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:B}=reactExports$1.useContext(NavigationContext);warning(!B,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:R}=reactExports$1.useContext(RouteContext),{pathname:I}=useLocation(),O=useNavigate(),G=resolveTo(r,getResolveToMatches(R),I,b==="path"),q=JSON.stringify(G);return reactExports$1.useEffect(()=>{O(JSON.parse(q),{replace:x,state:y,relative:b})},[O,q,b,x,y]),null}function Outlet(r){return useOutlet(r.context)}function Router({basename:r="/",children:x=null,location:y,navigationType:b="POP",navigator:B,static:R=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let I=r.replace(/^\/*/,"/"),O=reactExports$1.useMemo(()=>({basename:I,navigator:B,static:R,future:{}}),[I,B,R]);typeof y=="string"&&(y=parsePath(y));let{pathname:G="/",search:q="",hash:ee="",state:ne=null,key:oe="default"}=y,pe=reactExports$1.useMemo(()=>{let xe=stripBasename(G,I);return xe==null?null:{location:{pathname:xe,search:q,hash:ee,state:ne,key:oe},navigationType:b}},[I,G,q,ee,ne,oe,b]);return warning(pe!=null,`<Router basename="${I}"> is not able to match the URL "${G}${q}${ee}" because it does not start with the basename, so the <Router> won't render anything.`),pe==null?null:reactExports$1.createElement(NavigationContext.Provider,{value:O},reactExports$1.createElement(LocationContext.Provider,{children:x,value:pe}))}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(r){return r!=null&&typeof r.tagName=="string"}function isButtonElement(r){return isHtmlElement(r)&&r.tagName.toLowerCase()==="button"}function isFormElement(r){return isHtmlElement(r)&&r.tagName.toLowerCase()==="form"}function isInputElement$1(r){return isHtmlElement(r)&&r.tagName.toLowerCase()==="input"}function isModifiedEvent(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function shouldProcessLinkClick(r,x){return r.button===0&&(!x||x==="_self")&&!isModifiedEvent(r)}function createSearchParams(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((x,y)=>{let b=r[y];return x.concat(Array.isArray(b)?b.map(B=>[y,B]):[[y,b]])},[]))}function getSearchParamsForLocation(r,x){let y=createSearchParams(r);return x&&x.forEach((b,B)=>{y.has(B)||x.getAll(B).forEach(R=>{y.append(B,R)})}),y}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(r){return r!=null&&!supportedFormEncTypes.has(r)?(warning(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):r}function getFormSubmissionInfo(r,x){let y,b,B,R,I;if(isFormElement(r)){let O=r.getAttribute("action");b=O?stripBasename(O,x):null,y=r.getAttribute("method")||defaultMethod,B=getFormEncType(r.getAttribute("enctype"))||defaultEncType,R=new FormData(r)}else if(isButtonElement(r)||isInputElement$1(r)&&(r.type==="submit"||r.type==="image")){let O=r.form;if(O==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let G=r.getAttribute("formaction")||O.getAttribute("action");if(b=G?stripBasename(G,x):null,y=r.getAttribute("formmethod")||O.getAttribute("method")||defaultMethod,B=getFormEncType(r.getAttribute("formenctype"))||getFormEncType(O.getAttribute("enctype"))||defaultEncType,R=new FormData(O,r),!isFormDataSubmitterSupported()){let{name:q,type:ee,value:ne}=r;if(ee==="image"){let oe=q?`${q}.`:"";R.append(`${oe}x`,"0"),R.append(`${oe}y`,"0")}else q&&R.append(q,ne)}}else{if(isHtmlElement(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');y=defaultMethod,b=null,B=defaultEncType,I=r}return R&&B==="text/plain"&&(I=R,R=void 0),{action:b,method:y.toLowerCase(),encType:B,formData:R,body:I}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(r,x){if(r===!1||r===null||typeof r>"u")throw new Error(x)}function singleFetchUrl(r,x,y){let b=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return b.pathname==="/"?b.pathname=`_root.${y}`:x&&stripBasename(b.pathname,x)==="/"?b.pathname=`${x.replace(/\/$/,"")}/_root.${y}`:b.pathname=`${b.pathname.replace(/\/$/,"")}.${y}`,b}async function loadRouteModule(r,x){if(r.id in x)return x[r.id];try{let y=await import(r.module);return x[r.id]=y,y}catch(y){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(y),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function getKeyedPrefetchLinks(r,x,y){let b=await Promise.all(r.map(async B=>{let R=x.routes[B.route.id];if(R){let I=await loadRouteModule(R,y);return I.links?I.links():[]}return[]}));return dedupeLinkDescriptors(b.flat(1).filter(isHtmlLinkDescriptor).filter(B=>B.rel==="stylesheet"||B.rel==="preload").map(B=>B.rel==="stylesheet"?{...B,rel:"prefetch",as:"style"}:{...B,rel:"prefetch"}))}function getNewMatchesForLinks(r,x,y,b,B,R){let I=(G,q)=>y[q]?G.route.id!==y[q].route.id:!0,O=(G,q)=>{var ee;return y[q].pathname!==G.pathname||((ee=y[q].route.path)==null?void 0:ee.endsWith("*"))&&y[q].params["*"]!==G.params["*"]};return R==="assets"?x.filter((G,q)=>I(G,q)||O(G,q)):R==="data"?x.filter((G,q)=>{var ne;let ee=b.routes[G.route.id];if(!ee||!ee.hasLoader)return!1;if(I(G,q)||O(G,q))return!0;if(G.route.shouldRevalidate){let oe=G.route.shouldRevalidate({currentUrl:new URL(B.pathname+B.search+B.hash,window.origin),currentParams:((ne=y[0])==null?void 0:ne.params)||{},nextUrl:new URL(r,window.origin),nextParams:G.params,defaultShouldRevalidate:!0});if(typeof oe=="boolean")return oe}return!0}):[]}function getModuleLinkHrefs(r,x,{includeHydrateFallback:y}={}){return dedupeHrefs(r.map(b=>{let B=x.routes[b.route.id];if(!B)return[];let R=[B.module];return B.clientActionModule&&(R=R.concat(B.clientActionModule)),B.clientLoaderModule&&(R=R.concat(B.clientLoaderModule)),y&&B.hydrateFallbackModule&&(R=R.concat(B.hydrateFallbackModule)),B.imports&&(R=R.concat(B.imports)),R}).flat(1))}function dedupeHrefs(r){return[...new Set(r)]}function sortKeys(r){let x={},y=Object.keys(r).sort();for(let b of y)x[b]=r[b];return x}function dedupeLinkDescriptors(r,x){let y=new Set;return new Set(x),r.reduce((b,B)=>{let R=JSON.stringify(sortKeys(B));return y.has(R)||(y.add(R),b.push({key:R,link:B})),b},[])}function useDataRouterContext2(){let r=reactExports$1.useContext(DataRouterContext);return invariant2(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function useDataRouterStateContext(){let r=reactExports$1.useContext(DataRouterStateContext);return invariant2(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var FrameworkContext=reactExports$1.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let r=reactExports$1.useContext(FrameworkContext);return invariant2(r,"You must render this element inside a <HydratedRouter> element"),r}function usePrefetchBehavior(r,x){let y=reactExports$1.useContext(FrameworkContext),[b,B]=reactExports$1.useState(!1),[R,I]=reactExports$1.useState(!1),{onFocus:O,onBlur:G,onMouseEnter:q,onMouseLeave:ee,onTouchStart:ne}=x,oe=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{if(r==="render"&&I(!0),r==="viewport"){let _e=Le=>{Le.forEach(He=>{I(He.isIntersecting)})},Ue=new IntersectionObserver(_e,{threshold:.5});return oe.current&&Ue.observe(oe.current),()=>{Ue.disconnect()}}},[r]),reactExports$1.useEffect(()=>{if(b){let _e=setTimeout(()=>{I(!0)},100);return()=>{clearTimeout(_e)}}},[b]);let pe=()=>{B(!0)},xe=()=>{B(!1),I(!1)};return y?r!=="intent"?[R,oe,{}]:[R,oe,{onFocus:composeEventHandlers$1(O,pe),onBlur:composeEventHandlers$1(G,xe),onMouseEnter:composeEventHandlers$1(q,pe),onMouseLeave:composeEventHandlers$1(ee,xe),onTouchStart:composeEventHandlers$1(ne,pe)}]:[!1,oe,{}]}function composeEventHandlers$1(r,x){return y=>{r&&r(y),y.defaultPrevented||x(y)}}function PrefetchPageLinks({page:r,...x}){let{router:y}=useDataRouterContext2(),b=reactExports$1.useMemo(()=>matchRoutes(y.routes,r,y.basename),[y.routes,r,y.basename]);return b?reactExports$1.createElement(PrefetchPageLinksImpl,{page:r,matches:b,...x}):null}function useKeyedPrefetchLinks(r){let{manifest:x,routeModules:y}=useFrameworkContext(),[b,B]=reactExports$1.useState([]);return reactExports$1.useEffect(()=>{let R=!1;return getKeyedPrefetchLinks(r,x,y).then(I=>{R||B(I)}),()=>{R=!0}},[r,x,y]),b}function PrefetchPageLinksImpl({page:r,matches:x,...y}){let b=useLocation(),{manifest:B,routeModules:R}=useFrameworkContext(),{basename:I}=useDataRouterContext2(),{loaderData:O,matches:G}=useDataRouterStateContext(),q=reactExports$1.useMemo(()=>getNewMatchesForLinks(r,x,G,B,b,"data"),[r,x,G,B,b]),ee=reactExports$1.useMemo(()=>getNewMatchesForLinks(r,x,G,B,b,"assets"),[r,x,G,B,b]),ne=reactExports$1.useMemo(()=>{if(r===b.pathname+b.search+b.hash)return[];let xe=new Set,_e=!1;if(x.forEach(Le=>{var $e;let He=B.routes[Le.route.id];!He||!He.hasLoader||(!q.some(Ne=>Ne.route.id===Le.route.id)&&Le.route.id in O&&(($e=R[Le.route.id])!=null&&$e.shouldRevalidate)||He.hasClientLoader?_e=!0:xe.add(Le.route.id))}),xe.size===0)return[];let Ue=singleFetchUrl(r,I,"data");return _e&&xe.size>0&&Ue.searchParams.set("_routes",x.filter(Le=>xe.has(Le.route.id)).map(Le=>Le.route.id).join(",")),[Ue.pathname+Ue.search]},[I,O,b,B,q,x,r,R]),oe=reactExports$1.useMemo(()=>getModuleLinkHrefs(ee,B),[ee,B]),pe=useKeyedPrefetchLinks(ee);return reactExports$1.createElement(reactExports$1.Fragment,null,ne.map(xe=>reactExports$1.createElement("link",{key:xe,rel:"prefetch",as:"fetch",href:xe,...y})),oe.map(xe=>reactExports$1.createElement("link",{key:xe,rel:"modulepreload",href:xe,...y})),pe.map(({key:xe,link:_e})=>reactExports$1.createElement("link",{key:xe,nonce:y.nonce,..._e})))}function mergeRefs$1(...r){return x=>{r.forEach(y=>{typeof y=="function"?y(x):y!=null&&(y.current=x)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.9.6")}catch{}function createBrowserRouter(r,x){return createRouter({basename:x==null?void 0:x.basename,getContext:x==null?void 0:x.getContext,future:x==null?void 0:x.future,history:createBrowserHistory({window:x==null?void 0:x.window}),hydrationData:parseHydrationData(),routes:r,mapRouteProperties,hydrationRouteProperties,dataStrategy:x==null?void 0:x.dataStrategy,patchRoutesOnNavigation:x==null?void 0:x.patchRoutesOnNavigation,window:x==null?void 0:x.window,unstable_instrumentations:x==null?void 0:x.unstable_instrumentations}).initialize()}function parseHydrationData(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:deserializeErrors(r.errors)}),r}function deserializeErrors(r){if(!r)return null;let x=Object.entries(r),y={};for(let[b,B]of x)if(B&&B.__type==="RouteErrorResponse")y[b]=new ErrorResponseImpl(B.status,B.statusText,B.data,B.internal===!0);else if(B&&B.__type==="Error"){if(B.__subType){let R=window[B.__subType];if(typeof R=="function")try{let I=new R(B.message);I.stack="",y[b]=I}catch{}}if(y[b]==null){let R=new Error(B.message);R.stack="",y[b]=R}}else y[b]=B;return y}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports$1.forwardRef(function({onClick:x,discover:y="render",prefetch:b="none",relative:B,reloadDocument:R,replace:I,state:O,target:G,to:q,preventScrollReset:ee,viewTransition:ne,...oe},pe){let{basename:xe}=reactExports$1.useContext(NavigationContext),_e=typeof q=="string"&&ABSOLUTE_URL_REGEX2.test(q),Ue,Le=!1;if(typeof q=="string"&&_e&&(Ue=q,isBrowser))try{let Je=new URL(window.location.href),ut=q.startsWith("//")?new URL(Je.protocol+q):new URL(q),ft=stripBasename(ut.pathname,xe);ut.origin===Je.origin&&ft!=null?q=ft+ut.search+ut.hash:Le=!0}catch{warning(!1,`<Link to="${q}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let He=useHref(q,{relative:B}),[$e,Ne,Qe]=usePrefetchBehavior(b,oe),We=useLinkClickHandler(q,{replace:I,state:O,target:G,preventScrollReset:ee,relative:B,viewTransition:ne});function Ge(Je){x&&x(Je),Je.defaultPrevented||We(Je)}let Xe=reactExports$1.createElement("a",{...oe,...Qe,href:Ue||He,onClick:Le||R?x:Ge,ref:mergeRefs$1(pe,Ne),target:G,"data-discover":!_e&&y==="render"?"true":void 0});return $e&&!_e?reactExports$1.createElement(reactExports$1.Fragment,null,Xe,reactExports$1.createElement(PrefetchPageLinks,{page:He})):Xe});Link$1.displayName="Link";var NavLink=reactExports$1.forwardRef(function({"aria-current":x="page",caseSensitive:y=!1,className:b="",end:B=!1,style:R,to:I,viewTransition:O,children:G,...q},ee){let ne=useResolvedPath(I,{relative:q.relative}),oe=useLocation(),pe=reactExports$1.useContext(DataRouterStateContext),{navigator:xe,basename:_e}=reactExports$1.useContext(NavigationContext),Ue=pe!=null&&useViewTransitionState(ne)&&O===!0,Le=xe.encodeLocation?xe.encodeLocation(ne).pathname:ne.pathname,He=oe.pathname,$e=pe&&pe.navigation&&pe.navigation.location?pe.navigation.location.pathname:null;y||(He=He.toLowerCase(),$e=$e?$e.toLowerCase():null,Le=Le.toLowerCase()),$e&&_e&&($e=stripBasename($e,_e)||$e);const Ne=Le!=="/"&&Le.endsWith("/")?Le.length-1:Le.length;let Qe=He===Le||!B&&He.startsWith(Le)&&He.charAt(Ne)==="/",We=$e!=null&&($e===Le||!B&&$e.startsWith(Le)&&$e.charAt(Le.length)==="/"),Ge={isActive:Qe,isPending:We,isTransitioning:Ue},Xe=Qe?x:void 0,Je;typeof b=="function"?Je=b(Ge):Je=[b,Qe?"active":null,We?"pending":null,Ue?"transitioning":null].filter(Boolean).join(" ");let ut=typeof R=="function"?R(Ge):R;return reactExports$1.createElement(Link$1,{...q,"aria-current":Xe,className:Je,ref:ee,style:ut,to:I,viewTransition:O},typeof G=="function"?G(Ge):G)});NavLink.displayName="NavLink";var Form=reactExports$1.forwardRef(({discover:r="render",fetcherKey:x,navigate:y,reloadDocument:b,replace:B,state:R,method:I=defaultMethod,action:O,onSubmit:G,relative:q,preventScrollReset:ee,viewTransition:ne,...oe},pe)=>{let xe=useSubmit(),_e=useFormAction(O,{relative:q}),Ue=I.toLowerCase()==="get"?"get":"post",Le=typeof O=="string"&&ABSOLUTE_URL_REGEX2.test(O),He=$e=>{if(G&&G($e),$e.defaultPrevented)return;$e.preventDefault();let Ne=$e.nativeEvent.submitter,Qe=(Ne==null?void 0:Ne.getAttribute("formmethod"))||I;xe(Ne||$e.currentTarget,{fetcherKey:x,method:Qe,navigate:y,replace:B,state:R,relative:q,preventScrollReset:ee,viewTransition:ne})};return reactExports$1.createElement("form",{ref:pe,method:Ue,action:_e,onSubmit:b?G:He,...oe,"data-discover":!Le&&r==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(r){let x=reactExports$1.useContext(DataRouterContext);return invariant(x,getDataRouterConsoleError2(r)),x}function useLinkClickHandler(r,{target:x,replace:y,state:b,preventScrollReset:B,relative:R,viewTransition:I}={}){let O=useNavigate(),G=useLocation(),q=useResolvedPath(r,{relative:R});return reactExports$1.useCallback(ee=>{if(shouldProcessLinkClick(ee,x)){ee.preventDefault();let ne=y!==void 0?y:createPath(G)===createPath(q);O(r,{replace:ne,state:b,preventScrollReset:B,relative:R,viewTransition:I})}},[G,O,q,y,b,x,r,B,R,I])}function useSearchParams(r){warning(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let x=reactExports$1.useRef(createSearchParams(r)),y=reactExports$1.useRef(!1),b=useLocation(),B=reactExports$1.useMemo(()=>getSearchParamsForLocation(b.search,y.current?null:x.current),[b.search]),R=useNavigate(),I=reactExports$1.useCallback((O,G)=>{const q=createSearchParams(typeof O=="function"?O(new URLSearchParams(B)):O);y.current=!0,R("?"+q,G)},[R,B]);return[B,I]}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:r}=useDataRouterContext3("useSubmit"),{basename:x}=reactExports$1.useContext(NavigationContext),y=useRouteId();return reactExports$1.useCallback(async(b,B={})=>{let{action:R,method:I,encType:O,formData:G,body:q}=getFormSubmissionInfo(b,x);if(B.navigate===!1){let ee=B.fetcherKey||getUniqueFetcherId();await r.fetch(ee,y,B.action||R,{preventScrollReset:B.preventScrollReset,formData:G,body:q,formMethod:B.method||I,formEncType:B.encType||O,flushSync:B.flushSync})}else await r.navigate(B.action||R,{preventScrollReset:B.preventScrollReset,formData:G,body:q,formMethod:B.method||I,formEncType:B.encType||O,replace:B.replace,state:B.state,fromRouteId:y,flushSync:B.flushSync,viewTransition:B.viewTransition})},[r,x,y])}function useFormAction(r,{relative:x}={}){let{basename:y}=reactExports$1.useContext(NavigationContext),b=reactExports$1.useContext(RouteContext);invariant(b,"useFormAction must be used inside a RouteContext");let[B]=b.matches.slice(-1),R={...useResolvedPath(r||".",{relative:x})},I=useLocation();if(r==null){R.search=I.search;let O=new URLSearchParams(R.search),G=O.getAll("index");if(G.some(ee=>ee==="")){O.delete("index"),G.filter(ne=>ne).forEach(ne=>O.append("index",ne));let ee=O.toString();R.search=ee?`?${ee}`:""}}return(!r||r===".")&&B.route.index&&(R.search=R.search?R.search.replace(/^\?/,"?index&"):"?index"),y!=="/"&&(R.pathname=R.pathname==="/"?y:joinPaths([y,R.pathname])),createPath(R)}function useViewTransitionState(r,{relative:x}={}){let y=reactExports$1.useContext(ViewTransitionContext);invariant(y!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:b}=useDataRouterContext3("useViewTransitionState"),B=useResolvedPath(r,{relative:x});if(!y.isTransitioning)return!1;let R=stripBasename(y.currentLocation.pathname,b)||y.currentLocation.pathname,I=stripBasename(y.nextLocation.pathname,b)||y.nextLocation.pathname;return matchPath(B.pathname,I)!=null||matchPath(B.pathname,R)!=null}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function RouterProvider2(r){return reactExports$1.createElement(RouterProvider,{flushSync:reactDomExports.flushSync,...r})}function ScrollToTop(){const{pathname:r}=useLocation();return reactExports$1.useEffect(()=>{window.scrollTo(0,0)},[r]),null}const headerLayout="_headerLayout_sfyi6_1",logoSpan="_logoSpan_sfyi6_37",rightSection="_rightSection_sfyi6_75",notificationButton="_notificationButton_sfyi6_99",styles$1K={headerLayout,logoSpan,rightSection,notificationButton};var cssMediaquery={},hasRequiredCssMediaquery;function requireCssMediaquery(){if(hasRequiredCssMediaquery)return cssMediaquery;hasRequiredCssMediaquery=1,cssMediaquery.match=R,cssMediaquery.parse=I;var r=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,x=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,y=/^(?:(min|max)-)?(.+)/,b=/(em|rem|px|cm|mm|in|pt|pc)?$/,B=/(dpi|dpcm|dppx)?$/;function R(ee,ne){return I(ee).some(function(oe){var pe=oe.inverse,xe=oe.type==="all"||ne.type===oe.type;if(xe&&pe||!(xe||pe))return!1;var _e=oe.expressions.every(function(Ue){var Le=Ue.feature,He=Ue.modifier,$e=Ue.value,Ne=ne[Le];if(!Ne)return!1;switch(Le){case"orientation":case"scan":return Ne.toLowerCase()===$e.toLowerCase();case"width":case"height":case"device-width":case"device-height":$e=q($e),Ne=q(Ne);break;case"resolution":$e=G($e),Ne=G(Ne);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":$e=O($e),Ne=O(Ne);break;case"grid":case"color":case"color-index":case"monochrome":$e=parseInt($e,10)||1,Ne=parseInt(Ne,10)||0;break}switch(He){case"min":return Ne>=$e;case"max":return Ne<=$e;default:return Ne===$e}});return _e&&!pe||!_e&&pe})}function I(ee){return ee.split(",").map(function(ne){ne=ne.trim();var oe=ne.match(r),pe=oe[1],xe=oe[2],_e=oe[3]||"",Ue={};return Ue.inverse=!!pe&&pe.toLowerCase()==="not",Ue.type=xe?xe.toLowerCase():"all",_e=_e.match(/\([^\)]+\)/g)||[],Ue.expressions=_e.map(function(Le){var He=Le.match(x),$e=He[1].toLowerCase().match(y);return{modifier:$e[1],feature:$e[2],value:He[2]}}),Ue})}function O(ee){var ne=Number(ee),oe;return ne||(oe=ee.match(/^(\d+)\s*\/\s*(\d+)$/),ne=oe[1]/oe[2]),ne}function G(ee){var ne=parseFloat(ee),oe=String(ee).match(B)[1];switch(oe){case"dpcm":return ne/2.54;case"dppx":return ne*96;default:return ne}}function q(ee){var ne=parseFloat(ee),oe=String(ee).match(b)[1];switch(oe){case"em":return ne*16;case"rem":return ne*16;case"cm":return ne*96/2.54;case"mm":return ne*96/2.54/10;case"in":return ne*96;case"pt":return ne*72;case"pc":return ne*72/12;default:return ne}}return cssMediaquery}var matchmediaquery,hasRequiredMatchmediaquery;function requireMatchmediaquery(){if(hasRequiredMatchmediaquery)return matchmediaquery;hasRequiredMatchmediaquery=1;var r=requireCssMediaquery().match,x=typeof window<"u"?window.matchMedia:null;function y(B,R,I){var O=this,G;x&&!I&&(G=x.call(window,B)),G?(this.matches=G.matches,this.media=G.media,G.addListener(ne)):(this.matches=r(B,R),this.media=B),this.addListener=q,this.removeListener=ee,this.dispose=oe;function q(pe){G&&G.addListener(pe)}function ee(pe){G&&G.removeListener(pe)}function ne(pe){O.matches=pe.matches,O.media=pe.media}function oe(){G&&G.removeListener(ne)}}function b(B,R,I){return new y(B,R,I)}return matchmediaquery=b,matchmediaquery}var matchmediaqueryExports=requireMatchmediaquery();const matchMedia$1=getDefaultExportFromCjs(matchmediaqueryExports);var uppercasePattern=/[A-Z]/g,msPattern=/^ms-/,cache$1={};function toHyphenLower(r){return"-"+r.toLowerCase()}function hyphenateStyleName(r){if(cache$1.hasOwnProperty(r))return cache$1[r];var x=r.replace(uppercasePattern,toHyphenLower);return cache$1[r]=msPattern.test(x)?"-"+x:x}function shallowEqualObjects(r,x){if(r===x)return!0;if(!r||!x)return!1;const y=Object.keys(r),b=Object.keys(x),B=y.length;if(b.length!==B)return!1;for(let R=0;R<B;R++){const I=y[R];if(r[I]!==x[I]||!Object.prototype.hasOwnProperty.call(x,I))return!1}return!0}var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=r,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var r=requireReactPropTypesSecret();function x(){}function y(){}return y.resetWarningCache=x,factoryWithThrowingShims=function(){function b(I,O,G,q,ee,ne){if(ne!==r){var oe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw oe.name="Invariant Violation",oe}}b.isRequired=b;function B(){return b}var R={array:b,bigint:b,bool:b,func:b,number:b,object:b,string:b,symbol:b,any:b,arrayOf:B,element:b,elementType:b,instanceOf:B,node:b,objectOf:B,oneOf:B,oneOfType:B,shape:B,exact:B,checkPropTypes:y,resetWarningCache:x};return R.PropTypes=R,R},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),stringOrNumber=PropTypes.oneOfType([PropTypes.string,PropTypes.number]),types={all:PropTypes.bool,grid:PropTypes.bool,aural:PropTypes.bool,braille:PropTypes.bool,handheld:PropTypes.bool,print:PropTypes.bool,projection:PropTypes.bool,screen:PropTypes.bool,tty:PropTypes.bool,tv:PropTypes.bool,embossed:PropTypes.bool},matchers={orientation:PropTypes.oneOf(["portrait","landscape"]),scan:PropTypes.oneOf(["progressive","interlace"]),aspectRatio:PropTypes.string,deviceAspectRatio:PropTypes.string,height:stringOrNumber,deviceHeight:stringOrNumber,width:stringOrNumber,deviceWidth:stringOrNumber,color:PropTypes.bool,colorIndex:PropTypes.bool,monochrome:PropTypes.bool,resolution:stringOrNumber,type:Object.keys(types)},{type,...featureMatchers}=matchers,features={minAspectRatio:PropTypes.string,maxAspectRatio:PropTypes.string,minDeviceAspectRatio:PropTypes.string,maxDeviceAspectRatio:PropTypes.string,minHeight:stringOrNumber,maxHeight:stringOrNumber,minDeviceHeight:stringOrNumber,maxDeviceHeight:stringOrNumber,minWidth:stringOrNumber,maxWidth:stringOrNumber,minDeviceWidth:stringOrNumber,maxDeviceWidth:stringOrNumber,minColor:PropTypes.number,maxColor:PropTypes.number,minColorIndex:PropTypes.number,maxColorIndex:PropTypes.number,minMonochrome:PropTypes.number,maxMonochrome:PropTypes.number,minResolution:stringOrNumber,maxResolution:stringOrNumber,...featureMatchers},all$1={...types,...features};var mq={all:all$1};const negate=r=>`not ${r}`,keyVal=(r,x)=>{const y=hyphenateStyleName(r);return typeof x=="number"&&(x=`${x}px`),x===!0?y:x===!1?negate(y):`(${y}: ${x})`},join$1=r=>r.join(" and "),toQuery=r=>{const x=[];return Object.keys(mq.all).forEach(y=>{const b=r[y];b!=null&&x.push(keyVal(y,b))}),join$1(x)},Context$1=reactExports$1.createContext(void 0),makeQuery=r=>r.query||toQuery(r),hyphenateKeys=r=>r?Object.keys(r).reduce((y,b)=>(y[hyphenateStyleName(b)]=r[b],y),{}):void 0,useIsUpdate=()=>{const r=reactExports$1.useRef(!1);return reactExports$1.useEffect(()=>{r.current=!0},[]),r.current},useDevice=r=>{const x=reactExports$1.useContext(Context$1),y=()=>hyphenateKeys(r)||hyphenateKeys(x),[b,B]=reactExports$1.useState(y);return reactExports$1.useEffect(()=>{const R=y();shallowEqualObjects(b,R)||B(R)},[r,x]),b},useQuery=r=>{const x=()=>makeQuery(r),[y,b]=reactExports$1.useState(x);return reactExports$1.useEffect(()=>{const B=x();y!==B&&b(B)},[r]),y},useMatchMedia=(r,x)=>{const y=()=>matchMedia$1(r,x||{},!!x),[b,B]=reactExports$1.useState(y),R=useIsUpdate();return reactExports$1.useEffect(()=>{if(R){const I=y();return B(I),()=>{I&&I.dispose()}}},[r,x]),b},useMatches=r=>{const[x,y]=reactExports$1.useState(r.matches);return reactExports$1.useEffect(()=>{const b=B=>{y(B.matches)};return r.addListener(b),y(r.matches),()=>{r.removeListener(b)}},[r]),x},useMediaQuery=(r,x,y)=>{const b=useDevice(x),B=useQuery(r);if(!B)throw new Error("Invalid or missing MediaQuery!");const R=useMatchMedia(B,b),I=useMatches(R);return useIsUpdate(),reactExports$1.useEffect(()=>{},[I]),reactExports$1.useEffect(()=>()=>{R&&R.dispose()},[]),I},useResponsive=()=>{const r=useMediaQuery({maxWidth:767}),x=useMediaQuery({minWidth:768,maxWidth:1024}),y=useMediaQuery({minWidth:1025});return{isMobile:r,isTablet:x,isDesktop:y}},overlay$5="_overlay_6lchg_1",menuLayout="_menuLayout_6lchg_33",menuVisible="_menuVisible_6lchg_75",menuHidden="_menuHidden_6lchg_83",closeContainer="_closeContainer_6lchg_91",closeButton$c="_closeButton_6lchg_123",menuSection="_menuSection_6lchg_179",userNickname="_userNickname_6lchg_195",menuSpan="_menuSpan_6lchg_211",divider$3="_divider_6lchg_243",styles$1J={overlay:overlay$5,menuLayout,menuVisible,menuHidden,closeContainer,closeButton:closeButton$c,menuSection,userNickname,menuSpan,divider:divider$3};function bind$1(r,x){return function(){return r.apply(x,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(r=>x=>{const y=toString.call(x);return r[y]||(r[y]=y.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=r=>(r=r.toLowerCase(),x=>kindOf(x)===r),typeOfTest=r=>x=>typeof x===r,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(r){return r!==null&&!isUndefined(r)&&r.constructor!==null&&!isUndefined(r.constructor)&&isFunction$2(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(r){let x;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?x=ArrayBuffer.isView(r):x=r&&r.buffer&&isArrayBuffer(r.buffer),x}const isString=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$5=r=>r!==null&&typeof r=="object",isBoolean=r=>r===!0||r===!1,isPlainObject$1=r=>{if(kindOf(r)!=="object")return!1;const x=getPrototypeOf(r);return(x===null||x===Object.prototype||Object.getPrototypeOf(x)===null)&&!(toStringTag in r)&&!(iterator in r)},isEmptyObject$1=r=>{if(!isObject$5(r)||isBuffer(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=r=>isObject$5(r)&&isFunction$2(r.pipe),isFormData=r=>{let x;return r&&(typeof FormData=="function"&&r instanceof FormData||isFunction$2(r.append)&&((x=kindOf(r))==="formdata"||x==="object"&&isFunction$2(r.toString)&&r.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(r,x,{allOwnKeys:y=!1}={}){if(r===null||typeof r>"u")return;let b,B;if(typeof r!="object"&&(r=[r]),isArray(r))for(b=0,B=r.length;b<B;b++)x.call(null,r[b],b,r);else{if(isBuffer(r))return;const R=y?Object.getOwnPropertyNames(r):Object.keys(r),I=R.length;let O;for(b=0;b<I;b++)O=R[b],x.call(null,r[O],O,r)}}function findKey(r,x){if(isBuffer(r))return null;x=x.toLowerCase();const y=Object.keys(r);let b=y.length,B;for(;b-- >0;)if(B=y[b],x===B.toLowerCase())return B;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=r=>!isUndefined(r)&&r!==_global;function merge(){const{caseless:r,skipUndefined:x}=isContextDefined(this)&&this||{},y={},b=(B,R)=>{const I=r&&findKey(y,R)||R;isPlainObject$1(y[I])&&isPlainObject$1(B)?y[I]=merge(y[I],B):isPlainObject$1(B)?y[I]=merge({},B):isArray(B)?y[I]=B.slice():(!x||!isUndefined(B))&&(y[I]=B)};for(let B=0,R=arguments.length;B<R;B++)arguments[B]&&forEach$1(arguments[B],b);return y}const extend$3=(r,x,y,{allOwnKeys:b}={})=>(forEach$1(x,(B,R)=>{y&&isFunction$2(B)?r[R]=bind$1(B,y):r[R]=B},{allOwnKeys:b}),r),stripBOM=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),inherits=(r,x,y,b)=>{r.prototype=Object.create(x.prototype,b),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:x.prototype}),y&&Object.assign(r.prototype,y)},toFlatObject=(r,x,y,b)=>{let B,R,I;const O={};if(x=x||{},r==null)return x;do{for(B=Object.getOwnPropertyNames(r),R=B.length;R-- >0;)I=B[R],(!b||b(I,r,x))&&!O[I]&&(x[I]=r[I],O[I]=!0);r=y!==!1&&getPrototypeOf(r)}while(r&&(!y||y(r,x))&&r!==Object.prototype);return x},endsWith=(r,x,y)=>{r=String(r),(y===void 0||y>r.length)&&(y=r.length),y-=x.length;const b=r.indexOf(x,y);return b!==-1&&b===y},toArray$1=r=>{if(!r)return null;if(isArray(r))return r;let x=r.length;if(!isNumber$1(x))return null;const y=new Array(x);for(;x-- >0;)y[x]=r[x];return y},isTypedArray=(r=>x=>r&&x instanceof r)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(r,x)=>{const b=(r&&r[iterator]).call(r);let B;for(;(B=b.next())&&!B.done;){const R=B.value;x.call(r,R[0],R[1])}},matchAll=(r,x)=>{let y;const b=[];for(;(y=r.exec(x))!==null;)b.push(y);return b},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(y,b,B){return b.toUpperCase()+B}),hasOwnProperty=(({hasOwnProperty:r})=>(x,y)=>r.call(x,y))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(r,x)=>{const y=Object.getOwnPropertyDescriptors(r),b={};forEach$1(y,(B,R)=>{let I;(I=x(B,R,r))!==!1&&(b[R]=I||B)}),Object.defineProperties(r,b)},freezeMethods=r=>{reduceDescriptors(r,(x,y)=>{if(isFunction$2(r)&&["arguments","caller","callee"].indexOf(y)!==-1)return!1;const b=r[y];if(isFunction$2(b)){if(x.enumerable=!1,"writable"in x){x.writable=!1;return}x.set||(x.set=()=>{throw Error("Can not rewrite read-only method '"+y+"'")})}})},toObjectSet=(r,x)=>{const y={},b=B=>{B.forEach(R=>{y[R]=!0})};return isArray(r)?b(r):b(String(r).split(x)),y},noop$2=()=>{},toFiniteNumber=(r,x)=>r!=null&&Number.isFinite(r=+r)?r:x;function isSpecCompliantForm(r){return!!(r&&isFunction$2(r.append)&&r[toStringTag]==="FormData"&&r[iterator])}const toJSONObject=r=>{const x=new Array(10),y=(b,B)=>{if(isObject$5(b)){if(x.indexOf(b)>=0)return;if(isBuffer(b))return b;if(!("toJSON"in b)){x[B]=b;const R=isArray(b)?[]:{};return forEach$1(b,(I,O)=>{const G=y(I,B+1);!isUndefined(G)&&(R[O]=G)}),x[B]=void 0,R}}return b};return y(r,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=r=>r&&(isObject$5(r)||isFunction$2(r))&&isFunction$2(r.then)&&isFunction$2(r.catch),_setImmediate=((r,x)=>r?setImmediate:x?((y,b)=>(_global.addEventListener("message",({source:B,data:R})=>{B===_global&&R===y&&b.length&&b.shift()()},!1),B=>{b.push(B),_global.postMessage(y,"*")}))(`axios@${Math.random()}`,[]):y=>setTimeout(y))(typeof setImmediate=="function",isFunction$2(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=r=>r!=null&&isFunction$2(r[iterator]),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber:isNumber$1,isBoolean,isObject:isObject$5,isPlainObject:isPlainObject$1,isEmptyObject:isEmptyObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp:isRegExp$1,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray,isFileList,forEach:forEach$1,merge,extend:extend$3,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$2,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(r,x,y,b,B){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",x&&(this.code=x),y&&(this.config=y),b&&(this.request=b),B&&(this.response=B,this.status=B.status?B.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{descriptors[r]={value:r}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(r,x,y,b,B,R)=>{const I=Object.create(prototype$1);utils$1.toFlatObject(r,I,function(ee){return ee!==Error.prototype},q=>q!=="isAxiosError");const O=r&&r.message?r.message:"Error",G=x==null&&r?r.code:x;return AxiosError$1.call(I,O,G,y,b,B),r&&I.cause==null&&Object.defineProperty(I,"cause",{value:r,configurable:!0}),I.name=r&&r.name||"Error",R&&Object.assign(I,R),I};const httpAdapter=null;function isVisitable(r){return utils$1.isPlainObject(r)||utils$1.isArray(r)}function removeBrackets(r){return utils$1.endsWith(r,"[]")?r.slice(0,-2):r}function renderKey(r,x,y){return r?r.concat(x).map(function(B,R){return B=removeBrackets(B),!y&&R?"["+B+"]":B}).join(y?".":""):x}function isFlatArray(r){return utils$1.isArray(r)&&!r.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(x){return/^is[A-Z]/.test(x)});function toFormData$1(r,x,y){if(!utils$1.isObject(r))throw new TypeError("target must be an object");x=x||new FormData,y=utils$1.toFlatObject(y,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_e,Ue){return!utils$1.isUndefined(Ue[_e])});const b=y.metaTokens,B=y.visitor||ee,R=y.dots,I=y.indexes,G=(y.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(x);if(!utils$1.isFunction(B))throw new TypeError("visitor must be a function");function q(xe){if(xe===null)return"";if(utils$1.isDate(xe))return xe.toISOString();if(utils$1.isBoolean(xe))return xe.toString();if(!G&&utils$1.isBlob(xe))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(xe)||utils$1.isTypedArray(xe)?G&&typeof Blob=="function"?new Blob([xe]):Buffer.from(xe):xe}function ee(xe,_e,Ue){let Le=xe;if(xe&&!Ue&&typeof xe=="object"){if(utils$1.endsWith(_e,"{}"))_e=b?_e:_e.slice(0,-2),xe=JSON.stringify(xe);else if(utils$1.isArray(xe)&&isFlatArray(xe)||(utils$1.isFileList(xe)||utils$1.endsWith(_e,"[]"))&&(Le=utils$1.toArray(xe)))return _e=removeBrackets(_e),Le.forEach(function($e,Ne){!(utils$1.isUndefined($e)||$e===null)&&x.append(I===!0?renderKey([_e],Ne,R):I===null?_e:_e+"[]",q($e))}),!1}return isVisitable(xe)?!0:(x.append(renderKey(Ue,_e,R),q(xe)),!1)}const ne=[],oe=Object.assign(predicates,{defaultVisitor:ee,convertValue:q,isVisitable});function pe(xe,_e){if(!utils$1.isUndefined(xe)){if(ne.indexOf(xe)!==-1)throw Error("Circular reference detected in "+_e.join("."));ne.push(xe),utils$1.forEach(xe,function(Le,He){(!(utils$1.isUndefined(Le)||Le===null)&&B.call(x,Le,utils$1.isString(He)?He.trim():He,_e,oe))===!0&&pe(Le,_e?_e.concat(He):[He])}),ne.pop()}}if(!utils$1.isObject(r))throw new TypeError("data must be an object");return pe(r),x}function encode$2(r){const x={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(b){return x[b]})}function AxiosURLSearchParams(r,x){this._pairs=[],r&&toFormData$1(r,this,x)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(x,y){this._pairs.push([x,y])};prototype.toString=function(x){const y=x?function(b){return x.call(this,b,encode$2)}:encode$2;return this._pairs.map(function(B){return y(B[0])+"="+y(B[1])},"").join("&")};function encode$1(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(r,x,y){if(!x)return r;const b=y&&y.encode||encode$1;utils$1.isFunction(y)&&(y={serialize:y});const B=y&&y.serialize;let R;if(B?R=B(x,y):R=utils$1.isURLSearchParams(x)?x.toString():new AxiosURLSearchParams(x,y).toString(b),R){const I=r.indexOf("#");I!==-1&&(r=r.slice(0,I)),r+=(r.indexOf("?")===-1?"?":"&")+R}return r}class InterceptorManager{constructor(){this.handlers=[]}use(x,y,b){return this.handlers.push({fulfilled:x,rejected:y,synchronous:b?b.synchronous:!1,runWhen:b?b.runWhen:null}),this.handlers.length-1}eject(x){this.handlers[x]&&(this.handlers[x]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(x){utils$1.forEach(this.handlers,function(b){b!==null&&x(b)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(r,x){return toFormData$1(r,new platform.classes.URLSearchParams,{visitor:function(y,b,B,R){return platform.isNode&&utils$1.isBuffer(y)?(this.append(b,y.toString("base64")),!1):R.defaultVisitor.apply(this,arguments)},...x})}function parsePropPath(r){return utils$1.matchAll(/\w+|\[(\w*)]/g,r).map(x=>x[0]==="[]"?"":x[1]||x[0])}function arrayToObject(r){const x={},y=Object.keys(r);let b;const B=y.length;let R;for(b=0;b<B;b++)R=y[b],x[R]=r[R];return x}function formDataToJSON(r){function x(y,b,B,R){let I=y[R++];if(I==="__proto__")return!0;const O=Number.isFinite(+I),G=R>=y.length;return I=!I&&utils$1.isArray(B)?B.length:I,G?(utils$1.hasOwnProp(B,I)?B[I]=[B[I],b]:B[I]=b,!O):((!B[I]||!utils$1.isObject(B[I]))&&(B[I]=[]),x(y,b,B[I],R)&&utils$1.isArray(B[I])&&(B[I]=arrayToObject(B[I])),!O)}if(utils$1.isFormData(r)&&utils$1.isFunction(r.entries)){const y={};return utils$1.forEachEntry(r,(b,B)=>{x(parsePropPath(b),B,y,0)}),y}return null}function stringifySafely(r,x,y){if(utils$1.isString(r))try{return(x||JSON.parse)(r),utils$1.trim(r)}catch(b){if(b.name!=="SyntaxError")throw b}return(y||JSON.stringify)(r)}const defaults$2={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(x,y){const b=y.getContentType()||"",B=b.indexOf("application/json")>-1,R=utils$1.isObject(x);if(R&&utils$1.isHTMLForm(x)&&(x=new FormData(x)),utils$1.isFormData(x))return B?JSON.stringify(formDataToJSON(x)):x;if(utils$1.isArrayBuffer(x)||utils$1.isBuffer(x)||utils$1.isStream(x)||utils$1.isFile(x)||utils$1.isBlob(x)||utils$1.isReadableStream(x))return x;if(utils$1.isArrayBufferView(x))return x.buffer;if(utils$1.isURLSearchParams(x))return y.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),x.toString();let O;if(R){if(b.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(x,this.formSerializer).toString();if((O=utils$1.isFileList(x))||b.indexOf("multipart/form-data")>-1){const G=this.env&&this.env.FormData;return toFormData$1(O?{"files[]":x}:x,G&&new G,this.formSerializer)}}return R||B?(y.setContentType("application/json",!1),stringifySafely(x)):x}],transformResponse:[function(x){const y=this.transitional||defaults$2.transitional,b=y&&y.forcedJSONParsing,B=this.responseType==="json";if(utils$1.isResponse(x)||utils$1.isReadableStream(x))return x;if(x&&utils$1.isString(x)&&(b&&!this.responseType||B)){const I=!(y&&y.silentJSONParsing)&&B;try{return JSON.parse(x,this.parseReviver)}catch(O){if(I)throw O.name==="SyntaxError"?AxiosError$1.from(O,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):O}}return x}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(x){return x>=200&&x<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],r=>{defaults$2.headers[r]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=r=>{const x={};let y,b,B;return r&&r.split(`
`).forEach(function(I){B=I.indexOf(":"),y=I.substring(0,B).trim().toLowerCase(),b=I.substring(B+1).trim(),!(!y||x[y]&&ignoreDuplicateOf[y])&&(y==="set-cookie"?x[y]?x[y].push(b):x[y]=[b]:x[y]=x[y]?x[y]+", "+b:b)}),x},$internals=Symbol("internals");function normalizeHeader(r){return r&&String(r).trim().toLowerCase()}function normalizeValue(r){return r===!1||r==null?r:utils$1.isArray(r)?r.map(normalizeValue):String(r)}function parseTokens(r){const x=Object.create(null),y=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let b;for(;b=y.exec(r);)x[b[1]]=b[2];return x}const isValidHeaderName=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function matchHeaderValue(r,x,y,b,B){if(utils$1.isFunction(b))return b.call(this,x,y);if(B&&(x=y),!!utils$1.isString(x)){if(utils$1.isString(b))return x.indexOf(b)!==-1;if(utils$1.isRegExp(b))return b.test(x)}}function formatHeader(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(x,y,b)=>y.toUpperCase()+b)}function buildAccessors(r,x){const y=utils$1.toCamelCase(" "+x);["get","set","has"].forEach(b=>{Object.defineProperty(r,b+y,{value:function(B,R,I){return this[b].call(this,x,B,R,I)},configurable:!0})})}let AxiosHeaders$1=class{constructor(x){x&&this.set(x)}set(x,y,b){const B=this;function R(O,G,q){const ee=normalizeHeader(G);if(!ee)throw new Error("header name must be a non-empty string");const ne=utils$1.findKey(B,ee);(!ne||B[ne]===void 0||q===!0||q===void 0&&B[ne]!==!1)&&(B[ne||G]=normalizeValue(O))}const I=(O,G)=>utils$1.forEach(O,(q,ee)=>R(q,ee,G));if(utils$1.isPlainObject(x)||x instanceof this.constructor)I(x,y);else if(utils$1.isString(x)&&(x=x.trim())&&!isValidHeaderName(x))I(parseHeaders(x),y);else if(utils$1.isObject(x)&&utils$1.isIterable(x)){let O={},G,q;for(const ee of x){if(!utils$1.isArray(ee))throw TypeError("Object iterator must return a key-value pair");O[q=ee[0]]=(G=O[q])?utils$1.isArray(G)?[...G,ee[1]]:[G,ee[1]]:ee[1]}I(O,y)}else x!=null&&R(y,x,b);return this}get(x,y){if(x=normalizeHeader(x),x){const b=utils$1.findKey(this,x);if(b){const B=this[b];if(!y)return B;if(y===!0)return parseTokens(B);if(utils$1.isFunction(y))return y.call(this,B,b);if(utils$1.isRegExp(y))return y.exec(B);throw new TypeError("parser must be boolean|regexp|function")}}}has(x,y){if(x=normalizeHeader(x),x){const b=utils$1.findKey(this,x);return!!(b&&this[b]!==void 0&&(!y||matchHeaderValue(this,this[b],b,y)))}return!1}delete(x,y){const b=this;let B=!1;function R(I){if(I=normalizeHeader(I),I){const O=utils$1.findKey(b,I);O&&(!y||matchHeaderValue(b,b[O],O,y))&&(delete b[O],B=!0)}}return utils$1.isArray(x)?x.forEach(R):R(x),B}clear(x){const y=Object.keys(this);let b=y.length,B=!1;for(;b--;){const R=y[b];(!x||matchHeaderValue(this,this[R],R,x,!0))&&(delete this[R],B=!0)}return B}normalize(x){const y=this,b={};return utils$1.forEach(this,(B,R)=>{const I=utils$1.findKey(b,R);if(I){y[I]=normalizeValue(B),delete y[R];return}const O=x?formatHeader(R):String(R).trim();O!==R&&delete y[R],y[O]=normalizeValue(B),b[O]=!0}),this}concat(...x){return this.constructor.concat(this,...x)}toJSON(x){const y=Object.create(null);return utils$1.forEach(this,(b,B)=>{b!=null&&b!==!1&&(y[B]=x&&utils$1.isArray(b)?b.join(", "):b)}),y}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([x,y])=>x+": "+y).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(x){return x instanceof this?x:new this(x)}static concat(x,...y){const b=new this(x);return y.forEach(B=>b.set(B)),b}static accessor(x){const b=(this[$internals]=this[$internals]={accessors:{}}).accessors,B=this.prototype;function R(I){const O=normalizeHeader(I);b[O]||(buildAccessors(B,I),b[O]=!0)}return utils$1.isArray(x)?x.forEach(R):R(x),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:r},x)=>{let y=x[0].toUpperCase()+x.slice(1);return{get:()=>r,set(b){this[y]=b}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(r,x){const y=this||defaults$2,b=x||y,B=AxiosHeaders$1.from(b.headers);let R=b.data;return utils$1.forEach(r,function(O){R=O.call(y,R,B.normalize(),x?x.status:void 0)}),B.normalize(),R}function isCancel$1(r){return!!(r&&r.__CANCEL__)}function CanceledError$1(r,x,y){AxiosError$1.call(this,r??"canceled",AxiosError$1.ERR_CANCELED,x,y),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(r,x,y){const b=y.config.validateStatus;!y.status||!b||b(y.status)?r(y):x(new AxiosError$1("Request failed with status code "+y.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(y.status/100)-4],y.config,y.request,y))}function parseProtocol(r){const x=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return x&&x[1]||""}function speedometer(r,x){r=r||10;const y=new Array(r),b=new Array(r);let B=0,R=0,I;return x=x!==void 0?x:1e3,function(G){const q=Date.now(),ee=b[R];I||(I=q),y[B]=G,b[B]=q;let ne=R,oe=0;for(;ne!==B;)oe+=y[ne++],ne=ne%r;if(B=(B+1)%r,B===R&&(R=(R+1)%r),q-I<x)return;const pe=ee&&q-ee;return pe?Math.round(oe*1e3/pe):void 0}}function throttle(r,x){let y=0,b=1e3/x,B,R;const I=(q,ee=Date.now())=>{y=ee,B=null,R&&(clearTimeout(R),R=null),r(...q)};return[(...q)=>{const ee=Date.now(),ne=ee-y;ne>=b?I(q,ee):(B=q,R||(R=setTimeout(()=>{R=null,I(B)},b-ne)))},()=>B&&I(B)]}const progressEventReducer=(r,x,y=3)=>{let b=0;const B=speedometer(50,250);return throttle(R=>{const I=R.loaded,O=R.lengthComputable?R.total:void 0,G=I-b,q=B(G),ee=I<=O;b=I;const ne={loaded:I,total:O,progress:O?I/O:void 0,bytes:G,rate:q||void 0,estimated:q&&O&&ee?(O-I)/q:void 0,event:R,lengthComputable:O!=null,[x?"download":"upload"]:!0};r(ne)},y)},progressEventDecorator=(r,x)=>{const y=r!=null;return[b=>x[0]({lengthComputable:y,total:r,loaded:b}),x[1]]},asyncDecorator=r=>(...x)=>utils$1.asap(()=>r(...x)),isURLSameOrigin=platform.hasStandardBrowserEnv?((r,x)=>y=>(y=new URL(y,platform.origin),r.protocol===y.protocol&&r.host===y.host&&(x||r.port===y.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(r,x,y,b,B,R,I){if(typeof document>"u")return;const O=[`${r}=${encodeURIComponent(x)}`];utils$1.isNumber(y)&&O.push(`expires=${new Date(y).toUTCString()}`),utils$1.isString(b)&&O.push(`path=${b}`),utils$1.isString(B)&&O.push(`domain=${B}`),R===!0&&O.push("secure"),utils$1.isString(I)&&O.push(`SameSite=${I}`),document.cookie=O.join("; ")},read(r){if(typeof document>"u")return null;const x=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return x?decodeURIComponent(x[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function combineURLs(r,x){return x?r.replace(/\/?\/$/,"")+"/"+x.replace(/^\/+/,""):r}function buildFullPath(r,x,y){let b=!isAbsoluteURL(x);return r&&(b||y==!1)?combineURLs(r,x):x}const headersToObject=r=>r instanceof AxiosHeaders$1?{...r}:r;function mergeConfig$1(r,x){x=x||{};const y={};function b(q,ee,ne,oe){return utils$1.isPlainObject(q)&&utils$1.isPlainObject(ee)?utils$1.merge.call({caseless:oe},q,ee):utils$1.isPlainObject(ee)?utils$1.merge({},ee):utils$1.isArray(ee)?ee.slice():ee}function B(q,ee,ne,oe){if(utils$1.isUndefined(ee)){if(!utils$1.isUndefined(q))return b(void 0,q,ne,oe)}else return b(q,ee,ne,oe)}function R(q,ee){if(!utils$1.isUndefined(ee))return b(void 0,ee)}function I(q,ee){if(utils$1.isUndefined(ee)){if(!utils$1.isUndefined(q))return b(void 0,q)}else return b(void 0,ee)}function O(q,ee,ne){if(ne in x)return b(q,ee);if(ne in r)return b(void 0,q)}const G={url:R,method:R,data:R,baseURL:I,transformRequest:I,transformResponse:I,paramsSerializer:I,timeout:I,timeoutMessage:I,withCredentials:I,withXSRFToken:I,adapter:I,responseType:I,xsrfCookieName:I,xsrfHeaderName:I,onUploadProgress:I,onDownloadProgress:I,decompress:I,maxContentLength:I,maxBodyLength:I,beforeRedirect:I,transport:I,httpAgent:I,httpsAgent:I,cancelToken:I,socketPath:I,responseEncoding:I,validateStatus:O,headers:(q,ee,ne)=>B(headersToObject(q),headersToObject(ee),ne,!0)};return utils$1.forEach(Object.keys({...r,...x}),function(ee){const ne=G[ee]||B,oe=ne(r[ee],x[ee],ee);utils$1.isUndefined(oe)&&ne!==O||(y[ee]=oe)}),y}const resolveConfig=r=>{const x=mergeConfig$1({},r);let{data:y,withXSRFToken:b,xsrfHeaderName:B,xsrfCookieName:R,headers:I,auth:O}=x;if(x.headers=I=AxiosHeaders$1.from(I),x.url=buildURL(buildFullPath(x.baseURL,x.url,x.allowAbsoluteUrls),r.params,r.paramsSerializer),O&&I.set("Authorization","Basic "+btoa((O.username||"")+":"+(O.password?unescape(encodeURIComponent(O.password)):""))),utils$1.isFormData(y)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)I.setContentType(void 0);else if(utils$1.isFunction(y.getHeaders)){const G=y.getHeaders(),q=["content-type","content-length"];Object.entries(G).forEach(([ee,ne])=>{q.includes(ee.toLowerCase())&&I.set(ee,ne)})}}if(platform.hasStandardBrowserEnv&&(b&&utils$1.isFunction(b)&&(b=b(x)),b||b!==!1&&isURLSameOrigin(x.url))){const G=B&&R&&cookies.read(R);G&&I.set(B,G)}return x},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(r){return new Promise(function(y,b){const B=resolveConfig(r);let R=B.data;const I=AxiosHeaders$1.from(B.headers).normalize();let{responseType:O,onUploadProgress:G,onDownloadProgress:q}=B,ee,ne,oe,pe,xe;function _e(){pe&&pe(),xe&&xe(),B.cancelToken&&B.cancelToken.unsubscribe(ee),B.signal&&B.signal.removeEventListener("abort",ee)}let Ue=new XMLHttpRequest;Ue.open(B.method.toUpperCase(),B.url,!0),Ue.timeout=B.timeout;function Le(){if(!Ue)return;const $e=AxiosHeaders$1.from("getAllResponseHeaders"in Ue&&Ue.getAllResponseHeaders()),Qe={data:!O||O==="text"||O==="json"?Ue.responseText:Ue.response,status:Ue.status,statusText:Ue.statusText,headers:$e,config:r,request:Ue};settle(function(Ge){y(Ge),_e()},function(Ge){b(Ge),_e()},Qe),Ue=null}"onloadend"in Ue?Ue.onloadend=Le:Ue.onreadystatechange=function(){!Ue||Ue.readyState!==4||Ue.status===0&&!(Ue.responseURL&&Ue.responseURL.indexOf("file:")===0)||setTimeout(Le)},Ue.onabort=function(){Ue&&(b(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,r,Ue)),Ue=null)},Ue.onerror=function(Ne){const Qe=Ne&&Ne.message?Ne.message:"Network Error",We=new AxiosError$1(Qe,AxiosError$1.ERR_NETWORK,r,Ue);We.event=Ne||null,b(We),Ue=null},Ue.ontimeout=function(){let Ne=B.timeout?"timeout of "+B.timeout+"ms exceeded":"timeout exceeded";const Qe=B.transitional||transitionalDefaults;B.timeoutErrorMessage&&(Ne=B.timeoutErrorMessage),b(new AxiosError$1(Ne,Qe.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,r,Ue)),Ue=null},R===void 0&&I.setContentType(null),"setRequestHeader"in Ue&&utils$1.forEach(I.toJSON(),function(Ne,Qe){Ue.setRequestHeader(Qe,Ne)}),utils$1.isUndefined(B.withCredentials)||(Ue.withCredentials=!!B.withCredentials),O&&O!=="json"&&(Ue.responseType=B.responseType),q&&([oe,xe]=progressEventReducer(q,!0),Ue.addEventListener("progress",oe)),G&&Ue.upload&&([ne,pe]=progressEventReducer(G),Ue.upload.addEventListener("progress",ne),Ue.upload.addEventListener("loadend",pe)),(B.cancelToken||B.signal)&&(ee=$e=>{Ue&&(b(!$e||$e.type?new CanceledError$1(null,r,Ue):$e),Ue.abort(),Ue=null)},B.cancelToken&&B.cancelToken.subscribe(ee),B.signal&&(B.signal.aborted?ee():B.signal.addEventListener("abort",ee)));const He=parseProtocol(B.url);if(He&&platform.protocols.indexOf(He)===-1){b(new AxiosError$1("Unsupported protocol "+He+":",AxiosError$1.ERR_BAD_REQUEST,r));return}Ue.send(R||null)})},composeSignals=(r,x)=>{const{length:y}=r=r?r.filter(Boolean):[];if(x||y){let b=new AbortController,B;const R=function(q){if(!B){B=!0,O();const ee=q instanceof Error?q:this.reason;b.abort(ee instanceof AxiosError$1?ee:new CanceledError$1(ee instanceof Error?ee.message:ee))}};let I=x&&setTimeout(()=>{I=null,R(new AxiosError$1(`timeout ${x} of ms exceeded`,AxiosError$1.ETIMEDOUT))},x);const O=()=>{r&&(I&&clearTimeout(I),I=null,r.forEach(q=>{q.unsubscribe?q.unsubscribe(R):q.removeEventListener("abort",R)}),r=null)};r.forEach(q=>q.addEventListener("abort",R));const{signal:G}=b;return G.unsubscribe=()=>utils$1.asap(O),G}},streamChunk=function*(r,x){let y=r.byteLength;if(y<x){yield r;return}let b=0,B;for(;b<y;)B=b+x,yield r.slice(b,B),b=B},readBytes=async function*(r,x){for await(const y of readStream(r))yield*streamChunk(y,x)},readStream=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const x=r.getReader();try{for(;;){const{done:y,value:b}=await x.read();if(y)break;yield b}}finally{await x.cancel()}},trackStream=(r,x,y,b)=>{const B=readBytes(r,x);let R=0,I,O=G=>{I||(I=!0,b&&b(G))};return new ReadableStream({async pull(G){try{const{done:q,value:ee}=await B.next();if(q){O(),G.close();return}let ne=ee.byteLength;if(y){let oe=R+=ne;y(oe)}G.enqueue(new Uint8Array(ee))}catch(q){throw O(q),q}},cancel(G){return O(G),B.return()}},{highWaterMark:2})},DEFAULT_CHUNK_SIZE=64*1024,{isFunction:isFunction$1}=utils$1,globalFetchAPI=(({Request:r,Response:x})=>({Request:r,Response:x}))(utils$1.global),{ReadableStream:ReadableStream$1,TextEncoder:TextEncoder$1}=utils$1.global,test=(r,...x)=>{try{return!!r(...x)}catch{return!1}},factory$1=r=>{r=utils$1.merge.call({skipUndefined:!0},globalFetchAPI,r);const{fetch:x,Request:y,Response:b}=r,B=x?isFunction$1(x):typeof fetch=="function",R=isFunction$1(y),I=isFunction$1(b);if(!B)return!1;const O=B&&isFunction$1(ReadableStream$1),G=B&&(typeof TextEncoder$1=="function"?(xe=>_e=>xe.encode(_e))(new TextEncoder$1):async xe=>new Uint8Array(await new y(xe).arrayBuffer())),q=R&&O&&test(()=>{let xe=!1;const _e=new y(platform.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return xe=!0,"half"}}).headers.has("Content-Type");return xe&&!_e}),ee=I&&O&&test(()=>utils$1.isReadableStream(new b("").body)),ne={stream:ee&&(xe=>xe.body)};B&&["text","arrayBuffer","blob","formData","stream"].forEach(xe=>{!ne[xe]&&(ne[xe]=(_e,Ue)=>{let Le=_e&&_e[xe];if(Le)return Le.call(_e);throw new AxiosError$1(`Response type '${xe}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,Ue)})});const oe=async xe=>{if(xe==null)return 0;if(utils$1.isBlob(xe))return xe.size;if(utils$1.isSpecCompliantForm(xe))return(await new y(platform.origin,{method:"POST",body:xe}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(xe)||utils$1.isArrayBuffer(xe))return xe.byteLength;if(utils$1.isURLSearchParams(xe)&&(xe=xe+""),utils$1.isString(xe))return(await G(xe)).byteLength},pe=async(xe,_e)=>{const Ue=utils$1.toFiniteNumber(xe.getContentLength());return Ue??oe(_e)};return async xe=>{let{url:_e,method:Ue,data:Le,signal:He,cancelToken:$e,timeout:Ne,onDownloadProgress:Qe,onUploadProgress:We,responseType:Ge,headers:Xe,withCredentials:Je="same-origin",fetchOptions:ut}=resolveConfig(xe),ft=x||fetch;Ge=Ge?(Ge+"").toLowerCase():"text";let ct=composeSignals([He,$e&&$e.toAbortSignal()],Ne),pt=null;const yt=ct&&ct.unsubscribe&&(()=>{ct.unsubscribe()});let lt;try{if(We&&q&&Ue!=="get"&&Ue!=="head"&&(lt=await pe(Xe,Le))!==0){let st=new y(_e,{method:"POST",body:Le,duplex:"half"}),ht;if(utils$1.isFormData(Le)&&(ht=st.headers.get("content-type"))&&Xe.setContentType(ht),st.body){const[vt,Et]=progressEventDecorator(lt,progressEventReducer(asyncDecorator(We)));Le=trackStream(st.body,DEFAULT_CHUNK_SIZE,vt,Et)}}utils$1.isString(Je)||(Je=Je?"include":"omit");const Ze=R&&"credentials"in y.prototype,it={...ut,signal:ct,method:Ue.toUpperCase(),headers:Xe.normalize().toJSON(),body:Le,duplex:"half",credentials:Ze?Je:void 0};pt=R&&new y(_e,it);let Ye=await(R?ft(pt,ut):ft(_e,it));const et=ee&&(Ge==="stream"||Ge==="response");if(ee&&(Qe||et&&yt)){const st={};["status","statusText","headers"].forEach(Rt=>{st[Rt]=Ye[Rt]});const ht=utils$1.toFiniteNumber(Ye.headers.get("content-length")),[vt,Et]=Qe&&progressEventDecorator(ht,progressEventReducer(asyncDecorator(Qe),!0))||[];Ye=new b(trackStream(Ye.body,DEFAULT_CHUNK_SIZE,vt,()=>{Et&&Et(),yt&&yt()}),st)}Ge=Ge||"text";let gt=await ne[utils$1.findKey(ne,Ge)||"text"](Ye,xe);return!et&&yt&&yt(),await new Promise((st,ht)=>{settle(st,ht,{data:gt,headers:AxiosHeaders$1.from(Ye.headers),status:Ye.status,statusText:Ye.statusText,config:xe,request:pt})})}catch(Ze){throw yt&&yt(),Ze&&Ze.name==="TypeError"&&/Load failed|fetch/i.test(Ze.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,xe,pt),{cause:Ze.cause||Ze}):AxiosError$1.from(Ze,Ze&&Ze.code,xe,pt)}}},seedCache=new Map,getFetch=r=>{let x=r&&r.env||{};const{fetch:y,Request:b,Response:B}=x,R=[b,B,y];let I=R.length,O=I,G,q,ee=seedCache;for(;O--;)G=R[O],q=ee.get(G),q===void 0&&ee.set(G,q=O?new Map:factory$1(x)),ee=q;return q};getFetch();const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$1.forEach(knownAdapters,(r,x)=>{if(r){try{Object.defineProperty(r,"name",{value:x})}catch{}Object.defineProperty(r,"adapterName",{value:x})}});const renderReason=r=>`- ${r}`,isResolvedHandle=r=>utils$1.isFunction(r)||r===null||r===!1;function getAdapter$1(r,x){r=utils$1.isArray(r)?r:[r];const{length:y}=r;let b,B;const R={};for(let I=0;I<y;I++){b=r[I];let O;if(B=b,!isResolvedHandle(b)&&(B=knownAdapters[(O=String(b)).toLowerCase()],B===void 0))throw new AxiosError$1(`Unknown adapter '${O}'`);if(B&&(utils$1.isFunction(B)||(B=B.get(x))))break;R[O||"#"+I]=B}if(!B){const I=Object.entries(R).map(([G,q])=>`adapter ${G} `+(q===!1?"is not supported by the environment":"is not available in the build"));let O=y?I.length>1?`since :
`+I.map(renderReason).join(`
`):" "+renderReason(I[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+O,"ERR_NOT_SUPPORT")}return B}const adapters={getAdapter:getAdapter$1,adapters:knownAdapters};function throwIfCancellationRequested(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new CanceledError$1(null,r)}function dispatchRequest(r){return throwIfCancellationRequested(r),r.headers=AxiosHeaders$1.from(r.headers),r.data=transformData.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(r.adapter||defaults$2.adapter,r)(r).then(function(b){return throwIfCancellationRequested(r),b.data=transformData.call(r,r.transformResponse,b),b.headers=AxiosHeaders$1.from(b.headers),b},function(b){return isCancel$1(b)||(throwIfCancellationRequested(r),b&&b.response&&(b.response.data=transformData.call(r,r.transformResponse,b.response),b.response.headers=AxiosHeaders$1.from(b.response.headers))),Promise.reject(b)})}const VERSION$1="1.13.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((r,x)=>{validators$1[r]=function(b){return typeof b===r||"a"+(x<1?"n ":" ")+r}});const deprecatedWarnings={};validators$1.transitional=function(x,y,b){function B(R,I){return"[Axios v"+VERSION$1+"] Transitional option '"+R+"'"+I+(b?". "+b:"")}return(R,I,O)=>{if(x===!1)throw new AxiosError$1(B(I," has been removed"+(y?" in "+y:"")),AxiosError$1.ERR_DEPRECATED);return y&&!deprecatedWarnings[I]&&(deprecatedWarnings[I]=!0,console.warn(B(I," has been deprecated since v"+y+" and will be removed in the near future"))),x?x(R,I,O):!0}};validators$1.spelling=function(x){return(y,b)=>(console.warn(`${b} is likely a misspelling of ${x}`),!0)};function assertOptions(r,x,y){if(typeof r!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const b=Object.keys(r);let B=b.length;for(;B-- >0;){const R=b[B],I=x[R];if(I){const O=r[R],G=O===void 0||I(O,R,r);if(G!==!0)throw new AxiosError$1("option "+R+" must be "+G,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(y!==!0)throw new AxiosError$1("Unknown option "+R,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(x){this.defaults=x||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(x,y){try{return await this._request(x,y)}catch(b){if(b instanceof Error){let B={};Error.captureStackTrace?Error.captureStackTrace(B):B=new Error;const R=B.stack?B.stack.replace(/^.+\n/,""):"";try{b.stack?R&&!String(b.stack).endsWith(R.replace(/^.+\n.+\n/,""))&&(b.stack+=`
`+R):b.stack=R}catch{}}throw b}}_request(x,y){typeof x=="string"?(y=y||{},y.url=x):y=x||{},y=mergeConfig$1(this.defaults,y);const{transitional:b,paramsSerializer:B,headers:R}=y;b!==void 0&&validator.assertOptions(b,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),B!=null&&(utils$1.isFunction(B)?y.paramsSerializer={serialize:B}:validator.assertOptions(B,{encode:validators.function,serialize:validators.function},!0)),y.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?y.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:y.allowAbsoluteUrls=!0),validator.assertOptions(y,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),y.method=(y.method||this.defaults.method||"get").toLowerCase();let I=R&&utils$1.merge(R.common,R[y.method]);R&&utils$1.forEach(["delete","get","head","post","put","patch","common"],xe=>{delete R[xe]}),y.headers=AxiosHeaders$1.concat(I,R);const O=[];let G=!0;this.interceptors.request.forEach(function(_e){typeof _e.runWhen=="function"&&_e.runWhen(y)===!1||(G=G&&_e.synchronous,O.unshift(_e.fulfilled,_e.rejected))});const q=[];this.interceptors.response.forEach(function(_e){q.push(_e.fulfilled,_e.rejected)});let ee,ne=0,oe;if(!G){const xe=[dispatchRequest.bind(this),void 0];for(xe.unshift(...O),xe.push(...q),oe=xe.length,ee=Promise.resolve(y);ne<oe;)ee=ee.then(xe[ne++],xe[ne++]);return ee}oe=O.length;let pe=y;for(;ne<oe;){const xe=O[ne++],_e=O[ne++];try{pe=xe(pe)}catch(Ue){_e.call(this,Ue);break}}try{ee=dispatchRequest.call(this,pe)}catch(xe){return Promise.reject(xe)}for(ne=0,oe=q.length;ne<oe;)ee=ee.then(q[ne++],q[ne++]);return ee}getUri(x){x=mergeConfig$1(this.defaults,x);const y=buildFullPath(x.baseURL,x.url,x.allowAbsoluteUrls);return buildURL(y,x.params,x.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(x){Axios$1.prototype[x]=function(y,b){return this.request(mergeConfig$1(b||{},{method:x,url:y,data:(b||{}).data}))}});utils$1.forEach(["post","put","patch"],function(x){function y(b){return function(R,I,O){return this.request(mergeConfig$1(O||{},{method:x,headers:b?{"Content-Type":"multipart/form-data"}:{},url:R,data:I}))}}Axios$1.prototype[x]=y(),Axios$1.prototype[x+"Form"]=y(!0)});let CancelToken$1=class Fh{constructor(x){if(typeof x!="function")throw new TypeError("executor must be a function.");let y;this.promise=new Promise(function(R){y=R});const b=this;this.promise.then(B=>{if(!b._listeners)return;let R=b._listeners.length;for(;R-- >0;)b._listeners[R](B);b._listeners=null}),this.promise.then=B=>{let R;const I=new Promise(O=>{b.subscribe(O),R=O}).then(B);return I.cancel=function(){b.unsubscribe(R)},I},x(function(R,I,O){b.reason||(b.reason=new CanceledError$1(R,I,O),y(b.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(x){if(this.reason){x(this.reason);return}this._listeners?this._listeners.push(x):this._listeners=[x]}unsubscribe(x){if(!this._listeners)return;const y=this._listeners.indexOf(x);y!==-1&&this._listeners.splice(y,1)}toAbortSignal(){const x=new AbortController,y=b=>{x.abort(b)};return this.subscribe(y),x.signal.unsubscribe=()=>this.unsubscribe(y),x.signal}static source(){let x;return{token:new Fh(function(B){x=B}),cancel:x}}};function spread$1(r){return function(y){return r.apply(null,y)}}function isAxiosError$1(r){return utils$1.isObject(r)&&r.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HttpStatusCode$1).forEach(([r,x])=>{HttpStatusCode$1[x]=r});function createInstance(r){const x=new Axios$1(r),y=bind$1(Axios$1.prototype.request,x);return utils$1.extend(y,Axios$1.prototype,x,{allOwnKeys:!0}),utils$1.extend(y,x,null,{allOwnKeys:!0}),y.create=function(B){return createInstance(mergeConfig$1(r,B))},y}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(x){return Promise.all(x)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=r=>formDataToJSON(utils$1.isHTMLForm(r)?new FormData(r):r);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios;/*! js-cookie v3.0.5 | MIT */function assign(r){for(var x=1;x<arguments.length;x++){var y=arguments[x];for(var b in y)r[b]=y[b]}return r}var defaultConverter={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init$3(r,x){function y(B,R,I){if(!(typeof document>"u")){I=assign({},x,I),typeof I.expires=="number"&&(I.expires=new Date(Date.now()+I.expires*864e5)),I.expires&&(I.expires=I.expires.toUTCString()),B=encodeURIComponent(B).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var O="";for(var G in I)I[G]&&(O+="; "+G,I[G]!==!0&&(O+="="+I[G].split(";")[0]));return document.cookie=B+"="+r.write(R,B)+O}}function b(B){if(!(typeof document>"u"||arguments.length&&!B)){for(var R=document.cookie?document.cookie.split("; "):[],I={},O=0;O<R.length;O++){var G=R[O].split("="),q=G.slice(1).join("=");try{var ee=decodeURIComponent(G[0]);if(I[ee]=r.read(q,ee),B===ee)break}catch{}}return B?I[B]:I}}return Object.create({set:y,get:b,remove:function(B,R){y(B,"",assign({},R,{expires:-1}))},withAttributes:function(B){return init$3(this.converter,assign({},this.attributes,B))},withConverter:function(B){return init$3(assign({},this.converter,B),this.attributes)}},{attributes:{value:Object.freeze(x)},converter:{value:Object.freeze(r)}})}var api=init$3(defaultConverter,{path:"/"});const JWT_Token$1="ACCESS_TOKEN",instance=axios.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0}),mapInstance=axios.create({baseURL:"",headers:{Accept:"application/json","x-ncp-apigw-api-key-id	":"ak7qbqrl2h","x-ncp-apigw-api-key":"ipf8w7WvX8OtkuGa9bWtbOCgneVoahiaOcmB7m7g"},withCredentials:!0}),userInstance=axios.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0});userInstance.interceptors.request.use(r=>{const x=api.get(JWT_Token$1);return x&&(r.headers.Authorization=`Bearer ${x}`),r},r=>Promise.reject(r));const UserContext=reactExports$1.createContext(),JWT_Token="ACCESS_TOKEN";function UserProvider({children:r}){const[x,y]=reactExports$1.useState(null),[b,B]=reactExports$1.useState(null),[R,I]=reactExports$1.useState(!0);reactExports$1.useEffect(()=>{(async()=>{const ne=api.get(JWT_Token);if(ne){B(ne);try{const oe=await userInstance.get("/api/users/me");y(oe.data)}catch{api.remove(JWT_Token,{path:"/"}),B(null),y(null)}}I(!1)})()},[]);const q={user:x,setUser:y,token:b,login:(ee,ne)=>{y(ee),B(ne),api.set(JWT_Token,ne,{expires:1,path:"/",secure:!0,sameSite:"Strict"})},logout:()=>{y(null),B(null),api.remove(JWT_Token,{path:"/"})},isLoading:R};return jsxRuntimeExports.jsx(UserContext.Provider,{value:q,children:r})}const useUser=()=>reactExports$1.useContext(UserContext),menuList$2=[{label:"",path:"/exhibitions"},{label:"",path:"/galleries"},{label:"",path:"/artworks"},{label:"",path:"/artists"},{label:"",path:"/notices"},{}],modalOverlay$a="_modalOverlay_1vr65_1",modalContainer$4="_modalContainer_1vr65_39",messageBox="_messageBox_1vr65_75",title$l="_title_1vr65_93",desc="_desc_1vr65_105",closeButton$b="_closeButton_1vr65_119",styles$1I={modalOverlay:modalOverlay$a,modalContainer:modalContainer$4,messageBox,title:title$l,desc,closeButton:closeButton$b};function LogoutModal({isOpen:r,onClose:x}){return r?jsxRuntimeExports.jsx("div",{className:styles$1I.modalOverlay,onClick:x,children:jsxRuntimeExports.jsxs("div",{className:styles$1I.modalContainer,onClick:y=>y.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$1I.messageBox,children:[jsxRuntimeExports.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginBottom:"1rem"},children:[jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#E8F3FF"}),jsxRuntimeExports.jsx("path",{d:"M7 12L10.5 15.5L17 9",stroke:"#3665F3",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),jsxRuntimeExports.jsx("h2",{className:styles$1I.title,children:" "}),jsxRuntimeExports.jsx("p",{className:styles$1I.desc,children:"  ."})]}),jsxRuntimeExports.jsx("button",{className:styles$1I.closeButton,onClick:x,children:""})]})}):null}function Menu({onOpen:r,isOpen:x}){const y=useNavigate(),{user:b,logout:B}=reactExports$1.useContext(UserContext),[R,I]=reactExports$1.useState(!1),O=()=>{I(!0)},G=()=>{api.remove("ACCESS_TOKEN"),B(),I(!1),r(),y("/")},q=(ee,ne=!1)=>{r(),ne?y(ee,{state:{activeTab:"MY"}}):y(ee)};return jsxRuntimeExports.jsxs("div",{className:styles$1J.overlay,onClick:r,children:[jsxRuntimeExports.jsx(LogoutModal,{isOpen:R,onClose:G}),jsxRuntimeExports.jsxs("div",{className:`${styles$1J.menuLayout} ${x?styles$1J.menuVisible:styles$1J.menuHidden}`,onClick:ee=>ee.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:styles$1J.closeContainer,children:jsxRuntimeExports.jsx("button",{className:styles$1J.closeButton,onClick:r})}),jsxRuntimeExports.jsxs("section",{className:styles$1J.menuSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$1J.userNickname,children:b?`${b.user_name} `:" "}),b&&b.admin_flag==="1"&&jsxRuntimeExports.jsx("div",{className:styles$1J.sidebarMenu,children:jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>q("/console/main"),children:" "})})]}),jsxRuntimeExports.jsx("hr",{className:styles$1J.divider}),jsxRuntimeExports.jsx("section",{className:styles$1J.menuSection,children:menuList$2.map(({name:ee,label:ne,path:oe})=>jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>q(oe),children:ne},ee))}),jsxRuntimeExports.jsx("hr",{className:styles$1J.divider}),jsxRuntimeExports.jsxs("section",{className:styles$1J.menuSection,children:[jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>q("/scan"),children:" "}),jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>{q("/mypage",!0)},children:" "}),jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>q("/nearby-galleries"),children:" "})]}),jsxRuntimeExports.jsx("hr",{className:styles$1J.divider}),jsxRuntimeExports.jsxs("section",{className:styles$1J.menuSection,children:[jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>q("/mypage"),children:""}),jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>q("/announcement"),children:" & FAQ"}),b?jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:O,children:""}):jsxRuntimeExports.jsx("span",{className:styles$1J.menuSpan,onClick:()=>q("/login"),children:""})]})]})]})}const navbarNavigation="_navbarNavigation_m2cq3_1",menuList$1="_menuList_m2cq3_39",menuItem="_menuItem_m2cq3_61",defaultLink$1="_defaultLink_m2cq3_81",activeLink="_activeLink_m2cq3_83",styles$1H={navbarNavigation,menuList:menuList$1,menuItem,defaultLink:defaultLink$1,activeLink};function NavBar(){const{pathname:r}=useLocation();return jsxRuntimeExports.jsx("nav",{className:styles$1H.navbarNavigation,children:jsxRuntimeExports.jsx("ul",{className:styles$1H.menuList,children:menuList$2.map(({label:x,path:y,index:b})=>jsxRuntimeExports.jsx("li",{className:`${styles$1H.menuItem} ${r===y&&styles$1H.currentMenu}`,children:jsxRuntimeExports.jsx(NavLink,{to:y,className:({isActive:B})=>B?styles$1H.activeLink:styles$1H.defaultLink,children:x})},`${x}-${b}`))})})}const IcMenu=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M2 12H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M2 4H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M2 20H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})]}),IcBell=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M12.0597 20.5674H7.94025M16.1791 7.17917C16.1791 5.54035 15.5282 3.96866 14.3694 2.80984C13.2105 1.65102 11.6388 1 9.99998 1C8.36116 1 6.78949 1.65102 5.63067 2.80984C4.47185 3.96866 3.82083 5.54035 3.82083 7.17917C3.82083 10.3616 3.01802 12.5406 2.12121 13.9818C1.36474 15.1976 0.986506 15.8054 1.00037 15.975C1.01573 16.1628 1.05551 16.2343 1.2068 16.3466C1.34346 16.4479 1.95945 16.4479 3.19143 16.4479H16.8086C18.0405 16.4479 18.6566 16.4479 18.7931 16.3466C18.9445 16.2343 18.9843 16.1628 18.9996 15.975C19.0135 15.8054 18.6353 15.1976 17.8788 13.9818C16.9819 12.5406 16.1791 10.3616 16.1791 7.17917Z",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});function Header(){const[r,x]=reactExports$1.useState(!1),{isDesktop:y}=useResponsive(),b=useNavigate(),{user:B}=reactExports$1.useContext(UserContext),R=()=>{x(!0),document.body.style.overflow="hidden"},I=()=>{x(!1),document.body.style.overflow="unset"},O=()=>{I(),b("/")},G=()=>{I(),B&&B.admin_flag==="1"?b("/console/notification"):b("/notifications")};return jsxRuntimeExports.jsxs("header",{className:styles$1K.headerLayout,children:[jsxRuntimeExports.jsx("span",{className:styles$1K.logoSpan,onClick:O,children:"ARTLY"}),y&&jsxRuntimeExports.jsx(NavBar,{}),jsxRuntimeExports.jsxs("div",{className:styles$1K.rightSection,children:[jsxRuntimeExports.jsx("button",{className:styles$1K.notificationButton,onClick:G,"aria-label":"",children:jsxRuntimeExports.jsx(IcBell,{})}),jsxRuntimeExports.jsx("button",{onClick:r?I:R,children:jsxRuntimeExports.jsx(IcMenu,{})})]}),r&&jsxRuntimeExports.jsx(Menu,{onOpen:I,isOpen:r})]})}const chatbotContainer="_chatbotContainer_7lepk_1",chatbotButton="_chatbotButton_7lepk_15",chatbotOverlay="_chatbotOverlay_7lepk_61",popupContainer="_popupContainer_7lepk_85",headerContainer="_headerContainer_7lepk_125",headerTitle="_headerTitle_7lepk_147",closeButton$a="_closeButton_7lepk_161",chatContainer="_chatContainer_7lepk_199",botMessageContainer="_botMessageContainer_7lepk_245",botProfile="_botProfile_7lepk_261",botContent="_botContent_7lepk_289",botName="_botName_7lepk_299",botBubble="_botBubble_7lepk_313",userMessageContainer="_userMessageContainer_7lepk_335",userBubble="_userBubble_7lepk_347",inputContainer$2="_inputContainer_7lepk_373",input$7="_input_7lepk_373",sendButton$1="_sendButton_7lepk_427",styles$1G={chatbotContainer,chatbotButton,chatbotOverlay,popupContainer,headerContainer,headerTitle,closeButton:closeButton$a,chatContainer,botMessageContainer,botProfile,botContent,botName,botBubble,userMessageContainer,userBubble,inputContainer:inputContainer$2,input:input$7,sendButton:sendButton$1};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$3=["attr","size","title"];function _objectWithoutProperties$2(r,x){if(r==null)return{};var y=_objectWithoutPropertiesLoose$2(r,x),b,B;if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(r);for(B=0;B<R.length;B++)b=R[B],!(x.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(r,b)&&(y[b]=r[b])}return y}function _objectWithoutPropertiesLoose$2(r,x){if(r==null)return{};var y={};for(var b in r)if(Object.prototype.hasOwnProperty.call(r,b)){if(x.indexOf(b)>=0)continue;y[b]=r[b]}return y}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(r){for(var x=1;x<arguments.length;x++){var y=arguments[x];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(r[b]=y[b])}return r},_extends$1.apply(this,arguments)}function ownKeys$3(r,x){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(r);x&&(b=b.filter(function(B){return Object.getOwnPropertyDescriptor(r,B).enumerable})),y.push.apply(y,b)}return y}function _objectSpread$2(r){for(var x=1;x<arguments.length;x++){var y=arguments[x]!=null?arguments[x]:{};x%2?ownKeys$3(Object(y),!0).forEach(function(b){_defineProperty$3(r,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):ownKeys$3(Object(y)).forEach(function(b){Object.defineProperty(r,b,Object.getOwnPropertyDescriptor(y,b))})}return r}function _defineProperty$3(r,x,y){return x=_toPropertyKey$1(x),x in r?Object.defineProperty(r,x,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[x]=y,r}function _toPropertyKey$1(r){var x=_toPrimitive$1(r,"string");return typeof x=="symbol"?x:x+""}function _toPrimitive$1(r,x){if(typeof r!="object"||!r)return r;var y=r[Symbol.toPrimitive];if(y!==void 0){var b=y.call(r,x);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(r)}function Tree2Element(r){return r&&r.map((x,y)=>React.createElement(x.tag,_objectSpread$2({key:y},x.attr),Tree2Element(x.child)))}function GenIcon(r){return x=>React.createElement(IconBase,_extends$1({attr:_objectSpread$2({},r.attr)},x),Tree2Element(r.child))}function IconBase(r){var x=y=>{var{attr:b,size:B,title:R}=r,I=_objectWithoutProperties$2(r,_excluded$3),O=B||y.size||"1em",G;return y.className&&(G=y.className),r.className&&(G=(G?G+" ":"")+r.className),React.createElement("svg",_extends$1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},y.attr,b,I,{className:G,style:_objectSpread$2(_objectSpread$2({color:r.color||y.color},y.style),r.style),height:O,width:O,xmlns:"http://www.w3.org/2000/svg"}),R&&React.createElement("title",null,R),r.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,y=>x(y)):x(DefaultContext)}function BsChatFill(r){return GenIcon({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9 9 0 0 0 8 15"},child:[]}]})(r)}function IoClose(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(r)}function IoMegaphoneOutline(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M407.94 52.22S321.3 160 240 160H80a16 16 0 0 0-16 16v96a16 16 0 0 0 16 16h160c81.3 0 167.94 108.23 167.94 108.23 6.06 8 24.06 2.52 24.06-9.83V62c0-12.31-17-18.82-24.06-9.78zM64 256s-16-6-16-32 16-32 16-32m384 54s16-4.33 16-22-16-22-16-22m-192-42v128M112 160v128"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M144 288v168a8 8 0 0 0 8 8h53a16 16 0 0 0 15.29-20.73C211.91 416.39 192 386.08 192 336h16a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-16"},child:[]}]})(r)}function IoSend(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(r)}function ChatbotWidget(){const{user:r}=useUser(),[x,y]=reactExports$1.useState(!1),[b,B]=reactExports$1.useState([{id:0,sender:"bot",text:`!   Artlas :)
 ?`}]),[R,I]=reactExports$1.useState(""),[O,G]=reactExports$1.useState(!1),q=reactExports$1.useRef(null),ee=r?userInstance:instance,ne=()=>b[b.length-1].id+1;reactExports$1.useEffect(()=>{var $e;($e=q.current)==null||$e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[b,x]);const oe=()=>{y($e=>!$e),x?document.body.style.overflow="unset":document.body.style.overflow="hidden"},pe=$e=>{I($e.target.value)},xe=async $e=>{const Ne={id:ne(),sender:"user",text:$e};B(We=>[...We,Ne]);const Qe={id:ne()+1,sender:"bot",text:"An error occured. Please report this to the service team."};try{G(!0);const We=await ee.post("/api/chats",{text:$e});Qe.text=We.data}catch(We){console.error("Error occurred while querying GPT:",We)}finally{G(!1)}B(We=>[...We,Qe])},_e=$e=>$e.split(/(\*\*[^\*]+\*\*)/g).map(Qe=>{if(Qe.startsWith("**")&&Qe.endsWith("**")){const We=Qe.slice(2,-2);return jsxRuntimeExports.jsx("b",{children:We},We)}return Qe}),Ue=$e=>{$e.key==="Enter"&&Le()},Le=()=>{const $e=R.trim();$e&&(xe($e),I(""))},He=$e=>{setTimeout(()=>{$e.target.scrollIntoView({behavior:"smooth",block:"nearest"})},300)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1G.chatbotContainer,children:jsxRuntimeExports.jsx("button",{className:styles$1G.chatbotButton,onClick:oe,children:jsxRuntimeExports.jsx(BsChatFill,{size:20})})}),x&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1G.chatbotOverlay,onClick:oe}),jsxRuntimeExports.jsxs("div",{className:styles$1G.popupContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$1G.headerContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1G.headerTitle,children:"Artly AI"}),jsxRuntimeExports.jsx("button",{className:styles$1G.closeButton,onClick:oe,children:jsxRuntimeExports.jsx(IoClose,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:styles$1G.chatContainer,children:[b.map($e=>jsxRuntimeExports.jsx("div",{className:$e.sender==="bot"?styles$1G.botMessageContainer:styles$1G.userMessageContainer,ref:q,children:$e.sender==="bot"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1G.botProfile,children:"A"}),jsxRuntimeExports.jsxs("div",{className:styles$1G.botContent,children:[jsxRuntimeExports.jsx("p",{className:styles$1G.botName,children:"Artlas"}),jsxRuntimeExports.jsx("div",{className:styles$1G.botBubble,children:_e($e.text)})]})]}):jsxRuntimeExports.jsx("div",{className:styles$1G.userBubble,children:$e.text})},$e.id)),O&&jsxRuntimeExports.jsxs("div",{className:styles$1G.botMessageContainer,ref:q,children:[jsxRuntimeExports.jsx("div",{className:styles$1G.botProfile,children:"A"}),jsxRuntimeExports.jsxs("div",{className:styles$1G.botContent,children:[jsxRuntimeExports.jsx("p",{className:styles$1G.botName,children:"Artlas"}),jsxRuntimeExports.jsx("div",{className:styles$1G.botBubble,children:"  ..."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$1G.inputContainer,children:[jsxRuntimeExports.jsx("input",{className:styles$1G.input,type:"text",value:R,onChange:pe,onKeyPress:Ue,onFocus:He,placeholder:"  ..."}),jsxRuntimeExports.jsx("button",{className:styles$1G.sendButton,onClick:Le,children:jsxRuntimeExports.jsx(IoSend,{size:20})})]})]})]})]})}function Layout(){const r=useLocation(),y=!["/login","/register","/mypage","/mypage/edit"].some(b=>r.pathname.startsWith(b));return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ScrollToTop,{}),jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexDirection:"column",flex:1},children:jsxRuntimeExports.jsx(Outlet,{})}),y&&jsxRuntimeExports.jsx(ChatbotWidget,{})]})}const footerLayout="_footerLayout_6sik4_1",linkContainer$1="_linkContainer_6sik4_27",link="_link_6sik4_27",divideSpan="_divideSpan_6sik4_61",infoContainer$4="_infoContainer_6sik4_71",styles$1F={footerLayout,linkContainer:linkContainer$1,link,divideSpan,infoContainer:infoContainer$4};function Footer(){return jsxRuntimeExports.jsxs("footer",{className:styles$1F.footerLayout,children:[jsxRuntimeExports.jsxs("div",{className:styles$1F.linkContainer,children:[jsxRuntimeExports.jsx(Link$1,{to:"/announcement",className:styles$1F.link,children:"&FAQ"}),jsxRuntimeExports.jsx("span",{className:styles$1F.divideSpan,children:"|"}),jsxRuntimeExports.jsx(Link$1,{to:"/termspolicy",className:styles$1F.link,children:"  "})]}),jsxRuntimeExports.jsxs("div",{className:styles$1F.infoContainer,children:[jsxRuntimeExports.jsx("p",{children:"()"}),jsxRuntimeExports.jsx("p",{children:" : 477-88-01191"}),jsxRuntimeExports.jsx("p",{children:"contact us : oddlemon@oddlemon.co.kr"})]}),jsxRuntimeExports.jsxs("p",{children:[" All rights reserved by"," ",jsxRuntimeExports.jsx("a",{href:"https://oddlemon.co.kr/",target:"_blank",rel:"noreferrer",children:"ODDLEMON Origin Inc."})]})]})}function AuthRoute(){const{user:r,isLoading:x}=reactExports$1.useContext(UserContext),y=useLocation();if(x)return jsxRuntimeExports.jsx("div",{children:" ..."});if(!r||!r.id)return jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0});const b=y.pathname!=="/notifications";return jsxRuntimeExports.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("div",{style:{flex:"1"},children:jsxRuntimeExports.jsx(Outlet,{})}),b&&jsxRuntimeExports.jsx(Footer,{})]})}const mainLayout="_mainLayout_114k4_1",tabContainer$1="_tabContainer_114k4_29",userText$1="_userText_114k4_47",itemContainer$1="_itemContainer_114k4_67",itemBox$1="_itemBox_114k4_95",itemIcon$1="_itemIcon_114k4_127",carouselContainer$1="_carouselContainer_114k4_137",styles$1E={mainLayout,tabContainer:tabContainer$1,userText:userText$1,itemContainer:itemContainer$1,itemBox:itemBox$1,itemIcon:itemIcon$1,carouselContainer:carouselContainer$1},carouselContainer="_carouselContainer_1o6e9_1",sliderWrapper="_sliderWrapper_1o6e9_21",slider$1="_slider_1o6e9_21",carouselItem="_carouselItem_1o6e9_47",carouselImage$1="_carouselImage_1o6e9_81",captionBox="_captionBox_1o6e9_105",title$k="_title_1o6e9_129",location$2="_location_1o6e9_145",detailButton="_detailButton_1o6e9_159",arrowButton="_arrowButton_1o6e9_201",left="_left_1o6e9_251",right="_right_1o6e9_257",dots="_dots_1o6e9_265",dot="_dot_1o6e9_265",active$6="_active_1o6e9_303",styles$1D={carouselContainer,sliderWrapper,slider:slider$1,carouselItem,carouselImage:carouselImage$1,captionBox,title:title$k,location:location$2,detailButton,arrowButton,left,right,dots,dot,active:active$6};function MainCarousel(){const[r,x]=reactExports$1.useState(0),[y,b]=reactExports$1.useState([]),B=reactExports$1.useRef(null),R=useNavigate();reactExports$1.useEffect(()=>(I(),()=>clearTimeout(B.current)),[r,y]);const I=()=>{clearTimeout(B.current),!(!y||y.length<=1)&&(B.current=setTimeout(()=>{x(ee=>(ee+1)%y.length)},5e3))},O=()=>{x(ee=>(ee-1+y.length)%y.length)},G=()=>{x(ee=>(ee+1)%y.length)},q=ee=>x(ee);return reactExports$1.useEffect(()=>{(async()=>{try{const oe=(await instance.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:pe,exhibition_poster:xe,exhibition_title:_e,exhibition_category:Ue,exhibition_status:Le,exhibition_start_date:He,exhibition_end_date:$e,exhibition_organization:Ne})=>({id:pe,image:xe,title:_e,category:Ue,status:Le,startDate:He,endDate:$e,organization:Ne}));b(oe)}catch(ne){console.error("     :",ne)}})()},[]),jsxRuntimeExports.jsxs("div",{className:styles$1D.carouselContainer,children:[jsxRuntimeExports.jsx("button",{className:`${styles$1D.arrowButton} ${styles$1D.left}`,onClick:O,children:""}),jsxRuntimeExports.jsx("div",{className:styles$1D.sliderWrapper,children:jsxRuntimeExports.jsx("div",{className:styles$1D.slider,style:{transform:`translateX(-${r*100}%)`},children:y.map(ee=>jsxRuntimeExports.jsxs("div",{className:styles$1D.carouselItem,children:[jsxRuntimeExports.jsx("img",{src:ee==null?void 0:ee.image,alt:(ee==null?void 0:ee.title)||(ee==null?void 0:ee.name),className:styles$1D.carouselImage}),jsxRuntimeExports.jsxs("div",{className:styles$1D.captionBox,children:[jsxRuntimeExports.jsx("h3",{className:styles$1D.title,children:ee==null?void 0:ee.title}),jsxRuntimeExports.jsxs("p",{className:styles$1D.location,children:[ee==null?void 0:ee.organization.name,jsxRuntimeExports.jsx("br",{}),(ee==null?void 0:ee.period)||`${ee==null?void 0:ee.startDate} ~ ${ee==null?void 0:ee.endDate}`]}),jsxRuntimeExports.jsx("button",{className:styles$1D.detailButton,onClick:()=>{R(`/exhibitions/${ee==null?void 0:ee.id}`)},children:" "})]})]},ee==null?void 0:ee.id))})}),jsxRuntimeExports.jsx("button",{className:`${styles$1D.arrowButton} ${styles$1D.right}`,onClick:G,children:""}),jsxRuntimeExports.jsx("div",{className:styles$1D.dots,children:y.map((ee,ne)=>jsxRuntimeExports.jsx("button",{onClick:()=>q(ne),className:`${styles$1D.dot} ${ne===r?styles$1D.active:""}`},ee==null?void 0:ee.id))})]})}function isObject$4(r){return r!==null&&typeof r=="object"&&"constructor"in r&&r.constructor===Object}function extend$2(r={},x={}){const y=["__proto__","constructor","prototype"];Object.keys(x).filter(b=>y.indexOf(b)<0).forEach(b=>{typeof r[b]>"u"?r[b]=x[b]:isObject$4(x[b])&&isObject$4(r[b])&&Object.keys(x[b]).length>0&&extend$2(r[b],x[b])})}const ssrDocument={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const r=typeof document<"u"?document:{};return extend$2(r,ssrDocument),r}const ssrWindow={document:ssrDocument,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(r){return typeof setTimeout>"u"?(r(),null):setTimeout(r,0)},cancelAnimationFrame(r){typeof setTimeout>"u"||clearTimeout(r)}};function getWindow(){const r=typeof window<"u"?window:{};return extend$2(r,ssrWindow),r}function classesToTokens(r=""){return r.trim().split(" ").filter(x=>!!x.trim())}function deleteProps$1(r){const x=r;Object.keys(x).forEach(y=>{try{x[y]=null}catch{}try{delete x[y]}catch{}})}function nextTick(r,x=0){return setTimeout(r,x)}function now(){return Date.now()}function getComputedStyle$1(r){const x=getWindow();let y;return x.getComputedStyle&&(y=x.getComputedStyle(r,null)),!y&&r.currentStyle&&(y=r.currentStyle),y||(y=r.style),y}function getTranslate(r,x="x"){const y=getWindow();let b,B,R;const I=getComputedStyle$1(r);return y.WebKitCSSMatrix?(B=I.transform||I.webkitTransform,B.split(",").length>6&&(B=B.split(", ").map(O=>O.replace(",",".")).join(", ")),R=new y.WebKitCSSMatrix(B==="none"?"":B)):(R=I.MozTransform||I.OTransform||I.MsTransform||I.msTransform||I.transform||I.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),b=R.toString().split(",")),x==="x"&&(y.WebKitCSSMatrix?B=R.m41:b.length===16?B=parseFloat(b[12]):B=parseFloat(b[4])),x==="y"&&(y.WebKitCSSMatrix?B=R.m42:b.length===16?B=parseFloat(b[13]):B=parseFloat(b[5])),B||0}function isObject$3(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"}function isNode(r){return typeof window<"u"&&typeof window.HTMLElement<"u"?r instanceof HTMLElement:r&&(r.nodeType===1||r.nodeType===11)}function extend$1(...r){const x=Object(r[0]),y=["__proto__","constructor","prototype"];for(let b=1;b<r.length;b+=1){const B=r[b];if(B!=null&&!isNode(B)){const R=Object.keys(Object(B)).filter(I=>y.indexOf(I)<0);for(let I=0,O=R.length;I<O;I+=1){const G=R[I],q=Object.getOwnPropertyDescriptor(B,G);q!==void 0&&q.enumerable&&(isObject$3(x[G])&&isObject$3(B[G])?B[G].__swiper__?x[G]=B[G]:extend$1(x[G],B[G]):!isObject$3(x[G])&&isObject$3(B[G])?(x[G]={},B[G].__swiper__?x[G]=B[G]:extend$1(x[G],B[G])):x[G]=B[G])}}}return x}function setCSSProperty(r,x,y){r.style.setProperty(x,y)}function animateCSSModeScroll({swiper:r,targetPosition:x,side:y}){const b=getWindow(),B=-r.translate;let R=null,I;const O=r.params.speed;r.wrapperEl.style.scrollSnapType="none",b.cancelAnimationFrame(r.cssModeFrameID);const G=x>B?"next":"prev",q=(ne,oe)=>G==="next"&&ne>=oe||G==="prev"&&ne<=oe,ee=()=>{I=new Date().getTime(),R===null&&(R=I);const ne=Math.max(Math.min((I-R)/O,1),0),oe=.5-Math.cos(ne*Math.PI)/2;let pe=B+oe*(x-B);if(q(pe,x)&&(pe=x),r.wrapperEl.scrollTo({[y]:pe}),q(pe,x)){r.wrapperEl.style.overflow="hidden",r.wrapperEl.style.scrollSnapType="",setTimeout(()=>{r.wrapperEl.style.overflow="",r.wrapperEl.scrollTo({[y]:pe})}),b.cancelAnimationFrame(r.cssModeFrameID);return}r.cssModeFrameID=b.requestAnimationFrame(ee)};ee()}function elementChildren(r,x=""){const y=getWindow(),b=[...r.children];return y.HTMLSlotElement&&r instanceof HTMLSlotElement&&b.push(...r.assignedElements()),x?b.filter(B=>B.matches(x)):b}function elementIsChildOfSlot(r,x){const y=[x];for(;y.length>0;){const b=y.shift();if(r===b)return!0;y.push(...b.children,...b.shadowRoot?b.shadowRoot.children:[],...b.assignedElements?b.assignedElements():[])}}function elementIsChildOf(r,x){const y=getWindow();let b=x.contains(r);return!b&&y.HTMLSlotElement&&x instanceof HTMLSlotElement&&(b=[...x.assignedElements()].includes(r),b||(b=elementIsChildOfSlot(r,x))),b}function showWarning(r){try{console.warn(r);return}catch{}}function createElement(r,x=[]){const y=document.createElement(r);return y.classList.add(...Array.isArray(x)?x:classesToTokens(x)),y}function elementPrevAll(r,x){const y=[];for(;r.previousElementSibling;){const b=r.previousElementSibling;x?b.matches(x)&&y.push(b):y.push(b),r=b}return y}function elementNextAll(r,x){const y=[];for(;r.nextElementSibling;){const b=r.nextElementSibling;x?b.matches(x)&&y.push(b):y.push(b),r=b}return y}function elementStyle(r,x){return getWindow().getComputedStyle(r,null).getPropertyValue(x)}function elementIndex(r){let x=r,y;if(x){for(y=0;(x=x.previousSibling)!==null;)x.nodeType===1&&(y+=1);return y}}function elementParents(r,x){const y=[];let b=r.parentElement;for(;b;)y.push(b),b=b.parentElement;return y}function elementOuterSize(r,x,y){const b=getWindow();return r[x==="width"?"offsetWidth":"offsetHeight"]+parseFloat(b.getComputedStyle(r,null).getPropertyValue(x==="width"?"margin-right":"margin-top"))+parseFloat(b.getComputedStyle(r,null).getPropertyValue(x==="width"?"margin-left":"margin-bottom"))}function makeElementsArray(r){return(Array.isArray(r)?r:[r]).filter(x=>!!x)}function setInnerHTML(r,x=""){typeof trustedTypes<"u"?r.innerHTML=trustedTypes.createPolicy("html",{createHTML:y=>y}).createHTML(x):r.innerHTML=x}let support;function calcSupport(){const r=getWindow(),x=getDocument();return{smoothScroll:x.documentElement&&x.documentElement.style&&"scrollBehavior"in x.documentElement.style,touch:!!("ontouchstart"in r||r.DocumentTouch&&x instanceof r.DocumentTouch)}}function getSupport(){return support||(support=calcSupport()),support}let deviceCached;function calcDevice({userAgent:r}={}){const x=getSupport(),y=getWindow(),b=y.navigator.platform,B=r||y.navigator.userAgent,R={ios:!1,android:!1},I=y.screen.width,O=y.screen.height,G=B.match(/(Android);?[\s\/]+([\d.]+)?/);let q=B.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const ee=B.match(/(iPod)(.*OS\s([\d_]+))?/),ne=!q&&B.match(/(iPhone\sOS|iOS)\s([\d_]+)/),oe=b==="Win32";let pe=b==="MacIntel";const xe=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!q&&pe&&x.touch&&xe.indexOf(`${I}x${O}`)>=0&&(q=B.match(/(Version)\/([\d.]+)/),q||(q=[0,1,"13_0_0"]),pe=!1),G&&!oe&&(R.os="android",R.android=!0),(q||ne||ee)&&(R.os="ios",R.ios=!0),R}function getDevice(r={}){return deviceCached||(deviceCached=calcDevice(r)),deviceCached}let browser$1;function calcBrowser(){const r=getWindow(),x=getDevice();let y=!1;function b(){const O=r.navigator.userAgent.toLowerCase();return O.indexOf("safari")>=0&&O.indexOf("chrome")<0&&O.indexOf("android")<0}if(b()){const O=String(r.navigator.userAgent);if(O.includes("Version/")){const[G,q]=O.split("Version/")[1].split(" ")[0].split(".").map(ee=>Number(ee));y=G<16||G===16&&q<2}}const B=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(r.navigator.userAgent),R=b(),I=R||B&&x.ios;return{isSafari:y||R,needPerspectiveFix:y,need3dFix:I,isWebView:B}}function getBrowser(){return browser$1||(browser$1=calcBrowser()),browser$1}function Resize({swiper:r,on:x,emit:y}){const b=getWindow();let B=null,R=null;const I=()=>{!r||r.destroyed||!r.initialized||(y("beforeResize"),y("resize"))},O=()=>{!r||r.destroyed||!r.initialized||(B=new ResizeObserver(ee=>{R=b.requestAnimationFrame(()=>{const{width:ne,height:oe}=r;let pe=ne,xe=oe;ee.forEach(({contentBoxSize:_e,contentRect:Ue,target:Le})=>{Le&&Le!==r.el||(pe=Ue?Ue.width:(_e[0]||_e).inlineSize,xe=Ue?Ue.height:(_e[0]||_e).blockSize)}),(pe!==ne||xe!==oe)&&I()})}),B.observe(r.el))},G=()=>{R&&b.cancelAnimationFrame(R),B&&B.unobserve&&r.el&&(B.unobserve(r.el),B=null)},q=()=>{!r||r.destroyed||!r.initialized||y("orientationchange")};x("init",()=>{if(r.params.resizeObserver&&typeof b.ResizeObserver<"u"){O();return}b.addEventListener("resize",I),b.addEventListener("orientationchange",q)}),x("destroy",()=>{G(),b.removeEventListener("resize",I),b.removeEventListener("orientationchange",q)})}function Observer({swiper:r,extendParams:x,on:y,emit:b}){const B=[],R=getWindow(),I=(q,ee={})=>{const ne=R.MutationObserver||R.WebkitMutationObserver,oe=new ne(pe=>{if(r.__preventObserver__)return;if(pe.length===1){b("observerUpdate",pe[0]);return}const xe=function(){b("observerUpdate",pe[0])};R.requestAnimationFrame?R.requestAnimationFrame(xe):R.setTimeout(xe,0)});oe.observe(q,{attributes:typeof ee.attributes>"u"?!0:ee.attributes,childList:r.isElement||(typeof ee.childList>"u"?!0:ee).childList,characterData:typeof ee.characterData>"u"?!0:ee.characterData}),B.push(oe)},O=()=>{if(r.params.observer){if(r.params.observeParents){const q=elementParents(r.hostEl);for(let ee=0;ee<q.length;ee+=1)I(q[ee])}I(r.hostEl,{childList:r.params.observeSlideChildren}),I(r.wrapperEl,{attributes:!1})}},G=()=>{B.forEach(q=>{q.disconnect()}),B.splice(0,B.length)};x({observer:!1,observeParents:!1,observeSlideChildren:!1}),y("init",O),y("destroy",G)}var eventsEmitter={on(r,x,y){const b=this;if(!b.eventsListeners||b.destroyed||typeof x!="function")return b;const B=y?"unshift":"push";return r.split(" ").forEach(R=>{b.eventsListeners[R]||(b.eventsListeners[R]=[]),b.eventsListeners[R][B](x)}),b},once(r,x,y){const b=this;if(!b.eventsListeners||b.destroyed||typeof x!="function")return b;function B(...R){b.off(r,B),B.__emitterProxy&&delete B.__emitterProxy,x.apply(b,R)}return B.__emitterProxy=x,b.on(r,B,y)},onAny(r,x){const y=this;if(!y.eventsListeners||y.destroyed||typeof r!="function")return y;const b=x?"unshift":"push";return y.eventsAnyListeners.indexOf(r)<0&&y.eventsAnyListeners[b](r),y},offAny(r){const x=this;if(!x.eventsListeners||x.destroyed||!x.eventsAnyListeners)return x;const y=x.eventsAnyListeners.indexOf(r);return y>=0&&x.eventsAnyListeners.splice(y,1),x},off(r,x){const y=this;return!y.eventsListeners||y.destroyed||!y.eventsListeners||r.split(" ").forEach(b=>{typeof x>"u"?y.eventsListeners[b]=[]:y.eventsListeners[b]&&y.eventsListeners[b].forEach((B,R)=>{(B===x||B.__emitterProxy&&B.__emitterProxy===x)&&y.eventsListeners[b].splice(R,1)})}),y},emit(...r){const x=this;if(!x.eventsListeners||x.destroyed||!x.eventsListeners)return x;let y,b,B;return typeof r[0]=="string"||Array.isArray(r[0])?(y=r[0],b=r.slice(1,r.length),B=x):(y=r[0].events,b=r[0].data,B=r[0].context||x),b.unshift(B),(Array.isArray(y)?y:y.split(" ")).forEach(I=>{x.eventsAnyListeners&&x.eventsAnyListeners.length&&x.eventsAnyListeners.forEach(O=>{O.apply(B,[I,...b])}),x.eventsListeners&&x.eventsListeners[I]&&x.eventsListeners[I].forEach(O=>{O.apply(B,b)})}),x}};function updateSize(){const r=this;let x,y;const b=r.el;typeof r.params.width<"u"&&r.params.width!==null?x=r.params.width:x=b.clientWidth,typeof r.params.height<"u"&&r.params.height!==null?y=r.params.height:y=b.clientHeight,!(x===0&&r.isHorizontal()||y===0&&r.isVertical())&&(x=x-parseInt(elementStyle(b,"padding-left")||0,10)-parseInt(elementStyle(b,"padding-right")||0,10),y=y-parseInt(elementStyle(b,"padding-top")||0,10)-parseInt(elementStyle(b,"padding-bottom")||0,10),Number.isNaN(x)&&(x=0),Number.isNaN(y)&&(y=0),Object.assign(r,{width:x,height:y,size:r.isHorizontal()?x:y}))}function updateSlides(){const r=this;function x(ut,ft){return parseFloat(ut.getPropertyValue(r.getDirectionLabel(ft))||0)}const y=r.params,{wrapperEl:b,slidesEl:B,rtlTranslate:R,wrongRTL:I}=r,O=r.virtual&&y.virtual.enabled,G=O?r.virtual.slides.length:r.slides.length,q=elementChildren(B,`.${r.params.slideClass}, swiper-slide`),ee=O?r.virtual.slides.length:q.length;let ne=[];const oe=[],pe=[];let xe=y.slidesOffsetBefore;typeof xe=="function"&&(xe=y.slidesOffsetBefore.call(r));let _e=y.slidesOffsetAfter;typeof _e=="function"&&(_e=y.slidesOffsetAfter.call(r));const Ue=r.snapGrid.length,Le=r.slidesGrid.length,He=r.size-xe-_e;let $e=y.spaceBetween,Ne=-xe,Qe=0,We=0;if(typeof He>"u")return;typeof $e=="string"&&$e.indexOf("%")>=0?$e=parseFloat($e.replace("%",""))/100*He:typeof $e=="string"&&($e=parseFloat($e)),r.virtualSize=-$e-xe-_e,q.forEach(ut=>{R?ut.style.marginLeft="":ut.style.marginRight="",ut.style.marginBottom="",ut.style.marginTop=""}),y.centeredSlides&&y.cssMode&&(setCSSProperty(b,"--swiper-centered-offset-before",""),setCSSProperty(b,"--swiper-centered-offset-after",""));const Ge=y.grid&&y.grid.rows>1&&r.grid;Ge?r.grid.initSlides(q):r.grid&&r.grid.unsetSlides();let Xe;const Je=y.slidesPerView==="auto"&&y.breakpoints&&Object.keys(y.breakpoints).filter(ut=>typeof y.breakpoints[ut].slidesPerView<"u").length>0;for(let ut=0;ut<ee;ut+=1){Xe=0;const ft=q[ut];if(!(ft&&(Ge&&r.grid.updateSlide(ut,ft,q),elementStyle(ft,"display")==="none"))){if(O&&y.slidesPerView==="auto")y.virtual.slidesPerViewAutoSlideSize&&(Xe=y.virtual.slidesPerViewAutoSlideSize),Xe&&ft&&(y.roundLengths&&(Xe=Math.floor(Xe)),ft.style[r.getDirectionLabel("width")]=`${Xe}px`);else if(y.slidesPerView==="auto"){Je&&(ft.style[r.getDirectionLabel("width")]="");const ct=getComputedStyle(ft),pt=ft.style.transform,yt=ft.style.webkitTransform;if(pt&&(ft.style.transform="none"),yt&&(ft.style.webkitTransform="none"),y.roundLengths)Xe=r.isHorizontal()?elementOuterSize(ft,"width"):elementOuterSize(ft,"height");else{const lt=x(ct,"width"),Ze=x(ct,"padding-left"),it=x(ct,"padding-right"),Ye=x(ct,"margin-left"),et=x(ct,"margin-right"),gt=ct.getPropertyValue("box-sizing");if(gt&&gt==="border-box")Xe=lt+Ye+et;else{const{clientWidth:st,offsetWidth:ht}=ft;Xe=lt+Ze+it+Ye+et+(ht-st)}}pt&&(ft.style.transform=pt),yt&&(ft.style.webkitTransform=yt),y.roundLengths&&(Xe=Math.floor(Xe))}else Xe=(He-(y.slidesPerView-1)*$e)/y.slidesPerView,y.roundLengths&&(Xe=Math.floor(Xe)),ft&&(ft.style[r.getDirectionLabel("width")]=`${Xe}px`);ft&&(ft.swiperSlideSize=Xe),pe.push(Xe),y.centeredSlides?(Ne=Ne+Xe/2+Qe/2+$e,Qe===0&&ut!==0&&(Ne=Ne-He/2-$e),ut===0&&(Ne=Ne-He/2-$e),Math.abs(Ne)<1/1e3&&(Ne=0),y.roundLengths&&(Ne=Math.floor(Ne)),We%y.slidesPerGroup===0&&ne.push(Ne),oe.push(Ne)):(y.roundLengths&&(Ne=Math.floor(Ne)),(We-Math.min(r.params.slidesPerGroupSkip,We))%r.params.slidesPerGroup===0&&ne.push(Ne),oe.push(Ne),Ne=Ne+Xe+$e),r.virtualSize+=Xe+$e,Qe=Xe,We+=1}}if(r.virtualSize=Math.max(r.virtualSize,He)+_e,R&&I&&(y.effect==="slide"||y.effect==="coverflow")&&(b.style.width=`${r.virtualSize+$e}px`),y.setWrapperSize&&(b.style[r.getDirectionLabel("width")]=`${r.virtualSize+$e}px`),Ge&&r.grid.updateWrapperSize(Xe,ne),!y.centeredSlides){const ut=[];for(let ft=0;ft<ne.length;ft+=1){let ct=ne[ft];y.roundLengths&&(ct=Math.floor(ct)),ne[ft]<=r.virtualSize-He&&ut.push(ct)}ne=ut,Math.floor(r.virtualSize-He)-Math.floor(ne[ne.length-1])>1&&ne.push(r.virtualSize-He)}if(O&&y.loop){const ut=pe[0]+$e;if(y.slidesPerGroup>1){const ft=Math.ceil((r.virtual.slidesBefore+r.virtual.slidesAfter)/y.slidesPerGroup),ct=ut*y.slidesPerGroup;for(let pt=0;pt<ft;pt+=1)ne.push(ne[ne.length-1]+ct)}for(let ft=0;ft<r.virtual.slidesBefore+r.virtual.slidesAfter;ft+=1)y.slidesPerGroup===1&&ne.push(ne[ne.length-1]+ut),oe.push(oe[oe.length-1]+ut),r.virtualSize+=ut}if(ne.length===0&&(ne=[0]),$e!==0){const ut=r.isHorizontal()&&R?"marginLeft":r.getDirectionLabel("marginRight");q.filter((ft,ct)=>!y.cssMode||y.loop?!0:ct!==q.length-1).forEach(ft=>{ft.style[ut]=`${$e}px`})}if(y.centeredSlides&&y.centeredSlidesBounds){let ut=0;pe.forEach(ct=>{ut+=ct+($e||0)}),ut-=$e;const ft=ut>He?ut-He:0;ne=ne.map(ct=>ct<=0?-xe:ct>ft?ft+_e:ct)}if(y.centerInsufficientSlides){let ut=0;pe.forEach(ct=>{ut+=ct+($e||0)}),ut-=$e;const ft=(xe||0)+(_e||0);if(ut+ft<He){const ct=(He-ut-ft)/2;ne.forEach((pt,yt)=>{ne[yt]=pt-ct}),oe.forEach((pt,yt)=>{oe[yt]=pt+ct})}}if(Object.assign(r,{slides:q,snapGrid:ne,slidesGrid:oe,slidesSizesGrid:pe}),y.centeredSlides&&y.cssMode&&!y.centeredSlidesBounds){setCSSProperty(b,"--swiper-centered-offset-before",`${-ne[0]}px`),setCSSProperty(b,"--swiper-centered-offset-after",`${r.size/2-pe[pe.length-1]/2}px`);const ut=-r.snapGrid[0],ft=-r.slidesGrid[0];r.snapGrid=r.snapGrid.map(ct=>ct+ut),r.slidesGrid=r.slidesGrid.map(ct=>ct+ft)}if(ee!==G&&r.emit("slidesLengthChange"),ne.length!==Ue&&(r.params.watchOverflow&&r.checkOverflow(),r.emit("snapGridLengthChange")),oe.length!==Le&&r.emit("slidesGridLengthChange"),y.watchSlidesProgress&&r.updateSlidesOffset(),r.emit("slidesUpdated"),!O&&!y.cssMode&&(y.effect==="slide"||y.effect==="fade")){const ut=`${y.containerModifierClass}backface-hidden`,ft=r.el.classList.contains(ut);ee<=y.maxBackfaceHiddenSlides?ft||r.el.classList.add(ut):ft&&r.el.classList.remove(ut)}}function updateAutoHeight(r){const x=this,y=[],b=x.virtual&&x.params.virtual.enabled;let B=0,R;typeof r=="number"?x.setTransition(r):r===!0&&x.setTransition(x.params.speed);const I=O=>b?x.slides[x.getSlideIndexByData(O)]:x.slides[O];if(x.params.slidesPerView!=="auto"&&x.params.slidesPerView>1)if(x.params.centeredSlides)(x.visibleSlides||[]).forEach(O=>{y.push(O)});else for(R=0;R<Math.ceil(x.params.slidesPerView);R+=1){const O=x.activeIndex+R;if(O>x.slides.length&&!b)break;y.push(I(O))}else y.push(I(x.activeIndex));for(R=0;R<y.length;R+=1)if(typeof y[R]<"u"){const O=y[R].offsetHeight;B=O>B?O:B}(B||B===0)&&(x.wrapperEl.style.height=`${B}px`)}function updateSlidesOffset(){const r=this,x=r.slides,y=r.isElement?r.isHorizontal()?r.wrapperEl.offsetLeft:r.wrapperEl.offsetTop:0;for(let b=0;b<x.length;b+=1)x[b].swiperSlideOffset=(r.isHorizontal()?x[b].offsetLeft:x[b].offsetTop)-y-r.cssOverflowAdjustment()}const toggleSlideClasses$1=(r,x,y)=>{x&&!r.classList.contains(y)?r.classList.add(y):!x&&r.classList.contains(y)&&r.classList.remove(y)};function updateSlidesProgress(r=this&&this.translate||0){const x=this,y=x.params,{slides:b,rtlTranslate:B,snapGrid:R}=x;if(b.length===0)return;typeof b[0].swiperSlideOffset>"u"&&x.updateSlidesOffset();let I=-r;B&&(I=r),x.visibleSlidesIndexes=[],x.visibleSlides=[];let O=y.spaceBetween;typeof O=="string"&&O.indexOf("%")>=0?O=parseFloat(O.replace("%",""))/100*x.size:typeof O=="string"&&(O=parseFloat(O));for(let G=0;G<b.length;G+=1){const q=b[G];let ee=q.swiperSlideOffset;y.cssMode&&y.centeredSlides&&(ee-=b[0].swiperSlideOffset);const ne=(I+(y.centeredSlides?x.minTranslate():0)-ee)/(q.swiperSlideSize+O),oe=(I-R[0]+(y.centeredSlides?x.minTranslate():0)-ee)/(q.swiperSlideSize+O),pe=-(I-ee),xe=pe+x.slidesSizesGrid[G],_e=pe>=0&&pe<=x.size-x.slidesSizesGrid[G],Ue=pe>=0&&pe<x.size-1||xe>1&&xe<=x.size||pe<=0&&xe>=x.size;Ue&&(x.visibleSlides.push(q),x.visibleSlidesIndexes.push(G)),toggleSlideClasses$1(q,Ue,y.slideVisibleClass),toggleSlideClasses$1(q,_e,y.slideFullyVisibleClass),q.progress=B?-ne:ne,q.originalProgress=B?-oe:oe}}function updateProgress(r){const x=this;if(typeof r>"u"){const ee=x.rtlTranslate?-1:1;r=x&&x.translate&&x.translate*ee||0}const y=x.params,b=x.maxTranslate()-x.minTranslate();let{progress:B,isBeginning:R,isEnd:I,progressLoop:O}=x;const G=R,q=I;if(b===0)B=0,R=!0,I=!0;else{B=(r-x.minTranslate())/b;const ee=Math.abs(r-x.minTranslate())<1,ne=Math.abs(r-x.maxTranslate())<1;R=ee||B<=0,I=ne||B>=1,ee&&(B=0),ne&&(B=1)}if(y.loop){const ee=x.getSlideIndexByData(0),ne=x.getSlideIndexByData(x.slides.length-1),oe=x.slidesGrid[ee],pe=x.slidesGrid[ne],xe=x.slidesGrid[x.slidesGrid.length-1],_e=Math.abs(r);_e>=oe?O=(_e-oe)/xe:O=(_e+xe-pe)/xe,O>1&&(O-=1)}Object.assign(x,{progress:B,progressLoop:O,isBeginning:R,isEnd:I}),(y.watchSlidesProgress||y.centeredSlides&&y.autoHeight)&&x.updateSlidesProgress(r),R&&!G&&x.emit("reachBeginning toEdge"),I&&!q&&x.emit("reachEnd toEdge"),(G&&!R||q&&!I)&&x.emit("fromEdge"),x.emit("progress",B)}const toggleSlideClasses=(r,x,y)=>{x&&!r.classList.contains(y)?r.classList.add(y):!x&&r.classList.contains(y)&&r.classList.remove(y)};function updateSlidesClasses(){const r=this,{slides:x,params:y,slidesEl:b,activeIndex:B}=r,R=r.virtual&&y.virtual.enabled,I=r.grid&&y.grid&&y.grid.rows>1,O=ne=>elementChildren(b,`.${y.slideClass}${ne}, swiper-slide${ne}`)[0];let G,q,ee;if(R)if(y.loop){let ne=B-r.virtual.slidesBefore;ne<0&&(ne=r.virtual.slides.length+ne),ne>=r.virtual.slides.length&&(ne-=r.virtual.slides.length),G=O(`[data-swiper-slide-index="${ne}"]`)}else G=O(`[data-swiper-slide-index="${B}"]`);else I?(G=x.find(ne=>ne.column===B),ee=x.find(ne=>ne.column===B+1),q=x.find(ne=>ne.column===B-1)):G=x[B];G&&(I||(ee=elementNextAll(G,`.${y.slideClass}, swiper-slide`)[0],y.loop&&!ee&&(ee=x[0]),q=elementPrevAll(G,`.${y.slideClass}, swiper-slide`)[0],y.loop&&!q===0&&(q=x[x.length-1]))),x.forEach(ne=>{toggleSlideClasses(ne,ne===G,y.slideActiveClass),toggleSlideClasses(ne,ne===ee,y.slideNextClass),toggleSlideClasses(ne,ne===q,y.slidePrevClass)}),r.emitSlidesClasses()}const processLazyPreloader=(r,x)=>{if(!r||r.destroyed||!r.params)return;const y=()=>r.isElement?"swiper-slide":`.${r.params.slideClass}`,b=x.closest(y());if(b){let B=b.querySelector(`.${r.params.lazyPreloaderClass}`);!B&&r.isElement&&(b.shadowRoot?B=b.shadowRoot.querySelector(`.${r.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{b.shadowRoot&&(B=b.shadowRoot.querySelector(`.${r.params.lazyPreloaderClass}`),B&&B.remove())})),B&&B.remove()}},unlazy=(r,x)=>{if(!r.slides[x])return;const y=r.slides[x].querySelector('[loading="lazy"]');y&&y.removeAttribute("loading")},preload=r=>{if(!r||r.destroyed||!r.params)return;let x=r.params.lazyPreloadPrevNext;const y=r.slides.length;if(!y||!x||x<0)return;x=Math.min(x,y);const b=r.params.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(r.params.slidesPerView),B=r.activeIndex;if(r.params.grid&&r.params.grid.rows>1){const I=B,O=[I-x];O.push(...Array.from({length:x}).map((G,q)=>I+b+q)),r.slides.forEach((G,q)=>{O.includes(G.column)&&unlazy(r,q)});return}const R=B+b-1;if(r.params.rewind||r.params.loop)for(let I=B-x;I<=R+x;I+=1){const O=(I%y+y)%y;(O<B||O>R)&&unlazy(r,O)}else for(let I=Math.max(B-x,0);I<=Math.min(R+x,y-1);I+=1)I!==B&&(I>R||I<B)&&unlazy(r,I)};function getActiveIndexByTranslate(r){const{slidesGrid:x,params:y}=r,b=r.rtlTranslate?r.translate:-r.translate;let B;for(let R=0;R<x.length;R+=1)typeof x[R+1]<"u"?b>=x[R]&&b<x[R+1]-(x[R+1]-x[R])/2?B=R:b>=x[R]&&b<x[R+1]&&(B=R+1):b>=x[R]&&(B=R);return y.normalizeSlideIndex&&(B<0||typeof B>"u")&&(B=0),B}function updateActiveIndex(r){const x=this,y=x.rtlTranslate?x.translate:-x.translate,{snapGrid:b,params:B,activeIndex:R,realIndex:I,snapIndex:O}=x;let G=r,q;const ee=pe=>{let xe=pe-x.virtual.slidesBefore;return xe<0&&(xe=x.virtual.slides.length+xe),xe>=x.virtual.slides.length&&(xe-=x.virtual.slides.length),xe};if(typeof G>"u"&&(G=getActiveIndexByTranslate(x)),b.indexOf(y)>=0)q=b.indexOf(y);else{const pe=Math.min(B.slidesPerGroupSkip,G);q=pe+Math.floor((G-pe)/B.slidesPerGroup)}if(q>=b.length&&(q=b.length-1),G===R&&!x.params.loop){q!==O&&(x.snapIndex=q,x.emit("snapIndexChange"));return}if(G===R&&x.params.loop&&x.virtual&&x.params.virtual.enabled){x.realIndex=ee(G);return}const ne=x.grid&&B.grid&&B.grid.rows>1;let oe;if(x.virtual&&B.virtual.enabled&&B.loop)oe=ee(G);else if(ne){const pe=x.slides.find(_e=>_e.column===G);let xe=parseInt(pe.getAttribute("data-swiper-slide-index"),10);Number.isNaN(xe)&&(xe=Math.max(x.slides.indexOf(pe),0)),oe=Math.floor(xe/B.grid.rows)}else if(x.slides[G]){const pe=x.slides[G].getAttribute("data-swiper-slide-index");pe?oe=parseInt(pe,10):oe=G}else oe=G;Object.assign(x,{previousSnapIndex:O,snapIndex:q,previousRealIndex:I,realIndex:oe,previousIndex:R,activeIndex:G}),x.initialized&&preload(x),x.emit("activeIndexChange"),x.emit("snapIndexChange"),(x.initialized||x.params.runCallbacksOnInit)&&(I!==oe&&x.emit("realIndexChange"),x.emit("slideChange"))}function updateClickedSlide(r,x){const y=this,b=y.params;let B=r.closest(`.${b.slideClass}, swiper-slide`);!B&&y.isElement&&x&&x.length>1&&x.includes(r)&&[...x.slice(x.indexOf(r)+1,x.length)].forEach(O=>{!B&&O.matches&&O.matches(`.${b.slideClass}, swiper-slide`)&&(B=O)});let R=!1,I;if(B){for(let O=0;O<y.slides.length;O+=1)if(y.slides[O]===B){R=!0,I=O;break}}if(B&&R)y.clickedSlide=B,y.virtual&&y.params.virtual.enabled?y.clickedIndex=parseInt(B.getAttribute("data-swiper-slide-index"),10):y.clickedIndex=I;else{y.clickedSlide=void 0,y.clickedIndex=void 0;return}b.slideToClickedSlide&&y.clickedIndex!==void 0&&y.clickedIndex!==y.activeIndex&&y.slideToClickedSlide()}var update$1={updateSize,updateSlides,updateAutoHeight,updateSlidesOffset,updateSlidesProgress,updateProgress,updateSlidesClasses,updateActiveIndex,updateClickedSlide};function getSwiperTranslate(r=this.isHorizontal()?"x":"y"){const x=this,{params:y,rtlTranslate:b,translate:B,wrapperEl:R}=x;if(y.virtualTranslate)return b?-B:B;if(y.cssMode)return B;let I=getTranslate(R,r);return I+=x.cssOverflowAdjustment(),b&&(I=-I),I||0}function setTranslate(r,x){const y=this,{rtlTranslate:b,params:B,wrapperEl:R,progress:I}=y;let O=0,G=0;const q=0;y.isHorizontal()?O=b?-r:r:G=r,B.roundLengths&&(O=Math.floor(O),G=Math.floor(G)),y.previousTranslate=y.translate,y.translate=y.isHorizontal()?O:G,B.cssMode?R[y.isHorizontal()?"scrollLeft":"scrollTop"]=y.isHorizontal()?-O:-G:B.virtualTranslate||(y.isHorizontal()?O-=y.cssOverflowAdjustment():G-=y.cssOverflowAdjustment(),R.style.transform=`translate3d(${O}px, ${G}px, ${q}px)`);let ee;const ne=y.maxTranslate()-y.minTranslate();ne===0?ee=0:ee=(r-y.minTranslate())/ne,ee!==I&&y.updateProgress(r),y.emit("setTranslate",y.translate,x)}function minTranslate(){return-this.snapGrid[0]}function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]}function translateTo(r=0,x=this.params.speed,y=!0,b=!0,B){const R=this,{params:I,wrapperEl:O}=R;if(R.animating&&I.preventInteractionOnTransition)return!1;const G=R.minTranslate(),q=R.maxTranslate();let ee;if(b&&r>G?ee=G:b&&r<q?ee=q:ee=r,R.updateProgress(ee),I.cssMode){const ne=R.isHorizontal();if(x===0)O[ne?"scrollLeft":"scrollTop"]=-ee;else{if(!R.support.smoothScroll)return animateCSSModeScroll({swiper:R,targetPosition:-ee,side:ne?"left":"top"}),!0;O.scrollTo({[ne?"left":"top"]:-ee,behavior:"smooth"})}return!0}return x===0?(R.setTransition(0),R.setTranslate(ee),y&&(R.emit("beforeTransitionStart",x,B),R.emit("transitionEnd"))):(R.setTransition(x),R.setTranslate(ee),y&&(R.emit("beforeTransitionStart",x,B),R.emit("transitionStart")),R.animating||(R.animating=!0,R.onTranslateToWrapperTransitionEnd||(R.onTranslateToWrapperTransitionEnd=function(oe){!R||R.destroyed||oe.target===this&&(R.wrapperEl.removeEventListener("transitionend",R.onTranslateToWrapperTransitionEnd),R.onTranslateToWrapperTransitionEnd=null,delete R.onTranslateToWrapperTransitionEnd,R.animating=!1,y&&R.emit("transitionEnd"))}),R.wrapperEl.addEventListener("transitionend",R.onTranslateToWrapperTransitionEnd))),!0}var translate={getTranslate:getSwiperTranslate,setTranslate,minTranslate,maxTranslate,translateTo};function setTransition(r,x){const y=this;y.params.cssMode||(y.wrapperEl.style.transitionDuration=`${r}ms`,y.wrapperEl.style.transitionDelay=r===0?"0ms":""),y.emit("setTransition",r,x)}function transitionEmit({swiper:r,runCallbacks:x,direction:y,step:b}){const{activeIndex:B,previousIndex:R}=r;let I=y;I||(B>R?I="next":B<R?I="prev":I="reset"),r.emit(`transition${b}`),x&&I==="reset"?r.emit(`slideResetTransition${b}`):x&&B!==R&&(r.emit(`slideChangeTransition${b}`),I==="next"?r.emit(`slideNextTransition${b}`):r.emit(`slidePrevTransition${b}`))}function transitionStart(r=!0,x){const y=this,{params:b}=y;b.cssMode||(b.autoHeight&&y.updateAutoHeight(),transitionEmit({swiper:y,runCallbacks:r,direction:x,step:"Start"}))}function transitionEnd(r=!0,x){const y=this,{params:b}=y;y.animating=!1,!b.cssMode&&(y.setTransition(0),transitionEmit({swiper:y,runCallbacks:r,direction:x,step:"End"}))}var transition={setTransition,transitionStart,transitionEnd};function slideTo(r=0,x,y=!0,b,B){typeof r=="string"&&(r=parseInt(r,10));const R=this;let I=r;I<0&&(I=0);const{params:O,snapGrid:G,slidesGrid:q,previousIndex:ee,activeIndex:ne,rtlTranslate:oe,wrapperEl:pe,enabled:xe}=R;if(!xe&&!b&&!B||R.destroyed||R.animating&&O.preventInteractionOnTransition)return!1;typeof x>"u"&&(x=R.params.speed);const _e=Math.min(R.params.slidesPerGroupSkip,I);let Ue=_e+Math.floor((I-_e)/R.params.slidesPerGroup);Ue>=G.length&&(Ue=G.length-1);const Le=-G[Ue];if(O.normalizeSlideIndex)for(let Ge=0;Ge<q.length;Ge+=1){const Xe=-Math.floor(Le*100),Je=Math.floor(q[Ge]*100),ut=Math.floor(q[Ge+1]*100);typeof q[Ge+1]<"u"?Xe>=Je&&Xe<ut-(ut-Je)/2?I=Ge:Xe>=Je&&Xe<ut&&(I=Ge+1):Xe>=Je&&(I=Ge)}if(R.initialized&&I!==ne&&(!R.allowSlideNext&&(oe?Le>R.translate&&Le>R.minTranslate():Le<R.translate&&Le<R.minTranslate())||!R.allowSlidePrev&&Le>R.translate&&Le>R.maxTranslate()&&(ne||0)!==I))return!1;I!==(ee||0)&&y&&R.emit("beforeSlideChangeStart"),R.updateProgress(Le);let He;I>ne?He="next":I<ne?He="prev":He="reset";const $e=R.virtual&&R.params.virtual.enabled;if(!($e&&B)&&(oe&&-Le===R.translate||!oe&&Le===R.translate))return R.updateActiveIndex(I),O.autoHeight&&R.updateAutoHeight(),R.updateSlidesClasses(),O.effect!=="slide"&&R.setTranslate(Le),He!=="reset"&&(R.transitionStart(y,He),R.transitionEnd(y,He)),!1;if(O.cssMode){const Ge=R.isHorizontal(),Xe=oe?Le:-Le;if(x===0)$e&&(R.wrapperEl.style.scrollSnapType="none",R._immediateVirtual=!0),$e&&!R._cssModeVirtualInitialSet&&R.params.initialSlide>0?(R._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{pe[Ge?"scrollLeft":"scrollTop"]=Xe})):pe[Ge?"scrollLeft":"scrollTop"]=Xe,$e&&requestAnimationFrame(()=>{R.wrapperEl.style.scrollSnapType="",R._immediateVirtual=!1});else{if(!R.support.smoothScroll)return animateCSSModeScroll({swiper:R,targetPosition:Xe,side:Ge?"left":"top"}),!0;pe.scrollTo({[Ge?"left":"top"]:Xe,behavior:"smooth"})}return!0}const We=getBrowser().isSafari;return $e&&!B&&We&&R.isElement&&R.virtual.update(!1,!1,I),R.setTransition(x),R.setTranslate(Le),R.updateActiveIndex(I),R.updateSlidesClasses(),R.emit("beforeTransitionStart",x,b),R.transitionStart(y,He),x===0?R.transitionEnd(y,He):R.animating||(R.animating=!0,R.onSlideToWrapperTransitionEnd||(R.onSlideToWrapperTransitionEnd=function(Xe){!R||R.destroyed||Xe.target===this&&(R.wrapperEl.removeEventListener("transitionend",R.onSlideToWrapperTransitionEnd),R.onSlideToWrapperTransitionEnd=null,delete R.onSlideToWrapperTransitionEnd,R.transitionEnd(y,He))}),R.wrapperEl.addEventListener("transitionend",R.onSlideToWrapperTransitionEnd)),!0}function slideToLoop(r=0,x,y=!0,b){typeof r=="string"&&(r=parseInt(r,10));const B=this;if(B.destroyed)return;typeof x>"u"&&(x=B.params.speed);const R=B.grid&&B.params.grid&&B.params.grid.rows>1;let I=r;if(B.params.loop)if(B.virtual&&B.params.virtual.enabled)I=I+B.virtual.slidesBefore;else{let O;if(R){const _e=I*B.params.grid.rows;O=B.slides.find(Ue=>Ue.getAttribute("data-swiper-slide-index")*1===_e).column}else O=B.getSlideIndexByData(I);const G=R?Math.ceil(B.slides.length/B.params.grid.rows):B.slides.length,{centeredSlides:q,slidesOffsetBefore:ee,slidesOffsetAfter:ne}=B.params,oe=q||!!ee||!!ne;let pe=B.params.slidesPerView;pe==="auto"?pe=B.slidesPerViewDynamic():(pe=Math.ceil(parseFloat(B.params.slidesPerView,10)),oe&&pe%2===0&&(pe=pe+1));let xe=G-O<pe;if(oe&&(xe=xe||O<Math.ceil(pe/2)),b&&oe&&B.params.slidesPerView!=="auto"&&!R&&(xe=!1),xe){const _e=oe?O<B.activeIndex?"prev":"next":O-B.activeIndex-1<B.params.slidesPerView?"next":"prev";B.loopFix({direction:_e,slideTo:!0,activeSlideIndex:_e==="next"?O+1:O-G+1,slideRealIndex:_e==="next"?B.realIndex:void 0})}if(R){const _e=I*B.params.grid.rows;I=B.slides.find(Ue=>Ue.getAttribute("data-swiper-slide-index")*1===_e).column}else I=B.getSlideIndexByData(I)}return requestAnimationFrame(()=>{B.slideTo(I,x,y,b)}),B}function slideNext(r,x=!0,y){const b=this,{enabled:B,params:R,animating:I}=b;if(!B||b.destroyed)return b;typeof r>"u"&&(r=b.params.speed);let O=R.slidesPerGroup;R.slidesPerView==="auto"&&R.slidesPerGroup===1&&R.slidesPerGroupAuto&&(O=Math.max(b.slidesPerViewDynamic("current",!0),1));const G=b.activeIndex<R.slidesPerGroupSkip?1:O,q=b.virtual&&R.virtual.enabled;if(R.loop){if(I&&!q&&R.loopPreventsSliding)return!1;if(b.loopFix({direction:"next"}),b._clientLeft=b.wrapperEl.clientLeft,b.activeIndex===b.slides.length-1&&R.cssMode)return requestAnimationFrame(()=>{b.slideTo(b.activeIndex+G,r,x,y)}),!0}return R.rewind&&b.isEnd?b.slideTo(0,r,x,y):b.slideTo(b.activeIndex+G,r,x,y)}function slidePrev(r,x=!0,y){const b=this,{params:B,snapGrid:R,slidesGrid:I,rtlTranslate:O,enabled:G,animating:q}=b;if(!G||b.destroyed)return b;typeof r>"u"&&(r=b.params.speed);const ee=b.virtual&&B.virtual.enabled;if(B.loop){if(q&&!ee&&B.loopPreventsSliding)return!1;b.loopFix({direction:"prev"}),b._clientLeft=b.wrapperEl.clientLeft}const ne=O?b.translate:-b.translate;function oe(He){return He<0?-Math.floor(Math.abs(He)):Math.floor(He)}const pe=oe(ne),xe=R.map(He=>oe(He)),_e=B.freeMode&&B.freeMode.enabled;let Ue=R[xe.indexOf(pe)-1];if(typeof Ue>"u"&&(B.cssMode||_e)){let He;R.forEach(($e,Ne)=>{pe>=$e&&(He=Ne)}),typeof He<"u"&&(Ue=_e?R[He]:R[He>0?He-1:He])}let Le=0;if(typeof Ue<"u"&&(Le=I.indexOf(Ue),Le<0&&(Le=b.activeIndex-1),B.slidesPerView==="auto"&&B.slidesPerGroup===1&&B.slidesPerGroupAuto&&(Le=Le-b.slidesPerViewDynamic("previous",!0)+1,Le=Math.max(Le,0))),B.rewind&&b.isBeginning){const He=b.params.virtual&&b.params.virtual.enabled&&b.virtual?b.virtual.slides.length-1:b.slides.length-1;return b.slideTo(He,r,x,y)}else if(B.loop&&b.activeIndex===0&&B.cssMode)return requestAnimationFrame(()=>{b.slideTo(Le,r,x,y)}),!0;return b.slideTo(Le,r,x,y)}function slideReset(r,x=!0,y){const b=this;if(!b.destroyed)return typeof r>"u"&&(r=b.params.speed),b.slideTo(b.activeIndex,r,x,y)}function slideToClosest(r,x=!0,y,b=.5){const B=this;if(B.destroyed)return;typeof r>"u"&&(r=B.params.speed);let R=B.activeIndex;const I=Math.min(B.params.slidesPerGroupSkip,R),O=I+Math.floor((R-I)/B.params.slidesPerGroup),G=B.rtlTranslate?B.translate:-B.translate;if(G>=B.snapGrid[O]){const q=B.snapGrid[O],ee=B.snapGrid[O+1];G-q>(ee-q)*b&&(R+=B.params.slidesPerGroup)}else{const q=B.snapGrid[O-1],ee=B.snapGrid[O];G-q<=(ee-q)*b&&(R-=B.params.slidesPerGroup)}return R=Math.max(R,0),R=Math.min(R,B.slidesGrid.length-1),B.slideTo(R,r,x,y)}function slideToClickedSlide(){const r=this;if(r.destroyed)return;const{params:x,slidesEl:y}=r,b=x.slidesPerView==="auto"?r.slidesPerViewDynamic():x.slidesPerView;let B=r.getSlideIndexWhenGrid(r.clickedIndex),R;const I=r.isElement?"swiper-slide":`.${x.slideClass}`,O=r.grid&&r.params.grid&&r.params.grid.rows>1;if(x.loop){if(r.animating)return;R=parseInt(r.clickedSlide.getAttribute("data-swiper-slide-index"),10),x.centeredSlides?r.slideToLoop(R):B>(O?(r.slides.length-b)/2-(r.params.grid.rows-1):r.slides.length-b)?(r.loopFix(),B=r.getSlideIndex(elementChildren(y,`${I}[data-swiper-slide-index="${R}"]`)[0]),nextTick(()=>{r.slideTo(B)})):r.slideTo(B)}else r.slideTo(B)}var slide$1={slideTo,slideToLoop,slideNext,slidePrev,slideReset,slideToClosest,slideToClickedSlide};function loopCreate(r,x){const y=this,{params:b,slidesEl:B}=y;if(!b.loop||y.virtual&&y.params.virtual.enabled)return;const R=()=>{elementChildren(B,`.${b.slideClass}, swiper-slide`).forEach((xe,_e)=>{xe.setAttribute("data-swiper-slide-index",_e)})},I=()=>{const pe=elementChildren(B,`.${b.slideBlankClass}`);pe.forEach(xe=>{xe.remove()}),pe.length>0&&(y.recalcSlides(),y.updateSlides())},O=y.grid&&b.grid&&b.grid.rows>1;b.loopAddBlankSlides&&(b.slidesPerGroup>1||O)&&I();const G=b.slidesPerGroup*(O?b.grid.rows:1),q=y.slides.length%G!==0,ee=O&&y.slides.length%b.grid.rows!==0,ne=pe=>{for(let xe=0;xe<pe;xe+=1){const _e=y.isElement?createElement("swiper-slide",[b.slideBlankClass]):createElement("div",[b.slideClass,b.slideBlankClass]);y.slidesEl.append(_e)}};if(q){if(b.loopAddBlankSlides){const pe=G-y.slides.length%G;ne(pe),y.recalcSlides(),y.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");R()}else if(ee){if(b.loopAddBlankSlides){const pe=b.grid.rows-y.slides.length%b.grid.rows;ne(pe),y.recalcSlides(),y.updateSlides()}else showWarning("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");R()}else R();const oe=b.centeredSlides||!!b.slidesOffsetBefore||!!b.slidesOffsetAfter;y.loopFix({slideRealIndex:r,direction:oe?void 0:"next",initial:x})}function loopFix({slideRealIndex:r,slideTo:x=!0,direction:y,setTranslate:b,activeSlideIndex:B,initial:R,byController:I,byMousewheel:O}={}){const G=this;if(!G.params.loop)return;G.emit("beforeLoopFix");const{slides:q,allowSlidePrev:ee,allowSlideNext:ne,slidesEl:oe,params:pe}=G,{centeredSlides:xe,slidesOffsetBefore:_e,slidesOffsetAfter:Ue,initialSlide:Le}=pe,He=xe||!!_e||!!Ue;if(G.allowSlidePrev=!0,G.allowSlideNext=!0,G.virtual&&pe.virtual.enabled){x&&(!He&&G.snapIndex===0?G.slideTo(G.virtual.slides.length,0,!1,!0):He&&G.snapIndex<pe.slidesPerView?G.slideTo(G.virtual.slides.length+G.snapIndex,0,!1,!0):G.snapIndex===G.snapGrid.length-1&&G.slideTo(G.virtual.slidesBefore,0,!1,!0)),G.allowSlidePrev=ee,G.allowSlideNext=ne,G.emit("loopFix");return}let $e=pe.slidesPerView;$e==="auto"?$e=G.slidesPerViewDynamic():($e=Math.ceil(parseFloat(pe.slidesPerView,10)),He&&$e%2===0&&($e=$e+1));const Ne=pe.slidesPerGroupAuto?$e:pe.slidesPerGroup;let Qe=He?Math.max(Ne,Math.ceil($e/2)):Ne;Qe%Ne!==0&&(Qe+=Ne-Qe%Ne),Qe+=pe.loopAdditionalSlides,G.loopedSlides=Qe;const We=G.grid&&pe.grid&&pe.grid.rows>1;q.length<$e+Qe||G.params.effect==="cards"&&q.length<$e+Qe*2?showWarning("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):We&&pe.grid.fill==="row"&&showWarning("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const Ge=[],Xe=[],Je=We?Math.ceil(q.length/pe.grid.rows):q.length,ut=R&&Je-Le<$e&&!He;let ft=ut?Le:G.activeIndex;typeof B>"u"?B=G.getSlideIndex(q.find(Ye=>Ye.classList.contains(pe.slideActiveClass))):ft=B;const ct=y==="next"||!y,pt=y==="prev"||!y;let yt=0,lt=0;const it=(We?q[B].column:B)+(He&&typeof b>"u"?-$e/2+.5:0);if(it<Qe){yt=Math.max(Qe-it,Ne);for(let Ye=0;Ye<Qe-it;Ye+=1){const et=Ye-Math.floor(Ye/Je)*Je;if(We){const gt=Je-et-1;for(let st=q.length-1;st>=0;st-=1)q[st].column===gt&&Ge.push(st)}else Ge.push(Je-et-1)}}else if(it+$e>Je-Qe){lt=Math.max(it-(Je-Qe*2),Ne),ut&&(lt=Math.max(lt,$e-Je+Le+1));for(let Ye=0;Ye<lt;Ye+=1){const et=Ye-Math.floor(Ye/Je)*Je;We?q.forEach((gt,st)=>{gt.column===et&&Xe.push(st)}):Xe.push(et)}}if(G.__preventObserver__=!0,requestAnimationFrame(()=>{G.__preventObserver__=!1}),G.params.effect==="cards"&&q.length<$e+Qe*2&&(Xe.includes(B)&&Xe.splice(Xe.indexOf(B),1),Ge.includes(B)&&Ge.splice(Ge.indexOf(B),1)),pt&&Ge.forEach(Ye=>{q[Ye].swiperLoopMoveDOM=!0,oe.prepend(q[Ye]),q[Ye].swiperLoopMoveDOM=!1}),ct&&Xe.forEach(Ye=>{q[Ye].swiperLoopMoveDOM=!0,oe.append(q[Ye]),q[Ye].swiperLoopMoveDOM=!1}),G.recalcSlides(),pe.slidesPerView==="auto"?G.updateSlides():We&&(Ge.length>0&&pt||Xe.length>0&&ct)&&G.slides.forEach((Ye,et)=>{G.grid.updateSlide(et,Ye,G.slides)}),pe.watchSlidesProgress&&G.updateSlidesOffset(),x){if(Ge.length>0&&pt){if(typeof r>"u"){const Ye=G.slidesGrid[ft],gt=G.slidesGrid[ft+yt]-Ye;O?G.setTranslate(G.translate-gt):(G.slideTo(ft+Math.ceil(yt),0,!1,!0),b&&(G.touchEventsData.startTranslate=G.touchEventsData.startTranslate-gt,G.touchEventsData.currentTranslate=G.touchEventsData.currentTranslate-gt))}else if(b){const Ye=We?Ge.length/pe.grid.rows:Ge.length;G.slideTo(G.activeIndex+Ye,0,!1,!0),G.touchEventsData.currentTranslate=G.translate}}else if(Xe.length>0&&ct)if(typeof r>"u"){const Ye=G.slidesGrid[ft],gt=G.slidesGrid[ft-lt]-Ye;O?G.setTranslate(G.translate-gt):(G.slideTo(ft-lt,0,!1,!0),b&&(G.touchEventsData.startTranslate=G.touchEventsData.startTranslate-gt,G.touchEventsData.currentTranslate=G.touchEventsData.currentTranslate-gt))}else{const Ye=We?Xe.length/pe.grid.rows:Xe.length;G.slideTo(G.activeIndex-Ye,0,!1,!0)}}if(G.allowSlidePrev=ee,G.allowSlideNext=ne,G.controller&&G.controller.control&&!I){const Ye={slideRealIndex:r,direction:y,setTranslate:b,activeSlideIndex:B,byController:!0};Array.isArray(G.controller.control)?G.controller.control.forEach(et=>{!et.destroyed&&et.params.loop&&et.loopFix({...Ye,slideTo:et.params.slidesPerView===pe.slidesPerView?x:!1})}):G.controller.control instanceof G.constructor&&G.controller.control.params.loop&&G.controller.control.loopFix({...Ye,slideTo:G.controller.control.params.slidesPerView===pe.slidesPerView?x:!1})}G.emit("loopFix")}function loopDestroy(){const r=this,{params:x,slidesEl:y}=r;if(!x.loop||!y||r.virtual&&r.params.virtual.enabled)return;r.recalcSlides();const b=[];r.slides.forEach(B=>{const R=typeof B.swiperSlideIndex>"u"?B.getAttribute("data-swiper-slide-index")*1:B.swiperSlideIndex;b[R]=B}),r.slides.forEach(B=>{B.removeAttribute("data-swiper-slide-index")}),b.forEach(B=>{y.append(B)}),r.recalcSlides(),r.slideTo(r.realIndex,0)}var loop={loopCreate,loopFix,loopDestroy};function setGrabCursor(r){const x=this;if(!x.params.simulateTouch||x.params.watchOverflow&&x.isLocked||x.params.cssMode)return;const y=x.params.touchEventsTarget==="container"?x.el:x.wrapperEl;x.isElement&&(x.__preventObserver__=!0),y.style.cursor="move",y.style.cursor=r?"grabbing":"grab",x.isElement&&requestAnimationFrame(()=>{x.__preventObserver__=!1})}function unsetGrabCursor(){const r=this;r.params.watchOverflow&&r.isLocked||r.params.cssMode||(r.isElement&&(r.__preventObserver__=!0),r[r.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",r.isElement&&requestAnimationFrame(()=>{r.__preventObserver__=!1}))}var grabCursor={setGrabCursor,unsetGrabCursor};function closestElement(r,x=this){function y(b){if(!b||b===getDocument()||b===getWindow())return null;b.assignedSlot&&(b=b.assignedSlot);const B=b.closest(r);return!B&&!b.getRootNode?null:B||y(b.getRootNode().host)}return y(x)}function preventEdgeSwipe(r,x,y){const b=getWindow(),{params:B}=r,R=B.edgeSwipeDetection,I=B.edgeSwipeThreshold;return R&&(y<=I||y>=b.innerWidth-I)?R==="prevent"?(x.preventDefault(),!0):!1:!0}function onTouchStart(r){const x=this,y=getDocument();let b=r;b.originalEvent&&(b=b.originalEvent);const B=x.touchEventsData;if(b.type==="pointerdown"){if(B.pointerId!==null&&B.pointerId!==b.pointerId)return;B.pointerId=b.pointerId}else b.type==="touchstart"&&b.targetTouches.length===1&&(B.touchId=b.targetTouches[0].identifier);if(b.type==="touchstart"){preventEdgeSwipe(x,b,b.targetTouches[0].pageX);return}const{params:R,touches:I,enabled:O}=x;if(!O||!R.simulateTouch&&b.pointerType==="mouse"||x.animating&&R.preventInteractionOnTransition)return;!x.animating&&R.cssMode&&R.loop&&x.loopFix();let G=b.target;if(R.touchEventsTarget==="wrapper"&&!elementIsChildOf(G,x.wrapperEl)||"which"in b&&b.which===3||"button"in b&&b.button>0||B.isTouched&&B.isMoved)return;const q=!!R.noSwipingClass&&R.noSwipingClass!=="",ee=b.composedPath?b.composedPath():b.path;q&&b.target&&b.target.shadowRoot&&ee&&(G=ee[0]);const ne=R.noSwipingSelector?R.noSwipingSelector:`.${R.noSwipingClass}`,oe=!!(b.target&&b.target.shadowRoot);if(R.noSwiping&&(oe?closestElement(ne,G):G.closest(ne))){x.allowClick=!0;return}if(R.swipeHandler&&!G.closest(R.swipeHandler))return;I.currentX=b.pageX,I.currentY=b.pageY;const pe=I.currentX,xe=I.currentY;if(!preventEdgeSwipe(x,b,pe))return;Object.assign(B,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),I.startX=pe,I.startY=xe,B.touchStartTime=now(),x.allowClick=!0,x.updateSize(),x.swipeDirection=void 0,R.threshold>0&&(B.allowThresholdMove=!1);let _e=!0;G.matches(B.focusableElements)&&(_e=!1,G.nodeName==="SELECT"&&(B.isTouched=!1)),y.activeElement&&y.activeElement.matches(B.focusableElements)&&y.activeElement!==G&&(b.pointerType==="mouse"||b.pointerType!=="mouse"&&!G.matches(B.focusableElements))&&y.activeElement.blur();const Ue=_e&&x.allowTouchMove&&R.touchStartPreventDefault;(R.touchStartForcePreventDefault||Ue)&&!G.isContentEditable&&b.preventDefault(),R.freeMode&&R.freeMode.enabled&&x.freeMode&&x.animating&&!R.cssMode&&x.freeMode.onTouchStart(),x.emit("touchStart",b)}function onTouchMove(r){const x=getDocument(),y=this,b=y.touchEventsData,{params:B,touches:R,rtlTranslate:I,enabled:O}=y;if(!O||!B.simulateTouch&&r.pointerType==="mouse")return;let G=r;if(G.originalEvent&&(G=G.originalEvent),G.type==="pointermove"&&(b.touchId!==null||G.pointerId!==b.pointerId))return;let q;if(G.type==="touchmove"){if(q=[...G.changedTouches].find(Qe=>Qe.identifier===b.touchId),!q||q.identifier!==b.touchId)return}else q=G;if(!b.isTouched){b.startMoving&&b.isScrolling&&y.emit("touchMoveOpposite",G);return}const ee=q.pageX,ne=q.pageY;if(G.preventedByNestedSwiper){R.startX=ee,R.startY=ne;return}if(!y.allowTouchMove){G.target.matches(b.focusableElements)||(y.allowClick=!1),b.isTouched&&(Object.assign(R,{startX:ee,startY:ne,currentX:ee,currentY:ne}),b.touchStartTime=now());return}if(B.touchReleaseOnEdges&&!B.loop)if(y.isVertical()){if(ne<R.startY&&y.translate<=y.maxTranslate()||ne>R.startY&&y.translate>=y.minTranslate()){b.isTouched=!1,b.isMoved=!1;return}}else{if(I&&(ee>R.startX&&-y.translate<=y.maxTranslate()||ee<R.startX&&-y.translate>=y.minTranslate()))return;if(!I&&(ee<R.startX&&y.translate<=y.maxTranslate()||ee>R.startX&&y.translate>=y.minTranslate()))return}if(x.activeElement&&x.activeElement.matches(b.focusableElements)&&x.activeElement!==G.target&&G.pointerType!=="mouse"&&x.activeElement.blur(),x.activeElement&&G.target===x.activeElement&&G.target.matches(b.focusableElements)){b.isMoved=!0,y.allowClick=!1;return}b.allowTouchCallbacks&&y.emit("touchMove",G),R.previousX=R.currentX,R.previousY=R.currentY,R.currentX=ee,R.currentY=ne;const oe=R.currentX-R.startX,pe=R.currentY-R.startY;if(y.params.threshold&&Math.sqrt(oe**2+pe**2)<y.params.threshold)return;if(typeof b.isScrolling>"u"){let Qe;y.isHorizontal()&&R.currentY===R.startY||y.isVertical()&&R.currentX===R.startX?b.isScrolling=!1:oe*oe+pe*pe>=25&&(Qe=Math.atan2(Math.abs(pe),Math.abs(oe))*180/Math.PI,b.isScrolling=y.isHorizontal()?Qe>B.touchAngle:90-Qe>B.touchAngle)}if(b.isScrolling&&y.emit("touchMoveOpposite",G),typeof b.startMoving>"u"&&(R.currentX!==R.startX||R.currentY!==R.startY)&&(b.startMoving=!0),b.isScrolling||G.type==="touchmove"&&b.preventTouchMoveFromPointerMove){b.isTouched=!1;return}if(!b.startMoving)return;y.allowClick=!1,!B.cssMode&&G.cancelable&&G.preventDefault(),B.touchMoveStopPropagation&&!B.nested&&G.stopPropagation();let xe=y.isHorizontal()?oe:pe,_e=y.isHorizontal()?R.currentX-R.previousX:R.currentY-R.previousY;B.oneWayMovement&&(xe=Math.abs(xe)*(I?1:-1),_e=Math.abs(_e)*(I?1:-1)),R.diff=xe,xe*=B.touchRatio,I&&(xe=-xe,_e=-_e);const Ue=y.touchesDirection;y.swipeDirection=xe>0?"prev":"next",y.touchesDirection=_e>0?"prev":"next";const Le=y.params.loop&&!B.cssMode,He=y.touchesDirection==="next"&&y.allowSlideNext||y.touchesDirection==="prev"&&y.allowSlidePrev;if(!b.isMoved){if(Le&&He&&y.loopFix({direction:y.swipeDirection}),b.startTranslate=y.getTranslate(),y.setTransition(0),y.animating){const Qe=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});y.wrapperEl.dispatchEvent(Qe)}b.allowMomentumBounce=!1,B.grabCursor&&(y.allowSlideNext===!0||y.allowSlidePrev===!0)&&y.setGrabCursor(!0),y.emit("sliderFirstMove",G)}if(new Date().getTime(),B._loopSwapReset!==!1&&b.isMoved&&b.allowThresholdMove&&Ue!==y.touchesDirection&&Le&&He&&Math.abs(xe)>=1){Object.assign(R,{startX:ee,startY:ne,currentX:ee,currentY:ne,startTranslate:b.currentTranslate}),b.loopSwapReset=!0,b.startTranslate=b.currentTranslate;return}y.emit("sliderMove",G),b.isMoved=!0,b.currentTranslate=xe+b.startTranslate;let $e=!0,Ne=B.resistanceRatio;if(B.touchReleaseOnEdges&&(Ne=0),xe>0?(Le&&He&&b.allowThresholdMove&&b.currentTranslate>(B.centeredSlides?y.minTranslate()-y.slidesSizesGrid[y.activeIndex+1]-(B.slidesPerView!=="auto"&&y.slides.length-B.slidesPerView>=2?y.slidesSizesGrid[y.activeIndex+1]+y.params.spaceBetween:0)-y.params.spaceBetween:y.minTranslate())&&y.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),b.currentTranslate>y.minTranslate()&&($e=!1,B.resistance&&(b.currentTranslate=y.minTranslate()-1+(-y.minTranslate()+b.startTranslate+xe)**Ne))):xe<0&&(Le&&He&&b.allowThresholdMove&&b.currentTranslate<(B.centeredSlides?y.maxTranslate()+y.slidesSizesGrid[y.slidesSizesGrid.length-1]+y.params.spaceBetween+(B.slidesPerView!=="auto"&&y.slides.length-B.slidesPerView>=2?y.slidesSizesGrid[y.slidesSizesGrid.length-1]+y.params.spaceBetween:0):y.maxTranslate())&&y.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:y.slides.length-(B.slidesPerView==="auto"?y.slidesPerViewDynamic():Math.ceil(parseFloat(B.slidesPerView,10)))}),b.currentTranslate<y.maxTranslate()&&($e=!1,B.resistance&&(b.currentTranslate=y.maxTranslate()+1-(y.maxTranslate()-b.startTranslate-xe)**Ne))),$e&&(G.preventedByNestedSwiper=!0),!y.allowSlideNext&&y.swipeDirection==="next"&&b.currentTranslate<b.startTranslate&&(b.currentTranslate=b.startTranslate),!y.allowSlidePrev&&y.swipeDirection==="prev"&&b.currentTranslate>b.startTranslate&&(b.currentTranslate=b.startTranslate),!y.allowSlidePrev&&!y.allowSlideNext&&(b.currentTranslate=b.startTranslate),B.threshold>0)if(Math.abs(xe)>B.threshold||b.allowThresholdMove){if(!b.allowThresholdMove){b.allowThresholdMove=!0,R.startX=R.currentX,R.startY=R.currentY,b.currentTranslate=b.startTranslate,R.diff=y.isHorizontal()?R.currentX-R.startX:R.currentY-R.startY;return}}else{b.currentTranslate=b.startTranslate;return}!B.followFinger||B.cssMode||((B.freeMode&&B.freeMode.enabled&&y.freeMode||B.watchSlidesProgress)&&(y.updateActiveIndex(),y.updateSlidesClasses()),B.freeMode&&B.freeMode.enabled&&y.freeMode&&y.freeMode.onTouchMove(),y.updateProgress(b.currentTranslate),y.setTranslate(b.currentTranslate))}function onTouchEnd(r){const x=this,y=x.touchEventsData;let b=r;b.originalEvent&&(b=b.originalEvent);let B;if(b.type==="touchend"||b.type==="touchcancel"){if(B=[...b.changedTouches].find(Qe=>Qe.identifier===y.touchId),!B||B.identifier!==y.touchId)return}else{if(y.touchId!==null||b.pointerId!==y.pointerId)return;B=b}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(b.type)&&!(["pointercancel","contextmenu"].includes(b.type)&&(x.browser.isSafari||x.browser.isWebView)))return;y.pointerId=null,y.touchId=null;const{params:I,touches:O,rtlTranslate:G,slidesGrid:q,enabled:ee}=x;if(!ee||!I.simulateTouch&&b.pointerType==="mouse")return;if(y.allowTouchCallbacks&&x.emit("touchEnd",b),y.allowTouchCallbacks=!1,!y.isTouched){y.isMoved&&I.grabCursor&&x.setGrabCursor(!1),y.isMoved=!1,y.startMoving=!1;return}I.grabCursor&&y.isMoved&&y.isTouched&&(x.allowSlideNext===!0||x.allowSlidePrev===!0)&&x.setGrabCursor(!1);const ne=now(),oe=ne-y.touchStartTime;if(x.allowClick){const Qe=b.path||b.composedPath&&b.composedPath();x.updateClickedSlide(Qe&&Qe[0]||b.target,Qe),x.emit("tap click",b),oe<300&&ne-y.lastClickTime<300&&x.emit("doubleTap doubleClick",b)}if(y.lastClickTime=now(),nextTick(()=>{x.destroyed||(x.allowClick=!0)}),!y.isTouched||!y.isMoved||!x.swipeDirection||O.diff===0&&!y.loopSwapReset||y.currentTranslate===y.startTranslate&&!y.loopSwapReset){y.isTouched=!1,y.isMoved=!1,y.startMoving=!1;return}y.isTouched=!1,y.isMoved=!1,y.startMoving=!1;let pe;if(I.followFinger?pe=G?x.translate:-x.translate:pe=-y.currentTranslate,I.cssMode)return;if(I.freeMode&&I.freeMode.enabled){x.freeMode.onTouchEnd({currentPos:pe});return}const xe=pe>=-x.maxTranslate()&&!x.params.loop;let _e=0,Ue=x.slidesSizesGrid[0];for(let Qe=0;Qe<q.length;Qe+=Qe<I.slidesPerGroupSkip?1:I.slidesPerGroup){const We=Qe<I.slidesPerGroupSkip-1?1:I.slidesPerGroup;typeof q[Qe+We]<"u"?(xe||pe>=q[Qe]&&pe<q[Qe+We])&&(_e=Qe,Ue=q[Qe+We]-q[Qe]):(xe||pe>=q[Qe])&&(_e=Qe,Ue=q[q.length-1]-q[q.length-2])}let Le=null,He=null;I.rewind&&(x.isBeginning?He=I.virtual&&I.virtual.enabled&&x.virtual?x.virtual.slides.length-1:x.slides.length-1:x.isEnd&&(Le=0));const $e=(pe-q[_e])/Ue,Ne=_e<I.slidesPerGroupSkip-1?1:I.slidesPerGroup;if(oe>I.longSwipesMs){if(!I.longSwipes){x.slideTo(x.activeIndex);return}x.swipeDirection==="next"&&($e>=I.longSwipesRatio?x.slideTo(I.rewind&&x.isEnd?Le:_e+Ne):x.slideTo(_e)),x.swipeDirection==="prev"&&($e>1-I.longSwipesRatio?x.slideTo(_e+Ne):He!==null&&$e<0&&Math.abs($e)>I.longSwipesRatio?x.slideTo(He):x.slideTo(_e))}else{if(!I.shortSwipes){x.slideTo(x.activeIndex);return}x.navigation&&(b.target===x.navigation.nextEl||b.target===x.navigation.prevEl)?b.target===x.navigation.nextEl?x.slideTo(_e+Ne):x.slideTo(_e):(x.swipeDirection==="next"&&x.slideTo(Le!==null?Le:_e+Ne),x.swipeDirection==="prev"&&x.slideTo(He!==null?He:_e))}}function onResize(){const r=this,{params:x,el:y}=r;if(y&&y.offsetWidth===0)return;x.breakpoints&&r.setBreakpoint();const{allowSlideNext:b,allowSlidePrev:B,snapGrid:R}=r,I=r.virtual&&r.params.virtual.enabled;r.allowSlideNext=!0,r.allowSlidePrev=!0,r.updateSize(),r.updateSlides(),r.updateSlidesClasses();const O=I&&x.loop;(x.slidesPerView==="auto"||x.slidesPerView>1)&&r.isEnd&&!r.isBeginning&&!r.params.centeredSlides&&!O?r.slideTo(r.slides.length-1,0,!1,!0):r.params.loop&&!I?r.slideToLoop(r.realIndex,0,!1,!0):r.slideTo(r.activeIndex,0,!1,!0),r.autoplay&&r.autoplay.running&&r.autoplay.paused&&(clearTimeout(r.autoplay.resizeTimeout),r.autoplay.resizeTimeout=setTimeout(()=>{r.autoplay&&r.autoplay.running&&r.autoplay.paused&&r.autoplay.resume()},500)),r.allowSlidePrev=B,r.allowSlideNext=b,r.params.watchOverflow&&R!==r.snapGrid&&r.checkOverflow()}function onClick(r){const x=this;x.enabled&&(x.allowClick||(x.params.preventClicks&&r.preventDefault(),x.params.preventClicksPropagation&&x.animating&&(r.stopPropagation(),r.stopImmediatePropagation())))}function onScroll(){const r=this,{wrapperEl:x,rtlTranslate:y,enabled:b}=r;if(!b)return;r.previousTranslate=r.translate,r.isHorizontal()?r.translate=-x.scrollLeft:r.translate=-x.scrollTop,r.translate===0&&(r.translate=0),r.updateActiveIndex(),r.updateSlidesClasses();let B;const R=r.maxTranslate()-r.minTranslate();R===0?B=0:B=(r.translate-r.minTranslate())/R,B!==r.progress&&r.updateProgress(y?-r.translate:r.translate),r.emit("setTranslate",r.translate,!1)}function onLoad(r){const x=this;processLazyPreloader(x,r.target),!(x.params.cssMode||x.params.slidesPerView!=="auto"&&!x.params.autoHeight)&&x.update()}function onDocumentTouchStart(){const r=this;r.documentTouchHandlerProceeded||(r.documentTouchHandlerProceeded=!0,r.params.touchReleaseOnEdges&&(r.el.style.touchAction="auto"))}const events=(r,x)=>{const y=getDocument(),{params:b,el:B,wrapperEl:R,device:I}=r,O=!!b.nested,G=x==="on"?"addEventListener":"removeEventListener",q=x;!B||typeof B=="string"||(y[G]("touchstart",r.onDocumentTouchStart,{passive:!1,capture:O}),B[G]("touchstart",r.onTouchStart,{passive:!1}),B[G]("pointerdown",r.onTouchStart,{passive:!1}),y[G]("touchmove",r.onTouchMove,{passive:!1,capture:O}),y[G]("pointermove",r.onTouchMove,{passive:!1,capture:O}),y[G]("touchend",r.onTouchEnd,{passive:!0}),y[G]("pointerup",r.onTouchEnd,{passive:!0}),y[G]("pointercancel",r.onTouchEnd,{passive:!0}),y[G]("touchcancel",r.onTouchEnd,{passive:!0}),y[G]("pointerout",r.onTouchEnd,{passive:!0}),y[G]("pointerleave",r.onTouchEnd,{passive:!0}),y[G]("contextmenu",r.onTouchEnd,{passive:!0}),(b.preventClicks||b.preventClicksPropagation)&&B[G]("click",r.onClick,!0),b.cssMode&&R[G]("scroll",r.onScroll),b.updateOnWindowResize?r[q](I.ios||I.android?"resize orientationchange observerUpdate":"resize observerUpdate",onResize,!0):r[q]("observerUpdate",onResize,!0),B[G]("load",r.onLoad,{capture:!0}))};function attachEvents(){const r=this,{params:x}=r;r.onTouchStart=onTouchStart.bind(r),r.onTouchMove=onTouchMove.bind(r),r.onTouchEnd=onTouchEnd.bind(r),r.onDocumentTouchStart=onDocumentTouchStart.bind(r),x.cssMode&&(r.onScroll=onScroll.bind(r)),r.onClick=onClick.bind(r),r.onLoad=onLoad.bind(r),events(r,"on")}function detachEvents(){events(this,"off")}var events$1={attachEvents,detachEvents};const isGridEnabled=(r,x)=>r.grid&&x.grid&&x.grid.rows>1;function setBreakpoint(){const r=this,{realIndex:x,initialized:y,params:b,el:B}=r,R=b.breakpoints;if(!R||R&&Object.keys(R).length===0)return;const I=getDocument(),O=b.breakpointsBase==="window"||!b.breakpointsBase?b.breakpointsBase:"container",G=["window","container"].includes(b.breakpointsBase)||!b.breakpointsBase?r.el:I.querySelector(b.breakpointsBase),q=r.getBreakpoint(R,O,G);if(!q||r.currentBreakpoint===q)return;const ne=(q in R?R[q]:void 0)||r.originalParams,oe=isGridEnabled(r,b),pe=isGridEnabled(r,ne),xe=r.params.grabCursor,_e=ne.grabCursor,Ue=b.enabled;oe&&!pe?(B.classList.remove(`${b.containerModifierClass}grid`,`${b.containerModifierClass}grid-column`),r.emitContainerClasses()):!oe&&pe&&(B.classList.add(`${b.containerModifierClass}grid`),(ne.grid.fill&&ne.grid.fill==="column"||!ne.grid.fill&&b.grid.fill==="column")&&B.classList.add(`${b.containerModifierClass}grid-column`),r.emitContainerClasses()),xe&&!_e?r.unsetGrabCursor():!xe&&_e&&r.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(We=>{if(typeof ne[We]>"u")return;const Ge=b[We]&&b[We].enabled,Xe=ne[We]&&ne[We].enabled;Ge&&!Xe&&r[We].disable(),!Ge&&Xe&&r[We].enable()});const Le=ne.direction&&ne.direction!==b.direction,He=b.loop&&(ne.slidesPerView!==b.slidesPerView||Le),$e=b.loop;Le&&y&&r.changeDirection(),extend$1(r.params,ne);const Ne=r.params.enabled,Qe=r.params.loop;Object.assign(r,{allowTouchMove:r.params.allowTouchMove,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev}),Ue&&!Ne?r.disable():!Ue&&Ne&&r.enable(),r.currentBreakpoint=q,r.emit("_beforeBreakpoint",ne),y&&(He?(r.loopDestroy(),r.loopCreate(x),r.updateSlides()):!$e&&Qe?(r.loopCreate(x),r.updateSlides()):$e&&!Qe&&r.loopDestroy()),r.emit("breakpoint",ne)}function getBreakpoint(r,x="window",y){if(!r||x==="container"&&!y)return;let b=!1;const B=getWindow(),R=x==="window"?B.innerHeight:y.clientHeight,I=Object.keys(r).map(O=>{if(typeof O=="string"&&O.indexOf("@")===0){const G=parseFloat(O.substr(1));return{value:R*G,point:O}}return{value:O,point:O}});I.sort((O,G)=>parseInt(O.value,10)-parseInt(G.value,10));for(let O=0;O<I.length;O+=1){const{point:G,value:q}=I[O];x==="window"?B.matchMedia(`(min-width: ${q}px)`).matches&&(b=G):q<=y.clientWidth&&(b=G)}return b||"max"}var breakpoints={setBreakpoint,getBreakpoint};function prepareClasses(r,x){const y=[];return r.forEach(b=>{typeof b=="object"?Object.keys(b).forEach(B=>{b[B]&&y.push(x+B)}):typeof b=="string"&&y.push(x+b)}),y}function addClasses(){const r=this,{classNames:x,params:y,rtl:b,el:B,device:R}=r,I=prepareClasses(["initialized",y.direction,{"free-mode":r.params.freeMode&&y.freeMode.enabled},{autoheight:y.autoHeight},{rtl:b},{grid:y.grid&&y.grid.rows>1},{"grid-column":y.grid&&y.grid.rows>1&&y.grid.fill==="column"},{android:R.android},{ios:R.ios},{"css-mode":y.cssMode},{centered:y.cssMode&&y.centeredSlides},{"watch-progress":y.watchSlidesProgress}],y.containerModifierClass);x.push(...I),B.classList.add(...x),r.emitContainerClasses()}function removeClasses(){const r=this,{el:x,classNames:y}=r;!x||typeof x=="string"||(x.classList.remove(...y),r.emitContainerClasses())}var classes={addClasses,removeClasses};function checkOverflow(){const r=this,{isLocked:x,params:y}=r,{slidesOffsetBefore:b}=y;if(b){const B=r.slides.length-1,R=r.slidesGrid[B]+r.slidesSizesGrid[B]+b*2;r.isLocked=r.size>R}else r.isLocked=r.snapGrid.length===1;y.allowSlideNext===!0&&(r.allowSlideNext=!r.isLocked),y.allowSlidePrev===!0&&(r.allowSlidePrev=!r.isLocked),x&&x!==r.isLocked&&(r.isEnd=!1),x!==r.isLocked&&r.emit(r.isLocked?"lock":"unlock")}var checkOverflow$1={checkOverflow},defaults$1={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams(r,x){return function(b={}){const B=Object.keys(b)[0],R=b[B];if(typeof R!="object"||R===null){extend$1(x,b);return}if(r[B]===!0&&(r[B]={enabled:!0}),B==="navigation"&&r[B]&&r[B].enabled&&!r[B].prevEl&&!r[B].nextEl&&(r[B].auto=!0),["pagination","scrollbar"].indexOf(B)>=0&&r[B]&&r[B].enabled&&!r[B].el&&(r[B].auto=!0),!(B in r&&"enabled"in R)){extend$1(x,b);return}typeof r[B]=="object"&&!("enabled"in r[B])&&(r[B].enabled=!0),r[B]||(r[B]={enabled:!1}),extend$1(x,b)}}const prototypes={eventsEmitter,update:update$1,translate,transition,slide:slide$1,loop,grabCursor,events:events$1,breakpoints,checkOverflow:checkOverflow$1,classes},extendedDefaults={};let Swiper$1=class Vi{constructor(...x){let y,b;x.length===1&&x[0].constructor&&Object.prototype.toString.call(x[0]).slice(8,-1)==="Object"?b=x[0]:[y,b]=x,b||(b={}),b=extend$1({},b),y&&!b.el&&(b.el=y);const B=getDocument();if(b.el&&typeof b.el=="string"&&B.querySelectorAll(b.el).length>1){const G=[];return B.querySelectorAll(b.el).forEach(q=>{const ee=extend$1({},b,{el:q});G.push(new Vi(ee))}),G}const R=this;R.__swiper__=!0,R.support=getSupport(),R.device=getDevice({userAgent:b.userAgent}),R.browser=getBrowser(),R.eventsListeners={},R.eventsAnyListeners=[],R.modules=[...R.__modules__],b.modules&&Array.isArray(b.modules)&&R.modules.push(...b.modules);const I={};R.modules.forEach(G=>{G({params:b,swiper:R,extendParams:moduleExtendParams(b,I),on:R.on.bind(R),once:R.once.bind(R),off:R.off.bind(R),emit:R.emit.bind(R)})});const O=extend$1({},defaults$1,I);return R.params=extend$1({},O,extendedDefaults,b),R.originalParams=extend$1({},R.params),R.passedParams=extend$1({},b),R.params&&R.params.on&&Object.keys(R.params.on).forEach(G=>{R.on(G,R.params.on[G])}),R.params&&R.params.onAny&&R.onAny(R.params.onAny),Object.assign(R,{enabled:R.params.enabled,el:y,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return R.params.direction==="horizontal"},isVertical(){return R.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:R.params.allowSlideNext,allowSlidePrev:R.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:R.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:R.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),R.emit("_swiper"),R.params.init&&R.init(),R}getDirectionLabel(x){return this.isHorizontal()?x:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[x]}getSlideIndex(x){const{slidesEl:y,params:b}=this,B=elementChildren(y,`.${b.slideClass}, swiper-slide`),R=elementIndex(B[0]);return elementIndex(x)-R}getSlideIndexByData(x){return this.getSlideIndex(this.slides.find(y=>y.getAttribute("data-swiper-slide-index")*1===x))}getSlideIndexWhenGrid(x){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?x=Math.floor(x/this.params.grid.rows):this.params.grid.fill==="row"&&(x=x%Math.ceil(this.slides.length/this.params.grid.rows))),x}recalcSlides(){const x=this,{slidesEl:y,params:b}=x;x.slides=elementChildren(y,`.${b.slideClass}, swiper-slide`)}enable(){const x=this;x.enabled||(x.enabled=!0,x.params.grabCursor&&x.setGrabCursor(),x.emit("enable"))}disable(){const x=this;x.enabled&&(x.enabled=!1,x.params.grabCursor&&x.unsetGrabCursor(),x.emit("disable"))}setProgress(x,y){const b=this;x=Math.min(Math.max(x,0),1);const B=b.minTranslate(),I=(b.maxTranslate()-B)*x+B;b.translateTo(I,typeof y>"u"?0:y),b.updateActiveIndex(),b.updateSlidesClasses()}emitContainerClasses(){const x=this;if(!x.params._emitClasses||!x.el)return;const y=x.el.className.split(" ").filter(b=>b.indexOf("swiper")===0||b.indexOf(x.params.containerModifierClass)===0);x.emit("_containerClasses",y.join(" "))}getSlideClasses(x){const y=this;return y.destroyed?"":x.className.split(" ").filter(b=>b.indexOf("swiper-slide")===0||b.indexOf(y.params.slideClass)===0).join(" ")}emitSlidesClasses(){const x=this;if(!x.params._emitClasses||!x.el)return;const y=[];x.slides.forEach(b=>{const B=x.getSlideClasses(b);y.push({slideEl:b,classNames:B}),x.emit("_slideClass",b,B)}),x.emit("_slideClasses",y)}slidesPerViewDynamic(x="current",y=!1){const b=this,{params:B,slides:R,slidesGrid:I,slidesSizesGrid:O,size:G,activeIndex:q}=b;let ee=1;if(typeof B.slidesPerView=="number")return B.slidesPerView;if(B.centeredSlides){let ne=R[q]?Math.ceil(R[q].swiperSlideSize):0,oe;for(let pe=q+1;pe<R.length;pe+=1)R[pe]&&!oe&&(ne+=Math.ceil(R[pe].swiperSlideSize),ee+=1,ne>G&&(oe=!0));for(let pe=q-1;pe>=0;pe-=1)R[pe]&&!oe&&(ne+=R[pe].swiperSlideSize,ee+=1,ne>G&&(oe=!0))}else if(x==="current")for(let ne=q+1;ne<R.length;ne+=1)(y?I[ne]+O[ne]-I[q]<G:I[ne]-I[q]<G)&&(ee+=1);else for(let ne=q-1;ne>=0;ne-=1)I[q]-I[ne]<G&&(ee+=1);return ee}update(){const x=this;if(!x||x.destroyed)return;const{snapGrid:y,params:b}=x;b.breakpoints&&x.setBreakpoint(),[...x.el.querySelectorAll('[loading="lazy"]')].forEach(I=>{I.complete&&processLazyPreloader(x,I)}),x.updateSize(),x.updateSlides(),x.updateProgress(),x.updateSlidesClasses();function B(){const I=x.rtlTranslate?x.translate*-1:x.translate,O=Math.min(Math.max(I,x.maxTranslate()),x.minTranslate());x.setTranslate(O),x.updateActiveIndex(),x.updateSlidesClasses()}let R;if(b.freeMode&&b.freeMode.enabled&&!b.cssMode)B(),b.autoHeight&&x.updateAutoHeight();else{if((b.slidesPerView==="auto"||b.slidesPerView>1)&&x.isEnd&&!b.centeredSlides){const I=x.virtual&&b.virtual.enabled?x.virtual.slides:x.slides;R=x.slideTo(I.length-1,0,!1,!0)}else R=x.slideTo(x.activeIndex,0,!1,!0);R||B()}b.watchOverflow&&y!==x.snapGrid&&x.checkOverflow(),x.emit("update")}changeDirection(x,y=!0){const b=this,B=b.params.direction;return x||(x=B==="horizontal"?"vertical":"horizontal"),x===B||x!=="horizontal"&&x!=="vertical"||(b.el.classList.remove(`${b.params.containerModifierClass}${B}`),b.el.classList.add(`${b.params.containerModifierClass}${x}`),b.emitContainerClasses(),b.params.direction=x,b.slides.forEach(R=>{x==="vertical"?R.style.width="":R.style.height=""}),b.emit("changeDirection"),y&&b.update()),b}changeLanguageDirection(x){const y=this;y.rtl&&x==="rtl"||!y.rtl&&x==="ltr"||(y.rtl=x==="rtl",y.rtlTranslate=y.params.direction==="horizontal"&&y.rtl,y.rtl?(y.el.classList.add(`${y.params.containerModifierClass}rtl`),y.el.dir="rtl"):(y.el.classList.remove(`${y.params.containerModifierClass}rtl`),y.el.dir="ltr"),y.update())}mount(x){const y=this;if(y.mounted)return!0;let b=x||y.params.el;if(typeof b=="string"&&(b=document.querySelector(b)),!b)return!1;b.swiper=y,b.parentNode&&b.parentNode.host&&b.parentNode.host.nodeName===y.params.swiperElementNodeName.toUpperCase()&&(y.isElement=!0);const B=()=>`.${(y.params.wrapperClass||"").trim().split(" ").join(".")}`;let I=b&&b.shadowRoot&&b.shadowRoot.querySelector?b.shadowRoot.querySelector(B()):elementChildren(b,B())[0];return!I&&y.params.createElements&&(I=createElement("div",y.params.wrapperClass),b.append(I),elementChildren(b,`.${y.params.slideClass}`).forEach(O=>{I.append(O)})),Object.assign(y,{el:b,wrapperEl:I,slidesEl:y.isElement&&!b.parentNode.host.slideSlots?b.parentNode.host:I,hostEl:y.isElement?b.parentNode.host:b,mounted:!0,rtl:b.dir.toLowerCase()==="rtl"||elementStyle(b,"direction")==="rtl",rtlTranslate:y.params.direction==="horizontal"&&(b.dir.toLowerCase()==="rtl"||elementStyle(b,"direction")==="rtl"),wrongRTL:elementStyle(I,"display")==="-webkit-box"}),!0}init(x){const y=this;if(y.initialized||y.mount(x)===!1)return y;y.emit("beforeInit"),y.params.breakpoints&&y.setBreakpoint(),y.addClasses(),y.updateSize(),y.updateSlides(),y.params.watchOverflow&&y.checkOverflow(),y.params.grabCursor&&y.enabled&&y.setGrabCursor(),y.params.loop&&y.virtual&&y.params.virtual.enabled?y.slideTo(y.params.initialSlide+y.virtual.slidesBefore,0,y.params.runCallbacksOnInit,!1,!0):y.slideTo(y.params.initialSlide,0,y.params.runCallbacksOnInit,!1,!0),y.params.loop&&y.loopCreate(void 0,!0),y.attachEvents();const B=[...y.el.querySelectorAll('[loading="lazy"]')];return y.isElement&&B.push(...y.hostEl.querySelectorAll('[loading="lazy"]')),B.forEach(R=>{R.complete?processLazyPreloader(y,R):R.addEventListener("load",I=>{processLazyPreloader(y,I.target)})}),preload(y),y.initialized=!0,preload(y),y.emit("init"),y.emit("afterInit"),y}destroy(x=!0,y=!0){const b=this,{params:B,el:R,wrapperEl:I,slides:O}=b;return typeof b.params>"u"||b.destroyed||(b.emit("beforeDestroy"),b.initialized=!1,b.detachEvents(),B.loop&&b.loopDestroy(),y&&(b.removeClasses(),R&&typeof R!="string"&&R.removeAttribute("style"),I&&I.removeAttribute("style"),O&&O.length&&O.forEach(G=>{G.classList.remove(B.slideVisibleClass,B.slideFullyVisibleClass,B.slideActiveClass,B.slideNextClass,B.slidePrevClass),G.removeAttribute("style"),G.removeAttribute("data-swiper-slide-index")})),b.emit("destroy"),Object.keys(b.eventsListeners).forEach(G=>{b.off(G)}),x!==!1&&(b.el&&typeof b.el!="string"&&(b.el.swiper=null),deleteProps$1(b)),b.destroyed=!0),null}static extendDefaults(x){extend$1(extendedDefaults,x)}static get extendedDefaults(){return extendedDefaults}static get defaults(){return defaults$1}static installModule(x){Vi.prototype.__modules__||(Vi.prototype.__modules__=[]);const y=Vi.prototype.__modules__;typeof x=="function"&&y.indexOf(x)<0&&y.push(x)}static use(x){return Array.isArray(x)?(x.forEach(y=>Vi.installModule(y)),Vi):(Vi.installModule(x),Vi)}};Object.keys(prototypes).forEach(r=>{Object.keys(prototypes[r]).forEach(x=>{Swiper$1.prototype[x]=prototypes[r][x]})});Swiper$1.use([Resize,Observer]);const paramsList=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function isObject$2(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"&&!r.__swiper__}function extend(r,x){const y=["__proto__","constructor","prototype"];Object.keys(x).filter(b=>y.indexOf(b)<0).forEach(b=>{typeof r[b]>"u"?r[b]=x[b]:isObject$2(x[b])&&isObject$2(r[b])&&Object.keys(x[b]).length>0?x[b].__swiper__?r[b]=x[b]:extend(r[b],x[b]):r[b]=x[b]})}function needsNavigation(r={}){return r.navigation&&typeof r.navigation.nextEl>"u"&&typeof r.navigation.prevEl>"u"}function needsPagination(r={}){return r.pagination&&typeof r.pagination.el>"u"}function needsScrollbar(r={}){return r.scrollbar&&typeof r.scrollbar.el>"u"}function uniqueClasses(r=""){const x=r.split(" ").map(b=>b.trim()).filter(b=>!!b),y=[];return x.forEach(b=>{y.indexOf(b)<0&&y.push(b)}),y.join(" ")}function wrapperClass(r=""){return r?r.includes("swiper-wrapper")?r:`swiper-wrapper ${r}`:"swiper-wrapper"}function updateSwiper({swiper:r,slides:x,passedParams:y,changedParams:b,nextEl:B,prevEl:R,scrollbarEl:I,paginationEl:O}){const G=b.filter(Xe=>Xe!=="children"&&Xe!=="direction"&&Xe!=="wrapperClass"),{params:q,pagination:ee,navigation:ne,scrollbar:oe,virtual:pe,thumbs:xe}=r;let _e,Ue,Le,He,$e,Ne,Qe,We;b.includes("thumbs")&&y.thumbs&&y.thumbs.swiper&&!y.thumbs.swiper.destroyed&&q.thumbs&&(!q.thumbs.swiper||q.thumbs.swiper.destroyed)&&(_e=!0),b.includes("controller")&&y.controller&&y.controller.control&&q.controller&&!q.controller.control&&(Ue=!0),b.includes("pagination")&&y.pagination&&(y.pagination.el||O)&&(q.pagination||q.pagination===!1)&&ee&&!ee.el&&(Le=!0),b.includes("scrollbar")&&y.scrollbar&&(y.scrollbar.el||I)&&(q.scrollbar||q.scrollbar===!1)&&oe&&!oe.el&&(He=!0),b.includes("navigation")&&y.navigation&&(y.navigation.prevEl||R)&&(y.navigation.nextEl||B)&&(q.navigation||q.navigation===!1)&&ne&&!ne.prevEl&&!ne.nextEl&&($e=!0);const Ge=Xe=>{r[Xe]&&(r[Xe].destroy(),Xe==="navigation"?(r.isElement&&(r[Xe].prevEl.remove(),r[Xe].nextEl.remove()),q[Xe].prevEl=void 0,q[Xe].nextEl=void 0,r[Xe].prevEl=void 0,r[Xe].nextEl=void 0):(r.isElement&&r[Xe].el.remove(),q[Xe].el=void 0,r[Xe].el=void 0))};b.includes("loop")&&r.isElement&&(q.loop&&!y.loop?Ne=!0:!q.loop&&y.loop?Qe=!0:We=!0),G.forEach(Xe=>{if(isObject$2(q[Xe])&&isObject$2(y[Xe]))Object.assign(q[Xe],y[Xe]),(Xe==="navigation"||Xe==="pagination"||Xe==="scrollbar")&&"enabled"in y[Xe]&&!y[Xe].enabled&&Ge(Xe);else{const Je=y[Xe];(Je===!0||Je===!1)&&(Xe==="navigation"||Xe==="pagination"||Xe==="scrollbar")?Je===!1&&Ge(Xe):q[Xe]=y[Xe]}}),G.includes("controller")&&!Ue&&r.controller&&r.controller.control&&q.controller&&q.controller.control&&(r.controller.control=q.controller.control),b.includes("children")&&x&&pe&&q.virtual.enabled?(pe.slides=x,pe.update(!0)):b.includes("virtual")&&pe&&q.virtual.enabled&&(x&&(pe.slides=x),pe.update(!0)),b.includes("children")&&x&&q.loop&&(We=!0),_e&&xe.init()&&xe.update(!0),Ue&&(r.controller.control=q.controller.control),Le&&(r.isElement&&(!O||typeof O=="string")&&(O=document.createElement("div"),O.classList.add("swiper-pagination"),O.part.add("pagination"),r.el.appendChild(O)),O&&(q.pagination.el=O),ee.init(),ee.render(),ee.update()),He&&(r.isElement&&(!I||typeof I=="string")&&(I=document.createElement("div"),I.classList.add("swiper-scrollbar"),I.part.add("scrollbar"),r.el.appendChild(I)),I&&(q.scrollbar.el=I),oe.init(),oe.updateSize(),oe.setTranslate()),$e&&(r.isElement&&((!B||typeof B=="string")&&(B=document.createElement("div"),B.classList.add("swiper-button-next"),setInnerHTML(B,r.navigation.arrowSvg),B.part.add("button-next"),r.el.appendChild(B)),(!R||typeof R=="string")&&(R=document.createElement("div"),R.classList.add("swiper-button-prev"),setInnerHTML(R,r.navigation.arrowSvg),R.part.add("button-prev"),r.el.appendChild(R))),B&&(q.navigation.nextEl=B),R&&(q.navigation.prevEl=R),ne.init(),ne.update()),b.includes("allowSlideNext")&&(r.allowSlideNext=y.allowSlideNext),b.includes("allowSlidePrev")&&(r.allowSlidePrev=y.allowSlidePrev),b.includes("direction")&&r.changeDirection(y.direction,!1),(Ne||We)&&r.loopDestroy(),(Qe||We)&&r.loopCreate(),r.update()}function getParams(r={},x=!0){const y={on:{}},b={},B={};extend(y,defaults$1),y._emitClasses=!0,y.init=!1;const R={},I=paramsList.map(G=>G.replace(/_/,"")),O=Object.assign({},r);return Object.keys(O).forEach(G=>{typeof r[G]>"u"||(I.indexOf(G)>=0?isObject$2(r[G])?(y[G]={},B[G]={},extend(y[G],r[G]),extend(B[G],r[G])):(y[G]=r[G],B[G]=r[G]):G.search(/on[A-Z]/)===0&&typeof r[G]=="function"?x?b[`${G[2].toLowerCase()}${G.substr(3)}`]=r[G]:y.on[`${G[2].toLowerCase()}${G.substr(3)}`]=r[G]:R[G]=r[G])}),["navigation","pagination","scrollbar"].forEach(G=>{y[G]===!0&&(y[G]={}),y[G]===!1&&delete y[G]}),{params:y,passedParams:B,rest:R,events:b}}function mountSwiper({el:r,nextEl:x,prevEl:y,paginationEl:b,scrollbarEl:B,swiper:R},I){needsNavigation(I)&&x&&y&&(R.params.navigation.nextEl=x,R.originalParams.navigation.nextEl=x,R.params.navigation.prevEl=y,R.originalParams.navigation.prevEl=y),needsPagination(I)&&b&&(R.params.pagination.el=b,R.originalParams.pagination.el=b),needsScrollbar(I)&&B&&(R.params.scrollbar.el=B,R.originalParams.scrollbar.el=B),R.init(r)}function getChangedParams(r,x,y,b,B){const R=[];if(!x)return R;const I=G=>{R.indexOf(G)<0&&R.push(G)};if(y&&b){const G=b.map(B),q=y.map(B);G.join("")!==q.join("")&&I("children"),b.length!==y.length&&I("children")}return paramsList.filter(G=>G[0]==="_").map(G=>G.replace(/_/,"")).forEach(G=>{if(G in r&&G in x)if(isObject$2(r[G])&&isObject$2(x[G])){const q=Object.keys(r[G]),ee=Object.keys(x[G]);q.length!==ee.length?I(G):(q.forEach(ne=>{r[G][ne]!==x[G][ne]&&I(G)}),ee.forEach(ne=>{r[G][ne]!==x[G][ne]&&I(G)}))}else r[G]!==x[G]&&I(G)}),R}const updateOnVirtualData=r=>{!r||r.destroyed||!r.params.virtual||r.params.virtual&&!r.params.virtual.enabled||(r.updateSlides(),r.updateProgress(),r.updateSlidesClasses(),r.emit("_virtualUpdated"),r.parallax&&r.params.parallax&&r.params.parallax.enabled&&r.parallax.setTranslate())};function _extends(){return _extends=Object.assign?Object.assign.bind():function(r){for(var x=1;x<arguments.length;x++){var y=arguments[x];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(r[b]=y[b])}return r},_extends.apply(this,arguments)}function isChildSwiperSlide(r){return r.type&&r.type.displayName&&r.type.displayName.includes("SwiperSlide")}function processChildren(r){const x=[];return React.Children.toArray(r).forEach(y=>{isChildSwiperSlide(y)?x.push(y):y.props&&y.props.children&&processChildren(y.props.children).forEach(b=>x.push(b))}),x}function getChildren(r){const x=[],y={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return React.Children.toArray(r).forEach(b=>{if(isChildSwiperSlide(b))x.push(b);else if(b.props&&b.props.slot&&y[b.props.slot])y[b.props.slot].push(b);else if(b.props&&b.props.children){const B=processChildren(b.props.children);B.length>0?B.forEach(R=>x.push(R)):y["container-end"].push(b)}else y["container-end"].push(b)}),{slides:x,slots:y}}function renderVirtual(r,x,y){if(!y)return null;const b=ee=>{let ne=ee;return ee<0?ne=x.length+ee:ne>=x.length&&(ne=ne-x.length),ne},B=r.isHorizontal()?{[r.rtlTranslate?"right":"left"]:`${y.offset}px`}:{top:`${y.offset}px`},{from:R,to:I}=y,O=r.params.loop?-x.length:0,G=r.params.loop?x.length*2:x.length,q=[];for(let ee=O;ee<G;ee+=1)ee>=R&&ee<=I&&q.push(x[b(ee)]);return q.map((ee,ne)=>React.cloneElement(ee,{swiper:r,style:B,key:ee.props.virtualIndex||ee.key||`slide-${ne}`}))}function useIsomorphicLayoutEffect$1(r,x){return typeof window>"u"?reactExports$1.useEffect(r,x):reactExports$1.useLayoutEffect(r,x)}const SwiperSlideContext=reactExports$1.createContext(null),SwiperContext=reactExports$1.createContext(null),Swiper=reactExports$1.forwardRef(({className:r,tag:x="div",wrapperTag:y="div",children:b,onSwiper:B,...R}={},I)=>{let O=!1;const[G,q]=reactExports$1.useState("swiper"),[ee,ne]=reactExports$1.useState(null),[oe,pe]=reactExports$1.useState(!1),xe=reactExports$1.useRef(!1),_e=reactExports$1.useRef(null),Ue=reactExports$1.useRef(null),Le=reactExports$1.useRef(null),He=reactExports$1.useRef(null),$e=reactExports$1.useRef(null),Ne=reactExports$1.useRef(null),Qe=reactExports$1.useRef(null),We=reactExports$1.useRef(null),{params:Ge,passedParams:Xe,rest:Je,events:ut}=getParams(R),{slides:ft,slots:ct}=getChildren(b),pt=()=>{pe(!oe)};Object.assign(Ge.on,{_containerClasses(Ye,et){q(et)}});const yt=()=>{Object.assign(Ge.on,ut),O=!0;const Ye={...Ge};if(delete Ye.wrapperClass,Ue.current=new Swiper$1(Ye),Ue.current.virtual&&Ue.current.params.virtual.enabled){Ue.current.virtual.slides=ft;const et={cache:!1,slides:ft,renderExternal:ne,renderExternalUpdate:!1};extend(Ue.current.params.virtual,et),extend(Ue.current.originalParams.virtual,et)}};_e.current||yt(),Ue.current&&Ue.current.on("_beforeBreakpoint",pt);const lt=()=>{O||!ut||!Ue.current||Object.keys(ut).forEach(Ye=>{Ue.current.on(Ye,ut[Ye])})},Ze=()=>{!ut||!Ue.current||Object.keys(ut).forEach(Ye=>{Ue.current.off(Ye,ut[Ye])})};reactExports$1.useEffect(()=>()=>{Ue.current&&Ue.current.off("_beforeBreakpoint",pt)}),reactExports$1.useEffect(()=>{!xe.current&&Ue.current&&(Ue.current.emitSlidesClasses(),xe.current=!0)}),useIsomorphicLayoutEffect$1(()=>{if(I&&(I.current=_e.current),!!_e.current)return Ue.current.destroyed&&yt(),mountSwiper({el:_e.current,nextEl:$e.current,prevEl:Ne.current,paginationEl:Qe.current,scrollbarEl:We.current,swiper:Ue.current},Ge),B&&!Ue.current.destroyed&&B(Ue.current),()=>{Ue.current&&!Ue.current.destroyed&&Ue.current.destroy(!0,!1)}},[]),useIsomorphicLayoutEffect$1(()=>{lt();const Ye=getChangedParams(Xe,Le.current,ft,He.current,et=>et.key);return Le.current=Xe,He.current=ft,Ye.length&&Ue.current&&!Ue.current.destroyed&&updateSwiper({swiper:Ue.current,slides:ft,passedParams:Xe,changedParams:Ye,nextEl:$e.current,prevEl:Ne.current,scrollbarEl:We.current,paginationEl:Qe.current}),()=>{Ze()}}),useIsomorphicLayoutEffect$1(()=>{updateOnVirtualData(Ue.current)},[ee]);function it(){return Ge.virtual?renderVirtual(Ue.current,ft,ee):ft.map((Ye,et)=>React.cloneElement(Ye,{swiper:Ue.current,swiperSlideIndex:et}))}return React.createElement(x,_extends({ref:_e,className:uniqueClasses(`${G}${r?` ${r}`:""}`)},Je),React.createElement(SwiperContext.Provider,{value:Ue.current},ct["container-start"],React.createElement(y,{className:wrapperClass(Ge.wrapperClass)},ct["wrapper-start"],it(),ct["wrapper-end"]),needsNavigation(Ge)&&React.createElement(React.Fragment,null,React.createElement("div",{ref:Ne,className:"swiper-button-prev"}),React.createElement("div",{ref:$e,className:"swiper-button-next"})),needsScrollbar(Ge)&&React.createElement("div",{ref:We,className:"swiper-scrollbar"}),needsPagination(Ge)&&React.createElement("div",{ref:Qe,className:"swiper-pagination"}),ct["container-end"]))});Swiper.displayName="Swiper";const SwiperSlide=reactExports$1.forwardRef(({tag:r="div",children:x,className:y="",swiper:b,zoom:B,lazy:R,virtualIndex:I,swiperSlideIndex:O,...G}={},q)=>{const ee=reactExports$1.useRef(null),[ne,oe]=reactExports$1.useState("swiper-slide"),[pe,xe]=reactExports$1.useState(!1);function _e($e,Ne,Qe){Ne===ee.current&&oe(Qe)}useIsomorphicLayoutEffect$1(()=>{if(typeof O<"u"&&(ee.current.swiperSlideIndex=O),q&&(q.current=ee.current),!(!ee.current||!b)){if(b.destroyed){ne!=="swiper-slide"&&oe("swiper-slide");return}return b.on("_slideClass",_e),()=>{b&&b.off("_slideClass",_e)}}}),useIsomorphicLayoutEffect$1(()=>{b&&ee.current&&!b.destroyed&&oe(b.getSlideClasses(ee.current))},[b]);const Ue={isActive:ne.indexOf("swiper-slide-active")>=0,isVisible:ne.indexOf("swiper-slide-visible")>=0,isPrev:ne.indexOf("swiper-slide-prev")>=0,isNext:ne.indexOf("swiper-slide-next")>=0},Le=()=>typeof x=="function"?x(Ue):x,He=()=>{xe(!0)};return React.createElement(r,_extends({ref:ee,className:uniqueClasses(`${ne}${y?` ${y}`:""}`),"data-swiper-slide-index":I,onLoad:He},G),B&&React.createElement(SwiperSlideContext.Provider,{value:Ue},React.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof B=="number"?B:void 0},Le(),R&&!pe&&React.createElement("div",{className:"swiper-lazy-preloader"}))),!B&&React.createElement(SwiperSlideContext.Provider,{value:Ue},Le(),R&&!pe&&React.createElement("div",{className:"swiper-lazy-preloader"})))});SwiperSlide.displayName="SwiperSlide";function createElementIfNotDefined(r,x,y,b){return r.params.createElements&&Object.keys(b).forEach(B=>{if(!y[B]&&y.auto===!0){let R=elementChildren(r.el,`.${b[B]}`)[0];R||(R=createElement("div",b[B]),R.className=b[B],r.el.append(R)),y[B]=R,x[B]=R}}),y}const arrowSvg='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Navigation({swiper:r,extendParams:x,on:y,emit:b}){x({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),r.navigation={nextEl:null,prevEl:null,arrowSvg};function B(pe){let xe;return pe&&typeof pe=="string"&&r.isElement&&(xe=r.el.querySelector(pe)||r.hostEl.querySelector(pe),xe)?xe:(pe&&(typeof pe=="string"&&(xe=[...document.querySelectorAll(pe)]),r.params.uniqueNavElements&&typeof pe=="string"&&xe&&xe.length>1&&r.el.querySelectorAll(pe).length===1?xe=r.el.querySelector(pe):xe&&xe.length===1&&(xe=xe[0])),pe&&!xe?pe:xe)}function R(pe,xe){const _e=r.params.navigation;pe=makeElementsArray(pe),pe.forEach(Ue=>{Ue&&(Ue.classList[xe?"add":"remove"](..._e.disabledClass.split(" ")),Ue.tagName==="BUTTON"&&(Ue.disabled=xe),r.params.watchOverflow&&r.enabled&&Ue.classList[r.isLocked?"add":"remove"](_e.lockClass))})}function I(){const{nextEl:pe,prevEl:xe}=r.navigation;if(r.params.loop){R(xe,!1),R(pe,!1);return}R(xe,r.isBeginning&&!r.params.rewind),R(pe,r.isEnd&&!r.params.rewind)}function O(pe){pe.preventDefault(),!(r.isBeginning&&!r.params.loop&&!r.params.rewind)&&(r.slidePrev(),b("navigationPrev"))}function G(pe){pe.preventDefault(),!(r.isEnd&&!r.params.loop&&!r.params.rewind)&&(r.slideNext(),b("navigationNext"))}function q(){const pe=r.params.navigation;if(r.params.navigation=createElementIfNotDefined(r,r.originalParams.navigation,r.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(pe.nextEl||pe.prevEl))return;let xe=B(pe.nextEl),_e=B(pe.prevEl);Object.assign(r.navigation,{nextEl:xe,prevEl:_e}),xe=makeElementsArray(xe),_e=makeElementsArray(_e);const Ue=(Le,He)=>{if(Le){if(pe.addIcons&&Le.matches(".swiper-button-next,.swiper-button-prev")&&!Le.querySelector("svg")){const $e=document.createElement("div");setInnerHTML($e,arrowSvg),Le.appendChild($e.querySelector("svg")),$e.remove()}Le.addEventListener("click",He==="next"?G:O)}!r.enabled&&Le&&Le.classList.add(...pe.lockClass.split(" "))};xe.forEach(Le=>Ue(Le,"next")),_e.forEach(Le=>Ue(Le,"prev"))}function ee(){let{nextEl:pe,prevEl:xe}=r.navigation;pe=makeElementsArray(pe),xe=makeElementsArray(xe);const _e=(Ue,Le)=>{Ue.removeEventListener("click",Le==="next"?G:O),Ue.classList.remove(...r.params.navigation.disabledClass.split(" "))};pe.forEach(Ue=>_e(Ue,"next")),xe.forEach(Ue=>_e(Ue,"prev"))}y("init",()=>{r.params.navigation.enabled===!1?oe():(q(),I())}),y("toEdge fromEdge lock unlock",()=>{I()}),y("destroy",()=>{ee()}),y("enable disable",()=>{let{nextEl:pe,prevEl:xe}=r.navigation;if(pe=makeElementsArray(pe),xe=makeElementsArray(xe),r.enabled){I();return}[...pe,...xe].filter(_e=>!!_e).forEach(_e=>_e.classList.add(r.params.navigation.lockClass))}),y("click",(pe,xe)=>{let{nextEl:_e,prevEl:Ue}=r.navigation;_e=makeElementsArray(_e),Ue=makeElementsArray(Ue);const Le=xe.target;let He=Ue.includes(Le)||_e.includes(Le);if(r.isElement&&!He){const $e=xe.path||xe.composedPath&&xe.composedPath();$e&&(He=$e.find(Ne=>_e.includes(Ne)||Ue.includes(Ne)))}if(r.params.navigation.hideOnClick&&!He){if(r.pagination&&r.params.pagination&&r.params.pagination.clickable&&(r.pagination.el===Le||r.pagination.el.contains(Le)))return;let $e;_e.length?$e=_e[0].classList.contains(r.params.navigation.hiddenClass):Ue.length&&($e=Ue[0].classList.contains(r.params.navigation.hiddenClass)),b($e===!0?"navigationShow":"navigationHide"),[..._e,...Ue].filter(Ne=>!!Ne).forEach(Ne=>Ne.classList.toggle(r.params.navigation.hiddenClass))}});const ne=()=>{r.el.classList.remove(...r.params.navigation.navigationDisabledClass.split(" ")),q(),I()},oe=()=>{r.el.classList.add(...r.params.navigation.navigationDisabledClass.split(" ")),ee()};Object.assign(r.navigation,{enable:ne,disable:oe,update:I,init:q,destroy:ee})}const carouselWrapper$1="_carouselWrapper_1ra8y_1",titleContainer$3="_titleContainer_1ra8y_15",carouselTitle$1="_carouselTitle_1ra8y_31",moreButton$1="_moreButton_1ra8y_45",carouselViewport$1="_carouselViewport_1ra8y_77",slideItem="_slideItem_1ra8y_87",carouselLink="_carouselLink_1ra8y_97",imageContainer$2="_imageContainer_1ra8y_123",artistImage$4="_artistImage_1ra8y_143",artistText="_artistText_1ra8y_165",name$s="_name_1ra8y_175",field="_field_1ra8y_189",prevButton$1="_prevButton_1ra8y_201",nextButton$1="_nextButton_1ra8y_203",styles$1C={carouselWrapper:carouselWrapper$1,titleContainer:titleContainer$3,carouselTitle:carouselTitle$1,moreButton:moreButton$1,carouselViewport:carouselViewport$1,slideItem,carouselLink,imageContainer:imageContainer$2,artistImage:artistImage$4,artistText,name:name$s,field,prevButton:prevButton$1,nextButton:nextButton$1};function ArtistCarousel({title:r}){const[x,y]=reactExports$1.useState([]),b=reactExports$1.useRef(null),B=reactExports$1.useRef(null),R=I=>{I.params.navigation.prevEl=b.current,I.params.navigation.nextEl=B.current,I.navigation.destroy(),I.navigation.init(),I.navigation.update()};return reactExports$1.useEffect(()=>{(async()=>{try{const G=(await instance.get("/api/artist",{params:{category:"onExhibition"}})).data.map(({id:q,artist_name:ee,artist_category:ne,artist_image:oe})=>({id:q,artist_name:ee,artist_category:ne,artist_image:oe})).slice(0,10);y(G)}catch(O){console.error("     :",O)}})()},[]),jsxRuntimeExports.jsxs("div",{className:styles$1C.carouselWrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$1C.titleContainer,children:[jsxRuntimeExports.jsx("h2",{className:styles$1C.carouselTitle,children:r}),jsxRuntimeExports.jsx(Link$1,{to:"/artists",className:styles$1C.moreButton,children:""})]}),x.length>0?jsxRuntimeExports.jsx(Swiper,{modules:[Navigation],onInit:R,spaceBetween:20,slidesPerView:4,loop:x.length>4,className:styles$1C.carouselViewport,breakpoints:{0:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:2,spaceBetween:15},768:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:20}},children:x.map(I=>jsxRuntimeExports.jsx(SwiperSlide,{className:styles$1C.slideItem,children:jsxRuntimeExports.jsxs(Link$1,{to:`/artists/${I==null?void 0:I.id}`,className:styles$1C.carouselLink,children:[jsxRuntimeExports.jsx("div",{className:styles$1C.imageContainer,children:jsxRuntimeExports.jsx("img",{src:(I==null?void 0:I.artist_image)||"/default.jpg",alt:(I==null?void 0:I.artist_name)||" ",className:styles$1C.artistImage})}),jsxRuntimeExports.jsxs("div",{className:styles$1C.artistText,children:[jsxRuntimeExports.jsx("h3",{className:styles$1C.name,children:I!=null&&I.artist_name&&I.artist_name.trim()!==""?I.artist_name:" "}),jsxRuntimeExports.jsx("p",{className:styles$1C.field,children:I!=null&&I.artist_category&&I.artist_category.trim()!==""?I.artist_category:" "})]})]})},`${I==null?void 0:I.id}`))}):jsxRuntimeExports.jsx("div",{style:{textAlign:"center",padding:"5rem",color:"#999",fontSize:"1.4rem"},children:"  ."}),jsxRuntimeExports.jsx("button",{ref:b,className:styles$1C.prevButton,children:""}),jsxRuntimeExports.jsx("button",{ref:B,className:styles$1C.nextButton,children:""})]})}const carouselWrapper="_carouselWrapper_60msd_1",carouselHeader="_carouselHeader_60msd_13",carouselTitle="_carouselTitle_60msd_29",moreButton="_moreButton_60msd_43",carouselViewport="_carouselViewport_60msd_75",carouselSlide="_carouselSlide_60msd_85",slideCard="_slideCard_60msd_107",carouselImage="_carouselImage_60msd_137",cardText="_cardText_60msd_153",prevButton="_prevButton_60msd_205",nextButton="_nextButton_60msd_207",emptyBox$1="_emptyBox_60msd_289",styles$1B={carouselWrapper,carouselHeader,carouselTitle,moreButton,carouselViewport,carouselSlide,slideCard,carouselImage,cardText,prevButton,nextButton,emptyBox:emptyBox$1};function SwipeCarousel({title:r,category:x,value:y}){const[b,B]=reactExports$1.useState([]),R=reactExports$1.useRef(null),I=reactExports$1.useRef(null),O=G=>{G.params.navigation.prevEl=R.current,G.params.navigation.nextEl=I.current,G.navigation.destroy(),G.navigation.init(),G.navigation.update()};return reactExports$1.useEffect(()=>{(async()=>{try{const q={status:"exhibited"};x&&y&&(q[x]=y);const ne=(await instance.get("/api/exhibitions",{params:q})).data.map(({id:oe,exhibition_poster:pe,exhibition_title:xe,exhibition_category:_e,exhibition_status:Ue,exhibition_start_date:Le,exhibition_end_date:He,exhibition_organization:$e,exhibition_location:Ne})=>({id:oe,image:pe,title:xe,category:_e,status:Ue,startDate:Le,endDate:He,organizationName:typeof $e=="object"?$e==null?void 0:$e.name:$e||Ne}));B(ne)}catch(q){console.error("     :",q)}})()},[x,y]),jsxRuntimeExports.jsxs("div",{className:styles$1B.carouselWrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$1B.carouselHeader,children:[jsxRuntimeExports.jsx("h2",{className:styles$1B.carouselTitle,children:r}),jsxRuntimeExports.jsx(Link$1,{to:"/exhibitions",className:styles$1B.moreButton,children:""})]}),b.length>0?jsxRuntimeExports.jsx(Swiper,{modules:[Navigation],onInit:O,slidesPerView:"auto",centeredSlides:!1,spaceBetween:20,loop:b.length>3,className:styles$1B.carouselViewport,children:b.map(G=>jsxRuntimeExports.jsx(SwiperSlide,{className:styles$1B.carouselSlide,children:jsxRuntimeExports.jsxs(Link$1,{to:`/exhibitions/${G.id}`,className:styles$1B.slideCard,children:[jsxRuntimeExports.jsx("img",{src:G.image,alt:G.title,className:styles$1B.carouselImage}),jsxRuntimeExports.jsxs("div",{className:styles$1B.cardText,children:[jsxRuntimeExports.jsxs("h3",{children:["",G.title,""]}),jsxRuntimeExports.jsx("p",{children:G.organizationName}),jsxRuntimeExports.jsxs("p",{children:[G.startDate," ~ ",G.endDate]})]})]})},G.id))}):jsxRuntimeExports.jsx("div",{className:styles$1B.emptyBox,children:"  ."}),jsxRuntimeExports.jsx("button",{ref:R,className:styles$1B.prevButton,children:""}),jsxRuntimeExports.jsx("button",{ref:I,className:styles$1B.nextButton,children:""})]})}const mobileMain="_mobileMain_oh3ba_1",carousel="_carousel_oh3ba_19",slider="_slider_oh3ba_33",slide="_slide_oh3ba_33",slideImage="_slideImage_oh3ba_77",tagline="_tagline_oh3ba_97",contentContainer$7="_contentContainer_oh3ba_121",userText="_userText_oh3ba_129",itemContainer="_itemContainer_oh3ba_149",itemBox="_itemBox_oh3ba_177",itemIcon="_itemIcon_oh3ba_209",nonGalleryBox="_nonGalleryBox_oh3ba_219",listSection="_listSection_oh3ba_259",titleSection$4="_titleSection_oh3ba_273",exhibitionList$2="_exhibitionList_oh3ba_295",galleryItemCard="_galleryItemCard_oh3ba_307",imageBox$1="_imageBox_oh3ba_349",exhibitionImage$2="_exhibitionImage_oh3ba_363",statusBadge$3="_statusBadge_oh3ba_377",ongoing$1="_ongoing_oh3ba_415",cardInfo$3="_cardInfo_oh3ba_423",galleryTitle$4="_galleryTitle_oh3ba_437",ellipsisTitle="_ellipsisTitle_oh3ba_463",addressText="_addressText_oh3ba_489",styles$1A={mobileMain,carousel,slider,slide,slideImage,tagline,contentContainer:contentContainer$7,userText,itemContainer,itemBox,itemIcon,nonGalleryBox,listSection,titleSection:titleSection$4,exhibitionList:exhibitionList$2,galleryItemCard,imageBox:imageBox$1,exhibitionImage:exhibitionImage$2,statusBadge:statusBadge$3,ongoing:ongoing$1,cardInfo:cardInfo$3,galleryTitle:galleryTitle$4,ellipsisTitle,addressText};function FaInstagram(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function FaYoutube(r){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(r)}function FaCalendarCheck(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zM329 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L329 305z"},child:[]}]})(r)}function FaChevronRight$1(r){return GenIcon({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"},child:[]}]})(r)}function FaHeadphones(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 80C149.9 80 62.4 159.4 49.6 262c9.4-3.8 19.6-6 30.4-6c26.5 0 48 21.5 48 48l0 128c0 26.5-21.5 48-48 48c-44.2 0-80-35.8-80-80l0-16 0-48 0-48C0 146.6 114.6 32 256 32s256 114.6 256 256l0 48 0 48 0 16c0 44.2-35.8 80-80 80c-26.5 0-48-21.5-48-48l0-128c0-26.5 21.5-48 48-48c10.8 0 21 2.1 30.4 6C449.6 159.4 362.1 80 256 80z"},child:[]}]})(r)}function FaLink(r){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"},child:[]}]})(r)}function FaLocationDot(r){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(r)}function FaPhone(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"},child:[]}]})(r)}function FaShare$1(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M307 34.8c-11.5 5.1-19 16.6-19 29.2l0 64-112 0C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96l96 0 0 64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"},child:[]}]})(r)}function FaStar$1(r){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(r)}function FaXmark(r){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(r)}const IcDocent=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"43",height:"44",viewBox:"0 0 40 31",fill:"none",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_18_7315)",children:[jsxRuntimeExports.jsx("path",{d:"M8.49088 28.1266L6.79921 28.0436C3.74782 28.0436 1.27734 25.4071 1.27734 22.1579V21.5195C1.27734 18.2702 3.74782 15.6338 6.79921 15.6338L8.49088 15.5508C9.35267 15.5508 10.0549 16.2402 10.0549 17.0956V26.5881C10.0549 27.4435 9.35905 28.133 8.49088 28.133V28.1266Z",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M10.5892 13.4258H10.3222C9.73218 13.4258 9.25391 13.9745 9.25391 14.6514V29.0211C9.25391 29.698 9.73218 30.2467 10.3222 30.2467H10.5892C11.1792 30.2467 11.6575 29.698 11.6575 29.0211V14.6514C11.6575 13.9745 11.1792 13.4258 10.5892 13.4258Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M31.5034 28.1266L33.1951 28.0436C36.2465 28.0436 38.717 25.4071 38.717 22.1579V21.5195C38.717 18.2702 36.2465 15.6338 33.1951 15.6338L31.5034 15.5508C30.6417 15.5508 29.9395 16.2402 29.9395 17.0956V26.5881C29.9395 27.4435 30.6353 28.133 31.5034 28.133V28.1266Z",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M29.5523 13.4258H29.3182C28.8011 13.4258 28.3818 13.9745 28.3818 14.6514V29.0211C28.3818 29.698 28.8011 30.2467 29.3182 30.2467H29.5523C30.0694 30.2467 30.4886 29.698 30.4886 29.0211V14.6514C30.4886 13.9745 30.0694 13.4258 29.5523 13.4258Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M6.25 14.932C6.25 7.3865 12.4038 1.27734 20.0004 1.27734C27.597 1.27734 33.7508 7.3865 33.7508 14.932",stroke:"#555555",strokeWidth:"2",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M9.51172 15.1494C9.51172 9.27002 14.2101 4.50781 20.0001 4.50781C25.79 4.50781 30.4884 9.27002 30.4884 15.1494",stroke:"#555555",strokeWidth:"2",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M20.0002 23.0073C20.6912 23.0073 21.2514 22.4471 21.2514 21.7561C21.2514 21.0651 20.6912 20.5049 20.0002 20.5049C19.3092 20.5049 18.749 21.0651 18.749 21.7561C18.749 22.4471 19.3092 23.0073 20.0002 23.0073Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M20.0127 26.6843V25.8991C20.0127 25.6182 20.2106 25.382 20.4851 25.3437C20.7916 25.299 21.0916 25.2224 21.3788 25.1012C21.6342 24.9926 21.9342 25.1012 22.0683 25.3437L22.4641 26.0268C22.6364 26.3204 22.5088 26.7035 22.196 26.8375C21.7044 27.0482 21.1873 27.1886 20.6511 27.2524C20.3128 27.2907 20.0064 27.029 20.0064 26.6907L20.0127 26.6843ZM16.7124 26.2055C16.2847 25.8863 15.9017 25.5097 15.5761 25.082C15.3718 24.8075 15.4484 24.4181 15.7421 24.2457L16.4187 23.85C16.6613 23.7095 16.9677 23.7606 17.1401 23.984C17.3316 24.2266 17.555 24.45 17.7976 24.6351C18.021 24.8075 18.0721 25.1139 17.9381 25.3565L17.5487 26.0396C17.3763 26.3332 16.9869 26.4162 16.7124 26.2119V26.2055ZM24.2643 24.2138L23.5812 23.818C23.3386 23.6776 23.2301 23.3839 23.3386 23.1286C23.4599 22.835 23.5365 22.5285 23.5812 22.2157C23.6131 21.9476 23.8429 21.7497 24.1174 21.737L24.909 21.705C25.2537 21.6923 25.5282 21.9859 25.4963 22.3306C25.4708 22.5924 25.4197 22.8796 25.3367 23.1861C25.2601 23.4733 25.1644 23.7287 25.0686 23.9521C24.9345 24.2649 24.5579 24.3862 24.2643 24.2138ZM14.5036 21.1305C14.5611 20.6007 14.7015 20.0836 14.9058 19.5984C15.0399 19.2856 15.4165 19.1516 15.7165 19.3239L16.3996 19.7133C16.6422 19.8538 16.7507 20.1474 16.6422 20.4028C16.5273 20.6837 16.4507 20.9773 16.4124 21.2837C16.3741 21.5582 16.1379 21.7625 15.8634 21.7625C15.6016 21.7625 15.3399 21.7625 15.0782 21.7689C14.7335 21.7689 14.4653 21.4689 14.5036 21.1305ZM22.8343 19.5218C22.6428 19.2793 22.4194 19.0622 22.1704 18.8707C21.947 18.7047 21.8895 18.3919 22.03 18.1494L22.4194 17.4663C22.5854 17.1663 22.9811 17.0897 23.2556 17.2876C23.6897 17.6004 24.0728 17.977 24.3983 18.4047C24.6026 18.6792 24.5324 19.0686 24.2387 19.2473L23.5621 19.6495C23.3195 19.79 23.0131 19.7389 22.8407 19.5218H22.8343ZM17.8998 18.1877L17.4976 17.511C17.3252 17.2173 17.4465 16.8343 17.7657 16.7003C18.2572 16.4832 18.7743 16.3428 19.3042 16.2726C19.6425 16.2279 19.9489 16.4896 19.9489 16.8343V17.6195C19.9617 17.9004 19.7574 18.143 19.4829 18.1813C19.1765 18.226 18.8765 18.3089 18.5892 18.4302C18.3338 18.5388 18.0338 18.4302 17.8934 18.194L17.8998 18.1877Z",fill:"#555555"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_18_7315",children:jsxRuntimeExports.jsx("rect",{width:"40",height:"30.2458",fill:"white"})})})]}),IcBook=()=>jsxRuntimeExports.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_18_7331)",children:[jsxRuntimeExports.jsx("path",{d:"M34.8147 9.71498V35.8671C34.8147 37.2268 33.429 38.3275 31.7132 38.3275H17.3066C15.5907 38.3275 14.2051 37.2268 14.2051 35.8671V9.71498C14.2051 9.00274 14.5871 8.35525 15.2022 7.90849C15.7591 7.50057 16.4907 7.24805 17.3066 7.24805H31.7132C33.429 7.24805 34.8147 8.35525 34.8147 9.71498Z",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M25.7951 4.0298V6.42551L17.2871 6.52263C16.4713 6.52263 15.7332 6.77515 15.1828 7.18307C14.5677 7.62984 14.1857 8.27733 14.1857 8.98957V32.746L8.28702 32.6488C6.57117 32.6488 5.18555 31.5481 5.18555 30.1819V4.0298C5.18555 2.67007 6.57117 1.56934 8.28702 1.56934H22.6872C24.403 1.56934 25.7951 2.67007 25.7951 4.0298Z",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M14.7559 7.53373L23.2768 1.51855",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip1_18_7331)",children:[jsxRuntimeExports.jsx("path",{d:"M19.3828 11.9541H17.9862C17.5947 11.9541 17.2773 12.2715 17.2773 12.6629V14.0595C17.2773 14.451 17.5947 14.7683 17.9862 14.7683H19.3828C19.7742 14.7683 20.0916 14.451 20.0916 14.0595V12.6629C20.0916 12.2715 19.7742 11.9541 19.3828 11.9541Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M25.208 11.9541H23.8114C23.4199 11.9541 23.1025 12.2715 23.1025 12.6629V14.0595C23.1025 14.451 23.4199 14.7683 23.8114 14.7683H25.208C25.5994 14.7683 25.9168 14.451 25.9168 14.0595V12.6629C25.9168 12.2715 25.5994 11.9541 25.208 11.9541Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M31.0322 11.9541H29.6356C29.2441 11.9541 28.9268 12.2715 28.9268 12.6629V14.0595C28.9268 14.451 29.2441 14.7683 29.6356 14.7683H31.0322C31.4236 14.7683 31.741 14.451 31.741 14.0595V12.6629C31.741 12.2715 31.4236 11.9541 31.0322 11.9541Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M19.3828 16.6289H17.9862C17.5947 16.6289 17.2773 16.9463 17.2773 17.3377V18.7343C17.2773 19.1258 17.5947 19.4431 17.9862 19.4431H19.3828C19.7742 19.4431 20.0916 19.1258 20.0916 18.7343V17.3377C20.0916 16.9463 19.7742 16.6289 19.3828 16.6289Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M25.208 16.6289H23.8114C23.4199 16.6289 23.1025 16.9463 23.1025 17.3377V18.7343C23.1025 19.1258 23.4199 19.4431 23.8114 19.4431H25.208C25.5994 19.4431 25.9168 19.1258 25.9168 18.7343V17.3377C25.9168 16.9463 25.5994 16.6289 25.208 16.6289Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M31.0322 16.6289H29.6356C29.2441 16.6289 28.9268 16.9463 28.9268 17.3377V18.7343C28.9268 19.1258 29.2441 19.4431 29.6356 19.4431H31.0322C31.4236 19.4431 31.741 19.1258 31.741 18.7343V17.3377C31.741 16.9463 31.4236 16.6289 31.0322 16.6289Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M19.3828 21.3018H17.9862C17.5947 21.3018 17.2773 21.6191 17.2773 22.0106V23.4072C17.2773 23.7986 17.5947 24.116 17.9862 24.116H19.3828C19.7742 24.116 20.0916 23.7986 20.0916 23.4072V22.0106C20.0916 21.6191 19.7742 21.3018 19.3828 21.3018Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M25.208 21.3018H23.8114C23.4199 21.3018 23.1025 21.6191 23.1025 22.0106V23.4072C23.1025 23.7986 23.4199 24.116 23.8114 24.116H25.208C25.5994 24.116 25.9168 23.7986 25.9168 23.4072V22.0106C25.9168 21.6191 25.5994 21.3018 25.208 21.3018Z",fill:"#555555"}),jsxRuntimeExports.jsx("path",{d:"M31.0322 21.3018H29.6356C29.2441 21.3018 28.9268 21.6191 28.9268 22.0106V23.4072C28.9268 23.7986 29.2441 24.116 29.6356 24.116H31.0322C31.4236 24.116 31.741 23.7986 31.741 23.4072V22.0106C31.741 21.6191 31.4236 21.3018 31.0322 21.3018Z",fill:"#555555"})]})]}),jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsx("clipPath",{id:"clip0_18_7331",children:jsxRuntimeExports.jsx("rect",{width:"40",height:"39.8458",fill:"white"})}),jsxRuntimeExports.jsx("clipPath",{id:"clip1_18_7331",children:jsxRuntimeExports.jsx("rect",{width:"14.4642",height:"12.1623",fill:"white",transform:"translate(17.2773 11.9541)"})})]})]}),IcFindGallery=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39",height:"41",viewBox:"0 0 39 36",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M33.5268 34.2223H5.24267C3.12862 34.2223 1.41895 32.5127 1.41895 30.3986V15.1037C1.41895 13.7559 2.12836 12.5073 3.29179 11.8192L17.5084 1.95837C18.7215 1.24187 20.2254 1.24187 21.4314 1.96546L35.4919 11.8192C36.6412 12.5073 37.3435 13.7559 37.3435 15.0966V30.3986C37.3435 32.5127 35.6338 34.2223 33.5198 34.2223H33.5268Z",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M8.8457 33.9734V18.5295C8.8457 18.0755 9.07271 17.6499 9.4558 17.4016L13.996 14.4575C14.897 13.8687 16.0817 14.5143 16.0817 15.5855V33.5123",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"}),jsxRuntimeExports.jsx("path",{d:"M29.9157 33.9734V18.5295C29.9157 18.0755 29.6887 17.6499 29.3056 17.4016L24.7654 14.4575C23.8644 13.8687 22.6797 14.5143 22.6797 15.5855V33.5123",stroke:"#555555",strokeWidth:"1.99229",strokeMiterlimit:"10"})]}),SLIDE_INTERVAL=4e3,MAX_SLIDES=3;function MobileMain(){const{user:r}=useUser(),[x,y]=reactExports$1.useState([]),[b,B]=reactExports$1.useState(0),R=useNavigate(),[I,O]=reactExports$1.useState([]),[G,q]=reactExports$1.useState([]),ee=[{key:"docent",icon:jsxRuntimeExports.jsx(IcDocent,{}),label:" ",link:"/scan"},{key:"book",icon:jsxRuntimeExports.jsx(IcBook,{}),label:" ",link:"/mypage"},{key:"find-gallery",icon:jsxRuntimeExports.jsx(IcFindGallery,{}),label:" ",link:"/nearby-galleries"}],ne=xe=>xe?xe.startsWith("http")?xe:`https://artly.soundgram.co.kr/${xe}`:"",oe=xe=>xe==="exhibited"?"":xe==="scheduled"?"":"";reactExports$1.useEffect(()=>{(async()=>{try{const Ue=(await instance.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:Le,exhibition_poster:He,exhibition_title:$e})=>({id:Le,image:ne(He),title:$e})).slice(0,MAX_SLIDES);y(Ue||[]),B(0)}catch(_e){console.error("    :",_e)}})()},[]),reactExports$1.useEffect(()=>{if(x.length<=1)return;const xe=setInterval(()=>{B(_e=>(_e+1)%x.length)},SLIDE_INTERVAL);return()=>clearInterval(xe)},[x]),reactExports$1.useEffect(()=>{(async()=>{try{if(r){const _e=await userInstance.get("/api/galleries",{params:{liked_only:1}});O(_e.data),q([])}else{const Ue=(await instance.get("/api/galleries")).data.sort(($e,Ne)=>(Ne.like_count||0)-($e.like_count||0)).slice(0,10);O(Ue);const He=(await instance.get("/api/exhibitions",{params:{status:"exhibited"}})).data.sort(($e,Ne)=>(Ne.like_count||0)-($e.like_count||0)).slice(0,10);q(He)}}catch(_e){console.error("   :",_e)}})()},[r]);const pe=r&&I.some(xe=>xe.exhibitions&&xe.exhibitions.some(_e=>_e.exhibition_status==="exhibited"));return jsxRuntimeExports.jsxs("div",{className:styles$1A.mobileMain,children:[jsxRuntimeExports.jsx("div",{className:styles$1A.carousel,children:jsxRuntimeExports.jsx("div",{className:styles$1A.slider,style:{transform:`translateX(-${b*100}%)`},children:x.map(xe=>jsxRuntimeExports.jsx("div",{className:styles$1A.slide,onClick:()=>R(`/exhibitions/${xe==null?void 0:xe.id}`),children:jsxRuntimeExports.jsx("img",{src:xe==null?void 0:xe.image,alt:xe==null?void 0:xe.title,className:styles$1A.slideImage})},xe==null?void 0:xe.id))})}),jsxRuntimeExports.jsxs("div",{className:styles$1A.tagline,children:["    ",jsxRuntimeExports.jsx("br",{})," , ARTLY"]}),jsxRuntimeExports.jsxs("div",{className:styles$1A.contentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1A.userText,onClick:r?void 0:()=>R("/login"),style:r?{}:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.4rem"},children:r?`${r.user_name}, .`:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx(FaChevronRight$1,{size:20})]})}),jsxRuntimeExports.jsx("div",{className:styles$1A.itemContainer,children:ee.map(({key:xe,icon:_e,label:Ue,link:Le})=>jsxRuntimeExports.jsxs("div",{className:styles$1A.itemBox,onClick:()=>{xe==="book"?R(Le,{state:{activeTab:"MY"}}):R(Le)},children:[jsxRuntimeExports.jsx("span",{className:styles$1A.itemIcon,children:_e}),jsxRuntimeExports.jsx("span",{className:styles$1A.itemLabel,children:Ue})]},xe))}),r&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:styles$1A.titleSection,children:"|  "}),pe?jsxRuntimeExports.jsx("div",{className:styles$1A.exhibitionList,children:I.map(({id:xe,gallery_name:_e,gallery_address:Ue,exhibitions:Le})=>jsxRuntimeExports.jsx("div",{className:styles$1A.exhibitionList,children:Le==null?void 0:Le.filter(He=>He.exhibition_status==="exhibited").map(He=>jsxRuntimeExports.jsxs("div",{className:styles$1A.galleryItemCard,onClick:()=>R(`/exhibitions/${He.id}`),children:[jsxRuntimeExports.jsxs("div",{className:styles$1A.imageBox,children:[jsxRuntimeExports.jsx("div",{className:`${styles$1A.statusBadge} ${styles$1A.ongoing}`,children:oe(He.exhibition_status)}),jsxRuntimeExports.jsx("img",{className:styles$1A.exhibitionImage,src:ne(He.exhibition_poster),alt:""})]}),jsxRuntimeExports.jsxs("div",{className:styles$1A.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$1A.galleryTitle,children:[jsxRuntimeExports.jsxs("div",{className:styles$1A.ellipsisTitle,children:[_e," ",jsxRuntimeExports.jsx("span",{style:{margin:"0 4px",color:"#ddd"},children:"|"})," ",He.exhibition_title]}),jsxRuntimeExports.jsx(FaChevronRight$1,{size:16})]}),jsxRuntimeExports.jsx("div",{className:styles$1A.addressText,children:Ue})]})]},He.id))},xe))}):jsxRuntimeExports.jsxs("div",{className:styles$1A.nonGalleryBox,children:["   , ",jsxRuntimeExports.jsx("br",{}),"   ."]})]}),!r&&jsxRuntimeExports.jsxs("div",{className:styles$1A.listSection,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:styles$1A.titleSection,children:"|   TOP 10"}),G.length>0?jsxRuntimeExports.jsx("div",{className:styles$1A.exhibitionList,children:G.map(xe=>{var _e;return jsxRuntimeExports.jsxs("div",{className:styles$1A.galleryItemCard,onClick:()=>R(`/exhibitions/${xe.id}`),children:[jsxRuntimeExports.jsxs("div",{className:styles$1A.imageBox,children:[jsxRuntimeExports.jsx("div",{className:`${styles$1A.statusBadge} ${styles$1A.ongoing}`,children:oe(xe.exhibition_status)}),jsxRuntimeExports.jsx("img",{className:styles$1A.exhibitionImage,src:ne(xe.exhibition_poster),alt:xe.exhibition_title})]}),jsxRuntimeExports.jsxs("div",{className:styles$1A.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$1A.galleryTitle,children:[jsxRuntimeExports.jsx("div",{className:styles$1A.ellipsisTitle,children:xe.exhibition_title}),jsxRuntimeExports.jsx(FaChevronRight$1,{size:16})]}),jsxRuntimeExports.jsx("div",{className:styles$1A.addressText,children:typeof xe.exhibition_organization=="object"?(_e=xe.exhibition_organization)==null?void 0:_e.name:xe.exhibition_organization||xe.exhibition_location})]})]},xe.id)})}):jsxRuntimeExports.jsx("div",{className:styles$1A.nonGalleryBox,children:"     ."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:styles$1A.titleSection,children:"|   TOP 10"}),I.length>0?jsxRuntimeExports.jsx("div",{className:styles$1A.exhibitionList,children:I.map(xe=>{var Ue,Le;const _e=xe.gallery_image||((Le=(Ue=xe.exhibitions)==null?void 0:Ue[0])==null?void 0:Le.exhibition_poster);return jsxRuntimeExports.jsxs("div",{className:styles$1A.galleryItemCard,onClick:()=>R(`/galleries/${xe.id}`),children:[jsxRuntimeExports.jsx("div",{className:styles$1A.imageBox,children:jsxRuntimeExports.jsx("img",{className:styles$1A.exhibitionImage,src:ne(_e)||"/images/no-image.png",alt:xe.gallery_name})}),jsxRuntimeExports.jsxs("div",{className:styles$1A.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$1A.galleryTitle,children:[jsxRuntimeExports.jsx("div",{className:styles$1A.ellipsisTitle,children:xe.gallery_name}),jsxRuntimeExports.jsx(FaChevronRight$1,{size:16})]}),jsxRuntimeExports.jsx("div",{className:styles$1A.addressText,children:xe.gallery_address||"  "})]})]},xe.id)})}):jsxRuntimeExports.jsx("div",{className:styles$1A.nonGalleryBox,children:"  ."})]})]})]})]})}function FaCheck(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(r)}function FaChevronDown(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(r)}function FaChevronRight(r){return GenIcon({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(r)}function FaChevronUp(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(r)}function FaHome(r){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(r)}function FaPause(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(r)}function FaPlay(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(r)}function FaPlus(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(r)}function FaSearch(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(r)}function FaShare(r){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(r)}function FaStar(r){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(r)}function FaStop(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(r)}function FaTimes(r){return GenIcon({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function FaUser(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}function Main(){const{isMobile:r}=useResponsive(),{user:x}=useUser(),y=useNavigate(),b=[{key:"docent",icon:jsxRuntimeExports.jsx(IcDocent,{}),label:" ",link:"/scan"},{key:"book",icon:jsxRuntimeExports.jsx(IcBook,{}),label:" ",link:"/mypage"},{key:"find-gallery",icon:jsxRuntimeExports.jsx(IcFindGallery,{}),label:" ",link:"/nearby-galleries"}];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$1E.mainLayout,children:r?jsxRuntimeExports.jsx(MobileMain,{}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MainCarousel,{}),jsxRuntimeExports.jsxs("div",{className:styles$1E.tabContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1E.userText,onClick:x?void 0:()=>y("/login"),style:x?{}:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.4rem"},children:x?`${x.user_name}, .`:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx(FaChevronRight,{size:20})]})}),jsxRuntimeExports.jsx("div",{className:styles$1E.itemContainer,children:b.map(({key:B,icon:R,label:I,link:O})=>jsxRuntimeExports.jsxs("div",{className:styles$1E.itemBox,onClick:()=>{B==="book"?y(O,{state:{activeTab:"MY"}}):y(O)},children:[jsxRuntimeExports.jsx("span",{className:styles$1E.itemIcon,children:R}),jsxRuntimeExports.jsx("span",{className:styles$1E.itemLabel,children:I})]},B))})]}),jsxRuntimeExports.jsxs("div",{className:styles$1E.carouselContainer,children:[jsxRuntimeExports.jsx(SwipeCarousel,{title:"|    "}),jsxRuntimeExports.jsx(SwipeCarousel,{title:"|  ",category:"sort",value:"popular"}),jsxRuntimeExports.jsx(ArtistCarousel,{title:"|   "})]})]})}),jsxRuntimeExports.jsx(Footer,{})]})}const layout$C="_layout_s8a5n_1",gridContainer$3="_gridContainer_s8a5n_19",dropboxContainer$2="_dropboxContainer_s8a5n_31",nonDataText$3="_nonDataText_s8a5n_43",styles$1z={layout:layout$C,gridContainer:gridContainer$3,dropboxContainer:dropboxContainer$2,nonDataText:nonDataText$3},layout$B="_layout_1ew8p_1",titleContainer$2="_titleContainer_1ew8p_13",listTitle="_listTitle_1ew8p_29",searchForm$1="_searchForm_1ew8p_107",searchInput$1="_searchInput_1ew8p_121",formButton="_formButton_1ew8p_149",styles$1y={layout:layout$B,titleContainer:titleContainer$2,listTitle,searchForm:searchForm$1,searchInput:searchInput$1,formButton},IcSearch=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"30",viewBox:"0 0 31 30",fill:"none",children:jsxRuntimeExports.jsx("path",{d:"M26.33 26.25L20.8925 20.8125M23.8301 13.75C23.8301 19.2728 19.3529 23.75 13.8301 23.75C8.30723 23.75 3.83008 19.2728 3.83008 13.75C3.83008 8.22715 8.30723 3.75 13.8301 3.75C19.3529 3.75 23.8301 8.22715 23.8301 13.75Z",stroke:"#222222",strokeWidth:"1.84991",strokeLinecap:"round",strokeLinejoin:"round"})});function ListHeader({title:r,onEvent:x,onSearch:y,value:b,isArtworks:B=!1}){return jsxRuntimeExports.jsxs("div",{className:styles$1y.layout,children:[jsxRuntimeExports.jsx("div",{className:styles$1y.titleContainer,children:jsxRuntimeExports.jsx("h1",{className:styles$1y.listTitle,children:r})}),!B&&jsxRuntimeExports.jsxs("form",{className:styles$1y.searchForm,action:x,children:[jsxRuntimeExports.jsx("input",{className:styles$1y.searchInput,placeholder:"...",onChange:y,value:b}),jsxRuntimeExports.jsx("button",{className:styles$1y.formButton,children:jsxRuntimeExports.jsx(IcSearch,{})})]})]})}const layout$A="_layout_11xsl_1",styles$1x={layout:layout$A},layout$z="_layout_1hm1o_1",clickedLabel="_clickedLabel_1hm1o_11",dropdownButton="_dropdownButton_1hm1o_19",clickedButton="_clickedButton_1hm1o_63",undisplay="_undisplay_1hm1o_85",clickedDropdownList="_clickedDropdownList_1hm1o_93",clickedItem="_clickedItem_1hm1o_129",dropdownItem$1="_dropdownItem_1hm1o_131",rectButton="_rectButton_1hm1o_173",styles$1w={layout:layout$z,clickedLabel,dropdownButton,clickedButton,undisplay,clickedDropdownList,clickedItem,dropdownItem:dropdownItem$1,rectButton};function Dropdown({title:r,dropdownItems:x,isOpen:y,filterKey:b,onOpen:B,onSetFilter:R,shape:I="round",defaultValue:O}){const G=x.find(pe=>pe.value===O)||x[0],[q,ee]=reactExports$1.useState(G.label),{isMobile:ne}=useResponsive(),oe=pe=>{ee(pe.label),R(xe=>({...xe,[b]:pe.value})),B()};return jsxRuntimeExports.jsxs("div",{className:styles$1w.layout,children:[jsxRuntimeExports.jsxs("button",{className:`${styles$1w.dropdownButton} ${y&&styles$1w.clickedButton} ${I==="rect"?styles$1w.rectButton:""}`,onClick:B,children:[!ne&&`${r} - `,jsxRuntimeExports.jsx("span",{className:`${q!==x[0].label&&styles$1w.clickedLabel}`,children:q})]}),jsxRuntimeExports.jsx("ul",{className:`${y&&styles$1w.clickedDropdownList} ${y&&styles$1w.undisplay}`,children:y&&x.map(pe=>jsxRuntimeExports.jsx("li",{className:`${styles$1w.dropdownItem} ${pe.label===q&&styles$1w.clickedItem}`,onClick:()=>{oe(pe)},children:pe.label},pe.label))})]})}function DropdownContainer({labels:r,filterList:x,onSetFilter:y,shape:b="round"}){const[B,R]=reactExports$1.useState(null),I=O=>{R(B===O?null:O)};return jsxRuntimeExports.jsx("div",{className:styles$1x.layout,children:x.map((O,G)=>jsxRuntimeExports.jsx(Dropdown,{title:O.label,dropdownItems:O.options,filterKey:O.key,defaultValue:O.defaultValue,isOpen:G===B,onOpen:()=>{I(G)},onSetFilter:y,shape:b},O.key))})}const exhibitionFilter=[{key:"sort",label:"",options:[{label:"",value:"latest"},{label:"",value:"ending"},{label:"",value:"popular"}]},{key:"region",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"category",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"status",label:" ",options:[{label:"",value:"exhibited"},{label:"",value:"ended"},{label:"",value:"scheduled"},{label:"",value:""}]}],countParagraph="_countParagraph_1ppwl_1",counts="_counts_1ppwl_11",styles$1v={countParagraph,counts};function TotalCounts({num:r,label:x}){return jsxRuntimeExports.jsxs("p",{className:styles$1v.countParagraph,children:[" ",jsxRuntimeExports.jsx("strong",{className:styles$1v.counts,children:r})," ",x,"  "]})}const paginationContainer="_paginationContainer_21i9g_1",sideButtonContainer="_sideButtonContainer_21i9g_11",pageNumbersContainer="_pageNumbersContainer_21i9g_19",pageButton="_pageButton_21i9g_33",active$5="_active_21i9g_57",styles$1u={paginationContainer,sideButtonContainer,pageNumbersContainer,pageButton,active:active$5};function Pagination({currentPage:r,onPageChange:x,totalItems:y,itemsPerPage:b=10}){const B=Math.ceil(y/b),R=getPageNumbers(r,B,5);return jsxRuntimeExports.jsxs("div",{className:styles$1u.paginationContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1u.sideButtonContainer,children:jsxRuntimeExports.jsx("button",{onClick:()=>x(r-1),className:styles$1u.pageButton,disabled:r===1,children:"<"})}),jsxRuntimeExports.jsx("div",{className:styles$1u.pageNumbersContainer,children:R.map(I=>jsxRuntimeExports.jsx("button",{onClick:()=>x(I),className:`${styles$1u.pageButton} ${r===I?styles$1u.active:""}`,children:I},I))}),jsxRuntimeExports.jsx("div",{className:styles$1u.sideButtonContainer,children:jsxRuntimeExports.jsx("button",{onClick:()=>x(r+1),className:styles$1u.pageButton,disabled:r===B,children:">"})})]})}const getPageNumbers=(r,x,y)=>{const b=Math.floor(y/2);let B=Math.max(r-b,1),R=Math.min(B+y-1,x);return R-B+1<y&&(B=Math.max(R-y+1,1)),Array.from({length:R-B+1},(I,O)=>B+O)},usePagination=(r=10,x)=>{const[y,b]=reactExports$1.useState(1),B=Array.isArray(x)?x:[],R=(y-1)*r,I=B.slice(R,R+r);return{currentPage:y,setCurrentPage:b,pageItems:I}},exhibitionCardLayout="_exhibitionCardLayout_1taub_1",statusContainer$2="_statusContainer_1taub_37",ongoing="_ongoing_1taub_73",imageBox="_imageBox_1taub_81",exhibitionImage$1="_exhibitionImage_1taub_89",favButton$4="_favButton_1taub_105",locButton="_locButton_1taub_127",icon$8="_icon_1taub_151",likedIcon$6="_likedIcon_1taub_161",exhibitionTitle$3="_exhibitionTitle_1taub_183",infoContainer$3="_infoContainer_1taub_201",subParagraph$4="_subParagraph_1taub_209",styles$1t={exhibitionCardLayout,statusContainer:statusContainer$2,ongoing,imageBox,exhibitionImage:exhibitionImage$1,favButton:favButton$4,locButton,icon:icon$8,likedIcon:likedIcon$6,exhibitionTitle:exhibitionTitle$3,infoContainer:infoContainer$3,subParagraph:subParagraph$4},layout$y="_layout_cdrx9_1",container$a="_container_cdrx9_33",header$e="_header_cdrx9_53",map="_map_cdrx9_69",title$j="_title_cdrx9_79",closeButton$9="_closeButton_cdrx9_93",icon$7="_icon_cdrx9_103",infoContainer$2="_infoContainer_cdrx9_117",infoSpan="_infoSpan_cdrx9_133",infoParagraph="_infoParagraph_cdrx9_147",buttonField$4="_buttonField_cdrx9_157",locateButton="_locateButton_cdrx9_173",button$2="_button_cdrx9_157",styles$1s={layout:layout$y,container:container$a,header:header$e,map,title:title$j,closeButton:closeButton$9,icon:icon$7,infoContainer:infoContainer$2,infoSpan,infoParagraph,buttonField:buttonField$4,locateButton,button:button$2},container$9="_container_zry8e_1",infoBox="_infoBox_zry8e_17",styles$1r={container:container$9,infoBox},IcGallery="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7983)'%3e%3ccircle%20cx='11.1768'%20cy='11.1768'%20r='10.6768'%20fill='white'%20stroke='%23376AED'/%3e%3cpath%20d='M16.0448%2016.1689H6.31016C5.58257%2016.1689%204.99414%2015.5805%204.99414%2014.8529V9.58881C4.99414%209.12491%205.2383%208.69519%205.63872%208.45835L10.5317%205.06453C10.9492%204.81793%2011.4668%204.81793%2011.8819%205.06697L16.7211%208.45835C17.1167%208.69519%2017.3584%209.12491%2017.3584%209.58637V14.8529C17.3584%2015.5805%2016.77%2016.1689%2016.0424%2016.1689H16.0448Z'%20fill='%23376AED'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7983'%3e%3crect%20width='22.3535'%20height='22.3535'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",IcFavGallery="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7995)'%3e%3ccircle%20cx='11.5'%20cy='11.5'%20r='11.1768'%20fill='%23376AED'/%3e%3cg%20clip-path='url(%23clip1_18_7995)'%3e%3cpath%20d='M12.9199%208.2959C13.0873%208.81092%2013.5669%209.16015%2014.1084%209.16016H18.7031L14.9854%2011.8604C14.5475%2012.1787%2014.364%2012.7429%2014.5312%2013.2578L15.9512%2017.626L12.2344%2014.9268L12.1504%2014.8701C11.7514%2014.6268%2011.2486%2014.6268%2010.8496%2014.8701L10.7656%2014.9268L7.04785%2017.626L8.46875%2013.2578C8.63604%2012.7429%208.45246%2012.1787%208.01465%2011.8604L4.29688%209.16016H8.8916C9.43313%209.16015%209.91274%208.81092%2010.0801%208.2959L11.5%203.9248L12.9199%208.2959Z'%20fill='white'%20stroke='white'%20stroke-width='1.5'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7995'%3e%3crect%20width='23'%20height='23'%20fill='white'/%3e%3c/clipPath%3e%3cclipPath%20id='clip1_18_7995'%3e%3crect%20width='20'%20height='20'%20fill='white'%20transform='translate(1.5%201.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function Marker({title:r,isLike:x=!1}){return jsxRuntimeExports.jsxs("div",{className:styles$1r.container,children:[jsxRuntimeExports.jsx("img",{src:x?IcFavGallery:IcGallery}),jsxRuntimeExports.jsx("div",{className:styles$1r.infoBox,children:r})]})}const createMarkerElement=(r,x=!1)=>{const y=document.createElement("div");return ReactDOM$1.createRoot(y).render(jsxRuntimeExports.jsx(Marker,{title:r,isLike:x})),y},useMap=({lat:r,lng:x,id:y,results:b,zoomLevel:B=15,title:R,location:I})=>{const O=reactExports$1.useRef(null),G=useNavigate(),q=reactExports$1.useRef([]);return reactExports$1.useEffect(()=>{var oe;const ee=document.getElementById(y);if(!((oe=window.naver)!=null&&oe.maps)||!ee||r===null||x===null)return;const ne=new naver.maps.Map(ee,{center:new naver.maps.LatLng(r,x),zoom:B});if(O.current=ne,q.current.forEach(pe=>pe.setMap(null)),q.current=[],R&&I){const pe=createMarkerElement(R,!1);new naver.maps.Marker({position:new naver.maps.LatLng(r,x),map:ne,title:R,icon:{content:pe}})}else{const pe=new naver.maps.Marker({position:new naver.maps.LatLng(r,x),map:O.current,title:" "});q.current.push(pe)}return b&&b.length>0&&b.map(({gallery_name:pe,gallery_latitude:xe,gallery_longitude:_e,gallery_address:Ue,is_liked:Le,id:He})=>{const $e=createMarkerElement(pe,Le),Ne=new naver.maps.LatLng(xe,_e),Qe=new naver.maps.Marker({position:Ne,map:O.current,title:pe,icon:{content:$e}});naver.maps.Event.addListener(Qe,"click",()=>{G(`/galleries/${He}`)}),q.current.push(Qe)}),()=>{const pe=O.current;pe&&pe.getElement()&&pe.destroy(),O.current=null}},[y,r,x,b,G,B,R,I]),O};function MapModal({item:r,onClose:x}){const{id:y,exhibition_title:b,exhibition_location:B,exhibition_start_date:R,exhibition_end_date:I,exhibition_start_time:O,exhibition_end_time:G,exhibition_organization:q,exhibition_price:ee}=r,ne=[{key:"location",label:"",content:B},{key:"date",label:"",content:`${R} ~ ${I}`},{key:"time",label:"",content:`${O} ~ ${G}`},{key:"closedDay",label:"",content:q.closed_day},{key:"price",label:"",content:ee}];return useMap({lat:q.latitude,lng:q.longitude,id:`exhibition-${y}-map`,title:b,location:B}),jsxRuntimeExports.jsx("div",{className:styles$1s.layout,children:jsxRuntimeExports.jsxs("div",{className:styles$1s.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$1s.header,children:[jsxRuntimeExports.jsx("h4",{className:styles$1s.title,children:b}),jsxRuntimeExports.jsx("button",{className:styles$1s.closeButton,onClick:x,children:jsxRuntimeExports.jsx(FaXmark,{className:styles$1s.icon})})]}),jsxRuntimeExports.jsx("div",{className:styles$1s.map,id:`exhibition-${y}-map`}),jsxRuntimeExports.jsx("div",{className:styles$1s.infoContainer,children:ne.map(({key:oe,label:pe,content:xe})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:styles$1s.infoSpan,children:pe}),jsxRuntimeExports.jsx("p",{className:styles$1s.infoParagraph,children:xe})]},oe))}),jsxRuntimeExports.jsxs("div",{className:styles$1s.buttonField,children:[jsxRuntimeExports.jsx("button",{className:styles$1s.locateButton,onClick:()=>{alert("  .")},children:""}),jsxRuntimeExports.jsx("button",{className:styles$1s.button,onClick:x,children:""})]})]})})}const IcLocation=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"19",viewBox:"0 0 16 19",fill:"none",children:[jsxRuntimeExports.jsx("path",{d:"M8 17.4785C11.25 14.2785 14.5 11.4132 14.5 7.87852C14.5 4.34389 11.5899 1.47852 8 1.47852C4.41015 1.47852 1.5 4.34389 1.5 7.87852C1.5 11.4132 4.75 14.2785 8 17.4785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M8 10.2785C9.34623 10.2785 10.4375 9.20404 10.4375 7.87852C10.4375 6.55304 9.34623 5.47852 8 5.47852C6.65377 5.47852 5.5625 6.55304 5.5625 7.87852C5.5625 9.20404 6.65377 10.2785 8 10.2785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]});function ExhibitionCard({exhibitionItem:r,onEvent:x}){const{user:y}=useUser(),{id:b,exhibition_title:B,exhibition_category:R,exhibition_poster:I,exhibition_location:O,exhibition_start_date:G,exhibition_end_date:q,exhibition_status:ee,is_liked:ne}=r,[oe,pe]=reactExports$1.useState(!1),xe=useNavigate(),_e=ee==="exhibited"?" ":ee==="upcoming"?" ":" ",Ue=()=>{pe($e=>!$e),document.body.style.overflow="hidden"},Le=()=>{pe($e=>!$e),document.body.style.overflow="unset"},He=async()=>{!y&&xe("/login");try{ne===!0?await userInstance.delete("/api/likes",{data:{liked_id:b,liked_type:"exhibition"}}):await userInstance.post("/api/likes",{liked_id:b,liked_type:"exhibition"}),await x()}catch($e){console.error($e)}};return jsxRuntimeExports.jsxs("div",{className:styles$1t.exhibitionCardLayout,children:[oe&&jsxRuntimeExports.jsx(MapModal,{item:r,onClose:Le}),jsxRuntimeExports.jsxs(Link$1,{className:styles$1t.layout,to:`/exhibitions/${b}`,children:[jsxRuntimeExports.jsx("div",{className:`${styles$1t.statusContainer} ${ee==="exhibited"&&styles$1t.ongoing}`,children:_e}),jsxRuntimeExports.jsx("div",{className:styles$1t.imageBox,children:jsxRuntimeExports.jsx("img",{className:styles$1t.exhibitionImage,src:I||"/placeholder.jpg",alt:"  "})}),jsxRuntimeExports.jsx("button",{className:styles$1t.favButton,onClick:$e=>{$e.preventDefault(),$e.stopPropagation(),He()},children:jsxRuntimeExports.jsx(FaStar$1,{className:ne===!0?styles$1t.likedIcon:styles$1t.icon})}),jsxRuntimeExports.jsx("button",{className:styles$1t.locButton,onClick:$e=>{$e.preventDefault(),$e.stopPropagation(),Ue()},children:jsxRuntimeExports.jsx(IcLocation,{})}),jsxRuntimeExports.jsxs("div",{className:styles$1t.infoContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1t.exhibitionTitle,children:B}),jsxRuntimeExports.jsxs("p",{className:styles$1t.subParagraph,children:[R," | ",O||" "]}),jsxRuntimeExports.jsxs("p",{className:styles$1t.subParagraph,children:[G," ~ ",q]})]})]})]})}var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,(function(module,exports$1){typeof document<"u"&&typeof navigator<"u"&&(function(r,x){module.exports=x()})(lottie$1,(function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(x){_useWebWorker=!!x},getWebWorker=function(){return _useWebWorker},setLocationHref=function(x){locationHref=x},getLocationHref=function(){return locationHref};function createTag(r){return document.createElement(r)}function extendPrototype(r,x){var y,b=r.length,B;for(y=0;y<b;y+=1){B=r[y].prototype;for(var R in B)Object.prototype.hasOwnProperty.call(B,R)&&(x.prototype[R]=B[R])}}function getDescriptor(r,x){return Object.getOwnPropertyDescriptor(r,x)}function createProxyFunction(r){function x(){}return x.prototype=r,x}var audioControllerFactory=(function(){function r(x){this.audios=[],this.audioFactory=x,this._volume=1,this._isMuted=!1}return r.prototype={addAudio:function(y){this.audios.push(y)},pause:function(){var y,b=this.audios.length;for(y=0;y<b;y+=1)this.audios[y].pause()},resume:function(){var y,b=this.audios.length;for(y=0;y<b;y+=1)this.audios[y].resume()},setRate:function(y){var b,B=this.audios.length;for(b=0;b<B;b+=1)this.audios[b].setRate(y)},createAudio:function(y){return this.audioFactory?this.audioFactory(y):window.Howl?new window.Howl({src:[y]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(y){this.audioFactory=y},setVolume:function(y){this._volume=y,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var y,b=this.audios.length;for(y=0;y<b;y+=1)this.audios[y].volume(this._volume*(this._isMuted?0:1))}},function(){return new r}})(),createTypedArray=(function(){function r(y,b){var B=0,R=[],I;switch(y){case"int16":case"uint8c":I=1;break;default:I=1.1;break}for(B=0;B<b;B+=1)R.push(I);return R}function x(y,b){return y==="float32"?new Float32Array(b):y==="int16"?new Int16Array(b):y==="uint8c"?new Uint8ClampedArray(b):r(y,b)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?x:r})();function createSizedArray(r){return Array.apply(null,{length:r})}function _typeof$6(r){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof$6(r)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var r=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],x,y=r.length;for(x=0;x<y;x+=1)BMMath[r[x]]=Math[r[x]]})(),BMMath.random=Math.random,BMMath.abs=function(r){var x=_typeof$6(r);if(x==="object"&&r.length){var y=createSizedArray(r.length),b,B=r.length;for(b=0;b<B;b+=1)y[b]=Math.abs(r[b]);return y}return Math.abs(r)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(r){r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.display="block",r.style.transformOrigin="0 0",r.style.webkitTransformOrigin="0 0",r.style.backfaceVisibility="visible",r.style.webkitBackfaceVisibility="visible",r.style.transformStyle="preserve-3d",r.style.webkitTransformStyle="preserve-3d",r.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(r,x,y,b){this.type=r,this.currentTime=x,this.totalTime=y,this.direction=b<0?-1:1}function BMCompleteEvent(r,x){this.type=r,this.direction=x<0?-1:1}function BMCompleteLoopEvent(r,x,y,b){this.type=r,this.currentLoop=y,this.totalLoops=x,this.direction=b<0?-1:1}function BMSegmentStartEvent(r,x,y){this.type=r,this.firstFrame=x,this.totalFrames=y}function BMDestroyEvent(r,x){this.type=r,this.target=x}function BMRenderFrameErrorEvent(r,x){this.type="renderFrameError",this.nativeError=r,this.currentTime=x}function BMConfigErrorEvent(r){this.type="configError",this.nativeError=r}var createElementID=(function(){var r=0;return function(){return r+=1,idPrefix$1+"__lottie_element_"+r}})();function HSVtoRGB(r,x,y){var b,B,R,I,O,G,q,ee;switch(I=Math.floor(r*6),O=r*6-I,G=y*(1-x),q=y*(1-O*x),ee=y*(1-(1-O)*x),I%6){case 0:b=y,B=ee,R=G;break;case 1:b=q,B=y,R=G;break;case 2:b=G,B=y,R=ee;break;case 3:b=G,B=q,R=y;break;case 4:b=ee,B=G,R=y;break;case 5:b=y,B=G,R=q;break}return[b,B,R]}function RGBtoHSV(r,x,y){var b=Math.max(r,x,y),B=Math.min(r,x,y),R=b-B,I,O=b===0?0:R/b,G=b/255;switch(b){case B:I=0;break;case r:I=x-y+R*(x<y?6:0),I/=6*R;break;case x:I=y-r+R*2,I/=6*R;break;case y:I=r-x+R*4,I/=6*R;break}return[I,O,G]}function addSaturationToRGB(r,x){var y=RGBtoHSV(r[0]*255,r[1]*255,r[2]*255);return y[1]+=x,y[1]>1?y[1]=1:y[1]<=0&&(y[1]=0),HSVtoRGB(y[0],y[1],y[2])}function addBrightnessToRGB(r,x){var y=RGBtoHSV(r[0]*255,r[1]*255,r[2]*255);return y[2]+=x,y[2]>1?y[2]=1:y[2]<0&&(y[2]=0),HSVtoRGB(y[0],y[1],y[2])}function addHueToRGB(r,x){var y=RGBtoHSV(r[0]*255,r[1]*255,r[2]*255);return y[0]+=x/360,y[0]>1?y[0]-=1:y[0]<0&&(y[0]+=1),HSVtoRGB(y[0],y[1],y[2])}var rgbToHex=(function(){var r=[],x,y;for(x=0;x<256;x+=1)y=x.toString(16),r[x]=y.length===1?"0"+y:y;return function(b,B,R){return b<0&&(b=0),B<0&&(B=0),R<0&&(R=0),"#"+r[b]+r[B]+r[R]}})(),setSubframeEnabled=function(x){subframeEnabled=!!x},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(x){expressionsPlugin=x},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(x){expressionsInterfaces=x},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(x){defaultCurveSegments=x},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(x){idPrefix$1=x};function createNS(r){return document.createElementNS(svgNS,r)}function _typeof$5(r){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof$5(r)}var dataManager=(function(){var r=1,x=[],y,b,B={onmessage:function(){},postMessage:function(pe){y({data:pe})}},R={postMessage:function(pe){B.onmessage({data:pe})}};function I(oe){if(window.Worker&&window.Blob&&getWebWorker()){var pe=new Blob(["var _workerSelf = self; self.onmessage = ",oe.toString()],{type:"text/javascript"}),xe=URL.createObjectURL(pe);return new Worker(xe)}return y=oe,B}function O(){b||(b=I(function(pe){function xe(){function Ue(lt,Ze){var it,Ye,et=lt.length,gt,st,ht,vt;for(Ye=0;Ye<et;Ye+=1)if(it=lt[Ye],"ks"in it&&!it.completed){if(it.completed=!0,it.hasMask){var Et=it.masksProperties;for(st=Et.length,gt=0;gt<st;gt+=1)if(Et[gt].pt.k.i)Qe(Et[gt].pt.k);else for(vt=Et[gt].pt.k.length,ht=0;ht<vt;ht+=1)Et[gt].pt.k[ht].s&&Qe(Et[gt].pt.k[ht].s[0]),Et[gt].pt.k[ht].e&&Qe(Et[gt].pt.k[ht].e[0])}it.ty===0?(it.layers=$e(it.refId,Ze),Ue(it.layers,Ze)):it.ty===4?Ne(it.shapes):it.ty===5&&pt(it)}}function Le(lt,Ze){if(lt){var it=0,Ye=lt.length;for(it=0;it<Ye;it+=1)lt[it].t===1&&(lt[it].data.layers=$e(lt[it].data.refId,Ze),Ue(lt[it].data.layers,Ze))}}function He(lt,Ze){for(var it=0,Ye=Ze.length;it<Ye;){if(Ze[it].id===lt)return Ze[it];it+=1}return null}function $e(lt,Ze){var it=He(lt,Ze);return it?it.layers.__used?JSON.parse(JSON.stringify(it.layers)):(it.layers.__used=!0,it.layers):null}function Ne(lt){var Ze,it=lt.length,Ye,et;for(Ze=it-1;Ze>=0;Ze-=1)if(lt[Ze].ty==="sh")if(lt[Ze].ks.k.i)Qe(lt[Ze].ks.k);else for(et=lt[Ze].ks.k.length,Ye=0;Ye<et;Ye+=1)lt[Ze].ks.k[Ye].s&&Qe(lt[Ze].ks.k[Ye].s[0]),lt[Ze].ks.k[Ye].e&&Qe(lt[Ze].ks.k[Ye].e[0]);else lt[Ze].ty==="gr"&&Ne(lt[Ze].it)}function Qe(lt){var Ze,it=lt.i.length;for(Ze=0;Ze<it;Ze+=1)lt.i[Ze][0]+=lt.v[Ze][0],lt.i[Ze][1]+=lt.v[Ze][1],lt.o[Ze][0]+=lt.v[Ze][0],lt.o[Ze][1]+=lt.v[Ze][1]}function We(lt,Ze){var it=Ze?Ze.split("."):[100,100,100];return lt[0]>it[0]?!0:it[0]>lt[0]?!1:lt[1]>it[1]?!0:it[1]>lt[1]?!1:lt[2]>it[2]?!0:it[2]>lt[2]?!1:null}var Ge=(function(){var lt=[4,4,14];function Ze(Ye){var et=Ye.t.d;Ye.t.d={k:[{s:et,t:0}]}}function it(Ye){var et,gt=Ye.length;for(et=0;et<gt;et+=1)Ye[et].ty===5&&Ze(Ye[et])}return function(Ye){if(We(lt,Ye.v)&&(it(Ye.layers),Ye.assets)){var et,gt=Ye.assets.length;for(et=0;et<gt;et+=1)Ye.assets[et].layers&&it(Ye.assets[et].layers)}}})(),Xe=(function(){var lt=[4,7,99];return function(Ze){if(Ze.chars&&!We(lt,Ze.v)){var it,Ye=Ze.chars.length;for(it=0;it<Ye;it+=1){var et=Ze.chars[it];et.data&&et.data.shapes&&(Ne(et.data.shapes),et.data.ip=0,et.data.op=99999,et.data.st=0,et.data.sr=1,et.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Ze.chars[it].t||(et.data.shapes.push({ty:"no"}),et.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}})(),Je=(function(){var lt=[5,7,15];function Ze(Ye){var et=Ye.t.p;typeof et.a=="number"&&(et.a={a:0,k:et.a}),typeof et.p=="number"&&(et.p={a:0,k:et.p}),typeof et.r=="number"&&(et.r={a:0,k:et.r})}function it(Ye){var et,gt=Ye.length;for(et=0;et<gt;et+=1)Ye[et].ty===5&&Ze(Ye[et])}return function(Ye){if(We(lt,Ye.v)&&(it(Ye.layers),Ye.assets)){var et,gt=Ye.assets.length;for(et=0;et<gt;et+=1)Ye.assets[et].layers&&it(Ye.assets[et].layers)}}})(),ut=(function(){var lt=[4,1,9];function Ze(Ye){var et,gt=Ye.length,st,ht;for(et=0;et<gt;et+=1)if(Ye[et].ty==="gr")Ze(Ye[et].it);else if(Ye[et].ty==="fl"||Ye[et].ty==="st")if(Ye[et].c.k&&Ye[et].c.k[0].i)for(ht=Ye[et].c.k.length,st=0;st<ht;st+=1)Ye[et].c.k[st].s&&(Ye[et].c.k[st].s[0]/=255,Ye[et].c.k[st].s[1]/=255,Ye[et].c.k[st].s[2]/=255,Ye[et].c.k[st].s[3]/=255),Ye[et].c.k[st].e&&(Ye[et].c.k[st].e[0]/=255,Ye[et].c.k[st].e[1]/=255,Ye[et].c.k[st].e[2]/=255,Ye[et].c.k[st].e[3]/=255);else Ye[et].c.k[0]/=255,Ye[et].c.k[1]/=255,Ye[et].c.k[2]/=255,Ye[et].c.k[3]/=255}function it(Ye){var et,gt=Ye.length;for(et=0;et<gt;et+=1)Ye[et].ty===4&&Ze(Ye[et].shapes)}return function(Ye){if(We(lt,Ye.v)&&(it(Ye.layers),Ye.assets)){var et,gt=Ye.assets.length;for(et=0;et<gt;et+=1)Ye.assets[et].layers&&it(Ye.assets[et].layers)}}})(),ft=(function(){var lt=[4,4,18];function Ze(Ye){var et,gt=Ye.length,st,ht;for(et=gt-1;et>=0;et-=1)if(Ye[et].ty==="sh")if(Ye[et].ks.k.i)Ye[et].ks.k.c=Ye[et].closed;else for(ht=Ye[et].ks.k.length,st=0;st<ht;st+=1)Ye[et].ks.k[st].s&&(Ye[et].ks.k[st].s[0].c=Ye[et].closed),Ye[et].ks.k[st].e&&(Ye[et].ks.k[st].e[0].c=Ye[et].closed);else Ye[et].ty==="gr"&&Ze(Ye[et].it)}function it(Ye){var et,gt,st=Ye.length,ht,vt,Et,Rt;for(gt=0;gt<st;gt+=1){if(et=Ye[gt],et.hasMask){var _t=et.masksProperties;for(vt=_t.length,ht=0;ht<vt;ht+=1)if(_t[ht].pt.k.i)_t[ht].pt.k.c=_t[ht].cl;else for(Rt=_t[ht].pt.k.length,Et=0;Et<Rt;Et+=1)_t[ht].pt.k[Et].s&&(_t[ht].pt.k[Et].s[0].c=_t[ht].cl),_t[ht].pt.k[Et].e&&(_t[ht].pt.k[Et].e[0].c=_t[ht].cl)}et.ty===4&&Ze(et.shapes)}}return function(Ye){if(We(lt,Ye.v)&&(it(Ye.layers),Ye.assets)){var et,gt=Ye.assets.length;for(et=0;et<gt;et+=1)Ye.assets[et].layers&&it(Ye.assets[et].layers)}}})();function ct(lt){lt.__complete||(ut(lt),Ge(lt),Xe(lt),Je(lt),ft(lt),Ue(lt.layers,lt.assets),Le(lt.chars,lt.assets),lt.__complete=!0)}function pt(lt){lt.t.a.length===0&&"m"in lt.t.p}var yt={};return yt.completeData=ct,yt.checkColors=ut,yt.checkChars=Xe,yt.checkPathProperties=Je,yt.checkShapes=ft,yt.completeLayers=Ue,yt}if(R.dataManager||(R.dataManager=xe()),R.assetLoader||(R.assetLoader=(function(){function Ue(He){var $e=He.getResponseHeader("content-type");return $e&&He.responseType==="json"&&$e.indexOf("json")!==-1||He.response&&_typeof$5(He.response)==="object"?He.response:He.response&&typeof He.response=="string"?JSON.parse(He.response):He.responseText?JSON.parse(He.responseText):null}function Le(He,$e,Ne,Qe){var We,Ge=new XMLHttpRequest;try{Ge.responseType="json"}catch{}Ge.onreadystatechange=function(){if(Ge.readyState===4)if(Ge.status===200)We=Ue(Ge),Ne(We);else try{We=Ue(Ge),Ne(We)}catch(Xe){Qe&&Qe(Xe)}};try{Ge.open(["G","E","T"].join(""),He,!0)}catch{Ge.open(["G","E","T"].join(""),$e+"/"+He,!0)}Ge.send()}return{load:Le}})()),pe.data.type==="loadAnimation")R.assetLoader.load(pe.data.path,pe.data.fullPath,function(Ue){R.dataManager.completeData(Ue),R.postMessage({id:pe.data.id,payload:Ue,status:"success"})},function(){R.postMessage({id:pe.data.id,status:"error"})});else if(pe.data.type==="complete"){var _e=pe.data.animation;R.dataManager.completeData(_e),R.postMessage({id:pe.data.id,payload:_e,status:"success"})}else pe.data.type==="loadData"&&R.assetLoader.load(pe.data.path,pe.data.fullPath,function(Ue){R.postMessage({id:pe.data.id,payload:Ue,status:"success"})},function(){R.postMessage({id:pe.data.id,status:"error"})})}),b.onmessage=function(oe){var pe=oe.data,xe=pe.id,_e=x[xe];x[xe]=null,pe.status==="success"?_e.onComplete(pe.payload):_e.onError&&_e.onError()})}function G(oe,pe){r+=1;var xe="processId_"+r;return x[xe]={onComplete:oe,onError:pe},xe}function q(oe,pe,xe){O();var _e=G(pe,xe);b.postMessage({type:"loadAnimation",path:oe,fullPath:window.location.origin+window.location.pathname,id:_e})}function ee(oe,pe,xe){O();var _e=G(pe,xe);b.postMessage({type:"loadData",path:oe,fullPath:window.location.origin+window.location.pathname,id:_e})}function ne(oe,pe,xe){O();var _e=G(pe,xe);b.postMessage({type:"complete",animation:oe,id:_e})}return{loadAnimation:q,loadData:ee,completeAnimation:ne}})(),ImagePreloader=(function(){var r=(function(){var Le=createTag("canvas");Le.width=1,Le.height=1;var He=Le.getContext("2d");return He.fillStyle="rgba(0,0,0,0)",He.fillRect(0,0,1,1),Le})();function x(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function y(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function b(Le,He,$e){var Ne="";if(Le.e)Ne=Le.p;else if(He){var Qe=Le.p;Qe.indexOf("images/")!==-1&&(Qe=Qe.split("/")[1]),Ne=He+Qe}else Ne=$e,Ne+=Le.u?Le.u:"",Ne+=Le.p;return Ne}function B(Le){var He=0,$e=setInterval((function(){var Ne=Le.getBBox();(Ne.width||He>500)&&(this._imageLoaded(),clearInterval($e)),He+=1}).bind(this),50)}function R(Le){var He=b(Le,this.assetsPath,this.path),$e=createNS("image");isSafari?this.testImageLoaded($e):$e.addEventListener("load",this._imageLoaded,!1),$e.addEventListener("error",(function(){Ne.img=r,this._imageLoaded()}).bind(this),!1),$e.setAttributeNS("http://www.w3.org/1999/xlink","href",He),this._elementHelper.append?this._elementHelper.append($e):this._elementHelper.appendChild($e);var Ne={img:$e,assetData:Le};return Ne}function I(Le){var He=b(Le,this.assetsPath,this.path),$e=createTag("img");$e.crossOrigin="anonymous",$e.addEventListener("load",this._imageLoaded,!1),$e.addEventListener("error",(function(){Ne.img=r,this._imageLoaded()}).bind(this),!1),$e.src=He;var Ne={img:$e,assetData:Le};return Ne}function O(Le){var He={assetData:Le},$e=b(Le,this.assetsPath,this.path);return dataManager.loadData($e,(function(Ne){He.img=Ne,this._footageLoaded()}).bind(this),(function(){He.img={},this._footageLoaded()}).bind(this)),He}function G(Le,He){this.imagesLoadedCb=He;var $e,Ne=Le.length;for($e=0;$e<Ne;$e+=1)Le[$e].layers||(!Le[$e].t||Le[$e].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Le[$e]))):Le[$e].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Le[$e]))))}function q(Le){this.path=Le||""}function ee(Le){this.assetsPath=Le||""}function ne(Le){for(var He=0,$e=this.images.length;He<$e;){if(this.images[He].assetData===Le)return this.images[He].img;He+=1}return null}function oe(){this.imagesLoadedCb=null,this.images.length=0}function pe(){return this.totalImages===this.loadedAssets}function xe(){return this.totalFootages===this.loadedFootagesCount}function _e(Le,He){Le==="svg"?(this._elementHelper=He,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Ue(){this._imageLoaded=x.bind(this),this._footageLoaded=y.bind(this),this.testImageLoaded=B.bind(this),this.createFootageData=O.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Ue.prototype={loadAssets:G,setAssetsPath:ee,setPath:q,loadedImages:pe,loadedFootages:xe,destroy:oe,getAsset:ne,createImgData:I,createImageData:R,imageLoaded:x,footageLoaded:y,setCacheType:_e},Ue})();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(x,y){if(this._cbs[x])for(var b=this._cbs[x],B=0;B<b.length;B+=1)b[B](y)},addEventListener:function(x,y){return this._cbs[x]||(this._cbs[x]=[]),this._cbs[x].push(y),(function(){this.removeEventListener(x,y)}).bind(this)},removeEventListener:function(x,y){if(!y)this._cbs[x]=null;else if(this._cbs[x]){for(var b=0,B=this._cbs[x].length;b<B;)this._cbs[x][b]===y&&(this._cbs[x].splice(b,1),b-=1,B-=1),b+=1;this._cbs[x].length||(this._cbs[x]=null)}}};var markerParser=(function(){function r(x){for(var y=x.split(`\r
`),b={},B,R=0,I=0;I<y.length;I+=1)B=y[I].split(":"),B.length===2&&(b[B[0]]=B[1].trim(),R+=1);if(R===0)throw new Error;return b}return function(x){for(var y=[],b=0;b<x.length;b+=1){var B=x[b],R={time:B.tm,duration:B.dr};try{R.payload=JSON.parse(x[b].cm)}catch{try{R.payload=r(x[b].cm)}catch{R.payload={name:x[b].cm}}}y.push(R)}return y}})(),ProjectInterface=(function(){function r(x){this.compositions.push(x)}return function(){function x(y){for(var b=0,B=this.compositions.length;b<B;){if(this.compositions[b].data&&this.compositions[b].data.nm===y)return this.compositions[b].prepareFrame&&this.compositions[b].data.xt&&this.compositions[b].prepareFrame(this.currentFrame),this.compositions[b].compInterface;b+=1}return null}return x.compositions=[],x.currentFrame=0,x.registerComposition=r,x}})(),renderers={},registerRenderer=function(x,y){renderers[x]=y};function getRenderer(r){return renderers[r]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var r in renderers)if(renderers[r])return r;return""}function _typeof$4(r){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof$4(r)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(r){(r.wrapper||r.container)&&(this.wrapper=r.wrapper||r.container);var x="svg";r.animType?x=r.animType:r.renderer&&(x=r.renderer);var y=getRenderer(x);this.renderer=new y(this,r.rendererSettings),this.imagePreloader.setCacheType(x,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=x,r.loop===""||r.loop===null||r.loop===void 0||r.loop===!0?this.loop=!0:r.loop===!1?this.loop=!1:this.loop=parseInt(r.loop,10),this.autoplay="autoplay"in r?r.autoplay:!0,this.name=r.name?r.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(r,"autoloadSegments")?r.autoloadSegments:!0,this.assetsPath=r.assetsPath,this.initialSegment=r.initialSegment,r.audioFactory&&this.audioController.setAudioFactory(r.audioFactory),r.animationData?this.setupAnimation(r.animationData):r.path&&(r.path.lastIndexOf("\\")!==-1?this.path=r.path.substr(0,r.path.lastIndexOf("\\")+1):this.path=r.path.substr(0,r.path.lastIndexOf("/")+1),this.fileName=r.path.substr(r.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(r.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(r){dataManager.completeAnimation(r,this.configAnimation)},AnimationItem.prototype.setData=function(r,x){x&&_typeof$4(x)!=="object"&&(x=JSON.parse(x));var y={wrapper:r,animationData:x},b=r.attributes;y.path=b.getNamedItem("data-animation-path")?b.getNamedItem("data-animation-path").value:b.getNamedItem("data-bm-path")?b.getNamedItem("data-bm-path").value:b.getNamedItem("bm-path")?b.getNamedItem("bm-path").value:"",y.animType=b.getNamedItem("data-anim-type")?b.getNamedItem("data-anim-type").value:b.getNamedItem("data-bm-type")?b.getNamedItem("data-bm-type").value:b.getNamedItem("bm-type")?b.getNamedItem("bm-type").value:b.getNamedItem("data-bm-renderer")?b.getNamedItem("data-bm-renderer").value:b.getNamedItem("bm-renderer")?b.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var B=b.getNamedItem("data-anim-loop")?b.getNamedItem("data-anim-loop").value:b.getNamedItem("data-bm-loop")?b.getNamedItem("data-bm-loop").value:b.getNamedItem("bm-loop")?b.getNamedItem("bm-loop").value:"";B==="false"?y.loop=!1:B==="true"?y.loop=!0:B!==""&&(y.loop=parseInt(B,10));var R=b.getNamedItem("data-anim-autoplay")?b.getNamedItem("data-anim-autoplay").value:b.getNamedItem("data-bm-autoplay")?b.getNamedItem("data-bm-autoplay").value:b.getNamedItem("bm-autoplay")?b.getNamedItem("bm-autoplay").value:!0;y.autoplay=R!=="false",y.name=b.getNamedItem("data-name")?b.getNamedItem("data-name").value:b.getNamedItem("data-bm-name")?b.getNamedItem("data-bm-name").value:b.getNamedItem("bm-name")?b.getNamedItem("bm-name").value:"";var I=b.getNamedItem("data-anim-prerender")?b.getNamedItem("data-anim-prerender").value:b.getNamedItem("data-bm-prerender")?b.getNamedItem("data-bm-prerender").value:b.getNamedItem("bm-prerender")?b.getNamedItem("bm-prerender").value:"";I==="false"&&(y.prerender=!1),y.path?this.setParams(y):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(r){r.op>this.animationData.op&&(this.animationData.op=r.op,this.totalFrames=Math.floor(r.op-this.animationData.ip));var x=this.animationData.layers,y,b=x.length,B=r.layers,R,I=B.length;for(R=0;R<I;R+=1)for(y=0;y<b;){if(x[y].id===B[R].id){x[y]=B[R];break}y+=1}if((r.chars||r.fonts)&&(this.renderer.globalData.fontManager.addChars(r.chars),this.renderer.globalData.fontManager.addFonts(r.fonts,this.renderer.globalData.defs)),r.assets)for(b=r.assets.length,y=0;y<b;y+=1)this.animationData.assets.push(r.assets[y]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(r){this.animationData=r;var x=getExpressionsPlugin();x&&x.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var r=this.animationData.segments;if(!r||r.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var x=r.shift();this.timeCompleted=x.time*this.frameRate;var y=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(y,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var r=this.animationData.segments;r||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(r){if(this.renderer)try{this.animationData=r,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(r),r.assets||(r.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(r.assets),this.markers=markerParser(r.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(x){this.triggerConfigError(x)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var r=getExpressionsPlugin();r&&r.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(r,x){var y=typeof r=="number"?r:void 0,b=typeof x=="number"?x:void 0;this.renderer.updateContainerSize(y,b)},AnimationItem.prototype.setSubframe=function(r){this.isSubframeEnabled=!!r},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(r){this.triggerRenderFrameError(r)}},AnimationItem.prototype.play=function(r){r&&this.name!==r||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(r){r&&this.name!==r||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(r){r&&this.name!==r||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(r){r&&this.name!==r||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(r){for(var x,y=0;y<this.markers.length;y+=1)if(x=this.markers[y],x.payload&&x.payload.name===r)return x;return null},AnimationItem.prototype.goToAndStop=function(r,x,y){if(!(y&&this.name!==y)){var b=Number(r);if(isNaN(b)){var B=this.getMarkerData(r);B&&this.goToAndStop(B.time,!0)}else x?this.setCurrentRawFrameValue(r):this.setCurrentRawFrameValue(r*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(r,x,y){if(!(y&&this.name!==y)){var b=Number(r);if(isNaN(b)){var B=this.getMarkerData(r);B&&(B.duration?this.playSegments([B.time,B.time+B.duration],!0):this.goToAndStop(B.time,!0))}else this.goToAndStop(b,x,y);this.play()}},AnimationItem.prototype.advanceTime=function(r){if(!(this.isPaused===!0||this.isLoaded===!1)){var x=this.currentRawFrame+r*this.frameModifier,y=!1;x>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(x>this.totalFrames?x%this.totalFrames:0)||(y=!0,x=this.totalFrames-1):x>=this.totalFrames?(this.playCount+=1,this.checkSegments(x%this.totalFrames)||(this.setCurrentRawFrameValue(x%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(x):x<0?this.checkSegments(x%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+x%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(y=!0,x=0)):this.setCurrentRawFrameValue(x),y&&(this.setCurrentRawFrameValue(x),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(r,x){this.playCount=0,r[1]<r[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=r[0]-r[1],this.timeCompleted=this.totalFrames,this.firstFrame=r[1],this.setCurrentRawFrameValue(this.totalFrames-.001-x)):r[1]>r[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=r[1]-r[0],this.timeCompleted=this.totalFrames,this.firstFrame=r[0],this.setCurrentRawFrameValue(.001+x)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(r,x){var y=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<r?y=r:this.currentRawFrame+this.firstFrame>x&&(y=x-r)),this.firstFrame=r,this.totalFrames=x-r,this.timeCompleted=this.totalFrames,y!==-1&&this.goToAndStop(y,!0)},AnimationItem.prototype.playSegments=function(r,x){if(x&&(this.segments.length=0),_typeof$4(r[0])==="object"){var y,b=r.length;for(y=0;y<b;y+=1)this.segments.push(r[y])}else this.segments.push(r);this.segments.length&&x&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(r){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),r&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(r){return this.segments.length?(this.adjustSegment(this.segments.shift(),r),!0):!1},AnimationItem.prototype.destroy=function(r){r&&this.name!==r||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(r){this.currentRawFrame=r,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(r){this.playSpeed=r,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(r){this.playDirection=r<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(r){this.loop=r},AnimationItem.prototype.setVolume=function(r,x){x&&this.name!==x||this.audioController.setVolume(r)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(r){r&&this.name!==r||this.audioController.mute()},AnimationItem.prototype.unmute=function(r){r&&this.name!==r||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(r){var x="";if(r.e)x=r.p;else if(this.assetsPath){var y=r.p;y.indexOf("images/")!==-1&&(y=y.split("/")[1]),x=this.assetsPath+y}else x=this.path,x+=r.u?r.u:"",x+=r.p;return x},AnimationItem.prototype.getAssetData=function(r){for(var x=0,y=this.assets.length;x<y;){if(r===this.assets[x].id)return this.assets[x];x+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(r){return r?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(r,x,y){try{var b=this.renderer.getElementByPath(r);b.updateDocumentData(x,y)}catch{}},AnimationItem.prototype.trigger=function(r){if(this._cbs&&this._cbs[r])switch(r){case"enterFrame":this.triggerEvent(r,new BMEnterFrameEvent(r,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(r,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(r,new BMCompleteLoopEvent(r,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(r,new BMCompleteEvent(r,this.frameMult));break;case"segmentStart":this.triggerEvent(r,new BMSegmentStartEvent(r,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(r,new BMDestroyEvent(r,this));break;default:this.triggerEvent(r)}r==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(r,this.currentFrame,this.totalFrames,this.frameMult)),r==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(r,this.loop,this.playCount,this.frameMult)),r==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(r,this.frameMult)),r==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(r,this.firstFrame,this.totalFrames)),r==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(r,this))},AnimationItem.prototype.triggerRenderFrameError=function(r){var x=new BMRenderFrameErrorEvent(r,this.currentFrame);this.triggerEvent("error",x),this.onError&&this.onError.call(this,x)},AnimationItem.prototype.triggerConfigError=function(r){var x=new BMConfigErrorEvent(r,this.currentFrame);this.triggerEvent("error",x),this.onError&&this.onError.call(this,x)};var animationManager=(function(){var r={},x=[],y=0,b=0,B=0,R=!0,I=!1;function O(Ze){for(var it=0,Ye=Ze.target;it<b;)x[it].animation===Ye&&(x.splice(it,1),it-=1,b-=1,Ye.isPaused||ne()),it+=1}function G(Ze,it){if(!Ze)return null;for(var Ye=0;Ye<b;){if(x[Ye].elem===Ze&&x[Ye].elem!==null)return x[Ye].animation;Ye+=1}var et=new AnimationItem;return oe(et,Ze),et.setData(Ze,it),et}function q(){var Ze,it=x.length,Ye=[];for(Ze=0;Ze<it;Ze+=1)Ye.push(x[Ze].animation);return Ye}function ee(){B+=1,ut()}function ne(){B-=1}function oe(Ze,it){Ze.addEventListener("destroy",O),Ze.addEventListener("_active",ee),Ze.addEventListener("_idle",ne),x.push({elem:it,animation:Ze}),b+=1}function pe(Ze){var it=new AnimationItem;return oe(it,null),it.setParams(Ze),it}function xe(Ze,it){var Ye;for(Ye=0;Ye<b;Ye+=1)x[Ye].animation.setSpeed(Ze,it)}function _e(Ze,it){var Ye;for(Ye=0;Ye<b;Ye+=1)x[Ye].animation.setDirection(Ze,it)}function Ue(Ze){var it;for(it=0;it<b;it+=1)x[it].animation.play(Ze)}function Le(Ze){var it=Ze-y,Ye;for(Ye=0;Ye<b;Ye+=1)x[Ye].animation.advanceTime(it);y=Ze,B&&!I?window.requestAnimationFrame(Le):R=!0}function He(Ze){y=Ze,window.requestAnimationFrame(Le)}function $e(Ze){var it;for(it=0;it<b;it+=1)x[it].animation.pause(Ze)}function Ne(Ze,it,Ye){var et;for(et=0;et<b;et+=1)x[et].animation.goToAndStop(Ze,it,Ye)}function Qe(Ze){var it;for(it=0;it<b;it+=1)x[it].animation.stop(Ze)}function We(Ze){var it;for(it=0;it<b;it+=1)x[it].animation.togglePause(Ze)}function Ge(Ze){var it;for(it=b-1;it>=0;it-=1)x[it].animation.destroy(Ze)}function Xe(Ze,it,Ye){var et=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),gt,st=et.length;for(gt=0;gt<st;gt+=1)Ye&&et[gt].setAttribute("data-bm-type",Ye),G(et[gt],Ze);if(it&&st===0){Ye||(Ye="svg");var ht=document.getElementsByTagName("body")[0];ht.innerText="";var vt=createTag("div");vt.style.width="100%",vt.style.height="100%",vt.setAttribute("data-bm-type",Ye),ht.appendChild(vt),G(vt,Ze)}}function Je(){var Ze;for(Ze=0;Ze<b;Ze+=1)x[Ze].animation.resize()}function ut(){!I&&B&&R&&(window.requestAnimationFrame(He),R=!1)}function ft(){I=!0}function ct(){I=!1,ut()}function pt(Ze,it){var Ye;for(Ye=0;Ye<b;Ye+=1)x[Ye].animation.setVolume(Ze,it)}function yt(Ze){var it;for(it=0;it<b;it+=1)x[it].animation.mute(Ze)}function lt(Ze){var it;for(it=0;it<b;it+=1)x[it].animation.unmute(Ze)}return r.registerAnimation=G,r.loadAnimation=pe,r.setSpeed=xe,r.setDirection=_e,r.play=Ue,r.pause=$e,r.stop=Qe,r.togglePause=We,r.searchAnimations=Xe,r.resize=Je,r.goToAndStop=Ne,r.destroy=Ge,r.freeze=ft,r.unfreeze=ct,r.setVolume=pt,r.mute=yt,r.unmute=lt,r.getRegisteredAnimations=q,r})(),BezierFactory=(function(){var r={};r.getBezierEasing=y;var x={};function y(He,$e,Ne,Qe,We){var Ge=We||("bez_"+He+"_"+$e+"_"+Ne+"_"+Qe).replace(/\./g,"p");if(x[Ge])return x[Ge];var Xe=new Le([He,$e,Ne,Qe]);return x[Ge]=Xe,Xe}var b=4,B=.001,R=1e-7,I=10,O=11,G=1/(O-1),q=typeof Float32Array=="function";function ee(He,$e){return 1-3*$e+3*He}function ne(He,$e){return 3*$e-6*He}function oe(He){return 3*He}function pe(He,$e,Ne){return((ee($e,Ne)*He+ne($e,Ne))*He+oe($e))*He}function xe(He,$e,Ne){return 3*ee($e,Ne)*He*He+2*ne($e,Ne)*He+oe($e)}function _e(He,$e,Ne,Qe,We){var Ge,Xe,Je=0;do Xe=$e+(Ne-$e)/2,Ge=pe(Xe,Qe,We)-He,Ge>0?Ne=Xe:$e=Xe;while(Math.abs(Ge)>R&&++Je<I);return Xe}function Ue(He,$e,Ne,Qe){for(var We=0;We<b;++We){var Ge=xe($e,Ne,Qe);if(Ge===0)return $e;var Xe=pe($e,Ne,Qe)-He;$e-=Xe/Ge}return $e}function Le(He){this._p=He,this._mSampleValues=q?new Float32Array(O):new Array(O),this._precomputed=!1,this.get=this.get.bind(this)}return Le.prototype={get:function($e){var Ne=this._p[0],Qe=this._p[1],We=this._p[2],Ge=this._p[3];return this._precomputed||this._precompute(),Ne===Qe&&We===Ge?$e:$e===0?0:$e===1?1:pe(this._getTForX($e),Qe,Ge)},_precompute:function(){var $e=this._p[0],Ne=this._p[1],Qe=this._p[2],We=this._p[3];this._precomputed=!0,($e!==Ne||Qe!==We)&&this._calcSampleValues()},_calcSampleValues:function(){for(var $e=this._p[0],Ne=this._p[2],Qe=0;Qe<O;++Qe)this._mSampleValues[Qe]=pe(Qe*G,$e,Ne)},_getTForX:function($e){for(var Ne=this._p[0],Qe=this._p[2],We=this._mSampleValues,Ge=0,Xe=1,Je=O-1;Xe!==Je&&We[Xe]<=$e;++Xe)Ge+=G;--Xe;var ut=($e-We[Xe])/(We[Xe+1]-We[Xe]),ft=Ge+ut*G,ct=xe(ft,Ne,Qe);return ct>=B?Ue($e,ft,Ne,Qe):ct===0?ft:_e($e,Ge,Ge+G,Ne,Qe)}},r})(),pooling=(function(){function r(x){return x.concat(createSizedArray(x.length))}return{double:r}})(),poolFactory=(function(){return function(r,x,y){var b=0,B=r,R=createSizedArray(B),I={newElement:O,release:G};function O(){var q;return b?(b-=1,q=R[b]):q=x(),q}function G(q){b===B&&(R=pooling.double(R),B*=2),y&&y(q),R[b]=q,b+=1}return I}})(),bezierLengthPool=(function(){function r(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,r)})(),segmentsLengthPool=(function(){function r(){return{lengths:[],totalLength:0}}function x(y){var b,B=y.lengths.length;for(b=0;b<B;b+=1)bezierLengthPool.release(y.lengths[b]);y.lengths.length=0}return poolFactory(8,r,x)})();function bezFunction(){var r=Math;function x(oe,pe,xe,_e,Ue,Le){var He=oe*_e+pe*Ue+xe*Le-Ue*_e-Le*oe-xe*pe;return He>-.001&&He<.001}function y(oe,pe,xe,_e,Ue,Le,He,$e,Ne){if(xe===0&&Le===0&&Ne===0)return x(oe,pe,_e,Ue,He,$e);var Qe=r.sqrt(r.pow(_e-oe,2)+r.pow(Ue-pe,2)+r.pow(Le-xe,2)),We=r.sqrt(r.pow(He-oe,2)+r.pow($e-pe,2)+r.pow(Ne-xe,2)),Ge=r.sqrt(r.pow(He-_e,2)+r.pow($e-Ue,2)+r.pow(Ne-Le,2)),Xe;return Qe>We?Qe>Ge?Xe=Qe-We-Ge:Xe=Ge-We-Qe:Ge>We?Xe=Ge-We-Qe:Xe=We-Qe-Ge,Xe>-1e-4&&Xe<1e-4}var b=(function(){return function(oe,pe,xe,_e){var Ue=getDefaultCurveSegments(),Le,He,$e,Ne,Qe,We=0,Ge,Xe=[],Je=[],ut=bezierLengthPool.newElement();for($e=xe.length,Le=0;Le<Ue;Le+=1){for(Qe=Le/(Ue-1),Ge=0,He=0;He<$e;He+=1)Ne=bmPow(1-Qe,3)*oe[He]+3*bmPow(1-Qe,2)*Qe*xe[He]+3*(1-Qe)*bmPow(Qe,2)*_e[He]+bmPow(Qe,3)*pe[He],Xe[He]=Ne,Je[He]!==null&&(Ge+=bmPow(Xe[He]-Je[He],2)),Je[He]=Xe[He];Ge&&(Ge=bmSqrt(Ge),We+=Ge),ut.percents[Le]=Qe,ut.lengths[Le]=We}return ut.addedLength=We,ut}})();function B(oe){var pe=segmentsLengthPool.newElement(),xe=oe.c,_e=oe.v,Ue=oe.o,Le=oe.i,He,$e=oe._length,Ne=pe.lengths,Qe=0;for(He=0;He<$e-1;He+=1)Ne[He]=b(_e[He],_e[He+1],Ue[He],Le[He+1]),Qe+=Ne[He].addedLength;return xe&&$e&&(Ne[He]=b(_e[He],_e[0],Ue[He],Le[0]),Qe+=Ne[He].addedLength),pe.totalLength=Qe,pe}function R(oe){this.segmentLength=0,this.points=new Array(oe)}function I(oe,pe){this.partialLength=oe,this.point=pe}var O=(function(){var oe={};return function(pe,xe,_e,Ue){var Le=(pe[0]+"_"+pe[1]+"_"+xe[0]+"_"+xe[1]+"_"+_e[0]+"_"+_e[1]+"_"+Ue[0]+"_"+Ue[1]).replace(/\./g,"p");if(!oe[Le]){var He=getDefaultCurveSegments(),$e,Ne,Qe,We,Ge,Xe=0,Je,ut,ft=null;pe.length===2&&(pe[0]!==xe[0]||pe[1]!==xe[1])&&x(pe[0],pe[1],xe[0],xe[1],pe[0]+_e[0],pe[1]+_e[1])&&x(pe[0],pe[1],xe[0],xe[1],xe[0]+Ue[0],xe[1]+Ue[1])&&(He=2);var ct=new R(He);for(Qe=_e.length,$e=0;$e<He;$e+=1){for(ut=createSizedArray(Qe),Ge=$e/(He-1),Je=0,Ne=0;Ne<Qe;Ne+=1)We=bmPow(1-Ge,3)*pe[Ne]+3*bmPow(1-Ge,2)*Ge*(pe[Ne]+_e[Ne])+3*(1-Ge)*bmPow(Ge,2)*(xe[Ne]+Ue[Ne])+bmPow(Ge,3)*xe[Ne],ut[Ne]=We,ft!==null&&(Je+=bmPow(ut[Ne]-ft[Ne],2));Je=bmSqrt(Je),Xe+=Je,ct.points[$e]=new I(Je,ut),ft=ut}ct.segmentLength=Xe,oe[Le]=ct}return oe[Le]}})();function G(oe,pe){var xe=pe.percents,_e=pe.lengths,Ue=xe.length,Le=bmFloor((Ue-1)*oe),He=oe*pe.addedLength,$e=0;if(Le===Ue-1||Le===0||He===_e[Le])return xe[Le];for(var Ne=_e[Le]>He?-1:1,Qe=!0;Qe;)if(_e[Le]<=He&&_e[Le+1]>He?($e=(He-_e[Le])/(_e[Le+1]-_e[Le]),Qe=!1):Le+=Ne,Le<0||Le>=Ue-1){if(Le===Ue-1)return xe[Le];Qe=!1}return xe[Le]+(xe[Le+1]-xe[Le])*$e}function q(oe,pe,xe,_e,Ue,Le){var He=G(Ue,Le),$e=1-He,Ne=r.round(($e*$e*$e*oe[0]+(He*$e*$e+$e*He*$e+$e*$e*He)*xe[0]+(He*He*$e+$e*He*He+He*$e*He)*_e[0]+He*He*He*pe[0])*1e3)/1e3,Qe=r.round(($e*$e*$e*oe[1]+(He*$e*$e+$e*He*$e+$e*$e*He)*xe[1]+(He*He*$e+$e*He*He+He*$e*He)*_e[1]+He*He*He*pe[1])*1e3)/1e3;return[Ne,Qe]}var ee=createTypedArray("float32",8);function ne(oe,pe,xe,_e,Ue,Le,He){Ue<0?Ue=0:Ue>1&&(Ue=1);var $e=G(Ue,He);Le=Le>1?1:Le;var Ne=G(Le,He),Qe,We=oe.length,Ge=1-$e,Xe=1-Ne,Je=Ge*Ge*Ge,ut=$e*Ge*Ge*3,ft=$e*$e*Ge*3,ct=$e*$e*$e,pt=Ge*Ge*Xe,yt=$e*Ge*Xe+Ge*$e*Xe+Ge*Ge*Ne,lt=$e*$e*Xe+Ge*$e*Ne+$e*Ge*Ne,Ze=$e*$e*Ne,it=Ge*Xe*Xe,Ye=$e*Xe*Xe+Ge*Ne*Xe+Ge*Xe*Ne,et=$e*Ne*Xe+Ge*Ne*Ne+$e*Xe*Ne,gt=$e*Ne*Ne,st=Xe*Xe*Xe,ht=Ne*Xe*Xe+Xe*Ne*Xe+Xe*Xe*Ne,vt=Ne*Ne*Xe+Xe*Ne*Ne+Ne*Xe*Ne,Et=Ne*Ne*Ne;for(Qe=0;Qe<We;Qe+=1)ee[Qe*4]=r.round((Je*oe[Qe]+ut*xe[Qe]+ft*_e[Qe]+ct*pe[Qe])*1e3)/1e3,ee[Qe*4+1]=r.round((pt*oe[Qe]+yt*xe[Qe]+lt*_e[Qe]+Ze*pe[Qe])*1e3)/1e3,ee[Qe*4+2]=r.round((it*oe[Qe]+Ye*xe[Qe]+et*_e[Qe]+gt*pe[Qe])*1e3)/1e3,ee[Qe*4+3]=r.round((st*oe[Qe]+ht*xe[Qe]+vt*_e[Qe]+Et*pe[Qe])*1e3)/1e3;return ee}return{getSegmentsLength:B,getNewSegment:ne,getPointInSegment:q,buildBezierData:O,pointOnLine2D:x,pointOnLine3D:y}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(r,x){var y=this.offsetTime,b;this.propType==="multidimensional"&&(b=createTypedArray("float32",this.pv.length));for(var B=x.lastIndex,R=B,I=this.keyframes.length-1,O=!0,G,q,ee;O;){if(G=this.keyframes[R],q=this.keyframes[R+1],R===I-1&&r>=q.t-y){G.h&&(G=q),B=0;break}if(q.t-y>r){B=R;break}R<I-1?R+=1:(B=0,O=!1)}ee=this.keyframesMetadata[R]||{};var ne,oe,pe,xe,_e,Ue,Le=q.t-y,He=G.t-y,$e;if(G.to){ee.bezierData||(ee.bezierData=bez.buildBezierData(G.s,q.s||G.e,G.to,G.ti));var Ne=ee.bezierData;if(r>=Le||r<He){var Qe=r>=Le?Ne.points.length-1:0;for(oe=Ne.points[Qe].point.length,ne=0;ne<oe;ne+=1)b[ne]=Ne.points[Qe].point[ne]}else{ee.__fnct?Ue=ee.__fnct:(Ue=BezierFactory.getBezierEasing(G.o.x,G.o.y,G.i.x,G.i.y,G.n).get,ee.__fnct=Ue),pe=Ue((r-He)/(Le-He));var We=Ne.segmentLength*pe,Ge,Xe=x.lastFrame<r&&x._lastKeyframeIndex===R?x._lastAddedLength:0;for(_e=x.lastFrame<r&&x._lastKeyframeIndex===R?x._lastPoint:0,O=!0,xe=Ne.points.length;O;){if(Xe+=Ne.points[_e].partialLength,We===0||pe===0||_e===Ne.points.length-1){for(oe=Ne.points[_e].point.length,ne=0;ne<oe;ne+=1)b[ne]=Ne.points[_e].point[ne];break}else if(We>=Xe&&We<Xe+Ne.points[_e+1].partialLength){for(Ge=(We-Xe)/Ne.points[_e+1].partialLength,oe=Ne.points[_e].point.length,ne=0;ne<oe;ne+=1)b[ne]=Ne.points[_e].point[ne]+(Ne.points[_e+1].point[ne]-Ne.points[_e].point[ne])*Ge;break}_e<xe-1?_e+=1:O=!1}x._lastPoint=_e,x._lastAddedLength=Xe-Ne.points[_e].partialLength,x._lastKeyframeIndex=R}}else{var Je,ut,ft,ct,pt;if(I=G.s.length,$e=q.s||G.e,this.sh&&G.h!==1)if(r>=Le)b[0]=$e[0],b[1]=$e[1],b[2]=$e[2];else if(r<=He)b[0]=G.s[0],b[1]=G.s[1],b[2]=G.s[2];else{var yt=createQuaternion(G.s),lt=createQuaternion($e),Ze=(r-He)/(Le-He);quaternionToEuler(b,slerp(yt,lt,Ze))}else for(R=0;R<I;R+=1)G.h!==1&&(r>=Le?pe=1:r<He?pe=0:(G.o.x.constructor===Array?(ee.__fnct||(ee.__fnct=[]),ee.__fnct[R]?Ue=ee.__fnct[R]:(Je=G.o.x[R]===void 0?G.o.x[0]:G.o.x[R],ut=G.o.y[R]===void 0?G.o.y[0]:G.o.y[R],ft=G.i.x[R]===void 0?G.i.x[0]:G.i.x[R],ct=G.i.y[R]===void 0?G.i.y[0]:G.i.y[R],Ue=BezierFactory.getBezierEasing(Je,ut,ft,ct).get,ee.__fnct[R]=Ue)):ee.__fnct?Ue=ee.__fnct:(Je=G.o.x,ut=G.o.y,ft=G.i.x,ct=G.i.y,Ue=BezierFactory.getBezierEasing(Je,ut,ft,ct).get,G.keyframeMetadata=Ue),pe=Ue((r-He)/(Le-He)))),$e=q.s||G.e,pt=G.h===1?G.s[R]:G.s[R]+($e[R]-G.s[R])*pe,this.propType==="multidimensional"?b[R]=pt:b=pt}return x.lastIndex=B,b}function slerp(r,x,y){var b=[],B=r[0],R=r[1],I=r[2],O=r[3],G=x[0],q=x[1],ee=x[2],ne=x[3],oe,pe,xe,_e,Ue;return pe=B*G+R*q+I*ee+O*ne,pe<0&&(pe=-pe,G=-G,q=-q,ee=-ee,ne=-ne),1-pe>1e-6?(oe=Math.acos(pe),xe=Math.sin(oe),_e=Math.sin((1-y)*oe)/xe,Ue=Math.sin(y*oe)/xe):(_e=1-y,Ue=y),b[0]=_e*B+Ue*G,b[1]=_e*R+Ue*q,b[2]=_e*I+Ue*ee,b[3]=_e*O+Ue*ne,b}function quaternionToEuler(r,x){var y=x[0],b=x[1],B=x[2],R=x[3],I=Math.atan2(2*b*R-2*y*B,1-2*b*b-2*B*B),O=Math.asin(2*y*b+2*B*R),G=Math.atan2(2*y*R-2*b*B,1-2*y*y-2*B*B);r[0]=I/degToRads,r[1]=O/degToRads,r[2]=G/degToRads}function createQuaternion(r){var x=r[0]*degToRads,y=r[1]*degToRads,b=r[2]*degToRads,B=Math.cos(x/2),R=Math.cos(y/2),I=Math.cos(b/2),O=Math.sin(x/2),G=Math.sin(y/2),q=Math.sin(b/2),ee=B*R*I-O*G*q,ne=O*G*I+B*R*q,oe=O*R*I+B*G*q,pe=B*G*I-O*R*q;return[ne,oe,pe,ee]}function getValueAtCurrentTime(){var r=this.comp.renderedFrame-this.offsetTime,x=this.keyframes[0].t-this.offsetTime,y=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(r===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=y&&r>=y||this._caching.lastFrame<x&&r<x))){this._caching.lastFrame>=r&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var b=this.interpolateValue(r,this._caching);this.pv=b}return this._caching.lastFrame=r,this.pv}function setVValue(r){var x;if(this.propType==="unidimensional")x=r*this.mult,mathAbs(this.v-x)>1e-5&&(this.v=x,this._mdf=!0);else for(var y=0,b=this.v.length;y<b;)x=r[y]*this.mult,mathAbs(this.v[y]-x)>1e-5&&(this.v[y]=x,this._mdf=!0),y+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var r,x=this.effectsSequence.length,y=this.kf?this.pv:this.data.k;for(r=0;r<x;r+=1)y=this.effectsSequence[r](y);this.setVValue(y),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(r){this.effectsSequence.push(r),this.container.addDynamicProperty(this)}function ValueProperty(r,x,y,b){this.propType="unidimensional",this.mult=y||1,this.data=x,this.v=y?x.k*y:x.k,this.pv=x.k,this._mdf=!1,this.elem=r,this.container=b,this.comp=r.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(r,x,y,b){this.propType="multidimensional",this.mult=y||1,this.data=x,this._mdf=!1,this.elem=r,this.container=b,this.comp=r.comp,this.k=!1,this.kf=!1,this.frameId=-1;var B,R=x.k.length;for(this.v=createTypedArray("float32",R),this.pv=createTypedArray("float32",R),this.vel=createTypedArray("float32",R),B=0;B<R;B+=1)this.v[B]=x.k[B]*this.mult,this.pv[B]=x.k[B];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(r,x,y,b){this.propType="unidimensional",this.keyframes=x.k,this.keyframesMetadata=[],this.offsetTime=r.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=x,this.mult=y||1,this.elem=r,this.container=b,this.comp=r.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(r,x,y,b){this.propType="multidimensional";var B,R=x.k.length,I,O,G,q;for(B=0;B<R-1;B+=1)x.k[B].to&&x.k[B].s&&x.k[B+1]&&x.k[B+1].s&&(I=x.k[B].s,O=x.k[B+1].s,G=x.k[B].to,q=x.k[B].ti,(I.length===2&&!(I[0]===O[0]&&I[1]===O[1])&&bez.pointOnLine2D(I[0],I[1],O[0],O[1],I[0]+G[0],I[1]+G[1])&&bez.pointOnLine2D(I[0],I[1],O[0],O[1],O[0]+q[0],O[1]+q[1])||I.length===3&&!(I[0]===O[0]&&I[1]===O[1]&&I[2]===O[2])&&bez.pointOnLine3D(I[0],I[1],I[2],O[0],O[1],O[2],I[0]+G[0],I[1]+G[1],I[2]+G[2])&&bez.pointOnLine3D(I[0],I[1],I[2],O[0],O[1],O[2],O[0]+q[0],O[1]+q[1],O[2]+q[2]))&&(x.k[B].to=null,x.k[B].ti=null),I[0]===O[0]&&I[1]===O[1]&&G[0]===0&&G[1]===0&&q[0]===0&&q[1]===0&&(I.length===2||I[2]===O[2]&&G[2]===0&&q[2]===0)&&(x.k[B].to=null,x.k[B].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=x,this.keyframes=x.k,this.keyframesMetadata=[],this.offsetTime=r.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=y||1,this.elem=r,this.container=b,this.comp=r.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var ee=x.k[0].s.length;for(this.v=createTypedArray("float32",ee),this.pv=createTypedArray("float32",ee),B=0;B<ee;B+=1)this.v[B]=initFrame,this.pv[B]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",ee)},this.addEffect=addEffect}var PropertyFactory=(function(){function r(y,b,B,R,I){b.sid&&(b=y.globalData.slotManager.getProp(b));var O;if(!b.k.length)O=new ValueProperty(y,b,R,I);else if(typeof b.k[0]=="number")O=new MultiDimensionalProperty(y,b,R,I);else switch(B){case 0:O=new KeyframedValueProperty(y,b,R,I);break;case 1:O=new KeyframedMultidimensionalProperty(y,b,R,I);break}return O.effectsSequence.length&&I.addDynamicProperty(O),O}var x={getProp:r};return x})();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(x){this.dynamicProperties.indexOf(x)===-1&&(this.dynamicProperties.push(x),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var x,y=this.dynamicProperties.length;for(x=0;x<y;x+=1)this.dynamicProperties[x].getValue(),this.dynamicProperties[x]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(x){this.container=x,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=(function(){function r(){return createTypedArray("float32",2)}return poolFactory(8,r)})();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(r,x){this.c=r,this.setLength(x);for(var y=0;y<x;)this.v[y]=pointPool.newElement(),this.o[y]=pointPool.newElement(),this.i[y]=pointPool.newElement(),y+=1},ShapePath.prototype.setLength=function(r){for(;this._maxLength<r;)this.doubleArrayLength();this._length=r},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(r,x,y,b,B){var R;switch(this._length=Math.max(this._length,b+1),this._length>=this._maxLength&&this.doubleArrayLength(),y){case"v":R=this.v;break;case"i":R=this.i;break;case"o":R=this.o;break;default:R=[];break}(!R[b]||R[b]&&!B)&&(R[b]=pointPool.newElement()),R[b][0]=r,R[b][1]=x},ShapePath.prototype.setTripleAt=function(r,x,y,b,B,R,I,O){this.setXYAt(r,x,"v",I,O),this.setXYAt(y,b,"o",I,O),this.setXYAt(B,R,"i",I,O)},ShapePath.prototype.reverse=function(){var r=new ShapePath;r.setPathData(this.c,this._length);var x=this.v,y=this.o,b=this.i,B=0;this.c&&(r.setTripleAt(x[0][0],x[0][1],b[0][0],b[0][1],y[0][0],y[0][1],0,!1),B=1);var R=this._length-1,I=this._length,O;for(O=B;O<I;O+=1)r.setTripleAt(x[R][0],x[R][1],b[R][0],b[R][1],y[R][0],y[R][1],O,!1),R-=1;return r},ShapePath.prototype.length=function(){return this._length};var shapePool=(function(){function r(){return new ShapePath}function x(B){var R=B._length,I;for(I=0;I<R;I+=1)pointPool.release(B.v[I]),pointPool.release(B.i[I]),pointPool.release(B.o[I]),B.v[I]=null,B.i[I]=null,B.o[I]=null;B._length=0,B.c=!1}function y(B){var R=b.newElement(),I,O=B._length===void 0?B.v.length:B._length;for(R.setLength(O),R.c=B.c,I=0;I<O;I+=1)R.setTripleAt(B.v[I][0],B.v[I][1],B.o[I][0],B.o[I][1],B.i[I][0],B.i[I][1],I);return R}var b=poolFactory(4,r,x);return b.clone=y,b})();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(r){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=r,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var r;for(r=0;r<this._length;r+=1)shapePool.release(this.shapes[r]);this._length=0};var shapeCollectionPool=(function(){var r={newShapeCollection:B,release:R},x=0,y=4,b=createSizedArray(y);function B(){var I;return x?(x-=1,I=b[x]):I=new ShapeCollection,I}function R(I){var O,G=I._length;for(O=0;O<G;O+=1)shapePool.release(I.shapes[O]);I._length=0,x===y&&(b=pooling.double(b),y*=2),b[x]=I,x+=1}return r})(),ShapePropertyFactory=(function(){var r=-999999;function x(Le,He,$e){var Ne=$e.lastIndex,Qe,We,Ge,Xe,Je,ut,ft,ct,pt,yt=this.keyframes;if(Le<yt[0].t-this.offsetTime)Qe=yt[0].s[0],Ge=!0,Ne=0;else if(Le>=yt[yt.length-1].t-this.offsetTime)Qe=yt[yt.length-1].s?yt[yt.length-1].s[0]:yt[yt.length-2].e[0],Ge=!0;else{for(var lt=Ne,Ze=yt.length-1,it=!0,Ye,et,gt;it&&(Ye=yt[lt],et=yt[lt+1],!(et.t-this.offsetTime>Le));)lt<Ze-1?lt+=1:it=!1;if(gt=this.keyframesMetadata[lt]||{},Ge=Ye.h===1,Ne=lt,!Ge){if(Le>=et.t-this.offsetTime)ct=1;else if(Le<Ye.t-this.offsetTime)ct=0;else{var st;gt.__fnct?st=gt.__fnct:(st=BezierFactory.getBezierEasing(Ye.o.x,Ye.o.y,Ye.i.x,Ye.i.y).get,gt.__fnct=st),ct=st((Le-(Ye.t-this.offsetTime))/(et.t-this.offsetTime-(Ye.t-this.offsetTime)))}We=et.s?et.s[0]:Ye.e[0]}Qe=Ye.s[0]}for(ut=He._length,ft=Qe.i[0].length,$e.lastIndex=Ne,Xe=0;Xe<ut;Xe+=1)for(Je=0;Je<ft;Je+=1)pt=Ge?Qe.i[Xe][Je]:Qe.i[Xe][Je]+(We.i[Xe][Je]-Qe.i[Xe][Je])*ct,He.i[Xe][Je]=pt,pt=Ge?Qe.o[Xe][Je]:Qe.o[Xe][Je]+(We.o[Xe][Je]-Qe.o[Xe][Je])*ct,He.o[Xe][Je]=pt,pt=Ge?Qe.v[Xe][Je]:Qe.v[Xe][Je]+(We.v[Xe][Je]-Qe.v[Xe][Je])*ct,He.v[Xe][Je]=pt}function y(){var Le=this.comp.renderedFrame-this.offsetTime,He=this.keyframes[0].t-this.offsetTime,$e=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Ne=this._caching.lastFrame;return Ne!==r&&(Ne<He&&Le<He||Ne>$e&&Le>$e)||(this._caching.lastIndex=Ne<Le?this._caching.lastIndex:0,this.interpolateShape(Le,this.pv,this._caching)),this._caching.lastFrame=Le,this.pv}function b(){this.paths=this.localShapeCollection}function B(Le,He){if(Le._length!==He._length||Le.c!==He.c)return!1;var $e,Ne=Le._length;for($e=0;$e<Ne;$e+=1)if(Le.v[$e][0]!==He.v[$e][0]||Le.v[$e][1]!==He.v[$e][1]||Le.o[$e][0]!==He.o[$e][0]||Le.o[$e][1]!==He.o[$e][1]||Le.i[$e][0]!==He.i[$e][0]||Le.i[$e][1]!==He.i[$e][1])return!1;return!0}function R(Le){B(this.v,Le)||(this.v=shapePool.clone(Le),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function I(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Le;this.kf?Le=this.pv:this.data.ks?Le=this.data.ks.k:Le=this.data.pt.k;var He,$e=this.effectsSequence.length;for(He=0;He<$e;He+=1)Le=this.effectsSequence[He](Le);this.setVValue(Le),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function O(Le,He,$e){this.propType="shape",this.comp=Le.comp,this.container=Le,this.elem=Le,this.data=He,this.k=!1,this.kf=!1,this._mdf=!1;var Ne=$e===3?He.pt.k:He.ks.k;this.v=shapePool.clone(Ne),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=b,this.effectsSequence=[]}function G(Le){this.effectsSequence.push(Le),this.container.addDynamicProperty(this)}O.prototype.interpolateShape=x,O.prototype.getValue=I,O.prototype.setVValue=R,O.prototype.addEffect=G;function q(Le,He,$e){this.propType="shape",this.comp=Le.comp,this.elem=Le,this.container=Le,this.offsetTime=Le.data.st,this.keyframes=$e===3?He.pt.k:He.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Ne=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Ne),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=r,this.reset=b,this._caching={lastFrame:r,lastIndex:0},this.effectsSequence=[y.bind(this)]}q.prototype.getValue=I,q.prototype.interpolateShape=x,q.prototype.setVValue=R,q.prototype.addEffect=G;var ee=(function(){var Le=roundCorner;function He($e,Ne){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Ne.d,this.elem=$e,this.comp=$e.comp,this.frameId=-1,this.initDynamicPropertyContainer($e),this.p=PropertyFactory.getProp($e,Ne.p,1,0,this),this.s=PropertyFactory.getProp($e,Ne.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return He.prototype={reset:b,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Ne=this.p.v[0],Qe=this.p.v[1],We=this.s.v[0]/2,Ge=this.s.v[1]/2,Xe=this.d!==3,Je=this.v;Je.v[0][0]=Ne,Je.v[0][1]=Qe-Ge,Je.v[1][0]=Xe?Ne+We:Ne-We,Je.v[1][1]=Qe,Je.v[2][0]=Ne,Je.v[2][1]=Qe+Ge,Je.v[3][0]=Xe?Ne-We:Ne+We,Je.v[3][1]=Qe,Je.i[0][0]=Xe?Ne-We*Le:Ne+We*Le,Je.i[0][1]=Qe-Ge,Je.i[1][0]=Xe?Ne+We:Ne-We,Je.i[1][1]=Qe-Ge*Le,Je.i[2][0]=Xe?Ne+We*Le:Ne-We*Le,Je.i[2][1]=Qe+Ge,Je.i[3][0]=Xe?Ne-We:Ne+We,Je.i[3][1]=Qe+Ge*Le,Je.o[0][0]=Xe?Ne+We*Le:Ne-We*Le,Je.o[0][1]=Qe-Ge,Je.o[1][0]=Xe?Ne+We:Ne-We,Je.o[1][1]=Qe+Ge*Le,Je.o[2][0]=Xe?Ne-We*Le:Ne+We*Le,Je.o[2][1]=Qe+Ge,Je.o[3][0]=Xe?Ne-We:Ne+We,Je.o[3][1]=Qe-Ge*Le}},extendPrototype([DynamicPropertyContainer],He),He})(),ne=(function(){function Le(He,$e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=He,this.comp=He.comp,this.data=$e,this.frameId=-1,this.d=$e.d,this.initDynamicPropertyContainer(He),$e.sy===1?(this.ir=PropertyFactory.getProp(He,$e.ir,0,0,this),this.is=PropertyFactory.getProp(He,$e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(He,$e.pt,0,0,this),this.p=PropertyFactory.getProp(He,$e.p,1,0,this),this.r=PropertyFactory.getProp(He,$e.r,0,degToRads,this),this.or=PropertyFactory.getProp(He,$e.or,0,0,this),this.os=PropertyFactory.getProp(He,$e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Le.prototype={reset:b,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var $e=Math.floor(this.pt.v)*2,Ne=Math.PI*2/$e,Qe=!0,We=this.or.v,Ge=this.ir.v,Xe=this.os.v,Je=this.is.v,ut=2*Math.PI*We/($e*2),ft=2*Math.PI*Ge/($e*2),ct,pt,yt,lt,Ze=-Math.PI/2;Ze+=this.r.v;var it=this.data.d===3?-1:1;for(this.v._length=0,ct=0;ct<$e;ct+=1){pt=Qe?We:Ge,yt=Qe?Xe:Je,lt=Qe?ut:ft;var Ye=pt*Math.cos(Ze),et=pt*Math.sin(Ze),gt=Ye===0&&et===0?0:et/Math.sqrt(Ye*Ye+et*et),st=Ye===0&&et===0?0:-Ye/Math.sqrt(Ye*Ye+et*et);Ye+=+this.p.v[0],et+=+this.p.v[1],this.v.setTripleAt(Ye,et,Ye-gt*lt*yt*it,et-st*lt*yt*it,Ye+gt*lt*yt*it,et+st*lt*yt*it,ct,!0),Qe=!Qe,Ze+=Ne*it}},convertPolygonToPath:function(){var $e=Math.floor(this.pt.v),Ne=Math.PI*2/$e,Qe=this.or.v,We=this.os.v,Ge=2*Math.PI*Qe/($e*4),Xe,Je=-Math.PI*.5,ut=this.data.d===3?-1:1;for(Je+=this.r.v,this.v._length=0,Xe=0;Xe<$e;Xe+=1){var ft=Qe*Math.cos(Je),ct=Qe*Math.sin(Je),pt=ft===0&&ct===0?0:ct/Math.sqrt(ft*ft+ct*ct),yt=ft===0&&ct===0?0:-ft/Math.sqrt(ft*ft+ct*ct);ft+=+this.p.v[0],ct+=+this.p.v[1],this.v.setTripleAt(ft,ct,ft-pt*Ge*We*ut,ct-yt*Ge*We*ut,ft+pt*Ge*We*ut,ct+yt*Ge*We*ut,Xe,!0),Je+=Ne*ut}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Le),Le})(),oe=(function(){function Le(He,$e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=He,this.comp=He.comp,this.frameId=-1,this.d=$e.d,this.initDynamicPropertyContainer(He),this.p=PropertyFactory.getProp(He,$e.p,1,0,this),this.s=PropertyFactory.getProp(He,$e.s,1,0,this),this.r=PropertyFactory.getProp(He,$e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Le.prototype={convertRectToPath:function(){var $e=this.p.v[0],Ne=this.p.v[1],Qe=this.s.v[0]/2,We=this.s.v[1]/2,Ge=bmMin(Qe,We,this.r.v),Xe=Ge*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt($e+Qe,Ne-We+Ge,$e+Qe,Ne-We+Ge,$e+Qe,Ne-We+Xe,0,!0),this.v.setTripleAt($e+Qe,Ne+We-Ge,$e+Qe,Ne+We-Xe,$e+Qe,Ne+We-Ge,1,!0),Ge!==0?(this.v.setTripleAt($e+Qe-Ge,Ne+We,$e+Qe-Ge,Ne+We,$e+Qe-Xe,Ne+We,2,!0),this.v.setTripleAt($e-Qe+Ge,Ne+We,$e-Qe+Xe,Ne+We,$e-Qe+Ge,Ne+We,3,!0),this.v.setTripleAt($e-Qe,Ne+We-Ge,$e-Qe,Ne+We-Ge,$e-Qe,Ne+We-Xe,4,!0),this.v.setTripleAt($e-Qe,Ne-We+Ge,$e-Qe,Ne-We+Xe,$e-Qe,Ne-We+Ge,5,!0),this.v.setTripleAt($e-Qe+Ge,Ne-We,$e-Qe+Ge,Ne-We,$e-Qe+Xe,Ne-We,6,!0),this.v.setTripleAt($e+Qe-Ge,Ne-We,$e+Qe-Xe,Ne-We,$e+Qe-Ge,Ne-We,7,!0)):(this.v.setTripleAt($e-Qe,Ne+We,$e-Qe+Xe,Ne+We,$e-Qe,Ne+We,2),this.v.setTripleAt($e-Qe,Ne-We,$e-Qe,Ne-We+Xe,$e-Qe,Ne-We,3))):(this.v.setTripleAt($e+Qe,Ne-We+Ge,$e+Qe,Ne-We+Xe,$e+Qe,Ne-We+Ge,0,!0),Ge!==0?(this.v.setTripleAt($e+Qe-Ge,Ne-We,$e+Qe-Ge,Ne-We,$e+Qe-Xe,Ne-We,1,!0),this.v.setTripleAt($e-Qe+Ge,Ne-We,$e-Qe+Xe,Ne-We,$e-Qe+Ge,Ne-We,2,!0),this.v.setTripleAt($e-Qe,Ne-We+Ge,$e-Qe,Ne-We+Ge,$e-Qe,Ne-We+Xe,3,!0),this.v.setTripleAt($e-Qe,Ne+We-Ge,$e-Qe,Ne+We-Xe,$e-Qe,Ne+We-Ge,4,!0),this.v.setTripleAt($e-Qe+Ge,Ne+We,$e-Qe+Ge,Ne+We,$e-Qe+Xe,Ne+We,5,!0),this.v.setTripleAt($e+Qe-Ge,Ne+We,$e+Qe-Xe,Ne+We,$e+Qe-Ge,Ne+We,6,!0),this.v.setTripleAt($e+Qe,Ne+We-Ge,$e+Qe,Ne+We-Ge,$e+Qe,Ne+We-Xe,7,!0)):(this.v.setTripleAt($e-Qe,Ne-We,$e-Qe+Xe,Ne-We,$e-Qe,Ne-We,1,!0),this.v.setTripleAt($e-Qe,Ne+We,$e-Qe,Ne+We-Xe,$e-Qe,Ne+We,2,!0),this.v.setTripleAt($e+Qe,Ne+We,$e+Qe-Xe,Ne+We,$e+Qe,Ne+We,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:b},extendPrototype([DynamicPropertyContainer],Le),Le})();function pe(Le,He,$e){var Ne;if($e===3||$e===4){var Qe=$e===3?He.pt:He.ks,We=Qe.k;We.length?Ne=new q(Le,He,$e):Ne=new O(Le,He,$e)}else $e===5?Ne=new oe(Le,He):$e===6?Ne=new ee(Le,He):$e===7&&(Ne=new ne(Le,He));return Ne.k&&Le.addDynamicProperty(Ne),Ne}function xe(){return O}function _e(){return q}var Ue={};return Ue.getShapeProp=pe,Ue.getConstructorFunction=xe,Ue.getKeyframedConstructorFunction=_e,Ue})();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=(function(){var r=Math.cos,x=Math.sin,y=Math.tan,b=Math.round;function B(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function R(Ye){if(Ye===0)return this;var et=r(Ye),gt=x(Ye);return this._t(et,-gt,0,0,gt,et,0,0,0,0,1,0,0,0,0,1)}function I(Ye){if(Ye===0)return this;var et=r(Ye),gt=x(Ye);return this._t(1,0,0,0,0,et,-gt,0,0,gt,et,0,0,0,0,1)}function O(Ye){if(Ye===0)return this;var et=r(Ye),gt=x(Ye);return this._t(et,0,gt,0,0,1,0,0,-gt,0,et,0,0,0,0,1)}function G(Ye){if(Ye===0)return this;var et=r(Ye),gt=x(Ye);return this._t(et,-gt,0,0,gt,et,0,0,0,0,1,0,0,0,0,1)}function q(Ye,et){return this._t(1,et,Ye,1,0,0)}function ee(Ye,et){return this.shear(y(Ye),y(et))}function ne(Ye,et){var gt=r(et),st=x(et);return this._t(gt,st,0,0,-st,gt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,y(Ye),1,0,0,0,0,1,0,0,0,0,1)._t(gt,-st,0,0,st,gt,0,0,0,0,1,0,0,0,0,1)}function oe(Ye,et,gt){return!gt&&gt!==0&&(gt=1),Ye===1&&et===1&&gt===1?this:this._t(Ye,0,0,0,0,et,0,0,0,0,gt,0,0,0,0,1)}function pe(Ye,et,gt,st,ht,vt,Et,Rt,_t,Ut,an,hn,Ln,pn,qn,on){return this.props[0]=Ye,this.props[1]=et,this.props[2]=gt,this.props[3]=st,this.props[4]=ht,this.props[5]=vt,this.props[6]=Et,this.props[7]=Rt,this.props[8]=_t,this.props[9]=Ut,this.props[10]=an,this.props[11]=hn,this.props[12]=Ln,this.props[13]=pn,this.props[14]=qn,this.props[15]=on,this}function xe(Ye,et,gt){return gt=gt||0,Ye!==0||et!==0||gt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Ye,et,gt,1):this}function _e(Ye,et,gt,st,ht,vt,Et,Rt,_t,Ut,an,hn,Ln,pn,qn,on){var tn=this.props;if(Ye===1&&et===0&&gt===0&&st===0&&ht===0&&vt===1&&Et===0&&Rt===0&&_t===0&&Ut===0&&an===1&&hn===0)return tn[12]=tn[12]*Ye+tn[15]*Ln,tn[13]=tn[13]*vt+tn[15]*pn,tn[14]=tn[14]*an+tn[15]*qn,tn[15]*=on,this._identityCalculated=!1,this;var Zn=tn[0],Dr=tn[1],zn=tn[2],Tn=tn[3],yn=tn[4],Sr=tn[5],Zt=tn[6],Yr=tn[7],Or=tn[8],Kt=tn[9],cn=tn[10],Cn=tn[11],Fn=tn[12],kn=tn[13],or=tn[14],Jr=tn[15];return tn[0]=Zn*Ye+Dr*ht+zn*_t+Tn*Ln,tn[1]=Zn*et+Dr*vt+zn*Ut+Tn*pn,tn[2]=Zn*gt+Dr*Et+zn*an+Tn*qn,tn[3]=Zn*st+Dr*Rt+zn*hn+Tn*on,tn[4]=yn*Ye+Sr*ht+Zt*_t+Yr*Ln,tn[5]=yn*et+Sr*vt+Zt*Ut+Yr*pn,tn[6]=yn*gt+Sr*Et+Zt*an+Yr*qn,tn[7]=yn*st+Sr*Rt+Zt*hn+Yr*on,tn[8]=Or*Ye+Kt*ht+cn*_t+Cn*Ln,tn[9]=Or*et+Kt*vt+cn*Ut+Cn*pn,tn[10]=Or*gt+Kt*Et+cn*an+Cn*qn,tn[11]=Or*st+Kt*Rt+cn*hn+Cn*on,tn[12]=Fn*Ye+kn*ht+or*_t+Jr*Ln,tn[13]=Fn*et+kn*vt+or*Ut+Jr*pn,tn[14]=Fn*gt+kn*Et+or*an+Jr*qn,tn[15]=Fn*st+kn*Rt+or*hn+Jr*on,this._identityCalculated=!1,this}function Ue(Ye){var et=Ye.props;return this.transform(et[0],et[1],et[2],et[3],et[4],et[5],et[6],et[7],et[8],et[9],et[10],et[11],et[12],et[13],et[14],et[15])}function Le(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function He(Ye){for(var et=0;et<16;){if(Ye.props[et]!==this.props[et])return!1;et+=1}return!0}function $e(Ye){var et;for(et=0;et<16;et+=1)Ye.props[et]=this.props[et];return Ye}function Ne(Ye){var et;for(et=0;et<16;et+=1)this.props[et]=Ye[et]}function Qe(Ye,et,gt){return{x:Ye*this.props[0]+et*this.props[4]+gt*this.props[8]+this.props[12],y:Ye*this.props[1]+et*this.props[5]+gt*this.props[9]+this.props[13],z:Ye*this.props[2]+et*this.props[6]+gt*this.props[10]+this.props[14]}}function We(Ye,et,gt){return Ye*this.props[0]+et*this.props[4]+gt*this.props[8]+this.props[12]}function Ge(Ye,et,gt){return Ye*this.props[1]+et*this.props[5]+gt*this.props[9]+this.props[13]}function Xe(Ye,et,gt){return Ye*this.props[2]+et*this.props[6]+gt*this.props[10]+this.props[14]}function Je(){var Ye=this.props[0]*this.props[5]-this.props[1]*this.props[4],et=this.props[5]/Ye,gt=-this.props[1]/Ye,st=-this.props[4]/Ye,ht=this.props[0]/Ye,vt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Ye,Et=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Ye,Rt=new Matrix;return Rt.props[0]=et,Rt.props[1]=gt,Rt.props[4]=st,Rt.props[5]=ht,Rt.props[12]=vt,Rt.props[13]=Et,Rt}function ut(Ye){var et=this.getInverseMatrix();return et.applyToPointArray(Ye[0],Ye[1],Ye[2]||0)}function ft(Ye){var et,gt=Ye.length,st=[];for(et=0;et<gt;et+=1)st[et]=ut(Ye[et]);return st}function ct(Ye,et,gt){var st=createTypedArray("float32",6);if(this.isIdentity())st[0]=Ye[0],st[1]=Ye[1],st[2]=et[0],st[3]=et[1],st[4]=gt[0],st[5]=gt[1];else{var ht=this.props[0],vt=this.props[1],Et=this.props[4],Rt=this.props[5],_t=this.props[12],Ut=this.props[13];st[0]=Ye[0]*ht+Ye[1]*Et+_t,st[1]=Ye[0]*vt+Ye[1]*Rt+Ut,st[2]=et[0]*ht+et[1]*Et+_t,st[3]=et[0]*vt+et[1]*Rt+Ut,st[4]=gt[0]*ht+gt[1]*Et+_t,st[5]=gt[0]*vt+gt[1]*Rt+Ut}return st}function pt(Ye,et,gt){var st;return this.isIdentity()?st=[Ye,et,gt]:st=[Ye*this.props[0]+et*this.props[4]+gt*this.props[8]+this.props[12],Ye*this.props[1]+et*this.props[5]+gt*this.props[9]+this.props[13],Ye*this.props[2]+et*this.props[6]+gt*this.props[10]+this.props[14]],st}function yt(Ye,et){if(this.isIdentity())return Ye+","+et;var gt=this.props;return Math.round((Ye*gt[0]+et*gt[4]+gt[12])*100)/100+","+Math.round((Ye*gt[1]+et*gt[5]+gt[13])*100)/100}function lt(){for(var Ye=0,et=this.props,gt="matrix3d(",st=1e4;Ye<16;)gt+=b(et[Ye]*st)/st,gt+=Ye===15?")":",",Ye+=1;return gt}function Ze(Ye){var et=1e4;return Ye<1e-6&&Ye>0||Ye>-1e-6&&Ye<0?b(Ye*et)/et:Ye}function it(){var Ye=this.props,et=Ze(Ye[0]),gt=Ze(Ye[1]),st=Ze(Ye[4]),ht=Ze(Ye[5]),vt=Ze(Ye[12]),Et=Ze(Ye[13]);return"matrix("+et+","+gt+","+st+","+ht+","+vt+","+Et+")"}return function(){this.reset=B,this.rotate=R,this.rotateX=I,this.rotateY=O,this.rotateZ=G,this.skew=ee,this.skewFromAxis=ne,this.shear=q,this.scale=oe,this.setTransform=pe,this.translate=xe,this.transform=_e,this.multiply=Ue,this.applyToPoint=Qe,this.applyToX=We,this.applyToY=Ge,this.applyToZ=Xe,this.applyToPointArray=pt,this.applyToTriplePoints=ct,this.applyToPointStringified=yt,this.toCSS=lt,this.to2dCSS=it,this.clone=$e,this.cloneFromProps=Ne,this.equals=He,this.inversePoints=ft,this.inversePoint=ut,this.getInverseMatrix=Je,this._t=this.transform,this.isIdentity=Le,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}})();function _typeof$3(r){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof$3(r)}var lottie={};function setLocation(r){setLocationHref(r)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(r){setSubframeEnabled(r)}function setPrefix(r){setIdPrefix(r)}function loadAnimation(r){return animationManager.loadAnimation(r)}function setQuality(r){if(typeof r=="string")switch(r){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(r)&&r>1&&setDefaultCurveSegments(r)}function inBrowser(){return typeof navigator<"u"}function installPlugin(r,x){r==="expressions"&&setExpressionsPlugin(x)}function getFactory(r){switch(r){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(r){for(var x=queryString.split("&"),y=0;y<x.length;y+=1){var b=x[y].split("=");if(decodeURIComponent(b[0])==r)return decodeURIComponent(b[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports$1)!=="object"&&(window.bodymovin=lottie)}catch(r){}var ShapeModifiers=(function(){var r={},x={};r.registerModifier=y,r.getModifier=b;function y(B,R){x[B]||(x[B]=R)}function b(B,R,I){return new x[B](R,I)}return r})();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(r){if(!this.closed){r.sh.container.addDynamicProperty(r.sh);var x={shape:r.sh,data:r,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(x),this.addShapeToModifier(x),this._isAnimated&&r.setAsAnimated()}},ShapeModifier.prototype.init=function(r,x){this.shapes=[],this.elem=r,this.initDynamicPropertyContainer(r),this.initModifierProperties(r,x),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(r,x){this.s=PropertyFactory.getProp(r,x.s,0,.01,this),this.e=PropertyFactory.getProp(r,x.e,0,.01,this),this.o=PropertyFactory.getProp(r,x.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=x.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(r){r.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(r,x,y,b,B){var R=[];x<=1?R.push({s:r,e:x}):r>=1?R.push({s:r-1,e:x-1}):(R.push({s:r,e:1}),R.push({s:0,e:x-1}));var I=[],O,G=R.length,q;for(O=0;O<G;O+=1)if(q=R[O],!(q.e*B<b||q.s*B>b+y)){var ee,ne;q.s*B<=b?ee=0:ee=(q.s*B-b)/y,q.e*B>=b+y?ne=1:ne=(q.e*B-b)/y,I.push([ee,ne])}return I.length||I.push([0,0]),I},TrimModifier.prototype.releasePathsData=function(r){var x,y=r.length;for(x=0;x<y;x+=1)segmentsLengthPool.release(r[x]);return r.length=0,r},TrimModifier.prototype.processShapes=function(r){var x,y;if(this._mdf||r){var b=this.o.v%360/360;if(b<0&&(b+=1),this.s.v>1?x=1+b:this.s.v<0?x=0+b:x=this.s.v+b,this.e.v>1?y=1+b:this.e.v<0?y=0+b:y=this.e.v+b,x>y){var B=x;x=y,y=B}x=Math.round(x*1e4)*1e-4,y=Math.round(y*1e4)*1e-4,this.sValue=x,this.eValue=y}else x=this.sValue,y=this.eValue;var R,I,O=this.shapes.length,G,q,ee,ne,oe,pe=0;if(y===x)for(I=0;I<O;I+=1)this.shapes[I].localShapeCollection.releaseShapes(),this.shapes[I].shape._mdf=!0,this.shapes[I].shape.paths=this.shapes[I].localShapeCollection,this._mdf&&(this.shapes[I].pathsData.length=0);else if(y===1&&x===0||y===0&&x===1){if(this._mdf)for(I=0;I<O;I+=1)this.shapes[I].pathsData.length=0,this.shapes[I].shape._mdf=!0}else{var xe=[],_e,Ue;for(I=0;I<O;I+=1)if(_e=this.shapes[I],!_e.shape._mdf&&!this._mdf&&!r&&this.m!==2)_e.shape.paths=_e.localShapeCollection;else{if(R=_e.shape.paths,q=R._length,oe=0,!_e.shape._mdf&&_e.pathsData.length)oe=_e.totalShapeLength;else{for(ee=this.releasePathsData(_e.pathsData),G=0;G<q;G+=1)ne=bez.getSegmentsLength(R.shapes[G]),ee.push(ne),oe+=ne.totalLength;_e.totalShapeLength=oe,_e.pathsData=ee}pe+=oe,_e.shape._mdf=!0}var Le=x,He=y,$e=0,Ne;for(I=O-1;I>=0;I-=1)if(_e=this.shapes[I],_e.shape._mdf){for(Ue=_e.localShapeCollection,Ue.releaseShapes(),this.m===2&&O>1?(Ne=this.calculateShapeEdges(x,y,_e.totalShapeLength,$e,pe),$e+=_e.totalShapeLength):Ne=[[Le,He]],q=Ne.length,G=0;G<q;G+=1){Le=Ne[G][0],He=Ne[G][1],xe.length=0,He<=1?xe.push({s:_e.totalShapeLength*Le,e:_e.totalShapeLength*He}):Le>=1?xe.push({s:_e.totalShapeLength*(Le-1),e:_e.totalShapeLength*(He-1)}):(xe.push({s:_e.totalShapeLength*Le,e:_e.totalShapeLength}),xe.push({s:0,e:_e.totalShapeLength*(He-1)}));var Qe=this.addShapes(_e,xe[0]);if(xe[0].s!==xe[0].e){if(xe.length>1){var We=_e.shape.paths.shapes[_e.shape.paths._length-1];if(We.c){var Ge=Qe.pop();this.addPaths(Qe,Ue),Qe=this.addShapes(_e,xe[1],Ge)}else this.addPaths(Qe,Ue),Qe=this.addShapes(_e,xe[1])}this.addPaths(Qe,Ue)}}_e.shape.paths=Ue}}},TrimModifier.prototype.addPaths=function(r,x){var y,b=r.length;for(y=0;y<b;y+=1)x.addShape(r[y])},TrimModifier.prototype.addSegment=function(r,x,y,b,B,R,I){B.setXYAt(x[0],x[1],"o",R),B.setXYAt(y[0],y[1],"i",R+1),I&&B.setXYAt(r[0],r[1],"v",R),B.setXYAt(b[0],b[1],"v",R+1)},TrimModifier.prototype.addSegmentFromArray=function(r,x,y,b){x.setXYAt(r[1],r[5],"o",y),x.setXYAt(r[2],r[6],"i",y+1),b&&x.setXYAt(r[0],r[4],"v",y),x.setXYAt(r[3],r[7],"v",y+1)},TrimModifier.prototype.addShapes=function(r,x,y){var b=r.pathsData,B=r.shape.paths.shapes,R,I=r.shape.paths._length,O,G,q=0,ee,ne,oe,pe,xe=[],_e,Ue=!0;for(y?(ne=y._length,_e=y._length):(y=shapePool.newElement(),ne=0,_e=0),xe.push(y),R=0;R<I;R+=1){for(oe=b[R].lengths,y.c=B[R].c,G=B[R].c?oe.length:oe.length+1,O=1;O<G;O+=1)if(ee=oe[O-1],q+ee.addedLength<x.s)q+=ee.addedLength,y.c=!1;else if(q>x.e){y.c=!1;break}else x.s<=q&&x.e>=q+ee.addedLength?(this.addSegment(B[R].v[O-1],B[R].o[O-1],B[R].i[O],B[R].v[O],y,ne,Ue),Ue=!1):(pe=bez.getNewSegment(B[R].v[O-1],B[R].v[O],B[R].o[O-1],B[R].i[O],(x.s-q)/ee.addedLength,(x.e-q)/ee.addedLength,oe[O-1]),this.addSegmentFromArray(pe,y,ne,Ue),Ue=!1,y.c=!1),q+=ee.addedLength,ne+=1;if(B[R].c&&oe.length){if(ee=oe[O-1],q<=x.e){var Le=oe[O-1].addedLength;x.s<=q&&x.e>=q+Le?(this.addSegment(B[R].v[O-1],B[R].o[O-1],B[R].i[0],B[R].v[0],y,ne,Ue),Ue=!1):(pe=bez.getNewSegment(B[R].v[O-1],B[R].v[0],B[R].o[O-1],B[R].i[0],(x.s-q)/Le,(x.e-q)/Le,oe[O-1]),this.addSegmentFromArray(pe,y,ne,Ue),Ue=!1,y.c=!1)}else y.c=!1;q+=ee.addedLength,ne+=1}if(y._length&&(y.setXYAt(y.v[_e][0],y.v[_e][1],"i",_e),y.setXYAt(y.v[y._length-1][0],y.v[y._length-1][1],"o",y._length-1)),q>x.e)break;R<I-1&&(y=shapePool.newElement(),Ue=!0,xe.push(y),ne=0)}return xe};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(r,x){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(r,x.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(r,x){var y=x/100,b=[0,0],B=r._length,R=0;for(R=0;R<B;R+=1)b[0]+=r.v[R][0],b[1]+=r.v[R][1];b[0]/=B,b[1]/=B;var I=shapePool.newElement();I.c=r.c;var O,G,q,ee,ne,oe;for(R=0;R<B;R+=1)O=r.v[R][0]+(b[0]-r.v[R][0])*y,G=r.v[R][1]+(b[1]-r.v[R][1])*y,q=r.o[R][0]+(b[0]-r.o[R][0])*-y,ee=r.o[R][1]+(b[1]-r.o[R][1])*-y,ne=r.i[R][0]+(b[0]-r.i[R][0])*-y,oe=r.i[R][1]+(b[1]-r.i[R][1])*-y,I.setTripleAt(O,G,q,ee,ne,oe,R);return I},PuckerAndBloatModifier.prototype.processShapes=function(r){var x,y,b=this.shapes.length,B,R,I=this.amount.v;if(I!==0){var O,G;for(y=0;y<b;y+=1){if(O=this.shapes[y],G=O.localShapeCollection,!(!O.shape._mdf&&!this._mdf&&!r))for(G.releaseShapes(),O.shape._mdf=!0,x=O.shape.paths.shapes,R=O.shape.paths._length,B=0;B<R;B+=1)G.addShape(this.processPath(x[B],I));O.shape.paths=O.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=(function(){var r=[0,0];function x(G){var q=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||q,this.a&&G.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&G.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&G.skewFromAxis(-this.sk.v,this.sa.v),this.r?G.rotate(-this.r.v):G.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?G.translate(this.px.v,this.py.v,-this.pz.v):G.translate(this.px.v,this.py.v,0):G.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function y(G){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||G){var q;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ee,ne;if(q=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ee=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/q,0),ne=this.p.getValueAtTime(this.p.keyframes[0].t/q,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ee=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/q,0),ne=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/q,0)):(ee=this.p.pv,ne=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/q,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ee=[],ne=[];var oe=this.px,pe=this.py;oe._caching.lastFrame+oe.offsetTime<=oe.keyframes[0].t?(ee[0]=oe.getValueAtTime((oe.keyframes[0].t+.01)/q,0),ee[1]=pe.getValueAtTime((pe.keyframes[0].t+.01)/q,0),ne[0]=oe.getValueAtTime(oe.keyframes[0].t/q,0),ne[1]=pe.getValueAtTime(pe.keyframes[0].t/q,0)):oe._caching.lastFrame+oe.offsetTime>=oe.keyframes[oe.keyframes.length-1].t?(ee[0]=oe.getValueAtTime(oe.keyframes[oe.keyframes.length-1].t/q,0),ee[1]=pe.getValueAtTime(pe.keyframes[pe.keyframes.length-1].t/q,0),ne[0]=oe.getValueAtTime((oe.keyframes[oe.keyframes.length-1].t-.01)/q,0),ne[1]=pe.getValueAtTime((pe.keyframes[pe.keyframes.length-1].t-.01)/q,0)):(ee=[oe.pv,pe.pv],ne[0]=oe.getValueAtTime((oe._caching.lastFrame+oe.offsetTime-.01)/q,oe.offsetTime),ne[1]=pe.getValueAtTime((pe._caching.lastFrame+pe.offsetTime-.01)/q,pe.offsetTime))}else ne=r,ee=ne;this.v.rotate(-Math.atan2(ee[1]-ne[1],ee[0]-ne[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function b(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function B(){}function R(G){this._addDynamicProperty(G),this.elem.addDynamicProperty(G),this._isDirty=!0}function I(G,q,ee){if(this.elem=G,this.frameId=-1,this.propType="transform",this.data=q,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ee||G),q.p&&q.p.s?(this.px=PropertyFactory.getProp(G,q.p.x,0,0,this),this.py=PropertyFactory.getProp(G,q.p.y,0,0,this),q.p.z&&(this.pz=PropertyFactory.getProp(G,q.p.z,0,0,this))):this.p=PropertyFactory.getProp(G,q.p||{k:[0,0,0]},1,0,this),q.rx){if(this.rx=PropertyFactory.getProp(G,q.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(G,q.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(G,q.rz,0,degToRads,this),q.or.k[0].ti){var ne,oe=q.or.k.length;for(ne=0;ne<oe;ne+=1)q.or.k[ne].to=null,q.or.k[ne].ti=null}this.or=PropertyFactory.getProp(G,q.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(G,q.r||{k:0},0,degToRads,this);q.sk&&(this.sk=PropertyFactory.getProp(G,q.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(G,q.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(G,q.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(G,q.s||{k:[100,100,100]},1,.01,this),q.o?this.o=PropertyFactory.getProp(G,q.o,0,.01,G):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}I.prototype={applyToMatrix:x,getValue:y,precalculateMatrix:b,autoOrient:B},extendPrototype([DynamicPropertyContainer],I),I.prototype.addDynamicProperty=R,I.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function O(G,q,ee){return new I(G,q,ee)}return{getTransformProperty:O}})();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(r,x){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(r,x.c,0,null,this),this.o=PropertyFactory.getProp(r,x.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(r,x.tr,this),this.so=PropertyFactory.getProp(r,x.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(r,x.tr.eo,0,.01,this),this.data=x,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(r,x,y,b,B,R){var I=R?-1:1,O=b.s.v[0]+(1-b.s.v[0])*(1-B),G=b.s.v[1]+(1-b.s.v[1])*(1-B);r.translate(b.p.v[0]*I*B,b.p.v[1]*I*B,b.p.v[2]),x.translate(-b.a.v[0],-b.a.v[1],b.a.v[2]),x.rotate(-b.r.v*I*B),x.translate(b.a.v[0],b.a.v[1],b.a.v[2]),y.translate(-b.a.v[0],-b.a.v[1],b.a.v[2]),y.scale(R?1/O:O,R?1/G:G),y.translate(b.a.v[0],b.a.v[1],b.a.v[2])},RepeaterModifier.prototype.init=function(r,x,y,b){for(this.elem=r,this.arr=x,this.pos=y,this.elemsData=b,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(r),this.initModifierProperties(r,x[y]);y>0;)y-=1,this._elements.unshift(x[y]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(r){var x,y=r.length;for(x=0;x<y;x+=1)r[x]._processed=!1,r[x].ty==="gr"&&this.resetElements(r[x].it)},RepeaterModifier.prototype.cloneElements=function(r){var x=JSON.parse(JSON.stringify(r));return this.resetElements(x),x},RepeaterModifier.prototype.changeGroupRender=function(r,x){var y,b=r.length;for(y=0;y<b;y+=1)r[y]._render=x,r[y].ty==="gr"&&this.changeGroupRender(r[y].it,x)},RepeaterModifier.prototype.processShapes=function(r){var x,y,b,B,R,I=!1;if(this._mdf||r){var O=Math.ceil(this.c.v);if(this._groups.length<O){for(;this._groups.length<O;){var G={it:this.cloneElements(this._elements),ty:"gr"};G.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,G),this._groups.splice(0,0,G),this._currentCopies+=1}this.elem.reloadShapes(),I=!0}R=0;var q;for(b=0;b<=this._groups.length-1;b+=1){if(q=R<O,this._groups[b]._render=q,this.changeGroupRender(this._groups[b].it,q),!q){var ee=this.elemsData[b].it,ne=ee[ee.length-1];ne.transform.op.v!==0?(ne.transform.op._mdf=!0,ne.transform.op.v=0):ne.transform.op._mdf=!1}R+=1}this._currentCopies=O;var oe=this.o.v,pe=oe%1,xe=oe>0?Math.floor(oe):Math.ceil(oe),_e=this.pMatrix.props,Ue=this.rMatrix.props,Le=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var He=0;if(oe>0){for(;He<xe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),He+=1;pe&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,pe,!1),He+=pe)}else if(oe<0){for(;He>xe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),He-=1;pe&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-pe,!0),He-=pe)}b=this.data.m===1?0:this._currentCopies-1,B=this.data.m===1?1:-1,R=this._currentCopies;for(var $e,Ne;R;){if(x=this.elemsData[b].it,y=x[x.length-1].transform.mProps.v.props,Ne=y.length,x[x.length-1].transform.mProps._mdf=!0,x[x.length-1].transform.op._mdf=!0,x[x.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(b/(this._currentCopies-1)),He!==0){for((b!==0&&B===1||b!==this._currentCopies-1&&B===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Ue[0],Ue[1],Ue[2],Ue[3],Ue[4],Ue[5],Ue[6],Ue[7],Ue[8],Ue[9],Ue[10],Ue[11],Ue[12],Ue[13],Ue[14],Ue[15]),this.matrix.transform(Le[0],Le[1],Le[2],Le[3],Le[4],Le[5],Le[6],Le[7],Le[8],Le[9],Le[10],Le[11],Le[12],Le[13],Le[14],Le[15]),this.matrix.transform(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5],_e[6],_e[7],_e[8],_e[9],_e[10],_e[11],_e[12],_e[13],_e[14],_e[15]),$e=0;$e<Ne;$e+=1)y[$e]=this.matrix.props[$e];this.matrix.reset()}else for(this.matrix.reset(),$e=0;$e<Ne;$e+=1)y[$e]=this.matrix.props[$e];He+=1,R-=1,b+=B}}else for(R=this._currentCopies,b=0,B=1;R;)x=this.elemsData[b].it,y=x[x.length-1].transform.mProps.v.props,x[x.length-1].transform.mProps._mdf=!1,x[x.length-1].transform.op._mdf=!1,R-=1,b+=B;return I},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(r,x){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(r,x.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(r,x){var y=shapePool.newElement();y.c=r.c;var b,B=r._length,R,I,O,G,q,ee,ne=0,oe,pe,xe,_e,Ue,Le;for(b=0;b<B;b+=1)R=r.v[b],O=r.o[b],I=r.i[b],R[0]===O[0]&&R[1]===O[1]&&R[0]===I[0]&&R[1]===I[1]?(b===0||b===B-1)&&!r.c?(y.setTripleAt(R[0],R[1],O[0],O[1],I[0],I[1],ne),ne+=1):(b===0?G=r.v[B-1]:G=r.v[b-1],q=Math.sqrt(Math.pow(R[0]-G[0],2)+Math.pow(R[1]-G[1],2)),ee=q?Math.min(q/2,x)/q:0,Ue=R[0]+(G[0]-R[0])*ee,oe=Ue,Le=R[1]-(R[1]-G[1])*ee,pe=Le,xe=oe-(oe-R[0])*roundCorner,_e=pe-(pe-R[1])*roundCorner,y.setTripleAt(oe,pe,xe,_e,Ue,Le,ne),ne+=1,b===B-1?G=r.v[0]:G=r.v[b+1],q=Math.sqrt(Math.pow(R[0]-G[0],2)+Math.pow(R[1]-G[1],2)),ee=q?Math.min(q/2,x)/q:0,xe=R[0]+(G[0]-R[0])*ee,oe=xe,_e=R[1]+(G[1]-R[1])*ee,pe=_e,Ue=oe-(oe-R[0])*roundCorner,Le=pe-(pe-R[1])*roundCorner,y.setTripleAt(oe,pe,xe,_e,Ue,Le,ne),ne+=1):(y.setTripleAt(r.v[b][0],r.v[b][1],r.o[b][0],r.o[b][1],r.i[b][0],r.i[b][1],ne),ne+=1);return y},RoundCornersModifier.prototype.processShapes=function(r){var x,y,b=this.shapes.length,B,R,I=this.rd.v;if(I!==0){var O,G;for(y=0;y<b;y+=1){if(O=this.shapes[y],G=O.localShapeCollection,!(!O.shape._mdf&&!this._mdf&&!r))for(G.releaseShapes(),O.shape._mdf=!0,x=O.shape.paths.shapes,R=O.shape.paths._length,B=0;B<R;B+=1)G.addShape(this.processPath(x[B],I));O.shape.paths=O.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(r,x){return Math.abs(r-x)*1e5<=Math.min(Math.abs(r),Math.abs(x))}function floatZero(r){return Math.abs(r)<=1e-5}function lerp(r,x,y){return r*(1-y)+x*y}function lerpPoint(r,x,y){return[lerp(r[0],x[0],y),lerp(r[1],x[1],y)]}function quadRoots(r,x,y){if(r===0)return[];var b=x*x-4*r*y;if(b<0)return[];var B=-x/(2*r);if(b===0)return[B];var R=Math.sqrt(b)/(2*r);return[B-R,B+R]}function polynomialCoefficients(r,x,y,b){return[-r+3*x-3*y+b,3*r-6*x+3*y,-3*r+3*x,r]}function singlePoint(r){return new PolynomialBezier(r,r,r,r,!1)}function PolynomialBezier(r,x,y,b,B){B&&pointEqual(r,x)&&(x=lerpPoint(r,b,1/3)),B&&pointEqual(y,b)&&(y=lerpPoint(r,b,2/3));var R=polynomialCoefficients(r[0],x[0],y[0],b[0]),I=polynomialCoefficients(r[1],x[1],y[1],b[1]);this.a=[R[0],I[0]],this.b=[R[1],I[1]],this.c=[R[2],I[2]],this.d=[R[3],I[3]],this.points=[r,x,y,b]}PolynomialBezier.prototype.point=function(r){return[((this.a[0]*r+this.b[0])*r+this.c[0])*r+this.d[0],((this.a[1]*r+this.b[1])*r+this.c[1])*r+this.d[1]]},PolynomialBezier.prototype.derivative=function(r){return[(3*r*this.a[0]+2*this.b[0])*r+this.c[0],(3*r*this.a[1]+2*this.b[1])*r+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(r){var x=this.derivative(r);return Math.atan2(x[1],x[0])},PolynomialBezier.prototype.normalAngle=function(r){var x=this.derivative(r);return Math.atan2(x[0],x[1])},PolynomialBezier.prototype.inflectionPoints=function(){var r=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(r))return[];var x=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/r,y=x*x-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/r;if(y<0)return[];var b=Math.sqrt(y);return floatZero(b)?b>0&&b<1?[x]:[]:[x-b,x+b].filter(function(B){return B>0&&B<1})},PolynomialBezier.prototype.split=function(r){if(r<=0)return[singlePoint(this.points[0]),this];if(r>=1)return[this,singlePoint(this.points[this.points.length-1])];var x=lerpPoint(this.points[0],this.points[1],r),y=lerpPoint(this.points[1],this.points[2],r),b=lerpPoint(this.points[2],this.points[3],r),B=lerpPoint(x,y,r),R=lerpPoint(y,b,r),I=lerpPoint(B,R,r);return[new PolynomialBezier(this.points[0],x,B,I,!0),new PolynomialBezier(I,R,b,this.points[3],!0)]};function extrema(r,x){var y=r.points[0][x],b=r.points[r.points.length-1][x];if(y>b){var B=b;b=y,y=B}for(var R=quadRoots(3*r.a[x],2*r.b[x],r.c[x]),I=0;I<R.length;I+=1)if(R[I]>0&&R[I]<1){var O=r.point(R[I])[x];O<y?y=O:O>b&&(b=O)}return{min:y,max:b}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var r=this.bounds();return{left:r.x.min,right:r.x.max,top:r.y.min,bottom:r.y.max,width:r.x.max-r.x.min,height:r.y.max-r.y.min,cx:(r.x.max+r.x.min)/2,cy:(r.y.max+r.y.min)/2}};function intersectData(r,x,y){var b=r.boundingBox();return{cx:b.cx,cy:b.cy,width:b.width,height:b.height,bez:r,t:(x+y)/2,t1:x,t2:y}}function splitData(r){var x=r.bez.split(.5);return[intersectData(x[0],r.t1,r.t),intersectData(x[1],r.t,r.t2)]}function boxIntersect(r,x){return Math.abs(r.cx-x.cx)*2<r.width+x.width&&Math.abs(r.cy-x.cy)*2<r.height+x.height}function intersectsImpl(r,x,y,b,B,R){if(boxIntersect(r,x)){if(y>=R||r.width<=b&&r.height<=b&&x.width<=b&&x.height<=b){B.push([r.t,x.t]);return}var I=splitData(r),O=splitData(x);intersectsImpl(I[0],O[0],y+1,b,B,R),intersectsImpl(I[0],O[1],y+1,b,B,R),intersectsImpl(I[1],O[0],y+1,b,B,R),intersectsImpl(I[1],O[1],y+1,b,B,R)}}PolynomialBezier.prototype.intersections=function(r,x,y){x===void 0&&(x=2),y===void 0&&(y=7);var b=[];return intersectsImpl(intersectData(this,0,1),intersectData(r,0,1),0,x,b,y),b},PolynomialBezier.shapeSegment=function(r,x){var y=(x+1)%r.length();return new PolynomialBezier(r.v[x],r.o[x],r.i[y],r.v[y],!0)},PolynomialBezier.shapeSegmentInverted=function(r,x){var y=(x+1)%r.length();return new PolynomialBezier(r.v[y],r.i[y],r.o[x],r.v[x],!0)};function crossProduct(r,x){return[r[1]*x[2]-r[2]*x[1],r[2]*x[0]-r[0]*x[2],r[0]*x[1]-r[1]*x[0]]}function lineIntersection(r,x,y,b){var B=[r[0],r[1],1],R=[x[0],x[1],1],I=[y[0],y[1],1],O=[b[0],b[1],1],G=crossProduct(crossProduct(B,R),crossProduct(I,O));return floatZero(G[2])?null:[G[0]/G[2],G[1]/G[2]]}function polarOffset(r,x,y){return[r[0]+Math.cos(x)*y,r[1]-Math.sin(x)*y]}function pointDistance(r,x){return Math.hypot(r[0]-x[0],r[1]-x[1])}function pointEqual(r,x){return floatEqual(r[0],x[0])&&floatEqual(r[1],x[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(r,x){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(r,x.s,0,null,this),this.frequency=PropertyFactory.getProp(r,x.r,0,null,this),this.pointsType=PropertyFactory.getProp(r,x.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(r,x,y,b,B,R,I){var O=y-Math.PI/2,G=y+Math.PI/2,q=x[0]+Math.cos(y)*b*B,ee=x[1]-Math.sin(y)*b*B;r.setTripleAt(q,ee,q+Math.cos(O)*R,ee-Math.sin(O)*R,q+Math.cos(G)*I,ee-Math.sin(G)*I,r.length())}function getPerpendicularVector(r,x){var y=[x[0]-r[0],x[1]-r[1]],b=-Math.PI*.5,B=[Math.cos(b)*y[0]-Math.sin(b)*y[1],Math.sin(b)*y[0]+Math.cos(b)*y[1]];return B}function getProjectingAngle(r,x){var y=x===0?r.length()-1:x-1,b=(x+1)%r.length(),B=r.v[y],R=r.v[b],I=getPerpendicularVector(B,R);return Math.atan2(0,1)-Math.atan2(I[1],I[0])}function zigZagCorner(r,x,y,b,B,R,I){var O=getProjectingAngle(x,y),G=x.v[y%x._length],q=x.v[y===0?x._length-1:y-1],ee=x.v[(y+1)%x._length],ne=R===2?Math.sqrt(Math.pow(G[0]-q[0],2)+Math.pow(G[1]-q[1],2)):0,oe=R===2?Math.sqrt(Math.pow(G[0]-ee[0],2)+Math.pow(G[1]-ee[1],2)):0;setPoint(r,x.v[y%x._length],O,I,b,oe/((B+1)*2),ne/((B+1)*2))}function zigZagSegment(r,x,y,b,B,R){for(var I=0;I<b;I+=1){var O=(I+1)/(b+1),G=B===2?Math.sqrt(Math.pow(x.points[3][0]-x.points[0][0],2)+Math.pow(x.points[3][1]-x.points[0][1],2)):0,q=x.normalAngle(O),ee=x.point(O);setPoint(r,ee,q,R,y,G/((b+1)*2),G/((b+1)*2)),R=-R}return R}ZigZagModifier.prototype.processPath=function(r,x,y,b){var B=r._length,R=shapePool.newElement();if(R.c=r.c,r.c||(B-=1),B===0)return R;var I=-1,O=PolynomialBezier.shapeSegment(r,0);zigZagCorner(R,r,0,x,y,b,I);for(var G=0;G<B;G+=1)I=zigZagSegment(R,O,x,y,b,-I),G===B-1&&!r.c?O=null:O=PolynomialBezier.shapeSegment(r,(G+1)%B),zigZagCorner(R,r,G+1,x,y,b,I);return R},ZigZagModifier.prototype.processShapes=function(r){var x,y,b=this.shapes.length,B,R,I=this.amplitude.v,O=Math.max(0,Math.round(this.frequency.v)),G=this.pointsType.v;if(I!==0){var q,ee;for(y=0;y<b;y+=1){if(q=this.shapes[y],ee=q.localShapeCollection,!(!q.shape._mdf&&!this._mdf&&!r))for(ee.releaseShapes(),q.shape._mdf=!0,x=q.shape.paths.shapes,R=q.shape.paths._length,B=0;B<R;B+=1)ee.addShape(this.processPath(x[B],I,O,G));q.shape.paths=q.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(r,x,y){var b=Math.atan2(x[0]-r[0],x[1]-r[1]);return[polarOffset(r,b,y),polarOffset(x,b,y)]}function offsetSegment(r,x){var y,b,B,R,I,O,G;G=linearOffset(r.points[0],r.points[1],x),y=G[0],b=G[1],G=linearOffset(r.points[1],r.points[2],x),B=G[0],R=G[1],G=linearOffset(r.points[2],r.points[3],x),I=G[0],O=G[1];var q=lineIntersection(y,b,B,R);q===null&&(q=b);var ee=lineIntersection(I,O,B,R);return ee===null&&(ee=I),new PolynomialBezier(y,q,ee,O)}function joinLines(r,x,y,b,B){var R=x.points[3],I=y.points[0];if(b===3||pointEqual(R,I))return R;if(b===2){var O=-x.tangentAngle(1),G=-y.tangentAngle(0)+Math.PI,q=lineIntersection(R,polarOffset(R,O+Math.PI/2,100),I,polarOffset(I,O+Math.PI/2,100)),ee=q?pointDistance(q,R):pointDistance(R,I)/2,ne=polarOffset(R,O,2*ee*roundCorner);return r.setXYAt(ne[0],ne[1],"o",r.length()-1),ne=polarOffset(I,G,2*ee*roundCorner),r.setTripleAt(I[0],I[1],I[0],I[1],ne[0],ne[1],r.length()),I}var oe=pointEqual(R,x.points[2])?x.points[0]:x.points[2],pe=pointEqual(I,y.points[1])?y.points[3]:y.points[1],xe=lineIntersection(oe,R,I,pe);return xe&&pointDistance(xe,R)<B?(r.setTripleAt(xe[0],xe[1],xe[0],xe[1],xe[0],xe[1],r.length()),xe):R}function getIntersection(r,x){var y=r.intersections(x);return y.length&&floatEqual(y[0][0],1)&&y.shift(),y.length?y[0]:null}function pruneSegmentIntersection(r,x){var y=r.slice(),b=x.slice(),B=getIntersection(r[r.length-1],x[0]);return B&&(y[r.length-1]=r[r.length-1].split(B[0])[0],b[0]=x[0].split(B[1])[1]),r.length>1&&x.length>1&&(B=getIntersection(r[0],x[x.length-1]),B)?[[r[0].split(B[0])[0]],[x[x.length-1].split(B[1])[1]]]:[y,b]}function pruneIntersections(r){for(var x,y=1;y<r.length;y+=1)x=pruneSegmentIntersection(r[y-1],r[y]),r[y-1]=x[0],r[y]=x[1];return r.length>1&&(x=pruneSegmentIntersection(r[r.length-1],r[0]),r[r.length-1]=x[0],r[0]=x[1]),r}function offsetSegmentSplit(r,x){var y=r.inflectionPoints(),b,B,R,I;if(y.length===0)return[offsetSegment(r,x)];if(y.length===1||floatEqual(y[1],1))return R=r.split(y[0]),b=R[0],B=R[1],[offsetSegment(b,x),offsetSegment(B,x)];R=r.split(y[0]),b=R[0];var O=(y[1]-y[0])/(1-y[0]);return R=R[1].split(O),I=R[0],B=R[1],[offsetSegment(b,x),offsetSegment(I,x),offsetSegment(B,x)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(r,x){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(r,x.a,0,null,this),this.miterLimit=PropertyFactory.getProp(r,x.ml,0,null,this),this.lineJoin=x.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(r,x,y,b){var B=shapePool.newElement();B.c=r.c;var R=r.length();r.c||(R-=1);var I,O,G,q=[];for(I=0;I<R;I+=1)G=PolynomialBezier.shapeSegment(r,I),q.push(offsetSegmentSplit(G,x));if(!r.c)for(I=R-1;I>=0;I-=1)G=PolynomialBezier.shapeSegmentInverted(r,I),q.push(offsetSegmentSplit(G,x));q=pruneIntersections(q);var ee=null,ne=null;for(I=0;I<q.length;I+=1){var oe=q[I];for(ne&&(ee=joinLines(B,ne,oe[0],y,b)),ne=oe[oe.length-1],O=0;O<oe.length;O+=1)G=oe[O],ee&&pointEqual(G.points[0],ee)?B.setXYAt(G.points[1][0],G.points[1][1],"o",B.length()-1):B.setTripleAt(G.points[0][0],G.points[0][1],G.points[1][0],G.points[1][1],G.points[0][0],G.points[0][1],B.length()),B.setTripleAt(G.points[3][0],G.points[3][1],G.points[3][0],G.points[3][1],G.points[2][0],G.points[2][1],B.length()),ee=G.points[3]}return q.length&&joinLines(B,ne,q[0][0],y,b),B},OffsetPathModifier.prototype.processShapes=function(r){var x,y,b=this.shapes.length,B,R,I=this.amount.v,O=this.miterLimit.v,G=this.lineJoin;if(I!==0){var q,ee;for(y=0;y<b;y+=1){if(q=this.shapes[y],ee=q.localShapeCollection,!(!q.shape._mdf&&!this._mdf&&!r))for(ee.releaseShapes(),q.shape._mdf=!0,x=q.shape.paths.shapes,R=q.shape.paths._length,B=0;B<R;B+=1)ee.addShape(this.processPath(x[B],I,G,O));q.shape.paths=q.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(r){for(var x=r.fStyle?r.fStyle.split(" "):[],y="normal",b="normal",B=x.length,R,I=0;I<B;I+=1)switch(R=x[I].toLowerCase(),R){case"italic":b="italic";break;case"bold":y="700";break;case"black":y="900";break;case"medium":y="500";break;case"regular":case"normal":y="400";break;case"light":case"thin":y="200";break}return{style:b,weight:r.fWeight||y}}var FontManager=(function(){var r=5e3,x={w:0,size:0,shapes:[],data:{shapes:[]}},y=[];y=y.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var b=127988,B=917631,R=917601,I=917626,O=65039,G=8205,q=127462,ee=127487,ne=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function oe(Ze){var it=Ze.split(","),Ye,et=it.length,gt=[];for(Ye=0;Ye<et;Ye+=1)it[Ye]!=="sans-serif"&&it[Ye]!=="monospace"&&gt.push(it[Ye]);return gt.join(",")}function pe(Ze,it){var Ye=createTag("span");Ye.setAttribute("aria-hidden",!0),Ye.style.fontFamily=it;var et=createTag("span");et.innerText="giItT1WQy@!-/#",Ye.style.position="absolute",Ye.style.left="-10000px",Ye.style.top="-10000px",Ye.style.fontSize="300px",Ye.style.fontVariant="normal",Ye.style.fontStyle="normal",Ye.style.fontWeight="normal",Ye.style.letterSpacing="0",Ye.appendChild(et),document.body.appendChild(Ye);var gt=et.offsetWidth;return et.style.fontFamily=oe(Ze)+", "+it,{node:et,w:gt,parent:Ye}}function xe(){var Ze,it=this.fonts.length,Ye,et,gt=it;for(Ze=0;Ze<it;Ze+=1)this.fonts[Ze].loaded?gt-=1:this.fonts[Ze].fOrigin==="n"||this.fonts[Ze].origin===0?this.fonts[Ze].loaded=!0:(Ye=this.fonts[Ze].monoCase.node,et=this.fonts[Ze].monoCase.w,Ye.offsetWidth!==et?(gt-=1,this.fonts[Ze].loaded=!0):(Ye=this.fonts[Ze].sansCase.node,et=this.fonts[Ze].sansCase.w,Ye.offsetWidth!==et&&(gt-=1,this.fonts[Ze].loaded=!0)),this.fonts[Ze].loaded&&(this.fonts[Ze].sansCase.parent.parentNode.removeChild(this.fonts[Ze].sansCase.parent),this.fonts[Ze].monoCase.parent.parentNode.removeChild(this.fonts[Ze].monoCase.parent)));gt!==0&&Date.now()-this.initTime<r?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function _e(Ze,it){var Ye=document.body&&it?"svg":"canvas",et,gt=getFontProperties(Ze);if(Ye==="svg"){var st=createNS("text");st.style.fontSize="100px",st.setAttribute("font-family",Ze.fFamily),st.setAttribute("font-style",gt.style),st.setAttribute("font-weight",gt.weight),st.textContent="1",Ze.fClass?(st.style.fontFamily="inherit",st.setAttribute("class",Ze.fClass)):st.style.fontFamily=Ze.fFamily,it.appendChild(st),et=st}else{var ht=new OffscreenCanvas(500,500).getContext("2d");ht.font=gt.style+" "+gt.weight+" 100px "+Ze.fFamily,et=ht}function vt(Et){return Ye==="svg"?(et.textContent=Et,et.getComputedTextLength()):et.measureText(Et).width}return{measureText:vt}}function Ue(Ze,it){if(!Ze){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Ze.list;return}if(!document.body){this.isLoaded=!0,Ze.list.forEach(function(an){an.helper=_e(an),an.cache={}}),this.fonts=Ze.list;return}var Ye=Ze.list,et,gt=Ye.length,st=gt;for(et=0;et<gt;et+=1){var ht=!0,vt,Et;if(Ye[et].loaded=!1,Ye[et].monoCase=pe(Ye[et].fFamily,"monospace"),Ye[et].sansCase=pe(Ye[et].fFamily,"sans-serif"),!Ye[et].fPath)Ye[et].loaded=!0,st-=1;else if(Ye[et].fOrigin==="p"||Ye[et].origin===3){if(vt=document.querySelectorAll('style[f-forigin="p"][f-family="'+Ye[et].fFamily+'"], style[f-origin="3"][f-family="'+Ye[et].fFamily+'"]'),vt.length>0&&(ht=!1),ht){var Rt=createTag("style");Rt.setAttribute("f-forigin",Ye[et].fOrigin),Rt.setAttribute("f-origin",Ye[et].origin),Rt.setAttribute("f-family",Ye[et].fFamily),Rt.type="text/css",Rt.innerText="@font-face {font-family: "+Ye[et].fFamily+"; font-style: normal; src: url('"+Ye[et].fPath+"');}",it.appendChild(Rt)}}else if(Ye[et].fOrigin==="g"||Ye[et].origin===1){for(vt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Et=0;Et<vt.length;Et+=1)vt[Et].href.indexOf(Ye[et].fPath)!==-1&&(ht=!1);if(ht){var _t=createTag("link");_t.setAttribute("f-forigin",Ye[et].fOrigin),_t.setAttribute("f-origin",Ye[et].origin),_t.type="text/css",_t.rel="stylesheet",_t.href=Ye[et].fPath,document.body.appendChild(_t)}}else if(Ye[et].fOrigin==="t"||Ye[et].origin===2){for(vt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Et=0;Et<vt.length;Et+=1)Ye[et].fPath===vt[Et].src&&(ht=!1);if(ht){var Ut=createTag("link");Ut.setAttribute("f-forigin",Ye[et].fOrigin),Ut.setAttribute("f-origin",Ye[et].origin),Ut.setAttribute("rel","stylesheet"),Ut.setAttribute("href",Ye[et].fPath),it.appendChild(Ut)}}Ye[et].helper=_e(Ye[et],it),Ye[et].cache={},this.fonts.push(Ye[et])}st===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Le(Ze){if(Ze){this.chars||(this.chars=[]);var it,Ye=Ze.length,et,gt=this.chars.length,st;for(it=0;it<Ye;it+=1){for(et=0,st=!1;et<gt;)this.chars[et].style===Ze[it].style&&this.chars[et].fFamily===Ze[it].fFamily&&this.chars[et].ch===Ze[it].ch&&(st=!0),et+=1;st||(this.chars.push(Ze[it]),gt+=1)}}}function He(Ze,it,Ye){for(var et=0,gt=this.chars.length;et<gt;){if(this.chars[et].ch===Ze&&this.chars[et].style===it&&this.chars[et].fFamily===Ye)return this.chars[et];et+=1}return(typeof Ze=="string"&&Ze.charCodeAt(0)!==13||!Ze)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Ze,it,Ye)),x}function $e(Ze,it,Ye){var et=this.getFontByName(it),gt=Ze;if(!et.cache[gt]){var st=et.helper;if(Ze===" "){var ht=st.measureText("|"+Ze+"|"),vt=st.measureText("||");et.cache[gt]=(ht-vt)/100}else et.cache[gt]=st.measureText(Ze)/100}return et.cache[gt]*Ye}function Ne(Ze){for(var it=0,Ye=this.fonts.length;it<Ye;){if(this.fonts[it].fName===Ze)return this.fonts[it];it+=1}return this.fonts[0]}function Qe(Ze){var it=0,Ye=Ze.charCodeAt(0);if(Ye>=55296&&Ye<=56319){var et=Ze.charCodeAt(1);et>=56320&&et<=57343&&(it=(Ye-55296)*1024+et-56320+65536)}return it}function We(Ze,it){var Ye=Ze.toString(16)+it.toString(16);return ne.indexOf(Ye)!==-1}function Ge(Ze){return Ze===G}function Xe(Ze){return Ze===O}function Je(Ze){var it=Qe(Ze);return it>=q&&it<=ee}function ut(Ze){return Je(Ze.substr(0,2))&&Je(Ze.substr(2,2))}function ft(Ze){return y.indexOf(Ze)!==-1}function ct(Ze,it){var Ye=Qe(Ze.substr(it,2));if(Ye!==b)return!1;var et=0;for(it+=2;et<5;){if(Ye=Qe(Ze.substr(it,2)),Ye<R||Ye>I)return!1;et+=1,it+=2}return Qe(Ze.substr(it,2))===B}function pt(){this.isLoaded=!0}var yt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};yt.isModifier=We,yt.isZeroWidthJoiner=Ge,yt.isFlagEmoji=ut,yt.isRegionalCode=Je,yt.isCombinedCharacter=ft,yt.isRegionalFlag=ct,yt.isVariationSelector=Xe,yt.BLACK_FLAG_CODE_POINT=b;var lt={addChars:Le,addFonts:Ue,getCharData:He,getFontByName:Ne,measureText:$e,checkLoadedFonts:xe,setIsLoaded:pt};return yt.prototype=lt,yt})();function SlotManager(r){this.animationData=r}SlotManager.prototype.getProp=function(r){return this.animationData.slots&&this.animationData.slots[r.sid]?Object.assign(r,this.animationData.slots[r.sid].p):r};function slotFactory(r){return new SlotManager(r)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(x){this.renderableComponents.indexOf(x)===-1&&this.renderableComponents.push(x)},removeRenderableComponent:function(x){this.renderableComponents.indexOf(x)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(x),1)},prepareRenderableFrame:function(x){this.checkLayerLimits(x)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(x){this.data.ip-this.data.st<=x&&this.data.op-this.data.st>x?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var x,y=this.renderableComponents.length;for(x=0;x<y;x+=1)this.renderableComponents[x].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(function(){var r={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(x){return r[x]||""}})();function SliderEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,0,0,y)}function AngleEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,0,0,y)}function ColorEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,1,0,y)}function PointEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,1,0,y)}function LayerIndexEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,0,0,y)}function MaskIndexEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,0,0,y)}function CheckboxEffect(r,x,y){this.p=PropertyFactory.getProp(x,r.v,0,0,y)}function NoValueEffect(){this.p={}}function EffectsManager(r,x){var y=r.ef||[];this.effectElements=[];var b,B=y.length,R;for(b=0;b<B;b+=1)R=new GroupEffect(y[b],x),this.effectElements.push(R)}function GroupEffect(r,x){this.init(r,x)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(r,x){this.data=r,this.effectElements=[],this.initDynamicPropertyContainer(x);var y,b=this.data.ef.length,B,R=this.data.ef;for(y=0;y<b;y+=1){switch(B=null,R[y].ty){case 0:B=new SliderEffect(R[y],x,this);break;case 1:B=new AngleEffect(R[y],x,this);break;case 2:B=new ColorEffect(R[y],x,this);break;case 3:B=new PointEffect(R[y],x,this);break;case 4:case 7:B=new CheckboxEffect(R[y],x,this);break;case 10:B=new LayerIndexEffect(R[y],x,this);break;case 11:B=new MaskIndexEffect(R[y],x,this);break;case 5:B=new EffectsManager(R[y],x);break;default:B=new NoValueEffect(R[y]);break}B&&this.effectElements.push(B)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var x=0,y=this.data.masksProperties.length;x<y;){if(this.data.masksProperties[x].mode!=="n"&&this.data.masksProperties[x].cl!==!1)return!0;x+=1}return!1},initExpressions:function(){var x=getExpressionInterfaces();if(x){var y=x("layer"),b=x("effects"),B=x("shape"),R=x("text"),I=x("comp");this.layerInterface=y(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var O=b.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(O),this.data.ty===0||this.data.xt?this.compInterface=I(this):this.data.ty===4?(this.layerInterface.shapeInterface=B(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=R(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var x=getBlendMode(this.data.bm),y=this.baseElement||this.layerElement;y.style["mix-blend-mode"]=x},initBaseData:function(x,y,b){this.globalData=y,this.comp=b,this.data=x,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(x,y){var b,B=this.dynamicProperties.length;for(b=0;b<B;b+=1)(y||this._isParent&&this.dynamicProperties[b].propType==="transform")&&(this.dynamicProperties[b].getValue(),this.dynamicProperties[b]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(x){this.dynamicProperties.indexOf(x)===-1&&this.dynamicProperties.push(x)}};function FootageElement(r,x,y){this.initFrame(),this.initRenderable(),this.assetData=x.getAssetData(r.refId),this.footageData=x.imageLoader.getAsset(this.assetData),this.initBaseData(r,x,y)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var r=getExpressionInterfaces();if(r){var x=r("footage");this.layerInterface=x(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(r,x,y){this.initFrame(),this.initRenderable(),this.assetData=x.getAssetData(r.refId),this.initBaseData(r,x,y),this._isPlaying=!1,this._canPlay=!1;var b=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(b),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,x.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,r.au&&r.au.lv?r.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(r){if(this.prepareRenderableFrame(r,!0),this.prepareProperties(r,!0),this.tm._placeholder)this._currentTime=r/this.data.sr;else{var x=this.tm.v;this._currentTime=x}this._volume=this.lv.v[0];var y=this._volume*this._volumeMultiplier;this._previousVolume!==y&&(this._previousVolume=y,this.audio.volume(y))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(r){this.audio.rate(r)},AudioElement.prototype.volume=function(r){this._volumeMultiplier=r,this._previousVolume=r*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(r){var x,y=this.layers.length,b;for(this.completeLayers=!0,x=y-1;x>=0;x-=1)this.elements[x]||(b=this.layers[x],b.ip-b.st<=r-this.layers[x].st&&b.op-b.st>r-this.layers[x].st&&this.buildItem(x)),this.completeLayers=this.elements[x]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(r){switch(r.ty){case 2:return this.createImage(r);case 0:return this.createComp(r);case 1:return this.createSolid(r);case 3:return this.createNull(r);case 4:return this.createShape(r);case 5:return this.createText(r);case 6:return this.createAudio(r);case 13:return this.createCamera(r);case 15:return this.createFootage(r);default:return this.createNull(r)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(r){return new AudioElement(r,this.globalData,this)},BaseRenderer.prototype.createFootage=function(r){return new FootageElement(r,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var r,x=this.layers.length;for(r=0;r<x;r+=1)this.buildItem(r);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(r){this.completeLayers=!1;var x,y=r.length,b,B=this.layers.length;for(x=0;x<y;x+=1)for(b=0;b<B;){if(this.layers[b].id===r[x].id){this.layers[b]=r[x];break}b+=1}},BaseRenderer.prototype.setProjectInterface=function(r){this.globalData.projectInterface=r},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(r,x,y){for(var b=this.elements,B=this.layers,R=0,I=B.length;R<I;)B[R].ind==x&&(!b[R]||b[R]===!0?(this.buildItem(R),this.addPendingElement(r)):(y.push(b[R]),b[R].setAsParent(),B[R].parent!==void 0?this.buildElementParenting(r,B[R].parent,y):r.setHierarchy(y))),R+=1},BaseRenderer.prototype.addPendingElement=function(r){this.pendingElements.push(r)},BaseRenderer.prototype.searchExtraCompositions=function(r){var x,y=r.length;for(x=0;x<y;x+=1)if(r[x].xt){var b=this.createComp(r[x]);b.initExpressions(),this.globalData.projectInterface.registerComposition(b)}},BaseRenderer.prototype.getElementById=function(r){var x,y=this.elements.length;for(x=0;x<y;x+=1)if(this.elements[x].data.ind===r)return this.elements[x];return null},BaseRenderer.prototype.getElementByPath=function(r){var x=r.shift(),y;if(typeof x=="number")y=this.elements[x];else{var b,B=this.elements.length;for(b=0;b<B;b+=1)if(this.elements[b].data.nm===x){y=this.elements[b];break}}return r.length===0?y:y.getElementByPath(r)},BaseRenderer.prototype.setupGlobalData=function(r,x){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(r),this.globalData.fontManager.addChars(r.chars),this.globalData.fontManager.addFonts(r.fonts,x),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=r.fr,this.globalData.nm=r.nm,this.globalData.compSize={w:r.w,h:r.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var x=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:x,localMat:x,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var x,y=this.finalTransform.mat,b=0,B=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;b<B;){if(this.hierarchy[b].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}b+=1}if(this.finalTransform._matMdf)for(x=this.finalTransform.mProp.v.props,y.cloneFromProps(x),b=0;b<B;b+=1)y.multiply(this.hierarchy[b].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var x=0,y=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;x<y;)this.localTransforms[x]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[x]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),x+=1;if(this.finalTransform._localMatMdf){var b=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(b),x=1;x<y;x+=1){var B=this.localTransforms[x].matrix;b.multiply(B)}b.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var R=this.finalTransform.localOpacity;for(x=0;x<y;x+=1)R*=this.localTransforms[x].opacity*.01;this.finalTransform.localOpacity=R}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var x=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(x.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var y=0,b=x.length;for(y=0;y<b;y+=1)this.localTransforms.push(x[y])}}},globalToLocal:function(x){var y=[];y.push(this.finalTransform);for(var b=!0,B=this.comp;b;)B.finalTransform?(B.data.hasMask&&y.splice(0,0,B.finalTransform),B=B.comp):b=!1;var R,I=y.length,O;for(R=0;R<I;R+=1)O=y[R].mat.applyToPointArray(0,0,0),x=[x[0]-O[0],x[1]-O[1],0];return x},mHelper:new Matrix};function MaskElement(r,x,y){this.data=r,this.element=x,this.globalData=y,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var b=this.globalData.defs,B,R=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(R),this.solidPath="";var I,O=this.masksProperties,G=0,q=[],ee,ne,oe=createElementID(),pe,xe,_e,Ue,Le="clipPath",He="clip-path";for(B=0;B<R;B+=1)if((O[B].mode!=="a"&&O[B].mode!=="n"||O[B].inv||O[B].o.k!==100||O[B].o.x)&&(Le="mask",He="mask"),(O[B].mode==="s"||O[B].mode==="i")&&G===0?(pe=createNS("rect"),pe.setAttribute("fill","#ffffff"),pe.setAttribute("width",this.element.comp.data.w||0),pe.setAttribute("height",this.element.comp.data.h||0),q.push(pe)):pe=null,I=createNS("path"),O[B].mode==="n")this.viewData[B]={op:PropertyFactory.getProp(this.element,O[B].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,O[B],3),elem:I,lastPath:""},b.appendChild(I);else{G+=1,I.setAttribute("fill",O[B].mode==="s"?"#000000":"#ffffff"),I.setAttribute("clip-rule","nonzero");var $e;if(O[B].x.k!==0?(Le="mask",He="mask",Ue=PropertyFactory.getProp(this.element,O[B].x,0,null,this.element),$e=createElementID(),xe=createNS("filter"),xe.setAttribute("id",$e),_e=createNS("feMorphology"),_e.setAttribute("operator","erode"),_e.setAttribute("in","SourceGraphic"),_e.setAttribute("radius","0"),xe.appendChild(_e),b.appendChild(xe),I.setAttribute("stroke",O[B].mode==="s"?"#000000":"#ffffff")):(_e=null,Ue=null),this.storedData[B]={elem:I,x:Ue,expan:_e,lastPath:"",lastOperator:"",filterId:$e,lastRadius:0},O[B].mode==="i"){ne=q.length;var Ne=createNS("g");for(ee=0;ee<ne;ee+=1)Ne.appendChild(q[ee]);var Qe=createNS("mask");Qe.setAttribute("mask-type","alpha"),Qe.setAttribute("id",oe+"_"+G),Qe.appendChild(I),b.appendChild(Qe),Ne.setAttribute("mask","url("+getLocationHref()+"#"+oe+"_"+G+")"),q.length=0,q.push(Ne)}else q.push(I);O[B].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[B]={elem:I,lastPath:"",op:PropertyFactory.getProp(this.element,O[B].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,O[B],3),invRect:pe},this.viewData[B].prop.k||this.drawPath(O[B],this.viewData[B].prop.v,this.viewData[B])}for(this.maskElement=createNS(Le),R=q.length,B=0;B<R;B+=1)this.maskElement.appendChild(q[B]);G>0&&(this.maskElement.setAttribute("id",oe),this.element.maskedElement.setAttribute(He,"url("+getLocationHref()+"#"+oe+")"),b.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(r){return this.viewData[r].prop},MaskElement.prototype.renderFrame=function(r){var x=this.element.finalTransform.mat,y,b=this.masksProperties.length;for(y=0;y<b;y+=1)if((this.viewData[y].prop._mdf||r)&&this.drawPath(this.masksProperties[y],this.viewData[y].prop.v,this.viewData[y]),(this.viewData[y].op._mdf||r)&&this.viewData[y].elem.setAttribute("fill-opacity",this.viewData[y].op.v),this.masksProperties[y].mode!=="n"&&(this.viewData[y].invRect&&(this.element.finalTransform.mProp._mdf||r)&&this.viewData[y].invRect.setAttribute("transform",x.getInverseMatrix().to2dCSS()),this.storedData[y].x&&(this.storedData[y].x._mdf||r))){var B=this.storedData[y].expan;this.storedData[y].x.v<0?(this.storedData[y].lastOperator!=="erode"&&(this.storedData[y].lastOperator="erode",this.storedData[y].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[y].filterId+")")),B.setAttribute("radius",-this.storedData[y].x.v)):(this.storedData[y].lastOperator!=="dilate"&&(this.storedData[y].lastOperator="dilate",this.storedData[y].elem.setAttribute("filter",null)),this.storedData[y].elem.setAttribute("stroke-width",this.storedData[y].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var r="M0,0 ";return r+=" h"+this.globalData.compSize.w,r+=" v"+this.globalData.compSize.h,r+=" h-"+this.globalData.compSize.w,r+=" v-"+this.globalData.compSize.h+" ",r},MaskElement.prototype.drawPath=function(r,x,y){var b=" M"+x.v[0][0]+","+x.v[0][1],B,R;for(R=x._length,B=1;B<R;B+=1)b+=" C"+x.o[B-1][0]+","+x.o[B-1][1]+" "+x.i[B][0]+","+x.i[B][1]+" "+x.v[B][0]+","+x.v[B][1];if(x.c&&R>1&&(b+=" C"+x.o[B-1][0]+","+x.o[B-1][1]+" "+x.i[0][0]+","+x.i[0][1]+" "+x.v[0][0]+","+x.v[0][1]),y.lastPath!==b){var I="";y.elem&&(x.c&&(I=r.inv?this.solidPath+b:b),y.elem.setAttribute("d",I)),y.lastPath=b}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=(function(){var r={};r.createFilter=x,r.createAlphaToLuminanceFilter=y;function x(b,B){var R=createNS("filter");return R.setAttribute("id",b),B!==!0&&(R.setAttribute("filterUnits","objectBoundingBox"),R.setAttribute("x","0%"),R.setAttribute("y","0%"),R.setAttribute("width","100%"),R.setAttribute("height","100%")),R}function y(){var b=createNS("feColorMatrix");return b.setAttribute("type","matrix"),b.setAttribute("color-interpolation-filters","sRGB"),b.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),b}return r})(),featureSupport=(function(){var r={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(r.maskType=!1),/firefox/i.test(navigator.userAgent)&&(r.svgLumaHidden=!1),r})(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(r){var x,y="SourceGraphic",b=r.data.ef?r.data.ef.length:0,B=createElementID(),R=filtersFactory.createFilter(B,!0),I=0;this.filters=[];var O;for(x=0;x<b;x+=1){O=null;var G=r.data.ef[x].ty;if(registeredEffects$1[G]){var q=registeredEffects$1[G].effect;O=new q(R,r.effectsManager.effectElements[x],r,idPrefix+I,y),y=idPrefix+I,registeredEffects$1[G].countsAsEffect&&(I+=1)}O&&this.filters.push(O)}I&&(r.globalData.defs.appendChild(R),r.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+B+")")),this.filters.length&&r.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(r){var x,y=this.filters.length;for(x=0;x<y;x+=1)this.filters[x].renderFrame(r)},SVGEffects.prototype.getEffects=function(r){var x,y=this.filters.length,b=[];for(x=0;x<y;x+=1)this.filters[x].type===r&&b.push(this.filters[x]);return b};function registerEffect$1(r,x,y){registeredEffects$1[r]={effect:x,countsAsEffect:y}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var x=null;if(this.data.td){this.matteMasks={};var y=createNS("g");y.setAttribute("id",this.layerId),y.appendChild(this.layerElement),x=y,this.globalData.defs.appendChild(y)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),x=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var b=createNS("clipPath"),B=createNS("path");B.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var R=createElementID();if(b.setAttribute("id",R),b.appendChild(B),this.globalData.defs.appendChild(b),this.checkMasks()){var I=createNS("g");I.setAttribute("clip-path","url("+getLocationHref()+"#"+R+")"),I.appendChild(this.layerElement),this.transformedElement=I,x?x.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+R+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(x){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[x]){var y=this.layerId+"_"+x,b,B,R,I;if(x===1||x===3){var O=createNS("mask");O.setAttribute("id",y),O.setAttribute("mask-type",x===3?"luminance":"alpha"),R=createNS("use"),R.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),O.appendChild(R),this.globalData.defs.appendChild(O),!featureSupport.maskType&&x===1&&(O.setAttribute("mask-type","luminance"),b=createElementID(),B=filtersFactory.createFilter(b),this.globalData.defs.appendChild(B),B.appendChild(filtersFactory.createAlphaToLuminanceFilter()),I=createNS("g"),I.appendChild(R),O.appendChild(I),I.setAttribute("filter","url("+getLocationHref()+"#"+b+")"))}else if(x===2){var G=createNS("mask");G.setAttribute("id",y),G.setAttribute("mask-type","alpha");var q=createNS("g");G.appendChild(q),b=createElementID(),B=filtersFactory.createFilter(b);var ee=createNS("feComponentTransfer");ee.setAttribute("in","SourceGraphic"),B.appendChild(ee);var ne=createNS("feFuncA");ne.setAttribute("type","table"),ne.setAttribute("tableValues","1.0 0.0"),ee.appendChild(ne),this.globalData.defs.appendChild(B);var oe=createNS("rect");oe.setAttribute("width",this.comp.data.w),oe.setAttribute("height",this.comp.data.h),oe.setAttribute("x","0"),oe.setAttribute("y","0"),oe.setAttribute("fill","#ffffff"),oe.setAttribute("opacity","0"),q.setAttribute("filter","url("+getLocationHref()+"#"+b+")"),q.appendChild(oe),R=createNS("use"),R.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),q.appendChild(R),featureSupport.maskType||(G.setAttribute("mask-type","luminance"),B.appendChild(filtersFactory.createAlphaToLuminanceFilter()),I=createNS("g"),q.appendChild(oe),I.appendChild(this.layerElement),q.appendChild(I)),this.globalData.defs.appendChild(G)}this.matteMasks[x]=y}return this.matteMasks[x]},setMatte:function(x){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+x+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(x){this.hierarchy=x},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var r={initElement:function(y,b,B){this.initFrame(),this.initBaseData(y,b,B),this.initTransform(y,b,B),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var y=this.baseElement||this.layerElement;y.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var y=this.baseElement||this.layerElement;y.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(y){this._mdf=!1,this.prepareRenderableFrame(y),this.prepareProperties(y,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(r)],RenderableDOMElement)})();function IImageElement(r,x,y){this.assetData=x.getAssetData(r.refId),this.assetData&&this.assetData.sid&&(this.assetData=x.slotManager.getProp(this.assetData)),this.initElement(r,x,y),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var r=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(r,x){this.elem=r,this.pos=x}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(x){var y,b=this.shapeModifiers.length;for(y=0;y<b;y+=1)this.shapeModifiers[y].addShape(x)},isShapeInAnimatedModifiers:function(x){for(var y=0,b=this.shapeModifiers.length;y<b;)if(this.shapeModifiers[y].isAnimatedWithShape(x))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var x,y=this.shapes.length;for(x=0;x<y;x+=1)this.shapes[x].sh.reset();y=this.shapeModifiers.length;var b;for(x=y-1;x>=0&&(b=this.shapeModifiers[x].processShapes(this._isFirstFrame),!b);x-=1);}},searchProcessedElement:function(x){for(var y=this.processedElements,b=0,B=y.length;b<B;){if(y[b].elem===x)return y[b].pos;b+=1}return 0},addProcessedElement:function(x,y){for(var b=this.processedElements,B=b.length;B;)if(B-=1,b[B].elem===x){b[B].pos=y;return}b.push(new ProcessedElement(x,y))},prepareFrame:function(x){this.prepareRenderableFrame(x),this.prepareProperties(x,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(r,x,y){this.caches=[],this.styles=[],this.transformers=r,this.lStr="",this.sh=y,this.lvl=x,this._isAnimated=!!y.k;for(var b=0,B=r.length;b<B;){if(r[b].mProps.dynamicProperties.length){this._isAnimated=!0;break}b+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(r,x){this.data=r,this.type=r.ty,this.d="",this.lvl=x,this._mdf=!1,this.closed=r.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(r,x,y,b){this.elem=r,this.frameId=-1,this.dataProps=createSizedArray(x.length),this.renderer=y,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",x.length?x.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(b);var B,R=x.length||0,I;for(B=0;B<R;B+=1)I=PropertyFactory.getProp(r,x[B].v,0,0,this),this.k=I.k||this.k,this.dataProps[B]={n:x[B].n,p:I};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(r){if(!(this.elem.globalData.frameId===this.frameId&&!r)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||r,this._mdf)){var x=0,y=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),x=0;x<y;x+=1)this.dataProps[x].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[x].p.v:this.dashArray[x]=this.dataProps[x].p.v:this.dashoffset[0]=this.dataProps[x].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(r,x,y){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(r,x.o,0,.01,this),this.w=PropertyFactory.getProp(r,x.w,0,null,this),this.d=new DashProperty(r,x.d||{},"svg",this),this.c=PropertyFactory.getProp(r,x.c,1,255,this),this.style=y,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(r,x,y){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(r,x.o,0,.01,this),this.c=PropertyFactory.getProp(r,x.c,1,255,this),this.style=y}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(r,x,y){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.style=y}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(r,x,y){this.data=x,this.c=createTypedArray("uint8c",x.p*4);var b=x.k.k[0].s?x.k.k[0].s.length-x.p*4:x.k.k.length-x.p*4;this.o=createTypedArray("float32",b),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=b,this.initDynamicPropertyContainer(y),this.prop=PropertyFactory.getProp(r,x.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(r,x){for(var y=0,b=this.o.length/2,B;y<b;){if(B=Math.abs(r[y*4]-r[x*4+y*2]),B>.01)return!1;y+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var r=0,x=this.data.k.k.length;r<x;){if(!this.comparePoints(this.data.k.k[r].s,this.data.p))return!1;r+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(r){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||r){var x,y=this.data.p*4,b,B;for(x=0;x<y;x+=1)b=x%4===0?100:255,B=Math.round(this.prop.v[x]*b),this.c[x]!==B&&(this.c[x]=B,this._cmdf=!r);if(this.o.length)for(y=this.prop.v.length,x=this.data.p*4;x<y;x+=1)b=x%2===0?100:1,B=x%2===0?Math.round(this.prop.v[x]*100):this.prop.v[x],this.o[x-this.data.p*4]!==B&&(this.o[x-this.data.p*4]=B,this._omdf=!r);this._mdf=!r}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(r,x,y){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.initGradientData(r,x,y)}SVGGradientFillStyleData.prototype.initGradientData=function(r,x,y){this.o=PropertyFactory.getProp(r,x.o,0,.01,this),this.s=PropertyFactory.getProp(r,x.s,1,null,this),this.e=PropertyFactory.getProp(r,x.e,1,null,this),this.h=PropertyFactory.getProp(r,x.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(r,x.a||{k:0},0,degToRads,this),this.g=new GradientProperty(r,x.g,this),this.style=y,this.stops=[],this.setGradientData(y.pElem,x),this.setGradientOpacity(x,y),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(r,x){var y=createElementID(),b=createNS(x.t===1?"linearGradient":"radialGradient");b.setAttribute("id",y),b.setAttribute("spreadMethod","pad"),b.setAttribute("gradientUnits","userSpaceOnUse");var B=[],R,I,O;for(O=x.g.p*4,I=0;I<O;I+=4)R=createNS("stop"),b.appendChild(R),B.push(R);r.setAttribute(x.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+y+")"),this.gf=b,this.cst=B},SVGGradientFillStyleData.prototype.setGradientOpacity=function(r,x){if(this.g._hasOpacity&&!this.g._collapsable){var y,b,B,R=createNS("mask"),I=createNS("path");R.appendChild(I);var O=createElementID(),G=createElementID();R.setAttribute("id",G);var q=createNS(r.t===1?"linearGradient":"radialGradient");q.setAttribute("id",O),q.setAttribute("spreadMethod","pad"),q.setAttribute("gradientUnits","userSpaceOnUse"),B=r.g.k.k[0].s?r.g.k.k[0].s.length:r.g.k.k.length;var ee=this.stops;for(b=r.g.p*4;b<B;b+=2)y=createNS("stop"),y.setAttribute("stop-color","rgb(255,255,255)"),q.appendChild(y),ee.push(y);I.setAttribute(r.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+O+")"),r.ty==="gs"&&(I.setAttribute("stroke-linecap",lineCapEnum[r.lc||2]),I.setAttribute("stroke-linejoin",lineJoinEnum[r.lj||2]),r.lj===1&&I.setAttribute("stroke-miterlimit",r.ml)),this.of=q,this.ms=R,this.ost=ee,this.maskId=G,x.msElem=I}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(r,x,y){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(r,x.w,0,null,this),this.d=new DashProperty(r,x.d||{},"svg",this),this.initGradientData(r,x,y),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(r,x,y){this.transform={mProps:r,op:x,container:y},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(x,y,b,B){if(y===0)return"";var R=x.o,I=x.i,O=x.v,G,q=" M"+B.applyToPointStringified(O[0][0],O[0][1]);for(G=1;G<y;G+=1)q+=" C"+B.applyToPointStringified(R[G-1][0],R[G-1][1])+" "+B.applyToPointStringified(I[G][0],I[G][1])+" "+B.applyToPointStringified(O[G][0],O[G][1]);return b&&y&&(q+=" C"+B.applyToPointStringified(R[G-1][0],R[G-1][1])+" "+B.applyToPointStringified(I[0][0],I[0][1])+" "+B.applyToPointStringified(O[0][0],O[0][1]),q+="z"),q},SVGElementsRenderer=(function(){var r=new Matrix,x=new Matrix,y={createRenderFunction:b};function b(ne){switch(ne.ty){case"fl":return O;case"gf":return q;case"gs":return G;case"st":return ee;case"sh":case"el":case"rc":case"sr":return I;case"tr":return B;case"no":return R;default:return null}}function B(ne,oe,pe){(pe||oe.transform.op._mdf)&&oe.transform.container.setAttribute("opacity",oe.transform.op.v),(pe||oe.transform.mProps._mdf)&&oe.transform.container.setAttribute("transform",oe.transform.mProps.v.to2dCSS())}function R(){}function I(ne,oe,pe){var xe,_e,Ue,Le,He,$e,Ne=oe.styles.length,Qe=oe.lvl,We,Ge,Xe,Je;for($e=0;$e<Ne;$e+=1){if(Le=oe.sh._mdf||pe,oe.styles[$e].lvl<Qe){for(Ge=x.reset(),Xe=Qe-oe.styles[$e].lvl,Je=oe.transformers.length-1;!Le&&Xe>0;)Le=oe.transformers[Je].mProps._mdf||Le,Xe-=1,Je-=1;if(Le)for(Xe=Qe-oe.styles[$e].lvl,Je=oe.transformers.length-1;Xe>0;)Ge.multiply(oe.transformers[Je].mProps.v),Xe-=1,Je-=1}else Ge=r;if(We=oe.sh.paths,_e=We._length,Le){for(Ue="",xe=0;xe<_e;xe+=1)He=We.shapes[xe],He&&He._length&&(Ue+=buildShapeString(He,He._length,He.c,Ge));oe.caches[$e]=Ue}else Ue=oe.caches[$e];oe.styles[$e].d+=ne.hd===!0?"":Ue,oe.styles[$e]._mdf=Le||oe.styles[$e]._mdf}}function O(ne,oe,pe){var xe=oe.style;(oe.c._mdf||pe)&&xe.pElem.setAttribute("fill","rgb("+bmFloor(oe.c.v[0])+","+bmFloor(oe.c.v[1])+","+bmFloor(oe.c.v[2])+")"),(oe.o._mdf||pe)&&xe.pElem.setAttribute("fill-opacity",oe.o.v)}function G(ne,oe,pe){q(ne,oe,pe),ee(ne,oe,pe)}function q(ne,oe,pe){var xe=oe.gf,_e=oe.g._hasOpacity,Ue=oe.s.v,Le=oe.e.v;if(oe.o._mdf||pe){var He=ne.ty==="gf"?"fill-opacity":"stroke-opacity";oe.style.pElem.setAttribute(He,oe.o.v)}if(oe.s._mdf||pe){var $e=ne.t===1?"x1":"cx",Ne=$e==="x1"?"y1":"cy";xe.setAttribute($e,Ue[0]),xe.setAttribute(Ne,Ue[1]),_e&&!oe.g._collapsable&&(oe.of.setAttribute($e,Ue[0]),oe.of.setAttribute(Ne,Ue[1]))}var Qe,We,Ge,Xe;if(oe.g._cmdf||pe){Qe=oe.cst;var Je=oe.g.c;for(Ge=Qe.length,We=0;We<Ge;We+=1)Xe=Qe[We],Xe.setAttribute("offset",Je[We*4]+"%"),Xe.setAttribute("stop-color","rgb("+Je[We*4+1]+","+Je[We*4+2]+","+Je[We*4+3]+")")}if(_e&&(oe.g._omdf||pe)){var ut=oe.g.o;for(oe.g._collapsable?Qe=oe.cst:Qe=oe.ost,Ge=Qe.length,We=0;We<Ge;We+=1)Xe=Qe[We],oe.g._collapsable||Xe.setAttribute("offset",ut[We*2]+"%"),Xe.setAttribute("stop-opacity",ut[We*2+1])}if(ne.t===1)(oe.e._mdf||pe)&&(xe.setAttribute("x2",Le[0]),xe.setAttribute("y2",Le[1]),_e&&!oe.g._collapsable&&(oe.of.setAttribute("x2",Le[0]),oe.of.setAttribute("y2",Le[1])));else{var ft;if((oe.s._mdf||oe.e._mdf||pe)&&(ft=Math.sqrt(Math.pow(Ue[0]-Le[0],2)+Math.pow(Ue[1]-Le[1],2)),xe.setAttribute("r",ft),_e&&!oe.g._collapsable&&oe.of.setAttribute("r",ft)),oe.s._mdf||oe.e._mdf||oe.h._mdf||oe.a._mdf||pe){ft||(ft=Math.sqrt(Math.pow(Ue[0]-Le[0],2)+Math.pow(Ue[1]-Le[1],2)));var ct=Math.atan2(Le[1]-Ue[1],Le[0]-Ue[0]),pt=oe.h.v;pt>=1?pt=.99:pt<=-1&&(pt=-.99);var yt=ft*pt,lt=Math.cos(ct+oe.a.v)*yt+Ue[0],Ze=Math.sin(ct+oe.a.v)*yt+Ue[1];xe.setAttribute("fx",lt),xe.setAttribute("fy",Ze),_e&&!oe.g._collapsable&&(oe.of.setAttribute("fx",lt),oe.of.setAttribute("fy",Ze))}}}function ee(ne,oe,pe){var xe=oe.style,_e=oe.d;_e&&(_e._mdf||pe)&&_e.dashStr&&(xe.pElem.setAttribute("stroke-dasharray",_e.dashStr),xe.pElem.setAttribute("stroke-dashoffset",_e.dashoffset[0])),oe.c&&(oe.c._mdf||pe)&&xe.pElem.setAttribute("stroke","rgb("+bmFloor(oe.c.v[0])+","+bmFloor(oe.c.v[1])+","+bmFloor(oe.c.v[2])+")"),(oe.o._mdf||pe)&&xe.pElem.setAttribute("stroke-opacity",oe.o.v),(oe.w._mdf||pe)&&(xe.pElem.setAttribute("stroke-width",oe.w.v),xe.msElem&&xe.msElem.setAttribute("stroke-width",oe.w.v))}return y})();function SVGShapeElement(r,x,y){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(r,x,y),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var r,x=this.shapes.length,y,b,B=this.stylesList.length,R,I=[],O=!1;for(b=0;b<B;b+=1){for(R=this.stylesList[b],O=!1,I.length=0,r=0;r<x;r+=1)y=this.shapes[r],y.styles.indexOf(R)!==-1&&(I.push(y),O=y._isAnimated||O);I.length>1&&O&&this.setShapesAsAnimated(I)}},SVGShapeElement.prototype.setShapesAsAnimated=function(r){var x,y=r.length;for(x=0;x<y;x+=1)r[x].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(r,x){var y,b=new SVGStyleData(r,x),B=b.pElem;if(r.ty==="st")y=new SVGStrokeStyleData(this,r,b);else if(r.ty==="fl")y=new SVGFillStyleData(this,r,b);else if(r.ty==="gf"||r.ty==="gs"){var R=r.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;y=new R(this,r,b),this.globalData.defs.appendChild(y.gf),y.maskId&&(this.globalData.defs.appendChild(y.ms),this.globalData.defs.appendChild(y.of),B.setAttribute("mask","url("+getLocationHref()+"#"+y.maskId+")"))}else r.ty==="no"&&(y=new SVGNoStyleData(this,r,b));return(r.ty==="st"||r.ty==="gs")&&(B.setAttribute("stroke-linecap",lineCapEnum[r.lc||2]),B.setAttribute("stroke-linejoin",lineJoinEnum[r.lj||2]),B.setAttribute("fill-opacity","0"),r.lj===1&&B.setAttribute("stroke-miterlimit",r.ml)),r.r===2&&B.setAttribute("fill-rule","evenodd"),r.ln&&B.setAttribute("id",r.ln),r.cl&&B.setAttribute("class",r.cl),r.bm&&(B.style["mix-blend-mode"]=getBlendMode(r.bm)),this.stylesList.push(b),this.addToAnimatedContents(r,y),y},SVGShapeElement.prototype.createGroupElement=function(r){var x=new ShapeGroupData;return r.ln&&x.gr.setAttribute("id",r.ln),r.cl&&x.gr.setAttribute("class",r.cl),r.bm&&(x.gr.style["mix-blend-mode"]=getBlendMode(r.bm)),x},SVGShapeElement.prototype.createTransformElement=function(r,x){var y=TransformPropertyFactory.getTransformProperty(this,r,this),b=new SVGTransformData(y,y.o,x);return this.addToAnimatedContents(r,b),b},SVGShapeElement.prototype.createShapeElement=function(r,x,y){var b=4;r.ty==="rc"?b=5:r.ty==="el"?b=6:r.ty==="sr"&&(b=7);var B=ShapePropertyFactory.getShapeProp(this,r,b,this),R=new SVGShapeData(x,y,B);return this.shapes.push(R),this.addShapeToModifiers(R),this.addToAnimatedContents(r,R),R},SVGShapeElement.prototype.addToAnimatedContents=function(r,x){for(var y=0,b=this.animatedContents.length;y<b;){if(this.animatedContents[y].element===x)return;y+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(r),element:x,data:r})},SVGShapeElement.prototype.setElementStyles=function(r){var x=r.styles,y,b=this.stylesList.length;for(y=0;y<b;y+=1)x.indexOf(this.stylesList[y])===-1&&!this.stylesList[y].closed&&x.push(this.stylesList[y])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var r,x=this.itemsData.length;for(r=0;r<x;r+=1)this.prevViewData[r]=this.itemsData[r];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),x=this.dynamicProperties.length,r=0;r<x;r+=1)this.dynamicProperties[r].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(r,x,y,b,B,R,I){var O=[].concat(R),G,q=r.length-1,ee,ne,oe=[],pe=[],xe,_e,Ue;for(G=q;G>=0;G-=1){if(Ue=this.searchProcessedElement(r[G]),Ue?x[G]=y[Ue-1]:r[G]._render=I,r[G].ty==="fl"||r[G].ty==="st"||r[G].ty==="gf"||r[G].ty==="gs"||r[G].ty==="no")Ue?x[G].style.closed=r[G].hd:x[G]=this.createStyleElement(r[G],B),r[G]._render&&x[G].style.pElem.parentNode!==b&&b.appendChild(x[G].style.pElem),oe.push(x[G].style);else if(r[G].ty==="gr"){if(!Ue)x[G]=this.createGroupElement(r[G]);else for(ne=x[G].it.length,ee=0;ee<ne;ee+=1)x[G].prevViewData[ee]=x[G].it[ee];this.searchShapes(r[G].it,x[G].it,x[G].prevViewData,x[G].gr,B+1,O,I),r[G]._render&&x[G].gr.parentNode!==b&&b.appendChild(x[G].gr)}else r[G].ty==="tr"?(Ue||(x[G]=this.createTransformElement(r[G],b)),xe=x[G].transform,O.push(xe)):r[G].ty==="sh"||r[G].ty==="rc"||r[G].ty==="el"||r[G].ty==="sr"?(Ue||(x[G]=this.createShapeElement(r[G],O,B)),this.setElementStyles(x[G])):r[G].ty==="tm"||r[G].ty==="rd"||r[G].ty==="ms"||r[G].ty==="pb"||r[G].ty==="zz"||r[G].ty==="op"?(Ue?(_e=x[G],_e.closed=!1):(_e=ShapeModifiers.getModifier(r[G].ty),_e.init(this,r[G]),x[G]=_e,this.shapeModifiers.push(_e)),pe.push(_e)):r[G].ty==="rp"&&(Ue?(_e=x[G],_e.closed=!0):(_e=ShapeModifiers.getModifier(r[G].ty),x[G]=_e,_e.init(this,r,G,x),this.shapeModifiers.push(_e),I=!1),pe.push(_e));this.addProcessedElement(r[G],G+1)}for(q=oe.length,G=0;G<q;G+=1)oe[G].closed=!0;for(q=pe.length,G=0;G<q;G+=1)pe[G].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var r,x=this.stylesList.length;for(r=0;r<x;r+=1)this.stylesList[r].reset();for(this.renderShape(),r=0;r<x;r+=1)(this.stylesList[r]._mdf||this._isFirstFrame)&&(this.stylesList[r].msElem&&(this.stylesList[r].msElem.setAttribute("d",this.stylesList[r].d),this.stylesList[r].d="M0 0"+this.stylesList[r].d),this.stylesList[r].pElem.setAttribute("d",this.stylesList[r].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var r,x=this.animatedContents.length,y;for(r=0;r<x;r+=1)y=this.animatedContents[r],(this._isFirstFrame||y.element._isAnimated)&&y.data!==!0&&y.fn(y.data,y.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(r,x,y,b,B,R){this.o=r,this.sw=x,this.sc=y,this.fc=b,this.m=B,this.p=R,this._mdf={o:!0,sw:!!x,sc:!!y,fc:!!b,m:!0,p:!0}}LetterProps.prototype.update=function(r,x,y,b,B,R){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var I=!1;return this.o!==r&&(this.o=r,this._mdf.o=!0,I=!0),this.sw!==x&&(this.sw=x,this._mdf.sw=!0,I=!0),this.sc!==y&&(this.sc=y,this._mdf.sc=!0,I=!0),this.fc!==b&&(this.fc=b,this._mdf.fc=!0,I=!0),this.m!==B&&(this.m=B,this._mdf.m=!0,I=!0),R.length&&(this.p[0]!==R[0]||this.p[1]!==R[1]||this.p[4]!==R[4]||this.p[5]!==R[5]||this.p[12]!==R[12]||this.p[13]!==R[13])&&(this.p=R,this._mdf.p=!0,I=!0),I};function TextProperty(r,x){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,x.d&&x.d.sid&&(x.d=r.globalData.slotManager.getProp(x.d)),this.data=x,this.elem=r,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(r,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(r[y]=x[y]);return r},TextProperty.prototype.setCurrentData=function(r){r.__complete||this.completeTextData(r),this.currentData=r,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(r){this.effectsSequence.push(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(r){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!r)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var x=this.currentData,y=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var b,B=this.effectsSequence.length,R=r||this.data.d.k[this.keysIndex].s;for(b=0;b<B;b+=1)y!==this.keysIndex?R=this.effectsSequence[b](R,R.t):R=this.effectsSequence[b](this.currentData,R.t);x!==R&&this.setCurrentData(R),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var r=this.data.d.k,x=this.elem.comp.renderedFrame,y=0,b=r.length;y<=b-1&&!(y===b-1||r[y+1].t>x);)y+=1;return this.keysIndex!==y&&(this.keysIndex=y),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(r){for(var x=[],y=0,b=r.length,B,R,I=!1,O=!1,G="";y<b;)I=O,O=!1,B=r.charCodeAt(y),G=r.charAt(y),FontManager.isCombinedCharacter(B)?I=!0:B>=55296&&B<=56319?FontManager.isRegionalFlag(r,y)?G=r.substr(y,14):(R=r.charCodeAt(y+1),R>=56320&&R<=57343&&(FontManager.isModifier(B,R)?(G=r.substr(y,2),I=!0):FontManager.isFlagEmoji(r.substr(y,4))?G=r.substr(y,4):G=r.substr(y,2))):B>56319?(R=r.charCodeAt(y+1),FontManager.isVariationSelector(B)&&(I=!0)):FontManager.isZeroWidthJoiner(B)&&(I=!0,O=!0),I?(x[x.length-1]+=G,I=!1):x.push(G),y+=G.length;return x},TextProperty.prototype.completeTextData=function(r){r.__complete=!0;var x=this.elem.globalData.fontManager,y=this.data,b=[],B,R,I,O=0,G,q=y.m.g,ee=0,ne=0,oe=0,pe=[],xe=0,_e=0,Ue,Le,He=x.getFontByName(r.f),$e,Ne=0,Qe=getFontProperties(He);r.fWeight=Qe.weight,r.fStyle=Qe.style,r.finalSize=r.s,r.finalText=this.buildFinalText(r.t),R=r.finalText.length,r.finalLineHeight=r.lh;var We=r.tr/1e3*r.finalSize,Ge;if(r.sz)for(var Xe=!0,Je=r.sz[0],ut=r.sz[1],ft,ct;Xe;){ct=this.buildFinalText(r.t),ft=0,xe=0,R=ct.length,We=r.tr/1e3*r.finalSize;var pt=-1;for(B=0;B<R;B+=1)Ge=ct[B].charCodeAt(0),I=!1,ct[B]===" "?pt=B:(Ge===13||Ge===3)&&(xe=0,I=!0,ft+=r.finalLineHeight||r.finalSize*1.2),x.chars?($e=x.getCharData(ct[B],He.fStyle,He.fFamily),Ne=I?0:$e.w*r.finalSize/100):Ne=x.measureText(ct[B],r.f,r.finalSize),xe+Ne>Je&&ct[B]!==" "?(pt===-1?R+=1:B=pt,ft+=r.finalLineHeight||r.finalSize*1.2,ct.splice(B,pt===B?1:0,"\r"),pt=-1,xe=0):(xe+=Ne,xe+=We);ft+=He.ascent*r.finalSize/100,this.canResize&&r.finalSize>this.minimumFontSize&&ut<ft?(r.finalSize-=1,r.finalLineHeight=r.finalSize*r.lh/r.s):(r.finalText=ct,R=r.finalText.length,Xe=!1)}xe=-We,Ne=0;var yt=0,lt;for(B=0;B<R;B+=1)if(I=!1,lt=r.finalText[B],Ge=lt.charCodeAt(0),Ge===13||Ge===3?(yt=0,pe.push(xe),_e=xe>_e?xe:_e,xe=-2*We,G="",I=!0,oe+=1):G=lt,x.chars?($e=x.getCharData(lt,He.fStyle,x.getFontByName(r.f).fFamily),Ne=I?0:$e.w*r.finalSize/100):Ne=x.measureText(G,r.f,r.finalSize),lt===" "?yt+=Ne+We:(xe+=Ne+We+yt,yt=0),b.push({l:Ne,an:Ne,add:ee,n:I,anIndexes:[],val:G,line:oe,animatorJustifyOffset:0}),q==2){if(ee+=Ne,G===""||G===" "||B===R-1){for((G===""||G===" ")&&(ee-=Ne);ne<=B;)b[ne].an=ee,b[ne].ind=O,b[ne].extra=Ne,ne+=1;O+=1,ee=0}}else if(q==3){if(ee+=Ne,G===""||B===R-1){for(G===""&&(ee-=Ne);ne<=B;)b[ne].an=ee,b[ne].ind=O,b[ne].extra=Ne,ne+=1;ee=0,O+=1}}else b[O].ind=O,b[O].extra=0,O+=1;if(r.l=b,_e=xe>_e?xe:_e,pe.push(xe),r.sz)r.boxWidth=r.sz[0],r.justifyOffset=0;else switch(r.boxWidth=_e,r.j){case 1:r.justifyOffset=-r.boxWidth;break;case 2:r.justifyOffset=-r.boxWidth/2;break;default:r.justifyOffset=0}r.lineWidths=pe;var Ze=y.a,it,Ye;Le=Ze.length;var et,gt,st=[];for(Ue=0;Ue<Le;Ue+=1){for(it=Ze[Ue],it.a.sc&&(r.strokeColorAnim=!0),it.a.sw&&(r.strokeWidthAnim=!0),(it.a.fc||it.a.fh||it.a.fs||it.a.fb)&&(r.fillColorAnim=!0),gt=0,et=it.s.b,B=0;B<R;B+=1)Ye=b[B],Ye.anIndexes[Ue]=gt,(et==1&&Ye.val!==""||et==2&&Ye.val!==""&&Ye.val!==" "||et==3&&(Ye.n||Ye.val==" "||B==R-1)||et==4&&(Ye.n||B==R-1))&&(it.s.rn===1&&st.push(gt),gt+=1);y.a[Ue].s.totalChars=gt;var ht=-1,vt;if(it.s.rn===1)for(B=0;B<R;B+=1)Ye=b[B],ht!=Ye.anIndexes[Ue]&&(ht=Ye.anIndexes[Ue],vt=st.splice(Math.floor(Math.random()*st.length),1)[0]),Ye.anIndexes[Ue]=vt}r.yOffset=r.finalLineHeight||r.finalSize*1.2,r.ls=r.ls||0,r.ascent=He.ascent*r.finalSize/100},TextProperty.prototype.updateDocumentData=function(r,x){x=x===void 0?this.keysIndex:x;var y=this.copyData({},this.data.d.k[x].s);y=this.copyData(y,r),this.data.d.k[x].s=y,this.recalculate(x),this.setCurrentData(y),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(r){var x=this.data.d.k[r].s;x.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(x)},TextProperty.prototype.canResizeFont=function(r){this.canResize=r,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(r){this.minimumFontSize=Math.floor(r)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(function(){var r=Math.max,x=Math.min,y=Math.floor;function b(R,I){this._currentTextLength=-1,this.k=!1,this.data=I,this.elem=R,this.comp=R.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(R),this.s=PropertyFactory.getProp(R,I.s||{k:0},0,0,this),"e"in I?this.e=PropertyFactory.getProp(R,I.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(R,I.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(R,I.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(R,I.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(R,I.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(R,I.a,0,.01,this),this.dynamicProperties.length||this.getValue()}b.prototype={getMult:function(I){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var O=0,G=0,q=1,ee=1;this.ne.v>0?O=this.ne.v/100:G=-this.ne.v/100,this.xe.v>0?q=1-this.xe.v/100:ee=1+this.xe.v/100;var ne=BezierFactory.getBezierEasing(O,G,q,ee).get,oe=0,pe=this.finalS,xe=this.finalE,_e=this.data.sh;if(_e===2)xe===pe?oe=I>=xe?1:0:oe=r(0,x(.5/(xe-pe)+(I-pe)/(xe-pe),1)),oe=ne(oe);else if(_e===3)xe===pe?oe=I>=xe?0:1:oe=1-r(0,x(.5/(xe-pe)+(I-pe)/(xe-pe),1)),oe=ne(oe);else if(_e===4)xe===pe?oe=0:(oe=r(0,x(.5/(xe-pe)+(I-pe)/(xe-pe),1)),oe<.5?oe*=2:oe=1-2*(oe-.5)),oe=ne(oe);else if(_e===5){if(xe===pe)oe=0;else{var Ue=xe-pe;I=x(r(0,I+.5-pe),xe-pe);var Le=-Ue/2+I,He=Ue/2;oe=Math.sqrt(1-Le*Le/(He*He))}oe=ne(oe)}else _e===6?(xe===pe?oe=0:(I=x(r(0,I+.5-pe),xe-pe),oe=(1+Math.cos(Math.PI+Math.PI*2*I/(xe-pe)))/2),oe=ne(oe)):(I>=y(pe)&&(I-pe<0?oe=r(0,x(x(xe,1)-(pe-I),1)):oe=r(0,x(xe-I,1))),oe=ne(oe));if(this.sm.v!==100){var $e=this.sm.v*.01;$e===0&&($e=1e-8);var Ne=.5-$e*.5;oe<Ne?oe=0:(oe=(oe-Ne)/$e,oe>1&&(oe=1))}return oe*this.a.v},getValue:function(I){this.iterateDynamicProperties(),this._mdf=I||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,I&&this.data.r===2&&(this.e.v=this._currentTextLength);var O=this.data.r===2?1:100/this.data.totalChars,G=this.o.v/O,q=this.s.v/O+G,ee=this.e.v/O+G;if(q>ee){var ne=q;q=ee,ee=ne}this.finalS=q,this.finalE=ee}},extendPrototype([DynamicPropertyContainer],b);function B(R,I,O){return new b(R,I)}return{getTextSelectorProp:B}})();function TextAnimatorDataProperty(r,x,y){var b={propType:!1},B=PropertyFactory.getProp,R=x.a;this.a={r:R.r?B(r,R.r,0,degToRads,y):b,rx:R.rx?B(r,R.rx,0,degToRads,y):b,ry:R.ry?B(r,R.ry,0,degToRads,y):b,sk:R.sk?B(r,R.sk,0,degToRads,y):b,sa:R.sa?B(r,R.sa,0,degToRads,y):b,s:R.s?B(r,R.s,1,.01,y):b,a:R.a?B(r,R.a,1,0,y):b,o:R.o?B(r,R.o,0,.01,y):b,p:R.p?B(r,R.p,1,0,y):b,sw:R.sw?B(r,R.sw,0,0,y):b,sc:R.sc?B(r,R.sc,1,0,y):b,fc:R.fc?B(r,R.fc,1,0,y):b,fh:R.fh?B(r,R.fh,0,0,y):b,fs:R.fs?B(r,R.fs,0,.01,y):b,fb:R.fb?B(r,R.fb,0,.01,y):b,t:R.t?B(r,R.t,0,0,y):b},this.s=TextSelectorProp.getTextSelectorProp(r,x.s,y),this.s.t=x.s.t}function TextAnimatorProperty(r,x,y){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=r,this._renderType=x,this._elem=y,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(y)}TextAnimatorProperty.prototype.searchProperties=function(){var r,x=this._textData.a.length,y,b=PropertyFactory.getProp;for(r=0;r<x;r+=1)y=this._textData.a[r],this._animatorsData[r]=new TextAnimatorDataProperty(this._elem,y,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:b(this._elem,this._textData.p.a,0,0,this),f:b(this._elem,this._textData.p.f,0,0,this),l:b(this._elem,this._textData.p.l,0,0,this),r:b(this._elem,this._textData.p.r,0,0,this),p:b(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=b(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(r,x){if(this.lettersChangedFlag=x,!(!this._mdf&&!this._isFirstFrame&&!x&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var y=this._moreOptions.alignment.v,b=this._animatorsData,B=this._textData,R=this.mHelper,I=this._renderType,O=this.renderedLetters.length,G,q,ee,ne,oe=r.l,pe,xe,_e,Ue,Le,He,$e,Ne,Qe,We,Ge,Xe,Je,ut,ft;if(this._hasMaskedPath){if(ft=this._pathData.m,!this._pathData.n||this._pathData._mdf){var ct=ft.v;this._pathData.r.v&&(ct=ct.reverse()),pe={tLength:0,segments:[]},ne=ct._length-1;var pt;for(Xe=0,ee=0;ee<ne;ee+=1)pt=bez.buildBezierData(ct.v[ee],ct.v[ee+1],[ct.o[ee][0]-ct.v[ee][0],ct.o[ee][1]-ct.v[ee][1]],[ct.i[ee+1][0]-ct.v[ee+1][0],ct.i[ee+1][1]-ct.v[ee+1][1]]),pe.tLength+=pt.segmentLength,pe.segments.push(pt),Xe+=pt.segmentLength;ee=ne,ft.v.c&&(pt=bez.buildBezierData(ct.v[ee],ct.v[0],[ct.o[ee][0]-ct.v[ee][0],ct.o[ee][1]-ct.v[ee][1]],[ct.i[0][0]-ct.v[0][0],ct.i[0][1]-ct.v[0][1]]),pe.tLength+=pt.segmentLength,pe.segments.push(pt),Xe+=pt.segmentLength),this._pathData.pi=pe}if(pe=this._pathData.pi,xe=this._pathData.f.v,$e=0,He=1,Ue=0,Le=!0,We=pe.segments,xe<0&&ft.v.c)for(pe.tLength<Math.abs(xe)&&(xe=-Math.abs(xe)%pe.tLength),$e=We.length-1,Qe=We[$e].points,He=Qe.length-1;xe<0;)xe+=Qe[He].partialLength,He-=1,He<0&&($e-=1,Qe=We[$e].points,He=Qe.length-1);Qe=We[$e].points,Ne=Qe[He-1],_e=Qe[He],Ge=_e.partialLength}ne=oe.length,G=0,q=0;var yt=r.finalSize*1.2*.714,lt=!0,Ze,it,Ye,et,gt;et=b.length;var st,ht=-1,vt,Et,Rt,_t=xe,Ut=$e,an=He,hn=-1,Ln,pn,qn,on,tn,Zn,Dr,zn,Tn="",yn=this.defaultPropsArray,Sr;if(r.j===2||r.j===1){var Zt=0,Yr=0,Or=r.j===2?-.5:-1,Kt=0,cn=!0;for(ee=0;ee<ne;ee+=1)if(oe[ee].n){for(Zt&&(Zt+=Yr);Kt<ee;)oe[Kt].animatorJustifyOffset=Zt,Kt+=1;Zt=0,cn=!0}else{for(Ye=0;Ye<et;Ye+=1)Ze=b[Ye].a,Ze.t.propType&&(cn&&r.j===2&&(Yr+=Ze.t.v*Or),it=b[Ye].s,st=it.getMult(oe[ee].anIndexes[Ye],B.a[Ye].s.totalChars),st.length?Zt+=Ze.t.v*st[0]*Or:Zt+=Ze.t.v*st*Or);cn=!1}for(Zt&&(Zt+=Yr);Kt<ee;)oe[Kt].animatorJustifyOffset=Zt,Kt+=1}for(ee=0;ee<ne;ee+=1){if(R.reset(),Ln=1,oe[ee].n)G=0,q+=r.yOffset,q+=lt?1:0,xe=_t,lt=!1,this._hasMaskedPath&&($e=Ut,He=an,Qe=We[$e].points,Ne=Qe[He-1],_e=Qe[He],Ge=_e.partialLength,Ue=0),Tn="",zn="",Zn="",Sr="",yn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(hn!==oe[ee].line){switch(r.j){case 1:xe+=Xe-r.lineWidths[oe[ee].line];break;case 2:xe+=(Xe-r.lineWidths[oe[ee].line])/2;break}hn=oe[ee].line}ht!==oe[ee].ind&&(oe[ht]&&(xe+=oe[ht].extra),xe+=oe[ee].an/2,ht=oe[ee].ind),xe+=y[0]*oe[ee].an*.005;var Cn=0;for(Ye=0;Ye<et;Ye+=1)Ze=b[Ye].a,Ze.p.propType&&(it=b[Ye].s,st=it.getMult(oe[ee].anIndexes[Ye],B.a[Ye].s.totalChars),st.length?Cn+=Ze.p.v[0]*st[0]:Cn+=Ze.p.v[0]*st),Ze.a.propType&&(it=b[Ye].s,st=it.getMult(oe[ee].anIndexes[Ye],B.a[Ye].s.totalChars),st.length?Cn+=Ze.a.v[0]*st[0]:Cn+=Ze.a.v[0]*st);for(Le=!0,this._pathData.a.v&&(xe=oe[0].an*.5+(Xe-this._pathData.f.v-oe[0].an*.5-oe[oe.length-1].an*.5)*ht/(ne-1),xe+=this._pathData.f.v);Le;)Ue+Ge>=xe+Cn||!Qe?(Je=(xe+Cn-Ue)/_e.partialLength,Et=Ne.point[0]+(_e.point[0]-Ne.point[0])*Je,Rt=Ne.point[1]+(_e.point[1]-Ne.point[1])*Je,R.translate(-y[0]*oe[ee].an*.005,-(y[1]*yt)*.01),Le=!1):Qe&&(Ue+=_e.partialLength,He+=1,He>=Qe.length&&(He=0,$e+=1,We[$e]?Qe=We[$e].points:ft.v.c?(He=0,$e=0,Qe=We[$e].points):(Ue-=_e.partialLength,Qe=null)),Qe&&(Ne=_e,_e=Qe[He],Ge=_e.partialLength));vt=oe[ee].an/2-oe[ee].add,R.translate(-vt,0,0)}else vt=oe[ee].an/2-oe[ee].add,R.translate(-vt,0,0),R.translate(-y[0]*oe[ee].an*.005,-y[1]*yt*.01,0);for(Ye=0;Ye<et;Ye+=1)Ze=b[Ye].a,Ze.t.propType&&(it=b[Ye].s,st=it.getMult(oe[ee].anIndexes[Ye],B.a[Ye].s.totalChars),(G!==0||r.j!==0)&&(this._hasMaskedPath?st.length?xe+=Ze.t.v*st[0]:xe+=Ze.t.v*st:st.length?G+=Ze.t.v*st[0]:G+=Ze.t.v*st));for(r.strokeWidthAnim&&(qn=r.sw||0),r.strokeColorAnim&&(r.sc?pn=[r.sc[0],r.sc[1],r.sc[2]]:pn=[0,0,0]),r.fillColorAnim&&r.fc&&(on=[r.fc[0],r.fc[1],r.fc[2]]),Ye=0;Ye<et;Ye+=1)Ze=b[Ye].a,Ze.a.propType&&(it=b[Ye].s,st=it.getMult(oe[ee].anIndexes[Ye],B.a[Ye].s.totalChars),st.length?R.translate(-Ze.a.v[0]*st[0],-Ze.a.v[1]*st[1],Ze.a.v[2]*st[2]):R.translate(-Ze.a.v[0]*st,-Ze.a.v[1]*st,Ze.a.v[2]*st));for(Ye=0;Ye<et;Ye+=1)Ze=b[Ye].a,Ze.s.propType&&(it=b[Ye].s,st=it.getMult(oe[ee].anIndexes[Ye],B.a[Ye].s.totalChars),st.length?R.scale(1+(Ze.s.v[0]-1)*st[0],1+(Ze.s.v[1]-1)*st[1],1):R.scale(1+(Ze.s.v[0]-1)*st,1+(Ze.s.v[1]-1)*st,1));for(Ye=0;Ye<et;Ye+=1){if(Ze=b[Ye].a,it=b[Ye].s,st=it.getMult(oe[ee].anIndexes[Ye],B.a[Ye].s.totalChars),Ze.sk.propType&&(st.length?R.skewFromAxis(-Ze.sk.v*st[0],Ze.sa.v*st[1]):R.skewFromAxis(-Ze.sk.v*st,Ze.sa.v*st)),Ze.r.propType&&(st.length?R.rotateZ(-Ze.r.v*st[2]):R.rotateZ(-Ze.r.v*st)),Ze.ry.propType&&(st.length?R.rotateY(Ze.ry.v*st[1]):R.rotateY(Ze.ry.v*st)),Ze.rx.propType&&(st.length?R.rotateX(Ze.rx.v*st[0]):R.rotateX(Ze.rx.v*st)),Ze.o.propType&&(st.length?Ln+=(Ze.o.v*st[0]-Ln)*st[0]:Ln+=(Ze.o.v*st-Ln)*st),r.strokeWidthAnim&&Ze.sw.propType&&(st.length?qn+=Ze.sw.v*st[0]:qn+=Ze.sw.v*st),r.strokeColorAnim&&Ze.sc.propType)for(tn=0;tn<3;tn+=1)st.length?pn[tn]+=(Ze.sc.v[tn]-pn[tn])*st[0]:pn[tn]+=(Ze.sc.v[tn]-pn[tn])*st;if(r.fillColorAnim&&r.fc){if(Ze.fc.propType)for(tn=0;tn<3;tn+=1)st.length?on[tn]+=(Ze.fc.v[tn]-on[tn])*st[0]:on[tn]+=(Ze.fc.v[tn]-on[tn])*st;Ze.fh.propType&&(st.length?on=addHueToRGB(on,Ze.fh.v*st[0]):on=addHueToRGB(on,Ze.fh.v*st)),Ze.fs.propType&&(st.length?on=addSaturationToRGB(on,Ze.fs.v*st[0]):on=addSaturationToRGB(on,Ze.fs.v*st)),Ze.fb.propType&&(st.length?on=addBrightnessToRGB(on,Ze.fb.v*st[0]):on=addBrightnessToRGB(on,Ze.fb.v*st))}}for(Ye=0;Ye<et;Ye+=1)Ze=b[Ye].a,Ze.p.propType&&(it=b[Ye].s,st=it.getMult(oe[ee].anIndexes[Ye],B.a[Ye].s.totalChars),this._hasMaskedPath?st.length?R.translate(0,Ze.p.v[1]*st[0],-Ze.p.v[2]*st[1]):R.translate(0,Ze.p.v[1]*st,-Ze.p.v[2]*st):st.length?R.translate(Ze.p.v[0]*st[0],Ze.p.v[1]*st[1],-Ze.p.v[2]*st[2]):R.translate(Ze.p.v[0]*st,Ze.p.v[1]*st,-Ze.p.v[2]*st));if(r.strokeWidthAnim&&(Zn=qn<0?0:qn),r.strokeColorAnim&&(Dr="rgb("+Math.round(pn[0]*255)+","+Math.round(pn[1]*255)+","+Math.round(pn[2]*255)+")"),r.fillColorAnim&&r.fc&&(zn="rgb("+Math.round(on[0]*255)+","+Math.round(on[1]*255)+","+Math.round(on[2]*255)+")"),this._hasMaskedPath){if(R.translate(0,-r.ls),R.translate(0,y[1]*yt*.01+q,0),this._pathData.p.v){ut=(_e.point[1]-Ne.point[1])/(_e.point[0]-Ne.point[0]);var Fn=Math.atan(ut)*180/Math.PI;_e.point[0]<Ne.point[0]&&(Fn+=180),R.rotate(-Fn*Math.PI/180)}R.translate(Et,Rt,0),xe-=y[0]*oe[ee].an*.005,oe[ee+1]&&ht!==oe[ee+1].ind&&(xe+=oe[ee].an/2,xe+=r.tr*.001*r.finalSize)}else{switch(R.translate(G,q,0),r.ps&&R.translate(r.ps[0],r.ps[1]+r.ascent,0),r.j){case 1:R.translate(oe[ee].animatorJustifyOffset+r.justifyOffset+(r.boxWidth-r.lineWidths[oe[ee].line]),0,0);break;case 2:R.translate(oe[ee].animatorJustifyOffset+r.justifyOffset+(r.boxWidth-r.lineWidths[oe[ee].line])/2,0,0);break}R.translate(0,-r.ls),R.translate(vt,0,0),R.translate(y[0]*oe[ee].an*.005,y[1]*yt*.01,0),G+=oe[ee].l+r.tr*.001*r.finalSize}I==="html"?Tn=R.toCSS():I==="svg"?Tn=R.to2dCSS():yn=[R.props[0],R.props[1],R.props[2],R.props[3],R.props[4],R.props[5],R.props[6],R.props[7],R.props[8],R.props[9],R.props[10],R.props[11],R.props[12],R.props[13],R.props[14],R.props[15]],Sr=Ln}O<=ee?(gt=new LetterProps(Sr,Zn,Dr,zn,Tn,yn),this.renderedLetters.push(gt),O+=1,this.lettersChangedFlag=!0):(gt=this.renderedLetters[ee],this.lettersChangedFlag=gt.update(Sr,Zn,Dr,zn,Tn,yn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(r,x,y){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(r,x,y),this.textProperty=new TextProperty(this,r.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(r.t,this.renderType,this),this.initTransform(r,x,y),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(r){this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange)},ITextElement.prototype.createPathShape=function(r,x){var y,b=x.length,B,R="";for(y=0;y<b;y+=1)x[y].ty==="sh"&&(B=x[y].ks.k,R+=buildShapeString(B,B.i.length,!0,r));return R},ITextElement.prototype.updateDocumentData=function(r,x){this.textProperty.updateDocumentData(r,x)},ITextElement.prototype.canResizeFont=function(r){this.textProperty.canResizeFont(r)},ITextElement.prototype.setMinimumFontSize=function(r){this.textProperty.setMinimumFontSize(r)},ITextElement.prototype.applyTextPropertiesToMatrix=function(r,x,y,b,B){switch(r.ps&&x.translate(r.ps[0],r.ps[1]+r.ascent,0),x.translate(0,-r.ls,0),r.j){case 1:x.translate(r.justifyOffset+(r.boxWidth-r.lineWidths[y]),0,0);break;case 2:x.translate(r.justifyOffset+(r.boxWidth-r.lineWidths[y])/2,0,0);break}x.translate(b,B,0)},ITextElement.prototype.buildColor=function(r){return"rgb("+Math.round(r[0]*255)+","+Math.round(r[1]*255)+","+Math.round(r[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(r,x,y){this.textSpans=[],this.renderType="svg",this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(r){for(var x=0,y=r.length,b=[],B="";x<y;)r[x]==="\r"||r[x]===""?(b.push(B),B=""):B+=r[x],x+=1;return b.push(B),b},SVGTextLottieElement.prototype.buildShapeData=function(r,x){if(r.shapes&&r.shapes.length){var y=r.shapes[0];if(y.it){var b=y.it[y.it.length-1];b.s&&(b.s.k[0]=x,b.s.k[1]=x)}}return r},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var r,x,y=this.textProperty.currentData;this.renderedLetters=createSizedArray(y?y.l.length:0),y.fc?this.layerElement.setAttribute("fill",this.buildColor(y.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),y.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(y.sc)),this.layerElement.setAttribute("stroke-width",y.sw)),this.layerElement.setAttribute("font-size",y.finalSize);var b=this.globalData.fontManager.getFontByName(y.f);if(b.fClass)this.layerElement.setAttribute("class",b.fClass);else{this.layerElement.setAttribute("font-family",b.fFamily);var B=y.fWeight,R=y.fStyle;this.layerElement.setAttribute("font-style",R),this.layerElement.setAttribute("font-weight",B)}this.layerElement.setAttribute("aria-label",y.t);var I=y.l||[],O=!!this.globalData.fontManager.chars;x=I.length;var G,q=this.mHelper,ee="",ne=this.data.singleShape,oe=0,pe=0,xe=!0,_e=y.tr*.001*y.finalSize;if(ne&&!O&&!y.sz){var Ue=this.textContainer,Le="start";switch(y.j){case 1:Le="end";break;case 2:Le="middle";break;default:Le="start";break}Ue.setAttribute("text-anchor",Le),Ue.setAttribute("letter-spacing",_e);var He=this.buildTextContents(y.finalText);for(x=He.length,pe=y.ps?y.ps[1]+y.ascent:0,r=0;r<x;r+=1)G=this.textSpans[r].span||createNS("tspan"),G.textContent=He[r],G.setAttribute("x",0),G.setAttribute("y",pe),G.style.display="inherit",Ue.appendChild(G),this.textSpans[r]||(this.textSpans[r]={span:null,glyph:null}),this.textSpans[r].span=G,pe+=y.finalLineHeight;this.layerElement.appendChild(Ue)}else{var $e=this.textSpans.length,Ne;for(r=0;r<x;r+=1){if(this.textSpans[r]||(this.textSpans[r]={span:null,childSpan:null,glyph:null}),!O||!ne||r===0){if(G=$e>r?this.textSpans[r].span:createNS(O?"g":"text"),$e<=r){if(G.setAttribute("stroke-linecap","butt"),G.setAttribute("stroke-linejoin","round"),G.setAttribute("stroke-miterlimit","4"),this.textSpans[r].span=G,O){var Qe=createNS("g");G.appendChild(Qe),this.textSpans[r].childSpan=Qe}this.textSpans[r].span=G,this.layerElement.appendChild(G)}G.style.display="inherit"}if(q.reset(),ne&&(I[r].n&&(oe=-_e,pe+=y.yOffset,pe+=xe?1:0,xe=!1),this.applyTextPropertiesToMatrix(y,q,I[r].line,oe,pe),oe+=I[r].l||0,oe+=_e),O){Ne=this.globalData.fontManager.getCharData(y.finalText[r],b.fStyle,this.globalData.fontManager.getFontByName(y.f).fFamily);var We;if(Ne.t===1)We=new SVGCompElement(Ne.data,this.globalData,this);else{var Ge=emptyShapeData;Ne.data&&Ne.data.shapes&&(Ge=this.buildShapeData(Ne.data,y.finalSize)),We=new SVGShapeElement(Ge,this.globalData,this)}if(this.textSpans[r].glyph){var Xe=this.textSpans[r].glyph;this.textSpans[r].childSpan.removeChild(Xe.layerElement),Xe.destroy()}this.textSpans[r].glyph=We,We._debug=!0,We.prepareFrame(0),We.renderFrame(),this.textSpans[r].childSpan.appendChild(We.layerElement),Ne.t===1&&this.textSpans[r].childSpan.setAttribute("transform","scale("+y.finalSize/100+","+y.finalSize/100+")")}else ne&&G.setAttribute("transform","translate("+q.props[12]+","+q.props[13]+")"),G.textContent=I[r].val,G.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ne&&G&&G.setAttribute("d",ee)}for(;r<this.textSpans.length;)this.textSpans[r].span.style.display="none",r+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var r=this.layerElement.getBBox();this.bbox={top:r.y,left:r.x,width:r.width,height:r.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var r,x=this.textSpans.length,y;for(this.renderedFrame=this.comp.renderedFrame,r=0;r<x;r+=1)y=this.textSpans[r].glyph,y&&(y.prepareFrame(this.comp.renderedFrame-this.data.st),y._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var r,x,y=this.textAnimator.renderedLetters,b=this.textProperty.currentData.l;x=b.length;var B,R,I;for(r=0;r<x;r+=1)b[r].n||(B=y[r],R=this.textSpans[r].span,I=this.textSpans[r].glyph,I&&I.renderFrame(),B._mdf.m&&R.setAttribute("transform",B.m),B._mdf.o&&R.setAttribute("opacity",B.o),B._mdf.sw&&R.setAttribute("stroke-width",B.sw),B._mdf.sc&&R.setAttribute("stroke",B.sc),B._mdf.fc&&R.setAttribute("fill",B.fc))}};function ISolidElement(r,x,y){this.initElement(r,x,y)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var r=createNS("rect");r.setAttribute("width",this.data.sw),r.setAttribute("height",this.data.sh),r.setAttribute("fill",this.data.sc),this.layerElement.appendChild(r)};function NullElement(r,x,y){this.initFrame(),this.initBaseData(r,x,y),this.initFrame(),this.initTransform(r,x,y),this.initHierarchy()}NullElement.prototype.prepareFrame=function(r){this.prepareProperties(r,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(r){return new NullElement(r,this.globalData,this)},SVGRendererBase.prototype.createShape=function(r){return new SVGShapeElement(r,this.globalData,this)},SVGRendererBase.prototype.createText=function(r){return new SVGTextLottieElement(r,this.globalData,this)},SVGRendererBase.prototype.createImage=function(r){return new IImageElement(r,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(r){return new ISolidElement(r,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(r){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+r.w+" "+r.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",r.w),this.svgElement.setAttribute("height",r.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var x=this.globalData.defs;this.setupGlobalData(r,x),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=r;var y=createNS("clipPath"),b=createNS("rect");b.setAttribute("width",r.w),b.setAttribute("height",r.h),b.setAttribute("x",0),b.setAttribute("y",0);var B=createElementID();y.setAttribute("id",B),y.appendChild(b),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+B+")"),x.appendChild(y),this.layers=r.layers,this.elements=createSizedArray(r.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var r,x=this.layers?this.layers.length:0;for(r=0;r<x;r+=1)this.elements[r]&&this.elements[r].destroy&&this.elements[r].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(r){var x=0,y=this.layers.length;for(x=0;x<y;x+=1)if(this.layers[x].ind===r)return x;return-1},SVGRendererBase.prototype.buildItem=function(r){var x=this.elements;if(!(x[r]||this.layers[r].ty===99)){x[r]=!0;var y=this.createItem(this.layers[r]);if(x[r]=y,getExpressionsPlugin()&&(this.layers[r].ty===0&&this.globalData.projectInterface.registerComposition(y),y.initExpressions()),this.appendElementInPos(y,r),this.layers[r].tt){var b="tp"in this.layers[r]?this.findIndexByInd(this.layers[r].tp):r-1;if(b===-1)return;if(!this.elements[b]||this.elements[b]===!0)this.buildItem(b),this.addPendingElement(y);else{var B=x[b],R=B.getMatte(this.layers[r].tt);y.setMatte(R)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var r=this.pendingElements.pop();if(r.checkParenting(),r.data.tt)for(var x=0,y=this.elements.length;x<y;){if(this.elements[x]===r){var b="tp"in r.data?this.findIndexByInd(r.data.tp):x-1,B=this.elements[b],R=B.getMatte(this.layers[x].tt);r.setMatte(R);break}x+=1}}},SVGRendererBase.prototype.renderFrame=function(r){if(!(this.renderedFrame===r||this.destroyed)){r===null?r=this.renderedFrame:this.renderedFrame=r,this.globalData.frameNum=r,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=r,this.globalData._mdf=!1;var x,y=this.layers.length;for(this.completeLayers||this.checkLayers(r),x=y-1;x>=0;x-=1)(this.completeLayers||this.elements[x])&&this.elements[x].prepareFrame(r-this.layers[x].st);if(this.globalData._mdf)for(x=0;x<y;x+=1)(this.completeLayers||this.elements[x])&&this.elements[x].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(r,x){var y=r.getBaseElement();if(y){for(var b=0,B;b<x;)this.elements[b]&&this.elements[b]!==!0&&this.elements[b].getBaseElement()&&(B=this.elements[b].getBaseElement()),b+=1;B?this.layerElement.insertBefore(y,B):this.layerElement.appendChild(y)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(r,x,y){this.initFrame(),this.initBaseData(r,x,y),this.initTransform(r,x,y),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!x.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(r){if(this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=r/this.data.sr;else{var x=this.tm.v;x===this.data.op&&(x=this.data.op-1),this.renderedFrame=x}var y,b=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),y=b-1;y>=0;y-=1)(this.completeLayers||this.elements[y])&&(this.elements[y].prepareFrame(this.renderedFrame-this.layers[y].st),this.elements[y]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var r,x=this.layers.length;for(r=0;r<x;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame()},ICompElement.prototype.setElements=function(r){this.elements=r},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var r,x=this.layers.length;for(r=0;r<x;r+=1)this.elements[r]&&this.elements[r].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(r,x,y){this.layers=r.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(r,x,y),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,x.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(r){return new SVGCompElement(r,this.globalData,this)};function SVGRenderer(r,x){this.animationItem=r,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var y="";if(x&&x.title){var b=createNS("title"),B=createElementID();b.setAttribute("id",B),b.textContent=x.title,this.svgElement.appendChild(b),y+=B}if(x&&x.description){var R=createNS("desc"),I=createElementID();R.setAttribute("id",I),R.textContent=x.description,this.svgElement.appendChild(R),y+=" "+I}y&&this.svgElement.setAttribute("aria-labelledby",y);var O=createNS("defs");this.svgElement.appendChild(O);var G=createNS("g");this.svgElement.appendChild(G),this.layerElement=G,this.renderConfig={preserveAspectRatio:x&&x.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:x&&x.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:x&&x.contentVisibility||"visible",progressiveLoad:x&&x.progressiveLoad||!1,hideOnTransparent:!(x&&x.hideOnTransparent===!1),viewBoxOnly:x&&x.viewBoxOnly||!1,viewBoxSize:x&&x.viewBoxSize||!1,className:x&&x.className||"",id:x&&x.id||"",focusable:x&&x.focusable,filterSize:{width:x&&x.filterSize&&x.filterSize.width||"100%",height:x&&x.filterSize&&x.filterSize.height||"100%",x:x&&x.filterSize&&x.filterSize.x||"0%",y:x&&x.filterSize&&x.filterSize.y||"0%"},width:x&&x.width,height:x&&x.height,runExpressions:!x||x.runExpressions===void 0||x.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:O,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(r){return new SVGCompElement(r,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(x){var y,b=x.length,B="_";for(y=0;y<b;y+=1)B+=x[y].transform.key+"_";var R=this.sequences[B];return R||(R={transforms:[].concat(x),finalTransform:new Matrix,_mdf:!1},this.sequences[B]=R,this.sequenceList.push(R)),R},processSequence:function(x,y){for(var b=0,B=x.transforms.length,R=y;b<B&&!y;){if(x.transforms[b].transform.mProps._mdf){R=!0;break}b+=1}if(R)for(x.finalTransform.reset(),b=B-1;b>=0;b-=1)x.finalTransform.multiply(x.transforms[b].transform.mProps.v);x._mdf=R},processSequences:function(x){var y,b=this.sequenceList.length;for(y=0;y<b;y+=1)this.processSequence(this.sequenceList[y],x)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var x="__lottie_element_luma_buffer",y=null,b=null,B=null;function R(){var G=createNS("svg"),q=createNS("filter"),ee=createNS("feColorMatrix");return q.setAttribute("id",x),ee.setAttribute("type","matrix"),ee.setAttribute("color-interpolation-filters","sRGB"),ee.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),q.appendChild(ee),G.appendChild(q),G.setAttribute("id",x+"_svg"),featureSupport.svgLumaHidden&&(G.style.display="none"),G}function I(){y||(B=R(),document.body.appendChild(B),y=createTag("canvas"),b=y.getContext("2d"),b.filter="url(#"+x+")",b.fillStyle="rgba(0,0,0,0)",b.fillRect(0,0,1,1))}function O(G){return y||I(),y.width=G.width,y.height=G.height,b.filter="url(#"+x+")",y}return{load:I,get:O}};function createCanvas(r,x){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(r,x);var y=createTag("canvas");return y.width=r,y.height=x,y}var assetLoader=(function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}})(),registeredEffects={};function CVEffects(r){var x,y=r.data.ef?r.data.ef.length:0;this.filters=[];var b;for(x=0;x<y;x+=1){b=null;var B=r.data.ef[x].ty;if(registeredEffects[B]){var R=registeredEffects[B].effect;b=new R(r.effectsManager.effectElements[x],r)}b&&this.filters.push(b)}this.filters.length&&r.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(r){var x,y=this.filters.length;for(x=0;x<y;x+=1)this.filters[x].renderFrame(r)},CVEffects.prototype.getEffects=function(r){var x,y=this.filters.length,b=[];for(x=0;x<y;x+=1)this.filters[x].type===r&&b.push(this.filters[x]);return b};function registerEffect(r,x){registeredEffects[r]={effect:x}}function CVMaskElement(r,x){this.data=r,this.element=x,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var y,b=this.masksProperties.length,B=!1;for(y=0;y<b;y+=1)this.masksProperties[y].mode!=="n"&&(B=!0),this.viewData[y]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[y],3);this.hasMasks=B,B&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var r=this.element.finalTransform.mat,x=this.element.canvasContext,y,b=this.masksProperties.length,B,R,I;for(x.beginPath(),y=0;y<b;y+=1)if(this.masksProperties[y].mode!=="n"){this.masksProperties[y].inv&&(x.moveTo(0,0),x.lineTo(this.element.globalData.compSize.w,0),x.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),x.lineTo(0,this.element.globalData.compSize.h),x.lineTo(0,0)),I=this.viewData[y].v,B=r.applyToPointArray(I.v[0][0],I.v[0][1],0),x.moveTo(B[0],B[1]);var O,G=I._length;for(O=1;O<G;O+=1)R=r.applyToTriplePoints(I.o[O-1],I.i[O],I.v[O]),x.bezierCurveTo(R[0],R[1],R[2],R[3],R[4],R[5]);R=r.applyToTriplePoints(I.o[O-1],I.i[0],I.v[0]),x.bezierCurveTo(R[0],R[1],R[2],R[3],R[4],R[5])}this.element.globalData.renderer.save(!0),x.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var x=this.globalData.canvasContext,y=assetLoader.createCanvas(x.canvas.width,x.canvas.height);this.buffers.push(y);var b=assetLoader.createCanvas(x.canvas.width,x.canvas.height);this.buffers.push(b),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var x=this.globalData;if(x.blendMode!==this.data.bm){x.blendMode=this.data.bm;var y=getBlendMode(this.data.bm);x.canvasContext.globalCompositeOperation=y}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(x){x.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var x=this.buffers[0],y=x.getContext("2d");this.clearCanvas(y),y.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var x=this.buffers[1],y=x.getContext("2d");this.clearCanvas(y),y.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var b=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(b.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var B=assetLoader.getLumaCanvas(this.canvasContext.canvas),R=B.getContext("2d");R.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(B,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(x,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(x){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!x)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var y=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(y),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(y),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(r,x,y,b){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var B=4;x.ty==="rc"?B=5:x.ty==="el"?B=6:x.ty==="sr"&&(B=7),this.sh=ShapePropertyFactory.getShapeProp(r,x,B,r);var R,I=y.length,O;for(R=0;R<I;R+=1)y[R].closed||(O={transforms:b.addTransformSequence(y[R].transforms),trNodes:[]},this.styledShapes.push(O),y[R].elements.push(O))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(r,x,y){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(r,x){var y={data:r,type:r.ty,preTransforms:this.transformsManager.addTransformSequence(x),transforms:[],elements:[],closed:r.hd===!0},b={};if(r.ty==="fl"||r.ty==="st"?(b.c=PropertyFactory.getProp(this,r.c,1,255,this),b.c.k||(y.co="rgb("+bmFloor(b.c.v[0])+","+bmFloor(b.c.v[1])+","+bmFloor(b.c.v[2])+")")):(r.ty==="gf"||r.ty==="gs")&&(b.s=PropertyFactory.getProp(this,r.s,1,null,this),b.e=PropertyFactory.getProp(this,r.e,1,null,this),b.h=PropertyFactory.getProp(this,r.h||{k:0},0,.01,this),b.a=PropertyFactory.getProp(this,r.a||{k:0},0,degToRads,this),b.g=new GradientProperty(this,r.g,this)),b.o=PropertyFactory.getProp(this,r.o,0,.01,this),r.ty==="st"||r.ty==="gs"){if(y.lc=lineCapEnum[r.lc||2],y.lj=lineJoinEnum[r.lj||2],r.lj==1&&(y.ml=r.ml),b.w=PropertyFactory.getProp(this,r.w,0,null,this),b.w.k||(y.wi=b.w.v),r.d){var B=new DashProperty(this,r.d,"canvas",this);b.d=B,b.d.k||(y.da=b.d.dashArray,y.do=b.d.dashoffset[0])}}else y.r=r.r===2?"evenodd":"nonzero";return this.stylesList.push(y),b.style=y,b},CVShapeElement.prototype.createGroupElement=function(){var r={it:[],prevViewData:[]};return r},CVShapeElement.prototype.createTransformElement=function(r){var x={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,r.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,r,this)}};return x},CVShapeElement.prototype.createShapeElement=function(r){var x=new CVShapeData(this,r,this.stylesList,this.transformsManager);return this.shapes.push(x),this.addShapeToModifiers(x),x},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var r,x=this.itemsData.length;for(r=0;r<x;r+=1)this.prevViewData[r]=this.itemsData[r];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),x=this.dynamicProperties.length,r=0;r<x;r+=1)this.dynamicProperties[r].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(r){var x,y=this.stylesList.length;for(x=0;x<y;x+=1)this.stylesList[x].closed||this.stylesList[x].transforms.push(r)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var r,x=this.stylesList.length;for(r=0;r<x;r+=1)this.stylesList[r].closed||this.stylesList[r].transforms.pop()},CVShapeElement.prototype.closeStyles=function(r){var x,y=r.length;for(x=0;x<y;x+=1)r[x].closed=!0},CVShapeElement.prototype.searchShapes=function(r,x,y,b,B){var R,I=r.length-1,O,G,q=[],ee=[],ne,oe,pe,xe=[].concat(B);for(R=I;R>=0;R-=1){if(ne=this.searchProcessedElement(r[R]),ne?x[R]=y[ne-1]:r[R]._shouldRender=b,r[R].ty==="fl"||r[R].ty==="st"||r[R].ty==="gf"||r[R].ty==="gs")ne?x[R].style.closed=!1:x[R]=this.createStyleElement(r[R],xe),q.push(x[R].style);else if(r[R].ty==="gr"){if(!ne)x[R]=this.createGroupElement(r[R]);else for(G=x[R].it.length,O=0;O<G;O+=1)x[R].prevViewData[O]=x[R].it[O];this.searchShapes(r[R].it,x[R].it,x[R].prevViewData,b,xe)}else r[R].ty==="tr"?(ne||(pe=this.createTransformElement(r[R]),x[R]=pe),xe.push(x[R]),this.addTransformToStyleList(x[R])):r[R].ty==="sh"||r[R].ty==="rc"||r[R].ty==="el"||r[R].ty==="sr"?ne||(x[R]=this.createShapeElement(r[R])):r[R].ty==="tm"||r[R].ty==="rd"||r[R].ty==="pb"||r[R].ty==="zz"||r[R].ty==="op"?(ne?(oe=x[R],oe.closed=!1):(oe=ShapeModifiers.getModifier(r[R].ty),oe.init(this,r[R]),x[R]=oe,this.shapeModifiers.push(oe)),ee.push(oe)):r[R].ty==="rp"&&(ne?(oe=x[R],oe.closed=!0):(oe=ShapeModifiers.getModifier(r[R].ty),x[R]=oe,oe.init(this,r,R,x),this.shapeModifiers.push(oe),b=!1),ee.push(oe));this.addProcessedElement(r[R],R+1)}for(this.removeTransformFromStyleList(),this.closeStyles(q),I=ee.length,R=0;R<I;R+=1)ee[R].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(r,x){(r._opMdf||x.op._mdf||this._isFirstFrame)&&(x.opacity=r.opacity,x.opacity*=x.op.v,x._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var r,x=this.stylesList.length,y,b,B,R,I,O,G=this.globalData.renderer,q=this.globalData.canvasContext,ee,ne;for(r=0;r<x;r+=1)if(ne=this.stylesList[r],ee=ne.type,!((ee==="st"||ee==="gs")&&ne.wi===0||!ne.data._shouldRender||ne.coOp===0||this.globalData.currentGlobalAlpha===0)){for(G.save(),I=ne.elements,ee==="st"||ee==="gs"?(G.ctxStrokeStyle(ee==="st"?ne.co:ne.grd),G.ctxLineWidth(ne.wi),G.ctxLineCap(ne.lc),G.ctxLineJoin(ne.lj),G.ctxMiterLimit(ne.ml||0)):G.ctxFillStyle(ee==="fl"?ne.co:ne.grd),G.ctxOpacity(ne.coOp),ee!=="st"&&ee!=="gs"&&q.beginPath(),G.ctxTransform(ne.preTransforms.finalTransform.props),b=I.length,y=0;y<b;y+=1){for((ee==="st"||ee==="gs")&&(q.beginPath(),ne.da&&(q.setLineDash(ne.da),q.lineDashOffset=ne.do)),O=I[y].trNodes,R=O.length,B=0;B<R;B+=1)O[B].t==="m"?q.moveTo(O[B].p[0],O[B].p[1]):O[B].t==="c"?q.bezierCurveTo(O[B].pts[0],O[B].pts[1],O[B].pts[2],O[B].pts[3],O[B].pts[4],O[B].pts[5]):q.closePath();(ee==="st"||ee==="gs")&&(G.ctxStroke(),ne.da&&q.setLineDash(this.dashResetter))}ee!=="st"&&ee!=="gs"&&this.globalData.renderer.ctxFill(ne.r),G.restore()}},CVShapeElement.prototype.renderShape=function(r,x,y,b){var B,R=x.length-1,I;for(I=r,B=R;B>=0;B-=1)x[B].ty==="tr"?(I=y[B].transform,this.renderShapeTransform(r,I)):x[B].ty==="sh"||x[B].ty==="el"||x[B].ty==="rc"||x[B].ty==="sr"?this.renderPath(x[B],y[B]):x[B].ty==="fl"?this.renderFill(x[B],y[B],I):x[B].ty==="st"?this.renderStroke(x[B],y[B],I):x[B].ty==="gf"||x[B].ty==="gs"?this.renderGradientFill(x[B],y[B],I):x[B].ty==="gr"?this.renderShape(I,x[B].it,y[B].it):x[B].ty;b&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(r,x){if(this._isFirstFrame||x._mdf||r.transforms._mdf){var y=r.trNodes,b=x.paths,B,R,I,O=b._length;y.length=0;var G=r.transforms.finalTransform;for(I=0;I<O;I+=1){var q=b.shapes[I];if(q&&q.v){for(R=q._length,B=1;B<R;B+=1)B===1&&y.push({t:"m",p:G.applyToPointArray(q.v[0][0],q.v[0][1],0)}),y.push({t:"c",pts:G.applyToTriplePoints(q.o[B-1],q.i[B],q.v[B])});R===1&&y.push({t:"m",p:G.applyToPointArray(q.v[0][0],q.v[0][1],0)}),q.c&&R&&(y.push({t:"c",pts:G.applyToTriplePoints(q.o[B-1],q.i[0],q.v[0])}),y.push({t:"z"}))}}r.trNodes=y}},CVShapeElement.prototype.renderPath=function(r,x){if(r.hd!==!0&&r._shouldRender){var y,b=x.styledShapes.length;for(y=0;y<b;y+=1)this.renderStyledShape(x.styledShapes[y],x.sh)}},CVShapeElement.prototype.renderFill=function(r,x,y){var b=x.style;(x.c._mdf||this._isFirstFrame)&&(b.co="rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||y._opMdf||this._isFirstFrame)&&(b.coOp=x.o.v*y.opacity)},CVShapeElement.prototype.renderGradientFill=function(r,x,y){var b=x.style,B;if(!b.grd||x.g._mdf||x.s._mdf||x.e._mdf||r.t!==1&&(x.h._mdf||x.a._mdf)){var R=this.globalData.canvasContext,I=x.s.v,O=x.e.v;if(r.t===1)B=R.createLinearGradient(I[0],I[1],O[0],O[1]);else{var G=Math.sqrt(Math.pow(I[0]-O[0],2)+Math.pow(I[1]-O[1],2)),q=Math.atan2(O[1]-I[1],O[0]-I[0]),ee=x.h.v;ee>=1?ee=.99:ee<=-1&&(ee=-.99);var ne=G*ee,oe=Math.cos(q+x.a.v)*ne+I[0],pe=Math.sin(q+x.a.v)*ne+I[1];B=R.createRadialGradient(oe,pe,0,I[0],I[1],G)}var xe,_e=r.g.p,Ue=x.g.c,Le=1;for(xe=0;xe<_e;xe+=1)x.g._hasOpacity&&x.g._collapsable&&(Le=x.g.o[xe*2+1]),B.addColorStop(Ue[xe*4]/100,"rgba("+Ue[xe*4+1]+","+Ue[xe*4+2]+","+Ue[xe*4+3]+","+Le+")");b.grd=B}b.coOp=x.o.v*y.opacity},CVShapeElement.prototype.renderStroke=function(r,x,y){var b=x.style,B=x.d;B&&(B._mdf||this._isFirstFrame)&&(b.da=B.dashArray,b.do=B.dashoffset[0]),(x.c._mdf||this._isFirstFrame)&&(b.co="rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||y._opMdf||this._isFirstFrame)&&(b.coOp=x.o.v*y.opacity),(x.w._mdf||this._isFirstFrame)&&(b.wi=x.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(r,x,y){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r.l?r.l.length:0);var x=!1;r.fc?(x=!0,this.values.fill=this.buildColor(r.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=x;var y=!1;r.sc&&(y=!0,this.values.stroke=this.buildColor(r.sc),this.values.sWidth=r.sw);var b=this.globalData.fontManager.getFontByName(r.f),B,R,I=r.l,O=this.mHelper;this.stroke=y,this.values.fValue=r.finalSize+"px "+this.globalData.fontManager.getFontByName(r.f).fFamily,R=r.finalText.length;var G,q,ee,ne,oe,pe,xe,_e,Ue,Le,He=this.data.singleShape,$e=r.tr*.001*r.finalSize,Ne=0,Qe=0,We=!0,Ge=0;for(B=0;B<R;B+=1){G=this.globalData.fontManager.getCharData(r.finalText[B],b.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily),q=G&&G.data||{},O.reset(),He&&I[B].n&&(Ne=-$e,Qe+=r.yOffset,Qe+=We?1:0,We=!1),oe=q.shapes?q.shapes[0].it:[],xe=oe.length,O.scale(r.finalSize/100,r.finalSize/100),He&&this.applyTextPropertiesToMatrix(r,O,I[B].line,Ne,Qe),Ue=createSizedArray(xe-1);var Xe=0;for(pe=0;pe<xe;pe+=1)if(oe[pe].ty==="sh"){for(ne=oe[pe].ks.k.i.length,_e=oe[pe].ks.k,Le=[],ee=1;ee<ne;ee+=1)ee===1&&Le.push(O.applyToX(_e.v[0][0],_e.v[0][1],0),O.applyToY(_e.v[0][0],_e.v[0][1],0)),Le.push(O.applyToX(_e.o[ee-1][0],_e.o[ee-1][1],0),O.applyToY(_e.o[ee-1][0],_e.o[ee-1][1],0),O.applyToX(_e.i[ee][0],_e.i[ee][1],0),O.applyToY(_e.i[ee][0],_e.i[ee][1],0),O.applyToX(_e.v[ee][0],_e.v[ee][1],0),O.applyToY(_e.v[ee][0],_e.v[ee][1],0));Le.push(O.applyToX(_e.o[ee-1][0],_e.o[ee-1][1],0),O.applyToY(_e.o[ee-1][0],_e.o[ee-1][1],0),O.applyToX(_e.i[0][0],_e.i[0][1],0),O.applyToY(_e.i[0][0],_e.i[0][1],0),O.applyToX(_e.v[0][0],_e.v[0][1],0),O.applyToY(_e.v[0][0],_e.v[0][1],0)),Ue[Xe]=Le,Xe+=1}He&&(Ne+=I[B].l,Ne+=$e),this.textSpans[Ge]?this.textSpans[Ge].elem=Ue:this.textSpans[Ge]={elem:Ue},Ge+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var r=this.canvasContext;r.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var x,y,b,B,R,I,O=this.textAnimator.renderedLetters,G=this.textProperty.currentData.l;y=G.length;var q,ee=null,ne=null,oe=null,pe,xe,_e=this.globalData.renderer;for(x=0;x<y;x+=1)if(!G[x].n){if(q=O[x],q&&(_e.save(),_e.ctxTransform(q.p),_e.ctxOpacity(q.o)),this.fill){for(q&&q.fc?ee!==q.fc&&(_e.ctxFillStyle(q.fc),ee=q.fc):ee!==this.values.fill&&(ee=this.values.fill,_e.ctxFillStyle(this.values.fill)),pe=this.textSpans[x].elem,B=pe.length,this.globalData.canvasContext.beginPath(),b=0;b<B;b+=1)for(xe=pe[b],I=xe.length,this.globalData.canvasContext.moveTo(xe[0],xe[1]),R=2;R<I;R+=6)this.globalData.canvasContext.bezierCurveTo(xe[R],xe[R+1],xe[R+2],xe[R+3],xe[R+4],xe[R+5]);this.globalData.canvasContext.closePath(),_e.ctxFill()}if(this.stroke){for(q&&q.sw?oe!==q.sw&&(oe=q.sw,_e.ctxLineWidth(q.sw)):oe!==this.values.sWidth&&(oe=this.values.sWidth,_e.ctxLineWidth(this.values.sWidth)),q&&q.sc?ne!==q.sc&&(ne=q.sc,_e.ctxStrokeStyle(q.sc)):ne!==this.values.stroke&&(ne=this.values.stroke,_e.ctxStrokeStyle(this.values.stroke)),pe=this.textSpans[x].elem,B=pe.length,this.globalData.canvasContext.beginPath(),b=0;b<B;b+=1)for(xe=pe[b],I=xe.length,this.globalData.canvasContext.moveTo(xe[0],xe[1]),R=2;R<I;R+=6)this.globalData.canvasContext.bezierCurveTo(xe[R],xe[R+1],xe[R+2],xe[R+3],xe[R+4],xe[R+5]);this.globalData.canvasContext.closePath(),_e.ctxStroke()}q&&this.globalData.renderer.restore()}};function CVImageElement(r,x,y){this.assetData=x.getAssetData(r.refId),this.img=x.imageLoader.getAsset(this.assetData),this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var r=createTag("canvas");r.width=this.assetData.w,r.height=this.assetData.h;var x=r.getContext("2d"),y=this.img.width,b=this.img.height,B=y/b,R=this.assetData.w/this.assetData.h,I,O,G=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;B>R&&G==="xMidYMid slice"||B<R&&G!=="xMidYMid slice"?(O=b,I=O*R):(I=y,O=I/R),x.drawImage(this.img,(y-I)/2,(b-O)/2,I,O,0,0,this.assetData.w,this.assetData.h),this.img=r}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(r,x,y){this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(r){return new CVShapeElement(r,this.globalData,this)},CanvasRendererBase.prototype.createText=function(r){return new CVTextElement(r,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(r){return new CVImageElement(r,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(r){return new CVSolidElement(r,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(r){r[0]===1&&r[1]===0&&r[4]===0&&r[5]===1&&r[12]===0&&r[13]===0||this.canvasContext.transform(r[0],r[1],r[4],r[5],r[12],r[13])},CanvasRendererBase.prototype.ctxOpacity=function(r){this.canvasContext.globalAlpha*=r<0?0:r},CanvasRendererBase.prototype.ctxFillStyle=function(r){this.canvasContext.fillStyle=r},CanvasRendererBase.prototype.ctxStrokeStyle=function(r){this.canvasContext.strokeStyle=r},CanvasRendererBase.prototype.ctxLineWidth=function(r){this.canvasContext.lineWidth=r},CanvasRendererBase.prototype.ctxLineCap=function(r){this.canvasContext.lineCap=r},CanvasRendererBase.prototype.ctxLineJoin=function(r){this.canvasContext.lineJoin=r},CanvasRendererBase.prototype.ctxMiterLimit=function(r){this.canvasContext.miterLimit=r},CanvasRendererBase.prototype.ctxFill=function(r){this.canvasContext.fill(r)},CanvasRendererBase.prototype.ctxFillRect=function(r,x,y,b){this.canvasContext.fillRect(r,x,y,b)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(r){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}r&&(this.globalData.blendMode="source-over"),this.contextData.restore(r)},CanvasRendererBase.prototype.configAnimation=function(r){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var x=this.animationItem.container.style;x.width="100%",x.height="100%";var y="0px 0px 0px";x.transformOrigin=y,x.mozTransformOrigin=y,x.webkitTransformOrigin=y,x["-webkit-transform"]=y,x.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=r,this.layers=r.layers,this.transformCanvas={w:r.w,h:r.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(r,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(r.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(r,x){this.reset();var y,b;r?(y=r,b=x,this.canvasContext.canvas.width=y,this.canvasContext.canvas.height=b):(this.animationItem.wrapper&&this.animationItem.container?(y=this.animationItem.wrapper.offsetWidth,b=this.animationItem.wrapper.offsetHeight):(y=this.canvasContext.canvas.width,b=this.canvasContext.canvas.height),this.canvasContext.canvas.width=y*this.renderConfig.dpr,this.canvasContext.canvas.height=b*this.renderConfig.dpr);var B,R;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var I=this.renderConfig.preserveAspectRatio.split(" "),O=I[1]||"meet",G=I[0]||"xMidYMid",q=G.substr(0,4),ee=G.substr(4);B=y/b,R=this.transformCanvas.w/this.transformCanvas.h,R>B&&O==="meet"||R<B&&O==="slice"?(this.transformCanvas.sx=y/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=y/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=b/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=b/(this.transformCanvas.h/this.renderConfig.dpr)),q==="xMid"&&(R<B&&O==="meet"||R>B&&O==="slice")?this.transformCanvas.tx=(y-this.transformCanvas.w*(b/this.transformCanvas.h))/2*this.renderConfig.dpr:q==="xMax"&&(R<B&&O==="meet"||R>B&&O==="slice")?this.transformCanvas.tx=(y-this.transformCanvas.w*(b/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,ee==="YMid"&&(R>B&&O==="meet"||R<B&&O==="slice")?this.transformCanvas.ty=(b-this.transformCanvas.h*(y/this.transformCanvas.w))/2*this.renderConfig.dpr:ee==="YMax"&&(R>B&&O==="meet"||R<B&&O==="slice")?this.transformCanvas.ty=(b-this.transformCanvas.h*(y/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=y/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=b/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var r,x=this.layers?this.layers.length:0;for(r=x-1;r>=0;r-=1)this.elements[r]&&this.elements[r].destroy&&this.elements[r].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(r,x){if(!(this.renderedFrame===r&&this.renderConfig.clearCanvas===!0&&!x||this.destroyed||r===-1)){this.renderedFrame=r,this.globalData.frameNum=r-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||x,this.globalData.projectInterface.currentFrame=r;var y,b=this.layers.length;for(this.completeLayers||this.checkLayers(r),y=b-1;y>=0;y-=1)(this.completeLayers||this.elements[y])&&this.elements[y].prepareFrame(r-this.layers[y].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),y=b-1;y>=0;y-=1)(this.completeLayers||this.elements[y])&&this.elements[y].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(r){var x=this.elements;if(!(x[r]||this.layers[r].ty===99)){var y=this.createItem(this.layers[r],this,this.globalData);x[r]=y,y.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var r=this.pendingElements.pop();r.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var r,x=15;for(r=0;r<x;r+=1){var y=new CanvasContext;this.stack[r]=y}this._length=x,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var r=this._length*2,x=0;for(x=this._length;x<r;x+=1)this.stack[x]=new CanvasContext;this._length=r},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(r){this.cArrPos-=1;var x=this.stack[this.cArrPos],y=x.transform,b,B=this.cTr.props;for(b=0;b<16;b+=1)B[b]=y[b];if(r){this.nativeContext.restore();var R=this.stack[this.cArrPos+1];this.appliedFillStyle=R.fillStyle,this.appliedStrokeStyle=R.strokeStyle,this.appliedLineWidth=R.lineWidth,this.appliedLineCap=R.lineCap,this.appliedLineJoin=R.lineJoin,this.appliedMiterLimit=R.miterLimit}this.nativeContext.setTransform(y[0],y[1],y[4],y[5],y[12],y[13]),(r||x.opacity!==-1&&this.currentOpacity!==x.opacity)&&(this.nativeContext.globalAlpha=x.opacity,this.currentOpacity=x.opacity),this.currentFillStyle=x.fillStyle,this.currentStrokeStyle=x.strokeStyle,this.currentLineWidth=x.lineWidth,this.currentLineCap=x.lineCap,this.currentLineJoin=x.lineJoin,this.currentMiterLimit=x.miterLimit},CVContextData.prototype.save=function(r){r&&this.nativeContext.save();var x=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var y=this.stack[this.cArrPos],b;for(b=0;b<16;b+=1)y.transform[b]=x[b];this.cArrPos+=1;var B=this.stack[this.cArrPos];B.opacity=y.opacity,B.fillStyle=y.fillStyle,B.strokeStyle=y.strokeStyle,B.lineWidth=y.lineWidth,B.lineCap=y.lineCap,B.lineJoin=y.lineJoin,B.miterLimit=y.miterLimit},CVContextData.prototype.setOpacity=function(r){this.stack[this.cArrPos].opacity=r},CVContextData.prototype.setContext=function(r){this.nativeContext=r},CVContextData.prototype.fillStyle=function(r){this.stack[this.cArrPos].fillStyle!==r&&(this.currentFillStyle=r,this.stack[this.cArrPos].fillStyle=r)},CVContextData.prototype.strokeStyle=function(r){this.stack[this.cArrPos].strokeStyle!==r&&(this.currentStrokeStyle=r,this.stack[this.cArrPos].strokeStyle=r)},CVContextData.prototype.lineWidth=function(r){this.stack[this.cArrPos].lineWidth!==r&&(this.currentLineWidth=r,this.stack[this.cArrPos].lineWidth=r)},CVContextData.prototype.lineCap=function(r){this.stack[this.cArrPos].lineCap!==r&&(this.currentLineCap=r,this.stack[this.cArrPos].lineCap=r)},CVContextData.prototype.lineJoin=function(r){this.stack[this.cArrPos].lineJoin!==r&&(this.currentLineJoin=r,this.stack[this.cArrPos].lineJoin=r)},CVContextData.prototype.miterLimit=function(r){this.stack[this.cArrPos].miterLimit!==r&&(this.currentMiterLimit=r,this.stack[this.cArrPos].miterLimit=r)},CVContextData.prototype.transform=function(r){this.transformMat.cloneFromProps(r);var x=this.cTr;this.transformMat.multiply(x),x.cloneFromProps(this.transformMat.props);var y=x.props;this.nativeContext.setTransform(y[0],y[1],y[4],y[5],y[12],y[13])},CVContextData.prototype.opacity=function(r){var x=this.stack[this.cArrPos].opacity;x*=r<0?0:r,this.stack[this.cArrPos].opacity!==x&&(this.currentOpacity!==r&&(this.nativeContext.globalAlpha=r,this.currentOpacity=r),this.stack[this.cArrPos].opacity=x)},CVContextData.prototype.fill=function(r){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(r)},CVContextData.prototype.fillRect=function(r,x,y,b){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(r,x,y,b)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(r,x,y){this.completeLayers=!1,this.layers=r.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(r,x,y),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,x.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var r=this.canvasContext;r.beginPath(),r.moveTo(0,0),r.lineTo(this.data.w,0),r.lineTo(this.data.w,this.data.h),r.lineTo(0,this.data.h),r.lineTo(0,0),r.clip();var x,y=this.layers.length;for(x=y-1;x>=0;x-=1)(this.completeLayers||this.elements[x])&&this.elements[x].renderFrame()},CVCompElement.prototype.destroy=function(){var r,x=this.layers.length;for(r=x-1;r>=0;r-=1)this.elements[r]&&this.elements[r].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(r){return new CVCompElement(r,this.globalData,this)};function CanvasRenderer(r,x){this.animationItem=r,this.renderConfig={clearCanvas:x&&x.clearCanvas!==void 0?x.clearCanvas:!0,context:x&&x.context||null,progressiveLoad:x&&x.progressiveLoad||!1,preserveAspectRatio:x&&x.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:x&&x.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:x&&x.contentVisibility||"visible",className:x&&x.className||"",id:x&&x.id||"",runExpressions:!x||x.runExpressions===void 0||x.runExpressions},this.renderConfig.dpr=x&&x.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=x&&x.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(r){return new CVCompElement(r,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var x=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var y=this.finalTransform.mat.toCSS();x.transform=y,x.webkitTransform=y}this.finalTransform._opMdf&&(x.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(r,x,y){this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var r;this.data.hasMask?(r=createNS("rect"),r.setAttribute("width",this.data.sw),r.setAttribute("height",this.data.sh),r.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(r=createTag("div"),r.style.width=this.data.sw+"px",r.style.height=this.data.sh+"px",r.style.backgroundColor=this.data.sc),this.layerElement.appendChild(r)};function HShapeElement(r,x,y){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(r,x,y),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var r;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),r=this.svgElement;else{r=createNS("svg");var x=this.comp.data?this.comp.data:this.globalData.compSize;r.setAttribute("width",x.w),r.setAttribute("height",x.h),r.appendChild(this.shapesContainer),this.layerElement.appendChild(r)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=r},HShapeElement.prototype.getTransformedPoint=function(r,x){var y,b=r.length;for(y=0;y<b;y+=1)x=r[y].mProps.v.applyToPointArray(x[0],x[1],0);return x},HShapeElement.prototype.calculateShapeBoundingBox=function(r,x){var y=r.sh.v,b=r.transformers,B,R=y._length,I,O,G,q;if(!(R<=1)){for(B=0;B<R-1;B+=1)I=this.getTransformedPoint(b,y.v[B]),O=this.getTransformedPoint(b,y.o[B]),G=this.getTransformedPoint(b,y.i[B+1]),q=this.getTransformedPoint(b,y.v[B+1]),this.checkBounds(I,O,G,q,x);y.c&&(I=this.getTransformedPoint(b,y.v[B]),O=this.getTransformedPoint(b,y.o[B]),G=this.getTransformedPoint(b,y.i[0]),q=this.getTransformedPoint(b,y.v[0]),this.checkBounds(I,O,G,q,x))}},HShapeElement.prototype.checkBounds=function(r,x,y,b,B){this.getBoundsOfCurve(r,x,y,b);var R=this.shapeBoundingBox;B.x=bmMin(R.left,B.x),B.xMax=bmMax(R.right,B.xMax),B.y=bmMin(R.top,B.y),B.yMax=bmMax(R.bottom,B.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(r,x,y,b){for(var B=[[r[0],b[0]],[r[1],b[1]]],R,I,O,G,q,ee,ne,oe=0;oe<2;++oe)I=6*r[oe]-12*x[oe]+6*y[oe],R=-3*r[oe]+9*x[oe]-9*y[oe]+3*b[oe],O=3*x[oe]-3*r[oe],I|=0,R|=0,O|=0,R===0&&I===0||(R===0?(G=-O/I,G>0&&G<1&&B[oe].push(this.calculateF(G,r,x,y,b,oe))):(q=I*I-4*O*R,q>=0&&(ee=(-I+bmSqrt(q))/(2*R),ee>0&&ee<1&&B[oe].push(this.calculateF(ee,r,x,y,b,oe)),ne=(-I-bmSqrt(q))/(2*R),ne>0&&ne<1&&B[oe].push(this.calculateF(ne,r,x,y,b,oe)))));this.shapeBoundingBox.left=bmMin.apply(null,B[0]),this.shapeBoundingBox.top=bmMin.apply(null,B[1]),this.shapeBoundingBox.right=bmMax.apply(null,B[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,B[1])},HShapeElement.prototype.calculateF=function(r,x,y,b,B,R){return bmPow(1-r,3)*x[R]+3*bmPow(1-r,2)*r*y[R]+3*(1-r)*bmPow(r,2)*b[R]+bmPow(r,3)*B[R]},HShapeElement.prototype.calculateBoundingBox=function(r,x){var y,b=r.length;for(y=0;y<b;y+=1)r[y]&&r[y].sh?this.calculateShapeBoundingBox(r[y],x):r[y]&&r[y].it?this.calculateBoundingBox(r[y].it,x):r[y]&&r[y].style&&r[y].w&&this.expandStrokeBoundingBox(r[y].w,x)},HShapeElement.prototype.expandStrokeBoundingBox=function(r,x){var y=0;if(r.keyframes){for(var b=0;b<r.keyframes.length;b+=1){var B=r.keyframes[b].s;B>y&&(y=B)}y*=r.mult}else y=r.v*r.mult;x.x-=y,x.xMax+=y,x.y-=y,x.yMax+=y},HShapeElement.prototype.currentBoxContains=function(r){return this.currentBBox.x<=r.x&&this.currentBBox.y<=r.y&&this.currentBBox.width+this.currentBBox.x>=r.x+r.width&&this.currentBBox.height+this.currentBBox.y>=r.y+r.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var r=this.tempBoundingBox,x=999999;if(r.x=x,r.xMax=-x,r.y=x,r.yMax=-x,this.calculateBoundingBox(this.itemsData,r),r.width=r.xMax<r.x?0:r.xMax-r.x,r.height=r.yMax<r.y?0:r.yMax-r.y,this.currentBoxContains(r))return;var y=!1;if(this.currentBBox.w!==r.width&&(this.currentBBox.w=r.width,this.shapeCont.setAttribute("width",r.width),y=!0),this.currentBBox.h!==r.height&&(this.currentBBox.h=r.height,this.shapeCont.setAttribute("height",r.height),y=!0),y||this.currentBBox.x!==r.x||this.currentBBox.y!==r.y){this.currentBBox.w=r.width,this.currentBBox.h=r.height,this.currentBBox.x=r.x,this.currentBBox.y=r.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var b=this.shapeCont.style,B="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";b.transform=B,b.webkitTransform=B}}};function HTextElement(r,x,y){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var r=createNS("g");this.maskedElement.appendChild(r),this.innerElem=r}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r.l?r.l.length:0);var x=this.innerElem.style,y=r.fc?this.buildColor(r.fc):"rgba(0,0,0,0)";x.fill=y,x.color=y,r.sc&&(x.stroke=this.buildColor(r.sc),x.strokeWidth=r.sw+"px");var b=this.globalData.fontManager.getFontByName(r.f);if(!this.globalData.fontManager.chars)if(x.fontSize=r.finalSize+"px",x.lineHeight=r.finalSize+"px",b.fClass)this.innerElem.className=b.fClass;else{x.fontFamily=b.fFamily;var B=r.fWeight,R=r.fStyle;x.fontStyle=R,x.fontWeight=B}var I,O,G=r.l;O=G.length;var q,ee,ne,oe=this.mHelper,pe,xe="",_e=0;for(I=0;I<O;I+=1){if(this.globalData.fontManager.chars?(this.textPaths[_e]?q=this.textPaths[_e]:(q=createNS("path"),q.setAttribute("stroke-linecap",lineCapEnum[1]),q.setAttribute("stroke-linejoin",lineJoinEnum[2]),q.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[_e]?(ee=this.textSpans[_e],ne=ee.children[0]):(ee=createTag("div"),ee.style.lineHeight=0,ne=createNS("svg"),ne.appendChild(q),styleDiv(ee)))):this.isMasked?q=this.textPaths[_e]?this.textPaths[_e]:createNS("text"):this.textSpans[_e]?(ee=this.textSpans[_e],q=this.textPaths[_e]):(ee=createTag("span"),styleDiv(ee),q=createTag("span"),styleDiv(q),ee.appendChild(q)),this.globalData.fontManager.chars){var Ue=this.globalData.fontManager.getCharData(r.finalText[I],b.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily),Le;if(Ue?Le=Ue.data:Le=null,oe.reset(),Le&&Le.shapes&&Le.shapes.length&&(pe=Le.shapes[0].it,oe.scale(r.finalSize/100,r.finalSize/100),xe=this.createPathShape(oe,pe),q.setAttribute("d",xe)),this.isMasked)this.innerElem.appendChild(q);else{if(this.innerElem.appendChild(ee),Le&&Le.shapes){document.body.appendChild(ne);var He=ne.getBBox();ne.setAttribute("width",He.width+2),ne.setAttribute("height",He.height+2),ne.setAttribute("viewBox",He.x-1+" "+(He.y-1)+" "+(He.width+2)+" "+(He.height+2));var $e=ne.style,Ne="translate("+(He.x-1)+"px,"+(He.y-1)+"px)";$e.transform=Ne,$e.webkitTransform=Ne,G[I].yOffset=He.y-1}else ne.setAttribute("width",1),ne.setAttribute("height",1);ee.appendChild(ne)}}else if(q.textContent=G[I].val,q.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(q);else{this.innerElem.appendChild(ee);var Qe=q.style,We="translate3d(0,"+-r.finalSize/1.2+"px,0)";Qe.transform=We,Qe.webkitTransform=We}this.isMasked?this.textSpans[_e]=q:this.textSpans[_e]=ee,this.textSpans[_e].style.display="block",this.textPaths[_e]=q,_e+=1}for(;_e<this.textSpans.length;)this.textSpans[_e].style.display="none",_e+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var r;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),r=this.svgElement.style;var x="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";r.transform=x,r.webkitTransform=x}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var y,b,B=0,R=this.textAnimator.renderedLetters,I=this.textProperty.currentData.l;b=I.length;var O,G,q;for(y=0;y<b;y+=1)I[y].n?B+=1:(G=this.textSpans[y],q=this.textPaths[y],O=R[B],B+=1,O._mdf.m&&(this.isMasked?G.setAttribute("transform",O.m):(G.style.webkitTransform=O.m,G.style.transform=O.m)),G.style.opacity=O.o,O.sw&&O._mdf.sw&&q.setAttribute("stroke-width",O.sw),O.sc&&O._mdf.sc&&q.setAttribute("stroke",O.sc),O.fc&&O._mdf.fc&&(q.setAttribute("fill",O.fc),q.style.color=O.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ee=this.innerElem.getBBox();this.currentBBox.w!==ee.width&&(this.currentBBox.w=ee.width,this.svgElement.setAttribute("width",ee.width)),this.currentBBox.h!==ee.height&&(this.currentBBox.h=ee.height,this.svgElement.setAttribute("height",ee.height));var ne=1;if(this.currentBBox.w!==ee.width+ne*2||this.currentBBox.h!==ee.height+ne*2||this.currentBBox.x!==ee.x-ne||this.currentBBox.y!==ee.y-ne){this.currentBBox.w=ee.width+ne*2,this.currentBBox.h=ee.height+ne*2,this.currentBBox.x=ee.x-ne,this.currentBBox.y=ee.y-ne,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),r=this.svgElement.style;var oe="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=oe,r.webkitTransform=oe}}}};function HCameraElement(r,x,y){this.initFrame(),this.initBaseData(r,x,y),this.initHierarchy();var b=PropertyFactory.getProp;if(this.pe=b(this,r.pe,0,0,this),r.ks.p.s?(this.px=b(this,r.ks.p.x,1,0,this),this.py=b(this,r.ks.p.y,1,0,this),this.pz=b(this,r.ks.p.z,1,0,this)):this.p=b(this,r.ks.p,1,0,this),r.ks.a&&(this.a=b(this,r.ks.a,1,0,this)),r.ks.or.k.length&&r.ks.or.k[0].to){var B,R=r.ks.or.k.length;for(B=0;B<R;B+=1)r.ks.or.k[B].to=null,r.ks.or.k[B].ti=null}this.or=b(this,r.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=b(this,r.ks.rx,0,degToRads,this),this.ry=b(this,r.ks.ry,0,degToRads,this),this.rz=b(this,r.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var r,x=this.comp.threeDElements.length,y,b,B;for(r=0;r<x;r+=1)if(y=this.comp.threeDElements[r],y.type==="3d"){b=y.perspectiveElem.style,B=y.container.style;var R=this.pe.v+"px",I="0px 0px 0px",O="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";b.perspective=R,b.webkitPerspective=R,B.transformOrigin=I,B.mozTransformOrigin=I,B.webkitTransformOrigin=I,b.transform=O,b.webkitTransform=O}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var r=this._isFirstFrame,x,y;if(this.hierarchy)for(y=this.hierarchy.length,x=0;x<y;x+=1)r=this.hierarchy[x].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(y=this.hierarchy.length-1,x=y;x>=0;x-=1){var b=this.hierarchy[x].finalTransform.mProp;this.mat.translate(-b.p.v[0],-b.p.v[1],b.p.v[2]),this.mat.rotateX(-b.or.v[0]).rotateY(-b.or.v[1]).rotateZ(b.or.v[2]),this.mat.rotateX(-b.rx.v).rotateY(-b.ry.v).rotateZ(b.rz.v),this.mat.scale(1/b.s.v[0],1/b.s.v[1],1/b.s.v[2]),this.mat.translate(b.a.v[0],b.a.v[1],b.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var B;this.p?B=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:B=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var R=Math.sqrt(Math.pow(B[0],2)+Math.pow(B[1],2)+Math.pow(B[2],2)),I=[B[0]/R,B[1]/R,B[2]/R],O=Math.sqrt(I[2]*I[2]+I[0]*I[0]),G=Math.atan2(I[1],O),q=Math.atan2(I[0],-I[2]);this.mat.rotateY(q).rotateX(-G)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ee=!this._prevMat.equals(this.mat);if((ee||this.pe._mdf)&&this.comp.threeDElements){y=this.comp.threeDElements.length;var ne,oe,pe;for(x=0;x<y;x+=1)if(ne=this.comp.threeDElements[x],ne.type==="3d"){if(ee){var xe=this.mat.toCSS();pe=ne.container.style,pe.transform=xe,pe.webkitTransform=xe}this.pe._mdf&&(oe=ne.perspectiveElem.style,oe.perspective=this.pe.v+"px",oe.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(r){this.prepareProperties(r,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(r,x,y){this.assetData=x.getAssetData(r.refId),this.initElement(r,x,y)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var r=this.globalData.getAssetsPath(this.assetData),x=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(x),x.crossOrigin="anonymous",x.src=r,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(r,x){this.animationItem=r,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:x&&x.className||"",imagePreserveAspectRatio:x&&x.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(x&&x.hideOnTransparent===!1),filterSize:{width:x&&x.filterSize&&x.filterSize.width||"400%",height:x&&x.filterSize&&x.filterSize.height||"400%",x:x&&x.filterSize&&x.filterSize.x||"-100%",y:x&&x.filterSize&&x.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var r=this.pendingElements.pop();r.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(r,x){var y=r.getBaseElement();if(y){var b=this.layers[x];if(!b.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(y,x);else{for(var B=0,R,I,O;B<x;)this.elements[B]&&this.elements[B]!==!0&&this.elements[B].getBaseElement&&(I=this.elements[B],O=this.layers[B].ddd?this.getThreeDContainerByPos(B):I.getBaseElement(),R=O||R),B+=1;R?(!b.ddd||!this.supports3d)&&this.layerElement.insertBefore(y,R):(!b.ddd||!this.supports3d)&&this.layerElement.appendChild(y)}else this.addTo3dContainer(y,x)}},HybridRendererBase.prototype.createShape=function(r){return this.supports3d?new HShapeElement(r,this.globalData,this):new SVGShapeElement(r,this.globalData,this)},HybridRendererBase.prototype.createText=function(r){return this.supports3d?new HTextElement(r,this.globalData,this):new SVGTextLottieElement(r,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(r){return this.camera=new HCameraElement(r,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(r){return this.supports3d?new HImageElement(r,this.globalData,this):new IImageElement(r,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(r){return this.supports3d?new HSolidElement(r,this.globalData,this):new ISolidElement(r,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(r){for(var x=0,y=this.threeDElements.length;x<y;){if(this.threeDElements[x].startPos<=r&&this.threeDElements[x].endPos>=r)return this.threeDElements[x].perspectiveElem;x+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(r,x){var y=createTag("div"),b,B;styleDiv(y);var R=createTag("div");if(styleDiv(R),x==="3d"){b=y.style,b.width=this.globalData.compSize.w+"px",b.height=this.globalData.compSize.h+"px";var I="50% 50%";b.webkitTransformOrigin=I,b.mozTransformOrigin=I,b.transformOrigin=I,B=R.style;var O="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";B.transform=O,B.webkitTransform=O}y.appendChild(R);var G={container:R,perspectiveElem:y,startPos:r,endPos:r,type:x};return this.threeDElements.push(G),G},HybridRendererBase.prototype.build3dContainers=function(){var r,x=this.layers.length,y,b="";for(r=0;r<x;r+=1)this.layers[r].ddd&&this.layers[r].ty!==3?(b!=="3d"&&(b="3d",y=this.createThreeDContainer(r,"3d")),y.endPos=Math.max(y.endPos,r)):(b!=="2d"&&(b="2d",y=this.createThreeDContainer(r,"2d")),y.endPos=Math.max(y.endPos,r));for(x=this.threeDElements.length,r=x-1;r>=0;r-=1)this.resizerElem.appendChild(this.threeDElements[r].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(r,x){for(var y=0,b=this.threeDElements.length;y<b;){if(x<=this.threeDElements[y].endPos){for(var B=this.threeDElements[y].startPos,R;B<x;)this.elements[B]&&this.elements[B].getBaseElement&&(R=this.elements[B].getBaseElement()),B+=1;R?this.threeDElements[y].container.insertBefore(r,R):this.threeDElements[y].container.appendChild(r);break}y+=1}},HybridRendererBase.prototype.configAnimation=function(r){var x=createTag("div"),y=this.animationItem.wrapper,b=x.style;b.width=r.w+"px",b.height=r.h+"px",this.resizerElem=x,styleDiv(x),b.transformStyle="flat",b.mozTransformStyle="flat",b.webkitTransformStyle="flat",this.renderConfig.className&&x.setAttribute("class",this.renderConfig.className),y.appendChild(x),b.overflow="hidden";var B=createNS("svg");B.setAttribute("width","1"),B.setAttribute("height","1"),styleDiv(B),this.resizerElem.appendChild(B);var R=createNS("defs");B.appendChild(R),this.data=r,this.setupGlobalData(r,B),this.globalData.defs=R,this.layers=r.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var r,x=this.layers?this.layers.length:0;for(r=0;r<x;r+=1)this.elements[r]&&this.elements[r].destroy&&this.elements[r].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var r=this.animationItem.wrapper.offsetWidth,x=this.animationItem.wrapper.offsetHeight,y=r/x,b=this.globalData.compSize.w/this.globalData.compSize.h,B,R,I,O;b>y?(B=r/this.globalData.compSize.w,R=r/this.globalData.compSize.w,I=0,O=(x-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(B=x/this.globalData.compSize.h,R=x/this.globalData.compSize.h,I=(r-this.globalData.compSize.w*(x/this.globalData.compSize.h))/2,O=0);var G=this.resizerElem.style;G.webkitTransform="matrix3d("+B+",0,0,0,0,"+R+",0,0,0,0,1,0,"+I+","+O+",0,1)",G.transform=G.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var r=this.globalData.compSize.w,x=this.globalData.compSize.h,y,b=this.threeDElements.length;for(y=0;y<b;y+=1){var B=this.threeDElements[y].perspectiveElem.style;B.webkitPerspective=Math.sqrt(Math.pow(r,2)+Math.pow(x,2))+"px",B.perspective=B.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(r){var x,y=r.length,b=createTag("div");for(x=0;x<y;x+=1)if(r[x].xt){var B=this.createComp(r[x],b,this.globalData.comp,null);B.initExpressions(),this.globalData.projectInterface.registerComposition(B)}};function HCompElement(r,x,y){this.layers=r.layers,this.supports3d=!r.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(r,x,y),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,x.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(r,x){for(var y=0,b;y<x;)this.elements[y]&&this.elements[y].getBaseElement&&(b=this.elements[y].getBaseElement()),y+=1;b?this.layerElement.insertBefore(r,b):this.layerElement.appendChild(r)},HCompElement.prototype.createComp=function(r){return this.supports3d?new HCompElement(r,this.globalData,this):new SVGCompElement(r,this.globalData,this)};function HybridRenderer(r,x){this.animationItem=r,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:x&&x.className||"",imagePreserveAspectRatio:x&&x.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(x&&x.hideOnTransparent===!1),filterSize:{width:x&&x.filterSize&&x.filterSize.width||"400%",height:x&&x.filterSize&&x.filterSize.height||"400%",x:x&&x.filterSize&&x.filterSize.x||"-100%",y:x&&x.filterSize&&x.filterSize.y||"-100%"},runExpressions:!x||x.runExpressions===void 0||x.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(r){return this.supports3d?new HCompElement(r,this.globalData,this):new SVGCompElement(r,this.globalData,this)};var CompExpressionInterface=(function(){return function(r){function x(y){for(var b=0,B=r.layers.length;b<B;){if(r.layers[b].nm===y||r.layers[b].ind===y)return r.elements[b].layerInterface;b+=1}return null}return Object.defineProperty(x,"_name",{value:r.data.nm}),x.layer=x,x.pixelAspect=1,x.height=r.data.h||r.globalData.compSize.h,x.width=r.data.w||r.globalData.compSize.w,x.pixelAspect=1,x.frameDuration=1/r.globalData.frameRate,x.displayStartTime=0,x.numLayers=r.layers.length,x}})();function _typeof$2(r){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof$2(r)}function seedRandom(r,x){var y=this,b=256,B=6,R=52,I="random",O=x.pow(b,B),G=x.pow(2,R),q=G*2,ee=b-1,ne;function oe($e,Ne,Qe){var We=[];Ne=Ne===!0?{entropy:!0}:Ne||{};var Ge=Ue(_e(Ne.entropy?[$e,He(r)]:$e===null?Le():$e,3),We),Xe=new pe(We),Je=function(){for(var ft=Xe.g(B),ct=O,pt=0;ft<G;)ft=(ft+pt)*b,ct*=b,pt=Xe.g(1);for(;ft>=q;)ft/=2,ct/=2,pt>>>=1;return(ft+pt)/ct};return Je.int32=function(){return Xe.g(4)|0},Je.quick=function(){return Xe.g(4)/4294967296},Je.double=Je,Ue(He(Xe.S),r),(Ne.pass||Qe||function(ut,ft,ct,pt){return pt&&(pt.S&&xe(pt,Xe),ut.state=function(){return xe(Xe,{})}),ct?(x[I]=ut,ft):ut})(Je,Ge,"global"in Ne?Ne.global:this==x,Ne.state)}x["seed"+I]=oe;function pe($e){var Ne,Qe=$e.length,We=this,Ge=0,Xe=We.i=We.j=0,Je=We.S=[];for(Qe||($e=[Qe++]);Ge<b;)Je[Ge]=Ge++;for(Ge=0;Ge<b;Ge++)Je[Ge]=Je[Xe=ee&Xe+$e[Ge%Qe]+(Ne=Je[Ge])],Je[Xe]=Ne;We.g=function(ut){for(var ft,ct=0,pt=We.i,yt=We.j,lt=We.S;ut--;)ft=lt[pt=ee&pt+1],ct=ct*b+lt[ee&(lt[pt]=lt[yt=ee&yt+ft])+(lt[yt]=ft)];return We.i=pt,We.j=yt,ct}}function xe($e,Ne){return Ne.i=$e.i,Ne.j=$e.j,Ne.S=$e.S.slice(),Ne}function _e($e,Ne){var Qe=[],We=_typeof$2($e),Ge;if(Ne&&We=="object")for(Ge in $e)try{Qe.push(_e($e[Ge],Ne-1))}catch{}return Qe.length?Qe:We=="string"?$e:$e+"\0"}function Ue($e,Ne){for(var Qe=$e+"",We,Ge=0;Ge<Qe.length;)Ne[ee&Ge]=ee&(We^=Ne[ee&Ge]*19)+Qe.charCodeAt(Ge++);return He(Ne)}function Le(){try{var $e=new Uint8Array(b);return(y.crypto||y.msCrypto).getRandomValues($e),He($e)}catch{var Ne=y.navigator,Qe=Ne&&Ne.plugins;return[+new Date,y,Qe,y.screen,He(r)]}}function He($e){return String.fromCharCode.apply(0,$e)}Ue(x.random(),r)}function initialize$2(r){seedRandom([],r)}var propTypes={SHAPE:"shape"};function _typeof$1(r){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof$1(r)}var ExpressionManager=(function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(r){return r.constructor===Array||r.constructor===Float32Array}function isNumerable(r,x){return r==="number"||x instanceof Number||r==="boolean"||r==="string"}function $bm_neg(r){var x=_typeof$1(r);if(x==="number"||r instanceof Number||x==="boolean")return-r;if($bm_isInstanceOfArray(r)){var y,b=r.length,B=[];for(y=0;y<b;y+=1)B[y]=-r[y];return B}return r.propType?r.v:-r}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(r,x){var y=_typeof$1(r),b=_typeof$1(x);if(isNumerable(y,r)&&isNumerable(b,x)||y==="string"||b==="string")return r+x;if($bm_isInstanceOfArray(r)&&isNumerable(b,x))return r=r.slice(0),r[0]+=x,r;if(isNumerable(y,r)&&$bm_isInstanceOfArray(x))return x=x.slice(0),x[0]=r+x[0],x;if($bm_isInstanceOfArray(r)&&$bm_isInstanceOfArray(x)){for(var B=0,R=r.length,I=x.length,O=[];B<R||B<I;)(typeof r[B]=="number"||r[B]instanceof Number)&&(typeof x[B]=="number"||x[B]instanceof Number)?O[B]=r[B]+x[B]:O[B]=x[B]===void 0?r[B]:r[B]||x[B],B+=1;return O}return 0}var add=sum;function sub(r,x){var y=_typeof$1(r),b=_typeof$1(x);if(isNumerable(y,r)&&isNumerable(b,x))return y==="string"&&(r=parseInt(r,10)),b==="string"&&(x=parseInt(x,10)),r-x;if($bm_isInstanceOfArray(r)&&isNumerable(b,x))return r=r.slice(0),r[0]-=x,r;if(isNumerable(y,r)&&$bm_isInstanceOfArray(x))return x=x.slice(0),x[0]=r-x[0],x;if($bm_isInstanceOfArray(r)&&$bm_isInstanceOfArray(x)){for(var B=0,R=r.length,I=x.length,O=[];B<R||B<I;)(typeof r[B]=="number"||r[B]instanceof Number)&&(typeof x[B]=="number"||x[B]instanceof Number)?O[B]=r[B]-x[B]:O[B]=x[B]===void 0?r[B]:r[B]||x[B],B+=1;return O}return 0}function mul(r,x){var y=_typeof$1(r),b=_typeof$1(x),B;if(isNumerable(y,r)&&isNumerable(b,x))return r*x;var R,I;if($bm_isInstanceOfArray(r)&&isNumerable(b,x)){for(I=r.length,B=createTypedArray("float32",I),R=0;R<I;R+=1)B[R]=r[R]*x;return B}if(isNumerable(y,r)&&$bm_isInstanceOfArray(x)){for(I=x.length,B=createTypedArray("float32",I),R=0;R<I;R+=1)B[R]=r*x[R];return B}return 0}function div(r,x){var y=_typeof$1(r),b=_typeof$1(x),B;if(isNumerable(y,r)&&isNumerable(b,x))return r/x;var R,I;if($bm_isInstanceOfArray(r)&&isNumerable(b,x)){for(I=r.length,B=createTypedArray("float32",I),R=0;R<I;R+=1)B[R]=r[R]/x;return B}if(isNumerable(y,r)&&$bm_isInstanceOfArray(x)){for(I=x.length,B=createTypedArray("float32",I),R=0;R<I;R+=1)B[R]=r/x[R];return B}return 0}function mod(r,x){return typeof r=="string"&&(r=parseInt(r,10)),typeof x=="string"&&(x=parseInt(x,10)),r%x}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(r,x,y){if(x>y){var b=y;y=x,x=b}return Math.min(Math.max(r,x),y)}function radiansToDegrees(r){return r/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(r){return r*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(r,x){if(typeof r=="number"||r instanceof Number)return x=x||0,Math.abs(r-x);x||(x=helperLengthArray);var y,b=Math.min(r.length,x.length),B=0;for(y=0;y<b;y+=1)B+=Math.pow(x[y]-r[y],2);return Math.sqrt(B)}function normalize(r){return div(r,length(r))}function rgbToHsl(r){var x=r[0],y=r[1],b=r[2],B=Math.max(x,y,b),R=Math.min(x,y,b),I,O,G=(B+R)/2;if(B===R)I=0,O=0;else{var q=B-R;switch(O=G>.5?q/(2-B-R):q/(B+R),B){case x:I=(y-b)/q+(y<b?6:0);break;case y:I=(b-x)/q+2;break;case b:I=(x-y)/q+4;break}I/=6}return[I,O,G,r[3]]}function hue2rgb(r,x,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?r+(x-r)*6*y:y<1/2?x:y<2/3?r+(x-r)*(2/3-y)*6:r}function hslToRgb(r){var x=r[0],y=r[1],b=r[2],B,R,I;if(y===0)B=b,I=b,R=b;else{var O=b<.5?b*(1+y):b+y-b*y,G=2*b-O;B=hue2rgb(G,O,x+1/3),R=hue2rgb(G,O,x),I=hue2rgb(G,O,x-1/3)}return[B,R,I,r[3]]}function linear(r,x,y,b,B){if((b===void 0||B===void 0)&&(b=x,B=y,x=0,y=1),y<x){var R=y;y=x,x=R}if(r<=x)return b;if(r>=y)return B;var I=y===x?0:(r-x)/(y-x);if(!b.length)return b+(B-b)*I;var O,G=b.length,q=createTypedArray("float32",G);for(O=0;O<G;O+=1)q[O]=b[O]+(B[O]-b[O])*I;return q}function random(r,x){if(x===void 0&&(r===void 0?(r=0,x=1):(x=r,r=void 0)),x.length){var y,b=x.length;r||(r=createTypedArray("float32",b));var B=createTypedArray("float32",b),R=BMMath.random();for(y=0;y<b;y+=1)B[y]=r[y]+R*(x[y]-r[y]);return B}r===void 0&&(r=0);var I=BMMath.random();return r+I*(x-r)}function createPath(r,x,y,b){var B,R=r.length,I=shapePool.newElement();I.setPathData(!!b,R);var O=[0,0],G,q;for(B=0;B<R;B+=1)G=x&&x[B]?x[B]:O,q=y&&y[B]?y[B]:O,I.setTripleAt(r[B][0],r[B][1],q[0]+r[B][0],q[1]+r[B][1],G[0]+r[B][0],G[1]+r[B][1],B,!0);return I}function initiateExpression(elem,data,property){function noOp(r){return r}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function r(x,y){var b,B,R=this.pv.length?this.pv.length:1,I=createTypedArray("float32",R);x=5;var O=Math.floor(time*x);for(b=0,B=0;b<O;){for(B=0;B<R;B+=1)I[B]+=-y+y*2*BMMath.random();b+=1}var G=time*x,q=G-Math.floor(G),ee=createTypedArray("float32",R);if(R>1){for(B=0;B<R;B+=1)ee[B]=this.pv[B]+I[B]+(-y+y*2*BMMath.random())*q;return ee}return this.pv+I[0]+(-y+y*2*BMMath.random())*q}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(r,x){return loopIn(r,x,!0)}function loopOutDuration(r,x){return loopOut(r,x,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(r,x){var y=[x[0]-r[0],x[1]-r[1],x[2]-r[2]],b=Math.atan2(y[0],Math.sqrt(y[1]*y[1]+y[2]*y[2]))/degToRads,B=-Math.atan2(y[1],y[2])/degToRads;return[B,b,0]}function easeOut(r,x,y,b,B){return applyEase(easeOutBez,r,x,y,b,B)}function easeIn(r,x,y,b,B){return applyEase(easeInBez,r,x,y,b,B)}function ease(r,x,y,b,B){return applyEase(easeInOutBez,r,x,y,b,B)}function applyEase(r,x,y,b,B,R){B===void 0?(B=y,R=b):x=(x-y)/(b-y),x>1?x=1:x<0&&(x=0);var I=r(x);if($bm_isInstanceOfArray(B)){var O,G=B.length,q=createTypedArray("float32",G);for(O=0;O<G;O+=1)q[O]=(R[O]-B[O])*I+B[O];return q}return(R-B)*I+B}function nearestKey(r){var x,y=data.k.length,b,B;if(!data.k.length||typeof data.k[0]=="number")b=0,B=0;else if(b=-1,r*=elem.comp.globalData.frameRate,r<data.k[0].t)b=1,B=data.k[0].t;else{for(x=0;x<y-1;x+=1)if(r===data.k[x].t){b=x+1,B=data.k[x].t;break}else if(r>data.k[x].t&&r<data.k[x+1].t){r-data.k[x].t>data.k[x+1].t-r?(b=x+2,B=data.k[x+1].t):(b=x+1,B=data.k[x].t);break}b===-1&&(b=x+1,B=data.k[x].t)}var R={};return R.index=b,R.time=B/elem.comp.globalData.frameRate,R}function key(r){var x,y,b;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+r);r-=1,x={time:data.k[r].t/elem.comp.globalData.frameRate,value:[]};var B=Object.prototype.hasOwnProperty.call(data.k[r],"s")?data.k[r].s:data.k[r-1].e;for(b=B.length,y=0;y<b;y+=1)x[y]=B[y],x.value[y]=B[y];return x}function framesToTime(r,x){return x||(x=elem.comp.globalData.frameRate),r/x}function timeToFrames(r,x){return!r&&r!==0&&(r=time),x||(x=elem.comp.globalData.frameRate),r*x}function seedRandom(r){BMMath.seedrandom(randSeed+r)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(r,x){return typeof value=="string"?x===void 0?value.substring(r):value.substring(r,x):""}function substr(r,x){return typeof value=="string"?x===void 0?value.substr(r):value.substr(r,x):""}function posterizeTime(r){time=r===0?0:Math.floor(time*r)/r,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(r){return value=r,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob})(),Expressions=(function(){var r={};r.initExpressions=x,r.resetFrame=ExpressionManager.resetFrame;function x(y){var b=0,B=[];function R(){b+=1}function I(){b-=1,b===0&&G()}function O(q){B.indexOf(q)===-1&&B.push(q)}function G(){var q,ee=B.length;for(q=0;q<ee;q+=1)B[q].release();B.length=0}y.renderer.compInterface=CompExpressionInterface(y.renderer),y.renderer.globalData.projectInterface.registerComposition(y.renderer),y.renderer.globalData.pushExpression=R,y.renderer.globalData.popExpression=I,y.renderer.globalData.registerExpressionProperty=O}return r})(),MaskManagerInterface=(function(){function r(y,b){this._mask=y,this._data=b}Object.defineProperty(r.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(r.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var x=function(b){var B=createSizedArray(b.viewData.length),R,I=b.viewData.length;for(R=0;R<I;R+=1)B[R]=new r(b.viewData[R],b.masksProperties[R]);var O=function(q){for(R=0;R<I;){if(b.masksProperties[R].nm===q)return B[R];R+=1}return null};return O};return x})(),ExpressionPropertyInterface=(function(){var r={pv:0,v:0,mult:1},x={pv:[0,0,0],v:[0,0,0],mult:1};function y(I,O,G){Object.defineProperty(I,"velocity",{get:function(){return O.getVelocityAtTime(O.comp.currentFrame)}}),I.numKeys=O.keyframes?O.keyframes.length:0,I.key=function(q){if(!I.numKeys)return 0;var ee="";"s"in O.keyframes[q-1]?ee=O.keyframes[q-1].s:"e"in O.keyframes[q-2]?ee=O.keyframes[q-2].e:ee=O.keyframes[q-2].s;var ne=G==="unidimensional"?new Number(ee):Object.assign({},ee);return ne.time=O.keyframes[q-1].t/O.elem.comp.globalData.frameRate,ne.value=G==="unidimensional"?ee[0]:ee,ne},I.valueAtTime=O.getValueAtTime,I.speedAtTime=O.getSpeedAtTime,I.velocityAtTime=O.getVelocityAtTime,I.propertyGroup=O.propertyGroup}function b(I){(!I||!("pv"in I))&&(I=r);var O=1/I.mult,G=I.pv*O,q=new Number(G);return q.value=G,y(q,I,"unidimensional"),function(){return I.k&&I.getValue(),G=I.v*O,q.value!==G&&(q=new Number(G),q.value=G,q[0]=G,y(q,I,"unidimensional")),q}}function B(I){(!I||!("pv"in I))&&(I=x);var O=1/I.mult,G=I.data&&I.data.l||I.pv.length,q=createTypedArray("float32",G),ee=createTypedArray("float32",G);return q.value=ee,y(q,I,"multidimensional"),function(){I.k&&I.getValue();for(var ne=0;ne<G;ne+=1)ee[ne]=I.v[ne]*O,q[ne]=ee[ne];return q}}function R(){return r}return function(I){return I?I.propType==="unidimensional"?b(I):B(I):R}})(),TransformExpressionInterface=(function(){return function(r){function x(I){switch(I){case"scale":case"Scale":case"ADBE Scale":case 6:return x.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return x.rotation;case"ADBE Rotate X":return x.xRotation;case"ADBE Rotate Y":return x.yRotation;case"position":case"Position":case"ADBE Position":case 2:return x.position;case"ADBE Position_0":return x.xPosition;case"ADBE Position_1":return x.yPosition;case"ADBE Position_2":return x.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return x.anchorPoint;case"opacity":case"Opacity":case 11:return x.opacity;default:return null}}Object.defineProperty(x,"rotation",{get:ExpressionPropertyInterface(r.r||r.rz)}),Object.defineProperty(x,"zRotation",{get:ExpressionPropertyInterface(r.rz||r.r)}),Object.defineProperty(x,"xRotation",{get:ExpressionPropertyInterface(r.rx)}),Object.defineProperty(x,"yRotation",{get:ExpressionPropertyInterface(r.ry)}),Object.defineProperty(x,"scale",{get:ExpressionPropertyInterface(r.s)});var y,b,B,R;return r.p?R=ExpressionPropertyInterface(r.p):(y=ExpressionPropertyInterface(r.px),b=ExpressionPropertyInterface(r.py),r.pz&&(B=ExpressionPropertyInterface(r.pz))),Object.defineProperty(x,"position",{get:function(){return r.p?R():[y(),b(),B?B():0]}}),Object.defineProperty(x,"xPosition",{get:ExpressionPropertyInterface(r.px)}),Object.defineProperty(x,"yPosition",{get:ExpressionPropertyInterface(r.py)}),Object.defineProperty(x,"zPosition",{get:ExpressionPropertyInterface(r.pz)}),Object.defineProperty(x,"anchorPoint",{get:ExpressionPropertyInterface(r.a)}),Object.defineProperty(x,"opacity",{get:ExpressionPropertyInterface(r.o)}),Object.defineProperty(x,"skew",{get:ExpressionPropertyInterface(r.sk)}),Object.defineProperty(x,"skewAxis",{get:ExpressionPropertyInterface(r.sa)}),Object.defineProperty(x,"orientation",{get:ExpressionPropertyInterface(r.or)}),x}})(),LayerExpressionInterface=(function(){function r(q){var ee=new Matrix;if(q!==void 0){var ne=this._elem.finalTransform.mProp.getValueAtTime(q);ne.clone(ee)}else{var oe=this._elem.finalTransform.mProp;oe.applyToMatrix(ee)}return ee}function x(q,ee){var ne=this.getMatrix(ee);return ne.props[12]=0,ne.props[13]=0,ne.props[14]=0,this.applyPoint(ne,q)}function y(q,ee){var ne=this.getMatrix(ee);return this.applyPoint(ne,q)}function b(q,ee){var ne=this.getMatrix(ee);return ne.props[12]=0,ne.props[13]=0,ne.props[14]=0,this.invertPoint(ne,q)}function B(q,ee){var ne=this.getMatrix(ee);return this.invertPoint(ne,q)}function R(q,ee){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ne,oe=this._elem.hierarchy.length;for(ne=0;ne<oe;ne+=1)this._elem.hierarchy[ne].finalTransform.mProp.applyToMatrix(q)}return q.applyToPointArray(ee[0],ee[1],ee[2]||0)}function I(q,ee){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ne,oe=this._elem.hierarchy.length;for(ne=0;ne<oe;ne+=1)this._elem.hierarchy[ne].finalTransform.mProp.applyToMatrix(q)}return q.inversePoint(ee)}function O(q){var ee=new Matrix;if(ee.reset(),this._elem.finalTransform.mProp.applyToMatrix(ee),this._elem.hierarchy&&this._elem.hierarchy.length){var ne,oe=this._elem.hierarchy.length;for(ne=0;ne<oe;ne+=1)this._elem.hierarchy[ne].finalTransform.mProp.applyToMatrix(ee);return ee.inversePoint(q)}return ee.inversePoint(q)}function G(){return[1,1,1,1]}return function(q){var ee;function ne(_e){pe.mask=new MaskManagerInterface(_e,q)}function oe(_e){pe.effect=_e}function pe(_e){switch(_e){case"ADBE Root Vectors Group":case"Contents":case 2:return pe.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ee;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return pe.effect;case"ADBE Text Properties":return pe.textInterface;default:return null}}pe.getMatrix=r,pe.invertPoint=I,pe.applyPoint=R,pe.toWorld=y,pe.toWorldVec=x,pe.fromWorld=B,pe.fromWorldVec=b,pe.toComp=y,pe.fromComp=O,pe.sampleImage=G,pe.sourceRectAtTime=q.sourceRectAtTime.bind(q),pe._elem=q,ee=TransformExpressionInterface(q.finalTransform.mProp);var xe=getDescriptor(ee,"anchorPoint");return Object.defineProperties(pe,{hasParent:{get:function(){return q.hierarchy.length}},parent:{get:function(){return q.hierarchy[0].layerInterface}},rotation:getDescriptor(ee,"rotation"),scale:getDescriptor(ee,"scale"),position:getDescriptor(ee,"position"),opacity:getDescriptor(ee,"opacity"),anchorPoint:xe,anchor_point:xe,transform:{get:function(){return ee}},active:{get:function(){return q.isInRange}}}),pe.startTime=q.data.st,pe.index=q.data.ind,pe.source=q.data.refId,pe.height=q.data.ty===0?q.data.h:100,pe.width=q.data.ty===0?q.data.w:100,pe.inPoint=q.data.ip/q.comp.globalData.frameRate,pe.outPoint=q.data.op/q.comp.globalData.frameRate,pe._name=q.data.nm,pe.registerMaskInterface=ne,pe.registerEffectsInterface=oe,pe}})(),propertyGroupFactory=(function(){return function(r,x){return function(y){return y=y===void 0?1:y,y<=0?r:x(y-1)}}})(),PropertyInterface=(function(){return function(r,x){var y={_name:r};function b(B){return B=B===void 0?1:B,B<=0?y:x(B-1)}return b}})(),EffectsExpressionInterface=(function(){var r={createEffectsInterface:x};function x(B,R){if(B.effectsManager){var I=[],O=B.data.ef,G,q=B.effectsManager.effectElements.length;for(G=0;G<q;G+=1)I.push(y(O[G],B.effectsManager.effectElements[G],R,B));var ee=B.data.ef||[],ne=function(pe){for(G=0,q=ee.length;G<q;){if(pe===ee[G].nm||pe===ee[G].mn||pe===ee[G].ix)return I[G];G+=1}return null};return Object.defineProperty(ne,"numProperties",{get:function(){return ee.length}}),ne}return null}function y(B,R,I,O){function G(pe){for(var xe=B.ef,_e=0,Ue=xe.length;_e<Ue;){if(pe===xe[_e].nm||pe===xe[_e].mn||pe===xe[_e].ix)return xe[_e].ty===5?ee[_e]:ee[_e]();_e+=1}throw new Error}var q=propertyGroupFactory(G,I),ee=[],ne,oe=B.ef.length;for(ne=0;ne<oe;ne+=1)B.ef[ne].ty===5?ee.push(y(B.ef[ne],R.effectElements[ne],R.effectElements[ne].propertyGroup,O)):ee.push(b(R.effectElements[ne],B.ef[ne].ty,O,q));return B.mn==="ADBE Color Control"&&Object.defineProperty(G,"color",{get:function(){return ee[0]()}}),Object.defineProperties(G,{numProperties:{get:function(){return B.np}},_name:{value:B.nm},propertyGroup:{value:q}}),G.enabled=B.en!==0,G.active=G.enabled,G}function b(B,R,I,O){var G=ExpressionPropertyInterface(B.p);function q(){return R===10?I.comp.compInterface(B.p.v):G()}return B.p.setGroupProperty&&B.p.setGroupProperty(PropertyInterface("",O)),q}return r})(),ShapePathInterface=(function(){return function(x,y,b){var B=y.sh;function R(O){return O==="Shape"||O==="shape"||O==="Path"||O==="path"||O==="ADBE Vector Shape"||O===2?R.path:null}var I=propertyGroupFactory(R,b);return B.setGroupProperty(PropertyInterface("Path",I)),Object.defineProperties(R,{path:{get:function(){return B.k&&B.getValue(),B}},shape:{get:function(){return B.k&&B.getValue(),B}},_name:{value:x.nm},ix:{value:x.ix},propertyIndex:{value:x.ix},mn:{value:x.mn},propertyGroup:{value:b}}),R}})(),ShapeExpressionInterface=(function(){function r(xe,_e,Ue){var Le=[],He,$e=xe?xe.length:0;for(He=0;He<$e;He+=1)xe[He].ty==="gr"?Le.push(y(xe[He],_e[He],Ue)):xe[He].ty==="fl"?Le.push(b(xe[He],_e[He],Ue)):xe[He].ty==="st"?Le.push(I(xe[He],_e[He],Ue)):xe[He].ty==="tm"?Le.push(O(xe[He],_e[He],Ue)):xe[He].ty==="tr"||(xe[He].ty==="el"?Le.push(q(xe[He],_e[He],Ue)):xe[He].ty==="sr"?Le.push(ee(xe[He],_e[He],Ue)):xe[He].ty==="sh"?Le.push(ShapePathInterface(xe[He],_e[He],Ue)):xe[He].ty==="rc"?Le.push(ne(xe[He],_e[He],Ue)):xe[He].ty==="rd"?Le.push(oe(xe[He],_e[He],Ue)):xe[He].ty==="rp"?Le.push(pe(xe[He],_e[He],Ue)):xe[He].ty==="gf"?Le.push(B(xe[He],_e[He],Ue)):Le.push(R(xe[He],_e[He])));return Le}function x(xe,_e,Ue){var Le,He=function(Qe){for(var We=0,Ge=Le.length;We<Ge;){if(Le[We]._name===Qe||Le[We].mn===Qe||Le[We].propertyIndex===Qe||Le[We].ix===Qe||Le[We].ind===Qe)return Le[We];We+=1}return typeof Qe=="number"?Le[Qe-1]:null};He.propertyGroup=propertyGroupFactory(He,Ue),Le=r(xe.it,_e.it,He.propertyGroup),He.numProperties=Le.length;var $e=G(xe.it[xe.it.length-1],_e.it[_e.it.length-1],He.propertyGroup);return He.transform=$e,He.propertyIndex=xe.cix,He._name=xe.nm,He}function y(xe,_e,Ue){var Le=function(Qe){switch(Qe){case"ADBE Vectors Group":case"Contents":case 2:return Le.content;default:return Le.transform}};Le.propertyGroup=propertyGroupFactory(Le,Ue);var He=x(xe,_e,Le.propertyGroup),$e=G(xe.it[xe.it.length-1],_e.it[_e.it.length-1],Le.propertyGroup);return Le.content=He,Le.transform=$e,Object.defineProperty(Le,"_name",{get:function(){return xe.nm}}),Le.numProperties=xe.np,Le.propertyIndex=xe.ix,Le.nm=xe.nm,Le.mn=xe.mn,Le}function b(xe,_e,Ue){function Le(He){return He==="Color"||He==="color"?Le.color:He==="Opacity"||He==="opacity"?Le.opacity:null}return Object.defineProperties(Le,{color:{get:ExpressionPropertyInterface(_e.c)},opacity:{get:ExpressionPropertyInterface(_e.o)},_name:{value:xe.nm},mn:{value:xe.mn}}),_e.c.setGroupProperty(PropertyInterface("Color",Ue)),_e.o.setGroupProperty(PropertyInterface("Opacity",Ue)),Le}function B(xe,_e,Ue){function Le(He){return He==="Start Point"||He==="start point"?Le.startPoint:He==="End Point"||He==="end point"?Le.endPoint:He==="Opacity"||He==="opacity"?Le.opacity:null}return Object.defineProperties(Le,{startPoint:{get:ExpressionPropertyInterface(_e.s)},endPoint:{get:ExpressionPropertyInterface(_e.e)},opacity:{get:ExpressionPropertyInterface(_e.o)},type:{get:function(){return"a"}},_name:{value:xe.nm},mn:{value:xe.mn}}),_e.s.setGroupProperty(PropertyInterface("Start Point",Ue)),_e.e.setGroupProperty(PropertyInterface("End Point",Ue)),_e.o.setGroupProperty(PropertyInterface("Opacity",Ue)),Le}function R(){function xe(){return null}return xe}function I(xe,_e,Ue){var Le=propertyGroupFactory(Ge,Ue),He=propertyGroupFactory(We,Le);function $e(Xe){Object.defineProperty(We,xe.d[Xe].nm,{get:ExpressionPropertyInterface(_e.d.dataProps[Xe].p)})}var Ne,Qe=xe.d?xe.d.length:0,We={};for(Ne=0;Ne<Qe;Ne+=1)$e(Ne),_e.d.dataProps[Ne].p.setGroupProperty(He);function Ge(Xe){return Xe==="Color"||Xe==="color"?Ge.color:Xe==="Opacity"||Xe==="opacity"?Ge.opacity:Xe==="Stroke Width"||Xe==="stroke width"?Ge.strokeWidth:null}return Object.defineProperties(Ge,{color:{get:ExpressionPropertyInterface(_e.c)},opacity:{get:ExpressionPropertyInterface(_e.o)},strokeWidth:{get:ExpressionPropertyInterface(_e.w)},dash:{get:function(){return We}},_name:{value:xe.nm},mn:{value:xe.mn}}),_e.c.setGroupProperty(PropertyInterface("Color",Le)),_e.o.setGroupProperty(PropertyInterface("Opacity",Le)),_e.w.setGroupProperty(PropertyInterface("Stroke Width",Le)),Ge}function O(xe,_e,Ue){function Le($e){return $e===xe.e.ix||$e==="End"||$e==="end"?Le.end:$e===xe.s.ix?Le.start:$e===xe.o.ix?Le.offset:null}var He=propertyGroupFactory(Le,Ue);return Le.propertyIndex=xe.ix,_e.s.setGroupProperty(PropertyInterface("Start",He)),_e.e.setGroupProperty(PropertyInterface("End",He)),_e.o.setGroupProperty(PropertyInterface("Offset",He)),Le.propertyIndex=xe.ix,Le.propertyGroup=Ue,Object.defineProperties(Le,{start:{get:ExpressionPropertyInterface(_e.s)},end:{get:ExpressionPropertyInterface(_e.e)},offset:{get:ExpressionPropertyInterface(_e.o)},_name:{value:xe.nm}}),Le.mn=xe.mn,Le}function G(xe,_e,Ue){function Le($e){return xe.a.ix===$e||$e==="Anchor Point"?Le.anchorPoint:xe.o.ix===$e||$e==="Opacity"?Le.opacity:xe.p.ix===$e||$e==="Position"?Le.position:xe.r.ix===$e||$e==="Rotation"||$e==="ADBE Vector Rotation"?Le.rotation:xe.s.ix===$e||$e==="Scale"?Le.scale:xe.sk&&xe.sk.ix===$e||$e==="Skew"?Le.skew:xe.sa&&xe.sa.ix===$e||$e==="Skew Axis"?Le.skewAxis:null}var He=propertyGroupFactory(Le,Ue);return _e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",He)),_e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",He)),_e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",He)),_e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",He)),_e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",He)),_e.transform.mProps.sk&&(_e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",He)),_e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",He))),_e.transform.op.setGroupProperty(PropertyInterface("Opacity",He)),Object.defineProperties(Le,{opacity:{get:ExpressionPropertyInterface(_e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(_e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(_e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(_e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(_e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(_e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(_e.transform.mProps.sa)},_name:{value:xe.nm}}),Le.ty="tr",Le.mn=xe.mn,Le.propertyGroup=Ue,Le}function q(xe,_e,Ue){function Le(Ne){return xe.p.ix===Ne?Le.position:xe.s.ix===Ne?Le.size:null}var He=propertyGroupFactory(Le,Ue);Le.propertyIndex=xe.ix;var $e=_e.sh.ty==="tm"?_e.sh.prop:_e.sh;return $e.s.setGroupProperty(PropertyInterface("Size",He)),$e.p.setGroupProperty(PropertyInterface("Position",He)),Object.defineProperties(Le,{size:{get:ExpressionPropertyInterface($e.s)},position:{get:ExpressionPropertyInterface($e.p)},_name:{value:xe.nm}}),Le.mn=xe.mn,Le}function ee(xe,_e,Ue){function Le(Ne){return xe.p.ix===Ne?Le.position:xe.r.ix===Ne?Le.rotation:xe.pt.ix===Ne?Le.points:xe.or.ix===Ne||Ne==="ADBE Vector Star Outer Radius"?Le.outerRadius:xe.os.ix===Ne?Le.outerRoundness:xe.ir&&(xe.ir.ix===Ne||Ne==="ADBE Vector Star Inner Radius")?Le.innerRadius:xe.is&&xe.is.ix===Ne?Le.innerRoundness:null}var He=propertyGroupFactory(Le,Ue),$e=_e.sh.ty==="tm"?_e.sh.prop:_e.sh;return Le.propertyIndex=xe.ix,$e.or.setGroupProperty(PropertyInterface("Outer Radius",He)),$e.os.setGroupProperty(PropertyInterface("Outer Roundness",He)),$e.pt.setGroupProperty(PropertyInterface("Points",He)),$e.p.setGroupProperty(PropertyInterface("Position",He)),$e.r.setGroupProperty(PropertyInterface("Rotation",He)),xe.ir&&($e.ir.setGroupProperty(PropertyInterface("Inner Radius",He)),$e.is.setGroupProperty(PropertyInterface("Inner Roundness",He))),Object.defineProperties(Le,{position:{get:ExpressionPropertyInterface($e.p)},rotation:{get:ExpressionPropertyInterface($e.r)},points:{get:ExpressionPropertyInterface($e.pt)},outerRadius:{get:ExpressionPropertyInterface($e.or)},outerRoundness:{get:ExpressionPropertyInterface($e.os)},innerRadius:{get:ExpressionPropertyInterface($e.ir)},innerRoundness:{get:ExpressionPropertyInterface($e.is)},_name:{value:xe.nm}}),Le.mn=xe.mn,Le}function ne(xe,_e,Ue){function Le(Ne){return xe.p.ix===Ne?Le.position:xe.r.ix===Ne?Le.roundness:xe.s.ix===Ne||Ne==="Size"||Ne==="ADBE Vector Rect Size"?Le.size:null}var He=propertyGroupFactory(Le,Ue),$e=_e.sh.ty==="tm"?_e.sh.prop:_e.sh;return Le.propertyIndex=xe.ix,$e.p.setGroupProperty(PropertyInterface("Position",He)),$e.s.setGroupProperty(PropertyInterface("Size",He)),$e.r.setGroupProperty(PropertyInterface("Rotation",He)),Object.defineProperties(Le,{position:{get:ExpressionPropertyInterface($e.p)},roundness:{get:ExpressionPropertyInterface($e.r)},size:{get:ExpressionPropertyInterface($e.s)},_name:{value:xe.nm}}),Le.mn=xe.mn,Le}function oe(xe,_e,Ue){function Le(Ne){return xe.r.ix===Ne||Ne==="Round Corners 1"?Le.radius:null}var He=propertyGroupFactory(Le,Ue),$e=_e;return Le.propertyIndex=xe.ix,$e.rd.setGroupProperty(PropertyInterface("Radius",He)),Object.defineProperties(Le,{radius:{get:ExpressionPropertyInterface($e.rd)},_name:{value:xe.nm}}),Le.mn=xe.mn,Le}function pe(xe,_e,Ue){function Le(Ne){return xe.c.ix===Ne||Ne==="Copies"?Le.copies:xe.o.ix===Ne||Ne==="Offset"?Le.offset:null}var He=propertyGroupFactory(Le,Ue),$e=_e;return Le.propertyIndex=xe.ix,$e.c.setGroupProperty(PropertyInterface("Copies",He)),$e.o.setGroupProperty(PropertyInterface("Offset",He)),Object.defineProperties(Le,{copies:{get:ExpressionPropertyInterface($e.c)},offset:{get:ExpressionPropertyInterface($e.o)},_name:{value:xe.nm}}),Le.mn=xe.mn,Le}return function(xe,_e,Ue){var Le;function He(Ne){if(typeof Ne=="number")return Ne=Ne===void 0?1:Ne,Ne===0?Ue:Le[Ne-1];for(var Qe=0,We=Le.length;Qe<We;){if(Le[Qe]._name===Ne)return Le[Qe];Qe+=1}return null}function $e(){return Ue}return He.propertyGroup=propertyGroupFactory(He,$e),Le=r(xe,_e,He.propertyGroup),He.numProperties=Le.length,He._name="Contents",He}})(),TextExpressionInterface=(function(){return function(r){var x;function y(b){switch(b){case"ADBE Text Document":return y.sourceText;default:return null}}return Object.defineProperty(y,"sourceText",{get:function(){r.textProperty.getValue();var B=r.textProperty.currentData.t;return(!x||B!==x.value)&&(x=new String(B),x.value=B||new String(B),Object.defineProperty(x,"style",{get:function(){return{fillColor:r.textProperty.currentData.fc}}})),x}}),y}})();function _typeof(r){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_typeof(r)}var FootageInterface=(function(){var r=function(b){var B="",R=b.getFootageData();function I(){return B="",R=b.getFootageData(),O}function O(G){if(R[G])return B=G,R=R[G],_typeof(R)==="object"?O:R;var q=G.indexOf(B);if(q!==-1){var ee=parseInt(G.substr(q+B.length),10);return R=R[ee],_typeof(R)==="object"?O:R}return""}return I},x=function(b){function B(R){return R==="Outline"?B.outlineInterface():null}return B._name="Outline",B.outlineInterface=r(b),B};return function(y){function b(B){return B==="Data"?b.dataInterface:null}return b._name="Data",b.dataInterface=x(y),b}})(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(r){return interfaces[r]||null}var expressionHelpers=(function(){function r(I,O,G){O.x&&(G.k=!0,G.x=!0,G.initiateExpression=ExpressionManager.initiateExpression,G.effectsSequence.push(G.initiateExpression(I,O,G).bind(G)))}function x(I){return I*=this.elem.globalData.frameRate,I-=this.offsetTime,I!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<I?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(I,this._cachingAtTime),this._cachingAtTime.lastFrame=I),this._cachingAtTime.value}function y(I){var O=-.01,G=this.getValueAtTime(I),q=this.getValueAtTime(I+O),ee=0;if(G.length){var ne;for(ne=0;ne<G.length;ne+=1)ee+=Math.pow(q[ne]-G[ne],2);ee=Math.sqrt(ee)*100}else ee=0;return ee}function b(I){if(this.vel!==void 0)return this.vel;var O=-.001,G=this.getValueAtTime(I),q=this.getValueAtTime(I+O),ee;if(G.length){ee=createTypedArray("float32",G.length);var ne;for(ne=0;ne<G.length;ne+=1)ee[ne]=(q[ne]-G[ne])/O}else ee=(q-G)/O;return ee}function B(){return this.pv}function R(I){this.propertyGroup=I}return{searchExpressions:r,getSpeedAtTime:y,getVelocityAtTime:b,getValueAtTime:x,getStaticValueAtTime:B,setGroupProperty:R}})();function addPropertyDecorator(){function r(oe,pe,xe){if(!this.k||!this.keyframes)return this.pv;oe=oe?oe.toLowerCase():"";var _e=this.comp.renderedFrame,Ue=this.keyframes,Le=Ue[Ue.length-1].t;if(_e<=Le)return this.pv;var He,$e;xe?(pe?He=Math.abs(Le-this.elem.comp.globalData.frameRate*pe):He=Math.max(0,Le-this.elem.data.ip),$e=Le-He):((!pe||pe>Ue.length-1)&&(pe=Ue.length-1),$e=Ue[Ue.length-1-pe].t,He=Le-$e);var Ne,Qe,We;if(oe==="pingpong"){var Ge=Math.floor((_e-$e)/He);if(Ge%2!==0)return this.getValueAtTime((He-(_e-$e)%He+$e)/this.comp.globalData.frameRate,0)}else if(oe==="offset"){var Xe=this.getValueAtTime($e/this.comp.globalData.frameRate,0),Je=this.getValueAtTime(Le/this.comp.globalData.frameRate,0),ut=this.getValueAtTime(((_e-$e)%He+$e)/this.comp.globalData.frameRate,0),ft=Math.floor((_e-$e)/He);if(this.pv.length){for(We=new Array(Xe.length),Qe=We.length,Ne=0;Ne<Qe;Ne+=1)We[Ne]=(Je[Ne]-Xe[Ne])*ft+ut[Ne];return We}return(Je-Xe)*ft+ut}else if(oe==="continue"){var ct=this.getValueAtTime(Le/this.comp.globalData.frameRate,0),pt=this.getValueAtTime((Le-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(We=new Array(ct.length),Qe=We.length,Ne=0;Ne<Qe;Ne+=1)We[Ne]=ct[Ne]+(ct[Ne]-pt[Ne])*((_e-Le)/this.comp.globalData.frameRate)/5e-4;return We}return ct+(ct-pt)*((_e-Le)/.001)}return this.getValueAtTime(((_e-$e)%He+$e)/this.comp.globalData.frameRate,0)}function x(oe,pe,xe){if(!this.k)return this.pv;oe=oe?oe.toLowerCase():"";var _e=this.comp.renderedFrame,Ue=this.keyframes,Le=Ue[0].t;if(_e>=Le)return this.pv;var He,$e;xe?(pe?He=Math.abs(this.elem.comp.globalData.frameRate*pe):He=Math.max(0,this.elem.data.op-Le),$e=Le+He):((!pe||pe>Ue.length-1)&&(pe=Ue.length-1),$e=Ue[pe].t,He=$e-Le);var Ne,Qe,We;if(oe==="pingpong"){var Ge=Math.floor((Le-_e)/He);if(Ge%2===0)return this.getValueAtTime(((Le-_e)%He+Le)/this.comp.globalData.frameRate,0)}else if(oe==="offset"){var Xe=this.getValueAtTime(Le/this.comp.globalData.frameRate,0),Je=this.getValueAtTime($e/this.comp.globalData.frameRate,0),ut=this.getValueAtTime((He-(Le-_e)%He+Le)/this.comp.globalData.frameRate,0),ft=Math.floor((Le-_e)/He)+1;if(this.pv.length){for(We=new Array(Xe.length),Qe=We.length,Ne=0;Ne<Qe;Ne+=1)We[Ne]=ut[Ne]-(Je[Ne]-Xe[Ne])*ft;return We}return ut-(Je-Xe)*ft}else if(oe==="continue"){var ct=this.getValueAtTime(Le/this.comp.globalData.frameRate,0),pt=this.getValueAtTime((Le+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(We=new Array(ct.length),Qe=We.length,Ne=0;Ne<Qe;Ne+=1)We[Ne]=ct[Ne]+(ct[Ne]-pt[Ne])*(Le-_e)/.001;return We}return ct+(ct-pt)*(Le-_e)/.001}return this.getValueAtTime((He-((Le-_e)%He+Le))/this.comp.globalData.frameRate,0)}function y(oe,pe){if(!this.k)return this.pv;if(oe=(oe||.4)*.5,pe=Math.floor(pe||5),pe<=1)return this.pv;var xe=this.comp.renderedFrame/this.comp.globalData.frameRate,_e=xe-oe,Ue=xe+oe,Le=pe>1?(Ue-_e)/(pe-1):1,He=0,$e=0,Ne;this.pv.length?Ne=createTypedArray("float32",this.pv.length):Ne=0;for(var Qe;He<pe;){if(Qe=this.getValueAtTime(_e+He*Le),this.pv.length)for($e=0;$e<this.pv.length;$e+=1)Ne[$e]+=Qe[$e];else Ne+=Qe;He+=1}if(this.pv.length)for($e=0;$e<this.pv.length;$e+=1)Ne[$e]/=pe;else Ne/=pe;return Ne}function b(oe){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var pe=this._transformCachingAtTime.v;if(pe.cloneFromProps(this.pre.props),this.appliedTransformations<1){var xe=this.a.getValueAtTime(oe);pe.translate(-xe[0]*this.a.mult,-xe[1]*this.a.mult,xe[2]*this.a.mult)}if(this.appliedTransformations<2){var _e=this.s.getValueAtTime(oe);pe.scale(_e[0]*this.s.mult,_e[1]*this.s.mult,_e[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Ue=this.sk.getValueAtTime(oe),Le=this.sa.getValueAtTime(oe);pe.skewFromAxis(-Ue*this.sk.mult,Le*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var He=this.r.getValueAtTime(oe);pe.rotate(-He*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var $e=this.rz.getValueAtTime(oe),Ne=this.ry.getValueAtTime(oe),Qe=this.rx.getValueAtTime(oe),We=this.or.getValueAtTime(oe);pe.rotateZ(-$e*this.rz.mult).rotateY(Ne*this.ry.mult).rotateX(Qe*this.rx.mult).rotateZ(-We[2]*this.or.mult).rotateY(We[1]*this.or.mult).rotateX(We[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Ge=this.px.getValueAtTime(oe),Xe=this.py.getValueAtTime(oe);if(this.data.p.z){var Je=this.pz.getValueAtTime(oe);pe.translate(Ge*this.px.mult,Xe*this.py.mult,-Je*this.pz.mult)}else pe.translate(Ge*this.px.mult,Xe*this.py.mult,0)}else{var ut=this.p.getValueAtTime(oe);pe.translate(ut[0]*this.p.mult,ut[1]*this.p.mult,-ut[2]*this.p.mult)}return pe}function B(){return this.v.clone(new Matrix)}var R=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(oe,pe,xe){var _e=R(oe,pe,xe);return _e.dynamicProperties.length?_e.getValueAtTime=b.bind(_e):_e.getValueAtTime=B.bind(_e),_e.setGroupProperty=expressionHelpers.setGroupProperty,_e};var I=PropertyFactory.getProp;PropertyFactory.getProp=function(oe,pe,xe,_e,Ue){var Le=I(oe,pe,xe,_e,Ue);Le.kf?Le.getValueAtTime=expressionHelpers.getValueAtTime.bind(Le):Le.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Le),Le.setGroupProperty=expressionHelpers.setGroupProperty,Le.loopOut=r,Le.loopIn=x,Le.smooth=y,Le.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Le),Le.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Le),Le.numKeys=pe.a===1?pe.k.length:0,Le.propertyIndex=pe.ix;var He=0;return xe!==0&&(He=createTypedArray("float32",pe.a===1?pe.k[0].s.length:pe.k.length)),Le._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:He},expressionHelpers.searchExpressions(oe,pe,Le),Le.k&&Ue.addDynamicProperty(Le),Le};function O(oe){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),oe*=this.elem.globalData.frameRate,oe-=this.offsetTime,oe!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<oe?this._caching.lastIndex:0,this._cachingAtTime.lastTime=oe,this.interpolateShape(oe,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var G=ShapePropertyFactory.getConstructorFunction(),q=ShapePropertyFactory.getKeyframedConstructorFunction();function ee(){}ee.prototype={vertices:function(pe,xe){this.k&&this.getValue();var _e=this.v;xe!==void 0&&(_e=this.getValueAtTime(xe,0));var Ue,Le=_e._length,He=_e[pe],$e=_e.v,Ne=createSizedArray(Le);for(Ue=0;Ue<Le;Ue+=1)pe==="i"||pe==="o"?Ne[Ue]=[He[Ue][0]-$e[Ue][0],He[Ue][1]-$e[Ue][1]]:Ne[Ue]=[He[Ue][0],He[Ue][1]];return Ne},points:function(pe){return this.vertices("v",pe)},inTangents:function(pe){return this.vertices("i",pe)},outTangents:function(pe){return this.vertices("o",pe)},isClosed:function(){return this.v.c},pointOnPath:function(pe,xe){var _e=this.v;xe!==void 0&&(_e=this.getValueAtTime(xe,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(_e));for(var Ue=this._segmentsLength,Le=Ue.lengths,He=Ue.totalLength*pe,$e=0,Ne=Le.length,Qe=0,We;$e<Ne;){if(Qe+Le[$e].addedLength>He){var Ge=$e,Xe=_e.c&&$e===Ne-1?0:$e+1,Je=(He-Qe)/Le[$e].addedLength;We=bez.getPointInSegment(_e.v[Ge],_e.v[Xe],_e.o[Ge],_e.i[Xe],Je,Le[$e]);break}else Qe+=Le[$e].addedLength;$e+=1}return We||(We=_e.c?[_e.v[0][0],_e.v[0][1]]:[_e.v[_e._length-1][0],_e.v[_e._length-1][1]]),We},vectorOnPath:function(pe,xe,_e){pe==1?pe=this.v.c:pe==0&&(pe=.999);var Ue=this.pointOnPath(pe,xe),Le=this.pointOnPath(pe+.001,xe),He=Le[0]-Ue[0],$e=Le[1]-Ue[1],Ne=Math.sqrt(Math.pow(He,2)+Math.pow($e,2));if(Ne===0)return[0,0];var Qe=_e==="tangent"?[He/Ne,$e/Ne]:[-$e/Ne,He/Ne];return Qe},tangentOnPath:function(pe,xe){return this.vectorOnPath(pe,xe,"tangent")},normalOnPath:function(pe,xe){return this.vectorOnPath(pe,xe,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ee],G),extendPrototype([ee],q),q.prototype.getValueAtTime=O,q.prototype.initiateExpression=ExpressionManager.initiateExpression;var ne=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(oe,pe,xe,_e,Ue){var Le=ne(oe,pe,xe,_e,Ue);return Le.propertyIndex=pe.ix,Le.lock=!1,xe===3?expressionHelpers.searchExpressions(oe,pe.pt,Le):xe===4&&expressionHelpers.searchExpressions(oe,pe.ks,Le),Le.k&&oe.addDynamicProperty(Le),Le}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function r(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(x,y){var b=this.calculateExpression(y);if(x.t!==b){var B={};return this.copyData(B,x),B.t=b.toString(),B.__complete=!1,B}return x},TextProperty.prototype.searchProperty=function(){var x=this.searchKeyframes(),y=this.searchExpressions();return this.kf=x||y,this.kf},TextProperty.prototype.searchExpressions=r}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function r(x,y){var b=createNS("feMerge");b.setAttribute("result",x);var B,R;for(R=0;R<y.length;R+=1)B=createNS("feMergeNode"),B.setAttribute("in",y[R]),b.appendChild(B),b.appendChild(B);return b}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(r,x,y,b,B){this.filterManager=x;var R=createNS("feColorMatrix");R.setAttribute("type","matrix"),R.setAttribute("color-interpolation-filters","linearRGB"),R.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=R,R.setAttribute("result",b+"_tint_1"),r.appendChild(R),R=createNS("feColorMatrix"),R.setAttribute("type","matrix"),R.setAttribute("color-interpolation-filters","sRGB"),R.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),R.setAttribute("result",b+"_tint_2"),r.appendChild(R),this.matrixFilter=R;var I=this.createMergeNode(b,[B,b+"_tint_1",b+"_tint_2"]);r.appendChild(I)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var x=this.filterManager.effectElements[0].p.v,y=this.filterManager.effectElements[1].p.v,b=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+b+" 0"),this.matrixFilter.setAttribute("values",y[0]-x[0]+" 0 0 0 "+x[0]+" "+(y[1]-x[1])+" 0 0 0 "+x[1]+" "+(y[2]-x[2])+" 0 0 0 "+x[2]+" 0 0 0 1 0")}};function SVGFillFilter(r,x,y,b){this.filterManager=x;var B=createNS("feColorMatrix");B.setAttribute("type","matrix"),B.setAttribute("color-interpolation-filters","sRGB"),B.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),B.setAttribute("result",b),r.appendChild(B),this.matrixFilter=B}SVGFillFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var x=this.filterManager.effectElements[2].p.v,y=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+x[0]+" 0 0 0 0 "+x[1]+" 0 0 0 0 "+x[2]+" 0 0 0 "+y+" 0")}};function SVGStrokeEffect(r,x,y){this.initialized=!1,this.filterManager=x,this.elem=y,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var r=this.elem.layerElement.children||this.elem.layerElement.childNodes,x,y,b,B;for(this.filterManager.effectElements[1].p.v===1?(B=this.elem.maskManager.masksProperties.length,b=0):(b=this.filterManager.effectElements[0].p.v-1,B=b+1),y=createNS("g"),y.setAttribute("fill","none"),y.setAttribute("stroke-linecap","round"),y.setAttribute("stroke-dashoffset",1),b;b<B;b+=1)x=createNS("path"),y.appendChild(x),this.paths.push({p:x,m:b});if(this.filterManager.effectElements[10].p.v===3){var R=createNS("mask"),I=createElementID();R.setAttribute("id",I),R.setAttribute("mask-type","alpha"),R.appendChild(y),this.elem.globalData.defs.appendChild(R);var O=createNS("g");for(O.setAttribute("mask","url("+getLocationHref()+"#"+I+")");r[0];)O.appendChild(r[0]);this.elem.layerElement.appendChild(O),this.masker=R,y.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(y),this.elem.layerElement.removeAttribute("mask"),y.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=y},SVGStrokeEffect.prototype.renderFrame=function(r){this.initialized||this.initialize();var x,y=this.paths.length,b,B;for(x=0;x<y;x+=1)if(this.paths[x].m!==-1&&(b=this.elem.maskManager.viewData[this.paths[x].m],B=this.paths[x].p,(r||this.filterManager._mdf||b.prop._mdf)&&B.setAttribute("d",b.lastPath),r||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||b.prop._mdf)){var R;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var I=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,O=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,G=B.getTotalLength();R="0 0 0 "+G*I+" ";var q=G*(O-I),ee=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,ne=Math.floor(q/ee),oe;for(oe=0;oe<ne;oe+=1)R+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";R+="0 "+G*10+" 0 0"}else R="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;B.setAttribute("stroke-dasharray",R)}if((r||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(r||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(r||this.filterManager.effectElements[3].p._mdf)){var pe=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(pe[0]*255)+","+bmFloor(pe[1]*255)+","+bmFloor(pe[2]*255)+")")}};function SVGTritoneFilter(r,x,y,b){this.filterManager=x;var B=createNS("feColorMatrix");B.setAttribute("type","matrix"),B.setAttribute("color-interpolation-filters","linearRGB"),B.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.appendChild(B);var R=createNS("feComponentTransfer");R.setAttribute("color-interpolation-filters","sRGB"),R.setAttribute("result",b),this.matrixFilter=R;var I=createNS("feFuncR");I.setAttribute("type","table"),R.appendChild(I),this.feFuncR=I;var O=createNS("feFuncG");O.setAttribute("type","table"),R.appendChild(O),this.feFuncG=O;var G=createNS("feFuncB");G.setAttribute("type","table"),R.appendChild(G),this.feFuncB=G,r.appendChild(R)}SVGTritoneFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var x=this.filterManager.effectElements[0].p.v,y=this.filterManager.effectElements[1].p.v,b=this.filterManager.effectElements[2].p.v,B=b[0]+" "+y[0]+" "+x[0],R=b[1]+" "+y[1]+" "+x[1],I=b[2]+" "+y[2]+" "+x[2];this.feFuncR.setAttribute("tableValues",B),this.feFuncG.setAttribute("tableValues",R),this.feFuncB.setAttribute("tableValues",I)}};function SVGProLevelsFilter(r,x,y,b){this.filterManager=x;var B=this.filterManager.effectElements,R=createNS("feComponentTransfer");(B[10].p.k||B[10].p.v!==0||B[11].p.k||B[11].p.v!==1||B[12].p.k||B[12].p.v!==1||B[13].p.k||B[13].p.v!==0||B[14].p.k||B[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",R)),(B[17].p.k||B[17].p.v!==0||B[18].p.k||B[18].p.v!==1||B[19].p.k||B[19].p.v!==1||B[20].p.k||B[20].p.v!==0||B[21].p.k||B[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",R)),(B[24].p.k||B[24].p.v!==0||B[25].p.k||B[25].p.v!==1||B[26].p.k||B[26].p.v!==1||B[27].p.k||B[27].p.v!==0||B[28].p.k||B[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",R)),(B[31].p.k||B[31].p.v!==0||B[32].p.k||B[32].p.v!==1||B[33].p.k||B[33].p.v!==1||B[34].p.k||B[34].p.v!==0||B[35].p.k||B[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",R)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(R.setAttribute("color-interpolation-filters","sRGB"),r.appendChild(R)),(B[3].p.k||B[3].p.v!==0||B[4].p.k||B[4].p.v!==1||B[5].p.k||B[5].p.v!==1||B[6].p.k||B[6].p.v!==0||B[7].p.k||B[7].p.v!==1)&&(R=createNS("feComponentTransfer"),R.setAttribute("color-interpolation-filters","sRGB"),R.setAttribute("result",b),r.appendChild(R),this.feFuncRComposed=this.createFeFunc("feFuncR",R),this.feFuncGComposed=this.createFeFunc("feFuncG",R),this.feFuncBComposed=this.createFeFunc("feFuncB",R))}SVGProLevelsFilter.prototype.createFeFunc=function(r,x){var y=createNS(r);return y.setAttribute("type","table"),x.appendChild(y),y},SVGProLevelsFilter.prototype.getTableValue=function(r,x,y,b,B){for(var R=0,I=256,O,G=Math.min(r,x),q=Math.max(r,x),ee=Array.call(null,{length:I}),ne,oe=0,pe=B-b,xe=x-r;R<=256;)O=R/256,O<=G?ne=xe<0?B:b:O>=q?ne=xe<0?b:B:ne=b+pe*Math.pow((O-r)/xe,1/y),ee[oe]=ne,oe+=1,R+=256/(I-1);return ee.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var x,y=this.filterManager.effectElements;this.feFuncRComposed&&(r||y[3].p._mdf||y[4].p._mdf||y[5].p._mdf||y[6].p._mdf||y[7].p._mdf)&&(x=this.getTableValue(y[3].p.v,y[4].p.v,y[5].p.v,y[6].p.v,y[7].p.v),this.feFuncRComposed.setAttribute("tableValues",x),this.feFuncGComposed.setAttribute("tableValues",x),this.feFuncBComposed.setAttribute("tableValues",x)),this.feFuncR&&(r||y[10].p._mdf||y[11].p._mdf||y[12].p._mdf||y[13].p._mdf||y[14].p._mdf)&&(x=this.getTableValue(y[10].p.v,y[11].p.v,y[12].p.v,y[13].p.v,y[14].p.v),this.feFuncR.setAttribute("tableValues",x)),this.feFuncG&&(r||y[17].p._mdf||y[18].p._mdf||y[19].p._mdf||y[20].p._mdf||y[21].p._mdf)&&(x=this.getTableValue(y[17].p.v,y[18].p.v,y[19].p.v,y[20].p.v,y[21].p.v),this.feFuncG.setAttribute("tableValues",x)),this.feFuncB&&(r||y[24].p._mdf||y[25].p._mdf||y[26].p._mdf||y[27].p._mdf||y[28].p._mdf)&&(x=this.getTableValue(y[24].p.v,y[25].p.v,y[26].p.v,y[27].p.v,y[28].p.v),this.feFuncB.setAttribute("tableValues",x)),this.feFuncA&&(r||y[31].p._mdf||y[32].p._mdf||y[33].p._mdf||y[34].p._mdf||y[35].p._mdf)&&(x=this.getTableValue(y[31].p.v,y[32].p.v,y[33].p.v,y[34].p.v,y[35].p.v),this.feFuncA.setAttribute("tableValues",x))}};function SVGDropShadowEffect(r,x,y,b,B){var R=x.container.globalData.renderConfig.filterSize,I=x.data.fs||R;r.setAttribute("x",I.x||R.x),r.setAttribute("y",I.y||R.y),r.setAttribute("width",I.width||R.width),r.setAttribute("height",I.height||R.height),this.filterManager=x;var O=createNS("feGaussianBlur");O.setAttribute("in","SourceAlpha"),O.setAttribute("result",b+"_drop_shadow_1"),O.setAttribute("stdDeviation","0"),this.feGaussianBlur=O,r.appendChild(O);var G=createNS("feOffset");G.setAttribute("dx","25"),G.setAttribute("dy","0"),G.setAttribute("in",b+"_drop_shadow_1"),G.setAttribute("result",b+"_drop_shadow_2"),this.feOffset=G,r.appendChild(G);var q=createNS("feFlood");q.setAttribute("flood-color","#00ff00"),q.setAttribute("flood-opacity","1"),q.setAttribute("result",b+"_drop_shadow_3"),this.feFlood=q,r.appendChild(q);var ee=createNS("feComposite");ee.setAttribute("in",b+"_drop_shadow_3"),ee.setAttribute("in2",b+"_drop_shadow_2"),ee.setAttribute("operator","in"),ee.setAttribute("result",b+"_drop_shadow_4"),r.appendChild(ee);var ne=this.createMergeNode(b,[b+"_drop_shadow_4",B]);r.appendChild(ne)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){if((r||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),r||this.filterManager.effectElements[0].p._mdf){var x=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(x[0]*255),Math.round(x[1]*255),Math.round(x[2]*255)))}if((r||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),r||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var y=this.filterManager.effectElements[3].p.v,b=(this.filterManager.effectElements[2].p.v-90)*degToRads,B=y*Math.cos(b),R=y*Math.sin(b);this.feOffset.setAttribute("dx",B),this.feOffset.setAttribute("dy",R)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(r,x,y){this.initialized=!1,this.filterManager=x,this.filterElem=r,this.elem=y,y.matteElement=createNS("g"),y.matteElement.appendChild(y.layerElement),y.matteElement.appendChild(y.transformedElement),y.baseElement=y.matteElement}SVGMatte3Effect.prototype.findSymbol=function(r){for(var x=0,y=_svgMatteSymbols.length;x<y;){if(_svgMatteSymbols[x]===r)return _svgMatteSymbols[x];x+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(r,x){var y=r.layerElement.parentNode;if(y){for(var b=y.children,B=0,R=b.length;B<R&&b[B]!==r.layerElement;)B+=1;var I;B<=R-2&&(I=b[B+1]);var O=createNS("use");O.setAttribute("href","#"+x),I?y.insertBefore(O,I):y.appendChild(O)}},SVGMatte3Effect.prototype.setElementAsMask=function(r,x){if(!this.findSymbol(x)){var y=createElementID(),b=createNS("mask");b.setAttribute("id",x.layerId),b.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(x);var B=r.globalData.defs;B.appendChild(b);var R=createNS("symbol");R.setAttribute("id",y),this.replaceInParent(x,y),R.appendChild(x.layerElement),B.appendChild(R);var I=createNS("use");I.setAttribute("href","#"+y),b.appendChild(I),x.data.hd=!1,x.show()}r.setMatte(x.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var r=this.filterManager.effectElements[0].p.v,x=this.elem.comp.elements,y=0,b=x.length;y<b;)x[y]&&x[y].data.ind===r&&this.setElementAsMask(this.elem,x[y]),y+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(r,x,y,b){r.setAttribute("x","-100%"),r.setAttribute("y","-100%"),r.setAttribute("width","300%"),r.setAttribute("height","300%"),this.filterManager=x;var B=createNS("feGaussianBlur");B.setAttribute("result",b),r.appendChild(B),this.feGaussianBlur=B}SVGGaussianBlurEffect.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var x=.3,y=this.filterManager.effectElements[0].p.v*x,b=this.filterManager.effectElements[1].p.v,B=b==3?0:y,R=b==2?0:y;this.feGaussianBlur.setAttribute("stdDeviation",B+" "+R);var I=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",I)}};function TransformEffect(){}TransformEffect.prototype.init=function(r){this.effectsManager=r,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(r){if(this._opMdf=!1,this._mdf=!1,r||this.effectsManager._mdf){var x=this.effectsManager.effectElements,y=x[0].p.v,b=x[1].p.v,B=x[2].p.v===1,R=x[3].p.v,I=B?R:x[4].p.v,O=x[5].p.v,G=x[6].p.v,q=x[7].p.v;this.matrix.reset(),this.matrix.translate(-y[0],-y[1],y[2]),this.matrix.scale(I*.01,R*.01,1),this.matrix.rotate(-q*degToRads),this.matrix.skewFromAxis(-O*degToRads,(G+90)*degToRads),this.matrix.translate(b[0],b[1],0),this._mdf=!0,this.opacity!==x[8].p.v&&(this.opacity=x[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(r,x){this.init(x)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(r){this.init(r)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))})(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray$2(r,x){(x==null||x>r.length)&&(x=r.length);for(var y=0,b=Array(x);y<x;y++)b[y]=r[y];return b}function _arrayWithHoles$2(r){if(Array.isArray(r))return r}function _defineProperty$2(r,x,y){return(x=_toPropertyKey(x))in r?Object.defineProperty(r,x,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[x]=y,r}function _iterableToArrayLimit$2(r,x){var y=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(y!=null){var b,B,R,I,O=[],G=!0,q=!1;try{if(R=(y=y.call(r)).next,x!==0)for(;!(G=(b=R.call(y)).done)&&(O.push(b.value),O.length!==x);G=!0);}catch(ee){q=!0,B=ee}finally{try{if(!G&&y.return!=null&&(I=y.return(),Object(I)!==I))return}finally{if(q)throw B}}return O}}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$2(r,x){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(r);x&&(b=b.filter(function(B){return Object.getOwnPropertyDescriptor(r,B).enumerable})),y.push.apply(y,b)}return y}function _objectSpread2(r){for(var x=1;x<arguments.length;x++){var y=arguments[x]!=null?arguments[x]:{};x%2?ownKeys$2(Object(y),!0).forEach(function(b){_defineProperty$2(r,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):ownKeys$2(Object(y)).forEach(function(b){Object.defineProperty(r,b,Object.getOwnPropertyDescriptor(y,b))})}return r}function _objectWithoutProperties$1(r,x){if(r==null)return{};var y,b,B=_objectWithoutPropertiesLoose$1(r,x);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(r);for(b=0;b<R.length;b++)y=R[b],x.includes(y)||{}.propertyIsEnumerable.call(r,y)&&(B[y]=r[y])}return B}function _objectWithoutPropertiesLoose$1(r,x){if(r==null)return{};var y={};for(var b in r)if({}.hasOwnProperty.call(r,b)){if(x.includes(b))continue;y[b]=r[b]}return y}function _slicedToArray$2(r,x){return _arrayWithHoles$2(r)||_iterableToArrayLimit$2(r,x)||_unsupportedIterableToArray$2(r,x)||_nonIterableRest$2()}function _toPrimitive(r,x){if(typeof r!="object"||!r)return r;var y=r[Symbol.toPrimitive];if(y!==void 0){var b=y.call(r,x);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(r)}function _toPropertyKey(r){var x=_toPrimitive(r,"string");return typeof x=="symbol"?x:x+""}function _unsupportedIterableToArray$2(r,x){if(r){if(typeof r=="string")return _arrayLikeToArray$2(r,x);var y={}.toString.call(r).slice(8,-1);return y==="Object"&&r.constructor&&(y=r.constructor.name),y==="Map"||y==="Set"?Array.from(r):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?_arrayLikeToArray$2(r,x):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function r(x,y){var b=x.animationData,B=x.loop,R=x.autoplay,I=x.initialSegment,O=x.onComplete,G=x.onLoopComplete,q=x.onEnterFrame,ee=x.onSegmentStart,ne=x.onConfigReady,oe=x.onDataReady,pe=x.onDataFailed,xe=x.onLoadedImages,_e=x.onDOMLoaded,Ue=x.onDestroy;x.lottieRef,x.renderer,x.name,x.assetsPath,x.rendererSettings;var Le=_objectWithoutProperties$1(x,_excluded$1),He=reactExports$1.useState(!1),$e=_slicedToArray$2(He,2),Ne=$e[0],Qe=$e[1],We=reactExports$1.useRef(),Ge=reactExports$1.useRef(null),Xe=function(){var ht;(ht=We.current)===null||ht===void 0||ht.play()},Je=function(){var ht;(ht=We.current)===null||ht===void 0||ht.stop()},ut=function(){var ht;(ht=We.current)===null||ht===void 0||ht.pause()},ft=function(ht){var vt;(vt=We.current)===null||vt===void 0||vt.setSpeed(ht)},ct=function(ht,vt){var Et;(Et=We.current)===null||Et===void 0||Et.goToAndPlay(ht,vt)},pt=function(ht,vt){var Et;(Et=We.current)===null||Et===void 0||Et.goToAndStop(ht,vt)},yt=function(ht){var vt;(vt=We.current)===null||vt===void 0||vt.setDirection(ht)},lt=function(ht,vt){var Et;(Et=We.current)===null||Et===void 0||Et.playSegments(ht,vt)},Ze=function(ht){var vt;(vt=We.current)===null||vt===void 0||vt.setSubframe(ht)},it=function(ht){var vt;return(vt=We.current)===null||vt===void 0?void 0:vt.getDuration(ht)},Ye=function(){var ht;(ht=We.current)===null||ht===void 0||ht.destroy(),We.current=void 0},et=function(){var ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},vt;if(Ge.current){(vt=We.current)===null||vt===void 0||vt.destroy();var Et=_objectSpread2(_objectSpread2(_objectSpread2({},x),ht),{},{container:Ge.current});return We.current=lottie.loadAnimation(Et),Qe(!!We.current),function(){var Rt;(Rt=We.current)===null||Rt===void 0||Rt.destroy(),We.current=void 0}}};reactExports$1.useEffect(function(){var st=et();return function(){return st==null?void 0:st()}},[b,B]),reactExports$1.useEffect(function(){We.current&&(We.current.autoplay=!!R)},[R]),reactExports$1.useEffect(function(){if(We.current){if(!I){We.current.resetSegments(!0);return}!Array.isArray(I)||!I.length||((We.current.currentRawFrame<I[0]||We.current.currentRawFrame>I[1])&&(We.current.currentRawFrame=I[0]),We.current.setSegment(I[0],I[1]))}},[I]),reactExports$1.useEffect(function(){var st=[{name:"complete",handler:O},{name:"loopComplete",handler:G},{name:"enterFrame",handler:q},{name:"segmentStart",handler:ee},{name:"config_ready",handler:ne},{name:"data_ready",handler:oe},{name:"data_failed",handler:pe},{name:"loaded_images",handler:xe},{name:"DOMLoaded",handler:_e},{name:"destroy",handler:Ue}],ht=st.filter(function(Et){return Et.handler!=null});if(ht.length){var vt=ht.map(function(Et){var Rt;return(Rt=We.current)===null||Rt===void 0||Rt.addEventListener(Et.name,Et.handler),function(){var _t;(_t=We.current)===null||_t===void 0||_t.removeEventListener(Et.name,Et.handler)}});return function(){vt.forEach(function(Et){return Et()})}}},[O,G,q,ee,ne,oe,pe,xe,_e,Ue]);var gt=React.createElement("div",_objectSpread2({style:y,ref:Ge},Le));return{View:gt,play:Xe,stop:Je,pause:ut,setSpeed:ft,goToAndStop:pt,goToAndPlay:ct,setDirection:yt,playSegments:lt,setSubframe:Ze,getDuration:it,destroy:Ye,animationContainerRef:Ge,animationLoaded:Ne,animationItem:We.current}};function getContainerVisibility(r){var x=r.getBoundingClientRect(),y=x.top,b=x.height,B=window.innerHeight-y,R=window.innerHeight+b;return B/R}function getContainerCursorPosition(r,x,y){var b=r.getBoundingClientRect(),B=b.top,R=b.left,I=b.width,O=b.height,G=(x-R)/I,q=(y-B)/O;return{x:G,y:q}}var useInitInteractivity=function r(x){var y=x.wrapperRef,b=x.animationItem,B=x.mode,R=x.actions;reactExports$1.useEffect(function(){var I=y.current;if(!(!I||!b||!R.length)){b.stop();var O=function(){var ee=null,ne=function(){var pe=getContainerVisibility(I),xe=R.find(function(Ue){var Le=Ue.visibility;return Le&&pe>=Le[0]&&pe<=Le[1]});if(xe){if(xe.type==="seek"&&xe.visibility&&xe.frames.length===2){var _e=xe.frames[0]+Math.ceil((pe-xe.visibility[0])/(xe.visibility[1]-xe.visibility[0])*xe.frames[1]);//! goToAndStop must be relative to the start of the current segment
b.goToAndStop(_e-b.firstFrame-1,!0)}xe.type==="loop"&&(ee===null||ee!==xe.frames||b.isPaused)&&(b.playSegments(xe.frames,!0),ee=xe.frames),xe.type==="play"&&b.isPaused&&(b.resetSegments(!0),b.play()),xe.type==="stop"&&b.goToAndStop(xe.frames[0]-b.firstFrame-1,!0)}};return document.addEventListener("scroll",ne),function(){document.removeEventListener("scroll",ne)}},G=function(){var ee=function(xe,_e){var Ue=xe,Le=_e;if(Ue!==-1&&Le!==-1){var He=getContainerCursorPosition(I,Ue,Le);Ue=He.x,Le=He.y}var $e=R.find(function(We){var Ge=We.position;return Ge&&Array.isArray(Ge.x)&&Array.isArray(Ge.y)?Ue>=Ge.x[0]&&Ue<=Ge.x[1]&&Le>=Ge.y[0]&&Le<=Ge.y[1]:Ge&&!Number.isNaN(Ge.x)&&!Number.isNaN(Ge.y)?Ue===Ge.x&&Le===Ge.y:!1});if($e){if($e.type==="seek"&&$e.position&&Array.isArray($e.position.x)&&Array.isArray($e.position.y)&&$e.frames.length===2){var Ne=(Ue-$e.position.x[0])/($e.position.x[1]-$e.position.x[0]),Qe=(Le-$e.position.y[0])/($e.position.y[1]-$e.position.y[0]);b.playSegments($e.frames,!0),b.goToAndStop(Math.ceil((Ne+Qe)/2*($e.frames[1]-$e.frames[0])),!0)}$e.type==="loop"&&b.playSegments($e.frames,!0),$e.type==="play"&&(b.isPaused&&b.resetSegments(!1),b.playSegments($e.frames)),$e.type==="stop"&&b.goToAndStop($e.frames[0],!0)}},ne=function(xe){ee(xe.clientX,xe.clientY)},oe=function(){ee(-1,-1)};return I.addEventListener("mousemove",ne),I.addEventListener("mouseout",oe),function(){I.removeEventListener("mousemove",ne),I.removeEventListener("mouseout",oe)}};switch(B){case"scroll":return O();case"cursor":return G()}}},[B,b])},useLottieInteractivity=function r(x){var y=x.actions,b=x.mode,B=x.lottieObj,R=B.animationItem,I=B.View,O=B.animationContainerRef;return useInitInteractivity({actions:y,animationItem:R,mode:b,wrapperRef:O}),I},_excluded$2=["style","interactivity"],Lottie=function r(x){var y,b,B,R=x.style,I=x.interactivity,O=_objectWithoutProperties$1(x,_excluded$2),G=useLottie(O,R),q=G.View,ee=G.play,ne=G.stop,oe=G.pause,pe=G.setSpeed,xe=G.goToAndStop,_e=G.goToAndPlay,Ue=G.setDirection,Le=G.playSegments,He=G.setSubframe,$e=G.getDuration,Ne=G.destroy,Qe=G.animationContainerRef,We=G.animationLoaded,Ge=G.animationItem;return reactExports$1.useEffect(function(){x.lottieRef&&(x.lottieRef.current={play:ee,stop:ne,pause:oe,setSpeed:pe,goToAndPlay:_e,goToAndStop:xe,setDirection:Ue,playSegments:Le,setSubframe:He,getDuration:$e,destroy:Ne,animationContainerRef:Qe,animationLoaded:We,animationItem:Ge})},[(y=x.lottieRef)===null||y===void 0?void 0:y.current]),useLottieInteractivity({lottieObj:{View:q,play:ee,stop:ne,pause:oe,setSpeed:pe,goToAndStop:xe,goToAndPlay:_e,setDirection:Ue,playSegments:Le,setSubframe:He,getDuration:$e,destroy:Ne,animationContainerRef:Qe,animationLoaded:We,animationItem:Ge},actions:(b=I==null?void 0:I.actions)!==null&&b!==void 0?b:[],mode:(B=I==null?void 0:I.mode)!==null&&B!==void 0?B:"scroll"})};const spinnerWrapper="_spinnerWrapper_1d31w_1",styles$1q={spinnerWrapper},v$1="5.5.5",fr=25,ip=0,op=79,w$2=300,h$3=150,nm="Loading-2",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"icon 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:39,s:[-90]},{t:79,s:[270]}],ix:10},p:{a:0,k:[150,75,0],ix:2},a:{a:0,k:[53,53,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-15.464],[15.464,0],[0,15.464],[-15.464,0]],o:[[0,15.464],[-15.464,0],[0,-15.464],[15.464,0]],v:[[28,0],[0,28],[-28,0],[0,-28]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.0392156862745098,.1803921568627451,.8,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[53,53],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:51,s:[0]},{t:79,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:39,s:[0]},{t:64,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:39,op:79,st:39,bm:0},{ddd:0,ind:2,ty:4,nm:"icon",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[-90]},{t:40,s:[270]}],ix:10},p:{a:0,k:[150,75,0],ix:2},a:{a:0,k:[53,53,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-15.464],[15.464,0],[0,15.464],[-15.464,0]],o:[[0,15.464],[-15.464,0],[0,-15.464],[15.464,0]],v:[[28,0],[0,28],[-28,0],[0,-28]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.0392156862745098,.1803921568627451,.8,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[53,53],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:12,s:[0]},{t:40,s:[100]}],ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:25,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:40,st:0,bm:0}],markers=[],loadingAnim={v:v$1,fr,ip,op,w:w$2,h:h$3,nm,ddd,assets,layers,markers};function LoadingSpinner(){return jsxRuntimeExports.jsx("div",{className:styles$1q.spinnerWrapper,children:jsxRuntimeExports.jsx(Lottie,{animationData:loadingAnim,loop:!0})})}const clickedFavButton$1="_clickedFavButton_4soaz_1",favButton$3="_favButton_4soaz_3",clickedIcon$1="_clickedIcon_4soaz_47",styles$1p={clickedFavButton:clickedFavButton$1,favButton:favButton$3,clickedIcon:clickedIcon$1};function FavButton({onFav:r,isFav:x}){return jsxRuntimeExports.jsx("button",{className:`${styles$1p.favButton} ${x&&styles$1p.clickedFavButton}`,onClick:r,children:jsxRuntimeExports.jsx(FaStar$1,{className:`${x&&styles$1p.clickedIcon}`})})}function Exhibitions(){const{user:r}=useUser(),[x,y]=reactExports$1.useState([]),[b,B]=reactExports$1.useState(!0),{currentPage:R,setCurrentPage:I,pageItems:O}=usePagination(12,x),[G,q]=reactExports$1.useState({sort:"latest",region:"",category:"",status:"exhibited",liked_only:0}),ee=useNavigate(),[ne,oe]=reactExports$1.useState(""),pe=Le=>{oe(Le.target.value)},xe=()=>{!r&&ee("/login"),q(Le=>({...Le,liked_only:!Le.liked_only}))},_e=async()=>{try{B(!0);const Le={...G,search:ne},He=await userInstance.get("/api/exhibitions",{params:Le});y(He.data)}catch(Le){console.error("   :",Le)}finally{B(!1)}};reactExports$1.useEffect(()=>{_e()},[G]);const Ue=["","","",""];return jsxRuntimeExports.jsxs("div",{className:styles$1z.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",isFav:G.liked_only,onEvent:_e,onFav:xe,onSearch:pe,value:ne}),jsxRuntimeExports.jsxs("div",{className:styles$1z.dropboxContainer,children:[jsxRuntimeExports.jsx(DropdownContainer,{labels:Ue,filterList:exhibitionFilter,onSetFilter:q}),jsxRuntimeExports.jsx(FavButton,{onFav:xe,isFav:G.liked_only})]}),jsxRuntimeExports.jsx(TotalCounts,{num:x.length,label:""}),b&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!b&&x.length===0&&jsxRuntimeExports.jsx("div",{className:styles$1z.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$1z.gridContainer,children:O.map(Le=>jsxRuntimeExports.jsx(ExhibitionCard,{exhibitionItem:Le,onEvent:_e},Le.id))}),x.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:R,onPageChange:I,totalItems:x.length})]})}const layout$x="_layout_16k0h_1",gridContainer$2="_gridContainer_16k0h_19",dropboxContainer$1="_dropboxContainer_16k0h_31",nonDataText$2="_nonDataText_16k0h_43",styles$1o={layout:layout$x,gridContainer:gridContainer$2,dropboxContainer:dropboxContainer$1,nonDataText:nonDataText$2},artistFilter=[{key:"category",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"nation",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],layout$w="_layout_98zb_1",artistImage$3="_artistImage_98zb_39",titleContainer$1="_titleContainer_98zb_57",artistNameTitle="_artistNameTitle_98zb_75",statusContainer$1="_statusContainer_98zb_93",subParagraph$3="_subParagraph_98zb_129",favButton$2="_favButton_98zb_143",icon$6="_icon_98zb_165",likedIcon$5="_likedIcon_98zb_175",styles$1n={layout:layout$w,artistImage:artistImage$3,titleContainer:titleContainer$1,artistNameTitle,statusContainer:statusContainer$1,subParagraph:subParagraph$3,favButton:favButton$2,icon:icon$6,likedIcon:likedIcon$5};function ArtistCard({artistItem:r,onEvent:x}){const{id:y,artist_name:b,artist_category:B,artist_image:R,artist_nation:I,is_on_exhibition:O,is_liked:G}=r,q=useNavigate(),ee=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&q("/login");try{G===!0?await userInstance.delete("/api/likes",{data:{liked_id:y,liked_type:"artist"}}):await userInstance.post("/api/likes",{liked_id:y,liked_type:"artist"}),await x()}catch(ne){console.error(ne)}};return jsxRuntimeExports.jsxs(Link$1,{className:styles$1n.layout,to:`/artists/${y}`,children:[jsxRuntimeExports.jsx("img",{className:styles$1n.artistImage,src:R,alt:"  "}),O==="1"&&jsxRuntimeExports.jsx("div",{className:styles$1n.statusContainer,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$1n.titleContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1n.artistNameTitle,children:b}),jsxRuntimeExports.jsx("button",{className:styles$1n.favButton,onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),ee()},children:jsxRuntimeExports.jsx(FaStar$1,{className:G==="1"?styles$1n.likedIcon:styles$1n.icon})})]}),jsxRuntimeExports.jsx("p",{className:styles$1n.subParagraph,children:B}),jsxRuntimeExports.jsx("p",{className:styles$1n.subParagraph,children:I})]})}function Artists(){const{user:r}=useUser(),[x,y]=reactExports$1.useState([]),[b,B]=reactExports$1.useState(!0),{currentPage:R,setCurrentPage:I,pageItems:O}=usePagination(12,x),[G,q]=reactExports$1.useState({category:"",nation:"",birthDecade:"",liked_only:0}),ee=useNavigate(),[ne,oe]=reactExports$1.useState(""),pe=()=>{!r&&ee("/login"),q(Ue=>({...Ue,liked_only:!Ue.liked_only}))},xe=Ue=>{oe(Ue.target.value)},_e=async()=>{const Ue={...G,search:ne};try{B(!0);const Le=await userInstance.get("/api/artist",{params:Ue});y(Le.data)}catch(Le){throw new Error(Le)}finally{B(!1)}};return reactExports$1.useEffect(()=>{_e()},[G]),jsxRuntimeExports.jsxs("div",{className:styles$1o.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",isFav:G.liked_only,onEvent:_e,onFav:pe,onSearch:xe,value:ne}),jsxRuntimeExports.jsxs("div",{className:styles$1o.dropboxContainer,children:[jsxRuntimeExports.jsx(DropdownContainer,{filterList:artistFilter,onSetFilter:q}),jsxRuntimeExports.jsx(FavButton,{onFav:pe,isFav:G.liked_only})]}),jsxRuntimeExports.jsx(TotalCounts,{num:x.length,label:""}),b&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!b&&x.length===0&&jsxRuntimeExports.jsx("div",{className:styles$1o.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$1o.gridContainer,children:O.map(Ue=>jsxRuntimeExports.jsx(ArtistCard,{artistItem:Ue,onEvent:_e},Ue.id))}),x.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:R,onPageChange:I,totalItems:x.length})]})}const layout$v="_layout_15yv5_1",dropboxContainer="_dropboxContainer_15yv5_19",dropBoxButtonSection="_dropBoxButtonSection_15yv5_31",gridContainer$1="_gridContainer_15yv5_43",mapButton="_mapButton_15yv5_55",nonDataText$1="_nonDataText_15yv5_81",styles$1m={layout:layout$v,dropboxContainer,dropBoxButtonSection,gridContainer:gridContainer$1,mapButton,nonDataText:nonDataText$1},galleryFilter=[{key:"status",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"regions",label:"",options:[{label:"",value:""},{label:"",value:""},{label:" ",value:" "},{label:"  ",value:"  "},{label:" ",value:" "},{label:" ",value:" "},{label:" ",value:" "},{label:"",value:""},{label:"",value:""}]},{key:"type",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],layout$u="_layout_1cvg6_1",linkContainer="_linkContainer_1cvg6_31",galleryImage$3="_galleryImage_1cvg6_41",infoContainer$1="_infoContainer_1cvg6_65",favButton$1="_favButton_1cvg6_73",icon$5="_icon_1cvg6_95",likedIcon$4="_likedIcon_1cvg6_105",galleryTitle$3="_galleryTitle_1cvg6_115",addressParagraph="_addressParagraph_1cvg6_135",styles$1l={layout:layout$u,linkContainer,galleryImage:galleryImage$3,infoContainer:infoContainer$1,favButton:favButton$1,icon:icon$5,likedIcon:likedIcon$4,galleryTitle:galleryTitle$3,addressParagraph};function GalleryCard({galleryItem:r,onEvent:x}){const{user:y}=useUser(),{id:b,gallery_name:B,gallery_image:R,gallery_address:I,gallery_start_time:O,gallery_end_time:G,is_liked:q}=r,ee=pe=>{if(pe)return pe.slice(0,5)},ne=useNavigate(),oe=async()=>{!y&&ne("/login");try{q===!0?await userInstance.delete("/api/likes",{data:{liked_id:b,liked_type:"gallery"}}):await userInstance.post("/api/likes",{liked_id:b,liked_type:"gallery"}),await x()}catch(pe){console.error(pe)}};return console.log(q),jsxRuntimeExports.jsx("div",{className:styles$1l.layout,children:jsxRuntimeExports.jsxs(Link$1,{className:styles$1l.linkContainer,to:`/galleries/${b}`,children:[jsxRuntimeExports.jsx("img",{className:styles$1l.galleryImage,src:R,alt:`${B}  `}),jsxRuntimeExports.jsx("button",{className:styles$1l.favButton,onClick:pe=>{pe.preventDefault(),pe.stopPropagation(),oe()},children:jsxRuntimeExports.jsx(FaStar$1,{className:q===!0?styles$1l.likedIcon:styles$1l.icon})}),jsxRuntimeExports.jsxs("div",{className:styles$1l.infoContainer,children:[jsxRuntimeExports.jsx("h3",{className:styles$1l.galleryTitle,children:B}),jsxRuntimeExports.jsx("p",{className:styles$1l.addressParagraph,children:I}),jsxRuntimeExports.jsxs("p",{className:styles$1l.addressParagraph,children:[ee(O)," ~ ",ee(G)]})]})]})})}const useModal=()=>{const[r,x]=reactExports$1.useState(!1);return{isOpen:r,handleOpenModal:()=>{x(b=>!b)}}},modalOverlay$9="_modalOverlay_tzg9o_1",modalContainer$3="_modalContainer_tzg9o_21",modalHeader$3="_modalHeader_tzg9o_45",modalTitle$3="_modalTitle_tzg9o_59",favButton="_favButton_tzg9o_71",clickedFavButton="_clickedFavButton_tzg9o_109",clickedIcon="_clickedIcon_tzg9o_121",modalMap="_modalMap_tzg9o_143",closeButton$8="_closeButton_tzg9o_159",styles$1k={modalOverlay:modalOverlay$9,modalContainer:modalContainer$3,modalHeader:modalHeader$3,modalTitle:modalTitle$3,favButton,clickedFavButton,clickedIcon,modalMap,closeButton:closeButton$8},useGeoLocation=()=>{const[r,x]=reactExports$1.useState({lat:37.3595704,lng:127.105399}),y=B=>{const R=B.coords.latitude,I=B.coords.longitude;x({lat:R,lng:I})},b=B=>{alert(`(${B.code}): ${B.message}`)};return reactExports$1.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(y,b):alert("    !")},[]),{coords:r,setCoords:x}};function GalleryMapModal({onOpen:r}){const{coords:x}=useGeoLocation(),{lat:y,lng:b}=x,[B,R]=reactExports$1.useState([]),[I,O]=reactExports$1.useState(!1),[G,q]=reactExports$1.useState(!1),ee=useNavigate(),ne=useMap({lat:y,lng:b,id:"gallery-map",results:B,zoomLevel:16});reactExports$1.useEffect(()=>{var Ue;const pe=ne.current;if(!pe||!((Ue=window.naver)!=null&&Ue.maps))return;const xe=async()=>{try{O(!0);const Le=pe.getBounds(),He=Le.getSW(),$e=Le.getNE(),Ne={latitude:$e.lat(),longitude:$e.lng()};G&&(Ne.liked_only=1);const Qe=await userInstance.get("/api/galleries",{params:Ne});R(Qe.data)}catch(Le){console.error("  :",Le)}finally{O(!1)}},_e=naver.maps.Event.addListener(pe,"idle",xe);return xe(),()=>{_e&&naver.maps.Event.removeListener(_e)}},[ne,G]);const oe=()=>{if(!localStorage.getItem("ACCESS_TOKEN")){ee("/login");return}q(pe=>!pe)};return reactExports$1.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),jsxRuntimeExports.jsx("div",{className:styles$1k.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$1k.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$1k.modalHeader,children:[jsxRuntimeExports.jsx("div",{className:styles$1k.modalTitle,children:"  "}),jsxRuntimeExports.jsxs("button",{className:`${styles$1k.favButton} ${G&&styles$1k.clickedFavButton}`,onClick:oe,children:[jsxRuntimeExports.jsx(FaStar,{className:`${G&&styles$1k.clickedIcon}`})," "]})]}),I&&jsxRuntimeExports.jsx(LoadingSpinner,{}),jsxRuntimeExports.jsx("div",{className:styles$1k.modalMap,id:"gallery-map"}),jsxRuntimeExports.jsx("button",{className:styles$1k.closeButton,onClick:r,children:""})]})})}function Galleries(){const{user:r}=useUser(),[x,y]=reactExports$1.useState([]),[b,B]=reactExports$1.useState(!0),{currentPage:R,setCurrentPage:I,pageItems:O}=usePagination(12,x),[G,q]=reactExports$1.useState({status:"",regions:"",type:"",liked_only:0}),ee=useNavigate(),[ne,oe]=reactExports$1.useState(""),{isOpen:pe,handleOpenModal:xe}=useModal(),_e=He=>{oe(He.target.value)},Ue=()=>{!r&&ee("/login"),q(He=>({...He,liked_only:!He.liked_only}))},Le=async()=>{try{B(!0);const He={...G,regions:G.regions.replace(/\s+/g,","),search:ne},$e=await userInstance.get("/api/galleries",{params:He});y($e.data)}catch(He){throw new Error(He)}finally{B(!1)}};return reactExports$1.useEffect(()=>{Le()},[G]),jsxRuntimeExports.jsxs("div",{className:styles$1m.layout,children:[pe&&jsxRuntimeExports.jsx(GalleryMapModal,{onOpen:xe}),jsxRuntimeExports.jsx(ListHeader,{title:"",isFav:G.liked_only,onEvent:Le,onFav:Ue,onSearch:_e,value:ne}),jsxRuntimeExports.jsxs("div",{className:styles$1m.dropboxContainer,children:[jsxRuntimeExports.jsx(DropdownContainer,{filterList:galleryFilter,onSetFilter:q}),jsxRuntimeExports.jsxs("div",{className:styles$1m.dropBoxButtonSection,children:[jsxRuntimeExports.jsx("button",{className:styles$1m.mapButton,onClick:xe,children:""}),jsxRuntimeExports.jsx(FavButton,{onFav:Ue,isFav:G.liked_only})]})]}),jsxRuntimeExports.jsx(TotalCounts,{num:x.length,label:""}),b&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!b&&x.length===0&&jsxRuntimeExports.jsx("div",{className:styles$1m.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$1m.gridContainer,children:O.map(He=>jsxRuntimeExports.jsx(GalleryCard,{galleryItem:He,onEvent:Le},He.id))}),x.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:R,onPageChange:I,totalItems:x.length})]})}const layout$t="_layout_1ud6f_1",registerTitle="_registerTitle_1ud6f_15",subParagraph$2="_subParagraph_1ud6f_27",form$2="_form_1ud6f_37",radioGroup="_radioGroup_1ud6f_55",submitButton$4="_submitButton_1ud6f_67",styles$1j={layout:layout$t,registerTitle,subParagraph:subParagraph$2,form:form$2,radioGroup,submitButton:submitButton$4},useInput=r=>{const[x,y]=reactExports$1.useState(r);return{data:x,handleChange:B=>{y(R=>({...R,[B.target.name]:B.target.value}))},setData:y}},input$6="_input_982er_13",styles$1i={input:input$6};function InputText({type:r="text",name:x,placeholder:y,value:b,onChange:B}){return jsxRuntimeExports.jsx("input",{className:styles$1i.input,name:x,type:r,placeholder:y,value:b,onChange:B})}const layout$s="_layout_1hjo8_1",radioLabel="_radioLabel_1hjo8_17",radioInput="_radioInput_1hjo8_31",styles$1h={layout:layout$s,radioLabel,radioInput};function InputRadio({name:r,value:x,label:y,onChange:b,checked:B}){return jsxRuntimeExports.jsxs("label",{className:styles$1h.layout,children:[jsxRuntimeExports.jsx("input",{className:styles$1h.radioInput,type:"radio",name:r,value:x,onChange:b,defaultChecked:B}),jsxRuntimeExports.jsx("span",{className:styles$1h.radioLabel,children:y})]})}const layout$r="_layout_3526f_1",inputTitle="_inputTitle_3526f_13",inputContainer$1="_inputContainer_3526f_25",errorParagraph="_errorParagraph_3526f_35",styles$1g={layout:layout$r,inputTitle,inputContainer:inputContainer$1,errorParagraph};function InputContainer({children:r,title:x,isValid:y,errorText:b}){return jsxRuntimeExports.jsxs("div",{className:styles$1g.layout,children:[jsxRuntimeExports.jsx("h3",{className:styles$1g.inputTitle,children:x}),jsxRuntimeExports.jsx("div",{className:styles$1g.inputContainer,children:r}),!y&&jsxRuntimeExports.jsx("div",{className:styles$1g.errorParagraph,children:b})]})}const modalOverlay$8="_modalOverlay_1odnn_1",modalBox$4="_modalBox_1odnn_27",modalMessage="_modalMessage_1odnn_51",modalButton="_modalButton_1odnn_67",styles$1f={modalOverlay:modalOverlay$8,modalBox:modalBox$4,modalMessage,modalButton};function AlertModal({isOpen:r,message:x,onClose:y}){return r?jsxRuntimeExports.jsx("div",{className:styles$1f.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$1f.modalBox,children:[jsxRuntimeExports.jsx("p",{className:styles$1f.modalMessage,children:x}),jsxRuntimeExports.jsx("button",{className:styles$1f.modalButton,onClick:y,children:""})]})}):null}function Register(){const{data:r,handleChange:x}=useInput({login_id:"",login_pwd:"",user_email:"",user_name:"",admin_flag:0}),[y,b]=reactExports$1.useState({isOpen:!1,message:"",callback:null}),B=useNavigate(),R=useLocation(),I=()=>{b(oe=>({...oe,isOpen:!1})),y.callback&&y.callback()},O=oe=>/^(?=.*[A-Za-z])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/.test(oe),G=oe=>/^[A-Za-z0-9]{6,20}$/.test(oe),q=oe=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.]+\.[A-Za-z]{2,}$/.test(oe),ee=()=>{const{login_id:oe,login_pwd:pe,user_email:xe,user_name:_e,admin_flag:Ue}=r;return G(oe)&&O(pe)&&q(xe)&&_e.trim()!==""&&Ue!==""},ne=async oe=>{oe.preventDefault();try{await instance.post("/api/auth/register",r),b({isOpen:!0,message:" .",callback:()=>B("/login",{state:{from:R.pathname}})})}catch(pe){let xe="    .";pe.response&&pe.response.status===409&&(xe=pe.response.data.message||"  ."),b({isOpen:!0,message:xe,callback:null})}};return jsxRuntimeExports.jsxs("div",{className:styles$1j.layout,children:[jsxRuntimeExports.jsx(AlertModal,{isOpen:y.isOpen,message:y.message,onClose:I}),jsxRuntimeExports.jsx("h1",{className:styles$1j.registerTitle,children:""}),jsxRuntimeExports.jsx("p",{className:styles$1j.subParagraph,children:"  "}),jsxRuntimeExports.jsxs("form",{className:styles$1j.form,onSubmit:ne,children:[jsxRuntimeExports.jsx(InputContainer,{title:"",isValid:r.login_id===""?!0:G(r.login_id),errorText:" 6~20     ",children:jsxRuntimeExports.jsx(InputText,{name:"login_id",placeholder:" (6~20 , )",onChange:x,value:r.login_id})}),jsxRuntimeExports.jsx(InputContainer,{title:"",isValid:r.login_pwd===""?!0:O(r.login_pwd),errorText:"8~20 , ,     ",children:jsxRuntimeExports.jsx(InputText,{name:"login_pwd",placeholder:" (8~16 ++)",type:"password",onChange:x,value:r.login_pwd})}),jsxRuntimeExports.jsx(InputContainer,{title:"",children:jsxRuntimeExports.jsx(InputText,{name:"user_name",placeholder:" ",onChange:x,value:r.user_name})}),jsxRuntimeExports.jsx(InputContainer,{title:"",isValid:r.user_email===""?!0:q(r.user_email),errorText:"   ",children:jsxRuntimeExports.jsx(InputText,{name:"user_email",placeholder:" ",onChange:x,value:r.user_email})}),jsxRuntimeExports.jsx(InputContainer,{title:" ?",children:jsxRuntimeExports.jsxs("div",{className:styles$1j.radioGroup,children:[jsxRuntimeExports.jsx(InputRadio,{label:"",name:"admin_flag",value:1,onChange:x}),jsxRuntimeExports.jsx(InputRadio,{label:"",name:"admin_flag",value:0,onChange:x})]})}),jsxRuntimeExports.jsx("button",{className:styles$1j.submitButton,disabled:!ee(),children:""})]})]})}const layout$q="_layout_1lxo4_1",mainTab="_mainTab_1lxo4_23",tabButton$4="_tabButton_1lxo4_41",active$4="_active_1lxo4_77",styles$1e={layout:layout$q,mainTab,tabButton:tabButton$4,active:active$4},layout$p="_layout_e7upq_1",pageTitle$1="_pageTitle_e7upq_15",editLink="_editLink_e7upq_33",styles$1d={layout:layout$p,pageTitle:pageTitle$1,editLink};function ProfileCard(){const{user:r}=reactExports$1.useContext(UserContext);return r?jsxRuntimeExports.jsxs("div",{className:styles$1d.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$1d.pageTitle,children:""}),jsxRuntimeExports.jsxs(Link$1,{className:styles$1d.editLink,to:"/mypage/edit",children:[r.user_name," , "]})]}):jsxRuntimeExports.jsx("div",{children:"  "})}const header$d="_header_10m40_1",countText$3="_countText_10m40_9",count$2="_count_10m40_9",tabButtonContainer="_tabButtonContainer_10m40_45",tabButton$3="_tabButton_10m40_45",active$3="_active_10m40_77",cardListSection="_cardListSection_10m40_87",cardList$2="_cardList_10m40_87",emptyText$4="_emptyText_10m40_107",styles$1c={header:header$d,countText:countText$3,count:count$2,tabButtonContainer,tabButton:tabButton$3,active:active$3,cardListSection,cardList:cardList$2,emptyText:emptyText$4},TABS=[{label:"",key:"exhibition"},{label:"",key:"gallery"},{label:"",key:"artwork"},{label:"",key:"artist"}],removeDuplicates$1=r=>{const x=new Set;return r.filter(y=>x.has(y.id)?!1:(x.add(y.id),!0))};function TabLike(){var O,G;const[r,x]=reactExports$1.useState({exhibition:[],gallery:[],artwork:[],artist:[]}),[y,b]=reactExports$1.useState("exhibition"),[B,R]=reactExports$1.useState(!0);reactExports$1.useEffect(()=>{(async()=>{try{const ee=await userInstance.get("/api/users/me/likes"),{data:ne}=ee,oe=removeDuplicates$1(ne.like_exhibitions||[]),pe=removeDuplicates$1(ne.like_galleries||[]),xe=removeDuplicates$1(ne.like_artists||[]);x({exhibition:oe,gallery:pe,artist:xe,artwork:[]})}catch(ee){console.log("like fetch err : ",ee),x({exhibition:[],gallery:[],artwork:[],artist:[]})}finally{R(!1)}})()},[]);const I=r[y]||[];return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:styles$1c.header,children:[jsxRuntimeExports.jsxs("p",{className:styles$1c.countText,children:["",jsxRuntimeExports.jsx("span",{className:styles$1c.count,children:I.length}),""," ",(O=TABS.find(q=>q.key===y))==null?void 0:O.label," ."]}),jsxRuntimeExports.jsx("div",{className:styles$1c.tabButtonContainer,children:TABS.map(q=>jsxRuntimeExports.jsx("button",{className:`${styles$1c.tabButton} ${y===q.key?styles$1c.active:""}`,onClick:()=>b(q.key),children:q.label},q.key))})]}),jsxRuntimeExports.jsx("section",{className:styles$1c.cardListSection,children:jsxRuntimeExports.jsx("div",{className:styles$1c.cardList,children:I.length>0?y==="exhibition"?I.map(q=>jsxRuntimeExports.jsx(ExhibitionCard,{exhibitionItem:q},`exhibition-${q.id}`)):y==="gallery"?I.map(q=>jsxRuntimeExports.jsx(GalleryCard,{galleryItem:q},`gallery-${q.id}`)):y==="artist"?I.map(q=>jsxRuntimeExports.jsx(ArtistCard,{artistItem:q},`artist-${q.id}`)):null:B?jsxRuntimeExports.jsx(LoadingSpinner,{}):jsxRuntimeExports.jsxs("p",{className:styles$1c.emptyText,children:[" ",(G=TABS.find(q=>q.key===y))==null?void 0:G.label," ."]})})})]})}const cardContainer$2="_cardContainer_18zcp_1",imgContainer="_imgContainer_18zcp_33",image$4="_image_18zcp_41",artistImage$2="_artistImage_18zcp_53",contents="_contents_18zcp_69",title$i="_title_18zcp_83",info$4="_info_18zcp_95",statusContainer="_statusContainer_18zcp_109",statusCompleted="_statusCompleted_18zcp_123",statusReserved="_statusReserved_18zcp_137",statusCanceled="_statusCanceled_18zcp_153",cancel="_cancel_18zcp_173",action="_action_18zcp_205",btn="_btn_18zcp_215",catalogRegisteredDate="_catalogRegisteredDate_18zcp_247",styles$1b={cardContainer:cardContainer$2,imgContainer,image:image$4,artistImage:artistImage$2,contents,title:title$i,info:info$4,statusContainer,statusCompleted,statusReserved,statusCanceled,cancel,action,btn,catalogRegisteredDate};function SectionCard({item:r,onQR:x,onCancel:y,onGoDetail:b,onReservation:B,type:R}){if(!r)return null;const I=()=>{const{likeType:q}=r;let ee="",ne="",oe="",pe=styles$1b.image;if(q==="exhibition")ee=r.exhibition_poster,ne=r.exhibition_title,oe=`${r.exhibition_location}<br />${r.exhibition_start_date} ~ ${r.exhibition_end_date}`;else if(q==="gallery")ee=r.gallery_image,ne=r.gallery_name,oe=r.gallery_address;else if(q==="artist")ee=r.artist_image,ne=r.artist_name,oe=`${r.artist_category} / ${r.artist_nation}`,pe=styles$1b.artistImage;else return null;return jsxRuntimeExports.jsxs("div",{onClick:b,className:styles$1b.cardContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1b.imgContainer,children:jsxRuntimeExports.jsx("img",{src:ee,alt:ne,className:`${styles$1b.image} ${pe}`})}),jsxRuntimeExports.jsxs("div",{className:styles$1b.contents,children:[jsxRuntimeExports.jsx("h3",{className:styles$1b.title,children:ne}),jsxRuntimeExports.jsx("p",{className:styles$1b.info,dangerouslySetInnerHTML:{__html:oe}})]})]})},O=()=>{var He,$e;const{exhibition_poster:q,exhibition_title:ee="  ",exhibition_location:ne="  ",reservation_status:oe="",id:pe=" ",reservation_datetime:xe}=r,_e={reserved:{label:"",className:styles$1b.statusReserved},used:{label:"",className:styles$1b.statusCompleted},canceled:{label:"",className:styles$1b.statusCanceled}},Ue=((He=_e[oe])==null?void 0:He.label)||"  ",Le=(($e=_e[oe])==null?void 0:$e.className)||"";return jsxRuntimeExports.jsxs("div",{className:styles$1b.cardContainer,onClick:B,children:[jsxRuntimeExports.jsx("div",{className:styles$1b.imgContainer,children:jsxRuntimeExports.jsx("img",{src:q,alt:ee,className:styles$1b.image})}),jsxRuntimeExports.jsxs("div",{className:styles$1b.contents,children:[jsxRuntimeExports.jsx("h3",{className:styles$1b.title,children:ee}),jsxRuntimeExports.jsxs("p",{className:styles$1b.info,children:[ne,jsxRuntimeExports.jsx("br",{}),xe.split(" ")[0],jsxRuntimeExports.jsx("br",{}),": ",pe]}),jsxRuntimeExports.jsxs("div",{className:styles$1b.statusContainer,children:[jsxRuntimeExports.jsx("span",{className:Le,children:Ue}),jsxRuntimeExports.jsxs("div",{className:styles$1b.action,children:[jsxRuntimeExports.jsx("button",{className:styles$1b.btn,onClick:Ne=>{Ne.stopPropagation(),b()},children:""}),oe==="reserved"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$1b.btn,onClick:Ne=>{Ne.stopPropagation(),x(r.exhibition_id)},children:""}),jsxRuntimeExports.jsx("button",{className:styles$1b.cancel,onClick:Ne=>{Ne.stopPropagation(),y()},children:""})]})]})]})]})]})},G=()=>{const{bookDetail:q,book_poster:ee,create_dtm:ne=""}=r,{book:{book_title:oe="  "}={},exhibition:{exhibition_location:pe="   "}={},gallery:{gallery_name:xe="  "}={},exhibition:{exhibition_start_date:_e=""}={},exhibition:{exhibition_end_date:Ue=""}={}}=(q==null?void 0:q.book)||{},Le=_e&&Ue?`${_e} ~ ${Ue}`:"",He=ne?new Date(ne).toISOString().slice(0,10):"";return jsxRuntimeExports.jsxs("div",{onClick:b,className:styles$1b.cardContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$1b.imgContainer,children:jsxRuntimeExports.jsx("img",{src:ee,alt:oe,className:styles$1b.image})}),jsxRuntimeExports.jsxs("div",{className:styles$1b.contents,children:[jsxRuntimeExports.jsx("h3",{className:styles$1b.title,children:oe}),jsxRuntimeExports.jsxs("p",{className:styles$1b.info,children:[xe," / ",pe,jsxRuntimeExports.jsx("br",{}),Le]}),jsxRuntimeExports.jsxs("p",{className:styles$1b.catalogRegisteredDate,children:[": ",He]})]})]})};switch(R){case"like":return I();case"reservation":return O();case"catalog":return G();default:return null}}const header$c="_header_1tuse_1",countText$2="_countText_1tuse_15",count$1="_count_1tuse_15",registerCatalogBtn="_registerCatalogBtn_1tuse_41",cardList$1="_cardList_1tuse_71",emptyText$3="_emptyText_1tuse_83",styles$1a={header:header$c,countText:countText$2,count:count$1,registerCatalogBtn,cardList:cardList$1,emptyText:emptyText$3};function TabPurchased(){const[r,x]=reactExports$1.useState([]),[y,b]=reactExports$1.useState(!0),B=useNavigate(),R=()=>{B("/scan")},I=G=>{B(`/catalog/${G}`)},O=()=>{console.log("QR  or ")};return reactExports$1.useEffect(()=>{async function G(){try{b(!0);const ee=(await userInstance.get("/api/users/me/purchases")).data,ne=await Promise.all(ee.map(async oe=>{try{const pe=await userInstance.get(`/api/books/${oe.book_id}`);return{...oe,bookDetail:pe.data}}catch(pe){return console.error(`Book ${oe.book_id}    : `,pe),{...oe,bookDetail:null}}}));console.log(ne),x(ne)}catch(q){console.error("   : ",q),x([])}finally{b(!1)}}G()},[]),jsxRuntimeExports.jsxs("div",{className:styles$1a.myCatalog,children:[jsxRuntimeExports.jsxs("div",{className:styles$1a.header,children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:styles$1a.countText,children:["  ",jsxRuntimeExports.jsx("span",{className:styles$1a.count,children:r.length})]})}),jsxRuntimeExports.jsx("button",{className:styles$1a.registerCatalogBtn,onClick:R,children:"  "})]}),jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx("div",{className:styles$1a.cardList,children:r.length>0?r.map(G=>jsxRuntimeExports.jsx(SectionCard,{item:G,onGoDetail:()=>I(G.id),onQR:O,onCancel:null,type:"catalog"},G.id)):y?jsxRuntimeExports.jsx(LoadingSpinner,{}):jsxRuntimeExports.jsxs("p",{className:styles$1a.emptyText,children:["   .",jsxRuntimeExports.jsx("br",{})," QR "]})})})]})}const cardList="_cardList_12369_1",header$b="_header_12369_13",countText$1="_countText_12369_27",count="_count_12369_27",emptyText$2="_emptyText_12369_53",styles$19={cardList,header:header$b,countText:countText$1,count,emptyText:emptyText$2},tabMyViewFilter=[{label:"",key:"dateSort",options:[{label:"",value:"latest"},{label:"",value:"oldest"}]},{label:"",key:"statusFilter",defaultValue:"reserved",options:[{label:"",value:"all"},{label:"",value:"reserved"},{label:"",value:"used"},{label:"",value:"canceled"}]}],modalOverlay$7="_modalOverlay_14003_1",modalContainer$2="_modalContainer_14003_27",modalHeader$2="_modalHeader_14003_55",closeButton$7="_closeButton_14003_73",imageContainer$1="_imageContainer_14003_97",checkIconContainer="_checkIconContainer_14003_129",confirmText="_confirmText_14003_163",visitDate="_visitDate_14003_179",infoButton="_infoButton_14003_193",styles$18={modalOverlay:modalOverlay$7,modalContainer:modalContainer$2,modalHeader:modalHeader$2,closeButton:closeButton$7,imageContainer:imageContainer$1,checkIconContainer,confirmText,visitDate,infoButton},AttendanceModal=({isOpen:r,onClose:x,exhibitionTitle:y,imageUrl:b,visitDate:B,onViewExhibition:R})=>r?jsxRuntimeExports.jsx("div",{className:styles$18.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$18.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$18.modalHeader,children:[jsxRuntimeExports.jsx("button",{className:styles$18.closeButton,onClick:x,children:jsxRuntimeExports.jsx(FaTimes,{})}),jsxRuntimeExports.jsx("div",{children:y})]}),jsxRuntimeExports.jsx("div",{className:styles$18.imageContainer,children:jsxRuntimeExports.jsx("img",{src:b,alt:y})}),jsxRuntimeExports.jsx("div",{className:styles$18.checkIconContainer,children:jsxRuntimeExports.jsx(FaCheck,{})}),jsxRuntimeExports.jsx("div",{className:styles$18.confirmText,children:"  "}),jsxRuntimeExports.jsx("div",{className:styles$18.visitDate,children:" ."}),jsxRuntimeExports.jsxs("div",{className:styles$18.visitDate,children:[" : ",B]}),jsxRuntimeExports.jsx("button",{className:styles$18.infoButton,onClick:R,children:"  "})]})}):null;function TabMyView(){const r=useLocation(),[x,y]=reactExports$1.useState([]),[b,B]=reactExports$1.useState({dateSort:"latest",statusFilter:"reserved"}),[R,I]=reactExports$1.useState(!0),O=useNavigate(),[G,q]=reactExports$1.useState(!1),[ee,ne]=reactExports$1.useState({id:"",title:"",imageUrl:""});reactExports$1.useEffect(()=>{var Ue,Le;(Ue=r.state)!=null&&Ue.successModal&&((Le=r.state)!=null&&Le.exhibitionInfo)&&(ne(r.state.exhibitionInfo),q(!0))},[r.state]),reactExports$1.useEffect(()=>{(async()=>{try{I(!0);const Le=await userInstance.get("/api/users/me/exhibitions"),{data:He}=Le;y(He)}catch(Le){console.error("  :",Le)}finally{I(!1)}})()},[]);const oe=reactExports$1.useMemo(()=>{let Ue=x;return b.statusFilter!=="all"&&(Ue=Ue.filter(Le=>Le.reservation_status===b.statusFilter)),Ue.sort((Le,He)=>{const $e=new Date(Le.reservation_datetime),Ne=new Date(He.reservation_datetime);return b.dateSort==="latest"?Ne-$e:$e-Ne}),Ue},[x,b]);console.log(oe);const pe=()=>{q(!1)},xe=async Ue=>{if(window.confirm(" ?"))try{await userInstance.delete(`/api/reservations/${Ue}`),y(He=>He.map($e=>$e.id===Ue?{...$e,reservation_status:"canceled"}:$e))}catch(He){console.error("  :",He)}},_e=Ue=>{const Le={id:Ue.exhibition_id,title:Ue.exhibition_title,imageUrl:Ue.exhibition_poster};O(`/scan?itemId=${Ue.id}`,{state:{exhibitionInfo:Le}})};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:styles$19.header,children:[jsxRuntimeExports.jsxs("p",{className:styles$19.countText,children:[" "," ",jsxRuntimeExports.jsx("span",{className:styles$19.count,children:oe.length})]}),jsxRuntimeExports.jsx("div",{className:styles$19.filterSection,children:jsxRuntimeExports.jsx(DropdownContainer,{filterList:tabMyViewFilter,onSetFilter:B,shape:"rect"})})]}),jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsx("div",{className:styles$19.cardList,children:oe.length>0?oe.map(Ue=>jsxRuntimeExports.jsx(SectionCard,{item:Ue,status:Ue.reservation_status==="reserved",onReservation:()=>{O(`/reservationconfirm/${Ue.id}`)},onGoDetail:()=>O(`/exhibitions/${Ue.exhibition_id}`),onCancel:()=>xe(Ue.id),onQR:()=>_e(Ue),type:"reservation"},Ue.id)):R?jsxRuntimeExports.jsx(LoadingSpinner,{}):jsxRuntimeExports.jsx("p",{className:styles$19.emptyText,children:"  ."})})}),G&&jsxRuntimeExports.jsx(AttendanceModal,{isOpen:G,onClose:pe,exhibitionTitle:ee.title,imageUrl:ee.imageUrl,visitDate:new Date().toLocaleDateString(),onViewExhibition:()=>O("/exhibitions")})]})}function MyPage(){const r=useLocation(),[x,y]=reactExports$1.useState(""),b=["","MY","MY"];reactExports$1.useEffect(()=>{var R,I;(R=r.state)!=null&&R.successModal?y("MY"):(I=r.state)!=null&&I.activeTab&&y(r.state.activeTab)},[r.state]);const B=()=>{switch(x){case"":return jsxRuntimeExports.jsx(TabLike,{});case"MY":return jsxRuntimeExports.jsx(TabMyView,{});case"MY":return jsxRuntimeExports.jsx(TabPurchased,{});default:return null}};return jsxRuntimeExports.jsxs("div",{className:styles$1e.layout,children:[jsxRuntimeExports.jsx(ProfileCard,{}),jsxRuntimeExports.jsx("nav",{className:styles$1e.mainTab,children:b.map(R=>jsxRuntimeExports.jsx("button",{className:`${styles$1e.tabButton} ${x===R?styles$1e.active:""}`,onClick:()=>y(R),children:R},R))}),B()]})}const container$8="_container_123ft_1",pageTitle="_pageTitle_123ft_17",profileCard="_profileCard_123ft_29",infoRow$5="_infoRow_123ft_173",infoLabel$5="_infoLabel_123ft_193",infoValue$1="_infoValue_123ft_205",input$5="_input_123ft_215",changeButton="_changeButton_123ft_231",profileStatsCard="_profileStatsCard_123ft_259",sectionTitle$4="_sectionTitle_123ft_277",statsRow="_statsRow_123ft_289",statsItem="_statsItem_123ft_305",profileDetailsCard="_profileDetailsCard_123ft_313",detailsRow="_detailsRow_123ft_329",detailsLabel="_detailsLabel_123ft_351",detailsValue="_detailsValue_123ft_359",changeButtonSmall="_changeButtonSmall_123ft_369",buttonField$3="_buttonField_123ft_397",backBtn$1="_backBtn_123ft_409",styles$17={container:container$8,pageTitle,profileCard,infoRow:infoRow$5,infoLabel:infoLabel$5,infoValue:infoValue$1,input:input$5,changeButton,profileStatsCard,sectionTitle:sectionTitle$4,statsRow,statsItem,profileDetailsCard,detailsRow,detailsLabel,detailsValue,changeButtonSmall,buttonField:buttonField$3,backBtn:backBtn$1},modalOverlay$6="_modalOverlay_1278k_1",modalContainer$1="_modalContainer_1278k_27",modalHeader$1="_modalHeader_1278k_51",closeButton$6="_closeButton_1278k_67",modalTitle$2="_modalTitle_1278k_87",modalContent$2="_modalContent_1278k_105",passwordSection="_passwordSection_1278k_121",sectionTitle$3="_sectionTitle_1278k_129",sectionDescription$1="_sectionDescription_1278k_141",form$1="_form_1278k_155",formGroup$3="_formGroup_1278k_167",input$4="_input_1278k_175",submitButton$3="_submitButton_1278k_209",errorMessage$4="_errorMessage_1278k_243",styles$16={modalOverlay:modalOverlay$6,modalContainer:modalContainer$1,modalHeader:modalHeader$1,closeButton:closeButton$6,modalTitle:modalTitle$2,modalContent:modalContent$2,passwordSection,sectionTitle:sectionTitle$3,sectionDescription:sectionDescription$1,form:form$1,formGroup:formGroup$3,input:input$4,submitButton:submitButton$3,errorMessage:errorMessage$4},PwModal=({isOpen:r,onClose:x,userInfo:y,onUpdateUserInfo:b})=>{const[B,R]=reactExports$1.useState(""),[I,O]=reactExports$1.useState(""),[G,q]=reactExports$1.useState(""),[ee,ne]=reactExports$1.useState(!1);reactExports$1.useEffect(()=>{r&&(R(""),O(""),q(""),ne(!1))},[r]);const oe=async xe=>{if(xe.preventDefault(),q(""),!y)return;if(!B||!I){q("  .");return}if(B===I){q("     .");return}const _e={...y,login_pwd:I};try{const Ue=await userInstance.put("/api/users/me",_e);b(Ue.data),ne(!0)}catch(Ue){console.error(Ue),q("  .   .")}},pe=()=>{ne(!1),x()};return r?jsxRuntimeExports.jsxs("div",{className:styles$16.modalOverlay,children:[jsxRuntimeExports.jsxs("div",{className:styles$16.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$16.modalHeader,children:[jsxRuntimeExports.jsx("button",{className:styles$16.closeButton,onClick:x,children:jsxRuntimeExports.jsx(FaTimes,{})}),jsxRuntimeExports.jsx("div",{className:styles$16.modalTitle,children:" "})]}),jsxRuntimeExports.jsx("div",{className:styles$16.modalContent,children:jsxRuntimeExports.jsxs("div",{className:styles$16.passwordSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$16.sectionTitle,children:" "}),jsxRuntimeExports.jsxs("p",{className:styles$16.sectionDescription,children:["    ",jsxRuntimeExports.jsx("br",{}),"  ."]}),jsxRuntimeExports.jsxs("form",{className:styles$16.form,onSubmit:oe,children:[jsxRuntimeExports.jsx("div",{className:styles$16.formGroup,children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:" ",className:`${styles$16.input} ${G?styles$16.inputError:""}`,value:B,onChange:xe=>{R(xe.target.value),G&&q("")},required:!0})}),jsxRuntimeExports.jsx("div",{className:styles$16.formGroup,children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:" ",className:`${styles$16.input} ${G?styles$16.inputError:""}`,value:I,onChange:xe=>{O(xe.target.value),G&&q("")},required:!0})}),G&&jsxRuntimeExports.jsx("div",{className:styles$16.errorMessage,children:G}),jsxRuntimeExports.jsx("button",{className:styles$16.submitButton,type:"submit",children:" "})]})]})})]}),jsxRuntimeExports.jsx(AlertModal,{isOpen:ee,message:"  .",onClose:pe})]}):null},modalOverlay$5="_modalOverlay_lcu9a_1",modalContainer="_modalContainer_lcu9a_27",modalHeader="_modalHeader_lcu9a_51",closeButton$5="_closeButton_lcu9a_67",modalTitle$1="_modalTitle_lcu9a_89",modalContent$1="_modalContent_lcu9a_107",withdrawSection="_withdrawSection_lcu9a_119",sectionTitle$2="_sectionTitle_lcu9a_129",sectionDescription="_sectionDescription_lcu9a_143",form="_form_lcu9a_173",formGroup$2="_formGroup_lcu9a_185",input$3="_input_lcu9a_193",withdrawButton="_withdrawButton_lcu9a_231",errorMessage$3="_errorMessage_lcu9a_267",inputError="_inputError_lcu9a_285",styles$15={modalOverlay:modalOverlay$5,modalContainer,modalHeader,closeButton:closeButton$5,modalTitle:modalTitle$1,modalContent:modalContent$1,withdrawSection,sectionTitle:sectionTitle$2,sectionDescription,form,formGroup:formGroup$2,input:input$3,withdrawButton,errorMessage:errorMessage$3,inputError},WithdrawModal=({isOpen:r,onClose:x,userInfo:y,onWithdrawSuccess:b})=>{const[B,R]=reactExports$1.useState(""),[I,O]=reactExports$1.useState(""),G=async ee=>{if(ee.preventDefault(),O(""),!!y){if(!B){O(" .");return}try{await userInstance.delete("/api/auth/withdraw",{data:{login_id:y.login_id,login_pwd:B}}),b(),R(""),O(""),x()}catch(ne){console.error(ne),ne.response&&ne.response.status===400?O("  ."):O("  .   .")}}},q=()=>{O(""),R(""),x()};return r?jsxRuntimeExports.jsx("div",{className:styles$15.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$15.modalContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$15.modalHeader,children:[jsxRuntimeExports.jsx("button",{className:styles$15.closeButton,onClick:q,children:jsxRuntimeExports.jsx(FaTimes,{})}),jsxRuntimeExports.jsx("div",{className:styles$15.modalTitle,children:" "})]}),jsxRuntimeExports.jsx("div",{className:styles$15.modalContent,children:jsxRuntimeExports.jsxs("div",{className:styles$15.withdrawSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$15.sectionTitle,children:" ?"}),jsxRuntimeExports.jsxs("p",{className:styles$15.sectionDescription,children:["    .",jsxRuntimeExports.jsx("br",{}),"  ,    .",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsxs("form",{className:styles$15.form,onSubmit:G,children:[jsxRuntimeExports.jsx("div",{className:styles$15.formGroup,children:jsxRuntimeExports.jsx("input",{type:"password",placeholder:" ",className:`${styles$15.input} ${I?styles$15.inputError:""}`,value:B,onChange:ee=>{R(ee.target.value),I&&O("")},autoComplete:"off"})}),I&&jsxRuntimeExports.jsx("div",{className:styles$15.errorMessage,children:I}),jsxRuntimeExports.jsx("button",{className:styles$15.withdrawButton,type:"submit",children:""})]})]})})]})}):null},EditProfile=()=>{const{user:r,setUser:x}=reactExports$1.useContext(UserContext),[y,b]=reactExports$1.useState(!1),[B,R]=reactExports$1.useState(!1),[I,O]=reactExports$1.useState(!1),[G,q]=reactExports$1.useState(""),[ee,ne]=reactExports$1.useState(""),oe=useNavigate(),[pe,xe]=reactExports$1.useState(!1),[_e,Ue]=reactExports$1.useState(!1);if(!r)return jsxRuntimeExports.jsx("div",{children:"  "});const Le=ut=>x({...r,...ut}),He=()=>b(!0),$e=()=>b(!1),Ne=()=>{O(!0),ne(r.user_email)},Qe=ut=>ne(ut.target.value),We=async()=>{try{await userInstance.put("/api/users/me",{user_email:ee}),x({...r,user_email:ee}),O(!1)}catch(ut){console.error("  ",ut)}},Ge=()=>{Ue(!0)},Xe=()=>{api.remove("ACCESS_TOKEN"),Ue(!1),x(null),oe("/")},Je=()=>{api.remove("ACCESS_TOKEN"),x(null),oe("/")};return jsxRuntimeExports.jsxs("div",{className:styles$17.container,children:[jsxRuntimeExports.jsx("h2",{className:styles$17.pageTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$17.profileCard,children:jsxRuntimeExports.jsxs("div",{className:styles$17.profileInfoDetails,children:[jsxRuntimeExports.jsxs("div",{className:styles$17.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$17.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$17.infoValue,children:r.user_name||""})]}),jsxRuntimeExports.jsxs("div",{className:styles$17.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$17.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$17.infoValue,children:r.user_name||""})]}),jsxRuntimeExports.jsxs("div",{className:styles$17.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$17.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$17.infoValue,children:r.login_id||""}),jsxRuntimeExports.jsx("button",{className:styles$17.changeButtonSmall,onClick:He,children:" "})]}),jsxRuntimeExports.jsxs("div",{className:styles$17.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$17.infoLabel,children:""}),I?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"email",className:styles$17.input,value:ee,onChange:Qe}),jsxRuntimeExports.jsx("button",{className:styles$17.changeButton,onClick:We,children:""})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:styles$17.infoValue,children:r.user_email||"email@email.com"}),jsxRuntimeExports.jsx("button",{className:styles$17.changeButton,onClick:Ne,children:""})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:styles$17.profileStatsCard,children:[jsxRuntimeExports.jsx("h3",{className:styles$17.sectionTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$17.statsRow,children:jsxRuntimeExports.jsx("span",{className:styles$17.statsItem,children:"1:1 "})}),jsxRuntimeExports.jsx("div",{className:styles$17.statsRow,children:jsxRuntimeExports.jsx("span",{className:styles$17.statsItem,children:" "})})]}),jsxRuntimeExports.jsxs("div",{className:styles$17.profileDetailsCard,children:[jsxRuntimeExports.jsx("h3",{className:styles$17.sectionTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$17.detailsRow,onClick:Ge,style:{cursor:"pointer"},children:jsxRuntimeExports.jsx("span",{className:styles$17.detailsLabel,children:""})}),jsxRuntimeExports.jsxs("div",{className:styles$17.detailsRow,children:[jsxRuntimeExports.jsx("span",{className:styles$17.detailsLabel,children:" "}),jsxRuntimeExports.jsx("span",{className:styles$17.detailsValue,children:"1.10.24"})]}),jsxRuntimeExports.jsx("div",{className:styles$17.detailsRow,onClick:()=>xe(!0),style:{cursor:"pointer"},children:jsxRuntimeExports.jsx("span",{className:styles$17.detailsLabel,children:" "})})]}),jsxRuntimeExports.jsx("div",{className:styles$17.buttonField,children:jsxRuntimeExports.jsx("button",{className:styles$17.backBtn,onClick:()=>oe("/mypage"),children:" "})}),jsxRuntimeExports.jsx(PwModal,{isOpen:y,onClose:$e,userInfo:r,onUpdateUserInfo:Le}),jsxRuntimeExports.jsx(LogoutModal,{isOpen:_e,onClose:Xe}),jsxRuntimeExports.jsx(WithdrawModal,{isOpen:pe,onClose:()=>xe(!1),userInfo:r,onWithdrawSuccess:Je})]})},layout$o="_layout_11t2z_1",summaryTitle$1="_summaryTitle_11t2z_15",queryStringSpan="_queryStringSpan_11t2z_25",resultSection$1="_resultSection_11t2z_33",styles$14={layout:layout$o,summaryTitle:summaryTitle$1,queryStringSpan,resultSection:resultSection$1},filterResults=(r,x)=>{switch(x){case"exhibition":return r==null?void 0:r.slice(0,10).map(y=>({id:y.id,thumbnail:y.exhibition_poster,title:y.exhibition_title}));case"gallery":return r==null?void 0:r.slice(0,10).map(y=>({id:y.id,thumbnail:y.gallery_image,title:y.gallery_name}));case"artist":return r==null?void 0:r.slice(0,10).map(y=>({id:y.id,thumbnail:y.artist_image,title:y.artist_name}));case"notice":return r==null?void 0:r.slice(0,10).map(y=>({id:y.id,thumbnail:y.announcement_poster,title:y.announcement_title}))}},layout$n="_layout_uizu7_1",titleContainer="_titleContainer_uizu7_13",categoryTitle="_categoryTitle_uizu7_25",extraLink="_extraLink_uizu7_33",resultList="_resultList_uizu7_45",emptyBox="_emptyBox_uizu7_63",styles$13={layout:layout$n,titleContainer,categoryTitle,extraLink,resultList,emptyBox},filterCategory=r=>{switch(r){case"exhibition":return{label:"",link:"exhibitions"};case"gallery":return{label:"",link:"galleries"};case"artist":return{label:"",link:"artists"};case"notice":return{label:"",link:"notices"}}},layout$m="_layout_i3rj4_1",itemImage="_itemImage_i3rj4_13",itemSpan="_itemSpan_i3rj4_27",styles$12={layout:layout$m,itemImage,itemSpan};function SearchResultItem({link:r,thumbnail:x,title:y}){return jsxRuntimeExports.jsxs(Link$1,{className:styles$12.layout,to:r,children:[jsxRuntimeExports.jsx("img",{className:styles$12.itemImage,src:x}),jsxRuntimeExports.jsx("span",{className:styles$12.itemSpan,children:y})]})}function SearchResultSection({category:r,results:x}){return jsxRuntimeExports.jsxs("section",{className:styles$13.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$13.titleContainer,children:[jsxRuntimeExports.jsx("h2",{className:styles$13.categoryTitle,children:filterCategory(r).label}),(x==null?void 0:x.length)===10&&jsxRuntimeExports.jsx(Link$1,{className:styles$13.extraLink,to:`/${filterCategory(r).link}`,children:""})]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsx("div",{className:styles$13.resultList,children:!x||x.length===0?jsxRuntimeExports.jsx("div",{className:styles$13.emptyBox,children:"  "}):x.map(({id:y,thumbnail:b,title:B})=>jsxRuntimeExports.jsx(SearchResultItem,{link:`/${filterCategory(r).link}/${y}`,thumbnail:b,title:B},y))})]})}function Search(){const r=useLocation(),y=new URLSearchParams(r.search).get("query"),[b,B]=reactExports$1.useState({});console.log(y);const R=async()=>{try{const I=await instance.get("/api/search",{params:{search:y}});B(I.data)}catch(I){throw new Error(I)}};return reactExports$1.useEffect(()=>{R()},[y]),jsxRuntimeExports.jsxs("div",{className:styles$14.layout,children:[jsxRuntimeExports.jsxs("h1",{className:styles$14.summaryTitle,children:[jsxRuntimeExports.jsx("span",{className:styles$14.queryStringSpan,children:`'${y}'`}),"   "]}),jsxRuntimeExports.jsxs("section",{className:styles$14.resultSection,children:[jsxRuntimeExports.jsx(SearchResultSection,{category:"exhibition",results:filterResults(b.exhibitions,"exhibition")}),jsxRuntimeExports.jsx(SearchResultSection,{category:"gallery",results:filterResults(b.galleries,"gallery")}),jsxRuntimeExports.jsx(SearchResultSection,{category:"artist",results:filterResults(b.artists,"artist")}),jsxRuntimeExports.jsx(SearchResultSection,{category:"notice",results:filterResults(b.announcements,"notice")})]})]})}const layout$l="_layout_1jxus_1",header$a="_header_1jxus_11",backBtn="_backBtn_1jxus_37",orderSection="_orderSection_1jxus_47",userInfo="_userInfo_1jxus_61",productBox="_productBox_1jxus_71",productImage="_productImage_1jxus_81",productInfo="_productInfo_1jxus_95",paymentInfo="_paymentInfo_1jxus_109",discountInfo="_discountInfo_1jxus_111",paymentMethod="_paymentMethod_1jxus_113",total="_total_1jxus_129",kakao="_kakao_1jxus_169",naver$1="_naver_1jxus_177",basic="_basic_1jxus_183",paymentButton="_paymentButton_1jxus_191",styles$11={layout:layout$l,header:header$a,backBtn,orderSection,userInfo,productBox,productImage,productInfo,paymentInfo,discountInfo,paymentMethod,total,kakao,naver:naver$1,basic,paymentButton};function Purchase(){const{reservationId:r}=useParams(),{state:x}=useLocation(),y=useNavigate(),[b,B]=reactExports$1.useState(""),{exhibition:R={},date:I="",time:O="",people:{adults:G=0,teens:q=0,children:ee=0}={},total:ne=0,email:oe="test@test.com",phone:pe="010-1234-5678",name:xe=""}=x||{},_e=()=>y(`/reservation/${R.id}`),Ue=()=>{if(!b){alert("  .");return}alert(`${b}  .`);const We={...x,payment:b};y(`/reservation/complete/${r}`,{state:We})},Le=()=>jsxRuntimeExports.jsxs("div",{className:styles$11.userInfo,children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsxs("p",{children:[xe," "]}),jsxRuntimeExports.jsx("p",{children:oe}),jsxRuntimeExports.jsx("p",{children:pe})]}),He=()=>jsxRuntimeExports.jsxs("div",{className:styles$11.productBox,children:[jsxRuntimeExports.jsx("img",{src:R.imageUrl,alt:" ",className:styles$11.productImage}),jsxRuntimeExports.jsxs("div",{className:styles$11.productInfo,children:[jsxRuntimeExports.jsx("h3",{children:R.title}),jsxRuntimeExports.jsxs("p",{children:["-  : ",I]}),jsxRuntimeExports.jsxs("p",{children:["-   : ",O]}),jsxRuntimeExports.jsxs("p",{children:["-  :  ",G,",  ",q,",  ",ee]}),jsxRuntimeExports.jsxs("p",{children:["-  : ",ne.toLocaleString(),""]})]})]}),$e=()=>jsxRuntimeExports.jsxs("div",{className:styles$11.discountInfo,children:[jsxRuntimeExports.jsx("h3",{children:"   "}),jsxRuntimeExports.jsx("p",{children:"1,000point "}),jsxRuntimeExports.jsx("p",{children:" : 0"})]}),Ne=()=>jsxRuntimeExports.jsxs("div",{className:styles$11.paymentInfo,children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsxs("p",{children:[" : ",ne.toLocaleString(),""]}),jsxRuntimeExports.jsx("p",{children:" : -1,000"}),jsxRuntimeExports.jsxs("p",{className:styles$11.total,children:["  : ",(ne-1e3).toLocaleString(),""]})]}),Qe=()=>{const We={:"kakao",:"naver"," ":"basic"};return jsxRuntimeExports.jsxs("div",{className:styles$11.paymentMethod,children:[jsxRuntimeExports.jsx("h3",{children:" "}),Object.entries(We).map(([Ge,Xe])=>jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"payment",value:Ge,onChange:Je=>B(Je.target.value)}),jsxRuntimeExports.jsxs("span",{className:styles$11[Xe],children:[" ",Ge]})]},Ge))]})};return jsxRuntimeExports.jsxs("div",{className:styles$11.layout,children:[jsxRuntimeExports.jsxs("header",{className:styles$11.header,children:[jsxRuntimeExports.jsx("button",{className:styles$11.backBtn,onClick:_e,children:""}),jsxRuntimeExports.jsx("span",{className:styles$11.title,children:"   "})]}),jsxRuntimeExports.jsxs("div",{className:styles$11.orderSection,children:[Le(),He()]}),$e(),Ne(),Qe(),jsxRuntimeExports.jsx("button",{className:styles$11.paymentButton,onClick:Ue,children:""})]})}const layout$k="_layout_dz2j9_1",newsListSection="_newsListSection_dz2j9_61",styles$10={layout:layout$k,newsListSection},newsFilter=[{label:"",key:"sort",options:[{label:"",value:"latest"},{label:"",value:"ending"}]},{label:"",key:"category",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{label:" ",key:"status",options:[{label:"",value:"ongoing"},{label:"",value:"scheduled"},{label:"",value:"ended"}]}],card$6="_card_iircg_1",header$9="_header_iircg_31",badge="_badge_iircg_45",title$h="_title_iircg_99",info$3="_info_iircg_121",period="_period_iircg_131",organizer="_organizer_iircg_133",styles$$={card:card$6,header:header$9,badge,:"__iircg_81",:"__iircg_91",title:title$h,info:info$3,period,organizer};function NewsCard({newsItem:r}){const x=useNavigate(),{id:y,announcement_title:b,announcement_start_datetime:B,announcement_end_datetime:R,announcement_organizer:I,announcement_category:O,announcement_status:G}=r,q=oe=>oe==null?void 0:oe.split(" ")[0].replace(/-/g,"."),ee=oe=>{switch(oe){case"ongoing":return"";case"scheduled":return"";case"ended":return"";default:return""}},ne=()=>{x(`/notices/${y}`)};return jsxRuntimeExports.jsxs("div",{className:styles$$.card,onClick:ne,role:"button",tabIndex:0,children:[jsxRuntimeExports.jsxs("div",{className:styles$$.header,children:[jsxRuntimeExports.jsx("span",{className:`${styles$$.badge}`,children:O}),jsxRuntimeExports.jsx("span",{className:`${styles$$.badge} ${styles$$[ee(G)]}`,children:ee(G)})]}),jsxRuntimeExports.jsx("h3",{className:styles$$.title,children:b}),jsxRuntimeExports.jsxs("div",{className:styles$$.info,children:[jsxRuntimeExports.jsx("p",{className:styles$$.period,children:`${q(B)} ~ ${q(R)}`}),jsxRuntimeExports.jsx("p",{className:styles$$.organizer,children:I})]})]})}function News(){const[r,x]=reactExports$1.useState([]),[y,b]=reactExports$1.useState(!0),{currentPage:B,setCurrentPage:R,pageItems:I}=usePagination(10,r),[O,G]=reactExports$1.useState({category:"",status:"ongoing",sort:"latest",liked_only:0}),[q,ee]=reactExports$1.useState(""),ne=pe=>{ee(pe.target.value)},oe=async()=>{try{b(!0);const pe={...O,search:q},xe=await instance.get("/api/announcements",{params:pe});x(xe.data)}catch(pe){console.error("   :",pe)}finally{b(!1)}};return reactExports$1.useEffect(()=>{oe()},[O]),jsxRuntimeExports.jsxs("div",{className:styles$10.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",placeholder:" ",onEvent:oe,onSearch:ne,value:q,isNews:!0}),jsxRuntimeExports.jsx(DropdownContainer,{filterList:newsFilter,onSetFilter:G}),jsxRuntimeExports.jsx(TotalCounts,{num:r.length,label:""}),y&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!y&&r.length===0&&jsxRuntimeExports.jsx("div",{children:"  ."}),jsxRuntimeExports.jsx("section",{className:styles$10.newsListSection,children:I.map(pe=>jsxRuntimeExports.jsx(NewsCard,{newsItem:pe},pe.id))}),jsxRuntimeExports.jsx(Pagination,{currentPage:B,onPageChange:R,totalItems:r.length})]})}const noticeLayout="_noticeLayout_p2ihj_1",categorySpan="_categorySpan_p2ihj_25",newsTitle="_newsTitle_p2ihj_33",newsImage="_newsImage_p2ihj_41",contentsContainer="_contentsContainer_p2ihj_55",divider$2="_divider_p2ihj_73",contentParagraph="_contentParagraph_p2ihj_87",noticeText="_noticeText_p2ihj_99",backButton$8="_backButton_p2ihj_115",styles$_={noticeLayout,categorySpan,newsTitle,newsImage,contentsContainer,divider:divider$2,contentParagraph,noticeText,backButton:backButton$8},info$2="_info_pjhlh_1",label$4="_label_pjhlh_41",styles$Z={info:info$2,label:label$4};function ContentsInfoSection({startDate:r,host:x,contact:y,apply:b,attachment:B,site:R}){return jsxRuntimeExports.jsxs("div",{className:styles$Z.info,children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Z.label,children:" "})," ",r]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Z.label,children:" "})," ",x]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Z.label,children:" "})," ",y]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Z.label,children:" "})," ",b]}),R&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{className:styles$Z.label,children:" "})," ",jsxRuntimeExports.jsx("a",{href:R,target:"_blank",rel:"noreferrer",children:R})]}),B&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:":"})," ",jsxRuntimeExports.jsx("a",{href:B.url,target:"_blank",rel:"noreferrer",children:B.name})]})]})}function NewsDetail(){const{noticeId:r}=useParams(),[x,y]=reactExports$1.useState({}),b=async()=>{try{const He=await instance.get(`/api/announcements/${r}`);y(He.data)}catch(He){throw new Error(He)}};if(reactExports$1.useEffect(()=>{b()},[]),!x)return jsxRuntimeExports.jsx("p",{children:"   ."});const{announcement_title:B,announcement_poster:R,announcement_start_datetime:I,announcement_end_datetime:O,announcement_organizer:G,announcement_contact:q,announcement_support_detail:ee,announcement_attachment_url:ne,announcement_site_url:oe,announcement_content:pe,announcement_category:xe,created_at:_e,views:Ue}=x,Le=(He,$e)=>{const Ne=Qe=>Qe==null?void 0:Qe.split(" ")[0];return`${Ne(He)} ~ ${Ne($e)}`};return jsxRuntimeExports.jsxs("section",{className:styles$_.noticeLayout,children:[jsxRuntimeExports.jsx("span",{className:styles$_.categorySpan,children:xe}),jsxRuntimeExports.jsx("h1",{className:styles$_.newsTitle,children:B}),jsxRuntimeExports.jsx("hr",{className:styles$_.divider}),jsxRuntimeExports.jsxs("div",{className:styles$_.contentsContainer,children:[jsxRuntimeExports.jsx("img",{className:styles$_.newsImage,src:R,alt:`${B}  `}),jsxRuntimeExports.jsx(ContentsInfoSection,{startDate:Le(I,O),host:G,contact:q,apply:ee,attachment:ne,site:oe,createdAt:_e,views:Ue}),jsxRuntimeExports.jsx("p",{className:styles$_.contentParagraph,children:pe}),jsxRuntimeExports.jsx("hr",{className:styles$_.divider}),jsxRuntimeExports.jsx("p",{className:styles$_.noticeText,children:"*         ."}),jsxRuntimeExports.jsx(Link$1,{className:styles$_.backButton,to:"/notices",children:" "})]})]})}const layout$j="_layout_xg7ub_1",mainContent="_mainContent_xg7ub_17",title$g="_title_xg7ub_45",infoImage="_infoImage_xg7ub_65",textContainer="_textContainer_xg7ub_77",textBox="_textBox_xg7ub_87",styles$Y={layout:layout$j,mainContent,title:title$g,infoImage,textContainer,textBox},sectionContainer="_sectionContainer_yp0fd_1",controlsContainer="_controlsContainer_yp0fd_13",speedContainer="_speedContainer_yp0fd_33",speedButton="_speedButton_yp0fd_67",clickedSpeedButton="_clickedSpeedButton_yp0fd_93",buttonField$2="_buttonField_yp0fd_103",optionSpan="_optionSpan_yp0fd_113",optionButton="_optionButton_yp0fd_123",styles$X={sectionContainer,controlsContainer,speedContainer,speedButton,clickedSpeedButton,buttonField:buttonField$2,optionSpan,optionButton},audioPlayerWrapper="_audioPlayerWrapper_13cxf_1",audioButton="_audioButton_13cxf_17",styles$W={audioPlayerWrapper,audioButton};function DocentAudioPlayer({script:r,playbackRate:x}){const[y,b]=reactExports$1.useState(!1),[B,R]=reactExports$1.useState(!1),[I,O]=reactExports$1.useState(x),G=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{let oe=!0;return R(!1),(async()=>{console.log("Fetching audio for script:",`${r.substr(0,50)}...`);const xe=await q();if(xe&&oe){console.log("Audio content fetched successfully");const _e=new Audio(`data:audio/mp3;base64,${xe}`);_e.playbackRate=x,_e.onended=()=>b(!1),_e.playbackRate=I,G.current=_e,R(!0)}})(),()=>{oe=!1,G.current&&(G.current.pause(),G.current.currentTime=0)}},[r]),reactExports$1.useEffect(()=>{O(x),G.current&&(G.current.playbackRate=x)},[x]);const q=async()=>{const pe=await(await fetch("https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyDONGKCPP4PLv-LpZQyyCEF_7psIAZ_-vE",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:r},voice:{languageCode:"ko-KR",name:"ko-KR-Chirp3-HD-Kore"},audioConfig:{audioEncoding:"MP3"}})})).json(),{audioContent:xe}=pe;if(xe)return xe},ee=()=>{B&&(y?(G.current.pause(),b(!1)):(G.current.play(),b(!0)))},ne=()=>{G.current&&(G.current.pause(),G.current.currentTime=0,b(!1))};return jsxRuntimeExports.jsxs("div",{className:styles$W.audioPlayerWrapper,children:[jsxRuntimeExports.jsx("button",{className:styles$W.audioButton,onClick:ee,disabled:!B,children:B?y?jsxRuntimeExports.jsx(FaPause,{}):jsxRuntimeExports.jsx(FaPlay,{}):" ..."}),jsxRuntimeExports.jsx("button",{className:styles$W.audioButton,onClick:ne,disabled:!B,"aria-label":"",children:B?jsxRuntimeExports.jsx(FaStop,{}):""})]})}function DocentSection({script:r}){const[x,y]=reactExports$1.useState(1),{isOpen:b,handleOpenModal:B}=useModal(),R=[.5,1,1.25,1.5,2];return console.log(b),jsxRuntimeExports.jsxs("section",{className:styles$X.sectionContainer,children:[jsxRuntimeExports.jsx(DocentAudioPlayer,{script:r,playbackRate:x}),jsxRuntimeExports.jsxs("div",{className:styles$X.controlsContainer,children:[b&&jsxRuntimeExports.jsx("div",{className:styles$X.speedContainer,children:R.map(I=>jsxRuntimeExports.jsxs("button",{className:`${styles$X.speedButton} ${I===x&&styles$X.clickedSpeedButton}`,onClick:()=>{y(I),B()},children:[I,"x"]},I))}),jsxRuntimeExports.jsxs("div",{className:styles$X.buttonField,children:[jsxRuntimeExports.jsx("span",{className:styles$X.optionSpan,children:""}),jsxRuntimeExports.jsxs("button",{className:styles$X.optionButton,onClick:B,children:[x,"x"]})]}),jsxRuntimeExports.jsxs("div",{className:styles$X.buttonField,children:[jsxRuntimeExports.jsx("span",{className:styles$X.optionSpan,children:" "}),jsxRuntimeExports.jsx("button",{className:styles$X.optionButton,onClick:()=>{alert("     .")},children:""})]})]})]})}const paginateScript$1=(r,x=300)=>Array.from({length:Math.ceil((r==null?void 0:r.length)/x)},(y,b)=>r.slice(b*x,(b+1)*x));function Artwork(){const[r,x]=reactExports$1.useState([]),{art_image:y,art_title:b,art_description:B,art_docent:R,artist_name:I}=r,{artId:O}=useParams();return paginateScript$1(R),reactExports$1.useEffect(()=>{(async()=>{try{const q=await instance.get(`/api/arts/${O}`);x(q.data)}catch(q){console.error(q),alert("    .")}})()},[]),jsxRuntimeExports.jsxs("main",{className:styles$Y.layout,children:[jsxRuntimeExports.jsx("h2",{className:styles$Y.title,children:b}),jsxRuntimeExports.jsxs("section",{className:styles$Y.mainContent,children:[jsxRuntimeExports.jsx("img",{src:y,alt:`${b} `,className:styles$Y.infoImage}),jsxRuntimeExports.jsx("div",{className:styles$Y.textContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$Y.textBox,children:[jsxRuntimeExports.jsx("strong",{children:""}),jsxRuntimeExports.jsx("span",{className:styles$Y.text,children:I})]})}),jsxRuntimeExports.jsx(DocentSection,{script:R})]})]})}const layout$i="_layout_1opcn_1",gridContainer="_gridContainer_1opcn_19",nonDataText="_nonDataText_1opcn_43",styles$V={layout:layout$i,gridContainer,nonDataText},layout$h="_layout_l90xy_1",artworkImage$3="_artworkImage_l90xy_27",artworkTitle$4="_artworkTitle_l90xy_43",subParagraph$1="_subParagraph_l90xy_63",styles$U={layout:layout$h,artworkImage:artworkImage$3,artworkTitle:artworkTitle$4,subParagraph:subParagraph$1};function ArtworkList$1({artworkItems:r}){const{id:x,art_image:y,art_title:b,art_description:B}=r,R=B?B.replace(/(<([^>]+)>)/gi,""):" ";return jsxRuntimeExports.jsxs(Link$1,{className:styles$U.layout,to:`/artworks/${x}`,children:[jsxRuntimeExports.jsx("img",{className:styles$U.artworkImage,src:y,alt:" "}),jsxRuntimeExports.jsx("h3",{className:styles$U.artworkTitle,children:b}),jsxRuntimeExports.jsx("p",{className:styles$U.subParagraph,children:R})]})}function ArtworkList(){const[r,x]=reactExports$1.useState([]),[y,b]=reactExports$1.useState(!0),{currentPage:B,setCurrentPage:R,pageItems:I}=usePagination(10,r),[O,G]=reactExports$1.useState({type:""});return reactExports$1.useEffect(()=>{(async()=>{try{b(!0);const ee=await instance.get("/api/arts");x(ee.data)}catch(ee){throw new Error(ee)}finally{b(!1)}})()},[O]),jsxRuntimeExports.jsxs("div",{className:styles$V.layout,children:[jsxRuntimeExports.jsx(ListHeader,{title:"",isArtworks:!0}),jsxRuntimeExports.jsx(TotalCounts,{num:r.length,label:""}),y&&jsxRuntimeExports.jsx(LoadingSpinner,{}),!y&&r.length===0&&jsxRuntimeExports.jsx("div",{className:styles$V.nonDataText,children:"  ."}),jsxRuntimeExports.jsx("div",{className:styles$V.gridContainer,children:I.map(q=>jsxRuntimeExports.jsx(ArtworkList$1,{artworkItems:q},q.id))}),r.length>0&&jsxRuntimeExports.jsx(Pagination,{currentPage:B,onPageChange:R,totalItems:r.length})]})}const catalogLayout="_catalogLayout_1rr2f_1",bodyContainer="_bodyContainer_1rr2f_19",overlay$4="_overlay_1rr2f_33",styles$T={catalogLayout,bodyContainer,overlay:overlay$4},titleBar="_titleBar_1jvc1_1",leftButtons="_leftButtons_1jvc1_23",rightButtons="_rightButtons_1jvc1_25",title$f="_title_1jvc1_1",button$1="_button_1jvc1_45",styles$S={titleBar,leftButtons,rightButtons,title:title$f,button:button$1};function CatalogTitle({onToggleIndex:r}){const x=useNavigate(),y=()=>{x("/mypage")};return jsxRuntimeExports.jsxs("div",{className:styles$S.titleBar,children:[jsxRuntimeExports.jsx("div",{className:styles$S.leftButtons,children:jsxRuntimeExports.jsx("button",{className:styles$S.button,onClick:r,children:" "})}),jsxRuntimeExports.jsx("h1",{className:styles$S.title,children:""}),jsxRuntimeExports.jsx("div",{className:styles$S.rightButtons,children:jsxRuntimeExports.jsx("button",{className:styles$S.button,onClick:y,children:" "})})]})}const indexContainer="_indexContainer_zrf7c_1",menuList="_menuList_zrf7c_37",active$2="_active_zrf7c_71",closeButton$4="_closeButton_zrf7c_81",styles$R={indexContainer,menuList,active:active$2,closeButton:closeButton$4},image2="/assets/mockCatalog-DwV1yhn-.png",mockCatalog=[{id:"cover",title:"",image:image2,artist:"",info:"  / 198161cm",script:`
   20                
   20                
   20                
   20                
   20                
  `},{id:"prologue",title:"",image:image2,artist:"",info:"  / 150150cm",script:`
   20                
   20                
   20                
   20                
   20                
  `}];function CatalogIndex({onSelect:r,currentIndex:x,sectionStarts:y,onClose:b}){const B=reactExports$1.useRef();return reactExports$1.useEffect(()=>{const R=O=>{B.current&&!B.current.contains(O.target)&&b()},I=O=>{O.key==="Escape"&&b()};return document.addEventListener("mousedown",R),document.addEventListener("keydown",I),()=>{document.removeEventListener("mousedown",R),document.removeEventListener("keydown",I)}},[b]),jsxRuntimeExports.jsxs("aside",{className:styles$R.indexContainer,ref:B,children:[jsxRuntimeExports.jsx("button",{className:styles$R.closeButton,onClick:b,children:""}),jsxRuntimeExports.jsx("ul",{className:styles$R.menuList,children:mockCatalog.map((R,I)=>jsxRuntimeExports.jsx("li",{className:I===x?styles$R.active:"",onClick:()=>r(y[I]),tabIndex:0,children:R.title},R.id))})]})}const container$7="_container_c1nh1_1",page$1="_page_c1nh1_23",image$3="_image_c1nh1_41",title$e="_title_c1nh1_55",meta$1="_meta_c1nh1_67",script="_script_c1nh1_79",arrowLeft="_arrowLeft_c1nh1_89",arrowRight="_arrowRight_c1nh1_91",pageCount="_pageCount_c1nh1_155",styles$Q={container:container$7,page:page$1,image:image$3,title:title$e,meta:meta$1,script,arrowLeft,arrowRight,pageCount};function CatalogContents({data:r,pageIndex:x,totalPages:y,onPrev:b,onNext:B,isFirst:R,isLast:I}){return jsxRuntimeExports.jsxs("div",{className:styles$Q.container,children:[!R&&jsxRuntimeExports.jsx("button",{onClick:b,className:styles$Q.arrowLeft,children:""}),!I&&jsxRuntimeExports.jsx("button",{onClick:B,className:styles$Q.arrowRight,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$Q.page,children:[r.image&&jsxRuntimeExports.jsx("img",{src:r.image,alt:r.title,className:styles$Q.image}),jsxRuntimeExports.jsx("h2",{className:styles$Q.title,children:r.title}),jsxRuntimeExports.jsxs("p",{className:styles$Q.meta,children:[r.artist,"  ",r.info]}),jsxRuntimeExports.jsx("p",{className:styles$Q.script,children:r.script}),jsxRuntimeExports.jsxs("p",{className:styles$Q.pageCount,children:[" ",x+1," / ",y]})]})]})}const paginateScript=(r,x=200)=>{const y=r.replace(/\n/g,"").trim();return Array.from({length:Math.ceil(y.length/x)},(b,B)=>y.slice(B*x,(B+1)*x))};function Catalog(){const[r,x]=reactExports$1.useState(!1),[y,b]=reactExports$1.useState(0),{allPages:B,sectionStarts:R}=reactExports$1.useMemo(()=>{const q=[],ee=[];return mockCatalog.forEach(ne=>{const oe=paginateScript(ne.script);ee.push(q.length),oe.forEach(pe=>{q.push({...ne,script:pe})})}),{allPages:q,sectionStarts:ee}},[]),I=()=>{b(q=>Math.max(0,q-1))},O=()=>{b(q=>Math.min(B.length-1,q+1))},G=reactExports$1.useMemo(()=>R.reduce((q,ee,ne)=>y>=ee?ne:q,0),[y,R]);return jsxRuntimeExports.jsxs("div",{className:styles$T.catalogLayout,children:[jsxRuntimeExports.jsx(CatalogTitle,{onToggleIndex:()=>x(q=>!q)}),jsxRuntimeExports.jsxs("div",{className:styles$T.bodyContainer,children:[r&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$T.overlay}),jsxRuntimeExports.jsx(CatalogIndex,{onSelect:q=>b(q),onClose:()=>x(!1),currentIndex:G,sectionStarts:R})]}),jsxRuntimeExports.jsx(CatalogContents,{data:B[y],pageIndex:y,totalPages:B.length,onPrev:I,onNext:O,isFirst:y===0,isLast:y===B.length-1})]})]})}var Html5QrcodeSupportedFormats;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Html5QrcodeSupportedFormats||(Html5QrcodeSupportedFormats={}));var html5QrcodeSupportedFormatsTextMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,"QR_CODE"],[Html5QrcodeSupportedFormats.AZTEC,"AZTEC"],[Html5QrcodeSupportedFormats.CODABAR,"CODABAR"],[Html5QrcodeSupportedFormats.CODE_39,"CODE_39"],[Html5QrcodeSupportedFormats.CODE_93,"CODE_93"],[Html5QrcodeSupportedFormats.CODE_128,"CODE_128"],[Html5QrcodeSupportedFormats.DATA_MATRIX,"DATA_MATRIX"],[Html5QrcodeSupportedFormats.MAXICODE,"MAXICODE"],[Html5QrcodeSupportedFormats.ITF,"ITF"],[Html5QrcodeSupportedFormats.EAN_13,"EAN_13"],[Html5QrcodeSupportedFormats.EAN_8,"EAN_8"],[Html5QrcodeSupportedFormats.PDF_417,"PDF_417"],[Html5QrcodeSupportedFormats.RSS_14,"RSS_14"],[Html5QrcodeSupportedFormats.RSS_EXPANDED,"RSS_EXPANDED"],[Html5QrcodeSupportedFormats.UPC_A,"UPC_A"],[Html5QrcodeSupportedFormats.UPC_E,"UPC_E"],[Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),DecodedTextType;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(DecodedTextType||(DecodedTextType={}));function isValidHtml5QrcodeSupportedFormats(r){return Object.values(Html5QrcodeSupportedFormats).includes(r)}var Html5QrcodeScanType;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Html5QrcodeScanType||(Html5QrcodeScanType={}));var Html5QrcodeConstants=(function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[Html5QrcodeScanType.SCAN_TYPE_CAMERA,Html5QrcodeScanType.SCAN_TYPE_FILE],r})(),QrcodeResultFormat=(function(){function r(x,y){this.format=x,this.formatName=y}return r.prototype.toString=function(){return this.formatName},r.create=function(x){if(!html5QrcodeSupportedFormatsTextMap.has(x))throw"".concat(x," not in html5QrcodeSupportedFormatsTextMap");return new r(x,html5QrcodeSupportedFormatsTextMap.get(x))},r})(),Html5QrcodeResultFactory=(function(){function r(){}return r.createFromText=function(x){var y={text:x};return{decodedText:x,result:y}},r.createFromQrcodeResult=function(x){return{decodedText:x.text,result:x}},r})(),Html5QrcodeErrorTypes;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Html5QrcodeErrorTypes||(Html5QrcodeErrorTypes={}));var Html5QrcodeErrorFactory=(function(){function r(){}return r.createFrom=function(x){return{errorMessage:x,type:Html5QrcodeErrorTypes.UNKWOWN_ERROR}},r})(),BaseLoggger=(function(){function r(x){this.verbose=x}return r.prototype.log=function(x){this.verbose&&console.log(x)},r.prototype.warn=function(x){this.verbose&&console.warn(x)},r.prototype.logError=function(x,y){(this.verbose||y===!0)&&console.error(x)},r.prototype.logErrors=function(x){if(x.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(x)},r})();function isNullOrUndefined(r){return typeof r>"u"||r===null}var Html5QrcodeStrings=(function(){function r(){}return r.codeParseError=function(x){return"QR code parse error, error = ".concat(x)},r.errorGettingUserMedia=function(x){return"Error getting userMedia, error = ".concat(x)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r})(),VideoConstraintsUtil=(function(){function r(){}return r.isMediaStreamConstraintsValid=function(x,y){if(typeof x!="object"){var b=typeof x;return y.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(b,"."),!0),!1}for(var B=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],R=new Set(B),I=Object.keys(x),O=0,G=I;O<G.length;O++){var q=G[O];if(R.has(q))return y.logError("".concat(q," is not supported videoConstaints."),!0),!1}return!0},r})(),zxingJs_umd$2={exports:{}},zxingJs_umd$1=zxingJs_umd$2.exports,hasRequiredZxingJs_umd;function requireZxingJs_umd(){return hasRequiredZxingJs_umd||(hasRequiredZxingJs_umd=1,(function(r,x){(function(y,b){b(x)})(zxingJs_umd$1,(function(y){function b(at){return at==null}var B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,K){at.__proto__=K}||function(at,K){for(var J in K)K.hasOwnProperty(J)&&(at[J]=K[J])};function R(at,K){B(at,K);function J(){this.constructor=at}at.prototype=K===null?Object.create(K):(J.prototype=K.prototype,new J)}function I(at,K){var J=Object.setPrototypeOf;J?J(at,K):at.__proto__=K}function O(at,K){K===void 0&&(K=at.constructor);var J=Error.captureStackTrace;J&&J(at,K)}var G=(function(at){R(K,at);function K(J){var te=this.constructor,ue=at.call(this,J)||this;return Object.defineProperty(ue,"name",{value:te.name,enumerable:!1}),I(ue,te.prototype),O(ue),ue}return K})(Error);class q extends G{constructor(K=void 0){super(K),this.message=K}getKind(){return this.constructor.kind}}q.kind="Exception";class ee extends q{}ee.kind="ArgumentException";class ne extends q{}ne.kind="IllegalArgumentException";class oe{constructor(K){if(this.binarizer=K,K===null)throw new ne("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(K,J){return this.binarizer.getBlackRow(K,J)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(K,J,te,ue){const fe=this.binarizer.getLuminanceSource().crop(K,J,te,ue);return new oe(this.binarizer.createBinarizer(fe))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const K=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new oe(this.binarizer.createBinarizer(K))}rotateCounterClockwise45(){const K=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new oe(this.binarizer.createBinarizer(K))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class pe extends q{static getChecksumInstance(){return new pe}}pe.kind="ChecksumException";class xe{constructor(K){this.source=K}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _e{static arraycopy(K,J,te,ue,fe){for(;fe--;)te[ue++]=K[J++]}static currentTimeMillis(){return Date.now()}}class Ue extends q{}Ue.kind="IndexOutOfBoundsException";class Le extends Ue{constructor(K=void 0,J=void 0){super(J),this.index=K,this.message=J}}Le.kind="ArrayIndexOutOfBoundsException";class He{static fill(K,J){for(let te=0,ue=K.length;te<ue;te++)K[te]=J}static fillWithin(K,J,te,ue){He.rangeCheck(K.length,J,te);for(let fe=J;fe<te;fe++)K[fe]=ue}static rangeCheck(K,J,te){if(J>te)throw new ne("fromIndex("+J+") > toIndex("+te+")");if(J<0)throw new Le(J);if(te>K)throw new Le(te)}static asList(...K){return K}static create(K,J,te){return Array.from({length:K}).map(fe=>Array.from({length:J}).fill(te))}static createInt32Array(K,J,te){return Array.from({length:K}).map(fe=>Int32Array.from({length:J}).fill(te))}static equals(K,J){if(!K||!J||!K.length||!J.length||K.length!==J.length)return!1;for(let te=0,ue=K.length;te<ue;te++)if(K[te]!==J[te])return!1;return!0}static hashCode(K){if(K===null)return 0;let J=1;for(const te of K)J=31*J+te;return J}static fillUint8Array(K,J){for(let te=0;te!==K.length;te++)K[te]=J}static copyOf(K,J){return K.slice(0,J)}static copyOfUint8Array(K,J){if(K.length<=J){const te=new Uint8Array(J);return te.set(K),te}return K.slice(0,J)}static copyOfRange(K,J,te){const ue=te-J,fe=new Int32Array(ue);return _e.arraycopy(K,J,fe,0,ue),fe}static binarySearch(K,J,te){te===void 0&&(te=He.numberComparator);let ue=0,fe=K.length-1;for(;ue<=fe;){const Be=fe+ue>>1,je=te(J,K[Be]);if(je>0)ue=Be+1;else if(je<0)fe=Be-1;else return Be}return-ue-1}static numberComparator(K,J){return K-J}}class $e{static numberOfTrailingZeros(K){let J;if(K===0)return 32;let te=31;return J=K<<16,J!==0&&(te-=16,K=J),J=K<<8,J!==0&&(te-=8,K=J),J=K<<4,J!==0&&(te-=4,K=J),J=K<<2,J!==0&&(te-=2,K=J),te-(K<<1>>>31)}static numberOfLeadingZeros(K){if(K===0)return 32;let J=1;return K>>>16||(J+=16,K<<=16),K>>>24||(J+=8,K<<=8),K>>>28||(J+=4,K<<=4),K>>>30||(J+=2,K<<=2),J-=K>>>31,J}static toHexString(K){return K.toString(16)}static toBinaryString(K){return String(parseInt(String(K),2))}static bitCount(K){return K=K-(K>>>1&1431655765),K=(K&858993459)+(K>>>2&858993459),K=K+(K>>>4)&252645135,K=K+(K>>>8),K=K+(K>>>16),K&63}static truncDivision(K,J){return Math.trunc(K/J)}static parseInt(K,J=void 0){return parseInt(K,J)}}$e.MIN_VALUE_32_BITS=-2147483648,$e.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ne{constructor(K,J){K===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=K,J==null?this.bits=Ne.makeArray(K):this.bits=J)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(K){if(K>this.bits.length*32){const J=Ne.makeArray(K);_e.arraycopy(this.bits,0,J,0,this.bits.length),this.bits=J}}get(K){return(this.bits[Math.floor(K/32)]&1<<(K&31))!==0}set(K){this.bits[Math.floor(K/32)]|=1<<(K&31)}flip(K){this.bits[Math.floor(K/32)]^=1<<(K&31)}getNextSet(K){const J=this.size;if(K>=J)return J;const te=this.bits;let ue=Math.floor(K/32),fe=te[ue];fe&=~((1<<(K&31))-1);const Be=te.length;for(;fe===0;){if(++ue===Be)return J;fe=te[ue]}const je=ue*32+$e.numberOfTrailingZeros(fe);return je>J?J:je}getNextUnset(K){const J=this.size;if(K>=J)return J;const te=this.bits;let ue=Math.floor(K/32),fe=~te[ue];fe&=~((1<<(K&31))-1);const Be=te.length;for(;fe===0;){if(++ue===Be)return J;fe=~te[ue]}const je=ue*32+$e.numberOfTrailingZeros(fe);return je>J?J:je}setBulk(K,J){this.bits[Math.floor(K/32)]=J}setRange(K,J){if(J<K||K<0||J>this.size)throw new ne;if(J===K)return;J--;const te=Math.floor(K/32),ue=Math.floor(J/32),fe=this.bits;for(let Be=te;Be<=ue;Be++){const je=Be>te?0:K&31,qe=(2<<(Be<ue?31:J&31))-(1<<je);fe[Be]|=qe}}clear(){const K=this.bits.length,J=this.bits;for(let te=0;te<K;te++)J[te]=0}isRange(K,J,te){if(J<K||K<0||J>this.size)throw new ne;if(J===K)return!0;J--;const ue=Math.floor(K/32),fe=Math.floor(J/32),Be=this.bits;for(let je=ue;je<=fe;je++){const ze=je>ue?0:K&31,nt=(2<<(je<fe?31:J&31))-(1<<ze)&4294967295;if((Be[je]&nt)!==(te?nt:0))return!1}return!0}appendBit(K){this.ensureCapacity(this.size+1),K&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(K,J){if(J<0||J>32)throw new ne("Num bits must be between 0 and 32");this.ensureCapacity(this.size+J);for(let te=J;te>0;te--)this.appendBit((K>>te-1&1)===1)}appendBitArray(K){const J=K.size;this.ensureCapacity(this.size+J);for(let te=0;te<J;te++)this.appendBit(K.get(te))}xor(K){if(this.size!==K.size)throw new ne("Sizes don't match");const J=this.bits;for(let te=0,ue=J.length;te<ue;te++)J[te]^=K.bits[te]}toBytes(K,J,te,ue){for(let fe=0;fe<ue;fe++){let Be=0;for(let je=0;je<8;je++)this.get(K)&&(Be|=1<<7-je),K++;J[te+fe]=Be}}getBitArray(){return this.bits}reverse(){const K=new Int32Array(this.bits.length),J=Math.floor((this.size-1)/32),te=J+1,ue=this.bits;for(let fe=0;fe<te;fe++){let Be=ue[fe];Be=Be>>1&1431655765|(Be&1431655765)<<1,Be=Be>>2&858993459|(Be&858993459)<<2,Be=Be>>4&252645135|(Be&252645135)<<4,Be=Be>>8&16711935|(Be&16711935)<<8,Be=Be>>16&65535|(Be&65535)<<16,K[J-fe]=Be}if(this.size!==te*32){const fe=te*32-this.size;let Be=K[0]>>>fe;for(let je=1;je<te;je++){const ze=K[je];Be|=ze<<32-fe,K[je-1]=Be,Be=ze>>>fe}K[te-1]=Be}this.bits=K}static makeArray(K){return new Int32Array(Math.floor((K+31)/32))}equals(K){if(!(K instanceof Ne))return!1;const J=K;return this.size===J.size&&He.equals(this.bits,J.bits)}hashCode(){return 31*this.size+He.hashCode(this.bits)}toString(){let K="";for(let J=0,te=this.size;J<te;J++)(J&7)===0&&(K+=" "),K+=this.get(J)?"X":".";return K}clone(){return new Ne(this.size,this.bits.slice())}}var Qe;(function(at){at[at.OTHER=0]="OTHER",at[at.PURE_BARCODE=1]="PURE_BARCODE",at[at.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",at[at.TRY_HARDER=3]="TRY_HARDER",at[at.CHARACTER_SET=4]="CHARACTER_SET",at[at.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",at[at.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",at[at.ASSUME_GS1=7]="ASSUME_GS1",at[at.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",at[at.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",at[at.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Qe||(Qe={}));var We=Qe;class Ge extends q{static getFormatInstance(){return new Ge}}Ge.kind="FormatException";var Xe;(function(at){at[at.Cp437=0]="Cp437",at[at.ISO8859_1=1]="ISO8859_1",at[at.ISO8859_2=2]="ISO8859_2",at[at.ISO8859_3=3]="ISO8859_3",at[at.ISO8859_4=4]="ISO8859_4",at[at.ISO8859_5=5]="ISO8859_5",at[at.ISO8859_6=6]="ISO8859_6",at[at.ISO8859_7=7]="ISO8859_7",at[at.ISO8859_8=8]="ISO8859_8",at[at.ISO8859_9=9]="ISO8859_9",at[at.ISO8859_10=10]="ISO8859_10",at[at.ISO8859_11=11]="ISO8859_11",at[at.ISO8859_13=12]="ISO8859_13",at[at.ISO8859_14=13]="ISO8859_14",at[at.ISO8859_15=14]="ISO8859_15",at[at.ISO8859_16=15]="ISO8859_16",at[at.SJIS=16]="SJIS",at[at.Cp1250=17]="Cp1250",at[at.Cp1251=18]="Cp1251",at[at.Cp1252=19]="Cp1252",at[at.Cp1256=20]="Cp1256",at[at.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",at[at.UTF8=22]="UTF8",at[at.ASCII=23]="ASCII",at[at.Big5=24]="Big5",at[at.GB18030=25]="GB18030",at[at.EUC_KR=26]="EUC_KR"})(Xe||(Xe={}));class Je{constructor(K,J,te,...ue){this.valueIdentifier=K,this.name=te,typeof J=="number"?this.values=Int32Array.from([J]):this.values=J,this.otherEncodingNames=ue,Je.VALUE_IDENTIFIER_TO_ECI.set(K,this),Je.NAME_TO_ECI.set(te,this);const fe=this.values;for(let Be=0,je=fe.length;Be!==je;Be++){const ze=fe[Be];Je.VALUES_TO_ECI.set(ze,this)}for(const Be of ue)Je.NAME_TO_ECI.set(Be,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(K){if(K<0||K>=900)throw new Ge("incorect value");const J=Je.VALUES_TO_ECI.get(K);if(J===void 0)throw new Ge("incorect value");return J}static getCharacterSetECIByName(K){const J=Je.NAME_TO_ECI.get(K);if(J===void 0)throw new Ge("incorect value");return J}equals(K){if(!(K instanceof Je))return!1;const J=K;return this.getName()===J.getName()}}Je.VALUE_IDENTIFIER_TO_ECI=new Map,Je.VALUES_TO_ECI=new Map,Je.NAME_TO_ECI=new Map,Je.Cp437=new Je(Xe.Cp437,Int32Array.from([0,2]),"Cp437"),Je.ISO8859_1=new Je(Xe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Je.ISO8859_2=new Je(Xe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Je.ISO8859_3=new Je(Xe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Je.ISO8859_4=new Je(Xe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Je.ISO8859_5=new Je(Xe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Je.ISO8859_6=new Je(Xe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Je.ISO8859_7=new Je(Xe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Je.ISO8859_8=new Je(Xe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Je.ISO8859_9=new Je(Xe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Je.ISO8859_10=new Je(Xe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Je.ISO8859_11=new Je(Xe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Je.ISO8859_13=new Je(Xe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Je.ISO8859_14=new Je(Xe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Je.ISO8859_15=new Je(Xe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Je.ISO8859_16=new Je(Xe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Je.SJIS=new Je(Xe.SJIS,20,"SJIS","Shift_JIS"),Je.Cp1250=new Je(Xe.Cp1250,21,"Cp1250","windows-1250"),Je.Cp1251=new Je(Xe.Cp1251,22,"Cp1251","windows-1251"),Je.Cp1252=new Je(Xe.Cp1252,23,"Cp1252","windows-1252"),Je.Cp1256=new Je(Xe.Cp1256,24,"Cp1256","windows-1256"),Je.UnicodeBigUnmarked=new Je(Xe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Je.UTF8=new Je(Xe.UTF8,26,"UTF8","UTF-8"),Je.ASCII=new Je(Xe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Je.Big5=new Je(Xe.Big5,28,"Big5"),Je.GB18030=new Je(Xe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Je.EUC_KR=new Je(Xe.EUC_KR,30,"EUC_KR","EUC-KR");class ut extends q{}ut.kind="UnsupportedOperationException";class ft{static decode(K,J){const te=this.encodingName(J);return this.customDecoder?this.customDecoder(K,te):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(te)?this.decodeFallback(K,te):new TextDecoder(te).decode(K)}static shouldDecodeOnFallback(K){return!ft.isBrowser()&&K==="ISO-8859-1"}static encode(K,J){const te=this.encodingName(J);return this.customEncoder?this.customEncoder(K,te):typeof TextEncoder>"u"?this.encodeFallback(K):new TextEncoder().encode(K)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(K){return typeof K=="string"?K:K.getName()}static encodingCharacterSet(K){return K instanceof Je?K:Je.getCharacterSetECIByName(K)}static decodeFallback(K,J){const te=this.encodingCharacterSet(J);if(ft.isDecodeFallbackSupported(te)){let ue="";for(let fe=0,Be=K.length;fe<Be;fe++){let je=K[fe].toString(16);je.length<2&&(je="0"+je),ue+="%"+je}return decodeURIComponent(ue)}if(te.equals(Je.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(K.buffer));throw new ut(`Encoding ${this.encodingName(J)} not supported by fallback.`)}static isDecodeFallbackSupported(K){return K.equals(Je.UTF8)||K.equals(Je.ISO8859_1)||K.equals(Je.ASCII)}static encodeFallback(K){const te=btoa(unescape(encodeURIComponent(K))).split(""),ue=[];for(let fe=0;fe<te.length;fe++)ue.push(te[fe].charCodeAt(0));return new Uint8Array(ue)}}class ct{static castAsNonUtf8Char(K,J=null){const te=J?J.getName():this.ISO88591;return ft.decode(new Uint8Array([K]),te)}static guessEncoding(K,J){if(J!=null&&J.get(We.CHARACTER_SET)!==void 0)return J.get(We.CHARACTER_SET).toString();const te=K.length;let ue=!0,fe=!0,Be=!0,je=0,ze=0,qe=0,nt=0,ot=0,At=0,xt=0,bt=0,St=0,Nt=0,Lt=0;const Yt=K.length>3&&K[0]===239&&K[1]===187&&K[2]===191;for(let Xt=0;Xt<te&&(ue||fe||Be);Xt++){const Wt=K[Xt]&255;Be&&(je>0?(Wt&128)===0?Be=!1:je--:(Wt&128)!==0&&((Wt&64)===0?Be=!1:(je++,(Wt&32)===0?ze++:(je++,(Wt&16)===0?qe++:(je++,(Wt&8)===0?nt++:Be=!1))))),ue&&(Wt>127&&Wt<160?ue=!1:Wt>159&&(Wt<192||Wt===215||Wt===247)&&Lt++),fe&&(ot>0?Wt<64||Wt===127||Wt>252?fe=!1:ot--:Wt===128||Wt===160||Wt>239?fe=!1:Wt>160&&Wt<224?(At++,bt=0,xt++,xt>St&&(St=xt)):Wt>127?(ot++,xt=0,bt++,bt>Nt&&(Nt=bt)):(xt=0,bt=0))}return Be&&je>0&&(Be=!1),fe&&ot>0&&(fe=!1),Be&&(Yt||ze+qe+nt>0)?ct.UTF8:fe&&(ct.ASSUME_SHIFT_JIS||St>=3||Nt>=3)?ct.SHIFT_JIS:ue&&fe?St===2&&At===2||Lt*10>=te?ct.SHIFT_JIS:ct.ISO88591:ue?ct.ISO88591:fe?ct.SHIFT_JIS:Be?ct.UTF8:ct.PLATFORM_DEFAULT_ENCODING}static format(K,...J){let te=-1;function ue(Be,je,ze,qe,nt,ot){if(Be==="%%")return"%";if(J[++te]===void 0)return;Be=qe?parseInt(qe.substr(1)):void 0;let At=nt?parseInt(nt.substr(1)):void 0,xt;switch(ot){case"s":xt=J[te];break;case"c":xt=J[te][0];break;case"f":xt=parseFloat(J[te]).toFixed(Be);break;case"p":xt=parseFloat(J[te]).toPrecision(Be);break;case"e":xt=parseFloat(J[te]).toExponential(Be);break;case"x":xt=parseInt(J[te]).toString(At||16);break;case"d":xt=parseFloat(parseInt(J[te],At||10).toPrecision(Be)).toFixed(0);break}xt=typeof xt=="object"?JSON.stringify(xt):(+xt).toString(At);let bt=parseInt(ze),St=ze&&ze[0]+""=="0"?"0":" ";for(;xt.length<bt;)xt=je!==void 0?xt+St:St+xt;return xt}let fe=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return K.replace(fe,ue)}static getBytes(K,J){return ft.encode(K,J)}static getCharCode(K,J=0){return K.charCodeAt(J)}static getCharAt(K){return String.fromCharCode(K)}}ct.SHIFT_JIS=Je.SJIS.getName(),ct.GB2312="GB2312",ct.ISO88591=Je.ISO8859_1.getName(),ct.EUC_JP="EUC_JP",ct.UTF8=Je.UTF8.getName(),ct.PLATFORM_DEFAULT_ENCODING=ct.UTF8,ct.ASSUME_SHIFT_JIS=!1;class pt{constructor(K=""){this.value=K}enableDecoding(K){return this.encoding=K,this}append(K){return typeof K=="string"?this.value+=K.toString():this.encoding?this.value+=ct.castAsNonUtf8Char(K,this.encoding):this.value+=String.fromCharCode(K),this}appendChars(K,J,te){for(let ue=J;J<J+te;ue++)this.append(K[ue]);return this}length(){return this.value.length}charAt(K){return this.value.charAt(K)}deleteCharAt(K){this.value=this.value.substr(0,K)+this.value.substring(K+1)}setCharAt(K,J){this.value=this.value.substr(0,K)+J+this.value.substr(K+1)}substring(K,J){return this.value.substring(K,J)}setLengthToZero(){this.value=""}toString(){return this.value}insert(K,J){this.value=this.value.substr(0,K)+J+this.value.substr(K+J.length)}}class yt{constructor(K,J,te,ue){if(this.width=K,this.height=J,this.rowSize=te,this.bits=ue,J==null&&(J=K),this.height=J,K<1||J<1)throw new ne("Both dimensions must be greater than 0");te==null&&(te=Math.floor((K+31)/32)),this.rowSize=te,ue==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(K){const J=K.length,te=K[0].length,ue=new yt(te,J);for(let fe=0;fe<J;fe++){const Be=K[fe];for(let je=0;je<te;je++)Be[je]&&ue.set(je,fe)}return ue}static parseFromString(K,J,te){if(K===null)throw new ne("stringRepresentation cannot be null");const ue=new Array(K.length);let fe=0,Be=0,je=-1,ze=0,qe=0;for(;qe<K.length;)if(K.charAt(qe)===`
`||K.charAt(qe)==="\r"){if(fe>Be){if(je===-1)je=fe-Be;else if(fe-Be!==je)throw new ne("row lengths do not match");Be=fe,ze++}qe++}else if(K.substring(qe,qe+J.length)===J)qe+=J.length,ue[fe]=!0,fe++;else if(K.substring(qe,qe+te.length)===te)qe+=te.length,ue[fe]=!1,fe++;else throw new ne("illegal character encountered: "+K.substring(qe));if(fe>Be){if(je===-1)je=fe-Be;else if(fe-Be!==je)throw new ne("row lengths do not match");ze++}const nt=new yt(je,ze);for(let ot=0;ot<fe;ot++)ue[ot]&&nt.set(Math.floor(ot%je),Math.floor(ot/je));return nt}get(K,J){const te=J*this.rowSize+Math.floor(K/32);return(this.bits[te]>>>(K&31)&1)!==0}set(K,J){const te=J*this.rowSize+Math.floor(K/32);this.bits[te]|=1<<(K&31)&4294967295}unset(K,J){const te=J*this.rowSize+Math.floor(K/32);this.bits[te]&=~(1<<(K&31)&4294967295)}flip(K,J){const te=J*this.rowSize+Math.floor(K/32);this.bits[te]^=1<<(K&31)&4294967295}xor(K){if(this.width!==K.getWidth()||this.height!==K.getHeight()||this.rowSize!==K.getRowSize())throw new ne("input matrix dimensions do not match");const J=new Ne(Math.floor(this.width/32)+1),te=this.rowSize,ue=this.bits;for(let fe=0,Be=this.height;fe<Be;fe++){const je=fe*te,ze=K.getRow(fe,J).getBitArray();for(let qe=0;qe<te;qe++)ue[je+qe]^=ze[qe]}}clear(){const K=this.bits,J=K.length;for(let te=0;te<J;te++)K[te]=0}setRegion(K,J,te,ue){if(J<0||K<0)throw new ne("Left and top must be nonnegative");if(ue<1||te<1)throw new ne("Height and width must be at least 1");const fe=K+te,Be=J+ue;if(Be>this.height||fe>this.width)throw new ne("The region must fit inside the matrix");const je=this.rowSize,ze=this.bits;for(let qe=J;qe<Be;qe++){const nt=qe*je;for(let ot=K;ot<fe;ot++)ze[nt+Math.floor(ot/32)]|=1<<(ot&31)&4294967295}}getRow(K,J){J==null||J.getSize()<this.width?J=new Ne(this.width):J.clear();const te=this.rowSize,ue=this.bits,fe=K*te;for(let Be=0;Be<te;Be++)J.setBulk(Be*32,ue[fe+Be]);return J}setRow(K,J){_e.arraycopy(J.getBitArray(),0,this.bits,K*this.rowSize,this.rowSize)}rotate180(){const K=this.getWidth(),J=this.getHeight();let te=new Ne(K),ue=new Ne(K);for(let fe=0,Be=Math.floor((J+1)/2);fe<Be;fe++)te=this.getRow(fe,te),ue=this.getRow(J-1-fe,ue),te.reverse(),ue.reverse(),this.setRow(fe,ue),this.setRow(J-1-fe,te)}getEnclosingRectangle(){const K=this.width,J=this.height,te=this.rowSize,ue=this.bits;let fe=K,Be=J,je=-1,ze=-1;for(let qe=0;qe<J;qe++)for(let nt=0;nt<te;nt++){const ot=ue[qe*te+nt];if(ot!==0){if(qe<Be&&(Be=qe),qe>ze&&(ze=qe),nt*32<fe){let At=0;for(;(ot<<31-At&4294967295)===0;)At++;nt*32+At<fe&&(fe=nt*32+At)}if(nt*32+31>je){let At=31;for(;!(ot>>>At);)At--;nt*32+At>je&&(je=nt*32+At)}}}return je<fe||ze<Be?null:Int32Array.from([fe,Be,je-fe+1,ze-Be+1])}getTopLeftOnBit(){const K=this.rowSize,J=this.bits;let te=0;for(;te<J.length&&J[te]===0;)te++;if(te===J.length)return null;const ue=te/K;let fe=te%K*32;const Be=J[te];let je=0;for(;(Be<<31-je&4294967295)===0;)je++;return fe+=je,Int32Array.from([fe,ue])}getBottomRightOnBit(){const K=this.rowSize,J=this.bits;let te=J.length-1;for(;te>=0&&J[te]===0;)te--;if(te<0)return null;const ue=Math.floor(te/K);let fe=Math.floor(te%K)*32;const Be=J[te];let je=31;for(;!(Be>>>je);)je--;return fe+=je,Int32Array.from([fe,ue])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(K){if(!(K instanceof yt))return!1;const J=K;return this.width===J.width&&this.height===J.height&&this.rowSize===J.rowSize&&He.equals(this.bits,J.bits)}hashCode(){let K=this.width;return K=31*K+this.width,K=31*K+this.height,K=31*K+this.rowSize,K=31*K+He.hashCode(this.bits),K}toString(K="X ",J="  ",te=`
`){return this.buildToString(K,J,te)}buildToString(K,J,te){let ue=new pt;for(let fe=0,Be=this.height;fe<Be;fe++){for(let je=0,ze=this.width;je<ze;je++)ue.append(this.get(je,fe)?K:J);ue.append(te)}return ue.toString()}clone(){return new yt(this.width,this.height,this.rowSize,this.bits.slice())}}class lt extends q{static getNotFoundInstance(){return new lt}}lt.kind="NotFoundException";class Ze extends xe{constructor(K){super(K),this.luminances=Ze.EMPTY,this.buckets=new Int32Array(Ze.LUMINANCE_BUCKETS)}getBlackRow(K,J){const te=this.getLuminanceSource(),ue=te.getWidth();J==null||J.getSize()<ue?J=new Ne(ue):J.clear(),this.initArrays(ue);const fe=te.getRow(K,this.luminances),Be=this.buckets;for(let ze=0;ze<ue;ze++)Be[(fe[ze]&255)>>Ze.LUMINANCE_SHIFT]++;const je=Ze.estimateBlackPoint(Be);if(ue<3)for(let ze=0;ze<ue;ze++)(fe[ze]&255)<je&&J.set(ze);else{let ze=fe[0]&255,qe=fe[1]&255;for(let nt=1;nt<ue-1;nt++){const ot=fe[nt+1]&255;(qe*4-ze-ot)/2<je&&J.set(nt),ze=qe,qe=ot}}return J}getBlackMatrix(){const K=this.getLuminanceSource(),J=K.getWidth(),te=K.getHeight(),ue=new yt(J,te);this.initArrays(J);const fe=this.buckets;for(let ze=1;ze<5;ze++){const qe=Math.floor(te*ze/5),nt=K.getRow(qe,this.luminances),ot=Math.floor(J*4/5);for(let At=Math.floor(J/5);At<ot;At++){const xt=nt[At]&255;fe[xt>>Ze.LUMINANCE_SHIFT]++}}const Be=Ze.estimateBlackPoint(fe),je=K.getMatrix();for(let ze=0;ze<te;ze++){const qe=ze*J;for(let nt=0;nt<J;nt++)(je[qe+nt]&255)<Be&&ue.set(nt,ze)}return ue}createBinarizer(K){return new Ze(K)}initArrays(K){this.luminances.length<K&&(this.luminances=new Uint8ClampedArray(K));const J=this.buckets;for(let te=0;te<Ze.LUMINANCE_BUCKETS;te++)J[te]=0}static estimateBlackPoint(K){const J=K.length;let te=0,ue=0,fe=0;for(let nt=0;nt<J;nt++)K[nt]>fe&&(ue=nt,fe=K[nt]),K[nt]>te&&(te=K[nt]);let Be=0,je=0;for(let nt=0;nt<J;nt++){const ot=nt-ue,At=K[nt]*ot*ot;At>je&&(Be=nt,je=At)}if(ue>Be){const nt=ue;ue=Be,Be=nt}if(Be-ue<=J/16)throw new lt;let ze=Be-1,qe=-1;for(let nt=Be-1;nt>ue;nt--){const ot=nt-ue,At=ot*ot*(Be-nt)*(te-K[nt]);At>qe&&(ze=nt,qe=At)}return ze<<Ze.LUMINANCE_SHIFT}}Ze.LUMINANCE_BITS=5,Ze.LUMINANCE_SHIFT=8-Ze.LUMINANCE_BITS,Ze.LUMINANCE_BUCKETS=1<<Ze.LUMINANCE_BITS,Ze.EMPTY=Uint8ClampedArray.from([0]);class it extends Ze{constructor(K){super(K),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const K=this.getLuminanceSource(),J=K.getWidth(),te=K.getHeight();if(J>=it.MINIMUM_DIMENSION&&te>=it.MINIMUM_DIMENSION){const ue=K.getMatrix();let fe=J>>it.BLOCK_SIZE_POWER;(J&it.BLOCK_SIZE_MASK)!==0&&fe++;let Be=te>>it.BLOCK_SIZE_POWER;(te&it.BLOCK_SIZE_MASK)!==0&&Be++;const je=it.calculateBlackPoints(ue,fe,Be,J,te),ze=new yt(J,te);it.calculateThresholdForBlock(ue,fe,Be,J,te,je,ze),this.matrix=ze}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(K){return new it(K)}static calculateThresholdForBlock(K,J,te,ue,fe,Be,je){const ze=fe-it.BLOCK_SIZE,qe=ue-it.BLOCK_SIZE;for(let nt=0;nt<te;nt++){let ot=nt<<it.BLOCK_SIZE_POWER;ot>ze&&(ot=ze);const At=it.cap(nt,2,te-3);for(let xt=0;xt<J;xt++){let bt=xt<<it.BLOCK_SIZE_POWER;bt>qe&&(bt=qe);const St=it.cap(xt,2,J-3);let Nt=0;for(let Yt=-2;Yt<=2;Yt++){const Xt=Be[At+Yt];Nt+=Xt[St-2]+Xt[St-1]+Xt[St]+Xt[St+1]+Xt[St+2]}const Lt=Nt/25;it.thresholdBlock(K,bt,ot,Lt,ue,je)}}}static cap(K,J,te){return K<J?J:K>te?te:K}static thresholdBlock(K,J,te,ue,fe,Be){for(let je=0,ze=te*fe+J;je<it.BLOCK_SIZE;je++,ze+=fe)for(let qe=0;qe<it.BLOCK_SIZE;qe++)(K[ze+qe]&255)<=ue&&Be.set(J+qe,te+je)}static calculateBlackPoints(K,J,te,ue,fe){const Be=fe-it.BLOCK_SIZE,je=ue-it.BLOCK_SIZE,ze=new Array(te);for(let qe=0;qe<te;qe++){ze[qe]=new Int32Array(J);let nt=qe<<it.BLOCK_SIZE_POWER;nt>Be&&(nt=Be);for(let ot=0;ot<J;ot++){let At=ot<<it.BLOCK_SIZE_POWER;At>je&&(At=je);let xt=0,bt=255,St=0;for(let Lt=0,Yt=nt*ue+At;Lt<it.BLOCK_SIZE;Lt++,Yt+=ue){for(let Xt=0;Xt<it.BLOCK_SIZE;Xt++){const Wt=K[Yt+Xt]&255;xt+=Wt,Wt<bt&&(bt=Wt),Wt>St&&(St=Wt)}if(St-bt>it.MIN_DYNAMIC_RANGE)for(Lt++,Yt+=ue;Lt<it.BLOCK_SIZE;Lt++,Yt+=ue)for(let Xt=0;Xt<it.BLOCK_SIZE;Xt++)xt+=K[Yt+Xt]&255}let Nt=xt>>it.BLOCK_SIZE_POWER*2;if(St-bt<=it.MIN_DYNAMIC_RANGE&&(Nt=bt/2,qe>0&&ot>0)){const Lt=(ze[qe-1][ot]+2*ze[qe][ot-1]+ze[qe-1][ot-1])/4;bt<Lt&&(Nt=Lt)}ze[qe][ot]=Nt}}return ze}}it.BLOCK_SIZE_POWER=3,it.BLOCK_SIZE=1<<it.BLOCK_SIZE_POWER,it.BLOCK_SIZE_MASK=it.BLOCK_SIZE-1,it.MINIMUM_DIMENSION=it.BLOCK_SIZE*5,it.MIN_DYNAMIC_RANGE=24;class Ye{constructor(K,J){this.width=K,this.height=J}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(K,J,te,ue){throw new ut("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ut("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ut("This luminance source does not support rotation by 45 degrees.")}toString(){const K=new Uint8ClampedArray(this.width);let J=new pt;for(let te=0;te<this.height;te++){const ue=this.getRow(te,K);for(let fe=0;fe<this.width;fe++){const Be=ue[fe]&255;let je;Be<64?je="#":Be<128?je="+":Be<192?je=".":je=" ",J.append(je)}J.append(`
`)}return J.toString()}}class et extends Ye{constructor(K){super(K.getWidth(),K.getHeight()),this.delegate=K}getRow(K,J){const te=this.delegate.getRow(K,J),ue=this.getWidth();for(let fe=0;fe<ue;fe++)te[fe]=255-(te[fe]&255);return te}getMatrix(){const K=this.delegate.getMatrix(),J=this.getWidth()*this.getHeight(),te=new Uint8ClampedArray(J);for(let ue=0;ue<J;ue++)te[ue]=255-(K[ue]&255);return te}isCropSupported(){return this.delegate.isCropSupported()}crop(K,J,te,ue){return new et(this.delegate.crop(K,J,te,ue))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new et(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new et(this.delegate.rotateCounterClockwise45())}}class gt extends Ye{constructor(K){super(K.width,K.height),this.canvas=K,this.tempCanvasElement=null,this.buffer=gt.makeBufferFromCanvasImageData(K)}static makeBufferFromCanvasImageData(K){const J=K.getContext("2d").getImageData(0,0,K.width,K.height);return gt.toGrayscaleBuffer(J.data,K.width,K.height)}static toGrayscaleBuffer(K,J,te){const ue=new Uint8ClampedArray(J*te);for(let fe=0,Be=0,je=K.length;fe<je;fe+=4,Be++){let ze;if(K[fe+3]===0)ze=255;else{const nt=K[fe],ot=K[fe+1],At=K[fe+2];ze=306*nt+601*ot+117*At+512>>10}ue[Be]=ze}return ue}getRow(K,J){if(K<0||K>=this.getHeight())throw new ne("Requested row is outside the image: "+K);const te=this.getWidth(),ue=K*te;return J===null?J=this.buffer.slice(ue,ue+te):(J.length<te&&(J=new Uint8ClampedArray(te)),J.set(this.buffer.slice(ue,ue+te))),J}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(K,J,te,ue){return super.crop(K,J,te,ue),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const K=this.canvas.ownerDocument.createElement("canvas");K.width=this.canvas.width,K.height=this.canvas.height,this.tempCanvasElement=K}return this.tempCanvasElement}rotate(K){const J=this.getTempCanvasElement(),te=J.getContext("2d"),ue=K*gt.DEGREE_TO_RADIANS,fe=this.canvas.width,Be=this.canvas.height,je=Math.ceil(Math.abs(Math.cos(ue))*fe+Math.abs(Math.sin(ue))*Be),ze=Math.ceil(Math.abs(Math.sin(ue))*fe+Math.abs(Math.cos(ue))*Be);return J.width=je,J.height=ze,te.translate(je/2,ze/2),te.rotate(ue),te.drawImage(this.canvas,fe/-2,Be/-2),this.buffer=gt.makeBufferFromCanvasImageData(J),this}invert(){return new et(this)}}gt.DEGREE_TO_RADIANS=Math.PI/180;class st{constructor(K,J,te){this.deviceId=K,this.label=J,this.kind="videoinput",this.groupId=te||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ht=(globalThis||commonjsGlobal||self||window||void 0)&&(globalThis||commonjsGlobal||self||window||void 0).__awaiter||function(at,K,J,te){function ue(fe){return fe instanceof J?fe:new J(function(Be){Be(fe)})}return new(J||(J=Promise))(function(fe,Be){function je(nt){try{qe(te.next(nt))}catch(ot){Be(ot)}}function ze(nt){try{qe(te.throw(nt))}catch(ot){Be(ot)}}function qe(nt){nt.done?fe(nt.value):ue(nt.value).then(je,ze)}qe((te=te.apply(at,K||[])).next())})};class vt{constructor(K,J=500,te){this.reader=K,this.timeBetweenScansMillis=J,this._hints=te,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(K){this._timeBetweenDecodingAttempts=K<0?0:K}set hints(K){this._hints=K||null}get hints(){return this._hints}listVideoInputDevices(){return ht(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const K=yield navigator.mediaDevices.enumerateDevices(),J=[];for(const te of K){const ue=te.kind==="video"?"videoinput":te.kind;if(ue!=="videoinput")continue;const fe=te.deviceId||te.id,Be=te.label||`Video device ${J.length+1}`,je=te.groupId,ze={deviceId:fe,label:Be,kind:ue,groupId:je};J.push(ze)}return J})}getVideoInputDevices(){return ht(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(J=>new st(J.deviceId,J.label))})}findDeviceById(K){return ht(this,void 0,void 0,function*(){const J=yield this.listVideoInputDevices();return J?J.find(te=>te.deviceId===K):null})}decodeFromInputVideoDevice(K,J){return ht(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(K,J)})}decodeOnceFromVideoDevice(K,J){return ht(this,void 0,void 0,function*(){this.reset();let te;K?te={deviceId:{exact:K}}:te={facingMode:"environment"};const ue={video:te};return yield this.decodeOnceFromConstraints(ue,J)})}decodeOnceFromConstraints(K,J){return ht(this,void 0,void 0,function*(){const te=yield navigator.mediaDevices.getUserMedia(K);return yield this.decodeOnceFromStream(te,J)})}decodeOnceFromStream(K,J){return ht(this,void 0,void 0,function*(){this.reset();const te=yield this.attachStreamToVideo(K,J);return yield this.decodeOnce(te)})}decodeFromInputVideoDeviceContinuously(K,J,te){return ht(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(K,J,te)})}decodeFromVideoDevice(K,J,te){return ht(this,void 0,void 0,function*(){let ue;K?ue={deviceId:{exact:K}}:ue={facingMode:"environment"};const fe={video:ue};return yield this.decodeFromConstraints(fe,J,te)})}decodeFromConstraints(K,J,te){return ht(this,void 0,void 0,function*(){const ue=yield navigator.mediaDevices.getUserMedia(K);return yield this.decodeFromStream(ue,J,te)})}decodeFromStream(K,J,te){return ht(this,void 0,void 0,function*(){this.reset();const ue=yield this.attachStreamToVideo(K,J);return yield this.decodeContinuously(ue,te)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(K,J){return ht(this,void 0,void 0,function*(){const te=this.prepareVideoElement(J);return this.addVideoSource(te,K),this.videoElement=te,this.stream=K,yield this.playVideoOnLoadAsync(te),te})}playVideoOnLoadAsync(K){return new Promise((J,te)=>this.playVideoOnLoad(K,()=>J()))}playVideoOnLoad(K,J){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(K),K.addEventListener("ended",this.videoEndedListener),K.addEventListener("canplay",this.videoCanPlayListener),K.addEventListener("playing",J),this.tryPlayVideo(K)}isVideoPlaying(K){return K.currentTime>0&&!K.paused&&!K.ended&&K.readyState>2}tryPlayVideo(K){return ht(this,void 0,void 0,function*(){if(this.isVideoPlaying(K)){console.warn("Trying to play video that is already playing.");return}try{yield K.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(K,J){const te=document.getElementById(K);if(!te)throw new ee(`element with id '${K}' not found`);if(te.nodeName.toLowerCase()!==J.toLowerCase())throw new ee(`element with id '${K}' must be an ${J} element`);return te}decodeFromImage(K,J){if(!K&&!J)throw new ee("either imageElement with a src set or an url must be provided");return J&&!K?this.decodeFromImageUrl(J):this.decodeFromImageElement(K)}decodeFromVideo(K,J){if(!K&&!J)throw new ee("Either an element with a src set or an URL must be provided");return J&&!K?this.decodeFromVideoUrl(J):this.decodeFromVideoElement(K)}decodeFromVideoContinuously(K,J,te){if(K===void 0&&J===void 0)throw new ee("Either an element with a src set or an URL must be provided");return J&&!K?this.decodeFromVideoUrlContinuously(J,te):this.decodeFromVideoElementContinuously(K,te)}decodeFromImageElement(K){if(!K)throw new ee("An image element must be provided.");this.reset();const J=this.prepareImageElement(K);this.imageElement=J;let te;return this.isImageLoaded(J)?te=this.decodeOnce(J,!1,!0):te=this._decodeOnLoadImage(J),te}decodeFromVideoElement(K){const J=this._decodeFromVideoElementSetup(K);return this._decodeOnLoadVideo(J)}decodeFromVideoElementContinuously(K,J){const te=this._decodeFromVideoElementSetup(K);return this._decodeOnLoadVideoContinuously(te,J)}_decodeFromVideoElementSetup(K){if(!K)throw new ee("A video element must be provided.");this.reset();const J=this.prepareVideoElement(K);return this.videoElement=J,J}decodeFromImageUrl(K){if(!K)throw new ee("An URL must be provided.");this.reset();const J=this.prepareImageElement();this.imageElement=J;const te=this._decodeOnLoadImage(J);return J.src=K,te}decodeFromVideoUrl(K){if(!K)throw new ee("An URL must be provided.");this.reset();const J=this.prepareVideoElement(),te=this.decodeFromVideoElement(J);return J.src=K,te}decodeFromVideoUrlContinuously(K,J){if(!K)throw new ee("An URL must be provided.");this.reset();const te=this.prepareVideoElement(),ue=this.decodeFromVideoElementContinuously(te,J);return te.src=K,ue}_decodeOnLoadImage(K){return new Promise((J,te)=>{this.imageLoadedListener=()=>this.decodeOnce(K,!1,!0).then(J,te),K.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(K){return ht(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(K),yield this.decodeOnce(K)})}_decodeOnLoadVideoContinuously(K,J){return ht(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(K),this.decodeContinuously(K,J)})}isImageLoaded(K){return!(!K.complete||K.naturalWidth===0)}prepareImageElement(K){let J;return typeof K>"u"&&(J=document.createElement("img"),J.width=200,J.height=200),typeof K=="string"&&(J=this.getMediaElement(K,"img")),K instanceof HTMLImageElement&&(J=K),J}prepareVideoElement(K){let J;return!K&&typeof document<"u"&&(J=document.createElement("video"),J.width=200,J.height=200),typeof K=="string"&&(J=this.getMediaElement(K,"video")),K instanceof HTMLVideoElement&&(J=K),J.setAttribute("autoplay","true"),J.setAttribute("muted","true"),J.setAttribute("playsinline","true"),J}decodeOnce(K,J=!0,te=!0){this._stopAsyncDecode=!1;const ue=(fe,Be)=>{if(this._stopAsyncDecode){Be(new lt("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const je=this.decode(K);fe(je)}catch(je){const ze=J&&je instanceof lt,nt=(je instanceof pe||je instanceof Ge)&&te;if(ze||nt)return setTimeout(ue,this._timeBetweenDecodingAttempts,fe,Be);Be(je)}};return new Promise((fe,Be)=>ue(fe,Be))}decodeContinuously(K,J){this._stopContinuousDecode=!1;const te=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const ue=this.decode(K);J(ue,null),setTimeout(te,this.timeBetweenScansMillis)}catch(ue){J(null,ue);const fe=ue instanceof pe||ue instanceof Ge,Be=ue instanceof lt;(fe||Be)&&setTimeout(te,this._timeBetweenDecodingAttempts)}};te()}decode(K){const J=this.createBinaryBitmap(K);return this.decodeBitmap(J)}_isHTMLVideoElement(K){return K.videoWidth!==0}drawFrameOnCanvas(K,J,te){J||(J={sx:0,sy:0,sWidth:K.videoWidth,sHeight:K.videoHeight,dx:0,dy:0,dWidth:K.videoWidth,dHeight:K.videoHeight}),te||(te=this.captureCanvasContext),te.drawImage(K,J.sx,J.sy,J.sWidth,J.sHeight,J.dx,J.dy,J.dWidth,J.dHeight)}drawImageOnCanvas(K,J,te=this.captureCanvasContext){J||(J={sx:0,sy:0,sWidth:K.naturalWidth,sHeight:K.naturalHeight,dx:0,dy:0,dWidth:K.naturalWidth,dHeight:K.naturalHeight}),te||(te=this.captureCanvasContext),te.drawImage(K,J.sx,J.sy,J.sWidth,J.sHeight,J.dx,J.dy,J.dWidth,J.dHeight)}createBinaryBitmap(K){this.getCaptureCanvasContext(K),this._isHTMLVideoElement(K)?this.drawFrameOnCanvas(K):this.drawImageOnCanvas(K);const J=this.getCaptureCanvas(K),te=new gt(J),ue=new it(te);return new oe(ue)}getCaptureCanvasContext(K){if(!this.captureCanvasContext){const te=this.getCaptureCanvas(K).getContext("2d");this.captureCanvasContext=te}return this.captureCanvasContext}getCaptureCanvas(K){if(!this.captureCanvas){const J=this.createCaptureCanvas(K);this.captureCanvas=J}return this.captureCanvas}decodeBitmap(K){return this.reader.decode(K,this._hints)}createCaptureCanvas(K){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const J=document.createElement("canvas");let te,ue;return typeof K<"u"&&(K instanceof HTMLVideoElement?(te=K.videoWidth,ue=K.videoHeight):K instanceof HTMLImageElement&&(te=K.naturalWidth||K.width,ue=K.naturalHeight||K.height)),J.style.width=te+"px",J.style.height=ue+"px",J.width=te,J.height=ue,J}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(K=>K.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(K,J){try{K.srcObject=J}catch{K.src=URL.createObjectURL(J)}}cleanVideoSource(K){try{K.srcObject=null}catch{K.src=""}this.videoElement.removeAttribute("src")}}class Et{constructor(K,J,te=J==null?0:8*J.length,ue,fe,Be=_e.currentTimeMillis()){this.text=K,this.rawBytes=J,this.numBits=te,this.resultPoints=ue,this.format=fe,this.timestamp=Be,this.text=K,this.rawBytes=J,te==null?this.numBits=J==null?0:8*J.length:this.numBits=te,this.resultPoints=ue,this.format=fe,this.resultMetadata=null,Be==null?this.timestamp=_e.currentTimeMillis():this.timestamp=Be}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(K,J){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(K,J)}putAllMetadata(K){K!==null&&(this.resultMetadata===null?this.resultMetadata=K:this.resultMetadata=new Map(K))}addResultPoints(K){const J=this.resultPoints;if(J===null)this.resultPoints=K;else if(K!==null&&K.length>0){const te=new Array(J.length+K.length);_e.arraycopy(J,0,te,0,J.length),_e.arraycopy(K,0,te,J.length,K.length),this.resultPoints=te}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Rt;(function(at){at[at.AZTEC=0]="AZTEC",at[at.CODABAR=1]="CODABAR",at[at.CODE_39=2]="CODE_39",at[at.CODE_93=3]="CODE_93",at[at.CODE_128=4]="CODE_128",at[at.DATA_MATRIX=5]="DATA_MATRIX",at[at.EAN_8=6]="EAN_8",at[at.EAN_13=7]="EAN_13",at[at.ITF=8]="ITF",at[at.MAXICODE=9]="MAXICODE",at[at.PDF_417=10]="PDF_417",at[at.QR_CODE=11]="QR_CODE",at[at.RSS_14=12]="RSS_14",at[at.RSS_EXPANDED=13]="RSS_EXPANDED",at[at.UPC_A=14]="UPC_A",at[at.UPC_E=15]="UPC_E",at[at.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Rt||(Rt={}));var _t=Rt,Ut;(function(at){at[at.OTHER=0]="OTHER",at[at.ORIENTATION=1]="ORIENTATION",at[at.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",at[at.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",at[at.ISSUE_NUMBER=4]="ISSUE_NUMBER",at[at.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",at[at.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",at[at.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",at[at.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",at[at.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",at[at.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ut||(Ut={}));var an=Ut;class hn{constructor(K,J,te,ue,fe=-1,Be=-1){this.rawBytes=K,this.text=J,this.byteSegments=te,this.ecLevel=ue,this.structuredAppendSequenceNumber=fe,this.structuredAppendParity=Be,this.numBits=K==null?0:8*K.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(K){this.numBits=K}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(K){this.errorsCorrected=K}getErasures(){return this.erasures}setErasures(K){this.erasures=K}getOther(){return this.other}setOther(K){this.other=K}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ln{exp(K){return this.expTable[K]}log(K){if(K===0)throw new ne;return this.logTable[K]}static addOrSubtract(K,J){return K^J}}class pn{constructor(K,J){if(J.length===0)throw new ne;this.field=K;const te=J.length;if(te>1&&J[0]===0){let ue=1;for(;ue<te&&J[ue]===0;)ue++;ue===te?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(te-ue),_e.arraycopy(J,ue,this.coefficients,0,this.coefficients.length))}else this.coefficients=J}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(K){return this.coefficients[this.coefficients.length-1-K]}evaluateAt(K){if(K===0)return this.getCoefficient(0);const J=this.coefficients;let te;if(K===1){te=0;for(let Be=0,je=J.length;Be!==je;Be++){const ze=J[Be];te=Ln.addOrSubtract(te,ze)}return te}te=J[0];const ue=J.length,fe=this.field;for(let Be=1;Be<ue;Be++)te=Ln.addOrSubtract(fe.multiply(K,te),J[Be]);return te}addOrSubtract(K){if(!this.field.equals(K.field))throw new ne("GenericGFPolys do not have same GenericGF field");if(this.isZero())return K;if(K.isZero())return this;let J=this.coefficients,te=K.coefficients;if(J.length>te.length){const Be=J;J=te,te=Be}let ue=new Int32Array(te.length);const fe=te.length-J.length;_e.arraycopy(te,0,ue,0,fe);for(let Be=fe;Be<te.length;Be++)ue[Be]=Ln.addOrSubtract(J[Be-fe],te[Be]);return new pn(this.field,ue)}multiply(K){if(!this.field.equals(K.field))throw new ne("GenericGFPolys do not have same GenericGF field");if(this.isZero()||K.isZero())return this.field.getZero();const J=this.coefficients,te=J.length,ue=K.coefficients,fe=ue.length,Be=new Int32Array(te+fe-1),je=this.field;for(let ze=0;ze<te;ze++){const qe=J[ze];for(let nt=0;nt<fe;nt++)Be[ze+nt]=Ln.addOrSubtract(Be[ze+nt],je.multiply(qe,ue[nt]))}return new pn(je,Be)}multiplyScalar(K){if(K===0)return this.field.getZero();if(K===1)return this;const J=this.coefficients.length,te=this.field,ue=new Int32Array(J),fe=this.coefficients;for(let Be=0;Be<J;Be++)ue[Be]=te.multiply(fe[Be],K);return new pn(te,ue)}multiplyByMonomial(K,J){if(K<0)throw new ne;if(J===0)return this.field.getZero();const te=this.coefficients,ue=te.length,fe=new Int32Array(ue+K),Be=this.field;for(let je=0;je<ue;je++)fe[je]=Be.multiply(te[je],J);return new pn(Be,fe)}divide(K){if(!this.field.equals(K.field))throw new ne("GenericGFPolys do not have same GenericGF field");if(K.isZero())throw new ne("Divide by 0");const J=this.field;let te=J.getZero(),ue=this;const fe=K.getCoefficient(K.getDegree()),Be=J.inverse(fe);for(;ue.getDegree()>=K.getDegree()&&!ue.isZero();){const je=ue.getDegree()-K.getDegree(),ze=J.multiply(ue.getCoefficient(ue.getDegree()),Be),qe=K.multiplyByMonomial(je,ze),nt=J.buildMonomial(je,ze);te=te.addOrSubtract(nt),ue=ue.addOrSubtract(qe)}return[te,ue]}toString(){let K="";for(let J=this.getDegree();J>=0;J--){let te=this.getCoefficient(J);if(te!==0){if(te<0?(K+=" - ",te=-te):K.length>0&&(K+=" + "),J===0||te!==1){const ue=this.field.log(te);ue===0?K+="1":ue===1?K+="a":(K+="a^",K+=ue)}J!==0&&(J===1?K+="x":(K+="x^",K+=J))}}return K}}class qn extends q{}qn.kind="ArithmeticException";class on extends Ln{constructor(K,J,te){super(),this.primitive=K,this.size=J,this.generatorBase=te;const ue=new Int32Array(J);let fe=1;for(let je=0;je<J;je++)ue[je]=fe,fe*=2,fe>=J&&(fe^=K,fe&=J-1);this.expTable=ue;const Be=new Int32Array(J);for(let je=0;je<J-1;je++)Be[ue[je]]=je;this.logTable=Be,this.zero=new pn(this,Int32Array.from([0])),this.one=new pn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(K,J){if(K<0)throw new ne;if(J===0)return this.zero;const te=new Int32Array(K+1);return te[0]=J,new pn(this,te)}inverse(K){if(K===0)throw new qn;return this.expTable[this.size-this.logTable[K]-1]}multiply(K,J){return K===0||J===0?0:this.expTable[(this.logTable[K]+this.logTable[J])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+$e.toHexString(this.primitive)+","+this.size+")"}equals(K){return K===this}}on.AZTEC_DATA_12=new on(4201,4096,1),on.AZTEC_DATA_10=new on(1033,1024,1),on.AZTEC_DATA_6=new on(67,64,1),on.AZTEC_PARAM=new on(19,16,1),on.QR_CODE_FIELD_256=new on(285,256,0),on.DATA_MATRIX_FIELD_256=new on(301,256,1),on.AZTEC_DATA_8=on.DATA_MATRIX_FIELD_256,on.MAXICODE_FIELD_64=on.AZTEC_DATA_6;class tn extends q{}tn.kind="ReedSolomonException";class Zn extends q{}Zn.kind="IllegalStateException";class Dr{constructor(K){this.field=K}decode(K,J){const te=this.field,ue=new pn(te,K),fe=new Int32Array(J);let Be=!0;for(let xt=0;xt<J;xt++){const bt=ue.evaluateAt(te.exp(xt+te.getGeneratorBase()));fe[fe.length-1-xt]=bt,bt!==0&&(Be=!1)}if(Be)return;const je=new pn(te,fe),ze=this.runEuclideanAlgorithm(te.buildMonomial(J,1),je,J),qe=ze[0],nt=ze[1],ot=this.findErrorLocations(qe),At=this.findErrorMagnitudes(nt,ot);for(let xt=0;xt<ot.length;xt++){const bt=K.length-1-te.log(ot[xt]);if(bt<0)throw new tn("Bad error location");K[bt]=on.addOrSubtract(K[bt],At[xt])}}runEuclideanAlgorithm(K,J,te){if(K.getDegree()<J.getDegree()){const xt=K;K=J,J=xt}const ue=this.field;let fe=K,Be=J,je=ue.getZero(),ze=ue.getOne();for(;Be.getDegree()>=(te/2|0);){let xt=fe,bt=je;if(fe=Be,je=ze,fe.isZero())throw new tn("r_{i-1} was zero");Be=xt;let St=ue.getZero();const Nt=fe.getCoefficient(fe.getDegree()),Lt=ue.inverse(Nt);for(;Be.getDegree()>=fe.getDegree()&&!Be.isZero();){const Yt=Be.getDegree()-fe.getDegree(),Xt=ue.multiply(Be.getCoefficient(Be.getDegree()),Lt);St=St.addOrSubtract(ue.buildMonomial(Yt,Xt)),Be=Be.addOrSubtract(fe.multiplyByMonomial(Yt,Xt))}if(ze=St.multiply(je).addOrSubtract(bt),Be.getDegree()>=fe.getDegree())throw new Zn("Division algorithm failed to reduce polynomial?")}const qe=ze.getCoefficient(0);if(qe===0)throw new tn("sigmaTilde(0) was zero");const nt=ue.inverse(qe),ot=ze.multiplyScalar(nt),At=Be.multiplyScalar(nt);return[ot,At]}findErrorLocations(K){const J=K.getDegree();if(J===1)return Int32Array.from([K.getCoefficient(1)]);const te=new Int32Array(J);let ue=0;const fe=this.field;for(let Be=1;Be<fe.getSize()&&ue<J;Be++)K.evaluateAt(Be)===0&&(te[ue]=fe.inverse(Be),ue++);if(ue!==J)throw new tn("Error locator degree does not match number of roots");return te}findErrorMagnitudes(K,J){const te=J.length,ue=new Int32Array(te),fe=this.field;for(let Be=0;Be<te;Be++){const je=fe.inverse(J[Be]);let ze=1;for(let qe=0;qe<te;qe++)if(Be!==qe){const nt=fe.multiply(J[qe],je),ot=(nt&1)===0?nt|1:nt&-2;ze=fe.multiply(ze,ot)}ue[Be]=fe.multiply(K.evaluateAt(je),fe.inverse(ze)),fe.getGeneratorBase()!==0&&(ue[Be]=fe.multiply(ue[Be],je))}return ue}}var zn;(function(at){at[at.UPPER=0]="UPPER",at[at.LOWER=1]="LOWER",at[at.MIXED=2]="MIXED",at[at.DIGIT=3]="DIGIT",at[at.PUNCT=4]="PUNCT",at[at.BINARY=5]="BINARY"})(zn||(zn={}));class Tn{decode(K){this.ddata=K;let J=K.getBits(),te=this.extractBits(J),ue=this.correctBits(te),fe=Tn.convertBoolArrayToByteArray(ue),Be=Tn.getEncodedData(ue),je=new hn(fe,Be,null,null);return je.setNumBits(ue.length),je}static highLevelDecode(K){return this.getEncodedData(K)}static getEncodedData(K){let J=K.length,te=zn.UPPER,ue=zn.UPPER,fe="",Be=0;for(;Be<J;)if(ue===zn.BINARY){if(J-Be<5)break;let je=Tn.readCode(K,Be,5);if(Be+=5,je===0){if(J-Be<11)break;je=Tn.readCode(K,Be,11)+31,Be+=11}for(let ze=0;ze<je;ze++){if(J-Be<8){Be=J;break}const qe=Tn.readCode(K,Be,8);fe+=ct.castAsNonUtf8Char(qe),Be+=8}ue=te}else{let je=ue===zn.DIGIT?4:5;if(J-Be<je)break;let ze=Tn.readCode(K,Be,je);Be+=je;let qe=Tn.getCharacter(ue,ze);qe.startsWith("CTRL_")?(te=ue,ue=Tn.getTable(qe.charAt(5)),qe.charAt(6)==="L"&&(te=ue)):(fe+=qe,ue=te)}return fe}static getTable(K){switch(K){case"L":return zn.LOWER;case"P":return zn.PUNCT;case"M":return zn.MIXED;case"D":return zn.DIGIT;case"B":return zn.BINARY;case"U":default:return zn.UPPER}}static getCharacter(K,J){switch(K){case zn.UPPER:return Tn.UPPER_TABLE[J];case zn.LOWER:return Tn.LOWER_TABLE[J];case zn.MIXED:return Tn.MIXED_TABLE[J];case zn.PUNCT:return Tn.PUNCT_TABLE[J];case zn.DIGIT:return Tn.DIGIT_TABLE[J];default:throw new Zn("Bad table")}}correctBits(K){let J,te;this.ddata.getNbLayers()<=2?(te=6,J=on.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(te=8,J=on.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(te=10,J=on.AZTEC_DATA_10):(te=12,J=on.AZTEC_DATA_12);let ue=this.ddata.getNbDatablocks(),fe=K.length/te;if(fe<ue)throw new Ge;let Be=K.length%te,je=new Int32Array(fe);for(let At=0;At<fe;At++,Be+=te)je[At]=Tn.readCode(K,Be,te);try{new Dr(J).decode(je,fe-ue)}catch(At){throw new Ge(At)}let ze=(1<<te)-1,qe=0;for(let At=0;At<ue;At++){let xt=je[At];if(xt===0||xt===ze)throw new Ge;(xt===1||xt===ze-1)&&qe++}let nt=new Array(ue*te-qe),ot=0;for(let At=0;At<ue;At++){let xt=je[At];if(xt===1||xt===ze-1)nt.fill(xt>1,ot,ot+te-1),ot+=te-1;else for(let bt=te-1;bt>=0;--bt)nt[ot++]=(xt&1<<bt)!==0}return nt}extractBits(K){let J=this.ddata.isCompact(),te=this.ddata.getNbLayers(),ue=(J?11:14)+te*4,fe=new Int32Array(ue),Be=new Array(this.totalBitsInLayer(te,J));if(J)for(let je=0;je<fe.length;je++)fe[je]=je;else{let je=ue+1+2*$e.truncDivision($e.truncDivision(ue,2)-1,15),ze=ue/2,qe=$e.truncDivision(je,2);for(let nt=0;nt<ze;nt++){let ot=nt+$e.truncDivision(nt,15);fe[ze-nt-1]=qe-ot-1,fe[ze+nt]=qe+ot+1}}for(let je=0,ze=0;je<te;je++){let qe=(te-je)*4+(J?9:12),nt=je*2,ot=ue-1-nt;for(let At=0;At<qe;At++){let xt=At*2;for(let bt=0;bt<2;bt++)Be[ze+xt+bt]=K.get(fe[nt+bt],fe[nt+At]),Be[ze+2*qe+xt+bt]=K.get(fe[nt+At],fe[ot-bt]),Be[ze+4*qe+xt+bt]=K.get(fe[ot-bt],fe[ot-At]),Be[ze+6*qe+xt+bt]=K.get(fe[ot-At],fe[nt+bt])}ze+=qe*8}return Be}static readCode(K,J,te){let ue=0;for(let fe=J;fe<J+te;fe++)ue<<=1,K[fe]&&(ue|=1);return ue}static readByte(K,J){let te=K.length-J;return te>=8?Tn.readCode(K,J,8):Tn.readCode(K,J,te)<<8-te}static convertBoolArrayToByteArray(K){let J=new Uint8Array((K.length+7)/8);for(let te=0;te<J.length;te++)J[te]=Tn.readByte(K,8*te);return J}totalBitsInLayer(K,J){return((J?88:112)+16*K)*K}}Tn.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Tn.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Tn.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Tn.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Tn.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class yn{constructor(){}static round(K){return K===NaN?0:K<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:K>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:K+(K<0?-.5:.5)|0}static distance(K,J,te,ue){const fe=K-te,Be=J-ue;return Math.sqrt(fe*fe+Be*Be)}static sum(K){let J=0;for(let te=0,ue=K.length;te!==ue;te++){const fe=K[te];J+=fe}return J}}class Sr{static floatToIntBits(K){return K}}Sr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Zt{constructor(K,J){this.x=K,this.y=J}getX(){return this.x}getY(){return this.y}equals(K){if(K instanceof Zt){const J=K;return this.x===J.x&&this.y===J.y}return!1}hashCode(){return 31*Sr.floatToIntBits(this.x)+Sr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(K){const J=this.distance(K[0],K[1]),te=this.distance(K[1],K[2]),ue=this.distance(K[0],K[2]);let fe,Be,je;if(te>=J&&te>=ue?(Be=K[0],fe=K[1],je=K[2]):ue>=te&&ue>=J?(Be=K[1],fe=K[0],je=K[2]):(Be=K[2],fe=K[0],je=K[1]),this.crossProductZ(fe,Be,je)<0){const ze=fe;fe=je,je=ze}K[0]=fe,K[1]=Be,K[2]=je}static distance(K,J){return yn.distance(K.x,K.y,J.x,J.y)}static crossProductZ(K,J,te){const ue=J.x,fe=J.y;return(te.x-ue)*(K.y-fe)-(te.y-fe)*(K.x-ue)}}class Yr{constructor(K,J){this.bits=K,this.points=J}getBits(){return this.bits}getPoints(){return this.points}}class Or extends Yr{constructor(K,J,te,ue,fe){super(K,J),this.compact=te,this.nbDatablocks=ue,this.nbLayers=fe}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Kt{constructor(K,J,te,ue){this.image=K,this.height=K.getHeight(),this.width=K.getWidth(),J==null&&(J=Kt.INIT_SIZE),te==null&&(te=K.getWidth()/2|0),ue==null&&(ue=K.getHeight()/2|0);const fe=J/2|0;if(this.leftInit=te-fe,this.rightInit=te+fe,this.upInit=ue-fe,this.downInit=ue+fe,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new lt}detect(){let K=this.leftInit,J=this.rightInit,te=this.upInit,ue=this.downInit,fe=!1,Be=!0,je=!1,ze=!1,qe=!1,nt=!1,ot=!1;const At=this.width,xt=this.height;for(;Be;){Be=!1;let bt=!0;for(;(bt||!ze)&&J<At;)bt=this.containsBlackPoint(te,ue,J,!1),bt?(J++,Be=!0,ze=!0):ze||J++;if(J>=At){fe=!0;break}let St=!0;for(;(St||!qe)&&ue<xt;)St=this.containsBlackPoint(K,J,ue,!0),St?(ue++,Be=!0,qe=!0):qe||ue++;if(ue>=xt){fe=!0;break}let Nt=!0;for(;(Nt||!nt)&&K>=0;)Nt=this.containsBlackPoint(te,ue,K,!1),Nt?(K--,Be=!0,nt=!0):nt||K--;if(K<0){fe=!0;break}let Lt=!0;for(;(Lt||!ot)&&te>=0;)Lt=this.containsBlackPoint(K,J,te,!0),Lt?(te--,Be=!0,ot=!0):ot||te--;if(te<0){fe=!0;break}Be&&(je=!0)}if(!fe&&je){const bt=J-K;let St=null;for(let Xt=1;St===null&&Xt<bt;Xt++)St=this.getBlackPointOnSegment(K,ue-Xt,K+Xt,ue);if(St==null)throw new lt;let Nt=null;for(let Xt=1;Nt===null&&Xt<bt;Xt++)Nt=this.getBlackPointOnSegment(K,te+Xt,K+Xt,te);if(Nt==null)throw new lt;let Lt=null;for(let Xt=1;Lt===null&&Xt<bt;Xt++)Lt=this.getBlackPointOnSegment(J,te+Xt,J-Xt,te);if(Lt==null)throw new lt;let Yt=null;for(let Xt=1;Yt===null&&Xt<bt;Xt++)Yt=this.getBlackPointOnSegment(J,ue-Xt,J-Xt,ue);if(Yt==null)throw new lt;return this.centerEdges(Yt,St,Lt,Nt)}else throw new lt}getBlackPointOnSegment(K,J,te,ue){const fe=yn.round(yn.distance(K,J,te,ue)),Be=(te-K)/fe,je=(ue-J)/fe,ze=this.image;for(let qe=0;qe<fe;qe++){const nt=yn.round(K+qe*Be),ot=yn.round(J+qe*je);if(ze.get(nt,ot))return new Zt(nt,ot)}return null}centerEdges(K,J,te,ue){const fe=K.getX(),Be=K.getY(),je=J.getX(),ze=J.getY(),qe=te.getX(),nt=te.getY(),ot=ue.getX(),At=ue.getY(),xt=Kt.CORR;return fe<this.width/2?[new Zt(ot-xt,At+xt),new Zt(je+xt,ze+xt),new Zt(qe-xt,nt-xt),new Zt(fe+xt,Be-xt)]:[new Zt(ot+xt,At+xt),new Zt(je+xt,ze-xt),new Zt(qe-xt,nt+xt),new Zt(fe-xt,Be-xt)]}containsBlackPoint(K,J,te,ue){const fe=this.image;if(ue){for(let Be=K;Be<=J;Be++)if(fe.get(Be,te))return!0}else for(let Be=K;Be<=J;Be++)if(fe.get(te,Be))return!0;return!1}}Kt.INIT_SIZE=10,Kt.CORR=1;class cn{static checkAndNudgePoints(K,J){const te=K.getWidth(),ue=K.getHeight();let fe=!0;for(let Be=0;Be<J.length&&fe;Be+=2){const je=Math.floor(J[Be]),ze=Math.floor(J[Be+1]);if(je<-1||je>te||ze<-1||ze>ue)throw new lt;fe=!1,je===-1?(J[Be]=0,fe=!0):je===te&&(J[Be]=te-1,fe=!0),ze===-1?(J[Be+1]=0,fe=!0):ze===ue&&(J[Be+1]=ue-1,fe=!0)}fe=!0;for(let Be=J.length-2;Be>=0&&fe;Be-=2){const je=Math.floor(J[Be]),ze=Math.floor(J[Be+1]);if(je<-1||je>te||ze<-1||ze>ue)throw new lt;fe=!1,je===-1?(J[Be]=0,fe=!0):je===te&&(J[Be]=te-1,fe=!0),ze===-1?(J[Be+1]=0,fe=!0):ze===ue&&(J[Be+1]=ue-1,fe=!0)}}}class Cn{constructor(K,J,te,ue,fe,Be,je,ze,qe){this.a11=K,this.a21=J,this.a31=te,this.a12=ue,this.a22=fe,this.a32=Be,this.a13=je,this.a23=ze,this.a33=qe}static quadrilateralToQuadrilateral(K,J,te,ue,fe,Be,je,ze,qe,nt,ot,At,xt,bt,St,Nt){const Lt=Cn.quadrilateralToSquare(K,J,te,ue,fe,Be,je,ze);return Cn.squareToQuadrilateral(qe,nt,ot,At,xt,bt,St,Nt).times(Lt)}transformPoints(K){const J=K.length,te=this.a11,ue=this.a12,fe=this.a13,Be=this.a21,je=this.a22,ze=this.a23,qe=this.a31,nt=this.a32,ot=this.a33;for(let At=0;At<J;At+=2){const xt=K[At],bt=K[At+1],St=fe*xt+ze*bt+ot;K[At]=(te*xt+Be*bt+qe)/St,K[At+1]=(ue*xt+je*bt+nt)/St}}transformPointsWithValues(K,J){const te=this.a11,ue=this.a12,fe=this.a13,Be=this.a21,je=this.a22,ze=this.a23,qe=this.a31,nt=this.a32,ot=this.a33,At=K.length;for(let xt=0;xt<At;xt++){const bt=K[xt],St=J[xt],Nt=fe*bt+ze*St+ot;K[xt]=(te*bt+Be*St+qe)/Nt,J[xt]=(ue*bt+je*St+nt)/Nt}}static squareToQuadrilateral(K,J,te,ue,fe,Be,je,ze){const qe=K-te+fe-je,nt=J-ue+Be-ze;if(qe===0&&nt===0)return new Cn(te-K,fe-te,K,ue-J,Be-ue,J,0,0,1);{const ot=te-fe,At=je-fe,xt=ue-Be,bt=ze-Be,St=ot*bt-At*xt,Nt=(qe*bt-At*nt)/St,Lt=(ot*nt-qe*xt)/St;return new Cn(te-K+Nt*te,je-K+Lt*je,K,ue-J+Nt*ue,ze-J+Lt*ze,J,Nt,Lt,1)}}static quadrilateralToSquare(K,J,te,ue,fe,Be,je,ze){return Cn.squareToQuadrilateral(K,J,te,ue,fe,Be,je,ze).buildAdjoint()}buildAdjoint(){return new Cn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(K){return new Cn(this.a11*K.a11+this.a21*K.a12+this.a31*K.a13,this.a11*K.a21+this.a21*K.a22+this.a31*K.a23,this.a11*K.a31+this.a21*K.a32+this.a31*K.a33,this.a12*K.a11+this.a22*K.a12+this.a32*K.a13,this.a12*K.a21+this.a22*K.a22+this.a32*K.a23,this.a12*K.a31+this.a22*K.a32+this.a32*K.a33,this.a13*K.a11+this.a23*K.a12+this.a33*K.a13,this.a13*K.a21+this.a23*K.a22+this.a33*K.a23,this.a13*K.a31+this.a23*K.a32+this.a33*K.a33)}}class Fn extends cn{sampleGrid(K,J,te,ue,fe,Be,je,ze,qe,nt,ot,At,xt,bt,St,Nt,Lt,Yt,Xt){const Wt=Cn.quadrilateralToQuadrilateral(ue,fe,Be,je,ze,qe,nt,ot,At,xt,bt,St,Nt,Lt,Yt,Xt);return this.sampleGridWithTransform(K,J,te,Wt)}sampleGridWithTransform(K,J,te,ue){if(J<=0||te<=0)throw new lt;const fe=new yt(J,te),Be=new Float32Array(2*J);for(let je=0;je<te;je++){const ze=Be.length,qe=je+.5;for(let nt=0;nt<ze;nt+=2)Be[nt]=nt/2+.5,Be[nt+1]=qe;ue.transformPoints(Be),cn.checkAndNudgePoints(K,Be);try{for(let nt=0;nt<ze;nt+=2)K.get(Math.floor(Be[nt]),Math.floor(Be[nt+1]))&&fe.set(nt/2,je)}catch{throw new lt}}return fe}}class kn{static setGridSampler(K){kn.gridSampler=K}static getInstance(){return kn.gridSampler}}kn.gridSampler=new Fn;class or{constructor(K,J){this.x=K,this.y=J}toResultPoint(){return new Zt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Jr{constructor(K){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=K}detect(){return this.detectMirror(!1)}detectMirror(K){let J=this.getMatrixCenter(),te=this.getBullsEyeCorners(J);if(K){let Be=te[0];te[0]=te[2],te[2]=Be}this.extractParameters(te);let ue=this.sampleGrid(this.image,te[this.shift%4],te[(this.shift+1)%4],te[(this.shift+2)%4],te[(this.shift+3)%4]),fe=this.getMatrixCornerPoints(te);return new Or(ue,fe,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(K){if(!this.isValidPoint(K[0])||!this.isValidPoint(K[1])||!this.isValidPoint(K[2])||!this.isValidPoint(K[3]))throw new lt;let J=2*this.nbCenterLayers,te=new Int32Array([this.sampleLine(K[0],K[1],J),this.sampleLine(K[1],K[2],J),this.sampleLine(K[2],K[3],J),this.sampleLine(K[3],K[0],J)]);this.shift=this.getRotation(te,J);let ue=0;for(let Be=0;Be<4;Be++){let je=te[(this.shift+Be)%4];this.compact?(ue<<=7,ue+=je>>1&127):(ue<<=10,ue+=(je>>2&992)+(je>>1&31))}let fe=this.getCorrectedParameterData(ue,this.compact);this.compact?(this.nbLayers=(fe>>6)+1,this.nbDataBlocks=(fe&63)+1):(this.nbLayers=(fe>>11)+1,this.nbDataBlocks=(fe&2047)+1)}getRotation(K,J){let te=0;K.forEach((ue,fe,Be)=>{let je=(ue>>J-2<<1)+(ue&1);te=(te<<3)+je}),te=((te&1)<<11)+(te>>1);for(let ue=0;ue<4;ue++)if($e.bitCount(te^this.EXPECTED_CORNER_BITS[ue])<=2)return ue;throw new lt}getCorrectedParameterData(K,J){let te,ue;J?(te=7,ue=2):(te=10,ue=4);let fe=te-ue,Be=new Int32Array(te);for(let ze=te-1;ze>=0;--ze)Be[ze]=K&15,K>>=4;try{new Dr(on.AZTEC_PARAM).decode(Be,fe)}catch{throw new lt}let je=0;for(let ze=0;ze<ue;ze++)je=(je<<4)+Be[ze];return je}getBullsEyeCorners(K){let J=K,te=K,ue=K,fe=K,Be=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ot=this.getFirstDifferent(J,Be,1,-1),At=this.getFirstDifferent(te,Be,1,1),xt=this.getFirstDifferent(ue,Be,-1,1),bt=this.getFirstDifferent(fe,Be,-1,-1);if(this.nbCenterLayers>2){let St=this.distancePoint(bt,ot)*this.nbCenterLayers/(this.distancePoint(fe,J)*(this.nbCenterLayers+2));if(St<.75||St>1.25||!this.isWhiteOrBlackRectangle(ot,At,xt,bt))break}J=ot,te=At,ue=xt,fe=bt,Be=!Be}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new lt;this.compact=this.nbCenterLayers===5;let je=new Zt(J.getX()+.5,J.getY()-.5),ze=new Zt(te.getX()+.5,te.getY()+.5),qe=new Zt(ue.getX()-.5,ue.getY()+.5),nt=new Zt(fe.getX()-.5,fe.getY()-.5);return this.expandSquare([je,ze,qe,nt],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let K,J,te,ue;try{let je=new Kt(this.image).detect();K=je[0],J=je[1],te=je[2],ue=je[3]}catch{let ze=this.image.getWidth()/2,qe=this.image.getHeight()/2;K=this.getFirstDifferent(new or(ze+7,qe-7),!1,1,-1).toResultPoint(),J=this.getFirstDifferent(new or(ze+7,qe+7),!1,1,1).toResultPoint(),te=this.getFirstDifferent(new or(ze-7,qe+7),!1,-1,1).toResultPoint(),ue=this.getFirstDifferent(new or(ze-7,qe-7),!1,-1,-1).toResultPoint()}let fe=yn.round((K.getX()+ue.getX()+J.getX()+te.getX())/4),Be=yn.round((K.getY()+ue.getY()+J.getY()+te.getY())/4);try{let je=new Kt(this.image,15,fe,Be).detect();K=je[0],J=je[1],te=je[2],ue=je[3]}catch{K=this.getFirstDifferent(new or(fe+7,Be-7),!1,1,-1).toResultPoint(),J=this.getFirstDifferent(new or(fe+7,Be+7),!1,1,1).toResultPoint(),te=this.getFirstDifferent(new or(fe-7,Be+7),!1,-1,1).toResultPoint(),ue=this.getFirstDifferent(new or(fe-7,Be-7),!1,-1,-1).toResultPoint()}return fe=yn.round((K.getX()+ue.getX()+J.getX()+te.getX())/4),Be=yn.round((K.getY()+ue.getY()+J.getY()+te.getY())/4),new or(fe,Be)}getMatrixCornerPoints(K){return this.expandSquare(K,2*this.nbCenterLayers,this.getDimension())}sampleGrid(K,J,te,ue,fe){let Be=kn.getInstance(),je=this.getDimension(),ze=je/2-this.nbCenterLayers,qe=je/2+this.nbCenterLayers;return Be.sampleGrid(K,je,je,ze,ze,qe,ze,qe,qe,ze,qe,J.getX(),J.getY(),te.getX(),te.getY(),ue.getX(),ue.getY(),fe.getX(),fe.getY())}sampleLine(K,J,te){let ue=0,fe=this.distanceResultPoint(K,J),Be=fe/te,je=K.getX(),ze=K.getY(),qe=Be*(J.getX()-K.getX())/fe,nt=Be*(J.getY()-K.getY())/fe;for(let ot=0;ot<te;ot++)this.image.get(yn.round(je+ot*qe),yn.round(ze+ot*nt))&&(ue|=1<<te-ot-1);return ue}isWhiteOrBlackRectangle(K,J,te,ue){let fe=3;K=new or(K.getX()-fe,K.getY()+fe),J=new or(J.getX()-fe,J.getY()-fe),te=new or(te.getX()+fe,te.getY()-fe),ue=new or(ue.getX()+fe,ue.getY()+fe);let Be=this.getColor(ue,K);if(Be===0)return!1;let je=this.getColor(K,J);return je!==Be||(je=this.getColor(J,te),je!==Be)?!1:(je=this.getColor(te,ue),je===Be)}getColor(K,J){let te=this.distancePoint(K,J),ue=(J.getX()-K.getX())/te,fe=(J.getY()-K.getY())/te,Be=0,je=K.getX(),ze=K.getY(),qe=this.image.get(K.getX(),K.getY()),nt=Math.ceil(te);for(let At=0;At<nt;At++)je+=ue,ze+=fe,this.image.get(yn.round(je),yn.round(ze))!==qe&&Be++;let ot=Be/te;return ot>.1&&ot<.9?0:ot<=.1===qe?1:-1}getFirstDifferent(K,J,te,ue){let fe=K.getX()+te,Be=K.getY()+ue;for(;this.isValid(fe,Be)&&this.image.get(fe,Be)===J;)fe+=te,Be+=ue;for(fe-=te,Be-=ue;this.isValid(fe,Be)&&this.image.get(fe,Be)===J;)fe+=te;for(fe-=te;this.isValid(fe,Be)&&this.image.get(fe,Be)===J;)Be+=ue;return Be-=ue,new or(fe,Be)}expandSquare(K,J,te){let ue=te/(2*J),fe=K[0].getX()-K[2].getX(),Be=K[0].getY()-K[2].getY(),je=(K[0].getX()+K[2].getX())/2,ze=(K[0].getY()+K[2].getY())/2,qe=new Zt(je+ue*fe,ze+ue*Be),nt=new Zt(je-ue*fe,ze-ue*Be);fe=K[1].getX()-K[3].getX(),Be=K[1].getY()-K[3].getY(),je=(K[1].getX()+K[3].getX())/2,ze=(K[1].getY()+K[3].getY())/2;let ot=new Zt(je+ue*fe,ze+ue*Be),At=new Zt(je-ue*fe,ze-ue*Be);return[qe,ot,nt,At]}isValid(K,J){return K>=0&&K<this.image.getWidth()&&J>0&&J<this.image.getHeight()}isValidPoint(K){let J=yn.round(K.getX()),te=yn.round(K.getY());return this.isValid(J,te)}distancePoint(K,J){return yn.distance(K.getX(),K.getY(),J.getX(),J.getY())}distanceResultPoint(K,J){return yn.distance(K.getX(),K.getY(),J.getX(),J.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*($e.truncDivision(this.nbLayers-4,8)+1)+15}}class ys{decode(K,J=null){let te=null,ue=new Jr(K.getBlackMatrix()),fe=null,Be=null;try{let nt=ue.detectMirror(!1);fe=nt.getPoints(),this.reportFoundResultPoints(J,fe),Be=new Tn().decode(nt)}catch(nt){te=nt}if(Be==null)try{let nt=ue.detectMirror(!0);fe=nt.getPoints(),this.reportFoundResultPoints(J,fe),Be=new Tn().decode(nt)}catch(nt){throw te??nt}let je=new Et(Be.getText(),Be.getRawBytes(),Be.getNumBits(),fe,_t.AZTEC,_e.currentTimeMillis()),ze=Be.getByteSegments();ze!=null&&je.putMetadata(an.BYTE_SEGMENTS,ze);let qe=Be.getECLevel();return qe!=null&&je.putMetadata(an.ERROR_CORRECTION_LEVEL,qe),je}reportFoundResultPoints(K,J){if(K!=null){let te=K.get(We.NEED_RESULT_POINT_CALLBACK);te!=null&&J.forEach((ue,fe,Be)=>{te.foundPossibleResultPoint(ue)})}}reset(){}}class vi extends vt{constructor(K=500){super(new ys,K)}}class Pn{decode(K,J){try{return this.doDecode(K,J)}catch{if(J&&J.get(We.TRY_HARDER)===!0&&K.isRotateSupported()){const fe=K.rotateCounterClockwise(),Be=this.doDecode(fe,J),je=Be.getResultMetadata();let ze=270;je!==null&&je.get(an.ORIENTATION)===!0&&(ze=ze+je.get(an.ORIENTATION)%360),Be.putMetadata(an.ORIENTATION,ze);const qe=Be.getResultPoints();if(qe!==null){const nt=fe.getHeight();for(let ot=0;ot<qe.length;ot++)qe[ot]=new Zt(nt-qe[ot].getY()-1,qe[ot].getX())}return Be}else throw new lt}}reset(){}doDecode(K,J){const te=K.getWidth(),ue=K.getHeight();let fe=new Ne(te);const Be=J&&J.get(We.TRY_HARDER)===!0,je=Math.max(1,ue>>(Be?8:5));let ze;Be?ze=ue:ze=15;const qe=Math.trunc(ue/2);for(let nt=0;nt<ze;nt++){const ot=Math.trunc((nt+1)/2),At=(nt&1)===0,xt=qe+je*(At?ot:-ot);if(xt<0||xt>=ue)break;try{fe=K.getBlackRow(xt,fe)}catch{continue}for(let bt=0;bt<2;bt++){if(bt===1&&(fe.reverse(),J&&J.get(We.NEED_RESULT_POINT_CALLBACK)===!0)){const St=new Map;J.forEach((Nt,Lt)=>St.set(Lt,Nt)),St.delete(We.NEED_RESULT_POINT_CALLBACK),J=St}try{const St=this.decodeRow(xt,fe,J);if(bt===1){St.putMetadata(an.ORIENTATION,180);const Nt=St.getResultPoints();Nt!==null&&(Nt[0]=new Zt(te-Nt[0].getX()-1,Nt[0].getY()),Nt[1]=new Zt(te-Nt[1].getX()-1,Nt[1].getY()))}return St}catch{}}}throw new lt}static recordPattern(K,J,te){const ue=te.length;for(let qe=0;qe<ue;qe++)te[qe]=0;const fe=K.getSize();if(J>=fe)throw new lt;let Be=!K.get(J),je=0,ze=J;for(;ze<fe;){if(K.get(ze)!==Be)te[je]++;else{if(++je===ue)break;te[je]=1,Be=!Be}ze++}if(!(je===ue||je===ue-1&&ze===fe))throw new lt}static recordPatternInReverse(K,J,te){let ue=te.length,fe=K.get(J);for(;J>0&&ue>=0;)K.get(--J)!==fe&&(ue--,fe=!fe);if(ue>=0)throw new lt;Pn.recordPattern(K,J+1,te)}static patternMatchVariance(K,J,te){const ue=K.length;let fe=0,Be=0;for(let qe=0;qe<ue;qe++)fe+=K[qe],Be+=J[qe];if(fe<Be)return Number.POSITIVE_INFINITY;const je=fe/Be;te*=je;let ze=0;for(let qe=0;qe<ue;qe++){const nt=K[qe],ot=J[qe]*je,At=nt>ot?nt-ot:ot-nt;if(At>te)return Number.POSITIVE_INFINITY;ze+=At}return ze/fe}}class qt extends Pn{static findStartPattern(K){const J=K.getSize(),te=K.getNextSet(0);let ue=0,fe=Int32Array.from([0,0,0,0,0,0]),Be=te,je=!1;const ze=6;for(let qe=te;qe<J;qe++)if(K.get(qe)!==je)fe[ue]++;else{if(ue===ze-1){let nt=qt.MAX_AVG_VARIANCE,ot=-1;for(let At=qt.CODE_START_A;At<=qt.CODE_START_C;At++){const xt=Pn.patternMatchVariance(fe,qt.CODE_PATTERNS[At],qt.MAX_INDIVIDUAL_VARIANCE);xt<nt&&(nt=xt,ot=At)}if(ot>=0&&K.isRange(Math.max(0,Be-(qe-Be)/2),Be,!1))return Int32Array.from([Be,qe,ot]);Be+=fe[0]+fe[1],fe=fe.slice(2,fe.length-1),fe[ue-1]=0,fe[ue]=0,ue--}else ue++;fe[ue]=1,je=!je}throw new lt}static decodeCode(K,J,te){Pn.recordPattern(K,te,J);let ue=qt.MAX_AVG_VARIANCE,fe=-1;for(let Be=0;Be<qt.CODE_PATTERNS.length;Be++){const je=qt.CODE_PATTERNS[Be],ze=this.patternMatchVariance(J,je,qt.MAX_INDIVIDUAL_VARIANCE);ze<ue&&(ue=ze,fe=Be)}if(fe>=0)return fe;throw new lt}decodeRow(K,J,te){const ue=te&&te.get(We.ASSUME_GS1)===!0,fe=qt.findStartPattern(J),Be=fe[2];let je=0;const ze=new Uint8Array(20);ze[je++]=Be;let qe;switch(Be){case qt.CODE_START_A:qe=qt.CODE_CODE_A;break;case qt.CODE_START_B:qe=qt.CODE_CODE_B;break;case qt.CODE_START_C:qe=qt.CODE_CODE_C;break;default:throw new Ge}let nt=!1,ot=!1,At="",xt=fe[0],bt=fe[1];const St=Int32Array.from([0,0,0,0,0,0]);let Nt=0,Lt=0,Yt=Be,Xt=0,Wt=!0,Un=!1,In=!1;for(;!nt;){const Ti=ot;switch(ot=!1,Nt=Lt,Lt=qt.decodeCode(J,St,bt),ze[je++]=Lt,Lt!==qt.CODE_STOP&&(Wt=!0),Lt!==qt.CODE_STOP&&(Xt++,Yt+=Xt*Lt),xt=bt,bt+=St.reduce((Tl,Po)=>Tl+Po,0),Lt){case qt.CODE_START_A:case qt.CODE_START_B:case qt.CODE_START_C:throw new Ge}switch(qe){case qt.CODE_CODE_A:if(Lt<64)In===Un?At+=String.fromCharCode(32+Lt):At+=String.fromCharCode(32+Lt+128),In=!1;else if(Lt<96)In===Un?At+=String.fromCharCode(Lt-64):At+=String.fromCharCode(Lt+64),In=!1;else switch(Lt!==qt.CODE_STOP&&(Wt=!1),Lt){case qt.CODE_FNC_1:ue&&(At.length===0?At+="]C1":At+="");break;case qt.CODE_FNC_2:case qt.CODE_FNC_3:break;case qt.CODE_FNC_4_A:!Un&&In?(Un=!0,In=!1):Un&&In?(Un=!1,In=!1):In=!0;break;case qt.CODE_SHIFT:ot=!0,qe=qt.CODE_CODE_B;break;case qt.CODE_CODE_B:qe=qt.CODE_CODE_B;break;case qt.CODE_CODE_C:qe=qt.CODE_CODE_C;break;case qt.CODE_STOP:nt=!0;break}break;case qt.CODE_CODE_B:if(Lt<96)In===Un?At+=String.fromCharCode(32+Lt):At+=String.fromCharCode(32+Lt+128),In=!1;else switch(Lt!==qt.CODE_STOP&&(Wt=!1),Lt){case qt.CODE_FNC_1:ue&&(At.length===0?At+="]C1":At+="");break;case qt.CODE_FNC_2:case qt.CODE_FNC_3:break;case qt.CODE_FNC_4_B:!Un&&In?(Un=!0,In=!1):Un&&In?(Un=!1,In=!1):In=!0;break;case qt.CODE_SHIFT:ot=!0,qe=qt.CODE_CODE_A;break;case qt.CODE_CODE_A:qe=qt.CODE_CODE_A;break;case qt.CODE_CODE_C:qe=qt.CODE_CODE_C;break;case qt.CODE_STOP:nt=!0;break}break;case qt.CODE_CODE_C:if(Lt<100)Lt<10&&(At+="0"),At+=Lt;else switch(Lt!==qt.CODE_STOP&&(Wt=!1),Lt){case qt.CODE_FNC_1:ue&&(At.length===0?At+="]C1":At+="");break;case qt.CODE_CODE_A:qe=qt.CODE_CODE_A;break;case qt.CODE_CODE_B:qe=qt.CODE_CODE_B;break;case qt.CODE_STOP:nt=!0;break}break}Ti&&(qe=qe===qt.CODE_CODE_A?qt.CODE_CODE_B:qt.CODE_CODE_A)}const Lr=bt-xt;if(bt=J.getNextUnset(bt),!J.isRange(bt,Math.min(J.getSize(),bt+(bt-xt)/2),!1))throw new lt;if(Yt-=Xt*Nt,Yt%103!==Nt)throw new pe;const Bs=At.length;if(Bs===0)throw new lt;Bs>0&&Wt&&(qe===qt.CODE_CODE_C?At=At.substring(0,Bs-2):At=At.substring(0,Bs-1));const cs=(fe[1]+fe[0])/2,hr=xt+Lr/2,rs=ze.length,gs=new Uint8Array(rs);for(let Ti=0;Ti<rs;Ti++)gs[Ti]=ze[Ti];const na=[new Zt(cs,K),new Zt(hr,K)];return new Et(At,gs,0,na,_t.CODE_128,new Date().getTime())}}qt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],qt.MAX_AVG_VARIANCE=.25,qt.MAX_INDIVIDUAL_VARIANCE=.7,qt.CODE_SHIFT=98,qt.CODE_CODE_C=99,qt.CODE_CODE_B=100,qt.CODE_CODE_A=101,qt.CODE_FNC_1=102,qt.CODE_FNC_2=97,qt.CODE_FNC_3=96,qt.CODE_FNC_4_A=101,qt.CODE_FNC_4_B=100,qt.CODE_START_A=103,qt.CODE_START_B=104,qt.CODE_START_C=105,qt.CODE_STOP=106;class er extends Pn{constructor(K=!1,J=!1){super(),this.usingCheckDigit=K,this.extendedMode=J,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(K,J,te){let ue=this.counters;ue.fill(0),this.decodeRowResult="";let fe=er.findAsteriskPattern(J,ue),Be=J.getNextSet(fe[1]),je=J.getSize(),ze,qe;do{er.recordPattern(J,Be,ue);let St=er.toNarrowWidePattern(ue);if(St<0)throw new lt;ze=er.patternToChar(St),this.decodeRowResult+=ze,qe=Be;for(let Nt of ue)Be+=Nt;Be=J.getNextSet(Be)}while(ze!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let nt=0;for(let St of ue)nt+=St;let ot=Be-qe-nt;if(Be!==je&&ot*2<nt)throw new lt;if(this.usingCheckDigit){let St=this.decodeRowResult.length-1,Nt=0;for(let Lt=0;Lt<St;Lt++)Nt+=er.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Lt));if(this.decodeRowResult.charAt(St)!==er.ALPHABET_STRING.charAt(Nt%43))throw new pe;this.decodeRowResult=this.decodeRowResult.substring(0,St)}if(this.decodeRowResult.length===0)throw new lt;let At;this.extendedMode?At=er.decodeExtended(this.decodeRowResult):At=this.decodeRowResult;let xt=(fe[1]+fe[0])/2,bt=qe+nt/2;return new Et(At,null,0,[new Zt(xt,K),new Zt(bt,K)],_t.CODE_39,new Date().getTime())}static findAsteriskPattern(K,J){let te=K.getSize(),ue=K.getNextSet(0),fe=0,Be=ue,je=!1,ze=J.length;for(let qe=ue;qe<te;qe++)if(K.get(qe)!==je)J[fe]++;else{if(fe===ze-1){if(this.toNarrowWidePattern(J)===er.ASTERISK_ENCODING&&K.isRange(Math.max(0,Be-Math.floor((qe-Be)/2)),Be,!1))return[Be,qe];Be+=J[0]+J[1],J.copyWithin(0,2,2+fe-1),J[fe-1]=0,J[fe]=0,fe--}else fe++;J[fe]=1,je=!je}throw new lt}static toNarrowWidePattern(K){let J=K.length,te=0,ue;do{let fe=2147483647;for(let ze of K)ze<fe&&ze>te&&(fe=ze);te=fe,ue=0;let Be=0,je=0;for(let ze=0;ze<J;ze++){let qe=K[ze];qe>te&&(je|=1<<J-1-ze,ue++,Be+=qe)}if(ue===3){for(let ze=0;ze<J&&ue>0;ze++){let qe=K[ze];if(qe>te&&(ue--,qe*2>=Be))return-1}return je}}while(ue>3);return-1}static patternToChar(K){for(let J=0;J<er.CHARACTER_ENCODINGS.length;J++)if(er.CHARACTER_ENCODINGS[J]===K)return er.ALPHABET_STRING.charAt(J);if(K===er.ASTERISK_ENCODING)return"*";throw new lt}static decodeExtended(K){let J=K.length,te="";for(let ue=0;ue<J;ue++){let fe=K.charAt(ue);if(fe==="+"||fe==="$"||fe==="%"||fe==="/"){let Be=K.charAt(ue+1),je="\0";switch(fe){case"+":if(Be>="A"&&Be<="Z")je=String.fromCharCode(Be.charCodeAt(0)+32);else throw new Ge;break;case"$":if(Be>="A"&&Be<="Z")je=String.fromCharCode(Be.charCodeAt(0)-64);else throw new Ge;break;case"%":if(Be>="A"&&Be<="E")je=String.fromCharCode(Be.charCodeAt(0)-38);else if(Be>="F"&&Be<="J")je=String.fromCharCode(Be.charCodeAt(0)-11);else if(Be>="K"&&Be<="O")je=String.fromCharCode(Be.charCodeAt(0)+16);else if(Be>="P"&&Be<="T")je=String.fromCharCode(Be.charCodeAt(0)+43);else if(Be==="U")je="\0";else if(Be==="V")je="@";else if(Be==="W")je="`";else if(Be==="X"||Be==="Y"||Be==="Z")je="";else throw new Ge;break;case"/":if(Be>="A"&&Be<="O")je=String.fromCharCode(Be.charCodeAt(0)-32);else if(Be==="Z")je=":";else throw new Ge;break}te+=je,ue++}else te+=fe}return te}}er.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",er.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],er.ASTERISK_ENCODING=148;class Bn extends Pn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(K,J,te){let ue=this.decodeStart(J),fe=this.decodeEnd(J),Be=new pt;Bn.decodeMiddle(J,ue[1],fe[0],Be);let je=Be.toString(),ze=null;te!=null&&(ze=te.get(We.ALLOWED_LENGTHS)),ze==null&&(ze=Bn.DEFAULT_ALLOWED_LENGTHS);let qe=je.length,nt=!1,ot=0;for(let bt of ze){if(qe===bt){nt=!0;break}bt>ot&&(ot=bt)}if(!nt&&qe>ot&&(nt=!0),!nt)throw new Ge;const At=[new Zt(ue[1],K),new Zt(fe[0],K)];return new Et(je,null,0,At,_t.ITF,new Date().getTime())}static decodeMiddle(K,J,te,ue){let fe=new Int32Array(10),Be=new Int32Array(5),je=new Int32Array(5);for(fe.fill(0),Be.fill(0),je.fill(0);J<te;){Pn.recordPattern(K,J,fe);for(let qe=0;qe<5;qe++){let nt=2*qe;Be[qe]=fe[nt],je[qe]=fe[nt+1]}let ze=Bn.decodeDigit(Be);ue.append(ze.toString()),ze=this.decodeDigit(je),ue.append(ze.toString()),fe.forEach(function(qe){J+=qe})}}decodeStart(K){let J=Bn.skipWhiteSpace(K),te=Bn.findGuardPattern(K,J,Bn.START_PATTERN);return this.narrowLineWidth=(te[1]-te[0])/4,this.validateQuietZone(K,te[0]),te}validateQuietZone(K,J){let te=this.narrowLineWidth*10;te=te<J?te:J;for(let ue=J-1;te>0&&ue>=0&&!K.get(ue);ue--)te--;if(te!==0)throw new lt}static skipWhiteSpace(K){const J=K.getSize(),te=K.getNextSet(0);if(te===J)throw new lt;return te}decodeEnd(K){K.reverse();try{let J=Bn.skipWhiteSpace(K),te;try{te=Bn.findGuardPattern(K,J,Bn.END_PATTERN_REVERSED[0])}catch(fe){fe instanceof lt&&(te=Bn.findGuardPattern(K,J,Bn.END_PATTERN_REVERSED[1]))}this.validateQuietZone(K,te[0]);let ue=te[0];return te[0]=K.getSize()-te[1],te[1]=K.getSize()-ue,te}finally{K.reverse()}}static findGuardPattern(K,J,te){let ue=te.length,fe=new Int32Array(ue),Be=K.getSize(),je=!1,ze=0,qe=J;fe.fill(0);for(let nt=J;nt<Be;nt++)if(K.get(nt)!==je)fe[ze]++;else{if(ze===ue-1){if(Pn.patternMatchVariance(fe,te,Bn.MAX_INDIVIDUAL_VARIANCE)<Bn.MAX_AVG_VARIANCE)return[qe,nt];qe+=fe[0]+fe[1],_e.arraycopy(fe,2,fe,0,ze-1),fe[ze-1]=0,fe[ze]=0,ze--}else ze++;fe[ze]=1,je=!je}throw new lt}static decodeDigit(K){let J=Bn.MAX_AVG_VARIANCE,te=-1,ue=Bn.PATTERNS.length;for(let fe=0;fe<ue;fe++){let Be=Bn.PATTERNS[fe],je=Pn.patternMatchVariance(K,Be,Bn.MAX_INDIVIDUAL_VARIANCE);je<J?(J=je,te=fe):je===J&&(te=-1)}if(te>=0)return te%10;throw new lt}}Bn.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Bn.MAX_AVG_VARIANCE=.38,Bn.MAX_INDIVIDUAL_VARIANCE=.5,Bn.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Bn.START_PATTERN=Int32Array.from([1,1,1,1]),Bn.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ur extends Pn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(K){let J=!1,te,ue=0,fe=Int32Array.from([0,0,0]);for(;!J;){fe=Int32Array.from([0,0,0]),te=ur.findGuardPattern(K,ue,!1,this.START_END_PATTERN,fe);let Be=te[0];ue=te[1];let je=Be-(ue-Be);je>=0&&(J=K.isRange(je,Be,!1))}return te}static checkChecksum(K){return ur.checkStandardUPCEANChecksum(K)}static checkStandardUPCEANChecksum(K){let J=K.length;if(J===0)return!1;let te=parseInt(K.charAt(J-1),10);return ur.getStandardUPCEANChecksum(K.substring(0,J-1))===te}static getStandardUPCEANChecksum(K){let J=K.length,te=0;for(let ue=J-1;ue>=0;ue-=2){let fe=K.charAt(ue).charCodeAt(0)-48;if(fe<0||fe>9)throw new Ge;te+=fe}te*=3;for(let ue=J-2;ue>=0;ue-=2){let fe=K.charAt(ue).charCodeAt(0)-48;if(fe<0||fe>9)throw new Ge;te+=fe}return(1e3-te)%10}static decodeEnd(K,J){return ur.findGuardPattern(K,J,!1,ur.START_END_PATTERN,new Int32Array(ur.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(K,J,te,ue){return this.findGuardPattern(K,J,te,ue,new Int32Array(ue.length))}static findGuardPattern(K,J,te,ue,fe){let Be=K.getSize();J=te?K.getNextUnset(J):K.getNextSet(J);let je=0,ze=J,qe=ue.length,nt=te;for(let ot=J;ot<Be;ot++)if(K.get(ot)!==nt)fe[je]++;else{if(je===qe-1){if(Pn.patternMatchVariance(fe,ue,ur.MAX_INDIVIDUAL_VARIANCE)<ur.MAX_AVG_VARIANCE)return Int32Array.from([ze,ot]);ze+=fe[0]+fe[1];let At=fe.slice(2,fe.length-1);for(let xt=0;xt<je-1;xt++)fe[xt]=At[xt];fe[je-1]=0,fe[je]=0,je--}else je++;fe[je]=1,nt=!nt}throw new lt}static decodeDigit(K,J,te,ue){this.recordPattern(K,te,J);let fe=this.MAX_AVG_VARIANCE,Be=-1,je=ue.length;for(let ze=0;ze<je;ze++){let qe=ue[ze],nt=Pn.patternMatchVariance(J,qe,ur.MAX_INDIVIDUAL_VARIANCE);nt<fe&&(fe=nt,Be=ze)}if(Be>=0)return Be;throw new lt}}ur.MAX_AVG_VARIANCE=.48,ur.MAX_INDIVIDUAL_VARIANCE=.7,ur.START_END_PATTERN=Int32Array.from([1,1,1]),ur.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ur.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ur.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class vs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(K,J,te){let ue=this.decodeRowStringBuffer,fe=this.decodeMiddle(J,te,ue),Be=ue.toString(),je=vs.parseExtensionString(Be),ze=[new Zt((te[0]+te[1])/2,K),new Zt(fe,K)],qe=new Et(Be,null,0,ze,_t.UPC_EAN_EXTENSION,new Date().getTime());return je!=null&&qe.putAllMetadata(je),qe}decodeMiddle(K,J,te){let ue=this.decodeMiddleCounters;ue[0]=0,ue[1]=0,ue[2]=0,ue[3]=0;let fe=K.getSize(),Be=J[1],je=0;for(let qe=0;qe<5&&Be<fe;qe++){let nt=ur.decodeDigit(K,ue,Be,ur.L_AND_G_PATTERNS);te+=String.fromCharCode(48+nt%10);for(let ot of ue)Be+=ot;nt>=10&&(je|=1<<4-qe),qe!==4&&(Be=K.getNextSet(Be),Be=K.getNextUnset(Be))}if(te.length!==5)throw new lt;let ze=this.determineCheckDigit(je);if(vs.extensionChecksum(te.toString())!==ze)throw new lt;return Be}static extensionChecksum(K){let J=K.length,te=0;for(let ue=J-2;ue>=0;ue-=2)te+=K.charAt(ue).charCodeAt(0)-48;te*=3;for(let ue=J-1;ue>=0;ue-=2)te+=K.charAt(ue).charCodeAt(0)-48;return te*=3,te%10}determineCheckDigit(K){for(let J=0;J<10;J++)if(K===this.CHECK_DIGIT_ENCODINGS[J])return J;throw new lt}static parseExtensionString(K){if(K.length!==5)return null;let J=vs.parseExtension5String(K);return J==null?null:new Map([[an.SUGGESTED_PRICE,J]])}static parseExtension5String(K){let J;switch(K.charAt(0)){case"0":J="";break;case"5":J="$";break;case"9":switch(K){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}J="";break;default:J="";break}let te=parseInt(K.substring(1)),ue=(te/100).toString(),fe=te%100,Be=fe<10?"0"+fe:fe.toString();return J+ue+"."+Be}}class Vs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(K,J,te){let ue=this.decodeRowStringBuffer,fe=this.decodeMiddle(J,te,ue),Be=ue.toString(),je=Vs.parseExtensionString(Be),ze=[new Zt((te[0]+te[1])/2,K),new Zt(fe,K)],qe=new Et(Be,null,0,ze,_t.UPC_EAN_EXTENSION,new Date().getTime());return je!=null&&qe.putAllMetadata(je),qe}decodeMiddle(K,J,te){let ue=this.decodeMiddleCounters;ue[0]=0,ue[1]=0,ue[2]=0,ue[3]=0;let fe=K.getSize(),Be=J[1],je=0;for(let ze=0;ze<2&&Be<fe;ze++){let qe=ur.decodeDigit(K,ue,Be,ur.L_AND_G_PATTERNS);te+=String.fromCharCode(48+qe%10);for(let nt of ue)Be+=nt;qe>=10&&(je|=1<<1-ze),ze!==1&&(Be=K.getNextSet(Be),Be=K.getNextUnset(Be))}if(te.length!==2)throw new lt;if(parseInt(te.toString())%4!==je)throw new lt;return Be}static parseExtensionString(K){return K.length!==2?null:new Map([[an.ISSUE_NUMBER,parseInt(K)]])}}class ci{static decodeRow(K,J,te){let ue=ur.findGuardPattern(J,te,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new vs().decodeRow(K,J,ue)}catch{return new Vs().decodeRow(K,J,ue)}}}ci.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class jn extends ur{constructor(){super(),this.decodeRowStringBuffer="",jn.L_AND_G_PATTERNS=jn.L_PATTERNS.map(K=>Int32Array.from(K));for(let K=10;K<20;K++){let J=jn.L_PATTERNS[K-10],te=new Int32Array(J.length);for(let ue=0;ue<J.length;ue++)te[ue]=J[J.length-ue-1];jn.L_AND_G_PATTERNS[K]=te}}decodeRow(K,J,te){let ue=jn.findStartGuardPattern(J),fe=te==null?null:te.get(We.NEED_RESULT_POINT_CALLBACK);if(fe!=null){const Wt=new Zt((ue[0]+ue[1])/2,K);fe.foundPossibleResultPoint(Wt)}let Be=this.decodeMiddle(J,ue,this.decodeRowStringBuffer),je=Be.rowOffset,ze=Be.resultString;if(fe!=null){const Wt=new Zt(je,K);fe.foundPossibleResultPoint(Wt)}let qe=this.decodeEnd(J,je);if(fe!=null){const Wt=new Zt((qe[0]+qe[1])/2,K);fe.foundPossibleResultPoint(Wt)}let nt=qe[1],ot=nt+(nt-qe[0]);if(ot>=J.getSize()||!J.isRange(nt,ot,!1))throw new lt;let At=ze.toString();if(At.length<8)throw new Ge;if(!jn.checkChecksum(At))throw new pe;let xt=(ue[1]+ue[0])/2,bt=(qe[1]+qe[0])/2,St=this.getBarcodeFormat(),Nt=[new Zt(xt,K),new Zt(bt,K)],Lt=new Et(At,null,0,Nt,St,new Date().getTime()),Yt=0;try{let Wt=ci.decodeRow(K,J,qe[1]);Lt.putMetadata(an.UPC_EAN_EXTENSION,Wt.getText()),Lt.putAllMetadata(Wt.getResultMetadata()),Lt.addResultPoints(Wt.getResultPoints()),Yt=Wt.getText().length}catch{}let Xt=te==null?null:te.get(We.ALLOWED_EAN_EXTENSIONS);if(Xt!=null){let Wt=!1;for(let Un in Xt)if(Yt.toString()===Un){Wt=!0;break}if(!Wt)throw new lt}return Lt}decodeEnd(K,J){return jn.findGuardPattern(K,J,!1,jn.START_END_PATTERN,new Int32Array(jn.START_END_PATTERN.length).fill(0))}static checkChecksum(K){return jn.checkStandardUPCEANChecksum(K)}static checkStandardUPCEANChecksum(K){let J=K.length;if(J===0)return!1;let te=parseInt(K.charAt(J-1),10);return jn.getStandardUPCEANChecksum(K.substring(0,J-1))===te}static getStandardUPCEANChecksum(K){let J=K.length,te=0;for(let ue=J-1;ue>=0;ue-=2){let fe=K.charAt(ue).charCodeAt(0)-48;if(fe<0||fe>9)throw new Ge;te+=fe}te*=3;for(let ue=J-2;ue>=0;ue-=2){let fe=K.charAt(ue).charCodeAt(0)-48;if(fe<0||fe>9)throw new Ge;te+=fe}return(1e3-te)%10}}class Es extends jn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(K,J,te){let ue=this.decodeMiddleCounters;ue[0]=0,ue[1]=0,ue[2]=0,ue[3]=0;let fe=K.getSize(),Be=J[1],je=0;for(let qe=0;qe<6&&Be<fe;qe++){let nt=jn.decodeDigit(K,ue,Be,jn.L_AND_G_PATTERNS);te+=String.fromCharCode(48+nt%10);for(let ot of ue)Be+=ot;nt>=10&&(je|=1<<5-qe)}te=Es.determineFirstDigit(te,je),Be=jn.findGuardPattern(K,Be,!0,jn.MIDDLE_PATTERN,new Int32Array(jn.MIDDLE_PATTERN.length).fill(0))[1];for(let qe=0;qe<6&&Be<fe;qe++){let nt=jn.decodeDigit(K,ue,Be,jn.L_PATTERNS);te+=String.fromCharCode(48+nt);for(let ot of ue)Be+=ot}return{rowOffset:Be,resultString:te}}getBarcodeFormat(){return _t.EAN_13}static determineFirstDigit(K,J){for(let te=0;te<10;te++)if(J===this.FIRST_DIGIT_ENCODINGS[te])return K=String.fromCharCode(48+te)+K,K;throw new lt}}Es.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Fs extends jn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(K,J,te){const ue=this.decodeMiddleCounters;ue[0]=0,ue[1]=0,ue[2]=0,ue[3]=0;let fe=K.getSize(),Be=J[1];for(let ze=0;ze<4&&Be<fe;ze++){let qe=jn.decodeDigit(K,ue,Be,jn.L_PATTERNS);te+=String.fromCharCode(48+qe);for(let nt of ue)Be+=nt}Be=jn.findGuardPattern(K,Be,!0,jn.MIDDLE_PATTERN,new Int32Array(jn.MIDDLE_PATTERN.length).fill(0))[1];for(let ze=0;ze<4&&Be<fe;ze++){let qe=jn.decodeDigit(K,ue,Be,jn.L_PATTERNS);te+=String.fromCharCode(48+qe);for(let nt of ue)Be+=nt}return{rowOffset:Be,resultString:te}}getBarcodeFormat(){return _t.EAN_8}}class Ei extends jn{constructor(){super(...arguments),this.ean13Reader=new Es}getBarcodeFormat(){return _t.UPC_A}decode(K,J){return this.maybeReturnResult(this.ean13Reader.decode(K))}decodeRow(K,J,te){return this.maybeReturnResult(this.ean13Reader.decodeRow(K,J,te))}decodeMiddle(K,J,te){return this.ean13Reader.decodeMiddle(K,J,te)}maybeReturnResult(K){let J=K.getText();if(J.charAt(0)==="0"){let te=new Et(J.substring(1),null,null,K.getResultPoints(),_t.UPC_A);return K.getResultMetadata()!=null&&te.putAllMetadata(K.getResultMetadata()),te}else throw new lt}reset(){this.ean13Reader.reset()}}class Vr extends jn{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(K,J,te){const ue=this.decodeMiddleCounters.map(qe=>qe);ue[0]=0,ue[1]=0,ue[2]=0,ue[3]=0;const fe=K.getSize();let Be=J[1],je=0;for(let qe=0;qe<6&&Be<fe;qe++){const nt=Vr.decodeDigit(K,ue,Be,Vr.L_AND_G_PATTERNS);te+=String.fromCharCode(48+nt%10);for(let ot of ue)Be+=ot;nt>=10&&(je|=1<<5-qe)}let ze=Vr.determineNumSysAndCheckDigit(te,je);return{rowOffset:Be,resultString:ze}}decodeEnd(K,J){return Vr.findGuardPatternWithoutCounters(K,J,!0,Vr.MIDDLE_END_PATTERN)}checkChecksum(K){return jn.checkChecksum(Vr.convertUPCEtoUPCA(K))}static determineNumSysAndCheckDigit(K,J){for(let te=0;te<=1;te++)for(let ue=0;ue<10;ue++)if(J===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[te][ue]){let fe=String.fromCharCode(48+te),Be=String.fromCharCode(48+ue);return fe+K+Be}throw lt.getNotFoundInstance()}getBarcodeFormat(){return _t.UPC_E}static convertUPCEtoUPCA(K){const J=K.slice(1,7).split("").map(fe=>fe.charCodeAt(0)),te=new pt;te.append(K.charAt(0));let ue=J[5];switch(ue){case 0:case 1:case 2:te.appendChars(J,0,2),te.append(ue),te.append("0000"),te.appendChars(J,2,3);break;case 3:te.appendChars(J,0,3),te.append("00000"),te.appendChars(J,3,2);break;case 4:te.appendChars(J,0,4),te.append("00000"),te.append(J[4]);break;default:te.appendChars(J,0,5),te.append("0000"),te.append(ue);break}return K.length>=8&&te.append(K.charAt(7)),te.toString()}}Vr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Vr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ai extends Pn{constructor(K){super();let J=K==null?null:K.get(We.POSSIBLE_FORMATS),te=[];b(J)?(te.push(new Es),te.push(new Ei),te.push(new Fs),te.push(new Vr)):(J.indexOf(_t.EAN_13)>-1&&te.push(new Es),J.indexOf(_t.UPC_A)>-1&&te.push(new Ei),J.indexOf(_t.EAN_8)>-1&&te.push(new Fs),J.indexOf(_t.UPC_E)>-1&&te.push(new Vr)),this.readers=te}decodeRow(K,J,te){for(let ue of this.readers)try{const fe=ue.decodeRow(K,J,te),Be=fe.getBarcodeFormat()===_t.EAN_13&&fe.getText().charAt(0)==="0",je=te==null?null:te.get(We.POSSIBLE_FORMATS),ze=je==null||je.includes(_t.UPC_A);if(Be&&ze){const qe=fe.getRawBytes(),nt=new Et(fe.getText().substring(1),qe,qe?qe.length:null,fe.getResultPoints(),_t.UPC_A);return nt.putAllMetadata(fe.getResultMetadata()),nt}return fe}catch{}throw new lt}reset(){for(let K of this.readers)K.reset()}}class Ir extends Pn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(K,J){for(let te=0;te<J.length;te++)if(Pn.patternMatchVariance(K,J[te],Ir.MAX_INDIVIDUAL_VARIANCE)<Ir.MAX_AVG_VARIANCE)return te;throw new lt}static count(K){return yn.sum(new Int32Array(K))}static increment(K,J){let te=0,ue=J[0];for(let fe=1;fe<K.length;fe++)J[fe]>ue&&(ue=J[fe],te=fe);K[te]++}static decrement(K,J){let te=0,ue=J[0];for(let fe=1;fe<K.length;fe++)J[fe]<ue&&(ue=J[fe],te=fe);K[te]--}static isFinderPattern(K){let J=K[0]+K[1],te=J+K[2]+K[3],ue=J/te;if(ue>=Ir.MIN_FINDER_PATTERN_RATIO&&ue<=Ir.MAX_FINDER_PATTERN_RATIO){let fe=Number.MAX_SAFE_INTEGER,Be=Number.MIN_SAFE_INTEGER;for(let je of K)je>Be&&(Be=je),je<fe&&(fe=je);return Be<10*fe}return!1}}Ir.MAX_AVG_VARIANCE=.2,Ir.MAX_INDIVIDUAL_VARIANCE=.45,Ir.MIN_FINDER_PATTERN_RATIO=9.5/12,Ir.MAX_FINDER_PATTERN_RATIO=12.5/14;class ks{constructor(K,J){this.value=K,this.checksumPortion=J}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(K){if(!(K instanceof ks))return!1;const J=K;return this.value===J.value&&this.checksumPortion===J.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class zs{constructor(K,J,te,ue,fe){this.value=K,this.startEnd=J,this.value=K,this.startEnd=J,this.resultPoints=new Array,this.resultPoints.push(new Zt(te,fe)),this.resultPoints.push(new Zt(ue,fe))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(K){if(!(K instanceof zs))return!1;const J=K;return this.value===J.value}hashCode(){return this.value}}class Cs{constructor(){}static getRSSvalue(K,J,te){let ue=0;for(let ze of K)ue+=ze;let fe=0,Be=0,je=K.length;for(let ze=0;ze<je-1;ze++){let qe;for(qe=1,Be|=1<<ze;qe<K[ze];qe++,Be&=~(1<<ze)){let nt=Cs.combins(ue-qe-1,je-ze-2);if(te&&Be===0&&ue-qe-(je-ze-1)>=je-ze-1&&(nt-=Cs.combins(ue-qe-(je-ze),je-ze-2)),je-ze-1>1){let ot=0;for(let At=ue-qe-(je-ze-2);At>J;At--)ot+=Cs.combins(ue-qe-At-1,je-ze-3);nt-=ot*(je-1-ze)}else ue-qe>J&&nt--;fe+=nt}ue-=qe}return fe}static combins(K,J){let te,ue;K-J>J?(ue=J,te=K-J):(ue=K-J,te=J);let fe=1,Be=1;for(let je=K;je>te;je--)fe*=je,Be<=ue&&(fe/=Be,Be++);for(;Be<=ue;)fe/=Be,Be++;return fe}}class Ct{static buildBitArray(K){let J=K.length*2-1;K[K.length-1].getRightChar()==null&&(J-=1);let te=12*J,ue=new Ne(te),fe=0,je=K[0].getRightChar().getValue();for(let ze=11;ze>=0;--ze)(je&1<<ze)!=0&&ue.set(fe),fe++;for(let ze=1;ze<K.length;++ze){let qe=K[ze],nt=qe.getLeftChar().getValue();for(let ot=11;ot>=0;--ot)(nt&1<<ot)!=0&&ue.set(fe),fe++;if(qe.getRightChar()!=null){let ot=qe.getRightChar().getValue();for(let At=11;At>=0;--At)(ot&1<<At)!=0&&ue.set(fe),fe++}}return ue}}class Tt{constructor(K,J){J?this.decodedInformation=null:(this.finished=K,this.decodedInformation=J)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ot{constructor(K){this.newPosition=K}getNewPosition(){return this.newPosition}}class zt extends Ot{constructor(K,J){super(K),this.value=J}getValue(){return this.value}isFNC1(){return this.value===zt.FNC1}}zt.FNC1="$";class Jt extends Ot{constructor(K,J,te){super(K),te?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=J}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class sn extends Ot{constructor(K,J,te){if(super(K),J<0||J>10||te<0||te>10)throw new Ge;this.firstDigit=J,this.secondDigit=te}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===sn.FNC1}isSecondDigitFNC1(){return this.secondDigit===sn.FNC1}isAnyFNC1(){return this.firstDigit===sn.FNC1||this.secondDigit===sn.FNC1}}sn.FNC1=10;class $t{constructor(){}static parseFieldsInGeneralPurpose(K){if(!K)return null;if(K.length<2)throw new lt;let J=K.substring(0,2);for(let fe of $t.TWO_DIGIT_DATA_LENGTH)if(fe[0]===J)return fe[1]===$t.VARIABLE_LENGTH?$t.processVariableAI(2,fe[2],K):$t.processFixedAI(2,fe[1],K);if(K.length<3)throw new lt;let te=K.substring(0,3);for(let fe of $t.THREE_DIGIT_DATA_LENGTH)if(fe[0]===te)return fe[1]===$t.VARIABLE_LENGTH?$t.processVariableAI(3,fe[2],K):$t.processFixedAI(3,fe[1],K);for(let fe of $t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(fe[0]===te)return fe[1]===$t.VARIABLE_LENGTH?$t.processVariableAI(4,fe[2],K):$t.processFixedAI(4,fe[1],K);if(K.length<4)throw new lt;let ue=K.substring(0,4);for(let fe of $t.FOUR_DIGIT_DATA_LENGTH)if(fe[0]===ue)return fe[1]===$t.VARIABLE_LENGTH?$t.processVariableAI(4,fe[2],K):$t.processFixedAI(4,fe[1],K);throw new lt}static processFixedAI(K,J,te){if(te.length<K)throw new lt;let ue=te.substring(0,K);if(te.length<K+J)throw new lt;let fe=te.substring(K,K+J),Be=te.substring(K+J),je="("+ue+")"+fe,ze=$t.parseFieldsInGeneralPurpose(Be);return ze==null?je:je+ze}static processVariableAI(K,J,te){let ue=te.substring(0,K),fe;te.length<K+J?fe=te.length:fe=K+J;let Be=te.substring(K,fe),je=te.substring(fe),ze="("+ue+")"+Be,qe=$t.parseFieldsInGeneralPurpose(je);return qe==null?ze:ze+qe}}$t.VARIABLE_LENGTH=[],$t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",$t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",$t.VARIABLE_LENGTH,20],["22",$t.VARIABLE_LENGTH,29],["30",$t.VARIABLE_LENGTH,8],["37",$t.VARIABLE_LENGTH,8],["90",$t.VARIABLE_LENGTH,30],["91",$t.VARIABLE_LENGTH,30],["92",$t.VARIABLE_LENGTH,30],["93",$t.VARIABLE_LENGTH,30],["94",$t.VARIABLE_LENGTH,30],["95",$t.VARIABLE_LENGTH,30],["96",$t.VARIABLE_LENGTH,30],["97",$t.VARIABLE_LENGTH,3],["98",$t.VARIABLE_LENGTH,30],["99",$t.VARIABLE_LENGTH,30]],$t.THREE_DIGIT_DATA_LENGTH=[["240",$t.VARIABLE_LENGTH,30],["241",$t.VARIABLE_LENGTH,30],["242",$t.VARIABLE_LENGTH,6],["250",$t.VARIABLE_LENGTH,30],["251",$t.VARIABLE_LENGTH,30],["253",$t.VARIABLE_LENGTH,17],["254",$t.VARIABLE_LENGTH,20],["400",$t.VARIABLE_LENGTH,30],["401",$t.VARIABLE_LENGTH,30],["402",17],["403",$t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",$t.VARIABLE_LENGTH,20],["421",$t.VARIABLE_LENGTH,15],["422",3],["423",$t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],$t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",$t.VARIABLE_LENGTH,15],["391",$t.VARIABLE_LENGTH,18],["392",$t.VARIABLE_LENGTH,15],["393",$t.VARIABLE_LENGTH,18],["703",$t.VARIABLE_LENGTH,30]],$t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",$t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",$t.VARIABLE_LENGTH,20],["8003",$t.VARIABLE_LENGTH,30],["8004",$t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",$t.VARIABLE_LENGTH,30],["8008",$t.VARIABLE_LENGTH,12],["8018",18],["8020",$t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",$t.VARIABLE_LENGTH,70],["8200",$t.VARIABLE_LENGTH,70]];class rn{constructor(K){this.buffer=new pt,this.information=K}decodeAllCodes(K,J){let te=J,ue=null;do{let fe=this.decodeGeneralPurposeField(te,ue),Be=$t.parseFieldsInGeneralPurpose(fe.getNewString());if(Be!=null&&K.append(Be),fe.isRemaining()?ue=""+fe.getRemainingValue():ue=null,te===fe.getNewPosition())break;te=fe.getNewPosition()}while(!0);return K.toString()}isStillNumeric(K){if(K+7>this.information.getSize())return K+4<=this.information.getSize();for(let J=K;J<K+3;++J)if(this.information.get(J))return!0;return this.information.get(K+3)}decodeNumeric(K){if(K+7>this.information.getSize()){let fe=this.extractNumericValueFromBitArray(K,4);return fe===0?new sn(this.information.getSize(),sn.FNC1,sn.FNC1):new sn(this.information.getSize(),fe-1,sn.FNC1)}let J=this.extractNumericValueFromBitArray(K,7),te=(J-8)/11,ue=(J-8)%11;return new sn(K+7,te,ue)}extractNumericValueFromBitArray(K,J){return rn.extractNumericValueFromBitArray(this.information,K,J)}static extractNumericValueFromBitArray(K,J,te){let ue=0;for(let fe=0;fe<te;++fe)K.get(J+fe)&&(ue|=1<<te-fe-1);return ue}decodeGeneralPurposeField(K,J){this.buffer.setLengthToZero(),J!=null&&this.buffer.append(J),this.current.setPosition(K);let te=this.parseBlocks();return te!=null&&te.isRemaining()?new Jt(this.current.getPosition(),this.buffer.toString(),te.getRemainingValue()):new Jt(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let K,J;do{let te=this.current.getPosition();if(this.current.isAlpha()?(J=this.parseAlphaBlock(),K=J.isFinished()):this.current.isIsoIec646()?(J=this.parseIsoIec646Block(),K=J.isFinished()):(J=this.parseNumericBlock(),K=J.isFinished()),!(te!==this.current.getPosition())&&!K)break}while(!K);return J.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let K=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(K.getNewPosition()),K.isFirstDigitFNC1()){let J;return K.isSecondDigitFNC1()?J=new Jt(this.current.getPosition(),this.buffer.toString()):J=new Jt(this.current.getPosition(),this.buffer.toString(),K.getSecondDigit()),new Tt(!0,J)}if(this.buffer.append(K.getFirstDigit()),K.isSecondDigitFNC1()){let J=new Jt(this.current.getPosition(),this.buffer.toString());return new Tt(!0,J)}this.buffer.append(K.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Tt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let K=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(K.getNewPosition()),K.isFNC1()){let J=new Jt(this.current.getPosition(),this.buffer.toString());return new Tt(!0,J)}this.buffer.append(K.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Tt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let K=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(K.getNewPosition()),K.isFNC1()){let J=new Jt(this.current.getPosition(),this.buffer.toString());return new Tt(!0,J)}this.buffer.append(K.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Tt(!1)}isStillIsoIec646(K){if(K+5>this.information.getSize())return!1;let J=this.extractNumericValueFromBitArray(K,5);if(J>=5&&J<16)return!0;if(K+7>this.information.getSize())return!1;let te=this.extractNumericValueFromBitArray(K,7);if(te>=64&&te<116)return!0;if(K+8>this.information.getSize())return!1;let ue=this.extractNumericValueFromBitArray(K,8);return ue>=232&&ue<253}decodeIsoIec646(K){let J=this.extractNumericValueFromBitArray(K,5);if(J===15)return new zt(K+5,zt.FNC1);if(J>=5&&J<15)return new zt(K+5,"0"+(J-5));let te=this.extractNumericValueFromBitArray(K,7);if(te>=64&&te<90)return new zt(K+7,""+(te+1));if(te>=90&&te<116)return new zt(K+7,""+(te+7));let ue=this.extractNumericValueFromBitArray(K,8),fe;switch(ue){case 232:fe="!";break;case 233:fe='"';break;case 234:fe="%";break;case 235:fe="&";break;case 236:fe="'";break;case 237:fe="(";break;case 238:fe=")";break;case 239:fe="*";break;case 240:fe="+";break;case 241:fe=",";break;case 242:fe="-";break;case 243:fe=".";break;case 244:fe="/";break;case 245:fe=":";break;case 246:fe=";";break;case 247:fe="<";break;case 248:fe="=";break;case 249:fe=">";break;case 250:fe="?";break;case 251:fe="_";break;case 252:fe=" ";break;default:throw new Ge}return new zt(K+8,fe)}isStillAlpha(K){if(K+5>this.information.getSize())return!1;let J=this.extractNumericValueFromBitArray(K,5);if(J>=5&&J<16)return!0;if(K+6>this.information.getSize())return!1;let te=this.extractNumericValueFromBitArray(K,6);return te>=16&&te<63}decodeAlphanumeric(K){let J=this.extractNumericValueFromBitArray(K,5);if(J===15)return new zt(K+5,zt.FNC1);if(J>=5&&J<15)return new zt(K+5,"0"+(J-5));let te=this.extractNumericValueFromBitArray(K,6);if(te>=32&&te<58)return new zt(K+6,""+(te+33));let ue;switch(te){case 58:ue="*";break;case 59:ue=",";break;case 60:ue="-";break;case 61:ue=".";break;case 62:ue="/";break;default:throw new Zn("Decoding invalid alphanumeric value: "+te)}return new zt(K+6,ue)}isAlphaTo646ToAlphaLatch(K){if(K+1>this.information.getSize())return!1;for(let J=0;J<5&&J+K<this.information.getSize();++J)if(J===2){if(!this.information.get(K+2))return!1}else if(this.information.get(K+J))return!1;return!0}isAlphaOr646ToNumericLatch(K){if(K+3>this.information.getSize())return!1;for(let J=K;J<K+3;++J)if(this.information.get(J))return!1;return!0}isNumericToAlphaNumericLatch(K){if(K+1>this.information.getSize())return!1;for(let J=0;J<4&&J+K<this.information.getSize();++J)if(this.information.get(K+J))return!1;return!0}}class nn{constructor(K){this.information=K,this.generalDecoder=new rn(K)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class en extends nn{constructor(K){super(K)}encodeCompressedGtin(K,J){K.append("(01)");let te=K.length();K.append("9"),this.encodeCompressedGtinWithoutAI(K,J,te)}encodeCompressedGtinWithoutAI(K,J,te){for(let ue=0;ue<4;++ue){let fe=this.getGeneralDecoder().extractNumericValueFromBitArray(J+10*ue,10);fe/100===0&&K.append("0"),fe/10===0&&K.append("0"),K.append(fe)}en.appendCheckDigit(K,te)}static appendCheckDigit(K,J){let te=0;for(let ue=0;ue<13;ue++){let fe=K.charAt(ue+J).charCodeAt(0)-48;te+=(ue&1)===0?3*fe:fe}te=10-te%10,te===10&&(te=0),K.append(te)}}en.GTIN_SIZE=40;class fn extends en{constructor(K){super(K)}parseInformation(){let K=new pt;K.append("(01)");let J=K.length(),te=this.getGeneralDecoder().extractNumericValueFromBitArray(fn.HEADER_SIZE,4);return K.append(te),this.encodeCompressedGtinWithoutAI(K,fn.HEADER_SIZE+4,J),this.getGeneralDecoder().decodeAllCodes(K,fn.HEADER_SIZE+44)}}fn.HEADER_SIZE=4;class un extends nn{constructor(K){super(K)}parseInformation(){let K=new pt;return this.getGeneralDecoder().decodeAllCodes(K,un.HEADER_SIZE)}}un.HEADER_SIZE=5;class Sn extends en{constructor(K){super(K)}encodeCompressedWeight(K,J,te){let ue=this.getGeneralDecoder().extractNumericValueFromBitArray(J,te);this.addWeightCode(K,ue);let fe=this.checkWeight(ue),Be=1e5;for(let je=0;je<5;++je)fe/Be===0&&K.append("0"),Be/=10;K.append(fe)}}class Hn extends Sn{constructor(K){super(K)}parseInformation(){if(this.getInformation().getSize()!=Hn.HEADER_SIZE+Sn.GTIN_SIZE+Hn.WEIGHT_SIZE)throw new lt;let K=new pt;return this.encodeCompressedGtin(K,Hn.HEADER_SIZE),this.encodeCompressedWeight(K,Hn.HEADER_SIZE+Sn.GTIN_SIZE,Hn.WEIGHT_SIZE),K.toString()}}Hn.HEADER_SIZE=5,Hn.WEIGHT_SIZE=15;class Nr extends Hn{constructor(K){super(K)}addWeightCode(K,J){K.append("(3103)")}checkWeight(K){return K}}class br extends Hn{constructor(K){super(K)}addWeightCode(K,J){J<1e4?K.append("(3202)"):K.append("(3203)")}checkWeight(K){return K<1e4?K:K-1e4}}class $n extends en{constructor(K){super(K)}parseInformation(){if(this.getInformation().getSize()<$n.HEADER_SIZE+en.GTIN_SIZE)throw new lt;let K=new pt;this.encodeCompressedGtin(K,$n.HEADER_SIZE);let J=this.getGeneralDecoder().extractNumericValueFromBitArray($n.HEADER_SIZE+en.GTIN_SIZE,$n.LAST_DIGIT_SIZE);K.append("(392"),K.append(J),K.append(")");let te=this.getGeneralDecoder().decodeGeneralPurposeField($n.HEADER_SIZE+en.GTIN_SIZE+$n.LAST_DIGIT_SIZE,null);return K.append(te.getNewString()),K.toString()}}$n.HEADER_SIZE=8,$n.LAST_DIGIT_SIZE=2;class _n extends en{constructor(K){super(K)}parseInformation(){if(this.getInformation().getSize()<_n.HEADER_SIZE+en.GTIN_SIZE)throw new lt;let K=new pt;this.encodeCompressedGtin(K,_n.HEADER_SIZE);let J=this.getGeneralDecoder().extractNumericValueFromBitArray(_n.HEADER_SIZE+en.GTIN_SIZE,_n.LAST_DIGIT_SIZE);K.append("(393"),K.append(J),K.append(")");let te=this.getGeneralDecoder().extractNumericValueFromBitArray(_n.HEADER_SIZE+en.GTIN_SIZE+_n.LAST_DIGIT_SIZE,_n.FIRST_THREE_DIGITS_SIZE);te/100==0&&K.append("0"),te/10==0&&K.append("0"),K.append(te);let ue=this.getGeneralDecoder().decodeGeneralPurposeField(_n.HEADER_SIZE+en.GTIN_SIZE+_n.LAST_DIGIT_SIZE+_n.FIRST_THREE_DIGITS_SIZE,null);return K.append(ue.getNewString()),K.toString()}}_n.HEADER_SIZE=8,_n.LAST_DIGIT_SIZE=2,_n.FIRST_THREE_DIGITS_SIZE=10;class Qn extends Sn{constructor(K,J,te){super(K),this.dateCode=te,this.firstAIdigits=J}parseInformation(){if(this.getInformation().getSize()!=Qn.HEADER_SIZE+Qn.GTIN_SIZE+Qn.WEIGHT_SIZE+Qn.DATE_SIZE)throw new lt;let K=new pt;return this.encodeCompressedGtin(K,Qn.HEADER_SIZE),this.encodeCompressedWeight(K,Qn.HEADER_SIZE+Qn.GTIN_SIZE,Qn.WEIGHT_SIZE),this.encodeCompressedDate(K,Qn.HEADER_SIZE+Qn.GTIN_SIZE+Qn.WEIGHT_SIZE),K.toString()}encodeCompressedDate(K,J){let te=this.getGeneralDecoder().extractNumericValueFromBitArray(J,Qn.DATE_SIZE);if(te==38400)return;K.append("("),K.append(this.dateCode),K.append(")");let ue=te%32;te/=32;let fe=te%12+1;te/=12;let Be=te;Be/10==0&&K.append("0"),K.append(Be),fe/10==0&&K.append("0"),K.append(fe),ue/10==0&&K.append("0"),K.append(ue)}addWeightCode(K,J){K.append("("),K.append(this.firstAIdigits),K.append(J/1e5),K.append(")")}checkWeight(K){return K%1e5}}Qn.HEADER_SIZE=8,Qn.WEIGHT_SIZE=20,Qn.DATE_SIZE=16;function ws(at){try{if(at.get(1))return new fn(at);if(!at.get(2))return new un(at);switch(rn.extractNumericValueFromBitArray(at,1,4)){case 4:return new Nr(at);case 5:return new br(at)}switch(rn.extractNumericValueFromBitArray(at,1,5)){case 12:return new $n(at);case 13:return new _n(at)}switch(rn.extractNumericValueFromBitArray(at,1,7)){case 56:return new Qn(at,"310","11");case 57:return new Qn(at,"320","11");case 58:return new Qn(at,"310","13");case 59:return new Qn(at,"320","13");case 60:return new Qn(at,"310","15");case 61:return new Qn(at,"320","15");case 62:return new Qn(at,"310","17");case 63:return new Qn(at,"320","17")}}catch(K){throw console.log(K),new Zn("unknown decoder: "+at)}}class Fr{constructor(K,J,te,ue){this.leftchar=K,this.rightchar=J,this.finderpattern=te,this.maybeLast=ue}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(K,J){return K instanceof Fr?Fr.equalsOrNull(K.leftchar,J.leftchar)&&Fr.equalsOrNull(K.rightchar,J.rightchar)&&Fr.equalsOrNull(K.finderpattern,J.finderpattern):!1}static equalsOrNull(K,J){return K===null?J===null:Fr.equals(K,J)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class sr{constructor(K,J,te){this.pairs=K,this.rowNumber=J,this.wasReversed=te}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(K){return this.checkEqualitity(this,K)}toString(){return"{ "+this.pairs+" }"}equals(K,J){return K instanceof sr?this.checkEqualitity(K,J)&&K.wasReversed===J.wasReversed:!1}checkEqualitity(K,J){if(!K||!J)return;let te;return K.forEach((ue,fe)=>{J.forEach(Be=>{ue.getLeftChar().getValue()===Be.getLeftChar().getValue()&&ue.getRightChar().getValue()===Be.getRightChar().getValue()&&ue.getFinderPatter().getValue()===Be.getFinderPatter().getValue()&&(te=!0)})}),te}}class Gt extends Ir{constructor(K){super(...arguments),this.pairs=new Array(Gt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=K===!0}decodeRow(K,J,te){this.pairs.length=0,this.startFromEven=!1;try{return Gt.constructResult(this.decodeRow2pairs(K,J))}catch(ue){this.verbose&&console.log(ue)}return this.pairs.length=0,this.startFromEven=!0,Gt.constructResult(this.decodeRow2pairs(K,J))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(K,J){let te=!1;for(;!te;)try{this.pairs.push(this.retrieveNextPair(J,this.pairs,K))}catch(fe){if(fe instanceof lt){if(!this.pairs.length)throw new lt;te=!0}}if(this.checkChecksum())return this.pairs;let ue;if(this.rows.length?ue=!0:ue=!1,this.storeRow(K,!1),ue){let fe=this.checkRowsBoolean(!1);if(fe!=null||(fe=this.checkRowsBoolean(!0),fe!=null))return fe}throw new lt}checkRowsBoolean(K){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,K&&(this.rows=this.rows.reverse());let J=null;try{J=this.checkRows(new Array,0)}catch(te){this.verbose&&console.log(te)}return K&&(this.rows=this.rows.reverse()),J}checkRows(K,J){for(let te=J;te<this.rows.length;te++){let ue=this.rows[te];this.pairs.length=0;for(let Be of K)this.pairs.push(Be.getPairs());if(this.pairs.push(ue.getPairs()),!Gt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let fe=new Array(K);fe.push(ue);try{return this.checkRows(fe,te+1)}catch(Be){this.verbose&&console.log(Be)}}throw new lt}static isValidSequence(K){for(let J of Gt.FINDER_PATTERN_SEQUENCES){if(K.length>J.length)continue;let te=!0;for(let ue=0;ue<K.length;ue++)if(K[ue].getFinderPattern().getValue()!=J[ue]){te=!1;break}if(te)return!0}return!1}storeRow(K,J){let te=0,ue=!1,fe=!1;for(;te<this.rows.length;){let Be=this.rows[te];if(Be.getRowNumber()>K){fe=Be.isEquivalent(this.pairs);break}ue=Be.isEquivalent(this.pairs),te++}fe||ue||Gt.isPartialRow(this.pairs,this.rows)||(this.rows.push(te,new sr(this.pairs,K,J)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(K,J){for(let te of J)if(te.getPairs().length!==K.length){for(let ue of te.getPairs())for(let fe of K)if(Fr.equals(ue,fe))break}}static isPartialRow(K,J){for(let te of J){let ue=!0;for(let fe of K){let Be=!1;for(let je of te.getPairs())if(fe.equals(je)){Be=!0;break}if(!Be){ue=!1;break}}if(ue)return!0}return!1}getRows(){return this.rows}static constructResult(K){let J=Ct.buildBitArray(K),ue=ws(J).parseInformation(),fe=K[0].getFinderPattern().getResultPoints(),Be=K[K.length-1].getFinderPattern().getResultPoints(),je=[fe[0],fe[1],Be[0],Be[1]];return new Et(ue,null,null,je,_t.RSS_EXPANDED,null)}checkChecksum(){let K=this.pairs.get(0),J=K.getLeftChar(),te=K.getRightChar();if(te==null)return!1;let ue=te.getChecksumPortion(),fe=2;for(let je=1;je<this.pairs.size();++je){let ze=this.pairs.get(je);ue+=ze.getLeftChar().getChecksumPortion(),fe++;let qe=ze.getRightChar();qe!=null&&(ue+=qe.getChecksumPortion(),fe++)}return ue%=211,211*(fe-4)+ue==J.getValue()}static getNextSecondBar(K,J){let te;return K.get(J)?(te=K.getNextUnset(J),te=K.getNextSet(te)):(te=K.getNextSet(J),te=K.getNextUnset(te)),te}retrieveNextPair(K,J,te){let ue=J.length%2==0;this.startFromEven&&(ue=!ue);let fe,Be=!0,je=-1;do this.findNextPair(K,J,je),fe=this.parseFoundFinderPattern(K,te,ue),fe==null?je=Gt.getNextSecondBar(K,this.startEnd[0]):Be=!1;while(Be);let ze=this.decodeDataCharacter(K,fe,ue,!0);if(!this.isEmptyPair(J)&&J[J.length-1].mustBeLast())throw new lt;let qe;try{qe=this.decodeDataCharacter(K,fe,ue,!1)}catch(nt){qe=null,this.verbose&&console.log(nt)}return new Fr(ze,qe,fe,!0)}isEmptyPair(K){return K.length===0}findNextPair(K,J,te){let ue=this.getDecodeFinderCounters();ue[0]=0,ue[1]=0,ue[2]=0,ue[3]=0;let fe=K.getSize(),Be;te>=0?Be=te:this.isEmptyPair(J)?Be=0:Be=J[J.length-1].getFinderPattern().getStartEnd()[1];let je=J.length%2!=0;this.startFromEven&&(je=!je);let ze=!1;for(;Be<fe&&(ze=!K.get(Be),!!ze);)Be++;let qe=0,nt=Be;for(let ot=Be;ot<fe;ot++)if(K.get(ot)!=ze)ue[qe]++;else{if(qe==3){if(je&&Gt.reverseCounters(ue),Gt.isFinderPattern(ue)){this.startEnd[0]=nt,this.startEnd[1]=ot;return}je&&Gt.reverseCounters(ue),nt+=ue[0]+ue[1],ue[0]=ue[2],ue[1]=ue[3],ue[2]=0,ue[3]=0,qe--}else qe++;ue[qe]=1,ze=!ze}throw new lt}static reverseCounters(K){let J=K.length;for(let te=0;te<J/2;++te){let ue=K[te];K[te]=K[J-te-1],K[J-te-1]=ue}}parseFoundFinderPattern(K,J,te){let ue,fe,Be;if(te){let qe=this.startEnd[0]-1;for(;qe>=0&&!K.get(qe);)qe--;qe++,ue=this.startEnd[0]-qe,fe=qe,Be=this.startEnd[1]}else fe=this.startEnd[0],Be=K.getNextUnset(this.startEnd[1]+1),ue=Be-this.startEnd[1];let je=this.getDecodeFinderCounters();_e.arraycopy(je,0,je,1,je.length-1),je[0]=ue;let ze;try{ze=this.parseFinderValue(je,Gt.FINDER_PATTERNS)}catch{return null}return new zs(ze,[fe,Be],fe,Be,J)}decodeDataCharacter(K,J,te,ue){let fe=this.getDataCharacterCounters();for(let hr=0;hr<fe.length;hr++)fe[hr]=0;if(ue)Gt.recordPatternInReverse(K,J.getStartEnd()[0],fe);else{Gt.recordPattern(K,J.getStartEnd()[1],fe);for(let hr=0,rs=fe.length-1;hr<rs;hr++,rs--){let gs=fe[hr];fe[hr]=fe[rs],fe[rs]=gs}}let Be=17,je=yn.sum(new Int32Array(fe))/Be,ze=(J.getStartEnd()[1]-J.getStartEnd()[0])/15;if(Math.abs(je-ze)/ze>.3)throw new lt;let qe=this.getOddCounts(),nt=this.getEvenCounts(),ot=this.getOddRoundingErrors(),At=this.getEvenRoundingErrors();for(let hr=0;hr<fe.length;hr++){let rs=1*fe[hr]/je,gs=rs+.5;if(gs<1){if(rs<.3)throw new lt;gs=1}else if(gs>8){if(rs>8.7)throw new lt;gs=8}let na=hr/2;(hr&1)==0?(qe[na]=gs,ot[na]=rs-gs):(nt[na]=gs,At[na]=rs-gs)}this.adjustOddEvenCounts(Be);let xt=4*J.getValue()+(te?0:2)+(ue?0:1)-1,bt=0,St=0;for(let hr=qe.length-1;hr>=0;hr--){if(Gt.isNotA1left(J,te,ue)){let rs=Gt.WEIGHTS[xt][2*hr];St+=qe[hr]*rs}bt+=qe[hr]}let Nt=0;for(let hr=nt.length-1;hr>=0;hr--)if(Gt.isNotA1left(J,te,ue)){let rs=Gt.WEIGHTS[xt][2*hr+1];Nt+=nt[hr]*rs}let Lt=St+Nt;if((bt&1)!=0||bt>13||bt<4)throw new lt;let Yt=(13-bt)/2,Xt=Gt.SYMBOL_WIDEST[Yt],Wt=9-Xt,Un=Cs.getRSSvalue(qe,Xt,!0),In=Cs.getRSSvalue(nt,Wt,!1),Lr=Gt.EVEN_TOTAL_SUBSET[Yt],Bs=Gt.GSUM[Yt],cs=Un*Lr+In+Bs;return new ks(cs,Lt)}static isNotA1left(K,J,te){return!(K.getValue()==0&&J&&te)}adjustOddEvenCounts(K){let J=yn.sum(new Int32Array(this.getOddCounts())),te=yn.sum(new Int32Array(this.getEvenCounts())),ue=!1,fe=!1;J>13?fe=!0:J<4&&(ue=!0);let Be=!1,je=!1;te>13?je=!0:te<4&&(Be=!0);let ze=J+te-K,qe=(J&1)==1,nt=(te&1)==0;if(ze==1)if(qe){if(nt)throw new lt;fe=!0}else{if(!nt)throw new lt;je=!0}else if(ze==-1)if(qe){if(nt)throw new lt;ue=!0}else{if(!nt)throw new lt;Be=!0}else if(ze==0){if(qe){if(!nt)throw new lt;J<te?(ue=!0,je=!0):(fe=!0,Be=!0)}else if(nt)throw new lt}else throw new lt;if(ue){if(fe)throw new lt;Gt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(fe&&Gt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),Be){if(je)throw new lt;Gt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}je&&Gt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Gt.SYMBOL_WIDEST=[7,5,4,3,1],Gt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Gt.GSUM=[0,348,1388,2948,3988],Gt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Gt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Gt.FINDER_PAT_A=0,Gt.FINDER_PAT_B=1,Gt.FINDER_PAT_C=2,Gt.FINDER_PAT_D=3,Gt.FINDER_PAT_E=4,Gt.FINDER_PAT_F=5,Gt.FINDER_PATTERN_SEQUENCES=[[Gt.FINDER_PAT_A,Gt.FINDER_PAT_A],[Gt.FINDER_PAT_A,Gt.FINDER_PAT_B,Gt.FINDER_PAT_B],[Gt.FINDER_PAT_A,Gt.FINDER_PAT_C,Gt.FINDER_PAT_B,Gt.FINDER_PAT_D],[Gt.FINDER_PAT_A,Gt.FINDER_PAT_E,Gt.FINDER_PAT_B,Gt.FINDER_PAT_D,Gt.FINDER_PAT_C],[Gt.FINDER_PAT_A,Gt.FINDER_PAT_E,Gt.FINDER_PAT_B,Gt.FINDER_PAT_D,Gt.FINDER_PAT_D,Gt.FINDER_PAT_F],[Gt.FINDER_PAT_A,Gt.FINDER_PAT_E,Gt.FINDER_PAT_B,Gt.FINDER_PAT_D,Gt.FINDER_PAT_E,Gt.FINDER_PAT_F,Gt.FINDER_PAT_F],[Gt.FINDER_PAT_A,Gt.FINDER_PAT_A,Gt.FINDER_PAT_B,Gt.FINDER_PAT_B,Gt.FINDER_PAT_C,Gt.FINDER_PAT_C,Gt.FINDER_PAT_D,Gt.FINDER_PAT_D],[Gt.FINDER_PAT_A,Gt.FINDER_PAT_A,Gt.FINDER_PAT_B,Gt.FINDER_PAT_B,Gt.FINDER_PAT_C,Gt.FINDER_PAT_C,Gt.FINDER_PAT_D,Gt.FINDER_PAT_E,Gt.FINDER_PAT_E],[Gt.FINDER_PAT_A,Gt.FINDER_PAT_A,Gt.FINDER_PAT_B,Gt.FINDER_PAT_B,Gt.FINDER_PAT_C,Gt.FINDER_PAT_C,Gt.FINDER_PAT_D,Gt.FINDER_PAT_E,Gt.FINDER_PAT_F,Gt.FINDER_PAT_F],[Gt.FINDER_PAT_A,Gt.FINDER_PAT_A,Gt.FINDER_PAT_B,Gt.FINDER_PAT_B,Gt.FINDER_PAT_C,Gt.FINDER_PAT_D,Gt.FINDER_PAT_D,Gt.FINDER_PAT_E,Gt.FINDER_PAT_E,Gt.FINDER_PAT_F,Gt.FINDER_PAT_F]],Gt.MAX_PAIRS=11;class ui extends ks{constructor(K,J,te){super(K,J),this.count=0,this.finderPattern=te}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Gn extends Ir{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(K,J,te){const ue=this.decodePair(J,!1,K,te);Gn.addOrTally(this.possibleLeftPairs,ue),J.reverse();let fe=this.decodePair(J,!0,K,te);Gn.addOrTally(this.possibleRightPairs,fe),J.reverse();for(let Be of this.possibleLeftPairs)if(Be.getCount()>1){for(let je of this.possibleRightPairs)if(je.getCount()>1&&Gn.checkChecksum(Be,je))return Gn.constructResult(Be,je)}throw new lt}static addOrTally(K,J){if(J==null)return;let te=!1;for(let ue of K)if(ue.getValue()===J.getValue()){ue.incrementCount(),te=!0;break}te||K.push(J)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(K,J){let te=4537077*K.getValue()+J.getValue(),ue=new String(te).toString(),fe=new pt;for(let qe=13-ue.length;qe>0;qe--)fe.append("0");fe.append(ue);let Be=0;for(let qe=0;qe<13;qe++){let nt=fe.charAt(qe).charCodeAt(0)-48;Be+=(qe&1)===0?3*nt:nt}Be=10-Be%10,Be===10&&(Be=0),fe.append(Be.toString());let je=K.getFinderPattern().getResultPoints(),ze=J.getFinderPattern().getResultPoints();return new Et(fe.toString(),null,0,[je[0],je[1],ze[0],ze[1]],_t.RSS_14,new Date().getTime())}static checkChecksum(K,J){let te=(K.getChecksumPortion()+16*J.getChecksumPortion())%79,ue=9*K.getFinderPattern().getValue()+J.getFinderPattern().getValue();return ue>72&&ue--,ue>8&&ue--,te===ue}decodePair(K,J,te,ue){try{let fe=this.findFinderPattern(K,J),Be=this.parseFoundFinderPattern(K,te,J,fe),je=ue==null?null:ue.get(We.NEED_RESULT_POINT_CALLBACK);if(je!=null){let nt=(fe[0]+fe[1])/2;J&&(nt=K.getSize()-1-nt),je.foundPossibleResultPoint(new Zt(nt,te))}let ze=this.decodeDataCharacter(K,Be,!0),qe=this.decodeDataCharacter(K,Be,!1);return new ui(1597*ze.getValue()+qe.getValue(),ze.getChecksumPortion()+4*qe.getChecksumPortion(),Be)}catch{return null}}decodeDataCharacter(K,J,te){let ue=this.getDataCharacterCounters();for(let Nt=0;Nt<ue.length;Nt++)ue[Nt]=0;if(te)Pn.recordPatternInReverse(K,J.getStartEnd()[0],ue);else{Pn.recordPattern(K,J.getStartEnd()[1]+1,ue);for(let Nt=0,Lt=ue.length-1;Nt<Lt;Nt++,Lt--){let Yt=ue[Nt];ue[Nt]=ue[Lt],ue[Lt]=Yt}}let fe=te?16:15,Be=yn.sum(new Int32Array(ue))/fe,je=this.getOddCounts(),ze=this.getEvenCounts(),qe=this.getOddRoundingErrors(),nt=this.getEvenRoundingErrors();for(let Nt=0;Nt<ue.length;Nt++){let Lt=ue[Nt]/Be,Yt=Math.floor(Lt+.5);Yt<1?Yt=1:Yt>8&&(Yt=8);let Xt=Math.floor(Nt/2);(Nt&1)===0?(je[Xt]=Yt,qe[Xt]=Lt-Yt):(ze[Xt]=Yt,nt[Xt]=Lt-Yt)}this.adjustOddEvenCounts(te,fe);let ot=0,At=0;for(let Nt=je.length-1;Nt>=0;Nt--)At*=9,At+=je[Nt],ot+=je[Nt];let xt=0,bt=0;for(let Nt=ze.length-1;Nt>=0;Nt--)xt*=9,xt+=ze[Nt],bt+=ze[Nt];let St=At+3*xt;if(te){if((ot&1)!==0||ot>12||ot<4)throw new lt;let Nt=(12-ot)/2,Lt=Gn.OUTSIDE_ODD_WIDEST[Nt],Yt=9-Lt,Xt=Cs.getRSSvalue(je,Lt,!1),Wt=Cs.getRSSvalue(ze,Yt,!0),Un=Gn.OUTSIDE_EVEN_TOTAL_SUBSET[Nt],In=Gn.OUTSIDE_GSUM[Nt];return new ks(Xt*Un+Wt+In,St)}else{if((bt&1)!==0||bt>10||bt<4)throw new lt;let Nt=(10-bt)/2,Lt=Gn.INSIDE_ODD_WIDEST[Nt],Yt=9-Lt,Xt=Cs.getRSSvalue(je,Lt,!0),Wt=Cs.getRSSvalue(ze,Yt,!1),Un=Gn.INSIDE_ODD_TOTAL_SUBSET[Nt],In=Gn.INSIDE_GSUM[Nt];return new ks(Wt*Un+Xt+In,St)}}findFinderPattern(K,J){let te=this.getDecodeFinderCounters();te[0]=0,te[1]=0,te[2]=0,te[3]=0;let ue=K.getSize(),fe=!1,Be=0;for(;Be<ue&&(fe=!K.get(Be),J!==fe);)Be++;let je=0,ze=Be;for(let qe=Be;qe<ue;qe++)if(K.get(qe)!==fe)te[je]++;else{if(je===3){if(Ir.isFinderPattern(te))return[ze,qe];ze+=te[0]+te[1],te[0]=te[2],te[1]=te[3],te[2]=0,te[3]=0,je--}else je++;te[je]=1,fe=!fe}throw new lt}parseFoundFinderPattern(K,J,te,ue){let fe=K.get(ue[0]),Be=ue[0]-1;for(;Be>=0&&fe!==K.get(Be);)Be--;Be++;const je=ue[0]-Be,ze=this.getDecodeFinderCounters(),qe=new Int32Array(ze.length);_e.arraycopy(ze,0,qe,1,ze.length-1),qe[0]=je;const nt=this.parseFinderValue(qe,Gn.FINDER_PATTERNS);let ot=Be,At=ue[1];return te&&(ot=K.getSize()-1-ot,At=K.getSize()-1-At),new zs(nt,[Be,ue[1]],ot,At,J)}adjustOddEvenCounts(K,J){let te=yn.sum(new Int32Array(this.getOddCounts())),ue=yn.sum(new Int32Array(this.getEvenCounts())),fe=!1,Be=!1,je=!1,ze=!1;K?(te>12?Be=!0:te<4&&(fe=!0),ue>12?ze=!0:ue<4&&(je=!0)):(te>11?Be=!0:te<5&&(fe=!0),ue>10?ze=!0:ue<4&&(je=!0));let qe=te+ue-J,nt=(te&1)===(K?1:0),ot=(ue&1)===1;if(qe===1)if(nt){if(ot)throw new lt;Be=!0}else{if(!ot)throw new lt;ze=!0}else if(qe===-1)if(nt){if(ot)throw new lt;fe=!0}else{if(!ot)throw new lt;je=!0}else if(qe===0){if(nt){if(!ot)throw new lt;te<ue?(fe=!0,ze=!0):(Be=!0,je=!0)}else if(ot)throw new lt}else throw new lt;if(fe){if(Be)throw new lt;Ir.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(Be&&Ir.decrement(this.getOddCounts(),this.getOddRoundingErrors()),je){if(ze)throw new lt;Ir.increment(this.getEvenCounts(),this.getOddRoundingErrors())}ze&&Ir.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Gn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Gn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Gn.OUTSIDE_GSUM=[0,161,961,2015,2715],Gn.INSIDE_GSUM=[0,336,1036,1516],Gn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Gn.INSIDE_ODD_WIDEST=[2,4,6,8],Gn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class is extends Pn{constructor(K,J){super(),this.readers=[],this.verbose=J===!0;const te=K?K.get(We.POSSIBLE_FORMATS):null,ue=K&&K.get(We.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;te?((te.includes(_t.EAN_13)||te.includes(_t.UPC_A)||te.includes(_t.EAN_8)||te.includes(_t.UPC_E))&&this.readers.push(new Ai(K)),te.includes(_t.CODE_39)&&this.readers.push(new er(ue)),te.includes(_t.CODE_128)&&this.readers.push(new qt),te.includes(_t.ITF)&&this.readers.push(new Bn),te.includes(_t.RSS_14)&&this.readers.push(new Gn),te.includes(_t.RSS_EXPANDED)&&this.readers.push(new Gt(this.verbose))):(this.readers.push(new Ai(K)),this.readers.push(new er),this.readers.push(new Ai(K)),this.readers.push(new qt),this.readers.push(new Bn),this.readers.push(new Gn),this.readers.push(new Gt(this.verbose)))}decodeRow(K,J,te){for(let ue=0;ue<this.readers.length;ue++)try{return this.readers[ue].decodeRow(K,J,te)}catch{}throw new lt}reset(){this.readers.forEach(K=>K.reset())}}class zi extends vt{constructor(K=500,J){super(new is(J),K,J)}}class ln{constructor(K,J,te){this.ecCodewords=K,this.ecBlocks=[J],te&&this.ecBlocks.push(te)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class wn{constructor(K,J){this.count=K,this.dataCodewords=J}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Nn{constructor(K,J,te,ue,fe,Be){this.versionNumber=K,this.symbolSizeRows=J,this.symbolSizeColumns=te,this.dataRegionSizeRows=ue,this.dataRegionSizeColumns=fe,this.ecBlocks=Be;let je=0;const ze=Be.getECCodewords(),qe=Be.getECBlocks();for(let nt of qe)je+=nt.getCount()*(nt.getDataCodewords()+ze);this.totalCodewords=je}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(K,J){if((K&1)!==0||(J&1)!==0)throw new Ge;for(let te of Nn.VERSIONS)if(te.symbolSizeRows===K&&te.symbolSizeColumns===J)return te;throw new Ge}toString(){return""+this.versionNumber}static buildVersions(){return[new Nn(1,10,10,8,8,new ln(5,new wn(1,3))),new Nn(2,12,12,10,10,new ln(7,new wn(1,5))),new Nn(3,14,14,12,12,new ln(10,new wn(1,8))),new Nn(4,16,16,14,14,new ln(12,new wn(1,12))),new Nn(5,18,18,16,16,new ln(14,new wn(1,18))),new Nn(6,20,20,18,18,new ln(18,new wn(1,22))),new Nn(7,22,22,20,20,new ln(20,new wn(1,30))),new Nn(8,24,24,22,22,new ln(24,new wn(1,36))),new Nn(9,26,26,24,24,new ln(28,new wn(1,44))),new Nn(10,32,32,14,14,new ln(36,new wn(1,62))),new Nn(11,36,36,16,16,new ln(42,new wn(1,86))),new Nn(12,40,40,18,18,new ln(48,new wn(1,114))),new Nn(13,44,44,20,20,new ln(56,new wn(1,144))),new Nn(14,48,48,22,22,new ln(68,new wn(1,174))),new Nn(15,52,52,24,24,new ln(42,new wn(2,102))),new Nn(16,64,64,14,14,new ln(56,new wn(2,140))),new Nn(17,72,72,16,16,new ln(36,new wn(4,92))),new Nn(18,80,80,18,18,new ln(48,new wn(4,114))),new Nn(19,88,88,20,20,new ln(56,new wn(4,144))),new Nn(20,96,96,22,22,new ln(68,new wn(4,174))),new Nn(21,104,104,24,24,new ln(56,new wn(6,136))),new Nn(22,120,120,18,18,new ln(68,new wn(6,175))),new Nn(23,132,132,20,20,new ln(62,new wn(8,163))),new Nn(24,144,144,22,22,new ln(62,new wn(8,156),new wn(2,155))),new Nn(25,8,18,6,16,new ln(7,new wn(1,5))),new Nn(26,8,32,6,14,new ln(11,new wn(1,10))),new Nn(27,12,26,10,24,new ln(14,new wn(1,16))),new Nn(28,12,36,10,16,new ln(18,new wn(1,22))),new Nn(29,16,36,14,16,new ln(24,new wn(1,32))),new Nn(30,16,48,14,22,new ln(28,new wn(1,49)))]}}Nn.VERSIONS=Nn.buildVersions();class hs{constructor(K){const J=K.getHeight();if(J<8||J>144||(J&1)!==0)throw new Ge;this.version=hs.readVersion(K),this.mappingBitMatrix=this.extractDataRegion(K),this.readMappingMatrix=new yt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(K){const J=K.getHeight(),te=K.getWidth();return Nn.getVersionForDimensions(J,te)}readCodewords(){const K=new Int8Array(this.version.getTotalCodewords());let J=0,te=4,ue=0;const fe=this.mappingBitMatrix.getHeight(),Be=this.mappingBitMatrix.getWidth();let je=!1,ze=!1,qe=!1,nt=!1;do if(te===fe&&ue===0&&!je)K[J++]=this.readCorner1(fe,Be)&255,te-=2,ue+=2,je=!0;else if(te===fe-2&&ue===0&&(Be&3)!==0&&!ze)K[J++]=this.readCorner2(fe,Be)&255,te-=2,ue+=2,ze=!0;else if(te===fe+4&&ue===2&&(Be&7)===0&&!qe)K[J++]=this.readCorner3(fe,Be)&255,te-=2,ue+=2,qe=!0;else if(te===fe-2&&ue===0&&(Be&7)===4&&!nt)K[J++]=this.readCorner4(fe,Be)&255,te-=2,ue+=2,nt=!0;else{do te<fe&&ue>=0&&!this.readMappingMatrix.get(ue,te)&&(K[J++]=this.readUtah(te,ue,fe,Be)&255),te-=2,ue+=2;while(te>=0&&ue<Be);te+=1,ue+=3;do te>=0&&ue<Be&&!this.readMappingMatrix.get(ue,te)&&(K[J++]=this.readUtah(te,ue,fe,Be)&255),te+=2,ue-=2;while(te<fe&&ue>=0);te+=3,ue+=1}while(te<fe||ue<Be);if(J!==this.version.getTotalCodewords())throw new Ge;return K}readModule(K,J,te,ue){return K<0&&(K+=te,J+=4-(te+4&7)),J<0&&(J+=ue,K+=4-(ue+4&7)),this.readMappingMatrix.set(J,K),this.mappingBitMatrix.get(J,K)}readUtah(K,J,te,ue){let fe=0;return this.readModule(K-2,J-2,te,ue)&&(fe|=1),fe<<=1,this.readModule(K-2,J-1,te,ue)&&(fe|=1),fe<<=1,this.readModule(K-1,J-2,te,ue)&&(fe|=1),fe<<=1,this.readModule(K-1,J-1,te,ue)&&(fe|=1),fe<<=1,this.readModule(K-1,J,te,ue)&&(fe|=1),fe<<=1,this.readModule(K,J-2,te,ue)&&(fe|=1),fe<<=1,this.readModule(K,J-1,te,ue)&&(fe|=1),fe<<=1,this.readModule(K,J,te,ue)&&(fe|=1),fe}readCorner1(K,J){let te=0;return this.readModule(K-1,0,K,J)&&(te|=1),te<<=1,this.readModule(K-1,1,K,J)&&(te|=1),te<<=1,this.readModule(K-1,2,K,J)&&(te|=1),te<<=1,this.readModule(0,J-2,K,J)&&(te|=1),te<<=1,this.readModule(0,J-1,K,J)&&(te|=1),te<<=1,this.readModule(1,J-1,K,J)&&(te|=1),te<<=1,this.readModule(2,J-1,K,J)&&(te|=1),te<<=1,this.readModule(3,J-1,K,J)&&(te|=1),te}readCorner2(K,J){let te=0;return this.readModule(K-3,0,K,J)&&(te|=1),te<<=1,this.readModule(K-2,0,K,J)&&(te|=1),te<<=1,this.readModule(K-1,0,K,J)&&(te|=1),te<<=1,this.readModule(0,J-4,K,J)&&(te|=1),te<<=1,this.readModule(0,J-3,K,J)&&(te|=1),te<<=1,this.readModule(0,J-2,K,J)&&(te|=1),te<<=1,this.readModule(0,J-1,K,J)&&(te|=1),te<<=1,this.readModule(1,J-1,K,J)&&(te|=1),te}readCorner3(K,J){let te=0;return this.readModule(K-1,0,K,J)&&(te|=1),te<<=1,this.readModule(K-1,J-1,K,J)&&(te|=1),te<<=1,this.readModule(0,J-3,K,J)&&(te|=1),te<<=1,this.readModule(0,J-2,K,J)&&(te|=1),te<<=1,this.readModule(0,J-1,K,J)&&(te|=1),te<<=1,this.readModule(1,J-3,K,J)&&(te|=1),te<<=1,this.readModule(1,J-2,K,J)&&(te|=1),te<<=1,this.readModule(1,J-1,K,J)&&(te|=1),te}readCorner4(K,J){let te=0;return this.readModule(K-3,0,K,J)&&(te|=1),te<<=1,this.readModule(K-2,0,K,J)&&(te|=1),te<<=1,this.readModule(K-1,0,K,J)&&(te|=1),te<<=1,this.readModule(0,J-2,K,J)&&(te|=1),te<<=1,this.readModule(0,J-1,K,J)&&(te|=1),te<<=1,this.readModule(1,J-1,K,J)&&(te|=1),te<<=1,this.readModule(2,J-1,K,J)&&(te|=1),te<<=1,this.readModule(3,J-1,K,J)&&(te|=1),te}extractDataRegion(K){const J=this.version.getSymbolSizeRows(),te=this.version.getSymbolSizeColumns();if(K.getHeight()!==J)throw new ne("Dimension of bitMatrix must match the version size");const ue=this.version.getDataRegionSizeRows(),fe=this.version.getDataRegionSizeColumns(),Be=J/ue|0,je=te/fe|0,ze=Be*ue,qe=je*fe,nt=new yt(qe,ze);for(let ot=0;ot<Be;++ot){const At=ot*ue;for(let xt=0;xt<je;++xt){const bt=xt*fe;for(let St=0;St<ue;++St){const Nt=ot*(ue+2)+1+St,Lt=At+St;for(let Yt=0;Yt<fe;++Yt){const Xt=xt*(fe+2)+1+Yt;if(K.get(Xt,Nt)){const Wt=bt+Yt;nt.set(Wt,Lt)}}}}}return nt}}class lr{constructor(K,J){this.numDataCodewords=K,this.codewords=J}static getDataBlocks(K,J){const te=J.getECBlocks();let ue=0;const fe=te.getECBlocks();for(let St of fe)ue+=St.getCount();const Be=new Array(ue);let je=0;for(let St of fe)for(let Nt=0;Nt<St.getCount();Nt++){const Lt=St.getDataCodewords(),Yt=te.getECCodewords()+Lt;Be[je++]=new lr(Lt,new Uint8Array(Yt))}const qe=Be[0].codewords.length-te.getECCodewords(),nt=qe-1;let ot=0;for(let St=0;St<nt;St++)for(let Nt=0;Nt<je;Nt++)Be[Nt].codewords[St]=K[ot++];const At=J.getVersionNumber()===24,xt=At?8:je;for(let St=0;St<xt;St++)Be[St].codewords[qe-1]=K[ot++];const bt=Be[0].codewords.length;for(let St=qe;St<bt;St++)for(let Nt=0;Nt<je;Nt++){const Lt=At?(Nt+8)%je:Nt,Yt=At&&Lt>7?St-1:St;Be[Lt].codewords[Yt]=K[ot++]}if(ot!==K.length)throw new ne;return Be}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class as{constructor(K){this.bytes=K,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(K){if(K<1||K>32||K>this.available())throw new ne(""+K);let J=0,te=this.bitOffset,ue=this.byteOffset;const fe=this.bytes;if(te>0){const Be=8-te,je=K<Be?K:Be,ze=Be-je,qe=255>>8-je<<ze;J=(fe[ue]&qe)>>ze,K-=je,te+=je,te===8&&(te=0,ue++)}if(K>0){for(;K>=8;)J=J<<8|fe[ue]&255,ue++,K-=8;if(K>0){const Be=8-K,je=255>>Be<<Be;J=J<<K|(fe[ue]&je)>>Be,te+=K}}return this.bitOffset=te,this.byteOffset=ue,J}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var nr;(function(at){at[at.PAD_ENCODE=0]="PAD_ENCODE",at[at.ASCII_ENCODE=1]="ASCII_ENCODE",at[at.C40_ENCODE=2]="C40_ENCODE",at[at.TEXT_ENCODE=3]="TEXT_ENCODE",at[at.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",at[at.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",at[at.BASE256_ENCODE=6]="BASE256_ENCODE"})(nr||(nr={}));class Ms{static decode(K){const J=new as(K),te=new pt,ue=new pt,fe=new Array;let Be=nr.ASCII_ENCODE;do if(Be===nr.ASCII_ENCODE)Be=this.decodeAsciiSegment(J,te,ue);else{switch(Be){case nr.C40_ENCODE:this.decodeC40Segment(J,te);break;case nr.TEXT_ENCODE:this.decodeTextSegment(J,te);break;case nr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(J,te);break;case nr.EDIFACT_ENCODE:this.decodeEdifactSegment(J,te);break;case nr.BASE256_ENCODE:this.decodeBase256Segment(J,te,fe);break;default:throw new Ge}Be=nr.ASCII_ENCODE}while(Be!==nr.PAD_ENCODE&&J.available()>0);return ue.length()>0&&te.append(ue.toString()),new hn(K,te.toString(),fe.length===0?null:fe,null)}static decodeAsciiSegment(K,J,te){let ue=!1;do{let fe=K.readBits(8);if(fe===0)throw new Ge;if(fe<=128)return ue&&(fe+=128),J.append(String.fromCharCode(fe-1)),nr.ASCII_ENCODE;if(fe===129)return nr.PAD_ENCODE;if(fe<=229){const Be=fe-130;Be<10&&J.append("0"),J.append(""+Be)}else switch(fe){case 230:return nr.C40_ENCODE;case 231:return nr.BASE256_ENCODE;case 232:J.append("");break;case 233:case 234:break;case 235:ue=!0;break;case 236:J.append("[)>05"),te.insert(0,"");break;case 237:J.append("[)>06"),te.insert(0,"");break;case 238:return nr.ANSIX12_ENCODE;case 239:return nr.TEXT_ENCODE;case 240:return nr.EDIFACT_ENCODE;case 241:break;default:if(fe!==254||K.available()!==0)throw new Ge;break}}while(K.available()>0);return nr.ASCII_ENCODE}static decodeC40Segment(K,J){let te=!1;const ue=[];let fe=0;do{if(K.available()===8)return;const Be=K.readBits(8);if(Be===254)return;this.parseTwoBytes(Be,K.readBits(8),ue);for(let je=0;je<3;je++){const ze=ue[je];switch(fe){case 0:if(ze<3)fe=ze+1;else if(ze<this.C40_BASIC_SET_CHARS.length){const qe=this.C40_BASIC_SET_CHARS[ze];te?(J.append(String.fromCharCode(qe.charCodeAt(0)+128)),te=!1):J.append(qe)}else throw new Ge;break;case 1:te?(J.append(String.fromCharCode(ze+128)),te=!1):J.append(String.fromCharCode(ze)),fe=0;break;case 2:if(ze<this.C40_SHIFT2_SET_CHARS.length){const qe=this.C40_SHIFT2_SET_CHARS[ze];te?(J.append(String.fromCharCode(qe.charCodeAt(0)+128)),te=!1):J.append(qe)}else switch(ze){case 27:J.append("");break;case 30:te=!0;break;default:throw new Ge}fe=0;break;case 3:te?(J.append(String.fromCharCode(ze+224)),te=!1):J.append(String.fromCharCode(ze+96)),fe=0;break;default:throw new Ge}}}while(K.available()>0)}static decodeTextSegment(K,J){let te=!1,ue=[],fe=0;do{if(K.available()===8)return;const Be=K.readBits(8);if(Be===254)return;this.parseTwoBytes(Be,K.readBits(8),ue);for(let je=0;je<3;je++){const ze=ue[je];switch(fe){case 0:if(ze<3)fe=ze+1;else if(ze<this.TEXT_BASIC_SET_CHARS.length){const qe=this.TEXT_BASIC_SET_CHARS[ze];te?(J.append(String.fromCharCode(qe.charCodeAt(0)+128)),te=!1):J.append(qe)}else throw new Ge;break;case 1:te?(J.append(String.fromCharCode(ze+128)),te=!1):J.append(String.fromCharCode(ze)),fe=0;break;case 2:if(ze<this.TEXT_SHIFT2_SET_CHARS.length){const qe=this.TEXT_SHIFT2_SET_CHARS[ze];te?(J.append(String.fromCharCode(qe.charCodeAt(0)+128)),te=!1):J.append(qe)}else switch(ze){case 27:J.append("");break;case 30:te=!0;break;default:throw new Ge}fe=0;break;case 3:if(ze<this.TEXT_SHIFT3_SET_CHARS.length){const qe=this.TEXT_SHIFT3_SET_CHARS[ze];te?(J.append(String.fromCharCode(qe.charCodeAt(0)+128)),te=!1):J.append(qe),fe=0}else throw new Ge;break;default:throw new Ge}}}while(K.available()>0)}static decodeAnsiX12Segment(K,J){const te=[];do{if(K.available()===8)return;const ue=K.readBits(8);if(ue===254)return;this.parseTwoBytes(ue,K.readBits(8),te);for(let fe=0;fe<3;fe++){const Be=te[fe];switch(Be){case 0:J.append("\r");break;case 1:J.append("*");break;case 2:J.append(">");break;case 3:J.append(" ");break;default:if(Be<14)J.append(String.fromCharCode(Be+44));else if(Be<40)J.append(String.fromCharCode(Be+51));else throw new Ge;break}}}while(K.available()>0)}static parseTwoBytes(K,J,te){let ue=(K<<8)+J-1,fe=Math.floor(ue/1600);te[0]=fe,ue-=fe*1600,fe=Math.floor(ue/40),te[1]=fe,te[2]=ue-fe*40}static decodeEdifactSegment(K,J){do{if(K.available()<=16)return;for(let te=0;te<4;te++){let ue=K.readBits(6);if(ue===31){const fe=8-K.getBitOffset();fe!==8&&K.readBits(fe);return}(ue&32)===0&&(ue|=64),J.append(String.fromCharCode(ue))}}while(K.available()>0)}static decodeBase256Segment(K,J,te){let ue=1+K.getByteOffset();const fe=this.unrandomize255State(K.readBits(8),ue++);let Be;if(fe===0?Be=K.available()/8|0:fe<250?Be=fe:Be=250*(fe-249)+this.unrandomize255State(K.readBits(8),ue++),Be<0)throw new Ge;const je=new Uint8Array(Be);for(let ze=0;ze<Be;ze++){if(K.available()<8)throw new Ge;je[ze]=this.unrandomize255State(K.readBits(8),ue++)}te.push(je);try{J.append(ft.decode(je,ct.ISO88591))}catch(ze){throw new Zn("Platform does not support required encoding: "+ze.message)}}static unrandomize255State(K,J){const te=149*J%255+1,ue=K-te;return ue>=0?ue:ue+256}}Ms.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ms.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ms.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ms.TEXT_SHIFT2_SET_CHARS=Ms.C40_SHIFT2_SET_CHARS,Ms.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Fc{constructor(){this.rsDecoder=new Dr(on.DATA_MATRIX_FIELD_256)}decode(K){const J=new hs(K),te=J.getVersion(),ue=J.readCodewords(),fe=lr.getDataBlocks(ue,te);let Be=0;for(let qe of fe)Be+=qe.getNumDataCodewords();const je=new Uint8Array(Be),ze=fe.length;for(let qe=0;qe<ze;qe++){const nt=fe[qe],ot=nt.getCodewords(),At=nt.getNumDataCodewords();this.correctErrors(ot,At);for(let xt=0;xt<At;xt++)je[xt*ze+qe]=ot[xt]}return Ms.decode(je)}correctErrors(K,J){const te=new Int32Array(K);try{this.rsDecoder.decode(te,K.length-J)}catch{throw new pe}for(let ue=0;ue<J;ue++)K[ue]=te[ue]}}class Br{constructor(K){this.image=K,this.rectangleDetector=new Kt(this.image)}detect(){const K=this.rectangleDetector.detect();let J=this.detectSolid1(K);if(J=this.detectSolid2(J),J[3]=this.correctTopRight(J),!J[3])throw new lt;J=this.shiftToModuleCenter(J);const te=J[0],ue=J[1],fe=J[2],Be=J[3];let je=this.transitionsBetween(te,Be)+1,ze=this.transitionsBetween(fe,Be)+1;(je&1)===1&&(je+=1),(ze&1)===1&&(ze+=1),4*je<7*ze&&4*ze<7*je&&(je=ze=Math.max(je,ze));let qe=Br.sampleGrid(this.image,te,ue,fe,Be,je,ze);return new Yr(qe,[te,ue,fe,Be])}static shiftPoint(K,J,te){let ue=(J.getX()-K.getX())/(te+1),fe=(J.getY()-K.getY())/(te+1);return new Zt(K.getX()+ue,K.getY()+fe)}static moveAway(K,J,te){let ue=K.getX(),fe=K.getY();return ue<J?ue-=1:ue+=1,fe<te?fe-=1:fe+=1,new Zt(ue,fe)}detectSolid1(K){let J=K[0],te=K[1],ue=K[3],fe=K[2],Be=this.transitionsBetween(J,te),je=this.transitionsBetween(te,ue),ze=this.transitionsBetween(ue,fe),qe=this.transitionsBetween(fe,J),nt=Be,ot=[fe,J,te,ue];return nt>je&&(nt=je,ot[0]=J,ot[1]=te,ot[2]=ue,ot[3]=fe),nt>ze&&(nt=ze,ot[0]=te,ot[1]=ue,ot[2]=fe,ot[3]=J),nt>qe&&(ot[0]=ue,ot[1]=fe,ot[2]=J,ot[3]=te),ot}detectSolid2(K){let J=K[0],te=K[1],ue=K[2],fe=K[3],Be=this.transitionsBetween(J,fe),je=Br.shiftPoint(te,ue,(Be+1)*4),ze=Br.shiftPoint(ue,te,(Be+1)*4),qe=this.transitionsBetween(je,J),nt=this.transitionsBetween(ze,fe);return qe<nt?(K[0]=J,K[1]=te,K[2]=ue,K[3]=fe):(K[0]=te,K[1]=ue,K[2]=fe,K[3]=J),K}correctTopRight(K){let J=K[0],te=K[1],ue=K[2],fe=K[3],Be=this.transitionsBetween(J,fe),je=this.transitionsBetween(te,fe),ze=Br.shiftPoint(J,te,(je+1)*4),qe=Br.shiftPoint(ue,te,(Be+1)*4);Be=this.transitionsBetween(ze,fe),je=this.transitionsBetween(qe,fe);let nt=new Zt(fe.getX()+(ue.getX()-te.getX())/(Be+1),fe.getY()+(ue.getY()-te.getY())/(Be+1)),ot=new Zt(fe.getX()+(J.getX()-te.getX())/(je+1),fe.getY()+(J.getY()-te.getY())/(je+1));if(!this.isValid(nt))return this.isValid(ot)?ot:null;if(!this.isValid(ot))return nt;let At=this.transitionsBetween(ze,nt)+this.transitionsBetween(qe,nt),xt=this.transitionsBetween(ze,ot)+this.transitionsBetween(qe,ot);return At>xt?nt:ot}shiftToModuleCenter(K){let J=K[0],te=K[1],ue=K[2],fe=K[3],Be=this.transitionsBetween(J,fe)+1,je=this.transitionsBetween(ue,fe)+1,ze=Br.shiftPoint(J,te,je*4),qe=Br.shiftPoint(ue,te,Be*4);Be=this.transitionsBetween(ze,fe)+1,je=this.transitionsBetween(qe,fe)+1,(Be&1)===1&&(Be+=1),(je&1)===1&&(je+=1);let nt=(J.getX()+te.getX()+ue.getX()+fe.getX())/4,ot=(J.getY()+te.getY()+ue.getY()+fe.getY())/4;J=Br.moveAway(J,nt,ot),te=Br.moveAway(te,nt,ot),ue=Br.moveAway(ue,nt,ot),fe=Br.moveAway(fe,nt,ot);let At,xt;return ze=Br.shiftPoint(J,te,je*4),ze=Br.shiftPoint(ze,fe,Be*4),At=Br.shiftPoint(te,J,je*4),At=Br.shiftPoint(At,ue,Be*4),qe=Br.shiftPoint(ue,fe,je*4),qe=Br.shiftPoint(qe,te,Be*4),xt=Br.shiftPoint(fe,ue,je*4),xt=Br.shiftPoint(xt,J,Be*4),[ze,At,qe,xt]}isValid(K){return K.getX()>=0&&K.getX()<this.image.getWidth()&&K.getY()>0&&K.getY()<this.image.getHeight()}static sampleGrid(K,J,te,ue,fe,Be,je){return kn.getInstance().sampleGrid(K,Be,je,.5,.5,Be-.5,.5,Be-.5,je-.5,.5,je-.5,J.getX(),J.getY(),fe.getX(),fe.getY(),ue.getX(),ue.getY(),te.getX(),te.getY())}transitionsBetween(K,J){let te=Math.trunc(K.getX()),ue=Math.trunc(K.getY()),fe=Math.trunc(J.getX()),Be=Math.trunc(J.getY()),je=Math.abs(Be-ue)>Math.abs(fe-te);if(je){let St=te;te=ue,ue=St,St=fe,fe=Be,Be=St}let ze=Math.abs(fe-te),qe=Math.abs(Be-ue),nt=-ze/2,ot=ue<Be?1:-1,At=te<fe?1:-1,xt=0,bt=this.image.get(je?ue:te,je?te:ue);for(let St=te,Nt=ue;St!==fe;St+=At){let Lt=this.image.get(je?Nt:St,je?St:Nt);if(Lt!==bt&&(xt++,bt=Lt),nt+=qe,nt>0){if(Nt===Be)break;Nt+=ot,nt-=ze}}return xt}}class ni{constructor(){this.decoder=new Fc}decode(K,J=null){let te,ue;if(J!=null&&J.has(We.PURE_BARCODE)){const qe=ni.extractPureBits(K.getBlackMatrix());te=this.decoder.decode(qe),ue=ni.NO_POINTS}else{const qe=new Br(K.getBlackMatrix()).detect();te=this.decoder.decode(qe.getBits()),ue=qe.getPoints()}const fe=te.getRawBytes(),Be=new Et(te.getText(),fe,8*fe.length,ue,_t.DATA_MATRIX,_e.currentTimeMillis()),je=te.getByteSegments();je!=null&&Be.putMetadata(an.BYTE_SEGMENTS,je);const ze=te.getECLevel();return ze!=null&&Be.putMetadata(an.ERROR_CORRECTION_LEVEL,ze),Be}reset(){}static extractPureBits(K){const J=K.getTopLeftOnBit(),te=K.getBottomRightOnBit();if(J==null||te==null)throw new lt;const ue=this.moduleSize(J,K);let fe=J[1];const Be=te[1];let je=J[0];const qe=(te[0]-je+1)/ue,nt=(Be-fe+1)/ue;if(qe<=0||nt<=0)throw new lt;const ot=ue/2;fe+=ot,je+=ot;const At=new yt(qe,nt);for(let xt=0;xt<nt;xt++){const bt=fe+xt*ue;for(let St=0;St<qe;St++)K.get(je+St*ue,bt)&&At.set(St,xt)}return At}static moduleSize(K,J){const te=J.getWidth();let ue=K[0];const fe=K[1];for(;ue<te&&J.get(ue,fe);)ue++;if(ue===te)throw new lt;const Be=ue-K[0];if(Be===0)throw new lt;return Be}}ni.NO_POINTS=[];class Ga extends vt{constructor(K=500){super(new ni,K)}}var Gi;(function(at){at[at.L=0]="L",at[at.M=1]="M",at[at.Q=2]="Q",at[at.H=3]="H"})(Gi||(Gi={}));class Vn{constructor(K,J,te){this.value=K,this.stringValue=J,this.bits=te,Vn.FOR_BITS.set(te,this),Vn.FOR_VALUE.set(K,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(K){switch(K){case"L":return Vn.L;case"M":return Vn.M;case"Q":return Vn.Q;case"H":return Vn.H;default:throw new ee(K+"not available")}}toString(){return this.stringValue}equals(K){if(!(K instanceof Vn))return!1;const J=K;return this.value===J.value}static forBits(K){if(K<0||K>=Vn.FOR_BITS.size)throw new ne;return Vn.FOR_BITS.get(K)}}Vn.FOR_BITS=new Map,Vn.FOR_VALUE=new Map,Vn.L=new Vn(Gi.L,"L",1),Vn.M=new Vn(Gi.M,"M",0),Vn.Q=new Vn(Gi.Q,"Q",3),Vn.H=new Vn(Gi.H,"H",2);class zr{constructor(K){this.errorCorrectionLevel=Vn.forBits(K>>3&3),this.dataMask=K&7}static numBitsDiffering(K,J){return $e.bitCount(K^J)}static decodeFormatInformation(K,J){const te=zr.doDecodeFormatInformation(K,J);return te!==null?te:zr.doDecodeFormatInformation(K^zr.FORMAT_INFO_MASK_QR,J^zr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(K,J){let te=Number.MAX_SAFE_INTEGER,ue=0;for(const fe of zr.FORMAT_INFO_DECODE_LOOKUP){const Be=fe[0];if(Be===K||Be===J)return new zr(fe[1]);let je=zr.numBitsDiffering(K,Be);je<te&&(ue=fe[1],te=je),K!==J&&(je=zr.numBitsDiffering(J,Be),je<te&&(ue=fe[1],te=je))}return te<=3?new zr(ue):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(K){if(!(K instanceof zr))return!1;const J=K;return this.errorCorrectionLevel===J.errorCorrectionLevel&&this.dataMask===J.dataMask}}zr.FORMAT_INFO_MASK_QR=21522,zr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ft{constructor(K,...J){this.ecCodewordsPerBlock=K,this.ecBlocks=J}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let K=0;const J=this.ecBlocks;for(const te of J)K+=te.getCount();return K}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class mt{constructor(K,J){this.count=K,this.dataCodewords=J}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class dn{constructor(K,J,...te){this.versionNumber=K,this.alignmentPatternCenters=J,this.ecBlocks=te;let ue=0;const fe=te[0].getECCodewordsPerBlock(),Be=te[0].getECBlocks();for(const je of Be)ue+=je.getCount()*(je.getDataCodewords()+fe);this.totalCodewords=ue}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(K){return this.ecBlocks[K.getValue()]}static getProvisionalVersionForDimension(K){if(K%4!==1)throw new Ge;try{return this.getVersionForNumber((K-17)/4)}catch{throw new Ge}}static getVersionForNumber(K){if(K<1||K>40)throw new ne;return dn.VERSIONS[K-1]}static decodeVersionInformation(K){let J=Number.MAX_SAFE_INTEGER,te=0;for(let ue=0;ue<dn.VERSION_DECODE_INFO.length;ue++){const fe=dn.VERSION_DECODE_INFO[ue];if(fe===K)return dn.getVersionForNumber(ue+7);const Be=zr.numBitsDiffering(K,fe);Be<J&&(te=ue+7,J=Be)}return J<=3?dn.getVersionForNumber(te):null}buildFunctionPattern(){const K=this.getDimensionForVersion(),J=new yt(K);J.setRegion(0,0,9,9),J.setRegion(K-8,0,8,9),J.setRegion(0,K-8,9,8);const te=this.alignmentPatternCenters.length;for(let ue=0;ue<te;ue++){const fe=this.alignmentPatternCenters[ue]-2;for(let Be=0;Be<te;Be++)ue===0&&(Be===0||Be===te-1)||ue===te-1&&Be===0||J.setRegion(this.alignmentPatternCenters[Be]-2,fe,5,5)}return J.setRegion(6,9,1,K-17),J.setRegion(9,6,K-17,1),this.versionNumber>6&&(J.setRegion(K-11,0,3,6),J.setRegion(0,K-11,6,3)),J}toString(){return""+this.versionNumber}}dn.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),dn.VERSIONS=[new dn(1,new Int32Array(0),new Ft(7,new mt(1,19)),new Ft(10,new mt(1,16)),new Ft(13,new mt(1,13)),new Ft(17,new mt(1,9))),new dn(2,Int32Array.from([6,18]),new Ft(10,new mt(1,34)),new Ft(16,new mt(1,28)),new Ft(22,new mt(1,22)),new Ft(28,new mt(1,16))),new dn(3,Int32Array.from([6,22]),new Ft(15,new mt(1,55)),new Ft(26,new mt(1,44)),new Ft(18,new mt(2,17)),new Ft(22,new mt(2,13))),new dn(4,Int32Array.from([6,26]),new Ft(20,new mt(1,80)),new Ft(18,new mt(2,32)),new Ft(26,new mt(2,24)),new Ft(16,new mt(4,9))),new dn(5,Int32Array.from([6,30]),new Ft(26,new mt(1,108)),new Ft(24,new mt(2,43)),new Ft(18,new mt(2,15),new mt(2,16)),new Ft(22,new mt(2,11),new mt(2,12))),new dn(6,Int32Array.from([6,34]),new Ft(18,new mt(2,68)),new Ft(16,new mt(4,27)),new Ft(24,new mt(4,19)),new Ft(28,new mt(4,15))),new dn(7,Int32Array.from([6,22,38]),new Ft(20,new mt(2,78)),new Ft(18,new mt(4,31)),new Ft(18,new mt(2,14),new mt(4,15)),new Ft(26,new mt(4,13),new mt(1,14))),new dn(8,Int32Array.from([6,24,42]),new Ft(24,new mt(2,97)),new Ft(22,new mt(2,38),new mt(2,39)),new Ft(22,new mt(4,18),new mt(2,19)),new Ft(26,new mt(4,14),new mt(2,15))),new dn(9,Int32Array.from([6,26,46]),new Ft(30,new mt(2,116)),new Ft(22,new mt(3,36),new mt(2,37)),new Ft(20,new mt(4,16),new mt(4,17)),new Ft(24,new mt(4,12),new mt(4,13))),new dn(10,Int32Array.from([6,28,50]),new Ft(18,new mt(2,68),new mt(2,69)),new Ft(26,new mt(4,43),new mt(1,44)),new Ft(24,new mt(6,19),new mt(2,20)),new Ft(28,new mt(6,15),new mt(2,16))),new dn(11,Int32Array.from([6,30,54]),new Ft(20,new mt(4,81)),new Ft(30,new mt(1,50),new mt(4,51)),new Ft(28,new mt(4,22),new mt(4,23)),new Ft(24,new mt(3,12),new mt(8,13))),new dn(12,Int32Array.from([6,32,58]),new Ft(24,new mt(2,92),new mt(2,93)),new Ft(22,new mt(6,36),new mt(2,37)),new Ft(26,new mt(4,20),new mt(6,21)),new Ft(28,new mt(7,14),new mt(4,15))),new dn(13,Int32Array.from([6,34,62]),new Ft(26,new mt(4,107)),new Ft(22,new mt(8,37),new mt(1,38)),new Ft(24,new mt(8,20),new mt(4,21)),new Ft(22,new mt(12,11),new mt(4,12))),new dn(14,Int32Array.from([6,26,46,66]),new Ft(30,new mt(3,115),new mt(1,116)),new Ft(24,new mt(4,40),new mt(5,41)),new Ft(20,new mt(11,16),new mt(5,17)),new Ft(24,new mt(11,12),new mt(5,13))),new dn(15,Int32Array.from([6,26,48,70]),new Ft(22,new mt(5,87),new mt(1,88)),new Ft(24,new mt(5,41),new mt(5,42)),new Ft(30,new mt(5,24),new mt(7,25)),new Ft(24,new mt(11,12),new mt(7,13))),new dn(16,Int32Array.from([6,26,50,74]),new Ft(24,new mt(5,98),new mt(1,99)),new Ft(28,new mt(7,45),new mt(3,46)),new Ft(24,new mt(15,19),new mt(2,20)),new Ft(30,new mt(3,15),new mt(13,16))),new dn(17,Int32Array.from([6,30,54,78]),new Ft(28,new mt(1,107),new mt(5,108)),new Ft(28,new mt(10,46),new mt(1,47)),new Ft(28,new mt(1,22),new mt(15,23)),new Ft(28,new mt(2,14),new mt(17,15))),new dn(18,Int32Array.from([6,30,56,82]),new Ft(30,new mt(5,120),new mt(1,121)),new Ft(26,new mt(9,43),new mt(4,44)),new Ft(28,new mt(17,22),new mt(1,23)),new Ft(28,new mt(2,14),new mt(19,15))),new dn(19,Int32Array.from([6,30,58,86]),new Ft(28,new mt(3,113),new mt(4,114)),new Ft(26,new mt(3,44),new mt(11,45)),new Ft(26,new mt(17,21),new mt(4,22)),new Ft(26,new mt(9,13),new mt(16,14))),new dn(20,Int32Array.from([6,34,62,90]),new Ft(28,new mt(3,107),new mt(5,108)),new Ft(26,new mt(3,41),new mt(13,42)),new Ft(30,new mt(15,24),new mt(5,25)),new Ft(28,new mt(15,15),new mt(10,16))),new dn(21,Int32Array.from([6,28,50,72,94]),new Ft(28,new mt(4,116),new mt(4,117)),new Ft(26,new mt(17,42)),new Ft(28,new mt(17,22),new mt(6,23)),new Ft(30,new mt(19,16),new mt(6,17))),new dn(22,Int32Array.from([6,26,50,74,98]),new Ft(28,new mt(2,111),new mt(7,112)),new Ft(28,new mt(17,46)),new Ft(30,new mt(7,24),new mt(16,25)),new Ft(24,new mt(34,13))),new dn(23,Int32Array.from([6,30,54,78,102]),new Ft(30,new mt(4,121),new mt(5,122)),new Ft(28,new mt(4,47),new mt(14,48)),new Ft(30,new mt(11,24),new mt(14,25)),new Ft(30,new mt(16,15),new mt(14,16))),new dn(24,Int32Array.from([6,28,54,80,106]),new Ft(30,new mt(6,117),new mt(4,118)),new Ft(28,new mt(6,45),new mt(14,46)),new Ft(30,new mt(11,24),new mt(16,25)),new Ft(30,new mt(30,16),new mt(2,17))),new dn(25,Int32Array.from([6,32,58,84,110]),new Ft(26,new mt(8,106),new mt(4,107)),new Ft(28,new mt(8,47),new mt(13,48)),new Ft(30,new mt(7,24),new mt(22,25)),new Ft(30,new mt(22,15),new mt(13,16))),new dn(26,Int32Array.from([6,30,58,86,114]),new Ft(28,new mt(10,114),new mt(2,115)),new Ft(28,new mt(19,46),new mt(4,47)),new Ft(28,new mt(28,22),new mt(6,23)),new Ft(30,new mt(33,16),new mt(4,17))),new dn(27,Int32Array.from([6,34,62,90,118]),new Ft(30,new mt(8,122),new mt(4,123)),new Ft(28,new mt(22,45),new mt(3,46)),new Ft(30,new mt(8,23),new mt(26,24)),new Ft(30,new mt(12,15),new mt(28,16))),new dn(28,Int32Array.from([6,26,50,74,98,122]),new Ft(30,new mt(3,117),new mt(10,118)),new Ft(28,new mt(3,45),new mt(23,46)),new Ft(30,new mt(4,24),new mt(31,25)),new Ft(30,new mt(11,15),new mt(31,16))),new dn(29,Int32Array.from([6,30,54,78,102,126]),new Ft(30,new mt(7,116),new mt(7,117)),new Ft(28,new mt(21,45),new mt(7,46)),new Ft(30,new mt(1,23),new mt(37,24)),new Ft(30,new mt(19,15),new mt(26,16))),new dn(30,Int32Array.from([6,26,52,78,104,130]),new Ft(30,new mt(5,115),new mt(10,116)),new Ft(28,new mt(19,47),new mt(10,48)),new Ft(30,new mt(15,24),new mt(25,25)),new Ft(30,new mt(23,15),new mt(25,16))),new dn(31,Int32Array.from([6,30,56,82,108,134]),new Ft(30,new mt(13,115),new mt(3,116)),new Ft(28,new mt(2,46),new mt(29,47)),new Ft(30,new mt(42,24),new mt(1,25)),new Ft(30,new mt(23,15),new mt(28,16))),new dn(32,Int32Array.from([6,34,60,86,112,138]),new Ft(30,new mt(17,115)),new Ft(28,new mt(10,46),new mt(23,47)),new Ft(30,new mt(10,24),new mt(35,25)),new Ft(30,new mt(19,15),new mt(35,16))),new dn(33,Int32Array.from([6,30,58,86,114,142]),new Ft(30,new mt(17,115),new mt(1,116)),new Ft(28,new mt(14,46),new mt(21,47)),new Ft(30,new mt(29,24),new mt(19,25)),new Ft(30,new mt(11,15),new mt(46,16))),new dn(34,Int32Array.from([6,34,62,90,118,146]),new Ft(30,new mt(13,115),new mt(6,116)),new Ft(28,new mt(14,46),new mt(23,47)),new Ft(30,new mt(44,24),new mt(7,25)),new Ft(30,new mt(59,16),new mt(1,17))),new dn(35,Int32Array.from([6,30,54,78,102,126,150]),new Ft(30,new mt(12,121),new mt(7,122)),new Ft(28,new mt(12,47),new mt(26,48)),new Ft(30,new mt(39,24),new mt(14,25)),new Ft(30,new mt(22,15),new mt(41,16))),new dn(36,Int32Array.from([6,24,50,76,102,128,154]),new Ft(30,new mt(6,121),new mt(14,122)),new Ft(28,new mt(6,47),new mt(34,48)),new Ft(30,new mt(46,24),new mt(10,25)),new Ft(30,new mt(2,15),new mt(64,16))),new dn(37,Int32Array.from([6,28,54,80,106,132,158]),new Ft(30,new mt(17,122),new mt(4,123)),new Ft(28,new mt(29,46),new mt(14,47)),new Ft(30,new mt(49,24),new mt(10,25)),new Ft(30,new mt(24,15),new mt(46,16))),new dn(38,Int32Array.from([6,32,58,84,110,136,162]),new Ft(30,new mt(4,122),new mt(18,123)),new Ft(28,new mt(13,46),new mt(32,47)),new Ft(30,new mt(48,24),new mt(14,25)),new Ft(30,new mt(42,15),new mt(32,16))),new dn(39,Int32Array.from([6,26,54,82,110,138,166]),new Ft(30,new mt(20,117),new mt(4,118)),new Ft(28,new mt(40,47),new mt(7,48)),new Ft(30,new mt(43,24),new mt(22,25)),new Ft(30,new mt(10,15),new mt(67,16))),new dn(40,Int32Array.from([6,30,58,86,114,142,170]),new Ft(30,new mt(19,118),new mt(6,119)),new Ft(28,new mt(18,47),new mt(31,48)),new Ft(30,new mt(34,24),new mt(34,25)),new Ft(30,new mt(20,15),new mt(61,16)))];var $r;(function(at){at[at.DATA_MASK_000=0]="DATA_MASK_000",at[at.DATA_MASK_001=1]="DATA_MASK_001",at[at.DATA_MASK_010=2]="DATA_MASK_010",at[at.DATA_MASK_011=3]="DATA_MASK_011",at[at.DATA_MASK_100=4]="DATA_MASK_100",at[at.DATA_MASK_101=5]="DATA_MASK_101",at[at.DATA_MASK_110=6]="DATA_MASK_110",at[at.DATA_MASK_111=7]="DATA_MASK_111"})($r||($r={}));class ps{constructor(K,J){this.value=K,this.isMasked=J}unmaskBitMatrix(K,J){for(let te=0;te<J;te++)for(let ue=0;ue<J;ue++)this.isMasked(te,ue)&&K.flip(ue,te)}}ps.values=new Map([[$r.DATA_MASK_000,new ps($r.DATA_MASK_000,(at,K)=>(at+K&1)===0)],[$r.DATA_MASK_001,new ps($r.DATA_MASK_001,(at,K)=>(at&1)===0)],[$r.DATA_MASK_010,new ps($r.DATA_MASK_010,(at,K)=>K%3===0)],[$r.DATA_MASK_011,new ps($r.DATA_MASK_011,(at,K)=>(at+K)%3===0)],[$r.DATA_MASK_100,new ps($r.DATA_MASK_100,(at,K)=>(Math.floor(at/2)+Math.floor(K/3)&1)===0)],[$r.DATA_MASK_101,new ps($r.DATA_MASK_101,(at,K)=>at*K%6===0)],[$r.DATA_MASK_110,new ps($r.DATA_MASK_110,(at,K)=>at*K%6<3)],[$r.DATA_MASK_111,new ps($r.DATA_MASK_111,(at,K)=>(at+K+at*K%3&1)===0)]]);class Ki{constructor(K){const J=K.getHeight();if(J<21||(J&3)!==1)throw new Ge;this.bitMatrix=K}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let K=0;for(let fe=0;fe<6;fe++)K=this.copyBit(fe,8,K);K=this.copyBit(7,8,K),K=this.copyBit(8,8,K),K=this.copyBit(8,7,K);for(let fe=5;fe>=0;fe--)K=this.copyBit(8,fe,K);const J=this.bitMatrix.getHeight();let te=0;const ue=J-7;for(let fe=J-1;fe>=ue;fe--)te=this.copyBit(8,fe,te);for(let fe=J-8;fe<J;fe++)te=this.copyBit(fe,8,te);if(this.parsedFormatInfo=zr.decodeFormatInformation(K,te),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Ge}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const K=this.bitMatrix.getHeight(),J=Math.floor((K-17)/4);if(J<=6)return dn.getVersionForNumber(J);let te=0;const ue=K-11;for(let Be=5;Be>=0;Be--)for(let je=K-9;je>=ue;je--)te=this.copyBit(je,Be,te);let fe=dn.decodeVersionInformation(te);if(fe!==null&&fe.getDimensionForVersion()===K)return this.parsedVersion=fe,fe;te=0;for(let Be=5;Be>=0;Be--)for(let je=K-9;je>=ue;je--)te=this.copyBit(Be,je,te);if(fe=dn.decodeVersionInformation(te),fe!==null&&fe.getDimensionForVersion()===K)return this.parsedVersion=fe,fe;throw new Ge}copyBit(K,J,te){return(this.isMirror?this.bitMatrix.get(J,K):this.bitMatrix.get(K,J))?te<<1|1:te<<1}readCodewords(){const K=this.readFormatInformation(),J=this.readVersion(),te=ps.values.get(K.getDataMask()),ue=this.bitMatrix.getHeight();te.unmaskBitMatrix(this.bitMatrix,ue);const fe=J.buildFunctionPattern();let Be=!0;const je=new Uint8Array(J.getTotalCodewords());let ze=0,qe=0,nt=0;for(let ot=ue-1;ot>0;ot-=2){ot===6&&ot--;for(let At=0;At<ue;At++){const xt=Be?ue-1-At:At;for(let bt=0;bt<2;bt++)fe.get(ot-bt,xt)||(nt++,qe<<=1,this.bitMatrix.get(ot-bt,xt)&&(qe|=1),nt===8&&(je[ze++]=qe,nt=0,qe=0))}Be=!Be}if(ze!==J.getTotalCodewords())throw new Ge;return je}remask(){if(this.parsedFormatInfo===null)return;const K=ps.values[this.parsedFormatInfo.getDataMask()],J=this.bitMatrix.getHeight();K.unmaskBitMatrix(this.bitMatrix,J)}setMirror(K){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=K}mirror(){const K=this.bitMatrix;for(let J=0,te=K.getWidth();J<te;J++)for(let ue=J+1,fe=K.getHeight();ue<fe;ue++)K.get(J,ue)!==K.get(ue,J)&&(K.flip(ue,J),K.flip(J,ue))}}class Ro{constructor(K,J){this.numDataCodewords=K,this.codewords=J}static getDataBlocks(K,J,te){if(K.length!==J.getTotalCodewords())throw new ne;const ue=J.getECBlocksForLevel(te);let fe=0;const Be=ue.getECBlocks();for(const bt of Be)fe+=bt.getCount();const je=new Array(fe);let ze=0;for(const bt of Be)for(let St=0;St<bt.getCount();St++){const Nt=bt.getDataCodewords(),Lt=ue.getECCodewordsPerBlock()+Nt;je[ze++]=new Ro(Nt,new Uint8Array(Lt))}const qe=je[0].codewords.length;let nt=je.length-1;for(;nt>=0&&je[nt].codewords.length!==qe;)nt--;nt++;const ot=qe-ue.getECCodewordsPerBlock();let At=0;for(let bt=0;bt<ot;bt++)for(let St=0;St<ze;St++)je[St].codewords[bt]=K[At++];for(let bt=nt;bt<ze;bt++)je[bt].codewords[ot]=K[At++];const xt=je[0].codewords.length;for(let bt=ot;bt<xt;bt++)for(let St=0;St<ze;St++){const Nt=St<nt?bt:bt+1;je[St].codewords[Nt]=K[At++]}return je}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ms;(function(at){at[at.TERMINATOR=0]="TERMINATOR",at[at.NUMERIC=1]="NUMERIC",at[at.ALPHANUMERIC=2]="ALPHANUMERIC",at[at.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",at[at.BYTE=4]="BYTE",at[at.ECI=5]="ECI",at[at.KANJI=6]="KANJI",at[at.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",at[at.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",at[at.HANZI=9]="HANZI"})(ms||(ms={}));class gn{constructor(K,J,te,ue){this.value=K,this.stringValue=J,this.characterCountBitsForVersions=te,this.bits=ue,gn.FOR_BITS.set(ue,this),gn.FOR_VALUE.set(K,this)}static forBits(K){const J=gn.FOR_BITS.get(K);if(J===void 0)throw new ne;return J}getCharacterCountBits(K){const J=K.getVersionNumber();let te;return J<=9?te=0:J<=26?te=1:te=2,this.characterCountBitsForVersions[te]}getValue(){return this.value}getBits(){return this.bits}equals(K){if(!(K instanceof gn))return!1;const J=K;return this.value===J.value}toString(){return this.stringValue}}gn.FOR_BITS=new Map,gn.FOR_VALUE=new Map,gn.TERMINATOR=new gn(ms.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),gn.NUMERIC=new gn(ms.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),gn.ALPHANUMERIC=new gn(ms.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),gn.STRUCTURED_APPEND=new gn(ms.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),gn.BYTE=new gn(ms.BYTE,"BYTE",Int32Array.from([8,16,16]),4),gn.ECI=new gn(ms.ECI,"ECI",Int32Array.from([0,0,0]),7),gn.KANJI=new gn(ms.KANJI,"KANJI",Int32Array.from([8,10,12]),8),gn.FNC1_FIRST_POSITION=new gn(ms.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),gn.FNC1_SECOND_POSITION=new gn(ms.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),gn.HANZI=new gn(ms.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class vr{static decode(K,J,te,ue){const fe=new as(K);let Be=new pt;const je=new Array;let ze=-1,qe=-1;try{let nt=null,ot=!1,At;do{if(fe.available()<4)At=gn.TERMINATOR;else{const xt=fe.readBits(4);At=gn.forBits(xt)}switch(At){case gn.TERMINATOR:break;case gn.FNC1_FIRST_POSITION:case gn.FNC1_SECOND_POSITION:ot=!0;break;case gn.STRUCTURED_APPEND:if(fe.available()<16)throw new Ge;ze=fe.readBits(8),qe=fe.readBits(8);break;case gn.ECI:const xt=vr.parseECIValue(fe);if(nt=Je.getCharacterSetECIByValue(xt),nt===null)throw new Ge;break;case gn.HANZI:const bt=fe.readBits(4),St=fe.readBits(At.getCharacterCountBits(J));bt===vr.GB2312_SUBSET&&vr.decodeHanziSegment(fe,Be,St);break;default:const Nt=fe.readBits(At.getCharacterCountBits(J));switch(At){case gn.NUMERIC:vr.decodeNumericSegment(fe,Be,Nt);break;case gn.ALPHANUMERIC:vr.decodeAlphanumericSegment(fe,Be,Nt,ot);break;case gn.BYTE:vr.decodeByteSegment(fe,Be,Nt,nt,je,ue);break;case gn.KANJI:vr.decodeKanjiSegment(fe,Be,Nt);break;default:throw new Ge}break}}while(At!==gn.TERMINATOR)}catch{throw new Ge}return new hn(K,Be.toString(),je.length===0?null:je,te===null?null:te.toString(),ze,qe)}static decodeHanziSegment(K,J,te){if(te*13>K.available())throw new Ge;const ue=new Uint8Array(2*te);let fe=0;for(;te>0;){const Be=K.readBits(13);let je=Be/96<<8&4294967295|Be%96;je<959?je+=41377:je+=42657,ue[fe]=je>>8&255,ue[fe+1]=je&255,fe+=2,te--}try{J.append(ft.decode(ue,ct.GB2312))}catch(Be){throw new Ge(Be)}}static decodeKanjiSegment(K,J,te){if(te*13>K.available())throw new Ge;const ue=new Uint8Array(2*te);let fe=0;for(;te>0;){const Be=K.readBits(13);let je=Be/192<<8&4294967295|Be%192;je<7936?je+=33088:je+=49472,ue[fe]=je>>8,ue[fe+1]=je,fe+=2,te--}try{J.append(ft.decode(ue,ct.SHIFT_JIS))}catch(Be){throw new Ge(Be)}}static decodeByteSegment(K,J,te,ue,fe,Be){if(8*te>K.available())throw new Ge;const je=new Uint8Array(te);for(let qe=0;qe<te;qe++)je[qe]=K.readBits(8);let ze;ue===null?ze=ct.guessEncoding(je,Be):ze=ue.getName();try{J.append(ft.decode(je,ze))}catch(qe){throw new Ge(qe)}fe.push(je)}static toAlphaNumericChar(K){if(K>=vr.ALPHANUMERIC_CHARS.length)throw new Ge;return vr.ALPHANUMERIC_CHARS[K]}static decodeAlphanumericSegment(K,J,te,ue){const fe=J.length();for(;te>1;){if(K.available()<11)throw new Ge;const Be=K.readBits(11);J.append(vr.toAlphaNumericChar(Math.floor(Be/45))),J.append(vr.toAlphaNumericChar(Be%45)),te-=2}if(te===1){if(K.available()<6)throw new Ge;J.append(vr.toAlphaNumericChar(K.readBits(6)))}if(ue)for(let Be=fe;Be<J.length();Be++)J.charAt(Be)==="%"&&(Be<J.length()-1&&J.charAt(Be+1)==="%"?J.deleteCharAt(Be+1):J.setCharAt(Be,""))}static decodeNumericSegment(K,J,te){for(;te>=3;){if(K.available()<10)throw new Ge;const ue=K.readBits(10);if(ue>=1e3)throw new Ge;J.append(vr.toAlphaNumericChar(Math.floor(ue/100))),J.append(vr.toAlphaNumericChar(Math.floor(ue/10)%10)),J.append(vr.toAlphaNumericChar(ue%10)),te-=3}if(te===2){if(K.available()<7)throw new Ge;const ue=K.readBits(7);if(ue>=100)throw new Ge;J.append(vr.toAlphaNumericChar(Math.floor(ue/10))),J.append(vr.toAlphaNumericChar(ue%10))}else if(te===1){if(K.available()<4)throw new Ge;const ue=K.readBits(4);if(ue>=10)throw new Ge;J.append(vr.toAlphaNumericChar(ue))}}static parseECIValue(K){const J=K.readBits(8);if((J&128)===0)return J&127;if((J&192)===128){const te=K.readBits(8);return(J&63)<<8&4294967295|te}if((J&224)===192){const te=K.readBits(16);return(J&31)<<16&4294967295|te}throw new Ge}}vr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",vr.GB2312_SUBSET=1;class gl{constructor(K){this.mirrored=K}isMirrored(){return this.mirrored}applyMirroredCorrection(K){if(!this.mirrored||K===null||K.length<3)return;const J=K[0];K[0]=K[2],K[2]=J}}class kc{constructor(){this.rsDecoder=new Dr(on.QR_CODE_FIELD_256)}decodeBooleanArray(K,J){return this.decodeBitMatrix(yt.parseFromBooleanArray(K),J)}decodeBitMatrix(K,J){const te=new Ki(K);let ue=null;try{return this.decodeBitMatrixParser(te,J)}catch(fe){ue=fe}try{te.remask(),te.setMirror(!0),te.readVersion(),te.readFormatInformation(),te.mirror();const fe=this.decodeBitMatrixParser(te,J);return fe.setOther(new gl(!0)),fe}catch(fe){throw ue!==null?ue:fe}}decodeBitMatrixParser(K,J){const te=K.readVersion(),ue=K.readFormatInformation().getErrorCorrectionLevel(),fe=K.readCodewords(),Be=Ro.getDataBlocks(fe,te,ue);let je=0;for(const nt of Be)je+=nt.getNumDataCodewords();const ze=new Uint8Array(je);let qe=0;for(const nt of Be){const ot=nt.getCodewords(),At=nt.getNumDataCodewords();this.correctErrors(ot,At);for(let xt=0;xt<At;xt++)ze[qe++]=ot[xt]}return vr.decode(ze,te,ue,J)}correctErrors(K,J){const te=new Int32Array(K);try{this.rsDecoder.decode(te,K.length-J)}catch{throw new pe}for(let ue=0;ue<J;ue++)K[ue]=te[ue]}}class Wi extends Zt{constructor(K,J,te){super(K,J),this.estimatedModuleSize=te}aboutEquals(K,J,te){if(Math.abs(J-this.getY())<=K&&Math.abs(te-this.getX())<=K){const ue=Math.abs(K-this.estimatedModuleSize);return ue<=1||ue<=this.estimatedModuleSize}return!1}combineEstimate(K,J,te){const ue=(this.getX()+J)/2,fe=(this.getY()+K)/2,Be=(this.estimatedModuleSize+te)/2;return new Wi(ue,fe,Be)}}class bs{constructor(K,J,te,ue,fe,Be,je){this.image=K,this.startX=J,this.startY=te,this.width=ue,this.height=fe,this.moduleSize=Be,this.resultPointCallback=je,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const K=this.startX,J=this.height,te=this.width,ue=K+te,fe=this.startY+J/2,Be=new Int32Array(3),je=this.image;for(let ze=0;ze<J;ze++){const qe=fe+((ze&1)===0?Math.floor((ze+1)/2):-Math.floor((ze+1)/2));Be[0]=0,Be[1]=0,Be[2]=0;let nt=K;for(;nt<ue&&!je.get(nt,qe);)nt++;let ot=0;for(;nt<ue;){if(je.get(nt,qe))if(ot===1)Be[1]++;else if(ot===2){if(this.foundPatternCross(Be)){const At=this.handlePossibleCenter(Be,qe,nt);if(At!==null)return At}Be[0]=Be[2],Be[1]=1,Be[2]=0,ot=1}else Be[++ot]++;else ot===1&&ot++,Be[ot]++;nt++}if(this.foundPatternCross(Be)){const At=this.handlePossibleCenter(Be,qe,ue);if(At!==null)return At}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new lt}static centerFromEnd(K,J){return J-K[2]-K[1]/2}foundPatternCross(K){const J=this.moduleSize,te=J/2;for(let ue=0;ue<3;ue++)if(Math.abs(J-K[ue])>=te)return!1;return!0}crossCheckVertical(K,J,te,ue){const fe=this.image,Be=fe.getHeight(),je=this.crossCheckStateCount;je[0]=0,je[1]=0,je[2]=0;let ze=K;for(;ze>=0&&fe.get(J,ze)&&je[1]<=te;)je[1]++,ze--;if(ze<0||je[1]>te)return NaN;for(;ze>=0&&!fe.get(J,ze)&&je[0]<=te;)je[0]++,ze--;if(je[0]>te)return NaN;for(ze=K+1;ze<Be&&fe.get(J,ze)&&je[1]<=te;)je[1]++,ze++;if(ze===Be||je[1]>te)return NaN;for(;ze<Be&&!fe.get(J,ze)&&je[2]<=te;)je[2]++,ze++;if(je[2]>te)return NaN;const qe=je[0]+je[1]+je[2];return 5*Math.abs(qe-ue)>=2*ue?NaN:this.foundPatternCross(je)?bs.centerFromEnd(je,ze):NaN}handlePossibleCenter(K,J,te){const ue=K[0]+K[1]+K[2],fe=bs.centerFromEnd(K,te),Be=this.crossCheckVertical(J,fe,2*K[1],ue);if(!isNaN(Be)){const je=(K[0]+K[1]+K[2])/3;for(const qe of this.possibleCenters)if(qe.aboutEquals(je,Be,fe))return qe.combineEstimate(Be,fe,je);const ze=new Wi(fe,Be,je);this.possibleCenters.push(ze),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ze)}return null}}class Sa extends Zt{constructor(K,J,te,ue){super(K,J),this.estimatedModuleSize=te,this.count=ue,ue===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(K,J,te){if(Math.abs(J-this.getY())<=K&&Math.abs(te-this.getX())<=K){const ue=Math.abs(K-this.estimatedModuleSize);return ue<=1||ue<=this.estimatedModuleSize}return!1}combineEstimate(K,J,te){const ue=this.count+1,fe=(this.count*this.getX()+J)/ue,Be=(this.count*this.getY()+K)/ue,je=(this.count*this.estimatedModuleSize+te)/ue;return new Sa(fe,Be,je,ue)}}class Io{constructor(K){this.bottomLeft=K[0],this.topLeft=K[1],this.topRight=K[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class _r{constructor(K,J){this.image=K,this.resultPointCallback=J,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=J}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(K){const J=K!=null&&K.get(We.TRY_HARDER)!==void 0,te=K!=null&&K.get(We.PURE_BARCODE)!==void 0,ue=this.image,fe=ue.getHeight(),Be=ue.getWidth();let je=Math.floor(3*fe/(4*_r.MAX_MODULES));(je<_r.MIN_SKIP||J)&&(je=_r.MIN_SKIP);let ze=!1;const qe=new Int32Array(5);for(let ot=je-1;ot<fe&&!ze;ot+=je){qe[0]=0,qe[1]=0,qe[2]=0,qe[3]=0,qe[4]=0;let At=0;for(let xt=0;xt<Be;xt++)if(ue.get(xt,ot))(At&1)===1&&At++,qe[At]++;else if((At&1)===0)if(At===4)if(_r.foundPatternCross(qe)){if(this.handlePossibleCenter(qe,ot,xt,te)===!0)if(je=2,this.hasSkipped===!0)ze=this.haveMultiplyConfirmedCenters();else{const St=this.findRowSkip();St>qe[2]&&(ot+=St-qe[2]-je,xt=Be-1)}else{qe[0]=qe[2],qe[1]=qe[3],qe[2]=qe[4],qe[3]=1,qe[4]=0,At=3;continue}At=0,qe[0]=0,qe[1]=0,qe[2]=0,qe[3]=0,qe[4]=0}else qe[0]=qe[2],qe[1]=qe[3],qe[2]=qe[4],qe[3]=1,qe[4]=0,At=3;else qe[++At]++;else qe[At]++;_r.foundPatternCross(qe)&&this.handlePossibleCenter(qe,ot,Be,te)===!0&&(je=qe[0],this.hasSkipped&&(ze=this.haveMultiplyConfirmedCenters()))}const nt=this.selectBestPatterns();return Zt.orderBestPatterns(nt),new Io(nt)}static centerFromEnd(K,J){return J-K[4]-K[3]-K[2]/2}static foundPatternCross(K){let J=0;for(let fe=0;fe<5;fe++){const Be=K[fe];if(Be===0)return!1;J+=Be}if(J<7)return!1;const te=J/7,ue=te/2;return Math.abs(te-K[0])<ue&&Math.abs(te-K[1])<ue&&Math.abs(3*te-K[2])<3*ue&&Math.abs(te-K[3])<ue&&Math.abs(te-K[4])<ue}getCrossCheckStateCount(){const K=this.crossCheckStateCount;return K[0]=0,K[1]=0,K[2]=0,K[3]=0,K[4]=0,K}crossCheckDiagonal(K,J,te,ue){const fe=this.getCrossCheckStateCount();let Be=0;const je=this.image;for(;K>=Be&&J>=Be&&je.get(J-Be,K-Be);)fe[2]++,Be++;if(K<Be||J<Be)return!1;for(;K>=Be&&J>=Be&&!je.get(J-Be,K-Be)&&fe[1]<=te;)fe[1]++,Be++;if(K<Be||J<Be||fe[1]>te)return!1;for(;K>=Be&&J>=Be&&je.get(J-Be,K-Be)&&fe[0]<=te;)fe[0]++,Be++;if(fe[0]>te)return!1;const ze=je.getHeight(),qe=je.getWidth();for(Be=1;K+Be<ze&&J+Be<qe&&je.get(J+Be,K+Be);)fe[2]++,Be++;if(K+Be>=ze||J+Be>=qe)return!1;for(;K+Be<ze&&J+Be<qe&&!je.get(J+Be,K+Be)&&fe[3]<te;)fe[3]++,Be++;if(K+Be>=ze||J+Be>=qe||fe[3]>=te)return!1;for(;K+Be<ze&&J+Be<qe&&je.get(J+Be,K+Be)&&fe[4]<te;)fe[4]++,Be++;if(fe[4]>=te)return!1;const nt=fe[0]+fe[1]+fe[2]+fe[3]+fe[4];return Math.abs(nt-ue)<2*ue&&_r.foundPatternCross(fe)}crossCheckVertical(K,J,te,ue){const fe=this.image,Be=fe.getHeight(),je=this.getCrossCheckStateCount();let ze=K;for(;ze>=0&&fe.get(J,ze);)je[2]++,ze--;if(ze<0)return NaN;for(;ze>=0&&!fe.get(J,ze)&&je[1]<=te;)je[1]++,ze--;if(ze<0||je[1]>te)return NaN;for(;ze>=0&&fe.get(J,ze)&&je[0]<=te;)je[0]++,ze--;if(je[0]>te)return NaN;for(ze=K+1;ze<Be&&fe.get(J,ze);)je[2]++,ze++;if(ze===Be)return NaN;for(;ze<Be&&!fe.get(J,ze)&&je[3]<te;)je[3]++,ze++;if(ze===Be||je[3]>=te)return NaN;for(;ze<Be&&fe.get(J,ze)&&je[4]<te;)je[4]++,ze++;if(je[4]>=te)return NaN;const qe=je[0]+je[1]+je[2]+je[3]+je[4];return 5*Math.abs(qe-ue)>=2*ue?NaN:_r.foundPatternCross(je)?_r.centerFromEnd(je,ze):NaN}crossCheckHorizontal(K,J,te,ue){const fe=this.image,Be=fe.getWidth(),je=this.getCrossCheckStateCount();let ze=K;for(;ze>=0&&fe.get(ze,J);)je[2]++,ze--;if(ze<0)return NaN;for(;ze>=0&&!fe.get(ze,J)&&je[1]<=te;)je[1]++,ze--;if(ze<0||je[1]>te)return NaN;for(;ze>=0&&fe.get(ze,J)&&je[0]<=te;)je[0]++,ze--;if(je[0]>te)return NaN;for(ze=K+1;ze<Be&&fe.get(ze,J);)je[2]++,ze++;if(ze===Be)return NaN;for(;ze<Be&&!fe.get(ze,J)&&je[3]<te;)je[3]++,ze++;if(ze===Be||je[3]>=te)return NaN;for(;ze<Be&&fe.get(ze,J)&&je[4]<te;)je[4]++,ze++;if(je[4]>=te)return NaN;const qe=je[0]+je[1]+je[2]+je[3]+je[4];return 5*Math.abs(qe-ue)>=ue?NaN:_r.foundPatternCross(je)?_r.centerFromEnd(je,ze):NaN}handlePossibleCenter(K,J,te,ue){const fe=K[0]+K[1]+K[2]+K[3]+K[4];let Be=_r.centerFromEnd(K,te),je=this.crossCheckVertical(J,Math.floor(Be),K[2],fe);if(!isNaN(je)&&(Be=this.crossCheckHorizontal(Math.floor(Be),Math.floor(je),K[2],fe),!isNaN(Be)&&(!ue||this.crossCheckDiagonal(Math.floor(je),Math.floor(Be),K[2],fe)))){const ze=fe/7;let qe=!1;const nt=this.possibleCenters;for(let ot=0,At=nt.length;ot<At;ot++){const xt=nt[ot];if(xt.aboutEquals(ze,je,Be)){nt[ot]=xt.combineEstimate(je,Be,ze),qe=!0;break}}if(!qe){const ot=new Sa(Be,je,ze);nt.push(ot),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ot)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let J=null;for(const te of this.possibleCenters)if(te.getCount()>=_r.CENTER_QUORUM)if(J==null)J=te;else return this.hasSkipped=!0,Math.floor((Math.abs(J.getX()-te.getX())-Math.abs(J.getY()-te.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let K=0,J=0;const te=this.possibleCenters.length;for(const Be of this.possibleCenters)Be.getCount()>=_r.CENTER_QUORUM&&(K++,J+=Be.getEstimatedModuleSize());if(K<3)return!1;const ue=J/te;let fe=0;for(const Be of this.possibleCenters)fe+=Math.abs(Be.getEstimatedModuleSize()-ue);return fe<=.05*J}selectBestPatterns(){const K=this.possibleCenters.length;if(K<3)throw new lt;const J=this.possibleCenters;let te;if(K>3){let ue=0,fe=0;for(const ze of this.possibleCenters){const qe=ze.getEstimatedModuleSize();ue+=qe,fe+=qe*qe}te=ue/K;let Be=Math.sqrt(fe/K-te*te);J.sort((ze,qe)=>{const nt=Math.abs(qe.getEstimatedModuleSize()-te),ot=Math.abs(ze.getEstimatedModuleSize()-te);return nt<ot?-1:nt>ot?1:0});const je=Math.max(.2*te,Be);for(let ze=0;ze<J.length&&J.length>3;ze++){const qe=J[ze];Math.abs(qe.getEstimatedModuleSize()-te)>je&&(J.splice(ze,1),ze--)}}if(J.length>3){let ue=0;for(const fe of J)ue+=fe.getEstimatedModuleSize();te=ue/J.length,J.sort((fe,Be)=>{if(Be.getCount()===fe.getCount()){const je=Math.abs(Be.getEstimatedModuleSize()-te),ze=Math.abs(fe.getEstimatedModuleSize()-te);return je<ze?1:je>ze?-1:0}else return Be.getCount()-fe.getCount()}),J.splice(3)}return[J[0],J[1],J[2]]}}_r.CENTER_QUORUM=2,_r.MIN_SKIP=3,_r.MAX_MODULES=57;class Gs{constructor(K){this.image=K}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(K){this.resultPointCallback=K==null?null:K.get(We.NEED_RESULT_POINT_CALLBACK);const te=new _r(this.image,this.resultPointCallback).find(K);return this.processFinderPatternInfo(te)}processFinderPatternInfo(K){const J=K.getTopLeft(),te=K.getTopRight(),ue=K.getBottomLeft(),fe=this.calculateModuleSize(J,te,ue);if(fe<1)throw new lt("No pattern found in proccess finder.");const Be=Gs.computeDimension(J,te,ue,fe),je=dn.getProvisionalVersionForDimension(Be),ze=je.getDimensionForVersion()-7;let qe=null;if(je.getAlignmentPatternCenters().length>0){const xt=te.getX()-J.getX()+ue.getX(),bt=te.getY()-J.getY()+ue.getY(),St=1-3/ze,Nt=Math.floor(J.getX()+St*(xt-J.getX())),Lt=Math.floor(J.getY()+St*(bt-J.getY()));for(let Yt=4;Yt<=16;Yt<<=1)try{qe=this.findAlignmentInRegion(fe,Nt,Lt,Yt);break}catch(Xt){if(!(Xt instanceof lt))throw Xt}}const nt=Gs.createTransform(J,te,ue,qe,Be),ot=Gs.sampleGrid(this.image,nt,Be);let At;return qe===null?At=[ue,J,te]:At=[ue,J,te,qe],new Yr(ot,At)}static createTransform(K,J,te,ue,fe){const Be=fe-3.5;let je,ze,qe,nt;return ue!==null?(je=ue.getX(),ze=ue.getY(),qe=Be-3,nt=qe):(je=J.getX()-K.getX()+te.getX(),ze=J.getY()-K.getY()+te.getY(),qe=Be,nt=Be),Cn.quadrilateralToQuadrilateral(3.5,3.5,Be,3.5,qe,nt,3.5,Be,K.getX(),K.getY(),J.getX(),J.getY(),je,ze,te.getX(),te.getY())}static sampleGrid(K,J,te){return kn.getInstance().sampleGridWithTransform(K,te,te,J)}static computeDimension(K,J,te,ue){const fe=yn.round(Zt.distance(K,J)/ue),Be=yn.round(Zt.distance(K,te)/ue);let je=Math.floor((fe+Be)/2)+7;switch(je&3){case 0:je++;break;case 2:je--;break;case 3:throw new lt("Dimensions could be not found.")}return je}calculateModuleSize(K,J,te){return(this.calculateModuleSizeOneWay(K,J)+this.calculateModuleSizeOneWay(K,te))/2}calculateModuleSizeOneWay(K,J){const te=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(K.getX()),Math.floor(K.getY()),Math.floor(J.getX()),Math.floor(J.getY())),ue=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(J.getX()),Math.floor(J.getY()),Math.floor(K.getX()),Math.floor(K.getY()));return isNaN(te)?ue/7:isNaN(ue)?te/7:(te+ue)/14}sizeOfBlackWhiteBlackRunBothWays(K,J,te,ue){let fe=this.sizeOfBlackWhiteBlackRun(K,J,te,ue),Be=1,je=K-(te-K);je<0?(Be=K/(K-je),je=0):je>=this.image.getWidth()&&(Be=(this.image.getWidth()-1-K)/(je-K),je=this.image.getWidth()-1);let ze=Math.floor(J-(ue-J)*Be);return Be=1,ze<0?(Be=J/(J-ze),ze=0):ze>=this.image.getHeight()&&(Be=(this.image.getHeight()-1-J)/(ze-J),ze=this.image.getHeight()-1),je=Math.floor(K+(je-K)*Be),fe+=this.sizeOfBlackWhiteBlackRun(K,J,je,ze),fe-1}sizeOfBlackWhiteBlackRun(K,J,te,ue){const fe=Math.abs(ue-J)>Math.abs(te-K);if(fe){let xt=K;K=J,J=xt,xt=te,te=ue,ue=xt}const Be=Math.abs(te-K),je=Math.abs(ue-J);let ze=-Be/2;const qe=K<te?1:-1,nt=J<ue?1:-1;let ot=0;const At=te+qe;for(let xt=K,bt=J;xt!==At;xt+=qe){const St=fe?bt:xt,Nt=fe?xt:bt;if(ot===1===this.image.get(St,Nt)){if(ot===2)return yn.distance(xt,bt,K,J);ot++}if(ze+=je,ze>0){if(bt===ue)break;bt+=nt,ze-=Be}}return ot===2?yn.distance(te+qe,ue,K,J):NaN}findAlignmentInRegion(K,J,te,ue){const fe=Math.floor(ue*K),Be=Math.max(0,J-fe),je=Math.min(this.image.getWidth()-1,J+fe);if(je-Be<K*3)throw new lt("Alignment top exceeds estimated module size.");const ze=Math.max(0,te-fe),qe=Math.min(this.image.getHeight()-1,te+fe);if(qe-ze<K*3)throw new lt("Alignment bottom exceeds estimated module size.");return new bs(this.image,Be,ze,je-Be,qe-ze,K,this.resultPointCallback).find()}}class ri{constructor(){this.decoder=new kc}getDecoder(){return this.decoder}decode(K,J){let te,ue;if(J!=null&&J.get(We.PURE_BARCODE)!==void 0){const ze=ri.extractPureBits(K.getBlackMatrix());te=this.decoder.decodeBitMatrix(ze,J),ue=ri.NO_POINTS}else{const ze=new Gs(K.getBlackMatrix()).detect(J);te=this.decoder.decodeBitMatrix(ze.getBits(),J),ue=ze.getPoints()}te.getOther()instanceof gl&&te.getOther().applyMirroredCorrection(ue);const fe=new Et(te.getText(),te.getRawBytes(),void 0,ue,_t.QR_CODE,void 0),Be=te.getByteSegments();Be!==null&&fe.putMetadata(an.BYTE_SEGMENTS,Be);const je=te.getECLevel();return je!==null&&fe.putMetadata(an.ERROR_CORRECTION_LEVEL,je),te.hasStructuredAppend()&&(fe.putMetadata(an.STRUCTURED_APPEND_SEQUENCE,te.getStructuredAppendSequenceNumber()),fe.putMetadata(an.STRUCTURED_APPEND_PARITY,te.getStructuredAppendParity())),fe}reset(){}static extractPureBits(K){const J=K.getTopLeftOnBit(),te=K.getBottomRightOnBit();if(J===null||te===null)throw new lt;const ue=this.moduleSize(J,K);let fe=J[1],Be=te[1],je=J[0],ze=te[0];if(je>=ze||fe>=Be)throw new lt;if(Be-fe!==ze-je&&(ze=je+(Be-fe),ze>=K.getWidth()))throw new lt;const qe=Math.round((ze-je+1)/ue),nt=Math.round((Be-fe+1)/ue);if(qe<=0||nt<=0)throw new lt;if(nt!==qe)throw new lt;const ot=Math.floor(ue/2);fe+=ot,je+=ot;const At=je+Math.floor((qe-1)*ue)-ze;if(At>0){if(At>ot)throw new lt;je-=At}const xt=fe+Math.floor((nt-1)*ue)-Be;if(xt>0){if(xt>ot)throw new lt;fe-=xt}const bt=new yt(qe,nt);for(let St=0;St<nt;St++){const Nt=fe+Math.floor(St*ue);for(let Lt=0;Lt<qe;Lt++)K.get(je+Math.floor(Lt*ue),Nt)&&bt.set(Lt,St)}return bt}static moduleSize(K,J){const te=J.getHeight(),ue=J.getWidth();let fe=K[0],Be=K[1],je=!0,ze=0;for(;fe<ue&&Be<te;){if(je!==J.get(fe,Be)){if(++ze===5)break;je=!je}fe++,Be++}if(fe===ue||Be===te)throw new lt;return(fe-K[0])/7}}ri.NO_POINTS=new Array;class vn{PDF417Common(){}static getBitCountSum(K){return yn.sum(K)}static toIntArray(K){if(K==null||!K.length)return vn.EMPTY_INT_ARRAY;const J=new Int32Array(K.length);let te=0;for(const ue of K)J[te++]=ue;return J}static getCodeword(K){const J=He.binarySearch(vn.SYMBOL_TABLE,K&262143);return J<0?-1:(vn.CODEWORD_TABLE[J]-1)%vn.NUMBER_OF_CODEWORDS}}vn.NUMBER_OF_CODEWORDS=929,vn.MAX_CODEWORDS_IN_BARCODE=vn.NUMBER_OF_CODEWORDS-1,vn.MIN_ROWS_IN_BARCODE=3,vn.MAX_ROWS_IN_BARCODE=90,vn.MODULES_IN_CODEWORD=17,vn.MODULES_IN_STOP_PATTERN=18,vn.BARS_IN_MODULE=8,vn.EMPTY_INT_ARRAY=new Int32Array([]),vn.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),vn.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class xl{constructor(K,J){this.bits=K,this.points=J}getBits(){return this.bits}getPoints(){return this.points}}class Rn{static detectMultiple(K,J,te){let ue=K.getBlackMatrix(),fe=Rn.detect(te,ue);return fe.length||(ue=ue.clone(),ue.rotate180(),fe=Rn.detect(te,ue)),new xl(ue,fe)}static detect(K,J){const te=new Array;let ue=0,fe=0,Be=!1;for(;ue<J.getHeight();){const je=Rn.findVertices(J,ue,fe);if(je[0]==null&&je[3]==null){if(!Be)break;Be=!1,fe=0;for(const ze of te)ze[1]!=null&&(ue=Math.trunc(Math.max(ue,ze[1].getY()))),ze[3]!=null&&(ue=Math.max(ue,Math.trunc(ze[3].getY())));ue+=Rn.ROW_STEP;continue}if(Be=!0,te.push(je),!K)break;je[2]!=null?(fe=Math.trunc(je[2].getX()),ue=Math.trunc(je[2].getY())):(fe=Math.trunc(je[4].getX()),ue=Math.trunc(je[4].getY()))}return te}static findVertices(K,J,te){const ue=K.getHeight(),fe=K.getWidth(),Be=new Array(8);return Rn.copyToResult(Be,Rn.findRowsWithPattern(K,ue,fe,J,te,Rn.START_PATTERN),Rn.INDEXES_START_PATTERN),Be[4]!=null&&(te=Math.trunc(Be[4].getX()),J=Math.trunc(Be[4].getY())),Rn.copyToResult(Be,Rn.findRowsWithPattern(K,ue,fe,J,te,Rn.STOP_PATTERN),Rn.INDEXES_STOP_PATTERN),Be}static copyToResult(K,J,te){for(let ue=0;ue<te.length;ue++)K[te[ue]]=J[ue]}static findRowsWithPattern(K,J,te,ue,fe,Be){const je=new Array(4);let ze=!1;const qe=new Int32Array(Be.length);for(;ue<J;ue+=Rn.ROW_STEP){let ot=Rn.findGuardPattern(K,fe,ue,te,!1,Be,qe);if(ot!=null){for(;ue>0;){const At=Rn.findGuardPattern(K,fe,--ue,te,!1,Be,qe);if(At!=null)ot=At;else{ue++;break}}je[0]=new Zt(ot[0],ue),je[1]=new Zt(ot[1],ue),ze=!0;break}}let nt=ue+1;if(ze){let ot=0,At=Int32Array.from([Math.trunc(je[0].getX()),Math.trunc(je[1].getX())]);for(;nt<J;nt++){const xt=Rn.findGuardPattern(K,At[0],nt,te,!1,Be,qe);if(xt!=null&&Math.abs(At[0]-xt[0])<Rn.MAX_PATTERN_DRIFT&&Math.abs(At[1]-xt[1])<Rn.MAX_PATTERN_DRIFT)At=xt,ot=0;else{if(ot>Rn.SKIPPED_ROW_COUNT_MAX)break;ot++}}nt-=ot+1,je[2]=new Zt(At[0],nt),je[3]=new Zt(At[1],nt)}return nt-ue<Rn.BARCODE_MIN_HEIGHT&&He.fill(je,null),je}static findGuardPattern(K,J,te,ue,fe,Be,je){He.fillWithin(je,0,je.length,0);let ze=J,qe=0;for(;K.get(ze,te)&&ze>0&&qe++<Rn.MAX_PIXEL_DRIFT;)ze--;let nt=ze,ot=0,At=Be.length;for(let xt=fe;nt<ue;nt++)if(K.get(nt,te)!==xt)je[ot]++;else{if(ot===At-1){if(Rn.patternMatchVariance(je,Be,Rn.MAX_INDIVIDUAL_VARIANCE)<Rn.MAX_AVG_VARIANCE)return new Int32Array([ze,nt]);ze+=je[0]+je[1],_e.arraycopy(je,2,je,0,ot-1),je[ot-1]=0,je[ot]=0,ot--}else ot++;je[ot]=1,xt=!xt}return ot===At-1&&Rn.patternMatchVariance(je,Be,Rn.MAX_INDIVIDUAL_VARIANCE)<Rn.MAX_AVG_VARIANCE?new Int32Array([ze,nt-1]):null}static patternMatchVariance(K,J,te){let ue=K.length,fe=0,Be=0;for(let qe=0;qe<ue;qe++)fe+=K[qe],Be+=J[qe];if(fe<Be)return 1/0;let je=fe/Be;te*=je;let ze=0;for(let qe=0;qe<ue;qe++){let nt=K[qe],ot=J[qe]*je,At=nt>ot?nt-ot:ot-nt;if(At>te)return 1/0;ze+=At}return ze/fe}}Rn.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Rn.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Rn.MAX_AVG_VARIANCE=.42,Rn.MAX_INDIVIDUAL_VARIANCE=.8,Rn.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Rn.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Rn.MAX_PIXEL_DRIFT=3,Rn.MAX_PATTERN_DRIFT=5,Rn.SKIPPED_ROW_COUNT_MAX=25,Rn.ROW_STEP=5,Rn.BARCODE_MIN_HEIGHT=10;class Er{constructor(K,J){if(J.length===0)throw new ne;this.field=K;let te=J.length;if(te>1&&J[0]===0){let ue=1;for(;ue<te&&J[ue]===0;)ue++;ue===te?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(te-ue),_e.arraycopy(J,ue,this.coefficients,0,this.coefficients.length))}else this.coefficients=J}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(K){return this.coefficients[this.coefficients.length-1-K]}evaluateAt(K){if(K===0)return this.getCoefficient(0);if(K===1){let ue=0;for(let fe of this.coefficients)ue=this.field.add(ue,fe);return ue}let J=this.coefficients[0],te=this.coefficients.length;for(let ue=1;ue<te;ue++)J=this.field.add(this.field.multiply(K,J),this.coefficients[ue]);return J}add(K){if(!this.field.equals(K.field))throw new ne("ModulusPolys do not have same ModulusGF field");if(this.isZero())return K;if(K.isZero())return this;let J=this.coefficients,te=K.coefficients;if(J.length>te.length){let Be=J;J=te,te=Be}let ue=new Int32Array(te.length),fe=te.length-J.length;_e.arraycopy(te,0,ue,0,fe);for(let Be=fe;Be<te.length;Be++)ue[Be]=this.field.add(J[Be-fe],te[Be]);return new Er(this.field,ue)}subtract(K){if(!this.field.equals(K.field))throw new ne("ModulusPolys do not have same ModulusGF field");return K.isZero()?this:this.add(K.negative())}multiply(K){return K instanceof Er?this.multiplyOther(K):this.multiplyScalar(K)}multiplyOther(K){if(!this.field.equals(K.field))throw new ne("ModulusPolys do not have same ModulusGF field");if(this.isZero()||K.isZero())return new Er(this.field,new Int32Array([0]));let J=this.coefficients,te=J.length,ue=K.coefficients,fe=ue.length,Be=new Int32Array(te+fe-1);for(let je=0;je<te;je++){let ze=J[je];for(let qe=0;qe<fe;qe++)Be[je+qe]=this.field.add(Be[je+qe],this.field.multiply(ze,ue[qe]))}return new Er(this.field,Be)}negative(){let K=this.coefficients.length,J=new Int32Array(K);for(let te=0;te<K;te++)J[te]=this.field.subtract(0,this.coefficients[te]);return new Er(this.field,J)}multiplyScalar(K){if(K===0)return new Er(this.field,new Int32Array([0]));if(K===1)return this;let J=this.coefficients.length,te=new Int32Array(J);for(let ue=0;ue<J;ue++)te[ue]=this.field.multiply(this.coefficients[ue],K);return new Er(this.field,te)}multiplyByMonomial(K,J){if(K<0)throw new ne;if(J===0)return new Er(this.field,new Int32Array([0]));let te=this.coefficients.length,ue=new Int32Array(te+K);for(let fe=0;fe<te;fe++)ue[fe]=this.field.multiply(this.coefficients[fe],J);return new Er(this.field,ue)}toString(){let K=new pt;for(let J=this.getDegree();J>=0;J--){let te=this.getCoefficient(J);te!==0&&(te<0?(K.append(" - "),te=-te):K.length()>0&&K.append(" + "),(J===0||te!==1)&&K.append(te),J!==0&&(J===1?K.append("x"):(K.append("x^"),K.append(J))))}return K.toString()}}class No{add(K,J){return(K+J)%this.modulus}subtract(K,J){return(this.modulus+K-J)%this.modulus}exp(K){return this.expTable[K]}log(K){if(K===0)throw new ne;return this.logTable[K]}inverse(K){if(K===0)throw new qn;return this.expTable[this.modulus-this.logTable[K]-1]}multiply(K,J){return K===0||J===0?0:this.expTable[(this.logTable[K]+this.logTable[J])%(this.modulus-1)]}getSize(){return this.modulus}equals(K){return K===this}}class Ci extends No{constructor(K,J){super(),this.modulus=K,this.expTable=new Int32Array(K),this.logTable=new Int32Array(K);let te=1;for(let ue=0;ue<K;ue++)this.expTable[ue]=te,te=te*J%K;for(let ue=0;ue<K-1;ue++)this.logTable[this.expTable[ue]]=ue;this.zero=new Er(this,new Int32Array([0])),this.one=new Er(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(K,J){if(K<0)throw new ne;if(J===0)return this.zero;let te=new Int32Array(K+1);return te[0]=J,new Er(this,te)}}Ci.PDF417_GF=new Ci(vn.NUMBER_OF_CODEWORDS,3);class si{constructor(){this.field=Ci.PDF417_GF}decode(K,J,te){let ue=new Er(this.field,K),fe=new Int32Array(J),Be=!1;for(let bt=J;bt>0;bt--){let St=ue.evaluateAt(this.field.exp(bt));fe[J-bt]=St,St!==0&&(Be=!0)}if(!Be)return 0;let je=this.field.getOne();if(te!=null)for(const bt of te){let St=this.field.exp(K.length-1-bt),Nt=new Er(this.field,new Int32Array([this.field.subtract(0,St),1]));je=je.multiply(Nt)}let ze=new Er(this.field,fe),qe=this.runEuclideanAlgorithm(this.field.buildMonomial(J,1),ze,J),nt=qe[0],ot=qe[1],At=this.findErrorLocations(nt),xt=this.findErrorMagnitudes(ot,nt,At);for(let bt=0;bt<At.length;bt++){let St=K.length-1-this.field.log(At[bt]);if(St<0)throw pe.getChecksumInstance();K[St]=this.field.subtract(K[St],xt[bt])}return At.length}runEuclideanAlgorithm(K,J,te){if(K.getDegree()<J.getDegree()){let At=K;K=J,J=At}let ue=K,fe=J,Be=this.field.getZero(),je=this.field.getOne();for(;fe.getDegree()>=Math.round(te/2);){let At=ue,xt=Be;if(ue=fe,Be=je,ue.isZero())throw pe.getChecksumInstance();fe=At;let bt=this.field.getZero(),St=ue.getCoefficient(ue.getDegree()),Nt=this.field.inverse(St);for(;fe.getDegree()>=ue.getDegree()&&!fe.isZero();){let Lt=fe.getDegree()-ue.getDegree(),Yt=this.field.multiply(fe.getCoefficient(fe.getDegree()),Nt);bt=bt.add(this.field.buildMonomial(Lt,Yt)),fe=fe.subtract(ue.multiplyByMonomial(Lt,Yt))}je=bt.multiply(Be).subtract(xt).negative()}let ze=je.getCoefficient(0);if(ze===0)throw pe.getChecksumInstance();let qe=this.field.inverse(ze),nt=je.multiply(qe),ot=fe.multiply(qe);return[nt,ot]}findErrorLocations(K){let J=K.getDegree(),te=new Int32Array(J),ue=0;for(let fe=1;fe<this.field.getSize()&&ue<J;fe++)K.evaluateAt(fe)===0&&(te[ue]=this.field.inverse(fe),ue++);if(ue!==J)throw pe.getChecksumInstance();return te}findErrorMagnitudes(K,J,te){let ue=J.getDegree(),fe=new Int32Array(ue);for(let qe=1;qe<=ue;qe++)fe[ue-qe]=this.field.multiply(qe,J.getCoefficient(qe));let Be=new Er(this.field,fe),je=te.length,ze=new Int32Array(je);for(let qe=0;qe<je;qe++){let nt=this.field.inverse(te[qe]),ot=this.field.subtract(0,K.evaluateAt(nt)),At=this.field.inverse(Be.evaluateAt(nt));ze[qe]=this.field.multiply(ot,At)}return ze}}class ii{constructor(K,J,te,ue,fe){K instanceof ii?this.constructor_2(K):this.constructor_1(K,J,te,ue,fe)}constructor_1(K,J,te,ue,fe){const Be=J==null||te==null,je=ue==null||fe==null;if(Be&&je)throw new lt;Be?(J=new Zt(0,ue.getY()),te=new Zt(0,fe.getY())):je&&(ue=new Zt(K.getWidth()-1,J.getY()),fe=new Zt(K.getWidth()-1,te.getY())),this.image=K,this.topLeft=J,this.bottomLeft=te,this.topRight=ue,this.bottomRight=fe,this.minX=Math.trunc(Math.min(J.getX(),te.getX())),this.maxX=Math.trunc(Math.max(ue.getX(),fe.getX())),this.minY=Math.trunc(Math.min(J.getY(),ue.getY())),this.maxY=Math.trunc(Math.max(te.getY(),fe.getY()))}constructor_2(K){this.image=K.image,this.topLeft=K.getTopLeft(),this.bottomLeft=K.getBottomLeft(),this.topRight=K.getTopRight(),this.bottomRight=K.getBottomRight(),this.minX=K.getMinX(),this.maxX=K.getMaxX(),this.minY=K.getMinY(),this.maxY=K.getMaxY()}static merge(K,J){return K==null?J:J==null?K:new ii(K.image,K.topLeft,K.bottomLeft,J.topRight,J.bottomRight)}addMissingRows(K,J,te){let ue=this.topLeft,fe=this.bottomLeft,Be=this.topRight,je=this.bottomRight;if(K>0){let ze=te?this.topLeft:this.topRight,qe=Math.trunc(ze.getY()-K);qe<0&&(qe=0);let nt=new Zt(ze.getX(),qe);te?ue=nt:Be=nt}if(J>0){let ze=te?this.bottomLeft:this.bottomRight,qe=Math.trunc(ze.getY()+J);qe>=this.image.getHeight()&&(qe=this.image.getHeight()-1);let nt=new Zt(ze.getX(),qe);te?fe=nt:je=nt}return new ii(this.image,ue,fe,Be,je)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ka{constructor(K,J,te,ue){this.columnCount=K,this.errorCorrectionLevel=ue,this.rowCountUpperPart=J,this.rowCountLowerPart=te,this.rowCount=J+te}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class qi{constructor(){this.buffer=""}static form(K,J){let te=-1;function ue(Be,je,ze,qe,nt,ot){if(Be==="%%")return"%";if(J[++te]===void 0)return;Be=qe?parseInt(qe.substr(1)):void 0;let At=nt?parseInt(nt.substr(1)):void 0,xt;switch(ot){case"s":xt=J[te];break;case"c":xt=J[te][0];break;case"f":xt=parseFloat(J[te]).toFixed(Be);break;case"p":xt=parseFloat(J[te]).toPrecision(Be);break;case"e":xt=parseFloat(J[te]).toExponential(Be);break;case"x":xt=parseInt(J[te]).toString(At||16);break;case"d":xt=parseFloat(parseInt(J[te],At||10).toPrecision(Be)).toFixed(0);break}xt=typeof xt=="object"?JSON.stringify(xt):(+xt).toString(At);let bt=parseInt(ze),St=ze&&ze[0]+""=="0"?"0":" ";for(;xt.length<bt;)xt=je!==void 0?xt+St:St+xt;return xt}let fe=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return K.replace(fe,ue)}format(K,...J){this.buffer+=qi.form(K,J)}toString(){return this.buffer}}class di{constructor(K){this.boundingBox=new ii(K),this.codewords=new Array(K.getMaxY()-K.getMinY()+1)}getCodewordNearby(K){let J=this.getCodeword(K);if(J!=null)return J;for(let te=1;te<di.MAX_NEARBY_DISTANCE;te++){let ue=this.imageRowToCodewordIndex(K)-te;if(ue>=0&&(J=this.codewords[ue],J!=null)||(ue=this.imageRowToCodewordIndex(K)+te,ue<this.codewords.length&&(J=this.codewords[ue],J!=null)))return J}return null}imageRowToCodewordIndex(K){return K-this.boundingBox.getMinY()}setCodeword(K,J){this.codewords[this.imageRowToCodewordIndex(K)]=J}getCodeword(K){return this.codewords[this.imageRowToCodewordIndex(K)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const K=new qi;let J=0;for(const te of this.codewords){if(te==null){K.format("%3d:    |   %n",J++);continue}K.format("%3d: %3d|%3d%n",J++,te.getRowNumber(),te.getValue())}return K.toString()}}di.MAX_NEARBY_DISTANCE=5;class fi{constructor(){this.values=new Map}setValue(K){K=Math.trunc(K);let J=this.values.get(K);J==null&&(J=0),J++,this.values.set(K,J)}getValue(){let K=-1,J=new Array;for(const[te,ue]of this.values.entries()){const fe={getKey:()=>te,getValue:()=>ue};fe.getValue()>K?(K=fe.getValue(),J=[],J.push(fe.getKey())):fe.getValue()===K&&J.push(fe.getKey())}return vn.toIntArray(J)}getConfidence(K){return this.values.get(K)}}class Fo extends di{constructor(K,J){super(K),this._isLeft=J}setRowNumbers(){for(let K of this.getCodewords())K!=null&&K.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(K){let J=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(J,K);let te=this.getBoundingBox(),ue=this._isLeft?te.getTopLeft():te.getTopRight(),fe=this._isLeft?te.getBottomLeft():te.getBottomRight(),Be=this.imageRowToCodewordIndex(Math.trunc(ue.getY())),je=this.imageRowToCodewordIndex(Math.trunc(fe.getY())),ze=-1,qe=1,nt=0;for(let ot=Be;ot<je;ot++){if(J[ot]==null)continue;let At=J[ot],xt=At.getRowNumber()-ze;if(xt===0)nt++;else if(xt===1)qe=Math.max(qe,nt),nt=1,ze=At.getRowNumber();else if(xt<0||At.getRowNumber()>=K.getRowCount()||xt>ot)J[ot]=null;else{let bt;qe>2?bt=(qe-2)*xt:bt=xt;let St=bt>=ot;for(let Nt=1;Nt<=bt&&!St;Nt++)St=J[ot-Nt]!=null;St?J[ot]=null:(ze=At.getRowNumber(),nt=1)}}}getRowHeights(){let K=this.getBarcodeMetadata();if(K==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(K);let J=new Int32Array(K.getRowCount());for(let te of this.getCodewords())if(te!=null){let ue=te.getRowNumber();if(ue>=J.length)continue;J[ue]++}return J}adjustIncompleteIndicatorColumnRowNumbers(K){let J=this.getBoundingBox(),te=this._isLeft?J.getTopLeft():J.getTopRight(),ue=this._isLeft?J.getBottomLeft():J.getBottomRight(),fe=this.imageRowToCodewordIndex(Math.trunc(te.getY())),Be=this.imageRowToCodewordIndex(Math.trunc(ue.getY())),je=this.getCodewords(),ze=-1;for(let qe=fe;qe<Be;qe++){if(je[qe]==null)continue;let nt=je[qe];nt.setRowNumberAsRowIndicatorColumn();let ot=nt.getRowNumber()-ze;ot===0||(ot===1?ze=nt.getRowNumber():nt.getRowNumber()>=K.getRowCount()?je[qe]=null:ze=nt.getRowNumber())}}getBarcodeMetadata(){let K=this.getCodewords(),J=new fi,te=new fi,ue=new fi,fe=new fi;for(let je of K){if(je==null)continue;je.setRowNumberAsRowIndicatorColumn();let ze=je.getValue()%30,qe=je.getRowNumber();switch(this._isLeft||(qe+=2),qe%3){case 0:te.setValue(ze*3+1);break;case 1:fe.setValue(ze/3),ue.setValue(ze%3);break;case 2:J.setValue(ze+1);break}}if(J.getValue().length===0||te.getValue().length===0||ue.getValue().length===0||fe.getValue().length===0||J.getValue()[0]<1||te.getValue()[0]+ue.getValue()[0]<vn.MIN_ROWS_IN_BARCODE||te.getValue()[0]+ue.getValue()[0]>vn.MAX_ROWS_IN_BARCODE)return null;let Be=new Ka(J.getValue()[0],te.getValue()[0],ue.getValue()[0],fe.getValue()[0]);return this.removeIncorrectCodewords(K,Be),Be}removeIncorrectCodewords(K,J){for(let te=0;te<K.length;te++){let ue=K[te];if(K[te]==null)continue;let fe=ue.getValue()%30,Be=ue.getRowNumber();if(Be>J.getRowCount()){K[te]=null;continue}switch(this._isLeft||(Be+=2),Be%3){case 0:fe*3+1!==J.getRowCountUpperPart()&&(K[te]=null);break;case 1:(Math.trunc(fe/3)!==J.getErrorCorrectionLevel()||fe%3!==J.getRowCountLowerPart())&&(K[te]=null);break;case 2:fe+1!==J.getColumnCount()&&(K[te]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Gr{constructor(K,J){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=K,this.barcodeColumnCount=K.getColumnCount(),this.boundingBox=J,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let K=vn.MAX_CODEWORDS_IN_BARCODE,J;do J=K,K=this.adjustRowNumbersAndGetCount();while(K>0&&K<J);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(K){K!=null&&K.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let K=this.adjustRowNumbersByRow();if(K===0)return 0;for(let J=1;J<this.barcodeColumnCount+1;J++){let te=this.detectionResultColumns[J].getCodewords();for(let ue=0;ue<te.length;ue++)te[ue]!=null&&(te[ue].hasValidRowNumber()||this.adjustRowNumbers(J,ue,te))}return K}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let K=this.detectionResultColumns[0].getCodewords(),J=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let te=0;te<K.length;te++)if(K[te]!=null&&J[te]!=null&&K[te].getRowNumber()===J[te].getRowNumber())for(let ue=1;ue<=this.barcodeColumnCount;ue++){let fe=this.detectionResultColumns[ue].getCodewords()[te];fe!=null&&(fe.setRowNumber(K[te].getRowNumber()),fe.hasValidRowNumber()||(this.detectionResultColumns[ue].getCodewords()[te]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let K=0,J=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let te=0;te<J.length;te++){if(J[te]==null)continue;let ue=J[te].getRowNumber(),fe=0;for(let Be=this.barcodeColumnCount+1;Be>0&&fe<this.ADJUST_ROW_NUMBER_SKIP;Be--){let je=this.detectionResultColumns[Be].getCodewords()[te];je!=null&&(fe=Gr.adjustRowNumberIfValid(ue,fe,je),je.hasValidRowNumber()||K++)}}return K}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let K=0,J=this.detectionResultColumns[0].getCodewords();for(let te=0;te<J.length;te++){if(J[te]==null)continue;let ue=J[te].getRowNumber(),fe=0;for(let Be=1;Be<this.barcodeColumnCount+1&&fe<this.ADJUST_ROW_NUMBER_SKIP;Be++){let je=this.detectionResultColumns[Be].getCodewords()[te];je!=null&&(fe=Gr.adjustRowNumberIfValid(ue,fe,je),je.hasValidRowNumber()||K++)}}return K}static adjustRowNumberIfValid(K,J,te){return te==null||te.hasValidRowNumber()||(te.isValidRowNumber(K)?(te.setRowNumber(K),J=0):++J),J}adjustRowNumbers(K,J,te){if(!this.detectionResultColumns[K-1])return;let ue=te[J],fe=this.detectionResultColumns[K-1].getCodewords(),Be=fe;this.detectionResultColumns[K+1]!=null&&(Be=this.detectionResultColumns[K+1].getCodewords());let je=new Array(14);je[2]=fe[J],je[3]=Be[J],J>0&&(je[0]=te[J-1],je[4]=fe[J-1],je[5]=Be[J-1]),J>1&&(je[8]=te[J-2],je[10]=fe[J-2],je[11]=Be[J-2]),J<te.length-1&&(je[1]=te[J+1],je[6]=fe[J+1],je[7]=Be[J+1]),J<te.length-2&&(je[9]=te[J+2],je[12]=fe[J+2],je[13]=Be[J+2]);for(let ze of je)if(Gr.adjustRowNumber(ue,ze))return}static adjustRowNumber(K,J){return J==null?!1:J.hasValidRowNumber()&&J.getBucket()===K.getBucket()?(K.setRowNumber(J.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(K){this.boundingBox=K}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(K,J){this.detectionResultColumns[K]=J}getDetectionResultColumn(K){return this.detectionResultColumns[K]}toString(){let K=this.detectionResultColumns[0];K==null&&(K=this.detectionResultColumns[this.barcodeColumnCount+1]);let J=new qi;for(let te=0;te<K.getCodewords().length;te++){J.format("CW %3d:",te);for(let ue=0;ue<this.barcodeColumnCount+2;ue++){if(this.detectionResultColumns[ue]==null){J.format("    |   ");continue}let fe=this.detectionResultColumns[ue].getCodewords()[te];if(fe==null){J.format("    |   ");continue}J.format(" %3d|%3d",fe.getRowNumber(),fe.getValue())}J.format("%n")}return J.toString()}}class Ds{constructor(K,J,te,ue){this.rowNumber=Ds.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(K),this.endX=Math.trunc(J),this.bucket=Math.trunc(te),this.value=Math.trunc(ue)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(K){return K!==Ds.BARCODE_ROW_UNKNOWN&&this.bucket===K%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(K){this.rowNumber=K}toString(){return this.rowNumber+"|"+this.value}}Ds.BARCODE_ROW_UNKNOWN=-1;class Zr{static initialize(){for(let K=0;K<vn.SYMBOL_TABLE.length;K++){let J=vn.SYMBOL_TABLE[K],te=J&1;for(let ue=0;ue<vn.BARS_IN_MODULE;ue++){let fe=0;for(;(J&1)===te;)fe+=1,J>>=1;te=J&1,Zr.RATIOS_TABLE[K]||(Zr.RATIOS_TABLE[K]=new Array(vn.BARS_IN_MODULE)),Zr.RATIOS_TABLE[K][vn.BARS_IN_MODULE-ue-1]=Math.fround(fe/vn.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(K){let J=Zr.getDecodedCodewordValue(Zr.sampleBitCounts(K));return J!==-1?J:Zr.getClosestDecodedValue(K)}static sampleBitCounts(K){let J=yn.sum(K),te=new Int32Array(vn.BARS_IN_MODULE),ue=0,fe=0;for(let Be=0;Be<vn.MODULES_IN_CODEWORD;Be++){let je=J/(2*vn.MODULES_IN_CODEWORD)+Be*J/vn.MODULES_IN_CODEWORD;fe+K[ue]<=je&&(fe+=K[ue],ue++),te[ue]++}return te}static getDecodedCodewordValue(K){let J=Zr.getBitValue(K);return vn.getCodeword(J)===-1?-1:J}static getBitValue(K){let J=0;for(let te=0;te<K.length;te++)for(let ue=0;ue<K[te];ue++)J=J<<1|(te%2===0?1:0);return Math.trunc(J)}static getClosestDecodedValue(K){let J=yn.sum(K),te=new Array(vn.BARS_IN_MODULE);if(J>1)for(let Be=0;Be<te.length;Be++)te[Be]=Math.fround(K[Be]/J);let ue=Sr.MAX_VALUE,fe=-1;this.bSymbolTableReady||Zr.initialize();for(let Be=0;Be<Zr.RATIOS_TABLE.length;Be++){let je=0,ze=Zr.RATIOS_TABLE[Be];for(let qe=0;qe<vn.BARS_IN_MODULE;qe++){let nt=Math.fround(ze[qe]-te[qe]);if(je+=Math.fround(nt*nt),je>=ue)break}je<ue&&(ue=je,fe=vn.SYMBOL_TABLE[Be])}return fe}}Zr.bSymbolTableReady=!1,Zr.RATIOS_TABLE=new Array(vn.SYMBOL_TABLE.length).map(at=>new Array(vn.BARS_IN_MODULE));class Xi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(K){this.segmentIndex=K}getFileId(){return this.fileId}setFileId(K){this.fileId=K}getOptionalData(){return this.optionalData}setOptionalData(K){this.optionalData=K}isLastSegment(){return this.lastSegment}setLastSegment(K){this.lastSegment=K}getSegmentCount(){return this.segmentCount}setSegmentCount(K){this.segmentCount=K}getSender(){return this.sender||null}setSender(K){this.sender=K}getAddressee(){return this.addressee||null}setAddressee(K){this.addressee=K}getFileName(){return this.fileName}setFileName(K){this.fileName=K}getFileSize(){return this.fileSize}setFileSize(K){this.fileSize=K}getChecksum(){return this.checksum}setChecksum(K){this.checksum=K}getTimestamp(){return this.timestamp}setTimestamp(K){this.timestamp=K}}class yl{static parseLong(K,J=void 0){return parseInt(K,J)}}class Wa extends q{}Wa.kind="NullPointerException";class ko{writeBytes(K){this.writeBytesOffset(K,0,K.length)}writeBytesOffset(K,J,te){if(K==null)throw new Wa;if(J<0||J>K.length||te<0||J+te>K.length||J+te<0)throw new Ue;if(te===0)return;for(let ue=0;ue<te;ue++)this.write(K[J+ue])}flush(){}close(){}}class Ba extends q{}class qa extends ko{constructor(K=32){if(super(),this.count=0,K<0)throw new ne("Negative initial size: "+K);this.buf=new Uint8Array(K)}ensureCapacity(K){K-this.buf.length>0&&this.grow(K)}grow(K){let te=this.buf.length<<1;if(te-K<0&&(te=K),te<0){if(K<0)throw new Ba;te=$e.MAX_VALUE}this.buf=He.copyOfUint8Array(this.buf,te)}write(K){this.ensureCapacity(this.count+1),this.buf[this.count]=K,this.count+=1}writeBytesOffset(K,J,te){if(J<0||J>K.length||te<0||J+te-K.length>0)throw new Ue;this.ensureCapacity(this.count+te),_e.arraycopy(K,J,this.buf,this.count,te),this.count+=te}writeTo(K){K.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return He.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(K){return K?typeof K=="string"?this.toString_string(K):this.toString_number(K):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(K){return new String(this.buf).toString()}toString_number(K){return new String(this.buf).toString()}close(){}}var cr;(function(at){at[at.ALPHA=0]="ALPHA",at[at.LOWER=1]="LOWER",at[at.MIXED=2]="MIXED",at[at.PUNCT=3]="PUNCT",at[at.ALPHA_SHIFT=4]="ALPHA_SHIFT",at[at.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(cr||(cr={}));function vl(){if(typeof window<"u")return window.BigInt||null;if(typeof commonjsGlobal<"u")return commonjsGlobal.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Xa;function hi(at){if(typeof Xa>"u"&&(Xa=vl()),Xa===null)throw new Error("BigInt is not supported!");return Xa(at)}function Mo(){let at=[];at[0]=hi(1);let K=hi(900);at[1]=K;for(let J=2;J<16;J++)at[J]=at[J-1]*K;return at}class Pt{static decode(K,J){let te=new pt(""),ue=Je.ISO8859_1;te.enableDecoding(ue);let fe=1,Be=K[fe++],je=new Xi;for(;fe<K[0];){switch(Be){case Pt.TEXT_COMPACTION_MODE_LATCH:fe=Pt.textCompaction(K,fe,te);break;case Pt.BYTE_COMPACTION_MODE_LATCH:case Pt.BYTE_COMPACTION_MODE_LATCH_6:fe=Pt.byteCompaction(Be,K,ue,fe,te);break;case Pt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:te.append(K[fe++]);break;case Pt.NUMERIC_COMPACTION_MODE_LATCH:fe=Pt.numericCompaction(K,fe,te);break;case Pt.ECI_CHARSET:Je.getCharacterSetECIByValue(K[fe++]);break;case Pt.ECI_GENERAL_PURPOSE:fe+=2;break;case Pt.ECI_USER_DEFINED:fe++;break;case Pt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:fe=Pt.decodeMacroBlock(K,fe,je);break;case Pt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pt.MACRO_PDF417_TERMINATOR:throw new Ge;default:fe--,fe=Pt.textCompaction(K,fe,te);break}if(fe<K.length)Be=K[fe++];else throw Ge.getFormatInstance()}if(te.length()===0)throw Ge.getFormatInstance();let ze=new hn(null,te.toString(),null,J);return ze.setOther(je),ze}static decodeMacroBlock(K,J,te){if(J+Pt.NUMBER_OF_SEQUENCE_CODEWORDS>K[0])throw Ge.getFormatInstance();let ue=new Int32Array(Pt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let je=0;je<Pt.NUMBER_OF_SEQUENCE_CODEWORDS;je++,J++)ue[je]=K[J];te.setSegmentIndex($e.parseInt(Pt.decodeBase900toBase10(ue,Pt.NUMBER_OF_SEQUENCE_CODEWORDS)));let fe=new pt;J=Pt.textCompaction(K,J,fe),te.setFileId(fe.toString());let Be=-1;for(K[J]===Pt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(Be=J+1);J<K[0];)switch(K[J]){case Pt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(J++,K[J]){case Pt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let je=new pt;J=Pt.textCompaction(K,J+1,je),te.setFileName(je.toString());break;case Pt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let ze=new pt;J=Pt.textCompaction(K,J+1,ze),te.setSender(ze.toString());break;case Pt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let qe=new pt;J=Pt.textCompaction(K,J+1,qe),te.setAddressee(qe.toString());break;case Pt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let nt=new pt;J=Pt.numericCompaction(K,J+1,nt),te.setSegmentCount($e.parseInt(nt.toString()));break;case Pt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ot=new pt;J=Pt.numericCompaction(K,J+1,ot),te.setTimestamp(yl.parseLong(ot.toString()));break;case Pt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let At=new pt;J=Pt.numericCompaction(K,J+1,At),te.setChecksum($e.parseInt(At.toString()));break;case Pt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let xt=new pt;J=Pt.numericCompaction(K,J+1,xt),te.setFileSize(yl.parseLong(xt.toString()));break;default:throw Ge.getFormatInstance()}break;case Pt.MACRO_PDF417_TERMINATOR:J++,te.setLastSegment(!0);break;default:throw Ge.getFormatInstance()}if(Be!==-1){let je=J-Be;te.isLastSegment()&&je--,te.setOptionalData(He.copyOfRange(K,Be,Be+je))}return J}static textCompaction(K,J,te){let ue=new Int32Array((K[0]-J)*2),fe=new Int32Array((K[0]-J)*2),Be=0,je=!1;for(;J<K[0]&&!je;){let ze=K[J++];if(ze<Pt.TEXT_COMPACTION_MODE_LATCH)ue[Be]=ze/30,ue[Be+1]=ze%30,Be+=2;else switch(ze){case Pt.TEXT_COMPACTION_MODE_LATCH:ue[Be++]=Pt.TEXT_COMPACTION_MODE_LATCH;break;case Pt.BYTE_COMPACTION_MODE_LATCH:case Pt.BYTE_COMPACTION_MODE_LATCH_6:case Pt.NUMERIC_COMPACTION_MODE_LATCH:case Pt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pt.MACRO_PDF417_TERMINATOR:J--,je=!0;break;case Pt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:ue[Be]=Pt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,ze=K[J++],fe[Be]=ze,Be++;break}}return Pt.decodeTextCompaction(ue,fe,Be,te),J}static decodeTextCompaction(K,J,te,ue){let fe=cr.ALPHA,Be=cr.ALPHA,je=0;for(;je<te;){let ze=K[je],qe="";switch(fe){case cr.ALPHA:if(ze<26)qe=String.fromCharCode(65+ze);else switch(ze){case 26:qe=" ";break;case Pt.LL:fe=cr.LOWER;break;case Pt.ML:fe=cr.MIXED;break;case Pt.PS:Be=fe,fe=cr.PUNCT_SHIFT;break;case Pt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:ue.append(J[je]);break;case Pt.TEXT_COMPACTION_MODE_LATCH:fe=cr.ALPHA;break}break;case cr.LOWER:if(ze<26)qe=String.fromCharCode(97+ze);else switch(ze){case 26:qe=" ";break;case Pt.AS:Be=fe,fe=cr.ALPHA_SHIFT;break;case Pt.ML:fe=cr.MIXED;break;case Pt.PS:Be=fe,fe=cr.PUNCT_SHIFT;break;case Pt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:ue.append(J[je]);break;case Pt.TEXT_COMPACTION_MODE_LATCH:fe=cr.ALPHA;break}break;case cr.MIXED:if(ze<Pt.PL)qe=Pt.MIXED_CHARS[ze];else switch(ze){case Pt.PL:fe=cr.PUNCT;break;case 26:qe=" ";break;case Pt.LL:fe=cr.LOWER;break;case Pt.AL:fe=cr.ALPHA;break;case Pt.PS:Be=fe,fe=cr.PUNCT_SHIFT;break;case Pt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:ue.append(J[je]);break;case Pt.TEXT_COMPACTION_MODE_LATCH:fe=cr.ALPHA;break}break;case cr.PUNCT:if(ze<Pt.PAL)qe=Pt.PUNCT_CHARS[ze];else switch(ze){case Pt.PAL:fe=cr.ALPHA;break;case Pt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:ue.append(J[je]);break;case Pt.TEXT_COMPACTION_MODE_LATCH:fe=cr.ALPHA;break}break;case cr.ALPHA_SHIFT:if(fe=Be,ze<26)qe=String.fromCharCode(65+ze);else switch(ze){case 26:qe=" ";break;case Pt.TEXT_COMPACTION_MODE_LATCH:fe=cr.ALPHA;break}break;case cr.PUNCT_SHIFT:if(fe=Be,ze<Pt.PAL)qe=Pt.PUNCT_CHARS[ze];else switch(ze){case Pt.PAL:fe=cr.ALPHA;break;case Pt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:ue.append(J[je]);break;case Pt.TEXT_COMPACTION_MODE_LATCH:fe=cr.ALPHA;break}break}qe!==""&&ue.append(qe),je++}}static byteCompaction(K,J,te,ue,fe){let Be=new qa,je=0,ze=0,qe=!1;switch(K){case Pt.BYTE_COMPACTION_MODE_LATCH:let nt=new Int32Array(6),ot=J[ue++];for(;ue<J[0]&&!qe;)switch(nt[je++]=ot,ze=900*ze+ot,ot=J[ue++],ot){case Pt.TEXT_COMPACTION_MODE_LATCH:case Pt.BYTE_COMPACTION_MODE_LATCH:case Pt.NUMERIC_COMPACTION_MODE_LATCH:case Pt.BYTE_COMPACTION_MODE_LATCH_6:case Pt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pt.MACRO_PDF417_TERMINATOR:ue--,qe=!0;break;default:if(je%5===0&&je>0){for(let At=0;At<6;++At)Be.write(Number(hi(ze)>>hi(8*(5-At))));ze=0,je=0}break}ue===J[0]&&ot<Pt.TEXT_COMPACTION_MODE_LATCH&&(nt[je++]=ot);for(let At=0;At<je;At++)Be.write(nt[At]);break;case Pt.BYTE_COMPACTION_MODE_LATCH_6:for(;ue<J[0]&&!qe;){let At=J[ue++];if(At<Pt.TEXT_COMPACTION_MODE_LATCH)je++,ze=900*ze+At;else switch(At){case Pt.TEXT_COMPACTION_MODE_LATCH:case Pt.BYTE_COMPACTION_MODE_LATCH:case Pt.NUMERIC_COMPACTION_MODE_LATCH:case Pt.BYTE_COMPACTION_MODE_LATCH_6:case Pt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pt.MACRO_PDF417_TERMINATOR:ue--,qe=!0;break}if(je%5===0&&je>0){for(let xt=0;xt<6;++xt)Be.write(Number(hi(ze)>>hi(8*(5-xt))));ze=0,je=0}}break}return fe.append(ft.decode(Be.toByteArray(),te)),ue}static numericCompaction(K,J,te){let ue=0,fe=!1,Be=new Int32Array(Pt.MAX_NUMERIC_CODEWORDS);for(;J<K[0]&&!fe;){let je=K[J++];if(J===K[0]&&(fe=!0),je<Pt.TEXT_COMPACTION_MODE_LATCH)Be[ue]=je,ue++;else switch(je){case Pt.TEXT_COMPACTION_MODE_LATCH:case Pt.BYTE_COMPACTION_MODE_LATCH:case Pt.BYTE_COMPACTION_MODE_LATCH_6:case Pt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pt.MACRO_PDF417_TERMINATOR:J--,fe=!0;break}(ue%Pt.MAX_NUMERIC_CODEWORDS===0||je===Pt.NUMERIC_COMPACTION_MODE_LATCH||fe)&&ue>0&&(te.append(Pt.decodeBase900toBase10(Be,ue)),ue=0)}return J}static decodeBase900toBase10(K,J){let te=hi(0);for(let fe=0;fe<J;fe++)te+=Pt.EXP900[J-fe-1]*hi(K[fe]);let ue=te.toString();if(ue.charAt(0)!=="1")throw new Ge;return ue.substring(1)}}Pt.TEXT_COMPACTION_MODE_LATCH=900,Pt.BYTE_COMPACTION_MODE_LATCH=901,Pt.NUMERIC_COMPACTION_MODE_LATCH=902,Pt.BYTE_COMPACTION_MODE_LATCH_6=924,Pt.ECI_USER_DEFINED=925,Pt.ECI_GENERAL_PURPOSE=926,Pt.ECI_CHARSET=927,Pt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Pt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Pt.MACRO_PDF417_TERMINATOR=922,Pt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Pt.MAX_NUMERIC_CODEWORDS=15,Pt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Pt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Pt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Pt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Pt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Pt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Pt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Pt.PL=25,Pt.LL=27,Pt.AS=27,Pt.ML=28,Pt.AL=28,Pt.PS=29,Pt.PAL=29,Pt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Pt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Pt.EXP900=vl()?Mo():[],Pt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Dn{constructor(){}static decode(K,J,te,ue,fe,Be,je){let ze=new ii(K,J,te,ue,fe),qe=null,nt=null,ot;for(let bt=!0;;bt=!1){if(J!=null&&(qe=Dn.getRowIndicatorColumn(K,ze,J,!0,Be,je)),ue!=null&&(nt=Dn.getRowIndicatorColumn(K,ze,ue,!1,Be,je)),ot=Dn.merge(qe,nt),ot==null)throw lt.getNotFoundInstance();let St=ot.getBoundingBox();if(bt&&St!=null&&(St.getMinY()<ze.getMinY()||St.getMaxY()>ze.getMaxY()))ze=St;else break}ot.setBoundingBox(ze);let At=ot.getBarcodeColumnCount()+1;ot.setDetectionResultColumn(0,qe),ot.setDetectionResultColumn(At,nt);let xt=qe!=null;for(let bt=1;bt<=At;bt++){let St=xt?bt:At-bt;if(ot.getDetectionResultColumn(St)!==void 0)continue;let Nt;St===0||St===At?Nt=new Fo(ze,St===0):Nt=new di(ze),ot.setDetectionResultColumn(St,Nt);let Lt=-1,Yt=Lt;for(let Xt=ze.getMinY();Xt<=ze.getMaxY();Xt++){if(Lt=Dn.getStartColumn(ot,St,Xt,xt),Lt<0||Lt>ze.getMaxX()){if(Yt===-1)continue;Lt=Yt}let Wt=Dn.detectCodeword(K,ze.getMinX(),ze.getMaxX(),xt,Lt,Xt,Be,je);Wt!=null&&(Nt.setCodeword(Xt,Wt),Yt=Lt,Be=Math.min(Be,Wt.getWidth()),je=Math.max(je,Wt.getWidth()))}}return Dn.createDecoderResult(ot)}static merge(K,J){if(K==null&&J==null)return null;let te=Dn.getBarcodeMetadata(K,J);if(te==null)return null;let ue=ii.merge(Dn.adjustBoundingBox(K),Dn.adjustBoundingBox(J));return new Gr(te,ue)}static adjustBoundingBox(K){if(K==null)return null;let J=K.getRowHeights();if(J==null)return null;let te=Dn.getMax(J),ue=0;for(let je of J)if(ue+=te-je,je>0)break;let fe=K.getCodewords();for(let je=0;ue>0&&fe[je]==null;je++)ue--;let Be=0;for(let je=J.length-1;je>=0&&(Be+=te-J[je],!(J[je]>0));je--);for(let je=fe.length-1;Be>0&&fe[je]==null;je--)Be--;return K.getBoundingBox().addMissingRows(ue,Be,K.isLeft())}static getMax(K){let J=-1;for(let te of K)J=Math.max(J,te);return J}static getBarcodeMetadata(K,J){let te;if(K==null||(te=K.getBarcodeMetadata())==null)return J==null?null:J.getBarcodeMetadata();let ue;return J==null||(ue=J.getBarcodeMetadata())==null?te:te.getColumnCount()!==ue.getColumnCount()&&te.getErrorCorrectionLevel()!==ue.getErrorCorrectionLevel()&&te.getRowCount()!==ue.getRowCount()?null:te}static getRowIndicatorColumn(K,J,te,ue,fe,Be){let je=new Fo(J,ue);for(let ze=0;ze<2;ze++){let qe=ze===0?1:-1,nt=Math.trunc(Math.trunc(te.getX()));for(let ot=Math.trunc(Math.trunc(te.getY()));ot<=J.getMaxY()&&ot>=J.getMinY();ot+=qe){let At=Dn.detectCodeword(K,0,K.getWidth(),ue,nt,ot,fe,Be);At!=null&&(je.setCodeword(ot,At),ue?nt=At.getStartX():nt=At.getEndX())}}return je}static adjustCodewordCount(K,J){let te=J[0][1],ue=te.getValue(),fe=K.getBarcodeColumnCount()*K.getBarcodeRowCount()-Dn.getNumberOfECCodeWords(K.getBarcodeECLevel());if(ue.length===0){if(fe<1||fe>vn.MAX_CODEWORDS_IN_BARCODE)throw lt.getNotFoundInstance();te.setValue(fe)}else ue[0]!==fe&&te.setValue(fe)}static createDecoderResult(K){let J=Dn.createBarcodeMatrix(K);Dn.adjustCodewordCount(K,J);let te=new Array,ue=new Int32Array(K.getBarcodeRowCount()*K.getBarcodeColumnCount()),fe=[],Be=new Array;for(let ze=0;ze<K.getBarcodeRowCount();ze++)for(let qe=0;qe<K.getBarcodeColumnCount();qe++){let nt=J[ze][qe+1].getValue(),ot=ze*K.getBarcodeColumnCount()+qe;nt.length===0?te.push(ot):nt.length===1?ue[ot]=nt[0]:(Be.push(ot),fe.push(nt))}let je=new Array(fe.length);for(let ze=0;ze<je.length;ze++)je[ze]=fe[ze];return Dn.createDecoderResultFromAmbiguousValues(K.getBarcodeECLevel(),ue,vn.toIntArray(te),vn.toIntArray(Be),je)}static createDecoderResultFromAmbiguousValues(K,J,te,ue,fe){let Be=new Int32Array(ue.length),je=100;for(;je-- >0;){for(let ze=0;ze<Be.length;ze++)J[ue[ze]]=fe[ze][Be[ze]];try{return Dn.decodeCodewords(J,K,te)}catch(ze){if(!(ze instanceof pe))throw ze}if(Be.length===0)throw pe.getChecksumInstance();for(let ze=0;ze<Be.length;ze++)if(Be[ze]<fe[ze].length-1){Be[ze]++;break}else if(Be[ze]=0,ze===Be.length-1)throw pe.getChecksumInstance()}throw pe.getChecksumInstance()}static createBarcodeMatrix(K){let J=Array.from({length:K.getBarcodeRowCount()},()=>new Array(K.getBarcodeColumnCount()+2));for(let ue=0;ue<J.length;ue++)for(let fe=0;fe<J[ue].length;fe++)J[ue][fe]=new fi;let te=0;for(let ue of K.getDetectionResultColumns()){if(ue!=null){for(let fe of ue.getCodewords())if(fe!=null){let Be=fe.getRowNumber();if(Be>=0){if(Be>=J.length)continue;J[Be][te].setValue(fe.getValue())}}}te++}return J}static isValidBarcodeColumn(K,J){return J>=0&&J<=K.getBarcodeColumnCount()+1}static getStartColumn(K,J,te,ue){let fe=ue?1:-1,Be=null;if(Dn.isValidBarcodeColumn(K,J-fe)&&(Be=K.getDetectionResultColumn(J-fe).getCodeword(te)),Be!=null)return ue?Be.getEndX():Be.getStartX();if(Be=K.getDetectionResultColumn(J).getCodewordNearby(te),Be!=null)return ue?Be.getStartX():Be.getEndX();if(Dn.isValidBarcodeColumn(K,J-fe)&&(Be=K.getDetectionResultColumn(J-fe).getCodewordNearby(te)),Be!=null)return ue?Be.getEndX():Be.getStartX();let je=0;for(;Dn.isValidBarcodeColumn(K,J-fe);){J-=fe;for(let ze of K.getDetectionResultColumn(J).getCodewords())if(ze!=null)return(ue?ze.getEndX():ze.getStartX())+fe*je*(ze.getEndX()-ze.getStartX());je++}return ue?K.getBoundingBox().getMinX():K.getBoundingBox().getMaxX()}static detectCodeword(K,J,te,ue,fe,Be,je,ze){fe=Dn.adjustCodewordStartColumn(K,J,te,ue,fe,Be);let qe=Dn.getModuleBitCount(K,J,te,ue,fe,Be);if(qe==null)return null;let nt,ot=yn.sum(qe);if(ue)nt=fe+ot;else{for(let bt=0;bt<qe.length/2;bt++){let St=qe[bt];qe[bt]=qe[qe.length-1-bt],qe[qe.length-1-bt]=St}nt=fe,fe=nt-ot}if(!Dn.checkCodewordSkew(ot,je,ze))return null;let At=Zr.getDecodedValue(qe),xt=vn.getCodeword(At);return xt===-1?null:new Ds(fe,nt,Dn.getCodewordBucketNumber(At),xt)}static getModuleBitCount(K,J,te,ue,fe,Be){let je=fe,ze=new Int32Array(8),qe=0,nt=ue?1:-1,ot=ue;for(;(ue?je<te:je>=J)&&qe<ze.length;)K.get(je,Be)===ot?(ze[qe]++,je+=nt):(qe++,ot=!ot);return qe===ze.length||je===(ue?te:J)&&qe===ze.length-1?ze:null}static getNumberOfECCodeWords(K){return 2<<K}static adjustCodewordStartColumn(K,J,te,ue,fe,Be){let je=fe,ze=ue?-1:1;for(let qe=0;qe<2;qe++){for(;(ue?je>=J:je<te)&&ue===K.get(je,Be);){if(Math.abs(fe-je)>Dn.CODEWORD_SKEW_SIZE)return fe;je+=ze}ze=-ze,ue=!ue}return je}static checkCodewordSkew(K,J,te){return J-Dn.CODEWORD_SKEW_SIZE<=K&&K<=te+Dn.CODEWORD_SKEW_SIZE}static decodeCodewords(K,J,te){if(K.length===0)throw Ge.getFormatInstance();let ue=1<<J+1,fe=Dn.correctErrors(K,te,ue);Dn.verifyCodewordCount(K,ue);let Be=Pt.decode(K,""+J);return Be.setErrorsCorrected(fe),Be.setErasures(te.length),Be}static correctErrors(K,J,te){if(J!=null&&J.length>te/2+Dn.MAX_ERRORS||te<0||te>Dn.MAX_EC_CODEWORDS)throw pe.getChecksumInstance();return Dn.errorCorrection.decode(K,te,J)}static verifyCodewordCount(K,J){if(K.length<4)throw Ge.getFormatInstance();let te=K[0];if(te>K.length)throw Ge.getFormatInstance();if(te===0)if(J<K.length)K[0]=K.length-J;else throw Ge.getFormatInstance()}static getBitCountForCodeword(K){let J=new Int32Array(8),te=0,ue=J.length-1;for(;!((K&1)!==te&&(te=K&1,ue--,ue<0));)J[ue]++,K>>=1;return J}static getCodewordBucketNumber(K){return K instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(K):this.getCodewordBucketNumber_number(K)}static getCodewordBucketNumber_number(K){return Dn.getCodewordBucketNumber(Dn.getBitCountForCodeword(K))}static getCodewordBucketNumber_Int32Array(K){return(K[0]-K[2]+K[4]-K[6]+9)%9}static toString(K){let J=new qi;for(let te=0;te<K.length;te++){J.format("Row %2d: ",te);for(let ue=0;ue<K[te].length;ue++){let fe=K[te][ue];fe.getValue().length===0?J.format("        ",null):J.format("%4d(%2d)",fe.getValue()[0],fe.getConfidence(fe.getValue()[0]))}J.format("%n")}return J.toString()}}Dn.CODEWORD_SKEW_SIZE=2,Dn.MAX_ERRORS=3,Dn.MAX_EC_CODEWORDS=512,Dn.errorCorrection=new si;class ns{decode(K,J=null){let te=ns.decode(K,J,!1);if(te==null||te.length===0||te[0]==null)throw lt.getNotFoundInstance();return te[0]}decodeMultiple(K,J=null){try{return ns.decode(K,J,!0)}catch(te){throw te instanceof Ge||te instanceof pe?lt.getNotFoundInstance():te}}static decode(K,J,te){const ue=new Array,fe=Rn.detectMultiple(K,J,te);for(const Be of fe.getPoints()){const je=Dn.decode(fe.getBits(),Be[4],Be[5],Be[6],Be[7],ns.getMinCodewordWidth(Be),ns.getMaxCodewordWidth(Be)),ze=new Et(je.getText(),je.getRawBytes(),void 0,Be,_t.PDF_417);ze.putMetadata(an.ERROR_CORRECTION_LEVEL,je.getECLevel());const qe=je.getOther();qe!=null&&ze.putMetadata(an.PDF417_EXTRA_METADATA,qe),ue.push(ze)}return ue.map(Be=>Be)}static getMaxWidth(K,J){return K==null||J==null?0:Math.trunc(Math.abs(K.getX()-J.getX()))}static getMinWidth(K,J){return K==null||J==null?$e.MAX_VALUE:Math.trunc(Math.abs(K.getX()-J.getX()))}static getMaxCodewordWidth(K){return Math.floor(Math.max(Math.max(ns.getMaxWidth(K[0],K[4]),ns.getMaxWidth(K[6],K[2])*vn.MODULES_IN_CODEWORD/vn.MODULES_IN_STOP_PATTERN),Math.max(ns.getMaxWidth(K[1],K[5]),ns.getMaxWidth(K[7],K[3])*vn.MODULES_IN_CODEWORD/vn.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(K){return Math.floor(Math.min(Math.min(ns.getMinWidth(K[0],K[4]),ns.getMinWidth(K[6],K[2])*vn.MODULES_IN_CODEWORD/vn.MODULES_IN_STOP_PATTERN),Math.min(ns.getMinWidth(K[1],K[5]),ns.getMinWidth(K[7],K[3])*vn.MODULES_IN_CODEWORD/vn.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ya extends q{}Ya.kind="ReaderException";class El{constructor(K,J){this.verbose=K===!0,J&&this.setHints(J)}decode(K,J){return J&&this.setHints(J),this.decodeInternal(K)}decodeWithState(K){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(K)}setHints(K){this.hints=K;const J=!b(K)&&K.get(We.TRY_HARDER)===!0,te=b(K)?null:K.get(We.POSSIBLE_FORMATS),ue=new Array;if(!b(te)){const fe=te.some(Be=>Be===_t.UPC_A||Be===_t.UPC_E||Be===_t.EAN_13||Be===_t.EAN_8||Be===_t.CODABAR||Be===_t.CODE_39||Be===_t.CODE_93||Be===_t.CODE_128||Be===_t.ITF||Be===_t.RSS_14||Be===_t.RSS_EXPANDED);fe&&!J&&ue.push(new is(K,this.verbose)),te.includes(_t.QR_CODE)&&ue.push(new ri),te.includes(_t.DATA_MATRIX)&&ue.push(new ni),te.includes(_t.AZTEC)&&ue.push(new ys),te.includes(_t.PDF_417)&&ue.push(new ns),fe&&J&&ue.push(new is(K,this.verbose))}ue.length===0&&(J||ue.push(new is(K,this.verbose)),ue.push(new ri),ue.push(new ni),ue.push(new ys),ue.push(new ns),J&&ue.push(new is(K,this.verbose))),this.readers=ue}reset(){if(this.readers!==null)for(const K of this.readers)K.reset()}decodeInternal(K){if(this.readers===null)throw new Ya("No readers where selected, nothing can be read.");for(const J of this.readers)try{return J.decode(K,this.hints)}catch(te){if(te instanceof Ya)continue}throw new lt("No MultiFormat Readers were able to detect the code.")}}class Cl extends vt{constructor(K=null,J=500){const te=new El;te.setHints(K),super(te,J)}decodeBitmap(K){return this.reader.decodeWithState(K)}}class Mc extends vt{constructor(K=500){super(new ns,K)}}class Dc extends vt{constructor(K=500){super(new ri,K)}}var Do;(function(at){at[at.ERROR_CORRECTION=0]="ERROR_CORRECTION",at[at.CHARACTER_SET=1]="CHARACTER_SET",at[at.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",at[at.MIN_SIZE=3]="MIN_SIZE",at[at.MAX_SIZE=4]="MAX_SIZE",at[at.MARGIN=5]="MARGIN",at[at.PDF417_COMPACT=6]="PDF417_COMPACT",at[at.PDF417_COMPACTION=7]="PDF417_COMPACTION",at[at.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",at[at.AZTEC_LAYERS=9]="AZTEC_LAYERS",at[at.QR_VERSION=10]="QR_VERSION"})(Do||(Do={}));var Ur=Do;class _a{constructor(K){this.field=K,this.cachedGenerators=[],this.cachedGenerators.push(new pn(K,Int32Array.from([1])))}buildGenerator(K){const J=this.cachedGenerators;if(K>=J.length){let te=J[J.length-1];const ue=this.field;for(let fe=J.length;fe<=K;fe++){const Be=te.multiply(new pn(ue,Int32Array.from([1,ue.exp(fe-1+ue.getGeneratorBase())])));J.push(Be),te=Be}}return J[K]}encode(K,J){if(J===0)throw new ne("No error correction bytes");const te=K.length-J;if(te<=0)throw new ne("No data bytes provided");const ue=this.buildGenerator(J),fe=new Int32Array(te);_e.arraycopy(K,0,fe,0,te);let Be=new pn(this.field,fe);Be=Be.multiplyByMonomial(J,1);const ze=Be.divide(ue)[1].getCoefficients(),qe=J-ze.length;for(let nt=0;nt<qe;nt++)K[te+nt]=0;_e.arraycopy(ze,0,K,te+qe,ze.length)}}class kr{constructor(){}static applyMaskPenaltyRule1(K){return kr.applyMaskPenaltyRule1Internal(K,!0)+kr.applyMaskPenaltyRule1Internal(K,!1)}static applyMaskPenaltyRule2(K){let J=0;const te=K.getArray(),ue=K.getWidth(),fe=K.getHeight();for(let Be=0;Be<fe-1;Be++){const je=te[Be];for(let ze=0;ze<ue-1;ze++){const qe=je[ze];qe===je[ze+1]&&qe===te[Be+1][ze]&&qe===te[Be+1][ze+1]&&J++}}return kr.N2*J}static applyMaskPenaltyRule3(K){let J=0;const te=K.getArray(),ue=K.getWidth(),fe=K.getHeight();for(let Be=0;Be<fe;Be++)for(let je=0;je<ue;je++){const ze=te[Be];je+6<ue&&ze[je]===1&&ze[je+1]===0&&ze[je+2]===1&&ze[je+3]===1&&ze[je+4]===1&&ze[je+5]===0&&ze[je+6]===1&&(kr.isWhiteHorizontal(ze,je-4,je)||kr.isWhiteHorizontal(ze,je+7,je+11))&&J++,Be+6<fe&&te[Be][je]===1&&te[Be+1][je]===0&&te[Be+2][je]===1&&te[Be+3][je]===1&&te[Be+4][je]===1&&te[Be+5][je]===0&&te[Be+6][je]===1&&(kr.isWhiteVertical(te,je,Be-4,Be)||kr.isWhiteVertical(te,je,Be+7,Be+11))&&J++}return J*kr.N3}static isWhiteHorizontal(K,J,te){J=Math.max(J,0),te=Math.min(te,K.length);for(let ue=J;ue<te;ue++)if(K[ue]===1)return!1;return!0}static isWhiteVertical(K,J,te,ue){te=Math.max(te,0),ue=Math.min(ue,K.length);for(let fe=te;fe<ue;fe++)if(K[fe][J]===1)return!1;return!0}static applyMaskPenaltyRule4(K){let J=0;const te=K.getArray(),ue=K.getWidth(),fe=K.getHeight();for(let ze=0;ze<fe;ze++){const qe=te[ze];for(let nt=0;nt<ue;nt++)qe[nt]===1&&J++}const Be=K.getHeight()*K.getWidth();return Math.floor(Math.abs(J*2-Be)*10/Be)*kr.N4}static getDataMaskBit(K,J,te){let ue,fe;switch(K){case 0:ue=te+J&1;break;case 1:ue=te&1;break;case 2:ue=J%3;break;case 3:ue=(te+J)%3;break;case 4:ue=Math.floor(te/2)+Math.floor(J/3)&1;break;case 5:fe=te*J,ue=(fe&1)+fe%3;break;case 6:fe=te*J,ue=(fe&1)+fe%3&1;break;case 7:fe=te*J,ue=fe%3+(te+J&1)&1;break;default:throw new ne("Invalid mask pattern: "+K)}return ue===0}static applyMaskPenaltyRule1Internal(K,J){let te=0;const ue=J?K.getHeight():K.getWidth(),fe=J?K.getWidth():K.getHeight(),Be=K.getArray();for(let je=0;je<ue;je++){let ze=0,qe=-1;for(let nt=0;nt<fe;nt++){const ot=J?Be[je][nt]:Be[nt][je];ot===qe?ze++:(ze>=5&&(te+=kr.N1+(ze-5)),ze=1,qe=ot)}ze>=5&&(te+=kr.N1+(ze-5))}return te}}kr.N1=3,kr.N2=3,kr.N3=40,kr.N4=10;class Ja{constructor(K,J){this.width=K,this.height=J;const te=new Array(J);for(let ue=0;ue!==J;ue++)te[ue]=new Uint8Array(K);this.bytes=te}getHeight(){return this.height}getWidth(){return this.width}get(K,J){return this.bytes[J][K]}getArray(){return this.bytes}setNumber(K,J,te){this.bytes[J][K]=te}setBoolean(K,J,te){this.bytes[J][K]=te?1:0}clear(K){for(const J of this.bytes)He.fill(J,K)}equals(K){if(!(K instanceof Ja))return!1;const J=K;if(this.width!==J.width||this.height!==J.height)return!1;for(let te=0,ue=this.height;te<ue;++te){const fe=this.bytes[te],Be=J.bytes[te];for(let je=0,ze=this.width;je<ze;++je)if(fe[je]!==Be[je])return!1}return!0}toString(){const K=new pt;for(let J=0,te=this.height;J<te;++J){const ue=this.bytes[J];for(let fe=0,Be=this.width;fe<Be;++fe)switch(ue[fe]){case 0:K.append(" 0");break;case 1:K.append(" 1");break;default:K.append("  ");break}K.append(`
`)}return K.toString()}}class wi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const K=new pt;return K.append(`<<
`),K.append(" mode: "),K.append(this.mode?this.mode.toString():"null"),K.append(`
 ecLevel: `),K.append(this.ecLevel?this.ecLevel.toString():"null"),K.append(`
 version: `),K.append(this.version?this.version.toString():"null"),K.append(`
 maskPattern: `),K.append(this.maskPattern.toString()),this.matrix?(K.append(`
 matrix:
`),K.append(this.matrix.toString())):K.append(`
 matrix: null
`),K.append(`>>
`),K.toString()}setMode(K){this.mode=K}setECLevel(K){this.ecLevel=K}setVersion(K){this.version=K}setMaskPattern(K){this.maskPattern=K}setMatrix(K){this.matrix=K}static isValidMaskPattern(K){return K>=0&&K<wi.NUM_MASK_PATTERNS}}wi.NUM_MASK_PATTERNS=8;class dr extends q{}dr.kind="WriterException";class En{constructor(){}static clearMatrix(K){K.clear(255)}static buildMatrix(K,J,te,ue,fe){En.clearMatrix(fe),En.embedBasicPatterns(te,fe),En.embedTypeInfo(J,ue,fe),En.maybeEmbedVersionInfo(te,fe),En.embedDataBits(K,ue,fe)}static embedBasicPatterns(K,J){En.embedPositionDetectionPatternsAndSeparators(J),En.embedDarkDotAtLeftBottomCorner(J),En.maybeEmbedPositionAdjustmentPatterns(K,J),En.embedTimingPatterns(J)}static embedTypeInfo(K,J,te){const ue=new Ne;En.makeTypeInfoBits(K,J,ue);for(let fe=0,Be=ue.getSize();fe<Be;++fe){const je=ue.get(ue.getSize()-1-fe),ze=En.TYPE_INFO_COORDINATES[fe],qe=ze[0],nt=ze[1];if(te.setBoolean(qe,nt,je),fe<8){const ot=te.getWidth()-fe-1;te.setBoolean(ot,8,je)}else{const At=te.getHeight()-7+(fe-8);te.setBoolean(8,At,je)}}}static maybeEmbedVersionInfo(K,J){if(K.getVersionNumber()<7)return;const te=new Ne;En.makeVersionInfoBits(K,te);let ue=17;for(let fe=0;fe<6;++fe)for(let Be=0;Be<3;++Be){const je=te.get(ue);ue--,J.setBoolean(fe,J.getHeight()-11+Be,je),J.setBoolean(J.getHeight()-11+Be,fe,je)}}static embedDataBits(K,J,te){let ue=0,fe=-1,Be=te.getWidth()-1,je=te.getHeight()-1;for(;Be>0;){for(Be===6&&(Be-=1);je>=0&&je<te.getHeight();){for(let ze=0;ze<2;++ze){const qe=Be-ze;if(!En.isEmpty(te.get(qe,je)))continue;let nt;ue<K.getSize()?(nt=K.get(ue),++ue):nt=!1,J!==255&&kr.getDataMaskBit(J,qe,je)&&(nt=!nt),te.setBoolean(qe,je,nt)}je+=fe}fe=-fe,je+=fe,Be-=2}if(ue!==K.getSize())throw new dr("Not all bits consumed: "+ue+"/"+K.getSize())}static findMSBSet(K){return 32-$e.numberOfLeadingZeros(K)}static calculateBCHCode(K,J){if(J===0)throw new ne("0 polynomial");const te=En.findMSBSet(J);for(K<<=te-1;En.findMSBSet(K)>=te;)K^=J<<En.findMSBSet(K)-te;return K}static makeTypeInfoBits(K,J,te){if(!wi.isValidMaskPattern(J))throw new dr("Invalid mask pattern");const ue=K.getBits()<<3|J;te.appendBits(ue,5);const fe=En.calculateBCHCode(ue,En.TYPE_INFO_POLY);te.appendBits(fe,10);const Be=new Ne;if(Be.appendBits(En.TYPE_INFO_MASK_PATTERN,15),te.xor(Be),te.getSize()!==15)throw new dr("should not happen but we got: "+te.getSize())}static makeVersionInfoBits(K,J){J.appendBits(K.getVersionNumber(),6);const te=En.calculateBCHCode(K.getVersionNumber(),En.VERSION_INFO_POLY);if(J.appendBits(te,12),J.getSize()!==18)throw new dr("should not happen but we got: "+J.getSize())}static isEmpty(K){return K===255}static embedTimingPatterns(K){for(let J=8;J<K.getWidth()-8;++J){const te=(J+1)%2;En.isEmpty(K.get(J,6))&&K.setNumber(J,6,te),En.isEmpty(K.get(6,J))&&K.setNumber(6,J,te)}}static embedDarkDotAtLeftBottomCorner(K){if(K.get(8,K.getHeight()-8)===0)throw new dr;K.setNumber(8,K.getHeight()-8,1)}static embedHorizontalSeparationPattern(K,J,te){for(let ue=0;ue<8;++ue){if(!En.isEmpty(te.get(K+ue,J)))throw new dr;te.setNumber(K+ue,J,0)}}static embedVerticalSeparationPattern(K,J,te){for(let ue=0;ue<7;++ue){if(!En.isEmpty(te.get(K,J+ue)))throw new dr;te.setNumber(K,J+ue,0)}}static embedPositionAdjustmentPattern(K,J,te){for(let ue=0;ue<5;++ue){const fe=En.POSITION_ADJUSTMENT_PATTERN[ue];for(let Be=0;Be<5;++Be)te.setNumber(K+Be,J+ue,fe[Be])}}static embedPositionDetectionPattern(K,J,te){for(let ue=0;ue<7;++ue){const fe=En.POSITION_DETECTION_PATTERN[ue];for(let Be=0;Be<7;++Be)te.setNumber(K+Be,J+ue,fe[Be])}}static embedPositionDetectionPatternsAndSeparators(K){const J=En.POSITION_DETECTION_PATTERN[0].length;En.embedPositionDetectionPattern(0,0,K),En.embedPositionDetectionPattern(K.getWidth()-J,0,K),En.embedPositionDetectionPattern(0,K.getWidth()-J,K);const te=8;En.embedHorizontalSeparationPattern(0,te-1,K),En.embedHorizontalSeparationPattern(K.getWidth()-te,te-1,K),En.embedHorizontalSeparationPattern(0,K.getWidth()-te,K);const ue=7;En.embedVerticalSeparationPattern(ue,0,K),En.embedVerticalSeparationPattern(K.getHeight()-ue-1,0,K),En.embedVerticalSeparationPattern(ue,K.getHeight()-ue,K)}static maybeEmbedPositionAdjustmentPatterns(K,J){if(K.getVersionNumber()<2)return;const te=K.getVersionNumber()-1,ue=En.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[te];for(let fe=0,Be=ue.length;fe!==Be;fe++){const je=ue[fe];if(je>=0)for(let ze=0;ze!==Be;ze++){const qe=ue[ze];qe>=0&&En.isEmpty(J.get(qe,je))&&En.embedPositionAdjustmentPattern(qe-2,je-2,J)}}}}En.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),En.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),En.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),En.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),En.VERSION_INFO_POLY=7973,En.TYPE_INFO_POLY=1335,En.TYPE_INFO_MASK_PATTERN=21522;class Oc{constructor(K,J){this.dataBytes=K,this.errorCorrectionBytes=J}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Cr{constructor(){}static calculateMaskPenalty(K){return kr.applyMaskPenaltyRule1(K)+kr.applyMaskPenaltyRule2(K)+kr.applyMaskPenaltyRule3(K)+kr.applyMaskPenaltyRule4(K)}static encode(K,J,te=null){let ue=Cr.DEFAULT_BYTE_MODE_ENCODING;const fe=te!==null&&te.get(Ur.CHARACTER_SET)!==void 0;fe&&(ue=te.get(Ur.CHARACTER_SET).toString());const Be=this.chooseMode(K,ue),je=new Ne;if(Be===gn.BYTE&&(fe||Cr.DEFAULT_BYTE_MODE_ENCODING!==ue)){const Xt=Je.getCharacterSetECIByName(ue);Xt!==void 0&&this.appendECI(Xt,je)}this.appendModeInfo(Be,je);const ze=new Ne;this.appendBytes(K,Be,ze,ue);let qe;if(te!==null&&te.get(Ur.QR_VERSION)!==void 0){const Xt=Number.parseInt(te.get(Ur.QR_VERSION).toString(),10);qe=dn.getVersionForNumber(Xt);const Wt=this.calculateBitsNeeded(Be,je,ze,qe);if(!this.willFit(Wt,qe,J))throw new dr("Data too big for requested version")}else qe=this.recommendVersion(J,Be,je,ze);const nt=new Ne;nt.appendBitArray(je);const ot=Be===gn.BYTE?ze.getSizeInBytes():K.length;this.appendLengthInfo(ot,qe,Be,nt),nt.appendBitArray(ze);const At=qe.getECBlocksForLevel(J),xt=qe.getTotalCodewords()-At.getTotalECCodewords();this.terminateBits(xt,nt);const bt=this.interleaveWithECBytes(nt,qe.getTotalCodewords(),xt,At.getNumBlocks()),St=new wi;St.setECLevel(J),St.setMode(Be),St.setVersion(qe);const Nt=qe.getDimensionForVersion(),Lt=new Ja(Nt,Nt),Yt=this.chooseMaskPattern(bt,J,qe,Lt);return St.setMaskPattern(Yt),En.buildMatrix(bt,J,qe,Yt,Lt),St.setMatrix(Lt),St}static recommendVersion(K,J,te,ue){const fe=this.calculateBitsNeeded(J,te,ue,dn.getVersionForNumber(1)),Be=this.chooseVersion(fe,K),je=this.calculateBitsNeeded(J,te,ue,Be);return this.chooseVersion(je,K)}static calculateBitsNeeded(K,J,te,ue){return J.getSize()+K.getCharacterCountBits(ue)+te.getSize()}static getAlphanumericCode(K){return K<Cr.ALPHANUMERIC_TABLE.length?Cr.ALPHANUMERIC_TABLE[K]:-1}static chooseMode(K,J=null){if(Je.SJIS.getName()===J&&this.isOnlyDoubleByteKanji(K))return gn.KANJI;let te=!1,ue=!1;for(let fe=0,Be=K.length;fe<Be;++fe){const je=K.charAt(fe);if(Cr.isDigit(je))te=!0;else if(this.getAlphanumericCode(je.charCodeAt(0))!==-1)ue=!0;else return gn.BYTE}return ue?gn.ALPHANUMERIC:te?gn.NUMERIC:gn.BYTE}static isOnlyDoubleByteKanji(K){let J;try{J=ft.encode(K,Je.SJIS)}catch{return!1}const te=J.length;if(te%2!==0)return!1;for(let ue=0;ue<te;ue+=2){const fe=J[ue]&255;if((fe<129||fe>159)&&(fe<224||fe>235))return!1}return!0}static chooseMaskPattern(K,J,te,ue){let fe=Number.MAX_SAFE_INTEGER,Be=-1;for(let je=0;je<wi.NUM_MASK_PATTERNS;je++){En.buildMatrix(K,J,te,je,ue);let ze=this.calculateMaskPenalty(ue);ze<fe&&(fe=ze,Be=je)}return Be}static chooseVersion(K,J){for(let te=1;te<=40;te++){const ue=dn.getVersionForNumber(te);if(Cr.willFit(K,ue,J))return ue}throw new dr("Data too big")}static willFit(K,J,te){const ue=J.getTotalCodewords(),Be=J.getECBlocksForLevel(te).getTotalECCodewords(),je=ue-Be,ze=(K+7)/8;return je>=ze}static terminateBits(K,J){const te=K*8;if(J.getSize()>te)throw new dr("data bits cannot fit in the QR Code"+J.getSize()+" > "+te);for(let Be=0;Be<4&&J.getSize()<te;++Be)J.appendBit(!1);const ue=J.getSize()&7;if(ue>0)for(let Be=ue;Be<8;Be++)J.appendBit(!1);const fe=K-J.getSizeInBytes();for(let Be=0;Be<fe;++Be)J.appendBits((Be&1)===0?236:17,8);if(J.getSize()!==te)throw new dr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(K,J,te,ue,fe,Be){if(ue>=te)throw new dr("Block ID too large");const je=K%te,ze=te-je,qe=Math.floor(K/te),nt=qe+1,ot=Math.floor(J/te),At=ot+1,xt=qe-ot,bt=nt-At;if(xt!==bt)throw new dr("EC bytes mismatch");if(te!==ze+je)throw new dr("RS blocks mismatch");if(K!==(ot+xt)*ze+(At+bt)*je)throw new dr("Total bytes mismatch");ue<ze?(fe[0]=ot,Be[0]=xt):(fe[0]=At,Be[0]=bt)}static interleaveWithECBytes(K,J,te,ue){if(K.getSizeInBytes()!==te)throw new dr("Number of bits and data bytes does not match");let fe=0,Be=0,je=0;const ze=new Array;for(let nt=0;nt<ue;++nt){const ot=new Int32Array(1),At=new Int32Array(1);Cr.getNumDataBytesAndNumECBytesForBlockID(J,te,ue,nt,ot,At);const xt=ot[0],bt=new Uint8Array(xt);K.toBytes(8*fe,bt,0,xt);const St=Cr.generateECBytes(bt,At[0]);ze.push(new Oc(bt,St)),Be=Math.max(Be,xt),je=Math.max(je,St.length),fe+=ot[0]}if(te!==fe)throw new dr("Data bytes does not match offset");const qe=new Ne;for(let nt=0;nt<Be;++nt)for(const ot of ze){const At=ot.getDataBytes();nt<At.length&&qe.appendBits(At[nt],8)}for(let nt=0;nt<je;++nt)for(const ot of ze){const At=ot.getErrorCorrectionBytes();nt<At.length&&qe.appendBits(At[nt],8)}if(J!==qe.getSizeInBytes())throw new dr("Interleaving error: "+J+" and "+qe.getSizeInBytes()+" differ.");return qe}static generateECBytes(K,J){const te=K.length,ue=new Int32Array(te+J);for(let Be=0;Be<te;Be++)ue[Be]=K[Be]&255;new _a(on.QR_CODE_FIELD_256).encode(ue,J);const fe=new Uint8Array(J);for(let Be=0;Be<J;Be++)fe[Be]=ue[te+Be];return fe}static appendModeInfo(K,J){J.appendBits(K.getBits(),4)}static appendLengthInfo(K,J,te,ue){const fe=te.getCharacterCountBits(J);if(K>=1<<fe)throw new dr(K+" is bigger than "+((1<<fe)-1));ue.appendBits(K,fe)}static appendBytes(K,J,te,ue){switch(J){case gn.NUMERIC:Cr.appendNumericBytes(K,te);break;case gn.ALPHANUMERIC:Cr.appendAlphanumericBytes(K,te);break;case gn.BYTE:Cr.append8BitBytes(K,te,ue);break;case gn.KANJI:Cr.appendKanjiBytes(K,te);break;default:throw new dr("Invalid mode: "+J)}}static getDigit(K){return K.charCodeAt(0)-48}static isDigit(K){const J=Cr.getDigit(K);return J>=0&&J<=9}static appendNumericBytes(K,J){const te=K.length;let ue=0;for(;ue<te;){const fe=Cr.getDigit(K.charAt(ue));if(ue+2<te){const Be=Cr.getDigit(K.charAt(ue+1)),je=Cr.getDigit(K.charAt(ue+2));J.appendBits(fe*100+Be*10+je,10),ue+=3}else if(ue+1<te){const Be=Cr.getDigit(K.charAt(ue+1));J.appendBits(fe*10+Be,7),ue+=2}else J.appendBits(fe,4),ue++}}static appendAlphanumericBytes(K,J){const te=K.length;let ue=0;for(;ue<te;){const fe=Cr.getAlphanumericCode(K.charCodeAt(ue));if(fe===-1)throw new dr;if(ue+1<te){const Be=Cr.getAlphanumericCode(K.charCodeAt(ue+1));if(Be===-1)throw new dr;J.appendBits(fe*45+Be,11),ue+=2}else J.appendBits(fe,6),ue++}}static append8BitBytes(K,J,te){let ue;try{ue=ft.encode(K,te)}catch(fe){throw new dr(fe)}for(let fe=0,Be=ue.length;fe!==Be;fe++){const je=ue[fe];J.appendBits(je,8)}}static appendKanjiBytes(K,J){let te;try{te=ft.encode(K,Je.SJIS)}catch(fe){throw new dr(fe)}const ue=te.length;for(let fe=0;fe<ue;fe+=2){const Be=te[fe]&255,je=te[fe+1]&255,ze=Be<<8&4294967295|je;let qe=-1;if(ze>=33088&&ze<=40956?qe=ze-33088:ze>=57408&&ze<=60351&&(qe=ze-49472),qe===-1)throw new dr("Invalid byte sequence");const nt=(qe>>8)*192+(qe&255);J.appendBits(nt,13)}}static appendECI(K,J){J.appendBits(gn.ECI.getBits(),4),J.appendBits(K.getValue(),8)}}Cr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Cr.DEFAULT_BYTE_MODE_ENCODING=Je.UTF8.getName();class bi{write(K,J,te,ue=null){if(K.length===0)throw new ne("Found empty contents");if(J<0||te<0)throw new ne("Requested dimensions are too small: "+J+"x"+te);let fe=Vn.L,Be=bi.QUIET_ZONE_SIZE;ue!==null&&(ue.get(Ur.ERROR_CORRECTION)!==void 0&&(fe=Vn.fromString(ue.get(Ur.ERROR_CORRECTION).toString())),ue.get(Ur.MARGIN)!==void 0&&(Be=Number.parseInt(ue.get(Ur.MARGIN).toString(),10)));const je=Cr.encode(K,fe,ue);return this.renderResult(je,J,te,Be)}writeToDom(K,J,te,ue,fe=null){typeof K=="string"&&(K=document.querySelector(K));const Be=this.write(J,te,ue,fe);K&&K.appendChild(Be)}renderResult(K,J,te,ue){const fe=K.getMatrix();if(fe===null)throw new Zn;const Be=fe.getWidth(),je=fe.getHeight(),ze=Be+ue*2,qe=je+ue*2,nt=Math.max(J,ze),ot=Math.max(te,qe),At=Math.min(Math.floor(nt/ze),Math.floor(ot/qe)),xt=Math.floor((nt-Be*At)/2),bt=Math.floor((ot-je*At)/2),St=this.createSVGElement(nt,ot);for(let Nt=0,Lt=bt;Nt<je;Nt++,Lt+=At)for(let Yt=0,Xt=xt;Yt<Be;Yt++,Xt+=At)if(fe.get(Yt,Nt)===1){const Wt=this.createSvgRectElement(Xt,Lt,At,At);St.appendChild(Wt)}return St}createSVGElement(K,J){const te=document.createElementNS(bi.SVG_NS,"svg");return te.setAttributeNS(null,"height",K.toString()),te.setAttributeNS(null,"width",J.toString()),te}createSvgRectElement(K,J,te,ue){const fe=document.createElementNS(bi.SVG_NS,"rect");return fe.setAttributeNS(null,"x",K.toString()),fe.setAttributeNS(null,"y",J.toString()),fe.setAttributeNS(null,"height",te.toString()),fe.setAttributeNS(null,"width",ue.toString()),fe.setAttributeNS(null,"fill","#000000"),fe}}bi.QUIET_ZONE_SIZE=4,bi.SVG_NS="http://www.w3.org/2000/svg";class Yi{encode(K,J,te,ue,fe){if(K.length===0)throw new ne("Found empty contents");if(J!==_t.QR_CODE)throw new ne("Can only encode QR_CODE, but got "+J);if(te<0||ue<0)throw new ne(`Requested dimensions are too small: ${te}x${ue}`);let Be=Vn.L,je=Yi.QUIET_ZONE_SIZE;fe!==null&&(fe.get(Ur.ERROR_CORRECTION)!==void 0&&(Be=Vn.fromString(fe.get(Ur.ERROR_CORRECTION).toString())),fe.get(Ur.MARGIN)!==void 0&&(je=Number.parseInt(fe.get(Ur.MARGIN).toString(),10)));const ze=Cr.encode(K,Be,fe);return Yi.renderResult(ze,te,ue,je)}static renderResult(K,J,te,ue){const fe=K.getMatrix();if(fe===null)throw new Zn;const Be=fe.getWidth(),je=fe.getHeight(),ze=Be+ue*2,qe=je+ue*2,nt=Math.max(J,ze),ot=Math.max(te,qe),At=Math.min(Math.floor(nt/ze),Math.floor(ot/qe)),xt=Math.floor((nt-Be*At)/2),bt=Math.floor((ot-je*At)/2),St=new yt(nt,ot);for(let Nt=0,Lt=bt;Nt<je;Nt++,Lt+=At)for(let Yt=0,Xt=xt;Yt<Be;Yt++,Xt+=At)fe.get(Yt,Nt)===1&&St.setRegion(Xt,Lt,At,At);return St}}Yi.QUIET_ZONE_SIZE=4;class Lc{encode(K,J,te,ue,fe){let Be;switch(J){case _t.QR_CODE:Be=new Yi;break;default:throw new ne("No encoder available for format "+J)}return Be.encode(K,J,te,ue,fe)}}class Ks extends Ye{constructor(K,J,te,ue,fe,Be,je,ze){if(super(Be,je),this.yuvData=K,this.dataWidth=J,this.dataHeight=te,this.left=ue,this.top=fe,ue+Be>J||fe+je>te)throw new ne("Crop rectangle does not fit within image data.");ze&&this.reverseHorizontal(Be,je)}getRow(K,J){if(K<0||K>=this.getHeight())throw new ne("Requested row is outside the image: "+K);const te=this.getWidth();(J==null||J.length<te)&&(J=new Uint8ClampedArray(te));const ue=(K+this.top)*this.dataWidth+this.left;return _e.arraycopy(this.yuvData,ue,J,0,te),J}getMatrix(){const K=this.getWidth(),J=this.getHeight();if(K===this.dataWidth&&J===this.dataHeight)return this.yuvData;const te=K*J,ue=new Uint8ClampedArray(te);let fe=this.top*this.dataWidth+this.left;if(K===this.dataWidth)return _e.arraycopy(this.yuvData,fe,ue,0,te),ue;for(let Be=0;Be<J;Be++){const je=Be*K;_e.arraycopy(this.yuvData,fe,ue,je,K),fe+=this.dataWidth}return ue}isCropSupported(){return!0}crop(K,J,te,ue){return new Ks(this.yuvData,this.dataWidth,this.dataHeight,this.left+K,this.top+J,te,ue,!1)}renderThumbnail(){const K=this.getWidth()/Ks.THUMBNAIL_SCALE_FACTOR,J=this.getHeight()/Ks.THUMBNAIL_SCALE_FACTOR,te=new Int32Array(K*J),ue=this.yuvData;let fe=this.top*this.dataWidth+this.left;for(let Be=0;Be<J;Be++){const je=Be*K;for(let ze=0;ze<K;ze++){const qe=ue[fe+ze*Ks.THUMBNAIL_SCALE_FACTOR]&255;te[je+ze]=4278190080|qe*65793}fe+=this.dataWidth*Ks.THUMBNAIL_SCALE_FACTOR}return te}getThumbnailWidth(){return this.getWidth()/Ks.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ks.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(K,J){const te=this.yuvData;for(let ue=0,fe=this.top*this.dataWidth+this.left;ue<J;ue++,fe+=this.dataWidth){const Be=fe+K/2;for(let je=fe,ze=fe+K-1;je<Be;je++,ze--){const qe=te[je];te[je]=te[ze],te[ze]=qe}}}invert(){return new et(this)}}Ks.THUMBNAIL_SCALE_FACTOR=2;class Oo extends Ye{constructor(K,J,te,ue,fe,Be,je){if(super(J,te),this.dataWidth=ue,this.dataHeight=fe,this.left=Be,this.top=je,K.BYTES_PER_ELEMENT===4){const ze=J*te,qe=new Uint8ClampedArray(ze);for(let nt=0;nt<ze;nt++){const ot=K[nt],At=ot>>16&255,xt=ot>>7&510,bt=ot&255;qe[nt]=(At+xt+bt)/4&255}this.luminances=qe}else this.luminances=K;if(ue===void 0&&(this.dataWidth=J),fe===void 0&&(this.dataHeight=te),Be===void 0&&(this.left=0),je===void 0&&(this.top=0),this.left+J>this.dataWidth||this.top+te>this.dataHeight)throw new ne("Crop rectangle does not fit within image data.")}getRow(K,J){if(K<0||K>=this.getHeight())throw new ne("Requested row is outside the image: "+K);const te=this.getWidth();(J==null||J.length<te)&&(J=new Uint8ClampedArray(te));const ue=(K+this.top)*this.dataWidth+this.left;return _e.arraycopy(this.luminances,ue,J,0,te),J}getMatrix(){const K=this.getWidth(),J=this.getHeight();if(K===this.dataWidth&&J===this.dataHeight)return this.luminances;const te=K*J,ue=new Uint8ClampedArray(te);let fe=this.top*this.dataWidth+this.left;if(K===this.dataWidth)return _e.arraycopy(this.luminances,fe,ue,0,te),ue;for(let Be=0;Be<J;Be++){const je=Be*K;_e.arraycopy(this.luminances,fe,ue,je,K),fe+=this.dataWidth}return ue}isCropSupported(){return!0}crop(K,J,te,ue){return new Oo(this.luminances,te,ue,this.dataWidth,this.dataHeight,this.left+K,this.top+J)}invert(){return new et(this)}}class wl extends Je{static forName(K){return this.getCharacterSetECIByName(K)}}class Ta{}Ta.ISO_8859_1=Je.ISO8859_1;class Ji{isCompact(){return this.compact}setCompact(K){this.compact=K}getSize(){return this.size}setSize(K){this.size=K}getLayers(){return this.layers}setLayers(K){this.layers=K}getCodeWords(){return this.codeWords}setCodeWords(K){this.codeWords=K}getMatrix(){return this.matrix}setMatrix(K){this.matrix=K}}class bl{static singletonList(K){return[K]}static min(K,J){return K.sort(J)[0]}}class Sl{constructor(K){this.previous=K}getPrevious(){return this.previous}}class Si extends Sl{constructor(K,J,te){super(K),this.value=J,this.bitCount=te}appendTo(K,J){K.appendBits(this.value,this.bitCount)}add(K,J){return new Si(this,K,J)}addBinaryShift(K,J){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Si(this,K,J)}toString(){let K=this.value&(1<<this.bitCount)-1;return K|=1<<this.bitCount,"<"+$e.toBinaryString(K|1<<this.bitCount).substring(1)+">"}}class Za extends Si{constructor(K,J,te){super(K,0,0),this.binaryShiftStart=J,this.binaryShiftByteCount=te}appendTo(K,J){for(let te=0;te<this.binaryShiftByteCount;te++)(te===0||te===31&&this.binaryShiftByteCount<=62)&&(K.appendBits(31,5),this.binaryShiftByteCount>62?K.appendBits(this.binaryShiftByteCount-31,16):te===0?K.appendBits(Math.min(this.binaryShiftByteCount,31),5):K.appendBits(this.binaryShiftByteCount-31,5)),K.appendBits(J[this.binaryShiftStart+te],8)}addBinaryShift(K,J){return new Za(this,K,J)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Bl(at,K,J){return new Za(at,K,J)}function Zi(at,K,J){return new Si(at,K,J)}const ea=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],pi=0,eo=1,Ss=2,Lo=3,Os=4,Ra=new Si(null,0,0),Bi=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Pc(at){for(let K of at)He.fill(K,-1);return at[pi][Os]=0,at[eo][Os]=0,at[eo][pi]=28,at[Lo][Os]=0,at[Ss][Os]=0,at[Ss][pi]=15,at}const Ia=Pc(He.createInt32Array(6,6));class Ls{constructor(K,J,te,ue){this.token=K,this.mode=J,this.binaryShiftByteCount=te,this.bitCount=ue}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(K,J){let te=this.bitCount,ue=this.token;if(K!==this.mode){let Be=Bi[this.mode][K];ue=Zi(ue,Be&65535,Be>>16),te+=Be>>16}let fe=K===Ss?4:5;return ue=Zi(ue,J,fe),new Ls(ue,K,0,te+fe)}shiftAndAppend(K,J){let te=this.token,ue=this.mode===Ss?4:5;return te=Zi(te,Ia[this.mode][K],ue),te=Zi(te,J,5),new Ls(te,this.mode,0,this.bitCount+ue+5)}addBinaryShiftChar(K){let J=this.token,te=this.mode,ue=this.bitCount;if(this.mode===Os||this.mode===Ss){let je=Bi[te][pi];J=Zi(J,je&65535,je>>16),ue+=je>>16,te=pi}let fe=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,Be=new Ls(J,te,this.binaryShiftByteCount+1,ue+fe);return Be.binaryShiftByteCount===2078&&(Be=Be.endBinaryShift(K+1)),Be}endBinaryShift(K){if(this.binaryShiftByteCount===0)return this;let J=this.token;return J=Bl(J,K-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ls(J,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(K){let J=this.bitCount+(Bi[this.mode][K.mode]>>16);return this.binaryShiftByteCount<K.binaryShiftByteCount?J+=Ls.calculateBinaryShiftCost(K)-Ls.calculateBinaryShiftCost(this):this.binaryShiftByteCount>K.binaryShiftByteCount&&K.binaryShiftByteCount>0&&(J+=10),J<=K.bitCount}toBitArray(K){let J=[];for(let ue=this.endBinaryShift(K.length).token;ue!==null;ue=ue.getPrevious())J.unshift(ue);let te=new Ne;for(const ue of J)ue.appendTo(te,K);return te}toString(){return ct.format("%s bits=%d bytes=%d",ea[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(K){return K.binaryShiftByteCount>62?21:K.binaryShiftByteCount>31?20:K.binaryShiftByteCount>0?10:0}}Ls.INITIAL_STATE=new Ls(Ra,pi,0,0);function _l(at){const K=ct.getCharCode(" "),J=ct.getCharCode("."),te=ct.getCharCode(",");at[pi][K]=1;const ue=ct.getCharCode("Z"),fe=ct.getCharCode("A");for(let At=fe;At<=ue;At++)at[pi][At]=At-fe+2;at[eo][K]=1;const Be=ct.getCharCode("z"),je=ct.getCharCode("a");for(let At=je;At<=Be;At++)at[eo][At]=At-je+2;at[Ss][K]=1;const ze=ct.getCharCode("9"),qe=ct.getCharCode("0");for(let At=qe;At<=ze;At++)at[Ss][At]=At-qe+2;at[Ss][te]=12,at[Ss][J]=13;const nt=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let At=0;At<nt.length;At++)at[Lo][ct.getCharCode(nt[At])]=At;const ot=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let At=0;At<ot.length;At++)ct.getCharCode(ot[At])>0&&(at[Os][ct.getCharCode(ot[At])]=At);return at}const Na=_l(He.createInt32Array(5,256));class _i{constructor(K){this.text=K}encode(){const K=ct.getCharCode(" "),J=ct.getCharCode(`
`);let te=bl.singletonList(Ls.INITIAL_STATE);for(let fe=0;fe<this.text.length;fe++){let Be,je=fe+1<this.text.length?this.text[fe+1]:0;switch(this.text[fe]){case ct.getCharCode("\r"):Be=je===J?2:0;break;case ct.getCharCode("."):Be=je===K?3:0;break;case ct.getCharCode(","):Be=je===K?4:0;break;case ct.getCharCode(":"):Be=je===K?5:0;break;default:Be=0}Be>0?(te=_i.updateStateListForPair(te,fe,Be),fe++):te=this.updateStateListForChar(te,fe)}return bl.min(te,(fe,Be)=>fe.getBitCount()-Be.getBitCount()).toBitArray(this.text)}updateStateListForChar(K,J){const te=[];for(let ue of K)this.updateStateForChar(ue,J,te);return _i.simplifyStates(te)}updateStateForChar(K,J,te){let ue=this.text[J]&255,fe=Na[K.getMode()][ue]>0,Be=null;for(let je=0;je<=Os;je++){let ze=Na[je][ue];if(ze>0){if(Be==null&&(Be=K.endBinaryShift(J)),!fe||je===K.getMode()||je===Ss){const qe=Be.latchAndAppend(je,ze);te.push(qe)}if(!fe&&Ia[K.getMode()][je]>=0){const qe=Be.shiftAndAppend(je,ze);te.push(qe)}}}if(K.getBinaryShiftByteCount()>0||Na[K.getMode()][ue]===0){let je=K.addBinaryShiftChar(J);te.push(je)}}static updateStateListForPair(K,J,te){const ue=[];for(let fe of K)this.updateStateForPair(fe,J,te,ue);return this.simplifyStates(ue)}static updateStateForPair(K,J,te,ue){let fe=K.endBinaryShift(J);if(ue.push(fe.latchAndAppend(Os,te)),K.getMode()!==Os&&ue.push(fe.shiftAndAppend(Os,te)),te===3||te===4){let Be=fe.latchAndAppend(Ss,16-te).latchAndAppend(Ss,1);ue.push(Be)}if(K.getBinaryShiftByteCount()>0){let Be=K.addBinaryShiftChar(J).addBinaryShiftChar(J+1);ue.push(Be)}}static simplifyStates(K){let J=[];for(const te of K){let ue=!0;for(const fe of J){if(fe.isBetterThanOrEqualTo(te)){ue=!1;break}te.isBetterThanOrEqualTo(fe)&&(J=J.filter(Be=>Be!==fe))}ue&&J.push(te)}return J}}class Xn{constructor(){}static encodeBytes(K){return Xn.encode(K,Xn.DEFAULT_EC_PERCENT,Xn.DEFAULT_AZTEC_LAYERS)}static encode(K,J,te){let ue=new _i(K).encode(),fe=$e.truncDivision(ue.getSize()*J,100)+11,Be=ue.getSize()+fe,je,ze,qe,nt,ot;if(te!==Xn.DEFAULT_AZTEC_LAYERS){if(je=te<0,ze=Math.abs(te),ze>(je?Xn.MAX_NB_BITS_COMPACT:Xn.MAX_NB_BITS))throw new ne(ct.format("Illegal value %s for layers",te));qe=Xn.totalBitsInLayer(ze,je),nt=Xn.WORD_SIZE[ze];let Wt=qe-qe%nt;if(ot=Xn.stuffBits(ue,nt),ot.getSize()+fe>Wt)throw new ne("Data to large for user specified layer");if(je&&ot.getSize()>nt*64)throw new ne("Data to large for user specified layer")}else{nt=0,ot=null;for(let Wt=0;;Wt++){if(Wt>Xn.MAX_NB_BITS)throw new ne("Data too large for an Aztec code");if(je=Wt<=3,ze=je?Wt+1:Wt,qe=Xn.totalBitsInLayer(ze,je),Be>qe)continue;(ot==null||nt!==Xn.WORD_SIZE[ze])&&(nt=Xn.WORD_SIZE[ze],ot=Xn.stuffBits(ue,nt));let Un=qe-qe%nt;if(!(je&&ot.getSize()>nt*64)&&ot.getSize()+fe<=Un)break}}let At=Xn.generateCheckWords(ot,qe,nt),xt=ot.getSize()/nt,bt=Xn.generateModeMessage(je,ze,xt),St=(je?11:14)+ze*4,Nt=new Int32Array(St),Lt;if(je){Lt=St;for(let Wt=0;Wt<Nt.length;Wt++)Nt[Wt]=Wt}else{Lt=St+1+2*$e.truncDivision($e.truncDivision(St,2)-1,15);let Wt=$e.truncDivision(St,2),Un=$e.truncDivision(Lt,2);for(let In=0;In<Wt;In++){let Lr=In+$e.truncDivision(In,15);Nt[Wt-In-1]=Un-Lr-1,Nt[Wt+In]=Un+Lr+1}}let Yt=new yt(Lt);for(let Wt=0,Un=0;Wt<ze;Wt++){let In=(ze-Wt)*4+(je?9:12);for(let Lr=0;Lr<In;Lr++){let Bs=Lr*2;for(let cs=0;cs<2;cs++)At.get(Un+Bs+cs)&&Yt.set(Nt[Wt*2+cs],Nt[Wt*2+Lr]),At.get(Un+In*2+Bs+cs)&&Yt.set(Nt[Wt*2+Lr],Nt[St-1-Wt*2-cs]),At.get(Un+In*4+Bs+cs)&&Yt.set(Nt[St-1-Wt*2-cs],Nt[St-1-Wt*2-Lr]),At.get(Un+In*6+Bs+cs)&&Yt.set(Nt[St-1-Wt*2-Lr],Nt[Wt*2+cs])}Un+=In*8}if(Xn.drawModeMessage(Yt,je,Lt,bt),je)Xn.drawBullsEye(Yt,$e.truncDivision(Lt,2),5);else{Xn.drawBullsEye(Yt,$e.truncDivision(Lt,2),7);for(let Wt=0,Un=0;Wt<$e.truncDivision(St,2)-1;Wt+=15,Un+=16)for(let In=$e.truncDivision(Lt,2)&1;In<Lt;In+=2)Yt.set($e.truncDivision(Lt,2)-Un,In),Yt.set($e.truncDivision(Lt,2)+Un,In),Yt.set(In,$e.truncDivision(Lt,2)-Un),Yt.set(In,$e.truncDivision(Lt,2)+Un)}let Xt=new Ji;return Xt.setCompact(je),Xt.setSize(Lt),Xt.setLayers(ze),Xt.setCodeWords(xt),Xt.setMatrix(Yt),Xt}static drawBullsEye(K,J,te){for(let ue=0;ue<te;ue+=2)for(let fe=J-ue;fe<=J+ue;fe++)K.set(fe,J-ue),K.set(fe,J+ue),K.set(J-ue,fe),K.set(J+ue,fe);K.set(J-te,J-te),K.set(J-te+1,J-te),K.set(J-te,J-te+1),K.set(J+te,J-te),K.set(J+te,J-te+1),K.set(J+te,J+te-1)}static generateModeMessage(K,J,te){let ue=new Ne;return K?(ue.appendBits(J-1,2),ue.appendBits(te-1,6),ue=Xn.generateCheckWords(ue,28,4)):(ue.appendBits(J-1,5),ue.appendBits(te-1,11),ue=Xn.generateCheckWords(ue,40,4)),ue}static drawModeMessage(K,J,te,ue){let fe=$e.truncDivision(te,2);if(J)for(let Be=0;Be<7;Be++){let je=fe-3+Be;ue.get(Be)&&K.set(je,fe-5),ue.get(Be+7)&&K.set(fe+5,je),ue.get(20-Be)&&K.set(je,fe+5),ue.get(27-Be)&&K.set(fe-5,je)}else for(let Be=0;Be<10;Be++){let je=fe-5+Be+$e.truncDivision(Be,5);ue.get(Be)&&K.set(je,fe-7),ue.get(Be+10)&&K.set(fe+7,je),ue.get(29-Be)&&K.set(je,fe+7),ue.get(39-Be)&&K.set(fe-7,je)}}static generateCheckWords(K,J,te){let ue=K.getSize()/te,fe=new _a(Xn.getGF(te)),Be=$e.truncDivision(J,te),je=Xn.bitsToWords(K,te,Be);fe.encode(je,Be-ue);let ze=J%te,qe=new Ne;qe.appendBits(0,ze);for(const nt of Array.from(je))qe.appendBits(nt,te);return qe}static bitsToWords(K,J,te){let ue=new Int32Array(te),fe,Be;for(fe=0,Be=K.getSize()/J;fe<Be;fe++){let je=0;for(let ze=0;ze<J;ze++)je|=K.get(fe*J+ze)?1<<J-ze-1:0;ue[fe]=je}return ue}static getGF(K){switch(K){case 4:return on.AZTEC_PARAM;case 6:return on.AZTEC_DATA_6;case 8:return on.AZTEC_DATA_8;case 10:return on.AZTEC_DATA_10;case 12:return on.AZTEC_DATA_12;default:throw new ne("Unsupported word size "+K)}}static stuffBits(K,J){let te=new Ne,ue=K.getSize(),fe=(1<<J)-2;for(let Be=0;Be<ue;Be+=J){let je=0;for(let ze=0;ze<J;ze++)(Be+ze>=ue||K.get(Be+ze))&&(je|=1<<J-1-ze);(je&fe)===fe?(te.appendBits(je&fe,J),Be--):(je&fe)===0?(te.appendBits(je|1,J),Be--):te.appendBits(je,J)}return te}static totalBitsInLayer(K,J){return((J?88:112)+16*K)*K}}Xn.DEFAULT_EC_PERCENT=33,Xn.DEFAULT_AZTEC_LAYERS=0,Xn.MAX_NB_BITS=32,Xn.MAX_NB_BITS_COMPACT=4,Xn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Fa{encode(K,J,te,ue){return this.encodeWithHints(K,J,te,ue,null)}encodeWithHints(K,J,te,ue,fe){let Be=Ta.ISO_8859_1,je=Xn.DEFAULT_EC_PERCENT,ze=Xn.DEFAULT_AZTEC_LAYERS;return fe!=null&&(fe.has(Ur.CHARACTER_SET)&&(Be=wl.forName(fe.get(Ur.CHARACTER_SET).toString())),fe.has(Ur.ERROR_CORRECTION)&&(je=$e.parseInt(fe.get(Ur.ERROR_CORRECTION).toString())),fe.has(Ur.AZTEC_LAYERS)&&(ze=$e.parseInt(fe.get(Ur.AZTEC_LAYERS).toString()))),Fa.encodeLayers(K,J,te,ue,Be,je,ze)}static encodeLayers(K,J,te,ue,fe,Be,je){if(J!==_t.AZTEC)throw new ne("Can only encode AZTEC, but got "+J);let ze=Xn.encode(ct.getBytes(K,fe),Be,je);return Fa.renderResult(ze,te,ue)}static renderResult(K,J,te){let ue=K.getMatrix();if(ue==null)throw new Zn;let fe=ue.getWidth(),Be=ue.getHeight(),je=Math.max(J,fe),ze=Math.max(te,Be),qe=Math.min(je/fe,ze/Be),nt=(je-fe*qe)/2,ot=(ze-Be*qe)/2,At=new yt(je,ze);for(let xt=0,bt=ot;xt<Be;xt++,bt+=qe)for(let St=0,Nt=nt;St<fe;St++,Nt+=qe)ue.get(St,xt)&&At.setRegion(Nt,bt,qe,qe);return At}}y.AbstractExpandedDecoder=nn,y.ArgumentException=ee,y.ArithmeticException=qn,y.AztecCode=Ji,y.AztecCodeReader=ys,y.AztecCodeWriter=Fa,y.AztecDecoder=Tn,y.AztecDetector=Jr,y.AztecDetectorResult=Or,y.AztecEncoder=Xn,y.AztecHighLevelEncoder=_i,y.AztecPoint=or,y.BarcodeFormat=_t,y.Binarizer=xe,y.BinaryBitmap=oe,y.BitArray=Ne,y.BitMatrix=yt,y.BitSource=as,y.BrowserAztecCodeReader=vi,y.BrowserBarcodeReader=zi,y.BrowserCodeReader=vt,y.BrowserDatamatrixCodeReader=Ga,y.BrowserMultiFormatReader=Cl,y.BrowserPDF417Reader=Mc,y.BrowserQRCodeReader=Dc,y.BrowserQRCodeSvgWriter=bi,y.CharacterSetECI=Je,y.ChecksumException=pe,y.Code128Reader=qt,y.Code39Reader=er,y.DataMatrixDecodedBitStreamParser=Ms,y.DataMatrixReader=ni,y.DecodeHintType=We,y.DecoderResult=hn,y.DefaultGridSampler=Fn,y.DetectorResult=Yr,y.EAN13Reader=Es,y.EncodeHintType=Ur,y.Exception=q,y.FormatException=Ge,y.GenericGF=on,y.GenericGFPoly=pn,y.GlobalHistogramBinarizer=Ze,y.GridSampler=cn,y.GridSamplerInstance=kn,y.HTMLCanvasElementLuminanceSource=gt,y.HybridBinarizer=it,y.ITFReader=Bn,y.IllegalArgumentException=ne,y.IllegalStateException=Zn,y.InvertedLuminanceSource=et,y.LuminanceSource=Ye,y.MathUtils=yn,y.MultiFormatOneDReader=is,y.MultiFormatReader=El,y.MultiFormatWriter=Lc,y.NotFoundException=lt,y.OneDReader=Pn,y.PDF417DecodedBitStreamParser=Pt,y.PDF417DecoderErrorCorrection=si,y.PDF417Reader=ns,y.PDF417ResultMetadata=Xi,y.PerspectiveTransform=Cn,y.PlanarYUVLuminanceSource=Ks,y.QRCodeByteMatrix=Ja,y.QRCodeDataMask=ps,y.QRCodeDecodedBitStreamParser=vr,y.QRCodeDecoderErrorCorrectionLevel=Vn,y.QRCodeDecoderFormatInformation=zr,y.QRCodeEncoder=Cr,y.QRCodeEncoderQRCode=wi,y.QRCodeMaskUtil=kr,y.QRCodeMatrixUtil=En,y.QRCodeMode=gn,y.QRCodeReader=ri,y.QRCodeVersion=dn,y.QRCodeWriter=Yi,y.RGBLuminanceSource=Oo,y.RSS14Reader=Gn,y.RSSExpandedReader=Gt,y.ReaderException=Ya,y.ReedSolomonDecoder=Dr,y.ReedSolomonEncoder=_a,y.ReedSolomonException=tn,y.Result=Et,y.ResultMetadataType=an,y.ResultPoint=Zt,y.StringUtils=ct,y.UnsupportedOperationException=ut,y.VideoInputDevice=st,y.WhiteRectangleDetector=Kt,y.WriterException=dr,y.ZXingArrays=He,y.ZXingCharset=wl,y.ZXingInteger=$e,y.ZXingStandardCharsets=Ta,y.ZXingStringBuilder=pt,y.ZXingStringEncoding=ft,y.ZXingSystem=_e,y.createAbstractExpandedDecoder=ws,Object.defineProperty(y,"__esModule",{value:!0})}))})(zxingJs_umd$2,zxingJs_umd$2.exports)),zxingJs_umd$2.exports}var zxingJs_umdExports=requireZxingJs_umd();const zxingJs_umd=getDefaultExportFromCjs(zxingJs_umdExports),ZXing=_mergeNamespaces({__proto__:null,default:zxingJs_umd},[zxingJs_umdExports]);var ZXingHtml5QrcodeDecoder=(function(){function r(x,y,b){if(this.formatMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,zxingJs_umdExports.BarcodeFormat.QR_CODE],[Html5QrcodeSupportedFormats.AZTEC,zxingJs_umdExports.BarcodeFormat.AZTEC],[Html5QrcodeSupportedFormats.CODABAR,zxingJs_umdExports.BarcodeFormat.CODABAR],[Html5QrcodeSupportedFormats.CODE_39,zxingJs_umdExports.BarcodeFormat.CODE_39],[Html5QrcodeSupportedFormats.CODE_93,zxingJs_umdExports.BarcodeFormat.CODE_93],[Html5QrcodeSupportedFormats.CODE_128,zxingJs_umdExports.BarcodeFormat.CODE_128],[Html5QrcodeSupportedFormats.DATA_MATRIX,zxingJs_umdExports.BarcodeFormat.DATA_MATRIX],[Html5QrcodeSupportedFormats.MAXICODE,zxingJs_umdExports.BarcodeFormat.MAXICODE],[Html5QrcodeSupportedFormats.ITF,zxingJs_umdExports.BarcodeFormat.ITF],[Html5QrcodeSupportedFormats.EAN_13,zxingJs_umdExports.BarcodeFormat.EAN_13],[Html5QrcodeSupportedFormats.EAN_8,zxingJs_umdExports.BarcodeFormat.EAN_8],[Html5QrcodeSupportedFormats.PDF_417,zxingJs_umdExports.BarcodeFormat.PDF_417],[Html5QrcodeSupportedFormats.RSS_14,zxingJs_umdExports.BarcodeFormat.RSS_14],[Html5QrcodeSupportedFormats.RSS_EXPANDED,zxingJs_umdExports.BarcodeFormat.RSS_EXPANDED],[Html5QrcodeSupportedFormats.UPC_A,zxingJs_umdExports.BarcodeFormat.UPC_A],[Html5QrcodeSupportedFormats.UPC_E,zxingJs_umdExports.BarcodeFormat.UPC_E],[Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION,zxingJs_umdExports.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ZXing)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=y,this.logger=b;var B=this.createZXingFormats(x),R=new Map;R.set(zxingJs_umdExports.DecodeHintType.POSSIBLE_FORMATS,B),R.set(zxingJs_umdExports.DecodeHintType.TRY_HARDER,!1),this.hints=R}return r.prototype.decodeAsync=function(x){var y=this;return new Promise(function(b,B){try{b(y.decode(x))}catch(R){B(R)}})},r.prototype.decode=function(x){var y=new zxingJs_umdExports.MultiFormatReader(this.verbose,this.hints),b=new zxingJs_umdExports.HTMLCanvasElementLuminanceSource(x),B=new zxingJs_umdExports.BinaryBitmap(new zxingJs_umdExports.HybridBinarizer(b)),R=y.decode(B);return{text:R.text,format:QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(R.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var x=new Map;return this.formatMap.forEach(function(y,b,B){x.set(y,b)}),x},r.prototype.toHtml5QrcodeSupportedFormats=function(x){if(!this.reverseFormatMap.has(x))throw"reverseFormatMap doesn't have ".concat(x);return this.reverseFormatMap.get(x)},r.prototype.createZXingFormats=function(x){for(var y=[],b=0,B=x;b<B.length;b++){var R=B[b];this.formatMap.has(R)?y.push(this.formatMap.get(R)):this.logger.logError("".concat(R," is not supported by")+"ZXingHtml5QrcodeShim")}return y},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r})(),__awaiter$6=function(r,x,y,b){function B(R){return R instanceof y?R:new y(function(I){I(R)})}return new(y||(y=Promise))(function(R,I){function O(ee){try{q(b.next(ee))}catch(ne){I(ne)}}function G(ee){try{q(b.throw(ee))}catch(ne){I(ne)}}function q(ee){ee.done?R(ee.value):B(ee.value).then(O,G)}q((b=b.apply(r,x||[])).next())})},__generator$5=function(r,x){var y={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},b,B,R,I;return I={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function O(q){return function(ee){return G([q,ee])}}function G(q){if(b)throw new TypeError("Generator is already executing.");for(;I&&(I=0,q[0]&&(y=0)),y;)try{if(b=1,B&&(R=q[0]&2?B.return:q[0]?B.throw||((R=B.return)&&R.call(B),0):B.next)&&!(R=R.call(B,q[1])).done)return R;switch(B=0,R&&(q=[q[0]&2,R.value]),q[0]){case 0:case 1:R=q;break;case 4:return y.label++,{value:q[1],done:!1};case 5:y.label++,B=q[1],q=[0];continue;case 7:q=y.ops.pop(),y.trys.pop();continue;default:if(R=y.trys,!(R=R.length>0&&R[R.length-1])&&(q[0]===6||q[0]===2)){y=0;continue}if(q[0]===3&&(!R||q[1]>R[0]&&q[1]<R[3])){y.label=q[1];break}if(q[0]===6&&y.label<R[1]){y.label=R[1],R=q;break}if(R&&y.label<R[2]){y.label=R[2],y.ops.push(q);break}R[2]&&y.ops.pop(),y.trys.pop();continue}q=x.call(r,y)}catch(ee){q=[6,ee],B=0}finally{b=R=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}},BarcodeDetectorDelegate=(function(){function r(x,y,b){if(this.formatMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,"qr_code"],[Html5QrcodeSupportedFormats.AZTEC,"aztec"],[Html5QrcodeSupportedFormats.CODABAR,"codabar"],[Html5QrcodeSupportedFormats.CODE_39,"code_39"],[Html5QrcodeSupportedFormats.CODE_93,"code_93"],[Html5QrcodeSupportedFormats.CODE_128,"code_128"],[Html5QrcodeSupportedFormats.DATA_MATRIX,"data_matrix"],[Html5QrcodeSupportedFormats.ITF,"itf"],[Html5QrcodeSupportedFormats.EAN_13,"ean_13"],[Html5QrcodeSupportedFormats.EAN_8,"ean_8"],[Html5QrcodeSupportedFormats.PDF_417,"pdf417"],[Html5QrcodeSupportedFormats.UPC_A,"upc_a"],[Html5QrcodeSupportedFormats.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=y,this.logger=b;var B=this.createBarcodeDetectorFormats(x);if(this.detector=new BarcodeDetector(B),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var x=new BarcodeDetector({formats:["qr_code"]});return typeof x<"u"},r.prototype.decodeAsync=function(x){return __awaiter$6(this,void 0,void 0,function(){var y,b;return __generator$5(this,function(B){switch(B.label){case 0:return[4,this.detector.detect(x)];case 1:if(y=B.sent(),!y||y.length===0)throw"No barcode or QR code detected.";return b=this.selectLargestBarcode(y),[2,{text:b.rawValue,format:QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(b.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(x){for(var y=null,b=0,B=0,R=x;B<R.length;B++){var I=R[B],O=I.boundingBox.width*I.boundingBox.height;O>b&&(b=O,y=I)}if(!y)throw"No largest barcode found";return y},r.prototype.createBarcodeDetectorFormats=function(x){for(var y=[],b=0,B=x;b<B.length;b++){var R=B[b];this.formatMap.has(R)?y.push(this.formatMap.get(R)):this.logger.warn("".concat(R," is not supported by")+"BarcodeDetectorDelegate")}return{formats:y}},r.prototype.toHtml5QrcodeSupportedFormats=function(x){if(!this.reverseFormatMap.has(x))throw"reverseFormatMap doesn't have ".concat(x);return this.reverseFormatMap.get(x)},r.prototype.createReverseFormatMap=function(){var x=new Map;return this.formatMap.forEach(function(y,b,B){x.set(y,b)}),x},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r})(),__awaiter$5=function(r,x,y,b){function B(R){return R instanceof y?R:new y(function(I){I(R)})}return new(y||(y=Promise))(function(R,I){function O(ee){try{q(b.next(ee))}catch(ne){I(ne)}}function G(ee){try{q(b.throw(ee))}catch(ne){I(ne)}}function q(ee){ee.done?R(ee.value):B(ee.value).then(O,G)}q((b=b.apply(r,x||[])).next())})},__generator$4=function(r,x){var y={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},b,B,R,I;return I={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function O(q){return function(ee){return G([q,ee])}}function G(q){if(b)throw new TypeError("Generator is already executing.");for(;I&&(I=0,q[0]&&(y=0)),y;)try{if(b=1,B&&(R=q[0]&2?B.return:q[0]?B.throw||((R=B.return)&&R.call(B),0):B.next)&&!(R=R.call(B,q[1])).done)return R;switch(B=0,R&&(q=[q[0]&2,R.value]),q[0]){case 0:case 1:R=q;break;case 4:return y.label++,{value:q[1],done:!1};case 5:y.label++,B=q[1],q=[0];continue;case 7:q=y.ops.pop(),y.trys.pop();continue;default:if(R=y.trys,!(R=R.length>0&&R[R.length-1])&&(q[0]===6||q[0]===2)){y=0;continue}if(q[0]===3&&(!R||q[1]>R[0]&&q[1]<R[3])){y.label=q[1];break}if(q[0]===6&&y.label<R[1]){y.label=R[1],R=q;break}if(R&&y.label<R[2]){y.label=R[2],y.ops.push(q);break}R[2]&&y.ops.pop(),y.trys.pop();continue}q=x.call(r,y)}catch(ee){q=[6,ee],B=0}finally{b=R=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}},Html5QrcodeShim=(function(){function r(x,y,b,B){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=b,y&&BarcodeDetectorDelegate.isSupported()?(this.primaryDecoder=new BarcodeDetectorDelegate(x,b,B),this.secondaryDecoder=new ZXingHtml5QrcodeDecoder(x,b,B)):this.primaryDecoder=new ZXingHtml5QrcodeDecoder(x,b,B)}return r.prototype.decodeAsync=function(x){return __awaiter$5(this,void 0,void 0,function(){var y;return __generator$4(this,function(b){switch(b.label){case 0:y=performance.now(),b.label=1;case 1:return b.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(x)];case 2:return[2,b.sent()];case 3:return this.possiblyLogPerformance(y),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(x){return __awaiter$5(this,void 0,void 0,function(){var y,b;return __generator$4(this,function(B){switch(B.label){case 0:y=performance.now(),B.label=1;case 1:return B.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(x)];case 2:return[2,B.sent()];case 3:if(b=B.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(x)];throw b;case 4:return this.possiblyLogPerformance(y),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(x){if(this.verbose){var y=performance.now()-x;this.executionResults.push(y),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var x=0,y=0,b=this.executionResults;y<b.length;y++){var B=b[y];x+=B}var R=x/this.executionResults.length;console.log("".concat(R," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r})(),__extends$2=(function(){var r=function(x,y){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,B){b.__proto__=B}||function(b,B){for(var R in B)Object.prototype.hasOwnProperty.call(B,R)&&(b[R]=B[R])},r(x,y)};return function(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");r(x,y);function b(){this.constructor=x}x.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}})(),__awaiter$4=function(r,x,y,b){function B(R){return R instanceof y?R:new y(function(I){I(R)})}return new(y||(y=Promise))(function(R,I){function O(ee){try{q(b.next(ee))}catch(ne){I(ne)}}function G(ee){try{q(b.throw(ee))}catch(ne){I(ne)}}function q(ee){ee.done?R(ee.value):B(ee.value).then(O,G)}q((b=b.apply(r,x||[])).next())})},__generator$3=function(r,x){var y={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},b,B,R,I;return I={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function O(q){return function(ee){return G([q,ee])}}function G(q){if(b)throw new TypeError("Generator is already executing.");for(;I&&(I=0,q[0]&&(y=0)),y;)try{if(b=1,B&&(R=q[0]&2?B.return:q[0]?B.throw||((R=B.return)&&R.call(B),0):B.next)&&!(R=R.call(B,q[1])).done)return R;switch(B=0,R&&(q=[q[0]&2,R.value]),q[0]){case 0:case 1:R=q;break;case 4:return y.label++,{value:q[1],done:!1};case 5:y.label++,B=q[1],q=[0];continue;case 7:q=y.ops.pop(),y.trys.pop();continue;default:if(R=y.trys,!(R=R.length>0&&R[R.length-1])&&(q[0]===6||q[0]===2)){y=0;continue}if(q[0]===3&&(!R||q[1]>R[0]&&q[1]<R[3])){y.label=q[1];break}if(q[0]===6&&y.label<R[1]){y.label=R[1],R=q;break}if(R&&y.label<R[2]){y.label=R[2],y.ops.push(q);break}R[2]&&y.ops.pop(),y.trys.pop();continue}q=x.call(r,y)}catch(ee){q=[6,ee],B=0}finally{b=R=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}},AbstractCameraCapability=(function(){function r(x,y){this.name=x,this.track=y}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(x){var y={};y[this.name]=x;var b={advanced:[y]};return this.track.applyConstraints(b)},r.prototype.value=function(){var x=this.track.getSettings();if(this.name in x){var y=x[this.name];return y}return null},r})(),AbstractRangeCameraCapability=(function(r){__extends$2(x,r);function x(y,b){return r.call(this,y,b)||this}return x.prototype.min=function(){return this.getCapabilities().min},x.prototype.max=function(){return this.getCapabilities().max},x.prototype.step=function(){return this.getCapabilities().step},x.prototype.apply=function(y){var b={};b[this.name]=y;var B={advanced:[b]};return this.track.applyConstraints(B)},x.prototype.getCapabilities=function(){this.failIfNotSupported();var y=this.track.getCapabilities(),b=y[this.name];return{min:b.min,max:b.max,step:b.step}},x.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},x})(AbstractCameraCapability),ZoomFeatureImpl=(function(r){__extends$2(x,r);function x(y){return r.call(this,"zoom",y)||this}return x})(AbstractRangeCameraCapability),TorchFeatureImpl=(function(r){__extends$2(x,r);function x(y){return r.call(this,"torch",y)||this}return x})(AbstractCameraCapability),CameraCapabilitiesImpl=(function(){function r(x){this.track=x}return r.prototype.zoomFeature=function(){return new ZoomFeatureImpl(this.track)},r.prototype.torchFeature=function(){return new TorchFeatureImpl(this.track)},r})(),RenderedCameraImpl=(function(){function r(x,y,b){this.isClosed=!1,this.parentElement=x,this.mediaStream=y,this.callbacks=b,this.surface=this.createVideoElement(this.parentElement.clientWidth),x.append(this.surface)}return r.prototype.createVideoElement=function(x){var y=document.createElement("video");return y.style.width="".concat(x,"px"),y.style.display="block",y.muted=!0,y.setAttribute("muted","true"),y.playsInline=!0,y},r.prototype.setupSurface=function(){var x=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var y=function(){var b=x.surface.clientWidth,B=x.surface.clientHeight;x.callbacks.onRenderSurfaceReady(b,B),x.surface.removeEventListener("playing",y)};this.surface.addEventListener("playing",y),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(x,y,b,B){return __awaiter$4(this,void 0,void 0,function(){var R,I;return __generator$3(this,function(O){switch(O.label){case 0:return R=new r(x,y,B),b.aspectRatio?(I={aspectRatio:b.aspectRatio},[4,R.getFirstTrackOrFail().applyConstraints(I)]):[3,2];case 1:O.sent(),O.label=2;case 2:return R.setupSurface(),[2,R]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(x){this.failIfClosed();var y=this,b=function(){setTimeout(x,200),y.surface.removeEventListener("playing",b)};this.surface.addEventListener("playing",b),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(x){return __awaiter$4(this,void 0,void 0,function(){return __generator$3(this,function(y){if("aspectRatio"in x)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(x)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var x=this;return new Promise(function(y,b){var B=x.mediaStream.getVideoTracks(),R=B.length,I=0;x.mediaStream.getVideoTracks().forEach(function(O){x.mediaStream.removeTrack(O),O.stop(),++I,I>=R&&(x.isClosed=!0,x.parentElement.removeChild(x.surface),y())})})},r.prototype.getCapabilities=function(){return new CameraCapabilitiesImpl(this.getFirstTrackOrFail())},r})(),CameraImpl=(function(){function r(x){this.mediaStream=x}return r.prototype.render=function(x,y,b){return __awaiter$4(this,void 0,void 0,function(){return __generator$3(this,function(B){return[2,RenderedCameraImpl.create(x,this.mediaStream,y,b)]})})},r.create=function(x){return __awaiter$4(this,void 0,void 0,function(){var y,b;return __generator$3(this,function(B){switch(B.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return y={audio:!1,video:x},[4,navigator.mediaDevices.getUserMedia(y)];case 1:return b=B.sent(),[2,new r(b)]}})})},r})(),__awaiter$3=function(r,x,y,b){function B(R){return R instanceof y?R:new y(function(I){I(R)})}return new(y||(y=Promise))(function(R,I){function O(ee){try{q(b.next(ee))}catch(ne){I(ne)}}function G(ee){try{q(b.throw(ee))}catch(ne){I(ne)}}function q(ee){ee.done?R(ee.value):B(ee.value).then(O,G)}q((b=b.apply(r,x||[])).next())})},__generator$2=function(r,x){var y={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},b,B,R,I;return I={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function O(q){return function(ee){return G([q,ee])}}function G(q){if(b)throw new TypeError("Generator is already executing.");for(;I&&(I=0,q[0]&&(y=0)),y;)try{if(b=1,B&&(R=q[0]&2?B.return:q[0]?B.throw||((R=B.return)&&R.call(B),0):B.next)&&!(R=R.call(B,q[1])).done)return R;switch(B=0,R&&(q=[q[0]&2,R.value]),q[0]){case 0:case 1:R=q;break;case 4:return y.label++,{value:q[1],done:!1};case 5:y.label++,B=q[1],q=[0];continue;case 7:q=y.ops.pop(),y.trys.pop();continue;default:if(R=y.trys,!(R=R.length>0&&R[R.length-1])&&(q[0]===6||q[0]===2)){y=0;continue}if(q[0]===3&&(!R||q[1]>R[0]&&q[1]<R[3])){y.label=q[1];break}if(q[0]===6&&y.label<R[1]){y.label=R[1],R=q;break}if(R&&y.label<R[2]){y.label=R[2],y.ops.push(q);break}R[2]&&y.ops.pop(),y.trys.pop();continue}q=x.call(r,y)}catch(ee){q=[6,ee],B=0}finally{b=R=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}},CameraFactory=(function(){function r(){}return r.failIfNotSupported=function(){return __awaiter$3(this,void 0,void 0,function(){return __generator$2(this,function(x){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(x){return __awaiter$3(this,void 0,void 0,function(){return __generator$2(this,function(y){return[2,CameraImpl.create(x)]})})},r})(),__awaiter$2=function(r,x,y,b){function B(R){return R instanceof y?R:new y(function(I){I(R)})}return new(y||(y=Promise))(function(R,I){function O(ee){try{q(b.next(ee))}catch(ne){I(ne)}}function G(ee){try{q(b.throw(ee))}catch(ne){I(ne)}}function q(ee){ee.done?R(ee.value):B(ee.value).then(O,G)}q((b=b.apply(r,x||[])).next())})},__generator$1=function(r,x){var y={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},b,B,R,I;return I={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function O(q){return function(ee){return G([q,ee])}}function G(q){if(b)throw new TypeError("Generator is already executing.");for(;I&&(I=0,q[0]&&(y=0)),y;)try{if(b=1,B&&(R=q[0]&2?B.return:q[0]?B.throw||((R=B.return)&&R.call(B),0):B.next)&&!(R=R.call(B,q[1])).done)return R;switch(B=0,R&&(q=[q[0]&2,R.value]),q[0]){case 0:case 1:R=q;break;case 4:return y.label++,{value:q[1],done:!1};case 5:y.label++,B=q[1],q=[0];continue;case 7:q=y.ops.pop(),y.trys.pop();continue;default:if(R=y.trys,!(R=R.length>0&&R[R.length-1])&&(q[0]===6||q[0]===2)){y=0;continue}if(q[0]===3&&(!R||q[1]>R[0]&&q[1]<R[3])){y.label=q[1];break}if(q[0]===6&&y.label<R[1]){y.label=R[1],R=q;break}if(R&&y.label<R[2]){y.label=R[2],y.ops.push(q);break}R[2]&&y.ops.pop(),y.trys.pop();continue}q=x.call(r,y)}catch(ee){q=[6,ee],B=0}finally{b=R=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}},CameraRetriever=(function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var x=MediaStreamTrack;return MediaStreamTrack&&x.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var x=Html5QrcodeStrings.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(x=Html5QrcodeStrings.insecureContextCameraQueryError()),Promise.reject(x)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var x=location.host.split(":")[0];return x==="127.0.0.1"||x==="localhost"},r.getCamerasFromMediaDevices=function(){return __awaiter$2(this,void 0,void 0,function(){var x,y,b,B,R,I,O;return __generator$1(this,function(G){switch(G.label){case 0:return x=function(q){for(var ee=q.getVideoTracks(),ne=0,oe=ee;ne<oe.length;ne++){var pe=oe[ne];pe.enabled=!1,pe.stop(),q.removeTrack(pe)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return y=G.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(b=G.sent(),B=[],R=0,I=b;R<I.length;R++)O=I[R],O.kind==="videoinput"&&B.push({id:O.deviceId,label:O.label});return x(y),[2,B]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(x,y){var b=function(R){for(var I=[],O=0,G=R;O<G.length;O++){var q=G[O];q.kind==="video"&&I.push({id:q.id,label:q.label})}x(I)},B=MediaStreamTrack;B.getSources(b)})},r})(),Html5QrcodeScannerState;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(Html5QrcodeScannerState||(Html5QrcodeScannerState={}));var StateManagerImpl=(function(){function r(){this.state=Html5QrcodeScannerState.NOT_STARTED,this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN}return r.prototype.directTransition=function(x){this.failIfTransitionOngoing(),this.validateTransition(x),this.state=x},r.prototype.startTransition=function(x){return this.failIfTransitionOngoing(),this.validateTransition(x),this.onGoingTransactionNewState=x,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===Html5QrcodeScannerState.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var x=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN,this.directTransition(x)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===Html5QrcodeScannerState.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Html5QrcodeScannerState.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(x){switch(this.state){case Html5QrcodeScannerState.UNKNOWN:throw"Transition from unknown is not allowed";case Html5QrcodeScannerState.NOT_STARTED:this.failIfNewStateIs(x,[Html5QrcodeScannerState.PAUSED]);break;case Html5QrcodeScannerState.SCANNING:break;case Html5QrcodeScannerState.PAUSED:break}},r.prototype.failIfNewStateIs=function(x,y){for(var b=0,B=y;b<B.length;b++){var R=B[b];if(x===R)throw"Cannot transition from ".concat(this.state," to ").concat(x)}},r})(),StateManagerProxy=(function(){function r(x){this.stateManager=x}return r.prototype.startTransition=function(x){return this.stateManager.startTransition(x)},r.prototype.directTransition=function(x){this.stateManager.directTransition(x)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===Html5QrcodeScannerState.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==Html5QrcodeScannerState.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Html5QrcodeScannerState.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===Html5QrcodeScannerState.PAUSED},r})(),StateManagerFactory=(function(){function r(){}return r.create=function(){return new StateManagerProxy(new StateManagerImpl)},r})(),__extends$1=(function(){var r=function(x,y){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,B){b.__proto__=B}||function(b,B){for(var R in B)Object.prototype.hasOwnProperty.call(B,R)&&(b[R]=B[R])},r(x,y)};return function(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");r(x,y);function b(){this.constructor=x}x.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}})(),Constants=(function(r){__extends$1(x,r);function x(){return r!==null&&r.apply(this,arguments)||this}return x.DEFAULT_WIDTH=300,x.DEFAULT_WIDTH_OFFSET=2,x.FILE_SCAN_MIN_HEIGHT=300,x.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,x.MIN_QR_BOX_SIZE=50,x.SHADED_LEFT=1,x.SHADED_RIGHT=2,x.SHADED_TOP=3,x.SHADED_BOTTOM=4,x.SHADED_REGION_ELEMENT_ID="qr-shaded-region",x.VERBOSE=!1,x.BORDER_SHADER_DEFAULT_COLOR="#ffffff",x.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",x})(Html5QrcodeConstants),InternalHtml5QrcodeConfig=(function(){function r(x,y){this.logger=y,this.fps=Constants.SCAN_DEFAULT_FPS,x?(x.fps&&(this.fps=x.fps),this.disableFlip=x.disableFlip===!0,this.qrbox=x.qrbox,this.aspectRatio=x.aspectRatio,this.videoConstraints=x.videoConstraints):this.disableFlip=Constants.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?VideoConstraintsUtil.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!isNullOrUndefined(this.qrbox)},r.create=function(x,y){return new r(x,y)},r})(),Html5Qrcode=(function(){function r(x,y){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(x))throw"HTML Element with id=".concat(x," not found");this.elementId=x,this.verbose=!1;var b;typeof y=="boolean"?this.verbose=y===!0:y&&(b=y,this.verbose=b.verbose===!0,b.experimentalFeatures),this.logger=new BaseLoggger(this.verbose),this.qrcode=new Html5QrcodeShim(this.getSupportedFormats(y),this.getUseBarCodeDetectorIfSupported(b),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=StateManagerFactory.create()}return r.prototype.start=function(x,y,b,B){var R=this;if(!x)throw"cameraIdOrConfig is required";if(!b||typeof b!="function")throw"qrCodeSuccessCallback is required and should be a function.";var I;B?I=B:I=this.verbose?this.logger.log:function(){};var O=InternalHtml5QrcodeConfig.create(y,this.logger);this.clearElement();var G=!1;O.videoConstraints&&(O.isMediaStreamConstraintsValid()?G=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var q=G,ee=document.getElementById(this.elementId);ee.clientWidth?ee.clientWidth:Constants.DEFAULT_WIDTH,ee.style.position="relative",this.shouldScan=!0,this.element=ee;var ne=this,oe=this.stateManagerProxy.startTransition(Html5QrcodeScannerState.SCANNING);return new Promise(function(pe,xe){var _e=q?O.videoConstraints:ne.createVideoConstraints(x);if(!_e){oe.cancel(),xe("videoConstraints should be defined");return}var Ue={};(!q||O.aspectRatio)&&(Ue.aspectRatio=O.aspectRatio);var Le={onRenderSurfaceReady:function(He,$e){ne.setupUi(He,$e,O),ne.isScanning=!0,ne.foreverScan(O,b,I)}};CameraFactory.failIfNotSupported().then(function(He){He.create(_e).then(function($e){return $e.render(R.element,Ue,Le).then(function(Ne){ne.renderedCamera=Ne,oe.execute(),pe(null)}).catch(function(Ne){oe.cancel(),xe(Ne)})}).catch(function($e){oe.cancel(),xe(Html5QrcodeStrings.errorGettingUserMedia($e))})}).catch(function(He){oe.cancel(),xe(Html5QrcodeStrings.cameraStreamingNotSupported())})})},r.prototype.pause=function(x){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Html5QrcodeScannerState.PAUSED),this.showPausedState(),(isNullOrUndefined(x)||x!==!0)&&(x=!1),x&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var x=this,y=function(){x.stateManagerProxy.directTransition(Html5QrcodeScannerState.SCANNING),x.hidePausedState()};if(!this.renderedCamera.isPaused()){y();return}this.renderedCamera.resume(function(){y()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var x=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var y=this.stateManagerProxy.startTransition(Html5QrcodeScannerState.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var b=function(){if(x.element){var R=document.getElementById(Constants.SHADED_REGION_ELEMENT_ID);R&&x.element.removeChild(R)}},B=this;return this.renderedCamera.close().then(function(){return B.renderedCamera=null,B.element&&(B.element.removeChild(B.canvasElement),B.canvasElement=null),b(),B.qrRegion&&(B.qrRegion=null),B.context&&(B.context=null),y.execute(),B.hidePausedState(),B.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(x,y){return this.scanFileV2(x,y).then(function(b){return b.decodedText})},r.prototype.scanFileV2=function(x,y){var b=this;if(!x||!(x instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(isNullOrUndefined(y)&&(y=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(B,R){b.possiblyCloseLastScanImageFile(),b.clearElement(),b.lastScanImageFile=URL.createObjectURL(x);var I=new Image;I.onload=function(){var O=I.width,G=I.height,q=document.getElementById(b.elementId),ee=q.clientWidth?q.clientWidth:Constants.DEFAULT_WIDTH,ne=Math.max(q.clientHeight?q.clientHeight:G,Constants.FILE_SCAN_MIN_HEIGHT),oe=b.computeCanvasDrawConfig(O,G,ee,ne);if(y){var pe=b.createCanvasElement(ee,ne,"qr-canvas-visible");pe.style.display="inline-block",q.appendChild(pe);var xe=pe.getContext("2d");if(!xe)throw"Unable to get 2d context from canvas";xe.canvas.width=ee,xe.canvas.height=ne,xe.drawImage(I,0,0,O,G,oe.x,oe.y,oe.width,oe.height)}var _e=Constants.FILE_SCAN_HIDDEN_CANVAS_PADDING,Ue=Math.max(I.width,oe.width),Le=Math.max(I.height,oe.height),He=Ue+2*_e,$e=Le+2*_e,Ne=b.createCanvasElement(He,$e);q.appendChild(Ne);var Qe=Ne.getContext("2d");if(!Qe)throw"Unable to get 2d context from canvas";Qe.canvas.width=He,Qe.canvas.height=$e,Qe.drawImage(I,0,0,O,G,_e,_e,Ue,Le);try{b.qrcode.decodeRobustlyAsync(Ne).then(function(We){B(Html5QrcodeResultFactory.createFromQrcodeResult(We))}).catch(R)}catch(We){R("QR code parse error, error = ".concat(We))}},I.onerror=R,I.onabort=R,I.onstalled=R,I.onsuspend=R,I.src=URL.createObjectURL(x)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return CameraRetriever.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(x){if(x){if(!VideoConstraintsUtil.isMediaStreamConstraintsValid(x,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(x)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(x){var y=[Html5QrcodeSupportedFormats.QR_CODE,Html5QrcodeSupportedFormats.AZTEC,Html5QrcodeSupportedFormats.CODABAR,Html5QrcodeSupportedFormats.CODE_39,Html5QrcodeSupportedFormats.CODE_93,Html5QrcodeSupportedFormats.CODE_128,Html5QrcodeSupportedFormats.DATA_MATRIX,Html5QrcodeSupportedFormats.MAXICODE,Html5QrcodeSupportedFormats.ITF,Html5QrcodeSupportedFormats.EAN_13,Html5QrcodeSupportedFormats.EAN_8,Html5QrcodeSupportedFormats.PDF_417,Html5QrcodeSupportedFormats.RSS_14,Html5QrcodeSupportedFormats.RSS_EXPANDED,Html5QrcodeSupportedFormats.UPC_A,Html5QrcodeSupportedFormats.UPC_E,Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION];if(!x||typeof x=="boolean"||!x.formatsToSupport)return y;if(!Array.isArray(x.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(x.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var b=[],B=0,R=x.formatsToSupport;B<R.length;B++){var I=R[B];isValidHtml5QrcodeSupportedFormats(I)?b.push(I):this.logger.warn("Invalid format: ".concat(I," passed in config, ignoring."))}if(b.length===0)throw"None of formatsToSupport match supported values.";return b},r.prototype.getUseBarCodeDetectorIfSupported=function(x){if(isNullOrUndefined(x))return!0;if(!isNullOrUndefined(x.useBarCodeDetectorIfSupported))return x.useBarCodeDetectorIfSupported!==!1;if(isNullOrUndefined(x.experimentalFeatures))return!0;var y=x.experimentalFeatures;return isNullOrUndefined(y.useBarCodeDetectorIfSupported)?!0:y.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(x,y,b){var B=this,R=b.qrbox;this.validateQrboxConfig(R);var I=this.toQrdimensions(x,y,R),O=function(q){if(q<Constants.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Constants.MIN_QR_BOX_SIZE,"px.")},G=function(q){return q>x&&(B.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),q=x),q};O(I.width),O(I.height),I.width=G(I.width)},r.prototype.validateQrboxConfig=function(x){if(typeof x!="number"&&typeof x!="function"&&(x.width===void 0||x.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(x,y,b){if(typeof b=="number")return{width:b,height:b};if(typeof b=="function")try{return b(x,y)}catch(B){throw new Error("qrbox config was passed as a function but it failed with unknown error"+B)}return b},r.prototype.setupUi=function(x,y,b){b.isShadedBoxEnabled()&&this.validateQrboxSize(x,y,b);var B=isNullOrUndefined(b.qrbox)?{width:x,height:y}:b.qrbox;this.validateQrboxConfig(B);var R=this.toQrdimensions(x,y,B);R.height>y&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var I=b.isShadedBoxEnabled()&&R.height<=y,O={x:0,y:0,width:x,height:y},G=I?this.getShadedRegionBounds(x,y,R):O,q=this.createCanvasElement(G.width,G.height),ee={willReadFrequently:!0},ne=q.getContext("2d",ee);ne.canvas.width=G.width,ne.canvas.height=G.height,this.element.append(q),I&&this.possiblyInsertShadingElement(this.element,x,y,R),this.createScannerPausedUiElement(this.element),this.qrRegion=G,this.context=ne,this.canvasElement=q},r.prototype.createScannerPausedUiElement=function(x){var y=document.createElement("div");y.innerText=Html5QrcodeStrings.scannerPaused(),y.style.display="none",y.style.position="absolute",y.style.top="0px",y.style.zIndex="1",y.style.background="rgba(9, 9, 9, 0.46)",y.style.color="#FFECEC",y.style.textAlign="center",y.style.width="100%",x.appendChild(y),this.scannerPausedUiElement=y},r.prototype.scanContext=function(x,y){var b=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(B){return x(B.text,Html5QrcodeResultFactory.createFromQrcodeResult(B)),b.possiblyUpdateShaders(!0),!0}).catch(function(B){b.possiblyUpdateShaders(!1);var R=Html5QrcodeStrings.codeParseError(B);return y(R,Html5QrcodeErrorFactory.createFrom(R)),!1})},r.prototype.foreverScan=function(x,y,b){var B=this;if(this.shouldScan&&this.renderedCamera){var R=this.renderedCamera.getSurface(),I=R.videoWidth/R.clientWidth,O=R.videoHeight/R.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var G=this.qrRegion.width*I,q=this.qrRegion.height*O,ee=this.qrRegion.x*I,ne=this.qrRegion.y*O;this.context.drawImage(R,ee,ne,G,q,0,0,this.qrRegion.width,this.qrRegion.height);var oe=function(){B.foreverScanTimeout=setTimeout(function(){B.foreverScan(x,y,b)},B.getTimeoutFps(x.fps))};this.scanContext(y,b).then(function(pe){!pe&&x.disableFlip!==!0?(B.context.translate(B.context.canvas.width,0),B.context.scale(-1,1),B.scanContext(y,b).finally(function(){oe()})):oe()}).catch(function(pe){B.logger.logError("Error happend while scanning context",pe),oe()})}},r.prototype.createVideoConstraints=function(x){if(typeof x=="string")return{deviceId:{exact:x}};if(typeof x=="object"){var y="facingMode",b="deviceId",B={user:!0,environment:!0},R="exact",I=function(xe){if(xe in B)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(xe,"'")},O=Object.keys(x);if(O.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(O.length," keys");var G=Object.keys(x)[0];if(G!==y&&G!==b)throw"Only '".concat(y,"' and '").concat(b,"' ")+" are supported for 'cameraIdOrConfig'";if(G===y){var q=x.facingMode;if(typeof q=="string"){if(I(q))return{facingMode:q}}else if(typeof q=="object")if(R in q){if(I(q["".concat(R)]))return{facingMode:{exact:q["".concat(R)]}}}else throw"'facingMode' should be string or object with"+" ".concat(R," as key.");else{var ee=typeof q;throw"Invalid type of 'facingMode' = ".concat(ee)}}else{var ne=x.deviceId;if(typeof ne=="string")return{deviceId:ne};if(typeof ne=="object"){if(R in ne)return{deviceId:{exact:ne["".concat(R)]}};throw"'deviceId' should be string or object with"+" ".concat(R," as key.")}else{var oe=typeof ne;throw"Invalid type of 'deviceId' = ".concat(oe)}}}var pe=typeof x;throw"Invalid type of 'cameraIdOrConfig' = ".concat(pe)},r.prototype.computeCanvasDrawConfig=function(x,y,b,B){if(x<=b&&y<=B){var R=(b-x)/2,I=(B-y)/2;return{x:R,y:I,width:x,height:y}}else{var O=x,G=y;return x>b&&(y=b/x*y,x=b),y>B&&(x=B/y*x,y=B),this.logger.log("Image downsampled from "+"".concat(O,"X").concat(G)+" to ".concat(x,"X").concat(y,".")),this.computeCanvasDrawConfig(x,y,b,B)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var x=document.getElementById(this.elementId);x&&(x.innerHTML="")},r.prototype.possiblyUpdateShaders=function(x){this.qrMatch!==x&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(y){y.style.backgroundColor=x?Constants.BORDER_SHADER_MATCH_COLOR:Constants.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=x)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(x,y,b){var B=x,R=y,I=document.createElement("canvas");return I.style.width="".concat(B,"px"),I.style.height="".concat(R,"px"),I.style.display="none",I.id=isNullOrUndefined(b)?"qr-canvas":b,I},r.prototype.getShadedRegionBounds=function(x,y,b){if(b.width>x||b.height>y)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(x-b.width)/2,y:(y-b.height)/2,width:b.width,height:b.height}},r.prototype.possiblyInsertShadingElement=function(x,y,b,B){if(!(y-B.width<1||b-B.height<1)){var R=document.createElement("div");R.style.position="absolute";var I=(y-B.width)/2,O=(b-B.height)/2;if(R.style.borderLeft="".concat(I,"px solid rgba(0, 0, 0, 0.48)"),R.style.borderRight="".concat(I,"px solid rgba(0, 0, 0, 0.48)"),R.style.borderTop="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),R.style.borderBottom="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),R.style.boxSizing="border-box",R.style.top="0px",R.style.bottom="0px",R.style.left="0px",R.style.right="0px",R.id="".concat(Constants.SHADED_REGION_ELEMENT_ID),y-B.width<11||b-B.height<11)this.hasBorderShaders=!1;else{var G=5,q=40;this.insertShaderBorders(R,q,G,-G,null,0,!0),this.insertShaderBorders(R,q,G,-G,null,0,!1),this.insertShaderBorders(R,q,G,null,-G,0,!0),this.insertShaderBorders(R,q,G,null,-G,0,!1),this.insertShaderBorders(R,G,q+G,-G,null,-G,!0),this.insertShaderBorders(R,G,q+G,null,-G,-G,!0),this.insertShaderBorders(R,G,q+G,-G,null,-G,!1),this.insertShaderBorders(R,G,q+G,null,-G,-G,!1),this.hasBorderShaders=!0}x.append(R)}},r.prototype.insertShaderBorders=function(x,y,b,B,R,I,O){var G=document.createElement("div");G.style.position="absolute",G.style.backgroundColor=Constants.BORDER_SHADER_DEFAULT_COLOR,G.style.width="".concat(y,"px"),G.style.height="".concat(b,"px"),B!==null&&(G.style.top="".concat(B,"px")),R!==null&&(G.style.bottom="".concat(R,"px")),O?G.style.left="".concat(I,"px"):G.style.right="".concat(I,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(G),x.appendChild(G)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(x){return 1e3/x},r})(),Html5QrcodeScannerStatus;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Html5QrcodeScannerStatus||(Html5QrcodeScannerStatus={}));const scannerContainer="_scannerContainer_yftsj_1",header$8="_header_yftsj_25",closeButton$3="_closeButton_yftsj_37",title$d="_title_yftsj_59",scannerArea="_scannerArea_yftsj_79",qrScannerWrapper="_qrScannerWrapper_yftsj_91",scannerOverlay="_scannerOverlay_yftsj_135",corner="_corner_yftsj_153",topLeft="_topLeft_yftsj_167",topRight="_topRight_yftsj_183",bottomLeft="_bottomLeft_yftsj_199",bottomRight="_bottomRight_yftsj_215",instructionBox="_instructionBox_yftsj_229",qrIconButton="_qrIconButton_yftsj_253",errorMessage$2="_errorMessage_yftsj_293",styles$P={scannerContainer,header:header$8,closeButton:closeButton$3,title:title$d,scannerArea,qrScannerWrapper,scannerOverlay,corner,topLeft,topRight,bottomLeft,bottomRight,instructionBox,qrIconButton,errorMessage:errorMessage$2};function QrScanner(){var q;const r=useNavigate(),x=useLocation(),y="html5qr-code-full-region",b=reactExports$1.useRef(null),[B,R]=reactExports$1.useState(null),[I,O]=reactExports$1.useState(!1);(q=x.state)!=null&&q.exhibitionInfo,reactExports$1.useEffect(()=>{const ee={fps:10,qrbox:250,aspectRatio:1,disableFlip:!1};return b.current=new Html5Qrcode(y),b.current.start({facingMode:"environment"},ee,ne=>{b.current.stop().then(()=>{r(`/art/${ne}`)}).catch(oe=>{console.error("Failed to stop scanner:",oe)})},()=>{}).catch(ne=>{R("   ."),console.error("QR  :",ne)}),async()=>{const ne=b.current;if(ne)try{ne.isScanning&&await ne.stop(),ne.clear()}catch(oe){console.error("Cleanup :",oe)}}},[r]);const G=()=>{r(-1)};return reactExports$1.useEffect(()=>{new URLSearchParams(x.search).get("itemId")&&O(!0)},[x]),jsxRuntimeExports.jsxs("div",{className:styles$P.scannerContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$P.header,children:[jsxRuntimeExports.jsx("button",{className:styles$P.closeButton,onClick:G,children:""}),jsxRuntimeExports.jsx("h2",{className:styles$P.title,children:"Artly QR Reader"})]}),jsxRuntimeExports.jsxs("div",{className:styles$P.scannerArea,children:[jsxRuntimeExports.jsx("div",{id:y,className:styles$P.qrScannerWrapper}),jsxRuntimeExports.jsxs("div",{className:styles$P.scannerOverlay,children:[jsxRuntimeExports.jsx("div",{className:`${styles$P.corner} ${styles$P.topLeft}`}),jsxRuntimeExports.jsx("div",{className:`${styles$P.corner} ${styles$P.topRight}`}),jsxRuntimeExports.jsx("div",{className:`${styles$P.corner} ${styles$P.bottomLeft}`}),jsxRuntimeExports.jsx("div",{className:`${styles$P.corner} ${styles$P.bottomRight}`})]}),B&&jsxRuntimeExports.jsx("div",{className:styles$P.errorMessage,children:B})]}),jsxRuntimeExports.jsx("button",{className:styles$P.qrIconButton,children:jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M3 11H11V3H3V11ZM5 5H9V9H5V5Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M3 21H11V13H3V21ZM5 15H9V19H5V15Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M13 3V11H21V3H13ZM19 9H15V5H19V9Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M21 19H19V21H21V19Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M15 13H13V15H15V13Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M17 15H15V17H17V15Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M15 17H13V19H15V17Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M17 19H15V21H17V19Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M19 17H17V19H19V17Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M19 13H17V15H19V13Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M21 15H19V17H21V15Z",fill:"black"})]})}),jsxRuntimeExports.jsx("div",{className:styles$P.instructionBox,children:jsxRuntimeExports.jsx("p",{children:"QR   ."})})]})}const layout$g="_layout_14fhd_1",title$c="_title_14fhd_23",galleryWrapper="_galleryWrapper_14fhd_33",searchForm="_searchForm_14fhd_45",searchInput="_searchInput_14fhd_59",styles$O={layout:layout$g,title:title$c,galleryWrapper,searchForm,searchInput},layout$f="_layout_akvc9_1",searchTitle="_searchTitle_akvc9_15",resultNumParagraph="_resultNumParagraph_akvc9_25",highlightSpan="_highlightSpan_akvc9_33",paginationRow="_paginationRow_akvc9_53",styles$N={layout:layout$f,searchTitle,resultNumParagraph,highlightSpan,paginationRow};function NearbyGalleries({results:r,onEvent:x}){const{currentPage:y,setCurrentPage:b,pageItems:B}=usePagination(10,r);return jsxRuntimeExports.jsxs("section",{className:styles$N.layout,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:styles$N.searchTitle,children:"   "}),jsxRuntimeExports.jsxs("p",{className:styles$N.resultNumParagraph,children:[" ",jsxRuntimeExports.jsx("span",{className:styles$N.highlightSpan,children:r.length}),"  "]})]}),r.length===0&&jsxRuntimeExports.jsx("div",{children:"  ."}),B.map(R=>jsxRuntimeExports.jsx(GalleryCard,{galleryItem:R,onEvent:x},R.id)),jsxRuntimeExports.jsx("div",{className:styles$N.paginationRow,children:jsxRuntimeExports.jsx(Pagination,{currentPage:y,onPageChange:b,totalItems:r.length})})]})}function Nearby(){const{coords:r,setCoords:x}=useGeoLocation(),[y,b]=reactExports$1.useState([]),[B,R]=reactExports$1.useState(!1),{lat:I,lng:O}=r,[G,q]=reactExports$1.useState(""),ee=pe=>{q(pe.target.value)};useMap({lat:I,lng:O,id:"nearby-map",results:y,zoomLevel:12});const ne=async pe=>{pe.preventDefault();try{const xe=await mapInstance.get("/v2/geocode",{params:{query:G}}),_e=xe.data.addresses[0].x,Ue=xe.data.addresses[0].y;x({lat:Ue,lng:_e})}catch(xe){console.error(xe),alert("  ")}},oe=async()=>{try{R(!0);const pe=await userInstance.get("/api/galleries",{params:{latitude:I,longitude:O,distance:5e3}});b(pe.data)}catch(pe){console.error(pe),alert("   ")}finally{R(!1)}};return reactExports$1.useEffect(()=>{oe()},[I,O]),jsxRuntimeExports.jsxs("div",{className:styles$O.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$O.title,children:"  "}),jsxRuntimeExports.jsx("form",{className:styles$O.searchForm,onSubmit:ne,children:jsxRuntimeExports.jsx("input",{className:styles$O.searchInput,value:G,onChange:ee,placeholder:" (,// )"})}),jsxRuntimeExports.jsx("div",{id:"nearby-map",className:styles$O.galleryWrapper}),B&&jsxRuntimeExports.jsx(LoadingSpinner,{}),jsxRuntimeExports.jsx(NearbyGalleries,{results:y,onEvent:oe})]})}const layout$e="_layout_1l9yn_1",breadcrumb$4="_breadcrumb_1l9yn_21",breadcrumbBack$4="_breadcrumbBack_1l9yn_33",card$5="_card_1l9yn_43",mainImage="_mainImage_1l9yn_61",titleSection$3="_titleSection_1l9yn_81",artworkTitle$3="_artworkTitle_1l9yn_89",artworkMaterial="_artworkMaterial_1l9yn_101",btnLayout$3="_btnLayout_1l9yn_113",divider$1="_divider_1l9yn_127",actionButton$3="_actionButton_1l9yn_141",icon$4="_icon_1l9yn_163",likedIcon$3="_likedIcon_1l9yn_169",artistSection="_artistSection_1l9yn_179",artistImage$1="_artistImage_1l9yn_191",artistName$1="_artistName_1l9yn_205",infoList$3="_infoList_1l9yn_217",infoRow$4="_infoRow_1l9yn_229",infoLabel$4="_infoLabel_1l9yn_237",infoContent$3="_infoContent_1l9yn_249",emptyInfo$3="_emptyInfo_1l9yn_257",descriptionParagraph$3="_descriptionParagraph_1l9yn_267",docentBox="_docentBox_1l9yn_313",docentLabel="_docentLabel_1l9yn_327",docentVideoWrapper="_docentVideoWrapper_1l9yn_353",docentVideo="_docentVideo_1l9yn_353",recommendSection="_recommendSection_1l9yn_383",sectionTitle$1="_sectionTitle_1l9yn_389",relatedGrid="_relatedGrid_1l9yn_401",relatedCard="_relatedCard_1l9yn_411",relatedImage="_relatedImage_1l9yn_433",relatedInfo="_relatedInfo_1l9yn_443",relatedTitle="_relatedTitle_1l9yn_449",exhibitionSection="_exhibitionSection_1l9yn_463",exhibitionList$1="_exhibitionList_1l9yn_491",exhibitionItem$1="_exhibitionItem_1l9yn_505",exhibitionInfo$1="_exhibitionInfo_1l9yn_541",exhibitionTitle$2="_exhibitionTitle_1l9yn_553",exhibitionDate="_exhibitionDate_1l9yn_565",statusBadge$2="_statusBadge_1l9yn_577",exhibited$1="_exhibited_1l9yn_593",scheduled$1="_scheduled_1l9yn_603",ended$1="_ended_1l9yn_613",arrowIcon="_arrowIcon_1l9yn_623",emptyContent$6="_emptyContent_1l9yn_633",backButton$7="_backButton_1l9yn_647",styles$M={layout:layout$e,breadcrumb:breadcrumb$4,breadcrumbBack:breadcrumbBack$4,card:card$5,mainImage,titleSection:titleSection$3,artworkTitle:artworkTitle$3,artworkMaterial,btnLayout:btnLayout$3,divider:divider$1,actionButton:actionButton$3,icon:icon$4,likedIcon:likedIcon$3,artistSection,artistImage:artistImage$1,artistName:artistName$1,infoList:infoList$3,infoRow:infoRow$4,infoLabel:infoLabel$4,infoContent:infoContent$3,emptyInfo:emptyInfo$3,descriptionParagraph:descriptionParagraph$3,docentBox,docentLabel,docentVideoWrapper,docentVideo,recommendSection,sectionTitle:sectionTitle$1,relatedGrid,relatedCard,relatedImage,relatedInfo,relatedTitle,exhibitionSection,exhibitionList:exhibitionList$1,exhibitionItem:exhibitionItem$1,exhibitionInfo:exhibitionInfo$1,exhibitionTitle:exhibitionTitle$2,exhibitionDate,statusBadge:statusBadge$2,exhibited:exhibited$1,scheduled:scheduled$1,ended:ended$1,arrowIcon,emptyContent:emptyContent$6,backButton:backButton$7},modalOverlay$4="_modalOverlay_1ae8l_1",likeModalBox="_likeModalBox_1ae8l_21",likeModalStar="_likeModalStar_1ae8l_63",likeModalTitle="_likeModalTitle_1ae8l_75",likeModalSub="_likeModalSub_1ae8l_85",likeModalButton="_likeModalButton_1ae8l_99",styles$L={modalOverlay:modalOverlay$4,likeModalBox,likeModalStar,likeModalTitle,likeModalSub,likeModalButton};function LikePopup({onClose:r,type:x}){const b={galleries:"",exhibitions:"",artworks:""}[x]||"";return jsxRuntimeExports.jsx("div",{className:styles$L.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$L.likeModalBox,children:[jsxRuntimeExports.jsx(FaStar$1,{className:styles$L.likeModalStar}),jsxRuntimeExports.jsxs("h3",{className:styles$L.likeModalTitle,children:[" ",b,"  !"]}),jsxRuntimeExports.jsx("p",{className:styles$L.likeModalSub,children:"      ."}),jsxRuntimeExports.jsx("button",{className:styles$L.likeModalButton,onClick:r,children:""})]})})}function useToast(r,x){const y=reactExports$1.useRef(null),[b,B]=reactExports$1.useState(!1),R=reactExports$1.useCallback(()=>{y.current&&clearTimeout(y.current),y.current=window.setTimeout(()=>{B(!0)},x)},[x]),I=reactExports$1.useCallback(()=>{y.current&&clearTimeout(y.current),y.current=null},[]),O=reactExports$1.useCallback(()=>{r()},[r]);return{start:R,clear:I,done:O,isExiting:b}}const toastContainer="_toastContainer_wle1e_1",toast="_toast_wle1e_1",exiting="_exiting_wle1e_45",title$b="_title_wle1e_53",message$1="_message_wle1e_65",styles$K={toastContainer,toast,exiting,title:title$b,message:message$1};function Toast({id:r,title:x,message:y,duration:b,removeToast:B}){const{start:R,clear:I,done:O,isExiting:G}=useToast(()=>{B(r)},b),q=()=>I(),ee=()=>R();reactExports$1.useEffect(()=>{R()},[R]);const ne=`${styles$K.toast} ${G?styles$K.exiting:""}`,oe=()=>{G&&O()};return jsxRuntimeExports.jsxs("div",{className:ne,onMouseEnter:q,onMouseLeave:ee,onAnimationEnd:oe,children:[jsxRuntimeExports.jsx("div",{className:styles$K.title,children:x}),y&&jsxRuntimeExports.jsx("div",{className:styles$K.message,children:y})]})}const ToastContext=reactExports$1.createContext(),useToastContext=()=>reactExports$1.useContext(ToastContext);function ToastProvider({children:r}){const[x,y]=reactExports$1.useState(null),b=reactExports$1.useCallback((R,I=1e3)=>{let O,G;typeof R=="string"?(O=R,G=null):(O=R.title,G=R.message);const q=Date.now();y({id:q,title:O,message:G,duration:I})},[]),B=reactExports$1.useCallback(R=>{y(I=>I&&I.id===R?null:I)},[]);return jsxRuntimeExports.jsxs(ToastContext.Provider,{value:{addToast:b},children:[r,jsxRuntimeExports.jsx("div",{className:styles$K.toastContainer,children:x&&jsxRuntimeExports.jsx(Toast,{id:x.id,title:x.title,message:x.message,duration:x.duration,removeToast:B},x.id)})]})}const modalOverlay$3="_modalOverlay_18m8e_1",modalBox$3="_modalBox_18m8e_27",closeButton$2="_closeButton_18m8e_73",modalIconBox="_modalIconBox_18m8e_103",modalIcon="_modalIcon_18m8e_103",modalTitle="_modalTitle_18m8e_135",modalDesc="_modalDesc_18m8e_149",phoneInfo="_phoneInfo_18m8e_163",phoneNumber="_phoneNumber_18m8e_175",callButton="_callButton_18m8e_191",pcInfo="_pcInfo_18m8e_225",errorText$1="_errorText_18m8e_237",styles$J={modalOverlay:modalOverlay$3,modalBox:modalBox$3,closeButton:closeButton$2,modalIconBox,modalIcon,modalTitle,modalDesc,phoneInfo,phoneNumber,callButton,pcInfo,errorText:errorText$1};function PurchaseModal({phoneNumber:r,onClose:x}){const y=()=>{r&&(window.location.href=`tel:${r}`)};return jsxRuntimeExports.jsx("div",{className:styles$J.modalOverlay,onClick:x,children:jsxRuntimeExports.jsxs("div",{className:styles$J.modalBox,onClick:b=>b.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{className:styles$J.closeButton,onClick:x,children:jsxRuntimeExports.jsx(FaXmark,{})}),jsxRuntimeExports.jsxs("div",{className:styles$J.modalContent,children:[jsxRuntimeExports.jsx("div",{className:styles$J.modalIconBox,children:jsxRuntimeExports.jsx(FaPhone,{className:styles$J.modalIcon})}),jsxRuntimeExports.jsx("h3",{className:styles$J.modalTitle,children:" "}),jsxRuntimeExports.jsxs("p",{className:styles$J.modalDesc,children:["   ?",jsxRuntimeExports.jsx("br",{}),"     ."]}),r?jsxRuntimeExports.jsxs("div",{className:styles$J.phoneInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$J.phoneNumber,children:r}),jsxRuntimeExports.jsx("button",{className:styles$J.callButton,onClick:y,children:" "}),jsxRuntimeExports.jsx("p",{className:styles$J.pcInfo,children:"*     ."})]}):jsxRuntimeExports.jsx("p",{className:styles$J.errorText,children:"   ."})]})]})})}function ArtworkDetail({showUserActions:r=!0,id:x,actionButtons:y}){const b={exhibited:{label:"",className:styles$M.exhibited},scheduled:{label:"",className:styles$M.scheduled},ended:{label:"",className:styles$M.ended}},{artworkId:B}=useParams(),R=x||B,I=useNavigate(),{addToast:O}=useToastContext(),{pathname:G}=useLocation(),q=G.includes("console"),[ee,ne]=reactExports$1.useState(null),[oe,pe]=reactExports$1.useState(!1),[xe,_e]=reactExports$1.useState(!1),[Ue,Le]=reactExports$1.useState(!1),He=async()=>{if(R)try{const Rt=await userInstance.get(`/api/arts/${R}`),{data:_t}=Rt;ne(_t),typeof _t.is_liked=="boolean"&&pe(_t.is_liked)}catch(Rt){console.error("   :",Rt)}};reactExports$1.useEffect(()=>{He()},[R]);const $e=async()=>{if(!localStorage.getItem("ACCESS_TOKEN")){I("/login");return}try{const Rt={liked_id:R,liked_type:"art"};oe?(await userInstance.delete("/api/likes",{data:Rt}),pe(!1)):(await userInstance.post("/api/likes",Rt),pe(!0),_e(!0))}catch(Rt){console.error("  :",Rt),O({title:"",message:"  .",type:"error"})}},Ne=()=>{Le(!0)},Qe=()=>{const Rt=ee==null?void 0:ee.art_title,_t=window.location.href;navigator.share?navigator.share({title:`ARTLY: ${Rt}`,text:`${Rt}  `,url:_t}).catch(console.error):navigator.clipboard.writeText(_t).then(()=>alert(" ."))};if(!ee)return jsxRuntimeExports.jsx("div",{children:" ..."});const{art_title:We,art_description:Ge,art_image:Xe,art_year:Je,art_material:ut,art_size:ft,art_docent:ct,art_docent_video:pt,gallery_phone:yt,artist:lt={},artist_name:Ze,exhibitions:it=[]}=ee,Ye="https://artly.soundgram.co.kr",et=(lt==null?void 0:lt.artist_name)||Ze||"Unknown Artist",gt=lt!=null&&lt.artist_image&&!(lt!=null&&lt.artist_image.startsWith("http"))?`${Ye}/${lt==null?void 0:lt.artist_image}`:lt==null?void 0:lt.artist_image,ht=((lt==null?void 0:lt.artworks)||[]).filter(Rt=>String(Rt.id)!==String(R)),vt=[{label:"",content:Je?`${Je} `:" "},{label:"",content:ut||" "},{label:"",content:ft||" "}],Et=[{label:"",icon:jsxRuntimeExports.jsx(FaStar$1,{className:oe?styles$M.likedIcon:styles$M.icon}),action:$e},{label:"",icon:jsxRuntimeExports.jsx(FaPhone,{className:styles$M.icon}),action:Ne},{label:"",icon:jsxRuntimeExports.jsx(FaShare$1,{className:styles$M.icon}),action:Qe}];return jsxRuntimeExports.jsxs("div",{className:styles$M.layout,children:[r&&jsxRuntimeExports.jsxs("div",{className:styles$M.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$M.breadcrumbBack,onClick:()=>I("/artworks"),children:""})," ","> ",We]}),jsxRuntimeExports.jsxs("div",{className:styles$M.card,children:[jsxRuntimeExports.jsx("img",{src:Xe,alt:We,className:styles$M.mainImage}),jsxRuntimeExports.jsxs("section",{className:styles$M.titleSection,children:[jsxRuntimeExports.jsx("h1",{className:styles$M.artworkTitle,children:We}),jsxRuntimeExports.jsx("p",{className:styles$M.artworkMaterial,children:ut||"Mixed Media"})]}),r&&jsxRuntimeExports.jsx("div",{className:styles$M.btnLayout,children:Et.map(({label:Rt,icon:_t,action:Ut})=>jsxRuntimeExports.jsxs("button",{className:styles$M.actionButton,onClick:Ut,children:[_t,Rt]},Rt))}),jsxRuntimeExports.jsx("hr",{className:styles$M.divider}),jsxRuntimeExports.jsxs("div",{className:styles$M.artistSection,children:[jsxRuntimeExports.jsx("img",{src:gt,alt:et,className:styles$M.artistImage}),jsxRuntimeExports.jsx("span",{className:styles$M.artistName,children:et})]}),jsxRuntimeExports.jsx("div",{className:styles$M.infoList,children:vt.map(({label:Rt,content:_t})=>{const Ut=!_t||typeof _t=="string"&&_t.trim()===" ";return jsxRuntimeExports.jsxs("div",{className:styles$M.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$M.infoLabel,children:Rt}),jsxRuntimeExports.jsx("div",{className:`${styles$M.infoContent} ${Ut?styles$M.emptyInfo:""}`,children:_t})]},Rt)})}),jsxRuntimeExports.jsxs("div",{className:styles$M.descriptionSection,children:[Ge?jsxRuntimeExports.jsx("div",{className:styles$M.descriptionParagraph,dangerouslySetInnerHTML:{__html:Ge}}):jsxRuntimeExports.jsx("p",{className:styles$M.emptyInfo,children:"  ."}),ct&&jsxRuntimeExports.jsxs("div",{className:styles$M.docentBox,children:[jsxRuntimeExports.jsx("span",{className:styles$M.docentLabel,children:"AI Docent"}),jsxRuntimeExports.jsx("p",{children:ct}),pt&&jsxRuntimeExports.jsx("div",{className:styles$M.docentVideoWrapper,children:jsxRuntimeExports.jsx("video",{className:styles$M.docentVideo,controls:!0,preload:"metadata",src:pt,children:"    ."})})]})]}),y==null?void 0:y.info]}),it&&it.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$M.exhibitionSection,children:[jsxRuntimeExports.jsx("span",{className:styles$M.sectionTitle,children:" "}),jsxRuntimeExports.jsx("div",{className:styles$M.exhibitionList,children:it.map(Rt=>{const _t=Rt.exhibition_status||"ended",Ut=b[_t]||b.ended;return jsxRuntimeExports.jsxs("div",{className:styles$M.exhibitionItem,onClick:()=>I(q?`/console/exhibitions/${Rt.id}`:`/exhibitions/${Rt.id}`),children:[jsxRuntimeExports.jsxs("div",{className:styles$M.exhibitionInfo,children:[jsxRuntimeExports.jsx("span",{className:`${styles$M.statusBadge} ${Ut.className}`,children:Ut.label}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("span",{className:styles$M.exhibitionTitle,children:Rt.exhibition_title}),Rt.start_date&&Rt.end_date&&jsxRuntimeExports.jsxs("span",{className:styles$M.exhibitionDate,children:[Rt.start_date," ~ ",Rt.end_date]})]})]}),jsxRuntimeExports.jsx(FaChevronRight,{className:styles$M.arrowIcon})]},Rt.id)})})]}),r&&jsxRuntimeExports.jsxs("div",{className:styles$M.recommendSection,children:[jsxRuntimeExports.jsx("h3",{className:styles$M.sectionTitle,children:"  "}),ht.length>0?jsxRuntimeExports.jsx("div",{className:styles$M.relatedGrid,children:ht.map(Rt=>jsxRuntimeExports.jsxs("div",{className:styles$M.relatedCard,onClick:()=>{I(`/artworks/${Rt.id}`),window.scrollTo(0,0)},children:[jsxRuntimeExports.jsx("img",{src:Rt.art_image,alt:Rt.art_title,className:styles$M.relatedImage}),jsxRuntimeExports.jsx("div",{className:styles$M.relatedInfo,children:jsxRuntimeExports.jsx("h4",{className:styles$M.relatedTitle,children:Rt.art_title})})]},Rt.id))}):jsxRuntimeExports.jsx("div",{className:styles$M.card,children:jsxRuntimeExports.jsx("p",{className:styles$M.emptyContent,children:"   ."})}),jsxRuntimeExports.jsx("button",{className:styles$M.backButton,onClick:()=>I("/artworks"),children:""})]}),xe&&jsxRuntimeExports.jsx(LikePopup,{onClose:()=>_e(!1),type:"artworks"}),Ue&&jsxRuntimeExports.jsx(PurchaseModal,{phoneNumber:yt,onClose:()=>Le(!1)})]})}const layout$d="_layout_ezrs8_1",findForm="_findForm_ezrs8_15",formTitle$1="_formTitle_ezrs8_33",submitButton$2="_submitButton_ezrs8_43",styles$I={layout:layout$d,findForm,formTitle:formTitle$1,submitButton:submitButton$2};function Find(){const{data:r,handleChange:x}=useInput({userName:"",userEmail:""}),{data:y,handleChange:b}=useInput({userId:"",userEmail:""}),B=I=>{I.preventDefault(),alert("  ")},R=I=>{I.preventDefault(),alert("  ")};return jsxRuntimeExports.jsxs("div",{className:styles$I.layout,children:[jsxRuntimeExports.jsxs("form",{className:styles$I.findForm,onSubmit:B,children:[jsxRuntimeExports.jsx("h2",{className:styles$I.formTitle,children:" "}),jsxRuntimeExports.jsx(InputText,{name:"userName",placeholder:"",onChange:x,value:r.userName}),jsxRuntimeExports.jsx(InputText,{name:"userEmail",placeholder:"@     ",onChange:x,value:r.userEmail}),jsxRuntimeExports.jsx("button",{className:styles$I.submitButton,children:" "})]}),jsxRuntimeExports.jsxs("form",{className:styles$I.findForm,onSubmit:R,children:[jsxRuntimeExports.jsx("h2",{className:styles$I.formTitle,children:" "}),jsxRuntimeExports.jsx(InputText,{name:"userId",placeholder:"",onChange:b,value:y.userId}),jsxRuntimeExports.jsx(InputText,{name:"userEmail",placeholder:"@     ",onChange:b,value:y.userEmail}),jsxRuntimeExports.jsx("button",{className:styles$I.submitButton,children:"  "})]})]})}const announcementLayout="_announcementLayout_1g1sg_1",heading="_heading_1g1sg_19",tabWrapper$1="_tabWrapper_1g1sg_31",tab$1="_tab_1g1sg_31",active$1="_active_1g1sg_71",listItem="_listItem_1g1sg_99",buttonField$1="_buttonField_1g1sg_107",contentContainer$6="_contentContainer_1g1sg_129",styles$H={announcementLayout,heading,tabWrapper:tabWrapper$1,tab:tab$1,active:active$1,listItem,buttonField:buttonField$1,contentContainer:contentContainer$6},announcementData=[{id:0,title:"      .",content:`  ,     ?
         .

     ,  ,                 .

 :        
  : []  [   ]  
 :      

       ,  .
     1:1  .`},{id:1,title:"  ",content:"  ."}],FAQData=[{id:0,title:"   ",content:"        , SNS,        .     ,          ."}],categoryList=["","FAQ"];function Announcement(){const[r,x]=reactExports$1.useState(""),[y,b]=reactExports$1.useState({}),B=r===""?announcementData:FAQData,R=O=>{if(y[O]){b(q=>({...q,[O]:!1}));return}b(q=>({...q,[O]:!0}))},I=O=>{x(O),b({})};return jsxRuntimeExports.jsxs("div",{className:styles$H.announcementLayout,children:[jsxRuntimeExports.jsx("h1",{className:styles$H.heading,children:"&FAQ"}),jsxRuntimeExports.jsx("div",{className:styles$H.tabWrapper,children:categoryList.map(O=>jsxRuntimeExports.jsx("button",{className:`${styles$H.tab} ${r===O?styles$H.active:""}`,onClick:()=>I(O),children:O},O))}),jsxRuntimeExports.jsx("ul",{children:B.map((O,G)=>jsxRuntimeExports.jsxs("li",{className:styles$H.listItem,onClick:()=>{R(G)},children:[jsxRuntimeExports.jsxs("div",{className:styles$H.buttonField,children:[O.title,jsxRuntimeExports.jsx("span",{children:y[G]?jsxRuntimeExports.jsx(FaChevronUp,{}):jsxRuntimeExports.jsx(FaChevronDown,{})})]}),y[G]&&jsxRuntimeExports.jsx("div",{className:styles$H.contentContainer,children:O.content})]},O.id))})]})}const termsLayout="_termsLayout_1gppt_1",mainTitle="_mainTitle_1gppt_19",tabWrapper="_tabWrapper_1gppt_43",tab="_tab_1gppt_43",active="_active_1gppt_83",contentContainer$5="_contentContainer_1gppt_99",styles$G={termsLayout,mainTitle,tabWrapper,tab,active,contentContainer:contentContainer$5},termsPolicyData={content:`  

1 

1 ()   (  )          , ,  (  )        ,      .

2 ( )        .
1.         .
2.      ,      .
3.           .
4.          , , , (PDA),   .
5.    , , ,  ,        ( , ,  ),     .
6.                  (   , ,  ,   ) .
7.             .
8.                .
9 .                .

        1          ,        .

3 (  )            . ,           .
1.  :  , : 
2.   :     76  311
3. ,  : oddlemon@oddlemon.co.kr
4.   : 477-88-01191
5.   : 2019--1107

4 (   )               .        , , ,  ,        , ,            .
       ,       7         . ,           30      28 1   .              .
              .  2                         ,              .              .
               .
      ,    ,   ,      ,            .

5 (   )      (  .)           ,      .
       . ,              .
1.         
2.            
3.            
4.         
5.      
6.       
7.          
                .
1.    ,     ,    
2.      ,    
3.           

6 (  )              ,   ,  ,     ,       .

7 ()              (  )   .
             .
    4 2  . ,          2   .
1.        
2.       
3.                 

2  

8 (   )            ,           . ,          .
                .
                   .
           .

3   

9 ( )    ,            .
        ( )       .           3     .
                  , ,                    .

10 ( )               .
1.         
2.         (ID, , ,   )   ,    
3.            ,       
4.  /        ,   ID    
5.        
6.      ,      () ,                 
7.   , , , , ,        
8.          ,        
9.     ,        
10.       ,      
11.       ( )                 
12.        ,    ,  ,     ,   ,       
13.           
          ,       .               .
             .         
          ,    .
1.  , , ,     
2.  
3.      
4. , ,        

4    

11 ( )   5            . ,            .
                  .
     , ,          .

12 ( )         .           .
 1              .               . ,            .
1.  ,    ,       
2. ,   ,  ,            
3. , ,             
           .             .
           .               .
                .                ,      .
              .                  .

13 (   )               ,       . ,                     .
      ,  ,                   .    30            28 1   .
 2           25 3  .
 2      30       3           .

14 ( )                      .  ,         .

15 (  )             .    ,         , 3           .
   3 1              . , 10 1                   .
                 (, , ,  )     .
                .        ,              .

16 ( )           .      , (LMS/SMS), (Push Notification)       .        ,         .
                .
 2                 ,    ,         . ,                 .

17 (  )            .
                       (, , , , , 2    .  )        .
                      , ,      (   .)         .
1.    ,       (, , , , , , 2       ,    )
2.            , ,    
          (,   )        ,        .
         10 1                 .
                      .          .
       ,     .

18 (  ,   )                 .
          . , 13 2                   .

19 (   )   10        ,             ,  (, ,  )          .        20 1     .
1.    :      
2.   :       
3.   :       
4.   :       
 1           .
                .
1.        
2.        
3.           
 3   ,               . ,  3       .

20 (   )   19 1        10 1       .
  19 1            . ,         .
1.   
2.     
3.     

21 (    )              14       ,        .
  1    15     ,      . ,           .
         .

5 ,     

22 ()                .                 .
                  .

23 (  )                 7          .
          1     . ,                  .
1.      
2.        
3.             
  2                  ,     (  ,   )               .        2          .
  1  2                    3 ,          30     .
            .                ,     .
 1 4             3   .                   213      .
       ,               ,                 . ,                           .
         ,   ,      .                 .

24 ( )        . ,                     .
        ,     ,       .
         (,   )     .
                 .
             ,      .        3  .

25 (  )               .            .
        ,                            .
 1  2       .
      1      (  )             .    30  ,            .

6    

26 ()                . ,        
                                  .

27 ( )                   .
    , , ,            . ,        .
             . ,        .
        ,             .
               ,       .
             .         .
              .
    , , ,        . ,        .
     ,         3     . ,        .
    ,    , (OS)  ,  ,                  . ,        .
             . ,        .
          . ,        .

28 (  )        , ,    , (LMS/SMS)    .
       7        1    .

29 (  )       .                .

30 (   )

               .         .
               . ,             28 1  .
      3           ,     .
`},privacyPolicyData={content:`[   ]

 1  : 
 2  :  
 3  :  
 4  : 

1  

1 ()
    (  )      ( ' )     ,   ,          .

2 ( )
        .
1.  :  (      )  ""      .
2.  :        
3.  :   , ,     , , ,  ,     
4.  :            , ,       .
5.  :      
 :         

3 (   )
            ,     7              .
1.              .
  2.          ,       .                         .
3.          ,     ,   7              .
4.               ,               .

4 (  )
     ,    ,        .

2  

5 ( )
            3   . ,         ,                .

6 ( )
1.           .
   ID   
    ,   3  
  , 3      
       
     
    

2.              3                    .
3.       ,         .
4.   ,        ,     .

3  

7 ( )
1.     , ,       .     ,   .
2.         3           .             .
3.  14        .

8 (   )
       ,  ,            (  )            ,       .
1. ,    3      
2.      , ,     
3.      
4.  , 3 ,           
5.       
6.   ,   
7.       
8.     

9 ( )
1.           ,          .         .
2.        ,       ,    .    ,                  ,             .
3.   ,         .

10 ( )
          1 24  .         .

11 (  )
  ,  , S/W  ,          ,        ,          .

12 (  )
         .
1.   
2.      
3.        
4.       
5.    
6.     

4  

13 ( )
  ,     ,   ,     .

14 ( )
1.                        .
2.               3                 ,              .

15 ( )
1.  ,                 .
2.    , , ,         .
3.          .
4.                .
5.     , ,  ,       .
6.      3               .

16( )
               .

  
()   2024 9 28 .
`};function TermsPolicy(){const r=["",""],[x,y]=reactExports$1.useState(""),b=x===""?termsPolicyData:privacyPolicyData,B=R=>{y(R)};return jsxRuntimeExports.jsxs("section",{className:styles$G.termsLayout,children:[jsxRuntimeExports.jsx("h1",{className:styles$G.mainTitle,children:""}),jsxRuntimeExports.jsx("div",{className:styles$G.tabWrapper,children:r.map(R=>jsxRuntimeExports.jsx("button",{className:`${styles$G.tab} ${x===R?styles$G.active:""}`,onClick:()=>B(R),children:R},R))}),jsxRuntimeExports.jsx("div",{className:styles$G.contentContainer,children:b.content})]})}const layout$c="_layout_3y7o4_1",title$a="_title_3y7o4_19",posterImage$1="_posterImage_3y7o4_31",completionIcon$1="_completionIcon_3y7o4_43",completionTitle$1="_completionTitle_3y7o4_67",reservationSummary$1="_reservationSummary_3y7o4_81",summaryRow$1="_summaryRow_3y7o4_95",summaryLabel$1="_summaryLabel_3y7o4_115",summaryValue$1="_summaryValue_3y7o4_125",buttonField="_buttonField_3y7o4_155",exhibitionLink="_exhibitionLink_3y7o4_165",mypageLink="_mypageLink_3y7o4_167",styles$F={layout:layout$c,title:title$a,posterImage:posterImage$1,completionIcon:completionIcon$1,completionTitle:completionTitle$1,reservationSummary:reservationSummary$1,summaryRow:summaryRow$1,summaryLabel:summaryLabel$1,summaryValue:summaryValue$1,buttonField,exhibitionLink,mypageLink};function ReservationConfirm(){const{reservationId:r}=useParams(),[x,y]=reactExports$1.useState([]),{exhibition_location:b,exhibition_title:B,exhibition_poster:R,exhibition_id:I,reservation_total_price:O,reservation_number_of_tickets:G,reservation_datetime:q}=x,ne=[{label:"",value:x?B:""},{label:"",value:x?b:""},{label:"",value:(oe=>{if(oe)return oe.split(" ")[0]})(q)},{label:"",value:`${G}`},{label:"",value:`${O}`}];return reactExports$1.useEffect(()=>{(async()=>{try{const pe=await userInstance.get("/api/users/me/exhibitions");y(pe.data.find(xe=>xe.id===r))}catch(pe){console.error(pe)}})()},[]),jsxRuntimeExports.jsxs("div",{className:styles$F.layout,children:[jsxRuntimeExports.jsx("h1",{className:styles$F.title,children:"  "}),jsxRuntimeExports.jsx("img",{className:styles$F.posterImage,src:R,alt:"  "}),jsxRuntimeExports.jsx("div",{className:styles$F.completionIcon,children:jsxRuntimeExports.jsx(FaCheck,{})}),jsxRuntimeExports.jsx("div",{className:styles$F.completionTitle,children:"   "}),jsxRuntimeExports.jsx("div",{className:styles$F.reservationSummary,children:ne.map(oe=>jsxRuntimeExports.jsxs("div",{className:styles$F.summaryRow,children:[jsxRuntimeExports.jsx("span",{className:styles$F.summaryLabel,children:oe.label}),jsxRuntimeExports.jsx("span",{className:styles$F.summaryValue,children:oe.value})]},oe.label))}),jsxRuntimeExports.jsxs("div",{className:styles$F.buttonField,children:[jsxRuntimeExports.jsx(Link$1,{className:styles$F.mypageLink,to:"/mypage",children:""}),jsxRuntimeExports.jsx(Link$1,{className:styles$F.exhibitionLink,to:`/exhibitions/${I}`,children:" "})]})]})}const container$6="_container_xs957_1",breadcrumb$3="_breadcrumb_xs957_37",breadcrumbBack$3="_breadcrumbBack_xs957_51",loading$2="_loading_xs957_63",error$1="_error_xs957_65",empty$1="_empty_xs957_67",exhibitionInfo="_exhibitionInfo_xs957_93",calendarContainer="_calendarContainer_xs957_175",calendarHeader="_calendarHeader_xs957_191",legend="_legend_xs957_207",legendItem="_legendItem_xs957_229",legendDot="_legendDot_xs957_241",dotRed="_dotRed_xs957_253",dotBlue="_dotBlue_xs957_261",monthNavigator="_monthNavigator_xs957_269",currentMonth="_currentMonth_xs957_281",monthButton="_monthButton_xs957_297",weekdaysRow="_weekdaysRow_xs957_339",weekdayCell="_weekdayCell_xs957_355",weekend="_weekend_xs957_369",closedDot="_closedDot_xs957_377",calendarGrid="_calendarGrid_xs957_393",dateCell$1="_dateCell_xs957_405",todayDot="_todayDot_xs957_445",disabled="_disabled_xs957_459",selected$1="_selected_xs957_459",today="_today_xs957_445",visitorCount="_visitorCount_xs957_507",countLabel="_countLabel_xs957_529",countControls="_countControls_xs957_541",countButton="_countButton_xs957_553",countDisplay="_countDisplay_xs957_595",reservationInfo="_reservationInfo_xs957_613",infoRow$3="_infoRow_xs957_627",infoLabel$3="_infoLabel_xs957_655",infoValue="_infoValue_xs957_665",reservationForm="_reservationForm_xs957_679",formTitle="_formTitle_xs957_687",formGroup$1="_formGroup_xs957_701",formLabel="_formLabel_xs957_709",formInput="_formInput_xs957_725",reservationSummary="_reservationSummary_xs957_767",summaryTitle="_summaryTitle_xs957_785",summaryTitle2="_summaryTitle2_xs957_803",summaryImage="_summaryImage_xs957_819",summaryRow="_summaryRow_xs957_833",summaryLabel="_summaryLabel_xs957_855",summaryValue="_summaryValue_xs957_871",completionScreen="_completionScreen_xs957_889",completionIcon="_completionIcon_xs957_923",completionTitle="_completionTitle_xs957_949",completionMessage="_completionMessage_xs957_963",buttonsContainer="_buttonsContainer_xs957_977",actionButton$2="_actionButton_xs957_993",backButton$6="_backButton_xs957_995",styles$E={container:container$6,breadcrumb:breadcrumb$3,breadcrumbBack:breadcrumbBack$3,loading:loading$2,error:error$1,empty:empty$1,exhibitionInfo,calendarContainer,calendarHeader,legend,legendItem,legendDot,dotRed,dotBlue,monthNavigator,currentMonth,monthButton,weekdaysRow,weekdayCell,weekend,closedDot,calendarGrid,dateCell:dateCell$1,todayDot,disabled,selected:selected$1,today,visitorCount,countLabel,countControls,countButton,countDisplay,reservationInfo,infoRow:infoRow$3,infoLabel:infoLabel$3,infoValue,reservationForm,formTitle,formGroup:formGroup$1,formLabel,formInput,reservationSummary,summaryTitle,summaryTitle2,summaryImage,summaryRow,summaryLabel,summaryValue,completionScreen,completionIcon,completionTitle,completionMessage,buttonsContainer,actionButton:actionButton$2,backButton:backButton$6};function Reservation(){const{exhibitionId:r}=useParams(),x=useNavigate(),[y,b]=reactExports$1.useState(null),[B,R]=reactExports$1.useState(!0),[I,O]=reactExports$1.useState(null),[G,q]=reactExports$1.useState(1),[ee,ne]=reactExports$1.useState(""),[oe,pe]=reactExports$1.useState(1),[xe,_e]=reactExports$1.useState({name:"",phone:"",email:"",date:"",gallery:"",price:0,state:""}),Ue=new Date,[Le,He]=reactExports$1.useState(Ue.getMonth()),[$e,Ne]=reactExports$1.useState(Ue.getFullYear());reactExports$1.useEffect(()=>{r&&(async()=>{try{const Ye=await userInstance.get(`/api/exhibitions/${r}`);b(Ye.data)}catch{O("     .")}finally{R(!1)}})()},[r]),reactExports$1.useEffect(()=>{y&&_e(it=>({...it,gallery:y.exhibition_location,price:y.exhibition_price}))},[y]),reactExports$1.useEffect(()=>{(async()=>{try{const et=(await userInstance.get("/api/users/me")).data;console.log(et),_e(gt=>({...gt,name:et.user_name||"",phone:et.user_phone||"",email:et.user_email||""}))}catch(Ye){console.error("   :",Ye)}})()},[]),reactExports$1.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[G]);const Qe=it=>{if(!it)return[];const Ye={:0,:1,:2,:3,:4,:5,:6};return it.split(",").map(et=>Ye[et.trim()]).filter(et=>et!==void 0)},We=()=>{const it=new Date($e,Le+1,0).getDate(),Ye=new Date($e,Le,1).getDay(),et=[],gt=y!=null&&y.exhibition_start_date?new Date(y.exhibition_start_date):null,st=y!=null&&y.exhibition_end_date?new Date(y.exhibition_end_date):null,ht=y?Qe(y.exhibition_closed_day):[];gt&&gt.setHours(0,0,0,0),st&&st.setHours(0,0,0,0);const vt=new Date;return vt.setHours(0,0,0,0),Array.from({length:Ye}).forEach(()=>{et.push({day:"",disabled:!0})}),Array.from({length:it}).forEach((Et,Rt)=>{const _t=Rt+1,Ut=new Date($e,Le,_t);Ut.setHours(0,0,0,0);const an=Ut.getTime()===vt.getTime();let hn=!1,Ln=!1;Ut<vt&&(hn=!0),gt&&Ut<gt&&(hn=!0),st&&Ut>st&&(hn=!0),ht.includes(Ut.getDay())&&(hn=!0,Ln=!0),et.push({day:_t,date:Ut,disabled:hn,isToday:an,isClosedDay:Ln})}),et},Ge=()=>{He(it=>it===11?0:it+1),Le===11&&Ne(it=>it+1)},Xe=()=>{He(it=>it===0?11:it-1),Le===0&&Ne(it=>it-1)},Je=it=>{if(it.disabled)return;const Ye=`${$e}.${String(Le+1).padStart(2,"0")}.${String(it.day).padStart(2,"0")}`;ne(Ye),_e(et=>({...et,date:Ye}))},ut=it=>{const Ye=oe+it;Ye>=1&&Ye<=10&&pe(Ye)},ft=it=>{const{name:Ye,value:et}=it.target;_e(gt=>({...gt,[Ye]:et}))},ct=async()=>{if(G===1&&!ee){alert(" .");return}if(G===2&&(!xe.name||!xe.phone||!xe.email)){alert("   .");return}if(G===2)try{const it=await userInstance.post("/api/reservations",{exhibition_id:Number(r),number_of_tickets:oe,reservation_datetime:ee,visitor_name:xe.name,visitor_phone:xe.phone,visitor_email:xe.email,payment_method:"",total_price:y.exhibition_price*oe});console.log(" :",it.data)}catch(it){console.error(" :",it),alert("    .");return}q(G+1)},pt=()=>{q(G-1)},yt=()=>{x("/mypage",{state:{activeTab:"MY"}})};if(B)return jsxRuntimeExports.jsx("div",{className:styles$E.loading,children:" ..."});if(I)return jsxRuntimeExports.jsx("div",{className:styles$E.error,children:I});if(!y)return jsxRuntimeExports.jsx("div",{className:styles$E.empty,children:"    ."});const lt=["","","","","","",""],Ze=[{label:"",value:y?y.exhibition_title:""},{label:"",value:ee},{label:"",value:`${oe}`},{label:"",value:y?y.exhibition_location:""},{label:"",value:xe.name},{label:"",value:xe.phone},{label:"",value:xe.email},{label:" ",value:`${(y.exhibition_price||0).toLocaleString()} (  )`}];return jsxRuntimeExports.jsxs("div",{className:styles$E.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$E.breadcrumbBack,onClick:()=>x(`/exhibitions/${r}`),children:""})," ","> "]}),G===1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$E.exhibitionInfo,children:[jsxRuntimeExports.jsx("strong",{children:y.exhibition_title}),jsxRuntimeExports.jsx("p",{children:y.exhibition_organization})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.calendarContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.calendarHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.monthNavigator,children:[jsxRuntimeExports.jsx("button",{className:styles$E.monthButton,onClick:Xe,children:"<"}),jsxRuntimeExports.jsx("span",{className:styles$E.currentMonth,children:`${$e}.${String(Le+1).padStart(2,"0")}`}),jsxRuntimeExports.jsx("button",{className:styles$E.monthButton,onClick:Ge,children:">"})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.legend,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.legendItem,children:[jsxRuntimeExports.jsx("div",{className:`${styles$E.legendDot} ${styles$E.dotRed}`}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.legendItem,children:[jsxRuntimeExports.jsx("div",{className:`${styles$E.legendDot} ${styles$E.dotBlue}`}),jsxRuntimeExports.jsx("span",{children:""})]})]})]}),jsxRuntimeExports.jsx("div",{className:styles$E.weekdaysRow,children:lt.map((it,Ye)=>jsxRuntimeExports.jsx("div",{className:`${styles$E.weekdayCell} ${Ye===0||Ye===6?styles$E.weekend:""}`,children:it},it))}),jsxRuntimeExports.jsx("div",{className:styles$E.calendarGrid,children:We().map((it,Ye)=>{const et=it.day?`${$e}-${Le}-${it.day}`:`empty-${Ye}`;return jsxRuntimeExports.jsxs("div",{className:`${styles$E.dateCell} ${it.disabled?styles$E.disabled:""} ${it.isToday?styles$E.today:""} ${ee&&it.day&&ee===`${$e}.${String(Le+1).padStart(2,"0")}.${String(it.day).padStart(2,"0")}`?styles$E.selected:""}`,onClick:()=>Je(it),children:[jsxRuntimeExports.jsx("span",{className:styles$E.dateNumber,children:it.day}),it.day&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[it.isClosedDay&&jsxRuntimeExports.jsx("div",{className:styles$E.closedDot}),!it.isClosedDay&&it.isToday&&jsxRuntimeExports.jsx("div",{className:styles$E.todayDot})]})]},et)})})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.visitorCount,children:[jsxRuntimeExports.jsx("span",{className:styles$E.countLabel,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$E.countControls,children:[jsxRuntimeExports.jsx("button",{className:styles$E.countButton,onClick:()=>ut(-1),children:"-"}),jsxRuntimeExports.jsxs("span",{className:styles$E.countDisplay,children:[oe,""]}),jsxRuntimeExports.jsx("button",{className:styles$E.countButton,onClick:()=>ut(1),children:"+"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.reservationInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$E.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$E.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$E.infoValue,children:ee||""})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$E.infoLabel,children:""}),jsxRuntimeExports.jsxs("span",{className:styles$E.infoLabel,children:[oe,""]})]}),jsxRuntimeExports.jsxs("div",{className:styles$E.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$E.infoLabel,children:""}),jsxRuntimeExports.jsx("span",{className:styles$E.infoValue,children:y.exhibition_location})]})]})]}),G===2&&jsxRuntimeExports.jsxs("div",{className:styles$E.reservationForm,children:[jsxRuntimeExports.jsx("h3",{className:styles$E.formTitle,children:"  "}),["name","phone","email"].map(it=>jsxRuntimeExports.jsxs("div",{className:styles$E.formGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$E.formLabel,children:it==="name"?"":it==="phone"?"":""}),jsxRuntimeExports.jsx("input",{className:styles$E.formInput,type:it==="email"?"email":it==="phone"?"tel":"text",name:it,value:xe[it],onChange:ft,placeholder:it==="name"?" ":it==="phone"?"010-0000-0000":"example@email.com"})]},it)),jsxRuntimeExports.jsxs("div",{className:styles$E.reservationSummary,children:[jsxRuntimeExports.jsx("div",{className:styles$E.summaryTitle,children:"  "}),[{label:"",value:y?y.exhibition_title:" "},{label:"",value:ee},{label:"",value:`${oe}`},{label:"",value:y?y.exhibition_location:" "},{label:" ",value:`${(y.exhibition_price||0).toLocaleString()}`}].map(it=>jsxRuntimeExports.jsxs("div",{className:styles$E.summaryRow,children:[jsxRuntimeExports.jsx("span",{className:styles$E.summaryLabel,children:it.label}),jsxRuntimeExports.jsx("span",{className:styles$E.summaryValue,children:it.value})]},it.label))]})]}),G===3&&jsxRuntimeExports.jsxs("div",{className:styles$E.completionScreen,children:[jsxRuntimeExports.jsx("div",{className:styles$E.completionIcon,children:jsxRuntimeExports.jsx(FaCheck,{})}),jsxRuntimeExports.jsx("div",{className:styles$E.completionTitle,children:"   "}),jsxRuntimeExports.jsxs("div",{className:styles$E.completionMessage,children:[xe.name,"   ."]}),jsxRuntimeExports.jsxs("div",{className:styles$E.reservationSummary,children:[jsxRuntimeExports.jsx("img",{className:styles$E.summaryImage,src:y.exhibition_poster}),Ze.map(it=>jsxRuntimeExports.jsx("div",{className:styles$E.summaryRow,children:it.label===""?jsxRuntimeExports.jsx("h2",{className:styles$E.summaryTitle2,children:it.value}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:styles$E.summaryLabel,children:it.label}),jsxRuntimeExports.jsx("span",{className:styles$E.summaryValue,children:it.value})]})},it.label))]})]}),jsxRuntimeExports.jsx("div",{className:styles$E.buttonsContainer,children:G===1?jsxRuntimeExports.jsx("button",{className:styles$E.actionButton,onClick:ct,children:""}):G===2?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$E.backButton,onClick:pt,children:""}),jsxRuntimeExports.jsx("button",{className:styles$E.actionButton,onClick:ct,children:""})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$E.backButton,onClick:()=>x("/exhibitions"),children:""}),jsxRuntimeExports.jsx("button",{className:styles$E.actionButton,onClick:yt,children:" "})]})})]})}const actionContainer="_actionContainer_dau3z_1",actionButton$1="_actionButton_dau3z_17",actionButtonActive="_actionButtonActive_dau3z_57",actionButtonInactive="_actionButtonInactive_dau3z_79",styles$D={actionContainer,actionButton:actionButton$1,actionButtonActive,actionButtonInactive};function ActionBar({tabList:r,activeTab:x,onTabChange:y}){return jsxRuntimeExports.jsx("nav",{className:styles$D.actionContainer,children:r.map(b=>jsxRuntimeExports.jsx("button",{onClick:()=>y(b),className:`${styles$D.actionButton} ${x===b?styles$D.actionButtonActive:styles$D.actionButtonInactive}`,children:b},b))})}function HiChevronDown(r){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(r)}function HiTrash(r){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(r)}function HiX(r){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(r)}function useDropdown(r="",x=""){const[y,b]=reactExports$1.useState(!1),[B,R]=reactExports$1.useState(r||x),I=reactExports$1.useRef(null);return reactExports$1.useEffect(()=>{const ne=oe=>{I.current&&!I.current.contains(oe.target)&&b(!1)};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[]),{isOpen:y,selectedValue:B,dropdownRef:I,handleOptionClick:(ne,oe)=>{R(ne.name),oe(ne.id),b(!1)},toggleDropdown:()=>{b(!y)},closeDropdown:()=>{b(!1)},openDropdown:()=>{b(!0)},setSelectedValue:R}}const dropdownWrapper="_dropdownWrapper_1sd9j_3",inputContainer="_inputContainer_1sd9j_13",dropdownTrigger="_dropdownTrigger_1sd9j_37",dropdownList="_dropdownList_1sd9j_51",dropdownItem="_dropdownItem_1sd9j_83",dropdownItemActive="_dropdownItemActive_1sd9j_123",inputField="_inputField_1sd9j_163",chevron="_chevron_1sd9j_185",chevronOpen="_chevronOpen_1sd9j_199",styles$C={dropdownWrapper,inputContainer,dropdownTrigger,dropdownList,dropdownItem,dropdownItemActive,inputField,chevron,chevronOpen};function LookUp({value:r,onChange:x,placeholder:y=" ",isInput:b=!1,options:B=[],title:R=" "}){var _e;const{isOpen:I,dropdownRef:O,handleOptionClick:G,toggleDropdown:q}=useDropdown(r,y),[ee,ne]=reactExports$1.useState(r||""),oe=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{r!==ee&&ne(r||"")},[r]);const pe=((_e=B.find(Ue=>Ue.id===r))==null?void 0:_e.name)||y,xe=Ue=>{const Le=Ue.target.value;ne(Le),x(Le)};return b?jsxRuntimeExports.jsx("div",{className:styles$C.inputContainer,children:jsxRuntimeExports.jsx("input",{ref:oe,type:"text",value:ee,onChange:xe,placeholder:y,className:styles$C.inputField})}):jsxRuntimeExports.jsx("div",{className:styles$C.dropdownWrapper,children:jsxRuntimeExports.jsxs("div",{className:styles$C.inputContainer,ref:O,children:[jsxRuntimeExports.jsxs("div",{className:styles$C.dropdownTrigger,onClick:q,children:[jsxRuntimeExports.jsx("span",{className:styles$C.inputField,children:pe}),jsxRuntimeExports.jsx(HiChevronDown,{className:`${styles$C.chevron} ${I?styles$C.chevronOpen:""}`})]}),I&&jsxRuntimeExports.jsx("div",{className:styles$C.dropdownList,children:B.map(Ue=>jsxRuntimeExports.jsx("div",{className:`${styles$C.dropdownItem} ${r===Ue.id?styles$C.dropdownItemActive:""}`,onClick:()=>G(Ue,x),children:Ue.name},Ue.id))})]})})}const countText="_countText_1ceqk_3",styles$B={countText};function CountList({count:r}){return jsxRuntimeExports.jsxs("span",{className:styles$B.countText,children:[" ",r,""]})}const registerButton$1="_registerButton_1esip_3",styles$A={registerButton:registerButton$1};function RegisterButton({buttonText:r,onButtonClick:x}){return jsxRuntimeExports.jsx("button",{onClick:x,className:styles$A.registerButton,children:r})}const container$5="_container_1oiix_3",message="_message_1oiix_33",buttonText="_buttonText_1oiix_57",instruction="_instruction_1oiix_67",styles$z={container:container$5,message,buttonText,instruction};function EmptyState({message:r,buttonText:x}){return jsxRuntimeExports.jsxs("div",{className:styles$z.container,children:[jsxRuntimeExports.jsx("p",{className:styles$z.message,children:r}),jsxRuntimeExports.jsx("p",{className:styles$z.buttonText,children:x}),jsxRuntimeExports.jsx("p",{className:styles$z.instruction,children:" "}),jsxRuntimeExports.jsx("p",{className:styles$z.instruction,children:"  ."})]})}function useDebounceSearch({onSearch:r,onEmptySearch:x,onSearchValueChange:y,onClearSearch:b,minLength:B=1,delay:R=500}){const[I,O]=reactExports$1.useState(""),G=reactExports$1.useRef(null),q=ne=>{if(O(ne),y&&y(ne),G.current&&clearTimeout(G.current),!ne.trim()){x&&x();return}ne.trim().length<B||(G.current=setTimeout(()=>{r(ne)},R))},ee=()=>{q(""),b&&b()};return reactExports$1.useEffect(()=>()=>{G.current&&clearTimeout(G.current)},[]),{searchValue:I,handleSearchChange:q,clearSearch:ee}}const contentContainer$4="_contentContainer_15kk5_3",emptyStateContainer$2="_emptyStateContainer_15kk5_15",searchContainer$2="_searchContainer_15kk5_23",galleryCard$1="_galleryCard_15kk5_31",cardContent$2="_cardContent_15kk5_43",cardInfo$2="_cardInfo_15kk5_53",cardHeader$3="_cardHeader_15kk5_65",cardFooter="_cardFooter_15kk5_77",countAndButtonContainer$3="_countAndButtonContainer_15kk5_127",errorMessage$1="_errorMessage_15kk5_143",galleryImage$2="_galleryImage_15kk5_173",deleteButton$3="_deleteButton_15kk5_197",galleryAddress$1="_galleryAddress_15kk5_227",galleryTitle$2="_galleryTitle_15kk5_285",galleryClosedDay="_galleryClosedDay_15kk5_311",galleryTime="_galleryTime_15kk5_321",separator="_separator_15kk5_341",styles$y={contentContainer:contentContainer$4,emptyStateContainer:emptyStateContainer$2,searchContainer:searchContainer$2,galleryCard:galleryCard$1,cardContent:cardContent$2,cardInfo:cardInfo$2,cardHeader:cardHeader$3,cardFooter,countAndButtonContainer:countAndButtonContainer$3,errorMessage:errorMessage$1,galleryImage:galleryImage$2,deleteButton:deleteButton$3,galleryAddress:galleryAddress$1,galleryTitle:galleryTitle$2,galleryClosedDay,galleryTime,separator};function GalleryManagement({galleryList:r,onDelete:x,loadGalleries:y,isLoading:b,isSearching:B,error:R}){const I=useNavigate(),{searchValue:O,handleSearchChange:G}=useDebounceSearch({onSearch:y,onEmptySearch:()=>y(""),minLength:2,delay:500}),q=Array.isArray(r)?r:[],ee=ne=>{window.confirm("   ?")&&x(ne,"gallery")};return jsxRuntimeExports.jsxs("div",{className:styles$y.contentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$y.searchContainer,children:jsxRuntimeExports.jsx(LookUp,{value:O,onChange:G,placeholder:" ",isInput:!0})}),jsxRuntimeExports.jsxs("div",{className:styles$y.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:q.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:()=>I("/console/galleries/edit/new")})]}),b?jsxRuntimeExports.jsx("div",{className:styles$y.contentContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):R?jsxRuntimeExports.jsx("div",{className:styles$y.contentContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$y.errorMessage,children:[" : ",R]})}):q.length>0?jsxRuntimeExports.jsx("section",{className:styles$y.contentContainer,children:q.map(ne=>jsxRuntimeExports.jsxs("div",{className:styles$y.galleryCard,onClick:()=>I(`/console/galleries/${ne.id}`),children:[jsxRuntimeExports.jsxs("div",{className:styles$y.cardContent,children:[jsxRuntimeExports.jsx("img",{src:ne.image,alt:ne.name,className:styles$y.galleryImage}),jsxRuntimeExports.jsxs("div",{className:styles$y.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$y.cardHeader,children:[jsxRuntimeExports.jsx("h3",{className:styles$y.galleryTitle,children:ne.name}),jsxRuntimeExports.jsx("button",{onClick:oe=>{oe.stopPropagation(),ee(ne.id)},className:styles$y.deleteButton,children:jsxRuntimeExports.jsx(HiTrash,{size:18})})]}),jsxRuntimeExports.jsx("p",{className:styles$y.galleryAddress,children:ne.address}),jsxRuntimeExports.jsxs("p",{className:styles$y.galleryClosedDay,children:[" | ",ne.closedDay]}),jsxRuntimeExports.jsx("p",{className:styles$y.galleryTime,children:ne.time})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$y.cardFooter,children:[jsxRuntimeExports.jsxs("span",{children:["  ",ne.registered,""]}),jsxRuntimeExports.jsx("span",{className:styles$y.separator,children:"|"}),jsxRuntimeExports.jsxs("span",{children:[" ",ne.liked,""]})]})]},ne.id))}):jsxRuntimeExports.jsx("section",{className:styles$y.emptyStateContainer,children:jsxRuntimeExports.jsx(EmptyState,{message:"  .",buttonText:"+ "})})]})}const contentContainer$3="_contentContainer_1y5f5_3",cardContainer$1="_cardContainer_1y5f5_15",emptyStateContainer$1="_emptyStateContainer_1y5f5_27",searchContainer$1="_searchContainer_1y5f5_35",galleryCard="_galleryCard_1y5f5_43",cardContent$1="_cardContent_1y5f5_53",cardInfo$1="_cardInfo_1y5f5_63",cardHeader$2="_cardHeader_1y5f5_75",countAndButtonContainer$2="_countAndButtonContainer_1y5f5_127",galleryImage$1="_galleryImage_1y5f5_173",deleteButton$2="_deleteButton_1y5f5_197",galleryAddress="_galleryAddress_1y5f5_227",galleryFloor="_galleryFloor_1y5f5_235",galleryTitle$1="_galleryTitle_1y5f5_263",styles$x={contentContainer:contentContainer$3,cardContainer:cardContainer$1,emptyStateContainer:emptyStateContainer$1,searchContainer:searchContainer$1,galleryCard,cardContent:cardContent$1,cardInfo:cardInfo$1,cardHeader:cardHeader$2,countAndButtonContainer:countAndButtonContainer$2,galleryImage:galleryImage$1,deleteButton:deleteButton$2,galleryAddress,galleryFloor,galleryTitle:galleryTitle$1};function ExhibitionManagement({exhibitionList:r,selectedGallery:x,onGalleryChange:y,onDelete:b,loadExhibitions:B,isLoading:R,error:I,galleryList:O}){const G=useNavigate(),q=(xe,_e)=>{xe.stopPropagation(),window.confirm("   ?")&&b(_e,"exhibition")};reactExports$1.useEffect(()=>{O.length>0&&B(" ")},[O.length]);const ee=reactExports$1.useMemo(()=>x?r.filter(xe=>xe.gallery_id===x):r,[r,x]),ne=reactExports$1.useMemo(()=>{const xe=[],_e=new Set(r.map(Ue=>Ue.gallery_id).filter(Boolean));return O&&O.forEach(Ue=>{_e.has(Ue.id)&&xe.push({id:Ue.id,name:Ue.name,value:Ue.id})}),xe},[O,r]),oe=x,pe=()=>{if(!oe){alert("      .");return}G(`/console/exhibitions/edit/new?gallery_id=${oe}`)};return R?jsxRuntimeExports.jsx("div",{className:styles$x.contentContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):jsxRuntimeExports.jsxs("section",{className:styles$x.contentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$x.searchContainer,children:jsxRuntimeExports.jsx(LookUp,{value:x,onChange:y,options:ne})}),jsxRuntimeExports.jsxs("div",{className:styles$x.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:ee.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:pe})]}),ee.length>0?jsxRuntimeExports.jsx("section",{className:styles$x.cardContainer,children:ee.map(xe=>jsxRuntimeExports.jsx("div",{className:styles$x.galleryCard,onClick:()=>G(`/console/exhibitions/${xe.id}`),children:jsxRuntimeExports.jsxs("div",{className:styles$x.cardContent,children:[jsxRuntimeExports.jsx("img",{src:xe.image,alt:xe.title,className:styles$x.galleryImage}),jsxRuntimeExports.jsxs("div",{className:styles$x.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$x.cardHeader,children:[jsxRuntimeExports.jsx("h3",{className:styles$x.galleryTitle,children:xe.title}),jsxRuntimeExports.jsx("button",{onClick:_e=>q(_e,xe.id),className:styles$x.deleteButton,children:jsxRuntimeExports.jsx(HiTrash,{size:18})})]}),jsxRuntimeExports.jsx("p",{className:styles$x.galleryAddress,children:xe.period}),jsxRuntimeExports.jsx("p",{className:styles$x.galleryFloor,children:xe.gallery_name})]})]})},xe.id))}):jsxRuntimeExports.jsx("section",{className:styles$x.emptyStateContainer,children:jsxRuntimeExports.jsx(EmptyState,{message:"  .",buttonText:"+ "})})]})}const contentContainer$2="_contentContainer_14m9x_3",cardContainer="_cardContainer_14m9x_15",emptyStateContainer="_emptyStateContainer_14m9x_27",searchContainer="_searchContainer_14m9x_35",artworkCard$3="_artworkCard_14m9x_43",cardContent="_cardContent_14m9x_53",cardInfo="_cardInfo_14m9x_63",cardHeader$1="_cardHeader_14m9x_75",countAndButtonContainer$1="_countAndButtonContainer_14m9x_127",artworkImage$2="_artworkImage_14m9x_173",deleteButton$1="_deleteButton_14m9x_197",artworkArtist$1="_artworkArtist_14m9x_227",artworkExhibition="_artworkExhibition_14m9x_243",artworkTitle$2="_artworkTitle_14m9x_271",styles$w={contentContainer:contentContainer$2,cardContainer,emptyStateContainer,searchContainer,artworkCard:artworkCard$3,cardContent,cardInfo,cardHeader:cardHeader$1,countAndButtonContainer:countAndButtonContainer$1,artworkImage:artworkImage$2,deleteButton:deleteButton$1,artworkArtist:artworkArtist$1,artworkExhibition,artworkTitle:artworkTitle$2};function ArtworkManagement({artworkList:r,selectedExhibition:x,onExhibitionChange:y,onDelete:b,loadArtworks:B,loadExhibitions:R,isLoading:I,error:O,galleryList:G,exhibitionList:q}){const ee=useNavigate(),ne=_e=>{window.confirm("   ?")&&b(_e,"artwork")};reactExports$1.useEffect(()=>{R&&R(" ")},[]),reactExports$1.useEffect(()=>{q&&q.length>0&&B(" ")},[q.length]);const oe=()=>{ee("/console/artworks/edit/new")},pe=reactExports$1.useMemo(()=>{var Ue;if(!x)return r;const _e=(Ue=q.find(Le=>Le.id===x))==null?void 0:Ue.title;return r.filter(Le=>Le.exhibition_title===_e)},[r,x,q]),xe=reactExports$1.useMemo(()=>{const _e=[],Ue=new Set(r.map(Le=>Le.exhibition_title).filter(Le=>Le&&Le!=="  "));return q&&q.forEach(Le=>{Ue.has(Le.title)&&_e.push({id:Le.id,name:Le.title,value:Le.id})}),_e},[q,r]);return I?jsxRuntimeExports.jsx("div",{className:styles$w.contentContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):jsxRuntimeExports.jsxs("section",{className:styles$w.contentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$w.searchContainer,children:jsxRuntimeExports.jsx(LookUp,{value:x,onChange:y,options:xe,placeholder:" "})}),jsxRuntimeExports.jsxs("div",{className:styles$w.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:pe.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:"+ ",onButtonClick:oe})]}),pe.length>0?jsxRuntimeExports.jsx("section",{className:styles$w.cardContainer,children:pe.map(_e=>jsxRuntimeExports.jsx("div",{className:styles$w.artworkCard,onClick:()=>ee(`/console/artworks/${_e.id}`),children:jsxRuntimeExports.jsxs("div",{className:styles$w.cardContent,children:[jsxRuntimeExports.jsx("img",{src:_e.image,alt:_e.title,className:styles$w.artworkImage}),jsxRuntimeExports.jsxs("div",{className:styles$w.cardInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$w.cardHeader,children:[jsxRuntimeExports.jsx("h3",{className:styles$w.artworkTitle,children:_e.title}),jsxRuntimeExports.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),ne(_e.id)},className:styles$w.deleteButton,children:jsxRuntimeExports.jsx(HiTrash,{size:18})})]}),jsxRuntimeExports.jsx("p",{className:styles$w.artworkArtist,children:_e.artist}),jsxRuntimeExports.jsx("p",{className:styles$w.artworkExhibition,children:_e.exhibition_title})]})]})},_e.id))}):jsxRuntimeExports.jsx("section",{className:styles$w.emptyStateContainer,children:jsxRuntimeExports.jsx(EmptyState,{message:"  .",buttonText:"+ ",onButtonClick:oe})})]})}const overlay$3="_overlay_1vrfn_3",modal="_modal_1vrfn_15",header$7="_header_1vrfn_23",countBadge="_countBadge_1vrfn_35",label$3="_label_1vrfn_43",buttonContainer="_buttonContainer_1vrfn_51",closeButton$1="_closeButton_1vrfn_113",headerSpacer="_headerSpacer_1vrfn_121",formGroup="_formGroup_1vrfn_137",input$2="_input_1vrfn_153",textarea$3="_textarea_1vrfn_177",sendButton="_sendButton_1vrfn_205",title$9="_title_1vrfn_285",styles$v={overlay:overlay$3,modal,header:header$7,countBadge,label:label$3,buttonContainer,closeButton:closeButton$1,headerSpacer,formGroup,input:input$2,textarea:textarea$3,sendButton,title:title$9};function AlarmModal({isOpen:r,onClose:x,selectedUsersCount:y,onSendAlarm:b,isSending:B=!1}){const[R,I]=reactExports$1.useState(""),[O,G]=reactExports$1.useState(""),q=()=>{I(""),G(""),x()};if(!r)return null;const ee=async()=>{if(!R.trim()){alert(" .");return}if(!O.trim()){alert("  .");return}if(y===0){alert("  .  .");return}window.confirm("     ?  ,   .")&&(await b(R.trim(),O.trim()),I(""),G(""))};return jsxRuntimeExports.jsx("div",{className:styles$v.overlay,children:jsxRuntimeExports.jsxs("div",{className:styles$v.modal,children:[jsxRuntimeExports.jsxs("header",{className:styles$v.header,children:[jsxRuntimeExports.jsx("button",{onClick:q,className:styles$v.closeButton,children:jsxRuntimeExports.jsx(HiX,{size:24})}),jsxRuntimeExports.jsx("h2",{className:styles$v.title,children:" "}),jsxRuntimeExports.jsx("div",{className:styles$v.headerSpacer})]}),jsxRuntimeExports.jsx("div",{className:styles$v.countBadge,children:jsxRuntimeExports.jsxs("span",{children:["  :  ",y,""]})}),jsxRuntimeExports.jsxs("div",{className:styles$v.formGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$v.label,children:""}),jsxRuntimeExports.jsx("input",{type:"text",className:styles$v.input,placeholder:" ",value:R,onChange:ne=>I(ne.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:styles$v.formGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$v.label,children:" ( 80)"}),jsxRuntimeExports.jsx("textarea",{className:styles$v.textarea,placeholder:"  ",maxLength:80,value:O,onChange:ne=>G(ne.target.value)})]}),jsxRuntimeExports.jsx("div",{className:styles$v.buttonContainer,children:jsxRuntimeExports.jsx("button",{onClick:ee,className:styles$v.sendButton,disabled:B||y===0,children:B?" ...":""})})]})})}const tableCard="_tableCard_1ycyk_3",tabHeader="_tabHeader_1ycyk_19",tabList="_tabList_1ycyk_31",tabButton$2="_tabButton_1ycyk_53",tabButtonActive="_tabButtonActive_1ycyk_89",tableContainer="_tableContainer_1ycyk_113",table="_table_1ycyk_3",tableHeader="_tableHeader_1ycyk_131",tableRow="_tableRow_1ycyk_141",tableRowSelected="_tableRowSelected_1ycyk_167",tableCell="_tableCell_1ycyk_175",tableHeaderCell="_tableHeaderCell_1ycyk_191",checkboxCell="_checkboxCell_1ycyk_209",checkboxWrapper="_checkboxWrapper_1ycyk_225",checkbox$2="_checkbox_1ycyk_209",checkboxCustom="_checkboxCustom_1ycyk_253",categoryName="_categoryName_1ycyk_401",userName="_userName_1ycyk_413",dateCell="_dateCell_1ycyk_423",emptyState$2="_emptyState_1ycyk_437",emptyIcon="_emptyIcon_1ycyk_447",emptyText$1="_emptyText_1ycyk_457",emptySubtext="_emptySubtext_1ycyk_471",styles$u={tableCard,tabHeader,tabList,tabButton:tabButton$2,tabButtonActive,tableContainer,table,tableHeader,tableRow,tableRowSelected,tableCell,tableHeaderCell,checkboxCell,checkboxWrapper,checkbox:checkbox$2,checkboxCustom,categoryName,userName,dateCell,emptyState:emptyState$2,emptyIcon,emptyText:emptyText$1,emptySubtext};function Table({interestedUserList:r,selectedUserList:x,onUserSelect:y,onSelectAll:b,isAllSelected:B,activeTab:R,onTabChange:I}){const O=()=>{b(r)};return jsxRuntimeExports.jsxs("div",{className:styles$u.tableCard,children:[jsxRuntimeExports.jsx("div",{className:styles$u.tabHeader,children:jsxRuntimeExports.jsxs("div",{className:styles$u.tabList,children:[jsxRuntimeExports.jsx("button",{className:`${styles$u.tabButton} ${R==="all"?styles$u.tabButtonActive:""}`,onClick:()=>I("all"),children:""}),jsxRuntimeExports.jsx("button",{className:`${styles$u.tabButton} ${R==="gallery"?styles$u.tabButtonActive:""}`,onClick:()=>I("gallery"),children:""}),jsxRuntimeExports.jsx("button",{className:`${styles$u.tabButton} ${R==="exhibition"?styles$u.tabButtonActive:""}`,onClick:()=>I("exhibition"),children:""}),jsxRuntimeExports.jsx("button",{className:`${styles$u.tabButton} ${R==="art"?styles$u.tabButtonActive:""}`,onClick:()=>I("art"),children:""})]})}),r.length>0?jsxRuntimeExports.jsx("div",{className:styles$u.tableContainer,children:jsxRuntimeExports.jsxs("table",{className:styles$u.table,children:[jsxRuntimeExports.jsx("thead",{className:styles$u.tableHeader,children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:`${styles$u.tableHeaderCell} ${styles$u.checkboxCell}`,children:jsxRuntimeExports.jsxs("label",{className:styles$u.checkboxWrapper,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:styles$u.checkbox,checked:B(r),onChange:O}),jsxRuntimeExports.jsx("span",{className:styles$u.checkboxCustom})]})}),jsxRuntimeExports.jsx("th",{className:styles$u.tableHeaderCell,children:""}),jsxRuntimeExports.jsx("th",{className:styles$u.tableHeaderCell,children:""}),jsxRuntimeExports.jsx("th",{className:styles$u.tableHeaderCell,children:""})]})}),jsxRuntimeExports.jsx("tbody",{children:r.map(G=>jsxRuntimeExports.jsxs("tr",{className:`${styles$u.tableRow} ${x.includes(G.id)?styles$u.tableRowSelected:""}`,children:[jsxRuntimeExports.jsx("td",{className:`${styles$u.tableCell} ${styles$u.checkboxCell}`,children:jsxRuntimeExports.jsxs("label",{className:styles$u.checkboxWrapper,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:styles$u.checkbox,checked:x.includes(G.id),onChange:()=>y(G.id)}),jsxRuntimeExports.jsx("span",{className:styles$u.checkboxCustom})]})}),jsxRuntimeExports.jsx("td",{className:styles$u.tableCell,children:jsxRuntimeExports.jsx("span",{className:styles$u.categoryName,children:G.category})}),jsxRuntimeExports.jsx("td",{className:styles$u.tableCell,children:jsxRuntimeExports.jsx("span",{className:styles$u.userName,children:G.name})}),jsxRuntimeExports.jsx("td",{className:`${styles$u.tableCell} ${styles$u.dateCell}`,children:G.date})]},`${G.type}-${G.id}`))})]})}):jsxRuntimeExports.jsxs("div",{className:styles$u.emptyState,children:[jsxRuntimeExports.jsx("div",{className:styles$u.emptyIcon,children:""}),jsxRuntimeExports.jsx("p",{className:styles$u.emptyText,children:" "}),jsxRuntimeExports.jsxs("p",{className:styles$u.emptySubtext,children:[R==="all"?"":R==="gallery"?"":R==="exhibition"?"":"","   "]})]})]})}function useUserSelection(){const[r,x]=reactExports$1.useState([]);return{selectedUserList:r,handleUserSelect:I=>{x(O=>O.includes(I)?O.filter(G=>G!==I):[...O,I])},handleSelectAll:I=>{if(I.length>0&&I.every(G=>r.includes(G.id))){const G=r.filter(q=>!I.some(ee=>ee.id===q));x(G)}else{const q=I.filter(ee=>!r.includes(ee.id)).map(ee=>ee.id);x(ee=>[...ee,...q])}},clearSelection:()=>{x([])},isAllSelected:I=>I.length>0&&I.every(O=>r.includes(O.id))}}function useInterestedUser({galleryList:r=[],exhibitionList:x=[],artworkList:y=[]}={}){const{user:b}=useUser(),[B,R]=reactExports$1.useState([]),[I,O]=reactExports$1.useState(!1),[G,q]=reactExports$1.useState(!1),[ee,ne]=reactExports$1.useState(null),[oe,pe]=reactExports$1.useState("all"),xe=r.map(Je=>Number(Je.id)),_e=x.map(Je=>Number(Je.id)),Ue=y.map(Je=>Number(Je.id)),Le=(Je,ut)=>Je.filter(ct=>{var pt,yt,lt;if(ut==="gallery"){const Ze=Number((pt=ct.gallery)==null?void 0:pt.id);return Ze&&xe.includes(Ze)}else if(ut==="exhibition"){const Ze=Number((yt=ct.exhibition)==null?void 0:yt.id);return Ze&&_e.includes(Ze)}else if(ut==="art"){const Ze=Number((lt=ct.art)==null?void 0:lt.id);return Ze&&Ue.includes(Ze)}return!0}),He=async(Je="gallery",ut="")=>{var ft,ct;try{O(!0);const pt=localStorage.getItem("ACCESS_TOKEN"),yt=new URLSearchParams;yt.append("liked_type",Je),ut&&yt.append("search",ut);const lt=await userInstance.get(`/api/users/console/likes?${yt.toString()}`,{headers:{Authorization:`Bearer ${pt}`}}),it=(Array.isArray(lt.data)?Le(lt.data,Je):[]).map(Ye=>{var et,gt,st,ht,vt,Et,Rt,_t,Ut;return{id:Ye.id,userId:Ye.user_id||((et=Ye.user)==null?void 0:et.id),name:((gt=Ye.user)==null?void 0:gt.user_name)||"  ",category:((st=Ye.gallery)==null?void 0:st.gallery_name)||((ht=Ye.exhibition)==null?void 0:ht.exhibition_title)||((vt=Ye.art)==null?void 0:vt.art_title)||" ",date:Ye.create_dtm?new Date(Ye.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Et=Ye.user)==null?void 0:Et.user_name)||"  ",galleryName:((Rt=Ye.gallery)==null?void 0:Rt.gallery_name)||"  ",exhibitionName:((_t=Ye.exhibition)==null?void 0:_t.exhibition_title)||"  ",artworkName:((Ut=Ye.art)==null?void 0:Ut.art_title)||"  ",type:Je}});R(it)}catch(pt){ne(pt.message),console.error("   :",pt),console.error(" :",(ft=pt.response)==null?void 0:ft.data),console.error(" :",(ct=pt.response)==null?void 0:ct.status),R([])}finally{O(!1)}},$e=[...B].sort((Je,ut)=>{const ft=new Date(Je.date.replace(/\./g,"-"));return new Date(ut.date.replace(/\./g,"-"))-ft}),Ne=async(Je,ut="")=>{if(pe(Je),ut&&ut.length>=2)if(Je==="all")try{O(!0);const ft=localStorage.getItem("ACCESS_TOKEN"),ct=new URLSearchParams;ct.append("liked_type","gallery"),ct.append("search",ut);const pt=new URLSearchParams;pt.append("liked_type","exhibition"),pt.append("search",ut);const yt=new URLSearchParams;yt.append("liked_type","art"),yt.append("search",ut);const[lt,Ze,it]=await Promise.all([userInstance.get(`/api/users/console/likes?${ct.toString()}`,{headers:{Authorization:`Bearer ${ft}`}}),userInstance.get(`/api/users/console/likes?${pt.toString()}`,{headers:{Authorization:`Bearer ${ft}`}}),userInstance.get(`/api/users/console/likes?${yt.toString()}`,{headers:{Authorization:`Bearer ${ft}`}})]),Ye=Le(lt.data||[],"gallery"),et=Le(Ze.data||[],"exhibition"),gt=Le(it.data||[],"art"),st=[...Ye.map(ht=>{var vt,Et,Rt,_t,Ut;return{id:ht.id,userId:ht.user_id||((vt=ht.user)==null?void 0:vt.id),name:((Et=ht.user)==null?void 0:Et.user_name)||"  ",category:((Rt=ht.gallery)==null?void 0:Rt.gallery_name)||" ",date:ht.create_dtm?new Date(ht.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((_t=ht.user)==null?void 0:_t.user_name)||"  ",galleryName:((Ut=ht.gallery)==null?void 0:Ut.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}),...et.map(ht=>{var vt,Et,Rt,_t,Ut;return{id:ht.id,userId:ht.user_id||((vt=ht.user)==null?void 0:vt.id),name:((Et=ht.user)==null?void 0:Et.user_name)||"  ",category:((Rt=ht.exhibition)==null?void 0:Rt.exhibition_title)||" ",date:ht.create_dtm?new Date(ht.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((_t=ht.user)==null?void 0:_t.user_name)||"  ",galleryName:"  ",exhibitionName:((Ut=ht.exhibition)==null?void 0:Ut.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}),...gt.map(ht=>{var vt,Et,Rt,_t,Ut;return{id:ht.id,userId:ht.user_id||((vt=ht.user)==null?void 0:vt.id),name:((Et=ht.user)==null?void 0:Et.user_name)||"  ",category:((Rt=ht.art)==null?void 0:Rt.art_title)||" ",date:ht.create_dtm?new Date(ht.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((_t=ht.user)==null?void 0:_t.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((Ut=ht.art)==null?void 0:Ut.art_title)||"  ",type:"art"}})];R(st)}catch(ft){ne(ft.message),console.error("+ :",ft),R([])}finally{O(!1)}else await He(Je,ut);else if(Je==="all")try{O(!0);const ft=localStorage.getItem("ACCESS_TOKEN"),[ct,pt,yt]=await Promise.all([userInstance.get("/api/users/console/likes?liked_type=gallery",{headers:{Authorization:`Bearer ${ft}`}}),userInstance.get("/api/users/console/likes?liked_type=exhibition",{headers:{Authorization:`Bearer ${ft}`}}),userInstance.get("/api/users/console/likes?liked_type=art",{headers:{Authorization:`Bearer ${ft}`}})]),lt=Le(ct.data||[],"gallery"),Ze=Le(pt.data||[],"exhibition"),it=Le(yt.data||[],"art"),Ye=[...lt.map(et=>{var gt,st,ht,vt,Et;return{id:et.id,userId:et.user_id||((gt=et.user)==null?void 0:gt.id),name:((st=et.user)==null?void 0:st.user_name)||"  ",category:((ht=et.gallery)==null?void 0:ht.gallery_name)||" ",date:et.create_dtm?new Date(et.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((vt=et.user)==null?void 0:vt.user_name)||"  ",galleryName:((Et=et.gallery)==null?void 0:Et.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}),...Ze.map(et=>{var gt,st,ht,vt,Et;return{id:et.id,userId:et.user_id||((gt=et.user)==null?void 0:gt.id),name:((st=et.user)==null?void 0:st.user_name)||"  ",category:((ht=et.exhibition)==null?void 0:ht.exhibition_title)||" ",date:et.create_dtm?new Date(et.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((vt=et.user)==null?void 0:vt.user_name)||"  ",galleryName:"  ",exhibitionName:((Et=et.exhibition)==null?void 0:Et.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}),...it.map(et=>{var gt,st,ht,vt,Et;return{id:et.id,userId:et.user_id||((gt=et.user)==null?void 0:gt.id),name:((st=et.user)==null?void 0:st.user_name)||"  ",category:((ht=et.art)==null?void 0:ht.art_title)||" ",date:et.create_dtm?new Date(et.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((vt=et.user)==null?void 0:vt.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((Et=et.art)==null?void 0:Et.art_title)||"  ",type:"art"}})];R(Ye)}catch(ft){ne(ft.message),console.error("    :",ft),R([])}finally{O(!1)}else await He(Je)},Qe=async Je=>{if(q(!0),oe==="all")try{O(!0);const ut=localStorage.getItem("ACCESS_TOKEN"),ft=new URLSearchParams;ft.append("liked_type","gallery"),ft.append("search",Je);const ct=new URLSearchParams;ct.append("liked_type","exhibition"),ct.append("search",Je);const pt=new URLSearchParams;pt.append("liked_type","art"),pt.append("search",Je);const[yt,lt,Ze]=await Promise.all([userInstance.get(`/api/users/console/likes?${ft.toString()}`,{headers:{Authorization:`Bearer ${ut}`}}),userInstance.get(`/api/users/console/likes?${ct.toString()}`,{headers:{Authorization:`Bearer ${ut}`}}),userInstance.get(`/api/users/console/likes?${pt.toString()}`,{headers:{Authorization:`Bearer ${ut}`}})]),it=Le(yt.data||[],"gallery"),Ye=Le(lt.data||[],"exhibition"),et=Le(Ze.data||[],"art"),gt=[...it.map(st=>{var ht,vt,Et,Rt,_t;return{id:st.id,userId:st.user_id||((ht=st.user)==null?void 0:ht.id),name:((vt=st.user)==null?void 0:vt.user_name)||"  ",category:((Et=st.gallery)==null?void 0:Et.gallery_name)||" ",date:st.create_dtm?new Date(st.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Rt=st.user)==null?void 0:Rt.user_name)||"  ",galleryName:((_t=st.gallery)==null?void 0:_t.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}),...Ye.map(st=>{var ht,vt,Et,Rt,_t;return{id:st.id,userId:st.user_id||((ht=st.user)==null?void 0:ht.id),name:((vt=st.user)==null?void 0:vt.user_name)||"  ",category:((Et=st.exhibition)==null?void 0:Et.exhibition_title)||" ",date:st.create_dtm?new Date(st.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Rt=st.user)==null?void 0:Rt.user_name)||"  ",galleryName:"  ",exhibitionName:((_t=st.exhibition)==null?void 0:_t.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}),...et.map(st=>{var ht,vt,Et,Rt,_t;return{id:st.id,userId:st.user_id||((ht=st.user)==null?void 0:ht.id),name:((vt=st.user)==null?void 0:vt.user_name)||"  ",category:((Et=st.art)==null?void 0:Et.art_title)||" ",date:st.create_dtm?new Date(st.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Rt=st.user)==null?void 0:Rt.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((_t=st.art)==null?void 0:_t.art_title)||"  ",type:"art"}})];R(gt)}catch(ut){ne(ut.message),console.error(" :",ut),R([])}finally{O(!1),q(!1)}else try{O(!0),await He(oe,Je)}finally{q(!1)}},{searchValue:We,handleSearchChange:Ge,clearSearch:Xe}=useDebounceSearch({onSearch:Qe,onEmptySearch:()=>Ne(oe),onClearSearch:async()=>{oe==="all"?await Ne("all"):await He(oe,"")},minLength:2,delay:500});return reactExports$1.useEffect(()=>{r.length>0&&Ne("all")},[r.length,x.length,y.length]),{interestedUserList:$e,setInterestedUserList:R,searchQuery:We,isLoading:I,isSearching:G,error:ee,activeTab:oe,loadInterestedUsers:He,handleSearchChange:Ge,clearSearch:Xe,handleTabChange:Ne}}const contentContainer$1="_contentContainer_m513q_3",countAndButtonContainer="_countAndButtonContainer_m513q_27",loadingContainer="_loadingContainer_m513q_45",errorContainer="_errorContainer_m513q_65",errorMessage="_errorMessage_m513q_79",styles$t={contentContainer:contentContainer$1,countAndButtonContainer,loadingContainer,errorContainer,errorMessage};function InterestedUserManagement({galleryList:r=[],exhibitionList:x=[],artworkList:y=[]}){const[b,B]=reactExports$1.useState(!1),[R,I]=reactExports$1.useState(!1),[O,G]=reactExports$1.useState(null),{selectedUserList:q,handleUserSelect:ee,handleSelectAll:ne,clearSelection:oe,isAllSelected:pe}=useUserSelection(),{interestedUserList:xe,searchQuery:_e,isLoading:Ue,isSearching:Le,error:He,activeTab:$e,handleSearchChange:Ne,handleTabChange:Qe}=useInterestedUser({galleryList:r,exhibitionList:x,artworkList:y}),We=async(Xe,Je)=>{var ut,ft;if(!(!q||q.length===0))try{I(!0),G(null);const ct=localStorage.getItem("ACCESS_TOKEN"),pt=q.map(lt=>{const Ze=xe.find(it=>String(it.id)===String(lt));return(Ze==null?void 0:Ze.userId)??null}).filter(lt=>lt!=null);if(pt.length===0){alert("  ID   .");return}const yt=await userInstance.post("/api/notification/send",{userIds:pt,title:Xe,message:Je},{headers:{Authorization:`Bearer ${ct}`,"Content-Type":"application/json"}});alert(`${pt.length}    .`),B(!1),oe()}catch(ct){console.error("  :",ct);const pt=((ft=(ut=ct==null?void 0:ct.response)==null?void 0:ut.data)==null?void 0:ft.message)||ct.message||"    .";G(pt),alert(`  .
${pt}`)}finally{I(!1)}},Ge=Xe=>{Qe(Xe,_e)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$t.contentContainer,children:[jsxRuntimeExports.jsx(LookUp,{value:_e,onChange:Ne,placeholder:", , ,  ",isInput:!0}),jsxRuntimeExports.jsxs("div",{className:styles$t.countAndButtonContainer,children:[jsxRuntimeExports.jsx(CountList,{count:xe.length}),jsxRuntimeExports.jsx(RegisterButton,{buttonText:" ",onButtonClick:()=>B(!0),disabled:q.length===0||R})]}),O&&jsxRuntimeExports.jsxs("div",{className:styles$t.errorMessage,children:["    : ",O]}),Ue||Le?jsxRuntimeExports.jsx("div",{className:styles$t.loadingContainer,children:jsxRuntimeExports.jsx(LoadingSpinner,{})}):He?jsxRuntimeExports.jsx("div",{className:styles$t.errorContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$t.errorMessage,children:[" : ",He]})}):jsxRuntimeExports.jsx(Table,{interestedUserList:xe,selectedUserList:q,onUserSelect:ee,onSelectAll:ne,isAllSelected:pe,activeTab:$e,onTabChange:Ge})]}),jsxRuntimeExports.jsx(AlarmModal,{isOpen:b,onClose:()=>B(!1),selectedUsersCount:q.length,onSendAlarm:We,isSending:R})]})}function useDeleteItem(){const{user:r}=useUser(),[x,y]=reactExports$1.useState([]),[b,B]=reactExports$1.useState([]),[R,I]=reactExports$1.useState([]),[O,G]=reactExports$1.useState(!1),[q,ee]=reactExports$1.useState(!1),[ne,oe]=reactExports$1.useState(null),pe=reactExports$1.useCallback(async(Le="")=>{var He,$e,Ne;try{G(!0),Le.trim()&&ee(!0);const Qe=new URLSearchParams;Le&&Qe.append("search",Le),Qe.append("is_console",!0);const We=`/api/galleries${Qe.toString()?`?${Qe.toString()}`:""}`,Ge=await userInstance.get(We),Xe=Array.isArray(Ge.data)?Ge.data.map(Je=>({id:Je.id,name:Je.gallery_name,address:Je.gallery_address,closedDay:Je.gallery_closed_day,time:`${Je.gallery_start_time} - ${Je.gallery_end_time}`,registered:Je.exhibitions?Je.exhibitions.length:0,liked:Je.like_count,image:Je.gallery_image})):[];y(Xe)}catch(Qe){oe(Qe.message),console.error("   :",Qe),console.error(" :",(He=Qe.response)==null?void 0:He.data),console.error(" :",($e=Qe.response)==null?void 0:$e.status),console.error(" :",(Ne=Qe.response)==null?void 0:Ne.headers),y([])}finally{G(!1),ee(!1)}},[]),xe=reactExports$1.useCallback(async(Le="")=>{try{G(!0);const He=new URLSearchParams;Le&&Le!==" "&&He.append("gallery_name",Le);const $e=`/api/exhibitions${He.toString()?`?${He.toString()}`:""}`,Ne=await userInstance.get($e),Qe=x.map(Ge=>Ge.id),We=Array.isArray(Ne.data)?Ne.data.filter(Ge=>Qe.includes(Ge.gallery_id)).map(Ge=>{var Xe,Je;return{id:Ge.id,title:Ge.exhibition_title,period:`${Ge.exhibition_start_date} - ${Ge.exhibition_end_date}`,image:Ge.exhibition_poster||null,gallery_name:((Xe=Ge.exhibition_organization)==null?void 0:Xe.name)||"  ",gallery_id:Ge.gallery_id||null,value:((Je=Ge.exhibition_organization)==null?void 0:Je.name)||"  "}}):[];B(We)}catch(He){oe(He.message),console.error("   :",He),B([])}finally{G(!1)}},[x]),_e=reactExports$1.useCallback(async(Le="")=>{try{G(!0);const He=new URLSearchParams;Le&&Le!==" "&&He.append("exhibition_title",Le);const $e=`/api/arts${He.toString()?`?${He.toString()}`:""}`,Ne=await userInstance.get($e),Qe=b?b.map(Ge=>Number(Ge.id)):[],We=Array.isArray(Ne.data)?Ne.data.filter(Ge=>{if(!b||b.length===0)return!0;const Xe=Ge.exhibitions&&Ge.exhibitions.length>0?Ge.exhibitions[0]:null,Je=Xe?Number(Xe.id):null;return Je!==null&&Qe.includes(Je)}).map(Ge=>{var ct,pt,yt;const Xe=Ge.exhibitions&&Ge.exhibitions.length>0?Ge.exhibitions[0]:null,Je=((ct=Xe==null?void 0:Xe.gallery)==null?void 0:ct.gallery_name)||"  ",ut=(Xe==null?void 0:Xe.gallery_id)||((pt=Xe==null?void 0:Xe.gallery)==null?void 0:pt.id)||null,ft=(Xe==null?void 0:Xe.exhibition_title)||"  ";return{id:Ge.id,title:Ge.art_title,artist:((yt=Ge.artist)==null?void 0:yt.artist_name)||"  ",image:Ge.art_image||null,gallery_name:Je,gallery_id:ut,exhibition_title:ft,value:ft}}):[];I(We)}catch(He){oe(He.message),console.error("   :",He),I([])}finally{G(!1)}},[b]);return reactExports$1.useEffect(()=>{r!=null&&r.id&&pe()},[r==null?void 0:r.id]),reactExports$1.useEffect(()=>{x.length>0&&xe(" ")},[x.length]),reactExports$1.useEffect(()=>{b.length>0&&_e(" ")},[b.length]),{galleryList:x,exhibitionList:b,artworkList:R,handleDelete:async(Le,He)=>{try{He==="gallery"?(y($e=>$e.filter(Ne=>Ne.id!==Le)),await userInstance.delete(`/api/galleries/${Le}`)):He==="exhibition"?(B($e=>$e.filter(Ne=>Ne.id!==Le)),await userInstance.delete(`/api/exhibitions/${Le}`)):He==="artwork"&&(I($e=>$e.filter(Ne=>Ne.id!==Le)),await userInstance.delete(`/api/arts/${Le}`)),alert(`${He==="gallery"?"":He==="exhibition"?"":""}  .`)}catch($e){oe($e.message),console.error(" :",$e),alert(" .  ."),He==="gallery"?pe():He==="exhibition"?xe(" "):He==="artwork"&&_e(" ")}},loadGalleries:pe,loadExhibitions:xe,loadArtworks:_e,isLoading:O,isSearching:q,error:ne}}const layout$b="_layout_1pq3h_3",tabSection="_tabSection_1pq3h_19",content$3="_content_1pq3h_39",styles$s={layout:layout$b,tabSection,content:content$3};function ConsoleMain({defaultTab:r="",defaultGallery:x=" "}){const y=useLocation(),[b,B]=reactExports$1.useState(r),[R,I]=reactExports$1.useState(null),[O,G]=reactExports$1.useState(null);reactExports$1.useEffect(()=>{var Qe;(Qe=y.state)!=null&&Qe.activeTab&&B(y.state.activeTab)},[y.state]);const q=Qe=>{B(Qe),Qe===""?G(null):I(null)},ee=["","","",""],{galleryList:ne,exhibitionList:oe,artworkList:pe,handleDelete:xe,loadGalleries:_e,loadExhibitions:Ue,loadArtworks:Le,isLoading:He,isSearching:$e,error:Ne}=useDeleteItem();return jsxRuntimeExports.jsxs("div",{className:styles$s.layout,children:[jsxRuntimeExports.jsx("div",{className:styles$s.tabSection,children:jsxRuntimeExports.jsx(ActionBar,{tabList:ee,activeTab:b,onTabChange:q})}),jsxRuntimeExports.jsxs("div",{className:styles$s.content,children:[b===""&&jsxRuntimeExports.jsx(GalleryManagement,{galleryList:ne,onDelete:xe,loadGalleries:_e,isLoading:He,isSearching:$e,error:Ne}),b===""&&jsxRuntimeExports.jsx(ExhibitionManagement,{exhibitionList:oe,selectedGallery:R,onGalleryChange:I,onDelete:xe,loadExhibitions:Ue,isLoading:He,error:Ne,galleryList:ne}),b===""&&jsxRuntimeExports.jsx(ArtworkManagement,{artworkList:pe,selectedExhibition:O,onExhibitionChange:G,onDelete:xe,loadArtworks:Le,loadExhibitions:Ue,isLoading:He,error:Ne,galleryList:ne,exhibitionList:oe},b),b===""&&jsxRuntimeExports.jsx(InterestedUserManagement,{galleryList:ne,exhibitionList:oe,artworkList:pe})]})]})}function LayoutConsole(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ScrollToTop,{}),jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{style:{flex:1},children:jsxRuntimeExports.jsx(Outlet,{})}),jsxRuntimeExports.jsx(Footer,{})]})}const layout$a="_layout_gwo49_1",header$6="_header_gwo49_9",title$8="_title_gwo49_35",backButton$5="_backButton_gwo49_45",content$2="_content_gwo49_63",adminTabNav="_adminTabNav_gwo49_77",adminTabButton="_adminTabButton_gwo49_103",addButton="_addButton_gwo49_193",styles$r={layout:layout$a,header:header$6,title:title$8,backButton:backButton$5,content:content$2,adminTabNav,adminTabButton,addButton};var lib={},ErrorCorrectLevel,hasRequiredErrorCorrectLevel;function requireErrorCorrectLevel(){return hasRequiredErrorCorrectLevel||(hasRequiredErrorCorrectLevel=1,ErrorCorrectLevel={L:1,M:0,Q:3,H:2}),ErrorCorrectLevel}var mode,hasRequiredMode;function requireMode(){return hasRequiredMode||(hasRequiredMode=1,mode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),mode}var _8BitByte,hasRequired_8BitByte;function require_8BitByte(){if(hasRequired_8BitByte)return _8BitByte;hasRequired_8BitByte=1;var r=requireMode();function x(y){this.mode=r.MODE_8BIT_BYTE,this.data=y}return x.prototype={getLength:function(y){return this.data.length},write:function(y){for(var b=0;b<this.data.length;b++)y.put(this.data.charCodeAt(b),8)}},_8BitByte=x,_8BitByte}var RSBlock,hasRequiredRSBlock;function requireRSBlock(){if(hasRequiredRSBlock)return RSBlock;hasRequiredRSBlock=1;var r=requireErrorCorrectLevel();function x(y,b){this.totalCount=y,this.dataCount=b}return x.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],x.getRSBlocks=function(y,b){var B=x.getRsBlockTable(y,b);if(B==null)throw new Error("bad rs block @ typeNumber:"+y+"/errorCorrectLevel:"+b);for(var R=B.length/3,I=new Array,O=0;O<R;O++)for(var G=B[O*3+0],q=B[O*3+1],ee=B[O*3+2],ne=0;ne<G;ne++)I.push(new x(q,ee));return I},x.getRsBlockTable=function(y,b){switch(b){case r.L:return x.RS_BLOCK_TABLE[(y-1)*4+0];case r.M:return x.RS_BLOCK_TABLE[(y-1)*4+1];case r.Q:return x.RS_BLOCK_TABLE[(y-1)*4+2];case r.H:return x.RS_BLOCK_TABLE[(y-1)*4+3];default:return}},RSBlock=x,RSBlock}var BitBuffer,hasRequiredBitBuffer;function requireBitBuffer(){if(hasRequiredBitBuffer)return BitBuffer;hasRequiredBitBuffer=1;function r(){this.buffer=new Array,this.length=0}return r.prototype={get:function(x){var y=Math.floor(x/8);return(this.buffer[y]>>>7-x%8&1)==1},put:function(x,y){for(var b=0;b<y;b++)this.putBit((x>>>y-b-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(x){var y=Math.floor(this.length/8);this.buffer.length<=y&&this.buffer.push(0),x&&(this.buffer[y]|=128>>>this.length%8),this.length++}},BitBuffer=r,BitBuffer}var math,hasRequiredMath;function requireMath(){if(hasRequiredMath)return math;hasRequiredMath=1;for(var r={glog:function(y){if(y<1)throw new Error("glog("+y+")");return r.LOG_TABLE[y]},gexp:function(y){for(;y<0;)y+=255;for(;y>=256;)y-=255;return r.EXP_TABLE[y]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},x=0;x<8;x++)r.EXP_TABLE[x]=1<<x;for(var x=8;x<256;x++)r.EXP_TABLE[x]=r.EXP_TABLE[x-4]^r.EXP_TABLE[x-5]^r.EXP_TABLE[x-6]^r.EXP_TABLE[x-8];for(var x=0;x<255;x++)r.LOG_TABLE[r.EXP_TABLE[x]]=x;return math=r,math}var Polynomial,hasRequiredPolynomial;function requirePolynomial(){if(hasRequiredPolynomial)return Polynomial;hasRequiredPolynomial=1;var r=requireMath();function x(y,b){if(y.length==null)throw new Error(y.length+"/"+b);for(var B=0;B<y.length&&y[B]==0;)B++;this.num=new Array(y.length-B+b);for(var R=0;R<y.length-B;R++)this.num[R]=y[R+B]}return x.prototype={get:function(y){return this.num[y]},getLength:function(){return this.num.length},multiply:function(y){for(var b=new Array(this.getLength()+y.getLength()-1),B=0;B<this.getLength();B++)for(var R=0;R<y.getLength();R++)b[B+R]^=r.gexp(r.glog(this.get(B))+r.glog(y.get(R)));return new x(b,0)},mod:function(y){if(this.getLength()-y.getLength()<0)return this;for(var b=r.glog(this.get(0))-r.glog(y.get(0)),B=new Array(this.getLength()),R=0;R<this.getLength();R++)B[R]=this.get(R);for(var R=0;R<y.getLength();R++)B[R]^=r.gexp(r.glog(y.get(R))+b);return new x(B,0).mod(y)}},Polynomial=x,Polynomial}var util,hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;var r=requireMode(),x=requirePolynomial(),y=requireMath(),b={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},B={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(R){for(var I=R<<10;B.getBCHDigit(I)-B.getBCHDigit(B.G15)>=0;)I^=B.G15<<B.getBCHDigit(I)-B.getBCHDigit(B.G15);return(R<<10|I)^B.G15_MASK},getBCHTypeNumber:function(R){for(var I=R<<12;B.getBCHDigit(I)-B.getBCHDigit(B.G18)>=0;)I^=B.G18<<B.getBCHDigit(I)-B.getBCHDigit(B.G18);return R<<12|I},getBCHDigit:function(R){for(var I=0;R!=0;)I++,R>>>=1;return I},getPatternPosition:function(R){return B.PATTERN_POSITION_TABLE[R-1]},getMask:function(R,I,O){switch(R){case b.PATTERN000:return(I+O)%2==0;case b.PATTERN001:return I%2==0;case b.PATTERN010:return O%3==0;case b.PATTERN011:return(I+O)%3==0;case b.PATTERN100:return(Math.floor(I/2)+Math.floor(O/3))%2==0;case b.PATTERN101:return I*O%2+I*O%3==0;case b.PATTERN110:return(I*O%2+I*O%3)%2==0;case b.PATTERN111:return(I*O%3+(I+O)%2)%2==0;default:throw new Error("bad maskPattern:"+R)}},getErrorCorrectPolynomial:function(R){for(var I=new x([1],0),O=0;O<R;O++)I=I.multiply(new x([1,y.gexp(O)],0));return I},getLengthInBits:function(R,I){if(1<=I&&I<10)switch(R){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:return 8;case r.MODE_KANJI:return 8;default:throw new Error("mode:"+R)}else if(I<27)switch(R){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+R)}else if(I<41)switch(R){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+R)}else throw new Error("type:"+I)},getLostPoint:function(R){for(var I=R.getModuleCount(),O=0,G=0;G<I;G++)for(var q=0;q<I;q++){for(var ee=0,ne=R.isDark(G,q),oe=-1;oe<=1;oe++)if(!(G+oe<0||I<=G+oe))for(var pe=-1;pe<=1;pe++)q+pe<0||I<=q+pe||oe==0&&pe==0||ne==R.isDark(G+oe,q+pe)&&ee++;ee>5&&(O+=3+ee-5)}for(var G=0;G<I-1;G++)for(var q=0;q<I-1;q++){var xe=0;R.isDark(G,q)&&xe++,R.isDark(G+1,q)&&xe++,R.isDark(G,q+1)&&xe++,R.isDark(G+1,q+1)&&xe++,(xe==0||xe==4)&&(O+=3)}for(var G=0;G<I;G++)for(var q=0;q<I-6;q++)R.isDark(G,q)&&!R.isDark(G,q+1)&&R.isDark(G,q+2)&&R.isDark(G,q+3)&&R.isDark(G,q+4)&&!R.isDark(G,q+5)&&R.isDark(G,q+6)&&(O+=40);for(var q=0;q<I;q++)for(var G=0;G<I-6;G++)R.isDark(G,q)&&!R.isDark(G+1,q)&&R.isDark(G+2,q)&&R.isDark(G+3,q)&&R.isDark(G+4,q)&&!R.isDark(G+5,q)&&R.isDark(G+6,q)&&(O+=40);for(var _e=0,q=0;q<I;q++)for(var G=0;G<I;G++)R.isDark(G,q)&&_e++;var Ue=Math.abs(100*_e/I/I-50)/5;return O+=Ue*10,O}};return util=B,util}var QRCode_1,hasRequiredQRCode;function requireQRCode(){if(hasRequiredQRCode)return QRCode_1;hasRequiredQRCode=1;var r=require_8BitByte(),x=requireRSBlock(),y=requireBitBuffer(),b=requireUtil(),B=requirePolynomial();function R(O,G){this.typeNumber=O,this.errorCorrectLevel=G,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var I=R.prototype;return I.addData=function(O){var G=new r(O);this.dataList.push(G),this.dataCache=null},I.isDark=function(O,G){if(O<0||this.moduleCount<=O||G<0||this.moduleCount<=G)throw new Error(O+","+G);return this.modules[O][G]},I.getModuleCount=function(){return this.moduleCount},I.make=function(){if(this.typeNumber<1){var O=1;for(O=1;O<40;O++){for(var G=x.getRSBlocks(O,this.errorCorrectLevel),q=new y,ee=0,ne=0;ne<G.length;ne++)ee+=G[ne].dataCount;for(var ne=0;ne<this.dataList.length;ne++){var oe=this.dataList[ne];q.put(oe.mode,4),q.put(oe.getLength(),b.getLengthInBits(oe.mode,O)),oe.write(q)}if(q.getLengthInBits()<=ee*8)break}this.typeNumber=O}this.makeImpl(!1,this.getBestMaskPattern())},I.makeImpl=function(O,G){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var q=0;q<this.moduleCount;q++){this.modules[q]=new Array(this.moduleCount);for(var ee=0;ee<this.moduleCount;ee++)this.modules[q][ee]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(O,G),this.typeNumber>=7&&this.setupTypeNumber(O),this.dataCache==null&&(this.dataCache=R.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,G)},I.setupPositionProbePattern=function(O,G){for(var q=-1;q<=7;q++)if(!(O+q<=-1||this.moduleCount<=O+q))for(var ee=-1;ee<=7;ee++)G+ee<=-1||this.moduleCount<=G+ee||(0<=q&&q<=6&&(ee==0||ee==6)||0<=ee&&ee<=6&&(q==0||q==6)||2<=q&&q<=4&&2<=ee&&ee<=4?this.modules[O+q][G+ee]=!0:this.modules[O+q][G+ee]=!1)},I.getBestMaskPattern=function(){for(var O=0,G=0,q=0;q<8;q++){this.makeImpl(!0,q);var ee=b.getLostPoint(this);(q==0||O>ee)&&(O=ee,G=q)}return G},I.createMovieClip=function(O,G,q){var ee=O.createEmptyMovieClip(G,q),ne=1;this.make();for(var oe=0;oe<this.modules.length;oe++)for(var pe=oe*ne,xe=0;xe<this.modules[oe].length;xe++){var _e=xe*ne,Ue=this.modules[oe][xe];Ue&&(ee.beginFill(0,100),ee.moveTo(_e,pe),ee.lineTo(_e+ne,pe),ee.lineTo(_e+ne,pe+ne),ee.lineTo(_e,pe+ne),ee.endFill())}return ee},I.setupTimingPattern=function(){for(var O=8;O<this.moduleCount-8;O++)this.modules[O][6]==null&&(this.modules[O][6]=O%2==0);for(var G=8;G<this.moduleCount-8;G++)this.modules[6][G]==null&&(this.modules[6][G]=G%2==0)},I.setupPositionAdjustPattern=function(){for(var O=b.getPatternPosition(this.typeNumber),G=0;G<O.length;G++)for(var q=0;q<O.length;q++){var ee=O[G],ne=O[q];if(this.modules[ee][ne]==null)for(var oe=-2;oe<=2;oe++)for(var pe=-2;pe<=2;pe++)oe==-2||oe==2||pe==-2||pe==2||oe==0&&pe==0?this.modules[ee+oe][ne+pe]=!0:this.modules[ee+oe][ne+pe]=!1}},I.setupTypeNumber=function(O){for(var G=b.getBCHTypeNumber(this.typeNumber),q=0;q<18;q++){var ee=!O&&(G>>q&1)==1;this.modules[Math.floor(q/3)][q%3+this.moduleCount-8-3]=ee}for(var q=0;q<18;q++){var ee=!O&&(G>>q&1)==1;this.modules[q%3+this.moduleCount-8-3][Math.floor(q/3)]=ee}},I.setupTypeInfo=function(O,G){for(var q=this.errorCorrectLevel<<3|G,ee=b.getBCHTypeInfo(q),ne=0;ne<15;ne++){var oe=!O&&(ee>>ne&1)==1;ne<6?this.modules[ne][8]=oe:ne<8?this.modules[ne+1][8]=oe:this.modules[this.moduleCount-15+ne][8]=oe}for(var ne=0;ne<15;ne++){var oe=!O&&(ee>>ne&1)==1;ne<8?this.modules[8][this.moduleCount-ne-1]=oe:ne<9?this.modules[8][15-ne-1+1]=oe:this.modules[8][15-ne-1]=oe}this.modules[this.moduleCount-8][8]=!O},I.mapData=function(O,G){for(var q=-1,ee=this.moduleCount-1,ne=7,oe=0,pe=this.moduleCount-1;pe>0;pe-=2)for(pe==6&&pe--;;){for(var xe=0;xe<2;xe++)if(this.modules[ee][pe-xe]==null){var _e=!1;oe<O.length&&(_e=(O[oe]>>>ne&1)==1);var Ue=b.getMask(G,ee,pe-xe);Ue&&(_e=!_e),this.modules[ee][pe-xe]=_e,ne--,ne==-1&&(oe++,ne=7)}if(ee+=q,ee<0||this.moduleCount<=ee){ee-=q,q=-q;break}}},R.PAD0=236,R.PAD1=17,R.createData=function(O,G,q){for(var ee=x.getRSBlocks(O,G),ne=new y,oe=0;oe<q.length;oe++){var pe=q[oe];ne.put(pe.mode,4),ne.put(pe.getLength(),b.getLengthInBits(pe.mode,O)),pe.write(ne)}for(var xe=0,oe=0;oe<ee.length;oe++)xe+=ee[oe].dataCount;if(ne.getLengthInBits()>xe*8)throw new Error("code length overflow. ("+ne.getLengthInBits()+">"+xe*8+")");for(ne.getLengthInBits()+4<=xe*8&&ne.put(0,4);ne.getLengthInBits()%8!=0;)ne.putBit(!1);for(;!(ne.getLengthInBits()>=xe*8||(ne.put(R.PAD0,8),ne.getLengthInBits()>=xe*8));)ne.put(R.PAD1,8);return R.createBytes(ne,ee)},R.createBytes=function(O,G){for(var q=0,ee=0,ne=0,oe=new Array(G.length),pe=new Array(G.length),xe=0;xe<G.length;xe++){var _e=G[xe].dataCount,Ue=G[xe].totalCount-_e;ee=Math.max(ee,_e),ne=Math.max(ne,Ue),oe[xe]=new Array(_e);for(var Le=0;Le<oe[xe].length;Le++)oe[xe][Le]=255&O.buffer[Le+q];q+=_e;var He=b.getErrorCorrectPolynomial(Ue),$e=new B(oe[xe],He.getLength()-1),Ne=$e.mod(He);pe[xe]=new Array(He.getLength()-1);for(var Le=0;Le<pe[xe].length;Le++){var Qe=Le+Ne.getLength()-pe[xe].length;pe[xe][Le]=Qe>=0?Ne.get(Qe):0}}for(var We=0,Le=0;Le<G.length;Le++)We+=G[Le].totalCount;for(var Ge=new Array(We),Xe=0,Le=0;Le<ee;Le++)for(var xe=0;xe<G.length;xe++)Le<oe[xe].length&&(Ge[Xe++]=oe[xe][Le]);for(var Le=0;Le<ne;Le++)for(var xe=0;xe<G.length;xe++)Le<pe[xe].length&&(Ge[Xe++]=pe[xe][Le]);return Ge},QRCode_1=R,QRCode_1}var QRCodeSvg={},hasRequiredQRCodeSvg;function requireQRCodeSvg(){if(hasRequiredQRCodeSvg)return QRCodeSvg;hasRequiredQRCodeSvg=1,Object.defineProperty(QRCodeSvg,"__esModule",{value:!0});var r=Object.assign||function(q){for(var ee=1;ee<arguments.length;ee++){var ne=arguments[ee];for(var oe in ne)Object.prototype.hasOwnProperty.call(ne,oe)&&(q[oe]=ne[oe])}return q},x=requirePropTypes(),y=R(x),b=requireReact$1(),B=R(b);function R(q){return q&&q.__esModule?q:{default:q}}function I(q,ee){var ne={};for(var oe in q)ee.indexOf(oe)>=0||Object.prototype.hasOwnProperty.call(q,oe)&&(ne[oe]=q[oe]);return ne}var O={bgColor:y.default.oneOfType([y.default.object,y.default.string]).isRequired,bgD:y.default.string.isRequired,fgColor:y.default.oneOfType([y.default.object,y.default.string]).isRequired,fgD:y.default.string.isRequired,size:y.default.number.isRequired,title:y.default.string,viewBoxSize:y.default.number.isRequired,xmlns:y.default.string},G=(0,b.forwardRef)(function(q,ee){var ne=q.bgColor,oe=q.bgD,pe=q.fgD,xe=q.fgColor,_e=q.size,Ue=q.title,Le=q.viewBoxSize,He=q.xmlns,$e=He===void 0?"http://www.w3.org/2000/svg":He,Ne=I(q,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return B.default.createElement("svg",r({},Ne,{height:_e,ref:ee,viewBox:"0 0 "+Le+" "+Le,width:_e,xmlns:$e}),Ue?B.default.createElement("title",null,Ue):null,B.default.createElement("path",{d:oe,fill:ne}),B.default.createElement("path",{d:pe,fill:xe}))});return G.displayName="QRCodeSvg",G.propTypes=O,QRCodeSvg.default=G,QRCodeSvg}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1,Object.defineProperty(lib,"__esModule",{value:!0}),lib.QRCode=void 0;var r=Object.assign||function(_e){for(var Ue=1;Ue<arguments.length;Ue++){var Le=arguments[Ue];for(var He in Le)Object.prototype.hasOwnProperty.call(Le,He)&&(_e[He]=Le[He])}return _e},x=requirePropTypes(),y=ne(x),b=requireErrorCorrectLevel(),B=ne(b),R=requireQRCode(),I=ne(R),O=requireReact$1(),G=ne(O),q=requireQRCodeSvg(),ee=ne(q);function ne(_e){return _e&&_e.__esModule?_e:{default:_e}}function oe(_e,Ue){var Le={};for(var He in _e)Ue.indexOf(He)>=0||Object.prototype.hasOwnProperty.call(_e,He)&&(Le[He]=_e[He]);return Le}var pe={bgColor:y.default.oneOfType([y.default.object,y.default.string]),fgColor:y.default.oneOfType([y.default.object,y.default.string]),level:y.default.string,size:y.default.number,value:y.default.string.isRequired},xe=(0,O.forwardRef)(function(_e,Ue){var Le=_e.bgColor,He=Le===void 0?"#FFFFFF":Le,$e=_e.fgColor,Ne=$e===void 0?"#000000":$e,Qe=_e.level,We=Qe===void 0?"L":Qe,Ge=_e.size,Xe=Ge===void 0?256:Ge,Je=_e.value,ut=oe(_e,["bgColor","fgColor","level","size","value"]),ft=new I.default(-1,B.default[We]);ft.addData(Je),ft.make();var ct=ft.modules;return G.default.createElement(ee.default,r({},ut,{bgColor:He,bgD:ct.map(function(pt,yt){return pt.map(function(lt,Ze){return lt?"":"M "+Ze+" "+yt+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:Ne,fgD:ct.map(function(pt,yt){return pt.map(function(lt,Ze){return lt?"M "+Ze+" "+yt+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:Ue,size:Xe,viewBoxSize:ct.length}))});return lib.QRCode=xe,xe.displayName="QRCode",xe.propTypes=pe,lib.default=xe,lib}var libExports=requireLib();const QRCode=getDefaultExportFromCjs(libExports);function resolveUrl(r,x){if(r.match(/^[a-z]+:\/\//i))return r;if(r.match(/^\/\//))return window.location.protocol+r;if(r.match(/^[a-z]+:/i))return r;const y=document.implementation.createHTMLDocument(),b=y.createElement("base"),B=y.createElement("a");return y.head.appendChild(b),y.body.appendChild(B),x&&(b.href=x),B.href=r,B.href}const uuid=(()=>{let r=0;const x=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(r+=1,`u${x()}${r}`)})();function toArray(r){const x=[];for(let y=0,b=r.length;y<b;y++)x.push(r[y]);return x}let styleProps=null;function getStyleProperties(r={}){return styleProps||(r.includeStyleProperties?(styleProps=r.includeStyleProperties,styleProps):(styleProps=toArray(window.getComputedStyle(document.documentElement)),styleProps))}function px(r,x){const b=(r.ownerDocument.defaultView||window).getComputedStyle(r).getPropertyValue(x);return b?parseFloat(b.replace("px","")):0}function getNodeWidth(r){const x=px(r,"border-left-width"),y=px(r,"border-right-width");return r.clientWidth+x+y}function getNodeHeight(r){const x=px(r,"border-top-width"),y=px(r,"border-bottom-width");return r.clientHeight+x+y}function getImageSize(r,x={}){const y=x.width||getNodeWidth(r),b=x.height||getNodeHeight(r);return{width:y,height:b}}function getPixelRatio(){let r,x;try{x=process}catch{}const y=x&&x.env?x.env.devicePixelRatio:null;return y&&(r=parseInt(y,10),Number.isNaN(r)&&(r=1)),r||window.devicePixelRatio||1}const canvasDimensionLimit=16384;function checkCanvasDimensions(r){(r.width>canvasDimensionLimit||r.height>canvasDimensionLimit)&&(r.width>canvasDimensionLimit&&r.height>canvasDimensionLimit?r.width>r.height?(r.height*=canvasDimensionLimit/r.width,r.width=canvasDimensionLimit):(r.width*=canvasDimensionLimit/r.height,r.height=canvasDimensionLimit):r.width>canvasDimensionLimit?(r.height*=canvasDimensionLimit/r.width,r.width=canvasDimensionLimit):(r.width*=canvasDimensionLimit/r.height,r.height=canvasDimensionLimit))}function createImage(r){return new Promise((x,y)=>{const b=new Image;b.onload=()=>{b.decode().then(()=>{requestAnimationFrame(()=>x(b))})},b.onerror=y,b.crossOrigin="anonymous",b.decoding="async",b.src=r})}async function svgToDataURL(r){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(r)).then(encodeURIComponent).then(x=>`data:image/svg+xml;charset=utf-8,${x}`)}async function nodeToDataURL(r,x,y){const b="http://www.w3.org/2000/svg",B=document.createElementNS(b,"svg"),R=document.createElementNS(b,"foreignObject");return B.setAttribute("width",`${x}`),B.setAttribute("height",`${y}`),B.setAttribute("viewBox",`0 0 ${x} ${y}`),R.setAttribute("width","100%"),R.setAttribute("height","100%"),R.setAttribute("x","0"),R.setAttribute("y","0"),R.setAttribute("externalResourcesRequired","true"),B.appendChild(R),R.appendChild(r),svgToDataURL(B)}const isInstanceOfElement=(r,x)=>{if(r instanceof x)return!0;const y=Object.getPrototypeOf(r);return y===null?!1:y.constructor.name===x.name||isInstanceOfElement(y,x)};function formatCSSText(r){const x=r.getPropertyValue("content");return`${r.cssText} content: '${x.replace(/'|"/g,"")}';`}function formatCSSProperties(r,x){return getStyleProperties(x).map(y=>{const b=r.getPropertyValue(y),B=r.getPropertyPriority(y);return`${y}: ${b}${B?" !important":""};`}).join(" ")}function getPseudoElementStyle(r,x,y,b){const B=`.${r}:${x}`,R=y.cssText?formatCSSText(y):formatCSSProperties(y,b);return document.createTextNode(`${B}{${R}}`)}function clonePseudoElement(r,x,y,b){const B=window.getComputedStyle(r,y),R=B.getPropertyValue("content");if(R===""||R==="none")return;const I=uuid();try{x.className=`${x.className} ${I}`}catch{return}const O=document.createElement("style");O.appendChild(getPseudoElementStyle(I,y,B,b)),x.appendChild(O)}function clonePseudoElements(r,x,y){clonePseudoElement(r,x,":before",y),clonePseudoElement(r,x,":after",y)}const WOFF="application/font-woff",JPEG="image/jpeg",mimes={woff:WOFF,woff2:WOFF,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:JPEG,jpeg:JPEG,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function getExtension(r){const x=/\.([^./]*?)$/g.exec(r);return x?x[1]:""}function getMimeType(r){const x=getExtension(r).toLowerCase();return mimes[x]||""}function getContentFromDataUrl(r){return r.split(/,/)[1]}function isDataUrl(r){return r.search(/^(data:)/)!==-1}function makeDataUrl(r,x){return`data:${x};base64,${r}`}async function fetchAsDataURL(r,x,y){const b=await fetch(r,x);if(b.status===404)throw new Error(`Resource "${b.url}" not found`);const B=await b.blob();return new Promise((R,I)=>{const O=new FileReader;O.onerror=I,O.onloadend=()=>{try{R(y({res:b,result:O.result}))}catch(G){I(G)}},O.readAsDataURL(B)})}const cache={};function getCacheKey(r,x,y){let b=r.replace(/\?.*/,"");return y&&(b=r),/ttf|otf|eot|woff2?/i.test(b)&&(b=b.replace(/.*\//,"")),x?`[${x}]${b}`:b}async function resourceToDataURL(r,x,y){const b=getCacheKey(r,x,y.includeQueryParams);if(cache[b]!=null)return cache[b];y.cacheBust&&(r+=(/\?/.test(r)?"&":"?")+new Date().getTime());let B;try{const R=await fetchAsDataURL(r,y.fetchRequestInit,({res:I,result:O})=>(x||(x=I.headers.get("Content-Type")||""),getContentFromDataUrl(O)));B=makeDataUrl(R,x)}catch(R){B=y.imagePlaceholder||"";let I=`Failed to fetch resource: ${r}`;R&&(I=typeof R=="string"?R:R.message),I&&console.warn(I)}return cache[b]=B,B}async function cloneCanvasElement(r){const x=r.toDataURL();return x==="data:,"?r.cloneNode(!1):createImage(x)}async function cloneVideoElement(r,x){if(r.currentSrc){const R=document.createElement("canvas"),I=R.getContext("2d");R.width=r.clientWidth,R.height=r.clientHeight,I==null||I.drawImage(r,0,0,R.width,R.height);const O=R.toDataURL();return createImage(O)}const y=r.poster,b=getMimeType(y),B=await resourceToDataURL(y,b,x);return createImage(B)}async function cloneIFrameElement(r,x){var y;try{if(!((y=r==null?void 0:r.contentDocument)===null||y===void 0)&&y.body)return await cloneNode(r.contentDocument.body,x,!0)}catch{}return r.cloneNode(!1)}async function cloneSingleNode(r,x){return isInstanceOfElement(r,HTMLCanvasElement)?cloneCanvasElement(r):isInstanceOfElement(r,HTMLVideoElement)?cloneVideoElement(r,x):isInstanceOfElement(r,HTMLIFrameElement)?cloneIFrameElement(r,x):r.cloneNode(isSVGElement$1(r))}const isSlotElement$1=r=>r.tagName!=null&&r.tagName.toUpperCase()==="SLOT",isSVGElement$1=r=>r.tagName!=null&&r.tagName.toUpperCase()==="SVG";async function cloneChildren(r,x,y){var b,B;if(isSVGElement$1(x))return x;let R=[];return isSlotElement$1(r)&&r.assignedNodes?R=toArray(r.assignedNodes()):isInstanceOfElement(r,HTMLIFrameElement)&&(!((b=r.contentDocument)===null||b===void 0)&&b.body)?R=toArray(r.contentDocument.body.childNodes):R=toArray(((B=r.shadowRoot)!==null&&B!==void 0?B:r).childNodes),R.length===0||isInstanceOfElement(r,HTMLVideoElement)||await R.reduce((I,O)=>I.then(()=>cloneNode(O,y)).then(G=>{G&&x.appendChild(G)}),Promise.resolve()),x}function cloneCSSStyle(r,x,y){const b=x.style;if(!b)return;const B=window.getComputedStyle(r);B.cssText?(b.cssText=B.cssText,b.transformOrigin=B.transformOrigin):getStyleProperties(y).forEach(R=>{let I=B.getPropertyValue(R);R==="font-size"&&I.endsWith("px")&&(I=`${Math.floor(parseFloat(I.substring(0,I.length-2)))-.1}px`),isInstanceOfElement(r,HTMLIFrameElement)&&R==="display"&&I==="inline"&&(I="block"),R==="d"&&x.getAttribute("d")&&(I=`path(${x.getAttribute("d")})`),b.setProperty(R,I,B.getPropertyPriority(R))})}function cloneInputValue(r,x){isInstanceOfElement(r,HTMLTextAreaElement)&&(x.innerHTML=r.value),isInstanceOfElement(r,HTMLInputElement)&&x.setAttribute("value",r.value)}function cloneSelectValue(r,x){if(isInstanceOfElement(r,HTMLSelectElement)){const b=Array.from(x.children).find(B=>r.value===B.getAttribute("value"));b&&b.setAttribute("selected","")}}function decorate(r,x,y){return isInstanceOfElement(x,Element)&&(cloneCSSStyle(r,x,y),clonePseudoElements(r,x,y),cloneInputValue(r,x),cloneSelectValue(r,x)),x}async function ensureSVGSymbols(r,x){const y=r.querySelectorAll?r.querySelectorAll("use"):[];if(y.length===0)return r;const b={};for(let R=0;R<y.length;R++){const O=y[R].getAttribute("xlink:href");if(O){const G=r.querySelector(O),q=document.querySelector(O);!G&&q&&!b[O]&&(b[O]=await cloneNode(q,x,!0))}}const B=Object.values(b);if(B.length){const R="http://www.w3.org/1999/xhtml",I=document.createElementNS(R,"svg");I.setAttribute("xmlns",R),I.style.position="absolute",I.style.width="0",I.style.height="0",I.style.overflow="hidden",I.style.display="none";const O=document.createElementNS(R,"defs");I.appendChild(O);for(let G=0;G<B.length;G++)O.appendChild(B[G]);r.appendChild(I)}return r}async function cloneNode(r,x,y){return!y&&x.filter&&!x.filter(r)?null:Promise.resolve(r).then(b=>cloneSingleNode(b,x)).then(b=>cloneChildren(r,b,x)).then(b=>decorate(r,b,x)).then(b=>ensureSVGSymbols(b,x))}const URL_REGEX=/url\((['"]?)([^'"]+?)\1\)/g,URL_WITH_FORMAT_REGEX=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,FONT_SRC_REGEX=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function toRegex(r){const x=r.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${x})(['"]?\\))`,"g")}function parseURLs(r){const x=[];return r.replace(URL_REGEX,(y,b,B)=>(x.push(B),y)),x.filter(y=>!isDataUrl(y))}async function embed(r,x,y,b,B){try{const R=y?resolveUrl(x,y):x,I=getMimeType(x);let O;return B||(O=await resourceToDataURL(R,I,b)),r.replace(toRegex(x),`$1${O}$3`)}catch{}return r}function filterPreferredFontFormat(r,{preferredFontFormat:x}){return x?r.replace(FONT_SRC_REGEX,y=>{for(;;){const[b,,B]=URL_WITH_FORMAT_REGEX.exec(y)||[];if(!B)return"";if(B===x)return`src: ${b};`}}):r}function shouldEmbed(r){return r.search(URL_REGEX)!==-1}async function embedResources(r,x,y){if(!shouldEmbed(r))return r;const b=filterPreferredFontFormat(r,y);return parseURLs(b).reduce((R,I)=>R.then(O=>embed(O,I,x,y)),Promise.resolve(b))}async function embedProp(r,x,y){var b;const B=(b=x.style)===null||b===void 0?void 0:b.getPropertyValue(r);if(B){const R=await embedResources(B,null,y);return x.style.setProperty(r,R,x.style.getPropertyPriority(r)),!0}return!1}async function embedBackground(r,x){await embedProp("background",r,x)||await embedProp("background-image",r,x),await embedProp("mask",r,x)||await embedProp("-webkit-mask",r,x)||await embedProp("mask-image",r,x)||await embedProp("-webkit-mask-image",r,x)}async function embedImageNode(r,x){const y=isInstanceOfElement(r,HTMLImageElement);if(!(y&&!isDataUrl(r.src))&&!(isInstanceOfElement(r,SVGImageElement)&&!isDataUrl(r.href.baseVal)))return;const b=y?r.src:r.href.baseVal,B=await resourceToDataURL(b,getMimeType(b),x);await new Promise((R,I)=>{r.onload=R,r.onerror=x.onImageErrorHandler?(...G)=>{try{R(x.onImageErrorHandler(...G))}catch(q){I(q)}}:I;const O=r;O.decode&&(O.decode=R),O.loading==="lazy"&&(O.loading="eager"),y?(r.srcset="",r.src=B):r.href.baseVal=B})}async function embedChildren(r,x){const b=toArray(r.childNodes).map(B=>embedImages(B,x));await Promise.all(b).then(()=>r)}async function embedImages(r,x){isInstanceOfElement(r,Element)&&(await embedBackground(r,x),await embedImageNode(r,x),await embedChildren(r,x))}function applyStyle(r,x){const{style:y}=r;x.backgroundColor&&(y.backgroundColor=x.backgroundColor),x.width&&(y.width=`${x.width}px`),x.height&&(y.height=`${x.height}px`);const b=x.style;return b!=null&&Object.keys(b).forEach(B=>{y[B]=b[B]}),r}const cssFetchCache={};async function fetchCSS(r){let x=cssFetchCache[r];if(x!=null)return x;const b=await(await fetch(r)).text();return x={url:r,cssText:b},cssFetchCache[r]=x,x}async function embedFonts(r,x){let y=r.cssText;const b=/url\(["']?([^"')]+)["']?\)/g,R=(y.match(/url\([^)]+\)/g)||[]).map(async I=>{let O=I.replace(b,"$1");return O.startsWith("https://")||(O=new URL(O,r.url).href),fetchAsDataURL(O,x.fetchRequestInit,({result:G})=>(y=y.replace(I,`url(${G})`),[I,G]))});return Promise.all(R).then(()=>y)}function parseCSS(r){if(r==null)return[];const x=[],y=/(\/\*[\s\S]*?\*\/)/gi;let b=r.replace(y,"");const B=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const G=B.exec(b);if(G===null)break;x.push(G[0])}b=b.replace(B,"");const R=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,I="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",O=new RegExp(I,"gi");for(;;){let G=R.exec(b);if(G===null){if(G=O.exec(b),G===null)break;R.lastIndex=O.lastIndex}else O.lastIndex=R.lastIndex;x.push(G[0])}return x}async function getCSSRules(r,x){const y=[],b=[];return r.forEach(B=>{if("cssRules"in B)try{toArray(B.cssRules||[]).forEach((R,I)=>{if(R.type===CSSRule.IMPORT_RULE){let O=I+1;const G=R.href,q=fetchCSS(G).then(ee=>embedFonts(ee,x)).then(ee=>parseCSS(ee).forEach(ne=>{try{B.insertRule(ne,ne.startsWith("@import")?O+=1:B.cssRules.length)}catch(oe){console.error("Error inserting rule from remote css",{rule:ne,error:oe})}})).catch(ee=>{console.error("Error loading remote css",ee.toString())});b.push(q)}})}catch(R){const I=r.find(O=>O.href==null)||document.styleSheets[0];B.href!=null&&b.push(fetchCSS(B.href).then(O=>embedFonts(O,x)).then(O=>parseCSS(O).forEach(G=>{I.insertRule(G,I.cssRules.length)})).catch(O=>{console.error("Error loading remote stylesheet",O)})),console.error("Error inlining remote css file",R)}}),Promise.all(b).then(()=>(r.forEach(B=>{if("cssRules"in B)try{toArray(B.cssRules||[]).forEach(R=>{y.push(R)})}catch(R){console.error(`Error while reading CSS rules from ${B.href}`,R)}}),y))}function getWebFontRules(r){return r.filter(x=>x.type===CSSRule.FONT_FACE_RULE).filter(x=>shouldEmbed(x.style.getPropertyValue("src")))}async function parseWebFontRules(r,x){if(r.ownerDocument==null)throw new Error("Provided element is not within a Document");const y=toArray(r.ownerDocument.styleSheets),b=await getCSSRules(y,x);return getWebFontRules(b)}function normalizeFontFamily(r){return r.trim().replace(/["']/g,"")}function getUsedFonts(r){const x=new Set;function y(b){(b.style.fontFamily||getComputedStyle(b).fontFamily).split(",").forEach(R=>{x.add(normalizeFontFamily(R))}),Array.from(b.children).forEach(R=>{R instanceof HTMLElement&&y(R)})}return y(r),x}async function getWebFontCSS(r,x){const y=await parseWebFontRules(r,x),b=getUsedFonts(r);return(await Promise.all(y.filter(R=>b.has(normalizeFontFamily(R.style.fontFamily))).map(R=>{const I=R.parentStyleSheet?R.parentStyleSheet.href:null;return embedResources(R.cssText,I,x)}))).join(`
`)}async function embedWebFonts(r,x){const y=x.fontEmbedCSS!=null?x.fontEmbedCSS:x.skipFonts?null:await getWebFontCSS(r,x);if(y){const b=document.createElement("style"),B=document.createTextNode(y);b.appendChild(B),r.firstChild?r.insertBefore(b,r.firstChild):r.appendChild(b)}}async function toSvg(r,x={}){const{width:y,height:b}=getImageSize(r,x),B=await cloneNode(r,x,!0);return await embedWebFonts(B,x),await embedImages(B,x),applyStyle(B,x),await nodeToDataURL(B,y,b)}async function toCanvas(r,x={}){const{width:y,height:b}=getImageSize(r,x),B=await toSvg(r,x),R=await createImage(B),I=document.createElement("canvas"),O=I.getContext("2d"),G=x.pixelRatio||getPixelRatio(),q=x.canvasWidth||y,ee=x.canvasHeight||b;return I.width=q*G,I.height=ee*G,x.skipAutoScale||checkCanvasDimensions(I),I.style.width=`${q}`,I.style.height=`${ee}`,x.backgroundColor&&(O.fillStyle=x.backgroundColor,O.fillRect(0,0,I.width,I.height)),O.drawImage(R,0,0,I.width,I.height),I}async function toPng(r,x={}){return(await toCanvas(r,x)).toDataURL()}const modalOverlay$2="_modalOverlay_15gkq_1",modalContent="_modalContent_15gkq_27",header$5="_header_15gkq_43",title$7="_title_15gkq_59",closeButton="_closeButton_15gkq_71",body$2="_body_15gkq_87",qrCodeWrapper="_qrCodeWrapper_15gkq_139",downloadButton$1="_downloadButton_15gkq_151",loadingState="_loadingState_15gkq_201",noContentState="_noContentState_15gkq_221",mainName="_mainName_15gkq_241",subName="_subName_15gkq_257",emptyMessage="_emptyMessage_15gkq_273",qrDownloadArea="_qrDownloadArea_15gkq_287",styles$q={modalOverlay:modalOverlay$2,modalContent,header:header$5,title:title$7,closeButton,body:body$2,qrCodeWrapper,downloadButton:downloadButton$1,loadingState,noContentState,mainName,subName,emptyMessage,qrDownloadArea};function QrModal({data:r,onClose:x,type:y}){var Ue;const[b,B]=reactExports$1.useState(!0),[R,I]=reactExports$1.useState(!1),[O,G]=reactExports$1.useState(""),q=reactExports$1.useRef(null),ee=y==="artworks",ne=y==="exhibitions";let oe="",pe="",xe="";r&&(ee?(oe=r.art_title,pe=r.artist_name||r.art_medium||"",xe=r.art_title||"artwork"):ne?(oe=r.exhibition_title,pe=((Ue=r.gallery)==null?void 0:Ue.gallery_name)||r.gallery_name||"",xe=r.exhibition_title||"exhibition"):(oe=r.gallery_name,pe=r.gallery_eng_name||"",xe=r.gallery_name||"gallery")),reactExports$1.useEffect(()=>{(async()=>{if(r!=null&&r.id){B(!0);try{if(ee){const $e=(await userInstance.get(`/api/arts/${r.id}`)).data,Ne=$e.docent_audio_path||$e.docent_video_path;Ne?(I(!0),G(Ne)):I(!1)}else{const He=ne?"exhibitionCategory":"galleryCategory",$e=await userInstance.get("/api/leaflet",{params:{category:He,category_id:r.id}});if((Array.isArray($e.data)?$e.data:[]).length>0){I(!0);const Qe=`${window.location.origin}/view/leaflet/${y}/${r.id}`;G(Qe),console.log(Qe)}else I(!1)}}catch(He){console.error("  :",He),I(!1)}finally{B(!1)}}})()},[r,y,ee,ne]);const _e=()=>{q.current!==null&&toPng(q.current,{cacheBust:!0,backgroundColor:"#ffffff",pixelRatio:2}).then(Le=>{const He=document.createElement("a");He.download=`${xe}-qr-code.png`,He.href=Le,He.click()}).catch(Le=>{console.error("  :",Le),alert("  .")})};return r?jsxRuntimeExports.jsx("div",{className:styles$q.modalOverlay,onClick:x,children:jsxRuntimeExports.jsxs("div",{className:styles$q.modalContent,onClick:Le=>Le.stopPropagation(),children:[jsxRuntimeExports.jsxs("header",{className:styles$q.header,children:[jsxRuntimeExports.jsx("h2",{className:styles$q.title,children:ee?"QR :  ":"QR : /"}),jsxRuntimeExports.jsx("button",{className:styles$q.closeButton,onClick:x,children:""})]}),jsxRuntimeExports.jsx("div",{className:styles$q.body,children:b?jsxRuntimeExports.jsx("div",{className:styles$q.loadingState,children:jsxRuntimeExports.jsx("p",{children:"  ..."})}):R?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{ref:q,className:styles$q.qrDownloadArea,children:[jsxRuntimeExports.jsxs("div",{className:styles$q.infoArea,children:[jsxRuntimeExports.jsx("p",{className:styles$q.mainName,children:oe||"  "}),jsxRuntimeExports.jsx("p",{className:styles$q.subName,children:pe})]}),jsxRuntimeExports.jsx("div",{className:styles$q.qrCodeWrapper,children:jsxRuntimeExports.jsx(QRCode,{value:O,size:200,bgColor:"#FFFFFF",fgColor:"#000000",level:"L",style:{height:"auto",maxWidth:"100%",width:"100%"}})})]}),jsxRuntimeExports.jsx("button",{className:styles$q.downloadButton,onClick:_e,children:""})]}):jsxRuntimeExports.jsxs("div",{className:styles$q.noContentState,children:[jsxRuntimeExports.jsx("p",{className:styles$q.mainName,children:oe||"  "}),jsxRuntimeExports.jsx("p",{className:styles$q.subName,children:pe}),jsxRuntimeExports.jsx("div",{className:styles$q.emptyMessage,children:ee?" (/) .":"   ."})]})})]})}):null}const layout$9="_layout_1t00d_1",breadcrumb$2="_breadcrumb_1t00d_21",breadcrumbBack$2="_breadcrumbBack_1t00d_35",card$4="_card_1t00d_45",titleSection$2="_titleSection_1t00d_63",galleryTitle="_galleryTitle_1t00d_73",gallerySubTitle="_gallerySubTitle_1t00d_87",galleryImage="_galleryImage_1t00d_99",btnLayout$2="_btnLayout_1t00d_117",likeButton$1="_likeButton_1t00d_131",icon$3="_icon_1t00d_155",likedIcon$2="_likedIcon_1t00d_163",containerLayout="_containerLayout_1t00d_173",tagContainer$1="_tagContainer_1t00d_185",tag="_tag_1t00d_185",infoList$2="_infoList_1t00d_221",infoRow$2="_infoRow_1t00d_235",infoLabel$2="_infoLabel_1t00d_245",infoContent$2="_infoContent_1t00d_257",homepageButton$1="_homepageButton_1t00d_277",descriptionParagraph$2="_descriptionParagraph_1t00d_335",inlineSns="_inlineSns_1t00d_381",snsLink="_snsLink_1t00d_395",snsIcon="_snsIcon_1t00d_405",instagram="_instagram_1t00d_429",youtube="_youtube_1t00d_437",defaultLink="_defaultLink_1t00d_445",emptyContent$5="_emptyContent_1t00d_453",sectionTitle="_sectionTitle_1t00d_467",backButton$4="_backButton_1t00d_479",emptyInfo$2="_emptyInfo_1t00d_513",styles$p={layout:layout$9,breadcrumb:breadcrumb$2,breadcrumbBack:breadcrumbBack$2,card:card$4,titleSection:titleSection$2,galleryTitle,gallerySubTitle,galleryImage,btnLayout:btnLayout$2,likeButton:likeButton$1,icon:icon$3,likedIcon:likedIcon$2,containerLayout,tagContainer:tagContainer$1,tag,infoList:infoList$2,infoRow:infoRow$2,infoLabel:infoLabel$2,infoContent:infoContent$2,homepageButton:homepageButton$1,descriptionParagraph:descriptionParagraph$2,inlineSns,snsLink,snsIcon,instagram,youtube,defaultLink,emptyContent:emptyContent$5,sectionTitle,backButton:backButton$4,emptyInfo:emptyInfo$2},tabsLayout="_tabsLayout_19iru_1",tabNav="_tabNav_19iru_13",tabContent="_tabContent_19iru_39",tabButton$1="_tabButton_19iru_63",activeTab$1="_activeTab_19iru_93",styles$o={tabsLayout,tabNav,tabContent,tabButton:tabButton$1,activeTab:activeTab$1};function DetailTabs({tabs:r,activeTab:x,setActiveTab:y,children:b}){return jsxRuntimeExports.jsxs("div",{className:styles$o.tabsLayout,children:[jsxRuntimeExports.jsx("nav",{className:styles$o.tabNav,children:r.map(({key:B,label:R})=>jsxRuntimeExports.jsx("button",{className:`${styles$o.tabButton} ${x===B?styles$o.activeTab:""}`,onClick:()=>y(B),children:R},B))}),jsxRuntimeExports.jsx("section",{className:styles$o.tabContent,children:b})]})}const exhibitionList="_exhibitionList_2y960_1",exhibitionCard="_exhibitionCard_2y960_17",imageContainer="_imageContainer_2y960_49",exhibitionImage="_exhibitionImage_2y960_63",statusTag="_statusTag_2y960_77",statusOn="_statusOn_2y960_101",statusScheduled="_statusScheduled_2y960_107",statusDone="_statusDone_2y960_113",statusDefault="_statusDefault_2y960_119",infoContainer="_infoContainer_2y960_127",title$6="_title_2y960_147",location$1="_location_2y960_165",date$1="_date_2y960_175",emptyContent$4="_emptyContent_2y960_185",styles$n={exhibitionList,exhibitionCard,imageContainer,exhibitionImage,statusTag,statusOn,statusScheduled,statusDone,statusDefault,infoContainer,title:title$6,location:location$1,date:date$1,emptyContent:emptyContent$4},STATUS_CONFIG={exhibited:{text:"",className:styles$n.statusOn},scheduled:{text:"",className:styles$n.statusScheduled},ended:{text:"",className:styles$n.statusDone},default:{text:"",className:styles$n.statusDefault}},BASE_URL$2="https://artly.soundgram.co.kr";function ExhibitionsCards({exhibitions:r}){const y=useLocation().pathname.includes("/console");return console.log(" ",r),!r||r.length===0?jsxRuntimeExports.jsx("p",{className:styles$n.emptyContent,children:"   ."}):jsxRuntimeExports.jsx("section",{className:styles$n.exhibitionList,children:r.map(({id:b,exhibition_poster:B,exhibition_title:R,exhibition_status:I,exhibition_location:O,exhibition_start_date:G,exhibition_end_date:q})=>{const ee=STATUS_CONFIG[I]||STATUS_CONFIG.default,ne=y?`/console/exhibitions/${b}`:`/exhibitions/${b}`,oe=B&&!B.startsWith("http")?`${BASE_URL$2}/${B}`:B;return jsxRuntimeExports.jsxs(Link$1,{className:styles$n.exhibitionCard,to:ne,children:[jsxRuntimeExports.jsxs("div",{className:styles$n.imageContainer,children:[jsxRuntimeExports.jsx("img",{className:styles$n.exhibitionImage,src:oe,alt:"  "}),jsxRuntimeExports.jsx("span",{className:`${styles$n.statusTag} ${ee.className}`,children:ee.text})]}),jsxRuntimeExports.jsxs("div",{className:styles$n.infoContainer,children:[jsxRuntimeExports.jsx("h4",{className:styles$n.title,children:R||" "}),jsxRuntimeExports.jsx("p",{className:styles$n.location,children:O||"  "}),jsxRuntimeExports.jsx("p",{className:styles$n.date,children:`${G||" "} ~ ${q||" "}`})]})]},b)})})}const artworkGrid$2="_artworkGrid_2xf7o_1",artworkCard$2="_artworkCard_2xf7o_45",artworkImage$1="_artworkImage_2xf7o_83",artworkInfo="_artworkInfo_2xf7o_97",title$5="_title_2xf7o_111",materials="_materials_2xf7o_123",details="_details_2xf7o_133",emptyContent$3="_emptyContent_2xf7o_145",styles$m={artworkGrid:artworkGrid$2,artworkCard:artworkCard$2,artworkImage:artworkImage$1,artworkInfo,title:title$5,materials,details,emptyContent:emptyContent$3};function ArtworksCards({artworks:r}){const y=useLocation().pathname.includes("/console");return console.log(r),!r||r.length===0?jsxRuntimeExports.jsx("p",{className:styles$m.emptyContent,children:"   ."}):jsxRuntimeExports.jsx("section",{className:styles$m.artworkGrid,children:r.map(({id:b,image_url:B,title:R,materials:I,size:O,year:G})=>{const q=y?`/console/artworks/${b}`:`/artworks/${b}`;return jsxRuntimeExports.jsxs(Link$1,{className:styles$m.artworkCard,to:q,children:[jsxRuntimeExports.jsx("img",{className:styles$m.artworkImage,src:B,alt:R}),jsxRuntimeExports.jsxs("div",{className:styles$m.artworkInfo,children:[jsxRuntimeExports.jsx("h4",{className:styles$m.title,children:R}),jsxRuntimeExports.jsx("p",{className:styles$m.materials,children:I}),jsxRuntimeExports.jsx("p",{className:styles$m.details,children:`${O}, ${G}`})]})]},b)})})}const modalOverlay$1="_modalOverlay_1ug3w_1",mapModalBox="_mapModalBox_1ug3w_21",mapModalTitle="_mapModalTitle_1ug3w_61",mapModalSubTitle="_mapModalSubTitle_1ug3w_73",mapModalMap="_mapModalMap_1ug3w_87",mapModalClose="_mapModalClose_1ug3w_101",styles$l={modalOverlay:modalOverlay$1,mapModalBox,mapModalTitle,mapModalSubTitle,mapModalMap,mapModalClose};function MapModalSimple({lat:r,lng:x,title:y,address:b,mapId:B,onClose:R}){return useMap({lat:r,lng:x,id:B,title:y,location:b}),console.log("MapModalSimple !",B),reactExports$1.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),jsxRuntimeExports.jsx("div",{className:styles$l.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$l.mapModalBox,children:[jsxRuntimeExports.jsx("h3",{className:styles$l.mapModalTitle,children:y}),jsxRuntimeExports.jsx("p",{className:styles$l.mapModalSubTitle,children:b}),jsxRuntimeExports.jsx("div",{id:B,className:styles$l.mapModalMap}),jsxRuntimeExports.jsx("button",{className:styles$l.mapModalClose,onClick:R,children:""})]})})}function GalleryDetail({showUserActions:r=!0,id:x,actionButtons:y}){const{galleryId:b}=useParams(),B=x||b,R=useNavigate(),{user:I}=useUser(),[O,G]=reactExports$1.useState(null),[q,ee]=reactExports$1.useState(!1),[ne,oe]=reactExports$1.useState(!1),[pe,xe]=reactExports$1.useState("info"),[_e,Ue]=reactExports$1.useState(!1),Le=async()=>{if(B)try{const Ut=await userInstance.get(`/api/galleries/${B}`),{data:an}=Ut;G(an),typeof an.is_liked=="boolean"&&ee(an.is_liked)}catch(Ut){console.error("   :",Ut)}};if(reactExports$1.useEffect(()=>{Le()},[B]),reactExports$1.useEffect(()=>{O&&typeof O.is_liked=="boolean"&&ee(O.is_liked)},[O]),!O)return jsxRuntimeExports.jsx("div",{children:" ..."});const He=async()=>{if(!I){R("/login");return}try{const Ut={liked_id:B,liked_type:"gallery"};if(q){await userInstance.delete("/api/likes",{data:Ut}),ee(!1);return}else await userInstance.post("/api/likes",{liked_id:B,liked_type:"gallery"});await userInstance.post("/api/likes",Ut),ee(!0),oe(!0)}catch(Ut){console.error("  :",Ut)}},$e=()=>{const Ut=O.gallery_name,an=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${Ut}`,text:`${Ut}   !`,url:an}).catch(hn=>console.error(" :",hn));else{const hn=document.createElement("textarea");hn.value=an,document.body.appendChild(hn),hn.select();try{document.execCommand("copy"),alert("  .")}catch(Ln){console.error("  :",Ln),alert("  .")}finally{document.body.removeChild(hn)}}},Ne={instagram:FaInstagram,youtube:FaYoutube,default:FaLink},{exhibitions:Qe=[],artworks:We=[],gallery_address:Ge="",gallery_category:Xe="",gallery_closed_day:Je="",gallery_description:ut="",gallery_end_time:ft="",gallery_start_time:ct="",gallery_image:pt="",gallery_name:yt="",gallery_eng_name:lt="",gallery_phone:Ze="",gallery_email:it="",gallery_homepage:Ye="",gallery_sns:et,gallery_latitude:gt,gallery_longitude:st}=O;let ht=[];try{Array.isArray(et)?ht=et:typeof et=="string"&&(ht=JSON.parse(et))}catch(Ut){console.error("SNS   :",Ut),ht=[]}const vt=ht.filter(Ut=>Ut.url&&Ut.url.trim()!==""),Et=[{label:"",content:ct&&ft?`${ct.slice(0,5)} ~ ${ft.slice(0,5)}`:" "},{label:"",content:Je||" "},{label:"",content:Ze||" "},{label:"",content:Ge||" "},{label:"",content:it?jsxRuntimeExports.jsx("a",{href:`mailto:${it}`,children:it}):" "},{label:"SNS",content:vt.length>0?jsxRuntimeExports.jsx("div",{className:styles$p.inlineSns,children:vt.map(({type:Ut,url:an})=>{const hn=Ut==null?void 0:Ut.toLowerCase(),Ln=Ne[hn]||Ne.default,pn=styles$p[hn]||styles$p.defaultLink;return jsxRuntimeExports.jsx("a",{href:an,target:"_blank",rel:"noopener noreferrer",className:styles$p.snsLink,children:jsxRuntimeExports.jsx(Ln,{className:`${styles$p.snsIcon} ${pn}`})},`${Ut}-${an}`)})}):" "}],Rt=[{key:"info",label:""},{key:"artworks",label:`(${We.length||0})`},{key:"exhibitions",label:`(${Qe.length||0})`}],_t=`gallery-${B}-map`;return jsxRuntimeExports.jsxs("div",{className:styles$p.layout,children:[r&&jsxRuntimeExports.jsxs("div",{className:styles$p.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$p.breadcrumbBack,onClick:()=>R("/galleries"),children:""})," ","> ",yt]}),jsxRuntimeExports.jsxs("section",{className:styles$p.titleSection,children:[jsxRuntimeExports.jsx("h1",{className:styles$p.galleryTitle,children:yt}),jsxRuntimeExports.jsx("p",{className:styles$p.gallerySubTitle,children:lt||"Gallery"})]}),jsxRuntimeExports.jsxs("div",{className:styles$p.card,children:[jsxRuntimeExports.jsx("img",{className:styles$p.galleryImage,src:pt,alt:"  "}),r&&jsxRuntimeExports.jsxs("div",{className:styles$p.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$p.likeButton,onClick:He,children:[jsxRuntimeExports.jsx(FaStar$1,{className:q?styles$p.likedIcon:styles$p.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$p.likeButton,onClick:()=>Ue(!0),children:[jsxRuntimeExports.jsx(FaLocationDot,{className:styles$p.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$p.likeButton,onClick:$e,children:[jsxRuntimeExports.jsx(FaShare$1,{className:styles$p.icon}),""]})]}),jsxRuntimeExports.jsx("div",{className:styles$p.tagContainer,children:Xe&&Xe.split(",").map(Ut=>jsxRuntimeExports.jsx("span",{className:styles$p.tag,children:Ut.trim()},Ut))}),jsxRuntimeExports.jsxs("section",{className:styles$p.infoList,children:[Et.map(({label:Ut,content:an})=>{const hn=!an||typeof an=="string"&&an.trim()===" ";return jsxRuntimeExports.jsxs("div",{className:styles$p.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$p.infoLabel,children:Ut}),jsxRuntimeExports.jsx("div",{className:`${styles$p.infoContent} ${hn?styles$p.emptyInfo:""}`,children:an})]},Ut)}),jsxRuntimeExports.jsx("button",{disabled:!Ye,className:styles$p.homepageButton,onClick:()=>window.open(Ye,"_blank"),children:Ye?"":"  "})]})]}),jsxRuntimeExports.jsxs(DetailTabs,{tabs:Rt,activeTab:pe,setActiveTab:xe,children:[pe==="info"&&(ut?jsxRuntimeExports.jsx("div",{className:styles$p.descriptionParagraph,dangerouslySetInnerHTML:{__html:ut}}):jsxRuntimeExports.jsx("p",{className:styles$p.emptyContent,children:"   ."})),pe==="artworks"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[We.length>0?jsxRuntimeExports.jsx(ArtworksCards,{artworks:We}):jsxRuntimeExports.jsx("p",{className:styles$p.emptyContent,children:"  ."}),y==null?void 0:y.artworks]}),pe==="exhibitions"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Qe.length>0?jsxRuntimeExports.jsx(ExhibitionsCards,{exhibitions:Qe}):jsxRuntimeExports.jsx("p",{className:styles$p.emptyContent,children:"  ."}),y==null?void 0:y.exhibitions]})]}),r&&jsxRuntimeExports.jsx("button",{className:styles$p.backButton,onClick:()=>R("/galleries"),children:" "}),_e&&jsxRuntimeExports.jsx(MapModalSimple,{lat:gt,lng:st,title:yt,address:Ge,mapId:_t,onClose:()=>Ue(!1)}),ne&&jsxRuntimeExports.jsx(LikePopup,{onClose:()=>oe(!1)})]})}const layout$8="_layout_iiewb_1",breadcrumb$1="_breadcrumb_iiewb_21",breadcrumbBack$1="_breadcrumbBack_iiewb_35",card$3="_card_iiewb_45",titleSection$1="_titleSection_iiewb_63",exhibitionTitle$1="_exhibitionTitle_iiewb_73",posterImage="_posterImage_iiewb_87",btnLayout$1="_btnLayout_iiewb_111",likeButton="_likeButton_iiewb_125",icon$2="_icon_iiewb_149",likedIcon$1="_likedIcon_iiewb_157",infoList$1="_infoList_iiewb_165",infoRow$1="_infoRow_iiewb_181",infoLabel$1="_infoLabel_iiewb_191",infoContent$1="_infoContent_iiewb_203",homepageButton="_homepageButton_iiewb_223",descriptionParagraph$1="_descriptionParagraph_iiewb_281",emptyContent$2="_emptyContent_iiewb_317",emptyInfo$1="_emptyInfo_iiewb_331",backButton$3="_backButton_iiewb_339",disabledButton="_disabledButton_iiewb_377",styles$k={layout:layout$8,breadcrumb:breadcrumb$1,breadcrumbBack:breadcrumbBack$1,card:card$3,titleSection:titleSection$1,exhibitionTitle:exhibitionTitle$1,posterImage,btnLayout:btnLayout$1,likeButton,icon:icon$2,likedIcon:likedIcon$1,infoList:infoList$1,infoRow:infoRow$1,infoLabel:infoLabel$1,infoContent:infoContent$1,homepageButton,descriptionParagraph:descriptionParagraph$1,emptyContent:emptyContent$2,emptyInfo:emptyInfo$1,backButton:backButton$3,disabledButton},relatedSection="_relatedSection_c53cq_1",list$1="_list_c53cq_17",card$2="_card_c53cq_31",imageWrapper="_imageWrapper_c53cq_63",image$2="_image_c53cq_63",info$1="_info_c53cq_99",title$4="_title_c53cq_115",meta="_meta_c53cq_127",date="_date_c53cq_137",styles$j={relatedSection,list:list$1,card:card$2,imageWrapper,image:image$2,info:info$1,title:title$4,meta,date},BASE_URL$1="https://artly.soundgram.co.kr";function RelatedExhibitions({exhibitions:r}){const x=useNavigate();return jsxRuntimeExports.jsx("section",{className:styles$j.relatedSection,children:jsxRuntimeExports.jsx("div",{className:styles$j.list,children:r.map(({id:y,title:b,poster:B,start_date:R,end_date:I,location:O,organization:G})=>{const q=B&&!B.startsWith("http")?`${BASE_URL$1}/${B}`:B;return jsxRuntimeExports.jsxs("div",{className:styles$j.card,onClick:()=>x(`/exhibitions/${y}`),children:[jsxRuntimeExports.jsx("div",{className:styles$j.imageWrapper,children:jsxRuntimeExports.jsx("img",{src:q,alt:b,className:styles$j.image})}),jsxRuntimeExports.jsxs("div",{className:styles$j.info,children:[jsxRuntimeExports.jsx("h4",{className:styles$j.title,children:b||" "}),jsxRuntimeExports.jsxs("p",{className:styles$j.meta,children:[G||"  "," |"," ",O||"  "]}),jsxRuntimeExports.jsxs("p",{className:styles$j.date,children:[R," ~ ",I]})]})]},y)})})})}const page="_page_ti4pj_1",title$3="_title_ti4pj_15",formArea="_formArea_ti4pj_31",label$2="_label_ti4pj_47",input$1="_input_ti4pj_61",textarea$2="_textarea_ti4pj_63",tagContainer="_tagContainer_ti4pj_107",tagButton="_tagButton_ti4pj_119",submitButton$1="_submitButton_ti4pj_151",resultArea="_resultArea_ti4pj_197",resultCard="_resultCard_ti4pj_211",textContent="_textContent_ti4pj_231",cardHeader="_cardHeader_ti4pj_261",buttonGroup="_buttonGroup_ti4pj_287",copyButton="_copyButton_ti4pj_299",captureButton="_captureButton_ti4pj_301",refineButton="_refineButton_ti4pj_349",placeholder$1="_placeholder_ti4pj_383",styles$i={page,title:title$3,formArea,label:label$2,input:input$1,textarea:textarea$2,tagContainer,tagButton,submitButton:submitButton$1,resultArea,resultCard,textContent,cardHeader,buttonGroup,copyButton,captureButton,refineButton,placeholder:placeholder$1};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(r,x){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var B in b)Object.prototype.hasOwnProperty.call(b,B)&&(y[B]=b[B])},extendStatics(r,x)};function __extends(r,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");extendStatics(r,x);function y(){this.constructor=r}r.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)}var __assign=function(){return __assign=Object.assign||function(x){for(var y,b=1,B=arguments.length;b<B;b++){y=arguments[b];for(var R in y)Object.prototype.hasOwnProperty.call(y,R)&&(x[R]=y[R])}return x},__assign.apply(this,arguments)};function __awaiter$1(r,x,y,b){function B(R){return R instanceof y?R:new y(function(I){I(R)})}return new(y||(y=Promise))(function(R,I){function O(ee){try{q(b.next(ee))}catch(ne){I(ne)}}function G(ee){try{q(b.throw(ee))}catch(ne){I(ne)}}function q(ee){ee.done?R(ee.value):B(ee.value).then(O,G)}q((b=b.apply(r,[])).next())})}function __generator(r,x){var y={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},b,B,R,I;return I={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function O(q){return function(ee){return G([q,ee])}}function G(q){if(b)throw new TypeError("Generator is already executing.");for(;y;)try{if(b=1,B&&(R=q[0]&2?B.return:q[0]?B.throw||((R=B.return)&&R.call(B),0):B.next)&&!(R=R.call(B,q[1])).done)return R;switch(B=0,R&&(q=[q[0]&2,R.value]),q[0]){case 0:case 1:R=q;break;case 4:return y.label++,{value:q[1],done:!1};case 5:y.label++,B=q[1],q=[0];continue;case 7:q=y.ops.pop(),y.trys.pop();continue;default:if(R=y.trys,!(R=R.length>0&&R[R.length-1])&&(q[0]===6||q[0]===2)){y=0;continue}if(q[0]===3&&(!R||q[1]>R[0]&&q[1]<R[3])){y.label=q[1];break}if(q[0]===6&&y.label<R[1]){y.label=R[1],R=q;break}if(R&&y.label<R[2]){y.label=R[2],y.ops.push(q);break}R[2]&&y.ops.pop(),y.trys.pop();continue}q=x.call(r,y)}catch(ee){q=[6,ee],B=0}finally{b=R=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}}function __spreadArray(r,x,y){if(arguments.length===2)for(var b=0,B=x.length,R;b<B;b++)(R||!(b in x))&&(R||(R=Array.prototype.slice.call(x,0,b)),R[b]=x[b]);return r.concat(R||x)}var Bounds=(function(){function r(x,y,b,B){this.left=x,this.top=y,this.width=b,this.height=B}return r.prototype.add=function(x,y,b,B){return new r(this.left+x,this.top+y,this.width+b,this.height+B)},r.fromClientRect=function(x,y){return new r(y.left+x.windowBounds.left,y.top+x.windowBounds.top,y.width,y.height)},r.fromDOMRectList=function(x,y){var b=Array.from(y).find(function(B){return B.width!==0});return b?new r(b.left+x.windowBounds.left,b.top+x.windowBounds.top,b.width,b.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r})(),parseBounds=function(r,x){return Bounds.fromClientRect(r,x.getBoundingClientRect())},parseDocumentSize=function(r){var x=r.body,y=r.documentElement;if(!x||!y)throw new Error("Unable to get document size");var b=Math.max(Math.max(x.scrollWidth,y.scrollWidth),Math.max(x.offsetWidth,y.offsetWidth),Math.max(x.clientWidth,y.clientWidth)),B=Math.max(Math.max(x.scrollHeight,y.scrollHeight),Math.max(x.offsetHeight,y.offsetHeight),Math.max(x.clientHeight,y.clientHeight));return new Bounds(0,0,b,B)},toCodePoints$1=function(r){for(var x=[],y=0,b=r.length;y<b;){var B=r.charCodeAt(y++);if(B>=55296&&B<=56319&&y<b){var R=r.charCodeAt(y++);(R&64512)===56320?x.push(((B&1023)<<10)+(R&1023)+65536):(x.push(B),y--)}else x.push(B)}return x},fromCodePoint$1=function(){for(var r=[],x=0;x<arguments.length;x++)r[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var y=r.length;if(!y)return"";for(var b=[],B=-1,R="";++B<y;){var I=r[B];I<=65535?b.push(I):(I-=65536,b.push((I>>10)+55296,I%1024+56320)),(B+1===y||b.length>16384)&&(R+=String.fromCharCode.apply(String,b),b.length=0)}return R},chars$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$2=0;i$2<chars$2.length;i$2++)lookup$2[chars$2.charCodeAt(i$2)]=i$2;var chars$1$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1$1=0;i$1$1<chars$1$1.length;i$1$1++)lookup$1$1[chars$1$1.charCodeAt(i$1$1)]=i$1$1;var decode$1=function(r){var x=r.length*.75,y=r.length,b,B=0,R,I,O,G;r[r.length-1]==="="&&(x--,r[r.length-2]==="="&&x--);var q=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(x):new Array(x),ee=Array.isArray(q)?q:new Uint8Array(q);for(b=0;b<y;b+=4)R=lookup$1$1[r.charCodeAt(b)],I=lookup$1$1[r.charCodeAt(b+1)],O=lookup$1$1[r.charCodeAt(b+2)],G=lookup$1$1[r.charCodeAt(b+3)],ee[B++]=R<<2|I>>4,ee[B++]=(I&15)<<4|O>>2,ee[B++]=(O&3)<<6|G&63;return q},polyUint16Array$1=function(r){for(var x=r.length,y=[],b=0;b<x;b+=2)y.push(r[b+1]<<8|r[b]);return y},polyUint32Array$1=function(r){for(var x=r.length,y=[],b=0;b<x;b+=4)y.push(r[b+3]<<24|r[b+2]<<16|r[b+1]<<8|r[b]);return y},UTRIE2_SHIFT_2$1=5,UTRIE2_SHIFT_1$1=11,UTRIE2_INDEX_SHIFT$1=2,UTRIE2_SHIFT_1_2$1=UTRIE2_SHIFT_1$1-UTRIE2_SHIFT_2$1,UTRIE2_LSCP_INDEX_2_OFFSET$1=65536>>UTRIE2_SHIFT_2$1,UTRIE2_DATA_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_2$1,UTRIE2_DATA_MASK$1=UTRIE2_DATA_BLOCK_LENGTH$1-1,UTRIE2_LSCP_INDEX_2_LENGTH$1=1024>>UTRIE2_SHIFT_2$1,UTRIE2_INDEX_2_BMP_LENGTH$1=UTRIE2_LSCP_INDEX_2_OFFSET$1+UTRIE2_LSCP_INDEX_2_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_OFFSET$1=UTRIE2_INDEX_2_BMP_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_LENGTH$1=32,UTRIE2_INDEX_1_OFFSET$1=UTRIE2_UTF8_2B_INDEX_2_OFFSET$1+UTRIE2_UTF8_2B_INDEX_2_LENGTH$1,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1=65536>>UTRIE2_SHIFT_1$1,UTRIE2_INDEX_2_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_1_2$1,UTRIE2_INDEX_2_MASK$1=UTRIE2_INDEX_2_BLOCK_LENGTH$1-1,slice16$1=function(r,x,y){return r.slice?r.slice(x,y):new Uint16Array(Array.prototype.slice.call(r,x,y))},slice32$1=function(r,x,y){return r.slice?r.slice(x,y):new Uint32Array(Array.prototype.slice.call(r,x,y))},createTrieFromBase64$1=function(r,x){var y=decode$1(r),b=Array.isArray(y)?polyUint32Array$1(y):new Uint32Array(y),B=Array.isArray(y)?polyUint16Array$1(y):new Uint16Array(y),R=24,I=slice16$1(B,R/2,b[4]/2),O=b[5]===2?slice16$1(B,(R+b[4])/2):slice32$1(b,Math.ceil((R+b[4])/4));return new Trie$1(b[0],b[1],b[2],b[3],I,O)},Trie$1=(function(){function r(x,y,b,B,R,I){this.initialValue=x,this.errorValue=y,this.highStart=b,this.highValueIndex=B,this.index=R,this.data=I}return r.prototype.get=function(x){var y;if(x>=0){if(x<55296||x>56319&&x<=65535)return y=this.index[x>>UTRIE2_SHIFT_2$1],y=(y<<UTRIE2_INDEX_SHIFT$1)+(x&UTRIE2_DATA_MASK$1),this.data[y];if(x<=65535)return y=this.index[UTRIE2_LSCP_INDEX_2_OFFSET$1+(x-55296>>UTRIE2_SHIFT_2$1)],y=(y<<UTRIE2_INDEX_SHIFT$1)+(x&UTRIE2_DATA_MASK$1),this.data[y];if(x<this.highStart)return y=UTRIE2_INDEX_1_OFFSET$1-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1+(x>>UTRIE2_SHIFT_1$1),y=this.index[y],y+=x>>UTRIE2_SHIFT_2$1&UTRIE2_INDEX_2_MASK$1,y=this.index[y],y=(y<<UTRIE2_INDEX_SHIFT$1)+(x&UTRIE2_DATA_MASK$1),this.data[y];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),chars$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$3=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$3=0;i$3<chars$3.length;i$3++)lookup$3[chars$3.charCodeAt(i$3)]=i$3;var base64$1="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LETTER_NUMBER_MODIFIER=50,BK=1,CR$1=2,LF$1=3,CM=4,NL$1=5,WJ=7,ZW=8,GL=9,SP=10,ZWJ$1=11,B2=12,BA=13,BB=14,HY=15,CB=16,CL=17,CP=18,EX=19,IN=20,NS=21,OP=22,QU=23,IS=24,NU=25,PO=26,PR=27,SY=28,AI=29,AL=30,CJ=31,EB=32,EM=33,H2=34,H3=35,HL=36,ID=37,JL=38,JV=39,JT=40,RI$1=41,SA=42,XX=43,ea_OP=[9001,65288],BREAK_MANDATORY="!",BREAK_NOT_ALLOWED$1="",BREAK_ALLOWED$1="",UnicodeTrie$1=createTrieFromBase64$1(base64$1),ALPHABETICS=[AL,HL],HARD_LINE_BREAKS=[BK,CR$1,LF$1,NL$1],SPACE$1=[SP,ZW],PREFIX_POSTFIX=[PR,PO],LINE_BREAKS=HARD_LINE_BREAKS.concat(SPACE$1),KOREAN_SYLLABLE_BLOCK=[JL,JV,JT,H2,H3],HYPHEN$1=[HY,BA],codePointsToCharacterClasses=function(r,x){x===void 0&&(x="strict");var y=[],b=[],B=[];return r.forEach(function(R,I){var O=UnicodeTrie$1.get(R);if(O>LETTER_NUMBER_MODIFIER?(B.push(!0),O-=LETTER_NUMBER_MODIFIER):B.push(!1),["normal","auto","loose"].indexOf(x)!==-1&&[8208,8211,12316,12448].indexOf(R)!==-1)return b.push(I),y.push(CB);if(O===CM||O===ZWJ$1){if(I===0)return b.push(I),y.push(AL);var G=y[I-1];return LINE_BREAKS.indexOf(G)===-1?(b.push(b[I-1]),y.push(G)):(b.push(I),y.push(AL))}if(b.push(I),O===CJ)return y.push(x==="strict"?NS:ID);if(O===SA||O===AI)return y.push(AL);if(O===XX)return R>=131072&&R<=196605||R>=196608&&R<=262141?y.push(ID):y.push(AL);y.push(O)}),[b,y,B]},isAdjacentWithSpaceIgnored=function(r,x,y,b){var B=b[y];if(Array.isArray(r)?r.indexOf(B)!==-1:r===B)for(var R=y;R<=b.length;){R++;var I=b[R];if(I===x)return!0;if(I!==SP)break}if(B===SP)for(var R=y;R>0;){R--;var O=b[R];if(Array.isArray(r)?r.indexOf(O)!==-1:r===O)for(var G=y;G<=b.length;){G++;var I=b[G];if(I===x)return!0;if(I!==SP)break}if(O!==SP)break}return!1},previousNonSpaceClassType=function(r,x){for(var y=r;y>=0;){var b=x[y];if(b===SP)y--;else return b}return 0},_lineBreakAtIndex=function(r,x,y,b,B){if(y[b]===0)return BREAK_NOT_ALLOWED$1;var R=b-1;if(Array.isArray(B)&&B[R]===!0)return BREAK_NOT_ALLOWED$1;var I=R-1,O=R+1,G=x[R],q=I>=0?x[I]:0,ee=x[O];if(G===CR$1&&ee===LF$1)return BREAK_NOT_ALLOWED$1;if(HARD_LINE_BREAKS.indexOf(G)!==-1)return BREAK_MANDATORY;if(HARD_LINE_BREAKS.indexOf(ee)!==-1||SPACE$1.indexOf(ee)!==-1)return BREAK_NOT_ALLOWED$1;if(previousNonSpaceClassType(R,x)===ZW)return BREAK_ALLOWED$1;if(UnicodeTrie$1.get(r[R])===ZWJ$1||(G===EB||G===EM)&&UnicodeTrie$1.get(r[O])===ZWJ$1||G===WJ||ee===WJ||G===GL||[SP,BA,HY].indexOf(G)===-1&&ee===GL||[CL,CP,EX,IS,SY].indexOf(ee)!==-1||previousNonSpaceClassType(R,x)===OP||isAdjacentWithSpaceIgnored(QU,OP,R,x)||isAdjacentWithSpaceIgnored([CL,CP],NS,R,x)||isAdjacentWithSpaceIgnored(B2,B2,R,x))return BREAK_NOT_ALLOWED$1;if(G===SP)return BREAK_ALLOWED$1;if(G===QU||ee===QU)return BREAK_NOT_ALLOWED$1;if(ee===CB||G===CB)return BREAK_ALLOWED$1;if([BA,HY,NS].indexOf(ee)!==-1||G===BB||q===HL&&HYPHEN$1.indexOf(G)!==-1||G===SY&&ee===HL||ee===IN||ALPHABETICS.indexOf(ee)!==-1&&G===NU||ALPHABETICS.indexOf(G)!==-1&&ee===NU||G===PR&&[ID,EB,EM].indexOf(ee)!==-1||[ID,EB,EM].indexOf(G)!==-1&&ee===PO||ALPHABETICS.indexOf(G)!==-1&&PREFIX_POSTFIX.indexOf(ee)!==-1||PREFIX_POSTFIX.indexOf(G)!==-1&&ALPHABETICS.indexOf(ee)!==-1||[PR,PO].indexOf(G)!==-1&&(ee===NU||[OP,HY].indexOf(ee)!==-1&&x[O+1]===NU)||[OP,HY].indexOf(G)!==-1&&ee===NU||G===NU&&[NU,SY,IS].indexOf(ee)!==-1)return BREAK_NOT_ALLOWED$1;if([NU,SY,IS,CL,CP].indexOf(ee)!==-1)for(var ne=R;ne>=0;){var oe=x[ne];if(oe===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(oe)!==-1)ne--;else break}if([PR,PO].indexOf(ee)!==-1)for(var ne=[CL,CP].indexOf(G)!==-1?I:R;ne>=0;){var oe=x[ne];if(oe===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(oe)!==-1)ne--;else break}if(JL===G&&[JL,JV,H2,H3].indexOf(ee)!==-1||[JV,H2].indexOf(G)!==-1&&[JV,JT].indexOf(ee)!==-1||[JT,H3].indexOf(G)!==-1&&ee===JT||KOREAN_SYLLABLE_BLOCK.indexOf(G)!==-1&&[IN,PO].indexOf(ee)!==-1||KOREAN_SYLLABLE_BLOCK.indexOf(ee)!==-1&&G===PR||ALPHABETICS.indexOf(G)!==-1&&ALPHABETICS.indexOf(ee)!==-1||G===IS&&ALPHABETICS.indexOf(ee)!==-1||ALPHABETICS.concat(NU).indexOf(G)!==-1&&ee===OP&&ea_OP.indexOf(r[O])===-1||ALPHABETICS.concat(NU).indexOf(ee)!==-1&&G===CP)return BREAK_NOT_ALLOWED$1;if(G===RI$1&&ee===RI$1){for(var pe=y[R],xe=1;pe>0&&(pe--,x[pe]===RI$1);)xe++;if(xe%2!==0)return BREAK_NOT_ALLOWED$1}return G===EB&&ee===EM?BREAK_NOT_ALLOWED$1:BREAK_ALLOWED$1},cssFormattedClasses=function(r,x){x||(x={lineBreak:"normal",wordBreak:"normal"});var y=codePointsToCharacterClasses(r,x.lineBreak),b=y[0],B=y[1],R=y[2];(x.wordBreak==="break-all"||x.wordBreak==="break-word")&&(B=B.map(function(O){return[NU,AL,SA].indexOf(O)!==-1?ID:O}));var I=x.wordBreak==="keep-all"?R.map(function(O,G){return O&&r[G]>=19968&&r[G]<=40959}):void 0;return[b,B,I]},Break=(function(){function r(x,y,b,B){this.codePoints=x,this.required=y===BREAK_MANDATORY,this.start=b,this.end=B}return r.prototype.slice=function(){return fromCodePoint$1.apply(void 0,this.codePoints.slice(this.start,this.end))},r})(),LineBreaker=function(r,x){var y=toCodePoints$1(r),b=cssFormattedClasses(y,x),B=b[0],R=b[1],I=b[2],O=y.length,G=0,q=0;return{next:function(){if(q>=O)return{done:!0,value:null};for(var ee=BREAK_NOT_ALLOWED$1;q<O&&(ee=_lineBreakAtIndex(y,R,B,++q,I))===BREAK_NOT_ALLOWED$1;);if(ee!==BREAK_NOT_ALLOWED$1||q===O){var ne=new Break(y,ee,G,q);return G=q,{value:ne,done:!1}}return{done:!0,value:null}}}},FLAG_UNRESTRICTED=1,FLAG_ID=2,FLAG_INTEGER=4,FLAG_NUMBER=8,LINE_FEED=10,SOLIDUS=47,REVERSE_SOLIDUS=92,CHARACTER_TABULATION=9,SPACE$2=32,QUOTATION_MARK=34,EQUALS_SIGN=61,NUMBER_SIGN=35,DOLLAR_SIGN=36,PERCENTAGE_SIGN=37,APOSTROPHE$1=39,LEFT_PARENTHESIS=40,RIGHT_PARENTHESIS=41,LOW_LINE=95,HYPHEN_MINUS=45,EXCLAMATION_MARK=33,LESS_THAN_SIGN=60,GREATER_THAN_SIGN=62,COMMERCIAL_AT=64,LEFT_SQUARE_BRACKET=91,RIGHT_SQUARE_BRACKET=93,CIRCUMFLEX_ACCENT=61,LEFT_CURLY_BRACKET=123,QUESTION_MARK=63,RIGHT_CURLY_BRACKET=125,VERTICAL_LINE=124,TILDE$1=126,CONTROL=128,REPLACEMENT_CHARACTER=65533,ASTERISK$1=42,PLUS_SIGN=43,COMMA$1=44,COLON$1=58,SEMICOLON=59,FULL_STOP=46,NULL=0,BACKSPACE=8,LINE_TABULATION=11,SHIFT_OUT=14,INFORMATION_SEPARATOR_ONE=31,DELETE=127,EOF=-1,ZERO=48,a$1=97,e$1=101,f$2=102,u$1=117,z=122,A=65,E$1=69,F$1=70,U=85,Z$1=90,isDigit=function(r){return r>=ZERO&&r<=57},isSurrogateCodePoint=function(r){return r>=55296&&r<=57343},isHex=function(r){return isDigit(r)||r>=A&&r<=F$1||r>=a$1&&r<=f$2},isLowerCaseLetter=function(r){return r>=a$1&&r<=z},isUpperCaseLetter=function(r){return r>=A&&r<=Z$1},isLetter=function(r){return isLowerCaseLetter(r)||isUpperCaseLetter(r)},isNonASCIICodePoint=function(r){return r>=CONTROL},isWhiteSpace=function(r){return r===LINE_FEED||r===CHARACTER_TABULATION||r===SPACE$2},isNameStartCodePoint=function(r){return isLetter(r)||isNonASCIICodePoint(r)||r===LOW_LINE},isNameCodePoint=function(r){return isNameStartCodePoint(r)||isDigit(r)||r===HYPHEN_MINUS},isNonPrintableCodePoint=function(r){return r>=NULL&&r<=BACKSPACE||r===LINE_TABULATION||r>=SHIFT_OUT&&r<=INFORMATION_SEPARATOR_ONE||r===DELETE},isValidEscape=function(r,x){return r!==REVERSE_SOLIDUS?!1:x!==LINE_FEED},isIdentifierStart=function(r,x,y){return r===HYPHEN_MINUS?isNameStartCodePoint(x)||isValidEscape(x,y):isNameStartCodePoint(r)?!0:!!(r===REVERSE_SOLIDUS&&isValidEscape(r,x))},isNumberStart=function(r,x,y){return r===PLUS_SIGN||r===HYPHEN_MINUS?isDigit(x)?!0:x===FULL_STOP&&isDigit(y):isDigit(r===FULL_STOP?x:r)},stringToNumber=function(r){var x=0,y=1;(r[x]===PLUS_SIGN||r[x]===HYPHEN_MINUS)&&(r[x]===HYPHEN_MINUS&&(y=-1),x++);for(var b=[];isDigit(r[x]);)b.push(r[x++]);var B=b.length?parseInt(fromCodePoint$1.apply(void 0,b),10):0;r[x]===FULL_STOP&&x++;for(var R=[];isDigit(r[x]);)R.push(r[x++]);var I=R.length,O=I?parseInt(fromCodePoint$1.apply(void 0,R),10):0;(r[x]===E$1||r[x]===e$1)&&x++;var G=1;(r[x]===PLUS_SIGN||r[x]===HYPHEN_MINUS)&&(r[x]===HYPHEN_MINUS&&(G=-1),x++);for(var q=[];isDigit(r[x]);)q.push(r[x++]);var ee=q.length?parseInt(fromCodePoint$1.apply(void 0,q),10):0;return y*(B+O*Math.pow(10,-I))*Math.pow(10,G*ee)},LEFT_PARENTHESIS_TOKEN={type:2},RIGHT_PARENTHESIS_TOKEN={type:3},COMMA_TOKEN={type:4},SUFFIX_MATCH_TOKEN={type:13},PREFIX_MATCH_TOKEN={type:8},COLUMN_TOKEN={type:21},DASH_MATCH_TOKEN={type:9},INCLUDE_MATCH_TOKEN={type:10},LEFT_CURLY_BRACKET_TOKEN={type:11},RIGHT_CURLY_BRACKET_TOKEN={type:12},SUBSTRING_MATCH_TOKEN={type:14},BAD_URL_TOKEN={type:23},BAD_STRING_TOKEN={type:1},CDO_TOKEN={type:25},CDC_TOKEN={type:24},COLON_TOKEN={type:26},SEMICOLON_TOKEN={type:27},LEFT_SQUARE_BRACKET_TOKEN={type:28},RIGHT_SQUARE_BRACKET_TOKEN={type:29},WHITESPACE_TOKEN={type:31},EOF_TOKEN={type:32},Tokenizer=(function(){function r(){this._value=[]}return r.prototype.write=function(x){this._value=this._value.concat(toCodePoints$1(x))},r.prototype.read=function(){for(var x=[],y=this.consumeToken();y!==EOF_TOKEN;)x.push(y),y=this.consumeToken();return x},r.prototype.consumeToken=function(){var x=this.consumeCodePoint();switch(x){case QUOTATION_MARK:return this.consumeStringToken(QUOTATION_MARK);case NUMBER_SIGN:var y=this.peekCodePoint(0),b=this.peekCodePoint(1),B=this.peekCodePoint(2);if(isNameCodePoint(y)||isValidEscape(b,B)){var R=isIdentifierStart(y,b,B)?FLAG_ID:FLAG_UNRESTRICTED,I=this.consumeName();return{type:5,value:I,flags:R}}break;case DOLLAR_SIGN:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUFFIX_MATCH_TOKEN;break;case APOSTROPHE$1:return this.consumeStringToken(APOSTROPHE$1);case LEFT_PARENTHESIS:return LEFT_PARENTHESIS_TOKEN;case RIGHT_PARENTHESIS:return RIGHT_PARENTHESIS_TOKEN;case ASTERISK$1:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUBSTRING_MATCH_TOKEN;break;case PLUS_SIGN:if(isNumberStart(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case COMMA$1:return COMMA_TOKEN;case HYPHEN_MINUS:var O=x,G=this.peekCodePoint(0),q=this.peekCodePoint(1);if(isNumberStart(O,G,q))return this.reconsumeCodePoint(x),this.consumeNumericToken();if(isIdentifierStart(O,G,q))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();if(G===HYPHEN_MINUS&&q===GREATER_THAN_SIGN)return this.consumeCodePoint(),this.consumeCodePoint(),CDC_TOKEN;break;case FULL_STOP:if(isNumberStart(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case SOLIDUS:if(this.peekCodePoint(0)===ASTERISK$1)for(this.consumeCodePoint();;){var ee=this.consumeCodePoint();if(ee===ASTERISK$1&&(ee=this.consumeCodePoint(),ee===SOLIDUS))return this.consumeToken();if(ee===EOF)return this.consumeToken()}break;case COLON$1:return COLON_TOKEN;case SEMICOLON:return SEMICOLON_TOKEN;case LESS_THAN_SIGN:if(this.peekCodePoint(0)===EXCLAMATION_MARK&&this.peekCodePoint(1)===HYPHEN_MINUS&&this.peekCodePoint(2)===HYPHEN_MINUS)return this.consumeCodePoint(),this.consumeCodePoint(),CDO_TOKEN;break;case COMMERCIAL_AT:var ne=this.peekCodePoint(0),oe=this.peekCodePoint(1),pe=this.peekCodePoint(2);if(isIdentifierStart(ne,oe,pe)){var I=this.consumeName();return{type:7,value:I}}break;case LEFT_SQUARE_BRACKET:return LEFT_SQUARE_BRACKET_TOKEN;case REVERSE_SOLIDUS:if(isValidEscape(x,this.peekCodePoint(0)))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();break;case RIGHT_SQUARE_BRACKET:return RIGHT_SQUARE_BRACKET_TOKEN;case CIRCUMFLEX_ACCENT:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),PREFIX_MATCH_TOKEN;break;case LEFT_CURLY_BRACKET:return LEFT_CURLY_BRACKET_TOKEN;case RIGHT_CURLY_BRACKET:return RIGHT_CURLY_BRACKET_TOKEN;case u$1:case U:var xe=this.peekCodePoint(0),_e=this.peekCodePoint(1);return xe===PLUS_SIGN&&(isHex(_e)||_e===QUESTION_MARK)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(x),this.consumeIdentLikeToken();case VERTICAL_LINE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),DASH_MATCH_TOKEN;if(this.peekCodePoint(0)===VERTICAL_LINE)return this.consumeCodePoint(),COLUMN_TOKEN;break;case TILDE$1:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),INCLUDE_MATCH_TOKEN;break;case EOF:return EOF_TOKEN}return isWhiteSpace(x)?(this.consumeWhiteSpace(),WHITESPACE_TOKEN):isDigit(x)?(this.reconsumeCodePoint(x),this.consumeNumericToken()):isNameStartCodePoint(x)?(this.reconsumeCodePoint(x),this.consumeIdentLikeToken()):{type:6,value:fromCodePoint$1(x)}},r.prototype.consumeCodePoint=function(){var x=this._value.shift();return typeof x>"u"?-1:x},r.prototype.reconsumeCodePoint=function(x){this._value.unshift(x)},r.prototype.peekCodePoint=function(x){return x>=this._value.length?-1:this._value[x]},r.prototype.consumeUnicodeRangeToken=function(){for(var x=[],y=this.consumeCodePoint();isHex(y)&&x.length<6;)x.push(y),y=this.consumeCodePoint();for(var b=!1;y===QUESTION_MARK&&x.length<6;)x.push(y),y=this.consumeCodePoint(),b=!0;if(b){var B=parseInt(fromCodePoint$1.apply(void 0,x.map(function(G){return G===QUESTION_MARK?ZERO:G})),16),R=parseInt(fromCodePoint$1.apply(void 0,x.map(function(G){return G===QUESTION_MARK?F$1:G})),16);return{type:30,start:B,end:R}}var I=parseInt(fromCodePoint$1.apply(void 0,x),16);if(this.peekCodePoint(0)===HYPHEN_MINUS&&isHex(this.peekCodePoint(1))){this.consumeCodePoint(),y=this.consumeCodePoint();for(var O=[];isHex(y)&&O.length<6;)O.push(y),y=this.consumeCodePoint();var R=parseInt(fromCodePoint$1.apply(void 0,O),16);return{type:30,start:I,end:R}}else return{type:30,start:I,end:I}},r.prototype.consumeIdentLikeToken=function(){var x=this.consumeName();return x.toLowerCase()==="url"&&this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),{type:19,value:x}):{type:20,value:x}},r.prototype.consumeUrlToken=function(){var x=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF)return{type:22,value:""};var y=this.peekCodePoint(0);if(y===APOSTROPHE$1||y===QUOTATION_MARK){var b=this.consumeStringToken(this.consumeCodePoint());return b.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS)?(this.consumeCodePoint(),{type:22,value:b.value}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN)}for(;;){var B=this.consumeCodePoint();if(B===EOF||B===RIGHT_PARENTHESIS)return{type:22,value:fromCodePoint$1.apply(void 0,x)};if(isWhiteSpace(B))return this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS?(this.consumeCodePoint(),{type:22,value:fromCodePoint$1.apply(void 0,x)}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN);if(B===QUOTATION_MARK||B===APOSTROPHE$1||B===LEFT_PARENTHESIS||isNonPrintableCodePoint(B))return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;if(B===REVERSE_SOLIDUS)if(isValidEscape(B,this.peekCodePoint(0)))x.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;else x.push(B)}},r.prototype.consumeWhiteSpace=function(){for(;isWhiteSpace(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var x=this.consumeCodePoint();if(x===RIGHT_PARENTHESIS||x===EOF)return;isValidEscape(x,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(x){for(var y=5e4,b="";x>0;){var B=Math.min(y,x);b+=fromCodePoint$1.apply(void 0,this._value.splice(0,B)),x-=B}return this._value.shift(),b},r.prototype.consumeStringToken=function(x){var y="",b=0;do{var B=this._value[b];if(B===EOF||B===void 0||B===x)return y+=this.consumeStringSlice(b),{type:0,value:y};if(B===LINE_FEED)return this._value.splice(0,b),BAD_STRING_TOKEN;if(B===REVERSE_SOLIDUS){var R=this._value[b+1];R!==EOF&&R!==void 0&&(R===LINE_FEED?(y+=this.consumeStringSlice(b),b=-1,this._value.shift()):isValidEscape(B,R)&&(y+=this.consumeStringSlice(b),y+=fromCodePoint$1(this.consumeEscapedCodePoint()),b=-1))}b++}while(!0)},r.prototype.consumeNumber=function(){var x=[],y=FLAG_INTEGER,b=this.peekCodePoint(0);for((b===PLUS_SIGN||b===HYPHEN_MINUS)&&x.push(this.consumeCodePoint());isDigit(this.peekCodePoint(0));)x.push(this.consumeCodePoint());b=this.peekCodePoint(0);var B=this.peekCodePoint(1);if(b===FULL_STOP&&isDigit(B))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),y=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)x.push(this.consumeCodePoint());b=this.peekCodePoint(0),B=this.peekCodePoint(1);var R=this.peekCodePoint(2);if((b===E$1||b===e$1)&&((B===PLUS_SIGN||B===HYPHEN_MINUS)&&isDigit(R)||isDigit(B)))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),y=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)x.push(this.consumeCodePoint());return[stringToNumber(x),y]},r.prototype.consumeNumericToken=function(){var x=this.consumeNumber(),y=x[0],b=x[1],B=this.peekCodePoint(0),R=this.peekCodePoint(1),I=this.peekCodePoint(2);if(isIdentifierStart(B,R,I)){var O=this.consumeName();return{type:15,number:y,flags:b,unit:O}}return B===PERCENTAGE_SIGN?(this.consumeCodePoint(),{type:16,number:y,flags:b}):{type:17,number:y,flags:b}},r.prototype.consumeEscapedCodePoint=function(){var x=this.consumeCodePoint();if(isHex(x)){for(var y=fromCodePoint$1(x);isHex(this.peekCodePoint(0))&&y.length<6;)y+=fromCodePoint$1(this.consumeCodePoint());isWhiteSpace(this.peekCodePoint(0))&&this.consumeCodePoint();var b=parseInt(y,16);return b===0||isSurrogateCodePoint(b)||b>1114111?REPLACEMENT_CHARACTER:b}return x===EOF?REPLACEMENT_CHARACTER:x},r.prototype.consumeName=function(){for(var x="";;){var y=this.consumeCodePoint();if(isNameCodePoint(y))x+=fromCodePoint$1(y);else if(isValidEscape(y,this.peekCodePoint(0)))x+=fromCodePoint$1(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(y),x}},r})(),Parser=(function(){function r(x){this._tokens=x}return r.create=function(x){var y=new Tokenizer;return y.write(x),new r(y.read())},r.parseValue=function(x){return r.create(x).parseComponentValue()},r.parseValues=function(x){return r.create(x).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var x=this.consumeToken();x.type===31;)x=this.consumeToken();if(x.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(x);var y=this.consumeComponentValue();do x=this.consumeToken();while(x.type===31);if(x.type===32)return y;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var x=[];;){var y=this.consumeComponentValue();if(y.type===32)return x;x.push(y),x.push()}},r.prototype.consumeComponentValue=function(){var x=this.consumeToken();switch(x.type){case 11:case 28:case 2:return this.consumeSimpleBlock(x.type);case 19:return this.consumeFunction(x)}return x},r.prototype.consumeSimpleBlock=function(x){for(var y={type:x,values:[]},b=this.consumeToken();;){if(b.type===32||isEndingTokenFor(b,x))return y;this.reconsumeToken(b),y.values.push(this.consumeComponentValue()),b=this.consumeToken()}},r.prototype.consumeFunction=function(x){for(var y={name:x.value,values:[],type:18};;){var b=this.consumeToken();if(b.type===32||b.type===3)return y;this.reconsumeToken(b),y.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var x=this._tokens.shift();return typeof x>"u"?EOF_TOKEN:x},r.prototype.reconsumeToken=function(x){this._tokens.unshift(x)},r})(),isDimensionToken=function(r){return r.type===15},isNumberToken=function(r){return r.type===17},isIdentToken=function(r){return r.type===20},isStringToken=function(r){return r.type===0},isIdentWithValue=function(r,x){return isIdentToken(r)&&r.value===x},nonWhiteSpace=function(r){return r.type!==31},nonFunctionArgSeparator=function(r){return r.type!==31&&r.type!==4},parseFunctionArgs=function(r){var x=[],y=[];return r.forEach(function(b){if(b.type===4){if(y.length===0)throw new Error("Error parsing function args, zero tokens for arg");x.push(y),y=[];return}b.type!==31&&y.push(b)}),y.length&&x.push(y),x},isEndingTokenFor=function(r,x){return x===11&&r.type===12||x===28&&r.type===29?!0:x===2&&r.type===3},isLength=function(r){return r.type===17||r.type===15},isLengthPercentage=function(r){return r.type===16||isLength(r)},parseLengthPercentageTuple=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},ZERO_LENGTH={type:17,number:0,flags:FLAG_INTEGER},FIFTY_PERCENT={type:16,number:50,flags:FLAG_INTEGER},HUNDRED_PERCENT={type:16,number:100,flags:FLAG_INTEGER},getAbsoluteValueForTuple=function(r,x,y){var b=r[0],B=r[1];return[getAbsoluteValue(b,x),getAbsoluteValue(typeof B<"u"?B:b,y)]},getAbsoluteValue=function(r,x){if(r.type===16)return r.number/100*x;if(isDimensionToken(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},DEG="deg",GRAD="grad",RAD="rad",TURN="turn",angle={name:"angle",parse:function(r,x){if(x.type===15)switch(x.unit){case DEG:return Math.PI*x.number/180;case GRAD:return Math.PI/200*x.number;case RAD:return x.number;case TURN:return Math.PI*2*x.number}throw new Error("Unsupported angle type")}},isAngle=function(r){return r.type===15&&(r.unit===DEG||r.unit===GRAD||r.unit===RAD||r.unit===TURN)},parseNamedSide=function(r){var x=r.filter(isIdentToken).map(function(y){return y.value}).join(" ");switch(x){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ZERO_LENGTH,ZERO_LENGTH];case"to top":case"bottom":return deg(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ZERO_LENGTH,HUNDRED_PERCENT];case"to right":case"left":return deg(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[HUNDRED_PERCENT,HUNDRED_PERCENT];case"to bottom":case"top":return deg(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[HUNDRED_PERCENT,ZERO_LENGTH];case"to left":case"right":return deg(270)}return 0},deg=function(r){return Math.PI*r/180},color$1={name:"color",parse:function(r,x){if(x.type===18){var y=SUPPORTED_COLOR_FUNCTIONS[x.name];if(typeof y>"u")throw new Error('Attempting to parse an unsupported color function "'+x.name+'"');return y(r,x.values)}if(x.type===5){if(x.value.length===3){var b=x.value.substring(0,1),B=x.value.substring(1,2),R=x.value.substring(2,3);return pack(parseInt(b+b,16),parseInt(B+B,16),parseInt(R+R,16),1)}if(x.value.length===4){var b=x.value.substring(0,1),B=x.value.substring(1,2),R=x.value.substring(2,3),I=x.value.substring(3,4);return pack(parseInt(b+b,16),parseInt(B+B,16),parseInt(R+R,16),parseInt(I+I,16)/255)}if(x.value.length===6){var b=x.value.substring(0,2),B=x.value.substring(2,4),R=x.value.substring(4,6);return pack(parseInt(b,16),parseInt(B,16),parseInt(R,16),1)}if(x.value.length===8){var b=x.value.substring(0,2),B=x.value.substring(2,4),R=x.value.substring(4,6),I=x.value.substring(6,8);return pack(parseInt(b,16),parseInt(B,16),parseInt(R,16),parseInt(I,16)/255)}}if(x.type===20){var O=COLORS[x.value.toUpperCase()];if(typeof O<"u")return O}return COLORS.TRANSPARENT}},isTransparent=function(r){return(255&r)===0},asString=function(r){var x=255&r,y=255&r>>8,b=255&r>>16,B=255&r>>24;return x<255?"rgba("+B+","+b+","+y+","+x/255+")":"rgb("+B+","+b+","+y+")"},pack=function(r,x,y,b){return(r<<24|x<<16|y<<8|Math.round(b*255)<<0)>>>0},getTokenColorValue=function(r,x){if(r.type===17)return r.number;if(r.type===16){var y=x===3?1:255;return x===3?r.number/100*y:Math.round(r.number/100*y)}return 0},rgb=function(r,x){var y=x.filter(nonFunctionArgSeparator);if(y.length===3){var b=y.map(getTokenColorValue),B=b[0],R=b[1],I=b[2];return pack(B,R,I,1)}if(y.length===4){var O=y.map(getTokenColorValue),B=O[0],R=O[1],I=O[2],G=O[3];return pack(B,R,I,G)}return 0};function hue2rgb(r,x,y){return y<0&&(y+=1),y>=1&&(y-=1),y<1/6?(x-r)*y*6+r:y<1/2?x:y<2/3?(x-r)*6*(2/3-y)+r:r}var hsl=function(r,x){var y=x.filter(nonFunctionArgSeparator),b=y[0],B=y[1],R=y[2],I=y[3],O=(b.type===17?deg(b.number):angle.parse(r,b))/(Math.PI*2),G=isLengthPercentage(B)?B.number/100:0,q=isLengthPercentage(R)?R.number/100:0,ee=typeof I<"u"&&isLengthPercentage(I)?getAbsoluteValue(I,1):1;if(G===0)return pack(q*255,q*255,q*255,1);var ne=q<=.5?q*(G+1):q+G-q*G,oe=q*2-ne,pe=hue2rgb(oe,ne,O+1/3),xe=hue2rgb(oe,ne,O),_e=hue2rgb(oe,ne,O-1/3);return pack(pe*255,xe*255,_e*255,ee)},SUPPORTED_COLOR_FUNCTIONS={hsl,hsla:hsl,rgb,rgba:rgb},parseColor=function(r,x){return color$1.parse(r,Parser.create(x).parseComponentValue())},COLORS={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},backgroundClip={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,x){return x.map(function(y){if(isIdentToken(y))switch(y.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundColor={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},parseColorStop=function(r,x){var y=color$1.parse(r,x[0]),b=x[1];return b&&isLengthPercentage(b)?{color:y,stop:b}:{color:y,stop:null}},processColorStops=function(r,x){var y=r[0],b=r[r.length-1];y.stop===null&&(y.stop=ZERO_LENGTH),b.stop===null&&(b.stop=HUNDRED_PERCENT);for(var B=[],R=0,I=0;I<r.length;I++){var O=r[I].stop;if(O!==null){var G=getAbsoluteValue(O,x);G>R?B.push(G):B.push(R),R=G}else B.push(null)}for(var q=null,I=0;I<B.length;I++){var ee=B[I];if(ee===null)q===null&&(q=I);else if(q!==null){for(var ne=I-q,oe=B[q-1],pe=(ee-oe)/(ne+1),xe=1;xe<=ne;xe++)B[q+xe-1]=pe*xe;q=null}}return r.map(function(_e,Ue){var Le=_e.color;return{color:Le,stop:Math.max(Math.min(1,B[Ue]/x),0)}})},getAngleFromCorner=function(r,x,y){var b=x/2,B=y/2,R=getAbsoluteValue(r[0],x)-b,I=B-getAbsoluteValue(r[1],y);return(Math.atan2(I,R)+Math.PI*2)%(Math.PI*2)},calculateGradientDirection=function(r,x,y){var b=typeof r=="number"?r:getAngleFromCorner(r,x,y),B=Math.abs(x*Math.sin(b))+Math.abs(y*Math.cos(b)),R=x/2,I=y/2,O=B/2,G=Math.sin(b-Math.PI/2)*O,q=Math.cos(b-Math.PI/2)*O;return[B,R-q,R+q,I-G,I+G]},distance=function(r,x){return Math.sqrt(r*r+x*x)},findCorner=function(r,x,y,b,B){var R=[[0,0],[0,x],[r,0],[r,x]];return R.reduce(function(I,O){var G=O[0],q=O[1],ee=distance(y-G,b-q);return(B?ee<I.optimumDistance:ee>I.optimumDistance)?{optimumCorner:O,optimumDistance:ee}:I},{optimumDistance:B?1/0:-1/0,optimumCorner:null}).optimumCorner},calculateRadius=function(r,x,y,b,B){var R=0,I=0;switch(r.size){case 0:r.shape===0?R=I=Math.min(Math.abs(x),Math.abs(x-b),Math.abs(y),Math.abs(y-B)):r.shape===1&&(R=Math.min(Math.abs(x),Math.abs(x-b)),I=Math.min(Math.abs(y),Math.abs(y-B)));break;case 2:if(r.shape===0)R=I=Math.min(distance(x,y),distance(x,y-B),distance(x-b,y),distance(x-b,y-B));else if(r.shape===1){var O=Math.min(Math.abs(y),Math.abs(y-B))/Math.min(Math.abs(x),Math.abs(x-b)),G=findCorner(b,B,x,y,!0),q=G[0],ee=G[1];R=distance(q-x,(ee-y)/O),I=O*R}break;case 1:r.shape===0?R=I=Math.max(Math.abs(x),Math.abs(x-b),Math.abs(y),Math.abs(y-B)):r.shape===1&&(R=Math.max(Math.abs(x),Math.abs(x-b)),I=Math.max(Math.abs(y),Math.abs(y-B)));break;case 3:if(r.shape===0)R=I=Math.max(distance(x,y),distance(x,y-B),distance(x-b,y),distance(x-b,y-B));else if(r.shape===1){var O=Math.max(Math.abs(y),Math.abs(y-B))/Math.max(Math.abs(x),Math.abs(x-b)),ne=findCorner(b,B,x,y,!1),q=ne[0],ee=ne[1];R=distance(q-x,(ee-y)/O),I=O*R}break}return Array.isArray(r.size)&&(R=getAbsoluteValue(r.size[0],b),I=r.size.length===2?getAbsoluteValue(r.size[1],B):R),[R,I]},linearGradient=function(r,x){var y=deg(180),b=[];return parseFunctionArgs(x).forEach(function(B,R){if(R===0){var I=B[0];if(I.type===20&&I.value==="to"){y=parseNamedSide(B);return}else if(isAngle(I)){y=angle.parse(r,I);return}}var O=parseColorStop(r,B);b.push(O)}),{angle:y,stops:b,type:1}},prefixLinearGradient=function(r,x){var y=deg(180),b=[];return parseFunctionArgs(x).forEach(function(B,R){if(R===0){var I=B[0];if(I.type===20&&["top","left","right","bottom"].indexOf(I.value)!==-1){y=parseNamedSide(B);return}else if(isAngle(I)){y=(angle.parse(r,I)+deg(270))%deg(360);return}}var O=parseColorStop(r,B);b.push(O)}),{angle:y,stops:b,type:1}},webkitGradient=function(r,x){var y=deg(180),b=[],B=1,R=0,I=3,O=[];return parseFunctionArgs(x).forEach(function(G,q){var ee=G[0];if(q===0){if(isIdentToken(ee)&&ee.value==="linear"){B=1;return}else if(isIdentToken(ee)&&ee.value==="radial"){B=2;return}}if(ee.type===18){if(ee.name==="from"){var ne=color$1.parse(r,ee.values[0]);b.push({stop:ZERO_LENGTH,color:ne})}else if(ee.name==="to"){var ne=color$1.parse(r,ee.values[0]);b.push({stop:HUNDRED_PERCENT,color:ne})}else if(ee.name==="color-stop"){var oe=ee.values.filter(nonFunctionArgSeparator);if(oe.length===2){var ne=color$1.parse(r,oe[1]),pe=oe[0];isNumberToken(pe)&&b.push({stop:{type:16,number:pe.number*100,flags:pe.flags},color:ne})}}}}),B===1?{angle:(y+deg(180))%deg(360),stops:b,type:B}:{size:I,shape:R,stops:b,position:O,type:B}},CLOSEST_SIDE="closest-side",FARTHEST_SIDE="farthest-side",CLOSEST_CORNER="closest-corner",FARTHEST_CORNER="farthest-corner",CIRCLE="circle",ELLIPSE="ellipse",COVER="cover",CONTAIN="contain",radialGradient=function(r,x){var y=0,b=3,B=[],R=[];return parseFunctionArgs(x).forEach(function(I,O){var G=!0;if(O===0){var q=!1;G=I.reduce(function(ne,oe){if(q)if(isIdentToken(oe))switch(oe.value){case"center":return R.push(FIFTY_PERCENT),ne;case"top":case"left":return R.push(ZERO_LENGTH),ne;case"right":case"bottom":return R.push(HUNDRED_PERCENT),ne}else(isLengthPercentage(oe)||isLength(oe))&&R.push(oe);else if(isIdentToken(oe))switch(oe.value){case CIRCLE:return y=0,!1;case ELLIPSE:return y=1,!1;case"at":return q=!0,!1;case CLOSEST_SIDE:return b=0,!1;case COVER:case FARTHEST_SIDE:return b=1,!1;case CONTAIN:case CLOSEST_CORNER:return b=2,!1;case FARTHEST_CORNER:return b=3,!1}else if(isLength(oe)||isLengthPercentage(oe))return Array.isArray(b)||(b=[]),b.push(oe),!1;return ne},G)}if(G){var ee=parseColorStop(r,I);B.push(ee)}}),{size:b,shape:y,stops:B,position:R,type:2}},prefixRadialGradient=function(r,x){var y=0,b=3,B=[],R=[];return parseFunctionArgs(x).forEach(function(I,O){var G=!0;if(O===0?G=I.reduce(function(ee,ne){if(isIdentToken(ne))switch(ne.value){case"center":return R.push(FIFTY_PERCENT),!1;case"top":case"left":return R.push(ZERO_LENGTH),!1;case"right":case"bottom":return R.push(HUNDRED_PERCENT),!1}else if(isLengthPercentage(ne)||isLength(ne))return R.push(ne),!1;return ee},G):O===1&&(G=I.reduce(function(ee,ne){if(isIdentToken(ne))switch(ne.value){case CIRCLE:return y=0,!1;case ELLIPSE:return y=1,!1;case CONTAIN:case CLOSEST_SIDE:return b=0,!1;case FARTHEST_SIDE:return b=1,!1;case CLOSEST_CORNER:return b=2,!1;case COVER:case FARTHEST_CORNER:return b=3,!1}else if(isLength(ne)||isLengthPercentage(ne))return Array.isArray(b)||(b=[]),b.push(ne),!1;return ee},G)),G){var q=parseColorStop(r,I);B.push(q)}}),{size:b,shape:y,stops:B,position:R,type:2}},isLinearGradient=function(r){return r.type===1},isRadialGradient=function(r){return r.type===2},image$1={name:"image",parse:function(r,x){if(x.type===22){var y={url:x.value,type:0};return r.cache.addImage(x.value),y}if(x.type===18){var b=SUPPORTED_IMAGE_FUNCTIONS[x.name];if(typeof b>"u")throw new Error('Attempting to parse an unsupported image function "'+x.name+'"');return b(r,x.values)}throw new Error("Unsupported image type "+x.type)}};function isSupportedImage(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!SUPPORTED_IMAGE_FUNCTIONS[r.name])}var SUPPORTED_IMAGE_FUNCTIONS={"linear-gradient":linearGradient,"-moz-linear-gradient":prefixLinearGradient,"-ms-linear-gradient":prefixLinearGradient,"-o-linear-gradient":prefixLinearGradient,"-webkit-linear-gradient":prefixLinearGradient,"radial-gradient":radialGradient,"-moz-radial-gradient":prefixRadialGradient,"-ms-radial-gradient":prefixRadialGradient,"-o-radial-gradient":prefixRadialGradient,"-webkit-radial-gradient":prefixRadialGradient,"-webkit-gradient":webkitGradient},backgroundImage={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,x){if(x.length===0)return[];var y=x[0];return y.type===20&&y.value==="none"?[]:x.filter(function(b){return nonFunctionArgSeparator(b)&&isSupportedImage(b)}).map(function(b){return image$1.parse(r,b)})}},backgroundOrigin={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,x){return x.map(function(y){if(isIdentToken(y))switch(y.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundPosition={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,x){return parseFunctionArgs(x).map(function(y){return y.filter(isLengthPercentage)}).map(parseLengthPercentageTuple)}},backgroundRepeat={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,x){return parseFunctionArgs(x).map(function(y){return y.filter(isIdentToken).map(function(b){return b.value}).join(" ")}).map(parseBackgroundRepeat)}},parseBackgroundRepeat=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},BACKGROUND_SIZE;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(BACKGROUND_SIZE||(BACKGROUND_SIZE={}));var backgroundSize={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,x){return parseFunctionArgs(x).map(function(y){return y.filter(isBackgroundSizeInfoToken)})}},isBackgroundSizeInfoToken=function(r){return isIdentToken(r)||isLengthPercentage(r)},borderColorForSide=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},borderTopColor=borderColorForSide("top"),borderRightColor=borderColorForSide("right"),borderBottomColor=borderColorForSide("bottom"),borderLeftColor=borderColorForSide("left"),borderRadiusForSide=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(x,y){return parseLengthPercentageTuple(y.filter(isLengthPercentage))}}},borderTopLeftRadius=borderRadiusForSide("top-left"),borderTopRightRadius=borderRadiusForSide("top-right"),borderBottomRightRadius=borderRadiusForSide("bottom-right"),borderBottomLeftRadius=borderRadiusForSide("bottom-left"),borderStyleForSide=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(x,y){switch(y){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},borderTopStyle=borderStyleForSide("top"),borderRightStyle=borderStyleForSide("right"),borderBottomStyle=borderStyleForSide("bottom"),borderLeftStyle=borderStyleForSide("left"),borderWidthForSide=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(x,y){return isDimensionToken(y)?y.number:0}}},borderTopWidth=borderWidthForSide("top"),borderRightWidth=borderWidthForSide("right"),borderBottomWidth=borderWidthForSide("bottom"),borderLeftWidth=borderWidthForSide("left"),color={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},direction={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,x){switch(x){case"rtl":return 1;case"ltr":default:return 0}}},display={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,x){return x.filter(isIdentToken).reduce(function(y,b){return y|parseDisplayValue(b.value)},0)}},parseDisplayValue=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},float={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,x){switch(x){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},letterSpacing={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,x){return x.type===20&&x.value==="normal"?0:x.type===17||x.type===15?x.number:0}},LINE_BREAK;(function(r){r.NORMAL="normal",r.STRICT="strict"})(LINE_BREAK||(LINE_BREAK={}));var lineBreak={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,x){switch(x){case"strict":return LINE_BREAK.STRICT;case"normal":default:return LINE_BREAK.NORMAL}}},lineHeight={name:"line-height",initialValue:"normal",prefix:!1,type:4},computeLineHeight=function(r,x){return isIdentToken(r)&&r.value==="normal"?1.2*x:r.type===17?x*r.number:isLengthPercentage(r)?getAbsoluteValue(r,x):x},listStyleImage={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,x){return x.type===20&&x.value==="none"?null:image$1.parse(r,x)}},listStylePosition={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,x){switch(x){case"inside":return 0;case"outside":default:return 1}}},listStyleType={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,x){switch(x){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},marginForSide=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},marginTop=marginForSide("top"),marginRight=marginForSide("right"),marginBottom=marginForSide("bottom"),marginLeft=marginForSide("left"),overflow={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,x){return x.filter(isIdentToken).map(function(y){switch(y.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},overflowWrap={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,x){switch(x){case"break-word":return"break-word";case"normal":default:return"normal"}}},paddingForSide=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},paddingTop=paddingForSide("top"),paddingRight=paddingForSide("right"),paddingBottom=paddingForSide("bottom"),paddingLeft=paddingForSide("left"),textAlign={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,x){switch(x){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},position={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,x){switch(x){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},textShadow={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,x){return x.length===1&&isIdentWithValue(x[0],"none")?[]:parseFunctionArgs(x).map(function(y){for(var b={color:COLORS.TRANSPARENT,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH},B=0,R=0;R<y.length;R++){var I=y[R];isLength(I)?(B===0?b.offsetX=I:B===1?b.offsetY=I:b.blur=I,B++):b.color=color$1.parse(r,I)}return b})}},textTransform={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,x){switch(x){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},transform$1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,x){if(x.type===20&&x.value==="none")return null;if(x.type===18){var y=SUPPORTED_TRANSFORM_FUNCTIONS[x.name];if(typeof y>"u")throw new Error('Attempting to parse an unsupported transform function "'+x.name+'"');return y(x.values)}return null}},matrix=function(r){var x=r.filter(function(y){return y.type===17}).map(function(y){return y.number});return x.length===6?x:null},matrix3d=function(r){var x=r.filter(function(G){return G.type===17}).map(function(G){return G.number}),y=x[0],b=x[1];x[2],x[3];var B=x[4],R=x[5];x[6],x[7],x[8],x[9],x[10],x[11];var I=x[12],O=x[13];return x[14],x[15],x.length===16?[y,b,B,R,I,O]:null},SUPPORTED_TRANSFORM_FUNCTIONS={matrix,matrix3d},DEFAULT_VALUE={type:16,number:50,flags:FLAG_INTEGER},DEFAULT=[DEFAULT_VALUE,DEFAULT_VALUE],transformOrigin={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,x){var y=x.filter(isLengthPercentage);return y.length!==2?DEFAULT:[y[0],y[1]]}},visibility={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,x){switch(x){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},WORD_BREAK;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(WORD_BREAK||(WORD_BREAK={}));var wordBreak={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,x){switch(x){case"break-all":return WORD_BREAK.BREAK_ALL;case"keep-all":return WORD_BREAK.KEEP_ALL;case"normal":default:return WORD_BREAK.NORMAL}}},zIndex={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,x){if(x.type===20)return{auto:!0,order:0};if(isNumberToken(x))return{auto:!1,order:x.number};throw new Error("Invalid z-index number parsed")}},time={name:"time",parse:function(r,x){if(x.type===15)switch(x.unit.toLowerCase()){case"s":return 1e3*x.number;case"ms":return x.number}throw new Error("Unsupported time type")}},opacity={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,x){return isNumberToken(x)?x.number:1}},textDecorationColor={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},textDecorationLine={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,x){return x.filter(isIdentToken).map(function(y){switch(y.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(y){return y!==0})}},fontFamily={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,x){var y=[],b=[];return x.forEach(function(B){switch(B.type){case 20:case 0:y.push(B.value);break;case 17:y.push(B.number.toString());break;case 4:b.push(y.join(" ")),y.length=0;break}}),y.length&&b.push(y.join(" ")),b.map(function(B){return B.indexOf(" ")===-1?B:"'"+B+"'"})}},fontSize={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fontWeight={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,x){if(isNumberToken(x))return x.number;if(isIdentToken(x))switch(x.value){case"bold":return 700;case"normal":default:return 400}return 400}},fontVariant={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,x){return x.filter(isIdentToken).map(function(y){return y.value})}},fontStyle={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,x){switch(x){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},contains=function(r,x){return(r&x)!==0},content$1={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,x){if(x.length===0)return[];var y=x[0];return y.type===20&&y.value==="none"?[]:x}},counterIncrement={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,x){if(x.length===0)return null;var y=x[0];if(y.type===20&&y.value==="none")return null;for(var b=[],B=x.filter(nonWhiteSpace),R=0;R<B.length;R++){var I=B[R],O=B[R+1];if(I.type===20){var G=O&&isNumberToken(O)?O.number:1;b.push({counter:I.value,increment:G})}}return b}},counterReset={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,x){if(x.length===0)return[];for(var y=[],b=x.filter(nonWhiteSpace),B=0;B<b.length;B++){var R=b[B],I=b[B+1];if(isIdentToken(R)&&R.value!=="none"){var O=I&&isNumberToken(I)?I.number:0;y.push({counter:R.value,reset:O})}}return y}},duration={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,x){return x.filter(isDimensionToken).map(function(y){return time.parse(r,y)})}},quotes={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,x){if(x.length===0)return null;var y=x[0];if(y.type===20&&y.value==="none")return null;var b=[],B=x.filter(isStringToken);if(B.length%2!==0)return null;for(var R=0;R<B.length;R+=2){var I=B[R].value,O=B[R+1].value;b.push({open:I,close:O})}return b}},getQuote=function(r,x,y){if(!r)return"";var b=r[Math.min(x,r.length-1)];return b?y?b.open:b.close:""},boxShadow={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,x){return x.length===1&&isIdentWithValue(x[0],"none")?[]:parseFunctionArgs(x).map(function(y){for(var b={color:255,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH,spread:ZERO_LENGTH,inset:!1},B=0,R=0;R<y.length;R++){var I=y[R];isIdentWithValue(I,"inset")?b.inset=!0:isLength(I)?(B===0?b.offsetX=I:B===1?b.offsetY=I:B===2?b.blur=I:b.spread=I,B++):b.color=color$1.parse(r,I)}return b})}},paintOrder={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,x){var y=[0,1,2],b=[];return x.filter(isIdentToken).forEach(function(B){switch(B.value){case"stroke":b.push(1);break;case"fill":b.push(0);break;case"markers":b.push(2);break}}),y.forEach(function(B){b.indexOf(B)===-1&&b.push(B)}),b}},webkitTextStrokeColor={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},webkitTextStrokeWidth={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,x){return isDimensionToken(x)?x.number:0}},CSSParsedDeclaration=(function(){function r(x,y){var b,B;this.animationDuration=parse(x,duration,y.animationDuration),this.backgroundClip=parse(x,backgroundClip,y.backgroundClip),this.backgroundColor=parse(x,backgroundColor,y.backgroundColor),this.backgroundImage=parse(x,backgroundImage,y.backgroundImage),this.backgroundOrigin=parse(x,backgroundOrigin,y.backgroundOrigin),this.backgroundPosition=parse(x,backgroundPosition,y.backgroundPosition),this.backgroundRepeat=parse(x,backgroundRepeat,y.backgroundRepeat),this.backgroundSize=parse(x,backgroundSize,y.backgroundSize),this.borderTopColor=parse(x,borderTopColor,y.borderTopColor),this.borderRightColor=parse(x,borderRightColor,y.borderRightColor),this.borderBottomColor=parse(x,borderBottomColor,y.borderBottomColor),this.borderLeftColor=parse(x,borderLeftColor,y.borderLeftColor),this.borderTopLeftRadius=parse(x,borderTopLeftRadius,y.borderTopLeftRadius),this.borderTopRightRadius=parse(x,borderTopRightRadius,y.borderTopRightRadius),this.borderBottomRightRadius=parse(x,borderBottomRightRadius,y.borderBottomRightRadius),this.borderBottomLeftRadius=parse(x,borderBottomLeftRadius,y.borderBottomLeftRadius),this.borderTopStyle=parse(x,borderTopStyle,y.borderTopStyle),this.borderRightStyle=parse(x,borderRightStyle,y.borderRightStyle),this.borderBottomStyle=parse(x,borderBottomStyle,y.borderBottomStyle),this.borderLeftStyle=parse(x,borderLeftStyle,y.borderLeftStyle),this.borderTopWidth=parse(x,borderTopWidth,y.borderTopWidth),this.borderRightWidth=parse(x,borderRightWidth,y.borderRightWidth),this.borderBottomWidth=parse(x,borderBottomWidth,y.borderBottomWidth),this.borderLeftWidth=parse(x,borderLeftWidth,y.borderLeftWidth),this.boxShadow=parse(x,boxShadow,y.boxShadow),this.color=parse(x,color,y.color),this.direction=parse(x,direction,y.direction),this.display=parse(x,display,y.display),this.float=parse(x,float,y.cssFloat),this.fontFamily=parse(x,fontFamily,y.fontFamily),this.fontSize=parse(x,fontSize,y.fontSize),this.fontStyle=parse(x,fontStyle,y.fontStyle),this.fontVariant=parse(x,fontVariant,y.fontVariant),this.fontWeight=parse(x,fontWeight,y.fontWeight),this.letterSpacing=parse(x,letterSpacing,y.letterSpacing),this.lineBreak=parse(x,lineBreak,y.lineBreak),this.lineHeight=parse(x,lineHeight,y.lineHeight),this.listStyleImage=parse(x,listStyleImage,y.listStyleImage),this.listStylePosition=parse(x,listStylePosition,y.listStylePosition),this.listStyleType=parse(x,listStyleType,y.listStyleType),this.marginTop=parse(x,marginTop,y.marginTop),this.marginRight=parse(x,marginRight,y.marginRight),this.marginBottom=parse(x,marginBottom,y.marginBottom),this.marginLeft=parse(x,marginLeft,y.marginLeft),this.opacity=parse(x,opacity,y.opacity);var R=parse(x,overflow,y.overflow);this.overflowX=R[0],this.overflowY=R[R.length>1?1:0],this.overflowWrap=parse(x,overflowWrap,y.overflowWrap),this.paddingTop=parse(x,paddingTop,y.paddingTop),this.paddingRight=parse(x,paddingRight,y.paddingRight),this.paddingBottom=parse(x,paddingBottom,y.paddingBottom),this.paddingLeft=parse(x,paddingLeft,y.paddingLeft),this.paintOrder=parse(x,paintOrder,y.paintOrder),this.position=parse(x,position,y.position),this.textAlign=parse(x,textAlign,y.textAlign),this.textDecorationColor=parse(x,textDecorationColor,(b=y.textDecorationColor)!==null&&b!==void 0?b:y.color),this.textDecorationLine=parse(x,textDecorationLine,(B=y.textDecorationLine)!==null&&B!==void 0?B:y.textDecoration),this.textShadow=parse(x,textShadow,y.textShadow),this.textTransform=parse(x,textTransform,y.textTransform),this.transform=parse(x,transform$1,y.transform),this.transformOrigin=parse(x,transformOrigin,y.transformOrigin),this.visibility=parse(x,visibility,y.visibility),this.webkitTextStrokeColor=parse(x,webkitTextStrokeColor,y.webkitTextStrokeColor),this.webkitTextStrokeWidth=parse(x,webkitTextStrokeWidth,y.webkitTextStrokeWidth),this.wordBreak=parse(x,wordBreak,y.wordBreak),this.zIndex=parse(x,zIndex,y.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return isTransparent(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return contains(this.display,4)||contains(this.display,33554432)||contains(this.display,268435456)||contains(this.display,536870912)||contains(this.display,67108864)||contains(this.display,134217728)},r})(),CSSParsedPseudoDeclaration=(function(){function r(x,y){this.content=parse(x,content$1,y.content),this.quotes=parse(x,quotes,y.quotes)}return r})(),CSSParsedCounterDeclaration=(function(){function r(x,y){this.counterIncrement=parse(x,counterIncrement,y.counterIncrement),this.counterReset=parse(x,counterReset,y.counterReset)}return r})(),parse=function(r,x,y){var b=new Tokenizer,B=y!==null&&typeof y<"u"?y.toString():x.initialValue;b.write(B);var R=new Parser(b.read());switch(x.type){case 2:var I=R.parseComponentValue();return x.parse(r,isIdentToken(I)?I.value:x.initialValue);case 0:return x.parse(r,R.parseComponentValue());case 1:return x.parse(r,R.parseComponentValues());case 4:return R.parseComponentValue();case 3:switch(x.format){case"angle":return angle.parse(r,R.parseComponentValue());case"color":return color$1.parse(r,R.parseComponentValue());case"image":return image$1.parse(r,R.parseComponentValue());case"length":var O=R.parseComponentValue();return isLength(O)?O:ZERO_LENGTH;case"length-percentage":var G=R.parseComponentValue();return isLengthPercentage(G)?G:ZERO_LENGTH;case"time":return time.parse(r,R.parseComponentValue())}break}},elementDebuggerAttribute="data-html2canvas-debug",getElementDebugType=function(r){var x=r.getAttribute(elementDebuggerAttribute);switch(x){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},isDebugging=function(r,x){var y=getElementDebugType(r);return y===1||x===y},ElementContainer=(function(){function r(x,y){if(this.context=x,this.textNodes=[],this.elements=[],this.flags=0,isDebugging(y,3))debugger;this.styles=new CSSParsedDeclaration(x,window.getComputedStyle(y,null)),isHTMLElementNode(y)&&(this.styles.animationDuration.some(function(b){return b>0})&&(y.style.animationDuration="0s"),this.styles.transform!==null&&(y.style.transform="none")),this.bounds=parseBounds(this.context,y),isDebugging(y,4)&&(this.flags|=16)}return r})(),base64$2="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1$2=0;i$1$2<chars$1.length;i$1$2++)lookup$1[chars$1.charCodeAt(i$1$2)]=i$1$2;var decode=function(r){var x=r.length*.75,y=r.length,b,B=0,R,I,O,G;r[r.length-1]==="="&&(x--,r[r.length-2]==="="&&x--);var q=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(x):new Array(x),ee=Array.isArray(q)?q:new Uint8Array(q);for(b=0;b<y;b+=4)R=lookup$1[r.charCodeAt(b)],I=lookup$1[r.charCodeAt(b+1)],O=lookup$1[r.charCodeAt(b+2)],G=lookup$1[r.charCodeAt(b+3)],ee[B++]=R<<2|I>>4,ee[B++]=(I&15)<<4|O>>2,ee[B++]=(O&3)<<6|G&63;return q},polyUint16Array=function(r){for(var x=r.length,y=[],b=0;b<x;b+=2)y.push(r[b+1]<<8|r[b]);return y},polyUint32Array=function(r){for(var x=r.length,y=[],b=0;b<x;b+=4)y.push(r[b+3]<<24|r[b+2]<<16|r[b+1]<<8|r[b]);return y},UTRIE2_SHIFT_2=5,UTRIE2_SHIFT_1=11,UTRIE2_INDEX_SHIFT=2,UTRIE2_SHIFT_1_2=UTRIE2_SHIFT_1-UTRIE2_SHIFT_2,UTRIE2_LSCP_INDEX_2_OFFSET=65536>>UTRIE2_SHIFT_2,UTRIE2_DATA_BLOCK_LENGTH=1<<UTRIE2_SHIFT_2,UTRIE2_DATA_MASK=UTRIE2_DATA_BLOCK_LENGTH-1,UTRIE2_LSCP_INDEX_2_LENGTH=1024>>UTRIE2_SHIFT_2,UTRIE2_INDEX_2_BMP_LENGTH=UTRIE2_LSCP_INDEX_2_OFFSET+UTRIE2_LSCP_INDEX_2_LENGTH,UTRIE2_UTF8_2B_INDEX_2_OFFSET=UTRIE2_INDEX_2_BMP_LENGTH,UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,UTRIE2_INDEX_1_OFFSET=UTRIE2_UTF8_2B_INDEX_2_OFFSET+UTRIE2_UTF8_2B_INDEX_2_LENGTH,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>UTRIE2_SHIFT_1,UTRIE2_INDEX_2_BLOCK_LENGTH=1<<UTRIE2_SHIFT_1_2,UTRIE2_INDEX_2_MASK=UTRIE2_INDEX_2_BLOCK_LENGTH-1,slice16=function(r,x,y){return r.slice?r.slice(x,y):new Uint16Array(Array.prototype.slice.call(r,x,y))},slice32=function(r,x,y){return r.slice?r.slice(x,y):new Uint32Array(Array.prototype.slice.call(r,x,y))},createTrieFromBase64=function(r,x){var y=decode(r),b=Array.isArray(y)?polyUint32Array(y):new Uint32Array(y),B=Array.isArray(y)?polyUint16Array(y):new Uint16Array(y),R=24,I=slice16(B,R/2,b[4]/2),O=b[5]===2?slice16(B,(R+b[4])/2):slice32(b,Math.ceil((R+b[4])/4));return new Trie(b[0],b[1],b[2],b[3],I,O)},Trie=(function(){function r(x,y,b,B,R,I){this.initialValue=x,this.errorValue=y,this.highStart=b,this.highValueIndex=B,this.index=R,this.data=I}return r.prototype.get=function(x){var y;if(x>=0){if(x<55296||x>56319&&x<=65535)return y=this.index[x>>UTRIE2_SHIFT_2],y=(y<<UTRIE2_INDEX_SHIFT)+(x&UTRIE2_DATA_MASK),this.data[y];if(x<=65535)return y=this.index[UTRIE2_LSCP_INDEX_2_OFFSET+(x-55296>>UTRIE2_SHIFT_2)],y=(y<<UTRIE2_INDEX_SHIFT)+(x&UTRIE2_DATA_MASK),this.data[y];if(x<this.highStart)return y=UTRIE2_INDEX_1_OFFSET-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH+(x>>UTRIE2_SHIFT_1),y=this.index[y],y+=x>>UTRIE2_SHIFT_2&UTRIE2_INDEX_2_MASK,y=this.index[y],y=(y<<UTRIE2_INDEX_SHIFT)+(x&UTRIE2_DATA_MASK),this.data[y];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$4=0;i$4<chars.length;i$4++)lookup[chars.charCodeAt(i$4)]=i$4;var Prepend=1,CR$2=2,LF$2=3,Control=4,Extend=5,SpacingMark=7,L$1=8,V$1=9,T=10,LV=11,LVT=12,ZWJ=13,Extended_Pictographic=14,RI=15,toCodePoints=function(r){for(var x=[],y=0,b=r.length;y<b;){var B=r.charCodeAt(y++);if(B>=55296&&B<=56319&&y<b){var R=r.charCodeAt(y++);(R&64512)===56320?x.push(((B&1023)<<10)+(R&1023)+65536):(x.push(B),y--)}else x.push(B)}return x},fromCodePoint=function(){for(var r=[],x=0;x<arguments.length;x++)r[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var y=r.length;if(!y)return"";for(var b=[],B=-1,R="";++B<y;){var I=r[B];I<=65535?b.push(I):(I-=65536,b.push((I>>10)+55296,I%1024+56320)),(B+1===y||b.length>16384)&&(R+=String.fromCharCode.apply(String,b),b.length=0)}return R},UnicodeTrie=createTrieFromBase64(base64$2),BREAK_NOT_ALLOWED="",BREAK_ALLOWED="",codePointToClass=function(r){return UnicodeTrie.get(r)},_graphemeBreakAtIndex=function(r,x,y){var b=y-2,B=x[b],R=x[y-1],I=x[y];if(R===CR$2&&I===LF$2)return BREAK_NOT_ALLOWED;if(R===CR$2||R===LF$2||R===Control||I===CR$2||I===LF$2||I===Control)return BREAK_ALLOWED;if(R===L$1&&[L$1,V$1,LV,LVT].indexOf(I)!==-1||(R===LV||R===V$1)&&(I===V$1||I===T)||(R===LVT||R===T)&&I===T||I===ZWJ||I===Extend||I===SpacingMark||R===Prepend)return BREAK_NOT_ALLOWED;if(R===ZWJ&&I===Extended_Pictographic){for(;B===Extend;)B=x[--b];if(B===Extended_Pictographic)return BREAK_NOT_ALLOWED}if(R===RI&&I===RI){for(var O=0;B===RI;)O++,B=x[--b];if(O%2===0)return BREAK_NOT_ALLOWED}return BREAK_ALLOWED},GraphemeBreaker=function(r){var x=toCodePoints(r),y=x.length,b=0,B=0,R=x.map(codePointToClass);return{next:function(){if(b>=y)return{done:!0,value:null};for(var I=BREAK_NOT_ALLOWED;b<y&&(I=_graphemeBreakAtIndex(x,R,++b))===BREAK_NOT_ALLOWED;);if(I!==BREAK_NOT_ALLOWED||b===y){var O=fromCodePoint.apply(null,x.slice(B,b));return B=b,{value:O,done:!1}}return{done:!0,value:null}}}},splitGraphemes=function(r){for(var x=GraphemeBreaker(r),y=[],b;!(b=x.next()).done;)b.value&&y.push(b.value.slice());return y},testRangeBounds=function(r){var x=123;if(r.createRange){var y=r.createRange();if(y.getBoundingClientRect){var b=r.createElement("boundtest");b.style.height=x+"px",b.style.display="block",r.body.appendChild(b),y.selectNode(b);var B=y.getBoundingClientRect(),R=Math.round(B.height);if(r.body.removeChild(b),R===x)return!0}}return!1},testIOSLineBreak=function(r){var x=r.createElement("boundtest");x.style.width="50px",x.style.display="block",x.style.fontSize="12px",x.style.letterSpacing="0px",x.style.wordSpacing="0px",r.body.appendChild(x);var y=r.createRange();x.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var b=x.firstChild,B=toCodePoints$1(b.data).map(function(G){return fromCodePoint$1(G)}),R=0,I={},O=B.every(function(G,q){y.setStart(b,R),y.setEnd(b,R+G.length);var ee=y.getBoundingClientRect();R+=G.length;var ne=ee.x>I.x||ee.y>I.y;return I=ee,q===0?!0:ne});return r.body.removeChild(x),O},testCORS=function(){return typeof new Image().crossOrigin<"u"},testResponseType=function(){return typeof new XMLHttpRequest().responseType=="string"},testSVG=function(r){var x=new Image,y=r.createElement("canvas"),b=y.getContext("2d");if(!b)return!1;x.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{b.drawImage(x,0,0),y.toDataURL()}catch{return!1}return!0},isGreenPixel=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},testForeignObject=function(r){var x=r.createElement("canvas"),y=100;x.width=y,x.height=y;var b=x.getContext("2d");if(!b)return Promise.reject(!1);b.fillStyle="rgb(0, 255, 0)",b.fillRect(0,0,y,y);var B=new Image,R=x.toDataURL();B.src=R;var I=createForeignObjectSVG(y,y,0,0,B);return b.fillStyle="red",b.fillRect(0,0,y,y),loadSerializedSVG$1(I).then(function(O){b.drawImage(O,0,0);var G=b.getImageData(0,0,y,y).data;b.fillStyle="red",b.fillRect(0,0,y,y);var q=r.createElement("div");return q.style.backgroundImage="url("+R+")",q.style.height=y+"px",isGreenPixel(G)?loadSerializedSVG$1(createForeignObjectSVG(y,y,0,0,q)):Promise.reject(!1)}).then(function(O){return b.drawImage(O,0,0),isGreenPixel(b.getImageData(0,0,y,y).data)}).catch(function(){return!1})},createForeignObjectSVG=function(r,x,y,b,B){var R="http://www.w3.org/2000/svg",I=document.createElementNS(R,"svg"),O=document.createElementNS(R,"foreignObject");return I.setAttributeNS(null,"width",r.toString()),I.setAttributeNS(null,"height",x.toString()),O.setAttributeNS(null,"width","100%"),O.setAttributeNS(null,"height","100%"),O.setAttributeNS(null,"x",y.toString()),O.setAttributeNS(null,"y",b.toString()),O.setAttributeNS(null,"externalResourcesRequired","true"),I.appendChild(O),O.appendChild(B),I},loadSerializedSVG$1=function(r){return new Promise(function(x,y){var b=new Image;b.onload=function(){return x(b)},b.onerror=y,b.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},FEATURES={get SUPPORT_RANGE_BOUNDS(){var r=testRangeBounds(document);return Object.defineProperty(FEATURES,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=FEATURES.SUPPORT_RANGE_BOUNDS&&testIOSLineBreak(document);return Object.defineProperty(FEATURES,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=testSVG(document);return Object.defineProperty(FEATURES,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?testForeignObject(document):Promise.resolve(!1);return Object.defineProperty(FEATURES,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=testCORS();return Object.defineProperty(FEATURES,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=testResponseType();return Object.defineProperty(FEATURES,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(FEATURES,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(FEATURES,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},TextBounds=(function(){function r(x,y){this.text=x,this.bounds=y}return r})(),parseTextBounds=function(r,x,y,b){var B=breakText(x,y),R=[],I=0;return B.forEach(function(O){if(y.textDecorationLine.length||O.trim().length>0)if(FEATURES.SUPPORT_RANGE_BOUNDS){var G=createRange(b,I,O.length).getClientRects();if(G.length>1){var q=segmentGraphemes(O),ee=0;q.forEach(function(oe){R.push(new TextBounds(oe,Bounds.fromDOMRectList(r,createRange(b,ee+I,oe.length).getClientRects()))),ee+=oe.length})}else R.push(new TextBounds(O,Bounds.fromDOMRectList(r,G)))}else{var ne=b.splitText(O.length);R.push(new TextBounds(O,getWrapperBounds(r,b))),b=ne}else FEATURES.SUPPORT_RANGE_BOUNDS||(b=b.splitText(O.length));I+=O.length}),R},getWrapperBounds=function(r,x){var y=x.ownerDocument;if(y){var b=y.createElement("html2canvaswrapper");b.appendChild(x.cloneNode(!0));var B=x.parentNode;if(B){B.replaceChild(b,x);var R=parseBounds(r,b);return b.firstChild&&B.replaceChild(b.firstChild,b),R}}return Bounds.EMPTY},createRange=function(r,x,y){var b=r.ownerDocument;if(!b)throw new Error("Node has no owner document");var B=b.createRange();return B.setStart(r,x),B.setEnd(r,x+y),B},segmentGraphemes=function(r){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var x=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(x.segment(r)).map(function(y){return y.segment})}return splitGraphemes(r)},segmentWords=function(r,x){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var y=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(y.segment(r)).map(function(b){return b.segment})}return breakWords(r,x)},breakText=function(r,x){return x.letterSpacing!==0?segmentGraphemes(r):segmentWords(r,x)},wordSeparators=[32,160,4961,65792,65793,4153,4241],breakWords=function(r,x){for(var y=LineBreaker(r,{lineBreak:x.lineBreak,wordBreak:x.overflowWrap==="break-word"?"break-word":x.wordBreak}),b=[],B,R=function(){if(B.value){var I=B.value.slice(),O=toCodePoints$1(I),G="";O.forEach(function(q){wordSeparators.indexOf(q)===-1?G+=fromCodePoint$1(q):(G.length&&b.push(G),b.push(fromCodePoint$1(q)),G="")}),G.length&&b.push(G)}};!(B=y.next()).done;)R();return b},TextContainer=(function(){function r(x,y,b){this.text=transform(y.data,b.textTransform),this.textBounds=parseTextBounds(x,this.text,b,y)}return r})(),transform=function(r,x){switch(x){case 1:return r.toLowerCase();case 3:return r.replace(CAPITALIZE,capitalize);case 2:return r.toUpperCase();default:return r}},CAPITALIZE=/(^|\s|:|-|\(|\))([a-z])/g,capitalize=function(r,x,y){return r.length>0?x+y.toUpperCase():r},ImageElementContainer=(function(r){__extends(x,r);function x(y,b){var B=r.call(this,y,b)||this;return B.src=b.currentSrc||b.src,B.intrinsicWidth=b.naturalWidth,B.intrinsicHeight=b.naturalHeight,B.context.cache.addImage(B.src),B}return x})(ElementContainer),CanvasElementContainer=(function(r){__extends(x,r);function x(y,b){var B=r.call(this,y,b)||this;return B.canvas=b,B.intrinsicWidth=b.width,B.intrinsicHeight=b.height,B}return x})(ElementContainer),SVGElementContainer=(function(r){__extends(x,r);function x(y,b){var B=r.call(this,y,b)||this,R=new XMLSerializer,I=parseBounds(y,b);return b.setAttribute("width",I.width+"px"),b.setAttribute("height",I.height+"px"),B.svg="data:image/svg+xml,"+encodeURIComponent(R.serializeToString(b)),B.intrinsicWidth=b.width.baseVal.value,B.intrinsicHeight=b.height.baseVal.value,B.context.cache.addImage(B.svg),B}return x})(ElementContainer),LIElementContainer=(function(r){__extends(x,r);function x(y,b){var B=r.call(this,y,b)||this;return B.value=b.value,B}return x})(ElementContainer),OLElementContainer=(function(r){__extends(x,r);function x(y,b){var B=r.call(this,y,b)||this;return B.start=b.start,B.reversed=typeof b.reversed=="boolean"&&b.reversed===!0,B}return x})(ElementContainer),CHECKBOX_BORDER_RADIUS=[{type:15,flags:0,unit:"px",number:3}],RADIO_BORDER_RADIUS=[{type:16,flags:0,number:50}],reformatInputBounds=function(r){return r.width>r.height?new Bounds(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new Bounds(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},getInputValue=function(r){var x=r.type===PASSWORD?new Array(r.value.length+1).join(""):r.value;return x.length===0?r.placeholder||"":x},CHECKBOX="checkbox",RADIO="radio",PASSWORD="password",INPUT_COLOR=707406591,InputElementContainer=(function(r){__extends(x,r);function x(y,b){var B=r.call(this,y,b)||this;switch(B.type=b.type.toLowerCase(),B.checked=b.checked,B.value=getInputValue(b),(B.type===CHECKBOX||B.type===RADIO)&&(B.styles.backgroundColor=3739148031,B.styles.borderTopColor=B.styles.borderRightColor=B.styles.borderBottomColor=B.styles.borderLeftColor=2779096575,B.styles.borderTopWidth=B.styles.borderRightWidth=B.styles.borderBottomWidth=B.styles.borderLeftWidth=1,B.styles.borderTopStyle=B.styles.borderRightStyle=B.styles.borderBottomStyle=B.styles.borderLeftStyle=1,B.styles.backgroundClip=[0],B.styles.backgroundOrigin=[0],B.bounds=reformatInputBounds(B.bounds)),B.type){case CHECKBOX:B.styles.borderTopRightRadius=B.styles.borderTopLeftRadius=B.styles.borderBottomRightRadius=B.styles.borderBottomLeftRadius=CHECKBOX_BORDER_RADIUS;break;case RADIO:B.styles.borderTopRightRadius=B.styles.borderTopLeftRadius=B.styles.borderBottomRightRadius=B.styles.borderBottomLeftRadius=RADIO_BORDER_RADIUS;break}return B}return x})(ElementContainer),SelectElementContainer=(function(r){__extends(x,r);function x(y,b){var B=r.call(this,y,b)||this,R=b.options[b.selectedIndex||0];return B.value=R&&R.text||"",B}return x})(ElementContainer),TextareaElementContainer=(function(r){__extends(x,r);function x(y,b){var B=r.call(this,y,b)||this;return B.value=b.value,B}return x})(ElementContainer),IFrameElementContainer=(function(r){__extends(x,r);function x(y,b){var B=r.call(this,y,b)||this;B.src=b.src,B.width=parseInt(b.width,10)||0,B.height=parseInt(b.height,10)||0,B.backgroundColor=B.styles.backgroundColor;try{if(b.contentWindow&&b.contentWindow.document&&b.contentWindow.document.documentElement){B.tree=parseTree(y,b.contentWindow.document.documentElement);var R=b.contentWindow.document.documentElement?parseColor(y,getComputedStyle(b.contentWindow.document.documentElement).backgroundColor):COLORS.TRANSPARENT,I=b.contentWindow.document.body?parseColor(y,getComputedStyle(b.contentWindow.document.body).backgroundColor):COLORS.TRANSPARENT;B.backgroundColor=isTransparent(R)?isTransparent(I)?B.styles.backgroundColor:I:R}}catch{}return B}return x})(ElementContainer),LIST_OWNERS=["OL","UL","MENU"],parseNodeTree=function(r,x,y,b){for(var B=x.firstChild,R=void 0;B;B=R)if(R=B.nextSibling,isTextNode(B)&&B.data.trim().length>0)y.textNodes.push(new TextContainer(r,B,y.styles));else if(isElementNode(B))if(isSlotElement(B)&&B.assignedNodes)B.assignedNodes().forEach(function(O){return parseNodeTree(r,O,y,b)});else{var I=createContainer(r,B);I.styles.isVisible()&&(createsRealStackingContext(B,I,b)?I.flags|=4:createsStackingContext(I.styles)&&(I.flags|=2),LIST_OWNERS.indexOf(B.tagName)!==-1&&(I.flags|=8),y.elements.push(I),B.slot,B.shadowRoot?parseNodeTree(r,B.shadowRoot,I,b):!isTextareaElement(B)&&!isSVGElement(B)&&!isSelectElement(B)&&parseNodeTree(r,B,I,b))}},createContainer=function(r,x){return isImageElement(x)?new ImageElementContainer(r,x):isCanvasElement(x)?new CanvasElementContainer(r,x):isSVGElement(x)?new SVGElementContainer(r,x):isLIElement(x)?new LIElementContainer(r,x):isOLElement(x)?new OLElementContainer(r,x):isInputElement(x)?new InputElementContainer(r,x):isSelectElement(x)?new SelectElementContainer(r,x):isTextareaElement(x)?new TextareaElementContainer(r,x):isIFrameElement(x)?new IFrameElementContainer(r,x):new ElementContainer(r,x)},parseTree=function(r,x){var y=createContainer(r,x);return y.flags|=4,parseNodeTree(r,x,y,y),y},createsRealStackingContext=function(r,x,y){return x.styles.isPositionedWithZIndex()||x.styles.opacity<1||x.styles.isTransformed()||isBodyElement(r)&&y.styles.isTransparent()},createsStackingContext=function(r){return r.isPositioned()||r.isFloating()},isTextNode=function(r){return r.nodeType===Node.TEXT_NODE},isElementNode=function(r){return r.nodeType===Node.ELEMENT_NODE},isHTMLElementNode=function(r){return isElementNode(r)&&typeof r.style<"u"&&!isSVGElementNode(r)},isSVGElementNode=function(r){return typeof r.className=="object"},isLIElement=function(r){return r.tagName==="LI"},isOLElement=function(r){return r.tagName==="OL"},isInputElement=function(r){return r.tagName==="INPUT"},isHTMLElement=function(r){return r.tagName==="HTML"},isSVGElement=function(r){return r.tagName==="svg"},isBodyElement=function(r){return r.tagName==="BODY"},isCanvasElement=function(r){return r.tagName==="CANVAS"},isVideoElement=function(r){return r.tagName==="VIDEO"},isImageElement=function(r){return r.tagName==="IMG"},isIFrameElement=function(r){return r.tagName==="IFRAME"},isStyleElement=function(r){return r.tagName==="STYLE"},isScriptElement=function(r){return r.tagName==="SCRIPT"},isTextareaElement=function(r){return r.tagName==="TEXTAREA"},isSelectElement=function(r){return r.tagName==="SELECT"},isSlotElement=function(r){return r.tagName==="SLOT"},isCustomElement=function(r){return r.tagName.indexOf("-")>0},CounterState=(function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(x){var y=this.counters[x];return y&&y.length?y[y.length-1]:1},r.prototype.getCounterValues=function(x){var y=this.counters[x];return y||[]},r.prototype.pop=function(x){var y=this;x.forEach(function(b){return y.counters[b].pop()})},r.prototype.parse=function(x){var y=this,b=x.counterIncrement,B=x.counterReset,R=!0;b!==null&&b.forEach(function(O){var G=y.counters[O.counter];G&&O.increment!==0&&(R=!1,G.length||G.push(1),G[Math.max(0,G.length-1)]+=O.increment)});var I=[];return R&&B.forEach(function(O){var G=y.counters[O.counter];I.push(O.counter),G||(G=y.counters[O.counter]=[]),G.push(O.reset)}),I},r})(),ROMAN_UPPER={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ARMENIAN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},HEBREW={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},GEORGIAN={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},createAdditiveCounter=function(r,x,y,b,B,R){return r<x||r>y?createCounterText(r,B,R.length>0):b.integers.reduce(function(I,O,G){for(;r>=O;)r-=O,I+=b.values[G];return I},"")+R},createCounterStyleWithSymbolResolver=function(r,x,y,b){var B="";do y||r--,B=b(r)+B,r/=x;while(r*x>=x);return B},createCounterStyleFromRange=function(r,x,y,b,B){var R=y-x+1;return(r<0?"-":"")+(createCounterStyleWithSymbolResolver(Math.abs(r),R,b,function(I){return fromCodePoint$1(Math.floor(I%R)+x)})+B)},createCounterStyleFromSymbols=function(r,x,y){y===void 0&&(y=". ");var b=x.length;return createCounterStyleWithSymbolResolver(Math.abs(r),b,!1,function(B){return x[Math.floor(B%b)]})+y},CJK_ZEROS=1,CJK_TEN_COEFFICIENTS=2,CJK_TEN_HIGH_COEFFICIENTS=4,CJK_HUNDRED_COEFFICIENTS=8,createCJKCounter=function(r,x,y,b,B,R){if(r<-9999||r>9999)return createCounterText(r,4,B.length>0);var I=Math.abs(r),O=B;if(I===0)return x[0]+O;for(var G=0;I>0&&G<=4;G++){var q=I%10;q===0&&contains(R,CJK_ZEROS)&&O!==""?O=x[q]+O:q>1||q===1&&G===0||q===1&&G===1&&contains(R,CJK_TEN_COEFFICIENTS)||q===1&&G===1&&contains(R,CJK_TEN_HIGH_COEFFICIENTS)&&r>100||q===1&&G>1&&contains(R,CJK_HUNDRED_COEFFICIENTS)?O=x[q]+(G>0?y[G-1]:"")+O:q===1&&G>0&&(O=y[G-1]+O),I=Math.floor(I/10)}return(r<0?b:"")+O},CHINESE_INFORMAL_MULTIPLIERS="",CHINESE_FORMAL_MULTIPLIERS="",JAPANESE_NEGATIVE="",KOREAN_NEGATIVE="",createCounterText=function(r,x,y){var b=y?". ":"",B=y?"":"",R=y?", ":"",I=y?" ":"";switch(x){case 0:return""+I;case 1:return""+I;case 2:return""+I;case 5:var O=createCounterStyleFromRange(r,48,57,!0,b);return O.length<4?"0"+O:O;case 4:return createCounterStyleFromSymbols(r,"",B);case 6:return createAdditiveCounter(r,1,3999,ROMAN_UPPER,3,b).toLowerCase();case 7:return createAdditiveCounter(r,1,3999,ROMAN_UPPER,3,b);case 8:return createCounterStyleFromRange(r,945,969,!1,b);case 9:return createCounterStyleFromRange(r,97,122,!1,b);case 10:return createCounterStyleFromRange(r,65,90,!1,b);case 11:return createCounterStyleFromRange(r,1632,1641,!0,b);case 12:case 49:return createAdditiveCounter(r,1,9999,ARMENIAN,3,b);case 35:return createAdditiveCounter(r,1,9999,ARMENIAN,3,b).toLowerCase();case 13:return createCounterStyleFromRange(r,2534,2543,!0,b);case 14:case 30:return createCounterStyleFromRange(r,6112,6121,!0,b);case 15:return createCounterStyleFromSymbols(r,"",B);case 16:return createCounterStyleFromSymbols(r,"",B);case 17:case 48:return createCJKCounter(r,"",CHINESE_INFORMAL_MULTIPLIERS,"",B,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 47:return createCJKCounter(r,"",CHINESE_FORMAL_MULTIPLIERS,"",B,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 42:return createCJKCounter(r,"",CHINESE_INFORMAL_MULTIPLIERS,"",B,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 41:return createCJKCounter(r,"",CHINESE_FORMAL_MULTIPLIERS,"",B,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 26:return createCJKCounter(r,"","",JAPANESE_NEGATIVE,B,0);case 25:return createCJKCounter(r,"","",JAPANESE_NEGATIVE,B,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 31:return createCJKCounter(r,"","",KOREAN_NEGATIVE,R,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 33:return createCJKCounter(r,"","",KOREAN_NEGATIVE,R,0);case 32:return createCJKCounter(r,"","",KOREAN_NEGATIVE,R,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 18:return createCounterStyleFromRange(r,2406,2415,!0,b);case 20:return createAdditiveCounter(r,1,19999,GEORGIAN,3,b);case 21:return createCounterStyleFromRange(r,2790,2799,!0,b);case 22:return createCounterStyleFromRange(r,2662,2671,!0,b);case 22:return createAdditiveCounter(r,1,10999,HEBREW,3,b);case 23:return createCounterStyleFromSymbols(r,"");case 24:return createCounterStyleFromSymbols(r,"");case 27:return createCounterStyleFromRange(r,3302,3311,!0,b);case 28:return createCounterStyleFromSymbols(r,"",B);case 29:return createCounterStyleFromSymbols(r,"",B);case 34:return createCounterStyleFromRange(r,3792,3801,!0,b);case 37:return createCounterStyleFromRange(r,6160,6169,!0,b);case 38:return createCounterStyleFromRange(r,4160,4169,!0,b);case 39:return createCounterStyleFromRange(r,2918,2927,!0,b);case 40:return createCounterStyleFromRange(r,1776,1785,!0,b);case 43:return createCounterStyleFromRange(r,3046,3055,!0,b);case 44:return createCounterStyleFromRange(r,3174,3183,!0,b);case 45:return createCounterStyleFromRange(r,3664,3673,!0,b);case 46:return createCounterStyleFromRange(r,3872,3881,!0,b);case 3:default:return createCounterStyleFromRange(r,48,57,!0,b)}},IGNORE_ATTRIBUTE="data-html2canvas-ignore",DocumentCloner=(function(){function r(x,y,b){if(this.context=x,this.options=b,this.scrolledElements=[],this.referenceElement=y,this.counters=new CounterState,this.quoteDepth=0,!y.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(y.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(x,y){var b=this,B=createIFrameContainer(x,y);if(!B.contentWindow)return Promise.reject("Unable to find iframe window");var R=x.defaultView.pageXOffset,I=x.defaultView.pageYOffset,O=B.contentWindow,G=O.document,q=iframeLoader(B).then(function(){return __awaiter$1(b,void 0,void 0,function(){var ee,ne;return __generator(this,function(oe){switch(oe.label){case 0:return this.scrolledElements.forEach(restoreNodeScroll),O&&(O.scrollTo(y.left,y.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(O.scrollY!==y.top||O.scrollX!==y.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(O.scrollX-y.left,O.scrollY-y.top,0,0))),ee=this.options.onclone,ne=this.clonedReferenceElement,typeof ne>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:G.fonts&&G.fonts.ready?[4,G.fonts.ready]:[3,2];case 1:oe.sent(),oe.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,imagesReady(G)]:[3,4];case 3:oe.sent(),oe.label=4;case 4:return typeof ee=="function"?[2,Promise.resolve().then(function(){return ee(G,ne)}).then(function(){return B})]:[2,B]}})})});return G.open(),G.write(serializeDoctype(document.doctype)+"<html></html>"),restoreOwnerScroll(this.referenceElement.ownerDocument,R,I),G.replaceChild(G.adoptNode(this.documentElement),G.documentElement),G.close(),q},r.prototype.createElementClone=function(x){if(isDebugging(x,2))debugger;if(isCanvasElement(x))return this.createCanvasClone(x);if(isVideoElement(x))return this.createVideoClone(x);if(isStyleElement(x))return this.createStyleClone(x);var y=x.cloneNode(!1);return isImageElement(y)&&(isImageElement(x)&&x.currentSrc&&x.currentSrc!==x.src&&(y.src=x.currentSrc,y.srcset=""),y.loading==="lazy"&&(y.loading="eager")),isCustomElement(y)?this.createCustomElementClone(y):y},r.prototype.createCustomElementClone=function(x){var y=document.createElement("html2canvascustomelement");return copyCSSStyles(x.style,y),y},r.prototype.createStyleClone=function(x){try{var y=x.sheet;if(y&&y.cssRules){var b=[].slice.call(y.cssRules,0).reduce(function(R,I){return I&&typeof I.cssText=="string"?R+I.cssText:R},""),B=x.cloneNode(!1);return B.textContent=b,B}}catch(R){if(this.context.logger.error("Unable to access cssRules property",R),R.name!=="SecurityError")throw R}return x.cloneNode(!1)},r.prototype.createCanvasClone=function(x){var y;if(this.options.inlineImages&&x.ownerDocument){var b=x.ownerDocument.createElement("img");try{return b.src=x.toDataURL(),b}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",x)}}var B=x.cloneNode(!1);try{B.width=x.width,B.height=x.height;var R=x.getContext("2d"),I=B.getContext("2d");if(I)if(!this.options.allowTaint&&R)I.putImageData(R.getImageData(0,0,x.width,x.height),0,0);else{var O=(y=x.getContext("webgl2"))!==null&&y!==void 0?y:x.getContext("webgl");if(O){var G=O.getContextAttributes();(G==null?void 0:G.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",x)}I.drawImage(x,0,0)}return B}catch{this.context.logger.info("Unable to clone canvas as it is tainted",x)}return B},r.prototype.createVideoClone=function(x){var y=x.ownerDocument.createElement("canvas");y.width=x.offsetWidth,y.height=x.offsetHeight;var b=y.getContext("2d");try{return b&&(b.drawImage(x,0,0,y.width,y.height),this.options.allowTaint||b.getImageData(0,0,y.width,y.height)),y}catch{this.context.logger.info("Unable to clone video as it is tainted",x)}var B=x.ownerDocument.createElement("canvas");return B.width=x.offsetWidth,B.height=x.offsetHeight,B},r.prototype.appendChildNode=function(x,y,b){(!isElementNode(y)||!isScriptElement(y)&&!y.hasAttribute(IGNORE_ATTRIBUTE)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(y)))&&(!this.options.copyStyles||!isElementNode(y)||!isStyleElement(y))&&x.appendChild(this.cloneNode(y,b))},r.prototype.cloneChildNodes=function(x,y,b){for(var B=this,R=x.shadowRoot?x.shadowRoot.firstChild:x.firstChild;R;R=R.nextSibling)if(isElementNode(R)&&isSlotElement(R)&&typeof R.assignedNodes=="function"){var I=R.assignedNodes();I.length&&I.forEach(function(O){return B.appendChildNode(y,O,b)})}else this.appendChildNode(y,R,b)},r.prototype.cloneNode=function(x,y){if(isTextNode(x))return document.createTextNode(x.data);if(!x.ownerDocument)return x.cloneNode(!1);var b=x.ownerDocument.defaultView;if(b&&isElementNode(x)&&(isHTMLElementNode(x)||isSVGElementNode(x))){var B=this.createElementClone(x);B.style.transitionProperty="none";var R=b.getComputedStyle(x),I=b.getComputedStyle(x,":before"),O=b.getComputedStyle(x,":after");this.referenceElement===x&&isHTMLElementNode(B)&&(this.clonedReferenceElement=B),isBodyElement(B)&&createPseudoHideStyles(B);var G=this.counters.parse(new CSSParsedCounterDeclaration(this.context,R)),q=this.resolvePseudoContent(x,B,I,PseudoElementType.BEFORE);isCustomElement(x)&&(y=!0),isVideoElement(x)||this.cloneChildNodes(x,B,y),q&&B.insertBefore(q,B.firstChild);var ee=this.resolvePseudoContent(x,B,O,PseudoElementType.AFTER);return ee&&B.appendChild(ee),this.counters.pop(G),(R&&(this.options.copyStyles||isSVGElementNode(x))&&!isIFrameElement(x)||y)&&copyCSSStyles(R,B),(x.scrollTop!==0||x.scrollLeft!==0)&&this.scrolledElements.push([B,x.scrollLeft,x.scrollTop]),(isTextareaElement(x)||isSelectElement(x))&&(isTextareaElement(B)||isSelectElement(B))&&(B.value=x.value),B}return x.cloneNode(!1)},r.prototype.resolvePseudoContent=function(x,y,b,B){var R=this;if(b){var I=b.content,O=y.ownerDocument;if(!(!O||!I||I==="none"||I==="-moz-alt-content"||b.display==="none")){this.counters.parse(new CSSParsedCounterDeclaration(this.context,b));var G=new CSSParsedPseudoDeclaration(this.context,b),q=O.createElement("html2canvaspseudoelement");copyCSSStyles(b,q),G.content.forEach(function(ne){if(ne.type===0)q.appendChild(O.createTextNode(ne.value));else if(ne.type===22){var oe=O.createElement("img");oe.src=ne.value,oe.style.opacity="1",q.appendChild(oe)}else if(ne.type===18){if(ne.name==="attr"){var pe=ne.values.filter(isIdentToken);pe.length&&q.appendChild(O.createTextNode(x.getAttribute(pe[0].value)||""))}else if(ne.name==="counter"){var xe=ne.values.filter(nonFunctionArgSeparator),_e=xe[0],Ue=xe[1];if(_e&&isIdentToken(_e)){var Le=R.counters.getCounterValue(_e.value),He=Ue&&isIdentToken(Ue)?listStyleType.parse(R.context,Ue.value):3;q.appendChild(O.createTextNode(createCounterText(Le,He,!1)))}}else if(ne.name==="counters"){var $e=ne.values.filter(nonFunctionArgSeparator),_e=$e[0],Ne=$e[1],Ue=$e[2];if(_e&&isIdentToken(_e)){var Qe=R.counters.getCounterValues(_e.value),We=Ue&&isIdentToken(Ue)?listStyleType.parse(R.context,Ue.value):3,Ge=Ne&&Ne.type===0?Ne.value:"",Xe=Qe.map(function(ft){return createCounterText(ft,We,!1)}).join(Ge);q.appendChild(O.createTextNode(Xe))}}}else if(ne.type===20)switch(ne.value){case"open-quote":q.appendChild(O.createTextNode(getQuote(G.quotes,R.quoteDepth++,!0)));break;case"close-quote":q.appendChild(O.createTextNode(getQuote(G.quotes,--R.quoteDepth,!1)));break;default:q.appendChild(O.createTextNode(ne.value))}}),q.className=PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;var ee=B===PseudoElementType.BEFORE?" "+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE:" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;return isSVGElementNode(y)?y.className.baseValue+=ee:y.className+=ee,q}}},r.destroy=function(x){return x.parentNode?(x.parentNode.removeChild(x),!0):!1},r})(),PseudoElementType;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(PseudoElementType||(PseudoElementType={}));var createIFrameContainer=function(r,x){var y=r.createElement("iframe");return y.className="html2canvas-container",y.style.visibility="hidden",y.style.position="fixed",y.style.left="-10000px",y.style.top="0px",y.style.border="0",y.width=x.width.toString(),y.height=x.height.toString(),y.scrolling="no",y.setAttribute(IGNORE_ATTRIBUTE,"true"),r.body.appendChild(y),y},imageReady=function(r){return new Promise(function(x){if(r.complete){x();return}if(!r.src){x();return}r.onload=x,r.onerror=x})},imagesReady=function(r){return Promise.all([].slice.call(r.images,0).map(imageReady))},iframeLoader=function(r){return new Promise(function(x,y){var b=r.contentWindow;if(!b)return y("No window assigned for iframe");var B=b.document;b.onload=r.onload=function(){b.onload=r.onload=null;var R=setInterval(function(){B.body.childNodes.length>0&&B.readyState==="complete"&&(clearInterval(R),x(r))},50)}})},ignoredStyleProperties=["all","d","content"],copyCSSStyles=function(r,x){for(var y=r.length-1;y>=0;y--){var b=r.item(y);ignoredStyleProperties.indexOf(b)===-1&&x.style.setProperty(b,r.getPropertyValue(b))}return x},serializeDoctype=function(r){var x="";return r&&(x+="<!DOCTYPE ",r.name&&(x+=r.name),r.internalSubset&&(x+=r.internalSubset),r.publicId&&(x+='"'+r.publicId+'"'),r.systemId&&(x+='"'+r.systemId+'"'),x+=">"),x},restoreOwnerScroll=function(r,x,y){r&&r.defaultView&&(x!==r.defaultView.pageXOffset||y!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(x,y)},restoreNodeScroll=function(r){var x=r[0],y=r[1],b=r[2];x.scrollLeft=y,x.scrollTop=b},PSEUDO_BEFORE=":before",PSEUDO_AFTER=":after",PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",PSEUDO_HIDE_ELEMENT_STYLE=`{
    content: "" !important;
    display: none !important;
}`,createPseudoHideStyles=function(r){createStyles(r,"."+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+PSEUDO_BEFORE+PSEUDO_HIDE_ELEMENT_STYLE+`
         .`+PSEUDO_HIDE_ELEMENT_CLASS_AFTER+PSEUDO_AFTER+PSEUDO_HIDE_ELEMENT_STYLE)},createStyles=function(r,x){var y=r.ownerDocument;if(y){var b=y.createElement("style");b.textContent=x,r.appendChild(b)}},CacheStorage=(function(){function r(){}return r.getOrigin=function(x){var y=r._link;return y?(y.href=x,y.href=y.href,y.protocol+y.hostname+y.port):"about:blank"},r.isSameOrigin=function(x){return r.getOrigin(x)===r._origin},r.setContext=function(x){r._link=x.document.createElement("a"),r._origin=r.getOrigin(x.location.href)},r._origin="about:blank",r})(),Cache=(function(){function r(x,y){this.context=x,this._options=y,this._cache={}}return r.prototype.addImage=function(x){var y=Promise.resolve();return this.has(x)||(isBlobImage(x)||isRenderable(x))&&(this._cache[x]=this.loadImage(x)).catch(function(){}),y},r.prototype.match=function(x){return this._cache[x]},r.prototype.loadImage=function(x){return __awaiter$1(this,void 0,void 0,function(){var y,b,B,R,I=this;return __generator(this,function(O){switch(O.label){case 0:return y=CacheStorage.isSameOrigin(x),b=!isInlineImage(x)&&this._options.useCORS===!0&&FEATURES.SUPPORT_CORS_IMAGES&&!y,B=!isInlineImage(x)&&!y&&!isBlobImage(x)&&typeof this._options.proxy=="string"&&FEATURES.SUPPORT_CORS_XHR&&!b,!y&&this._options.allowTaint===!1&&!isInlineImage(x)&&!isBlobImage(x)&&!B&&!b?[2]:(R=x,B?[4,this.proxy(R)]:[3,2]);case 1:R=O.sent(),O.label=2;case 2:return this.context.logger.debug("Added image "+x.substring(0,256)),[4,new Promise(function(G,q){var ee=new Image;ee.onload=function(){return G(ee)},ee.onerror=q,(isInlineBase64Image(R)||b)&&(ee.crossOrigin="anonymous"),ee.src=R,ee.complete===!0&&setTimeout(function(){return G(ee)},500),I._options.imageTimeout>0&&setTimeout(function(){return q("Timed out ("+I._options.imageTimeout+"ms) loading image")},I._options.imageTimeout)})];case 3:return[2,O.sent()]}})})},r.prototype.has=function(x){return typeof this._cache[x]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(x){var y=this,b=this._options.proxy;if(!b)throw new Error("No proxy defined");var B=x.substring(0,256);return new Promise(function(R,I){var O=FEATURES.SUPPORT_RESPONSE_TYPE?"blob":"text",G=new XMLHttpRequest;G.onload=function(){if(G.status===200)if(O==="text")R(G.response);else{var ne=new FileReader;ne.addEventListener("load",function(){return R(ne.result)},!1),ne.addEventListener("error",function(oe){return I(oe)},!1),ne.readAsDataURL(G.response)}else I("Failed to proxy resource "+B+" with status code "+G.status)},G.onerror=I;var q=b.indexOf("?")>-1?"&":"?";if(G.open("GET",""+b+q+"url="+encodeURIComponent(x)+"&responseType="+O),O!=="text"&&G instanceof XMLHttpRequest&&(G.responseType=O),y._options.imageTimeout){var ee=y._options.imageTimeout;G.timeout=ee,G.ontimeout=function(){return I("Timed out ("+ee+"ms) proxying "+B)}}G.send()})},r})(),INLINE_SVG=/^data:image\/svg\+xml/i,INLINE_BASE64=/^data:image\/.*;base64,/i,INLINE_IMG=/^data:image\/.*/i,isRenderable=function(r){return FEATURES.SUPPORT_SVG_DRAWING||!isSVG(r)},isInlineImage=function(r){return INLINE_IMG.test(r)},isInlineBase64Image=function(r){return INLINE_BASE64.test(r)},isBlobImage=function(r){return r.substr(0,4)==="blob"},isSVG=function(r){return r.substr(-3).toLowerCase()==="svg"||INLINE_SVG.test(r)},Vector=(function(){function r(x,y){this.type=0,this.x=x,this.y=y}return r.prototype.add=function(x,y){return new r(this.x+x,this.y+y)},r})(),lerp=function(r,x,y){return new Vector(r.x+(x.x-r.x)*y,r.y+(x.y-r.y)*y)},BezierCurve=(function(){function r(x,y,b,B){this.type=1,this.start=x,this.startControl=y,this.endControl=b,this.end=B}return r.prototype.subdivide=function(x,y){var b=lerp(this.start,this.startControl,x),B=lerp(this.startControl,this.endControl,x),R=lerp(this.endControl,this.end,x),I=lerp(b,B,x),O=lerp(B,R,x),G=lerp(I,O,x);return y?new r(this.start,b,I,G):new r(G,O,R,this.end)},r.prototype.add=function(x,y){return new r(this.start.add(x,y),this.startControl.add(x,y),this.endControl.add(x,y),this.end.add(x,y))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r})(),isBezierCurve=function(r){return r.type===1},BoundCurves=(function(){function r(x){var y=x.styles,b=x.bounds,B=getAbsoluteValueForTuple(y.borderTopLeftRadius,b.width,b.height),R=B[0],I=B[1],O=getAbsoluteValueForTuple(y.borderTopRightRadius,b.width,b.height),G=O[0],q=O[1],ee=getAbsoluteValueForTuple(y.borderBottomRightRadius,b.width,b.height),ne=ee[0],oe=ee[1],pe=getAbsoluteValueForTuple(y.borderBottomLeftRadius,b.width,b.height),xe=pe[0],_e=pe[1],Ue=[];Ue.push((R+G)/b.width),Ue.push((xe+ne)/b.width),Ue.push((I+_e)/b.height),Ue.push((q+oe)/b.height);var Le=Math.max.apply(Math,Ue);Le>1&&(R/=Le,I/=Le,G/=Le,q/=Le,ne/=Le,oe/=Le,xe/=Le,_e/=Le);var He=b.width-G,$e=b.height-oe,Ne=b.width-ne,Qe=b.height-_e,We=y.borderTopWidth,Ge=y.borderRightWidth,Xe=y.borderBottomWidth,Je=y.borderLeftWidth,ut=getAbsoluteValue(y.paddingTop,x.bounds.width),ft=getAbsoluteValue(y.paddingRight,x.bounds.width),ct=getAbsoluteValue(y.paddingBottom,x.bounds.width),pt=getAbsoluteValue(y.paddingLeft,x.bounds.width);this.topLeftBorderDoubleOuterBox=R>0||I>0?getCurvePoints(b.left+Je/3,b.top+We/3,R-Je/3,I-We/3,CORNER.TOP_LEFT):new Vector(b.left+Je/3,b.top+We/3),this.topRightBorderDoubleOuterBox=R>0||I>0?getCurvePoints(b.left+He,b.top+We/3,G-Ge/3,q-We/3,CORNER.TOP_RIGHT):new Vector(b.left+b.width-Ge/3,b.top+We/3),this.bottomRightBorderDoubleOuterBox=ne>0||oe>0?getCurvePoints(b.left+Ne,b.top+$e,ne-Ge/3,oe-Xe/3,CORNER.BOTTOM_RIGHT):new Vector(b.left+b.width-Ge/3,b.top+b.height-Xe/3),this.bottomLeftBorderDoubleOuterBox=xe>0||_e>0?getCurvePoints(b.left+Je/3,b.top+Qe,xe-Je/3,_e-Xe/3,CORNER.BOTTOM_LEFT):new Vector(b.left+Je/3,b.top+b.height-Xe/3),this.topLeftBorderDoubleInnerBox=R>0||I>0?getCurvePoints(b.left+Je*2/3,b.top+We*2/3,R-Je*2/3,I-We*2/3,CORNER.TOP_LEFT):new Vector(b.left+Je*2/3,b.top+We*2/3),this.topRightBorderDoubleInnerBox=R>0||I>0?getCurvePoints(b.left+He,b.top+We*2/3,G-Ge*2/3,q-We*2/3,CORNER.TOP_RIGHT):new Vector(b.left+b.width-Ge*2/3,b.top+We*2/3),this.bottomRightBorderDoubleInnerBox=ne>0||oe>0?getCurvePoints(b.left+Ne,b.top+$e,ne-Ge*2/3,oe-Xe*2/3,CORNER.BOTTOM_RIGHT):new Vector(b.left+b.width-Ge*2/3,b.top+b.height-Xe*2/3),this.bottomLeftBorderDoubleInnerBox=xe>0||_e>0?getCurvePoints(b.left+Je*2/3,b.top+Qe,xe-Je*2/3,_e-Xe*2/3,CORNER.BOTTOM_LEFT):new Vector(b.left+Je*2/3,b.top+b.height-Xe*2/3),this.topLeftBorderStroke=R>0||I>0?getCurvePoints(b.left+Je/2,b.top+We/2,R-Je/2,I-We/2,CORNER.TOP_LEFT):new Vector(b.left+Je/2,b.top+We/2),this.topRightBorderStroke=R>0||I>0?getCurvePoints(b.left+He,b.top+We/2,G-Ge/2,q-We/2,CORNER.TOP_RIGHT):new Vector(b.left+b.width-Ge/2,b.top+We/2),this.bottomRightBorderStroke=ne>0||oe>0?getCurvePoints(b.left+Ne,b.top+$e,ne-Ge/2,oe-Xe/2,CORNER.BOTTOM_RIGHT):new Vector(b.left+b.width-Ge/2,b.top+b.height-Xe/2),this.bottomLeftBorderStroke=xe>0||_e>0?getCurvePoints(b.left+Je/2,b.top+Qe,xe-Je/2,_e-Xe/2,CORNER.BOTTOM_LEFT):new Vector(b.left+Je/2,b.top+b.height-Xe/2),this.topLeftBorderBox=R>0||I>0?getCurvePoints(b.left,b.top,R,I,CORNER.TOP_LEFT):new Vector(b.left,b.top),this.topRightBorderBox=G>0||q>0?getCurvePoints(b.left+He,b.top,G,q,CORNER.TOP_RIGHT):new Vector(b.left+b.width,b.top),this.bottomRightBorderBox=ne>0||oe>0?getCurvePoints(b.left+Ne,b.top+$e,ne,oe,CORNER.BOTTOM_RIGHT):new Vector(b.left+b.width,b.top+b.height),this.bottomLeftBorderBox=xe>0||_e>0?getCurvePoints(b.left,b.top+Qe,xe,_e,CORNER.BOTTOM_LEFT):new Vector(b.left,b.top+b.height),this.topLeftPaddingBox=R>0||I>0?getCurvePoints(b.left+Je,b.top+We,Math.max(0,R-Je),Math.max(0,I-We),CORNER.TOP_LEFT):new Vector(b.left+Je,b.top+We),this.topRightPaddingBox=G>0||q>0?getCurvePoints(b.left+Math.min(He,b.width-Ge),b.top+We,He>b.width+Ge?0:Math.max(0,G-Ge),Math.max(0,q-We),CORNER.TOP_RIGHT):new Vector(b.left+b.width-Ge,b.top+We),this.bottomRightPaddingBox=ne>0||oe>0?getCurvePoints(b.left+Math.min(Ne,b.width-Je),b.top+Math.min($e,b.height-Xe),Math.max(0,ne-Ge),Math.max(0,oe-Xe),CORNER.BOTTOM_RIGHT):new Vector(b.left+b.width-Ge,b.top+b.height-Xe),this.bottomLeftPaddingBox=xe>0||_e>0?getCurvePoints(b.left+Je,b.top+Math.min(Qe,b.height-Xe),Math.max(0,xe-Je),Math.max(0,_e-Xe),CORNER.BOTTOM_LEFT):new Vector(b.left+Je,b.top+b.height-Xe),this.topLeftContentBox=R>0||I>0?getCurvePoints(b.left+Je+pt,b.top+We+ut,Math.max(0,R-(Je+pt)),Math.max(0,I-(We+ut)),CORNER.TOP_LEFT):new Vector(b.left+Je+pt,b.top+We+ut),this.topRightContentBox=G>0||q>0?getCurvePoints(b.left+Math.min(He,b.width+Je+pt),b.top+We+ut,He>b.width+Je+pt?0:G-Je+pt,q-(We+ut),CORNER.TOP_RIGHT):new Vector(b.left+b.width-(Ge+ft),b.top+We+ut),this.bottomRightContentBox=ne>0||oe>0?getCurvePoints(b.left+Math.min(Ne,b.width-(Je+pt)),b.top+Math.min($e,b.height+We+ut),Math.max(0,ne-(Ge+ft)),oe-(Xe+ct),CORNER.BOTTOM_RIGHT):new Vector(b.left+b.width-(Ge+ft),b.top+b.height-(Xe+ct)),this.bottomLeftContentBox=xe>0||_e>0?getCurvePoints(b.left+Je+pt,b.top+Qe,Math.max(0,xe-(Je+pt)),_e-(Xe+ct),CORNER.BOTTOM_LEFT):new Vector(b.left+Je+pt,b.top+b.height-(Xe+ct))}return r})(),CORNER;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(CORNER||(CORNER={}));var getCurvePoints=function(r,x,y,b,B){var R=4*((Math.sqrt(2)-1)/3),I=y*R,O=b*R,G=r+y,q=x+b;switch(B){case CORNER.TOP_LEFT:return new BezierCurve(new Vector(r,q),new Vector(r,q-O),new Vector(G-I,x),new Vector(G,x));case CORNER.TOP_RIGHT:return new BezierCurve(new Vector(r,x),new Vector(r+I,x),new Vector(G,q-O),new Vector(G,q));case CORNER.BOTTOM_RIGHT:return new BezierCurve(new Vector(G,x),new Vector(G,x+O),new Vector(r+I,q),new Vector(r,q));case CORNER.BOTTOM_LEFT:default:return new BezierCurve(new Vector(G,q),new Vector(G-I,q),new Vector(r,x+O),new Vector(r,x))}},calculateBorderBoxPath=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},calculateContentBoxPath=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},calculatePaddingBoxPath=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},TransformEffect=(function(){function r(x,y,b){this.offsetX=x,this.offsetY=y,this.matrix=b,this.type=0,this.target=6}return r})(),ClipEffect=(function(){function r(x,y){this.path=x,this.target=y,this.type=1}return r})(),OpacityEffect=(function(){function r(x){this.opacity=x,this.type=2,this.target=6}return r})(),isTransformEffect=function(r){return r.type===0},isClipEffect=function(r){return r.type===1},isOpacityEffect=function(r){return r.type===2},equalPath=function(r,x){return r.length===x.length?r.some(function(y,b){return y===x[b]}):!1},transformPath=function(r,x,y,b,B){return r.map(function(R,I){switch(I){case 0:return R.add(x,y);case 1:return R.add(x+b,y);case 2:return R.add(x+b,y+B);case 3:return R.add(x,y+B)}return R})},StackingContext=(function(){function r(x){this.element=x,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r})(),ElementPaint=(function(){function r(x,y){if(this.container=x,this.parent=y,this.effects=[],this.curves=new BoundCurves(this.container),this.container.styles.opacity<1&&this.effects.push(new OpacityEffect(this.container.styles.opacity)),this.container.styles.transform!==null){var b=this.container.bounds.left+this.container.styles.transformOrigin[0].number,B=this.container.bounds.top+this.container.styles.transformOrigin[1].number,R=this.container.styles.transform;this.effects.push(new TransformEffect(b,B,R))}if(this.container.styles.overflowX!==0){var I=calculateBorderBoxPath(this.curves),O=calculatePaddingBoxPath(this.curves);equalPath(I,O)?this.effects.push(new ClipEffect(I,6)):(this.effects.push(new ClipEffect(I,2)),this.effects.push(new ClipEffect(O,4)))}}return r.prototype.getEffects=function(x){for(var y=[2,3].indexOf(this.container.styles.position)===-1,b=this.parent,B=this.effects.slice(0);b;){var R=b.effects.filter(function(G){return!isClipEffect(G)});if(y||b.container.styles.position!==0||!b.parent){if(B.unshift.apply(B,R),y=[2,3].indexOf(b.container.styles.position)===-1,b.container.styles.overflowX!==0){var I=calculateBorderBoxPath(b.curves),O=calculatePaddingBoxPath(b.curves);equalPath(I,O)||B.unshift(new ClipEffect(O,6))}}else B.unshift.apply(B,R);b=b.parent}return B.filter(function(G){return contains(G.target,x)})},r})(),parseStackTree=function(r,x,y,b){r.container.elements.forEach(function(B){var R=contains(B.flags,4),I=contains(B.flags,2),O=new ElementPaint(B,r);contains(B.styles.display,2048)&&b.push(O);var G=contains(B.flags,8)?[]:b;if(R||I){var q=R||B.styles.isPositioned()?y:x,ee=new StackingContext(O);if(B.styles.isPositioned()||B.styles.opacity<1||B.styles.isTransformed()){var ne=B.styles.zIndex.order;if(ne<0){var oe=0;q.negativeZIndex.some(function(xe,_e){return ne>xe.element.container.styles.zIndex.order?(oe=_e,!1):oe>0}),q.negativeZIndex.splice(oe,0,ee)}else if(ne>0){var pe=0;q.positiveZIndex.some(function(xe,_e){return ne>=xe.element.container.styles.zIndex.order?(pe=_e+1,!1):pe>0}),q.positiveZIndex.splice(pe,0,ee)}else q.zeroOrAutoZIndexOrTransformedOrOpacity.push(ee)}else B.styles.isFloating()?q.nonPositionedFloats.push(ee):q.nonPositionedInlineLevel.push(ee);parseStackTree(O,ee,R?ee:y,G)}else B.styles.isInlineLevel()?x.inlineLevel.push(O):x.nonInlineLevel.push(O),parseStackTree(O,x,y,G);contains(B.flags,8)&&processListItems(B,G)})},processListItems=function(r,x){for(var y=r instanceof OLElementContainer?r.start:1,b=r instanceof OLElementContainer?r.reversed:!1,B=0;B<x.length;B++){var R=x[B];R.container instanceof LIElementContainer&&typeof R.container.value=="number"&&R.container.value!==0&&(y=R.container.value),R.listValue=createCounterText(y,R.container.styles.listStyleType,!0),y+=b?-1:1}},parseStackingContexts=function(r){var x=new ElementPaint(r,null),y=new StackingContext(x),b=[];return parseStackTree(x,y,y,b),processListItems(x.container,b),y},parsePathForBorder=function(r,x){switch(x){case 0:return createPathFromCurves(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return createPathFromCurves(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return createPathFromCurves(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},parsePathForBorderDoubleOuter=function(r,x){switch(x){case 0:return createPathFromCurves(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return createPathFromCurves(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return createPathFromCurves(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return createPathFromCurves(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},parsePathForBorderDoubleInner=function(r,x){switch(x){case 0:return createPathFromCurves(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return createPathFromCurves(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return createPathFromCurves(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},parsePathForBorderStroke=function(r,x){switch(x){case 0:return createStrokePathFromCurves(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return createStrokePathFromCurves(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return createStrokePathFromCurves(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return createStrokePathFromCurves(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},createStrokePathFromCurves=function(r,x){var y=[];return isBezierCurve(r)?y.push(r.subdivide(.5,!1)):y.push(r),isBezierCurve(x)?y.push(x.subdivide(.5,!0)):y.push(x),y},createPathFromCurves=function(r,x,y,b){var B=[];return isBezierCurve(r)?B.push(r.subdivide(.5,!1)):B.push(r),isBezierCurve(y)?B.push(y.subdivide(.5,!0)):B.push(y),isBezierCurve(b)?B.push(b.subdivide(.5,!0).reverse()):B.push(b),isBezierCurve(x)?B.push(x.subdivide(.5,!1).reverse()):B.push(x),B},paddingBox=function(r){var x=r.bounds,y=r.styles;return x.add(y.borderLeftWidth,y.borderTopWidth,-(y.borderRightWidth+y.borderLeftWidth),-(y.borderTopWidth+y.borderBottomWidth))},contentBox$1=function(r){var x=r.styles,y=r.bounds,b=getAbsoluteValue(x.paddingLeft,y.width),B=getAbsoluteValue(x.paddingRight,y.width),R=getAbsoluteValue(x.paddingTop,y.width),I=getAbsoluteValue(x.paddingBottom,y.width);return y.add(b+x.borderLeftWidth,R+x.borderTopWidth,-(x.borderRightWidth+x.borderLeftWidth+b+B),-(x.borderTopWidth+x.borderBottomWidth+R+I))},calculateBackgroundPositioningArea=function(r,x){return r===0?x.bounds:r===2?contentBox$1(x):paddingBox(x)},calculateBackgroundPaintingArea=function(r,x){return r===0?x.bounds:r===2?contentBox$1(x):paddingBox(x)},calculateBackgroundRendering=function(r,x,y){var b=calculateBackgroundPositioningArea(getBackgroundValueForIndex(r.styles.backgroundOrigin,x),r),B=calculateBackgroundPaintingArea(getBackgroundValueForIndex(r.styles.backgroundClip,x),r),R=calculateBackgroundSize(getBackgroundValueForIndex(r.styles.backgroundSize,x),y,b),I=R[0],O=R[1],G=getAbsoluteValueForTuple(getBackgroundValueForIndex(r.styles.backgroundPosition,x),b.width-I,b.height-O),q=calculateBackgroundRepeatPath(getBackgroundValueForIndex(r.styles.backgroundRepeat,x),G,R,b,B),ee=Math.round(b.left+G[0]),ne=Math.round(b.top+G[1]);return[q,ee,ne,I,O]},isAuto=function(r){return isIdentToken(r)&&r.value===BACKGROUND_SIZE.AUTO},hasIntrinsicValue=function(r){return typeof r=="number"},calculateBackgroundSize=function(r,x,y){var b=x[0],B=x[1],R=x[2],I=r[0],O=r[1];if(!I)return[0,0];if(isLengthPercentage(I)&&O&&isLengthPercentage(O))return[getAbsoluteValue(I,y.width),getAbsoluteValue(O,y.height)];var G=hasIntrinsicValue(R);if(isIdentToken(I)&&(I.value===BACKGROUND_SIZE.CONTAIN||I.value===BACKGROUND_SIZE.COVER)){if(hasIntrinsicValue(R)){var q=y.width/y.height;return q<R!=(I.value===BACKGROUND_SIZE.COVER)?[y.width,y.width/R]:[y.height*R,y.height]}return[y.width,y.height]}var ee=hasIntrinsicValue(b),ne=hasIntrinsicValue(B),oe=ee||ne;if(isAuto(I)&&(!O||isAuto(O))){if(ee&&ne)return[b,B];if(!G&&!oe)return[y.width,y.height];if(oe&&G){var pe=ee?b:B*R,xe=ne?B:b/R;return[pe,xe]}var _e=ee?b:y.width,Ue=ne?B:y.height;return[_e,Ue]}if(G){var Le=0,He=0;return isLengthPercentage(I)?Le=getAbsoluteValue(I,y.width):isLengthPercentage(O)&&(He=getAbsoluteValue(O,y.height)),isAuto(I)?Le=He*R:(!O||isAuto(O))&&(He=Le/R),[Le,He]}var $e=null,Ne=null;if(isLengthPercentage(I)?$e=getAbsoluteValue(I,y.width):O&&isLengthPercentage(O)&&(Ne=getAbsoluteValue(O,y.height)),$e!==null&&(!O||isAuto(O))&&(Ne=ee&&ne?$e/b*B:y.height),Ne!==null&&isAuto(I)&&($e=ee&&ne?Ne/B*b:y.width),$e!==null&&Ne!==null)return[$e,Ne];throw new Error("Unable to calculate background-size for element")},getBackgroundValueForIndex=function(r,x){var y=r[x];return typeof y>"u"?r[0]:y},calculateBackgroundRepeatPath=function(r,x,y,b,B){var R=x[0],I=x[1],O=y[0],G=y[1];switch(r){case 2:return[new Vector(Math.round(b.left),Math.round(b.top+I)),new Vector(Math.round(b.left+b.width),Math.round(b.top+I)),new Vector(Math.round(b.left+b.width),Math.round(G+b.top+I)),new Vector(Math.round(b.left),Math.round(G+b.top+I))];case 3:return[new Vector(Math.round(b.left+R),Math.round(b.top)),new Vector(Math.round(b.left+R+O),Math.round(b.top)),new Vector(Math.round(b.left+R+O),Math.round(b.height+b.top)),new Vector(Math.round(b.left+R),Math.round(b.height+b.top))];case 1:return[new Vector(Math.round(b.left+R),Math.round(b.top+I)),new Vector(Math.round(b.left+R+O),Math.round(b.top+I)),new Vector(Math.round(b.left+R+O),Math.round(b.top+I+G)),new Vector(Math.round(b.left+R),Math.round(b.top+I+G))];default:return[new Vector(Math.round(B.left),Math.round(B.top)),new Vector(Math.round(B.left+B.width),Math.round(B.top)),new Vector(Math.round(B.left+B.width),Math.round(B.height+B.top)),new Vector(Math.round(B.left),Math.round(B.height+B.top))]}},SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",SAMPLE_TEXT="Hidden Text",FontMetrics=(function(){function r(x){this._data={},this._document=x}return r.prototype.parseMetrics=function(x,y){var b=this._document.createElement("div"),B=this._document.createElement("img"),R=this._document.createElement("span"),I=this._document.body;b.style.visibility="hidden",b.style.fontFamily=x,b.style.fontSize=y,b.style.margin="0",b.style.padding="0",b.style.whiteSpace="nowrap",I.appendChild(b),B.src=SMALL_IMAGE,B.width=1,B.height=1,B.style.margin="0",B.style.padding="0",B.style.verticalAlign="baseline",R.style.fontFamily=x,R.style.fontSize=y,R.style.margin="0",R.style.padding="0",R.appendChild(this._document.createTextNode(SAMPLE_TEXT)),b.appendChild(R),b.appendChild(B);var O=B.offsetTop-R.offsetTop+2;b.removeChild(R),b.appendChild(this._document.createTextNode(SAMPLE_TEXT)),b.style.lineHeight="normal",B.style.verticalAlign="super";var G=B.offsetTop-b.offsetTop+2;return I.removeChild(b),{baseline:O,middle:G}},r.prototype.getMetrics=function(x,y){var b=x+" "+y;return typeof this._data[b]>"u"&&(this._data[b]=this.parseMetrics(x,y)),this._data[b]},r})(),Renderer=(function(){function r(x,y){this.context=x,this.options=y}return r})(),MASK_OFFSET=1e4,CanvasRenderer=(function(r){__extends(x,r);function x(y,b){var B=r.call(this,y,b)||this;return B._activeEffects=[],B.canvas=b.canvas?b.canvas:document.createElement("canvas"),B.ctx=B.canvas.getContext("2d"),b.canvas||(B.canvas.width=Math.floor(b.width*b.scale),B.canvas.height=Math.floor(b.height*b.scale),B.canvas.style.width=b.width+"px",B.canvas.style.height=b.height+"px"),B.fontMetrics=new FontMetrics(document),B.ctx.scale(B.options.scale,B.options.scale),B.ctx.translate(-b.x,-b.y),B.ctx.textBaseline="bottom",B._activeEffects=[],B.context.logger.debug("Canvas renderer initialized ("+b.width+"x"+b.height+") with scale "+b.scale),B}return x.prototype.applyEffects=function(y){for(var b=this;this._activeEffects.length;)this.popEffect();y.forEach(function(B){return b.applyEffect(B)})},x.prototype.applyEffect=function(y){this.ctx.save(),isOpacityEffect(y)&&(this.ctx.globalAlpha=y.opacity),isTransformEffect(y)&&(this.ctx.translate(y.offsetX,y.offsetY),this.ctx.transform(y.matrix[0],y.matrix[1],y.matrix[2],y.matrix[3],y.matrix[4],y.matrix[5]),this.ctx.translate(-y.offsetX,-y.offsetY)),isClipEffect(y)&&(this.path(y.path),this.ctx.clip()),this._activeEffects.push(y)},x.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},x.prototype.renderStack=function(y){return __awaiter$1(this,void 0,void 0,function(){var b;return __generator(this,function(B){switch(B.label){case 0:return b=y.element.container.styles,b.isVisible()?[4,this.renderStackContent(y)]:[3,2];case 1:B.sent(),B.label=2;case 2:return[2]}})})},x.prototype.renderNode=function(y){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(b){switch(b.label){case 0:if(contains(y.container.flags,16))debugger;return y.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(y)]:[3,3];case 1:return b.sent(),[4,this.renderNodeContent(y)];case 2:b.sent(),b.label=3;case 3:return[2]}})})},x.prototype.renderTextWithLetterSpacing=function(y,b,B){var R=this;if(b===0)this.ctx.fillText(y.text,y.bounds.left,y.bounds.top+B);else{var I=segmentGraphemes(y.text);I.reduce(function(O,G){return R.ctx.fillText(G,O,y.bounds.top+B),O+R.ctx.measureText(G).width},y.bounds.left)}},x.prototype.createFontStyle=function(y){var b=y.fontVariant.filter(function(I){return I==="normal"||I==="small-caps"}).join(""),B=fixIOSSystemFonts(y.fontFamily).join(", "),R=isDimensionToken(y.fontSize)?""+y.fontSize.number+y.fontSize.unit:y.fontSize.number+"px";return[[y.fontStyle,b,y.fontWeight,R,B].join(" "),B,R]},x.prototype.renderTextNode=function(y,b){return __awaiter$1(this,void 0,void 0,function(){var B,R,I,O,G,q,ee,ne,oe=this;return __generator(this,function(pe){return B=this.createFontStyle(b),R=B[0],I=B[1],O=B[2],this.ctx.font=R,this.ctx.direction=b.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",G=this.fontMetrics.getMetrics(I,O),q=G.baseline,ee=G.middle,ne=b.paintOrder,y.textBounds.forEach(function(xe){ne.forEach(function(_e){switch(_e){case 0:oe.ctx.fillStyle=asString(b.color),oe.renderTextWithLetterSpacing(xe,b.letterSpacing,q);var Ue=b.textShadow;Ue.length&&xe.text.trim().length&&(Ue.slice(0).reverse().forEach(function(Le){oe.ctx.shadowColor=asString(Le.color),oe.ctx.shadowOffsetX=Le.offsetX.number*oe.options.scale,oe.ctx.shadowOffsetY=Le.offsetY.number*oe.options.scale,oe.ctx.shadowBlur=Le.blur.number,oe.renderTextWithLetterSpacing(xe,b.letterSpacing,q)}),oe.ctx.shadowColor="",oe.ctx.shadowOffsetX=0,oe.ctx.shadowOffsetY=0,oe.ctx.shadowBlur=0),b.textDecorationLine.length&&(oe.ctx.fillStyle=asString(b.textDecorationColor||b.color),b.textDecorationLine.forEach(function(Le){switch(Le){case 1:oe.ctx.fillRect(xe.bounds.left,Math.round(xe.bounds.top+q),xe.bounds.width,1);break;case 2:oe.ctx.fillRect(xe.bounds.left,Math.round(xe.bounds.top),xe.bounds.width,1);break;case 3:oe.ctx.fillRect(xe.bounds.left,Math.ceil(xe.bounds.top+ee),xe.bounds.width,1);break}}));break;case 1:b.webkitTextStrokeWidth&&xe.text.trim().length&&(oe.ctx.strokeStyle=asString(b.webkitTextStrokeColor),oe.ctx.lineWidth=b.webkitTextStrokeWidth,oe.ctx.lineJoin=window.chrome?"miter":"round",oe.ctx.strokeText(xe.text,xe.bounds.left,xe.bounds.top+q)),oe.ctx.strokeStyle="",oe.ctx.lineWidth=0,oe.ctx.lineJoin="miter";break}})}),[2]})})},x.prototype.renderReplacedElement=function(y,b,B){if(B&&y.intrinsicWidth>0&&y.intrinsicHeight>0){var R=contentBox$1(y),I=calculatePaddingBoxPath(b);this.path(I),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(B,0,0,y.intrinsicWidth,y.intrinsicHeight,R.left,R.top,R.width,R.height),this.ctx.restore()}},x.prototype.renderNodeContent=function(y){return __awaiter$1(this,void 0,void 0,function(){var b,B,R,I,O,G,He,He,q,ee,ne,oe,Ne,pe,xe,Qe,_e,Ue,Le,He,$e,Ne,Qe;return __generator(this,function(We){switch(We.label){case 0:this.applyEffects(y.getEffects(4)),b=y.container,B=y.curves,R=b.styles,I=0,O=b.textNodes,We.label=1;case 1:return I<O.length?(G=O[I],[4,this.renderTextNode(G,R)]):[3,4];case 2:We.sent(),We.label=3;case 3:return I++,[3,1];case 4:if(!(b instanceof ImageElementContainer))return[3,8];We.label=5;case 5:return We.trys.push([5,7,,8]),[4,this.context.cache.match(b.src)];case 6:return He=We.sent(),this.renderReplacedElement(b,B,He),[3,8];case 7:return We.sent(),this.context.logger.error("Error loading image "+b.src),[3,8];case 8:if(b instanceof CanvasElementContainer&&this.renderReplacedElement(b,B,b.canvas),!(b instanceof SVGElementContainer))return[3,12];We.label=9;case 9:return We.trys.push([9,11,,12]),[4,this.context.cache.match(b.svg)];case 10:return He=We.sent(),this.renderReplacedElement(b,B,He),[3,12];case 11:return We.sent(),this.context.logger.error("Error loading svg "+b.svg.substring(0,255)),[3,12];case 12:return b instanceof IFrameElementContainer&&b.tree?(q=new x(this.context,{scale:this.options.scale,backgroundColor:b.backgroundColor,x:0,y:0,width:b.width,height:b.height}),[4,q.render(b.tree)]):[3,14];case 13:ee=We.sent(),b.width&&b.height&&this.ctx.drawImage(ee,0,0,b.width,b.height,b.bounds.left,b.bounds.top,b.bounds.width,b.bounds.height),We.label=14;case 14:if(b instanceof InputElementContainer&&(ne=Math.min(b.bounds.width,b.bounds.height),b.type===CHECKBOX?b.checked&&(this.ctx.save(),this.path([new Vector(b.bounds.left+ne*.39363,b.bounds.top+ne*.79),new Vector(b.bounds.left+ne*.16,b.bounds.top+ne*.5549),new Vector(b.bounds.left+ne*.27347,b.bounds.top+ne*.44071),new Vector(b.bounds.left+ne*.39694,b.bounds.top+ne*.5649),new Vector(b.bounds.left+ne*.72983,b.bounds.top+ne*.23),new Vector(b.bounds.left+ne*.84,b.bounds.top+ne*.34085),new Vector(b.bounds.left+ne*.39363,b.bounds.top+ne*.79)]),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore()):b.type===RADIO&&b.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(b.bounds.left+ne/2,b.bounds.top+ne/2,ne/4,0,Math.PI*2,!0),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore())),isTextInputElement(b)&&b.value.length){switch(oe=this.createFontStyle(R),Ne=oe[0],pe=oe[1],xe=this.fontMetrics.getMetrics(Ne,pe).baseline,this.ctx.font=Ne,this.ctx.fillStyle=asString(R.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=canvasTextAlign(b.styles.textAlign),Qe=contentBox$1(b),_e=0,b.styles.textAlign){case 1:_e+=Qe.width/2;break;case 2:_e+=Qe.width;break}Ue=Qe.add(_e,0,0,-Qe.height/2+1),this.ctx.save(),this.path([new Vector(Qe.left,Qe.top),new Vector(Qe.left+Qe.width,Qe.top),new Vector(Qe.left+Qe.width,Qe.top+Qe.height),new Vector(Qe.left,Qe.top+Qe.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new TextBounds(b.value,Ue),R.letterSpacing,xe),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!contains(b.styles.display,2048))return[3,20];if(b.styles.listStyleImage===null)return[3,19];if(Le=b.styles.listStyleImage,Le.type!==0)return[3,18];He=void 0,$e=Le.url,We.label=15;case 15:return We.trys.push([15,17,,18]),[4,this.context.cache.match($e)];case 16:return He=We.sent(),this.ctx.drawImage(He,b.bounds.left-(He.width+10),b.bounds.top),[3,18];case 17:return We.sent(),this.context.logger.error("Error loading list-style-image "+$e),[3,18];case 18:return[3,20];case 19:y.listValue&&b.styles.listStyleType!==-1&&(Ne=this.createFontStyle(R)[0],this.ctx.font=Ne,this.ctx.fillStyle=asString(R.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Qe=new Bounds(b.bounds.left,b.bounds.top+getAbsoluteValue(b.styles.paddingTop,b.bounds.width),b.bounds.width,computeLineHeight(R.lineHeight,R.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new TextBounds(y.listValue,Qe),R.letterSpacing,computeLineHeight(R.lineHeight,R.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),We.label=20;case 20:return[2]}})})},x.prototype.renderStackContent=function(y){return __awaiter$1(this,void 0,void 0,function(){var b,B,Le,R,I,Le,O,G,Le,q,ee,Le,ne,oe,Le,pe,xe,Le,_e,Ue,Le;return __generator(this,function(He){switch(He.label){case 0:if(contains(y.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(y.element)];case 1:He.sent(),b=0,B=y.negativeZIndex,He.label=2;case 2:return b<B.length?(Le=B[b],[4,this.renderStack(Le)]):[3,5];case 3:He.sent(),He.label=4;case 4:return b++,[3,2];case 5:return[4,this.renderNodeContent(y.element)];case 6:He.sent(),R=0,I=y.nonInlineLevel,He.label=7;case 7:return R<I.length?(Le=I[R],[4,this.renderNode(Le)]):[3,10];case 8:He.sent(),He.label=9;case 9:return R++,[3,7];case 10:O=0,G=y.nonPositionedFloats,He.label=11;case 11:return O<G.length?(Le=G[O],[4,this.renderStack(Le)]):[3,14];case 12:He.sent(),He.label=13;case 13:return O++,[3,11];case 14:q=0,ee=y.nonPositionedInlineLevel,He.label=15;case 15:return q<ee.length?(Le=ee[q],[4,this.renderStack(Le)]):[3,18];case 16:He.sent(),He.label=17;case 17:return q++,[3,15];case 18:ne=0,oe=y.inlineLevel,He.label=19;case 19:return ne<oe.length?(Le=oe[ne],[4,this.renderNode(Le)]):[3,22];case 20:He.sent(),He.label=21;case 21:return ne++,[3,19];case 22:pe=0,xe=y.zeroOrAutoZIndexOrTransformedOrOpacity,He.label=23;case 23:return pe<xe.length?(Le=xe[pe],[4,this.renderStack(Le)]):[3,26];case 24:He.sent(),He.label=25;case 25:return pe++,[3,23];case 26:_e=0,Ue=y.positiveZIndex,He.label=27;case 27:return _e<Ue.length?(Le=Ue[_e],[4,this.renderStack(Le)]):[3,30];case 28:He.sent(),He.label=29;case 29:return _e++,[3,27];case 30:return[2]}})})},x.prototype.mask=function(y){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(y.slice(0).reverse()),this.ctx.closePath()},x.prototype.path=function(y){this.ctx.beginPath(),this.formatPath(y),this.ctx.closePath()},x.prototype.formatPath=function(y){var b=this;y.forEach(function(B,R){var I=isBezierCurve(B)?B.start:B;R===0?b.ctx.moveTo(I.x,I.y):b.ctx.lineTo(I.x,I.y),isBezierCurve(B)&&b.ctx.bezierCurveTo(B.startControl.x,B.startControl.y,B.endControl.x,B.endControl.y,B.end.x,B.end.y)})},x.prototype.renderRepeat=function(y,b,B,R){this.path(y),this.ctx.fillStyle=b,this.ctx.translate(B,R),this.ctx.fill(),this.ctx.translate(-B,-R)},x.prototype.resizeImage=function(y,b,B){var R;if(y.width===b&&y.height===B)return y;var I=(R=this.canvas.ownerDocument)!==null&&R!==void 0?R:document,O=I.createElement("canvas");O.width=Math.max(1,b),O.height=Math.max(1,B);var G=O.getContext("2d");return G.drawImage(y,0,0,y.width,y.height,0,0,b,B),O},x.prototype.renderBackgroundImage=function(y){return __awaiter$1(this,void 0,void 0,function(){var b,B,R,I,O,G;return __generator(this,function(q){switch(q.label){case 0:b=y.styles.backgroundImage.length-1,B=function(ee){var ne,oe,pe,ut,Ze,it,pt,yt,Xe,xe,ut,Ze,it,pt,yt,_e,Ue,Le,He,$e,Ne,Qe,We,Ge,Xe,Je,ut,ft,ct,pt,yt,lt,Ze,it,Ye,et,gt,st,ht,vt,Et,Rt;return __generator(this,function(_t){switch(_t.label){case 0:if(ee.type!==0)return[3,5];ne=void 0,oe=ee.url,_t.label=1;case 1:return _t.trys.push([1,3,,4]),[4,R.context.cache.match(oe)];case 2:return ne=_t.sent(),[3,4];case 3:return _t.sent(),R.context.logger.error("Error loading background-image "+oe),[3,4];case 4:return ne&&(pe=calculateBackgroundRendering(y,b,[ne.width,ne.height,ne.width/ne.height]),ut=pe[0],Ze=pe[1],it=pe[2],pt=pe[3],yt=pe[4],Xe=R.ctx.createPattern(R.resizeImage(ne,pt,yt),"repeat"),R.renderRepeat(ut,Xe,Ze,it)),[3,6];case 5:isLinearGradient(ee)?(xe=calculateBackgroundRendering(y,b,[null,null,null]),ut=xe[0],Ze=xe[1],it=xe[2],pt=xe[3],yt=xe[4],_e=calculateGradientDirection(ee.angle,pt,yt),Ue=_e[0],Le=_e[1],He=_e[2],$e=_e[3],Ne=_e[4],Qe=document.createElement("canvas"),Qe.width=pt,Qe.height=yt,We=Qe.getContext("2d"),Ge=We.createLinearGradient(Le,$e,He,Ne),processColorStops(ee.stops,Ue).forEach(function(Ut){return Ge.addColorStop(Ut.stop,asString(Ut.color))}),We.fillStyle=Ge,We.fillRect(0,0,pt,yt),pt>0&&yt>0&&(Xe=R.ctx.createPattern(Qe,"repeat"),R.renderRepeat(ut,Xe,Ze,it))):isRadialGradient(ee)&&(Je=calculateBackgroundRendering(y,b,[null,null,null]),ut=Je[0],ft=Je[1],ct=Je[2],pt=Je[3],yt=Je[4],lt=ee.position.length===0?[FIFTY_PERCENT]:ee.position,Ze=getAbsoluteValue(lt[0],pt),it=getAbsoluteValue(lt[lt.length-1],yt),Ye=calculateRadius(ee,Ze,it,pt,yt),et=Ye[0],gt=Ye[1],et>0&&gt>0&&(st=R.ctx.createRadialGradient(ft+Ze,ct+it,0,ft+Ze,ct+it,et),processColorStops(ee.stops,et*2).forEach(function(Ut){return st.addColorStop(Ut.stop,asString(Ut.color))}),R.path(ut),R.ctx.fillStyle=st,et!==gt?(ht=y.bounds.left+.5*y.bounds.width,vt=y.bounds.top+.5*y.bounds.height,Et=gt/et,Rt=1/Et,R.ctx.save(),R.ctx.translate(ht,vt),R.ctx.transform(1,0,0,Et,0,0),R.ctx.translate(-ht,-vt),R.ctx.fillRect(ft,Rt*(ct-vt)+vt,pt,yt*Rt),R.ctx.restore()):R.ctx.fill())),_t.label=6;case 6:return b--,[2]}})},R=this,I=0,O=y.styles.backgroundImage.slice(0).reverse(),q.label=1;case 1:return I<O.length?(G=O[I],[5,B(G)]):[3,4];case 2:q.sent(),q.label=3;case 3:return I++,[3,1];case 4:return[2]}})})},x.prototype.renderSolidBorder=function(y,b,B){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(R){return this.path(parsePathForBorder(B,b)),this.ctx.fillStyle=asString(y),this.ctx.fill(),[2]})})},x.prototype.renderDoubleBorder=function(y,b,B,R){return __awaiter$1(this,void 0,void 0,function(){var I,O;return __generator(this,function(G){switch(G.label){case 0:return b<3?[4,this.renderSolidBorder(y,B,R)]:[3,2];case 1:return G.sent(),[2];case 2:return I=parsePathForBorderDoubleOuter(R,B),this.path(I),this.ctx.fillStyle=asString(y),this.ctx.fill(),O=parsePathForBorderDoubleInner(R,B),this.path(O),this.ctx.fill(),[2]}})})},x.prototype.renderNodeBackgroundAndBorders=function(y){return __awaiter$1(this,void 0,void 0,function(){var b,B,R,I,O,G,q,ee,ne=this;return __generator(this,function(oe){switch(oe.label){case 0:return this.applyEffects(y.getEffects(2)),b=y.container.styles,B=!isTransparent(b.backgroundColor)||b.backgroundImage.length,R=[{style:b.borderTopStyle,color:b.borderTopColor,width:b.borderTopWidth},{style:b.borderRightStyle,color:b.borderRightColor,width:b.borderRightWidth},{style:b.borderBottomStyle,color:b.borderBottomColor,width:b.borderBottomWidth},{style:b.borderLeftStyle,color:b.borderLeftColor,width:b.borderLeftWidth}],I=calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(b.backgroundClip,0),y.curves),B||b.boxShadow.length?(this.ctx.save(),this.path(I),this.ctx.clip(),isTransparent(b.backgroundColor)||(this.ctx.fillStyle=asString(b.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(y.container)]):[3,2];case 1:oe.sent(),this.ctx.restore(),b.boxShadow.slice(0).reverse().forEach(function(pe){ne.ctx.save();var xe=calculateBorderBoxPath(y.curves),_e=pe.inset?0:MASK_OFFSET,Ue=transformPath(xe,-_e+(pe.inset?1:-1)*pe.spread.number,(pe.inset?1:-1)*pe.spread.number,pe.spread.number*(pe.inset?-2:2),pe.spread.number*(pe.inset?-2:2));pe.inset?(ne.path(xe),ne.ctx.clip(),ne.mask(Ue)):(ne.mask(xe),ne.ctx.clip(),ne.path(Ue)),ne.ctx.shadowOffsetX=pe.offsetX.number+_e,ne.ctx.shadowOffsetY=pe.offsetY.number,ne.ctx.shadowColor=asString(pe.color),ne.ctx.shadowBlur=pe.blur.number,ne.ctx.fillStyle=pe.inset?asString(pe.color):"rgba(0,0,0,1)",ne.ctx.fill(),ne.ctx.restore()}),oe.label=2;case 2:O=0,G=0,q=R,oe.label=3;case 3:return G<q.length?(ee=q[G],ee.style!==0&&!isTransparent(ee.color)&&ee.width>0?ee.style!==2?[3,5]:[4,this.renderDashedDottedBorder(ee.color,ee.width,O,y.curves,2)]:[3,11]):[3,13];case 4:return oe.sent(),[3,11];case 5:return ee.style!==3?[3,7]:[4,this.renderDashedDottedBorder(ee.color,ee.width,O,y.curves,3)];case 6:return oe.sent(),[3,11];case 7:return ee.style!==4?[3,9]:[4,this.renderDoubleBorder(ee.color,ee.width,O,y.curves)];case 8:return oe.sent(),[3,11];case 9:return[4,this.renderSolidBorder(ee.color,O,y.curves)];case 10:oe.sent(),oe.label=11;case 11:O++,oe.label=12;case 12:return G++,[3,3];case 13:return[2]}})})},x.prototype.renderDashedDottedBorder=function(y,b,B,R,I){return __awaiter$1(this,void 0,void 0,function(){var O,G,q,ee,ne,oe,pe,xe,_e,Ue,Le,He,$e,Ne,Qe,We,Qe,We;return __generator(this,function(Ge){return this.ctx.save(),O=parsePathForBorderStroke(R,B),G=parsePathForBorder(R,B),I===2&&(this.path(G),this.ctx.clip()),isBezierCurve(G[0])?(q=G[0].start.x,ee=G[0].start.y):(q=G[0].x,ee=G[0].y),isBezierCurve(G[1])?(ne=G[1].end.x,oe=G[1].end.y):(ne=G[1].x,oe=G[1].y),B===0||B===2?pe=Math.abs(q-ne):pe=Math.abs(ee-oe),this.ctx.beginPath(),I===3?this.formatPath(O):this.formatPath(G.slice(0,2)),xe=b<3?b*3:b*2,_e=b<3?b*2:b,I===3&&(xe=b,_e=b),Ue=!0,pe<=xe*2?Ue=!1:pe<=xe*2+_e?(Le=pe/(2*xe+_e),xe*=Le,_e*=Le):(He=Math.floor((pe+_e)/(xe+_e)),$e=(pe-He*xe)/(He-1),Ne=(pe-(He+1)*xe)/He,_e=Ne<=0||Math.abs(_e-$e)<Math.abs(_e-Ne)?$e:Ne),Ue&&(I===3?this.ctx.setLineDash([0,xe+_e]):this.ctx.setLineDash([xe,_e])),I===3?(this.ctx.lineCap="round",this.ctx.lineWidth=b):this.ctx.lineWidth=b*2+1.1,this.ctx.strokeStyle=asString(y),this.ctx.stroke(),this.ctx.setLineDash([]),I===2&&(isBezierCurve(G[0])&&(Qe=G[3],We=G[0],this.ctx.beginPath(),this.formatPath([new Vector(Qe.end.x,Qe.end.y),new Vector(We.start.x,We.start.y)]),this.ctx.stroke()),isBezierCurve(G[1])&&(Qe=G[1],We=G[2],this.ctx.beginPath(),this.formatPath([new Vector(Qe.end.x,Qe.end.y),new Vector(We.start.x,We.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},x.prototype.render=function(y){return __awaiter$1(this,void 0,void 0,function(){var b;return __generator(this,function(B){switch(B.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),b=parseStackingContexts(y),[4,this.renderStack(b)];case 1:return B.sent(),this.applyEffects([]),[2,this.canvas]}})})},x})(Renderer),isTextInputElement=function(r){return r instanceof TextareaElementContainer||r instanceof SelectElementContainer?!0:r instanceof InputElementContainer&&r.type!==RADIO&&r.type!==CHECKBOX},calculateBackgroundCurvedPaintingArea=function(r,x){switch(r){case 0:return calculateBorderBoxPath(x);case 2:return calculateContentBoxPath(x);case 1:default:return calculatePaddingBoxPath(x)}},canvasTextAlign=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iOSBrokenFonts=["-apple-system","system-ui"],fixIOSSystemFonts=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(x){return iOSBrokenFonts.indexOf(x)===-1}):r},ForeignObjectRenderer=(function(r){__extends(x,r);function x(y,b){var B=r.call(this,y,b)||this;return B.canvas=b.canvas?b.canvas:document.createElement("canvas"),B.ctx=B.canvas.getContext("2d"),B.options=b,B.canvas.width=Math.floor(b.width*b.scale),B.canvas.height=Math.floor(b.height*b.scale),B.canvas.style.width=b.width+"px",B.canvas.style.height=b.height+"px",B.ctx.scale(B.options.scale,B.options.scale),B.ctx.translate(-b.x,-b.y),B.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+b.width+"x"+b.height+" at "+b.x+","+b.y+") with scale "+b.scale),B}return x.prototype.render=function(y){return __awaiter$1(this,void 0,void 0,function(){var b,B;return __generator(this,function(R){switch(R.label){case 0:return b=createForeignObjectSVG(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,y),[4,loadSerializedSVG(b)];case 1:return B=R.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(B,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},x})(Renderer),loadSerializedSVG=function(r){return new Promise(function(x,y){var b=new Image;b.onload=function(){x(b)},b.onerror=y,b.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Logger$1=(function(){function r(x){var y=x.id,b=x.enabled;this.id=y,this.enabled=b,this.start=Date.now()}return r.prototype.debug=function(){for(var x=[],y=0;y<arguments.length;y++)x[y]=arguments[y];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,__spreadArray([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var x=[],y=0;y<arguments.length;y++)x[y]=arguments[y];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,__spreadArray([this.id,this.getTime()+"ms"],x))},r.prototype.warn=function(){for(var x=[],y=0;y<arguments.length;y++)x[y]=arguments[y];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,__spreadArray([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},r.prototype.error=function(){for(var x=[],y=0;y<arguments.length;y++)x[y]=arguments[y];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,__spreadArray([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},r.instances={},r})(),Context=(function(){function r(x,y){var b;this.windowBounds=y,this.instanceName="#"+r.instanceCount++,this.logger=new Logger$1({id:this.instanceName,enabled:x.logging}),this.cache=(b=x.cache)!==null&&b!==void 0?b:new Cache(this,x)}return r.instanceCount=1,r})(),html2canvas=function(r,x){return x===void 0&&(x={}),renderElement(r,x)};typeof window<"u"&&CacheStorage.setContext(window);var renderElement=function(r,x){return __awaiter$1(void 0,void 0,void 0,function(){var y,b,B,R,I,O,G,q,ee,ne,oe,pe,xe,_e,Ue,Le,He,$e,Ne,Qe,Ge,We,Ge,Xe,Je,ut,ft,ct,pt,yt,lt,Ze,it,Ye,et,gt,st,ht,vt,Et;return __generator(this,function(Rt){switch(Rt.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(y=r.ownerDocument,!y)throw new Error("Element is not attached to a Document");if(b=y.defaultView,!b)throw new Error("Document is not attached to a Window");return B={allowTaint:(Xe=x.allowTaint)!==null&&Xe!==void 0?Xe:!1,imageTimeout:(Je=x.imageTimeout)!==null&&Je!==void 0?Je:15e3,proxy:x.proxy,useCORS:(ut=x.useCORS)!==null&&ut!==void 0?ut:!1},R=__assign({logging:(ft=x.logging)!==null&&ft!==void 0?ft:!0,cache:x.cache},B),I={windowWidth:(ct=x.windowWidth)!==null&&ct!==void 0?ct:b.innerWidth,windowHeight:(pt=x.windowHeight)!==null&&pt!==void 0?pt:b.innerHeight,scrollX:(yt=x.scrollX)!==null&&yt!==void 0?yt:b.pageXOffset,scrollY:(lt=x.scrollY)!==null&&lt!==void 0?lt:b.pageYOffset},O=new Bounds(I.scrollX,I.scrollY,I.windowWidth,I.windowHeight),G=new Context(R,O),q=(Ze=x.foreignObjectRendering)!==null&&Ze!==void 0?Ze:!1,ee={allowTaint:(it=x.allowTaint)!==null&&it!==void 0?it:!1,onclone:x.onclone,ignoreElements:x.ignoreElements,inlineImages:q,copyStyles:q},G.logger.debug("Starting document clone with size "+O.width+"x"+O.height+" scrolled to "+-O.left+","+-O.top),ne=new DocumentCloner(G,r,ee),oe=ne.clonedReferenceElement,oe?[4,ne.toIFrame(y,O)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return pe=Rt.sent(),xe=isBodyElement(oe)||isHTMLElement(oe)?parseDocumentSize(oe.ownerDocument):parseBounds(G,oe),_e=xe.width,Ue=xe.height,Le=xe.left,He=xe.top,$e=parseBackgroundColor(G,oe,x.backgroundColor),Ne={canvas:x.canvas,backgroundColor:$e,scale:(et=(Ye=x.scale)!==null&&Ye!==void 0?Ye:b.devicePixelRatio)!==null&&et!==void 0?et:1,x:((gt=x.x)!==null&&gt!==void 0?gt:0)+Le,y:((st=x.y)!==null&&st!==void 0?st:0)+He,width:(ht=x.width)!==null&&ht!==void 0?ht:Math.ceil(_e),height:(vt=x.height)!==null&&vt!==void 0?vt:Math.ceil(Ue)},q?(G.logger.debug("Document cloned, using foreign object rendering"),Ge=new ForeignObjectRenderer(G,Ne),[4,Ge.render(oe)]):[3,3];case 2:return Qe=Rt.sent(),[3,5];case 3:return G.logger.debug("Document cloned, element located at "+Le+","+He+" with size "+_e+"x"+Ue+" using computed rendering"),G.logger.debug("Starting DOM parsing"),We=parseTree(G,oe),$e===We.styles.backgroundColor&&(We.styles.backgroundColor=COLORS.TRANSPARENT),G.logger.debug("Starting renderer for element at "+Ne.x+","+Ne.y+" with size "+Ne.width+"x"+Ne.height),Ge=new CanvasRenderer(G,Ne),[4,Ge.render(We)];case 4:Qe=Rt.sent(),Rt.label=5;case 5:return(!((Et=x.removeContainer)!==null&&Et!==void 0)||Et)&&(DocumentCloner.destroy(pe)||G.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),G.logger.debug("Finished rendering"),[2,Qe]}})})},parseBackgroundColor=function(r,x,y){var b=x.ownerDocument,B=b.documentElement?parseColor(r,getComputedStyle(b.documentElement).backgroundColor):COLORS.TRANSPARENT,R=b.body?parseColor(r,getComputedStyle(b.body).backgroundColor):COLORS.TRANSPARENT,I=typeof y=="string"?parseColor(r,y):y===null?COLORS.TRANSPARENT:4294967295;return x===b.documentElement?isTransparent(B)?isTransparent(R)?I:R:B:I};function InvitationGenerator({initialTheme:r="",initialOthers:x="",showTitle:y=!0}){const[b,B]=reactExports$1.useState(r),[R,I]=reactExports$1.useState(x),[O,G]=reactExports$1.useState([]),[q,ee]=reactExports$1.useState(!1),ne=reactExports$1.useRef([]);reactExports$1.useEffect(()=>{r&&B(r),x!==void 0&&I(x)},[r,x]),new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});const oe=async()=>{var Ue,Le;if(G([]),ee(!0),!b.trim()){G(["  ."]),ee(!1);return}try{const $e=(await userInstance.post("/api/console/invitation/create",{eventTopic:b,userRequirements:R||""})).data;$e&&typeof $e=="string"?G([$e]):Array.isArray($e)?G($e):$e.invitations&&Array.isArray($e.invitations)?G($e.invitations):G([" ."])}catch(He){console.error("API  :",He),((Ue=He.response)==null?void 0:Ue.status)===401?G([" .  ."]):((Le=He.response)==null?void 0:Le.status)===403?G([" ."]):G([`API  : ${He.message}`])}finally{ee(!1)}},pe=async(Ue,Le)=>{var He,$e;if(Ue.trim())try{const Qe=(await userInstance.post("/api/console/invitation/refine",{selectedInvitation:Ue,eventTopic:b,userRequirements:"   "})).data,We=Array.isArray(Qe)?Qe[0]:Qe;G(Ge=>Ge.map((Xe,Je)=>Je===Le?We:Xe))}catch(Ne){console.error(" API  :",Ne),((He=Ne.response)==null?void 0:He.status)===401?alert(" .  ."):(($e=Ne.response)==null?void 0:$e.status)===403?alert(" ."):alert("  .")}},xe=async Ue=>{try{await navigator.clipboard.writeText(Ue),alert(" !")}catch(Le){console.error(" :",Le);const He=document.createElement("textarea");He.value=Ue,document.body.appendChild(He),He.select();try{document.execCommand("copy"),alert(" !")}catch{alert(" .")}document.body.removeChild(He)}},_e=async Ue=>{const Le=ne.current[Ue];if(Le)try{const He=await html2canvas(Le,{backgroundColor:"#ffffff",scale:2,useCORS:!0}),$e=document.createElement("a");$e.download=`_${Ue+1}.png`,$e.href=He.toDataURL("image/png"),$e.click(),alert(" !")}catch(He){console.error(" :",He),alert("  .")}};return jsxRuntimeExports.jsxs("div",{className:styles$i.page,children:[y&&jsxRuntimeExports.jsx("h1",{className:styles$i.title,children:"  "}),jsxRuntimeExports.jsxs("div",{className:styles$i.formArea,children:[jsxRuntimeExports.jsx("label",{className:styles$i.label,children:" "}),jsxRuntimeExports.jsx("input",{type:"text",value:b,onChange:Ue=>B(Ue.target.value),placeholder:":  ,  ",className:styles$i.input}),jsxRuntimeExports.jsx("label",{className:styles$i.label,children:""}),jsxRuntimeExports.jsx("textarea",{value:R,onChange:Ue=>I(Ue.target.value),placeholder:":   ,   ",className:styles$i.textarea}),jsxRuntimeExports.jsx("div",{className:styles$i.tagContainer,children:["#","#","#","#","#","#"].map(Ue=>jsxRuntimeExports.jsx("button",{type:"button",className:styles$i.tagButton,onClick:()=>I(Le=>Le.includes(Ue)?Le:Le?`${Le}, ${Ue}`:Ue),children:Ue},Ue))}),jsxRuntimeExports.jsx("button",{onClick:oe,className:styles$i.submitButton,disabled:q,children:q?" ...":" "})]}),jsxRuntimeExports.jsx("div",{className:styles$i.resultArea,children:O.length>0?O.map((Ue,Le)=>jsxRuntimeExports.jsxs("div",{className:styles$i.resultCard,children:[jsxRuntimeExports.jsxs("div",{className:styles$i.cardHeader,children:[jsxRuntimeExports.jsxs("h3",{children:[" ",Le+1]}),jsxRuntimeExports.jsxs("div",{className:styles$i.buttonGroup,children:[jsxRuntimeExports.jsx("button",{className:styles$i.copyButton,onClick:()=>xe(Ue),title:"",children:" "}),jsxRuntimeExports.jsx("button",{className:styles$i.captureButton,onClick:()=>_e(Le),title:" ",children:" "}),jsxRuntimeExports.jsx("button",{className:styles$i.refineButton,onClick:()=>pe(Ue,Le),children:""})]})]}),jsxRuntimeExports.jsx("div",{className:styles$i.textContent,ref:He=>ne.current[Le]=He,children:jsxRuntimeExports.jsx("p",{children:Ue})})]},Le)):jsxRuntimeExports.jsx("div",{className:styles$i.placeholder,children:"    ."})})]})}function ExhibitionDetail({showUserActions:r=!0,id:x,actionButtons:y}){const{exhibitionId:b}=useParams(),B=x||b,{user:R}=useUser(),I=useNavigate(),[O,G]=reactExports$1.useState(null),[q,ee]=reactExports$1.useState(!1),[ne,oe]=reactExports$1.useState(!1),[pe,xe]=reactExports$1.useState("info"),_e=async()=>{if(B)try{const vt=await userInstance.get(`/api/exhibitions/${B}`),{data:Et}=vt;G(Et),typeof Et.is_liked=="boolean"&&ee(Et.is_liked)}catch(vt){console.error("   :",vt)}};reactExports$1.useEffect(()=>{_e()},[B]);const Ue=async()=>{if(!R){I("/login");return}try{const vt={liked_id:B,liked_type:"exhibition"};q?(await userInstance.delete("/api/likes",{data:vt}),ee(!1)):(await userInstance.post("/api/likes",vt),ee(!0),oe(!0))}catch(vt){console.error("  :",vt)}},Le=()=>{const vt=O==null?void 0:O.exhibition_title,Et=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${vt}`,text:`${vt}   !`,url:Et}).catch(Rt=>console.error(" :",Rt));else{const Rt=document.createElement("textarea");Rt.value=Et,document.body.appendChild(Rt),Rt.select();try{document.execCommand("copy"),alert("  .")}catch(_t){console.error("  :",_t),alert("  .")}finally{document.body.removeChild(Rt)}}},He=()=>{I("/scan")};if(console.log("",O),!O)return jsxRuntimeExports.jsx("div",{children:" ..."});const{exhibition_title:$e,exhibition_poster:Ne,exhibition_start_date:Qe,exhibition_end_date:We,exhibition_start_time:Ge,exhibition_end_time:Xe,exhibition_organization:Je,exhibition_location:ut,exhibition_price:ft,exhibition_closed_day:ct,exhibition_description:pt,related_exhibitions:yt=[],artworks:lt=[],exhibition_phone:Ze,artists:it=[],exhibition_homepage:Ye,exhibition_status:et}=O,gt=et==="exhibited",st=[{label:"",content:`${Qe} ~ ${We}`},{label:"",content:Je},{label:"",content:Ge&&Xe?`${Ge.slice(0,5)} ~ ${Xe.slice(0,5)}`:" "},{label:"",content:ct||" "},{label:"",content:ft?`${ft.toLocaleString()}`:""},{label:"",content:Ze||" "},{label:"",content:ut||" "},{label:"",content:it.map(vt=>vt.artist_name).join(", ")||" "}],ht=[{key:"info",label:""},{key:"artworks",label:`(${lt.length})`},{key:"exhibitions",label:`(${yt.length})`}];return jsxRuntimeExports.jsxs("div",{className:styles$k.layout,children:[r&&jsxRuntimeExports.jsxs("div",{className:styles$k.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$k.breadcrumbBack,onClick:()=>I("/exhibitions"),children:""})," ","> ",$e]}),jsxRuntimeExports.jsxs("div",{className:styles$k.card,children:[jsxRuntimeExports.jsx("img",{className:styles$k.posterImage,src:Ne,alt:" "}),jsxRuntimeExports.jsx("section",{className:styles$k.titleSection,children:jsxRuntimeExports.jsx("h1",{className:styles$k.exhibitionTitle,children:$e})}),r&&jsxRuntimeExports.jsxs("div",{className:styles$k.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$k.likeButton,onClick:Ue,children:[jsxRuntimeExports.jsx(FaStar$1,{className:q?styles$k.likedIcon:styles$k.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:`${styles$k.likeButton} ${gt?"":styles$k.disabledButton}`,disabled:!gt,onClick:()=>I(`/reservation/${B}`),title:gt?"":"   ",children:[jsxRuntimeExports.jsx(FaCalendarCheck,{className:styles$k.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$k.likeButton,onClick:He,children:[jsxRuntimeExports.jsx(FaHeadphones,{className:styles$k.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$k.likeButton,onClick:Le,children:[jsxRuntimeExports.jsx(FaShare$1,{className:styles$k.icon}),""]})]}),jsxRuntimeExports.jsxs("section",{className:styles$k.infoList,children:[st.map(({label:vt,content:Et})=>{const Rt=!Et||typeof Et=="string"&&Et.trim()===" ";return jsxRuntimeExports.jsxs("div",{className:styles$k.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$k.infoLabel,children:vt}),jsxRuntimeExports.jsx("div",{className:`${styles$k.infoContent} ${Rt?styles$k.emptyInfo:""}`,children:Et})]},vt)}),jsxRuntimeExports.jsx("button",{disabled:!Ye,className:styles$k.homepageButton,onClick:()=>window.open(Ye,"_blank"),children:Ye?"  ":"  "})]})]}),jsxRuntimeExports.jsxs(DetailTabs,{tabs:ht,activeTab:pe,setActiveTab:xe,children:[pe==="info"&&(pt?jsxRuntimeExports.jsx("div",{className:styles$k.descriptionParagraph,dangerouslySetInnerHTML:{__html:pt}}):jsxRuntimeExports.jsx("p",{className:styles$k.emptyContent,children:"    ."})),pe==="artworks"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[lt.length>0?jsxRuntimeExports.jsx(ArtworksCards,{artworks:lt}):jsxRuntimeExports.jsx("p",{className:styles$k.emptyContent,children:"  ."}),y==null?void 0:y.artworks]}),pe==="exhibitions"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[yt.length>0?jsxRuntimeExports.jsx(RelatedExhibitions,{exhibitions:yt}):jsxRuntimeExports.jsx("p",{className:styles$k.emptyContent,children:"  ."}),y==null?void 0:y.exhibitions]})]}),!r&&jsxRuntimeExports.jsx("div",{className:`${styles$k.card} ${styles$k.tabCard}`,children:jsxRuntimeExports.jsx(InvitationGenerator,{initialTheme:$e,initialOthers:"",showTitle:!0})}),r&&jsxRuntimeExports.jsx("button",{className:styles$k.backButton,onClick:()=>I("/exhibitions"),children:" "}),ne&&jsxRuntimeExports.jsx(LikePopup,{onClose:()=>oe(!1)})]})}const DETAIL_CONFIG={galleries:{title:"",Component:GalleryDetail,tabs:["","QR","/"],fetchUrl:r=>`/api/galleries/${r}`},exhibitions:{title:"",Component:ExhibitionDetail,fetchUrl:r=>`/api/exhibitions/${r}`,tabs:["","QR","/"]},artworks:{title:"",Component:ArtworkDetail,fetchUrl:r=>`/api/arts/${r}`,tabs:["","QR",""]}};function ConsoleDetail({type:r}){const{id:x}=useParams(),y=useNavigate(),[b,B]=reactExports$1.useState(null),[R,I]=reactExports$1.useState(!1),O=DETAIL_CONFIG[r],{title:G,Component:q,fetchUrl:ee,tabs:ne}=O||{},oe=_e=>{switch(_e){case"galleries":return"";case"exhibitions":return"";case"artworks":return"";default:return""}};reactExports$1.useEffect(()=>{if(!ee||!x)return;(async()=>{try{const Ue=await userInstance.get(ee(x));B(Ue.data)}catch(Ue){console.error("  :",Ue)}})()},[x,r,ee]);const pe=_e=>{switch(_e){case"":y(`/console/${r}/edit/${x}`);break;case"QR":I(!0);break;case"":y(`/console/artworks/docent/${x}`);break;default:y(`/console/${r}/leaflet/${x}`);break}},xe={artworks:jsxRuntimeExports.jsx("button",{className:styles$r.addButton,onClick:()=>y(`/console/artworks/edit/new?exhibition_id=${x}`),children:"+  "}),exhibitions:jsxRuntimeExports.jsx("button",{className:styles$r.addButton,onClick:()=>y(`/console/exhibitions/edit/new?gallery_id=${x}`),children:"+  "})};return b?jsxRuntimeExports.jsxs("div",{className:styles$r.layout,children:[jsxRuntimeExports.jsxs("header",{className:styles$r.header,children:[jsxRuntimeExports.jsx("button",{className:styles$r.backButton,onClick:()=>y("/console/main",{state:{activeTab:oe(r)}}),children:"<"}),jsxRuntimeExports.jsx("h1",{className:styles$r.title,children:G})]}),jsxRuntimeExports.jsx("nav",{className:styles$r.adminTabNav,children:ne.map(_e=>jsxRuntimeExports.jsx("button",{className:styles$r.adminTabButton,onClick:()=>pe(_e),children:_e},_e))}),jsxRuntimeExports.jsx("main",{className:styles$r.content,children:jsxRuntimeExports.jsx(q,{showUserActions:!1,id:x,actionButtons:xe})}),R&&jsxRuntimeExports.jsx(QrModal,{data:b,onClose:()=>I(!1),type:r})]}):jsxRuntimeExports.jsx("div",{children:"  ..."})}const layout$7="_layout_1if82_1",loading$1="_loading_1if82_21",breadcrumb="_breadcrumb_1if82_35",breadcrumbBack="_breadcrumbBack_1if82_47",titleSection="_titleSection_1if82_63",statusBadge$1="_statusBadge_1if82_71",artistTitle="_artistTitle_1if82_111",artistSubTitle="_artistSubTitle_1if82_123",card$1="_card_1if82_135",artistImage="_artistImage_1if82_157",btnLayout="_btnLayout_1if82_171",actionButton="_actionButton_1if82_187",icon$1="_icon_1if82_221",likedIcon="_likedIcon_1if82_229",infoList="_infoList_1if82_275",infoRow="_infoRow_1if82_293",infoLabel="_infoLabel_1if82_305",infoContent="_infoContent_1if82_317",emptyInfo="_emptyInfo_1if82_327",descriptionParagraph="_descriptionParagraph_1if82_335",emptyContent$1="_emptyContent_1if82_361",artworkGrid$1="_artworkGrid_1if82_467",artworkCard$1="_artworkCard_1if82_479",artworkImage="_artworkImage_1if82_503",artworkTitle$1="_artworkTitle_1if82_519",backButton$2="_backButton_1if82_539",styles$h={layout:layout$7,loading:loading$1,breadcrumb,breadcrumbBack,titleSection,statusBadge:statusBadge$1,artistTitle,artistSubTitle,card:card$1,artistImage,btnLayout,actionButton,icon:icon$1,likedIcon,infoList,infoRow,infoLabel,infoContent,emptyInfo,descriptionParagraph,emptyContent:emptyContent$1,artworkGrid:artworkGrid$1,artworkCard:artworkCard$1,artworkImage,artworkTitle:artworkTitle$1,backButton:backButton$2};function ArtistDetail(){const{user:r}=useUser(),{artistId:x}=useParams(),y=useNavigate(),[b,B]=reactExports$1.useState(null),[R,I]=reactExports$1.useState("profile"),O=async()=>{if(x)try{const ct=await userInstance.get(`/api/artists/${x}`);B(ct.data)}catch(ct){console.error(ct)}};if(reactExports$1.useEffect(()=>{O()},[x]),!b)return jsxRuntimeExports.jsx("div",{className:styles$h.loading,children:" ..."});const{artist_name:G="",artist_nation:q="",artist_category:ee="",artist_image:ne="",artist_description:oe="",artist_homepage:pe="",is_liked:xe,is_on_exhibition:_e,like_count:Ue,exhibitions:Le=[],artworks:He=[]}=b,$e=pe?pe.startsWith("http")?pe:`https://${pe}`:"",Ne=async()=>{if(!r){y("/login");return}try{xe?await userInstance.delete("/api/likes",{data:{liked_id:x,liked_type:"artist"}}):await userInstance.post("/api/likes",{liked_id:x,liked_type:"artist"}),await O()}catch(ct){console.error("   :",ct)}},Qe=()=>{$e&&window.open($e,"_blank","noopener,noreferrer")},We=()=>{const ct=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${G}`,text:`${G}   !`,url:ct}).catch(pt=>console.error(" :",pt));else{const pt=document.createElement("textarea");pt.value=ct,document.body.appendChild(pt),pt.select();try{document.execCommand("copy"),alert("  .")}catch(yt){console.error("  :",yt),alert("  .")}finally{document.body.removeChild(pt)}}},Ge=[{label:"",content:q||" "},{label:"",content:ee||" "},{label:" ",content:_e?" ":"  "},{label:" ",content:`${Ue.toLocaleString()}`}],Xe=[{key:"profile",label:""},{key:"exhibitions",label:` (${Le.length||0})`},{key:"artworks",label:` (${He.length||0})`}],Je=(ct,pt)=>{if(!ct||!pt)return"default";const yt=new Date().setHours(0,0,0,0),lt=new Date(ct).setHours(0,0,0,0),Ze=new Date(pt).setHours(0,0,0,0);return yt<lt?"scheduled":yt>Ze?"ended":"exhibited"},ut=()=>{if(!Le.length)return jsxRuntimeExports.jsx("p",{className:styles$h.emptyContent,children:"  ."});const ct=Le.map((pt={})=>{const yt=Je(pt.exhibition_start_date,pt.exhibition_end_date);return{exhibition_id:pt.id,exhibition_poster:pt.exhibition_poster,exhibition_title:pt.exhibition_title,exhibition_status:yt,exhibition_location:pt.exhibition_location||pt.location||"  ",exhibition_start_date:pt.exhibition_start_date,exhibition_end_date:pt.exhibition_end_date}});return jsxRuntimeExports.jsx(ExhibitionsCards,{exhibitions:ct})},ft=()=>He.length?jsxRuntimeExports.jsx("div",{className:styles$h.artworkGrid,children:He.map(({id:ct,art_title:pt,art_image:yt,title:lt,imageUrl:Ze})=>{const it=pt||lt||"",Ye=yt||Ze||"";return jsxRuntimeExports.jsxs("div",{className:styles$h.artworkCard,children:[jsxRuntimeExports.jsx("img",{className:styles$h.artworkImage,src:Ye,alt:it}),jsxRuntimeExports.jsx("p",{className:styles$h.artworkTitle,children:it})]},`${ct}-${it}`)})}):jsxRuntimeExports.jsx("p",{className:styles$h.emptyContent,children:"  ."});return jsxRuntimeExports.jsxs("div",{className:styles$h.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.breadcrumb,children:[jsxRuntimeExports.jsx("span",{className:styles$h.breadcrumbBack,onClick:()=>y("/artists"),children:""})," ","> ",G]}),jsxRuntimeExports.jsxs("div",{className:styles$h.card,children:[jsxRuntimeExports.jsx("img",{className:styles$h.artistImage,src:ne,alt:`${G}  `}),_e&&jsxRuntimeExports.jsx("div",{className:styles$h.statusBadge,children:""}),jsxRuntimeExports.jsxs("section",{className:styles$h.titleSection,children:[jsxRuntimeExports.jsx("h1",{className:styles$h.artistTitle,children:G}),(q||ee)&&jsxRuntimeExports.jsx("p",{className:styles$h.artistSubTitle,children:[q,ee].filter(Boolean).join(" | ")})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.btnLayout,children:[jsxRuntimeExports.jsxs("button",{className:styles$h.actionButton,onClick:Ne,children:[jsxRuntimeExports.jsx(FaStar,{className:`${styles$h.icon} ${xe?styles$h.likedIcon:""}`})," "]}),jsxRuntimeExports.jsxs("button",{className:styles$h.actionButton,disabled:!$e,onClick:Qe,children:[jsxRuntimeExports.jsx(FaHome,{className:styles$h.icon}),""]}),jsxRuntimeExports.jsxs("button",{className:styles$h.actionButton,onClick:We,children:[jsxRuntimeExports.jsx(FaShare,{className:styles$h.icon}),""]})]}),jsxRuntimeExports.jsx("section",{className:styles$h.infoList,children:Ge.map(({label:ct,content:pt})=>{const yt=!pt||typeof pt=="string"&&pt.trim()===" ";return jsxRuntimeExports.jsxs("div",{className:styles$h.infoRow,children:[jsxRuntimeExports.jsx("span",{className:styles$h.infoLabel,children:ct}),jsxRuntimeExports.jsx("div",{className:`${styles$h.infoContent} ${yt?styles$h.emptyInfo:""}`,children:pt})]},ct)})})]}),jsxRuntimeExports.jsxs(DetailTabs,{tabs:Xe,activeTab:R,setActiveTab:I,children:[R==="profile"&&(oe?jsxRuntimeExports.jsx("div",{className:styles$h.descriptionParagraph,dangerouslySetInnerHTML:{__html:oe}}):jsxRuntimeExports.jsx("p",{className:styles$h.emptyContent,children:"  ."})),R==="exhibitions"&&ut(),R==="artworks"&&ft()]}),jsxRuntimeExports.jsx("button",{className:styles$h.backButton,onClick:()=>y("/artists"),children:" "})]})}const layout$6="_layout_ldaut_1",container$4="_container_ldaut_21",header$4="_header_ldaut_39",loginTitle="_loginTitle_ldaut_49",subParagraph="_subParagraph_ldaut_63",contentContainer="_contentContainer_ldaut_75",loginForm="_loginForm_ldaut_91",submitButton="_submitButton_ldaut_105",styles$g={layout:layout$6,container:container$4,header:header$4,loginTitle,subParagraph,contentContainer,loginForm,submitButton},layout$5="_layout_1l41q_1",navigateLink="_navigateLink_1l41q_19",termParagraph="_termParagraph_1l41q_59",termLink="_termLink_1l41q_77",registerButton="_registerButton_1l41q_85",styles$f={layout:layout$5,navigateLink,termParagraph,termLink,registerButton};function SupportSection(){return jsxRuntimeExports.jsxs("section",{className:styles$f.layout,children:[jsxRuntimeExports.jsx(Link$1,{className:styles$f.navigateLink,to:"/find",children:" /  "}),jsxRuntimeExports.jsxs("p",{className:styles$f.termParagraph,children:["    ,",jsxRuntimeExports.jsx("br",{})," "," ",jsxRuntimeExports.jsx(Link$1,{className:styles$f.termLink,children:"  "}),"",jsxRuntimeExports.jsx("br",{}),"  ."]}),jsxRuntimeExports.jsx(Link$1,{className:styles$f.registerButton,to:"/register",children:" "})]})}const getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(r){const x=[];let y=0;for(let b=0;b<r.length;b++){let B=r.charCodeAt(b);B<128?x[y++]=B:B<2048?(x[y++]=B>>6|192,x[y++]=B&63|128):(B&64512)===55296&&b+1<r.length&&(r.charCodeAt(b+1)&64512)===56320?(B=65536+((B&1023)<<10)+(r.charCodeAt(++b)&1023),x[y++]=B>>18|240,x[y++]=B>>12&63|128,x[y++]=B>>6&63|128,x[y++]=B&63|128):(x[y++]=B>>12|224,x[y++]=B>>6&63|128,x[y++]=B&63|128)}return x},byteArrayToString=function(r){const x=[];let y=0,b=0;for(;y<r.length;){const B=r[y++];if(B<128)x[b++]=String.fromCharCode(B);else if(B>191&&B<224){const R=r[y++];x[b++]=String.fromCharCode((B&31)<<6|R&63)}else if(B>239&&B<365){const R=r[y++],I=r[y++],O=r[y++],G=((B&7)<<18|(R&63)<<12|(I&63)<<6|O&63)-65536;x[b++]=String.fromCharCode(55296+(G>>10)),x[b++]=String.fromCharCode(56320+(G&1023))}else{const R=r[y++],I=r[y++];x[b++]=String.fromCharCode((B&15)<<12|(R&63)<<6|I&63)}}return x.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,x){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const y=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,b=[];for(let B=0;B<r.length;B+=3){const R=r[B],I=B+1<r.length,O=I?r[B+1]:0,G=B+2<r.length,q=G?r[B+2]:0,ee=R>>2,ne=(R&3)<<4|O>>4;let oe=(O&15)<<2|q>>6,pe=q&63;G||(pe=64,I||(oe=64)),b.push(y[ee],y[ne],y[oe],y[pe])}return b.join("")},encodeString(r,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(r):this.encodeByteArray(stringToByteArray$1(r),x)},decodeString(r,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(r):byteArrayToString(this.decodeStringToByteArray(r,x))},decodeStringToByteArray(r,x){this.init_();const y=x?this.charToByteMapWebSafe_:this.charToByteMap_,b=[];for(let B=0;B<r.length;){const R=y[r.charAt(B++)],O=B<r.length?y[r.charAt(B)]:0;++B;const q=B<r.length?y[r.charAt(B)]:64;++B;const ne=B<r.length?y[r.charAt(B)]:64;if(++B,R==null||O==null||q==null||ne==null)throw new DecodeBase64StringError;const oe=R<<2|O>>4;if(b.push(oe),q!==64){const pe=O<<4&240|q>>2;if(b.push(pe),ne!==64){const xe=q<<6&192|ne;b.push(xe)}}}return b},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(r){const x=stringToByteArray$1(r);return base64.encodeByteArray(x,!0)},base64urlEncodeWithoutPadding=function(r){return base64Encode(r).replace(/\./g,"")},base64Decode=function(r){try{return base64.decodeString(r,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const r=define_process_env_default.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=r&&base64Decode(r[1]);return x&&JSON.parse(x)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},getDefaultAppConfig=()=>{var r;return(r=getDefaults())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,y)=>{this.resolve=x,this.reject=y})}wrapCallback(x){return(y,b)=>{y?this.reject(y):this.resolve(b),typeof x=="function"&&(this.promise.catch(()=>{}),x.length===1?x(y):x(y,b))}}}function isBrowserExtension(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((r,x)=>{try{let y=!0;const b="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(b);B.onsuccess=()=>{B.result.close(),y||self.indexedDB.deleteDatabase(b),r(!0)},B.onupgradeneeded=()=>{y=!1},B.onerror=()=>{var R;x(((R=B.error)==null?void 0:R.message)||"")}}catch(y){x(y)}})}function areCookiesEnabled(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(x,y,b){super(y),this.code=x,this.customData=b,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(x,y,b){this.service=x,this.serviceName=y,this.errors=b}create(x,...y){const b=y[0]||{},B=`${this.service}/${x}`,R=this.errors[x],I=R?replaceTemplate(R,b):"Error",O=`${this.serviceName}: ${I} (${B}).`;return new FirebaseError(B,O,b)}}function replaceTemplate(r,x){return r.replace(PATTERN,(y,b)=>{const B=x[b];return B!=null?String(B):`<${b}?>`})}const PATTERN=/\{\$([^}]+)}/g;function deepEqual$1(r,x){if(r===x)return!0;const y=Object.keys(r),b=Object.keys(x);for(const B of y){if(!b.includes(B))return!1;const R=r[B],I=x[B];if(isObject$1(R)&&isObject$1(I)){if(!deepEqual$1(R,I))return!1}else if(R!==I)return!1}for(const B of b)if(!y.includes(B))return!1;return!0}function isObject$1(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=14400*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(r,x=DEFAULT_INTERVAL_MILLIS,y=DEFAULT_BACKOFF_FACTOR){const b=x*Math.pow(y,r),B=Math.round(RANDOM_FACTOR*b*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,b+B)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(r){return r&&r._delegate?r._delegate:r}class Component{constructor(x,y,b){this.name=x,this.instanceFactory=y,this.type=b,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(x){return this.instantiationMode=x,this}setMultipleInstances(x){return this.multipleInstances=x,this}setServiceProps(x){return this.serviceProps=x,this}setInstanceCreatedCallback(x){return this.onInstanceCreated=x,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(x,y){this.name=x,this.container=y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(x){const y=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(y)){const b=new Deferred;if(this.instancesDeferred.set(y,b),this.isInitialized(y)||this.shouldAutoInitialize())try{const B=this.getOrInitializeService({instanceIdentifier:y});B&&b.resolve(B)}catch{}}return this.instancesDeferred.get(y).promise}getImmediate(x){const y=this.normalizeInstanceIdentifier(x==null?void 0:x.identifier),b=(x==null?void 0:x.optional)??!1;if(this.isInitialized(y)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:y})}catch(B){if(b)return null;throw B}else{if(b)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(x){if(x.name!==this.name)throw Error(`Mismatching Component ${x.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=x,!!this.shouldAutoInitialize()){if(isComponentEager(x))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[y,b]of this.instancesDeferred.entries()){const B=this.normalizeInstanceIdentifier(y);try{const R=this.getOrInitializeService({instanceIdentifier:B});b.resolve(R)}catch{}}}}clearInstance(x=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(x),this.instancesOptions.delete(x),this.instances.delete(x)}async delete(){const x=Array.from(this.instances.values());await Promise.all([...x.filter(y=>"INTERNAL"in y).map(y=>y.INTERNAL.delete()),...x.filter(y=>"_delete"in y).map(y=>y._delete())])}isComponentSet(){return this.component!=null}isInitialized(x=DEFAULT_ENTRY_NAME$1){return this.instances.has(x)}getOptions(x=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(x)||{}}initialize(x={}){const{options:y={}}=x,b=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized(b))throw Error(`${this.name}(${b}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const B=this.getOrInitializeService({instanceIdentifier:b,options:y});for(const[R,I]of this.instancesDeferred.entries()){const O=this.normalizeInstanceIdentifier(R);b===O&&I.resolve(B)}return B}onInit(x,y){const b=this.normalizeInstanceIdentifier(y),B=this.onInitCallbacks.get(b)??new Set;B.add(x),this.onInitCallbacks.set(b,B);const R=this.instances.get(b);return R&&x(R,b),()=>{B.delete(x)}}invokeOnInitCallbacks(x,y){const b=this.onInitCallbacks.get(y);if(b)for(const B of b)try{B(x,y)}catch{}}getOrInitializeService({instanceIdentifier:x,options:y={}}){let b=this.instances.get(x);if(!b&&this.component&&(b=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(x),options:y}),this.instances.set(x,b),this.instancesOptions.set(x,y),this.invokeOnInitCallbacks(b,x),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,x,b)}catch{}return b||null}normalizeInstanceIdentifier(x=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?x:DEFAULT_ENTRY_NAME$1:x}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(r){return r===DEFAULT_ENTRY_NAME$1?void 0:r}function isComponentEager(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(x){this.name=x,this.providers=new Map}addComponent(x){const y=this.getProvider(x.name);if(y.isComponentSet())throw new Error(`Component ${x.name} has already been registered with ${this.name}`);y.setComponent(x)}addOrOverwriteComponent(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.addComponent(x)}getProvider(x){if(this.providers.has(x))return this.providers.get(x);const y=new Provider(x,this);return this.providers.set(x,y),y}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(r,x,...y)=>{if(x<r.logLevel)return;const b=new Date().toISOString(),B=ConsoleMethod[x];if(B)console[B](`[${b}]  ${r.name}:`,...y);else throw new Error(`Attempted to log a message with an invalid logType (value: ${x})`)};class Logger{constructor(x){this.name=x,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(x){if(!(x in LogLevel))throw new TypeError(`Invalid value "${x}" assigned to \`logLevel\``);this._logLevel=x}setLogLevel(x){this._logLevel=typeof x=="string"?levelStringToEnum[x]:x}get logHandler(){return this._logHandler}set logHandler(x){if(typeof x!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=x}get userLogHandler(){return this._userLogHandler}set userLogHandler(x){this._userLogHandler=x}debug(...x){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...x),this._logHandler(this,LogLevel.DEBUG,...x)}log(...x){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...x),this._logHandler(this,LogLevel.VERBOSE,...x)}info(...x){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...x),this._logHandler(this,LogLevel.INFO,...x)}warn(...x){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...x),this._logHandler(this,LogLevel.WARN,...x)}error(...x){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...x),this._logHandler(this,LogLevel.ERROR,...x)}}const instanceOfAny=(r,x)=>x.some(y=>r instanceof y);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(r){const x=new Promise((y,b)=>{const B=()=>{r.removeEventListener("success",R),r.removeEventListener("error",I)},R=()=>{y(wrap$1(r.result)),B()},I=()=>{b(r.error),B()};r.addEventListener("success",R),r.addEventListener("error",I)});return x.then(y=>{y instanceof IDBCursor&&cursorRequestMap.set(y,r)}).catch(()=>{}),reverseTransformCache.set(x,r),x}function cacheDonePromiseForTransaction(r){if(transactionDoneMap.has(r))return;const x=new Promise((y,b)=>{const B=()=>{r.removeEventListener("complete",R),r.removeEventListener("error",I),r.removeEventListener("abort",I)},R=()=>{y(),B()},I=()=>{b(r.error||new DOMException("AbortError","AbortError")),B()};r.addEventListener("complete",R),r.addEventListener("error",I),r.addEventListener("abort",I)});transactionDoneMap.set(r,x)}let idbProxyTraps={get(r,x,y){if(r instanceof IDBTransaction){if(x==="done")return transactionDoneMap.get(r);if(x==="objectStoreNames")return r.objectStoreNames||transactionStoreNamesMap.get(r);if(x==="store")return y.objectStoreNames[1]?void 0:y.objectStore(y.objectStoreNames[0])}return wrap$1(r[x])},set(r,x,y){return r[x]=y,!0},has(r,x){return r instanceof IDBTransaction&&(x==="done"||x==="store")?!0:x in r}};function replaceTraps(r){idbProxyTraps=r(idbProxyTraps)}function wrapFunction(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(x,...y){const b=r.call(unwrap(this),x,...y);return transactionStoreNamesMap.set(b,x.sort?x.sort():[x]),wrap$1(b)}:getCursorAdvanceMethods().includes(r)?function(...x){return r.apply(unwrap(this),x),wrap$1(cursorRequestMap.get(this))}:function(...x){return wrap$1(r.apply(unwrap(this),x))}}function transformCachableValue(r){return typeof r=="function"?wrapFunction(r):(r instanceof IDBTransaction&&cacheDonePromiseForTransaction(r),instanceOfAny(r,getIdbProxyableTypes())?new Proxy(r,idbProxyTraps):r)}function wrap$1(r){if(r instanceof IDBRequest)return promisifyRequest(r);if(transformCache.has(r))return transformCache.get(r);const x=transformCachableValue(r);return x!==r&&(transformCache.set(r,x),reverseTransformCache.set(x,r)),x}const unwrap=r=>reverseTransformCache.get(r);function openDB(r,x,{blocked:y,upgrade:b,blocking:B,terminated:R}={}){const I=indexedDB.open(r,x),O=wrap$1(I);return b&&I.addEventListener("upgradeneeded",G=>{b(wrap$1(I.result),G.oldVersion,G.newVersion,wrap$1(I.transaction),G)}),y&&I.addEventListener("blocked",G=>y(G.oldVersion,G.newVersion,G)),O.then(G=>{R&&G.addEventListener("close",()=>R()),B&&G.addEventListener("versionchange",q=>B(q.oldVersion,q.newVersion,q))}).catch(()=>{}),O}function deleteDB(r,{blocked:x}={}){const y=indexedDB.deleteDatabase(r);return x&&y.addEventListener("blocked",b=>x(b.oldVersion,b)),wrap$1(y).then(()=>{})}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(r,x){if(!(r instanceof IDBDatabase&&!(x in r)&&typeof x=="string"))return;if(cachedMethods.get(x))return cachedMethods.get(x);const y=x.replace(/FromIndex$/,""),b=x!==y,B=writeMethods.includes(y);if(!(y in(b?IDBIndex:IDBObjectStore).prototype)||!(B||readMethods.includes(y)))return;const R=async function(I,...O){const G=this.transaction(I,B?"readwrite":"readonly");let q=G.store;return b&&(q=q.index(O.shift())),(await Promise.all([q[y](...O),B&&G.done]))[0]};return cachedMethods.set(x,R),R}replaceTraps(r=>({...r,get:(x,y,b)=>getMethod(x,y)||r.get(x,y,b),has:(x,y)=>!!getMethod(x,y)||r.has(x,y)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(x){this.container=x}getPlatformInfoString(){return this.container.getProviders().map(y=>{if(isVersionServiceProvider(y)){const b=y.getImmediate();return`${b.library}/${b.version}`}else return null}).filter(y=>y).join(" ")}}function isVersionServiceProvider(r){const x=r.getComponent();return(x==null?void 0:x.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5$1="@firebase/storage",name$4$1="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/ai",name$1$1="@firebase/firestore-compat",name$r="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5$1]:"fire-gcs",[name$4$1]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(r,x){try{r.container.addComponent(x)}catch(y){logger$1.debug(`Component ${x.name} failed to register with FirebaseApp ${r.name}`,y)}}function _registerComponent(r){const x=r.name;if(_components.has(x))return logger$1.debug(`There were multiple attempts to register component ${x}.`),!1;_components.set(x,r);for(const y of _apps.values())_addComponent(y,r);for(const y of _serverApps.values())_addComponent(y,r);return!0}function _getProvider(r,x){const y=r.container.getProvider("heartbeat").getImmediate({optional:!0});return y&&y.triggerHeartbeat(),r.container.getProvider(x)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY$3=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(x,y,b){this._isDeleted=!1,this._options={...x},this._config={...y},this._name=y.name,this._automaticDataCollectionEnabled=y.automaticDataCollectionEnabled,this._container=b,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(x){this.checkDestroyed(),this._automaticDataCollectionEnabled=x}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(x){this._isDeleted=x}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$3.create("app-deleted",{appName:this._name})}}function initializeApp(r,x={}){let y=r;typeof x!="object"&&(x={name:x});const b={name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!0,...x},B=b.name;if(typeof B!="string"||!B)throw ERROR_FACTORY$3.create("bad-app-name",{appName:String(B)});if(y||(y=getDefaultAppConfig()),!y)throw ERROR_FACTORY$3.create("no-options");const R=_apps.get(B);if(R){if(deepEqual$1(y,R.options)&&deepEqual$1(b,R.config))return R;throw ERROR_FACTORY$3.create("duplicate-app",{appName:B})}const I=new ComponentContainer(B);for(const G of _components.values())I.addComponent(G);const O=new FirebaseAppImpl(y,b,I);return _apps.set(B,O),O}function getApp(r=DEFAULT_ENTRY_NAME){const x=_apps.get(r);if(!x&&r===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!x)throw ERROR_FACTORY$3.create("no-app",{appName:r});return x}function registerVersion(r,x,y){let b=PLATFORM_LOG_STRING[r]??r;y&&(b+=`-${y}`);const B=b.match(/\s|\//),R=x.match(/\s|\//);if(B||R){const I=[`Unable to register library "${b}" with version "${x}":`];B&&I.push(`library name "${b}" contains illegal characters (whitespace or "/")`),B&&R&&I.push("and"),R&&I.push(`version name "${x}" contains illegal characters (whitespace or "/")`),logger$1.warn(I.join(" "));return}_registerComponent(new Component(`${b}-version`,()=>({library:b,version:x}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$2=null;function getDbPromise$2(){return dbPromise$2||(dbPromise$2=openDB(DB_NAME,DB_VERSION,{upgrade:(r,x)=>{switch(x){case 0:try{r.createObjectStore(STORE_NAME)}catch(y){console.warn(y)}}}}).catch(r=>{throw ERROR_FACTORY$3.create("idb-open",{originalErrorMessage:r.message})})),dbPromise$2}async function readHeartbeatsFromIndexedDB(r){try{const y=(await getDbPromise$2()).transaction(STORE_NAME),b=await y.objectStore(STORE_NAME).get(computeKey(r));return await y.done,b}catch(x){if(x instanceof FirebaseError)logger$1.warn(x.message);else{const y=ERROR_FACTORY$3.create("idb-get",{originalErrorMessage:x==null?void 0:x.message});logger$1.warn(y.message)}}}async function writeHeartbeatsToIndexedDB(r,x){try{const b=(await getDbPromise$2()).transaction(STORE_NAME,"readwrite");await b.objectStore(STORE_NAME).put(x,computeKey(r)),await b.done}catch(y){if(y instanceof FirebaseError)logger$1.warn(y.message);else{const b=ERROR_FACTORY$3.create("idb-set",{originalErrorMessage:y==null?void 0:y.message});logger$1.warn(b.message)}}}function computeKey(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(x){this.container=x,this._heartbeatsCache=null;const y=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(y),this._heartbeatsCachePromise=this._storage.read().then(b=>(this._heartbeatsCache=b,b))}async triggerHeartbeat(){var x,y;try{const B=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),R=getUTCDateString();if(((x=this._heartbeatsCache)==null?void 0:x.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((y=this._heartbeatsCache)==null?void 0:y.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===R||this._heartbeatsCache.heartbeats.some(I=>I.date===R))return;if(this._heartbeatsCache.heartbeats.push({date:R,agent:B}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const I=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(I,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(b){logger$1.warn(b)}}async getHeartbeatsHeader(){var x;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((x=this._heartbeatsCache)==null?void 0:x.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const y=getUTCDateString(),{heartbeatsToSend:b,unsentEntries:B}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),R=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:b}));return this._heartbeatsCache.lastSentHeartbeatDate=y,B.length>0?(this._heartbeatsCache.heartbeats=B,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),R}catch(y){return logger$1.warn(y),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(r,x=MAX_HEADER_BYTES){const y=[];let b=r.slice();for(const B of r){const R=y.find(I=>I.agent===B.agent);if(R){if(R.dates.push(B.date),countBytes(y)>x){R.dates.pop();break}}else if(y.push({agent:B.agent,dates:[B.date]}),countBytes(y)>x){y.pop();break}b=b.slice(1)}return{heartbeatsToSend:y,unsentEntries:b}}class HeartbeatStorageImpl{constructor(x){this.app=x,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const y=await readHeartbeatsFromIndexedDB(this.app);return y!=null&&y.heartbeats?y:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(x){if(await this._canUseIndexedDBPromise){const b=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:x.lastSentHeartbeatDate??b.lastSentHeartbeatDate,heartbeats:x.heartbeats})}else return}async add(x){if(await this._canUseIndexedDBPromise){const b=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:x.lastSentHeartbeatDate??b.lastSentHeartbeatDate,heartbeats:[...b.heartbeats,...x.heartbeats]})}else return}}function countBytes(r){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r})).length}function getEarliestHeartbeatIdx(r){if(r.length===0)return-1;let x=0,y=r[0].date;for(let b=1;b<r.length;b++)r[b].date<y&&(y=r[b].date,x=b);return x}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(r){_registerComponent(new Component("platform-logger",x=>new PlatformLoggerServiceImpl(x),"PRIVATE")),_registerComponent(new Component("heartbeat",x=>new HeartbeatServiceImpl(x),"PRIVATE")),registerVersion(name$q,version$1$1,r),registerVersion(name$q,version$1$1,"esm2020"),registerVersion("fire-js","")}registerCoreComponents("");const name$5="@firebase/installations",version$3="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$3}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=3600*1e3,SERVICE="installations",SERVICE_NAME="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$2=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError(r){return r instanceof FirebaseError&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:r}){return`${INSTALLATIONS_API_URL}/projects/${r}/installations`}function extractAuthTokenInfoFromResponse(r){return{token:r.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(r.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(r,x){const b=(await x.json()).error;return ERROR_FACTORY$2.create("request-failed",{requestName:r,serverCode:b.code,serverMessage:b.message,serverStatus:b.status})}function getHeaders$2({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function getHeadersWithAuth(r,{refreshToken:x}){const y=getHeaders$2(r);return y.append("Authorization",getAuthorizationHeader(x)),y}async function retryIfServerError(r){const x=await r();return x.status>=500&&x.status<600?r():x}function getExpiresInFromResponseExpiresIn(r){return Number(r.replace("s","000"))}function getAuthorizationHeader(r){return`${INTERNAL_AUTH_VERSION} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:r,heartbeatServiceProvider:x},{fid:y}){const b=getInstallationsEndpoint(r),B=getHeaders$2(r),R=x.getImmediate({optional:!0});if(R){const q=await R.getHeartbeatsHeader();q&&B.append("x-firebase-client",q)}const I={fid:y,authVersion:INTERNAL_AUTH_VERSION,appId:r.appId,sdkVersion:PACKAGE_VERSION},O={method:"POST",headers:B,body:JSON.stringify(I)},G=await retryIfServerError(()=>fetch(b,O));if(G.ok){const q=await G.json();return{fid:q.fid||y,registrationStatus:2,refreshToken:q.refreshToken,authToken:extractAuthTokenInfoFromResponse(q.authToken)}}else throw await getErrorFromResponse("Create Installation",G)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep(r){return new Promise(x=>{setTimeout(x,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const y=encode(r);return VALID_FID_PATTERN.test(y)?y:INVALID_FID}catch{return INVALID_FID}}function encode(r){return bufferToBase64UrlSafe(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey$1(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged(r,x){const y=getKey$1(r);callFidChangeCallbacks(y,x),broadcastFidChange(y,x)}function callFidChangeCallbacks(r,x){const y=fidChangeCallbacks.get(r);if(y)for(const b of y)b(x)}function broadcastFidChange(r,x){const y=getBroadcastChannel();y&&y.postMessage({key:r,fid:x}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=r=>{callFidChangeCallbacks(r.data.key,r.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME$1="firebase-installations-database",DATABASE_VERSION$1=1,OBJECT_STORE_NAME$1="firebase-installations-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DATABASE_NAME$1,DATABASE_VERSION$1,{upgrade:(r,x)=>{switch(x){case 0:r.createObjectStore(OBJECT_STORE_NAME$1)}}})),dbPromise$1}async function set(r,x){const y=getKey$1(r),B=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite"),R=B.objectStore(OBJECT_STORE_NAME$1),I=await R.get(y);return await R.put(x,y),await B.done,(!I||I.fid!==x.fid)&&fidChanged(r,x.fid),x}async function remove(r){const x=getKey$1(r),b=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite");await b.objectStore(OBJECT_STORE_NAME$1).delete(x),await b.done}async function update(r,x){const y=getKey$1(r),B=(await getDbPromise$1()).transaction(OBJECT_STORE_NAME$1,"readwrite"),R=B.objectStore(OBJECT_STORE_NAME$1),I=await R.get(y),O=x(I);return O===void 0?await R.delete(y):await R.put(O,y),await B.done,O&&(!I||I.fid!==O.fid)&&fidChanged(r,O.fid),O}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(r){let x;const y=await update(r.appConfig,b=>{const B=updateOrCreateInstallationEntry(b),R=triggerRegistrationIfNecessary(r,B);return x=R.registrationPromise,R.installationEntry});return y.fid===INVALID_FID?{installationEntry:await x}:{installationEntry:y,registrationPromise:x}}function updateOrCreateInstallationEntry(r){const x=r||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest(x)}function triggerRegistrationIfNecessary(r,x){if(x.registrationStatus===0){if(!navigator.onLine){const B=Promise.reject(ERROR_FACTORY$2.create("app-offline"));return{installationEntry:x,registrationPromise:B}}const y={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},b=registerInstallation(r,y);return{installationEntry:y,registrationPromise:b}}else return x.registrationStatus===1?{installationEntry:x,registrationPromise:waitUntilFidRegistration(r)}:{installationEntry:x}}async function registerInstallation(r,x){try{const y=await createInstallationRequest(r,x);return set(r.appConfig,y)}catch(y){throw isServerError(y)&&y.customData.serverCode===409?await remove(r.appConfig):await set(r.appConfig,{fid:x.fid,registrationStatus:0}),y}}async function waitUntilFidRegistration(r){let x=await updateInstallationRequest(r.appConfig);for(;x.registrationStatus===1;)await sleep(100),x=await updateInstallationRequest(r.appConfig);if(x.registrationStatus===0){const{installationEntry:y,registrationPromise:b}=await getInstallationEntry(r);return b||y}return x}function updateInstallationRequest(r){return update(r,x=>{if(!x)throw ERROR_FACTORY$2.create("installation-not-found");return clearTimedOutRequest(x)})}function clearTimedOutRequest(r){return hasInstallationRequestTimedOut(r)?{fid:r.fid,registrationStatus:0}:r}function hasInstallationRequestTimedOut(r){return r.registrationStatus===1&&r.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:r,heartbeatServiceProvider:x},y){const b=getGenerateAuthTokenEndpoint(r,y),B=getHeadersWithAuth(r,y),R=x.getImmediate({optional:!0});if(R){const q=await R.getHeartbeatsHeader();q&&B.append("x-firebase-client",q)}const I={installation:{sdkVersion:PACKAGE_VERSION,appId:r.appId}},O={method:"POST",headers:B,body:JSON.stringify(I)},G=await retryIfServerError(()=>fetch(b,O));if(G.ok){const q=await G.json();return extractAuthTokenInfoFromResponse(q)}else throw await getErrorFromResponse("Generate Auth Token",G)}function getGenerateAuthTokenEndpoint(r,{fid:x}){return`${getInstallationsEndpoint(r)}/${x}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(r,x=!1){let y;const b=await update(r.appConfig,R=>{if(!isEntryRegistered(R))throw ERROR_FACTORY$2.create("not-registered");const I=R.authToken;if(!x&&isAuthTokenValid(I))return R;if(I.requestStatus===1)return y=waitUntilAuthTokenRequest(r,x),R;{if(!navigator.onLine)throw ERROR_FACTORY$2.create("app-offline");const O=makeAuthTokenRequestInProgressEntry(R);return y=fetchAuthTokenFromServer(r,O),O}});return y?await y:b.authToken}async function waitUntilAuthTokenRequest(r,x){let y=await updateAuthTokenRequest(r.appConfig);for(;y.authToken.requestStatus===1;)await sleep(100),y=await updateAuthTokenRequest(r.appConfig);const b=y.authToken;return b.requestStatus===0?refreshAuthToken(r,x):b}function updateAuthTokenRequest(r){return update(r,x=>{if(!isEntryRegistered(x))throw ERROR_FACTORY$2.create("not-registered");const y=x.authToken;return hasAuthTokenRequestTimedOut(y)?{...x,authToken:{requestStatus:0}}:x})}async function fetchAuthTokenFromServer(r,x){try{const y=await generateAuthTokenRequest(r,x),b={...x,authToken:y};return await set(r.appConfig,b),y}catch(y){if(isServerError(y)&&(y.customData.serverCode===401||y.customData.serverCode===404))await remove(r.appConfig);else{const b={...x,authToken:{requestStatus:0}};await set(r.appConfig,b)}throw y}}function isEntryRegistered(r){return r!==void 0&&r.registrationStatus===2}function isAuthTokenValid(r){return r.requestStatus===2&&!isAuthTokenExpired(r)}function isAuthTokenExpired(r){const x=Date.now();return x<r.creationTime||r.creationTime+r.expiresIn<x+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(r){const x={requestStatus:1,requestTime:Date.now()};return{...r,authToken:x}}function hasAuthTokenRequestTimedOut(r){return r.requestStatus===1&&r.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId$1(r){const x=r,{installationEntry:y,registrationPromise:b}=await getInstallationEntry(x);return b?b.catch(console.error):refreshAuthToken(x).catch(console.error),y.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken$2(r,x=!1){const y=r;return await completeInstallationRegistration(y),(await refreshAuthToken(y,x)).token}async function completeInstallationRegistration(r){const{registrationPromise:x}=await getInstallationEntry(r);x&&await x}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig$1(r){if(!r||!r.options)throw getMissingValueError$1("App Configuration");if(!r.name)throw getMissingValueError$1("App Name");const x=["projectId","apiKey","appId"];for(const y of x)if(!r.options[y])throw getMissingValueError$1(y);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function getMissingValueError$1(r){return ERROR_FACTORY$2.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=r=>{const x=r.getProvider("app").getImmediate(),y=extractAppConfig$1(x),b=_getProvider(x,"heartbeat");return{app:x,appConfig:y,heartbeatServiceProvider:b,_delete:()=>Promise.resolve()}},internalFactory=r=>{const x=r.getProvider("app").getImmediate(),y=_getProvider(x,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId$1(y),getToken:B=>getToken$2(y,B)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations();registerVersion(name$5,version$3);registerVersion(name$5,version$3,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_SW_PATH="/firebase-messaging-sw.js",DEFAULT_SW_SCOPE="/firebase-cloud-messaging-push-scope",DEFAULT_VAPID_KEY="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ENDPOINT="https://fcmregistrations.googleapis.com/v1",CONSOLE_CAMPAIGN_ID="google.c.a.c_id",CONSOLE_CAMPAIGN_NAME="google.c.a.c_l",CONSOLE_CAMPAIGN_TIME="google.c.a.ts",CONSOLE_CAMPAIGN_ANALYTICS_ENABLED="google.c.a.e",DEFAULT_REGISTRATION_TIMEOUT=1e4;var MessageType$1;(function(r){r[r.DATA_MESSAGE=1]="DATA_MESSAGE",r[r.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(MessageType$1||(MessageType$1={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var MessageType;(function(r){r.PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked"})(MessageType||(MessageType={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function arrayToBase64(r){const x=new Uint8Array(r);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function base64ToArray(r){const x="=".repeat((4-r.length%4)%4),y=(r+x).replace(/\-/g,"+").replace(/_/g,"/"),b=atob(y),B=new Uint8Array(b.length);for(let R=0;R<b.length;++R)B[R]=b.charCodeAt(R);return B}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OLD_DB_NAME="fcm_token_details_db",OLD_DB_VERSION=5,OLD_OBJECT_STORE_NAME="fcm_token_object_Store";async function migrateOldDatabase(r){if("databases"in indexedDB&&!(await indexedDB.databases()).map(R=>R.name).includes(OLD_DB_NAME))return null;let x=null;return(await openDB(OLD_DB_NAME,OLD_DB_VERSION,{upgrade:async(b,B,R,I)=>{if(B<2||!b.objectStoreNames.contains(OLD_OBJECT_STORE_NAME))return;const O=I.objectStore(OLD_OBJECT_STORE_NAME),G=await O.index("fcmSenderId").get(r);if(await O.clear(),!!G){if(B===2){const q=G;if(!q.auth||!q.p256dh||!q.endpoint)return;x={token:q.fcmToken,createTime:q.createTime??Date.now(),subscriptionOptions:{auth:q.auth,p256dh:q.p256dh,endpoint:q.endpoint,swScope:q.swScope,vapidKey:typeof q.vapidKey=="string"?q.vapidKey:arrayToBase64(q.vapidKey)}}}else if(B===3){const q=G;x={token:q.fcmToken,createTime:q.createTime,subscriptionOptions:{auth:arrayToBase64(q.auth),p256dh:arrayToBase64(q.p256dh),endpoint:q.endpoint,swScope:q.swScope,vapidKey:arrayToBase64(q.vapidKey)}}}else if(B===4){const q=G;x={token:q.fcmToken,createTime:q.createTime,subscriptionOptions:{auth:arrayToBase64(q.auth),p256dh:arrayToBase64(q.p256dh),endpoint:q.endpoint,swScope:q.swScope,vapidKey:arrayToBase64(q.vapidKey)}}}}}})).close(),await deleteDB(OLD_DB_NAME),await deleteDB("fcm_vapid_details_db"),await deleteDB("undefined"),checkTokenDetails(x)?x:null}function checkTokenDetails(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:x}=r;return typeof r.createTime=="number"&&r.createTime>0&&typeof r.token=="string"&&r.token.length>0&&typeof x.auth=="string"&&x.auth.length>0&&typeof x.p256dh=="string"&&x.p256dh.length>0&&typeof x.endpoint=="string"&&x.endpoint.length>0&&typeof x.swScope=="string"&&x.swScope.length>0&&typeof x.vapidKey=="string"&&x.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-messaging-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-messaging-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:(r,x)=>{switch(x){case 0:r.createObjectStore(OBJECT_STORE_NAME)}}})),dbPromise}async function dbGet(r){const x=getKey(r),b=await(await getDbPromise()).transaction(OBJECT_STORE_NAME).objectStore(OBJECT_STORE_NAME).get(x);if(b)return b;{const B=await migrateOldDatabase(r.appConfig.senderId);if(B)return await dbSet(r,B),B}}async function dbSet(r,x){const y=getKey(r),B=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");return await B.objectStore(OBJECT_STORE_NAME).put(x,y),await B.done,x}function getKey({appConfig:r}){return r.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ERROR_FACTORY$1=new ErrorFactory("messaging","Messaging",ERROR_MAP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestGetToken(r,x){const y=await getHeaders$1(r),b=getBody(x),B={method:"POST",headers:y,body:JSON.stringify(b)};let R;try{R=await(await fetch(getEndpoint(r.appConfig),B)).json()}catch(I){throw ERROR_FACTORY$1.create("token-subscribe-failed",{errorInfo:I==null?void 0:I.toString()})}if(R.error){const I=R.error.message;throw ERROR_FACTORY$1.create("token-subscribe-failed",{errorInfo:I})}if(!R.token)throw ERROR_FACTORY$1.create("token-subscribe-no-token");return R.token}async function requestUpdateToken(r,x){const y=await getHeaders$1(r),b=getBody(x.subscriptionOptions),B={method:"PATCH",headers:y,body:JSON.stringify(b)};let R;try{R=await(await fetch(`${getEndpoint(r.appConfig)}/${x.token}`,B)).json()}catch(I){throw ERROR_FACTORY$1.create("token-update-failed",{errorInfo:I==null?void 0:I.toString()})}if(R.error){const I=R.error.message;throw ERROR_FACTORY$1.create("token-update-failed",{errorInfo:I})}if(!R.token)throw ERROR_FACTORY$1.create("token-update-no-token");return R.token}async function requestDeleteToken(r,x){const b={method:"DELETE",headers:await getHeaders$1(r)};try{const R=await(await fetch(`${getEndpoint(r.appConfig)}/${x}`,b)).json();if(R.error){const I=R.error.message;throw ERROR_FACTORY$1.create("token-unsubscribe-failed",{errorInfo:I})}}catch(B){throw ERROR_FACTORY$1.create("token-unsubscribe-failed",{errorInfo:B==null?void 0:B.toString()})}}function getEndpoint({projectId:r}){return`${ENDPOINT}/projects/${r}/registrations`}async function getHeaders$1({appConfig:r,installations:x}){const y=await x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r.apiKey,"x-goog-firebase-installations-auth":`FIS ${y}`})}function getBody({p256dh:r,auth:x,endpoint:y,vapidKey:b}){const B={web:{endpoint:y,auth:x,p256dh:r}};return b!==DEFAULT_VAPID_KEY&&(B.web.applicationPubKey=b),B}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TOKEN_EXPIRATION_MS=10080*60*1e3;async function getTokenInternal(r){const x=await getPushSubscription(r.swRegistration,r.vapidKey),y={vapidKey:r.vapidKey,swScope:r.swRegistration.scope,endpoint:x.endpoint,auth:arrayToBase64(x.getKey("auth")),p256dh:arrayToBase64(x.getKey("p256dh"))},b=await dbGet(r.firebaseDependencies);if(b){if(isTokenValid(b.subscriptionOptions,y))return Date.now()>=b.createTime+TOKEN_EXPIRATION_MS?updateToken(r,{token:b.token,createTime:Date.now(),subscriptionOptions:y}):b.token;try{await requestDeleteToken(r.firebaseDependencies,b.token)}catch(B){console.warn(B)}return getNewToken(r.firebaseDependencies,y)}else return getNewToken(r.firebaseDependencies,y)}async function updateToken(r,x){try{const y=await requestUpdateToken(r.firebaseDependencies,x),b={...x,token:y,createTime:Date.now()};return await dbSet(r.firebaseDependencies,b),y}catch(y){throw y}}async function getNewToken(r,x){const b={token:await requestGetToken(r,x),createTime:Date.now(),subscriptionOptions:x};return await dbSet(r,b),b.token}async function getPushSubscription(r,x){const y=await r.pushManager.getSubscription();return y||r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:base64ToArray(x)})}function isTokenValid(r,x){const y=x.vapidKey===r.vapidKey,b=x.endpoint===r.endpoint,B=x.auth===r.auth,R=x.p256dh===r.p256dh;return y&&b&&B&&R}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function externalizePayload(r){const x={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return propagateNotificationPayload(x,r),propagateDataPayload(x,r),propagateFcmOptions(x,r),x}function propagateNotificationPayload(r,x){if(!x.notification)return;r.notification={};const y=x.notification.title;y&&(r.notification.title=y);const b=x.notification.body;b&&(r.notification.body=b);const B=x.notification.image;B&&(r.notification.image=B);const R=x.notification.icon;R&&(r.notification.icon=R)}function propagateDataPayload(r,x){x.data&&(r.data=x.data)}function propagateFcmOptions(r,x){var B,R,I,O;if(!x.fcmOptions&&!((B=x.notification)!=null&&B.click_action))return;r.fcmOptions={};const y=((R=x.fcmOptions)==null?void 0:R.link)??((I=x.notification)==null?void 0:I.click_action);y&&(r.fcmOptions.link=y);const b=(O=x.fcmOptions)==null?void 0:O.analytics_label;b&&(r.fcmOptions.analyticsLabel=b)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isConsoleMessage(r){return typeof r=="object"&&!!r&&CONSOLE_CAMPAIGN_ID in r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig(r){if(!r||!r.options)throw getMissingValueError("App Configuration Object");if(!r.name)throw getMissingValueError("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:y}=r;for(const b of x)if(!y[b])throw getMissingValueError(b);return{appName:r.name,projectId:y.projectId,apiKey:y.apiKey,appId:y.appId,senderId:y.messagingSenderId}}function getMissingValueError(r){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MessagingService{constructor(x,y,b){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const B=extractAppConfig(x);this.firebaseDependencies={app:x,appConfig:B,installations:y,analyticsProvider:b}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function registerDefaultSw(r){try{r.swRegistration=await navigator.serviceWorker.register(DEFAULT_SW_PATH,{scope:DEFAULT_SW_SCOPE}),r.swRegistration.update().catch(()=>{}),await waitForRegistrationActive(r.swRegistration)}catch(x){throw ERROR_FACTORY$1.create("failed-service-worker-registration",{browserErrorMessage:x==null?void 0:x.message})}}async function waitForRegistrationActive(r){return new Promise((x,y)=>{const b=setTimeout(()=>y(new Error(`Service worker not registered after ${DEFAULT_REGISTRATION_TIMEOUT} ms`)),DEFAULT_REGISTRATION_TIMEOUT),B=r.installing||r.waiting;r.active?(clearTimeout(b),x()):B?B.onstatechange=R=>{var I;((I=R.target)==null?void 0:I.state)==="activated"&&(B.onstatechange=null,clearTimeout(b),x())}:(clearTimeout(b),y(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateSwReg(r,x){if(!x&&!r.swRegistration&&await registerDefaultSw(r),!(!x&&r.swRegistration)){if(!(x instanceof ServiceWorkerRegistration))throw ERROR_FACTORY$1.create("invalid-sw-registration");r.swRegistration=x}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateVapidKey(r,x){x?r.vapidKey=x:r.vapidKey||(r.vapidKey=DEFAULT_VAPID_KEY)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken$1(r,x){if(!navigator)throw ERROR_FACTORY$1.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ERROR_FACTORY$1.create("permission-blocked");return await updateVapidKey(r,x==null?void 0:x.vapidKey),await updateSwReg(r,x==null?void 0:x.serviceWorkerRegistration),getTokenInternal(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function logToScion(r,x,y){const b=getEventType(x);(await r.firebaseDependencies.analyticsProvider.get()).logEvent(b,{message_id:y[CONSOLE_CAMPAIGN_ID],message_name:y[CONSOLE_CAMPAIGN_NAME],message_time:y[CONSOLE_CAMPAIGN_TIME],message_device_time:Math.floor(Date.now()/1e3)})}function getEventType(r){switch(r){case MessageType.NOTIFICATION_CLICKED:return"notification_open";case MessageType.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function messageEventListener(r,x){const y=x.data;if(!y.isFirebaseMessaging)return;r.onMessageHandler&&y.messageType===MessageType.PUSH_RECEIVED&&(typeof r.onMessageHandler=="function"?r.onMessageHandler(externalizePayload(y)):r.onMessageHandler.next(externalizePayload(y)));const b=y.data;isConsoleMessage(b)&&b[CONSOLE_CAMPAIGN_ANALYTICS_ENABLED]==="1"&&await logToScion(r,y.messageType,b)}const name$4="@firebase/messaging",version$2="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WindowMessagingFactory=r=>{const x=new MessagingService(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",y=>messageEventListener(x,y)),x},WindowMessagingInternalFactory=r=>{const x=r.getProvider("messaging").getImmediate();return{getToken:b=>getToken$1(x,b)}};function registerMessagingInWindow(){_registerComponent(new Component("messaging",WindowMessagingFactory,"PUBLIC")),_registerComponent(new Component("messaging-internal",WindowMessagingInternalFactory,"PRIVATE")),registerVersion(name$4,version$2),registerVersion(name$4,version$2,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function isWindowSupported(){try{await validateIndexedDBOpenable()}catch{return!1}return typeof window<"u"&&isIndexedDBAvailable()&&areCookiesEnabled()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function onMessage$1(r,x){if(!navigator)throw ERROR_FACTORY$1.create("only-available-in-window");return r.onMessageHandler=x,()=>{r.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getMessagingInWindow(r=getApp()){return isWindowSupported().then(x=>{if(!x)throw ERROR_FACTORY$1.create("unsupported-browser")},x=>{throw ERROR_FACTORY$1.create("indexed-db-unsupported")}),_getProvider(getModularInstance(r),"messaging").getImmediate()}async function getToken(r,x){return r=getModularInstance(r),getToken$1(r,x)}function onMessage(r,x){return r=getModularInstance(r),onMessage$1(r,x)}registerMessagingInWindow();var name$3="firebase",version$1="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$3,version$1,"app");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=60*1e3,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ERROR_FACTORY=new ErrorFactory("analytics","Analytics",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createGtagTrustedTypesScriptURL(r){if(!r.startsWith(GTAG_URL)){const x=ERROR_FACTORY.create("invalid-gtag-resource",{gtagURL:r});return logger.warn(x.message),""}return r}function promiseAllSettled(r){return Promise.all(r.map(x=>x.catch(y=>y)))}function createTrustedTypesPolicy(r,x){let y;return window.trustedTypes&&(y=window.trustedTypes.createPolicy(r,x)),y}function insertScriptTag(r,x){const y=createTrustedTypesPolicy("firebase-js-sdk-policy",{createScriptURL:createGtagTrustedTypesScriptURL}),b=document.createElement("script"),B=`${GTAG_URL}?l=${r}&id=${x}`;b.src=y?y==null?void 0:y.createScriptURL(B):B,b.async=!0,document.head.appendChild(b)}function getOrCreateDataLayer(r){let x=[];return Array.isArray(window[r])?x=window[r]:window[r]=x,x}async function gtagOnConfig(r,x,y,b,B,R){const I=b[B];try{if(I)await x[I];else{const G=(await promiseAllSettled(y)).find(q=>q.measurementId===B);G&&await x[G.appId]}}catch(O){logger.error(O)}r("config",B,R)}async function gtagOnEvent(r,x,y,b,B){try{let R=[];if(B&&B.send_to){let I=B.send_to;Array.isArray(I)||(I=[I]);const O=await promiseAllSettled(y);for(const G of I){const q=O.find(ne=>ne.measurementId===G),ee=q&&x[q.appId];if(ee)R.push(ee);else{R=[];break}}}R.length===0&&(R=Object.values(x)),await Promise.all(R),r("event",b,B||{})}catch(R){logger.error(R)}}function wrapGtag(r,x,y,b){async function B(R,...I){try{if(R==="event"){const[O,G]=I;await gtagOnEvent(r,x,y,O,G)}else if(R==="config"){const[O,G]=I;await gtagOnConfig(r,x,y,b,O,G)}else if(R==="consent"){const[O,G]=I;r("consent",O,G)}else if(R==="get"){const[O,G,q]=I;r("get",O,G,q)}else if(R==="set"){const[O]=I;r("set",O)}else r(R,...I)}catch(O){logger.error(O)}}return B}function wrapOrCreateGtag(r,x,y,b,B){let R=function(...I){window[b].push(arguments)};return window[B]&&typeof window[B]=="function"&&(R=window[B]),window[B]=wrapGtag(R,r,x,y),{gtagCore:R,wrappedGtag:window[B]}}function findGtagScriptOnPage(r){const x=window.document.getElementsByTagName("script");for(const y of Object.values(x))if(y.src&&y.src.includes(GTAG_URL)&&y.src.includes(r))return y;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor(x={},y=BASE_INTERVAL_MILLIS){this.throttleMetadata=x,this.intervalMillis=y}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,y){this.throttleMetadata[x]=y}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}}const defaultRetryData=new RetryData;function getHeaders(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function fetchDynamicConfig(r){var I;const{appId:x,apiKey:y}=r,b={method:"GET",headers:getHeaders(y)},B=DYNAMIC_CONFIG_URL.replace("{app-id}",x),R=await fetch(B,b);if(R.status!==200&&R.status!==304){let O="";try{const G=await R.json();(I=G.error)!=null&&I.message&&(O=G.error.message)}catch{}throw ERROR_FACTORY.create("config-fetch-failed",{httpStatus:R.status,responseMessage:O})}return R.json()}async function fetchDynamicConfigWithRetry(r,x=defaultRetryData,y){const{appId:b,apiKey:B,measurementId:R}=r.options;if(!b)throw ERROR_FACTORY.create("no-app-id");if(!B){if(R)return{measurementId:R,appId:b};throw ERROR_FACTORY.create("no-api-key")}const I=x.getThrottleMetadata(b)||{backoffCount:0,throttleEndTimeMillis:Date.now()},O=new AnalyticsAbortSignal;return setTimeout(async()=>{O.abort()},FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:b,apiKey:B,measurementId:R},I,O,x)}async function attemptFetchDynamicConfigWithRetry(r,{throttleEndTimeMillis:x,backoffCount:y},b,B=defaultRetryData){var O;const{appId:R,measurementId:I}=r;try{await setAbortableTimeout(b,x)}catch(G){if(I)return logger.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${I} provided in the "measurementId" field in the local Firebase config. [${G==null?void 0:G.message}]`),{appId:R,measurementId:I};throw G}try{const G=await fetchDynamicConfig(r);return B.deleteThrottleMetadata(R),G}catch(G){const q=G;if(!isRetriableError(q)){if(B.deleteThrottleMetadata(R),I)return logger.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${I} provided in the "measurementId" field in the local Firebase config. [${q==null?void 0:q.message}]`),{appId:R,measurementId:I};throw G}const ee=Number((O=q==null?void 0:q.customData)==null?void 0:O.httpStatus)===503?calculateBackoffMillis(y,B.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(y,B.intervalMillis),ne={throttleEndTimeMillis:Date.now()+ee,backoffCount:y+1};return B.setThrottleMetadata(R,ne),logger.debug(`Calling attemptFetch again in ${ee} millis`),attemptFetchDynamicConfigWithRetry(r,ne,b,B)}}function setAbortableTimeout(r,x){return new Promise((y,b)=>{const B=Math.max(x-Date.now(),0),R=setTimeout(y,B);r.addEventListener(()=>{clearTimeout(R),b(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function isRetriableError(r){if(!(r instanceof FirebaseError)||!r.customData)return!1;const x=Number(r.customData.httpStatus);return x===429||x===500||x===503||x===504}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}async function logEvent$1(r,x,y,b,B){if(B&&B.global){r("event",y,b);return}else{const R=await x,I={...b,send_to:R};r("event",y,I)}}async function setUserProperties$1(r,x,y,b){if(b&&b.global){const B={};for(const R of Object.keys(y))B[`user_properties.${R}`]=y[R];return r("set",B),Promise.resolve()}else{const B=await x;r("config",B,{update:!0,user_properties:y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){if(isIndexedDBAvailable())try{await validateIndexedDBOpenable()}catch(r){return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _initializeAnalytics(r,x,y,b,B,R,I){const O=fetchDynamicConfigWithRetry(r);O.then(oe=>{y[oe.measurementId]=oe.appId,r.options.measurementId&&oe.measurementId!==r.options.measurementId&&logger.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${oe.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(oe=>logger.error(oe)),x.push(O);const G=validateIndexedDB().then(oe=>{if(oe)return b.getId()}),[q,ee]=await Promise.all([O,G]);findGtagScriptOnPage(R)||insertScriptTag(R,q.measurementId),B("js",new Date);const ne=(I==null?void 0:I.config)??{};return ne[ORIGIN_KEY]="firebase",ne.update=!0,ee!=null&&(ne[GA_FID_KEY]=ee),B("config",q.measurementId,ne),q.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService{constructor(x){this.app=x}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function warnOnBrowserContextMismatch(){const r=[];if(isBrowserExtension()&&r.push("This is a browser extension environment."),areCookiesEnabled()||r.push("Cookies are not available."),r.length>0){const x=r.map((b,B)=>`(${B+1}) ${b}`).join(" "),y=ERROR_FACTORY.create("invalid-analytics-context",{errorInfo:x});logger.warn(y.message)}}function factory(r,x,y){warnOnBrowserContextMismatch();const b=r.options.appId;if(!b)throw ERROR_FACTORY.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)logger.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ERROR_FACTORY.create("no-api-key");if(initializationPromisesMap[b]!=null)throw ERROR_FACTORY.create("already-exists",{id:b});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:R,gtagCore:I}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=R,gtagCoreFunction=I,globalInitDone=!0}return initializationPromisesMap[b]=_initializeAnalytics(r,dynamicConfigPromisesList,measurementIdToAppId,x,gtagCoreFunction,dataLayerName,y),new AnalyticsService(r)}function getAnalytics(r=getApp()){r=getModularInstance(r);const x=_getProvider(r,ANALYTICS_TYPE);return x.isInitialized()?x.getImmediate():initializeAnalytics(r)}function initializeAnalytics(r,x={}){const y=_getProvider(r,ANALYTICS_TYPE);if(y.isInitialized()){const B=y.getImmediate();if(deepEqual$1(x,y.getOptions()))return B;throw ERROR_FACTORY.create("already-initialized")}return y.initialize({options:x})}function setUserProperties(r,x,y){r=getModularInstance(r),setUserProperties$1(wrappedGtagFunction,initializationPromisesMap[r.app.options.appId],x,y).catch(b=>logger.error(b))}function logEvent(r,x,y,b){r=getModularInstance(r),logEvent$1(wrappedGtagFunction,initializationPromisesMap[r.app.options.appId],x,y,b).catch(B=>logger.error(B))}const name$2="@firebase/analytics",version="0.10.19";function registerAnalytics(){_registerComponent(new Component(ANALYTICS_TYPE,(x,{options:y})=>{const b=x.getProvider("app").getImmediate(),B=x.getProvider("installations-internal").getImmediate();return factory(b,B,y)},"PUBLIC")),_registerComponent(new Component("analytics-internal",r,"PRIVATE")),registerVersion(name$2,version),registerVersion(name$2,version,"esm2020");function r(x){try{const y=x.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(b,B,R)=>logEvent(y,b,B,R),setUserProperties:(b,B)=>setUserProperties(y,b,B)}}catch(y){throw ERROR_FACTORY.create("interop-component-reg-failed",{reason:y})}}}registerAnalytics();const firebaseConfig={apiKey:"AIzaSyC6SrC7FmlmnihhlL5v4MS-bTvjO-wpHRI",authDomain:"soundgram-tot.firebaseapp.com",databaseURL:"https://soundgram-tot-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"soundgram-tot",storageBucket:"soundgram-tot.firebasestorage.app",messagingSenderId:"186758434361",appId:"1:186758434361:web:41ef236e0e5e39527e87e8",measurementId:"G-SYHFZP4259"},app=initializeApp(firebaseConfig);getAnalytics(app);const messaging=getMessagingInWindow(app),VAPID_KEY="BOImd23EYCHck5Cgh3yZ7hTvnpgBr4xbPLymUTkfm-JnIwHY9iQgLN6PFxkrtnXELRNQsAWG8OexmGHpRLrMhzg",FCM_TOKEN_KEY="fcm_token",isIOSWebView=()=>window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.getFcmToken,requestFCMToken=async r=>{if(isIOSWebView()){console.log("iOS  "),window.webkit.messageHandlers.setUserId.postMessage(r),window.receiveFcmToken=async function(x){console.log(`iOS FCM  : ${x}`),x&&await sendTokenToServer(r,x)},window.webkit.messageHandlers.getFcmToken.postMessage(null);return}if(typeof window.Android<"u"){console.log(`WebView  User_Id : ${r}`);const x=window.Android.getFcmToken();return window.Android.setUserId(r),x?(console.log(` FCM Token: ${x}`),await sendTokenToServer(r,x),x):(console.warn("Android Fcm   ."),"NATIVE_MODE_PENDING")}try{if(console.log("  "),await Notification.requestPermission()==="granted"){console.log("  ");const y=await getToken(messaging,{vapidKey:VAPID_KEY});return y?(console.log("FCM  :",y),api.set(FCM_TOKEN_KEY,y,{path:"/"}),await sendTokenToServer(r,y),y):(console.warn("   ."),null)}else return console.warn("  "),null}catch(x){throw x}},sendTokenToServer=async(r,x)=>{try{const y=await instance.post("/api/notification/registerToken",{user_id:r,fcm_token:x});return console.log("  ",y.data),y.data}catch(y){throw console.error("   ",y),y}},onForegroundMessage=r=>messaging?onMessage(messaging,x=>{if(console.log(" ",x),x.notification){const{title:y,body:b}=x.notification;Notification.permission==="granted"&&new Notification(y,{body:b,icon:"/logo192.png",data:x.data}),r&&r(x)}}):(console.log("  "),()=>{});function LoginDetail(){var O,G;const{data:r,handleChange:x}=useInput({login_id:"",login_pwd:""}),y=useNavigate(),b=useLocation(),B=((G=(O=b.state)==null?void 0:O.from)==null?void 0:G.pathname)||"/",{login:R}=reactExports$1.useContext(UserContext),I=async()=>{try{const q=await instance.post("/api/auth/login",r),ee=q.data.data,ne=q.data.jwt;R(ee,ne),ee&&ee.id&&ee.admin_flag!=="1"?await requestFCMToken(ee.id):console.log("  - FCM   "),B==="/register"?y("/",{replace:!0}):B&&B!=="/login"&&B!==b.pathname?y(B,{replace:!0}):y("/",{replace:!0})}catch(q){q.status===401?alert("   "):alert("  .    .")}};return jsxRuntimeExports.jsx("div",{className:styles$g.layout,children:jsxRuntimeExports.jsxs("div",{className:styles$g.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$g.header,children:[jsxRuntimeExports.jsx("h1",{className:styles$g.loginTitle,children:""}),jsxRuntimeExports.jsx("p",{className:styles$g.subParagraph,children:"  "})]}),jsxRuntimeExports.jsxs("div",{className:styles$g.contentContainer,children:[jsxRuntimeExports.jsxs("form",{className:styles$g.loginForm,onSubmit:q=>{q.preventDefault(),I()},children:[jsxRuntimeExports.jsx(InputText,{placeholder:"ID (6 ~ 20 , )",name:"login_id",onChange:x,value:r.login_id}),jsxRuntimeExports.jsx(InputText,{placeholder:"Password (8 ~ 16 ++)",name:"login_pwd",type:"password",onChange:x,value:r.login_pwd}),jsxRuntimeExports.jsx("button",{type:"submit",className:styles$g.submitButton,children:" "})]}),jsxRuntimeExports.jsx(SupportSection,{})]})]})})}const container$3="_container_j7nt0_1",loginContent="_loginContent_j7nt0_23",logo="_logo_j7nt0_39",subtitle="_subtitle_j7nt0_55",emailButton="_emailButton_j7nt0_85",footer$1="_footer_j7nt0_221",registerLink="_registerLink_j7nt0_233",styles$e={container:container$3,loginContent,logo,subtitle,emailButton,footer:footer$1,registerLink};function Login(){const r=useNavigate(),x=()=>{r("/login-detail")};return jsxRuntimeExports.jsx("div",{className:styles$e.container,children:jsxRuntimeExports.jsxs("div",{className:styles$e.loginContent,children:[jsxRuntimeExports.jsxs("div",{className:styles$e.header,children:[jsxRuntimeExports.jsx("h1",{className:styles$e.logo,children:"ARTLY"}),jsxRuntimeExports.jsx("p",{className:styles$e.subtitle,children:"  ."})]}),jsxRuntimeExports.jsx("button",{className:styles$e.emailButton,onClick:x,children:"  "}),jsxRuntimeExports.jsx("div",{className:styles$e.footer,children:jsxRuntimeExports.jsx(Link$1,{className:styles$e.registerLink,to:"/register",children:" "})})]})})}let e={data:""},t=r=>{if(typeof window=="object"){let x=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return x.nonce=window.__nonce__,x.parentNode||(r||document.head).appendChild(x),x.firstChild}return r||e},l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o=(r,x)=>{let y="",b="",B="";for(let R in r){let I=r[R];R[0]=="@"?R[1]=="i"?y=R+" "+I+";":b+=R[1]=="f"?o(I,R):R+"{"+o(I,R[1]=="k"?"":x)+"}":typeof I=="object"?b+=o(I,x?x.replace(/([^,])+/g,O=>R.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,G=>/&/.test(G)?G.replace(/&/g,O):O?O+" "+G:G)):R):I!=null&&(R=/^--/.test(R)?R:R.replace(/[A-Z]/g,"-$&").toLowerCase(),B+=o.p?o.p(R,I):R+":"+I+";")}return y+(x&&B?x+"{"+B+"}":B)+b},c={},s=r=>{if(typeof r=="object"){let x="";for(let y in r)x+=y+s(r[y]);return x}return r},i$1=(r,x,y,b,B)=>{let R=s(r),I=c[R]||(c[R]=(G=>{let q=0,ee=11;for(;q<G.length;)ee=101*ee+G.charCodeAt(q++)>>>0;return"go"+ee})(R));if(!c[I]){let G=R!==r?r:(q=>{let ee,ne,oe=[{}];for(;ee=l.exec(q.replace(a,""));)ee[4]?oe.shift():ee[3]?(ne=ee[3].replace(n$1," ").trim(),oe.unshift(oe[0][ne]=oe[0][ne]||{})):oe[0][ee[1]]=ee[2].replace(n$1," ").trim();return oe[0]})(r);c[I]=o(B?{["@keyframes "+I]:G}:G,y?"":"."+I)}let O=y&&c.g?c.g:null;return y&&(c.g=c[I]),((G,q,ee,ne)=>{ne?q.data=q.data.replace(ne,G):q.data.indexOf(G)===-1&&(q.data=ee?G+q.data:q.data+G)})(c[I],x,b,O),I},p=(r,x,y)=>r.reduce((b,B,R)=>{let I=x[R];if(I&&I.call){let O=I(y),G=O&&O.props&&O.props.className||/^go/.test(O)&&O;I=G?"."+G:O&&typeof O=="object"?O.props?"":o(O,""):O===!1?"":O}return b+B+(I??"")},"");function u(r){let x=this||{},y=r.call?r(x.p):r;return i$1(y.unshift?y.raw?p(y,[].slice.call(arguments,1),x.p):y.reduce((b,B)=>Object.assign(b,B&&B.call?B(x.p):B),{}):y,t(x.target),x.g,x.o,x.k)}let d,f$1,g;u.bind({g:1});let h$2=u.bind({k:1});function m(r,x,y,b){o.p=x,d=r,f$1=y,g=b}function w$1(r,x){let y=this||{};return function(){let b=arguments;function B(R,I){let O=Object.assign({},R),G=O.className||B.className;y.p=Object.assign({theme:f$1&&f$1()},O),y.o=/ *go\d+/.test(G),O.className=u.apply(y,b)+(G?" "+G:"");let q=r;return r[0]&&(q=O.as||r,delete O.as),g&&q[0]&&g(O),d(q,O)}return B}}var Z=r=>typeof r=="function",h$1=(r,x)=>Z(r)?r(x):r,W=(()=>{let r=0;return()=>(++r).toString()})(),E=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let x=matchMedia("(prefers-reduced-motion: reduce)");r=!x||x.matches}return r}})(),re=20,k="default",H=(r,x)=>{let{toastLimit:y}=r.settings;switch(x.type){case 0:return{...r,toasts:[x.toast,...r.toasts].slice(0,y)};case 1:return{...r,toasts:r.toasts.map(I=>I.id===x.toast.id?{...I,...x.toast}:I)};case 2:let{toast:b}=x;return H(r,{type:r.toasts.find(I=>I.id===b.id)?1:0,toast:b});case 3:let{toastId:B}=x;return{...r,toasts:r.toasts.map(I=>I.id===B||B===void 0?{...I,dismissed:!0,visible:!1}:I)};case 4:return x.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(I=>I.id!==x.toastId)};case 5:return{...r,pausedAt:x.time};case 6:let R=x.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(I=>({...I,pauseDuration:I.pauseDuration+R}))}}},v=[],j={toasts:[],pausedAt:void 0,settings:{toastLimit:re}},f={},Y=(r,x=k)=>{f[x]=H(f[x]||j,r),v.forEach(([y,b])=>{y===x&&b(f[x])})},_=r=>Object.keys(f).forEach(x=>Y(r,x)),Q=r=>Object.keys(f).find(x=>f[x].toasts.some(y=>y.id===r)),S=(r=k)=>x=>{Y(x,r)},se={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V=(r={},x=k)=>{let[y,b]=reactExports$1.useState(f[x]||j),B=reactExports$1.useRef(f[x]);reactExports$1.useEffect(()=>(B.current!==f[x]&&b(f[x]),v.push([x,b]),()=>{let I=v.findIndex(([O])=>O===x);I>-1&&v.splice(I,1)}),[x]);let R=y.toasts.map(I=>{var O,G,q;return{...r,...r[I.type],...I,removeDelay:I.removeDelay||((O=r[I.type])==null?void 0:O.removeDelay)||(r==null?void 0:r.removeDelay),duration:I.duration||((G=r[I.type])==null?void 0:G.duration)||(r==null?void 0:r.duration)||se[I.type],style:{...r.style,...(q=r[I.type])==null?void 0:q.style,...I.style}}});return{...y,toasts:R}},ie$2=(r,x="blank",y)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:x,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...y,id:(y==null?void 0:y.id)||W()}),P=r=>(x,y)=>{let b=ie$2(x,r,y);return S(b.toasterId||Q(b.id))({type:2,toast:b}),b.id},n=(r,x)=>P("blank")(r,x);n.error=P("error");n.success=P("success");n.loading=P("loading");n.custom=P("custom");n.dismiss=(r,x)=>{let y={type:3,toastId:r};x?S(x)(y):_(y)};n.dismissAll=r=>n.dismiss(void 0,r);n.remove=(r,x)=>{let y={type:4,toastId:r};x?S(x)(y):_(y)};n.removeAll=r=>n.remove(void 0,r);n.promise=(r,x,y)=>{let b=n.loading(x.loading,{...y,...y==null?void 0:y.loading});return typeof r=="function"&&(r=r()),r.then(B=>{let R=x.success?h$1(x.success,B):void 0;return R?n.success(R,{id:b,...y,...y==null?void 0:y.success}):n.dismiss(b),B}).catch(B=>{let R=x.error?h$1(x.error,B):void 0;R?n.error(R,{id:b,...y,...y==null?void 0:y.error}):n.dismiss(b)}),r};var ce=1e3,w=(r,x="default")=>{let{toasts:y,pausedAt:b}=V(r,x),B=reactExports$1.useRef(new Map).current,R=reactExports$1.useCallback((ne,oe=ce)=>{if(B.has(ne))return;let pe=setTimeout(()=>{B.delete(ne),I({type:4,toastId:ne})},oe);B.set(ne,pe)},[]);reactExports$1.useEffect(()=>{if(b)return;let ne=Date.now(),oe=y.map(pe=>{if(pe.duration===1/0)return;let xe=(pe.duration||0)+pe.pauseDuration-(ne-pe.createdAt);if(xe<0){pe.visible&&n.dismiss(pe.id);return}return setTimeout(()=>n.dismiss(pe.id,x),xe)});return()=>{oe.forEach(pe=>pe&&clearTimeout(pe))}},[y,b,x]);let I=reactExports$1.useCallback(S(x),[x]),O=reactExports$1.useCallback(()=>{I({type:5,time:Date.now()})},[I]),G=reactExports$1.useCallback((ne,oe)=>{I({type:1,toast:{id:ne,height:oe}})},[I]),q=reactExports$1.useCallback(()=>{b&&I({type:6,time:Date.now()})},[b,I]),ee=reactExports$1.useCallback((ne,oe)=>{let{reverseOrder:pe=!1,gutter:xe=8,defaultPosition:_e}=oe||{},Ue=y.filter($e=>($e.position||_e)===(ne.position||_e)&&$e.height),Le=Ue.findIndex($e=>$e.id===ne.id),He=Ue.filter(($e,Ne)=>Ne<Le&&$e.visible).length;return Ue.filter($e=>$e.visible).slice(...pe?[He+1]:[0,He]).reduce(($e,Ne)=>$e+(Ne.height||0)+xe,0)},[y]);return reactExports$1.useEffect(()=>{y.forEach(ne=>{if(ne.dismissed)R(ne.id,ne.removeDelay);else{let oe=B.get(ne.id);oe&&(clearTimeout(oe),B.delete(ne.id))}})},[y,R]),{toasts:y,handlers:{updateHeight:G,startPause:O,endPause:q,calculateOffset:ee}}},de=h$2`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,me=h$2`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,le=h$2`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C=w$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${de} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${me} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${le} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Te=h$2`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F=w$1("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${Te} 1s linear infinite;
`,ge=h$2`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,he=h$2`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L=w$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ge} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${he} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,be=w$1("div")`
  position: absolute;
`,Se=w$1("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ae=h$2`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pe=w$1("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$=({toast:r})=>{let{icon:x,type:y,iconTheme:b}=r;return x!==void 0?typeof x=="string"?reactExports$1.createElement(Pe,null,x):x:y==="blank"?null:reactExports$1.createElement(Se,null,reactExports$1.createElement(F,{...b}),y!=="loading"&&reactExports$1.createElement(be,null,y==="error"?reactExports$1.createElement(C,{...b}):reactExports$1.createElement(L,{...b})))},Re=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ee=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,ve="0%{opacity:0;} 100%{opacity:1;}",De="0%{opacity:1;} 100%{opacity:0;}",Oe=w$1("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ie=w$1("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ke=(r,x)=>{let y=r.includes("top")?1:-1,[b,B]=E()?[ve,De]:[Re(y),Ee(y)];return{animation:x?`${h$2(b)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$2(B)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N=reactExports$1.memo(({toast:r,position:x,style:y,children:b})=>{let B=r.height?ke(r.position||x||"top-center",r.visible):{opacity:0},R=reactExports$1.createElement($,{toast:r}),I=reactExports$1.createElement(Ie,{...r.ariaProps},h$1(r.message,r));return reactExports$1.createElement(Oe,{className:r.className,style:{...B,...y,...r.style}},typeof b=="function"?b({icon:R,message:I}):reactExports$1.createElement(reactExports$1.Fragment,null,R,I))});m(reactExports$1.createElement);var we=({id:r,className:x,style:y,onHeightUpdate:b,children:B})=>{let R=reactExports$1.useCallback(I=>{if(I){let O=()=>{let G=I.getBoundingClientRect().height;b(r,G)};O(),new MutationObserver(O).observe(I,{subtree:!0,childList:!0,characterData:!0})}},[r,b]);return reactExports$1.createElement("div",{ref:R,className:x,style:y},B)},Me=(r,x)=>{let y=r.includes("top"),b=y?{top:0}:{bottom:0},B=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:E()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${x*(y?1:-1)}px)`,...b,...B}},Ce=u`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,D=16,Fe=({reverseOrder:r,position:x="top-center",toastOptions:y,gutter:b,children:B,toasterId:R,containerStyle:I,containerClassName:O})=>{let{toasts:G,handlers:q}=w(y,R);return reactExports$1.createElement("div",{"data-rht-toaster":R||"",style:{position:"fixed",zIndex:9999,top:D,left:D,right:D,bottom:D,pointerEvents:"none",...I},className:O,onMouseEnter:q.startPause,onMouseLeave:q.endPause},G.map(ee=>{let ne=ee.position||x,oe=q.calculateOffset(ee,{reverseOrder:r,gutter:b,defaultPosition:x}),pe=Me(ne,oe);return reactExports$1.createElement(we,{id:ee.id,key:ee.id,onHeightUpdate:q.updateHeight,className:ee.visible?Ce:"",style:pe},ee.type==="custom"?h$1(ee.message,ee):B?B(ee):reactExports$1.createElement(N,{toast:ee,position:ne}))}))};const layout$4="_layout_1scbq_3",mainContentContainer="_mainContentContainer_1scbq_35",panelHeaderBox="_panelHeaderBox_1scbq_73",panelHeaderParagraph="_panelHeaderParagraph_1scbq_81",titleInputBox="_titleInputBox_1scbq_123",titleLabel="_titleLabel_1scbq_131",titleInput="_titleInput_1scbq_123",combinedButtonBox="_combinedButtonBox_1scbq_717",leftButton="_leftButton_1scbq_757",rightButton="_rightButton_1scbq_759",deleteButton="_deleteButton_1scbq_837",styles$d={layout:layout$4,mainContentContainer,panelHeaderBox,panelHeaderParagraph,titleInputBox,titleLabel,titleInput,combinedButtonBox,leftButton,rightButton,deleteButton},coverSectionBox="_coverSectionBox_1nnz6_3",coverLabelSpan="_coverLabelSpan_1nnz6_11",coverAreaBox="_coverAreaBox_1nnz6_25",coverPlaceholderBox="_coverPlaceholderBox_1nnz6_61",plusIconSpan$1="_plusIconSpan_1nnz6_81",coverImageContainerBox="_coverImageContainerBox_1nnz6_93",coverImage="_coverImage_1nnz6_93",removeCoverButton="_removeCoverButton_1nnz6_119",dragActive$1="_dragActive_1nnz6_259",styles$c={coverSectionBox,coverLabelSpan,coverAreaBox,coverPlaceholderBox,plusIconSpan:plusIconSpan$1,coverImageContainerBox,coverImage,removeCoverButton,dragActive:dragActive$1};function Cover({coverImage:r,setCoverImage:x,openFileDialogForCover:y,coverDropzone:b}){return jsxRuntimeExports.jsxs("div",{className:styles$c.coverSectionBox,children:[jsxRuntimeExports.jsx("div",{className:styles$c.coverLabelSpan,children:""}),jsxRuntimeExports.jsx("div",{className:styles$c.coverAreaBox,children:r?jsxRuntimeExports.jsxs("div",{className:styles$c.coverImageContainerBox,children:[jsxRuntimeExports.jsx("img",{src:r.url,alt:"",className:styles$c.coverImage}),jsxRuntimeExports.jsx("button",{className:styles$c.removeCoverButton,onClick:()=>x(null),children:""})]}):jsxRuntimeExports.jsxs("div",{...b.getRootProps(),className:`${styles$c.coverPlaceholderBox} ${b.isDragActive?styles$c.dragActive:""}`,onClick:B=>{B.stopPropagation(),y()},children:[jsxRuntimeExports.jsx("input",{...b.getInputProps()}),jsxRuntimeExports.jsx("span",{className:styles$c.plusIconSpan,children:"+"})]})})]})}const innerPagesSectionBox="_innerPagesSectionBox_1asfe_3",innerPagesLabelSpan="_innerPagesLabelSpan_1asfe_11",innerPagesGridContainer="_innerPagesGridContainer_1asfe_25",innerPageItemBox="_innerPageItemBox_1asfe_39",dragging="_dragging_1asfe_73",dragOver="_dragOver_1asfe_83",innerPageImage="_innerPageImage_1asfe_93",removeInnerPageButton="_removeInnerPageButton_1asfe_105",addInnerPageButton="_addInnerPageButton_1asfe_141",plusIconSpan="_plusIconSpan_1asfe_177",dragActive="_dragActive_1asfe_315",styles$b={innerPagesSectionBox,innerPagesLabelSpan,innerPagesGridContainer,innerPageItemBox,dragging,dragOver,innerPageImage,removeInnerPageButton,addInnerPageButton,plusIconSpan,dragActive};function Inner({imageList:r,setImageList:x,handleImageChange:y,handleRemoveImage:b,openFileDialogForInner:B,innerDropzone:R}){const[I,O]=reactExports$1.useState(null),[G,q]=reactExports$1.useState(null),ee=(_e,Ue)=>{_e.stopPropagation(),O(Ue),_e.dataTransfer.effectAllowed="move",_e.dataTransfer.setData("text/plain",Ue.toString()),_e.currentTarget.style.opacity="0.5"},ne=_e=>{_e.stopPropagation(),_e.currentTarget.style.opacity="1",O(null),q(null)},oe=(_e,Ue)=>{_e.preventDefault(),_e.stopPropagation(),_e.dataTransfer.dropEffect="move",I!==null&&I!==Ue&&q(Ue)},pe=_e=>{_e.currentTarget.contains(_e.relatedTarget)||q(null)},xe=(_e,Ue)=>{if(_e.preventDefault(),_e.stopPropagation(),I===null||I===Ue){O(null),q(null);return}const Le=[...r],He=Le[I];Le.splice(I,1);const $e=I<Ue?Ue-1:Ue;Le.splice($e,0,He),x(Le),O(null),q(null)};return jsxRuntimeExports.jsxs("div",{className:styles$b.innerPagesSectionBox,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.innerPagesLabelSpan,children:["  ",r.length,""]}),jsxRuntimeExports.jsxs("div",{...R.getRootProps(),className:`${styles$b.innerPagesGridContainer} ${R.isDragActive?styles$b.dragActive:""}`,children:[jsxRuntimeExports.jsx("input",{...R.getInputProps()}),r.map((_e,Ue)=>jsxRuntimeExports.jsxs("div",{className:`${styles$b.innerPageItemBox} ${I===Ue?styles$b.dragging:""} ${G===Ue?styles$b.dragOver:""}`,draggable:!0,onDragStart:Le=>ee(Le,Ue),onDragEnd:ne,onDragOver:Le=>oe(Le,Ue),onDragLeave:pe,onDrop:Le=>xe(Le,Ue),children:[jsxRuntimeExports.jsx("img",{src:_e.url,alt:_e.name,className:styles$b.innerPageImage}),jsxRuntimeExports.jsx("button",{className:styles$b.removeInnerPageButton,onClick:Le=>{Le.stopPropagation(),b(Ue)},children:""})]},Ue)),jsxRuntimeExports.jsx("div",{className:styles$b.addInnerPageButton,onClick:_e=>{_e.stopPropagation(),B()},children:jsxRuntimeExports.jsx("span",{className:styles$b.plusIconSpan,children:"+"})})]})]})}function __awaiter(r,x,y,b){function B(R){return R instanceof y?R:new y(function(I){I(R)})}return new(y||(y=Promise))(function(R,I){function O(ee){try{q(b.next(ee))}catch(ne){I(ne)}}function G(ee){try{q(b.throw(ee))}catch(ne){I(ne)}}function q(ee){ee.done?R(ee.value):B(ee.value).then(O,G)}q((b=b.apply(r,x||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const COMMON_MIME_TYPES=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function toFileWithPath(r,x,y){const b=withMimeType(r),{webkitRelativePath:B}=r,R=typeof x=="string"?x:typeof B=="string"&&B.length>0?B:`./${r.name}`;return typeof b.path!="string"&&setObjProp(b,"path",R),setObjProp(b,"relativePath",R),b}function withMimeType(r){const{name:x}=r;if(x&&x.lastIndexOf(".")!==-1&&!r.type){const b=x.split(".").pop().toLowerCase(),B=COMMON_MIME_TYPES.get(b);B&&Object.defineProperty(r,"type",{value:B,writable:!1,configurable:!1,enumerable:!0})}return r}function setObjProp(r,x,y){Object.defineProperty(r,x,{value:y,writable:!1,configurable:!1,enumerable:!0})}const FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(r){return __awaiter(this,void 0,void 0,function*(){return isObject(r)&&isDataTransfer(r.dataTransfer)?getDataTransferFiles(r.dataTransfer,r.type):isChangeEvt(r)?getInputFiles(r):Array.isArray(r)&&r.every(x=>"getFile"in x&&typeof x.getFile=="function")?getFsHandleFiles(r):[]})}function isDataTransfer(r){return isObject(r)}function isChangeEvt(r){return isObject(r)&&isObject(r.target)}function isObject(r){return typeof r=="object"&&r!==null}function getInputFiles(r){return fromList(r.target.files).map(x=>toFileWithPath(x))}function getFsHandleFiles(r){return __awaiter(this,void 0,void 0,function*(){return(yield Promise.all(r.map(y=>y.getFile()))).map(y=>toFileWithPath(y))})}function getDataTransferFiles(r,x){return __awaiter(this,void 0,void 0,function*(){if(r.items){const y=fromList(r.items).filter(B=>B.kind==="file");if(x!=="drop")return y;const b=yield Promise.all(y.map(toFilePromises));return noIgnoredFiles(flatten(b))}return noIgnoredFiles(fromList(r.files).map(y=>toFileWithPath(y)))})}function noIgnoredFiles(r){return r.filter(x=>FILES_TO_IGNORE.indexOf(x.name)===-1)}function fromList(r){if(r===null)return[];const x=[];for(let y=0;y<r.length;y++){const b=r[y];x.push(b)}return x}function toFilePromises(r){if(typeof r.webkitGetAsEntry!="function")return fromDataTransferItem(r);const x=r.webkitGetAsEntry();return x&&x.isDirectory?fromDirEntry(x):fromDataTransferItem(r,x)}function flatten(r){return r.reduce((x,y)=>[...x,...Array.isArray(y)?flatten(y):[y]],[])}function fromDataTransferItem(r,x){return __awaiter(this,void 0,void 0,function*(){var y;if(globalThis.isSecureContext&&typeof r.getAsFileSystemHandle=="function"){const R=yield r.getAsFileSystemHandle();if(R===null)throw new Error(`${r} is not a File`);if(R!==void 0){const I=yield R.getFile();return I.handle=R,toFileWithPath(I)}}const b=r.getAsFile();if(!b)throw new Error(`${r} is not a File`);return toFileWithPath(b,(y=x==null?void 0:x.fullPath)!==null&&y!==void 0?y:void 0)})}function fromEntry(r){return __awaiter(this,void 0,void 0,function*(){return r.isDirectory?fromDirEntry(r):fromFileEntry(r)})}function fromDirEntry(r){const x=r.createReader();return new Promise((y,b)=>{const B=[];function R(){x.readEntries(I=>__awaiter(this,void 0,void 0,function*(){if(I.length){const O=Promise.all(I.map(fromEntry));B.push(O),R()}else try{const O=yield Promise.all(B);y(O)}catch(O){b(O)}}),I=>{b(I)})}R()})}function fromFileEntry(r){return __awaiter(this,void 0,void 0,function*(){return new Promise((x,y)=>{r.file(b=>{const B=toFileWithPath(b,r.fullPath);x(B)},b=>{y(b)})})})}var es={},hasRequiredEs;function requireEs(){return hasRequiredEs||(hasRequiredEs=1,es.__esModule=!0,es.default=function(r,x){if(r&&x){var y=Array.isArray(x)?x:x.split(",");if(y.length===0)return!0;var b=r.name||"",B=(r.type||"").toLowerCase(),R=B.replace(/\/.*$/,"");return y.some(function(I){var O=I.trim().toLowerCase();return O.charAt(0)==="."?b.toLowerCase().endsWith(O):O.endsWith("/*")?R===O.replace(/\/.*$/,""):B===O})}return!0}),es}var esExports=requireEs();const _accepts=getDefaultExportFromCjs(esExports);function _toConsumableArray$1(r){return _arrayWithoutHoles$1(r)||_iterableToArray$1(r)||_unsupportedIterableToArray$1(r)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function _arrayWithoutHoles$1(r){if(Array.isArray(r))return _arrayLikeToArray$1(r)}function ownKeys$1(r,x){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(r);x&&(b=b.filter(function(B){return Object.getOwnPropertyDescriptor(r,B).enumerable})),y.push.apply(y,b)}return y}function _objectSpread$1(r){for(var x=1;x<arguments.length;x++){var y=arguments[x]!=null?arguments[x]:{};x%2?ownKeys$1(Object(y),!0).forEach(function(b){_defineProperty$1(r,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):ownKeys$1(Object(y)).forEach(function(b){Object.defineProperty(r,b,Object.getOwnPropertyDescriptor(y,b))})}return r}function _defineProperty$1(r,x,y){return x in r?Object.defineProperty(r,x,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[x]=y,r}function _slicedToArray$1(r,x){return _arrayWithHoles$1(r)||_iterableToArrayLimit$1(r,x)||_unsupportedIterableToArray$1(r,x)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(r,x){if(r){if(typeof r=="string")return _arrayLikeToArray$1(r,x);var y=Object.prototype.toString.call(r).slice(8,-1);if(y==="Object"&&r.constructor&&(y=r.constructor.name),y==="Map"||y==="Set")return Array.from(r);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return _arrayLikeToArray$1(r,x)}}function _arrayLikeToArray$1(r,x){(x==null||x>r.length)&&(x=r.length);for(var y=0,b=new Array(x);y<x;y++)b[y]=r[y];return b}function _iterableToArrayLimit$1(r,x){var y=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(y!=null){var b=[],B=!0,R=!1,I,O;try{for(y=y.call(r);!(B=(I=y.next()).done)&&(b.push(I.value),!(x&&b.length===x));B=!0);}catch(G){R=!0,O=G}finally{try{!B&&y.return!=null&&y.return()}finally{if(R)throw O}}return b}}function _arrayWithHoles$1(r){if(Array.isArray(r))return r}var accepts=typeof _accepts=="function"?_accepts:_accepts.default,FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function r(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",y=x.split(","),b=y.length>1?"one of ".concat(y.join(", ")):y[0];return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(b)}},getTooLargeRejectionErr=function r(x){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(x," ").concat(x===1?"byte":"bytes")}},getTooSmallRejectionErr=function r(x){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(x," ").concat(x===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(r,x){var y=r.type==="application/x-moz-file"||accepts(r,x);return[y,y?null:getInvalidTypeRejectionErr(x)]}function fileMatchSize(r,x,y){if(isDefined(r.size))if(isDefined(x)&&isDefined(y)){if(r.size>y)return[!1,getTooLargeRejectionErr(y)];if(r.size<x)return[!1,getTooSmallRejectionErr(x)]}else{if(isDefined(x)&&r.size<x)return[!1,getTooSmallRejectionErr(x)];if(isDefined(y)&&r.size>y)return[!1,getTooLargeRejectionErr(y)]}return[!0,null]}function isDefined(r){return r!=null}function allFilesAccepted(r){var x=r.files,y=r.accept,b=r.minSize,B=r.maxSize,R=r.multiple,I=r.maxFiles,O=r.validator;return!R&&x.length>1||R&&I>=1&&x.length>I?!1:x.every(function(G){var q=fileAccepted(G,y),ee=_slicedToArray$1(q,1),ne=ee[0],oe=fileMatchSize(G,b,B),pe=_slicedToArray$1(oe,1),xe=pe[0],_e=O?O(G):null;return ne&&xe&&!_e})}function isPropagationStopped(r){return typeof r.isPropagationStopped=="function"?r.isPropagationStopped():typeof r.cancelBubble<"u"?r.cancelBubble:!1}function isEvtWithFiles(r){return r.dataTransfer?Array.prototype.some.call(r.dataTransfer.types,function(x){return x==="Files"||x==="application/x-moz-file"}):!!r.target&&!!r.target.files}function onDocumentDragOver(r){r.preventDefault()}function isIe(r){return r.indexOf("MSIE")!==-1||r.indexOf("Trident/")!==-1}function isEdge(r){return r.indexOf("Edge/")!==-1}function isIeOrEdge(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(r)||isEdge(r)}function composeEventHandlers(){for(var r=arguments.length,x=new Array(r),y=0;y<r;y++)x[y]=arguments[y];return function(b){for(var B=arguments.length,R=new Array(B>1?B-1:0),I=1;I<B;I++)R[I-1]=arguments[I];return x.some(function(O){return!isPropagationStopped(b)&&O&&O.apply(void 0,[b].concat(R)),isPropagationStopped(b)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(r){if(isDefined(r)){var x=Object.entries(r).filter(function(y){var b=_slicedToArray$1(y,2),B=b[0],R=b[1],I=!0;return isMIMEType(B)||(console.warn('Skipped "'.concat(B,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),I=!1),(!Array.isArray(R)||!R.every(isExt))&&(console.warn('Skipped "'.concat(B,'" because an invalid file extension was provided.')),I=!1),I}).reduce(function(y,b){var B=_slicedToArray$1(b,2),R=B[0],I=B[1];return _objectSpread$1(_objectSpread$1({},y),{},_defineProperty$1({},R,I))},{});return[{description:"Files",accept:x}]}return r}function acceptPropAsAcceptAttr(r){if(isDefined(r))return Object.entries(r).reduce(function(x,y){var b=_slicedToArray$1(y,2),B=b[0],R=b[1];return[].concat(_toConsumableArray$1(x),[B],_toConsumableArray$1(R))},[]).filter(function(x){return isMIMEType(x)||isExt(x)}).join(",")}function isAbort(r){return r instanceof DOMException&&(r.name==="AbortError"||r.code===r.ABORT_ERR)}function isSecurityError(r){return r instanceof DOMException&&(r.name==="SecurityError"||r.code===r.SECURITY_ERR)}function isMIMEType(r){return r==="audio/*"||r==="video/*"||r==="image/*"||r==="text/*"||r==="application/*"||/\w+\/[-+.\w]+/g.test(r)}function isExt(r){return/^.*\.[\w]+$/.test(r)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _slicedToArray(r,x){return _arrayWithHoles(r)||_iterableToArrayLimit(r,x)||_unsupportedIterableToArray(r,x)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(r,x){if(r){if(typeof r=="string")return _arrayLikeToArray(r,x);var y=Object.prototype.toString.call(r).slice(8,-1);if(y==="Object"&&r.constructor&&(y=r.constructor.name),y==="Map"||y==="Set")return Array.from(r);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return _arrayLikeToArray(r,x)}}function _arrayLikeToArray(r,x){(x==null||x>r.length)&&(x=r.length);for(var y=0,b=new Array(x);y<x;y++)b[y]=r[y];return b}function _iterableToArrayLimit(r,x){var y=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(y!=null){var b=[],B=!0,R=!1,I,O;try{for(y=y.call(r);!(B=(I=y.next()).done)&&(b.push(I.value),!(x&&b.length===x));B=!0);}catch(G){R=!0,O=G}finally{try{!B&&y.return!=null&&y.return()}finally{if(R)throw O}}return b}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function ownKeys(r,x){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(r);x&&(b=b.filter(function(B){return Object.getOwnPropertyDescriptor(r,B).enumerable})),y.push.apply(y,b)}return y}function _objectSpread(r){for(var x=1;x<arguments.length;x++){var y=arguments[x]!=null?arguments[x]:{};x%2?ownKeys(Object(y),!0).forEach(function(b){_defineProperty(r,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):ownKeys(Object(y)).forEach(function(b){Object.defineProperty(r,b,Object.getOwnPropertyDescriptor(y,b))})}return r}function _defineProperty(r,x,y){return x in r?Object.defineProperty(r,x,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[x]=y,r}function _objectWithoutProperties(r,x){if(r==null)return{};var y=_objectWithoutPropertiesLoose(r,x),b,B;if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(r);for(B=0;B<R.length;B++)b=R[B],!(x.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(r,b)&&(y[b]=r[b])}return y}function _objectWithoutPropertiesLoose(r,x){if(r==null)return{};var y={},b=Object.keys(r),B,R;for(R=0;R<b.length;R++)B=b[R],!(x.indexOf(B)>=0)&&(y[B]=r[B]);return y}var Dropzone=reactExports$1.forwardRef(function(r,x){var y=r.children,b=_objectWithoutProperties(r,_excluded),B=useDropzone(b),R=B.open,I=_objectWithoutProperties(B,_excluded2);return reactExports$1.useImperativeHandle(x,function(){return{open:R}},[R]),React.createElement(reactExports$1.Fragment,null,y(_objectSpread(_objectSpread({},I),{},{open:R})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=_objectSpread(_objectSpread({},defaultProps),r),y=x.accept,b=x.disabled,B=x.getFilesFromEvent,R=x.maxSize,I=x.minSize,O=x.multiple,G=x.maxFiles,q=x.onDragEnter,ee=x.onDragLeave,ne=x.onDragOver,oe=x.onDrop,pe=x.onDropAccepted,xe=x.onDropRejected,_e=x.onFileDialogCancel,Ue=x.onFileDialogOpen,Le=x.useFsAccessApi,He=x.autoFocus,$e=x.preventDropOnDocument,Ne=x.noClick,Qe=x.noKeyboard,We=x.noDrag,Ge=x.noDragEventsBubbling,Xe=x.onError,Je=x.validator,ut=reactExports$1.useMemo(function(){return acceptPropAsAcceptAttr(y)},[y]),ft=reactExports$1.useMemo(function(){return pickerOptionsFromAccept(y)},[y]),ct=reactExports$1.useMemo(function(){return typeof Ue=="function"?Ue:noop$1},[Ue]),pt=reactExports$1.useMemo(function(){return typeof _e=="function"?_e:noop$1},[_e]),yt=reactExports$1.useRef(null),lt=reactExports$1.useRef(null),Ze=reactExports$1.useReducer(reducer,initialState),it=_slicedToArray(Ze,2),Ye=it[0],et=it[1],gt=Ye.isFocused,st=Ye.isFileDialogActive,ht=reactExports$1.useRef(typeof window<"u"&&window.isSecureContext&&Le&&canUseFileSystemAccessAPI()),vt=function(){!ht.current&&st&&setTimeout(function(){if(lt.current){var cn=lt.current.files;cn.length||(et({type:"closeDialog"}),pt())}},300)};reactExports$1.useEffect(function(){return window.addEventListener("focus",vt,!1),function(){window.removeEventListener("focus",vt,!1)}},[lt,st,pt,ht]);var Et=reactExports$1.useRef([]),Rt=function(cn){yt.current&&yt.current.contains(cn.target)||(cn.preventDefault(),Et.current=[])};reactExports$1.useEffect(function(){return $e&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",Rt,!1)),function(){$e&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",Rt))}},[yt,$e]),reactExports$1.useEffect(function(){return!b&&He&&yt.current&&yt.current.focus(),function(){}},[yt,He,b]);var _t=reactExports$1.useCallback(function(Kt){Xe?Xe(Kt):console.error(Kt)},[Xe]),Ut=reactExports$1.useCallback(function(Kt){Kt.preventDefault(),Kt.persist(),Sr(Kt),Et.current=[].concat(_toConsumableArray(Et.current),[Kt.target]),isEvtWithFiles(Kt)&&Promise.resolve(B(Kt)).then(function(cn){if(!(isPropagationStopped(Kt)&&!Ge)){var Cn=cn.length,Fn=Cn>0&&allFilesAccepted({files:cn,accept:ut,minSize:I,maxSize:R,multiple:O,maxFiles:G,validator:Je}),kn=Cn>0&&!Fn;et({isDragAccept:Fn,isDragReject:kn,isDragActive:!0,type:"setDraggedFiles"}),q&&q(Kt)}}).catch(function(cn){return _t(cn)})},[B,q,_t,Ge,ut,I,R,O,G,Je]),an=reactExports$1.useCallback(function(Kt){Kt.preventDefault(),Kt.persist(),Sr(Kt);var cn=isEvtWithFiles(Kt);if(cn&&Kt.dataTransfer)try{Kt.dataTransfer.dropEffect="copy"}catch{}return cn&&ne&&ne(Kt),!1},[ne,Ge]),hn=reactExports$1.useCallback(function(Kt){Kt.preventDefault(),Kt.persist(),Sr(Kt);var cn=Et.current.filter(function(Fn){return yt.current&&yt.current.contains(Fn)}),Cn=cn.indexOf(Kt.target);Cn!==-1&&cn.splice(Cn,1),Et.current=cn,!(cn.length>0)&&(et({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(Kt)&&ee&&ee(Kt))},[yt,ee,Ge]),Ln=reactExports$1.useCallback(function(Kt,cn){var Cn=[],Fn=[];Kt.forEach(function(kn){var or=fileAccepted(kn,ut),Jr=_slicedToArray(or,2),ys=Jr[0],vi=Jr[1],Pn=fileMatchSize(kn,I,R),qt=_slicedToArray(Pn,2),er=qt[0],Bn=qt[1],ur=Je?Je(kn):null;if(ys&&er&&!ur)Cn.push(kn);else{var vs=[vi,Bn];ur&&(vs=vs.concat(ur)),Fn.push({file:kn,errors:vs.filter(function(Vs){return Vs})})}}),(!O&&Cn.length>1||O&&G>=1&&Cn.length>G)&&(Cn.forEach(function(kn){Fn.push({file:kn,errors:[TOO_MANY_FILES_REJECTION]})}),Cn.splice(0)),et({acceptedFiles:Cn,fileRejections:Fn,isDragReject:Fn.length>0,type:"setFiles"}),oe&&oe(Cn,Fn,cn),Fn.length>0&&xe&&xe(Fn,cn),Cn.length>0&&pe&&pe(Cn,cn)},[et,O,ut,I,R,G,oe,pe,xe,Je]),pn=reactExports$1.useCallback(function(Kt){Kt.preventDefault(),Kt.persist(),Sr(Kt),Et.current=[],isEvtWithFiles(Kt)&&Promise.resolve(B(Kt)).then(function(cn){isPropagationStopped(Kt)&&!Ge||Ln(cn,Kt)}).catch(function(cn){return _t(cn)}),et({type:"reset"})},[B,Ln,_t,Ge]),qn=reactExports$1.useCallback(function(){if(ht.current){et({type:"openDialog"}),ct();var Kt={multiple:O,types:ft};window.showOpenFilePicker(Kt).then(function(cn){return B(cn)}).then(function(cn){Ln(cn,null),et({type:"closeDialog"})}).catch(function(cn){isAbort(cn)?(pt(cn),et({type:"closeDialog"})):isSecurityError(cn)?(ht.current=!1,lt.current?(lt.current.value=null,lt.current.click()):_t(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):_t(cn)});return}lt.current&&(et({type:"openDialog"}),ct(),lt.current.value=null,lt.current.click())},[et,ct,pt,Le,Ln,_t,ft,O]),on=reactExports$1.useCallback(function(Kt){!yt.current||!yt.current.isEqualNode(Kt.target)||(Kt.key===" "||Kt.key==="Enter"||Kt.keyCode===32||Kt.keyCode===13)&&(Kt.preventDefault(),qn())},[yt,qn]),tn=reactExports$1.useCallback(function(){et({type:"focus"})},[]),Zn=reactExports$1.useCallback(function(){et({type:"blur"})},[]),Dr=reactExports$1.useCallback(function(){Ne||(isIeOrEdge()?setTimeout(qn,0):qn())},[Ne,qn]),zn=function(cn){return b?null:cn},Tn=function(cn){return Qe?null:zn(cn)},yn=function(cn){return We?null:zn(cn)},Sr=function(cn){Ge&&cn.stopPropagation()},Zt=reactExports$1.useMemo(function(){return function(){var Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},cn=Kt.refKey,Cn=cn===void 0?"ref":cn,Fn=Kt.role,kn=Kt.onKeyDown,or=Kt.onFocus,Jr=Kt.onBlur,ys=Kt.onClick,vi=Kt.onDragEnter,Pn=Kt.onDragOver,qt=Kt.onDragLeave,er=Kt.onDrop,Bn=_objectWithoutProperties(Kt,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:Tn(composeEventHandlers(kn,on)),onFocus:Tn(composeEventHandlers(or,tn)),onBlur:Tn(composeEventHandlers(Jr,Zn)),onClick:zn(composeEventHandlers(ys,Dr)),onDragEnter:yn(composeEventHandlers(vi,Ut)),onDragOver:yn(composeEventHandlers(Pn,an)),onDragLeave:yn(composeEventHandlers(qt,hn)),onDrop:yn(composeEventHandlers(er,pn)),role:typeof Fn=="string"&&Fn!==""?Fn:"presentation"},Cn,yt),!b&&!Qe?{tabIndex:0}:{}),Bn)}},[yt,on,tn,Zn,Dr,Ut,an,hn,pn,Qe,We,b]),Yr=reactExports$1.useCallback(function(Kt){Kt.stopPropagation()},[]),Or=reactExports$1.useMemo(function(){return function(){var Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},cn=Kt.refKey,Cn=cn===void 0?"ref":cn,Fn=Kt.onChange,kn=Kt.onClick,or=_objectWithoutProperties(Kt,_excluded4),Jr=_defineProperty({accept:ut,multiple:O,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:zn(composeEventHandlers(Fn,pn)),onClick:zn(composeEventHandlers(kn,Yr)),tabIndex:-1},Cn,lt);return _objectSpread(_objectSpread({},Jr),or)}},[lt,y,O,pn,b]);return _objectSpread(_objectSpread({},Ye),{},{isFocused:gt&&!b,getRootProps:Zt,getInputProps:Or,rootRef:yt,inputRef:lt,open:zn(qn)})}function reducer(r,x){switch(x.type){case"focus":return _objectSpread(_objectSpread({},r),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},r),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},r),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},r),{},{isDragActive:x.isDragActive,isDragAccept:x.isDragAccept,isDragReject:x.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},r),{},{acceptedFiles:x.acceptedFiles,fileRejections:x.fileRejections,isDragReject:x.isDragReject});case"reset":return _objectSpread({},initialState);default:return r}}function noop$1(){}function useImageUpload(){const[r,x]=reactExports$1.useState([]),[y,b]=reactExports$1.useState(null),B=oe=>{const xe=Array.from(oe.target.files).map(_e=>new Promise(Ue=>{const Le=new FileReader;Le.onload=He=>{Ue({file:_e,url:He.target.result,name:_e.name})},Le.readAsDataURL(_e)}));Promise.all(xe).then(_e=>{x(Ue=>[...Ue,..._e]),oe.target.value=""})},R=oe=>{x(pe=>pe.filter((xe,_e)=>_e!==oe))},I=oe=>{const pe=new FileReader;pe.onload=xe=>{b({file:oe,url:xe.target.result,name:oe.name})},pe.readAsDataURL(oe)},O=()=>{const oe=document.createElement("input");oe.type="file",oe.accept="image/*",oe.onchange=pe=>{const xe=pe.target.files[0];xe&&I(xe)},oe.click()},G=()=>{const oe=document.createElement("input");oe.type="file",oe.accept="image/*",oe.multiple=!0,oe.onchange=B,oe.click()},q=(oe,pe="inner")=>{const xe=oe.map(_e=>new Promise(Ue=>{const Le=new FileReader;Le.onload=He=>{Ue({file:_e,url:He.target.result,name:_e.name})},Le.readAsDataURL(_e)}));Promise.all(xe).then(_e=>{pe==="cover"?_e.length>0&&b(_e[0]):x(Ue=>[...Ue,..._e])})},ee=useDropzone({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!1,onDrop:oe=>q(oe,"cover"),onDropRejected:oe=>{console.log("   :",oe)}}),ne=useDropzone({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!0,onDrop:oe=>q(oe,"inner"),onDropRejected:oe=>{console.log("   :",oe)}});return{imageList:r,setImageList:x,coverImage:y,setCoverImage:b,handleImageChange:B,handleRemoveImage:R,openFileDialogForCover:O,openFileDialogForInner:G,coverDropzone:ee,innerDropzone:ne,handleDrop:q}}function Leaflet({type:r}){const{id:x}=useParams(),y=useNavigate(),[b,B]=reactExports$1.useState(null),[R,I]=reactExports$1.useState(""),[O,G]=reactExports$1.useState(!1),[q,ee]=reactExports$1.useState(null),{imageList:ne,setImageList:oe,coverImage:pe,setCoverImage:xe,handleImageChange:_e,handleRemoveImage:Ue,openFileDialogForCover:Le,openFileDialogForInner:He,coverDropzone:$e,innerDropzone:Ne}=useImageUpload();reactExports$1.useEffect(()=>{(async()=>{var ut;try{G(!0);const ft=r==="galleries"?"galleryCategory":"exhibitionCategory",ct=await userInstance.get("/api/leaflet",{params:{category:ft,category_id:x}});let pt=null;if(Array.isArray(ct.data)?ct.data.length>0&&(pt=ct.data[0]):pt=ct.data,pt&&(ee(pt),B(pt.id),I(pt.title||""),pt.image_urls&&pt.image_urls.length>0&&(pt.image_urls[0]&&xe({url:pt.image_urls[0]}),pt.image_urls.length>1))){const yt=pt.image_urls.slice(1).map(lt=>({url:lt}));oe(yt)}}catch(ft){console.error("  :",ft),((ut=ft.response)==null?void 0:ut.status)!==404&&n.error("   .",{position:"top-center"})}finally{G(!1)}})()},[x,r]);const Qe=()=>{if(!b){n.error("  !",{position:"top-center",duration:3e3});return}const Je=`/view/leaflet/${r}/${x}`;window.open(Je,"_blank")},We=async()=>{if(b&&window.confirm("   ?"))try{G(!0),await userInstance.delete(`/api/leaflet/${b}`),n.success(" .",{position:"top-center"}),y(`/console/${r}/${x}`)}catch(Je){console.error("  :",Je),n.error("  .",{position:"top-center"}),G(!1)}},Ge=async()=>{var Je,ut,ft,ct;if(!R.trim()){n.error("  !",{position:"top-center"});return}if(!(pe!=null&&pe.file)){n.error("  !",{position:"top-center"});return}try{G(!0),b&&q&&await userInstance.delete(`/api/leaflet/${b}`);const pt=new FormData;pt.append("image[]",pe.file),ne.forEach(Ze=>{Ze.file&&pt.append("image[]",Ze.file)}),pt.append("title",R.trim());const yt=r==="galleries"?"galleryCategory":"exhibitionCategory";pt.append("category",yt),pt.append("categoryId",x);const lt=await userInstance.post("/api/leaflet",pt,{headers:{"Content-Type":"multipart/form-data"}});n.success("  !",{position:"top-center"}),lt.data.id&&(B(lt.data.id),ee(lt.data))}catch(pt){const yt=((ut=(Je=pt.response)==null?void 0:Je.data)==null?void 0:ut.message)||((ct=(ft=pt.response)==null?void 0:ft.data)==null?void 0:ct.error)||"    .";n.error(yt,{position:"top-center",duration:5e3})}finally{G(!1)}},Xe=!pe&&ne.length===0;return jsxRuntimeExports.jsxs("div",{className:styles$d.layout,children:[jsxRuntimeExports.jsx(Fe,{}),jsxRuntimeExports.jsxs("div",{className:styles$d.mainContentContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$d.panelHeaderBox,children:jsxRuntimeExports.jsxs("p",{className:styles$d.panelHeaderParagraph,children:["/   .",jsxRuntimeExports.jsx("br",{}),"     ."]})}),jsxRuntimeExports.jsxs("div",{className:styles$d.titleInputBox,children:[jsxRuntimeExports.jsx("label",{className:styles$d.titleLabel,children:" "}),jsxRuntimeExports.jsx("input",{type:"text",value:R,onChange:Je=>I(Je.target.value),placeholder:"  ",className:styles$d.titleInput,disabled:O})]}),jsxRuntimeExports.jsx(Cover,{coverImage:pe,setCoverImage:xe,openFileDialogForCover:Le,coverDropzone:$e}),jsxRuntimeExports.jsx(Inner,{imageList:ne,setImageList:oe,handleImageChange:_e,handleRemoveImage:Ue,openFileDialogForInner:He,innerDropzone:Ne}),jsxRuntimeExports.jsxs("div",{className:styles$d.combinedButtonBox,children:[jsxRuntimeExports.jsx("button",{className:styles$d.leftButton,onClick:Qe,disabled:Xe,children:"/ "}),b?jsxRuntimeExports.jsx("button",{className:styles$d.deleteButton,onClick:We,disabled:O,children:""}):jsxRuntimeExports.jsx("button",{className:styles$d.rightButton,onClick:Ge,disabled:Xe||O,children:O?" ...":""})]})]})]})}const layout$3="_layout_11fk5_3",list="_list_11fk5_49",notificationItem$1="_notificationItem_11fk5_65",iconArea="_iconArea_11fk5_97",icon="_icon_11fk5_97",contentArea$1="_contentArea_11fk5_131",headerRow="_headerRow_11fk5_141",notiTitle="_notiTitle_11fk5_155",timestamp$1="_timestamp_11fk5_169",notiBody="_notiBody_11fk5_185",tabContainer="_tabContainer_11fk5_223",tabButton="_tabButton_11fk5_237",activeTab="_activeTab_11fk5_265",styles$a={layout:layout$3,list,notificationItem:notificationItem$1,iconArea,icon,contentArea:contentArea$1,headerRow,notiTitle,timestamp:timestamp$1,notiBody,tabContainer,tabButton,activeTab},parseTimestamp=r=>r?new Date(r.replace(" ","T")+"+09:00"):new Date,formatTimestamp$1=r=>{const x=parseTimestamp(r),b=new Date-x,B=Math.floor(b/(1e3*60)),R=Math.floor(b/(1e3*60*60)),I=Math.floor(b/(1e3*60*60*24));return B<1?" ":B<60?`${B} `:R<24?`${R} `:I<7?`${I} `:x.toLocaleDateString("ko-KR")},Icon=()=>jsxRuntimeExports.jsx(IoMegaphoneOutline,{size:22,className:styles$a.icon});function ConsoleNotification(){const[r,x]=reactExports$1.useState("sent"),[y,b]=reactExports$1.useState([]),[B,R]=reactExports$1.useState(!0),[I,O]=reactExports$1.useState(null),G=reactExports$1.useCallback(async()=>{var q;try{R(!0),O(null);const ee=localStorage.getItem("ACCESS_TOKEN"),ne=r==="sent"?"/api/notification/console":"/api/notification/user",oe=await userInstance.get(ne,{headers:{Authorization:`Bearer ${ee}`}}),_e=(Array.isArray((q=oe.data)==null?void 0:q.data)?oe.data.data:[]).map(Ue=>({id:Ue.notification_id||Ue.id,title:Ue.title,body:Ue.body||Ue.content,create_dtm:Ue.create_dtm})).sort((Ue,Le)=>new Date(Le.create_dtm).getTime()-new Date(Ue.create_dtm).getTime());b(_e)}catch(ee){console.error(ee),O("    .")}finally{R(!1)}},[r]);return reactExports$1.useEffect(()=>{G()},[G]),reactExports$1.useEffect(()=>{const q=()=>{console.log(" NEW_NOTIFICATION      "),G()};return window.addEventListener("NEW_NOTIFICATION",q),()=>window.removeEventListener("NEW_NOTIFICATION",q)},[G]),B?jsxRuntimeExports.jsx("div",{className:styles$a.layout,children:" ..."}):I?jsxRuntimeExports.jsx("div",{className:styles$a.layout,children:I}):y.length===0?jsxRuntimeExports.jsx("div",{className:styles$a.layout,children:jsxRuntimeExports.jsx("h2",{children:"   ."})}):jsxRuntimeExports.jsxs("div",{className:styles$a.layout,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.tabContainer,children:[jsxRuntimeExports.jsx("button",{className:`${styles$a.tabButton} ${r==="sent"?styles$a.activeTab:""}`,onClick:()=>x("sent"),children:" "}),jsxRuntimeExports.jsx("button",{className:`${styles$a.tabButton} ${r==="received"?styles$a.activeTab:""}`,onClick:()=>x("received"),children:" "})]}),B?jsxRuntimeExports.jsx("div",{className:styles$a.loading,children:" ..."}):I?jsxRuntimeExports.jsx("div",{className:styles$a.error,children:I}):y.length===0?jsxRuntimeExports.jsx("div",{className:styles$a.empty,children:" ."}):jsxRuntimeExports.jsx("div",{className:styles$a.list,children:y.map((q,ee)=>jsxRuntimeExports.jsxs("div",{className:styles$a.notificationItem,children:[jsxRuntimeExports.jsx("div",{className:styles$a.iconArea,children:jsxRuntimeExports.jsx(Icon,{})}),jsxRuntimeExports.jsxs("div",{className:styles$a.contentArea,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.headerRow,children:[jsxRuntimeExports.jsx("span",{className:styles$a.notiTitle,children:q.title}),jsxRuntimeExports.jsx("span",{className:styles$a.timestamp,children:formatTimestamp$1(q.create_dtm)})]}),jsxRuntimeExports.jsx("p",{className:styles$a.notiBody,children:q.body})]})]},`${q.id}-${ee}`))})]})}const container$2="_container_1m3jp_3",image="_image_1m3jp_27",info="_info_1m3jp_41",productName="_productName_1m3jp_49",artist="_artist_1m3jp_59",guide="_guide_1m3jp_71",textArea="_textArea_1m3jp_87",checkboxBlock="_checkboxBlock_1m3jp_113",checkboxLabel="_checkboxLabel_1m3jp_163",checkbox$1="_checkbox_1m3jp_113",checkboxText="_checkboxText_1m3jp_191",expandedContent="_expandedContent_1m3jp_203",expandedActive="_expandedActive_1m3jp_225",expandedTitle="_expandedTitle_1m3jp_237",expandedList="_expandedList_1m3jp_251",buttonRow="_buttonRow_1m3jp_275",saveBtn="_saveBtn_1m3jp_289",cancelBtn$1="_cancelBtn_1m3jp_291",styles$9={container:container$2,image,info,productName,artist,guide,textArea,checkboxBlock,checkboxLabel,checkbox:checkbox$1,checkboxText,expandedContent,expandedActive,expandedTitle,expandedList,buttonRow,saveBtn,cancelBtn:cancelBtn$1};function DocentGenerator({autoGenerate:r=!1}){var Qe;const{id:x}=useParams(),[y,b]=reactExports$1.useState(null),[B,R]=reactExports$1.useState(""),[I,O]=reactExports$1.useState(!1),[G,q]=reactExports$1.useState(!1),[ee,ne]=reactExports$1.useState(""),[oe,pe]=reactExports$1.useState(!1),xe=useNavigate(),_e=(y==null?void 0:y.art_title)||"",Ue=(y==null?void 0:y.artist_name)||((Qe=y==null?void 0:y.artist)==null?void 0:Qe.artist_name)||"",Le=(y==null?void 0:y.art_image)||"https://images.unsplash.com/photo-1570393080660-de4e4a15a247?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OTF8fEFydHxlbnwwfHwwfHx8MA%3D%3D",He=async We=>{var Ge,Xe,Je;O(!0),ne("");try{const ut=await userInstance.get(`/api/arts/${We}`),ft=((Ge=ut.data)==null?void 0:Ge.data)??ut.data;if(!ft){ne("    ."),b(null),R("");return}b(ft),R((ft==null?void 0:ft.art_docent)||"")}catch(ut){ne(((Je=(Xe=ut.response)==null?void 0:Xe.data)==null?void 0:Je.message)||"     ."),b(null),R("")}finally{O(!1)}};reactExports$1.useEffect(()=>{x&&He(x)},[x]);const $e=async()=>{var We,Ge,Xe;if(!x)return alert("  ID .");if(!B.trim())return alert("  .");if(!y)return alert("   .    .");try{q(!0);const Je=new FormData;Je.append("_method","PATCH"),y.art_title&&Je.append("art_title",y.art_title),y.art_description&&Je.append("art_description",y.art_description),y.artist_id&&Je.append("artist_id",y.artist_id),y.artist_name&&Je.append("artist_name",y.artist_name),y.art_material&&Je.append("art_material",y.art_material),y.art_size&&Je.append("art_size",y.art_size),y.art_year&&Je.append("art_year",y.art_year),y.art_price&&Je.append("art_price",y.art_price),Je.append("art_docent",B),y.art_image&&typeof y.art_image=="string"&&Je.append("art_image",y.art_image),y.art_images&&Je.append("art_images",y.art_images),y.art_image_mime&&Je.append("art_image_mime",y.art_image_mime),y.art_image_name&&Je.append("art_image_name",y.art_image_name),y.art_image_size&&Je.append("art_image_size",y.art_image_size);const ut=await userInstance.post(`/api/arts/${x}`,Je,{headers:{"Content-Type":void 0}});alert(((We=ut.data)==null?void 0:We.message)||" ."),await He(x),xe(`/console/artworks/${x}`)}catch(Je){alert(((Xe=(Ge=Je.response)==null?void 0:Ge.data)==null?void 0:Xe.message)||"    .")}finally{q(!1)}},Ne=()=>{confirm("     . ?")&&(R((y==null?void 0:y.art_docent)||""),xe(`/console/artworks/${x}`))};return x?jsxRuntimeExports.jsx("div",{className:styles$9.container,children:I?jsxRuntimeExports.jsx("div",{className:styles$9.guide,children:"   ..."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:Le,alt:_e,className:styles$9.image}),jsxRuntimeExports.jsxs("div",{className:styles$9.info,children:[jsxRuntimeExports.jsx("div",{className:styles$9.productName,children:_e}),jsxRuntimeExports.jsx("div",{className:styles$9.artist,children:Ue})]}),ee&&jsxRuntimeExports.jsx("div",{className:styles$9.guide,style:{color:"#ef4444"},children:ee}),jsxRuntimeExports.jsx("p",{className:styles$9.guide,children:"    ."}),jsxRuntimeExports.jsx("textarea",{className:styles$9.textArea,value:B,onChange:We=>R(We.target.value),placeholder:"  .",disabled:I}),jsxRuntimeExports.jsxs("div",{className:styles$9.checkboxBlock,children:[jsxRuntimeExports.jsxs("label",{className:styles$9.checkboxLabel,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:oe,onChange:We=>pe(We.target.checked),className:styles$9.checkbox}),jsxRuntimeExports.jsx("span",{className:styles$9.checkboxText,children:"  ."})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$9.expandedContent} ${oe?styles$9.expandedActive:""}`,children:[jsxRuntimeExports.jsx("p",{className:styles$9.expandedTitle,children:"  "}),jsxRuntimeExports.jsxs("ul",{className:styles$9.expandedList,children:[jsxRuntimeExports.jsx("li",{children:"  ,          ."}),jsxRuntimeExports.jsx("li",{children:"       ."}),jsxRuntimeExports.jsx("li",{children:"     ."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$9.buttonRow,children:[jsxRuntimeExports.jsx("button",{className:styles$9.saveBtn,onClick:$e,disabled:G||!!ee||I,children:G?" ...":""}),jsxRuntimeExports.jsx("button",{className:styles$9.cancelBtn,onClick:Ne,disabled:G||I,children:""})]})]})}):jsxRuntimeExports.jsx("div",{className:styles$9.container,children:"  ID ."})}function NotFound(){return null}const layout$2="_layout_17e18_1",header$3="_header_17e18_15",title$2="_title_17e18_41",backButton$1="_backButton_17e18_51",formContainer="_formContainer_17e18_69",bottomButtonContainer="_bottomButtonContainer_17e18_83",button="_button_17e18_105",cancelButton="_cancelButton_17e18_125",saveButton="_saveButton_17e18_135",styles$8={layout:layout$2,header:header$3,title:title$2,backButton:backButton$1,formContainer,bottomButtonContainer,button,cancelButton,saveButton},useEditData=(r,x,y,b)=>{const[B,R]=reactExports$1.useState(null),[I,O]=reactExports$1.useState(!0),[G]=useSearchParams(),q=useNavigate();return reactExports$1.useEffect(()=>{b&&(async()=>{O(!0);try{let ne={},oe=null;if(y){const pe=G.get("exhibition_id"),xe=G.get("gallery_id");pe&&(ne.exhibition_id=pe),xe&&(ne.gallery_id=xe),oe=xe}else{const pe=await userInstance.get(b.apiUrl(x));ne=typeof pe.data=="string"?JSON.parse(pe.data):pe.data,oe=ne.gallery_id}if(r==="exhibitions"&&!y&&(ne._originalArtworks=[...ne.artworks||[]],ne._originalArtists=[...ne.artists||[]]),r==="artworks"&&oe)try{const pe=await userInstance.get(`/api/exhibitions?gallery_id=${oe}`);ne.exhibitions=Array.isArray(pe.data)?pe.data:[],!y&&ne.exhibitions_connected&&(ne.selected_exhibition_ids=ne.exhibitions_connected.map(xe=>xe.id))}catch(pe){console.error("   :",pe),ne.exhibitions=[]}R(ne)}catch(ne){console.error("  :",ne),alert("  ."),q(`/console/${r}`)}finally{O(!1)}})()},[r,x,y,b,G,q]),{data:B,setData:R,isLoading:I}},getId=r=>r.id||r.artist_id,useEditSave=(r,x,y,b,B,R)=>{const[I,O]=reactExports$1.useState(!1),[G,q]=reactExports$1.useState(null),ee=()=>{if(r==="artworks"&&!B.art_title)return" .";if(r==="galleries"&&!B.gallery_name)return" .";if(r==="exhibitions"){if(y&&!B.gallery_id)return"  .";if(!B.exhibition_title)return" ."}return null},ne=()=>{var Ue;const _e=new FormData;if(y||_e.append("_method","PATCH"),Object.entries(B).forEach(([Le,He])=>{if(He!=null&&!["artists","artworks","_originalArtworks","_originalArtists"].includes(Le)){if(Le==="gallery_sns"&&Array.isArray(He)){const $e=He.filter(Ne=>Ne.type!=="twitter");_e.append(Le,JSON.stringify($e));return}typeof He=="object"&&!(He instanceof File)?_e.append(Le,JSON.stringify(He)):_e.append(Le,He)}}),!_e.has("gallery_id")){const Le=B.gallery_id||((Ue=B.gallery)==null?void 0:Ue.id);Le&&_e.append("gallery_id",Le)}return G&&_e.append(b.formImageField,G),_e},oe=async _e=>{const Ue=B.artworks||[],Le=B._originalArtworks||[],He=Ue.filter(ct=>!Le.some(pt=>getId(pt)===getId(ct))),$e=Le.filter(ct=>!Ue.some(pt=>getId(pt)===getId(ct))),Ne=[...He.map(ct=>userInstance.post(`/api/exhibitions/${_e}/arts`,{art_id:getId(ct),display_order:0})),...$e.map(ct=>userInstance.delete(`/api/exhibitions/${_e}/arts/${getId(ct)}`))],Qe=B.artists||[],We=B._originalArtists||[],Ge=Qe.filter(ct=>!We.some(pt=>getId(pt)===getId(ct))),Xe=We.filter(ct=>!Qe.some(pt=>getId(pt)===getId(ct))),Je=Ge.map(ct=>getId(ct)).filter(Boolean),ut=Je.length>0?userInstance.post(`/api/exhibitions/${_e}/artists`,{artist_ids:Je}):Promise.resolve(),ft=Xe.map(ct=>userInstance.delete(`/api/exhibitions/${_e}/artists/${getId(ct)}`));try{await Promise.all([...Ne,ut,...ft]),console.log(` : (${He.length}/${$e.length}), (${Ge.length}/${Xe.length})`)}catch(ct){console.error("   :",ct),alert("      .")}},pe=async _e=>{const Ue=B.selected_exhibition_ids||[];if(Ue.length>0&&_e){const Le=Ue.map(He=>userInstance.post(`/api/exhibitions/${He}/arts`,{art_id:_e,display_order:0}));await Promise.all(Le)}};return{handleSave:async()=>{var Ue;if(I||!B)return;const _e=ee();if(_e)return alert(_e);O(!0);try{const Le=ne(),He=await userInstance.post(b.apiUrl(x),Le,{headers:{"Content-Type":"multipart/form-data"}}),$e=y?((Ue=He.data.data)==null?void 0:Ue.id)||He.data.id:x;r==="exhibitions"&&$e?await oe($e):r==="artworks"&&await pe($e),alert(y?".":"."),y?R("/console/main",{state:{activeTab:r==="galleries"?"":r==="exhibitions"?"":""}}):R(`/console/${r}/${x}`)}catch(Le){console.error(" :",Le),alert("   .")}finally{O(!1)}},isSaving:I,setSelectedImageFile:q}},card="_card_hijaa_1",input="_input_hijaa_17",tagInputField="_tagInputField_hijaa_19",timeInput="_timeInput_hijaa_21",galleryNameInput="_galleryNameInput_hijaa_55",gallerySubNameInput="_gallerySubNameInput_hijaa_73",imageUploadBox="_imageUploadBox_hijaa_99",previewImage="_previewImage_hijaa_129",previewImageDesc="_previewImageDesc_hijaa_141",imageDelBtn="_imageDelBtn_hijaa_149",inputGroup="_inputGroup_hijaa_185",label$1="_label_hijaa_199",tagInputContainer="_tagInputContainer_hijaa_211",tagItem="_tagItem_hijaa_231",removeTagBtn="_removeTagBtn_hijaa_251",timeInputContainer="_timeInputContainer_hijaa_293",checkboxGroup="_checkboxGroup_hijaa_313",snsCard="_snsCard_hijaa_339",snsInputGroup="_snsInputGroup_hijaa_349",tiptap="_tiptap_hijaa_363",emptyContent="_emptyContent_hijaa_381",uploadButton="_uploadButton_hijaa_395",artistSelectRow="_artistSelectRow_hijaa_423",selectButton="_selectButton_hijaa_435",modalOverlay="_modalOverlay_hijaa_467",modalBox$2="_modalBox_hijaa_487",inputDocent="_inputDocent_hijaa_503",docent="_docent_hijaa_515",textarea$1="_textarea_hijaa_527",exhibitionListWrapper="_exhibitionListWrapper_hijaa_561",exhibitionItem="_exhibitionItem_hijaa_575",exhibitionTitle="_exhibitionTitle_hijaa_595",statusBadge="_statusBadge_hijaa_605",exhibited="_exhibited_hijaa_619",scheduled="_scheduled_hijaa_629",ended="_ended_hijaa_639",emptyText="_emptyText_hijaa_657",helperText="_helperText_hijaa_667",addHeaderContainer="_addHeaderContainer_hijaa_679",artworkSection="_artworkSection_hijaa_693",addBtn="_addBtn_hijaa_703",artworkGrid="_artworkGrid_hijaa_737",artworkCard="_artworkCard_hijaa_749",artworkThumb="_artworkThumb_hijaa_779",artworkMeta="_artworkMeta_hijaa_795",artworkTitle="_artworkTitle_hijaa_809",artworkArtist="_artworkArtist_hijaa_827",removeBtn="_removeBtn_hijaa_837",fullWidth="_fullWidth_hijaa_869",addArtistBtn="_addArtistBtn_hijaa_877",artistList="_artistList_hijaa_889",artistItem="_artistItem_hijaa_901",artistName="_artistName_hijaa_919",artistThumb="_artistThumb_hijaa_931",styles$7={card,input,tagInputField,timeInput,galleryNameInput,gallerySubNameInput,imageUploadBox,previewImage,previewImageDesc,imageDelBtn,inputGroup,label:label$1,tagInputContainer,tagItem,removeTagBtn,timeInputContainer,checkboxGroup,snsCard,snsInputGroup,tiptap,emptyContent,uploadButton,artistSelectRow,selectButton,modalOverlay,modalBox:modalBox$2,inputDocent,docent,textarea:textarea$1,exhibitionListWrapper,exhibitionItem,exhibitionTitle,statusBadge,exhibited,scheduled,ended,default:"_default_hijaa_647",emptyText,helperText,addHeaderContainer,artworkSection,addBtn,artworkGrid,artworkCard,artworkThumb,artworkMeta,artworkTitle,artworkArtist,removeBtn,fullWidth,addArtistBtn,artistList,artistItem,artistName,artistThumb};var shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var r=requireReact$1();function x(ne,oe){return ne===oe&&(ne!==0||1/ne===1/oe)||ne!==ne&&oe!==oe}var y=typeof Object.is=="function"?Object.is:x,b=r.useState,B=r.useEffect,R=r.useLayoutEffect,I=r.useDebugValue;function O(ne,oe){var pe=oe(),xe=b({inst:{value:pe,getSnapshot:oe}}),_e=xe[0].inst,Ue=xe[1];return R(function(){_e.value=pe,_e.getSnapshot=oe,G(_e)&&Ue({inst:_e})},[ne,pe,oe]),B(function(){return G(_e)&&Ue({inst:_e}),ne(function(){G(_e)&&Ue({inst:_e})})},[ne]),I(pe),pe}function G(ne){var oe=ne.getSnapshot;ne=ne.value;try{var pe=oe();return!y(ne,pe)}catch{return!0}}function q(ne,oe){return oe()}var ee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?q:O;return useSyncExternalStoreShim_production.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:ee,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}var shimExports=requireShim();function OrderedMap(r){this.content=r}OrderedMap.prototype={constructor:OrderedMap,find:function(r){for(var x=0;x<this.content.length;x+=2)if(this.content[x]===r)return x;return-1},get:function(r){var x=this.find(r);return x==-1?void 0:this.content[x+1]},update:function(r,x,y){var b=y&&y!=r?this.remove(y):this,B=b.find(r),R=b.content.slice();return B==-1?R.push(y||r,x):(R[B+1]=x,y&&(R[B]=y)),new OrderedMap(R)},remove:function(r){var x=this.find(r);if(x==-1)return this;var y=this.content.slice();return y.splice(x,2),new OrderedMap(y)},addToStart:function(r,x){return new OrderedMap([r,x].concat(this.remove(r).content))},addToEnd:function(r,x){var y=this.remove(r).content.slice();return y.push(r,x),new OrderedMap(y)},addBefore:function(r,x,y){var b=this.remove(x),B=b.content.slice(),R=b.find(r);return B.splice(R==-1?B.length:R,0,x,y),new OrderedMap(B)},forEach:function(r){for(var x=0;x<this.content.length;x+=2)r(this.content[x],this.content[x+1])},prepend:function(r){return r=OrderedMap.from(r),r.size?new OrderedMap(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=OrderedMap.from(r),r.size?new OrderedMap(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var x=this;r=OrderedMap.from(r);for(var y=0;y<r.content.length;y+=2)x=x.remove(r.content[y]);return x},toObject:function(){var r={};return this.forEach(function(x,y){r[x]=y}),r},get size(){return this.content.length>>1}};OrderedMap.from=function(r){if(r instanceof OrderedMap)return r;var x=[];if(r)for(var y in r)x.push(y,r[y]);return new OrderedMap(x)};function findDiffStart(r,x,y){for(let b=0;;b++){if(b==r.childCount||b==x.childCount)return r.childCount==x.childCount?null:y;let B=r.child(b),R=x.child(b);if(B==R){y+=B.nodeSize;continue}if(!B.sameMarkup(R))return y;if(B.isText&&B.text!=R.text){for(let I=0;B.text[I]==R.text[I];I++)y++;return y}if(B.content.size||R.content.size){let I=findDiffStart(B.content,R.content,y+1);if(I!=null)return I}y+=B.nodeSize}}function findDiffEnd(r,x,y,b){for(let B=r.childCount,R=x.childCount;;){if(B==0||R==0)return B==R?null:{a:y,b};let I=r.child(--B),O=x.child(--R),G=I.nodeSize;if(I==O){y-=G,b-=G;continue}if(!I.sameMarkup(O))return{a:y,b};if(I.isText&&I.text!=O.text){let q=0,ee=Math.min(I.text.length,O.text.length);for(;q<ee&&I.text[I.text.length-q-1]==O.text[O.text.length-q-1];)q++,y--,b--;return{a:y,b}}if(I.content.size||O.content.size){let q=findDiffEnd(I.content,O.content,y-1,b-1);if(q)return q}y-=G,b-=G}}class Fragment{constructor(x,y){if(this.content=x,this.size=y||0,y==null)for(let b=0;b<x.length;b++)this.size+=x[b].nodeSize}nodesBetween(x,y,b,B=0,R){for(let I=0,O=0;O<y;I++){let G=this.content[I],q=O+G.nodeSize;if(q>x&&b(G,B+O,R||null,I)!==!1&&G.content.size){let ee=O+1;G.nodesBetween(Math.max(0,x-ee),Math.min(G.content.size,y-ee),b,B+ee)}O=q}}descendants(x){this.nodesBetween(0,this.size,x)}textBetween(x,y,b,B){let R="",I=!0;return this.nodesBetween(x,y,(O,G)=>{let q=O.isText?O.text.slice(Math.max(x,G)-G,y-G):O.isLeaf?B?typeof B=="function"?B(O):B:O.type.spec.leafText?O.type.spec.leafText(O):"":"";O.isBlock&&(O.isLeaf&&q||O.isTextblock)&&b&&(I?I=!1:R+=b),R+=q},0),R}append(x){if(!x.size)return this;if(!this.size)return x;let y=this.lastChild,b=x.firstChild,B=this.content.slice(),R=0;for(y.isText&&y.sameMarkup(b)&&(B[B.length-1]=y.withText(y.text+b.text),R=1);R<x.content.length;R++)B.push(x.content[R]);return new Fragment(B,this.size+x.size)}cut(x,y=this.size){if(x==0&&y==this.size)return this;let b=[],B=0;if(y>x)for(let R=0,I=0;I<y;R++){let O=this.content[R],G=I+O.nodeSize;G>x&&((I<x||G>y)&&(O.isText?O=O.cut(Math.max(0,x-I),Math.min(O.text.length,y-I)):O=O.cut(Math.max(0,x-I-1),Math.min(O.content.size,y-I-1))),b.push(O),B+=O.nodeSize),I=G}return new Fragment(b,B)}cutByIndex(x,y){return x==y?Fragment.empty:x==0&&y==this.content.length?this:new Fragment(this.content.slice(x,y))}replaceChild(x,y){let b=this.content[x];if(b==y)return this;let B=this.content.slice(),R=this.size+y.nodeSize-b.nodeSize;return B[x]=y,new Fragment(B,R)}addToStart(x){return new Fragment([x].concat(this.content),this.size+x.nodeSize)}addToEnd(x){return new Fragment(this.content.concat(x),this.size+x.nodeSize)}eq(x){if(this.content.length!=x.content.length)return!1;for(let y=0;y<this.content.length;y++)if(!this.content[y].eq(x.content[y]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(x){let y=this.content[x];if(!y)throw new RangeError("Index "+x+" out of range for "+this);return y}maybeChild(x){return this.content[x]||null}forEach(x){for(let y=0,b=0;y<this.content.length;y++){let B=this.content[y];x(B,b,y),b+=B.nodeSize}}findDiffStart(x,y=0){return findDiffStart(this,x,y)}findDiffEnd(x,y=this.size,b=x.size){return findDiffEnd(this,x,y,b)}findIndex(x){if(x==0)return retIndex(0,x);if(x==this.size)return retIndex(this.content.length,x);if(x>this.size||x<0)throw new RangeError(`Position ${x} outside of fragment (${this})`);for(let y=0,b=0;;y++){let B=this.child(y),R=b+B.nodeSize;if(R>=x)return R==x?retIndex(y+1,R):retIndex(y,b);b=R}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(x=>x.toJSON()):null}static fromJSON(x,y){if(!y)return Fragment.empty;if(!Array.isArray(y))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(y.map(x.nodeFromJSON))}static fromArray(x){if(!x.length)return Fragment.empty;let y,b=0;for(let B=0;B<x.length;B++){let R=x[B];b+=R.nodeSize,B&&R.isText&&x[B-1].sameMarkup(R)?(y||(y=x.slice(0,B)),y[y.length-1]=R.withText(y[y.length-1].text+R.text)):y&&y.push(R)}return new Fragment(y||x,b)}static from(x){if(!x)return Fragment.empty;if(x instanceof Fragment)return x;if(Array.isArray(x))return this.fromArray(x);if(x.attrs)return new Fragment([x],x.nodeSize);throw new RangeError("Can not convert "+x+" to a Fragment"+(x.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(r,x){return found.index=r,found.offset=x,found}function compareDeep(r,x){if(r===x)return!0;if(!(r&&typeof r=="object")||!(x&&typeof x=="object"))return!1;let y=Array.isArray(r);if(Array.isArray(x)!=y)return!1;if(y){if(r.length!=x.length)return!1;for(let b=0;b<r.length;b++)if(!compareDeep(r[b],x[b]))return!1}else{for(let b in r)if(!(b in x)||!compareDeep(r[b],x[b]))return!1;for(let b in x)if(!(b in r))return!1}return!0}let Mark$1=class _u{constructor(x,y){this.type=x,this.attrs=y}addToSet(x){let y,b=!1;for(let B=0;B<x.length;B++){let R=x[B];if(this.eq(R))return x;if(this.type.excludes(R.type))y||(y=x.slice(0,B));else{if(R.type.excludes(this.type))return x;!b&&R.type.rank>this.type.rank&&(y||(y=x.slice(0,B)),y.push(this),b=!0),y&&y.push(R)}}return y||(y=x.slice()),b||y.push(this),y}removeFromSet(x){for(let y=0;y<x.length;y++)if(this.eq(x[y]))return x.slice(0,y).concat(x.slice(y+1));return x}isInSet(x){for(let y=0;y<x.length;y++)if(this.eq(x[y]))return!0;return!1}eq(x){return this==x||this.type==x.type&&compareDeep(this.attrs,x.attrs)}toJSON(){let x={type:this.type.name};for(let y in this.attrs){x.attrs=this.attrs;break}return x}static fromJSON(x,y){if(!y)throw new RangeError("Invalid input for Mark.fromJSON");let b=x.marks[y.type];if(!b)throw new RangeError(`There is no mark type ${y.type} in this schema`);let B=b.create(y.attrs);return b.checkAttrs(B.attrs),B}static sameSet(x,y){if(x==y)return!0;if(x.length!=y.length)return!1;for(let b=0;b<x.length;b++)if(!x[b].eq(y[b]))return!1;return!0}static setFrom(x){if(!x||Array.isArray(x)&&x.length==0)return _u.none;if(x instanceof _u)return[x];let y=x.slice();return y.sort((b,B)=>b.type.rank-B.type.rank),y}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(x,y,b){this.content=x,this.openStart=y,this.openEnd=b}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(x,y){let b=insertInto(this.content,x+this.openStart,y);return b&&new Slice(b,this.openStart,this.openEnd)}removeBetween(x,y){return new Slice(removeRange(this.content,x+this.openStart,y+this.openStart),this.openStart,this.openEnd)}eq(x){return this.content.eq(x.content)&&this.openStart==x.openStart&&this.openEnd==x.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let x={content:this.content.toJSON()};return this.openStart>0&&(x.openStart=this.openStart),this.openEnd>0&&(x.openEnd=this.openEnd),x}static fromJSON(x,y){if(!y)return Slice.empty;let b=y.openStart||0,B=y.openEnd||0;if(typeof b!="number"||typeof B!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(x,y.content),b,B)}static maxOpen(x,y=!0){let b=0,B=0;for(let R=x.firstChild;R&&!R.isLeaf&&(y||!R.type.spec.isolating);R=R.firstChild)b++;for(let R=x.lastChild;R&&!R.isLeaf&&(y||!R.type.spec.isolating);R=R.lastChild)B++;return new Slice(x,b,B)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(r,x,y){let{index:b,offset:B}=r.findIndex(x),R=r.maybeChild(b),{index:I,offset:O}=r.findIndex(y);if(B==x||R.isText){if(O!=y&&!r.child(I).isText)throw new RangeError("Removing non-flat range");return r.cut(0,x).append(r.cut(y))}if(b!=I)throw new RangeError("Removing non-flat range");return r.replaceChild(b,R.copy(removeRange(R.content,x-B-1,y-B-1)))}function insertInto(r,x,y,b){let{index:B,offset:R}=r.findIndex(x),I=r.maybeChild(B);if(R==x||I.isText)return b&&!b.canReplace(B,B,y)?null:r.cut(0,x).append(y).append(r.cut(x));let O=insertInto(I.content,x-R-1,y,I);return O&&r.replaceChild(B,I.copy(O))}function replace(r,x,y){if(y.openStart>r.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(r.depth-y.openStart!=x.depth-y.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(r,x,y,0)}function replaceOuter(r,x,y,b){let B=r.index(b),R=r.node(b);if(B==x.index(b)&&b<r.depth-y.openStart){let I=replaceOuter(r,x,y,b+1);return R.copy(R.content.replaceChild(B,I))}else if(y.content.size)if(!y.openStart&&!y.openEnd&&r.depth==b&&x.depth==b){let I=r.parent,O=I.content;return close(I,O.cut(0,r.parentOffset).append(y.content).append(O.cut(x.parentOffset)))}else{let{start:I,end:O}=prepareSliceForReplace(y,r);return close(R,replaceThreeWay(r,I,O,x,b))}else return close(R,replaceTwoWay(r,x,b))}function checkJoin(r,x){if(!x.type.compatibleContent(r.type))throw new ReplaceError("Cannot join "+x.type.name+" onto "+r.type.name)}function joinable$1(r,x,y){let b=r.node(y);return checkJoin(b,x.node(y)),b}function addNode(r,x){let y=x.length-1;y>=0&&r.isText&&r.sameMarkup(x[y])?x[y]=r.withText(x[y].text+r.text):x.push(r)}function addRange(r,x,y,b){let B=(x||r).node(y),R=0,I=x?x.index(y):B.childCount;r&&(R=r.index(y),r.depth>y?R++:r.textOffset&&(addNode(r.nodeAfter,b),R++));for(let O=R;O<I;O++)addNode(B.child(O),b);x&&x.depth==y&&x.textOffset&&addNode(x.nodeBefore,b)}function close(r,x){return r.type.checkContent(x),r.copy(x)}function replaceThreeWay(r,x,y,b,B){let R=r.depth>B&&joinable$1(r,x,B+1),I=b.depth>B&&joinable$1(y,b,B+1),O=[];return addRange(null,r,B,O),R&&I&&x.index(B)==y.index(B)?(checkJoin(R,I),addNode(close(R,replaceThreeWay(r,x,y,b,B+1)),O)):(R&&addNode(close(R,replaceTwoWay(r,x,B+1)),O),addRange(x,y,B,O),I&&addNode(close(I,replaceTwoWay(y,b,B+1)),O)),addRange(b,null,B,O),new Fragment(O)}function replaceTwoWay(r,x,y){let b=[];if(addRange(null,r,y,b),r.depth>y){let B=joinable$1(r,x,y+1);addNode(close(B,replaceTwoWay(r,x,y+1)),b)}return addRange(x,null,y,b),new Fragment(b)}function prepareSliceForReplace(r,x){let y=x.depth-r.openStart,B=x.node(y).copy(r.content);for(let R=y-1;R>=0;R--)B=x.node(R).copy(Fragment.from(B));return{start:B.resolveNoCache(r.openStart+y),end:B.resolveNoCache(B.content.size-r.openEnd-y)}}class ResolvedPos{constructor(x,y,b){this.pos=x,this.path=y,this.parentOffset=b,this.depth=y.length/3-1}resolveDepth(x){return x==null?this.depth:x<0?this.depth+x:x}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(x){return this.path[this.resolveDepth(x)*3]}index(x){return this.path[this.resolveDepth(x)*3+1]}indexAfter(x){return x=this.resolveDepth(x),this.index(x)+(x==this.depth&&!this.textOffset?0:1)}start(x){return x=this.resolveDepth(x),x==0?0:this.path[x*3-1]+1}end(x){return x=this.resolveDepth(x),this.start(x)+this.node(x).content.size}before(x){if(x=this.resolveDepth(x),!x)throw new RangeError("There is no position before the top-level node");return x==this.depth+1?this.pos:this.path[x*3-1]}after(x){if(x=this.resolveDepth(x),!x)throw new RangeError("There is no position after the top-level node");return x==this.depth+1?this.pos:this.path[x*3-1]+this.path[x*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let x=this.parent,y=this.index(this.depth);if(y==x.childCount)return null;let b=this.pos-this.path[this.path.length-1],B=x.child(y);return b?x.child(y).cut(b):B}get nodeBefore(){let x=this.index(this.depth),y=this.pos-this.path[this.path.length-1];return y?this.parent.child(x).cut(0,y):x==0?null:this.parent.child(x-1)}posAtIndex(x,y){y=this.resolveDepth(y);let b=this.path[y*3],B=y==0?0:this.path[y*3-1]+1;for(let R=0;R<x;R++)B+=b.child(R).nodeSize;return B}marks(){let x=this.parent,y=this.index();if(x.content.size==0)return Mark$1.none;if(this.textOffset)return x.child(y).marks;let b=x.maybeChild(y-1),B=x.maybeChild(y);if(!b){let O=b;b=B,B=O}let R=b.marks;for(var I=0;I<R.length;I++)R[I].type.spec.inclusive===!1&&(!B||!R[I].isInSet(B.marks))&&(R=R[I--].removeFromSet(R));return R}marksAcross(x){let y=this.parent.maybeChild(this.index());if(!y||!y.isInline)return null;let b=y.marks,B=x.parent.maybeChild(x.index());for(var R=0;R<b.length;R++)b[R].type.spec.inclusive===!1&&(!B||!b[R].isInSet(B.marks))&&(b=b[R--].removeFromSet(b));return b}sharedDepth(x){for(let y=this.depth;y>0;y--)if(this.start(y)<=x&&this.end(y)>=x)return y;return 0}blockRange(x=this,y){if(x.pos<this.pos)return x.blockRange(this);for(let b=this.depth-(this.parent.inlineContent||this.pos==x.pos?1:0);b>=0;b--)if(x.pos<=this.end(b)&&(!y||y(this.node(b))))return new NodeRange(this,x,b);return null}sameParent(x){return this.pos-this.parentOffset==x.pos-x.parentOffset}max(x){return x.pos>this.pos?x:this}min(x){return x.pos<this.pos?x:this}toString(){let x="";for(let y=1;y<=this.depth;y++)x+=(x?"/":"")+this.node(y).type.name+"_"+this.index(y-1);return x+":"+this.parentOffset}static resolve(x,y){if(!(y>=0&&y<=x.content.size))throw new RangeError("Position "+y+" out of range");let b=[],B=0,R=y;for(let I=x;;){let{index:O,offset:G}=I.content.findIndex(R),q=R-G;if(b.push(I,O,B+G),!q||(I=I.child(O),I.isText))break;R=q-1,B+=G+1}return new ResolvedPos(y,b,R)}static resolveCached(x,y){let b=resolveCache.get(x);if(b)for(let R=0;R<b.elts.length;R++){let I=b.elts[R];if(I.pos==y)return I}else resolveCache.set(x,b=new ResolveCache);let B=b.elts[b.i]=ResolvedPos.resolve(x,y);return b.i=(b.i+1)%resolveCacheSize,B}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(x,y,b){this.$from=x,this.$to=y,this.depth=b}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$1=class Tu{constructor(x,y,b,B=Mark$1.none){this.type=x,this.attrs=y,this.marks=B,this.content=b||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(x){return this.content.child(x)}maybeChild(x){return this.content.maybeChild(x)}forEach(x){this.content.forEach(x)}nodesBetween(x,y,b,B=0){this.content.nodesBetween(x,y,b,B,this)}descendants(x){this.nodesBetween(0,this.content.size,x)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(x,y,b,B){return this.content.textBetween(x,y,b,B)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(x){return this==x||this.sameMarkup(x)&&this.content.eq(x.content)}sameMarkup(x){return this.hasMarkup(x.type,x.attrs,x.marks)}hasMarkup(x,y,b){return this.type==x&&compareDeep(this.attrs,y||x.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,b||Mark$1.none)}copy(x=null){return x==this.content?this:new Tu(this.type,this.attrs,x,this.marks)}mark(x){return x==this.marks?this:new Tu(this.type,this.attrs,this.content,x)}cut(x,y=this.content.size){return x==0&&y==this.content.size?this:this.copy(this.content.cut(x,y))}slice(x,y=this.content.size,b=!1){if(x==y)return Slice.empty;let B=this.resolve(x),R=this.resolve(y),I=b?0:B.sharedDepth(y),O=B.start(I),q=B.node(I).content.cut(B.pos-O,R.pos-O);return new Slice(q,B.depth-I,R.depth-I)}replace(x,y,b){return replace(this.resolve(x),this.resolve(y),b)}nodeAt(x){for(let y=this;;){let{index:b,offset:B}=y.content.findIndex(x);if(y=y.maybeChild(b),!y)return null;if(B==x||y.isText)return y;x-=B+1}}childAfter(x){let{index:y,offset:b}=this.content.findIndex(x);return{node:this.content.maybeChild(y),index:y,offset:b}}childBefore(x){if(x==0)return{node:null,index:0,offset:0};let{index:y,offset:b}=this.content.findIndex(x);if(b<x)return{node:this.content.child(y),index:y,offset:b};let B=this.content.child(y-1);return{node:B,index:y-1,offset:b-B.nodeSize}}resolve(x){return ResolvedPos.resolveCached(this,x)}resolveNoCache(x){return ResolvedPos.resolve(this,x)}rangeHasMark(x,y,b){let B=!1;return y>x&&this.nodesBetween(x,y,R=>(b.isInSet(R.marks)&&(B=!0),!B)),B}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let x=this.type.name;return this.content.size&&(x+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,x)}contentMatchAt(x){let y=this.type.contentMatch.matchFragment(this.content,0,x);if(!y)throw new Error("Called contentMatchAt on a node with invalid content");return y}canReplace(x,y,b=Fragment.empty,B=0,R=b.childCount){let I=this.contentMatchAt(x).matchFragment(b,B,R),O=I&&I.matchFragment(this.content,y);if(!O||!O.validEnd)return!1;for(let G=B;G<R;G++)if(!this.type.allowsMarks(b.child(G).marks))return!1;return!0}canReplaceWith(x,y,b,B){if(B&&!this.type.allowsMarks(B))return!1;let R=this.contentMatchAt(x).matchType(b),I=R&&R.matchFragment(this.content,y);return I?I.validEnd:!1}canAppend(x){return x.content.size?this.canReplace(this.childCount,this.childCount,x.content):this.type.compatibleContent(x.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let x=Mark$1.none;for(let y=0;y<this.marks.length;y++){let b=this.marks[y];b.type.checkAttrs(b.attrs),x=b.addToSet(x)}if(!Mark$1.sameSet(x,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(y=>y.type.name)}`);this.content.forEach(y=>y.check())}toJSON(){let x={type:this.type.name};for(let y in this.attrs){x.attrs=this.attrs;break}return this.content.size&&(x.content=this.content.toJSON()),this.marks.length&&(x.marks=this.marks.map(y=>y.toJSON())),x}static fromJSON(x,y){if(!y)throw new RangeError("Invalid input for Node.fromJSON");let b;if(y.marks){if(!Array.isArray(y.marks))throw new RangeError("Invalid mark data for Node.fromJSON");b=y.marks.map(x.markFromJSON)}if(y.type=="text"){if(typeof y.text!="string")throw new RangeError("Invalid text node in JSON");return x.text(y.text,b)}let B=Fragment.fromJSON(x,y.content),R=x.nodeType(y.type).create(y.attrs,B,b);return R.type.checkAttrs(R.attrs),R}};Node$1.prototype.text=void 0;class TextNode extends Node$1{constructor(x,y,b,B){if(super(x,y,null,B),!b)throw new RangeError("Empty text nodes are not allowed");this.text=b}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(x,y){return this.text.slice(x,y)}get nodeSize(){return this.text.length}mark(x){return x==this.marks?this:new TextNode(this.type,this.attrs,this.text,x)}withText(x){return x==this.text?this:new TextNode(this.type,this.attrs,x,this.marks)}cut(x=0,y=this.text.length){return x==0&&y==this.text.length?this:this.withText(this.text.slice(x,y))}eq(x){return this.sameMarkup(x)&&this.text==x.text}toJSON(){let x=super.toJSON();return x.text=this.text,x}}function wrapMarks(r,x){for(let y=r.length-1;y>=0;y--)x=r[y].type.name+"("+x+")";return x}class ContentMatch{constructor(x){this.validEnd=x,this.next=[],this.wrapCache=[]}static parse(x,y){let b=new TokenStream(x,y);if(b.next==null)return ContentMatch.empty;let B=parseExpr(b);b.next&&b.err("Unexpected trailing text");let R=dfa(nfa(B));return checkForDeadEnds(R,b),R}matchType(x){for(let y=0;y<this.next.length;y++)if(this.next[y].type==x)return this.next[y].next;return null}matchFragment(x,y=0,b=x.childCount){let B=this;for(let R=y;B&&R<b;R++)B=B.matchType(x.child(R).type);return B}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let x=0;x<this.next.length;x++){let{type:y}=this.next[x];if(!(y.isText||y.hasRequiredAttrs()))return y}return null}compatible(x){for(let y=0;y<this.next.length;y++)for(let b=0;b<x.next.length;b++)if(this.next[y].type==x.next[b].type)return!0;return!1}fillBefore(x,y=!1,b=0){let B=[this];function R(I,O){let G=I.matchFragment(x,b);if(G&&(!y||G.validEnd))return Fragment.from(O.map(q=>q.createAndFill()));for(let q=0;q<I.next.length;q++){let{type:ee,next:ne}=I.next[q];if(!(ee.isText||ee.hasRequiredAttrs())&&B.indexOf(ne)==-1){B.push(ne);let oe=R(ne,O.concat(ee));if(oe)return oe}}return null}return R(this,[])}findWrapping(x){for(let b=0;b<this.wrapCache.length;b+=2)if(this.wrapCache[b]==x)return this.wrapCache[b+1];let y=this.computeWrapping(x);return this.wrapCache.push(x,y),y}computeWrapping(x){let y=Object.create(null),b=[{match:this,type:null,via:null}];for(;b.length;){let B=b.shift(),R=B.match;if(R.matchType(x)){let I=[];for(let O=B;O.type;O=O.via)I.push(O.type);return I.reverse()}for(let I=0;I<R.next.length;I++){let{type:O,next:G}=R.next[I];!O.isLeaf&&!O.hasRequiredAttrs()&&!(O.name in y)&&(!B.type||G.validEnd)&&(b.push({match:O.contentMatch,type:O,via:B}),y[O.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(x){if(x>=this.next.length)throw new RangeError(`There's no ${x}th edge in this content match`);return this.next[x]}toString(){let x=[];function y(b){x.push(b);for(let B=0;B<b.next.length;B++)x.indexOf(b.next[B].next)==-1&&y(b.next[B].next)}return y(this),x.map((b,B)=>{let R=B+(b.validEnd?"*":" ")+" ";for(let I=0;I<b.next.length;I++)R+=(I?", ":"")+b.next[I].type.name+"->"+x.indexOf(b.next[I].next);return R}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(x,y){this.string=x,this.nodeTypes=y,this.inline=null,this.pos=0,this.tokens=x.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(x){return this.next==x&&(this.pos++||!0)}err(x){throw new SyntaxError(x+" (in content expression '"+this.string+"')")}}function parseExpr(r){let x=[];do x.push(parseExprSeq(r));while(r.eat("|"));return x.length==1?x[0]:{type:"choice",exprs:x}}function parseExprSeq(r){let x=[];do x.push(parseExprSubscript(r));while(r.next&&r.next!=")"&&r.next!="|");return x.length==1?x[0]:{type:"seq",exprs:x}}function parseExprSubscript(r){let x=parseExprAtom(r);for(;;)if(r.eat("+"))x={type:"plus",expr:x};else if(r.eat("*"))x={type:"star",expr:x};else if(r.eat("?"))x={type:"opt",expr:x};else if(r.eat("{"))x=parseExprRange(r,x);else break;return x}function parseNum(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let x=Number(r.next);return r.pos++,x}function parseExprRange(r,x){let y=parseNum(r),b=y;return r.eat(",")&&(r.next!="}"?b=parseNum(r):b=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:y,max:b,expr:x}}function resolveName(r,x){let y=r.nodeTypes,b=y[x];if(b)return[b];let B=[];for(let R in y){let I=y[R];I.isInGroup(x)&&B.push(I)}return B.length==0&&r.err("No node type or group '"+x+"' found"),B}function parseExprAtom(r){if(r.eat("(")){let x=parseExpr(r);return r.eat(")")||r.err("Missing closing paren"),x}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let x=resolveName(r,r.next).map(y=>(r.inline==null?r.inline=y.isInline:r.inline!=y.isInline&&r.err("Mixing inline and block content"),{type:"name",value:y}));return r.pos++,x.length==1?x[0]:{type:"choice",exprs:x}}}function nfa(r){let x=[[]];return B(R(r,0),y()),x;function y(){return x.push([])-1}function b(I,O,G){let q={term:G,to:O};return x[I].push(q),q}function B(I,O){I.forEach(G=>G.to=O)}function R(I,O){if(I.type=="choice")return I.exprs.reduce((G,q)=>G.concat(R(q,O)),[]);if(I.type=="seq")for(let G=0;;G++){let q=R(I.exprs[G],O);if(G==I.exprs.length-1)return q;B(q,O=y())}else if(I.type=="star"){let G=y();return b(O,G),B(R(I.expr,G),G),[b(G)]}else if(I.type=="plus"){let G=y();return B(R(I.expr,O),G),B(R(I.expr,G),G),[b(G)]}else{if(I.type=="opt")return[b(O)].concat(R(I.expr,O));if(I.type=="range"){let G=O;for(let q=0;q<I.min;q++){let ee=y();B(R(I.expr,G),ee),G=ee}if(I.max==-1)B(R(I.expr,G),G);else for(let q=I.min;q<I.max;q++){let ee=y();b(G,ee),B(R(I.expr,G),ee),G=ee}return[b(G)]}else{if(I.type=="name")return[b(O,void 0,I.value)];throw new Error("Unknown expr type")}}}}function cmp(r,x){return x-r}function nullFrom(r,x){let y=[];return b(x),y.sort(cmp);function b(B){let R=r[B];if(R.length==1&&!R[0].term)return b(R[0].to);y.push(B);for(let I=0;I<R.length;I++){let{term:O,to:G}=R[I];!O&&y.indexOf(G)==-1&&b(G)}}}function dfa(r){let x=Object.create(null);return y(nullFrom(r,0));function y(b){let B=[];b.forEach(I=>{r[I].forEach(({term:O,to:G})=>{if(!O)return;let q;for(let ee=0;ee<B.length;ee++)B[ee][0]==O&&(q=B[ee][1]);nullFrom(r,G).forEach(ee=>{q||B.push([O,q=[]]),q.indexOf(ee)==-1&&q.push(ee)})})});let R=x[b.join(",")]=new ContentMatch(b.indexOf(r.length-1)>-1);for(let I=0;I<B.length;I++){let O=B[I][1].sort(cmp);R.next.push({type:B[I][0],next:x[O.join(",")]||y(O)})}return R}}function checkForDeadEnds(r,x){for(let y=0,b=[r];y<b.length;y++){let B=b[y],R=!B.validEnd,I=[];for(let O=0;O<B.next.length;O++){let{type:G,next:q}=B.next[O];I.push(G.name),R&&!(G.isText||G.hasRequiredAttrs())&&(R=!1),b.indexOf(q)==-1&&b.push(q)}R&&x.err("Only non-generatable nodes ("+I.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(r){let x=Object.create(null);for(let y in r){let b=r[y];if(!b.hasDefault)return null;x[y]=b.default}return x}function computeAttrs(r,x){let y=Object.create(null);for(let b in r){let B=x&&x[b];if(B===void 0){let R=r[b];if(R.hasDefault)B=R.default;else throw new RangeError("No value supplied for attribute "+b)}y[b]=B}return y}function checkAttrs(r,x,y,b){for(let B in x)if(!(B in r))throw new RangeError(`Unsupported attribute ${B} for ${y} of type ${B}`);for(let B in r){let R=r[B];R.validate&&R.validate(x[B])}}function initAttrs(r,x){let y=Object.create(null);if(x)for(let b in x)y[b]=new Attribute(r,b,x[b]);return y}let NodeType$1=class kh{constructor(x,y,b){this.name=x,this.schema=y,this.spec=b,this.markSet=null,this.groups=b.group?b.group.split(" "):[],this.attrs=initAttrs(x,b.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(b.inline||x=="text"),this.isText=x=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(x){return this.groups.indexOf(x)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let x in this.attrs)if(this.attrs[x].isRequired)return!0;return!1}compatibleContent(x){return this==x||this.contentMatch.compatible(x.contentMatch)}computeAttrs(x){return!x&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,x)}create(x=null,y,b){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$1(this,this.computeAttrs(x),Fragment.from(y),Mark$1.setFrom(b))}createChecked(x=null,y,b){return y=Fragment.from(y),this.checkContent(y),new Node$1(this,this.computeAttrs(x),y,Mark$1.setFrom(b))}createAndFill(x=null,y,b){if(x=this.computeAttrs(x),y=Fragment.from(y),y.size){let I=this.contentMatch.fillBefore(y);if(!I)return null;y=I.append(y)}let B=this.contentMatch.matchFragment(y),R=B&&B.fillBefore(Fragment.empty,!0);return R?new Node$1(this,x,y.append(R),Mark$1.setFrom(b)):null}validContent(x){let y=this.contentMatch.matchFragment(x);if(!y||!y.validEnd)return!1;for(let b=0;b<x.childCount;b++)if(!this.allowsMarks(x.child(b).marks))return!1;return!0}checkContent(x){if(!this.validContent(x))throw new RangeError(`Invalid content for node ${this.name}: ${x.toString().slice(0,50)}`)}checkAttrs(x){checkAttrs(this.attrs,x,"node",this.name)}allowsMarkType(x){return this.markSet==null||this.markSet.indexOf(x)>-1}allowsMarks(x){if(this.markSet==null)return!0;for(let y=0;y<x.length;y++)if(!this.allowsMarkType(x[y].type))return!1;return!0}allowedMarks(x){if(this.markSet==null)return x;let y;for(let b=0;b<x.length;b++)this.allowsMarkType(x[b].type)?y&&y.push(x[b]):y||(y=x.slice(0,b));return y?y.length?y:Mark$1.none:x}static compile(x,y){let b=Object.create(null);x.forEach((R,I)=>b[R]=new kh(R,y,I));let B=y.spec.topNode||"doc";if(!b[B])throw new RangeError("Schema is missing its top node type ('"+B+"')");if(!b.text)throw new RangeError("Every schema needs a 'text' type");for(let R in b.text.attrs)throw new RangeError("The text node type should not have attributes");return b}};function validateType(r,x,y){let b=y.split("|");return B=>{let R=B===null?"null":typeof B;if(b.indexOf(R)<0)throw new RangeError(`Expected value of type ${b} for attribute ${x} on type ${r}, got ${R}`)}}class Attribute{constructor(x,y,b){this.hasDefault=Object.prototype.hasOwnProperty.call(b,"default"),this.default=b.default,this.validate=typeof b.validate=="string"?validateType(x,y,b.validate):b.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(x,y,b,B){this.name=x,this.rank=y,this.schema=b,this.spec=B,this.attrs=initAttrs(x,B.attrs),this.excluded=null;let R=defaultAttrs(this.attrs);this.instance=R?new Mark$1(this,R):null}create(x=null){return!x&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,x))}static compile(x,y){let b=Object.create(null),B=0;return x.forEach((R,I)=>b[R]=new MarkType(R,B++,y,I)),b}removeFromSet(x){for(var y=0;y<x.length;y++)x[y].type==this&&(x=x.slice(0,y).concat(x.slice(y+1)),y--);return x}isInSet(x){for(let y=0;y<x.length;y++)if(x[y].type==this)return x[y]}checkAttrs(x){checkAttrs(this.attrs,x,"mark",this.name)}excludes(x){return this.excluded.indexOf(x)>-1}}class Schema{constructor(x){this.linebreakReplacement=null,this.cached=Object.create(null);let y=this.spec={};for(let B in x)y[B]=x[B];y.nodes=OrderedMap.from(x.nodes),y.marks=OrderedMap.from(x.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let b=Object.create(null);for(let B in this.nodes){if(B in this.marks)throw new RangeError(B+" can not be both a node and a mark");let R=this.nodes[B],I=R.spec.content||"",O=R.spec.marks;if(R.contentMatch=b[I]||(b[I]=ContentMatch.parse(I,this.nodes)),R.inlineContent=R.contentMatch.inlineContent,R.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!R.isInline||!R.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=R}R.markSet=O=="_"?null:O?gatherMarks(this,O.split(" ")):O==""||!R.inlineContent?[]:null}for(let B in this.marks){let R=this.marks[B],I=R.spec.excludes;R.excluded=I==null?[R]:I==""?[]:gatherMarks(this,I.split(" "))}this.nodeFromJSON=B=>Node$1.fromJSON(this,B),this.markFromJSON=B=>Mark$1.fromJSON(this,B),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(x,y=null,b,B){if(typeof x=="string")x=this.nodeType(x);else if(x instanceof NodeType$1){if(x.schema!=this)throw new RangeError("Node type from different schema used ("+x.name+")")}else throw new RangeError("Invalid node type: "+x);return x.createChecked(y,b,B)}text(x,y){let b=this.nodes.text;return new TextNode(b,b.defaultAttrs,x,Mark$1.setFrom(y))}mark(x,y){return typeof x=="string"&&(x=this.marks[x]),x.create(y)}nodeType(x){let y=this.nodes[x];if(!y)throw new RangeError("Unknown node type: "+x);return y}}function gatherMarks(r,x){let y=[];for(let b=0;b<x.length;b++){let B=x[b],R=r.marks[B],I=R;if(R)y.push(R);else for(let O in r.marks){let G=r.marks[O];(B=="_"||G.spec.group&&G.spec.group.split(" ").indexOf(B)>-1)&&y.push(I=G)}if(!I)throw new SyntaxError("Unknown mark type: '"+x[b]+"'")}return y}function isTagRule(r){return r.tag!=null}function isStyleRule(r){return r.style!=null}class DOMParser{constructor(x,y){this.schema=x,this.rules=y,this.tags=[],this.styles=[];let b=this.matchedStyles=[];y.forEach(B=>{if(isTagRule(B))this.tags.push(B);else if(isStyleRule(B)){let R=/[^=]*/.exec(B.style)[0];b.indexOf(R)<0&&b.push(R),this.styles.push(B)}}),this.normalizeLists=!this.tags.some(B=>{if(!/^(ul|ol)\b/.test(B.tag)||!B.node)return!1;let R=x.nodes[B.node];return R.contentMatch.matchType(R)})}parse(x,y={}){let b=new ParseContext(this,y,!1);return b.addAll(x,Mark$1.none,y.from,y.to),b.finish()}parseSlice(x,y={}){let b=new ParseContext(this,y,!0);return b.addAll(x,Mark$1.none,y.from,y.to),Slice.maxOpen(b.finish())}matchTag(x,y,b){for(let B=b?this.tags.indexOf(b)+1:0;B<this.tags.length;B++){let R=this.tags[B];if(matches(x,R.tag)&&(R.namespace===void 0||x.namespaceURI==R.namespace)&&(!R.context||y.matchesContext(R.context))){if(R.getAttrs){let I=R.getAttrs(x);if(I===!1)continue;R.attrs=I||void 0}return R}}}matchStyle(x,y,b,B){for(let R=B?this.styles.indexOf(B)+1:0;R<this.styles.length;R++){let I=this.styles[R],O=I.style;if(!(O.indexOf(x)!=0||I.context&&!b.matchesContext(I.context)||O.length>x.length&&(O.charCodeAt(x.length)!=61||O.slice(x.length+1)!=y))){if(I.getAttrs){let G=I.getAttrs(y);if(G===!1)continue;I.attrs=G||void 0}return I}}}static schemaRules(x){let y=[];function b(B){let R=B.priority==null?50:B.priority,I=0;for(;I<y.length;I++){let O=y[I];if((O.priority==null?50:O.priority)<R)break}y.splice(I,0,B)}for(let B in x.marks){let R=x.marks[B].spec.parseDOM;R&&R.forEach(I=>{b(I=copy(I)),I.mark||I.ignore||I.clearMark||(I.mark=B)})}for(let B in x.nodes){let R=x.nodes[B].spec.parseDOM;R&&R.forEach(I=>{b(I=copy(I)),I.node||I.ignore||I.mark||(I.node=B)})}return y}static fromSchema(x){return x.cached.domParser||(x.cached.domParser=new DOMParser(x,DOMParser.schemaRules(x)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(r,x,y){return x!=null?(x?OPT_PRESERVE_WS:0)|(x==="full"?OPT_PRESERVE_WS_FULL:0):r&&r.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:y&~OPT_OPEN_LEFT}class NodeContext{constructor(x,y,b,B,R,I){this.type=x,this.attrs=y,this.marks=b,this.solid=B,this.options=I,this.content=[],this.activeMarks=Mark$1.none,this.match=R||(I&OPT_OPEN_LEFT?null:x.contentMatch)}findWrapping(x){if(!this.match){if(!this.type)return[];let y=this.type.contentMatch.fillBefore(Fragment.from(x));if(y)this.match=this.type.contentMatch.matchFragment(y);else{let b=this.type.contentMatch,B;return(B=b.findWrapping(x.type))?(this.match=b,B):null}}return this.match.findWrapping(x.type)}finish(x){if(!(this.options&OPT_PRESERVE_WS)){let b=this.content[this.content.length-1],B;if(b&&b.isText&&(B=/[ \t\r\n\u000c]+$/.exec(b.text))){let R=b;b.text.length==B[0].length?this.content.pop():this.content[this.content.length-1]=R.withText(R.text.slice(0,R.text.length-B[0].length))}}let y=Fragment.from(this.content);return!x&&this.match&&(y=y.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,y,this.marks):y}inlineContext(x){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:x.parentNode&&!blockTags.hasOwnProperty(x.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(x,y,b){this.parser=x,this.options=y,this.isOpen=b,this.open=0,this.localPreserveWS=!1;let B=y.topNode,R,I=wsOptionsFor(null,y.preserveWhitespace,0)|(b?OPT_OPEN_LEFT:0);B?R=new NodeContext(B.type,B.attrs,Mark$1.none,!0,y.topMatch||B.type.contentMatch,I):b?R=new NodeContext(null,null,Mark$1.none,!0,null,I):R=new NodeContext(x.schema.topNodeType,null,Mark$1.none,!0,null,I),this.nodes=[R],this.find=y.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(x,y){x.nodeType==3?this.addTextNode(x,y):x.nodeType==1&&this.addElement(x,y)}addTextNode(x,y){let b=x.nodeValue,B=this.top,R=B.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(B.options&OPT_PRESERVE_WS)>0,{schema:I}=this.parser;if(R==="full"||B.inlineContext(x)||/[^ \t\r\n\u000c]/.test(b)){if(R)if(R==="full")b=b.replace(/\r\n?/g,`
`);else if(I.linebreakReplacement&&/[\r\n]/.test(b)&&this.top.findWrapping(I.linebreakReplacement.create())){let O=b.split(/\r?\n|\r/);for(let G=0;G<O.length;G++)G&&this.insertNode(I.linebreakReplacement.create(),y,!0),O[G]&&this.insertNode(I.text(O[G]),y,!/\S/.test(O[G]));b=""}else b=b.replace(/\r?\n|\r/g," ");else if(b=b.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(b)&&this.open==this.nodes.length-1){let O=B.content[B.content.length-1],G=x.previousSibling;(!O||G&&G.nodeName=="BR"||O.isText&&/[ \t\r\n\u000c]$/.test(O.text))&&(b=b.slice(1))}b&&this.insertNode(I.text(b),y,!/\S/.test(b)),this.findInText(x)}else this.findInside(x)}addElement(x,y,b){let B=this.localPreserveWS,R=this.top;(x.tagName=="PRE"||/pre/.test(x.style&&x.style.whiteSpace))&&(this.localPreserveWS=!0);let I=x.nodeName.toLowerCase(),O;listTags.hasOwnProperty(I)&&this.parser.normalizeLists&&normalizeList(x);let G=this.options.ruleFromNode&&this.options.ruleFromNode(x)||(O=this.parser.matchTag(x,this,b));e:if(G?G.ignore:ignoreTags.hasOwnProperty(I))this.findInside(x),this.ignoreFallback(x,y);else if(!G||G.skip||G.closeParent){G&&G.closeParent?this.open=Math.max(0,this.open-1):G&&G.skip.nodeType&&(x=G.skip);let q,ee=this.needsBlock;if(blockTags.hasOwnProperty(I))R.content.length&&R.content[0].isInline&&this.open&&(this.open--,R=this.top),q=!0,R.type||(this.needsBlock=!0);else if(!x.firstChild){this.leafFallback(x,y);break e}let ne=G&&G.skip?y:this.readStyles(x,y);ne&&this.addAll(x,ne),q&&this.sync(R),this.needsBlock=ee}else{let q=this.readStyles(x,y);q&&this.addElementByRule(x,G,q,G.consuming===!1?O:void 0)}this.localPreserveWS=B}leafFallback(x,y){x.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(x.ownerDocument.createTextNode(`
`),y)}ignoreFallback(x,y){x.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),y,!0)}readStyles(x,y){let b=x.style;if(b&&b.length)for(let B=0;B<this.parser.matchedStyles.length;B++){let R=this.parser.matchedStyles[B],I=b.getPropertyValue(R);if(I)for(let O=void 0;;){let G=this.parser.matchStyle(R,I,this,O);if(!G)break;if(G.ignore)return null;if(G.clearMark?y=y.filter(q=>!G.clearMark(q)):y=y.concat(this.parser.schema.marks[G.mark].create(G.attrs)),G.consuming===!1)O=G;else break}}return y}addElementByRule(x,y,b,B){let R,I;if(y.node)if(I=this.parser.schema.nodes[y.node],I.isLeaf)this.insertNode(I.create(y.attrs),b,x.nodeName=="BR")||this.leafFallback(x,b);else{let G=this.enter(I,y.attrs||null,b,y.preserveWhitespace);G&&(R=!0,b=G)}else{let G=this.parser.schema.marks[y.mark];b=b.concat(G.create(y.attrs))}let O=this.top;if(I&&I.isLeaf)this.findInside(x);else if(B)this.addElement(x,b,B);else if(y.getContent)this.findInside(x),y.getContent(x,this.parser.schema).forEach(G=>this.insertNode(G,b,!1));else{let G=x;typeof y.contentElement=="string"?G=x.querySelector(y.contentElement):typeof y.contentElement=="function"?G=y.contentElement(x):y.contentElement&&(G=y.contentElement),this.findAround(x,G,!0),this.addAll(G,b),this.findAround(x,G,!1)}R&&this.sync(O)&&this.open--}addAll(x,y,b,B){let R=b||0;for(let I=b?x.childNodes[b]:x.firstChild,O=B==null?null:x.childNodes[B];I!=O;I=I.nextSibling,++R)this.findAtPoint(x,R),this.addDOM(I,y);this.findAtPoint(x,R)}findPlace(x,y,b){let B,R;for(let I=this.open,O=0;I>=0;I--){let G=this.nodes[I],q=G.findWrapping(x);if(q&&(!B||B.length>q.length+O)&&(B=q,R=G,!q.length))break;if(G.solid){if(b)break;O+=2}}if(!B)return null;this.sync(R);for(let I=0;I<B.length;I++)y=this.enterInner(B[I],null,y,!1);return y}insertNode(x,y,b){if(x.isInline&&this.needsBlock&&!this.top.type){let R=this.textblockFromContext();R&&(y=this.enterInner(R,null,y))}let B=this.findPlace(x,y,b);if(B){this.closeExtra();let R=this.top;R.match&&(R.match=R.match.matchType(x.type));let I=Mark$1.none;for(let O of B.concat(x.marks))(R.type?R.type.allowsMarkType(O.type):markMayApply(O.type,x.type))&&(I=O.addToSet(I));return R.content.push(x.mark(I)),!0}return!1}enter(x,y,b,B){let R=this.findPlace(x.create(y),b,!1);return R&&(R=this.enterInner(x,y,b,!0,B)),R}enterInner(x,y,b,B=!1,R){this.closeExtra();let I=this.top;I.match=I.match&&I.match.matchType(x);let O=wsOptionsFor(x,R,I.options);I.options&OPT_OPEN_LEFT&&I.content.length==0&&(O|=OPT_OPEN_LEFT);let G=Mark$1.none;return b=b.filter(q=>(I.type?I.type.allowsMarkType(q.type):markMayApply(q.type,x))?(G=q.addToSet(G),!1):!0),this.nodes.push(new NodeContext(x,y,G,B,null,O)),this.open++,b}closeExtra(x=!1){let y=this.nodes.length-1;if(y>this.open){for(;y>this.open;y--)this.nodes[y-1].content.push(this.nodes[y].finish(x));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(x){for(let y=this.open;y>=0;y--){if(this.nodes[y]==x)return this.open=y,!0;this.localPreserveWS&&(this.nodes[y].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let x=0;for(let y=this.open;y>=0;y--){let b=this.nodes[y].content;for(let B=b.length-1;B>=0;B--)x+=b[B].nodeSize;y&&x++}return x}findAtPoint(x,y){if(this.find)for(let b=0;b<this.find.length;b++)this.find[b].node==x&&this.find[b].offset==y&&(this.find[b].pos=this.currentPos)}findInside(x){if(this.find)for(let y=0;y<this.find.length;y++)this.find[y].pos==null&&x.nodeType==1&&x.contains(this.find[y].node)&&(this.find[y].pos=this.currentPos)}findAround(x,y,b){if(x!=y&&this.find)for(let B=0;B<this.find.length;B++)this.find[B].pos==null&&x.nodeType==1&&x.contains(this.find[B].node)&&y.compareDocumentPosition(this.find[B].node)&(b?2:4)&&(this.find[B].pos=this.currentPos)}findInText(x){if(this.find)for(let y=0;y<this.find.length;y++)this.find[y].node==x&&(this.find[y].pos=this.currentPos-(x.nodeValue.length-this.find[y].offset))}matchesContext(x){if(x.indexOf("|")>-1)return x.split(/\s*\|\s*/).some(this.matchesContext,this);let y=x.split("/"),b=this.options.context,B=!this.isOpen&&(!b||b.parent.type==this.nodes[0].type),R=-(b?b.depth+1:0)+(B?0:1),I=(O,G)=>{for(;O>=0;O--){let q=y[O];if(q==""){if(O==y.length-1||O==0)continue;for(;G>=R;G--)if(I(O-1,G))return!0;return!1}else{let ee=G>0||G==0&&B?this.nodes[G].type:b&&G>=R?b.node(G-R).type:null;if(!ee||ee.name!=q&&!ee.isInGroup(q))return!1;G--}}return!0};return I(y.length-1,this.open)}textblockFromContext(){let x=this.options.context;if(x)for(let y=x.depth;y>=0;y--){let b=x.node(y).contentMatchAt(x.indexAfter(y)).defaultType;if(b&&b.isTextblock&&b.defaultAttrs)return b}for(let y in this.parser.schema.nodes){let b=this.parser.schema.nodes[y];if(b.isTextblock&&b.defaultAttrs)return b}}}function normalizeList(r){for(let x=r.firstChild,y=null;x;x=x.nextSibling){let b=x.nodeType==1?x.nodeName.toLowerCase():null;b&&listTags.hasOwnProperty(b)&&y?(y.appendChild(x),x=y):b=="li"?y=x:b&&(y=null)}}function matches(r,x){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,x)}function copy(r){let x={};for(let y in r)x[y]=r[y];return x}function markMayApply(r,x){let y=x.schema.nodes;for(let b in y){let B=y[b];if(!B.allowsMarkType(r))continue;let R=[],I=O=>{R.push(O);for(let G=0;G<O.edgeCount;G++){let{type:q,next:ee}=O.edge(G);if(q==x||R.indexOf(ee)<0&&I(ee))return!0}};if(I(B.contentMatch))return!0}}class DOMSerializer{constructor(x,y){this.nodes=x,this.marks=y}serializeFragment(x,y={},b){b||(b=doc$1(y).createDocumentFragment());let B=b,R=[];return x.forEach(I=>{if(R.length||I.marks.length){let O=0,G=0;for(;O<R.length&&G<I.marks.length;){let q=I.marks[G];if(!this.marks[q.type.name]){G++;continue}if(!q.eq(R[O][0])||q.type.spec.spanning===!1)break;O++,G++}for(;O<R.length;)B=R.pop()[1];for(;G<I.marks.length;){let q=I.marks[G++],ee=this.serializeMark(q,I.isInline,y);ee&&(R.push([q,B]),B.appendChild(ee.dom),B=ee.contentDOM||ee.dom)}}B.appendChild(this.serializeNodeInner(I,y))}),b}serializeNodeInner(x,y){let{dom:b,contentDOM:B}=renderSpec(doc$1(y),this.nodes[x.type.name](x),null,x.attrs);if(B){if(x.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(x.content,y,B)}return b}serializeNode(x,y={}){let b=this.serializeNodeInner(x,y);for(let B=x.marks.length-1;B>=0;B--){let R=this.serializeMark(x.marks[B],x.isInline,y);R&&((R.contentDOM||R.dom).appendChild(b),b=R.dom)}return b}serializeMark(x,y,b={}){let B=this.marks[x.type.name];return B&&renderSpec(doc$1(b),B(x,y),null,x.attrs)}static renderSpec(x,y,b=null,B){return renderSpec(x,y,b,B)}static fromSchema(x){return x.cached.domSerializer||(x.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(x),this.marksFromSchema(x)))}static nodesFromSchema(x){let y=gatherToDOM(x.nodes);return y.text||(y.text=b=>b.text),y}static marksFromSchema(x){return gatherToDOM(x.marks)}}function gatherToDOM(r){let x={};for(let y in r){let b=r[y].spec.toDOM;b&&(x[y]=b)}return x}function doc$1(r){return r.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(r){let x=suspiciousAttributeCache.get(r);return x===void 0&&suspiciousAttributeCache.set(r,x=suspiciousAttributesInner(r)),x}function suspiciousAttributesInner(r){let x=null;function y(b){if(b&&typeof b=="object")if(Array.isArray(b))if(typeof b[0]=="string")x||(x=[]),x.push(b);else for(let B=0;B<b.length;B++)y(b[B]);else for(let B in b)y(b[B])}return y(r),x}function renderSpec(r,x,y,b){if(typeof x=="string")return{dom:r.createTextNode(x)};if(x.nodeType!=null)return{dom:x};if(x.dom&&x.dom.nodeType!=null)return x;let B=x[0],R;if(typeof B!="string")throw new RangeError("Invalid array passed to renderSpec");if(b&&(R=suspiciousAttributes(b))&&R.indexOf(x)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let I=B.indexOf(" ");I>0&&(y=B.slice(0,I),B=B.slice(I+1));let O,G=y?r.createElementNS(y,B):r.createElement(B),q=x[1],ee=1;if(q&&typeof q=="object"&&q.nodeType==null&&!Array.isArray(q)){ee=2;for(let ne in q)if(q[ne]!=null){let oe=ne.indexOf(" ");oe>0?G.setAttributeNS(ne.slice(0,oe),ne.slice(oe+1),q[ne]):ne=="style"&&G.style?G.style.cssText=q[ne]:G.setAttribute(ne,q[ne])}}for(let ne=ee;ne<x.length;ne++){let oe=x[ne];if(oe===0){if(ne<x.length-1||ne>ee)throw new RangeError("Content hole must be the only child of its parent node");return{dom:G,contentDOM:G}}else{let{dom:pe,contentDOM:xe}=renderSpec(r,oe,y,b);if(G.appendChild(pe),xe){if(O)throw new RangeError("Multiple content holes");O=xe}}}return{dom:G,contentDOM:O}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(r,x){return r+x*factor16}function recoverIndex(r){return r&lower16}function recoverOffset(r){return(r-(r&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(x,y,b){this.pos=x,this.delInfo=y,this.recover=b}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(x,y=!1){if(this.ranges=x,this.inverted=y,!x.length&&StepMap.empty)return StepMap.empty}recover(x){let y=0,b=recoverIndex(x);if(!this.inverted)for(let B=0;B<b;B++)y+=this.ranges[B*3+2]-this.ranges[B*3+1];return this.ranges[b*3]+y+recoverOffset(x)}mapResult(x,y=1){return this._map(x,y,!1)}map(x,y=1){return this._map(x,y,!0)}_map(x,y,b){let B=0,R=this.inverted?2:1,I=this.inverted?1:2;for(let O=0;O<this.ranges.length;O+=3){let G=this.ranges[O]-(this.inverted?B:0);if(G>x)break;let q=this.ranges[O+R],ee=this.ranges[O+I],ne=G+q;if(x<=ne){let oe=q?x==G?-1:x==ne?1:y:y,pe=G+B+(oe<0?0:ee);if(b)return pe;let xe=x==(y<0?G:ne)?null:makeRecover(O/3,x-G),_e=x==G?DEL_AFTER:x==ne?DEL_BEFORE:DEL_ACROSS;return(y<0?x!=G:x!=ne)&&(_e|=DEL_SIDE),new MapResult(pe,_e,xe)}B+=ee-q}return b?x+B:new MapResult(x+B,0,null)}touches(x,y){let b=0,B=recoverIndex(y),R=this.inverted?2:1,I=this.inverted?1:2;for(let O=0;O<this.ranges.length;O+=3){let G=this.ranges[O]-(this.inverted?b:0);if(G>x)break;let q=this.ranges[O+R],ee=G+q;if(x<=ee&&O==B*3)return!0;b+=this.ranges[O+I]-q}return!1}forEach(x){let y=this.inverted?2:1,b=this.inverted?1:2;for(let B=0,R=0;B<this.ranges.length;B+=3){let I=this.ranges[B],O=I-(this.inverted?R:0),G=I+(this.inverted?0:R),q=this.ranges[B+y],ee=this.ranges[B+b];x(O,O+q,G,G+ee),R+=ee-q}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(x){return x==0?StepMap.empty:new StepMap(x<0?[0,-x,0]:[0,0,x])}}StepMap.empty=new StepMap([]);class Mapping{constructor(x,y,b=0,B=x?x.length:0){this.mirror=y,this.from=b,this.to=B,this._maps=x||[],this.ownData=!(x||y)}get maps(){return this._maps}slice(x=0,y=this.maps.length){return new Mapping(this._maps,this.mirror,x,y)}appendMap(x,y){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(x),y!=null&&this.setMirror(this._maps.length-1,y)}appendMapping(x){for(let y=0,b=this._maps.length;y<x._maps.length;y++){let B=x.getMirror(y);this.appendMap(x._maps[y],B!=null&&B<y?b+B:void 0)}}getMirror(x){if(this.mirror){for(let y=0;y<this.mirror.length;y++)if(this.mirror[y]==x)return this.mirror[y+(y%2?-1:1)]}}setMirror(x,y){this.mirror||(this.mirror=[]),this.mirror.push(x,y)}appendMappingInverted(x){for(let y=x.maps.length-1,b=this._maps.length+x._maps.length;y>=0;y--){let B=x.getMirror(y);this.appendMap(x._maps[y].invert(),B!=null&&B>y?b-B-1:void 0)}}invert(){let x=new Mapping;return x.appendMappingInverted(this),x}map(x,y=1){if(this.mirror)return this._map(x,y,!0);for(let b=this.from;b<this.to;b++)x=this._maps[b].map(x,y);return x}mapResult(x,y=1){return this._map(x,y,!1)}_map(x,y,b){let B=0;for(let R=this.from;R<this.to;R++){let I=this._maps[R],O=I.mapResult(x,y);if(O.recover!=null){let G=this.getMirror(R);if(G!=null&&G>R&&G<this.to){R=G,x=this._maps[G].recover(O.recover);continue}}B|=O.delInfo,x=O.pos}return b?x:new MapResult(x,B,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(x){return null}static fromJSON(x,y){if(!y||!y.stepType)throw new RangeError("Invalid input for Step.fromJSON");let b=stepsByID[y.stepType];if(!b)throw new RangeError(`No step type ${y.stepType} defined`);return b.fromJSON(x,y)}static jsonID(x,y){if(x in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+x);return stepsByID[x]=y,y.prototype.jsonID=x,y}}class StepResult{constructor(x,y){this.doc=x,this.failed=y}static ok(x){return new StepResult(x,null)}static fail(x){return new StepResult(null,x)}static fromReplace(x,y,b,B){try{return StepResult.ok(x.replace(y,b,B))}catch(R){if(R instanceof ReplaceError)return StepResult.fail(R.message);throw R}}}function mapFragment(r,x,y){let b=[];for(let B=0;B<r.childCount;B++){let R=r.child(B);R.content.size&&(R=R.copy(mapFragment(R.content,x,R))),R.isInline&&(R=x(R,y,B)),b.push(R)}return Fragment.fromArray(b)}class AddMarkStep extends Step{constructor(x,y,b){super(),this.from=x,this.to=y,this.mark=b}apply(x){let y=x.slice(this.from,this.to),b=x.resolve(this.from),B=b.node(b.sharedDepth(this.to)),R=new Slice(mapFragment(y.content,(I,O)=>!I.isAtom||!O.type.allowsMarkType(this.mark.type)?I:I.mark(this.mark.addToSet(I.marks)),B),y.openStart,y.openEnd);return StepResult.fromReplace(x,this.from,this.to,R)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(x){let y=x.mapResult(this.from,1),b=x.mapResult(this.to,-1);return y.deleted&&b.deleted||y.pos>=b.pos?null:new AddMarkStep(y.pos,b.pos,this.mark)}merge(x){return x instanceof AddMarkStep&&x.mark.eq(this.mark)&&this.from<=x.to&&this.to>=x.from?new AddMarkStep(Math.min(this.from,x.from),Math.max(this.to,x.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(x,y){if(typeof y.from!="number"||typeof y.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(y.from,y.to,x.markFromJSON(y.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(x,y,b){super(),this.from=x,this.to=y,this.mark=b}apply(x){let y=x.slice(this.from,this.to),b=new Slice(mapFragment(y.content,B=>B.mark(this.mark.removeFromSet(B.marks)),x),y.openStart,y.openEnd);return StepResult.fromReplace(x,this.from,this.to,b)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(x){let y=x.mapResult(this.from,1),b=x.mapResult(this.to,-1);return y.deleted&&b.deleted||y.pos>=b.pos?null:new RemoveMarkStep(y.pos,b.pos,this.mark)}merge(x){return x instanceof RemoveMarkStep&&x.mark.eq(this.mark)&&this.from<=x.to&&this.to>=x.from?new RemoveMarkStep(Math.min(this.from,x.from),Math.max(this.to,x.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(x,y){if(typeof y.from!="number"||typeof y.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(y.from,y.to,x.markFromJSON(y.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(x,y){super(),this.pos=x,this.mark=y}apply(x){let y=x.nodeAt(this.pos);if(!y)return StepResult.fail("No node at mark step's position");let b=y.type.create(y.attrs,null,this.mark.addToSet(y.marks));return StepResult.fromReplace(x,this.pos,this.pos+1,new Slice(Fragment.from(b),0,y.isLeaf?0:1))}invert(x){let y=x.nodeAt(this.pos);if(y){let b=this.mark.addToSet(y.marks);if(b.length==y.marks.length){for(let B=0;B<y.marks.length;B++)if(!y.marks[B].isInSet(b))return new AddNodeMarkStep(this.pos,y.marks[B]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(x){let y=x.mapResult(this.pos,1);return y.deletedAfter?null:new AddNodeMarkStep(y.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(x,y){if(typeof y.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(y.pos,x.markFromJSON(y.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(x,y){super(),this.pos=x,this.mark=y}apply(x){let y=x.nodeAt(this.pos);if(!y)return StepResult.fail("No node at mark step's position");let b=y.type.create(y.attrs,null,this.mark.removeFromSet(y.marks));return StepResult.fromReplace(x,this.pos,this.pos+1,new Slice(Fragment.from(b),0,y.isLeaf?0:1))}invert(x){let y=x.nodeAt(this.pos);return!y||!this.mark.isInSet(y.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(x){let y=x.mapResult(this.pos,1);return y.deletedAfter?null:new RemoveNodeMarkStep(y.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(x,y){if(typeof y.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(y.pos,x.markFromJSON(y.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(x,y,b,B=!1){super(),this.from=x,this.to=y,this.slice=b,this.structure=B}apply(x){return this.structure&&contentBetween(x,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(x,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(x){return new ReplaceStep(this.from,this.from+this.slice.size,x.slice(this.from,this.to))}map(x){let y=x.mapResult(this.from,1),b=x.mapResult(this.to,-1);return y.deletedAcross&&b.deletedAcross?null:new ReplaceStep(y.pos,Math.max(y.pos,b.pos),this.slice,this.structure)}merge(x){if(!(x instanceof ReplaceStep)||x.structure||this.structure)return null;if(this.from+this.slice.size==x.from&&!this.slice.openEnd&&!x.slice.openStart){let y=this.slice.size+x.slice.size==0?Slice.empty:new Slice(this.slice.content.append(x.slice.content),this.slice.openStart,x.slice.openEnd);return new ReplaceStep(this.from,this.to+(x.to-x.from),y,this.structure)}else if(x.to==this.from&&!this.slice.openStart&&!x.slice.openEnd){let y=this.slice.size+x.slice.size==0?Slice.empty:new Slice(x.slice.content.append(this.slice.content),x.slice.openStart,this.slice.openEnd);return new ReplaceStep(x.from,this.to,y,this.structure)}else return null}toJSON(){let x={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(x.slice=this.slice.toJSON()),this.structure&&(x.structure=!0),x}static fromJSON(x,y){if(typeof y.from!="number"||typeof y.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(y.from,y.to,Slice.fromJSON(x,y.slice),!!y.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(x,y,b,B,R,I,O=!1){super(),this.from=x,this.to=y,this.gapFrom=b,this.gapTo=B,this.slice=R,this.insert=I,this.structure=O}apply(x){if(this.structure&&(contentBetween(x,this.from,this.gapFrom)||contentBetween(x,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let y=x.slice(this.gapFrom,this.gapTo);if(y.openStart||y.openEnd)return StepResult.fail("Gap is not a flat range");let b=this.slice.insertAt(this.insert,y.content);return b?StepResult.fromReplace(x,this.from,this.to,b):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(x){let y=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+y,this.from+this.insert,this.from+this.insert+y,x.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(x){let y=x.mapResult(this.from,1),b=x.mapResult(this.to,-1),B=this.from==this.gapFrom?y.pos:x.map(this.gapFrom,-1),R=this.to==this.gapTo?b.pos:x.map(this.gapTo,1);return y.deletedAcross&&b.deletedAcross||B<y.pos||R>b.pos?null:new ReplaceAroundStep(y.pos,b.pos,B,R,this.slice,this.insert,this.structure)}toJSON(){let x={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(x.slice=this.slice.toJSON()),this.structure&&(x.structure=!0),x}static fromJSON(x,y){if(typeof y.from!="number"||typeof y.to!="number"||typeof y.gapFrom!="number"||typeof y.gapTo!="number"||typeof y.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(y.from,y.to,y.gapFrom,y.gapTo,Slice.fromJSON(x,y.slice),y.insert,!!y.structure)}}Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(r,x,y){let b=r.resolve(x),B=y-x,R=b.depth;for(;B>0&&R>0&&b.indexAfter(R)==b.node(R).childCount;)R--,B--;if(B>0){let I=b.node(R).maybeChild(b.indexAfter(R));for(;B>0;){if(!I||I.isLeaf)return!0;I=I.firstChild,B--}}return!1}function addMark(r,x,y,b){let B=[],R=[],I,O;r.doc.nodesBetween(x,y,(G,q,ee)=>{if(!G.isInline)return;let ne=G.marks;if(!b.isInSet(ne)&&ee.type.allowsMarkType(b.type)){let oe=Math.max(q,x),pe=Math.min(q+G.nodeSize,y),xe=b.addToSet(ne);for(let _e=0;_e<ne.length;_e++)ne[_e].isInSet(xe)||(I&&I.to==oe&&I.mark.eq(ne[_e])?I.to=pe:B.push(I=new RemoveMarkStep(oe,pe,ne[_e])));O&&O.to==oe?O.to=pe:R.push(O=new AddMarkStep(oe,pe,b))}}),B.forEach(G=>r.step(G)),R.forEach(G=>r.step(G))}function removeMark(r,x,y,b){let B=[],R=0;r.doc.nodesBetween(x,y,(I,O)=>{if(!I.isInline)return;R++;let G=null;if(b instanceof MarkType){let q=I.marks,ee;for(;ee=b.isInSet(q);)(G||(G=[])).push(ee),q=ee.removeFromSet(q)}else b?b.isInSet(I.marks)&&(G=[b]):G=I.marks;if(G&&G.length){let q=Math.min(O+I.nodeSize,y);for(let ee=0;ee<G.length;ee++){let ne=G[ee],oe;for(let pe=0;pe<B.length;pe++){let xe=B[pe];xe.step==R-1&&ne.eq(B[pe].style)&&(oe=xe)}oe?(oe.to=q,oe.step=R):B.push({style:ne,from:Math.max(O,x),to:q,step:R})}}}),B.forEach(I=>r.step(new RemoveMarkStep(I.from,I.to,I.style)))}function clearIncompatible(r,x,y,b=y.contentMatch,B=!0){let R=r.doc.nodeAt(x),I=[],O=x+1;for(let G=0;G<R.childCount;G++){let q=R.child(G),ee=O+q.nodeSize,ne=b.matchType(q.type);if(!ne)I.push(new ReplaceStep(O,ee,Slice.empty));else{b=ne;for(let oe=0;oe<q.marks.length;oe++)y.allowsMarkType(q.marks[oe].type)||r.step(new RemoveMarkStep(O,ee,q.marks[oe]));if(B&&q.isText&&y.whitespace!="pre"){let oe,pe=/\r?\n|\r/g,xe;for(;oe=pe.exec(q.text);)xe||(xe=new Slice(Fragment.from(y.schema.text(" ",y.allowedMarks(q.marks))),0,0)),I.push(new ReplaceStep(O+oe.index,O+oe.index+oe[0].length,xe))}}O=ee}if(!b.validEnd){let G=b.fillBefore(Fragment.empty,!0);r.replace(O,O,new Slice(G,0,0))}for(let G=I.length-1;G>=0;G--)r.step(I[G])}function canCut(r,x,y){return(x==0||r.canReplace(x,r.childCount))&&(y==r.childCount||r.canReplace(0,y))}function liftTarget(r){let y=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let b=r.depth,B=0,R=0;;--b){let I=r.$from.node(b),O=r.$from.index(b)+B,G=r.$to.indexAfter(b)-R;if(b<r.depth&&I.canReplace(O,G,y))return b;if(b==0||I.type.spec.isolating||!canCut(I,O,G))break;O&&(B=1),G<I.childCount&&(R=1)}return null}function lift$2(r,x,y){let{$from:b,$to:B,depth:R}=x,I=b.before(R+1),O=B.after(R+1),G=I,q=O,ee=Fragment.empty,ne=0;for(let xe=R,_e=!1;xe>y;xe--)_e||b.index(xe)>0?(_e=!0,ee=Fragment.from(b.node(xe).copy(ee)),ne++):G--;let oe=Fragment.empty,pe=0;for(let xe=R,_e=!1;xe>y;xe--)_e||B.after(xe+1)<B.end(xe)?(_e=!0,oe=Fragment.from(B.node(xe).copy(oe)),pe++):q++;r.step(new ReplaceAroundStep(G,q,I,O,new Slice(ee.append(oe),ne,pe),ee.size-ne,!0))}function findWrapping(r,x,y=null,b=r){let B=findWrappingOutside(r,x),R=B&&findWrappingInside(b,x);return R?B.map(withAttrs).concat({type:x,attrs:y}).concat(R.map(withAttrs)):null}function withAttrs(r){return{type:r,attrs:null}}function findWrappingOutside(r,x){let{parent:y,startIndex:b,endIndex:B}=r,R=y.contentMatchAt(b).findWrapping(x);if(!R)return null;let I=R.length?R[0]:x;return y.canReplaceWith(b,B,I)?R:null}function findWrappingInside(r,x){let{parent:y,startIndex:b,endIndex:B}=r,R=y.child(b),I=x.contentMatch.findWrapping(R.type);if(!I)return null;let G=(I.length?I[I.length-1]:x).contentMatch;for(let q=b;G&&q<B;q++)G=G.matchType(y.child(q).type);return!G||!G.validEnd?null:I}function wrap(r,x,y){let b=Fragment.empty;for(let I=y.length-1;I>=0;I--){if(b.size){let O=y[I].type.contentMatch.matchFragment(b);if(!O||!O.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}b=Fragment.from(y[I].type.create(y[I].attrs,b))}let B=x.start,R=x.end;r.step(new ReplaceAroundStep(B,R,B,R,new Slice(b,0,0),y.length,!0))}function setBlockType$1(r,x,y,b,B){if(!b.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let R=r.steps.length;r.doc.nodesBetween(x,y,(I,O)=>{let G=typeof B=="function"?B(I):B;if(I.isTextblock&&!I.hasMarkup(b,G)&&canChangeType(r.doc,r.mapping.slice(R).map(O),b)){let q=null;if(b.schema.linebreakReplacement){let pe=b.whitespace=="pre",xe=!!b.contentMatch.matchType(b.schema.linebreakReplacement);pe&&!xe?q=!1:!pe&&xe&&(q=!0)}q===!1&&replaceLinebreaks(r,I,O,R),clearIncompatible(r,r.mapping.slice(R).map(O,1),b,void 0,q===null);let ee=r.mapping.slice(R),ne=ee.map(O,1),oe=ee.map(O+I.nodeSize,1);return r.step(new ReplaceAroundStep(ne,oe,ne+1,oe-1,new Slice(Fragment.from(b.create(G,null,I.marks)),0,0),1,!0)),q===!0&&replaceNewlines(r,I,O,R),!1}})}function replaceNewlines(r,x,y,b){x.forEach((B,R)=>{if(B.isText){let I,O=/\r?\n|\r/g;for(;I=O.exec(B.text);){let G=r.mapping.slice(b).map(y+1+R+I.index);r.replaceWith(G,G+1,x.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(r,x,y,b){x.forEach((B,R)=>{if(B.type==B.type.schema.linebreakReplacement){let I=r.mapping.slice(b).map(y+1+R);r.replaceWith(I,I+1,x.type.schema.text(`
`))}})}function canChangeType(r,x,y){let b=r.resolve(x),B=b.index();return b.parent.canReplaceWith(B,B+1,y)}function setNodeMarkup(r,x,y,b,B){let R=r.doc.nodeAt(x);if(!R)throw new RangeError("No node at given position");y||(y=R.type);let I=y.create(b,null,B||R.marks);if(R.isLeaf)return r.replaceWith(x,x+R.nodeSize,I);if(!y.validContent(R.content))throw new RangeError("Invalid content for node type "+y.name);r.step(new ReplaceAroundStep(x,x+R.nodeSize,x+1,x+R.nodeSize-1,new Slice(Fragment.from(I),0,0),1,!0))}function canSplit(r,x,y=1,b){let B=r.resolve(x),R=B.depth-y,I=b&&b[b.length-1]||B.parent;if(R<0||B.parent.type.spec.isolating||!B.parent.canReplace(B.index(),B.parent.childCount)||!I.type.validContent(B.parent.content.cutByIndex(B.index(),B.parent.childCount)))return!1;for(let q=B.depth-1,ee=y-2;q>R;q--,ee--){let ne=B.node(q),oe=B.index(q);if(ne.type.spec.isolating)return!1;let pe=ne.content.cutByIndex(oe,ne.childCount),xe=b&&b[ee+1];xe&&(pe=pe.replaceChild(0,xe.type.create(xe.attrs)));let _e=b&&b[ee]||ne;if(!ne.canReplace(oe+1,ne.childCount)||!_e.type.validContent(pe))return!1}let O=B.indexAfter(R),G=b&&b[0];return B.node(R).canReplaceWith(O,O,G?G.type:B.node(R+1).type)}function split(r,x,y=1,b){let B=r.doc.resolve(x),R=Fragment.empty,I=Fragment.empty;for(let O=B.depth,G=B.depth-y,q=y-1;O>G;O--,q--){R=Fragment.from(B.node(O).copy(R));let ee=b&&b[q];I=Fragment.from(ee?ee.type.create(ee.attrs,I):B.node(O).copy(I))}r.step(new ReplaceStep(x,x,new Slice(R.append(I),y,y),!0))}function canJoin(r,x){let y=r.resolve(x),b=y.index();return joinable(y.nodeBefore,y.nodeAfter)&&y.parent.canReplace(b,b+1)}function canAppendWithSubstitutedLinebreaks(r,x){x.content.size||r.type.compatibleContent(x.type);let y=r.contentMatchAt(r.childCount),{linebreakReplacement:b}=r.type.schema;for(let B=0;B<x.childCount;B++){let R=x.child(B),I=R.type==b?r.type.schema.nodes.text:R.type;if(y=y.matchType(I),!y||!r.type.allowsMarks(R.marks))return!1}return y.validEnd}function joinable(r,x){return!!(r&&x&&!r.isLeaf&&canAppendWithSubstitutedLinebreaks(r,x))}function joinPoint(r,x,y=-1){let b=r.resolve(x);for(let B=b.depth;;B--){let R,I,O=b.index(B);if(B==b.depth?(R=b.nodeBefore,I=b.nodeAfter):y>0?(R=b.node(B+1),O++,I=b.node(B).maybeChild(O)):(R=b.node(B).maybeChild(O-1),I=b.node(B+1)),R&&!R.isTextblock&&joinable(R,I)&&b.node(B).canReplace(O,O+1))return x;if(B==0)break;x=y<0?b.before(B):b.after(B)}}function join(r,x,y){let b=null,{linebreakReplacement:B}=r.doc.type.schema,R=r.doc.resolve(x-y),I=R.node().type;if(B&&I.inlineContent){let ee=I.whitespace=="pre",ne=!!I.contentMatch.matchType(B);ee&&!ne?b=!1:!ee&&ne&&(b=!0)}let O=r.steps.length;if(b===!1){let ee=r.doc.resolve(x+y);replaceLinebreaks(r,ee.node(),ee.before(),O)}I.inlineContent&&clearIncompatible(r,x+y-1,I,R.node().contentMatchAt(R.index()),b==null);let G=r.mapping.slice(O),q=G.map(x-y);if(r.step(new ReplaceStep(q,G.map(x+y,-1),Slice.empty,!0)),b===!0){let ee=r.doc.resolve(q);replaceNewlines(r,ee.node(),ee.before(),r.steps.length)}return r}function insertPoint(r,x,y){let b=r.resolve(x);if(b.parent.canReplaceWith(b.index(),b.index(),y))return x;if(b.parentOffset==0)for(let B=b.depth-1;B>=0;B--){let R=b.index(B);if(b.node(B).canReplaceWith(R,R,y))return b.before(B+1);if(R>0)return null}if(b.parentOffset==b.parent.content.size)for(let B=b.depth-1;B>=0;B--){let R=b.indexAfter(B);if(b.node(B).canReplaceWith(R,R,y))return b.after(B+1);if(R<b.node(B).childCount)return null}return null}function dropPoint(r,x,y){let b=r.resolve(x);if(!y.content.size)return x;let B=y.content;for(let R=0;R<y.openStart;R++)B=B.firstChild.content;for(let R=1;R<=(y.openStart==0&&y.size?2:1);R++)for(let I=b.depth;I>=0;I--){let O=I==b.depth?0:b.pos<=(b.start(I+1)+b.end(I+1))/2?-1:1,G=b.index(I)+(O>0?1:0),q=b.node(I),ee=!1;if(R==1)ee=q.canReplace(G,G,B);else{let ne=q.contentMatchAt(G).findWrapping(B.firstChild.type);ee=ne&&q.canReplaceWith(G,G,ne[0])}if(ee)return O==0?b.pos:O<0?b.before(I+1):b.after(I+1)}return null}function replaceStep(r,x,y=x,b=Slice.empty){if(x==y&&!b.size)return null;let B=r.resolve(x),R=r.resolve(y);return fitsTrivially(B,R,b)?new ReplaceStep(x,y,b):new Fitter(B,R,b).fit()}function fitsTrivially(r,x,y){return!y.openStart&&!y.openEnd&&r.start()==x.start()&&r.parent.canReplace(r.index(),x.index(),y.content)}class Fitter{constructor(x,y,b){this.$from=x,this.$to=y,this.unplaced=b,this.frontier=[],this.placed=Fragment.empty;for(let B=0;B<=x.depth;B++){let R=x.node(B);this.frontier.push({type:R.type,match:R.contentMatchAt(x.indexAfter(B))})}for(let B=x.depth;B>0;B--)this.placed=Fragment.from(x.node(B).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let q=this.findFittable();q?this.placeNodes(q):this.openMore()||this.dropNode()}let x=this.mustMoveInline(),y=this.placed.size-this.depth-this.$from.depth,b=this.$from,B=this.close(x<0?this.$to:b.doc.resolve(x));if(!B)return null;let R=this.placed,I=b.depth,O=B.depth;for(;I&&O&&R.childCount==1;)R=R.firstChild.content,I--,O--;let G=new Slice(R,I,O);return x>-1?new ReplaceAroundStep(b.pos,x,this.$to.pos,this.$to.end(),G,y):G.size||b.pos!=this.$to.pos?new ReplaceStep(b.pos,B.pos,G):null}findFittable(){let x=this.unplaced.openStart;for(let y=this.unplaced.content,b=0,B=this.unplaced.openEnd;b<x;b++){let R=y.firstChild;if(y.childCount>1&&(B=0),R.type.spec.isolating&&B<=b){x=b;break}y=R.content}for(let y=1;y<=2;y++)for(let b=y==1?x:this.unplaced.openStart;b>=0;b--){let B,R=null;b?(R=contentAt(this.unplaced.content,b-1).firstChild,B=R.content):B=this.unplaced.content;let I=B.firstChild;for(let O=this.depth;O>=0;O--){let{type:G,match:q}=this.frontier[O],ee,ne=null;if(y==1&&(I?q.matchType(I.type)||(ne=q.fillBefore(Fragment.from(I),!1)):R&&G.compatibleContent(R.type)))return{sliceDepth:b,frontierDepth:O,parent:R,inject:ne};if(y==2&&I&&(ee=q.findWrapping(I.type)))return{sliceDepth:b,frontierDepth:O,parent:R,wrap:ee};if(R&&q.matchType(R.type))break}}}openMore(){let{content:x,openStart:y,openEnd:b}=this.unplaced,B=contentAt(x,y);return!B.childCount||B.firstChild.isLeaf?!1:(this.unplaced=new Slice(x,y+1,Math.max(b,B.size+y>=x.size-b?y+1:0)),!0)}dropNode(){let{content:x,openStart:y,openEnd:b}=this.unplaced,B=contentAt(x,y);if(B.childCount<=1&&y>0){let R=x.size-y<=y+B.size;this.unplaced=new Slice(dropFromFragment(x,y-1,1),y-1,R?y-1:b)}else this.unplaced=new Slice(dropFromFragment(x,y,1),y,b)}placeNodes({sliceDepth:x,frontierDepth:y,parent:b,inject:B,wrap:R}){for(;this.depth>y;)this.closeFrontierNode();if(R)for(let _e=0;_e<R.length;_e++)this.openFrontierNode(R[_e]);let I=this.unplaced,O=b?b.content:I.content,G=I.openStart-x,q=0,ee=[],{match:ne,type:oe}=this.frontier[y];if(B){for(let _e=0;_e<B.childCount;_e++)ee.push(B.child(_e));ne=ne.matchFragment(B)}let pe=O.size+x-(I.content.size-I.openEnd);for(;q<O.childCount;){let _e=O.child(q),Ue=ne.matchType(_e.type);if(!Ue)break;q++,(q>1||G==0||_e.content.size)&&(ne=Ue,ee.push(closeNodeStart(_e.mark(oe.allowedMarks(_e.marks)),q==1?G:0,q==O.childCount?pe:-1)))}let xe=q==O.childCount;xe||(pe=-1),this.placed=addToFragment(this.placed,y,Fragment.from(ee)),this.frontier[y].match=ne,xe&&pe<0&&b&&b.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let _e=0,Ue=O;_e<pe;_e++){let Le=Ue.lastChild;this.frontier.push({type:Le.type,match:Le.contentMatchAt(Le.childCount)}),Ue=Le.content}this.unplaced=xe?x==0?Slice.empty:new Slice(dropFromFragment(I.content,x-1,1),x-1,pe<0?I.openEnd:x-1):new Slice(dropFromFragment(I.content,x,q),I.openStart,I.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let x=this.frontier[this.depth],y;if(!x.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,x.type,x.match,!1)||this.$to.depth==this.depth&&(y=this.findCloseLevel(this.$to))&&y.depth==this.depth)return-1;let{depth:b}=this.$to,B=this.$to.after(b);for(;b>1&&B==this.$to.end(--b);)++B;return B}findCloseLevel(x){e:for(let y=Math.min(this.depth,x.depth);y>=0;y--){let{match:b,type:B}=this.frontier[y],R=y<x.depth&&x.end(y+1)==x.pos+(x.depth-(y+1)),I=contentAfterFits(x,y,B,b,R);if(I){for(let O=y-1;O>=0;O--){let{match:G,type:q}=this.frontier[O],ee=contentAfterFits(x,O,q,G,!0);if(!ee||ee.childCount)continue e}return{depth:y,fit:I,move:R?x.doc.resolve(x.after(y+1)):x}}}}close(x){let y=this.findCloseLevel(x);if(!y)return null;for(;this.depth>y.depth;)this.closeFrontierNode();y.fit.childCount&&(this.placed=addToFragment(this.placed,y.depth,y.fit)),x=y.move;for(let b=y.depth+1;b<=x.depth;b++){let B=x.node(b),R=B.type.contentMatch.fillBefore(B.content,!0,x.index(b));this.openFrontierNode(B.type,B.attrs,R)}return x}openFrontierNode(x,y=null,b){let B=this.frontier[this.depth];B.match=B.match.matchType(x),this.placed=addToFragment(this.placed,this.depth,Fragment.from(x.create(y,b))),this.frontier.push({type:x,match:x.contentMatch})}closeFrontierNode(){let y=this.frontier.pop().match.fillBefore(Fragment.empty,!0);y.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,y))}}function dropFromFragment(r,x,y){return x==0?r.cutByIndex(y,r.childCount):r.replaceChild(0,r.firstChild.copy(dropFromFragment(r.firstChild.content,x-1,y)))}function addToFragment(r,x,y){return x==0?r.append(y):r.replaceChild(r.childCount-1,r.lastChild.copy(addToFragment(r.lastChild.content,x-1,y)))}function contentAt(r,x){for(let y=0;y<x;y++)r=r.firstChild.content;return r}function closeNodeStart(r,x,y){if(x<=0)return r;let b=r.content;return x>1&&(b=b.replaceChild(0,closeNodeStart(b.firstChild,x-1,b.childCount==1?y-1:0))),x>0&&(b=r.type.contentMatch.fillBefore(b).append(b),y<=0&&(b=b.append(r.type.contentMatch.matchFragment(b).fillBefore(Fragment.empty,!0)))),r.copy(b)}function contentAfterFits(r,x,y,b,B){let R=r.node(x),I=B?r.indexAfter(x):r.index(x);if(I==R.childCount&&!y.compatibleContent(R.type))return null;let O=b.fillBefore(R.content,!0,I);return O&&!invalidMarks(y,R.content,I)?O:null}function invalidMarks(r,x,y){for(let b=y;b<x.childCount;b++)if(!r.allowsMarks(x.child(b).marks))return!0;return!1}function definesContent(r){return r.spec.defining||r.spec.definingForContent}function replaceRange(r,x,y,b){if(!b.size)return r.deleteRange(x,y);let B=r.doc.resolve(x),R=r.doc.resolve(y);if(fitsTrivially(B,R,b))return r.step(new ReplaceStep(x,y,b));let I=coveredDepths(B,R);I[I.length-1]==0&&I.pop();let O=-(B.depth+1);I.unshift(O);for(let oe=B.depth,pe=B.pos-1;oe>0;oe--,pe--){let xe=B.node(oe).type.spec;if(xe.defining||xe.definingAsContext||xe.isolating)break;I.indexOf(oe)>-1?O=oe:B.before(oe)==pe&&I.splice(1,0,-oe)}let G=I.indexOf(O),q=[],ee=b.openStart;for(let oe=b.content,pe=0;;pe++){let xe=oe.firstChild;if(q.push(xe),pe==b.openStart)break;oe=xe.content}for(let oe=ee-1;oe>=0;oe--){let pe=q[oe],xe=definesContent(pe.type);if(xe&&!pe.sameMarkup(B.node(Math.abs(O)-1)))ee=oe;else if(xe||!pe.type.isTextblock)break}for(let oe=b.openStart;oe>=0;oe--){let pe=(oe+ee+1)%(b.openStart+1),xe=q[pe];if(xe)for(let _e=0;_e<I.length;_e++){let Ue=I[(_e+G)%I.length],Le=!0;Ue<0&&(Le=!1,Ue=-Ue);let He=B.node(Ue-1),$e=B.index(Ue-1);if(He.canReplaceWith($e,$e,xe.type,xe.marks))return r.replace(B.before(Ue),Le?R.after(Ue):y,new Slice(closeFragment(b.content,0,b.openStart,pe),pe,b.openEnd))}}let ne=r.steps.length;for(let oe=I.length-1;oe>=0&&(r.replace(x,y,b),!(r.steps.length>ne));oe--){let pe=I[oe];pe<0||(x=B.before(pe),y=R.after(pe))}}function closeFragment(r,x,y,b,B){if(x<y){let R=r.firstChild;r=r.replaceChild(0,R.copy(closeFragment(R.content,x+1,y,b,R)))}if(x>b){let R=B.contentMatchAt(0),I=R.fillBefore(r).append(r);r=I.append(R.matchFragment(I).fillBefore(Fragment.empty,!0))}return r}function replaceRangeWith(r,x,y,b){if(!b.isInline&&x==y&&r.doc.resolve(x).parent.content.size){let B=insertPoint(r.doc,x,b.type);B!=null&&(x=y=B)}r.replaceRange(x,y,new Slice(Fragment.from(b),0,0))}function deleteRange$1(r,x,y){let b=r.doc.resolve(x),B=r.doc.resolve(y),R=coveredDepths(b,B);for(let I=0;I<R.length;I++){let O=R[I],G=I==R.length-1;if(G&&O==0||b.node(O).type.contentMatch.validEnd)return r.delete(b.start(O),B.end(O));if(O>0&&(G||b.node(O-1).canReplace(b.index(O-1),B.indexAfter(O-1))))return r.delete(b.before(O),B.after(O))}for(let I=1;I<=b.depth&&I<=B.depth;I++)if(x-b.start(I)==b.depth-I&&y>b.end(I)&&B.end(I)-y!=B.depth-I&&b.start(I-1)==B.start(I-1)&&b.node(I-1).canReplace(b.index(I-1),B.index(I-1)))return r.delete(b.before(I),y);r.delete(x,y)}function coveredDepths(r,x){let y=[],b=Math.min(r.depth,x.depth);for(let B=b;B>=0;B--){let R=r.start(B);if(R<r.pos-(r.depth-B)||x.end(B)>x.pos+(x.depth-B)||r.node(B).type.spec.isolating||x.node(B).type.spec.isolating)break;(R==x.start(B)||B==r.depth&&B==x.depth&&r.parent.inlineContent&&x.parent.inlineContent&&B&&x.start(B-1)==R-1)&&y.push(B)}return y}class AttrStep extends Step{constructor(x,y,b){super(),this.pos=x,this.attr=y,this.value=b}apply(x){let y=x.nodeAt(this.pos);if(!y)return StepResult.fail("No node at attribute step's position");let b=Object.create(null);for(let R in y.attrs)b[R]=y.attrs[R];b[this.attr]=this.value;let B=y.type.create(b,null,y.marks);return StepResult.fromReplace(x,this.pos,this.pos+1,new Slice(Fragment.from(B),0,y.isLeaf?0:1))}getMap(){return StepMap.empty}invert(x){return new AttrStep(this.pos,this.attr,x.nodeAt(this.pos).attrs[this.attr])}map(x){let y=x.mapResult(this.pos,1);return y.deletedAfter?null:new AttrStep(y.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(x,y){if(typeof y.pos!="number"||typeof y.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(y.pos,y.attr,y.value)}}Step.jsonID("attr",AttrStep);class DocAttrStep extends Step{constructor(x,y){super(),this.attr=x,this.value=y}apply(x){let y=Object.create(null);for(let B in x.attrs)y[B]=x.attrs[B];y[this.attr]=this.value;let b=x.type.create(y,x.content,x.marks);return StepResult.ok(b)}getMap(){return StepMap.empty}invert(x){return new DocAttrStep(this.attr,x.attrs[this.attr])}map(x){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(x,y){if(typeof y.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(y.attr,y.value)}}Step.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function r(x){let y=Error.call(this,x);return y.__proto__=r.prototype,y};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(x){this.doc=x,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(x){let y=this.maybeStep(x);if(y.failed)throw new TransformError(y.failed);return this}maybeStep(x){let y=x.apply(this.doc);return y.failed||this.addStep(x,y.doc),y}get docChanged(){return this.steps.length>0}addStep(x,y){this.docs.push(this.doc),this.steps.push(x),this.mapping.appendMap(x.getMap()),this.doc=y}replace(x,y=x,b=Slice.empty){let B=replaceStep(this.doc,x,y,b);return B&&this.step(B),this}replaceWith(x,y,b){return this.replace(x,y,new Slice(Fragment.from(b),0,0))}delete(x,y){return this.replace(x,y,Slice.empty)}insert(x,y){return this.replaceWith(x,x,y)}replaceRange(x,y,b){return replaceRange(this,x,y,b),this}replaceRangeWith(x,y,b){return replaceRangeWith(this,x,y,b),this}deleteRange(x,y){return deleteRange$1(this,x,y),this}lift(x,y){return lift$2(this,x,y),this}join(x,y=1){return join(this,x,y),this}wrap(x,y){return wrap(this,x,y),this}setBlockType(x,y=x,b,B=null){return setBlockType$1(this,x,y,b,B),this}setNodeMarkup(x,y,b=null,B){return setNodeMarkup(this,x,y,b,B),this}setNodeAttribute(x,y,b){return this.step(new AttrStep(x,y,b)),this}setDocAttribute(x,y){return this.step(new DocAttrStep(x,y)),this}addNodeMark(x,y){return this.step(new AddNodeMarkStep(x,y)),this}removeNodeMark(x,y){let b=this.doc.nodeAt(x);if(!b)throw new RangeError("No node at position "+x);if(y instanceof Mark$1)y.isInSet(b.marks)&&this.step(new RemoveNodeMarkStep(x,y));else{let B=b.marks,R,I=[];for(;R=y.isInSet(B);)I.push(new RemoveNodeMarkStep(x,R)),B=R.removeFromSet(B);for(let O=I.length-1;O>=0;O--)this.step(I[O])}return this}split(x,y=1,b){return split(this,x,y,b),this}addMark(x,y,b){return addMark(this,x,y,b),this}removeMark(x,y,b){return removeMark(this,x,y,b),this}clearIncompatible(x,y,b){return clearIncompatible(this,x,y,b),this}}const classesById=Object.create(null);class Selection{constructor(x,y,b){this.$anchor=x,this.$head=y,this.ranges=b||[new SelectionRange(x.min(y),x.max(y))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let x=this.ranges;for(let y=0;y<x.length;y++)if(x[y].$from.pos!=x[y].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(x,y=Slice.empty){let b=y.content.lastChild,B=null;for(let O=0;O<y.openEnd;O++)B=b,b=b.lastChild;let R=x.steps.length,I=this.ranges;for(let O=0;O<I.length;O++){let{$from:G,$to:q}=I[O],ee=x.mapping.slice(R);x.replaceRange(ee.map(G.pos),ee.map(q.pos),O?Slice.empty:y),O==0&&selectionToInsertionEnd$1(x,R,(b?b.isInline:B&&B.isTextblock)?-1:1)}}replaceWith(x,y){let b=x.steps.length,B=this.ranges;for(let R=0;R<B.length;R++){let{$from:I,$to:O}=B[R],G=x.mapping.slice(b),q=G.map(I.pos),ee=G.map(O.pos);R?x.deleteRange(q,ee):(x.replaceRangeWith(q,ee,y),selectionToInsertionEnd$1(x,b,y.isInline?-1:1))}}static findFrom(x,y,b=!1){let B=x.parent.inlineContent?new TextSelection(x):findSelectionIn(x.node(0),x.parent,x.pos,x.index(),y,b);if(B)return B;for(let R=x.depth-1;R>=0;R--){let I=y<0?findSelectionIn(x.node(0),x.node(R),x.before(R+1),x.index(R),y,b):findSelectionIn(x.node(0),x.node(R),x.after(R+1),x.index(R)+1,y,b);if(I)return I}return null}static near(x,y=1){return this.findFrom(x,y)||this.findFrom(x,-y)||new AllSelection(x.node(0))}static atStart(x){return findSelectionIn(x,x,0,0,1)||new AllSelection(x)}static atEnd(x){return findSelectionIn(x,x,x.content.size,x.childCount,-1)||new AllSelection(x)}static fromJSON(x,y){if(!y||!y.type)throw new RangeError("Invalid input for Selection.fromJSON");let b=classesById[y.type];if(!b)throw new RangeError(`No selection type ${y.type} defined`);return b.fromJSON(x,y)}static jsonID(x,y){if(x in classesById)throw new RangeError("Duplicate use of selection JSON ID "+x);return classesById[x]=y,y.prototype.jsonID=x,y}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(x,y){this.$from=x,this.$to=y}}let warnedAboutTextSelection=!1;function checkTextSelection(r){!warnedAboutTextSelection&&!r.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class TextSelection extends Selection{constructor(x,y=x){checkTextSelection(x),checkTextSelection(y),super(x,y)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(x,y){let b=x.resolve(y.map(this.head));if(!b.parent.inlineContent)return Selection.near(b);let B=x.resolve(y.map(this.anchor));return new TextSelection(B.parent.inlineContent?B:b,b)}replace(x,y=Slice.empty){if(super.replace(x,y),y==Slice.empty){let b=this.$from.marksAcross(this.$to);b&&x.ensureMarks(b)}}eq(x){return x instanceof TextSelection&&x.anchor==this.anchor&&x.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(x,y){if(typeof y.anchor!="number"||typeof y.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(x.resolve(y.anchor),x.resolve(y.head))}static create(x,y,b=y){let B=x.resolve(y);return new this(B,b==y?B:x.resolve(b))}static between(x,y,b){let B=x.pos-y.pos;if((!b||B)&&(b=B>=0?1:-1),!y.parent.inlineContent){let R=Selection.findFrom(y,b,!0)||Selection.findFrom(y,-b,!0);if(R)y=R.$head;else return Selection.near(y,b)}return x.parent.inlineContent||(B==0?x=y:(x=(Selection.findFrom(x,-b,!0)||Selection.findFrom(x,b,!0)).$anchor,x.pos<y.pos!=B<0&&(x=y))),new TextSelection(x,y)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(x,y){this.anchor=x,this.head=y}map(x){return new TextBookmark(x.map(this.anchor),x.map(this.head))}resolve(x){return TextSelection.between(x.resolve(this.anchor),x.resolve(this.head))}}class NodeSelection extends Selection{constructor(x){let y=x.nodeAfter,b=x.node(0).resolve(x.pos+y.nodeSize);super(x,b),this.node=y}map(x,y){let{deleted:b,pos:B}=y.mapResult(this.anchor),R=x.resolve(B);return b?Selection.near(R):new NodeSelection(R)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(x){return x instanceof NodeSelection&&x.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(x,y){if(typeof y.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(x.resolve(y.anchor))}static create(x,y){return new NodeSelection(x.resolve(y))}static isSelectable(x){return!x.isText&&x.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(x){this.anchor=x}map(x){let{deleted:y,pos:b}=x.mapResult(this.anchor);return y?new TextBookmark(b,b):new NodeBookmark(b)}resolve(x){let y=x.resolve(this.anchor),b=y.nodeAfter;return b&&NodeSelection.isSelectable(b)?new NodeSelection(y):Selection.near(y)}}class AllSelection extends Selection{constructor(x){super(x.resolve(0),x.resolve(x.content.size))}replace(x,y=Slice.empty){if(y==Slice.empty){x.delete(0,x.doc.content.size);let b=Selection.atStart(x.doc);b.eq(x.selection)||x.setSelection(b)}else super.replace(x,y)}toJSON(){return{type:"all"}}static fromJSON(x){return new AllSelection(x)}map(x){return new AllSelection(x)}eq(x){return x instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(r){return new AllSelection(r)}};function findSelectionIn(r,x,y,b,B,R=!1){if(x.inlineContent)return TextSelection.create(r,y);for(let I=b-(B>0?0:1);B>0?I<x.childCount:I>=0;I+=B){let O=x.child(I);if(O.isAtom){if(!R&&NodeSelection.isSelectable(O))return NodeSelection.create(r,y-(B<0?O.nodeSize:0))}else{let G=findSelectionIn(r,O,y+B,B<0?O.childCount:0,B,R);if(G)return G}y+=O.nodeSize*B}return null}function selectionToInsertionEnd$1(r,x,y){let b=r.steps.length-1;if(b<x)return;let B=r.steps[b];if(!(B instanceof ReplaceStep||B instanceof ReplaceAroundStep))return;let R=r.mapping.maps[b],I;R.forEach((O,G,q,ee)=>{I==null&&(I=ee)}),r.setSelection(Selection.near(r.doc.resolve(I),y))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(x){super(x.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=x.selection,this.storedMarks=x.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(x){if(x.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=x,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(x){return this.storedMarks=x,this.updated|=UPDATED_MARKS,this}ensureMarks(x){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),x)||this.setStoredMarks(x),this}addStoredMark(x){return this.ensureMarks(x.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(x){return this.ensureMarks(x.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(x,y){super.addStep(x,y),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(x){return this.time=x,this}replaceSelection(x){return this.selection.replace(this,x),this}replaceSelectionWith(x,y=!0){let b=this.selection;return y&&(x=x.mark(this.storedMarks||(b.empty?b.$from.marks():b.$from.marksAcross(b.$to)||Mark$1.none))),b.replaceWith(this,x),this}deleteSelection(){return this.selection.replace(this),this}insertText(x,y,b){let B=this.doc.type.schema;if(y==null)return x?this.replaceSelectionWith(B.text(x),!0):this.deleteSelection();{if(b==null&&(b=y),!x)return this.deleteRange(y,b);let R=this.storedMarks;if(!R){let I=this.doc.resolve(y);R=b==y?I.marks():I.marksAcross(this.doc.resolve(b))}return this.replaceRangeWith(y,b,B.text(x,R)),!this.selection.empty&&this.selection.to==y+x.length&&this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(x,y){return this.meta[typeof x=="string"?x:x.key]=y,this}getMeta(x){return this.meta[typeof x=="string"?x:x.key]}get isGeneric(){for(let x in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(r,x){return!x||!r?r:r.bind(x)}class FieldDesc{constructor(x,y,b){this.name=x,this.init=bind(y.init,b),this.apply=bind(y.apply,b)}}const baseFields=[new FieldDesc("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new FieldDesc("selection",{init(r,x){return r.selection||Selection.atStart(x.doc)},apply(r){return r.selection}}),new FieldDesc("storedMarks",{init(r){return r.storedMarks||null},apply(r,x,y,b){return b.selection.$cursor?r.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(r,x){return r.scrolledIntoView?x+1:x}})];class Configuration{constructor(x,y){this.schema=x,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),y&&y.forEach(b=>{if(this.pluginsByKey[b.key])throw new RangeError("Adding different instances of a keyed plugin ("+b.key+")");this.plugins.push(b),this.pluginsByKey[b.key]=b,b.spec.state&&this.fields.push(new FieldDesc(b.key,b.spec.state,b))})}}class EditorState{constructor(x){this.config=x}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(x){return this.applyTransaction(x).state}filterTransaction(x,y=-1){for(let b=0;b<this.config.plugins.length;b++)if(b!=y){let B=this.config.plugins[b];if(B.spec.filterTransaction&&!B.spec.filterTransaction.call(B,x,this))return!1}return!0}applyTransaction(x){if(!this.filterTransaction(x))return{state:this,transactions:[]};let y=[x],b=this.applyInner(x),B=null;for(;;){let R=!1;for(let I=0;I<this.config.plugins.length;I++){let O=this.config.plugins[I];if(O.spec.appendTransaction){let G=B?B[I].n:0,q=B?B[I].state:this,ee=G<y.length&&O.spec.appendTransaction.call(O,G?y.slice(G):y,q,b);if(ee&&b.filterTransaction(ee,I)){if(ee.setMeta("appendedTransaction",x),!B){B=[];for(let ne=0;ne<this.config.plugins.length;ne++)B.push(ne<I?{state:b,n:y.length}:{state:this,n:0})}y.push(ee),b=b.applyInner(ee),R=!0}B&&(B[I]={state:b,n:y.length})}}if(!R)return{state:b,transactions:y}}}applyInner(x){if(!x.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let y=new EditorState(this.config),b=this.config.fields;for(let B=0;B<b.length;B++){let R=b[B];y[R.name]=R.apply(x,this[R.name],this,y)}return y}get tr(){return new Transaction(this)}static create(x){let y=new Configuration(x.doc?x.doc.type.schema:x.schema,x.plugins),b=new EditorState(y);for(let B=0;B<y.fields.length;B++)b[y.fields[B].name]=y.fields[B].init(x,b);return b}reconfigure(x){let y=new Configuration(this.schema,x.plugins),b=y.fields,B=new EditorState(y);for(let R=0;R<b.length;R++){let I=b[R].name;B[I]=this.hasOwnProperty(I)?this[I]:b[R].init(x,B)}return B}toJSON(x){let y={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(y.storedMarks=this.storedMarks.map(b=>b.toJSON())),x&&typeof x=="object")for(let b in x){if(b=="doc"||b=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let B=x[b],R=B.spec.state;R&&R.toJSON&&(y[b]=R.toJSON.call(B,this[B.key]))}return y}static fromJSON(x,y,b){if(!y)throw new RangeError("Invalid input for EditorState.fromJSON");if(!x.schema)throw new RangeError("Required config field 'schema' missing");let B=new Configuration(x.schema,x.plugins),R=new EditorState(B);return B.fields.forEach(I=>{if(I.name=="doc")R.doc=Node$1.fromJSON(x.schema,y.doc);else if(I.name=="selection")R.selection=Selection.fromJSON(R.doc,y.selection);else if(I.name=="storedMarks")y.storedMarks&&(R.storedMarks=y.storedMarks.map(x.schema.markFromJSON));else{if(b)for(let O in b){let G=b[O],q=G.spec.state;if(G.key==I.name&&q&&q.fromJSON&&Object.prototype.hasOwnProperty.call(y,O)){R[I.name]=q.fromJSON.call(G,x,y[O],R);return}}R[I.name]=I.init(x,R)}}),R}}function bindProps(r,x,y){for(let b in r){let B=r[b];B instanceof Function?B=B.bind(x):b=="handleDOMEvents"&&(B=bindProps(B,x,{})),y[b]=B}return y}class Plugin{constructor(x){this.spec=x,this.props={},x.props&&bindProps(x.props,this,this.props),this.key=x.key?x.key.key:createKey("plugin")}getState(x){return x[this.key]}}const keys=Object.create(null);function createKey(r){return r in keys?r+"$"+ ++keys[r]:(keys[r]=0,r+"$")}class PluginKey{constructor(x="key"){this.key=createKey(x)}get(x){return x.config.pluginsByKey[this.key]}getState(x){return x[this.key]}}const deleteSelection$1=(r,x)=>r.selection.empty?!1:(x&&x(r.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(r,x){let{$cursor:y}=r.selection;return!y||(x?!x.endOfTextblock("backward",r):y.parentOffset>0)?null:y}const joinBackward$1=(r,x,y)=>{let b=atBlockStart(r,y);if(!b)return!1;let B=findCutBefore(b);if(!B){let I=b.blockRange(),O=I&&liftTarget(I);return O==null?!1:(x&&x(r.tr.lift(I,O).scrollIntoView()),!0)}let R=B.nodeBefore;if(deleteBarrier(r,B,x,-1))return!0;if(b.parent.content.size==0&&(textblockAt(R,"end")||NodeSelection.isSelectable(R)))for(let I=b.depth;;I--){let O=replaceStep(r.doc,b.before(I),b.after(I),Slice.empty);if(O&&O.slice.size<O.to-O.from){if(x){let G=r.tr.step(O);G.setSelection(textblockAt(R,"end")?Selection.findFrom(G.doc.resolve(G.mapping.map(B.pos,-1)),-1):NodeSelection.create(G.doc,B.pos-R.nodeSize)),x(G.scrollIntoView())}return!0}if(I==1||b.node(I-1).childCount>1)break}return R.isAtom&&B.depth==b.depth-1?(x&&x(r.tr.delete(B.pos-R.nodeSize,B.pos).scrollIntoView()),!0):!1},joinTextblockBackward$1=(r,x,y)=>{let b=atBlockStart(r,y);if(!b)return!1;let B=findCutBefore(b);return B?joinTextblocksAround(r,B,x):!1},joinTextblockForward$1=(r,x,y)=>{let b=atBlockEnd(r,y);if(!b)return!1;let B=findCutAfter(b);return B?joinTextblocksAround(r,B,x):!1};function joinTextblocksAround(r,x,y){let b=x.nodeBefore,B=b,R=x.pos-1;for(;!B.isTextblock;R--){if(B.type.spec.isolating)return!1;let ee=B.lastChild;if(!ee)return!1;B=ee}let I=x.nodeAfter,O=I,G=x.pos+1;for(;!O.isTextblock;G++){if(O.type.spec.isolating)return!1;let ee=O.firstChild;if(!ee)return!1;O=ee}let q=replaceStep(r.doc,R,G,Slice.empty);if(!q||q.from!=R||q instanceof ReplaceStep&&q.slice.size>=G-R)return!1;if(y){let ee=r.tr.step(q);ee.setSelection(TextSelection.create(ee.doc,R)),y(ee.scrollIntoView())}return!0}function textblockAt(r,x,y=!1){for(let b=r;b;b=x=="start"?b.firstChild:b.lastChild){if(b.isTextblock)return!0;if(y&&b.childCount!=1)return!1}return!1}const selectNodeBackward$1=(r,x,y)=>{let{$head:b,empty:B}=r.selection,R=b;if(!B)return!1;if(b.parent.isTextblock){if(y?!y.endOfTextblock("backward",r):b.parentOffset>0)return!1;R=findCutBefore(b)}let I=R&&R.nodeBefore;return!I||!NodeSelection.isSelectable(I)?!1:(x&&x(r.tr.setSelection(NodeSelection.create(r.doc,R.pos-I.nodeSize)).scrollIntoView()),!0)};function findCutBefore(r){if(!r.parent.type.spec.isolating)for(let x=r.depth-1;x>=0;x--){if(r.index(x)>0)return r.doc.resolve(r.before(x+1));if(r.node(x).type.spec.isolating)break}return null}function atBlockEnd(r,x){let{$cursor:y}=r.selection;return!y||(x?!x.endOfTextblock("forward",r):y.parentOffset<y.parent.content.size)?null:y}const joinForward$1=(r,x,y)=>{let b=atBlockEnd(r,y);if(!b)return!1;let B=findCutAfter(b);if(!B)return!1;let R=B.nodeAfter;if(deleteBarrier(r,B,x,1))return!0;if(b.parent.content.size==0&&(textblockAt(R,"start")||NodeSelection.isSelectable(R))){let I=replaceStep(r.doc,b.before(),b.after(),Slice.empty);if(I&&I.slice.size<I.to-I.from){if(x){let O=r.tr.step(I);O.setSelection(textblockAt(R,"start")?Selection.findFrom(O.doc.resolve(O.mapping.map(B.pos)),1):NodeSelection.create(O.doc,O.mapping.map(B.pos))),x(O.scrollIntoView())}return!0}}return R.isAtom&&B.depth==b.depth-1?(x&&x(r.tr.delete(B.pos,B.pos+R.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(r,x,y)=>{let{$head:b,empty:B}=r.selection,R=b;if(!B)return!1;if(b.parent.isTextblock){if(y?!y.endOfTextblock("forward",r):b.parentOffset<b.parent.content.size)return!1;R=findCutAfter(b)}let I=R&&R.nodeAfter;return!I||!NodeSelection.isSelectable(I)?!1:(x&&x(r.tr.setSelection(NodeSelection.create(r.doc,R.pos)).scrollIntoView()),!0)};function findCutAfter(r){if(!r.parent.type.spec.isolating)for(let x=r.depth-1;x>=0;x--){let y=r.node(x);if(r.index(x)+1<y.childCount)return r.doc.resolve(r.after(x+1));if(y.type.spec.isolating)break}return null}const joinUp$1=(r,x)=>{let y=r.selection,b=y instanceof NodeSelection,B;if(b){if(y.node.isTextblock||!canJoin(r.doc,y.from))return!1;B=y.from}else if(B=joinPoint(r.doc,y.from,-1),B==null)return!1;if(x){let R=r.tr.join(B);b&&R.setSelection(NodeSelection.create(R.doc,B-r.doc.resolve(B).nodeBefore.nodeSize)),x(R.scrollIntoView())}return!0},joinDown$1=(r,x)=>{let y=r.selection,b;if(y instanceof NodeSelection){if(y.node.isTextblock||!canJoin(r.doc,y.to))return!1;b=y.to}else if(b=joinPoint(r.doc,y.to,1),b==null)return!1;return x&&x(r.tr.join(b).scrollIntoView()),!0},lift$1=(r,x)=>{let{$from:y,$to:b}=r.selection,B=y.blockRange(b),R=B&&liftTarget(B);return R==null?!1:(x&&x(r.tr.lift(B,R).scrollIntoView()),!0)},newlineInCode$1=(r,x)=>{let{$head:y,$anchor:b}=r.selection;return!y.parent.type.spec.code||!y.sameParent(b)?!1:(x&&x(r.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(r){for(let x=0;x<r.edgeCount;x++){let{type:y}=r.edge(x);if(y.isTextblock&&!y.hasRequiredAttrs())return y}return null}const exitCode$1=(r,x)=>{let{$head:y,$anchor:b}=r.selection;if(!y.parent.type.spec.code||!y.sameParent(b))return!1;let B=y.node(-1),R=y.indexAfter(-1),I=defaultBlockAt$1(B.contentMatchAt(R));if(!I||!B.canReplaceWith(R,R,I))return!1;if(x){let O=y.after(),G=r.tr.replaceWith(O,O,I.createAndFill());G.setSelection(Selection.near(G.doc.resolve(O),1)),x(G.scrollIntoView())}return!0},createParagraphNear$1=(r,x)=>{let y=r.selection,{$from:b,$to:B}=y;if(y instanceof AllSelection||b.parent.inlineContent||B.parent.inlineContent)return!1;let R=defaultBlockAt$1(B.parent.contentMatchAt(B.indexAfter()));if(!R||!R.isTextblock)return!1;if(x){let I=(!b.parentOffset&&B.index()<B.parent.childCount?b:B).pos,O=r.tr.insert(I,R.createAndFill());O.setSelection(TextSelection.create(O.doc,I+1)),x(O.scrollIntoView())}return!0},liftEmptyBlock$1=(r,x)=>{let{$cursor:y}=r.selection;if(!y||y.parent.content.size)return!1;if(y.depth>1&&y.after()!=y.end(-1)){let R=y.before();if(canSplit(r.doc,R))return x&&x(r.tr.split(R).scrollIntoView()),!0}let b=y.blockRange(),B=b&&liftTarget(b);return B==null?!1:(x&&x(r.tr.lift(b,B).scrollIntoView()),!0)};function splitBlockAs(r){return(x,y)=>{let{$from:b,$to:B}=x.selection;if(x.selection instanceof NodeSelection&&x.selection.node.isBlock)return!b.parentOffset||!canSplit(x.doc,b.pos)?!1:(y&&y(x.tr.split(b.pos).scrollIntoView()),!0);if(!b.depth)return!1;let R=[],I,O,G=!1,q=!1;for(let pe=b.depth;;pe--)if(b.node(pe).isBlock){G=b.end(pe)==b.pos+(b.depth-pe),q=b.start(pe)==b.pos-(b.depth-pe),O=defaultBlockAt$1(b.node(pe-1).contentMatchAt(b.indexAfter(pe-1))),R.unshift(G&&O?{type:O}:null),I=pe;break}else{if(pe==1)return!1;R.unshift(null)}let ee=x.tr;(x.selection instanceof TextSelection||x.selection instanceof AllSelection)&&ee.deleteSelection();let ne=ee.mapping.map(b.pos),oe=canSplit(ee.doc,ne,R.length,R);if(oe||(R[0]=O?{type:O}:null,oe=canSplit(ee.doc,ne,R.length,R)),!oe)return!1;if(ee.split(ne,R.length,R),!G&&q&&b.node(I).type!=O){let pe=ee.mapping.map(b.before(I)),xe=ee.doc.resolve(pe);O&&b.node(I-1).canReplaceWith(xe.index(),xe.index()+1,O)&&ee.setNodeMarkup(ee.mapping.map(b.before(I)),O)}return y&&y(ee.scrollIntoView()),!0}}const splitBlock$1=splitBlockAs(),selectParentNode$1=(r,x)=>{let{$from:y,to:b}=r.selection,B,R=y.sharedDepth(b);return R==0?!1:(B=y.before(R),x&&x(r.tr.setSelection(NodeSelection.create(r.doc,B))),!0)};function joinMaybeClear(r,x,y){let b=x.nodeBefore,B=x.nodeAfter,R=x.index();return!b||!B||!b.type.compatibleContent(B.type)?!1:!b.content.size&&x.parent.canReplace(R-1,R)?(y&&y(r.tr.delete(x.pos-b.nodeSize,x.pos).scrollIntoView()),!0):!x.parent.canReplace(R,R+1)||!(B.isTextblock||canJoin(r.doc,x.pos))?!1:(y&&y(r.tr.join(x.pos).scrollIntoView()),!0)}function deleteBarrier(r,x,y,b){let B=x.nodeBefore,R=x.nodeAfter,I,O,G=B.type.spec.isolating||R.type.spec.isolating;if(!G&&joinMaybeClear(r,x,y))return!0;let q=!G&&x.parent.canReplace(x.index(),x.index()+1);if(q&&(I=(O=B.contentMatchAt(B.childCount)).findWrapping(R.type))&&O.matchType(I[0]||R.type).validEnd){if(y){let pe=x.pos+R.nodeSize,xe=Fragment.empty;for(let Le=I.length-1;Le>=0;Le--)xe=Fragment.from(I[Le].create(null,xe));xe=Fragment.from(B.copy(xe));let _e=r.tr.step(new ReplaceAroundStep(x.pos-1,pe,x.pos,pe,new Slice(xe,1,0),I.length,!0)),Ue=_e.doc.resolve(pe+2*I.length);Ue.nodeAfter&&Ue.nodeAfter.type==B.type&&canJoin(_e.doc,Ue.pos)&&_e.join(Ue.pos),y(_e.scrollIntoView())}return!0}let ee=R.type.spec.isolating||b>0&&G?null:Selection.findFrom(x,1),ne=ee&&ee.$from.blockRange(ee.$to),oe=ne&&liftTarget(ne);if(oe!=null&&oe>=x.depth)return y&&y(r.tr.lift(ne,oe).scrollIntoView()),!0;if(q&&textblockAt(R,"start",!0)&&textblockAt(B,"end")){let pe=B,xe=[];for(;xe.push(pe),!pe.isTextblock;)pe=pe.lastChild;let _e=R,Ue=1;for(;!_e.isTextblock;_e=_e.firstChild)Ue++;if(pe.canReplace(pe.childCount,pe.childCount,_e.content)){if(y){let Le=Fragment.empty;for(let $e=xe.length-1;$e>=0;$e--)Le=Fragment.from(xe[$e].copy(Le));let He=r.tr.step(new ReplaceAroundStep(x.pos-xe.length,x.pos+R.nodeSize,x.pos+Ue,x.pos+R.nodeSize-Ue,new Slice(Le,xe.length,0),0,!0));y(He.scrollIntoView())}return!0}}return!1}function selectTextblockSide(r){return function(x,y){let b=x.selection,B=r<0?b.$from:b.$to,R=B.depth;for(;B.node(R).isInline;){if(!R)return!1;R--}return B.node(R).isTextblock?(y&&y(x.tr.setSelection(TextSelection.create(x.doc,r<0?B.start(R):B.end(R)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(r,x=null){return function(y,b){let{$from:B,$to:R}=y.selection,I=B.blockRange(R),O=I&&findWrapping(I,r,x);return O?(b&&b(y.tr.wrap(I,O).scrollIntoView()),!0):!1}}function setBlockType(r,x=null){return function(y,b){let B=!1;for(let R=0;R<y.selection.ranges.length&&!B;R++){let{$from:{pos:I},$to:{pos:O}}=y.selection.ranges[R];y.doc.nodesBetween(I,O,(G,q)=>{if(B)return!1;if(!(!G.isTextblock||G.hasMarkup(r,x)))if(G.type==r)B=!0;else{let ee=y.doc.resolve(q),ne=ee.index();B=ee.parent.canReplaceWith(ne,ne+1,r)}})}if(!B)return!1;if(b){let R=y.tr;for(let I=0;I<y.selection.ranges.length;I++){let{$from:{pos:O},$to:{pos:G}}=y.selection.ranges[I];R.setBlockType(O,G,r,x)}b(R.scrollIntoView())}return!0}}function chainCommands(...r){return function(x,y,b){for(let B=0;B<r.length;B++)if(r[B](x,y,b))return!0;return!1}}chainCommands(deleteSelection$1,joinBackward$1,selectNodeBackward$1);chainCommands(deleteSelection$1,joinForward$1,selectNodeForward$1);chainCommands(newlineInCode$1,createParagraphNear$1,liftEmptyBlock$1,splitBlock$1);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1(r,x=null){return function(y,b){let{$from:B,$to:R}=y.selection,I=B.blockRange(R);if(!I)return!1;let O=b?y.tr:null;return wrapRangeInList(O,I,r,x)?(b&&b(O.scrollIntoView()),!0):!1}}function wrapRangeInList(r,x,y,b=null){let B=!1,R=x,I=x.$from.doc;if(x.depth>=2&&x.$from.node(x.depth-1).type.compatibleContent(y)&&x.startIndex==0){if(x.$from.index(x.depth-1)==0)return!1;let G=I.resolve(x.start-2);R=new NodeRange(G,G,x.depth),x.endIndex<x.parent.childCount&&(x=new NodeRange(x.$from,I.resolve(x.$to.end(x.depth)),x.depth)),B=!0}let O=findWrapping(R,y,b,x);return O?(r&&doWrapInList(r,x,O,B,y),!0):!1}function doWrapInList(r,x,y,b,B){let R=Fragment.empty;for(let ee=y.length-1;ee>=0;ee--)R=Fragment.from(y[ee].type.create(y[ee].attrs,R));r.step(new ReplaceAroundStep(x.start-(b?2:0),x.end,x.start,x.end,new Slice(R,0,0),y.length,!0));let I=0;for(let ee=0;ee<y.length;ee++)y[ee].type==B&&(I=ee+1);let O=y.length-I,G=x.start+y.length-(b?2:0),q=x.parent;for(let ee=x.startIndex,ne=x.endIndex,oe=!0;ee<ne;ee++,oe=!1)!oe&&canSplit(r.doc,G,O)&&(r.split(G,O),G+=2*O),G+=q.child(ee).nodeSize;return r}function liftListItem$1(r){return function(x,y){let{$from:b,$to:B}=x.selection,R=b.blockRange(B,I=>I.childCount>0&&I.firstChild.type==r);return R?y?b.node(R.depth-1).type==r?liftToOuterList(x,y,r,R):liftOutOfList(x,y,R):!0:!1}}function liftToOuterList(r,x,y,b){let B=r.tr,R=b.end,I=b.$to.end(b.depth);R<I&&(B.step(new ReplaceAroundStep(R-1,I,R,I,new Slice(Fragment.from(y.create(null,b.parent.copy())),1,0),1,!0)),b=new NodeRange(B.doc.resolve(b.$from.pos),B.doc.resolve(I),b.depth));const O=liftTarget(b);if(O==null)return!1;B.lift(b,O);let G=B.doc.resolve(B.mapping.map(R,-1)-1);return canJoin(B.doc,G.pos)&&G.nodeBefore.type==G.nodeAfter.type&&B.join(G.pos),x(B.scrollIntoView()),!0}function liftOutOfList(r,x,y){let b=r.tr,B=y.parent;for(let pe=y.end,xe=y.endIndex-1,_e=y.startIndex;xe>_e;xe--)pe-=B.child(xe).nodeSize,b.delete(pe-1,pe+1);let R=b.doc.resolve(y.start),I=R.nodeAfter;if(b.mapping.map(y.end)!=y.start+R.nodeAfter.nodeSize)return!1;let O=y.startIndex==0,G=y.endIndex==B.childCount,q=R.node(-1),ee=R.index(-1);if(!q.canReplace(ee+(O?0:1),ee+1,I.content.append(G?Fragment.empty:Fragment.from(B))))return!1;let ne=R.pos,oe=ne+I.nodeSize;return b.step(new ReplaceAroundStep(ne-(O?1:0),oe+(G?1:0),ne+1,oe-1,new Slice((O?Fragment.empty:Fragment.from(B.copy(Fragment.empty))).append(G?Fragment.empty:Fragment.from(B.copy(Fragment.empty))),O?0:1,G?0:1),O?0:1)),x(b.scrollIntoView()),!0}function sinkListItem$1(r){return function(x,y){let{$from:b,$to:B}=x.selection,R=b.blockRange(B,q=>q.childCount>0&&q.firstChild.type==r);if(!R)return!1;let I=R.startIndex;if(I==0)return!1;let O=R.parent,G=O.child(I-1);if(G.type!=r)return!1;if(y){let q=G.lastChild&&G.lastChild.type==O.type,ee=Fragment.from(q?r.create():null),ne=new Slice(Fragment.from(r.create(null,Fragment.from(O.type.create(null,ee)))),q?3:1,0),oe=R.start,pe=R.end;y(x.tr.step(new ReplaceAroundStep(oe-(q?3:1),pe,oe,pe,ne,1,!0)).scrollIntoView())}return!0}}const domIndex=function(r){for(var x=0;;x++)if(r=r.previousSibling,!r)return x},parentNode=function(r){let x=r.assignedSlot||r.parentNode;return x&&x.nodeType==11?x.host:x};let reusedRange=null;const textRange=function(r,x,y){let b=reusedRange||(reusedRange=document.createRange());return b.setEnd(r,y??r.nodeValue.length),b.setStart(r,x||0),b},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function(r,x,y,b){return y&&(scanFor(r,x,y,b,-1)||scanFor(r,x,y,b,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(r,x,y,b,B){for(var R;;){if(r==y&&x==b)return!0;if(x==(B<0?0:nodeSize(r))){let I=r.parentNode;if(!I||I.nodeType!=1||hasBlockDesc(r)||atomElements.test(r.nodeName)||r.contentEditable=="false")return!1;x=domIndex(r)+(B<0?0:1),r=I}else if(r.nodeType==1){let I=r.childNodes[x+(B<0?-1:0)];if(I.nodeType==1&&I.contentEditable=="false")if(!((R=I.pmViewDesc)===null||R===void 0)&&R.ignoreForSelection)x+=B;else return!1;else r=I,x=B<0?nodeSize(r):0}else return!1}}function nodeSize(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function textNodeBefore$1(r,x){for(;;){if(r.nodeType==3&&x)return r;if(r.nodeType==1&&x>0){if(r.contentEditable=="false")return null;r=r.childNodes[x-1],x=nodeSize(r)}else if(r.parentNode&&!hasBlockDesc(r))x=domIndex(r),r=r.parentNode;else return null}}function textNodeAfter$1(r,x){for(;;){if(r.nodeType==3&&x<r.nodeValue.length)return r;if(r.nodeType==1&&x<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[x],x=0}else if(r.parentNode&&!hasBlockDesc(r))x=domIndex(r)+1,r=r.parentNode;else return null}}function isOnEdge(r,x,y){for(let b=x==0,B=x==nodeSize(r);b||B;){if(r==y)return!0;let R=domIndex(r);if(r=r.parentNode,!r)return!1;b=b&&R==0,B=B&&R==nodeSize(r)}}function hasBlockDesc(r){let x;for(let y=r;y&&!(x=y.pmViewDesc);y=y.parentNode);return x&&x.node&&x.node.isBlock&&(x.dom==r||x.contentDOM==r)}const selectionCollapsed=function(r){return r.focusNode&&isEquivalentPosition(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function keyEvent(r,x){let y=document.createEvent("Event");return y.initEvent("keydown",!0,!0),y.keyCode=r,y.key=y.code=x,y}function deepActiveElement(r){let x=r.activeElement;for(;x&&x.shadowRoot;)x=x.shadowRoot.activeElement;return x}function caretFromPoint(r,x,y){if(r.caretPositionFromPoint)try{let b=r.caretPositionFromPoint(x,y);if(b)return{node:b.offsetNode,offset:Math.min(nodeSize(b.offsetNode),b.offset)}}catch{}if(r.caretRangeFromPoint){let b=r.caretRangeFromPoint(x,y);if(b)return{node:b.startContainer,offset:Math.min(nodeSize(b.startContainer),b.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$1=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$1&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$1&&/Chrome\/(\d+)/.exec(agent),chrome$1=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$1&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows$1=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(r){let x=r.defaultView&&r.defaultView.visualViewport;return x?{left:0,right:x.width,top:0,bottom:x.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function getSide(r,x){return typeof r=="number"?r:r[x]}function clientRect(r){let x=r.getBoundingClientRect(),y=x.width/r.offsetWidth||1,b=x.height/r.offsetHeight||1;return{left:x.left,right:x.left+r.clientWidth*y,top:x.top,bottom:x.top+r.clientHeight*b}}function scrollRectIntoView(r,x,y){let b=r.someProp("scrollThreshold")||0,B=r.someProp("scrollMargin")||5,R=r.dom.ownerDocument;for(let I=y||r.dom;I;){if(I.nodeType!=1){I=parentNode(I);continue}let O=I,G=O==R.body,q=G?windowRect(R):clientRect(O),ee=0,ne=0;if(x.top<q.top+getSide(b,"top")?ne=-(q.top-x.top+getSide(B,"top")):x.bottom>q.bottom-getSide(b,"bottom")&&(ne=x.bottom-x.top>q.bottom-q.top?x.top+getSide(B,"top")-q.top:x.bottom-q.bottom+getSide(B,"bottom")),x.left<q.left+getSide(b,"left")?ee=-(q.left-x.left+getSide(B,"left")):x.right>q.right-getSide(b,"right")&&(ee=x.right-q.right+getSide(B,"right")),ee||ne)if(G)R.defaultView.scrollBy(ee,ne);else{let pe=O.scrollLeft,xe=O.scrollTop;ne&&(O.scrollTop+=ne),ee&&(O.scrollLeft+=ee);let _e=O.scrollLeft-pe,Ue=O.scrollTop-xe;x={left:x.left-_e,top:x.top-Ue,right:x.right-_e,bottom:x.bottom-Ue}}let oe=G?"fixed":getComputedStyle(I).position;if(/^(fixed|sticky)$/.test(oe))break;I=oe=="absolute"?I.offsetParent:parentNode(I)}}function storeScrollPos(r){let x=r.dom.getBoundingClientRect(),y=Math.max(0,x.top),b,B;for(let R=(x.left+x.right)/2,I=y+1;I<Math.min(innerHeight,x.bottom);I+=5){let O=r.root.elementFromPoint(R,I);if(!O||O==r.dom||!r.dom.contains(O))continue;let G=O.getBoundingClientRect();if(G.top>=y-20){b=O,B=G.top;break}}return{refDOM:b,refTop:B,stack:scrollStack(r.dom)}}function scrollStack(r){let x=[],y=r.ownerDocument;for(let b=r;b&&(x.push({dom:b,top:b.scrollTop,left:b.scrollLeft}),r!=y);b=parentNode(b));return x}function resetScrollPos({refDOM:r,refTop:x,stack:y}){let b=r?r.getBoundingClientRect().top:0;restoreScrollStack(y,b==0?0:b-x)}function restoreScrollStack(r,x){for(let y=0;y<r.length;y++){let{dom:b,top:B,left:R}=r[y];b.scrollTop!=B+x&&(b.scrollTop=B+x),b.scrollLeft!=R&&(b.scrollLeft=R)}}let preventScrollSupported=null;function focusPreventScroll(r){if(r.setActive)return r.setActive();if(preventScrollSupported)return r.focus(preventScrollSupported);let x=scrollStack(r);r.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(x,0))}function findOffsetInNode(r,x){let y,b=2e8,B,R=0,I=x.top,O=x.top,G,q;for(let ee=r.firstChild,ne=0;ee;ee=ee.nextSibling,ne++){let oe;if(ee.nodeType==1)oe=ee.getClientRects();else if(ee.nodeType==3)oe=textRange(ee).getClientRects();else continue;for(let pe=0;pe<oe.length;pe++){let xe=oe[pe];if(xe.top<=I&&xe.bottom>=O){I=Math.max(xe.bottom,I),O=Math.min(xe.top,O);let _e=xe.left>x.left?xe.left-x.left:xe.right<x.left?x.left-xe.right:0;if(_e<b){y=ee,b=_e,B=_e&&y.nodeType==3?{left:xe.right<x.left?xe.right:xe.left,top:x.top}:x,ee.nodeType==1&&_e&&(R=ne+(x.left>=(xe.left+xe.right)/2?1:0));continue}}else xe.top>x.top&&!G&&xe.left<=x.left&&xe.right>=x.left&&(G=ee,q={left:Math.max(xe.left,Math.min(xe.right,x.left)),top:xe.top});!y&&(x.left>=xe.right&&x.top>=xe.top||x.left>=xe.left&&x.top>=xe.bottom)&&(R=ne+1)}}return!y&&G&&(y=G,B=q,b=0),y&&y.nodeType==3?findOffsetInText(y,B):!y||b&&y.nodeType==1?{node:r,offset:R}:findOffsetInNode(y,B)}function findOffsetInText(r,x){let y=r.nodeValue.length,b=document.createRange();for(let B=0;B<y;B++){b.setEnd(r,B+1),b.setStart(r,B);let R=singleRect(b,1);if(R.top!=R.bottom&&inRect(x,R))return{node:r,offset:B+(x.left>=(R.left+R.right)/2?1:0)}}return{node:r,offset:0}}function inRect(r,x){return r.left>=x.left-1&&r.left<=x.right+1&&r.top>=x.top-1&&r.top<=x.bottom+1}function targetKludge(r,x){let y=r.parentNode;return y&&/^li$/i.test(y.nodeName)&&x.left<r.getBoundingClientRect().left?y:r}function posFromElement(r,x,y){let{node:b,offset:B}=findOffsetInNode(x,y),R=-1;if(b.nodeType==1&&!b.firstChild){let I=b.getBoundingClientRect();R=I.left!=I.right&&y.left>(I.left+I.right)/2?1:-1}return r.docView.posFromDOM(b,B,R)}function posFromCaret(r,x,y,b){let B=-1;for(let R=x,I=!1;R!=r.dom;){let O=r.docView.nearestDesc(R,!0),G;if(!O)return null;if(O.dom.nodeType==1&&(O.node.isBlock&&O.parent||!O.contentDOM)&&((G=O.dom.getBoundingClientRect()).width||G.height)&&(O.node.isBlock&&O.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(O.dom.nodeName)&&(!I&&G.left>b.left||G.top>b.top?B=O.posBefore:(!I&&G.right<b.left||G.bottom<b.top)&&(B=O.posAfter),I=!0),!O.contentDOM&&B<0&&!O.node.isText))return(O.node.isBlock?b.top<(G.top+G.bottom)/2:b.left<(G.left+G.right)/2)?O.posBefore:O.posAfter;R=O.dom.parentNode}return B>-1?B:r.docView.posFromDOM(x,y,-1)}function elementFromPoint(r,x,y){let b=r.childNodes.length;if(b&&y.top<y.bottom)for(let B=Math.max(0,Math.min(b-1,Math.floor(b*(x.top-y.top)/(y.bottom-y.top))-2)),R=B;;){let I=r.childNodes[R];if(I.nodeType==1){let O=I.getClientRects();for(let G=0;G<O.length;G++){let q=O[G];if(inRect(x,q))return elementFromPoint(I,x,q)}}if((R=(R+1)%b)==B)break}return r}function posAtCoords(r,x){let y=r.dom.ownerDocument,b,B=0,R=caretFromPoint(y,x.left,x.top);R&&({node:b,offset:B}=R);let I=(r.root.elementFromPoint?r.root:y).elementFromPoint(x.left,x.top),O;if(!I||!r.dom.contains(I.nodeType!=1?I.parentNode:I)){let q=r.dom.getBoundingClientRect();if(!inRect(x,q)||(I=elementFromPoint(r.dom,x,q),!I))return null}if(safari)for(let q=I;b&&q;q=parentNode(q))q.draggable&&(b=void 0);if(I=targetKludge(I,x),b){if(gecko&&b.nodeType==1&&(B=Math.min(B,b.childNodes.length),B<b.childNodes.length)){let ee=b.childNodes[B],ne;ee.nodeName=="IMG"&&(ne=ee.getBoundingClientRect()).right<=x.left&&ne.bottom>x.top&&B++}let q;webkit&&B&&b.nodeType==1&&(q=b.childNodes[B-1]).nodeType==1&&q.contentEditable=="false"&&q.getBoundingClientRect().top>=x.top&&B--,b==r.dom&&B==b.childNodes.length-1&&b.lastChild.nodeType==1&&x.top>b.lastChild.getBoundingClientRect().bottom?O=r.state.doc.content.size:(B==0||b.nodeType!=1||b.childNodes[B-1].nodeName!="BR")&&(O=posFromCaret(r,b,B,x))}O==null&&(O=posFromElement(r,I,x));let G=r.docView.nearestDesc(I,!0);return{pos:O,inside:G?G.posAtStart-G.border:-1}}function nonZero(r){return r.top<r.bottom||r.left<r.right}function singleRect(r,x){let y=r.getClientRects();if(y.length){let b=y[x<0?0:y.length-1];if(nonZero(b))return b}return Array.prototype.find.call(y,nonZero)||r.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(r,x,y){let{node:b,offset:B,atom:R}=r.docView.domFromPos(x,y<0?-1:1),I=webkit||gecko;if(b.nodeType==3)if(I&&(BIDI.test(b.nodeValue)||(y<0?!B:B==b.nodeValue.length))){let G=singleRect(textRange(b,B,B),y);if(gecko&&B&&/\s/.test(b.nodeValue[B-1])&&B<b.nodeValue.length){let q=singleRect(textRange(b,B-1,B-1),-1);if(q.top==G.top){let ee=singleRect(textRange(b,B,B+1),-1);if(ee.top!=G.top)return flattenV(ee,ee.left<q.left)}}return G}else{let G=B,q=B,ee=y<0?1:-1;return y<0&&!B?(q++,ee=-1):y>=0&&B==b.nodeValue.length?(G--,ee=1):y<0?G--:q++,flattenV(singleRect(textRange(b,G,q),ee),ee<0)}if(!r.state.doc.resolve(x-(R||0)).parent.inlineContent){if(R==null&&B&&(y<0||B==nodeSize(b))){let G=b.childNodes[B-1];if(G.nodeType==1)return flattenH(G.getBoundingClientRect(),!1)}if(R==null&&B<nodeSize(b)){let G=b.childNodes[B];if(G.nodeType==1)return flattenH(G.getBoundingClientRect(),!0)}return flattenH(b.getBoundingClientRect(),y>=0)}if(R==null&&B&&(y<0||B==nodeSize(b))){let G=b.childNodes[B-1],q=G.nodeType==3?textRange(G,nodeSize(G)-(I?0:1)):G.nodeType==1&&(G.nodeName!="BR"||!G.nextSibling)?G:null;if(q)return flattenV(singleRect(q,1),!1)}if(R==null&&B<nodeSize(b)){let G=b.childNodes[B];for(;G.pmViewDesc&&G.pmViewDesc.ignoreForCoords;)G=G.nextSibling;let q=G?G.nodeType==3?textRange(G,0,I?0:1):G.nodeType==1?G:null:null;if(q)return flattenV(singleRect(q,-1),!0)}return flattenV(singleRect(b.nodeType==3?textRange(b):b,-y),y>=0)}function flattenV(r,x){if(r.width==0)return r;let y=x?r.left:r.right;return{top:r.top,bottom:r.bottom,left:y,right:y}}function flattenH(r,x){if(r.height==0)return r;let y=x?r.top:r.bottom;return{top:y,bottom:y,left:r.left,right:r.right}}function withFlushedState(r,x,y){let b=r.state,B=r.root.activeElement;b!=x&&r.updateState(x),B!=r.dom&&r.focus();try{return y()}finally{b!=x&&r.updateState(b),B!=r.dom&&B&&B.focus()}}function endOfTextblockVertical(r,x,y){let b=x.selection,B=y=="up"?b.$from:b.$to;return withFlushedState(r,x,()=>{let{node:R}=r.docView.domFromPos(B.pos,y=="up"?-1:1);for(;;){let O=r.docView.nearestDesc(R,!0);if(!O)break;if(O.node.isBlock){R=O.contentDOM||O.dom;break}R=O.dom.parentNode}let I=coordsAtPos(r,B.pos,1);for(let O=R.firstChild;O;O=O.nextSibling){let G;if(O.nodeType==1)G=O.getClientRects();else if(O.nodeType==3)G=textRange(O,0,O.nodeValue.length).getClientRects();else continue;for(let q=0;q<G.length;q++){let ee=G[q];if(ee.bottom>ee.top+1&&(y=="up"?I.top-ee.top>(ee.bottom-I.top)*2:ee.bottom-I.bottom>(I.bottom-ee.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(r,x,y){let{$head:b}=x.selection;if(!b.parent.isTextblock)return!1;let B=b.parentOffset,R=!B,I=B==b.parent.content.size,O=r.domSelection();return O?!maybeRTL.test(b.parent.textContent)||!O.modify?y=="left"||y=="backward"?R:I:withFlushedState(r,x,()=>{let{focusNode:G,focusOffset:q,anchorNode:ee,anchorOffset:ne}=r.domSelectionRange(),oe=O.caretBidiLevel;O.modify("move",y,"character");let pe=b.depth?r.docView.domAfterPos(b.before()):r.dom,{focusNode:xe,focusOffset:_e}=r.domSelectionRange(),Ue=xe&&!pe.contains(xe.nodeType==1?xe:xe.parentNode)||G==xe&&q==_e;try{O.collapse(ee,ne),G&&(G!=ee||q!=ne)&&O.extend&&O.extend(G,q)}catch{}return oe!=null&&(O.caretBidiLevel=oe),Ue}):b.pos==b.start()||b.pos==b.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(r,x,y){return cachedState==x&&cachedDir==y?cachedResult:(cachedState=x,cachedDir=y,cachedResult=y=="up"||y=="down"?endOfTextblockVertical(r,x,y):endOfTextblockHorizontal(r,x,y))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(x,y,b,B){this.parent=x,this.children=y,this.dom=b,this.contentDOM=B,this.dirty=NOT_DIRTY,b.pmViewDesc=this}matchesWidget(x){return!1}matchesMark(x){return!1}matchesNode(x,y,b){return!1}matchesHack(x){return!1}parseRule(){return null}stopEvent(x){return!1}get size(){let x=0;for(let y=0;y<this.children.length;y++)x+=this.children[y].size;return x}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let x=0;x<this.children.length;x++)this.children[x].destroy()}posBeforeChild(x){for(let y=0,b=this.posAtStart;;y++){let B=this.children[y];if(B==x)return b;b+=B.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(x,y,b){if(this.contentDOM&&this.contentDOM.contains(x.nodeType==1?x:x.parentNode))if(b<0){let R,I;if(x==this.contentDOM)R=x.childNodes[y-1];else{for(;x.parentNode!=this.contentDOM;)x=x.parentNode;R=x.previousSibling}for(;R&&!((I=R.pmViewDesc)&&I.parent==this);)R=R.previousSibling;return R?this.posBeforeChild(I)+I.size:this.posAtStart}else{let R,I;if(x==this.contentDOM)R=x.childNodes[y];else{for(;x.parentNode!=this.contentDOM;)x=x.parentNode;R=x.nextSibling}for(;R&&!((I=R.pmViewDesc)&&I.parent==this);)R=R.nextSibling;return R?this.posBeforeChild(I):this.posAtEnd}let B;if(x==this.dom&&this.contentDOM)B=y>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))B=x.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(y==0)for(let R=x;;R=R.parentNode){if(R==this.dom){B=!1;break}if(R.previousSibling)break}if(B==null&&y==x.childNodes.length)for(let R=x;;R=R.parentNode){if(R==this.dom){B=!0;break}if(R.nextSibling)break}}return B??b>0?this.posAtEnd:this.posAtStart}nearestDesc(x,y=!1){for(let b=!0,B=x;B;B=B.parentNode){let R=this.getDesc(B),I;if(R&&(!y||R.node))if(b&&(I=R.nodeDOM)&&!(I.nodeType==1?I.contains(x.nodeType==1?x:x.parentNode):I==x))b=!1;else return R}}getDesc(x){let y=x.pmViewDesc;for(let b=y;b;b=b.parent)if(b==this)return y}posFromDOM(x,y,b){for(let B=x;B;B=B.parentNode){let R=this.getDesc(B);if(R)return R.localPosFromDOM(x,y,b)}return-1}descAt(x){for(let y=0,b=0;y<this.children.length;y++){let B=this.children[y],R=b+B.size;if(b==x&&R!=b){for(;!B.border&&B.children.length;)for(let I=0;I<B.children.length;I++){let O=B.children[I];if(O.size){B=O;break}}return B}if(x<R)return B.descAt(x-b-B.border);b=R}}domFromPos(x,y){if(!this.contentDOM)return{node:this.dom,offset:0,atom:x+1};let b=0,B=0;for(let R=0;b<this.children.length;b++){let I=this.children[b],O=R+I.size;if(O>x||I instanceof TrailingHackViewDesc){B=x-R;break}R=O}if(B)return this.children[b].domFromPos(B-this.children[b].border,y);for(let R;b&&!(R=this.children[b-1]).size&&R instanceof WidgetViewDesc&&R.side>=0;b--);if(y<=0){let R,I=!0;for(;R=b?this.children[b-1]:null,!(!R||R.dom.parentNode==this.contentDOM);b--,I=!1);return R&&y&&I&&!R.border&&!R.domAtom?R.domFromPos(R.size,y):{node:this.contentDOM,offset:R?domIndex(R.dom)+1:0}}else{let R,I=!0;for(;R=b<this.children.length?this.children[b]:null,!(!R||R.dom.parentNode==this.contentDOM);b++,I=!1);return R&&I&&!R.border&&!R.domAtom?R.domFromPos(0,y):{node:this.contentDOM,offset:R?domIndex(R.dom):this.contentDOM.childNodes.length}}}parseRange(x,y,b=0){if(this.children.length==0)return{node:this.contentDOM,from:x,to:y,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let B=-1,R=-1;for(let I=b,O=0;;O++){let G=this.children[O],q=I+G.size;if(B==-1&&x<=q){let ee=I+G.border;if(x>=ee&&y<=q-G.border&&G.node&&G.contentDOM&&this.contentDOM.contains(G.contentDOM))return G.parseRange(x,y,ee);x=I;for(let ne=O;ne>0;ne--){let oe=this.children[ne-1];if(oe.size&&oe.dom.parentNode==this.contentDOM&&!oe.emptyChildAt(1)){B=domIndex(oe.dom)+1;break}x-=oe.size}B==-1&&(B=0)}if(B>-1&&(q>y||O==this.children.length-1)){y=q;for(let ee=O+1;ee<this.children.length;ee++){let ne=this.children[ee];if(ne.size&&ne.dom.parentNode==this.contentDOM&&!ne.emptyChildAt(-1)){R=domIndex(ne.dom);break}y+=ne.size}R==-1&&(R=this.contentDOM.childNodes.length);break}I=q}return{node:this.contentDOM,from:x,to:y,fromOffset:B,toOffset:R}}emptyChildAt(x){if(this.border||!this.contentDOM||!this.children.length)return!1;let y=this.children[x<0?0:this.children.length-1];return y.size==0||y.emptyChildAt(x)}domAfterPos(x){let{node:y,offset:b}=this.domFromPos(x,0);if(y.nodeType!=1||b==y.childNodes.length)throw new RangeError("No node after pos "+x);return y.childNodes[b]}setSelection(x,y,b,B=!1){let R=Math.min(x,y),I=Math.max(x,y);for(let pe=0,xe=0;pe<this.children.length;pe++){let _e=this.children[pe],Ue=xe+_e.size;if(R>xe&&I<Ue)return _e.setSelection(x-xe-_e.border,y-xe-_e.border,b,B);xe=Ue}let O=this.domFromPos(x,x?-1:1),G=y==x?O:this.domFromPos(y,y?-1:1),q=b.root.getSelection(),ee=b.domSelectionRange(),ne=!1;if((gecko||safari)&&x==y){let{node:pe,offset:xe}=O;if(pe.nodeType==3){if(ne=!!(xe&&pe.nodeValue[xe-1]==`
`),ne&&xe==pe.nodeValue.length)for(let _e=pe,Ue;_e;_e=_e.parentNode){if(Ue=_e.nextSibling){Ue.nodeName=="BR"&&(O=G={node:Ue.parentNode,offset:domIndex(Ue)+1});break}let Le=_e.pmViewDesc;if(Le&&Le.node&&Le.node.isBlock)break}}else{let _e=pe.childNodes[xe-1];ne=_e&&(_e.nodeName=="BR"||_e.contentEditable=="false")}}if(gecko&&ee.focusNode&&ee.focusNode!=G.node&&ee.focusNode.nodeType==1){let pe=ee.focusNode.childNodes[ee.focusOffset];pe&&pe.contentEditable=="false"&&(B=!0)}if(!(B||ne&&safari)&&isEquivalentPosition(O.node,O.offset,ee.anchorNode,ee.anchorOffset)&&isEquivalentPosition(G.node,G.offset,ee.focusNode,ee.focusOffset))return;let oe=!1;if((q.extend||x==y)&&!(ne&&gecko)){q.collapse(O.node,O.offset);try{x!=y&&q.extend(G.node,G.offset),oe=!0}catch{}}if(!oe){if(x>y){let xe=O;O=G,G=xe}let pe=document.createRange();pe.setEnd(G.node,G.offset),pe.setStart(O.node,O.offset),q.removeAllRanges(),q.addRange(pe)}}ignoreMutation(x){return!this.contentDOM&&x.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(x,y){for(let b=0,B=0;B<this.children.length;B++){let R=this.children[B],I=b+R.size;if(b==I?x<=I&&y>=b:x<I&&y>b){let O=b+R.border,G=I-R.border;if(x>=O&&y<=G){this.dirty=x==b||y==I?CONTENT_DIRTY:CHILD_DIRTY,x==O&&y==G&&(R.contentLost||R.dom.parentNode!=this.contentDOM)?R.dirty=NODE_DIRTY:R.markDirty(x-O,y-O);return}else R.dirty=R.dom==R.contentDOM&&R.dom.parentNode==this.contentDOM&&!R.children.length?CONTENT_DIRTY:NODE_DIRTY}b=I}this.dirty=CONTENT_DIRTY}markParentsDirty(){let x=1;for(let y=this.parent;y;y=y.parent,x++){let b=x==1?CONTENT_DIRTY:CHILD_DIRTY;y.dirty<b&&(y.dirty=b)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(x){return!1}}class WidgetViewDesc extends ViewDesc{constructor(x,y,b,B){let R,I=y.type.toDOM;if(typeof I=="function"&&(I=I(b,()=>{if(!R)return B;if(R.parent)return R.parent.posBeforeChild(R)})),!y.type.spec.raw){if(I.nodeType!=1){let O=document.createElement("span");O.appendChild(I),I=O}I.contentEditable="false",I.classList.add("ProseMirror-widget")}super(x,[],I,null),this.widget=y,this.widget=y,R=this}matchesWidget(x){return this.dirty==NOT_DIRTY&&x.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(x){let y=this.widget.spec.stopEvent;return y?y(x):!1}ignoreMutation(x){return x.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(x,y,b,B){super(x,[],y,null),this.textDOM=b,this.text=B}get size(){return this.text.length}localPosFromDOM(x,y){return x!=this.textDOM?this.posAtStart+(y?this.size:0):this.posAtStart+y}domFromPos(x){return{node:this.textDOM,offset:x}}ignoreMutation(x){return x.type==="characterData"&&x.target.nodeValue==x.oldValue}}class MarkViewDesc extends ViewDesc{constructor(x,y,b,B,R){super(x,[],b,B),this.mark=y,this.spec=R}static create(x,y,b,B){let R=B.nodeViews[y.type.name],I=R&&R(y,B,b);return(!I||!I.dom)&&(I=DOMSerializer.renderSpec(document,y.type.spec.toDOM(y,b),null,y.attrs)),new MarkViewDesc(x,y,I.dom,I.contentDOM||I.dom,I)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(x){return this.dirty!=NODE_DIRTY&&this.mark.eq(x)}markDirty(x,y){if(super.markDirty(x,y),this.dirty!=NOT_DIRTY){let b=this.parent;for(;!b.node;)b=b.parent;b.dirty<this.dirty&&(b.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(x,y,b){let B=MarkViewDesc.create(this.parent,this.mark,!0,b),R=this.children,I=this.size;y<I&&(R=replaceNodes(R,y,I,b)),x>0&&(R=replaceNodes(R,0,x,b));for(let O=0;O<R.length;O++)R[O].parent=B;return B.children=R,B}ignoreMutation(x){return this.spec.ignoreMutation?this.spec.ignoreMutation(x):super.ignoreMutation(x)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(x,y,b,B,R,I,O,G,q){super(x,[],R,I),this.node=y,this.outerDeco=b,this.innerDeco=B,this.nodeDOM=O}static create(x,y,b,B,R,I){let O=R.nodeViews[y.type.name],G,q=O&&O(y,R,()=>{if(!G)return I;if(G.parent)return G.parent.posBeforeChild(G)},b,B),ee=q&&q.dom,ne=q&&q.contentDOM;if(y.isText){if(!ee)ee=document.createTextNode(y.text);else if(ee.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else ee||({dom:ee,contentDOM:ne}=DOMSerializer.renderSpec(document,y.type.spec.toDOM(y),null,y.attrs));!ne&&!y.isText&&ee.nodeName!="BR"&&(ee.hasAttribute("contenteditable")||(ee.contentEditable="false"),y.type.spec.draggable&&(ee.draggable=!0));let oe=ee;return ee=applyOuterDeco(ee,b,y),q?G=new CustomNodeViewDesc(x,y,b,B,ee,ne||null,oe,q,R,I+1):y.isText?new TextViewDesc(x,y,b,B,ee,oe,R):new NodeViewDesc(x,y,b,B,ee,ne||null,oe,R,I+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let x={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(x.preserveWhitespace="full"),!this.contentDOM)x.getContent=()=>this.node.content;else if(!this.contentLost)x.contentElement=this.contentDOM;else{for(let y=this.children.length-1;y>=0;y--){let b=this.children[y];if(this.dom.contains(b.dom.parentNode)){x.contentElement=b.dom.parentNode;break}}x.contentElement||(x.getContent=()=>Fragment.empty)}return x}matchesNode(x,y,b){return this.dirty==NOT_DIRTY&&x.eq(this.node)&&sameOuterDeco(y,this.outerDeco)&&b.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(x,y){let b=this.node.inlineContent,B=y,R=x.composing?this.localCompositionInfo(x,y):null,I=R&&R.pos>-1?R:null,O=R&&R.pos<0,G=new ViewTreeUpdater(this,I&&I.node,x);iterDeco(this.node,this.innerDeco,(q,ee,ne)=>{q.spec.marks?G.syncToMarks(q.spec.marks,b,x):q.type.side>=0&&!ne&&G.syncToMarks(ee==this.node.childCount?Mark$1.none:this.node.child(ee).marks,b,x),G.placeWidget(q,x,B)},(q,ee,ne,oe)=>{G.syncToMarks(q.marks,b,x);let pe;G.findNodeMatch(q,ee,ne,oe)||O&&x.state.selection.from>B&&x.state.selection.to<B+q.nodeSize&&(pe=G.findIndexWithChild(R.node))>-1&&G.updateNodeAt(q,ee,ne,pe,x)||G.updateNextNode(q,ee,ne,x,oe,B)||G.addNode(q,ee,ne,x,B),B+=q.nodeSize}),G.syncToMarks([],b,x),this.node.isTextblock&&G.addTextblockHacks(),G.destroyRest(),(G.changed||this.dirty==CONTENT_DIRTY)&&(I&&this.protectLocalComposition(x,I),renderDescs(this.contentDOM,this.children,x),ios&&iosHacks(this.dom))}localCompositionInfo(x,y){let{from:b,to:B}=x.state.selection;if(!(x.state.selection instanceof TextSelection)||b<y||B>y+this.node.content.size)return null;let R=x.input.compositionNode;if(!R||!this.dom.contains(R.parentNode))return null;if(this.node.inlineContent){let I=R.nodeValue,O=findTextInFragment(this.node.content,I,b-y,B-y);return O<0?null:{node:R,pos:O,text:I}}else return{node:R,pos:-1,text:""}}protectLocalComposition(x,{node:y,pos:b,text:B}){if(this.getDesc(y))return;let R=y;for(;R.parentNode!=this.contentDOM;R=R.parentNode){for(;R.previousSibling;)R.parentNode.removeChild(R.previousSibling);for(;R.nextSibling;)R.parentNode.removeChild(R.nextSibling);R.pmViewDesc&&(R.pmViewDesc=void 0)}let I=new CompositionViewDesc(this,R,y,B);x.input.compositionNodes.push(I),this.children=replaceNodes(this.children,b,b+B.length,x,I)}update(x,y,b,B){return this.dirty==NODE_DIRTY||!x.sameMarkup(this.node)?!1:(this.updateInner(x,y,b,B),!0)}updateInner(x,y,b,B){this.updateOuterDeco(y),this.node=x,this.innerDeco=b,this.contentDOM&&this.updateChildren(B,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(x){if(sameOuterDeco(x,this.outerDeco))return;let y=this.nodeDOM.nodeType!=1,b=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,y),computeOuterDeco(x,this.node,y)),this.dom!=b&&(b.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=x}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(r,x,y,b,B){applyOuterDeco(b,x,r);let R=new NodeViewDesc(void 0,r,x,y,b,b,b,B,0);return R.contentDOM&&R.updateChildren(B,0),R}class TextViewDesc extends NodeViewDesc{constructor(x,y,b,B,R,I,O){super(x,y,b,B,R,null,I,O,0)}parseRule(){let x=this.nodeDOM.parentNode;for(;x&&x!=this.dom&&!x.pmIsDeco;)x=x.parentNode;return{skip:x||!0}}update(x,y,b,B){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!x.sameMarkup(this.node)?!1:(this.updateOuterDeco(y),(this.dirty!=NOT_DIRTY||x.text!=this.node.text)&&x.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=x.text,B.trackWrites==this.nodeDOM&&(B.trackWrites=null)),this.node=x,this.dirty=NOT_DIRTY,!0)}inParent(){let x=this.parent.contentDOM;for(let y=this.nodeDOM;y;y=y.parentNode)if(y==x)return!0;return!1}domFromPos(x){return{node:this.nodeDOM,offset:x}}localPosFromDOM(x,y,b){return x==this.nodeDOM?this.posAtStart+Math.min(y,this.node.text.length):super.localPosFromDOM(x,y,b)}ignoreMutation(x){return x.type!="characterData"&&x.type!="selection"}slice(x,y,b){let B=this.node.cut(x,y),R=document.createTextNode(B.text);return new TextViewDesc(this.parent,B,this.outerDeco,this.innerDeco,R,R,b)}markDirty(x,y){super.markDirty(x,y),this.dom!=this.nodeDOM&&(x==0||y==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(x){return this.node.text==x}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(x){return this.dirty==NOT_DIRTY&&this.dom.nodeName==x}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(x,y,b,B,R,I,O,G,q,ee){super(x,y,b,B,R,I,O,q,ee),this.spec=G}update(x,y,b,B){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==x.type||this.spec.multiType)){let R=this.spec.update(x,y,b);return R&&this.updateInner(x,y,b,B),R}else return!this.contentDOM&&!x.isLeaf?!1:super.update(x,y,b,B)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(x,y,b,B){this.spec.setSelection?this.spec.setSelection(x,y,b.root):super.setSelection(x,y,b,B)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(x){return this.spec.stopEvent?this.spec.stopEvent(x):!1}ignoreMutation(x){return this.spec.ignoreMutation?this.spec.ignoreMutation(x):super.ignoreMutation(x)}}function renderDescs(r,x,y){let b=r.firstChild,B=!1;for(let R=0;R<x.length;R++){let I=x[R],O=I.dom;if(O.parentNode==r){for(;O!=b;)b=rm(b),B=!0;b=b.nextSibling}else B=!0,r.insertBefore(O,b);if(I instanceof MarkViewDesc){let G=b?b.previousSibling:r.lastChild;renderDescs(I.contentDOM,I.children,y),b=G?G.nextSibling:r.firstChild}}for(;b;)b=rm(b),B=!0;B&&y.trackWrites==r&&(y.trackWrites=null)}const OuterDecoLevel=function(r){r&&(this.nodeName=r)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(r,x,y){if(r.length==0)return noDeco;let b=y?noDeco[0]:new OuterDecoLevel,B=[b];for(let R=0;R<r.length;R++){let I=r[R].type.attrs;if(I){I.nodeName&&B.push(b=new OuterDecoLevel(I.nodeName));for(let O in I){let G=I[O];G!=null&&(y&&B.length==1&&B.push(b=new OuterDecoLevel(x.isInline?"span":"div")),O=="class"?b.class=(b.class?b.class+" ":"")+G:O=="style"?b.style=(b.style?b.style+";":"")+G:O!="nodeName"&&(b[O]=G))}}}return B}function patchOuterDeco(r,x,y,b){if(y==noDeco&&b==noDeco)return x;let B=x;for(let R=0;R<b.length;R++){let I=b[R],O=y[R];if(R){let G;O&&O.nodeName==I.nodeName&&B!=r&&(G=B.parentNode)&&G.nodeName.toLowerCase()==I.nodeName||(G=document.createElement(I.nodeName),G.pmIsDeco=!0,G.appendChild(B),O=noDeco[0]),B=G}patchAttributes(B,O||noDeco[0],I)}return B}function patchAttributes(r,x,y){for(let b in x)b!="class"&&b!="style"&&b!="nodeName"&&!(b in y)&&r.removeAttribute(b);for(let b in y)b!="class"&&b!="style"&&b!="nodeName"&&y[b]!=x[b]&&r.setAttribute(b,y[b]);if(x.class!=y.class){let b=x.class?x.class.split(" ").filter(Boolean):[],B=y.class?y.class.split(" ").filter(Boolean):[];for(let R=0;R<b.length;R++)B.indexOf(b[R])==-1&&r.classList.remove(b[R]);for(let R=0;R<B.length;R++)b.indexOf(B[R])==-1&&r.classList.add(B[R]);r.classList.length==0&&r.removeAttribute("class")}if(x.style!=y.style){if(x.style){let b=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,B;for(;B=b.exec(x.style);)r.style.removeProperty(B[1])}y.style&&(r.style.cssText+=y.style)}}function applyOuterDeco(r,x,y){return patchOuterDeco(r,r,noDeco,computeOuterDeco(x,y,r.nodeType!=1))}function sameOuterDeco(r,x){if(r.length!=x.length)return!1;for(let y=0;y<r.length;y++)if(!r[y].type.eq(x[y].type))return!1;return!0}function rm(r){let x=r.nextSibling;return r.parentNode.removeChild(r),x}class ViewTreeUpdater{constructor(x,y,b){this.lock=y,this.view=b,this.index=0,this.stack=[],this.changed=!1,this.top=x,this.preMatch=preMatch(x.node.content,x)}destroyBetween(x,y){if(x!=y){for(let b=x;b<y;b++)this.top.children[b].destroy();this.top.children.splice(x,y-x),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(x,y,b){let B=0,R=this.stack.length>>1,I=Math.min(R,x.length);for(;B<I&&(B==R-1?this.top:this.stack[B+1<<1]).matchesMark(x[B])&&x[B].type.spec.spanning!==!1;)B++;for(;B<R;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),R--;for(;R<x.length;){this.stack.push(this.top,this.index+1);let O=-1;for(let G=this.index;G<Math.min(this.index+3,this.top.children.length);G++){let q=this.top.children[G];if(q.matchesMark(x[R])&&!this.isLocked(q.dom)){O=G;break}}if(O>-1)O>this.index&&(this.changed=!0,this.destroyBetween(this.index,O)),this.top=this.top.children[this.index];else{let G=MarkViewDesc.create(this.top,x[R],y,b);this.top.children.splice(this.index,0,G),this.top=G,this.changed=!0}this.index=0,R++}}findNodeMatch(x,y,b,B){let R=-1,I;if(B>=this.preMatch.index&&(I=this.preMatch.matches[B-this.preMatch.index]).parent==this.top&&I.matchesNode(x,y,b))R=this.top.children.indexOf(I,this.index);else for(let O=this.index,G=Math.min(this.top.children.length,O+5);O<G;O++){let q=this.top.children[O];if(q.matchesNode(x,y,b)&&!this.preMatch.matched.has(q)){R=O;break}}return R<0?!1:(this.destroyBetween(this.index,R),this.index++,!0)}updateNodeAt(x,y,b,B,R){let I=this.top.children[B];return I.dirty==NODE_DIRTY&&I.dom==I.contentDOM&&(I.dirty=CONTENT_DIRTY),I.update(x,y,b,R)?(this.destroyBetween(this.index,B),this.index++,!0):!1}findIndexWithChild(x){for(;;){let y=x.parentNode;if(!y)return-1;if(y==this.top.contentDOM){let b=x.pmViewDesc;if(b){for(let B=this.index;B<this.top.children.length;B++)if(this.top.children[B]==b)return B}return-1}x=y}}updateNextNode(x,y,b,B,R,I){for(let O=this.index;O<this.top.children.length;O++){let G=this.top.children[O];if(G instanceof NodeViewDesc){let q=this.preMatch.matched.get(G);if(q!=null&&q!=R)return!1;let ee=G.dom,ne,oe=this.isLocked(ee)&&!(x.isText&&G.node&&G.node.isText&&G.nodeDOM.nodeValue==x.text&&G.dirty!=NODE_DIRTY&&sameOuterDeco(y,G.outerDeco));if(!oe&&G.update(x,y,b,B))return this.destroyBetween(this.index,O),G.dom!=ee&&(this.changed=!0),this.index++,!0;if(!oe&&(ne=this.recreateWrapper(G,x,y,b,B,I)))return this.destroyBetween(this.index,O),this.top.children[this.index]=ne,ne.contentDOM&&(ne.dirty=CONTENT_DIRTY,ne.updateChildren(B,I+1),ne.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(x,y,b,B,R,I){if(x.dirty||y.isAtom||!x.children.length||!x.node.content.eq(y.content)||!sameOuterDeco(b,x.outerDeco)||!B.eq(x.innerDeco))return null;let O=NodeViewDesc.create(this.top,y,b,B,R,I);if(O.contentDOM){O.children=x.children,x.children=[];for(let G of O.children)G.parent=O}return x.destroy(),O}addNode(x,y,b,B,R){let I=NodeViewDesc.create(this.top,x,y,b,B,R);I.contentDOM&&I.updateChildren(B,R+1),this.top.children.splice(this.index++,0,I),this.changed=!0}placeWidget(x,y,b){let B=this.index<this.top.children.length?this.top.children[this.index]:null;if(B&&B.matchesWidget(x)&&(x==B.widget||!B.widget.type.toDOM.parentNode))this.index++;else{let R=new WidgetViewDesc(this.top,x,y,b);this.top.children.splice(this.index++,0,R),this.changed=!0}}addTextblockHacks(){let x=this.top.children[this.index-1],y=this.top;for(;x instanceof MarkViewDesc;)y=x,x=y.children[y.children.length-1];(!x||!(x instanceof TextViewDesc)||/\n$/.test(x.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(x.node.text))&&((safari||chrome$1)&&x&&x.dom.contentEditable=="false"&&this.addHackNode("IMG",y),this.addHackNode("BR",this.top))}addHackNode(x,y){if(y==this.top&&this.index<y.children.length&&y.children[this.index].matchesHack(x))this.index++;else{let b=document.createElement(x);x=="IMG"&&(b.className="ProseMirror-separator",b.alt=""),x=="BR"&&(b.className="ProseMirror-trailingBreak");let B=new TrailingHackViewDesc(this.top,[],b,null);y!=this.top?y.children.push(B):y.children.splice(this.index++,0,B),this.changed=!0}}isLocked(x){return this.lock&&(x==this.lock||x.nodeType==1&&x.contains(this.lock.parentNode))}}function preMatch(r,x){let y=x,b=y.children.length,B=r.childCount,R=new Map,I=[];e:for(;B>0;){let O;for(;;)if(b){let q=y.children[b-1];if(q instanceof MarkViewDesc)y=q,b=q.children.length;else{O=q,b--;break}}else{if(y==x)break e;b=y.parent.children.indexOf(y),y=y.parent}let G=O.node;if(G){if(G!=r.child(B-1))break;--B,R.set(O,B),I.push(O)}}return{index:B,matched:R,matches:I.reverse()}}function compareSide(r,x){return r.type.side-x.type.side}function iterDeco(r,x,y,b){let B=x.locals(r),R=0;if(B.length==0){for(let q=0;q<r.childCount;q++){let ee=r.child(q);b(ee,B,x.forChild(R,ee),q),R+=ee.nodeSize}return}let I=0,O=[],G=null;for(let q=0;;){let ee,ne;for(;I<B.length&&B[I].to==R;){let Ue=B[I++];Ue.widget&&(ee?(ne||(ne=[ee])).push(Ue):ee=Ue)}if(ee)if(ne){ne.sort(compareSide);for(let Ue=0;Ue<ne.length;Ue++)y(ne[Ue],q,!!G)}else y(ee,q,!!G);let oe,pe;if(G)pe=-1,oe=G,G=null;else if(q<r.childCount)pe=q,oe=r.child(q++);else break;for(let Ue=0;Ue<O.length;Ue++)O[Ue].to<=R&&O.splice(Ue--,1);for(;I<B.length&&B[I].from<=R&&B[I].to>R;)O.push(B[I++]);let xe=R+oe.nodeSize;if(oe.isText){let Ue=xe;I<B.length&&B[I].from<Ue&&(Ue=B[I].from);for(let Le=0;Le<O.length;Le++)O[Le].to<Ue&&(Ue=O[Le].to);Ue<xe&&(G=oe.cut(Ue-R),oe=oe.cut(0,Ue-R),xe=Ue,pe=-1)}else for(;I<B.length&&B[I].to<xe;)I++;let _e=oe.isInline&&!oe.isLeaf?O.filter(Ue=>!Ue.inline):O.slice();b(oe,_e,x.forChild(R,oe),pe),R=xe}}function iosHacks(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let x=r.style.cssText;r.style.cssText=x+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=x}}function findTextInFragment(r,x,y,b){for(let B=0,R=0;B<r.childCount&&R<=b;){let I=r.child(B++),O=R;if(R+=I.nodeSize,!I.isText)continue;let G=I.text;for(;B<r.childCount;){let q=r.child(B++);if(R+=q.nodeSize,!q.isText)break;G+=q.text}if(R>=y){if(R>=b&&G.slice(b-x.length-O,b-O)==x)return b-x.length;let q=O<b?G.lastIndexOf(x,b-O-1):-1;if(q>=0&&q+x.length+O>=y)return O+q;if(y==b&&G.length>=b+x.length-O&&G.slice(b-O,b-O+x.length)==x)return b}}return-1}function replaceNodes(r,x,y,b,B){let R=[];for(let I=0,O=0;I<r.length;I++){let G=r[I],q=O,ee=O+=G.size;q>=y||ee<=x?R.push(G):(q<x&&R.push(G.slice(0,x-q,b)),B&&(R.push(B),B=void 0),ee>y&&R.push(G.slice(y-q,G.size,b)))}return R}function selectionFromDOM(r,x=null){let y=r.domSelectionRange(),b=r.state.doc;if(!y.focusNode)return null;let B=r.docView.nearestDesc(y.focusNode),R=B&&B.size==0,I=r.docView.posFromDOM(y.focusNode,y.focusOffset,1);if(I<0)return null;let O=b.resolve(I),G,q;if(selectionCollapsed(y)){for(G=I;B&&!B.node;)B=B.parent;let ne=B.node;if(B&&ne.isAtom&&NodeSelection.isSelectable(ne)&&B.parent&&!(ne.isInline&&isOnEdge(y.focusNode,y.focusOffset,B.dom))){let oe=B.posBefore;q=new NodeSelection(I==oe?O:b.resolve(oe))}}else{if(y instanceof r.dom.ownerDocument.defaultView.Selection&&y.rangeCount>1){let ne=I,oe=I;for(let pe=0;pe<y.rangeCount;pe++){let xe=y.getRangeAt(pe);ne=Math.min(ne,r.docView.posFromDOM(xe.startContainer,xe.startOffset,1)),oe=Math.max(oe,r.docView.posFromDOM(xe.endContainer,xe.endOffset,-1))}if(ne<0)return null;[G,I]=oe==r.state.selection.anchor?[oe,ne]:[ne,oe],O=b.resolve(I)}else G=r.docView.posFromDOM(y.anchorNode,y.anchorOffset,1);if(G<0)return null}let ee=b.resolve(G);if(!q){let ne=x=="pointer"||r.state.selection.head<O.pos&&!R?1:-1;q=selectionBetween(r,ee,O,ne)}return q}function editorOwnsSelection(r){return r.editable?r.hasFocus():hasSelection(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function selectionToDOM(r,x=!1){let y=r.state.selection;if(syncNodeSelection(r,y),!!editorOwnsSelection(r)){if(!x&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&chrome$1){let b=r.domSelectionRange(),B=r.domObserver.currentSelection;if(b.anchorNode&&B.anchorNode&&isEquivalentPosition(b.anchorNode,b.anchorOffset,B.anchorNode,B.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)selectCursorWrapper(r);else{let{anchor:b,head:B}=y,R,I;brokenSelectBetweenUneditable&&!(y instanceof TextSelection)&&(y.$from.parent.inlineContent||(R=temporarilyEditableNear(r,y.from)),!y.empty&&!y.$from.parent.inlineContent&&(I=temporarilyEditableNear(r,y.to))),r.docView.setSelection(b,B,r,x),brokenSelectBetweenUneditable&&(R&&resetEditable(R),I&&resetEditable(I)),y.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome$1&&chrome_version<63;function temporarilyEditableNear(r,x){let{node:y,offset:b}=r.docView.domFromPos(x,0),B=b<y.childNodes.length?y.childNodes[b]:null,R=b?y.childNodes[b-1]:null;if(safari&&B&&B.contentEditable=="false")return setEditable(B);if((!B||B.contentEditable=="false")&&(!R||R.contentEditable=="false")){if(B)return setEditable(B);if(R)return setEditable(R)}}function setEditable(r){return r.contentEditable="true",safari&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function resetEditable(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function removeClassOnSelectionChange(r){let x=r.dom.ownerDocument;x.removeEventListener("selectionchange",r.input.hideSelectionGuard);let y=r.domSelectionRange(),b=y.anchorNode,B=y.anchorOffset;x.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(y.anchorNode!=b||y.anchorOffset!=B)&&(x.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(r){let x=r.domSelection();if(!x)return;let y=r.cursorWrapper.dom,b=y.nodeName=="IMG";b?x.collapse(y.parentNode,domIndex(y)+1):x.collapse(y,0),!b&&!r.state.selection.visible&&ie$1&&ie_version<=11&&(y.disabled=!0,y.disabled=!1)}function syncNodeSelection(r,x){if(x instanceof NodeSelection){let y=r.docView.descAt(x.from);y!=r.lastSelectedViewDesc&&(clearNodeSelection(r),y&&y.selectNode(),r.lastSelectedViewDesc=y)}else clearNodeSelection(r)}function clearNodeSelection(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function selectionBetween(r,x,y,b){return r.someProp("createSelectionBetween",B=>B(r,x,y))||TextSelection.between(x,y,b)}function hasFocusAndSelection(r){return r.editable&&!r.hasFocus()?!1:hasSelection(r)}function hasSelection(r){let x=r.domSelectionRange();if(!x.anchorNode)return!1;try{return r.dom.contains(x.anchorNode.nodeType==3?x.anchorNode.parentNode:x.anchorNode)&&(r.editable||r.dom.contains(x.focusNode.nodeType==3?x.focusNode.parentNode:x.focusNode))}catch{return!1}}function anchorInRightPlace(r){let x=r.docView.domFromPos(r.state.selection.anchor,0),y=r.domSelectionRange();return isEquivalentPosition(x.node,x.offset,y.anchorNode,y.anchorOffset)}function moveSelectionBlock(r,x){let{$anchor:y,$head:b}=r.selection,B=x>0?y.max(b):y.min(b),R=B.parent.inlineContent?B.depth?r.doc.resolve(x>0?B.after():B.before()):null:B;return R&&Selection.findFrom(R,x)}function apply(r,x){return r.dispatch(r.state.tr.setSelection(x).scrollIntoView()),!0}function selectHorizontally(r,x,y){let b=r.state.selection;if(b instanceof TextSelection)if(y.indexOf("s")>-1){let{$head:B}=b,R=B.textOffset?null:x<0?B.nodeBefore:B.nodeAfter;if(!R||R.isText||!R.isLeaf)return!1;let I=r.state.doc.resolve(B.pos+R.nodeSize*(x<0?-1:1));return apply(r,new TextSelection(b.$anchor,I))}else if(b.empty){if(r.endOfTextblock(x>0?"forward":"backward")){let B=moveSelectionBlock(r.state,x);return B&&B instanceof NodeSelection?apply(r,B):!1}else if(!(mac$2&&y.indexOf("m")>-1)){let B=b.$head,R=B.textOffset?null:x<0?B.nodeBefore:B.nodeAfter,I;if(!R||R.isText)return!1;let O=x<0?B.pos-R.nodeSize:B.pos;return R.isAtom||(I=r.docView.descAt(O))&&!I.contentDOM?NodeSelection.isSelectable(R)?apply(r,new NodeSelection(x<0?r.state.doc.resolve(B.pos-R.nodeSize):B)):webkit?apply(r,new TextSelection(r.state.doc.resolve(x<0?O:O+R.nodeSize))):!1:!1}}else return!1;else{if(b instanceof NodeSelection&&b.node.isInline)return apply(r,new TextSelection(x>0?b.$to:b.$from));{let B=moveSelectionBlock(r.state,x);return B?apply(r,B):!1}}}function nodeLen(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function isIgnorable(r,x){let y=r.pmViewDesc;return y&&y.size==0&&(x<0||r.nextSibling||r.nodeName!="BR")}function skipIgnoredNodes(r,x){return x<0?skipIgnoredNodesBefore(r):skipIgnoredNodesAfter(r)}function skipIgnoredNodesBefore(r){let x=r.domSelectionRange(),y=x.focusNode,b=x.focusOffset;if(!y)return;let B,R,I=!1;for(gecko&&y.nodeType==1&&b<nodeLen(y)&&isIgnorable(y.childNodes[b],-1)&&(I=!0);;)if(b>0){if(y.nodeType!=1)break;{let O=y.childNodes[b-1];if(isIgnorable(O,-1))B=y,R=--b;else if(O.nodeType==3)y=O,b=y.nodeValue.length;else break}}else{if(isBlockNode(y))break;{let O=y.previousSibling;for(;O&&isIgnorable(O,-1);)B=y.parentNode,R=domIndex(O),O=O.previousSibling;if(O)y=O,b=nodeLen(y);else{if(y=y.parentNode,y==r.dom)break;b=0}}}I?setSelFocus(r,y,b):B&&setSelFocus(r,B,R)}function skipIgnoredNodesAfter(r){let x=r.domSelectionRange(),y=x.focusNode,b=x.focusOffset;if(!y)return;let B=nodeLen(y),R,I;for(;;)if(b<B){if(y.nodeType!=1)break;let O=y.childNodes[b];if(isIgnorable(O,1))R=y,I=++b;else break}else{if(isBlockNode(y))break;{let O=y.nextSibling;for(;O&&isIgnorable(O,1);)R=O.parentNode,I=domIndex(O)+1,O=O.nextSibling;if(O)y=O,b=0,B=nodeLen(y);else{if(y=y.parentNode,y==r.dom)break;b=B=0}}}R&&setSelFocus(r,R,I)}function isBlockNode(r){let x=r.pmViewDesc;return x&&x.node&&x.node.isBlock}function textNodeAfter(r,x){for(;r&&x==r.childNodes.length&&!hasBlockDesc(r);)x=domIndex(r)+1,r=r.parentNode;for(;r&&x<r.childNodes.length;){let y=r.childNodes[x];if(y.nodeType==3)return y;if(y.nodeType==1&&y.contentEditable=="false")break;r=y,x=0}}function textNodeBefore(r,x){for(;r&&!x&&!hasBlockDesc(r);)x=domIndex(r),r=r.parentNode;for(;r&&x;){let y=r.childNodes[x-1];if(y.nodeType==3)return y;if(y.nodeType==1&&y.contentEditable=="false")break;r=y,x=r.childNodes.length}}function setSelFocus(r,x,y){if(x.nodeType!=3){let R,I;(I=textNodeAfter(x,y))?(x=I,y=0):(R=textNodeBefore(x,y))&&(x=R,y=R.nodeValue.length)}let b=r.domSelection();if(!b)return;if(selectionCollapsed(b)){let R=document.createRange();R.setEnd(x,y),R.setStart(x,y),b.removeAllRanges(),b.addRange(R)}else b.extend&&b.extend(x,y);r.domObserver.setCurSelection();let{state:B}=r;setTimeout(()=>{r.state==B&&selectionToDOM(r)},50)}function findDirection(r,x){let y=r.state.doc.resolve(x);if(!(chrome$1||windows$1)&&y.parent.inlineContent){let B=r.coordsAtPos(x);if(x>y.start()){let R=r.coordsAtPos(x-1),I=(R.top+R.bottom)/2;if(I>B.top&&I<B.bottom&&Math.abs(R.left-B.left)>1)return R.left<B.left?"ltr":"rtl"}if(x<y.end()){let R=r.coordsAtPos(x+1),I=(R.top+R.bottom)/2;if(I>B.top&&I<B.bottom&&Math.abs(R.left-B.left)>1)return R.left>B.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(r,x,y){let b=r.state.selection;if(b instanceof TextSelection&&!b.empty||y.indexOf("s")>-1||mac$2&&y.indexOf("m")>-1)return!1;let{$from:B,$to:R}=b;if(!B.parent.inlineContent||r.endOfTextblock(x<0?"up":"down")){let I=moveSelectionBlock(r.state,x);if(I&&I instanceof NodeSelection)return apply(r,I)}if(!B.parent.inlineContent){let I=x<0?B:R,O=b instanceof AllSelection?Selection.near(I,x):Selection.findFrom(I,x);return O?apply(r,O):!1}return!1}function stopNativeHorizontalDelete(r,x){if(!(r.state.selection instanceof TextSelection))return!0;let{$head:y,$anchor:b,empty:B}=r.state.selection;if(!y.sameParent(b))return!0;if(!B)return!1;if(r.endOfTextblock(x>0?"forward":"backward"))return!0;let R=!y.textOffset&&(x<0?y.nodeBefore:y.nodeAfter);if(R&&!R.isText){let I=r.state.tr;return x<0?I.delete(y.pos-R.nodeSize,y.pos):I.delete(y.pos,y.pos+R.nodeSize),r.dispatch(I),!0}return!1}function switchEditable(r,x,y){r.domObserver.stop(),x.contentEditable=y,r.domObserver.start()}function safariDownArrowBug(r){if(!safari||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:x,focusOffset:y}=r.domSelectionRange();if(x&&x.nodeType==1&&y==0&&x.firstChild&&x.firstChild.contentEditable=="false"){let b=x.firstChild;switchEditable(r,b,"true"),setTimeout(()=>switchEditable(r,b,"false"),20)}return!1}function getMods(r){let x="";return r.ctrlKey&&(x+="c"),r.metaKey&&(x+="m"),r.altKey&&(x+="a"),r.shiftKey&&(x+="s"),x}function captureKeyDown(r,x){let y=x.keyCode,b=getMods(x);if(y==8||mac$2&&y==72&&b=="c")return stopNativeHorizontalDelete(r,-1)||skipIgnoredNodes(r,-1);if(y==46&&!x.shiftKey||mac$2&&y==68&&b=="c")return stopNativeHorizontalDelete(r,1)||skipIgnoredNodes(r,1);if(y==13||y==27)return!0;if(y==37||mac$2&&y==66&&b=="c"){let B=y==37?findDirection(r,r.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(r,B,b)||skipIgnoredNodes(r,B)}else if(y==39||mac$2&&y==70&&b=="c"){let B=y==39?findDirection(r,r.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(r,B,b)||skipIgnoredNodes(r,B)}else{if(y==38||mac$2&&y==80&&b=="c")return selectVertically(r,-1,b)||skipIgnoredNodes(r,-1);if(y==40||mac$2&&y==78&&b=="c")return safariDownArrowBug(r)||selectVertically(r,1,b)||skipIgnoredNodes(r,1);if(b==(mac$2?"m":"c")&&(y==66||y==73||y==89||y==90))return!0}return!1}function serializeForClipboard(r,x){r.someProp("transformCopied",pe=>{x=pe(x,r)});let y=[],{content:b,openStart:B,openEnd:R}=x;for(;B>1&&R>1&&b.childCount==1&&b.firstChild.childCount==1;){B--,R--;let pe=b.firstChild;y.push(pe.type.name,pe.attrs!=pe.type.defaultAttrs?pe.attrs:null),b=pe.content}let I=r.someProp("clipboardSerializer")||DOMSerializer.fromSchema(r.state.schema),O=detachedDoc(),G=O.createElement("div");G.appendChild(I.serializeFragment(b,{document:O}));let q=G.firstChild,ee,ne=0;for(;q&&q.nodeType==1&&(ee=wrapMap[q.nodeName.toLowerCase()]);){for(let pe=ee.length-1;pe>=0;pe--){let xe=O.createElement(ee[pe]);for(;G.firstChild;)xe.appendChild(G.firstChild);G.appendChild(xe),ne++}q=G.firstChild}q&&q.nodeType==1&&q.setAttribute("data-pm-slice",`${B} ${R}${ne?` -${ne}`:""} ${JSON.stringify(y)}`);let oe=r.someProp("clipboardTextSerializer",pe=>pe(x,r))||x.content.textBetween(0,x.content.size,`

`);return{dom:G,text:oe,slice:x}}function parseFromClipboard(r,x,y,b,B){let R=B.parent.type.spec.code,I,O;if(!y&&!x)return null;let G=!!x&&(b||R||!y);if(G){if(r.someProp("transformPastedText",oe=>{x=oe(x,R||b,r)}),R)return O=new Slice(Fragment.from(r.state.schema.text(x.replace(/\r\n?/g,`
`))),0,0),r.someProp("transformPasted",oe=>{O=oe(O,r,!0)}),O;let ne=r.someProp("clipboardTextParser",oe=>oe(x,B,b,r));if(ne)O=ne;else{let oe=B.marks(),{schema:pe}=r.state,xe=DOMSerializer.fromSchema(pe);I=document.createElement("div"),x.split(/(?:\r\n?|\n)+/).forEach(_e=>{let Ue=I.appendChild(document.createElement("p"));_e&&Ue.appendChild(xe.serializeNode(pe.text(_e,oe)))})}}else r.someProp("transformPastedHTML",ne=>{y=ne(y,r)}),I=readHTML(y),webkit&&restoreReplacedSpaces(I);let q=I&&I.querySelector("[data-pm-slice]"),ee=q&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(q.getAttribute("data-pm-slice")||"");if(ee&&ee[3])for(let ne=+ee[3];ne>0;ne--){let oe=I.firstChild;for(;oe&&oe.nodeType!=1;)oe=oe.nextSibling;if(!oe)break;I=oe}if(O||(O=(r.someProp("clipboardParser")||r.someProp("domParser")||DOMParser.fromSchema(r.state.schema)).parseSlice(I,{preserveWhitespace:!!(G||ee),context:B,ruleFromNode(oe){return oe.nodeName=="BR"&&!oe.nextSibling&&oe.parentNode&&!inlineParents.test(oe.parentNode.nodeName)?{ignore:!0}:null}})),ee)O=addContext(closeSlice(O,+ee[1],+ee[2]),ee[4]);else if(O=Slice.maxOpen(normalizeSiblings(O.content,B),!0),O.openStart||O.openEnd){let ne=0,oe=0;for(let pe=O.content.firstChild;ne<O.openStart&&!pe.type.spec.isolating;ne++,pe=pe.firstChild);for(let pe=O.content.lastChild;oe<O.openEnd&&!pe.type.spec.isolating;oe++,pe=pe.lastChild);O=closeSlice(O,ne,oe)}return r.someProp("transformPasted",ne=>{O=ne(O,r,G)}),O}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(r,x){if(r.childCount<2)return r;for(let y=x.depth;y>=0;y--){let B=x.node(y).contentMatchAt(x.index(y)),R,I=[];if(r.forEach(O=>{if(!I)return;let G=B.findWrapping(O.type),q;if(!G)return I=null;if(q=I.length&&R.length&&addToSibling(G,R,O,I[I.length-1],0))I[I.length-1]=q;else{I.length&&(I[I.length-1]=closeRight(I[I.length-1],R.length));let ee=withWrappers(O,G);I.push(ee),B=B.matchType(ee.type),R=G}}),I)return Fragment.from(I)}return r}function withWrappers(r,x,y=0){for(let b=x.length-1;b>=y;b--)r=x[b].create(null,Fragment.from(r));return r}function addToSibling(r,x,y,b,B){if(B<r.length&&B<x.length&&r[B]==x[B]){let R=addToSibling(r,x,y,b.lastChild,B+1);if(R)return b.copy(b.content.replaceChild(b.childCount-1,R));if(b.contentMatchAt(b.childCount).matchType(B==r.length-1?y.type:r[B+1]))return b.copy(b.content.append(Fragment.from(withWrappers(y,r,B+1))))}}function closeRight(r,x){if(x==0)return r;let y=r.content.replaceChild(r.childCount-1,closeRight(r.lastChild,x-1)),b=r.contentMatchAt(r.childCount).fillBefore(Fragment.empty,!0);return r.copy(y.append(b))}function closeRange(r,x,y,b,B,R){let I=x<0?r.firstChild:r.lastChild,O=I.content;return r.childCount>1&&(R=0),B<b-1&&(O=closeRange(O,x,y,b,B+1,R)),B>=y&&(O=x<0?I.contentMatchAt(0).fillBefore(O,R<=B).append(O):O.append(I.contentMatchAt(I.childCount).fillBefore(Fragment.empty,!0))),r.replaceChild(x<0?0:r.childCount-1,I.copy(O))}function closeSlice(r,x,y){return x<r.openStart&&(r=new Slice(closeRange(r.content,-1,x,r.openStart,0,r.openEnd),x,r.openEnd)),y<r.openEnd&&(r=new Slice(closeRange(r.content,1,y,r.openEnd,0,0),r.openStart,y)),r}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted(r){let x=window.trustedTypes;return x?(_policy||(_policy=x.defaultPolicy||x.createPolicy("ProseMirrorClipboard",{createHTML:y=>y})),_policy.createHTML(r)):r}function readHTML(r){let x=/^(\s*<meta [^>]*>)*/.exec(r);x&&(r=r.slice(x[0].length));let y=detachedDoc().createElement("div"),b=/<([a-z][^>\s]+)/i.exec(r),B;if((B=b&&wrapMap[b[1].toLowerCase()])&&(r=B.map(R=>"<"+R+">").join("")+r+B.map(R=>"</"+R+">").reverse().join("")),y.innerHTML=maybeWrapTrusted(r),B)for(let R=0;R<B.length;R++)y=y.querySelector(B[R])||y;return y}function restoreReplacedSpaces(r){let x=r.querySelectorAll(chrome$1?"span:not([class]):not([style])":"span.Apple-converted-space");for(let y=0;y<x.length;y++){let b=x[y];b.childNodes.length==1&&b.textContent==""&&b.parentNode&&b.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),b)}}function addContext(r,x){if(!r.size)return r;let y=r.content.firstChild.type.schema,b;try{b=JSON.parse(x)}catch{return r}let{content:B,openStart:R,openEnd:I}=r;for(let O=b.length-2;O>=0;O-=2){let G=y.nodes[b[O]];if(!G||G.hasRequiredAttrs())break;B=Fragment.from(G.create(b[O+1],B)),R++,I++}return new Slice(B,R,I)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(r){for(let x in handlers){let y=handlers[x];r.dom.addEventListener(x,r.input.eventHandlers[x]=b=>{eventBelongsToView(r,b)&&!runCustomHandler(r,b)&&(r.editable||!(b.type in editHandlers))&&y(r,b)},passiveHandlers[x]?{passive:!0}:void 0)}safari&&r.dom.addEventListener("input",()=>null),ensureListeners(r)}function setSelectionOrigin(r,x){r.input.lastSelectionOrigin=x,r.input.lastSelectionTime=Date.now()}function destroyInput(r){r.domObserver.stop();for(let x in r.input.eventHandlers)r.dom.removeEventListener(x,r.input.eventHandlers[x]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function ensureListeners(r){r.someProp("handleDOMEvents",x=>{for(let y in x)r.input.eventHandlers[y]||r.dom.addEventListener(y,r.input.eventHandlers[y]=b=>runCustomHandler(r,b))})}function runCustomHandler(r,x){return r.someProp("handleDOMEvents",y=>{let b=y[x.type];return b?b(r,x)||x.defaultPrevented:!1})}function eventBelongsToView(r,x){if(!x.bubbles)return!0;if(x.defaultPrevented)return!1;for(let y=x.target;y!=r.dom;y=y.parentNode)if(!y||y.nodeType==11||y.pmViewDesc&&y.pmViewDesc.stopEvent(x))return!1;return!0}function dispatchEvent(r,x){!runCustomHandler(r,x)&&handlers[x.type]&&(r.editable||!(x.type in editHandlers))&&handlers[x.type](r,x)}editHandlers.keydown=(r,x)=>{let y=x;if(r.input.shiftKey=y.keyCode==16||y.shiftKey,!inOrNearComposition(r,y)&&(r.input.lastKeyCode=y.keyCode,r.input.lastKeyCodeTime=Date.now(),!(android&&chrome$1&&y.keyCode==13)))if(y.keyCode!=229&&r.domObserver.forceFlush(),ios&&y.keyCode==13&&!y.ctrlKey&&!y.altKey&&!y.metaKey){let b=Date.now();r.input.lastIOSEnter=b,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==b&&(r.someProp("handleKeyDown",B=>B(r,keyEvent(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",b=>b(r,y))||captureKeyDown(r,y)?y.preventDefault():setSelectionOrigin(r,"key")};editHandlers.keyup=(r,x)=>{x.keyCode==16&&(r.input.shiftKey=!1)};editHandlers.keypress=(r,x)=>{let y=x;if(inOrNearComposition(r,y)||!y.charCode||y.ctrlKey&&!y.altKey||mac$2&&y.metaKey)return;if(r.someProp("handleKeyPress",B=>B(r,y))){y.preventDefault();return}let b=r.state.selection;if(!(b instanceof TextSelection)||!b.$from.sameParent(b.$to)){let B=String.fromCharCode(y.charCode),R=()=>r.state.tr.insertText(B).scrollIntoView();!/[\r\n]/.test(B)&&!r.someProp("handleTextInput",I=>I(r,b.$from.pos,b.$to.pos,B,R))&&r.dispatch(R()),y.preventDefault()}};function eventCoords(r){return{left:r.clientX,top:r.clientY}}function isNear(r,x){let y=x.x-r.clientX,b=x.y-r.clientY;return y*y+b*b<100}function runHandlerOnContext(r,x,y,b,B){if(b==-1)return!1;let R=r.state.doc.resolve(b);for(let I=R.depth+1;I>0;I--)if(r.someProp(x,O=>I>R.depth?O(r,y,R.nodeAfter,R.before(I),B,!0):O(r,y,R.node(I),R.before(I),B,!1)))return!0;return!1}function updateSelection(r,x,y){if(r.focused||r.focus(),r.state.selection.eq(x))return;let b=r.state.tr.setSelection(x);b.setMeta("pointer",!0),r.dispatch(b)}function selectClickedLeaf(r,x){if(x==-1)return!1;let y=r.state.doc.resolve(x),b=y.nodeAfter;return b&&b.isAtom&&NodeSelection.isSelectable(b)?(updateSelection(r,new NodeSelection(y)),!0):!1}function selectClickedNode(r,x){if(x==-1)return!1;let y=r.state.selection,b,B;y instanceof NodeSelection&&(b=y.node);let R=r.state.doc.resolve(x);for(let I=R.depth+1;I>0;I--){let O=I>R.depth?R.nodeAfter:R.node(I);if(NodeSelection.isSelectable(O)){b&&y.$from.depth>0&&I>=y.$from.depth&&R.before(y.$from.depth+1)==y.$from.pos?B=R.before(y.$from.depth):B=R.before(I);break}}return B!=null?(updateSelection(r,NodeSelection.create(r.state.doc,B)),!0):!1}function handleSingleClick(r,x,y,b,B){return runHandlerOnContext(r,"handleClickOn",x,y,b)||r.someProp("handleClick",R=>R(r,x,b))||(B?selectClickedNode(r,y):selectClickedLeaf(r,y))}function handleDoubleClick(r,x,y,b){return runHandlerOnContext(r,"handleDoubleClickOn",x,y,b)||r.someProp("handleDoubleClick",B=>B(r,x,b))}function handleTripleClick(r,x,y,b){return runHandlerOnContext(r,"handleTripleClickOn",x,y,b)||r.someProp("handleTripleClick",B=>B(r,x,b))||defaultTripleClick(r,y,b)}function defaultTripleClick(r,x,y){if(y.button!=0)return!1;let b=r.state.doc;if(x==-1)return b.inlineContent?(updateSelection(r,TextSelection.create(b,0,b.content.size)),!0):!1;let B=b.resolve(x);for(let R=B.depth+1;R>0;R--){let I=R>B.depth?B.nodeAfter:B.node(R),O=B.before(R);if(I.inlineContent)updateSelection(r,TextSelection.create(b,O+1,O+1+I.content.size));else if(NodeSelection.isSelectable(I))updateSelection(r,NodeSelection.create(b,O));else continue;return!0}}function forceDOMFlush(r){return endComposition(r)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(r,x)=>{let y=x;r.input.shiftKey=y.shiftKey;let b=forceDOMFlush(r),B=Date.now(),R="singleClick";B-r.input.lastClick.time<500&&isNear(y,r.input.lastClick)&&!y[selectNodeModifier]&&r.input.lastClick.button==y.button&&(r.input.lastClick.type=="singleClick"?R="doubleClick":r.input.lastClick.type=="doubleClick"&&(R="tripleClick")),r.input.lastClick={time:B,x:y.clientX,y:y.clientY,type:R,button:y.button};let I=r.posAtCoords(eventCoords(y));I&&(R=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new MouseDown(r,I,y,!!b)):(R=="doubleClick"?handleDoubleClick:handleTripleClick)(r,I.pos,I.inside,y)?y.preventDefault():setSelectionOrigin(r,"pointer"))};class MouseDown{constructor(x,y,b,B){this.view=x,this.pos=y,this.event=b,this.flushed=B,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=x.state.doc,this.selectNode=!!b[selectNodeModifier],this.allowDefault=b.shiftKey;let R,I;if(y.inside>-1)R=x.state.doc.nodeAt(y.inside),I=y.inside;else{let ee=x.state.doc.resolve(y.pos);R=ee.parent,I=ee.depth?ee.before():0}const O=B?null:b.target,G=O?x.docView.nearestDesc(O,!0):null;this.target=G&&G.nodeDOM.nodeType==1?G.nodeDOM:null;let{selection:q}=x.state;(b.button==0&&R.type.spec.draggable&&R.type.spec.selectable!==!1||q instanceof NodeSelection&&q.from<=I&&q.to>I)&&(this.mightDrag={node:R,pos:I,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),x.root.addEventListener("mouseup",this.up=this.up.bind(this)),x.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(x,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(x){if(this.done(),!this.view.dom.contains(x.target))return;let y=this.pos;this.view.state.doc!=this.startDoc&&(y=this.view.posAtCoords(eventCoords(x))),this.updateAllowDefault(x),this.allowDefault||!y?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,y.pos,y.inside,x,this.selectNode)?x.preventDefault():x.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome$1&&!this.view.state.selection.visible&&Math.min(Math.abs(y.pos-this.view.state.selection.from),Math.abs(y.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(y.pos))),x.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(x){this.updateAllowDefault(x),setSelectionOrigin(this.view,"pointer"),x.buttons==0&&this.done()}updateAllowDefault(x){!this.allowDefault&&(Math.abs(this.event.x-x.clientX)>4||Math.abs(this.event.y-x.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=r=>{r.input.lastTouch=Date.now(),forceDOMFlush(r),setSelectionOrigin(r,"pointer")};handlers.touchmove=r=>{r.input.lastTouch=Date.now(),setSelectionOrigin(r,"pointer")};handlers.contextmenu=r=>forceDOMFlush(r);function inOrNearComposition(r,x){return r.composing?!0:safari&&Math.abs(x.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:x}=r,y=x.selection.$to;if(x.selection instanceof TextSelection&&(x.storedMarks||!y.textOffset&&y.parentOffset&&y.nodeBefore.marks.some(b=>b.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||y.marks(),endComposition(r,!0),r.markCursor=null;else if(endComposition(r,!x.selection.empty),gecko&&x.selection.empty&&y.parentOffset&&!y.textOffset&&y.nodeBefore.marks.length){let b=r.domSelectionRange();for(let B=b.focusNode,R=b.focusOffset;B&&B.nodeType==1&&R!=0;){let I=R<0?B.lastChild:B.childNodes[R-1];if(!I)break;if(I.nodeType==3){let O=r.domSelection();O&&O.collapse(I,I.nodeValue.length);break}else B=I,R=-1}}r.input.composing=!0}scheduleComposeEnd(r,timeoutComposition)};editHandlers.compositionend=(r,x)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=x.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,scheduleComposeEnd(r,20))};function scheduleComposeEnd(r,x){clearTimeout(r.input.composingTimeout),x>-1&&(r.input.composingTimeout=setTimeout(()=>endComposition(r),x))}function clearComposition(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=timestampFromCustomEvent());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(r){let x=r.domSelectionRange();if(!x.focusNode)return null;let y=textNodeBefore$1(x.focusNode,x.focusOffset),b=textNodeAfter$1(x.focusNode,x.focusOffset);if(y&&b&&y!=b){let B=b.pmViewDesc,R=r.domObserver.lastChangedTextNode;if(y==R||b==R)return R;if(!B||!B.isText(b.nodeValue))return b;if(r.input.compositionNode==b){let I=y.pmViewDesc;if(!(!I||!I.isText(y.nodeValue)))return b}}return y||b}function timestampFromCustomEvent(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function endComposition(r,x=!1){if(!(android&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),clearComposition(r),x||r.docView&&r.docView.dirty){let y=selectionFromDOM(r),b=r.state.selection;return y&&!y.eq(b)?r.dispatch(r.state.tr.setSelection(y)):(r.markCursor||x)&&!b.$from.node(b.$from.sharedDepth(b.to)).inlineContent?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function captureCopy(r,x){if(!r.dom.parentNode)return;let y=r.dom.parentNode.appendChild(document.createElement("div"));y.appendChild(x),y.style.cssText="position: fixed; left: -10000px; top: 10px";let b=getSelection(),B=document.createRange();B.selectNodeContents(x),r.dom.blur(),b.removeAllRanges(),b.addRange(B),setTimeout(()=>{y.parentNode&&y.parentNode.removeChild(y),r.focus()},50)}const brokenClipboardAPI=ie$1&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(r,x)=>{let y=x,b=r.state.selection,B=y.type=="cut";if(b.empty)return;let R=brokenClipboardAPI?null:y.clipboardData,I=b.content(),{dom:O,text:G}=serializeForClipboard(r,I);R?(y.preventDefault(),R.clearData(),R.setData("text/html",O.innerHTML),R.setData("text/plain",G)):captureCopy(r,O),B&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function capturePaste(r,x){if(!r.dom.parentNode)return;let y=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,b=r.dom.parentNode.appendChild(document.createElement(y?"textarea":"div"));y||(b.contentEditable="true"),b.style.cssText="position: fixed; left: -10000px; top: 10px",b.focus();let B=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),b.parentNode&&b.parentNode.removeChild(b),y?doPaste(r,b.value,null,B,x):doPaste(r,b.textContent,b.innerHTML,B,x)},50)}function doPaste(r,x,y,b,B){let R=parseFromClipboard(r,x,y,b,r.state.selection.$from);if(r.someProp("handlePaste",G=>G(r,B,R||Slice.empty)))return!0;if(!R)return!1;let I=sliceSingleNode(R),O=I?r.state.tr.replaceSelectionWith(I,b):r.state.tr.replaceSelection(R);return r.dispatch(O.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1(r){let x=r.getData("text/plain")||r.getData("Text");if(x)return x;let y=r.getData("text/uri-list");return y?y.replace(/\r?\n/g," "):""}editHandlers.paste=(r,x)=>{let y=x;if(r.composing&&!android)return;let b=brokenClipboardAPI?null:y.clipboardData,B=r.input.shiftKey&&r.input.lastKeyCode!=45;b&&doPaste(r,getText$1(b),b.getData("text/html"),B,y)?y.preventDefault():capturePaste(r,y)};class Dragging{constructor(x,y,b){this.slice=x,this.move=y,this.node=b}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";function dragMoves(r,x){let y=r.someProp("dragCopies",b=>!b(x));return y??!x[dragCopyModifier]}handlers.dragstart=(r,x)=>{let y=x,b=r.input.mouseDown;if(b&&b.done(),!y.dataTransfer)return;let B=r.state.selection,R=B.empty?null:r.posAtCoords(eventCoords(y)),I;if(!(R&&R.pos>=B.from&&R.pos<=(B instanceof NodeSelection?B.to-1:B.to))){if(b&&b.mightDrag)I=NodeSelection.create(r.state.doc,b.mightDrag.pos);else if(y.target&&y.target.nodeType==1){let ne=r.docView.nearestDesc(y.target,!0);ne&&ne.node.type.spec.draggable&&ne!=r.docView&&(I=NodeSelection.create(r.state.doc,ne.posBefore))}}let O=(I||r.state.selection).content(),{dom:G,text:q,slice:ee}=serializeForClipboard(r,O);(!y.dataTransfer.files.length||!chrome$1||chrome_version>120)&&y.dataTransfer.clearData(),y.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",G.innerHTML),y.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||y.dataTransfer.setData("text/plain",q),r.dragging=new Dragging(ee,dragMoves(r,y),I)};handlers.dragend=r=>{let x=r.dragging;window.setTimeout(()=>{r.dragging==x&&(r.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(r,x)=>x.preventDefault();editHandlers.drop=(r,x)=>{let y=x,b=r.dragging;if(r.dragging=null,!y.dataTransfer)return;let B=r.posAtCoords(eventCoords(y));if(!B)return;let R=r.state.doc.resolve(B.pos),I=b&&b.slice;I?r.someProp("transformPasted",xe=>{I=xe(I,r,!1)}):I=parseFromClipboard(r,getText$1(y.dataTransfer),brokenClipboardAPI?null:y.dataTransfer.getData("text/html"),!1,R);let O=!!(b&&dragMoves(r,y));if(r.someProp("handleDrop",xe=>xe(r,y,I||Slice.empty,O))){y.preventDefault();return}if(!I)return;y.preventDefault();let G=I?dropPoint(r.state.doc,R.pos,I):R.pos;G==null&&(G=R.pos);let q=r.state.tr;if(O){let{node:xe}=b;xe?xe.replace(q):q.deleteSelection()}let ee=q.mapping.map(G),ne=I.openStart==0&&I.openEnd==0&&I.content.childCount==1,oe=q.doc;if(ne?q.replaceRangeWith(ee,ee,I.content.firstChild):q.replaceRange(ee,ee,I),q.doc.eq(oe))return;let pe=q.doc.resolve(ee);if(ne&&NodeSelection.isSelectable(I.content.firstChild)&&pe.nodeAfter&&pe.nodeAfter.sameMarkup(I.content.firstChild))q.setSelection(new NodeSelection(pe));else{let xe=q.mapping.map(G);q.mapping.maps[q.mapping.maps.length-1].forEach((_e,Ue,Le,He)=>xe=He),q.setSelection(selectionBetween(r,pe,q.doc.resolve(xe)))}r.focus(),r.dispatch(q.setMeta("uiEvent","drop"))};handlers.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&selectionToDOM(r)},20))};handlers.blur=(r,x)=>{let y=x;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),y.relatedTarget&&r.dom.contains(y.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};handlers.beforeinput=(r,x)=>{if(chrome$1&&android&&x.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:b}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=b||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",R=>R(r,keyEvent(8,"Backspace")))))return;let{$cursor:B}=r.state.selection;B&&B.pos>0&&r.dispatch(r.state.tr.delete(B.pos-1,B.pos).scrollIntoView())},50)}};for(let r in editHandlers)handlers[r]=editHandlers[r];function compareObjs(r,x){if(r==x)return!0;for(let y in r)if(r[y]!==x[y])return!1;for(let y in x)if(!(y in r))return!1;return!0}class WidgetType{constructor(x,y){this.toDOM=x,this.spec=y||noSpec,this.side=this.spec.side||0}map(x,y,b,B){let{pos:R,deleted:I}=x.mapResult(y.from+B,this.side<0?-1:1);return I?null:new Decoration(R-b,R-b,this)}valid(){return!0}eq(x){return this==x||x instanceof WidgetType&&(this.spec.key&&this.spec.key==x.spec.key||this.toDOM==x.toDOM&&compareObjs(this.spec,x.spec))}destroy(x){this.spec.destroy&&this.spec.destroy(x)}}class InlineType{constructor(x,y){this.attrs=x,this.spec=y||noSpec}map(x,y,b,B){let R=x.map(y.from+B,this.spec.inclusiveStart?-1:1)-b,I=x.map(y.to+B,this.spec.inclusiveEnd?1:-1)-b;return R>=I?null:new Decoration(R,I,this)}valid(x,y){return y.from<y.to}eq(x){return this==x||x instanceof InlineType&&compareObjs(this.attrs,x.attrs)&&compareObjs(this.spec,x.spec)}static is(x){return x.type instanceof InlineType}destroy(){}}class NodeType{constructor(x,y){this.attrs=x,this.spec=y||noSpec}map(x,y,b,B){let R=x.mapResult(y.from+B,1);if(R.deleted)return null;let I=x.mapResult(y.to+B,-1);return I.deleted||I.pos<=R.pos?null:new Decoration(R.pos-b,I.pos-b,this)}valid(x,y){let{index:b,offset:B}=x.content.findIndex(y.from),R;return B==y.from&&!(R=x.child(b)).isText&&B+R.nodeSize==y.to}eq(x){return this==x||x instanceof NodeType&&compareObjs(this.attrs,x.attrs)&&compareObjs(this.spec,x.spec)}destroy(){}}class Decoration{constructor(x,y,b){this.from=x,this.to=y,this.type=b}copy(x,y){return new Decoration(x,y,this.type)}eq(x,y=0){return this.type.eq(x.type)&&this.from+y==x.from&&this.to+y==x.to}map(x,y,b){return this.type.map(x,this,y,b)}static widget(x,y,b){return new Decoration(x,x,new WidgetType(y,b))}static inline(x,y,b,B){return new Decoration(x,y,new InlineType(b,B))}static node(x,y,b,B){return new Decoration(x,y,new NodeType(b,B))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(x,y){this.local=x.length?x:none,this.children=y.length?y:none}static create(x,y){return y.length?buildTree(y,x,0,noSpec):empty}find(x,y,b){let B=[];return this.findInner(x??0,y??1e9,B,0,b),B}findInner(x,y,b,B,R){for(let I=0;I<this.local.length;I++){let O=this.local[I];O.from<=y&&O.to>=x&&(!R||R(O.spec))&&b.push(O.copy(O.from+B,O.to+B))}for(let I=0;I<this.children.length;I+=3)if(this.children[I]<y&&this.children[I+1]>x){let O=this.children[I]+1;this.children[I+2].findInner(x-O,y-O,b,B+O,R)}}map(x,y,b){return this==empty||x.maps.length==0?this:this.mapInner(x,y,0,0,b||noSpec)}mapInner(x,y,b,B,R){let I;for(let O=0;O<this.local.length;O++){let G=this.local[O].map(x,b,B);G&&G.type.valid(y,G)?(I||(I=[])).push(G):R.onRemove&&R.onRemove(this.local[O].spec)}return this.children.length?mapChildren(this.children,I||[],x,y,b,B,R):I?new DecorationSet(I.sort(byPos),none):empty}add(x,y){return y.length?this==empty?DecorationSet.create(x,y):this.addInner(x,y,0):this}addInner(x,y,b){let B,R=0;x.forEach((O,G)=>{let q=G+b,ee;if(ee=takeSpansForNode(y,O,q)){for(B||(B=this.children.slice());R<B.length&&B[R]<G;)R+=3;B[R]==G?B[R+2]=B[R+2].addInner(O,ee,q+1):B.splice(R,0,G,G+O.nodeSize,buildTree(ee,O,q+1,noSpec)),R+=3}});let I=moveSpans(R?withoutNulls(y):y,-b);for(let O=0;O<I.length;O++)I[O].type.valid(x,I[O])||I.splice(O--,1);return new DecorationSet(I.length?this.local.concat(I).sort(byPos):this.local,B||this.children)}remove(x){return x.length==0||this==empty?this:this.removeInner(x,0)}removeInner(x,y){let b=this.children,B=this.local;for(let R=0;R<b.length;R+=3){let I,O=b[R]+y,G=b[R+1]+y;for(let ee=0,ne;ee<x.length;ee++)(ne=x[ee])&&ne.from>O&&ne.to<G&&(x[ee]=null,(I||(I=[])).push(ne));if(!I)continue;b==this.children&&(b=this.children.slice());let q=b[R+2].removeInner(I,O+1);q!=empty?b[R+2]=q:(b.splice(R,3),R-=3)}if(B.length){for(let R=0,I;R<x.length;R++)if(I=x[R])for(let O=0;O<B.length;O++)B[O].eq(I,y)&&(B==this.local&&(B=this.local.slice()),B.splice(O--,1))}return b==this.children&&B==this.local?this:B.length||b.length?new DecorationSet(B,b):empty}forChild(x,y){if(this==empty)return this;if(y.isLeaf)return DecorationSet.empty;let b,B;for(let O=0;O<this.children.length;O+=3)if(this.children[O]>=x){this.children[O]==x&&(b=this.children[O+2]);break}let R=x+1,I=R+y.content.size;for(let O=0;O<this.local.length;O++){let G=this.local[O];if(G.from<I&&G.to>R&&G.type instanceof InlineType){let q=Math.max(R,G.from)-R,ee=Math.min(I,G.to)-R;q<ee&&(B||(B=[])).push(G.copy(q,ee))}}if(B){let O=new DecorationSet(B.sort(byPos),none);return b?new DecorationGroup([O,b]):O}return b||empty}eq(x){if(this==x)return!0;if(!(x instanceof DecorationSet)||this.local.length!=x.local.length||this.children.length!=x.children.length)return!1;for(let y=0;y<this.local.length;y++)if(!this.local[y].eq(x.local[y]))return!1;for(let y=0;y<this.children.length;y+=3)if(this.children[y]!=x.children[y]||this.children[y+1]!=x.children[y+1]||!this.children[y+2].eq(x.children[y+2]))return!1;return!0}locals(x){return removeOverlap(this.localsInner(x))}localsInner(x){if(this==empty)return none;if(x.inlineContent||!this.local.some(InlineType.is))return this.local;let y=[];for(let b=0;b<this.local.length;b++)this.local[b].type instanceof InlineType||y.push(this.local[b]);return y}forEachSet(x){x(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(x){this.members=x}map(x,y){const b=this.members.map(B=>B.map(x,y,noSpec));return DecorationGroup.from(b)}forChild(x,y){if(y.isLeaf)return DecorationSet.empty;let b=[];for(let B=0;B<this.members.length;B++){let R=this.members[B].forChild(x,y);R!=empty&&(R instanceof DecorationGroup?b=b.concat(R.members):b.push(R))}return DecorationGroup.from(b)}eq(x){if(!(x instanceof DecorationGroup)||x.members.length!=this.members.length)return!1;for(let y=0;y<this.members.length;y++)if(!this.members[y].eq(x.members[y]))return!1;return!0}locals(x){let y,b=!0;for(let B=0;B<this.members.length;B++){let R=this.members[B].localsInner(x);if(R.length)if(!y)y=R;else{b&&(y=y.slice(),b=!1);for(let I=0;I<R.length;I++)y.push(R[I])}}return y?removeOverlap(b?y:y.sort(byPos)):none}static from(x){switch(x.length){case 0:return empty;case 1:return x[0];default:return new DecorationGroup(x.every(y=>y instanceof DecorationSet)?x:x.reduce((y,b)=>y.concat(b instanceof DecorationSet?b:b.members),[]))}}forEachSet(x){for(let y=0;y<this.members.length;y++)this.members[y].forEachSet(x)}}function mapChildren(r,x,y,b,B,R,I){let O=r.slice();for(let q=0,ee=R;q<y.maps.length;q++){let ne=0;y.maps[q].forEach((oe,pe,xe,_e)=>{let Ue=_e-xe-(pe-oe);for(let Le=0;Le<O.length;Le+=3){let He=O[Le+1];if(He<0||oe>He+ee-ne)continue;let $e=O[Le]+ee-ne;pe>=$e?O[Le+1]=oe<=$e?-2:-1:oe>=ee&&Ue&&(O[Le]+=Ue,O[Le+1]+=Ue)}ne+=Ue}),ee=y.maps[q].map(ee,-1)}let G=!1;for(let q=0;q<O.length;q+=3)if(O[q+1]<0){if(O[q+1]==-2){G=!0,O[q+1]=-1;continue}let ee=y.map(r[q]+R),ne=ee-B;if(ne<0||ne>=b.content.size){G=!0;continue}let oe=y.map(r[q+1]+R,-1),pe=oe-B,{index:xe,offset:_e}=b.content.findIndex(ne),Ue=b.maybeChild(xe);if(Ue&&_e==ne&&_e+Ue.nodeSize==pe){let Le=O[q+2].mapInner(y,Ue,ee+1,r[q]+R+1,I);Le!=empty?(O[q]=ne,O[q+1]=pe,O[q+2]=Le):(O[q+1]=-2,G=!0)}else G=!0}if(G){let q=mapAndGatherRemainingDecorations(O,r,x,y,B,R,I),ee=buildTree(q,b,0,I);x=ee.local;for(let ne=0;ne<O.length;ne+=3)O[ne+1]<0&&(O.splice(ne,3),ne-=3);for(let ne=0,oe=0;ne<ee.children.length;ne+=3){let pe=ee.children[ne];for(;oe<O.length&&O[oe]<pe;)oe+=3;O.splice(oe,0,ee.children[ne],ee.children[ne+1],ee.children[ne+2])}}return new DecorationSet(x.sort(byPos),O)}function moveSpans(r,x){if(!x||!r.length)return r;let y=[];for(let b=0;b<r.length;b++){let B=r[b];y.push(new Decoration(B.from+x,B.to+x,B.type))}return y}function mapAndGatherRemainingDecorations(r,x,y,b,B,R,I){function O(G,q){for(let ee=0;ee<G.local.length;ee++){let ne=G.local[ee].map(b,B,q);ne?y.push(ne):I.onRemove&&I.onRemove(G.local[ee].spec)}for(let ee=0;ee<G.children.length;ee+=3)O(G.children[ee+2],G.children[ee]+q+1)}for(let G=0;G<r.length;G+=3)r[G+1]==-1&&O(r[G+2],x[G]+R+1);return y}function takeSpansForNode(r,x,y){if(x.isLeaf)return null;let b=y+x.nodeSize,B=null;for(let R=0,I;R<r.length;R++)(I=r[R])&&I.from>y&&I.to<b&&((B||(B=[])).push(I),r[R]=null);return B}function withoutNulls(r){let x=[];for(let y=0;y<r.length;y++)r[y]!=null&&x.push(r[y]);return x}function buildTree(r,x,y,b){let B=[],R=!1;x.forEach((O,G)=>{let q=takeSpansForNode(r,O,G+y);if(q){R=!0;let ee=buildTree(q,O,y+G+1,b);ee!=empty&&B.push(G,G+O.nodeSize,ee)}});let I=moveSpans(R?withoutNulls(r):r,-y).sort(byPos);for(let O=0;O<I.length;O++)I[O].type.valid(x,I[O])||(b.onRemove&&b.onRemove(I[O].spec),I.splice(O--,1));return I.length||B.length?new DecorationSet(I,B):empty}function byPos(r,x){return r.from-x.from||r.to-x.to}function removeOverlap(r){let x=r;for(let y=0;y<x.length-1;y++){let b=x[y];if(b.from!=b.to)for(let B=y+1;B<x.length;B++){let R=x[B];if(R.from==b.from){R.to!=b.to&&(x==r&&(x=r.slice()),x[B]=R.copy(R.from,b.to),insertAhead(x,B+1,R.copy(b.to,R.to)));continue}else{R.from<b.to&&(x==r&&(x=r.slice()),x[y]=b.copy(b.from,R.from),insertAhead(x,B,b.copy(R.from,b.to)));break}}}return x}function insertAhead(r,x,y){for(;x<r.length&&byPos(y,r[x])>0;)x++;r.splice(x,0,y)}function viewDecorations(r){let x=[];return r.someProp("decorations",y=>{let b=y(r.state);b&&b!=empty&&x.push(b)}),r.cursorWrapper&&x.push(DecorationSet.create(r.state.doc,[r.cursorWrapper.deco])),DecorationGroup.from(x)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$1&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(x){this.anchorNode=x.anchorNode,this.anchorOffset=x.anchorOffset,this.focusNode=x.focusNode,this.focusOffset=x.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(x){return x.anchorNode==this.anchorNode&&x.anchorOffset==this.anchorOffset&&x.focusNode==this.focusNode&&x.focusOffset==this.focusOffset}}class DOMObserver{constructor(x,y){this.view=x,this.handleDOMChange=y,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(b=>{for(let B=0;B<b.length;B++)this.queue.push(b[B]);ie$1&&ie_version<=11&&b.some(B=>B.type=="childList"&&B.removedNodes.length||B.type=="characterData"&&B.oldValue.length>B.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=b=>{this.queue.push({target:b.target,type:"characterData",oldValue:b.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let x=this.observer.takeRecords();if(x.length){for(let y=0;y<x.length;y++)this.queue.push(x[y]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$1&&ie_version<=11&&!this.view.state.selection.empty){let x=this.view.domSelectionRange();if(x.focusNode&&isEquivalentPosition(x.focusNode,x.focusOffset,x.anchorNode,x.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(x){if(!x.focusNode)return!0;let y=new Set,b;for(let R=x.focusNode;R;R=parentNode(R))y.add(R);for(let R=x.anchorNode;R;R=parentNode(R))if(y.has(R)){b=R;break}let B=b&&this.view.docView.nearestDesc(b);if(B&&B.ignoreMutation({type:"selection",target:b.nodeType==3?b.parentNode:b}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let x of this.observer.takeRecords())this.queue.push(x);return this.queue}flush(){let{view:x}=this;if(!x.docView||this.flushingSoon>-1)return;let y=this.pendingRecords();y.length&&(this.queue=[]);let b=x.domSelectionRange(),B=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(b)&&hasFocusAndSelection(x)&&!this.ignoreSelectionChange(b),R=-1,I=-1,O=!1,G=[];if(x.editable)for(let ee=0;ee<y.length;ee++){let ne=this.registerMutation(y[ee],G);ne&&(R=R<0?ne.from:Math.min(ne.from,R),I=I<0?ne.to:Math.max(ne.to,I),ne.typeOver&&(O=!0))}if(gecko&&G.length){let ee=G.filter(ne=>ne.nodeName=="BR");if(ee.length==2){let[ne,oe]=ee;ne.parentNode&&ne.parentNode.parentNode==oe.parentNode?oe.remove():ne.remove()}else{let{focusNode:ne}=this.currentSelection;for(let oe of ee){let pe=oe.parentNode;pe&&pe.nodeName=="LI"&&(!ne||blockParent(x,ne)!=pe)&&oe.remove()}}}let q=null;R<0&&B&&x.input.lastFocus>Date.now()-200&&Math.max(x.input.lastTouch,x.input.lastClick.time)<Date.now()-300&&selectionCollapsed(b)&&(q=selectionFromDOM(x))&&q.eq(Selection.near(x.state.doc.resolve(0),1))?(x.input.lastFocus=0,selectionToDOM(x),this.currentSelection.set(b),x.scrollToSelection()):(R>-1||B)&&(R>-1&&(x.docView.markDirty(R,I),checkCSS(x)),this.handleDOMChange(R,I,O,G),x.docView&&x.docView.dirty?x.updateState(x.state):this.currentSelection.eq(b)||selectionToDOM(x),this.currentSelection.set(b))}registerMutation(x,y){if(y.indexOf(x.target)>-1)return null;let b=this.view.docView.nearestDesc(x.target);if(x.type=="attributes"&&(b==this.view.docView||x.attributeName=="contenteditable"||x.attributeName=="style"&&!x.oldValue&&!x.target.getAttribute("style"))||!b||b.ignoreMutation(x))return null;if(x.type=="childList"){for(let ee=0;ee<x.addedNodes.length;ee++){let ne=x.addedNodes[ee];y.push(ne),ne.nodeType==3&&(this.lastChangedTextNode=ne)}if(b.contentDOM&&b.contentDOM!=b.dom&&!b.contentDOM.contains(x.target))return{from:b.posBefore,to:b.posAfter};let B=x.previousSibling,R=x.nextSibling;if(ie$1&&ie_version<=11&&x.addedNodes.length)for(let ee=0;ee<x.addedNodes.length;ee++){let{previousSibling:ne,nextSibling:oe}=x.addedNodes[ee];(!ne||Array.prototype.indexOf.call(x.addedNodes,ne)<0)&&(B=ne),(!oe||Array.prototype.indexOf.call(x.addedNodes,oe)<0)&&(R=oe)}let I=B&&B.parentNode==x.target?domIndex(B)+1:0,O=b.localPosFromDOM(x.target,I,-1),G=R&&R.parentNode==x.target?domIndex(R):x.target.childNodes.length,q=b.localPosFromDOM(x.target,G,1);return{from:O,to:q}}else return x.type=="attributes"?{from:b.posAtStart-b.border,to:b.posAtEnd+b.border}:(this.lastChangedTextNode=x.target,{from:b.posAtStart,to:b.posAtEnd,typeOver:x.target.nodeValue==x.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(r){if(!cssChecked.has(r)&&(cssChecked.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange(r,x){let y=x.startContainer,b=x.startOffset,B=x.endContainer,R=x.endOffset,I=r.domAtPos(r.state.selection.anchor);return isEquivalentPosition(I.node,I.offset,B,R)&&([y,b,B,R]=[B,R,y,b]),{anchorNode:y,anchorOffset:b,focusNode:B,focusOffset:R}}function safariShadowSelectionRange(r,x){if(x.getComposedRanges){let B=x.getComposedRanges(r.root)[0];if(B)return rangeToSelectionRange(r,B)}let y;function b(B){B.preventDefault(),B.stopImmediatePropagation(),y=B.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",b,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",b,!0),y?rangeToSelectionRange(r,y):null}function blockParent(r,x){for(let y=x.parentNode;y&&y!=r.dom;y=y.parentNode){let b=r.docView.nearestDesc(y,!0);if(b&&b.node.isBlock)return y}return null}function parseBetween(r,x,y){let{node:b,fromOffset:B,toOffset:R,from:I,to:O}=r.docView.parseRange(x,y),G=r.domSelectionRange(),q,ee=G.anchorNode;if(ee&&r.dom.contains(ee.nodeType==1?ee:ee.parentNode)&&(q=[{node:ee,offset:G.anchorOffset}],selectionCollapsed(G)||q.push({node:G.focusNode,offset:G.focusOffset})),chrome$1&&r.input.lastKeyCode===8)for(let Ue=R;Ue>B;Ue--){let Le=b.childNodes[Ue-1],He=Le.pmViewDesc;if(Le.nodeName=="BR"&&!He){R=Ue;break}if(!He||He.size)break}let ne=r.state.doc,oe=r.someProp("domParser")||DOMParser.fromSchema(r.state.schema),pe=ne.resolve(I),xe=null,_e=oe.parse(b,{topNode:pe.parent,topMatch:pe.parent.contentMatchAt(pe.index()),topOpen:!0,from:B,to:R,preserveWhitespace:pe.parent.type.whitespace=="pre"?"full":!0,findPositions:q,ruleFromNode,context:pe});if(q&&q[0].pos!=null){let Ue=q[0].pos,Le=q[1]&&q[1].pos;Le==null&&(Le=Ue),xe={anchor:Ue+I,head:Le+I}}return{doc:_e,sel:xe,from:I,to:O}}function ruleFromNode(r){let x=r.pmViewDesc;if(x)return x.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(safari&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let y=document.createElement("div");return y.appendChild(document.createElement("li")),{skip:y}}else if(r.parentNode.lastChild==r||safari&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(r,x,y,b,B){let R=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,x<0){let Ge=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,Xe=selectionFromDOM(r,Ge);if(Xe&&!r.state.selection.eq(Xe)){if(chrome$1&&android&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",ut=>ut(r,keyEvent(13,"Enter"))))return;let Je=r.state.tr.setSelection(Xe);Ge=="pointer"?Je.setMeta("pointer",!0):Ge=="key"&&Je.scrollIntoView(),R&&Je.setMeta("composition",R),r.dispatch(Je)}return}let I=r.state.doc.resolve(x),O=I.sharedDepth(y);x=I.before(O+1),y=r.state.doc.resolve(y).after(O+1);let G=r.state.selection,q=parseBetween(r,x,y),ee=r.state.doc,ne=ee.slice(q.from,q.to),oe,pe;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(oe=r.state.selection.to,pe="end"):(oe=r.state.selection.from,pe="start"),r.input.lastKeyCode=null;let xe=findDiff(ne.content,q.doc.content,q.from,oe,pe);if(xe&&r.input.domChangeCount++,(ios&&r.input.lastIOSEnter>Date.now()-225||android)&&B.some(Ge=>Ge.nodeType==1&&!isInline.test(Ge.nodeName))&&(!xe||xe.endA>=xe.endB)&&r.someProp("handleKeyDown",Ge=>Ge(r,keyEvent(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!xe)if(b&&G instanceof TextSelection&&!G.empty&&G.$head.sameParent(G.$anchor)&&!r.composing&&!(q.sel&&q.sel.anchor!=q.sel.head))xe={start:G.from,endA:G.to,endB:G.to};else{if(q.sel){let Ge=resolveSelection(r,r.state.doc,q.sel);if(Ge&&!Ge.eq(r.state.selection)){let Xe=r.state.tr.setSelection(Ge);R&&Xe.setMeta("composition",R),r.dispatch(Xe)}}return}r.state.selection.from<r.state.selection.to&&xe.start==xe.endB&&r.state.selection instanceof TextSelection&&(xe.start>r.state.selection.from&&xe.start<=r.state.selection.from+2&&r.state.selection.from>=q.from?xe.start=r.state.selection.from:xe.endA<r.state.selection.to&&xe.endA>=r.state.selection.to-2&&r.state.selection.to<=q.to&&(xe.endB+=r.state.selection.to-xe.endA,xe.endA=r.state.selection.to)),ie$1&&ie_version<=11&&xe.endB==xe.start+1&&xe.endA==xe.start&&xe.start>q.from&&q.doc.textBetween(xe.start-q.from-1,xe.start-q.from+1)==" "&&(xe.start--,xe.endA--,xe.endB--);let _e=q.doc.resolveNoCache(xe.start-q.from),Ue=q.doc.resolveNoCache(xe.endB-q.from),Le=ee.resolve(xe.start),He=_e.sameParent(Ue)&&_e.parent.inlineContent&&Le.end()>=xe.endA;if((ios&&r.input.lastIOSEnter>Date.now()-225&&(!He||B.some(Ge=>Ge.nodeName=="DIV"||Ge.nodeName=="P"))||!He&&_e.pos<q.doc.content.size&&(!_e.sameParent(Ue)||!_e.parent.inlineContent)&&_e.pos<Ue.pos&&!/\S/.test(q.doc.textBetween(_e.pos,Ue.pos,"","")))&&r.someProp("handleKeyDown",Ge=>Ge(r,keyEvent(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>xe.start&&looksLikeBackspace(ee,xe.start,xe.endA,_e,Ue)&&r.someProp("handleKeyDown",Ge=>Ge(r,keyEvent(8,"Backspace")))){android&&chrome$1&&r.domObserver.suppressSelectionUpdates();return}chrome$1&&xe.endB==xe.start&&(r.input.lastChromeDelete=Date.now()),android&&!He&&_e.start()!=Ue.start()&&Ue.parentOffset==0&&_e.depth==Ue.depth&&q.sel&&q.sel.anchor==q.sel.head&&q.sel.head==xe.endA&&(xe.endB-=2,Ue=q.doc.resolveNoCache(xe.endB-q.from),setTimeout(()=>{r.someProp("handleKeyDown",function(Ge){return Ge(r,keyEvent(13,"Enter"))})},20));let $e=xe.start,Ne=xe.endA,Qe=Ge=>{let Xe=Ge||r.state.tr.replace($e,Ne,q.doc.slice(xe.start-q.from,xe.endB-q.from));if(q.sel){let Je=resolveSelection(r,Xe.doc,q.sel);Je&&!(chrome$1&&r.composing&&Je.empty&&(xe.start!=xe.endB||r.input.lastChromeDelete<Date.now()-100)&&(Je.head==$e||Je.head==Xe.mapping.map(Ne)-1)||ie$1&&Je.empty&&Je.head==$e)&&Xe.setSelection(Je)}return R&&Xe.setMeta("composition",R),Xe.scrollIntoView()},We;if(He)if(_e.pos==Ue.pos){ie$1&&ie_version<=11&&_e.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(r),20));let Ge=Qe(r.state.tr.delete($e,Ne)),Xe=ee.resolve(xe.start).marksAcross(ee.resolve(xe.endA));Xe&&Ge.ensureMarks(Xe),r.dispatch(Ge)}else if(xe.endA==xe.endB&&(We=isMarkChange(_e.parent.content.cut(_e.parentOffset,Ue.parentOffset),Le.parent.content.cut(Le.parentOffset,xe.endA-Le.start())))){let Ge=Qe(r.state.tr);We.type=="add"?Ge.addMark($e,Ne,We.mark):Ge.removeMark($e,Ne,We.mark),r.dispatch(Ge)}else if(_e.parent.child(_e.index()).isText&&_e.index()==Ue.index()-(Ue.textOffset?0:1)){let Ge=_e.parent.textBetween(_e.parentOffset,Ue.parentOffset),Xe=()=>Qe(r.state.tr.insertText(Ge,$e,Ne));r.someProp("handleTextInput",Je=>Je(r,$e,Ne,Ge,Xe))||r.dispatch(Xe())}else r.dispatch(Qe());else r.dispatch(Qe())}function resolveSelection(r,x,y){return Math.max(y.anchor,y.head)>x.content.size?null:selectionBetween(r,x.resolve(y.anchor),x.resolve(y.head))}function isMarkChange(r,x){let y=r.firstChild.marks,b=x.firstChild.marks,B=y,R=b,I,O,G;for(let ee=0;ee<b.length;ee++)B=b[ee].removeFromSet(B);for(let ee=0;ee<y.length;ee++)R=y[ee].removeFromSet(R);if(B.length==1&&R.length==0)O=B[0],I="add",G=ee=>ee.mark(O.addToSet(ee.marks));else if(B.length==0&&R.length==1)O=R[0],I="remove",G=ee=>ee.mark(O.removeFromSet(ee.marks));else return null;let q=[];for(let ee=0;ee<x.childCount;ee++)q.push(G(x.child(ee)));if(Fragment.from(q).eq(r))return{mark:O,type:I}}function looksLikeBackspace(r,x,y,b,B){if(y-x<=B.pos-b.pos||skipClosingAndOpening(b,!0,!1)<B.pos)return!1;let R=r.resolve(x);if(!b.parent.isTextblock){let O=R.nodeAfter;return O!=null&&y==x+O.nodeSize}if(R.parentOffset<R.parent.content.size||!R.parent.isTextblock)return!1;let I=r.resolve(skipClosingAndOpening(R,!0,!0));return!I.parent.isTextblock||I.pos>y||skipClosingAndOpening(I,!0,!1)<y?!1:b.parent.content.cut(b.parentOffset).eq(I.parent.content)}function skipClosingAndOpening(r,x,y){let b=r.depth,B=x?r.end():r.pos;for(;b>0&&(x||r.indexAfter(b)==r.node(b).childCount);)b--,B++,x=!1;if(y){let R=r.node(b).maybeChild(r.indexAfter(b));for(;R&&!R.isLeaf;)R=R.firstChild,B++}return B}function findDiff(r,x,y,b,B){let R=r.findDiffStart(x,y);if(R==null)return null;let{a:I,b:O}=r.findDiffEnd(x,y+r.size,y+x.size);if(B=="end"){let G=Math.max(0,R-Math.min(I,O));b-=I+G-R}if(I<R&&r.size<x.size){let G=b<=R&&b>=I?R-b:0;R-=G,R&&R<x.size&&isSurrogatePair(x.textBetween(R-1,R+1))&&(R+=G?1:-1),O=R+(O-I),I=R}else if(O<R){let G=b<=R&&b>=O?R-b:0;R-=G,R&&R<r.size&&isSurrogatePair(r.textBetween(R-1,R+1))&&(R+=G?1:-1),I=R+(I-O),O=R}return{start:R,endA:I,endB:O}}function isSurrogatePair(r){if(r.length!=2)return!1;let x=r.charCodeAt(0),y=r.charCodeAt(1);return x>=56320&&x<=57343&&y>=55296&&y<=56319}class EditorView{constructor(x,y){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=y,this.state=y.state,this.directPlugins=y.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=x&&x.mount||document.createElement("div"),x&&(x.appendChild?x.appendChild(this.dom):typeof x=="function"?x(this.dom):x.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(b,B,R,I)=>readDOMChange(this,b,B,R,I)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let x=this._props;this._props={};for(let y in x)this._props[y]=x[y];this._props.state=this.state}return this._props}update(x){x.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let y=this._props;this._props=x,x.plugins&&(x.plugins.forEach(checkStateComponent),this.directPlugins=x.plugins),this.updateStateInner(x.state,y)}setProps(x){let y={};for(let b in this._props)y[b]=this._props[b];y.state=this.state;for(let b in x)y[b]=x[b];this.update(y)}updateState(x){this.updateStateInner(x,this._props)}updateStateInner(x,y){var b;let B=this.state,R=!1,I=!1;x.storedMarks&&this.composing&&(clearComposition(this),I=!0),this.state=x;let O=B.plugins!=x.plugins||this._props.plugins!=y.plugins;if(O||this._props.plugins!=y.plugins||this._props.nodeViews!=y.nodeViews){let pe=buildNodeViews(this);changedNodeViews(pe,this.nodeViews)&&(this.nodeViews=pe,R=!0)}(O||y.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let G=viewDecorations(this),q=computeDocDeco(this),ee=B.plugins!=x.plugins&&!B.doc.eq(x.doc)?"reset":x.scrollToSelection>B.scrollToSelection?"to selection":"preserve",ne=R||!this.docView.matchesNode(x.doc,q,G);(ne||!x.selection.eq(B.selection))&&(I=!0);let oe=ee=="preserve"&&I&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(I){this.domObserver.stop();let pe=ne&&(ie$1||chrome$1)&&!this.composing&&!B.selection.empty&&!x.selection.empty&&selectionContextChanged(B.selection,x.selection);if(ne){let xe=chrome$1?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(R||!this.docView.update(x.doc,q,G,this))&&(this.docView.updateOuterDeco(q),this.docView.destroy(),this.docView=docViewDesc(x.doc,q,G,this.dom,this)),xe&&!this.trackWrites&&(pe=!0)}pe||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,pe):(syncNodeSelection(this,x.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(B),!((b=this.dragging)===null||b===void 0)&&b.node&&!B.doc.eq(x.doc)&&this.updateDraggedNode(this.dragging,B),ee=="reset"?this.dom.scrollTop=0:ee=="to selection"?this.scrollToSelection():oe&&resetScrollPos(oe)}scrollToSelection(){let x=this.domSelectionRange().focusNode;if(!(!x||!this.dom.contains(x.nodeType==1?x:x.parentNode))){if(!this.someProp("handleScrollToSelection",y=>y(this)))if(this.state.selection instanceof NodeSelection){let y=this.docView.domAfterPos(this.state.selection.from);y.nodeType==1&&scrollRectIntoView(this,y.getBoundingClientRect(),x)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),x)}}destroyPluginViews(){let x;for(;x=this.pluginViews.pop();)x.destroy&&x.destroy()}updatePluginViews(x){if(!x||x.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let y=0;y<this.directPlugins.length;y++){let b=this.directPlugins[y];b.spec.view&&this.pluginViews.push(b.spec.view(this))}for(let y=0;y<this.state.plugins.length;y++){let b=this.state.plugins[y];b.spec.view&&this.pluginViews.push(b.spec.view(this))}}else for(let y=0;y<this.pluginViews.length;y++){let b=this.pluginViews[y];b.update&&b.update(this,x)}}updateDraggedNode(x,y){let b=x.node,B=-1;if(this.state.doc.nodeAt(b.from)==b.node)B=b.from;else{let R=b.from+(this.state.doc.content.size-y.doc.content.size);(R>0&&this.state.doc.nodeAt(R))==b.node&&(B=R)}this.dragging=new Dragging(x.slice,x.move,B<0?void 0:NodeSelection.create(this.state.doc,B))}someProp(x,y){let b=this._props&&this._props[x],B;if(b!=null&&(B=y?y(b):b))return B;for(let I=0;I<this.directPlugins.length;I++){let O=this.directPlugins[I].props[x];if(O!=null&&(B=y?y(O):O))return B}let R=this.state.plugins;if(R)for(let I=0;I<R.length;I++){let O=R[I].props[x];if(O!=null&&(B=y?y(O):O))return B}}hasFocus(){if(ie$1){let x=this.root.activeElement;if(x==this.dom)return!0;if(!x||!this.dom.contains(x))return!1;for(;x&&this.dom!=x&&this.dom.contains(x);){if(x.contentEditable=="false")return!1;x=x.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let x=this._root;if(x==null){for(let y=this.dom.parentNode;y;y=y.parentNode)if(y.nodeType==9||y.nodeType==11&&y.host)return y.getSelection||(Object.getPrototypeOf(y).getSelection=()=>y.ownerDocument.getSelection()),this._root=y}return x||document}updateRoot(){this._root=null}posAtCoords(x){return posAtCoords(this,x)}coordsAtPos(x,y=1){return coordsAtPos(this,x,y)}domAtPos(x,y=0){return this.docView.domFromPos(x,y)}nodeDOM(x){let y=this.docView.descAt(x);return y?y.nodeDOM:null}posAtDOM(x,y,b=-1){let B=this.docView.posFromDOM(x,y,b);if(B==null)throw new RangeError("DOM position not inside the editor");return B}endOfTextblock(x,y){return endOfTextblock(this,y||this.state,x)}pasteHTML(x,y){return doPaste(this,"",x,!1,y||new ClipboardEvent("paste"))}pasteText(x,y){return doPaste(this,x,null,!0,y||new ClipboardEvent("paste"))}serializeForClipboard(x){return serializeForClipboard(this,x)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(x){return dispatchEvent(this,x)}domSelectionRange(){let x=this.domSelection();return x?safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,x)||x:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}EditorView.prototype.dispatch=function(r){let x=this._props.dispatchTransaction;x?x.call(this,r):this.updateState(this.state.apply(r))};function computeDocDeco(r){let x=Object.create(null);return x.class="ProseMirror",x.contenteditable=String(r.editable),r.someProp("attributes",y=>{if(typeof y=="function"&&(y=y(r.state)),y)for(let b in y)b=="class"?x.class+=" "+y[b]:b=="style"?x.style=(x.style?x.style+";":"")+y[b]:!x[b]&&b!="contenteditable"&&b!="nodeName"&&(x[b]=String(y[b]))}),x.translate||(x.translate="no"),[Decoration.node(0,r.state.doc.content.size,x)]}function updateCursorWrapper(r){if(r.markCursor){let x=document.createElement("img");x.className="ProseMirror-separator",x.setAttribute("mark-placeholder","true"),x.setAttribute("alt",""),r.cursorWrapper={dom:x,deco:Decoration.widget(r.state.selection.from,x,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function getEditable(r){return!r.someProp("editable",x=>x(r.state)===!1)}function selectionContextChanged(r,x){let y=Math.min(r.$anchor.sharedDepth(r.head),x.$anchor.sharedDepth(x.head));return r.$anchor.start(y)!=x.$anchor.start(y)}function buildNodeViews(r){let x=Object.create(null);function y(b){for(let B in b)Object.prototype.hasOwnProperty.call(x,B)||(x[B]=b[B])}return r.someProp("nodeViews",y),r.someProp("markViews",y),x}function changedNodeViews(r,x){let y=0,b=0;for(let B in r){if(r[B]!=x[B])return!0;y++}for(let B in x)b++;return y!=b}function checkStateComponent(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(r){var x=mac$1&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||ie&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",y=!x&&r.key||(r.shiftKey?shift:base)[r.keyCode]||r.key||"Unidentified";return y=="Esc"&&(y="Escape"),y=="Del"&&(y="Delete"),y=="Left"&&(y="ArrowLeft"),y=="Up"&&(y="ArrowUp"),y=="Right"&&(y="ArrowRight"),y=="Down"&&(y="ArrowDown"),y}const mac=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),windows=typeof navigator<"u"&&/Win/.test(navigator.platform);function normalizeKeyName$1(r){let x=r.split(/-(?!$)/),y=x[x.length-1];y=="Space"&&(y=" ");let b,B,R,I;for(let O=0;O<x.length-1;O++){let G=x[O];if(/^(cmd|meta|m)$/i.test(G))I=!0;else if(/^a(lt)?$/i.test(G))b=!0;else if(/^(c|ctrl|control)$/i.test(G))B=!0;else if(/^s(hift)?$/i.test(G))R=!0;else if(/^mod$/i.test(G))mac?I=!0:B=!0;else throw new Error("Unrecognized modifier name: "+G)}return b&&(y="Alt-"+y),B&&(y="Ctrl-"+y),I&&(y="Meta-"+y),R&&(y="Shift-"+y),y}function normalize(r){let x=Object.create(null);for(let y in r)x[normalizeKeyName$1(y)]=r[y];return x}function modifiers(r,x,y=!0){return x.altKey&&(r="Alt-"+r),x.ctrlKey&&(r="Ctrl-"+r),x.metaKey&&(r="Meta-"+r),y&&x.shiftKey&&(r="Shift-"+r),r}function keymap(r){return new Plugin({props:{handleKeyDown:keydownHandler(r)}})}function keydownHandler(r){let x=normalize(r);return function(y,b){let B=keyName(b),R,I=x[modifiers(B,b)];if(I&&I(y.state,y.dispatch,y))return!0;if(B.length==1&&B!=" "){if(b.shiftKey){let O=x[modifiers(B,b,!1)];if(O&&O(y.state,y.dispatch,y))return!0}if((b.altKey||b.metaKey||b.ctrlKey)&&!(windows&&b.ctrlKey&&b.altKey)&&(R=base[b.keyCode])&&R!=B){let O=x[modifiers(R,b)];if(O&&O(y.state,y.dispatch,y))return!0}}return!1}}var __defProp$1=Object.defineProperty,__export$1=(r,x)=>{for(var y in x)__defProp$1(r,y,{get:x[y],enumerable:!0})};function createChainableState(r){const{state:x,transaction:y}=r;let{selection:b}=y,{doc:B}=y,{storedMarks:R}=y;return{...x,apply:x.apply.bind(x),applyTransaction:x.applyTransaction.bind(x),plugins:x.plugins,schema:x.schema,reconfigure:x.reconfigure.bind(x),toJSON:x.toJSON.bind(x),get storedMarks(){return R},get selection(){return b},get doc(){return B},get tr(){return b=y.selection,B=y.doc,R=y.storedMarks,y}}}var CommandManager=class{constructor(r){this.editor=r.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=r.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:r,editor:x,state:y}=this,{view:b}=x,{tr:B}=y,R=this.buildProps(B);return Object.fromEntries(Object.entries(r).map(([I,O])=>[I,(...q)=>{const ee=O(...q)(R);return!B.getMeta("preventDispatch")&&!this.hasCustomState&&b.dispatch(B),ee}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(r,x=!0){const{rawCommands:y,editor:b,state:B}=this,{view:R}=b,I=[],O=!!r,G=r||B.tr,q=()=>(!O&&x&&!G.getMeta("preventDispatch")&&!this.hasCustomState&&R.dispatch(G),I.every(ne=>ne===!0)),ee={...Object.fromEntries(Object.entries(y).map(([ne,oe])=>[ne,(...xe)=>{const _e=this.buildProps(G,x),Ue=oe(...xe)(_e);return I.push(Ue),ee}])),run:q};return ee}createCan(r){const{rawCommands:x,state:y}=this,b=!1,B=r||y.tr,R=this.buildProps(B,b);return{...Object.fromEntries(Object.entries(x).map(([O,G])=>[O,(...q)=>G(...q)({...R,dispatch:void 0})])),chain:()=>this.createChain(B,b)}}buildProps(r,x=!0){const{rawCommands:y,editor:b,state:B}=this,{view:R}=b,I={tr:r,editor:b,view:R,state:createChainableState({state:B,transaction:r}),dispatch:x?()=>{}:void 0,chain:()=>this.createChain(r,x),can:()=>this.createCan(r),get commands(){return Object.fromEntries(Object.entries(y).map(([O,G])=>[O,(...q)=>G(...q)(I)]))}};return I}},commands_exports={};__export$1(commands_exports,{blur:()=>blur,clearContent:()=>clearContent,clearNodes:()=>clearNodes,command:()=>command,createParagraphNear:()=>createParagraphNear,cut:()=>cut,deleteCurrentNode:()=>deleteCurrentNode,deleteNode:()=>deleteNode,deleteRange:()=>deleteRange,deleteSelection:()=>deleteSelection,enter:()=>enter,exitCode:()=>exitCode,extendMarkRange:()=>extendMarkRange,first:()=>first,focus:()=>focus,forEach:()=>forEach,insertContent:()=>insertContent,insertContentAt:()=>insertContentAt,joinBackward:()=>joinBackward,joinDown:()=>joinDown,joinForward:()=>joinForward,joinItemBackward:()=>joinItemBackward,joinItemForward:()=>joinItemForward,joinTextblockBackward:()=>joinTextblockBackward,joinTextblockForward:()=>joinTextblockForward,joinUp:()=>joinUp,keyboardShortcut:()=>keyboardShortcut,lift:()=>lift,liftEmptyBlock:()=>liftEmptyBlock,liftListItem:()=>liftListItem,newlineInCode:()=>newlineInCode,resetAttributes:()=>resetAttributes,scrollIntoView:()=>scrollIntoView,selectAll:()=>selectAll,selectNodeBackward:()=>selectNodeBackward,selectNodeForward:()=>selectNodeForward,selectParentNode:()=>selectParentNode,selectTextblockEnd:()=>selectTextblockEnd,selectTextblockStart:()=>selectTextblockStart,setContent:()=>setContent,setMark:()=>setMark,setMeta:()=>setMeta,setNode:()=>setNode,setNodeSelection:()=>setNodeSelection,setTextSelection:()=>setTextSelection,sinkListItem:()=>sinkListItem,splitBlock:()=>splitBlock,splitListItem:()=>splitListItem,toggleList:()=>toggleList,toggleMark:()=>toggleMark,toggleNode:()=>toggleNode,toggleWrap:()=>toggleWrap,undoInputRule:()=>undoInputRule,unsetAllMarks:()=>unsetAllMarks,unsetMark:()=>unsetMark,updateAttributes:()=>updateAttributes,wrapIn:()=>wrapIn,wrapInList:()=>wrapInList});var blur=()=>({editor:r,view:x})=>(requestAnimationFrame(()=>{var y;r.isDestroyed||(x.dom.blur(),(y=window==null?void 0:window.getSelection())==null||y.removeAllRanges())}),!0),clearContent=(r=!0)=>({commands:x})=>x.setContent("",{emitUpdate:r}),clearNodes=()=>({state:r,tr:x,dispatch:y})=>{const{selection:b}=x,{ranges:B}=b;return y&&B.forEach(({$from:R,$to:I})=>{r.doc.nodesBetween(R.pos,I.pos,(O,G)=>{if(O.type.isText)return;const{doc:q,mapping:ee}=x,ne=q.resolve(ee.map(G)),oe=q.resolve(ee.map(G+O.nodeSize)),pe=ne.blockRange(oe);if(!pe)return;const xe=liftTarget(pe);if(O.type.isTextblock){const{defaultType:_e}=ne.parent.contentMatchAt(ne.index());x.setNodeMarkup(pe.start,_e)}(xe||xe===0)&&x.lift(pe,xe)})}),!0},command=r=>x=>r(x),createParagraphNear=()=>({state:r,dispatch:x})=>createParagraphNear$1(r,x),cut=(r,x)=>({editor:y,tr:b})=>{const{state:B}=y,R=B.doc.slice(r.from,r.to);b.deleteRange(r.from,r.to);const I=b.mapping.map(x);return b.insert(I,R.content),b.setSelection(new TextSelection(b.doc.resolve(Math.max(I-1,0)))),!0},deleteCurrentNode=()=>({tr:r,dispatch:x})=>{const{selection:y}=r,b=y.$anchor.node();if(b.content.size>0)return!1;const B=r.selection.$anchor;for(let R=B.depth;R>0;R-=1)if(B.node(R).type===b.type){if(x){const O=B.before(R),G=B.after(R);r.delete(O,G).scrollIntoView()}return!0}return!1};function getNodeType(r,x){if(typeof r=="string"){if(!x.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return x.nodes[r]}return r}var deleteNode=r=>({tr:x,state:y,dispatch:b})=>{const B=getNodeType(r,y.schema),R=x.selection.$anchor;for(let I=R.depth;I>0;I-=1)if(R.node(I).type===B){if(b){const G=R.before(I),q=R.after(I);x.delete(G,q).scrollIntoView()}return!0}return!1},deleteRange=r=>({tr:x,dispatch:y})=>{const{from:b,to:B}=r;return y&&x.delete(b,B),!0},deleteSelection=()=>({state:r,dispatch:x})=>deleteSelection$1(r,x),enter=()=>({commands:r})=>r.keyboardShortcut("Enter"),exitCode=()=>({state:r,dispatch:x})=>exitCode$1(r,x);function isRegExp(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function objectIncludes(r,x,y={strict:!0}){const b=Object.keys(x);return b.length?b.every(B=>y.strict?x[B]===r[B]:isRegExp(x[B])?x[B].test(r[B]):x[B]===r[B]):!0}function findMarkInSet(r,x,y={}){return r.find(b=>b.type===x&&objectIncludes(Object.fromEntries(Object.keys(y).map(B=>[B,b.attrs[B]])),y))}function isMarkInSet(r,x,y={}){return!!findMarkInSet(r,x,y)}function getMarkRange(r,x,y){var b;if(!r||!x)return;let B=r.parent.childAfter(r.parentOffset);if((!B.node||!B.node.marks.some(ee=>ee.type===x))&&(B=r.parent.childBefore(r.parentOffset)),!B.node||!B.node.marks.some(ee=>ee.type===x)||(y=y||((b=B.node.marks[0])==null?void 0:b.attrs),!findMarkInSet([...B.node.marks],x,y)))return;let I=B.index,O=r.start()+B.offset,G=I+1,q=O+B.node.nodeSize;for(;I>0&&isMarkInSet([...r.parent.child(I-1).marks],x,y);)I-=1,O-=r.parent.child(I).nodeSize;for(;G<r.parent.childCount&&isMarkInSet([...r.parent.child(G).marks],x,y);)q+=r.parent.child(G).nodeSize,G+=1;return{from:O,to:q}}function getMarkType(r,x){if(typeof r=="string"){if(!x.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return x.marks[r]}return r}var extendMarkRange=(r,x={})=>({tr:y,state:b,dispatch:B})=>{const R=getMarkType(r,b.schema),{doc:I,selection:O}=y,{$from:G,from:q,to:ee}=O;if(B){const ne=getMarkRange(G,R,x);if(ne&&ne.from<=q&&ne.to>=ee){const oe=TextSelection.create(I,ne.from,ne.to);y.setSelection(oe)}}return!0},first=r=>x=>{const y=typeof r=="function"?r(x):r;for(let b=0;b<y.length;b+=1)if(y[b](x))return!0;return!1};function isTextSelection(r){return r instanceof TextSelection}function minMax(r=0,x=0,y=0){return Math.min(Math.max(r,x),y)}function resolveFocusPosition(r,x=null){if(!x)return null;const y=Selection.atStart(r),b=Selection.atEnd(r);if(x==="start"||x===!0)return y;if(x==="end")return b;const B=y.from,R=b.to;return x==="all"?TextSelection.create(r,minMax(0,B,R),minMax(r.content.size,B,R)):TextSelection.create(r,minMax(x,B,R),minMax(x,B,R))}function isAndroid(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var focus=(r=null,x={})=>({editor:y,view:b,tr:B,dispatch:R})=>{x={scrollIntoView:!0,...x};const I=()=>{(isiOS()||isAndroid())&&b.dom.focus(),requestAnimationFrame(()=>{y.isDestroyed||(b.focus(),x!=null&&x.scrollIntoView&&y.commands.scrollIntoView())})};if(b.hasFocus()&&r===null||r===!1)return!0;if(R&&r===null&&!isTextSelection(y.state.selection))return I(),!0;const O=resolveFocusPosition(B.doc,r)||y.state.selection,G=y.state.selection.eq(O);return R&&(G||B.setSelection(O),G&&B.storedMarks&&B.setStoredMarks(B.storedMarks),I()),!0},forEach=(r,x)=>y=>r.every((b,B)=>x(b,{...y,index:B})),insertContent=(r,x)=>({tr:y,commands:b})=>b.insertContentAt({from:y.selection.from,to:y.selection.to},r,x),removeWhitespaces=r=>{const x=r.childNodes;for(let y=x.length-1;y>=0;y-=1){const b=x[y];b.nodeType===3&&b.nodeValue&&/^(\n\s\s|\n)$/.test(b.nodeValue)?r.removeChild(b):b.nodeType===1&&removeWhitespaces(b)}return r};function elementFromString(r){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const x=`<body>${r}</body>`,y=new window.DOMParser().parseFromString(x,"text/html").body;return removeWhitespaces(y)}function createNodeFromContent(r,x,y){if(r instanceof Node$1||r instanceof Fragment)return r;y={slice:!0,parseOptions:{},...y};const b=typeof r=="object"&&r!==null,B=typeof r=="string";if(b)try{if(Array.isArray(r)&&r.length>0)return Fragment.fromArray(r.map(O=>x.nodeFromJSON(O)));const I=x.nodeFromJSON(r);return y.errorOnInvalidContent&&I.check(),I}catch(R){if(y.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:R});return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",R),createNodeFromContent("",x,y)}if(B){if(y.errorOnInvalidContent){let I=!1,O="";const G=new Schema({topNode:x.spec.topNode,marks:x.spec.marks,nodes:x.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:q=>(I=!0,O=typeof q=="string"?q:q.outerHTML,null)}]}})});if(y.slice?DOMParser.fromSchema(G).parseSlice(elementFromString(r),y.parseOptions):DOMParser.fromSchema(G).parse(elementFromString(r),y.parseOptions),y.errorOnInvalidContent&&I)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${O}`)})}const R=DOMParser.fromSchema(x);return y.slice?R.parseSlice(elementFromString(r),y.parseOptions).content:R.parse(elementFromString(r),y.parseOptions)}return createNodeFromContent("",x,y)}function selectionToInsertionEnd(r,x,y){const b=r.steps.length-1;if(b<x)return;const B=r.steps[b];if(!(B instanceof ReplaceStep||B instanceof ReplaceAroundStep))return;const R=r.mapping.maps[b];let I=0;R.forEach((O,G,q,ee)=>{I===0&&(I=ee)}),r.setSelection(Selection.near(r.doc.resolve(I),y))}var isFragment=r=>!("type"in r),insertContentAt=(r,x,y)=>({tr:b,dispatch:B,editor:R})=>{var I;if(B){y={parseOptions:R.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...y};let O;const G=Ue=>{R.emit("contentError",{editor:R,error:Ue,disableCollaboration:()=>{"collaboration"in R.storage&&typeof R.storage.collaboration=="object"&&R.storage.collaboration&&(R.storage.collaboration.isDisabled=!0)}})},q={preserveWhitespace:"full",...y.parseOptions};if(!y.errorOnInvalidContent&&!R.options.enableContentCheck&&R.options.emitContentError)try{createNodeFromContent(x,R.schema,{parseOptions:q,errorOnInvalidContent:!0})}catch(Ue){G(Ue)}try{O=createNodeFromContent(x,R.schema,{parseOptions:q,errorOnInvalidContent:(I=y.errorOnInvalidContent)!=null?I:R.options.enableContentCheck})}catch(Ue){return G(Ue),!1}let{from:ee,to:ne}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},oe=!0,pe=!0;if((isFragment(O)?O:[O]).forEach(Ue=>{Ue.check(),oe=oe?Ue.isText&&Ue.marks.length===0:!1,pe=pe?Ue.isBlock:!1}),ee===ne&&pe){const{parent:Ue}=b.doc.resolve(ee);Ue.isTextblock&&!Ue.type.spec.code&&!Ue.childCount&&(ee-=1,ne+=1)}let _e;if(oe){if(Array.isArray(x))_e=x.map(Ue=>Ue.text||"").join("");else if(x instanceof Fragment){let Ue="";x.forEach(Le=>{Le.text&&(Ue+=Le.text)}),_e=Ue}else typeof x=="object"&&x&&x.text?_e=x.text:_e=x;b.insertText(_e,ee,ne)}else{_e=O;const Ue=b.doc.resolve(ee),Le=Ue.node(),He=Ue.parentOffset===0,$e=Le.isText||Le.isTextblock,Ne=Le.content.size>0;He&&$e&&Ne&&(ee=Math.max(0,ee-1)),b.replaceWith(ee,ne,_e)}y.updateSelection&&selectionToInsertionEnd(b,b.steps.length-1,-1),y.applyInputRules&&b.setMeta("applyInputRules",{from:ee,text:_e}),y.applyPasteRules&&b.setMeta("applyPasteRules",{from:ee,text:_e})}return!0},joinUp=()=>({state:r,dispatch:x})=>joinUp$1(r,x),joinDown=()=>({state:r,dispatch:x})=>joinDown$1(r,x),joinBackward=()=>({state:r,dispatch:x})=>joinBackward$1(r,x),joinForward=()=>({state:r,dispatch:x})=>joinForward$1(r,x),joinItemBackward=()=>({state:r,dispatch:x,tr:y})=>{try{const b=joinPoint(r.doc,r.selection.$from.pos,-1);return b==null?!1:(y.join(b,2),x&&x(y),!0)}catch{return!1}},joinItemForward=()=>({state:r,dispatch:x,tr:y})=>{try{const b=joinPoint(r.doc,r.selection.$from.pos,1);return b==null?!1:(y.join(b,2),x&&x(y),!0)}catch{return!1}},joinTextblockBackward=()=>({state:r,dispatch:x})=>joinTextblockBackward$1(r,x),joinTextblockForward=()=>({state:r,dispatch:x})=>joinTextblockForward$1(r,x);function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(r){const x=r.split(/-(?!$)/);let y=x[x.length-1];y==="Space"&&(y=" ");let b,B,R,I;for(let O=0;O<x.length-1;O+=1){const G=x[O];if(/^(cmd|meta|m)$/i.test(G))I=!0;else if(/^a(lt)?$/i.test(G))b=!0;else if(/^(c|ctrl|control)$/i.test(G))B=!0;else if(/^s(hift)?$/i.test(G))R=!0;else if(/^mod$/i.test(G))isiOS()||isMacOS()?I=!0:B=!0;else throw new Error(`Unrecognized modifier name: ${G}`)}return b&&(y=`Alt-${y}`),B&&(y=`Ctrl-${y}`),I&&(y=`Meta-${y}`),R&&(y=`Shift-${y}`),y}var keyboardShortcut=r=>({editor:x,view:y,tr:b,dispatch:B})=>{const R=normalizeKeyName(r).split(/-(?!$)/),I=R.find(q=>!["Alt","Ctrl","Meta","Shift"].includes(q)),O=new KeyboardEvent("keydown",{key:I==="Space"?" ":I,altKey:R.includes("Alt"),ctrlKey:R.includes("Ctrl"),metaKey:R.includes("Meta"),shiftKey:R.includes("Shift"),bubbles:!0,cancelable:!0}),G=x.captureTransaction(()=>{y.someProp("handleKeyDown",q=>q(y,O))});return G==null||G.steps.forEach(q=>{const ee=q.map(b.mapping);ee&&B&&b.maybeStep(ee)}),!0};function isNodeActive(r,x,y={}){const{from:b,to:B,empty:R}=r.selection,I=x?getNodeType(x,r.schema):null,O=[];r.doc.nodesBetween(b,B,(ne,oe)=>{if(ne.isText)return;const pe=Math.max(b,oe),xe=Math.min(B,oe+ne.nodeSize);O.push({node:ne,from:pe,to:xe})});const G=B-b,q=O.filter(ne=>I?I.name===ne.node.type.name:!0).filter(ne=>objectIncludes(ne.node.attrs,y,{strict:!1}));return R?!!q.length:q.reduce((ne,oe)=>ne+oe.to-oe.from,0)>=G}var lift=(r,x={})=>({state:y,dispatch:b})=>{const B=getNodeType(r,y.schema);return isNodeActive(y,B,x)?lift$1(y,b):!1},liftEmptyBlock=()=>({state:r,dispatch:x})=>liftEmptyBlock$1(r,x),liftListItem=r=>({state:x,dispatch:y})=>{const b=getNodeType(r,x.schema);return liftListItem$1(b)(x,y)},newlineInCode=()=>({state:r,dispatch:x})=>newlineInCode$1(r,x);function getSchemaTypeNameByName(r,x){return x.nodes[r]?"node":x.marks[r]?"mark":null}function deleteProps(r,x){const y=typeof x=="string"?[x]:x;return Object.keys(r).reduce((b,B)=>(y.includes(B)||(b[B]=r[B]),b),{})}var resetAttributes=(r,x)=>({tr:y,state:b,dispatch:B})=>{let R=null,I=null;const O=getSchemaTypeNameByName(typeof r=="string"?r:r.name,b.schema);return O?(O==="node"&&(R=getNodeType(r,b.schema)),O==="mark"&&(I=getMarkType(r,b.schema)),B&&y.selection.ranges.forEach(G=>{b.doc.nodesBetween(G.$from.pos,G.$to.pos,(q,ee)=>{R&&R===q.type&&y.setNodeMarkup(ee,void 0,deleteProps(q.attrs,x)),I&&q.marks.length&&q.marks.forEach(ne=>{I===ne.type&&y.addMark(ee,ee+q.nodeSize,I.create(deleteProps(ne.attrs,x)))})})}),!0):!1},scrollIntoView=()=>({tr:r,dispatch:x})=>(x&&r.scrollIntoView(),!0),selectAll=()=>({tr:r,dispatch:x})=>{if(x){const y=new AllSelection(r.doc);r.setSelection(y)}return!0},selectNodeBackward=()=>({state:r,dispatch:x})=>selectNodeBackward$1(r,x),selectNodeForward=()=>({state:r,dispatch:x})=>selectNodeForward$1(r,x),selectParentNode=()=>({state:r,dispatch:x})=>selectParentNode$1(r,x),selectTextblockEnd=()=>({state:r,dispatch:x})=>selectTextblockEnd$1(r,x),selectTextblockStart=()=>({state:r,dispatch:x})=>selectTextblockStart$1(r,x);function createDocument(r,x,y={},b={}){return createNodeFromContent(r,x,{slice:!1,parseOptions:y,errorOnInvalidContent:b.errorOnInvalidContent})}var setContent=(r,{errorOnInvalidContent:x,emitUpdate:y=!0,parseOptions:b={}}={})=>({editor:B,tr:R,dispatch:I,commands:O})=>{const{doc:G}=R;if(b.preserveWhitespace!=="full"){const q=createDocument(r,B.schema,b,{errorOnInvalidContent:x??B.options.enableContentCheck});return I&&R.replaceWith(0,G.content.size,q).setMeta("preventUpdate",!y),!0}return I&&R.setMeta("preventUpdate",!y),O.insertContentAt({from:0,to:G.content.size},r,{parseOptions:b,errorOnInvalidContent:x??B.options.enableContentCheck})};function getMarkAttributes(r,x){const y=getMarkType(x,r.schema),{from:b,to:B,empty:R}=r.selection,I=[];R?(r.storedMarks&&I.push(...r.storedMarks),I.push(...r.selection.$head.marks())):r.doc.nodesBetween(b,B,G=>{I.push(...G.marks)});const O=I.find(G=>G.type.name===y.name);return O?{...O.attrs}:{}}function combineTransactionSteps(r,x){const y=new Transform(r);return x.forEach(b=>{b.steps.forEach(B=>{y.step(B)})}),y}function defaultBlockAt(r){for(let x=0;x<r.edgeCount;x+=1){const{type:y}=r.edge(x);if(y.isTextblock&&!y.hasRequiredAttrs())return y}return null}function findChildrenInRange(r,x,y){const b=[];return r.nodesBetween(x.from,x.to,(B,R)=>{y(B)&&b.push({node:B,pos:R})}),b}function findParentNodeClosestToPos(r,x){for(let y=r.depth;y>0;y-=1){const b=r.node(y);if(x(b))return{pos:y>0?r.before(y):0,start:r.start(y),depth:y,node:b}}}function findParentNode(r){return x=>findParentNodeClosestToPos(x.$from,r)}function getExtensionField(r,x,y){return r.config[x]===void 0&&r.parent?getExtensionField(r.parent,x,y):typeof r.config[x]=="function"?r.config[x].bind({...y,parent:r.parent?getExtensionField(r.parent,x,y):null}):r.config[x]}function flattenExtensions(r){return r.map(x=>{const y={name:x.name,options:x.options,storage:x.storage},b=getExtensionField(x,"addExtensions",y);return b?[x,...flattenExtensions(b())]:x}).flat(10)}function getHTMLFromFragment(r,x){const y=DOMSerializer.fromSchema(x).serializeFragment(r),B=document.implementation.createHTMLDocument().createElement("div");return B.appendChild(y),B.innerHTML}function isFunction(r){return typeof r=="function"}function callOrReturn(r,x=void 0,...y){return isFunction(r)?x?r.bind(x)(...y):r(...y):r}function isEmptyObject(r={}){return Object.keys(r).length===0&&r.constructor===Object}function splitExtensions(r){const x=r.filter(B=>B.type==="extension"),y=r.filter(B=>B.type==="node"),b=r.filter(B=>B.type==="mark");return{baseExtensions:x,nodeExtensions:y,markExtensions:b}}function getAttributesFromExtensions(r){const x=[],{nodeExtensions:y,markExtensions:b}=splitExtensions(r),B=[...y,...b],R={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return r.forEach(I=>{const O={name:I.name,options:I.options,storage:I.storage,extensions:B},G=getExtensionField(I,"addGlobalAttributes",O);if(!G)return;G().forEach(ee=>{ee.types.forEach(ne=>{Object.entries(ee.attributes).forEach(([oe,pe])=>{x.push({type:ne,name:oe,attribute:{...R,...pe}})})})})}),B.forEach(I=>{const O={name:I.name,options:I.options,storage:I.storage},G=getExtensionField(I,"addAttributes",O);if(!G)return;const q=G();Object.entries(q).forEach(([ee,ne])=>{const oe={...R,...ne};typeof(oe==null?void 0:oe.default)=="function"&&(oe.default=oe.default()),oe!=null&&oe.isRequired&&(oe==null?void 0:oe.default)===void 0&&delete oe.default,x.push({type:I.name,name:ee,attribute:oe})})}),x}function mergeAttributes(...r){return r.filter(x=>!!x).reduce((x,y)=>{const b={...x};return Object.entries(y).forEach(([B,R])=>{if(!b[B]){b[B]=R;return}if(B==="class"){const O=R?String(R).split(" "):[],G=b[B]?b[B].split(" "):[],q=O.filter(ee=>!G.includes(ee));b[B]=[...G,...q].join(" ")}else if(B==="style"){const O=R?R.split(";").map(ee=>ee.trim()).filter(Boolean):[],G=b[B]?b[B].split(";").map(ee=>ee.trim()).filter(Boolean):[],q=new Map;G.forEach(ee=>{const[ne,oe]=ee.split(":").map(pe=>pe.trim());q.set(ne,oe)}),O.forEach(ee=>{const[ne,oe]=ee.split(":").map(pe=>pe.trim());q.set(ne,oe)}),b[B]=Array.from(q.entries()).map(([ee,ne])=>`${ee}: ${ne}`).join("; ")}else b[B]=R}),b},{})}function getRenderedAttributes(r,x){return x.filter(y=>y.type===r.type.name).filter(y=>y.attribute.rendered).map(y=>y.attribute.renderHTML?y.attribute.renderHTML(r.attrs)||{}:{[y.name]:r.attrs[y.name]}).reduce((y,b)=>mergeAttributes(y,b),{})}function fromString(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function injectExtensionAttributesToParseRule(r,x){return"style"in r?r:{...r,getAttrs:y=>{const b=r.getAttrs?r.getAttrs(y):r.attrs;if(b===!1)return!1;const B=x.reduce((R,I)=>{const O=I.attribute.parseHTML?I.attribute.parseHTML(y):fromString(y.getAttribute(I.name));return O==null?R:{...R,[I.name]:O}},{});return{...b,...B}}}}function cleanUpSchemaItem(r){return Object.fromEntries(Object.entries(r).filter(([x,y])=>x==="attrs"&&isEmptyObject(y)?!1:y!=null))}function buildAttributeSpec(r){var x,y,b;const B={};return!((x=r==null?void 0:r.attribute)!=null&&x.isRequired)&&((y=r==null?void 0:r.attribute)==null?void 0:y.default)!==void 0&&(B.default=r.attribute.default),((b=r==null?void 0:r.attribute)==null?void 0:b.validate)!==void 0&&(B.validate=r.attribute.validate),[r.name,B]}function getSchemaByResolvedExtensions(r,x){var y;const b=getAttributesFromExtensions(r),{nodeExtensions:B,markExtensions:R}=splitExtensions(r),I=(y=B.find(q=>getExtensionField(q,"topNode")))==null?void 0:y.name,O=Object.fromEntries(B.map(q=>{const ee=b.filter(Le=>Le.type===q.name),ne={name:q.name,options:q.options,storage:q.storage,editor:x},oe=r.reduce((Le,He)=>{const $e=getExtensionField(He,"extendNodeSchema",ne);return{...Le,...$e?$e(q):{}}},{}),pe=cleanUpSchemaItem({...oe,content:callOrReturn(getExtensionField(q,"content",ne)),marks:callOrReturn(getExtensionField(q,"marks",ne)),group:callOrReturn(getExtensionField(q,"group",ne)),inline:callOrReturn(getExtensionField(q,"inline",ne)),atom:callOrReturn(getExtensionField(q,"atom",ne)),selectable:callOrReturn(getExtensionField(q,"selectable",ne)),draggable:callOrReturn(getExtensionField(q,"draggable",ne)),code:callOrReturn(getExtensionField(q,"code",ne)),whitespace:callOrReturn(getExtensionField(q,"whitespace",ne)),linebreakReplacement:callOrReturn(getExtensionField(q,"linebreakReplacement",ne)),defining:callOrReturn(getExtensionField(q,"defining",ne)),isolating:callOrReturn(getExtensionField(q,"isolating",ne)),attrs:Object.fromEntries(ee.map(buildAttributeSpec))}),xe=callOrReturn(getExtensionField(q,"parseHTML",ne));xe&&(pe.parseDOM=xe.map(Le=>injectExtensionAttributesToParseRule(Le,ee)));const _e=getExtensionField(q,"renderHTML",ne);_e&&(pe.toDOM=Le=>_e({node:Le,HTMLAttributes:getRenderedAttributes(Le,ee)}));const Ue=getExtensionField(q,"renderText",ne);return Ue&&(pe.toText=Ue),[q.name,pe]})),G=Object.fromEntries(R.map(q=>{const ee=b.filter(Ue=>Ue.type===q.name),ne={name:q.name,options:q.options,storage:q.storage,editor:x},oe=r.reduce((Ue,Le)=>{const He=getExtensionField(Le,"extendMarkSchema",ne);return{...Ue,...He?He(q):{}}},{}),pe=cleanUpSchemaItem({...oe,inclusive:callOrReturn(getExtensionField(q,"inclusive",ne)),excludes:callOrReturn(getExtensionField(q,"excludes",ne)),group:callOrReturn(getExtensionField(q,"group",ne)),spanning:callOrReturn(getExtensionField(q,"spanning",ne)),code:callOrReturn(getExtensionField(q,"code",ne)),attrs:Object.fromEntries(ee.map(buildAttributeSpec))}),xe=callOrReturn(getExtensionField(q,"parseHTML",ne));xe&&(pe.parseDOM=xe.map(Ue=>injectExtensionAttributesToParseRule(Ue,ee)));const _e=getExtensionField(q,"renderHTML",ne);return _e&&(pe.toDOM=Ue=>_e({mark:Ue,HTMLAttributes:getRenderedAttributes(Ue,ee)})),[q.name,pe]}));return new Schema({topNode:I,nodes:O,marks:G})}function findDuplicates(r){const x=r.filter((y,b)=>r.indexOf(y)!==b);return Array.from(new Set(x))}function sortExtensions(r){return r.sort((y,b)=>{const B=getExtensionField(y,"priority")||100,R=getExtensionField(b,"priority")||100;return B>R?-1:B<R?1:0})}function resolveExtensions(r){const x=sortExtensions(flattenExtensions(r)),y=findDuplicates(x.map(b=>b.name));return y.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${y.map(b=>`'${b}'`).join(", ")}]. This can lead to issues.`),x}function getTextBetween(r,x,y){const{from:b,to:B}=x,{blockSeparator:R=`

`,textSerializers:I={}}=y||{};let O="";return r.nodesBetween(b,B,(G,q,ee,ne)=>{var oe;G.isBlock&&q>b&&(O+=R);const pe=I==null?void 0:I[G.type.name];if(pe)return ee&&(O+=pe({node:G,pos:q,parent:ee,index:ne,range:x})),!1;G.isText&&(O+=(oe=G==null?void 0:G.text)==null?void 0:oe.slice(Math.max(b,q)-q,B-q))}),O}function getText(r,x){const y={from:0,to:r.content.size};return getTextBetween(r,y,x)}function getTextSerializersFromSchema(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,x])=>x.spec.toText).map(([x,y])=>[x,y.spec.toText]))}function getNodeAttributes(r,x){const y=getNodeType(x,r.schema),{from:b,to:B}=r.selection,R=[];r.doc.nodesBetween(b,B,O=>{R.push(O)});const I=R.reverse().find(O=>O.type.name===y.name);return I?{...I.attrs}:{}}function getAttributes(r,x){const y=getSchemaTypeNameByName(typeof x=="string"?x:x.name,r.schema);return y==="node"?getNodeAttributes(r,x):y==="mark"?getMarkAttributes(r,x):{}}function removeDuplicates(r,x=JSON.stringify){const y={};return r.filter(b=>{const B=x(b);return Object.prototype.hasOwnProperty.call(y,B)?!1:y[B]=!0})}function simplifyChangedRanges(r){const x=removeDuplicates(r);return x.length===1?x:x.filter((y,b)=>!x.filter((R,I)=>I!==b).some(R=>y.oldRange.from>=R.oldRange.from&&y.oldRange.to<=R.oldRange.to&&y.newRange.from>=R.newRange.from&&y.newRange.to<=R.newRange.to))}function getChangedRanges(r){const{mapping:x,steps:y}=r,b=[];return x.maps.forEach((B,R)=>{const I=[];if(B.ranges.length)B.forEach((O,G)=>{I.push({from:O,to:G})});else{const{from:O,to:G}=y[R];if(O===void 0||G===void 0)return;I.push({from:O,to:G})}I.forEach(({from:O,to:G})=>{const q=x.slice(R).map(O,-1),ee=x.slice(R).map(G),ne=x.invert().map(q,-1),oe=x.invert().map(ee);b.push({oldRange:{from:ne,to:oe},newRange:{from:q,to:ee}})})}),simplifyChangedRanges(b)}function getMarksBetween(r,x,y){const b=[];return r===x?y.resolve(r).marks().forEach(B=>{const R=y.resolve(r),I=getMarkRange(R,B.type);I&&b.push({mark:B,...I})}):y.nodesBetween(r,x,(B,R)=>{!B||(B==null?void 0:B.nodeSize)===void 0||b.push(...B.marks.map(I=>({from:R,to:R+B.nodeSize,mark:I})))}),b}var getNodeAtPosition=(r,x,y,b=20)=>{const B=r.doc.resolve(y);let R=b,I=null;for(;R>0&&I===null;){const O=B.node(R);(O==null?void 0:O.type.name)===x?I=O:R-=1}return[I,R]};function getSchemaTypeByName(r,x){return x.nodes[r]||x.marks[r]||null}function getSplittedAttributes(r,x,y){return Object.fromEntries(Object.entries(y).filter(([b])=>{const B=r.find(R=>R.type===x&&R.name===b);return B?B.attribute.keepOnSplit:!1}))}var getTextContentFromNodes=(r,x=500)=>{let y="";const b=r.parentOffset;return r.parent.nodesBetween(Math.max(0,b-x),b,(B,R,I,O)=>{var G,q;const ee=((q=(G=B.type.spec).toText)==null?void 0:q.call(G,{node:B,pos:R,parent:I,index:O}))||B.textContent||"%leaf%";y+=B.isAtom&&!B.isText?ee:ee.slice(0,Math.max(0,b-R))}),y};function isMarkActive(r,x,y={}){const{empty:b,ranges:B}=r.selection,R=x?getMarkType(x,r.schema):null;if(b)return!!(r.storedMarks||r.selection.$from.marks()).filter(ne=>R?R.name===ne.type.name:!0).find(ne=>objectIncludes(ne.attrs,y,{strict:!1}));let I=0;const O=[];if(B.forEach(({$from:ne,$to:oe})=>{const pe=ne.pos,xe=oe.pos;r.doc.nodesBetween(pe,xe,(_e,Ue)=>{if(!_e.isText&&!_e.marks.length)return;const Le=Math.max(pe,Ue),He=Math.min(xe,Ue+_e.nodeSize),$e=He-Le;I+=$e,O.push(..._e.marks.map(Ne=>({mark:Ne,from:Le,to:He})))})}),I===0)return!1;const G=O.filter(ne=>R?R.name===ne.mark.type.name:!0).filter(ne=>objectIncludes(ne.mark.attrs,y,{strict:!1})).reduce((ne,oe)=>ne+oe.to-oe.from,0),q=O.filter(ne=>R?ne.mark.type!==R&&ne.mark.type.excludes(R):!0).reduce((ne,oe)=>ne+oe.to-oe.from,0);return(G>0?G+q:G)>=I}function isActive$1(r,x,y={}){if(!x)return isNodeActive(r,null,y)||isMarkActive(r,null,y);const b=getSchemaTypeNameByName(x,r.schema);return b==="node"?isNodeActive(r,x,y):b==="mark"?isMarkActive(r,x,y):!1}var isAtEndOfNode=(r,x)=>{const{$from:y,$to:b,$anchor:B}=r.selection;if(x){const R=findParentNode(O=>O.type.name===x)(r.selection);if(!R)return!1;const I=r.doc.resolve(R.pos+1);return B.pos+1===I.end()}return!(b.parentOffset<b.parent.nodeSize-2||y.pos!==b.pos)},isAtStartOfNode=r=>{const{$from:x,$to:y}=r.selection;return!(x.parentOffset>0||x.pos!==y.pos)};function isExtensionRulesEnabled(r,x){return Array.isArray(x)?x.some(y=>(typeof y=="string"?y:y.name)===r.name):x}function isList(r,x){const{nodeExtensions:y}=splitExtensions(x),b=y.find(I=>I.name===r);if(!b)return!1;const B={name:b.name,options:b.options,storage:b.storage},R=callOrReturn(getExtensionField(b,"group",B));return typeof R!="string"?!1:R.split(" ").includes("list")}function isNodeEmpty(r,{checkChildren:x=!0,ignoreWhitespace:y=!1}={}){var b;if(y){if(r.type.name==="hardBreak")return!0;if(r.isText)return/^\s*$/m.test((b=r.text)!=null?b:"")}if(r.isText)return!r.text;if(r.isAtom||r.isLeaf)return!1;if(r.content.childCount===0)return!0;if(x){let B=!0;return r.content.forEach(R=>{B!==!1&&(isNodeEmpty(R,{ignoreWhitespace:y,checkChildren:x})||(B=!1))}),B}return!1}function isNodeSelection(r){return r instanceof NodeSelection}function canSetMark(r,x,y){var b;const{selection:B}=x;let R=null;if(isTextSelection(B)&&(R=B.$cursor),R){const O=(b=r.storedMarks)!=null?b:R.marks();return R.parent.type.allowsMarkType(y)&&(!!y.isInSet(O)||!O.some(q=>q.type.excludes(y)))}const{ranges:I}=B;return I.some(({$from:O,$to:G})=>{let q=O.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(y):!1;return r.doc.nodesBetween(O.pos,G.pos,(ee,ne,oe)=>{if(q)return!1;if(ee.isInline){const pe=!oe||oe.type.allowsMarkType(y),xe=!!y.isInSet(ee.marks)||!ee.marks.some(_e=>_e.type.excludes(y));q=pe&&xe}return!q}),q})}var setMark=(r,x={})=>({tr:y,state:b,dispatch:B})=>{const{selection:R}=y,{empty:I,ranges:O}=R,G=getMarkType(r,b.schema);if(B)if(I){const q=getMarkAttributes(b,G);y.addStoredMark(G.create({...q,...x}))}else O.forEach(q=>{const ee=q.$from.pos,ne=q.$to.pos;b.doc.nodesBetween(ee,ne,(oe,pe)=>{const xe=Math.max(pe,ee),_e=Math.min(pe+oe.nodeSize,ne);oe.marks.find(Le=>Le.type===G)?oe.marks.forEach(Le=>{G===Le.type&&y.addMark(xe,_e,G.create({...Le.attrs,...x}))}):y.addMark(xe,_e,G.create(x))})});return canSetMark(b,y,G)},setMeta=(r,x)=>({tr:y})=>(y.setMeta(r,x),!0),setNode=(r,x={})=>({state:y,dispatch:b,chain:B})=>{const R=getNodeType(r,y.schema);let I;return y.selection.$anchor.sameParent(y.selection.$head)&&(I=y.selection.$anchor.parent.attrs),R.isTextblock?B().command(({commands:O})=>setBlockType(R,{...I,...x})(y)?!0:O.clearNodes()).command(({state:O})=>setBlockType(R,{...I,...x})(O,b)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=r=>({tr:x,dispatch:y})=>{if(y){const{doc:b}=x,B=minMax(r,0,b.content.size),R=NodeSelection.create(b,B);x.setSelection(R)}return!0},setTextSelection=r=>({tr:x,dispatch:y})=>{if(y){const{doc:b}=x,{from:B,to:R}=typeof r=="number"?{from:r,to:r}:r,I=TextSelection.atStart(b).from,O=TextSelection.atEnd(b).to,G=minMax(B,I,O),q=minMax(R,I,O),ee=TextSelection.create(b,G,q);x.setSelection(ee)}return!0},sinkListItem=r=>({state:x,dispatch:y})=>{const b=getNodeType(r,x.schema);return sinkListItem$1(b)(x,y)};function ensureMarks(r,x){const y=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(y){const b=y.filter(B=>x==null?void 0:x.includes(B.type.name));r.tr.ensureMarks(b)}}var splitBlock=({keepMarks:r=!0}={})=>({tr:x,state:y,dispatch:b,editor:B})=>{const{selection:R,doc:I}=x,{$from:O,$to:G}=R,q=B.extensionManager.attributes,ee=getSplittedAttributes(q,O.node().type.name,O.node().attrs);if(R instanceof NodeSelection&&R.node.isBlock)return!O.parentOffset||!canSplit(I,O.pos)?!1:(b&&(r&&ensureMarks(y,B.extensionManager.splittableMarks),x.split(O.pos).scrollIntoView()),!0);if(!O.parent.isBlock)return!1;const ne=G.parentOffset===G.parent.content.size,oe=O.depth===0?void 0:defaultBlockAt(O.node(-1).contentMatchAt(O.indexAfter(-1)));let pe=ne&&oe?[{type:oe,attrs:ee}]:void 0,xe=canSplit(x.doc,x.mapping.map(O.pos),1,pe);if(!pe&&!xe&&canSplit(x.doc,x.mapping.map(O.pos),1,oe?[{type:oe}]:void 0)&&(xe=!0,pe=oe?[{type:oe,attrs:ee}]:void 0),b){if(xe&&(R instanceof TextSelection&&x.deleteSelection(),x.split(x.mapping.map(O.pos),1,pe),oe&&!ne&&!O.parentOffset&&O.parent.type!==oe)){const _e=x.mapping.map(O.before()),Ue=x.doc.resolve(_e);O.node(-1).canReplaceWith(Ue.index(),Ue.index()+1,oe)&&x.setNodeMarkup(x.mapping.map(O.before()),oe)}r&&ensureMarks(y,B.extensionManager.splittableMarks),x.scrollIntoView()}return xe},splitListItem=(r,x={})=>({tr:y,state:b,dispatch:B,editor:R})=>{var I;const O=getNodeType(r,b.schema),{$from:G,$to:q}=b.selection,ee=b.selection.node;if(ee&&ee.isBlock||G.depth<2||!G.sameParent(q))return!1;const ne=G.node(-1);if(ne.type!==O)return!1;const oe=R.extensionManager.attributes;if(G.parent.content.size===0&&G.node(-1).childCount===G.indexAfter(-1)){if(G.depth===2||G.node(-3).type!==O||G.index(-2)!==G.node(-2).childCount-1)return!1;if(B){let Le=Fragment.empty;const He=G.index(-1)?1:G.index(-2)?2:3;for(let Xe=G.depth-He;Xe>=G.depth-3;Xe-=1)Le=Fragment.from(G.node(Xe).copy(Le));const $e=G.indexAfter(-1)<G.node(-2).childCount?1:G.indexAfter(-2)<G.node(-3).childCount?2:3,Ne={...getSplittedAttributes(oe,G.node().type.name,G.node().attrs),...x},Qe=((I=O.contentMatch.defaultType)==null?void 0:I.createAndFill(Ne))||void 0;Le=Le.append(Fragment.from(O.createAndFill(null,Qe)||void 0));const We=G.before(G.depth-(He-1));y.replace(We,G.after(-$e),new Slice(Le,4-He,0));let Ge=-1;y.doc.nodesBetween(We,y.doc.content.size,(Xe,Je)=>{if(Ge>-1)return!1;Xe.isTextblock&&Xe.content.size===0&&(Ge=Je+1)}),Ge>-1&&y.setSelection(TextSelection.near(y.doc.resolve(Ge))),y.scrollIntoView()}return!0}const pe=q.pos===G.end()?ne.contentMatchAt(0).defaultType:null,xe={...getSplittedAttributes(oe,ne.type.name,ne.attrs),...x},_e={...getSplittedAttributes(oe,G.node().type.name,G.node().attrs),...x};y.delete(G.pos,q.pos);const Ue=pe?[{type:O,attrs:xe},{type:pe,attrs:_e}]:[{type:O,attrs:xe}];if(!canSplit(y.doc,G.pos,2))return!1;if(B){const{selection:Le,storedMarks:He}=b,{splittableMarks:$e}=R.extensionManager,Ne=He||Le.$to.parentOffset&&Le.$from.marks();if(y.split(G.pos,2,Ue).scrollIntoView(),!Ne||!B)return!0;const Qe=Ne.filter(We=>$e.includes(We.type.name));y.ensureMarks(Qe)}return!0},joinListBackwards=(r,x)=>{const y=findParentNode(I=>I.type===x)(r.selection);if(!y)return!0;const b=r.doc.resolve(Math.max(0,y.pos-1)).before(y.depth);if(b===void 0)return!0;const B=r.doc.nodeAt(b);return y.node.type===(B==null?void 0:B.type)&&canJoin(r.doc,y.pos)&&r.join(y.pos),!0},joinListForwards=(r,x)=>{const y=findParentNode(I=>I.type===x)(r.selection);if(!y)return!0;const b=r.doc.resolve(y.start).after(y.depth);if(b===void 0)return!0;const B=r.doc.nodeAt(b);return y.node.type===(B==null?void 0:B.type)&&canJoin(r.doc,b)&&r.join(b),!0},toggleList=(r,x,y,b={})=>({editor:B,tr:R,state:I,dispatch:O,chain:G,commands:q,can:ee})=>{const{extensions:ne,splittableMarks:oe}=B.extensionManager,pe=getNodeType(r,I.schema),xe=getNodeType(x,I.schema),{selection:_e,storedMarks:Ue}=I,{$from:Le,$to:He}=_e,$e=Le.blockRange(He),Ne=Ue||_e.$to.parentOffset&&_e.$from.marks();if(!$e)return!1;const Qe=findParentNode(We=>isList(We.type.name,ne))(_e);if($e.depth>=1&&Qe&&$e.depth-Qe.depth<=1){if(Qe.node.type===pe)return q.liftListItem(xe);if(isList(Qe.node.type.name,ne)&&pe.validContent(Qe.node.content)&&O)return G().command(()=>(R.setNodeMarkup(Qe.pos,pe),!0)).command(()=>joinListBackwards(R,pe)).command(()=>joinListForwards(R,pe)).run()}return!y||!Ne||!O?G().command(()=>ee().wrapInList(pe,b)?!0:q.clearNodes()).wrapInList(pe,b).command(()=>joinListBackwards(R,pe)).command(()=>joinListForwards(R,pe)).run():G().command(()=>{const We=ee().wrapInList(pe,b),Ge=Ne.filter(Xe=>oe.includes(Xe.type.name));return R.ensureMarks(Ge),We?!0:q.clearNodes()}).wrapInList(pe,b).command(()=>joinListBackwards(R,pe)).command(()=>joinListForwards(R,pe)).run()},toggleMark=(r,x={},y={})=>({state:b,commands:B})=>{const{extendEmptyMarkRange:R=!1}=y,I=getMarkType(r,b.schema);return isMarkActive(b,I,x)?B.unsetMark(I,{extendEmptyMarkRange:R}):B.setMark(I,x)},toggleNode=(r,x,y={})=>({state:b,commands:B})=>{const R=getNodeType(r,b.schema),I=getNodeType(x,b.schema),O=isNodeActive(b,R,y);let G;return b.selection.$anchor.sameParent(b.selection.$head)&&(G=b.selection.$anchor.parent.attrs),O?B.setNode(I,G):B.setNode(R,{...G,...y})},toggleWrap=(r,x={})=>({state:y,commands:b})=>{const B=getNodeType(r,y.schema);return isNodeActive(y,B,x)?b.lift(B):b.wrapIn(B,x)},undoInputRule=()=>({state:r,dispatch:x})=>{const y=r.plugins;for(let b=0;b<y.length;b+=1){const B=y[b];let R;if(B.spec.isInputRules&&(R=B.getState(r))){if(x){const I=r.tr,O=R.transform;for(let G=O.steps.length-1;G>=0;G-=1)I.step(O.steps[G].invert(O.docs[G]));if(R.text){const G=I.doc.resolve(R.from).marks();I.replaceWith(R.from,R.to,r.schema.text(R.text,G))}else I.delete(R.from,R.to)}return!0}}return!1},unsetAllMarks=()=>({tr:r,dispatch:x})=>{const{selection:y}=r,{empty:b,ranges:B}=y;return b||x&&B.forEach(R=>{r.removeMark(R.$from.pos,R.$to.pos)}),!0},unsetMark=(r,x={})=>({tr:y,state:b,dispatch:B})=>{var R;const{extendEmptyMarkRange:I=!1}=x,{selection:O}=y,G=getMarkType(r,b.schema),{$from:q,empty:ee,ranges:ne}=O;if(!B)return!0;if(ee&&I){let{from:oe,to:pe}=O;const xe=(R=q.marks().find(Ue=>Ue.type===G))==null?void 0:R.attrs,_e=getMarkRange(q,G,xe);_e&&(oe=_e.from,pe=_e.to),y.removeMark(oe,pe,G)}else ne.forEach(oe=>{y.removeMark(oe.$from.pos,oe.$to.pos,G)});return y.removeStoredMark(G),!0},updateAttributes=(r,x={})=>({tr:y,state:b,dispatch:B})=>{let R=null,I=null;const O=getSchemaTypeNameByName(typeof r=="string"?r:r.name,b.schema);return O?(O==="node"&&(R=getNodeType(r,b.schema)),O==="mark"&&(I=getMarkType(r,b.schema)),B&&y.selection.ranges.forEach(G=>{const q=G.$from.pos,ee=G.$to.pos;let ne,oe,pe,xe;y.selection.empty?b.doc.nodesBetween(q,ee,(_e,Ue)=>{R&&R===_e.type&&(pe=Math.max(Ue,q),xe=Math.min(Ue+_e.nodeSize,ee),ne=Ue,oe=_e)}):b.doc.nodesBetween(q,ee,(_e,Ue)=>{Ue<q&&R&&R===_e.type&&(pe=Math.max(Ue,q),xe=Math.min(Ue+_e.nodeSize,ee),ne=Ue,oe=_e),Ue>=q&&Ue<=ee&&(R&&R===_e.type&&y.setNodeMarkup(Ue,void 0,{..._e.attrs,...x}),I&&_e.marks.length&&_e.marks.forEach(Le=>{if(I===Le.type){const He=Math.max(Ue,q),$e=Math.min(Ue+_e.nodeSize,ee);y.addMark(He,$e,I.create({...Le.attrs,...x}))}}))}),oe&&(ne!==void 0&&y.setNodeMarkup(ne,void 0,{...oe.attrs,...x}),I&&oe.marks.length&&oe.marks.forEach(_e=>{I===_e.type&&y.addMark(pe,xe,I.create({..._e.attrs,...x}))}))}),!0):!1},wrapIn=(r,x={})=>({state:y,dispatch:b})=>{const B=getNodeType(r,y.schema);return wrapIn$1(B,x)(y,b)},wrapInList=(r,x={})=>({state:y,dispatch:b})=>{const B=getNodeType(r,y.schema);return wrapInList$1(B,x)(y,b)},EventEmitter=class{constructor(){this.callbacks={}}on(r,x){return this.callbacks[r]||(this.callbacks[r]=[]),this.callbacks[r].push(x),this}emit(r,...x){const y=this.callbacks[r];return y&&y.forEach(b=>b.apply(this,x)),this}off(r,x){const y=this.callbacks[r];return y&&(x?this.callbacks[r]=y.filter(b=>b!==x):delete this.callbacks[r]),this}once(r,x){const y=(...b)=>{this.off(r,y),x.apply(this,b)};return this.on(r,y)}removeAllListeners(){this.callbacks={}}},InputRule=class{constructor(r){var x;this.find=r.find,this.handler=r.handler,this.undoable=(x=r.undoable)!=null?x:!0}},inputRuleMatcherHandler=(r,x)=>{if(isRegExp(x))return x.exec(r);const y=x(r);if(!y)return null;const b=[y.text];return b.index=y.index,b.input=r,b.data=y.data,y.replaceWith&&(y.text.includes(y.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),b.push(y.replaceWith)),b};function run$2(r){var x;const{editor:y,from:b,to:B,text:R,rules:I,plugin:O}=r,{view:G}=y;if(G.composing)return!1;const q=G.state.doc.resolve(b);if(q.parent.type.spec.code||(x=q.nodeBefore||q.nodeAfter)!=null&&x.marks.find(oe=>oe.type.spec.code))return!1;let ee=!1;const ne=getTextContentFromNodes(q)+R;return I.forEach(oe=>{if(ee)return;const pe=inputRuleMatcherHandler(ne,oe.find);if(!pe)return;const xe=G.state.tr,_e=createChainableState({state:G.state,transaction:xe}),Ue={from:b-(pe[0].length-R.length),to:B},{commands:Le,chain:He,can:$e}=new CommandManager({editor:y,state:_e});oe.handler({state:_e,range:Ue,match:pe,commands:Le,chain:He,can:$e})===null||!xe.steps.length||(oe.undoable&&xe.setMeta(O,{transform:xe,from:b,to:B,text:R}),G.dispatch(xe),ee=!0)}),ee}function inputRulesPlugin(r){const{editor:x,rules:y}=r,b=new Plugin({state:{init(){return null},apply(B,R,I){const O=B.getMeta(b);if(O)return O;const G=B.getMeta("applyInputRules");return!!G&&setTimeout(()=>{let{text:ee}=G;typeof ee=="string"?ee=ee:ee=getHTMLFromFragment(Fragment.from(ee),I.schema);const{from:ne}=G,oe=ne+ee.length;run$2({editor:x,from:ne,to:oe,text:ee,rules:y,plugin:b})}),B.selectionSet||B.docChanged?null:R}},props:{handleTextInput(B,R,I,O){return run$2({editor:x,from:R,to:I,text:O,rules:y,plugin:b})},handleDOMEvents:{compositionend:B=>(setTimeout(()=>{const{$cursor:R}=B.state.selection;R&&run$2({editor:x,from:R.pos,to:R.pos,text:"",rules:y,plugin:b})}),!1)},handleKeyDown(B,R){if(R.key!=="Enter")return!1;const{$cursor:I}=B.state.selection;return I?run$2({editor:x,from:I.pos,to:I.pos,text:`
`,rules:y,plugin:b}):!1}},isInputRules:!0});return b}function getType(r){return Object.prototype.toString.call(r).slice(8,-1)}function isPlainObject(r){return getType(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function mergeDeep(r,x){const y={...r};return isPlainObject(r)&&isPlainObject(x)&&Object.keys(x).forEach(b=>{isPlainObject(x[b])&&isPlainObject(r[b])?y[b]=mergeDeep(r[b],x[b]):y[b]=x[b]}),y}var Extendable=class{constructor(r={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...r},this.name=this.config.name}get options(){return{...callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(r={}){const x=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,r)});return x.name=this.name,x.parent=this.parent,x}extend(r={}){const x=new this.constructor({...this.config,...r});return x.parent=this,this.child=x,x.name="name"in r?r.name:x.parent.name,x}},Mark=class Mh extends Extendable{constructor(){super(...arguments),this.type="mark"}static create(x={}){const y=typeof x=="function"?x():x;return new Mh(y)}static handleExit({editor:x,mark:y}){const{tr:b}=x.state,B=x.state.selection.$from;if(B.pos===B.end()){const I=B.marks();if(!!!I.find(q=>(q==null?void 0:q.type.name)===y.name))return!1;const G=I.find(q=>(q==null?void 0:q.type.name)===y.name);return G&&b.removeStoredMark(G),b.insertText(" ",B.pos),x.view.dispatch(b),!0}return!1}configure(x){return super.configure(x)}extend(x){const y=typeof x=="function"?x():x;return super.extend(y)}};function isNumber(r){return typeof r=="number"}var PasteRule=class{constructor(r){this.find=r.find,this.handler=r.handler}},pasteRuleMatcherHandler=(r,x,y)=>{if(isRegExp(x))return[...r.matchAll(x)];const b=x(r,y);return b?b.map(B=>{const R=[B.text];return R.index=B.index,R.input=r,R.data=B.data,B.replaceWith&&(B.text.includes(B.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),R.push(B.replaceWith)),R}):[]};function run2(r){const{editor:x,state:y,from:b,to:B,rule:R,pasteEvent:I,dropEvent:O}=r,{commands:G,chain:q,can:ee}=new CommandManager({editor:x,state:y}),ne=[];return y.doc.nodesBetween(b,B,(pe,xe)=>{var _e,Ue,Le,He,$e;if((Ue=(_e=pe.type)==null?void 0:_e.spec)!=null&&Ue.code||!(pe.isText||pe.isTextblock||pe.isInline))return;const Ne=($e=(He=(Le=pe.content)==null?void 0:Le.size)!=null?He:pe.nodeSize)!=null?$e:0,Qe=Math.max(b,xe),We=Math.min(B,xe+Ne);if(Qe>=We)return;const Ge=pe.isText?pe.text||"":pe.textBetween(Qe-xe,We-xe,void 0,"");pasteRuleMatcherHandler(Ge,R.find,I).forEach(Je=>{if(Je.index===void 0)return;const ut=Qe+Je.index+1,ft=ut+Je[0].length,ct={from:y.tr.mapping.map(ut),to:y.tr.mapping.map(ft)},pt=R.handler({state:y,range:ct,match:Je,commands:G,chain:q,can:ee,pasteEvent:I,dropEvent:O});ne.push(pt)})}),ne.every(pe=>pe!==null)}var tiptapDragFromOtherEditor=null,createClipboardPasteEvent=r=>{var x;const y=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(x=y.clipboardData)==null||x.setData("text/html",r),y};function pasteRulesPlugin(r){const{editor:x,rules:y}=r;let b=null,B=!1,R=!1,I=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,O;try{O=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{O=null}const G=({state:ee,from:ne,to:oe,rule:pe,pasteEvt:xe})=>{const _e=ee.tr,Ue=createChainableState({state:ee,transaction:_e});if(!(!run2({editor:x,state:Ue,from:Math.max(ne-1,0),to:oe.b-1,rule:pe,pasteEvent:xe,dropEvent:O})||!_e.steps.length)){try{O=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{O=null}return I=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,_e}};return y.map(ee=>new Plugin({view(ne){const oe=xe=>{var _e;b=(_e=ne.dom.parentElement)!=null&&_e.contains(xe.target)?ne.dom.parentElement:null,b&&(tiptapDragFromOtherEditor=x)},pe=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",oe),window.addEventListener("dragend",pe),{destroy(){window.removeEventListener("dragstart",oe),window.removeEventListener("dragend",pe)}}},props:{handleDOMEvents:{drop:(ne,oe)=>{if(R=b===ne.dom.parentElement,O=oe,!R){const pe=tiptapDragFromOtherEditor;pe!=null&&pe.isEditable&&setTimeout(()=>{const xe=pe.state.selection;xe&&pe.commands.deleteRange({from:xe.from,to:xe.to})},10)}return!1},paste:(ne,oe)=>{var pe;const xe=(pe=oe.clipboardData)==null?void 0:pe.getData("text/html");return I=oe,B=!!(xe!=null&&xe.includes("data-pm-slice")),!1}}},appendTransaction:(ne,oe,pe)=>{const xe=ne[0],_e=xe.getMeta("uiEvent")==="paste"&&!B,Ue=xe.getMeta("uiEvent")==="drop"&&!R,Le=xe.getMeta("applyPasteRules"),He=!!Le;if(!_e&&!Ue&&!He)return;if(He){let{text:Qe}=Le;typeof Qe=="string"?Qe=Qe:Qe=getHTMLFromFragment(Fragment.from(Qe),pe.schema);const{from:We}=Le,Ge=We+Qe.length,Xe=createClipboardPasteEvent(Qe);return G({rule:ee,state:pe,from:We,to:{b:Ge},pasteEvt:Xe})}const $e=oe.doc.content.findDiffStart(pe.doc.content),Ne=oe.doc.content.findDiffEnd(pe.doc.content);if(!(!isNumber($e)||!Ne||$e===Ne.b))return G({rule:ee,state:pe,from:$e,to:Ne,pasteEvt:I})}}))}var ExtensionManager=class{constructor(r,x){this.splittableMarks=[],this.editor=x,this.baseExtensions=r,this.extensions=resolveExtensions(r),this.schema=getSchemaByResolvedExtensions(this.extensions,x),this.setupExtensions()}get commands(){return this.extensions.reduce((r,x)=>{const y={name:x.name,options:x.options,storage:this.editor.extensionStorage[x.name],editor:this.editor,type:getSchemaTypeByName(x.name,this.schema)},b=getExtensionField(x,"addCommands",y);return b?{...r,...b()}:r},{})}get plugins(){const{editor:r}=this;return sortExtensions([...this.extensions].reverse()).flatMap(b=>{const B={name:b.name,options:b.options,storage:this.editor.extensionStorage[b.name],editor:r,type:getSchemaTypeByName(b.name,this.schema)},R=[],I=getExtensionField(b,"addKeyboardShortcuts",B);let O={};if(b.type==="mark"&&getExtensionField(b,"exitable",B)&&(O.ArrowRight=()=>Mark.handleExit({editor:r,mark:b})),I){const oe=Object.fromEntries(Object.entries(I()).map(([pe,xe])=>[pe,()=>xe({editor:r})]));O={...O,...oe}}const G=keymap(O);R.push(G);const q=getExtensionField(b,"addInputRules",B);if(isExtensionRulesEnabled(b,r.options.enableInputRules)&&q){const oe=q();if(oe&&oe.length){const pe=inputRulesPlugin({editor:r,rules:oe}),xe=Array.isArray(pe)?pe:[pe];R.push(...xe)}}const ee=getExtensionField(b,"addPasteRules",B);if(isExtensionRulesEnabled(b,r.options.enablePasteRules)&&ee){const oe=ee();if(oe&&oe.length){const pe=pasteRulesPlugin({editor:r,rules:oe});R.push(...pe)}}const ne=getExtensionField(b,"addProseMirrorPlugins",B);if(ne){const oe=ne();R.push(...oe)}return R})}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:r}=this,{nodeExtensions:x}=splitExtensions(this.extensions);return Object.fromEntries(x.filter(y=>!!getExtensionField(y,"addNodeView")).map(y=>{const b=this.attributes.filter(G=>G.type===y.name),B={name:y.name,options:y.options,storage:this.editor.extensionStorage[y.name],editor:r,type:getNodeType(y.name,this.schema)},R=getExtensionField(y,"addNodeView",B);if(!R)return[];const I=R();if(!I)return[];const O=(G,q,ee,ne,oe)=>{const pe=getRenderedAttributes(G,b);return I({node:G,view:q,getPos:ee,decorations:ne,innerDecorations:oe,editor:r,extension:y,HTMLAttributes:pe})};return[y.name,O]}))}get markViews(){const{editor:r}=this,{markExtensions:x}=splitExtensions(this.extensions);return Object.fromEntries(x.filter(y=>!!getExtensionField(y,"addMarkView")).map(y=>{const b=this.attributes.filter(O=>O.type===y.name),B={name:y.name,options:y.options,storage:this.editor.extensionStorage[y.name],editor:r,type:getMarkType(y.name,this.schema)},R=getExtensionField(y,"addMarkView",B);if(!R)return[];const I=(O,G,q)=>{const ee=getRenderedAttributes(O,b);return R()({mark:O,view:G,inline:q,editor:r,extension:y,HTMLAttributes:ee,updateAttributes:ne=>{updateMarkViewAttributes(O,r,ne)}})};return[y.name,I]}))}setupExtensions(){const r=this.extensions;this.editor.extensionStorage=Object.fromEntries(r.map(x=>[x.name,x.storage])),r.forEach(x=>{var y;const b={name:x.name,options:x.options,storage:this.editor.extensionStorage[x.name],editor:this.editor,type:getSchemaTypeByName(x.name,this.schema)};x.type==="mark"&&((y=callOrReturn(getExtensionField(x,"keepOnSplit",b)))==null||y)&&this.splittableMarks.push(x.name);const B=getExtensionField(x,"onBeforeCreate",b),R=getExtensionField(x,"onCreate",b),I=getExtensionField(x,"onUpdate",b),O=getExtensionField(x,"onSelectionUpdate",b),G=getExtensionField(x,"onTransaction",b),q=getExtensionField(x,"onFocus",b),ee=getExtensionField(x,"onBlur",b),ne=getExtensionField(x,"onDestroy",b);B&&this.editor.on("beforeCreate",B),R&&this.editor.on("create",R),I&&this.editor.on("update",I),O&&this.editor.on("selectionUpdate",O),G&&this.editor.on("transaction",G),q&&this.editor.on("focus",q),ee&&this.editor.on("blur",ee),ne&&this.editor.on("destroy",ne)})}};ExtensionManager.resolve=resolveExtensions;ExtensionManager.sort=sortExtensions;ExtensionManager.flatten=flattenExtensions;var extensions_exports={};__export$1(extensions_exports,{ClipboardTextSerializer:()=>ClipboardTextSerializer,Commands:()=>Commands,Delete:()=>Delete,Drop:()=>Drop,Editable:()=>Editable,FocusEvents:()=>FocusEvents,Keymap:()=>Keymap,Paste:()=>Paste,Tabindex:()=>Tabindex,focusEventsPluginKey:()=>focusEventsPluginKey});var Extension=class Dh extends Extendable{constructor(){super(...arguments),this.type="extension"}static create(x={}){const y=typeof x=="function"?x():x;return new Dh(y)}configure(x){return super.configure(x)}extend(x){const y=typeof x=="function"?x():x;return super.extend(y)}},ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:x,schema:y}=r,{doc:b,selection:B}=x,{ranges:R}=B,I=Math.min(...R.map(ee=>ee.$from.pos)),O=Math.max(...R.map(ee=>ee.$to.pos)),G=getTextSerializersFromSchema(y);return getTextBetween(b,{from:I,to:O},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:G})}}})]}}),Commands=Extension.create({name:"commands",addCommands(){return{...commands_exports}}}),Delete=Extension.create({name:"delete",onUpdate({transaction:r,appendedTransactions:x}){var y,b,B;const R=()=>{var I,O,G,q;if((q=(G=(O=(I=this.editor.options.coreExtensionOptions)==null?void 0:I.delete)==null?void 0:O.filterTransaction)==null?void 0:G.call(O,r))!=null?q:r.getMeta("y-sync$"))return;const ee=combineTransactionSteps(r.before,[r,...x]);getChangedRanges(ee).forEach(pe=>{ee.mapping.mapResult(pe.oldRange.from).deletedAfter&&ee.mapping.mapResult(pe.oldRange.to).deletedBefore&&ee.before.nodesBetween(pe.oldRange.from,pe.oldRange.to,(xe,_e)=>{const Ue=_e+xe.nodeSize-2,Le=pe.oldRange.from<=_e&&Ue<=pe.oldRange.to;this.editor.emit("delete",{type:"node",node:xe,from:_e,to:Ue,newFrom:ee.mapping.map(_e),newTo:ee.mapping.map(Ue),deletedRange:pe.oldRange,newRange:pe.newRange,partial:!Le,editor:this.editor,transaction:r,combinedTransform:ee})})});const oe=ee.mapping;ee.steps.forEach((pe,xe)=>{var _e,Ue;if(pe instanceof RemoveMarkStep){const Le=oe.slice(xe).map(pe.from,-1),He=oe.slice(xe).map(pe.to),$e=oe.invert().map(Le,-1),Ne=oe.invert().map(He),Qe=(_e=ee.doc.nodeAt(Le-1))==null?void 0:_e.marks.some(Ge=>Ge.eq(pe.mark)),We=(Ue=ee.doc.nodeAt(He))==null?void 0:Ue.marks.some(Ge=>Ge.eq(pe.mark));this.editor.emit("delete",{type:"mark",mark:pe.mark,from:pe.from,to:pe.to,deletedRange:{from:$e,to:Ne},newRange:{from:Le,to:He},partial:!!(We||Qe),editor:this.editor,transaction:r,combinedTransform:ee})}})};(B=(b=(y=this.editor.options.coreExtensionOptions)==null?void 0:y.delete)==null?void 0:b.async)==null||B?setTimeout(R,0):R()}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:(r,x,y,b)=>{this.editor.emit("drop",{editor:this.editor,event:x,slice:y,moved:b})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),focusEventsPluginKey=new PluginKey("focusEvents"),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new Plugin({key:focusEventsPluginKey,props:{handleDOMEvents:{focus:(x,y)=>{r.isFocused=!0;const b=r.state.tr.setMeta("focus",{event:y}).setMeta("addToHistory",!1);return x.dispatch(b),!1},blur:(x,y)=>{r.isFocused=!1;const b=r.state.tr.setMeta("blur",{event:y}).setMeta("addToHistory",!1);return x.dispatch(b),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:I})=>[()=>I.undoInputRule(),()=>I.command(({tr:O})=>{const{selection:G,doc:q}=O,{empty:ee,$anchor:ne}=G,{pos:oe,parent:pe}=ne,xe=ne.parent.isTextblock&&oe>0?O.doc.resolve(oe-1):ne,_e=xe.parent.type.spec.isolating,Ue=ne.pos-ne.parentOffset,Le=_e&&xe.parent.childCount===1?Ue===ne.pos:Selection.atStart(q).from===oe;return!ee||!pe.type.isTextblock||pe.textContent.length||!Le||Le&&ne.parent.type.name==="paragraph"?!1:I.clearNodes()}),()=>I.deleteSelection(),()=>I.joinBackward(),()=>I.selectNodeBackward()]),x=()=>this.editor.commands.first(({commands:I})=>[()=>I.deleteSelection(),()=>I.deleteCurrentNode(),()=>I.joinForward(),()=>I.selectNodeForward()]),b={Enter:()=>this.editor.commands.first(({commands:I})=>[()=>I.newlineInCode(),()=>I.createParagraphNear(),()=>I.liftEmptyBlock(),()=>I.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:x,"Mod-Delete":x,"Mod-a":()=>this.editor.commands.selectAll()},B={...b},R={...b,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":x,"Ctrl-Alt-Backspace":x,"Alt-Delete":x,"Alt-d":x,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?R:B},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(r,x,y)=>{if(r.some(_e=>_e.getMeta("composition")))return;const b=r.some(_e=>_e.docChanged)&&!x.doc.eq(y.doc),B=r.some(_e=>_e.getMeta("preventClearDocument"));if(!b||B)return;const{empty:R,from:I,to:O}=x.selection,G=Selection.atStart(x.doc).from,q=Selection.atEnd(x.doc).to;if(R||!(I===G&&O===q)||!isNodeEmpty(y.doc))return;const oe=y.tr,pe=createChainableState({state:y,transaction:oe}),{commands:xe}=new CommandManager({editor:this.editor,state:pe});if(xe.clearNodes(),!!oe.steps.length)return oe}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:(r,x,y)=>{this.editor.emit("paste",{editor:this.editor,event:x,slice:y})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),NodePos=class To{constructor(x,y,b=!1,B=null){this.currentNode=null,this.actualDepth=null,this.isBlock=b,this.resolvedPos=x,this.editor=y,this.currentNode=B}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var x;return(x=this.actualDepth)!=null?x:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(x){let y=this.from,b=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}y=this.from+1,b=this.to-1}this.editor.commands.insertContentAt({from:y,to:b},x)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const x=this.resolvedPos.start(this.resolvedPos.depth-1),y=this.resolvedPos.doc.resolve(x);return new To(y,this.editor)}get before(){let x=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return x.depth!==this.depth&&(x=this.resolvedPos.doc.resolve(this.from-3)),new To(x,this.editor)}get after(){let x=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return x.depth!==this.depth&&(x=this.resolvedPos.doc.resolve(this.to+3)),new To(x,this.editor)}get children(){const x=[];return this.node.content.forEach((y,b)=>{const B=y.isBlock&&!y.isTextblock,R=y.isAtom&&!y.isText,I=this.pos+b+(R?0:1);if(I<0||I>this.resolvedPos.doc.nodeSize-2)return;const O=this.resolvedPos.doc.resolve(I);if(!B&&O.depth<=this.depth)return;const G=new To(O,this.editor,B,B?y:null);B&&(G.actualDepth=this.depth+1),x.push(new To(O,this.editor,B,B?y:null))}),x}get firstChild(){return this.children[0]||null}get lastChild(){const x=this.children;return x[x.length-1]||null}closest(x,y={}){let b=null,B=this.parent;for(;B&&!b;){if(B.node.type.name===x)if(Object.keys(y).length>0){const R=B.node.attrs,I=Object.keys(y);for(let O=0;O<I.length;O+=1){const G=I[O];if(R[G]!==y[G])break}}else b=B;B=B.parent}return b}querySelector(x,y={}){return this.querySelectorAll(x,y,!0)[0]||null}querySelectorAll(x,y={},b=!1){let B=[];if(!this.children||this.children.length===0)return B;const R=Object.keys(y);return this.children.forEach(I=>{b&&B.length>0||(I.node.type.name===x&&R.every(G=>y[G]===I.node.attrs[G])&&B.push(I),!(b&&B.length>0)&&(B=B.concat(I.querySelectorAll(x,y,b))))}),B}setAttribute(x){const{tr:y}=this.editor.state;y.setNodeMarkup(this.from,void 0,{...this.node.attrs,...x}),this.editor.view.dispatch(y)}},style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function createStyleTag(r,x,y){const b=document.querySelector("style[data-tiptap-style]");if(b!==null)return b;const B=document.createElement("style");return x&&B.setAttribute("nonce",x),B.setAttribute("data-tiptap-style",""),B.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(B),B}var Editor=class extends EventEmitter{constructor(r={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:b})=>{throw b},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(r),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:b,slice:B,moved:R})=>this.options.onDrop(b,B,R)),this.on("paste",({event:b,slice:B})=>this.options.onPaste(b,B)),this.on("delete",this.options.onDelete);const x=this.createDoc(),y=resolveFocusPosition(x,this.options.autofocus);this.editorState=EditorState.create({doc:x,schema:this.schema,selection:y||void 0}),this.options.element&&this.mount(this.options.element)}mount(r){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(r),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const r=this.editorView.dom;r!=null&&r.editor&&delete r.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(r){console.warn("Failed to remove CSS element:",r)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(r={}){this.options={...this.options,...r},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(r,x=!0){this.setOptions({editable:r}),x&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:r=>{this.editorState=r},dispatch:r=>{this.dispatchTransaction(r)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(r,x)=>{if(this.editorView)return this.editorView[x];if(x==="state")return this.editorState;if(x in r)return Reflect.get(r,x);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${x}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(r,x){const y=isFunction(x)?x(r,[...this.state.plugins]):[...this.state.plugins,r],b=this.state.reconfigure({plugins:y});return this.view.updateState(b),b}unregisterPlugin(r){if(this.isDestroyed)return;const x=this.state.plugins;let y=x;if([].concat(r).forEach(B=>{const R=typeof B=="string"?`${B}$`:B.key;y=y.filter(I=>!I.key.startsWith(R))}),x.length===y.length)return;const b=this.state.reconfigure({plugins:y});return this.view.updateState(b),b}createExtensionManager(){var r,x;const b=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:(x=(r=this.options.coreExtensionOptions)==null?void 0:r.clipboardTextSerializer)==null?void 0:x.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste,Delete].filter(B=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[B.name]!==!1:!0):[],...this.options.extensions].filter(B=>["extension","node","mark"].includes(B==null?void 0:B.type));this.extensionManager=new ExtensionManager(b,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let r;try{r=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(x){if(!(x instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(x.message))throw x;this.emit("contentError",{editor:this,error:x,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(y=>y.name!=="collaboration"),this.createExtensionManager()}}),r=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return r}createView(r){var x;this.editorView=new EditorView(r,{...this.options.editorProps,attributes:{role:"textbox",...(x=this.options.editorProps)==null?void 0:x.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const y=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(y),this.prependClass(),this.injectCSS();const b=this.view.dom;b.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(r){this.isCapturingTransaction=!0,r(),this.isCapturingTransaction=!1;const x=this.capturedTransaction;return this.capturedTransaction=null,x}dispatchTransaction(r){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=r;return}r.steps.forEach(q=>{var ee;return(ee=this.capturedTransaction)==null?void 0:ee.step(q)});return}const{state:x,transactions:y}=this.state.applyTransaction(r),b=!this.state.selection.eq(x.selection),B=y.includes(r),R=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:r,nextState:x}),!B)return;this.view.updateState(x),this.emit("transaction",{editor:this,transaction:r,appendedTransactions:y.slice(1)}),b&&this.emit("selectionUpdate",{editor:this,transaction:r});const I=y.findLast(q=>q.getMeta("focus")||q.getMeta("blur")),O=I==null?void 0:I.getMeta("focus"),G=I==null?void 0:I.getMeta("blur");O&&this.emit("focus",{editor:this,event:O.event,transaction:I}),G&&this.emit("blur",{editor:this,event:G.event,transaction:I}),!(r.getMeta("preventUpdate")||!y.some(q=>q.docChanged)||R.doc.eq(x.doc))&&this.emit("update",{editor:this,transaction:r,appendedTransactions:y.slice(1)})}getAttributes(r){return getAttributes(this.state,r)}isActive(r,x){const y=typeof r=="string"?r:null,b=typeof r=="string"?x:r;return isActive$1(this.state,y,b)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(r){const{blockSeparator:x=`

`,textSerializers:y={}}=r||{};return getText(this.state.doc,{blockSeparator:x,textSerializers:{...getTextSerializersFromSchema(this.schema),...y}})}get isEmpty(){return isNodeEmpty(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var r,x;return(x=(r=this.editorView)==null?void 0:r.isDestroyed)!=null?x:!0}$node(r,x){var y;return((y=this.$doc)==null?void 0:y.querySelector(r,x))||null}$nodes(r,x){var y;return((y=this.$doc)==null?void 0:y.querySelectorAll(r,x))||null}$pos(r){const x=this.state.doc.resolve(r);return new NodePos(x,this)}get $doc(){return this.$pos(0)}};function markInputRule(r){return new InputRule({find:r.find,handler:({state:x,range:y,match:b})=>{const B=callOrReturn(r.getAttributes,void 0,b);if(B===!1||B===null)return null;const{tr:R}=x,I=b[b.length-1],O=b[0];if(I){const G=O.search(/\S/),q=y.from+O.indexOf(I),ee=q+I.length;if(getMarksBetween(y.from,y.to,x.doc).filter(pe=>pe.mark.type.excluded.find(_e=>_e===r.type&&_e!==pe.mark.type)).filter(pe=>pe.to>q).length)return null;ee<y.to&&R.delete(ee,y.to),q>y.from&&R.delete(y.from+G,q);const oe=y.from+G+I.length;R.addMark(y.from+G,oe,r.type.create(B||{})),R.removeStoredMark(r.type)}},undoable:r.undoable})}function nodeInputRule(r){return new InputRule({find:r.find,handler:({state:x,range:y,match:b})=>{const B=callOrReturn(r.getAttributes,void 0,b)||{},{tr:R}=x,I=y.from;let O=y.to;const G=r.type.create(B);if(b[1]){const q=b[0].lastIndexOf(b[1]);let ee=I+q;ee>O?ee=O:O=ee+b[1].length;const ne=b[0][b[0].length-1];R.insertText(ne,I+b[0].length-1),R.replaceWith(ee,O,G)}else if(b[0]){const q=r.type.isInline?I:I-1;R.insert(q,r.type.create(B)).delete(R.mapping.map(I),R.mapping.map(O))}R.scrollIntoView()},undoable:r.undoable})}function textblockTypeInputRule(r){return new InputRule({find:r.find,handler:({state:x,range:y,match:b})=>{const B=x.doc.resolve(y.from),R=callOrReturn(r.getAttributes,void 0,b)||{};if(!B.node(-1).canReplaceWith(B.index(-1),B.indexAfter(-1),r.type))return null;x.tr.delete(y.from,y.to).setBlockType(y.from,y.from,r.type,R)},undoable:r.undoable})}function wrappingInputRule(r){return new InputRule({find:r.find,handler:({state:x,range:y,match:b,chain:B})=>{const R=callOrReturn(r.getAttributes,void 0,b)||{},I=x.tr.delete(y.from,y.to),G=I.doc.resolve(y.from).blockRange(),q=G&&findWrapping(G,r.type,R);if(!q)return null;if(I.wrap(G,q),r.keepMarks&&r.editor){const{selection:ne,storedMarks:oe}=x,{splittableMarks:pe}=r.editor.extensionManager,xe=oe||ne.$to.parentOffset&&ne.$from.marks();if(xe){const _e=xe.filter(Ue=>pe.includes(Ue.type.name));I.ensureMarks(_e)}}if(r.keepAttributes){const ne=r.type.name==="bulletList"||r.type.name==="orderedList"?"listItem":"taskList";B().updateAttributes(ne,R).run()}const ee=I.doc.resolve(y.from-1).nodeBefore;ee&&ee.type===r.type&&canJoin(I.doc,y.from-1)&&(!r.joinPredicate||r.joinPredicate(b,ee))&&I.join(y.from-1)},undoable:r.undoable})}var isTouchEvent=r=>"touches"in r,ResizableNodeView=class{constructor(r){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=I=>{if(!this.isResizing||!this.activeHandle)return;const O=I.clientX-this.startX,G=I.clientY-this.startY;this.handleResize(O,G)},this.handleTouchMove=I=>{if(!this.isResizing||!this.activeHandle)return;const O=I.touches[0];if(!O)return;const G=O.clientX-this.startX,q=O.clientY-this.startY;this.handleResize(G,q)},this.handleMouseUp=()=>{if(!this.isResizing)return;const I=this.element.offsetWidth,O=this.element.offsetHeight;this.onCommit(I,O),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=I=>{I.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=I=>{I.key==="Shift"&&(this.isShiftKeyPressed=!1)};var x,y,b,B,R;this.node=r.node,this.element=r.element,this.contentElement=r.contentElement,this.getPos=r.getPos,this.onResize=r.onResize,this.onCommit=r.onCommit,this.onUpdate=r.onUpdate,(x=r.options)!=null&&x.min&&(this.minSize={...this.minSize,...r.options.min}),(y=r.options)!=null&&y.max&&(this.maxSize=r.options.max),(b=r==null?void 0:r.options)!=null&&b.directions&&(this.directions=r.options.directions),(B=r.options)!=null&&B.preserveAspectRatio&&(this.preserveAspectRatio=r.options.preserveAspectRatio),(R=r.options)!=null&&R.className&&(this.classNames={container:r.options.className.container||"",wrapper:r.options.className.wrapper||"",handle:r.options.className.handle||"",resizing:r.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(r,x,y){return r.type!==this.node.type?!1:(this.node=r,this.onUpdate?this.onUpdate(r,x,y):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){const r=document.createElement("div");return r.dataset.resizeContainer="",r.dataset.node=this.node.type.name,r.style.display="flex",r.style.justifyContent="flex-start",r.style.alignItems="flex-start",this.classNames.container&&(r.className=this.classNames.container),r.appendChild(this.wrapper),r}createWrapper(){const r=document.createElement("div");return r.style.position="relative",r.style.display="block",r.dataset.resizeWrapper="",this.classNames.wrapper&&(r.className=this.classNames.wrapper),r.appendChild(this.element),r}createHandle(r){const x=document.createElement("div");return x.dataset.resizeHandle=r,x.style.position="absolute",this.classNames.handle&&(x.className=this.classNames.handle),x}positionHandle(r,x){const y=x.includes("top"),b=x.includes("bottom"),B=x.includes("left"),R=x.includes("right");y&&(r.style.top="0"),b&&(r.style.bottom="0"),B&&(r.style.left="0"),R&&(r.style.right="0"),(x==="top"||x==="bottom")&&(r.style.left="0",r.style.right="0"),(x==="left"||x==="right")&&(r.style.top="0",r.style.bottom="0")}attachHandles(){this.directions.forEach(r=>{const x=this.createHandle(r);this.positionHandle(x,r),x.addEventListener("mousedown",y=>this.handleResizeStart(y,r)),x.addEventListener("touchstart",y=>this.handleResizeStart(y,r)),this.wrapper.appendChild(x)})}applyInitialSize(){const r=this.node.attrs.width,x=this.node.attrs.height;r?(this.element.style.width=`${r}px`,this.initialWidth=r):this.initialWidth=this.element.offsetWidth,x?(this.element.style.height=`${x}px`,this.initialHeight=x):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(r,x){r.preventDefault(),r.stopPropagation(),this.isResizing=!0,this.activeHandle=x,isTouchEvent(r)?(this.startX=r.touches[0].clientX,this.startY=r.touches[0].clientY):(this.startX=r.clientX,this.startY=r.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(r,x){if(!this.activeHandle)return;const y=this.preserveAspectRatio||this.isShiftKeyPressed,{width:b,height:B}=this.calculateNewDimensions(this.activeHandle,r,x),R=this.applyConstraints(b,B,y);this.element.style.width=`${R.width}px`,this.element.style.height=`${R.height}px`,this.onResize&&this.onResize(R.width,R.height)}calculateNewDimensions(r,x,y){let b=this.startWidth,B=this.startHeight;const R=r.includes("right"),I=r.includes("left"),O=r.includes("bottom"),G=r.includes("top");return R?b=this.startWidth+x:I&&(b=this.startWidth-x),O?B=this.startHeight+y:G&&(B=this.startHeight-y),(r==="right"||r==="left")&&(b=this.startWidth+(R?x:-x)),(r==="top"||r==="bottom")&&(B=this.startHeight+(O?y:-y)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(b,B,r):{width:b,height:B}}applyConstraints(r,x,y){var b,B,R,I;if(!y){let q=Math.max(this.minSize.width,r),ee=Math.max(this.minSize.height,x);return(b=this.maxSize)!=null&&b.width&&(q=Math.min(this.maxSize.width,q)),(B=this.maxSize)!=null&&B.height&&(ee=Math.min(this.maxSize.height,ee)),{width:q,height:ee}}let O=r,G=x;return O<this.minSize.width&&(O=this.minSize.width,G=O/this.aspectRatio),G<this.minSize.height&&(G=this.minSize.height,O=G*this.aspectRatio),(R=this.maxSize)!=null&&R.width&&O>this.maxSize.width&&(O=this.maxSize.width,G=O/this.aspectRatio),(I=this.maxSize)!=null&&I.height&&G>this.maxSize.height&&(G=this.maxSize.height,O=G*this.aspectRatio),{width:O,height:G}}applyAspectRatio(r,x,y){const b=y==="left"||y==="right",B=y==="top"||y==="bottom";return b?{width:r,height:r/this.aspectRatio}:B?{width:x*this.aspectRatio,height:x}:{width:r,height:r/this.aspectRatio}}};function canInsertNode(r,x){const{selection:y}=r,{$from:b}=y;if(y instanceof NodeSelection){const R=b.index();return b.parent.canReplaceWith(R,R+1,x)}let B=b.depth;for(;B>=0;){const R=b.index(B);if(b.node(B).contentMatchAt(R).matchType(x))return!0;B-=1}return!1}var markdown_exports={};__export$1(markdown_exports,{createAtomBlockMarkdownSpec:()=>createAtomBlockMarkdownSpec,createBlockMarkdownSpec:()=>createBlockMarkdownSpec,createInlineMarkdownSpec:()=>createInlineMarkdownSpec,parseAttributes:()=>parseAttributes,parseIndentedBlocks:()=>parseIndentedBlocks,renderNestedMarkdownContent:()=>renderNestedMarkdownContent,serializeAttributes:()=>serializeAttributes});function parseAttributes(r){if(!(r!=null&&r.trim()))return{};const x={},y=[],b=r.replace(/["']([^"']*)["']/g,q=>(y.push(q),`__QUOTED_${y.length-1}__`)),B=b.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(B){const q=B.map(ee=>ee.trim().slice(1));x.class=q.join(" ")}const R=b.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);R&&(x.id=R[1]);const I=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(b.matchAll(I)).forEach(([,q,ee])=>{var ne;const oe=parseInt(((ne=ee.match(/__QUOTED_(\d+)__/))==null?void 0:ne[1])||"0",10),pe=y[oe];pe&&(x[q]=pe.slice(1,-1))});const G=b.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return G&&G.split(/\s+/).filter(Boolean).forEach(ee=>{ee.match(/^[a-zA-Z][\w-]*$/)&&(x[ee]=!0)}),x}function serializeAttributes(r){if(!r||Object.keys(r).length===0)return"";const x=[];return r.class&&String(r.class).split(/\s+/).filter(Boolean).forEach(b=>x.push(`.${b}`)),r.id&&x.push(`#${r.id}`),Object.entries(r).forEach(([y,b])=>{y==="class"||y==="id"||(b===!0?x.push(y):b!==!1&&b!=null&&x.push(`${y}="${String(b)}"`))}),x.join(" ")}function createAtomBlockMarkdownSpec(r){const{nodeName:x,name:y,parseAttributes:b=parseAttributes,serializeAttributes:B=serializeAttributes,defaultAttributes:R={},requiredAttributes:I=[],allowedAttributes:O}=r,G=y||x,q=ee=>{if(!O)return ee;const ne={};return O.forEach(oe=>{oe in ee&&(ne[oe]=ee[oe])}),ne};return{parseMarkdown:(ee,ne)=>{const oe={...R,...ee.attributes};return ne.createNode(x,oe,[])},markdownTokenizer:{name:x,level:"block",start(ee){var ne;const oe=new RegExp(`^:::${G}(?:\\s|$)`,"m"),pe=(ne=ee.match(oe))==null?void 0:ne.index;return pe!==void 0?pe:-1},tokenize(ee,ne,oe){const pe=new RegExp(`^:::${G}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),xe=ee.match(pe);if(!xe)return;const _e=xe[1]||"",Ue=b(_e);if(!I.find(He=>!(He in Ue)))return{type:x,raw:xe[0],attributes:Ue}}},renderMarkdown:ee=>{const ne=q(ee.attrs||{}),oe=B(ne),pe=oe?` {${oe}}`:"";return`:::${G}${pe} :::`}}}function createBlockMarkdownSpec(r){const{nodeName:x,name:y,getContent:b,parseAttributes:B=parseAttributes,serializeAttributes:R=serializeAttributes,defaultAttributes:I={},content:O="block",allowedAttributes:G}=r,q=y||x,ee=ne=>{if(!G)return ne;const oe={};return G.forEach(pe=>{pe in ne&&(oe[pe]=ne[pe])}),oe};return{parseMarkdown:(ne,oe)=>{let pe;if(b){const _e=b(ne);pe=typeof _e=="string"?[{type:"text",text:_e}]:_e}else O==="block"?pe=oe.parseChildren(ne.tokens||[]):pe=oe.parseInline(ne.tokens||[]);const xe={...I,...ne.attributes};return oe.createNode(x,xe,pe)},markdownTokenizer:{name:x,level:"block",start(ne){var oe;const pe=new RegExp(`^:::${q}`,"m"),xe=(oe=ne.match(pe))==null?void 0:oe.index;return xe!==void 0?xe:-1},tokenize(ne,oe,pe){var xe;const _e=new RegExp(`^:::${q}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),Ue=ne.match(_e);if(!Ue)return;const[Le,He=""]=Ue,$e=B(He);let Ne=1;const Qe=Le.length;let We="";const Ge=/^:::([\w-]*)(\s.*)?/gm,Xe=ne.slice(Qe);for(Ge.lastIndex=0;;){const Je=Ge.exec(Xe);if(Je===null)break;const ut=Je.index,ft=Je[1];if(!((xe=Je[2])!=null&&xe.endsWith(":::"))){if(ft)Ne+=1;else if(Ne-=1,Ne===0){const ct=Xe.slice(0,ut);We=ct.trim();const pt=ne.slice(0,Qe+ut+Je[0].length);let yt=[];if(We)if(O==="block")for(yt=pe.blockTokens(ct),yt.forEach(lt=>{lt.text&&(!lt.tokens||lt.tokens.length===0)&&(lt.tokens=pe.inlineTokens(lt.text))});yt.length>0;){const lt=yt[yt.length-1];if(lt.type==="paragraph"&&(!lt.text||lt.text.trim()===""))yt.pop();else break}else yt=pe.inlineTokens(We);return{type:x,raw:pt,attributes:$e,content:We,tokens:yt}}}}}},renderMarkdown:(ne,oe)=>{const pe=ee(ne.attrs||{}),xe=R(pe),_e=xe?` {${xe}}`:"",Ue=oe.renderChildren(ne.content||[],`

`);return`:::${q}${_e}

${Ue}

:::`}}}function parseShortcodeAttributes(r){if(!r.trim())return{};const x={},y=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let b=y.exec(r);for(;b!==null;){const[,B,R,I]=b;x[B]=R||I,b=y.exec(r)}return x}function serializeShortcodeAttributes(r){return Object.entries(r).filter(([,x])=>x!=null).map(([x,y])=>`${x}="${y}"`).join(" ")}function createInlineMarkdownSpec(r){const{nodeName:x,name:y,getContent:b,parseAttributes:B=parseShortcodeAttributes,serializeAttributes:R=serializeShortcodeAttributes,defaultAttributes:I={},selfClosing:O=!1,allowedAttributes:G}=r,q=y||x,ee=oe=>{if(!G)return oe;const pe={};return G.forEach(xe=>{xe in oe&&(pe[xe]=oe[xe])}),pe},ne=q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(oe,pe)=>{const xe={...I,...oe.attributes};if(O)return pe.createNode(x,xe);const _e=b?b(oe):oe.content||"";return _e?pe.createNode(x,xe,[pe.createTextNode(_e)]):pe.createNode(x,xe,[])},markdownTokenizer:{name:x,level:"inline",start(oe){const pe=O?new RegExp(`\\[${ne}\\s*[^\\]]*\\]`):new RegExp(`\\[${ne}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${ne}\\]`),xe=oe.match(pe),_e=xe==null?void 0:xe.index;return _e!==void 0?_e:-1},tokenize(oe,pe,xe){const _e=O?new RegExp(`^\\[${ne}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${ne}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${ne}\\]`),Ue=oe.match(_e);if(!Ue)return;let Le="",He="";if(O){const[,Ne]=Ue;He=Ne}else{const[,Ne,Qe]=Ue;He=Ne,Le=Qe||""}const $e=B(He.trim());return{type:x,raw:Ue[0],content:Le.trim(),attributes:$e}}},renderMarkdown:oe=>{let pe="";b?pe=b(oe):oe.content&&oe.content.length>0&&(pe=oe.content.filter(Le=>Le.type==="text").map(Le=>Le.text).join(""));const xe=ee(oe.attrs||{}),_e=R(xe),Ue=_e?` ${_e}`:"";return O?`[${q}${Ue}]`:`[${q}${Ue}]${pe}[/${q}]`}}}function parseIndentedBlocks(r,x,y){var b,B,R,I;const O=r.split(`
`),G=[];let q="",ee=0;const ne=x.baseIndentSize||2;for(;ee<O.length;){const oe=O[ee],pe=oe.match(x.itemPattern);if(!pe){if(G.length>0)break;if(oe.trim()===""){ee+=1;continue}else return}const xe=x.extractItemData(pe),{indentLevel:_e,mainContent:Ue}=xe;q=`${q}${oe}
`;const Le=[Ue];for(ee+=1;ee<O.length;){const Qe=O[ee];if(Qe.trim()===""){const Ge=O.slice(ee+1).findIndex(ut=>ut.trim()!=="");if(Ge===-1)break;if((((B=(b=O[ee+1+Ge].match(/^(\s*)/))==null?void 0:b[1])==null?void 0:B.length)||0)>_e){Le.push(Qe),q=`${q}${Qe}
`,ee+=1;continue}else break}if((((I=(R=Qe.match(/^(\s*)/))==null?void 0:R[1])==null?void 0:I.length)||0)>_e)Le.push(Qe),q=`${q}${Qe}
`,ee+=1;else break}let He;const $e=Le.slice(1);if($e.length>0){const Qe=$e.map(We=>We.slice(_e+ne)).join(`
`);Qe.trim()&&(x.customNestedParser?He=x.customNestedParser(Qe):He=y.blockTokens(Qe))}const Ne=x.createToken(xe,He);G.push(Ne)}if(G.length!==0)return{items:G,raw:q.trim()}}function renderNestedMarkdownContent(r,x,y,b){if(!r||!Array.isArray(r.content))return"";const B=typeof y=="function"?y(b):y,[R,...I]=r.content,O=x.renderChildren([R]),G=[`${B}${O}`];return I&&I.length>0&&I.forEach(q=>{const ee=x.renderChildren([q]);if(ee){const ne=ee.split(`
`).map(oe=>oe?x.indent(oe):"").join(`
`);G.push(ne)}}),G.join(`
`)}function updateMarkViewAttributes(r,x,y={}){const{state:b}=x,{doc:B,tr:R}=b,I=r;B.descendants((O,G)=>{const q=R.mapping.map(G),ee=R.mapping.map(G)+O.nodeSize;let ne=null;if(O.marks.forEach(pe=>{if(pe!==I)return!1;ne=pe}),!ne)return;let oe=!1;if(Object.keys(y).forEach(pe=>{y[pe]!==ne.attrs[pe]&&(oe=!0)}),oe){const pe=r.type.create({...r.attrs,...y});R.removeMark(q,ee,r.type),R.addMark(q,ee,pe)}}),R.docChanged&&x.view.dispatch(R)}var Node3=class Oh extends Extendable{constructor(){super(...arguments),this.type="node"}static create(x={}){const y=typeof x=="function"?x():x;return new Oh(y)}configure(x){return super.configure(x)}extend(x){const y=typeof x=="function"?x():x;return super.extend(y)}};function markPasteRule(r){return new PasteRule({find:r.find,handler:({state:x,range:y,match:b,pasteEvent:B})=>{const R=callOrReturn(r.getAttributes,void 0,b,B);if(R===!1||R===null)return null;const{tr:I}=x,O=b[b.length-1],G=b[0];let q=y.to;if(O){const ee=G.search(/\S/),ne=y.from+G.indexOf(O),oe=ne+O.length;if(getMarksBetween(y.from,y.to,x.doc).filter(xe=>xe.mark.type.excluded.find(Ue=>Ue===r.type&&Ue!==xe.mark.type)).filter(xe=>xe.to>ne).length)return null;oe<y.to&&I.delete(oe,y.to),ne>y.from&&I.delete(y.from+ee,ne),q=y.from+ee+O.length,I.addMark(y.from+ee,q,r.type.create(R||{})),I.removeStoredMark(r.type)}}})}var react,hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react=function r(x,y){if(x===y)return!0;if(x&&y&&typeof x=="object"&&typeof y=="object"){if(x.constructor!==y.constructor)return!1;var b,B,R;if(Array.isArray(x)){if(b=x.length,b!=y.length)return!1;for(B=b;B--!==0;)if(!r(x[B],y[B]))return!1;return!0}if(x instanceof Map&&y instanceof Map){if(x.size!==y.size)return!1;for(B of x.entries())if(!y.has(B[0]))return!1;for(B of x.entries())if(!r(B[1],y.get(B[0])))return!1;return!0}if(x instanceof Set&&y instanceof Set){if(x.size!==y.size)return!1;for(B of x.entries())if(!y.has(B[0]))return!1;return!0}if(ArrayBuffer.isView(x)&&ArrayBuffer.isView(y)){if(b=x.length,b!=y.length)return!1;for(B=b;B--!==0;)if(x[B]!==y[B])return!1;return!0}if(x.constructor===RegExp)return x.source===y.source&&x.flags===y.flags;if(x.valueOf!==Object.prototype.valueOf)return x.valueOf()===y.valueOf();if(x.toString!==Object.prototype.toString)return x.toString()===y.toString();if(R=Object.keys(x),b=R.length,b!==Object.keys(y).length)return!1;for(B=b;B--!==0;)if(!Object.prototype.hasOwnProperty.call(y,R[B]))return!1;for(B=b;B--!==0;){var I=R[B];if(!(I==="_owner"&&x.$$typeof)&&!r(x[I],y[I]))return!1}return!0}return x!==x&&y!==y}),react}var reactExports=requireReact();const deepEqual=getDefaultExportFromCjs(reactExports);var withSelector={exports:{}},withSelector_production={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var r=requireReact$1(),x=requireShim();function y(q,ee){return q===ee&&(q!==0||1/q===1/ee)||q!==q&&ee!==ee}var b=typeof Object.is=="function"?Object.is:y,B=x.useSyncExternalStore,R=r.useRef,I=r.useEffect,O=r.useMemo,G=r.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(q,ee,ne,oe,pe){var xe=R(null);if(xe.current===null){var _e={hasValue:!1,value:null};xe.current=_e}else _e=xe.current;xe=O(function(){function Le(We){if(!He){if(He=!0,$e=We,We=oe(We),pe!==void 0&&_e.hasValue){var Ge=_e.value;if(pe(Ge,We))return Ne=Ge}return Ne=We}if(Ge=Ne,b($e,We))return Ge;var Xe=oe(We);return pe!==void 0&&pe(Ge,Xe)?($e=We,Ge):($e=We,Ne=Xe)}var He=!1,$e,Ne,Qe=ne===void 0?null:ne;return[function(){return Le(ee())},Qe===null?void 0:function(){return Le(Qe())}]},[ee,ne,oe,pe]);var Ue=B(q,xe[0],xe[1]);return I(function(){_e.hasValue=!0,_e.value=Ue},[Ue]),G(Ue),Ue},withSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector(),mergeRefs=(...r)=>x=>{r.forEach(y=>{typeof y=="function"?y(x):y&&(y.current=x)})},Portals=({contentComponent:r})=>{const x=shimExports.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Object.values(x)})};function getInstance(){const r=new Set;let x={};return{subscribe(y){return r.add(y),()=>{r.delete(y)}},getSnapshot(){return x},getServerSnapshot(){return x},setRenderer(y,b){x={...x,[y]:ReactDOM.createPortal(b.reactElement,b.element,y)},r.forEach(B=>B())},removeRenderer(y){const b={...x};delete b[y],x=b,r.forEach(B=>B())}}}var PureEditorContent=class extends React.Component{constructor(r){var x;super(r),this.editorContentRef=React.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((x=r.editor)!=null&&x.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const r=this.props.editor;if(r&&!r.isDestroyed&&r.options.element){if(r.contentComponent)return;const x=this.editorContentRef.current;x.append(r.view.dom),r.setOptions({element:x}),r.contentComponent=getInstance(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=r.contentComponent.subscribe(()=>{this.setState(y=>y.hasContentComponentInitialized?y:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),r.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var r;const x=this.props.editor;if(x){this.initialized=!1,x.isDestroyed||x.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),x.contentComponent=null;try{if(!((r=x.view.dom)!=null&&r.firstChild))return;const y=document.createElement("div");y.append(x.view.dom),x.setOptions({element:y})}catch{}}}render(){const{editor:r,innerRef:x,...y}=this.props;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{ref:mergeRefs(x,this.editorContentRef),...y}),(r==null?void 0:r.contentComponent)&&jsxRuntimeExports.jsx(Portals,{contentComponent:r.contentComponent})]})}},EditorContentWithKey=reactExports$1.forwardRef((r,x)=>{const y=React.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[r.editor]);return React.createElement(PureEditorContent,{key:y,innerRef:x,...r})}),EditorContent=React.memo(EditorContentWithKey),useIsomorphicLayoutEffect=typeof window<"u"?reactExports$1.useLayoutEffect:reactExports$1.useEffect,EditorStateManager=class{constructor(r){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=r,this.lastSnapshot={editor:r,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(r){return this.subscribers.add(r),()=>{this.subscribers.delete(r)}}watch(r){if(this.editor=r,this.editor){const x=()=>{this.transactionNumber+=1,this.subscribers.forEach(b=>b())},y=this.editor;return y.on("transaction",x),()=>{y.off("transaction",x)}}}};function useEditorState(r){var x;const[y]=reactExports$1.useState(()=>new EditorStateManager(r.editor)),b=withSelectorExports.useSyncExternalStoreWithSelector(y.subscribe,y.getSnapshot,y.getServerSnapshot,r.selector,(x=r.equalityFn)!=null?x:deepEqual);return useIsomorphicLayoutEffect(()=>y.watch(r.editor),[r.editor,y]),reactExports$1.useDebugValue(b),b}var isDev=!1,isSSR=typeof window>"u",isNext=isSSR||!!(typeof window<"u"&&window.next),EditorInstanceManager=class Lh{constructor(x){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=x,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(x){this.editor=x,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(y=>y())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?isSSR||isNext?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const x={...this.options.current,onBeforeCreate:(...b)=>{var B,R;return(R=(B=this.options.current).onBeforeCreate)==null?void 0:R.call(B,...b)},onBlur:(...b)=>{var B,R;return(R=(B=this.options.current).onBlur)==null?void 0:R.call(B,...b)},onCreate:(...b)=>{var B,R;return(R=(B=this.options.current).onCreate)==null?void 0:R.call(B,...b)},onDestroy:(...b)=>{var B,R;return(R=(B=this.options.current).onDestroy)==null?void 0:R.call(B,...b)},onFocus:(...b)=>{var B,R;return(R=(B=this.options.current).onFocus)==null?void 0:R.call(B,...b)},onSelectionUpdate:(...b)=>{var B,R;return(R=(B=this.options.current).onSelectionUpdate)==null?void 0:R.call(B,...b)},onTransaction:(...b)=>{var B,R;return(R=(B=this.options.current).onTransaction)==null?void 0:R.call(B,...b)},onUpdate:(...b)=>{var B,R;return(R=(B=this.options.current).onUpdate)==null?void 0:R.call(B,...b)},onContentError:(...b)=>{var B,R;return(R=(B=this.options.current).onContentError)==null?void 0:R.call(B,...b)},onDrop:(...b)=>{var B,R;return(R=(B=this.options.current).onDrop)==null?void 0:R.call(B,...b)},onPaste:(...b)=>{var B,R;return(R=(B=this.options.current).onPaste)==null?void 0:R.call(B,...b)},onDelete:(...b)=>{var B,R;return(R=(B=this.options.current).onDelete)==null?void 0:R.call(B,...b)}};return new Editor(x)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(x){return this.subscriptions.add(x),()=>{this.subscriptions.delete(x)}}static compareOptions(x,y){return Object.keys(x).every(b=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(b)?!0:b==="extensions"&&x.extensions&&y.extensions?x.extensions.length!==y.extensions.length?!1:x.extensions.every((B,R)=>{var I;return B===((I=y.extensions)==null?void 0:I[R])}):x[b]===y[b])}onRender(x){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&x.length===0?Lh.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(x),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(x){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=x;return}if(this.previousDeps.length===x.length&&this.previousDeps.every((b,B)=>b===x[B]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=x}scheduleDestroy(){const x=this.instanceId,y=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===x){y&&y.setOptions(this.options.current);return}y&&!y.isDestroyed&&(y.destroy(),this.instanceId===x&&this.setEditor(null))},1)}};function useEditor(r={},x=[]){const y=reactExports$1.useRef(r);y.current=r;const[b]=reactExports$1.useState(()=>new EditorInstanceManager(y)),B=shimExports.useSyncExternalStore(b.subscribe,b.getEditor,b.getServerSnapshot);return reactExports$1.useDebugValue(B),reactExports$1.useEffect(b.onRender(x)),useEditorState({editor:B,selector:({transactionNumber:R})=>r.shouldRerenderOnTransaction===!1||r.shouldRerenderOnTransaction===void 0?null:r.immediatelyRender&&R===0?0:R+1}),B}var EditorContext=reactExports$1.createContext({editor:null});EditorContext.Consumer;var ReactNodeViewContext=reactExports$1.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),useReactNodeView=()=>reactExports$1.useContext(ReactNodeViewContext);React.forwardRef((r,x)=>{const{onDragStart:y}=useReactNodeView(),b=r.as||"div";return jsxRuntimeExports.jsx(b,{...r,ref:x,"data-node-view-wrapper":"",onDragStart:y,style:{whiteSpace:"normal",...r.style}})});React.createContext({markViewContentRef:()=>{}});var h=(r,x)=>{if(r==="slot")return 0;if(r instanceof Function)return r(x);const{children:y,...b}=x??{};if(r==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[r,b,y]},inputRegex$4=/^\s*>\s$/,Blockquote=Node3.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return h("blockquote",{...mergeAttributes(this.options.HTMLAttributes,r),children:h("slot",{})})},parseMarkdown:(r,x)=>x.createNode("blockquote",void 0,x.parseChildren(r.tokens||[])),renderMarkdown:(r,x)=>{if(!r.content)return"";const y=">",b=[];return r.content.forEach(B=>{const O=x.renderChildren([B]).split(`
`).map(G=>G.trim()===""?y:`${y} ${G}`);b.push(O.join(`
`))}),b.join(`
${y}
`)},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$4,type:this.type})]}}),starInputRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:r=>r.type.name===this.name},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return h("strong",{...mergeAttributes(this.options.HTMLAttributes,r),children:h("slot",{})})},markdownTokenName:"strong",parseMarkdown:(r,x)=>x.applyMark("bold",x.parseInline(r.tokens||[])),renderMarkdown:(r,x)=>`**${x.renderChildren(r)}**`,addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),inputRegex$3=/(^|[^`])`([^`]+)`(?!`)$/,pasteRegex$1=/(^|[^`])`([^`]+)`(?!`)/g,Code=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",mergeAttributes(this.options.HTMLAttributes,r),0]},markdownTokenName:"codespan",parseMarkdown:(r,x)=>x.applyMark("code",[{type:"text",text:r.text||""}]),renderMarkdown:(r,x)=>r.content?`\`${x.renderChildren(r.content)}\``:"",addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$3,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),DEFAULT_TAB_SIZE=4,backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node3.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:DEFAULT_TAB_SIZE,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:r=>{var x;const{languageClassPrefix:y}=this.options;if(!y)return null;const R=[...((x=r.firstElementChild)==null?void 0:x.classList)||[]].filter(I=>I.startsWith(y)).map(I=>I.replace(y,""))[0];return R||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:r,HTMLAttributes:x}){return["pre",mergeAttributes(this.options.HTMLAttributes,x),["code",{class:r.attrs.language?this.options.languageClassPrefix+r.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(r,x)=>{var y;return((y=r.raw)==null?void 0:y.startsWith("```"))===!1&&r.codeBlockStyle!=="indented"?[]:x.createNode("codeBlock",{language:r.lang||null},r.text?[x.createTextNode(r.text)]:[])},renderMarkdown:(r,x)=>{var y;let b="";const B=((y=r.attrs)==null?void 0:y.language)||"";return r.content?b=[`\`\`\`${B}`,x.renderChildren(r.content),"```"].join(`
`):b=`\`\`\`${B}

\`\`\``,b},addCommands(){return{setCodeBlock:r=>({commands:x})=>x.setNode(this.name,r),toggleCodeBlock:r=>({commands:x})=>x.toggleNode(this.name,"paragraph",r)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:r,$anchor:x}=this.editor.state.selection,y=x.pos===1;return!r||x.parent.type.name!==this.name?!1:y||!x.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:r})=>{var x;if(!this.options.enableTabIndentation)return!1;const y=(x=this.options.tabSize)!=null?x:DEFAULT_TAB_SIZE,{state:b}=r,{selection:B}=b,{$from:R,empty:I}=B;if(R.parent.type!==this.type)return!1;const O=" ".repeat(y);return I?r.commands.insertContent(O):r.commands.command(({tr:G})=>{const{from:q,to:ee}=B,pe=b.doc.textBetween(q,ee,`
`,`
`).split(`
`).map(xe=>O+xe).join(`
`);return G.replaceWith(q,ee,b.schema.text(pe)),!0})},"Shift-Tab":({editor:r})=>{var x;if(!this.options.enableTabIndentation)return!1;const y=(x=this.options.tabSize)!=null?x:DEFAULT_TAB_SIZE,{state:b}=r,{selection:B}=b,{$from:R,empty:I}=B;return R.parent.type!==this.type?!1:I?r.commands.command(({tr:O})=>{var G;const{pos:q}=R,ee=R.start(),ne=R.end(),pe=b.doc.textBetween(ee,ne,`
`,`
`).split(`
`);let xe=0,_e=0;const Ue=q-ee;for(let We=0;We<pe.length;We+=1){if(_e+pe[We].length>=Ue){xe=We;break}_e+=pe[We].length+1}const He=((G=pe[xe].match(/^ */))==null?void 0:G[0])||"",$e=Math.min(He.length,y);if($e===0)return!0;let Ne=ee;for(let We=0;We<xe;We+=1)Ne+=pe[We].length+1;return O.delete(Ne,Ne+$e),q-Ne<=$e&&O.setSelection(TextSelection.create(O.doc,Ne)),!0}):r.commands.command(({tr:O})=>{const{from:G,to:q}=B,oe=b.doc.textBetween(G,q,`
`,`
`).split(`
`).map(pe=>{var xe;const _e=((xe=pe.match(/^ */))==null?void 0:xe[0])||"",Ue=Math.min(_e.length,y);return pe.slice(Ue)}).join(`
`);return O.replaceWith(G,q,b.schema.text(oe)),!0})},Enter:({editor:r})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:x}=r,{selection:y}=x,{$from:b,empty:B}=y;if(!B||b.parent.type!==this.type)return!1;const R=b.parentOffset===b.parent.nodeSize-2,I=b.parent.textContent.endsWith(`

`);return!R||!I?!1:r.chain().command(({tr:O})=>(O.delete(b.pos-2,b.pos),!0)).exitCode().run()},ArrowDown:({editor:r})=>{if(!this.options.exitOnArrowDown)return!1;const{state:x}=r,{selection:y,doc:b}=x,{$from:B,empty:R}=y;if(!R||B.parent.type!==this.type||!(B.parentOffset===B.parent.nodeSize-2))return!1;const O=B.after();return O===void 0?!1:b.nodeAt(O)?r.commands.command(({tr:q})=>(q.setSelection(Selection.near(b.resolve(O))),!0)):r.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:r=>({language:r[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:r=>({language:r[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(r,x)=>{if(!x.clipboardData||this.editor.isActive(this.type.name))return!1;const y=x.clipboardData.getData("text/plain"),b=x.clipboardData.getData("vscode-editor-data"),B=b?JSON.parse(b):void 0,R=B==null?void 0:B.mode;if(!y||!R)return!1;const{tr:I,schema:O}=r.state,G=O.text(y.replace(/\r\n?/g,`
`));return I.replaceSelectionWith(this.type.create({language:R},G)),I.selection.$from.parent.type!==this.type&&I.setSelection(TextSelection.near(I.doc.resolve(Math.max(0,I.selection.from-2)))),I.setMeta("paste",!0),r.dispatch(I),!0}}})]}}),Document=Node3.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(r,x)=>r.content?x.renderChildren(r.content,`

`):""}),HardBreak=Node3.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",mergeAttributes(this.options.HTMLAttributes,r)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:r,chain:x,state:y,editor:b})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:B,storedMarks:R}=y;if(B.$from.parent.type.spec.isolating)return!1;const{keepMarks:I}=this.options,{splittableMarks:O}=b.extensionManager,G=R||B.$to.parentOffset&&B.$from.marks();return x().insertContent({type:this.name}).command(({tr:q,dispatch:ee})=>{if(ee&&G&&I){const ne=G.filter(oe=>O.includes(oe.type.name));q.ensureMarks(ne)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node3.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:x}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,x),0]},parseMarkdown:(r,x)=>x.createNode("heading",{level:r.depth||1},x.parseInline(r.tokens||[])),renderMarkdown:(r,x)=>{var y;const b=(y=r.attrs)!=null&&y.level?parseInt(r.attrs.level,10):1,B="#".repeat(b);return r.content?`${B} ${x.renderChildren(r.content)}`:""},addCommands(){return{setHeading:r=>({commands:x})=>this.options.levels.includes(r.level)?x.setNode(this.name,r):!1,toggleHeading:r=>({commands:x})=>this.options.levels.includes(r.level)?x.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,x)=>({...r,[`Mod-Alt-${x}`]:()=>this.editor.commands.toggleHeading({level:x})}),{})},addInputRules(){return this.options.levels.map(r=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}}),HorizontalRule=Node3.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",mergeAttributes(this.options.HTMLAttributes,r)]},markdownTokenName:"hr",parseMarkdown:(r,x)=>x.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:r,state:x})=>{if(!canInsertNode(x,x.schema.nodes[this.name]))return!1;const{selection:y}=x,{$to:b}=y,B=r();return isNodeSelection(y)?B.insertContentAt(b.pos,{type:this.name}):B.insertContent({type:this.name}),B.command(({state:R,tr:I,dispatch:O})=>{if(O){const{$to:G}=I.selection,q=G.end();if(G.nodeAfter)G.nodeAfter.isTextblock?I.setSelection(TextSelection.create(I.doc,G.pos+1)):G.nodeAfter.isBlock?I.setSelection(NodeSelection.create(I.doc,G.pos)):I.setSelection(TextSelection.create(I.doc,G.pos));else{const ee=R.schema.nodes[this.options.nextNodeType]||G.parent.type.contentMatch.defaultType,ne=ee==null?void 0:ee.create();ne&&(I.insert(q,ne),I.setSelection(TextSelection.create(I.doc,q+1)))}I.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:r=>r.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",mergeAttributes(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(r,x)=>x.applyMark("italic",x.parseInline(r.tokens||[])),renderMarkdown:(r,x)=>`*${x.renderChildren(r)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}});const encodedTlds="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",numeric="numeric",ascii="ascii",alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",domain="domain",emoji="emoji",scheme="scheme",slashscheme="slashscheme",whitespace="whitespace";function registerGroup(r,x){return r in x||(x[r]=[]),x[r]}function addToGroups(r,x,y){x[numeric]&&(x[asciinumeric]=!0,x[alphanumeric]=!0),x[ascii]&&(x[asciinumeric]=!0,x[alpha]=!0),x[asciinumeric]&&(x[alphanumeric]=!0),x[alpha]&&(x[alphanumeric]=!0),x[alphanumeric]&&(x[domain]=!0),x[emoji]&&(x[domain]=!0);for(const b in x){const B=registerGroup(b,y);B.indexOf(r)<0&&B.push(r)}}function flagsForToken(r,x){const y={};for(const b in x)x[b].indexOf(r)>=0&&(y[b]=!0);return y}function State(r=null){this.j={},this.jr=[],this.jd=null,this.t=r}State.groups={};State.prototype={accepts(){return!!this.t},go(r){const x=this,y=x.j[r];if(y)return y;for(let b=0;b<x.jr.length;b++){const B=x.jr[b][0],R=x.jr[b][1];if(R&&B.test(r))return R}return x.jd},has(r,x=!1){return x?r in this.j:!!this.go(r)},ta(r,x,y,b){for(let B=0;B<r.length;B++)this.tt(r[B],x,y,b)},tr(r,x,y,b){b=b||State.groups;let B;return x&&x.j?B=x:(B=new State(x),y&&b&&addToGroups(x,y,b)),this.jr.push([r,B]),B},ts(r,x,y,b){let B=this;const R=r.length;if(!R)return B;for(let I=0;I<R-1;I++)B=B.tt(r[I]);return B.tt(r[R-1],x,y,b)},tt(r,x,y,b){b=b||State.groups;const B=this;if(x&&x.j)return B.j[r]=x,x;const R=x;let I,O=B.go(r);if(O?(I=new State,Object.assign(I.j,O.j),I.jr.push.apply(I.jr,O.jr),I.jd=O.jd,I.t=O.t):I=new State,R){if(b)if(I.t&&typeof I.t=="string"){const G=Object.assign(flagsForToken(I.t,b),y);addToGroups(R,G,b)}else y&&addToGroups(R,y,b);I.t=R}return B.j[r]=I,I}};const ta=(r,x,y,b,B)=>r.ta(x,y,b,B),tr=(r,x,y,b,B)=>r.tr(x,y,b,B),ts=(r,x,y,b,B)=>r.ts(x,y,b,B),tt=(r,x,y,b,B)=>r.tt(x,y,b,B),WORD="WORD",UWORD="UWORD",ASCIINUMERICAL="ASCIINUMERICAL",ALPHANUMERICAL="ALPHANUMERICAL",LOCALHOST="LOCALHOST",TLD="TLD",UTLD="UTLD",SCHEME="SCHEME",SLASH_SCHEME="SLASH_SCHEME",NUM="NUM",WS="WS",NL="NL",OPENBRACE="OPENBRACE",CLOSEBRACE="CLOSEBRACE",OPENBRACKET="OPENBRACKET",CLOSEBRACKET="CLOSEBRACKET",OPENPAREN="OPENPAREN",CLOSEPAREN="CLOSEPAREN",OPENANGLEBRACKET="OPENANGLEBRACKET",CLOSEANGLEBRACKET="CLOSEANGLEBRACKET",FULLWIDTHLEFTPAREN="FULLWIDTHLEFTPAREN",FULLWIDTHRIGHTPAREN="FULLWIDTHRIGHTPAREN",LEFTCORNERBRACKET="LEFTCORNERBRACKET",RIGHTCORNERBRACKET="RIGHTCORNERBRACKET",LEFTWHITECORNERBRACKET="LEFTWHITECORNERBRACKET",RIGHTWHITECORNERBRACKET="RIGHTWHITECORNERBRACKET",FULLWIDTHLESSTHAN="FULLWIDTHLESSTHAN",FULLWIDTHGREATERTHAN="FULLWIDTHGREATERTHAN",AMPERSAND="AMPERSAND",APOSTROPHE="APOSTROPHE",ASTERISK="ASTERISK",AT="AT",BACKSLASH="BACKSLASH",BACKTICK="BACKTICK",CARET="CARET",COLON="COLON",COMMA="COMMA",DOLLAR="DOLLAR",DOT="DOT",EQUALS="EQUALS",EXCLAMATION="EXCLAMATION",HYPHEN="HYPHEN",PERCENT="PERCENT",PIPE="PIPE",PLUS="PLUS",POUND="POUND",QUERY="QUERY",QUOTE="QUOTE",FULLWIDTHMIDDLEDOT="FULLWIDTHMIDDLEDOT",SEMI="SEMI",SLASH="SLASH",TILDE="TILDE",UNDERSCORE="UNDERSCORE",EMOJI$1="EMOJI",SYM="SYM";var tk=Object.freeze({__proto__:null,ALPHANUMERICAL,AMPERSAND,APOSTROPHE,ASCIINUMERICAL,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,CLOSEANGLEBRACKET,CLOSEBRACE,CLOSEBRACKET,CLOSEPAREN,COLON,COMMA,DOLLAR,DOT,EMOJI:EMOJI$1,EQUALS,EXCLAMATION,FULLWIDTHGREATERTHAN,FULLWIDTHLEFTPAREN,FULLWIDTHLESSTHAN,FULLWIDTHMIDDLEDOT,FULLWIDTHRIGHTPAREN,HYPHEN,LEFTCORNERBRACKET,LEFTWHITECORNERBRACKET,LOCALHOST,NL,NUM,OPENANGLEBRACKET,OPENBRACE,OPENBRACKET,OPENPAREN,PERCENT,PIPE,PLUS,POUND,QUERY,QUOTE,RIGHTCORNERBRACKET,RIGHTWHITECORNERBRACKET,SCHEME,SEMI,SLASH,SLASH_SCHEME,SYM,TILDE,TLD,UNDERSCORE,UTLD,UWORD,WORD,WS});const ASCII_LETTER=/[a-z]/,LETTER=new RegExp("\\p{L}","u"),EMOJI=new RegExp("\\p{Emoji}","u"),DIGIT=/\d/,SPACE=/\s/,CR="\r",LF=`
`,EMOJI_VARIATION="",EMOJI_JOINER="",OBJECT_REPLACEMENT="";let tlds=null,utlds=null;function init$2(r=[]){const x={};State.groups=x;const y=new State;tlds==null&&(tlds=decodeTlds(encodedTlds)),utlds==null&&(utlds=decodeTlds(encodedUtlds)),tt(y,"'",APOSTROPHE),tt(y,"{",OPENBRACE),tt(y,"}",CLOSEBRACE),tt(y,"[",OPENBRACKET),tt(y,"]",CLOSEBRACKET),tt(y,"(",OPENPAREN),tt(y,")",CLOSEPAREN),tt(y,"<",OPENANGLEBRACKET),tt(y,">",CLOSEANGLEBRACKET),tt(y,"",FULLWIDTHLEFTPAREN),tt(y,"",FULLWIDTHRIGHTPAREN),tt(y,"",LEFTCORNERBRACKET),tt(y,"",RIGHTCORNERBRACKET),tt(y,"",LEFTWHITECORNERBRACKET),tt(y,"",RIGHTWHITECORNERBRACKET),tt(y,"",FULLWIDTHLESSTHAN),tt(y,"",FULLWIDTHGREATERTHAN),tt(y,"&",AMPERSAND),tt(y,"*",ASTERISK),tt(y,"@",AT),tt(y,"`",BACKTICK),tt(y,"^",CARET),tt(y,":",COLON),tt(y,",",COMMA),tt(y,"$",DOLLAR),tt(y,".",DOT),tt(y,"=",EQUALS),tt(y,"!",EXCLAMATION),tt(y,"-",HYPHEN),tt(y,"%",PERCENT),tt(y,"|",PIPE),tt(y,"+",PLUS),tt(y,"#",POUND),tt(y,"?",QUERY),tt(y,'"',QUOTE),tt(y,"/",SLASH),tt(y,";",SEMI),tt(y,"~",TILDE),tt(y,"_",UNDERSCORE),tt(y,"\\",BACKSLASH),tt(y,"",FULLWIDTHMIDDLEDOT);const b=tr(y,DIGIT,NUM,{[numeric]:!0});tr(b,DIGIT,b);const B=tr(b,ASCII_LETTER,ASCIINUMERICAL,{[asciinumeric]:!0}),R=tr(b,LETTER,ALPHANUMERICAL,{[alphanumeric]:!0}),I=tr(y,ASCII_LETTER,WORD,{[ascii]:!0});tr(I,DIGIT,B),tr(I,ASCII_LETTER,I),tr(B,DIGIT,B),tr(B,ASCII_LETTER,B);const O=tr(y,LETTER,UWORD,{[alpha]:!0});tr(O,ASCII_LETTER),tr(O,DIGIT,R),tr(O,LETTER,O),tr(R,DIGIT,R),tr(R,ASCII_LETTER),tr(R,LETTER,R);const G=tt(y,LF,NL,{[whitespace]:!0}),q=tt(y,CR,WS,{[whitespace]:!0}),ee=tr(y,SPACE,WS,{[whitespace]:!0});tt(y,OBJECT_REPLACEMENT,ee),tt(q,LF,G),tt(q,OBJECT_REPLACEMENT,ee),tr(q,SPACE,ee),tt(ee,CR),tt(ee,LF),tr(ee,SPACE,ee),tt(ee,OBJECT_REPLACEMENT,ee);const ne=tr(y,EMOJI,EMOJI$1,{[emoji]:!0});tt(ne,"#"),tr(ne,EMOJI,ne),tt(ne,EMOJI_VARIATION,ne);const oe=tt(ne,EMOJI_JOINER);tt(oe,"#"),tr(oe,EMOJI,ne);const pe=[[ASCII_LETTER,I],[DIGIT,B]],xe=[[ASCII_LETTER,null],[LETTER,O],[DIGIT,R]];for(let _e=0;_e<tlds.length;_e++)fastts(y,tlds[_e],TLD,WORD,pe);for(let _e=0;_e<utlds.length;_e++)fastts(y,utlds[_e],UTLD,UWORD,xe);addToGroups(TLD,{tld:!0,ascii:!0},x),addToGroups(UTLD,{utld:!0,alpha:!0},x),fastts(y,"file",SCHEME,WORD,pe),fastts(y,"mailto",SCHEME,WORD,pe),fastts(y,"http",SLASH_SCHEME,WORD,pe),fastts(y,"https",SLASH_SCHEME,WORD,pe),fastts(y,"ftp",SLASH_SCHEME,WORD,pe),fastts(y,"ftps",SLASH_SCHEME,WORD,pe),addToGroups(SCHEME,{scheme:!0,ascii:!0},x),addToGroups(SLASH_SCHEME,{slashscheme:!0,ascii:!0},x),r=r.sort((_e,Ue)=>_e[0]>Ue[0]?1:-1);for(let _e=0;_e<r.length;_e++){const Ue=r[_e][0],He=r[_e][1]?{[scheme]:!0}:{[slashscheme]:!0};Ue.indexOf("-")>=0?He[domain]=!0:ASCII_LETTER.test(Ue)?DIGIT.test(Ue)?He[asciinumeric]=!0:He[ascii]=!0:He[numeric]=!0,ts(y,Ue,Ue,He)}return ts(y,"localhost",LOCALHOST,{ascii:!0}),y.jd=new State(SYM),{start:y,tokens:Object.assign({groups:x},tk)}}function run$1(r,x){const y=stringToArray(x.replace(/[A-Z]/g,O=>O.toLowerCase())),b=y.length,B=[];let R=0,I=0;for(;I<b;){let O=r,G=null,q=0,ee=null,ne=-1,oe=-1;for(;I<b&&(G=O.go(y[I]));)O=G,O.accepts()?(ne=0,oe=0,ee=O):ne>=0&&(ne+=y[I].length,oe++),q+=y[I].length,R+=y[I].length,I++;R-=ne,I-=oe,q-=ne,B.push({t:ee.t,v:x.slice(R-q,R),s:R-q,e:R})}return B}function stringToArray(r){const x=[],y=r.length;let b=0;for(;b<y;){let B=r.charCodeAt(b),R,I=B<55296||B>56319||b+1===y||(R=r.charCodeAt(b+1))<56320||R>57343?r[b]:r.slice(b,b+2);x.push(I),b+=I.length}return x}function fastts(r,x,y,b,B){let R;const I=x.length;for(let O=0;O<I-1;O++){const G=x[O];r.j[G]?R=r.j[G]:(R=new State(b),R.jr=B.slice(),r.j[G]=R),r=R}return R=new State(y),R.jr=B.slice(),r.j[x[I-1]]=R,R}function decodeTlds(r){const x=[],y=[];let b=0,B="0123456789";for(;b<r.length;){let R=0;for(;B.indexOf(r[b+R])>=0;)R++;if(R>0){x.push(y.join(""));for(let I=parseInt(r.substring(b,b+R),10);I>0;I--)y.pop();b+=R}else y.push(r[b]),b++}return x}const defaults={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(r,x=null){let y=Object.assign({},defaults);r&&(y=Object.assign(y,r instanceof Options?r.o:r));const b=y.ignoreTags,B=[];for(let R=0;R<b.length;R++)B.push(b[R].toUpperCase());this.o=y,x&&(this.defaultRender=x),this.ignoreTags=B}Options.prototype={o:defaults,ignoreTags:[],defaultRender(r){return r},check(r){return this.get("validate",r.toString(),r)},get(r,x,y){const b=x!=null;let B=this.o[r];return B&&(typeof B=="object"?(B=y.t in B?B[y.t]:defaults[r],typeof B=="function"&&b&&(B=B(x,y))):typeof B=="function"&&b&&(B=B(x,y.t,y)),B)},getObj(r,x,y){let b=this.o[r];return typeof b=="function"&&x!=null&&(b=b(x,y.t,y)),b},render(r){const x=r.render(this);return(this.get("render",null,r)||this.defaultRender)(x,r.t,r)}};function noop(r){return r}function MultiToken(r,x){this.t="token",this.v=r,this.tk=x}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(r){return this.toString()},toFormattedString(r){const x=this.toString(),y=r.get("truncate",x,this),b=r.get("format",x,this);return y&&b.length>y?b.substring(0,y)+"":b},toFormattedHref(r){return r.get("formatHref",this.toHref(r.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(r=defaults.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(r),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(r){return{type:this.t,value:this.toFormattedString(r),isLink:this.isLink,href:this.toFormattedHref(r),start:this.startIndex(),end:this.endIndex()}},validate(r){return r.get("validate",this.toString(),this)},render(r){const x=this,y=this.toHref(r.get("defaultProtocol")),b=r.get("formatHref",y,this),B=r.get("tagName",y,x),R=this.toFormattedString(r),I={},O=r.get("className",y,x),G=r.get("target",y,x),q=r.get("rel",y,x),ee=r.getObj("attributes",y,x),ne=r.getObj("events",y,x);return I.href=b,O&&(I.class=O),G&&(I.target=G),q&&(I.rel=q),ee&&Object.assign(I,ee),{tagName:B,attributes:I,content:R,eventListeners:ne}}};function createTokenClass(r,x){class y extends MultiToken{constructor(B,R){super(B,R),this.t=r}}for(const b in x)y.prototype[b]=x[b];return y.t=r,y}const Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text$1=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(r=defaults.defaultProtocol){return this.hasProtocol()?this.v:`${r}://${this.v}`},hasProtocol(){const r=this.tk;return r.length>=2&&r[0].t!==LOCALHOST&&r[1].t===COLON}}),makeState=r=>new State(r);function init$1({groups:r}){const x=r.domain.concat([AMPERSAND,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,NUM,PERCENT,PIPE,PLUS,POUND,SLASH,SYM,TILDE,UNDERSCORE]),y=[APOSTROPHE,COLON,COMMA,DOT,EXCLAMATION,PERCENT,QUERY,QUOTE,SEMI,OPENANGLEBRACKET,CLOSEANGLEBRACKET,OPENBRACE,CLOSEBRACE,CLOSEBRACKET,OPENBRACKET,OPENPAREN,CLOSEPAREN,FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN,LEFTCORNERBRACKET,RIGHTCORNERBRACKET,LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET,FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN],b=[AMPERSAND,APOSTROPHE,ASTERISK,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,OPENBRACE,CLOSEBRACE,PERCENT,PIPE,PLUS,POUND,QUERY,SLASH,SYM,TILDE,UNDERSCORE],B=makeState(),R=tt(B,TILDE);ta(R,b,R),ta(R,r.domain,R);const I=makeState(),O=makeState(),G=makeState();ta(B,r.domain,I),ta(B,r.scheme,O),ta(B,r.slashscheme,G),ta(I,b,R),ta(I,r.domain,I);const q=tt(I,AT);tt(R,AT,q),tt(O,AT,q),tt(G,AT,q);const ee=tt(R,DOT);ta(ee,b,R),ta(ee,r.domain,R);const ne=makeState();ta(q,r.domain,ne),ta(ne,r.domain,ne);const oe=tt(ne,DOT);ta(oe,r.domain,ne);const pe=makeState(Email);ta(oe,r.tld,pe),ta(oe,r.utld,pe),tt(q,LOCALHOST,pe);const xe=tt(ne,HYPHEN);tt(xe,HYPHEN,xe),ta(xe,r.domain,ne),ta(pe,r.domain,ne),tt(pe,DOT,oe),tt(pe,HYPHEN,xe);const _e=tt(pe,COLON);ta(_e,r.numeric,Email);const Ue=tt(I,HYPHEN),Le=tt(I,DOT);tt(Ue,HYPHEN,Ue),ta(Ue,r.domain,I),ta(Le,b,R),ta(Le,r.domain,I);const He=makeState(Url);ta(Le,r.tld,He),ta(Le,r.utld,He),ta(He,r.domain,I),ta(He,b,R),tt(He,DOT,Le),tt(He,HYPHEN,Ue),tt(He,AT,q);const $e=tt(He,COLON),Ne=makeState(Url);ta($e,r.numeric,Ne);const Qe=makeState(Url),We=makeState();ta(Qe,x,Qe),ta(Qe,y,We),ta(We,x,Qe),ta(We,y,We),tt(He,SLASH,Qe),tt(Ne,SLASH,Qe);const Ge=tt(O,COLON),Xe=tt(G,COLON),Je=tt(Xe,SLASH),ut=tt(Je,SLASH);ta(O,r.domain,I),tt(O,DOT,Le),tt(O,HYPHEN,Ue),ta(G,r.domain,I),tt(G,DOT,Le),tt(G,HYPHEN,Ue),ta(Ge,r.domain,Qe),tt(Ge,SLASH,Qe),tt(Ge,QUERY,Qe),ta(ut,r.domain,Qe),ta(ut,x,Qe),tt(ut,SLASH,Qe);const ft=[[OPENBRACE,CLOSEBRACE],[OPENBRACKET,CLOSEBRACKET],[OPENPAREN,CLOSEPAREN],[OPENANGLEBRACKET,CLOSEANGLEBRACKET],[FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN],[LEFTCORNERBRACKET,RIGHTCORNERBRACKET],[LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET],[FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN]];for(let ct=0;ct<ft.length;ct++){const[pt,yt]=ft[ct],lt=tt(Qe,pt);tt(We,pt,lt),tt(lt,yt,Qe);const Ze=makeState(Url);ta(lt,x,Ze);const it=makeState();ta(lt,y),ta(Ze,x,Ze),ta(Ze,y,it),ta(it,x,Ze),ta(it,y,it),tt(Ze,yt,Qe),tt(it,yt,Qe)}return tt(B,LOCALHOST,He),tt(B,NL,Nl),{start:B,tokens:tk}}function run(r,x,y){let b=y.length,B=0,R=[],I=[];for(;B<b;){let O=r,G=null,q=null,ee=0,ne=null,oe=-1;for(;B<b&&!(G=O.go(y[B].t));)I.push(y[B++]);for(;B<b&&(q=G||O.go(y[B].t));)G=null,O=q,O.accepts()?(oe=0,ne=O):oe>=0&&oe++,B++,ee++;if(oe<0)B-=ee,B<b&&(I.push(y[B]),B++);else{I.length>0&&(R.push(initMultiToken(Text$1,x,I)),I=[]),B-=oe,ee-=oe;const pe=ne.t,xe=y.slice(B-ee,B);R.push(initMultiToken(pe,x,xe))}}return I.length>0&&R.push(initMultiToken(Text$1,x,I)),R}function initMultiToken(r,x,y){const b=y[0].s,B=y[y.length-1].e,R=x.slice(b,B);return new r(R,y)}const warn=typeof console<"u"&&console&&console.warn||(()=>{}),warnAdvice="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function reset(){return State.groups={},INIT.scanner=null,INIT.parser=null,INIT.tokenQueue=[],INIT.pluginQueue=[],INIT.customSchemes=[],INIT.initialized=!1,INIT}function registerCustomProtocol(r,x=!1){if(INIT.initialized&&warn(`linkifyjs: already initialized - will not register custom scheme "${r}" ${warnAdvice}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(r))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);INIT.customSchemes.push([r,x])}function init(){INIT.scanner=init$2(INIT.customSchemes);for(let r=0;r<INIT.tokenQueue.length;r++)INIT.tokenQueue[r][1]({scanner:INIT.scanner});INIT.parser=init$1(INIT.scanner.tokens);for(let r=0;r<INIT.pluginQueue.length;r++)INIT.pluginQueue[r][1]({scanner:INIT.scanner,parser:INIT.parser});return INIT.initialized=!0,INIT}function tokenize(r){return INIT.initialized||init(),run(INIT.parser.start,r,run$1(INIT.scanner.start,r))}tokenize.scan=run$1;function find(r,x=null,y=null){if(x&&typeof x=="object"){if(y)throw Error(`linkifyjs: Invalid link type ${x}; must be a string`);y=x,x=null}const b=new Options(y),B=tokenize(r),R=[];for(let I=0;I<B.length;I++){const O=B[I];O.isLink&&(!x||O.t===x)&&b.check(O)&&R.push(O.toFormattedObject(b))}return R}var UNICODE_WHITESPACE_PATTERN="[\0- -\u2029]",UNICODE_WHITESPACE_REGEX=new RegExp(UNICODE_WHITESPACE_PATTERN),UNICODE_WHITESPACE_REGEX_END=new RegExp(`${UNICODE_WHITESPACE_PATTERN}$`),UNICODE_WHITESPACE_REGEX_GLOBAL=new RegExp(UNICODE_WHITESPACE_PATTERN,"g");function isValidLinkStructure(r){return r.length===1?r[0].isLink:r.length===3&&r[1].isLink?["()","[]"].includes(r[0].value+r[2].value):!1}function autolink(r){return new Plugin({key:new PluginKey("autolink"),appendTransaction:(x,y,b)=>{const B=x.some(q=>q.docChanged)&&!y.doc.eq(b.doc),R=x.some(q=>q.getMeta("preventAutolink"));if(!B||R)return;const{tr:I}=b,O=combineTransactionSteps(y.doc,[...x]);if(getChangedRanges(O).forEach(({newRange:q})=>{const ee=findChildrenInRange(b.doc,q,pe=>pe.isTextblock);let ne,oe;if(ee.length>1)ne=ee[0],oe=b.doc.textBetween(ne.pos,ne.pos+ne.node.nodeSize,void 0," ");else if(ee.length){const pe=b.doc.textBetween(q.from,q.to," "," ");if(!UNICODE_WHITESPACE_REGEX_END.test(pe))return;ne=ee[0],oe=b.doc.textBetween(ne.pos,q.to,void 0," ")}if(ne&&oe){const pe=oe.split(UNICODE_WHITESPACE_REGEX).filter(Boolean);if(pe.length<=0)return!1;const xe=pe[pe.length-1],_e=ne.pos+oe.lastIndexOf(xe);if(!xe)return!1;const Ue=tokenize(xe).map(Le=>Le.toObject(r.defaultProtocol));if(!isValidLinkStructure(Ue))return!1;Ue.filter(Le=>Le.isLink).map(Le=>({...Le,from:_e+Le.start+1,to:_e+Le.end+1})).filter(Le=>b.schema.marks.code?!b.doc.rangeHasMark(Le.from,Le.to,b.schema.marks.code):!0).filter(Le=>r.validate(Le.value)).filter(Le=>r.shouldAutoLink(Le.value)).forEach(Le=>{getMarksBetween(Le.from,Le.to,b.doc).some(He=>He.mark.type===r.type)||I.addMark(Le.from,Le.to,r.type.create({href:Le.href}))})}}),!!I.steps.length)return I}})}function clickHandler(r){return new Plugin({key:new PluginKey("handleClickLink"),props:{handleClick:(x,y,b)=>{var B,R;if(b.button!==0||!x.editable)return!1;let I=null;if(b.target instanceof HTMLAnchorElement)I=b.target;else{let ee=b.target;const ne=[];for(;ee.nodeName!=="DIV";)ne.push(ee),ee=ee.parentNode;I=ne.find(oe=>oe.nodeName==="A")}if(!I)return!1;const O=getAttributes(x.state,r.type.name),G=(B=I==null?void 0:I.href)!=null?B:O.href,q=(R=I==null?void 0:I.target)!=null?R:O.target;return r.enableClickSelection&&r.editor.commands.extendMarkRange(r.type.name),I&&G?(window.open(G,q),!0):!1}}})}function pasteHandler(r){return new Plugin({key:new PluginKey("handlePasteLink"),props:{handlePaste:(x,y,b)=>{const{shouldAutoLink:B}=r,{state:R}=x,{selection:I}=R,{empty:O}=I;if(O)return!1;let G="";b.content.forEach(ee=>{G+=ee.textContent});const q=find(G,{defaultProtocol:r.defaultProtocol}).find(ee=>ee.isLink&&ee.value===G);return!G||!q||B!==void 0&&!B(q.href)?!1:r.editor.commands.setMark(r.type,{href:q.href})}}})}function isAllowedUri(r,x){const y=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return x&&x.forEach(b=>{const B=typeof b=="string"?b:b.scheme;B&&y.push(B)}),!r||r.replace(UNICODE_WHITESPACE_REGEX_GLOBAL,"").match(new RegExp(`^(?:(?:${y.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Link=Mark.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(r=>{if(typeof r=="string"){registerCustomProtocol(r);return}registerCustomProtocol(r.scheme,r.optionalSlashes)})},onDestroy(){reset()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(r,x)=>!!isAllowedUri(r,x.protocols),validate:r=>!!r,shouldAutoLink:r=>!!r}},addAttributes(){return{href:{default:null,parseHTML(r){return r.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:r=>{const x=r.getAttribute("href");return!x||!this.options.isAllowedUri(x,{defaultValidate:y=>!!isAllowedUri(y,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:r}){return this.options.isAllowedUri(r.href,{defaultValidate:x=>!!isAllowedUri(x,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mergeAttributes(this.options.HTMLAttributes,r),0]:["a",mergeAttributes(this.options.HTMLAttributes,{...r,href:""}),0]},markdownTokenName:"link",parseMarkdown:(r,x)=>x.applyMark("link",x.parseInline(r.tokens||[]),{href:r.href,title:r.title||null}),renderMarkdown:(r,x)=>{var y;const b=((y=r.attrs)==null?void 0:y.href)||"";return`[${x.renderChildren(r)}](${b})`},addCommands(){return{setLink:r=>({chain:x})=>{const{href:y}=r;return this.options.isAllowedUri(y,{defaultValidate:b=>!!isAllowedUri(b,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?x().setMark(this.name,r).setMeta("preventAutolink",!0).run():!1},toggleLink:r=>({chain:x})=>{const{href:y}=r||{};return y&&!this.options.isAllowedUri(y,{defaultValidate:b=>!!isAllowedUri(b,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:x().toggleMark(this.name,r,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:r})=>r().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[markPasteRule({find:r=>{const x=[];if(r){const{protocols:y,defaultProtocol:b}=this.options,B=find(r).filter(R=>R.isLink&&this.options.isAllowedUri(R.value,{defaultValidate:I=>!!isAllowedUri(I,y),protocols:y,defaultProtocol:b}));B.length&&B.forEach(R=>{this.options.shouldAutoLink(R.value)&&x.push({text:R.value,data:{href:R.href},index:R.start})})}return x},type:this.type,getAttributes:r=>{var x;return{href:(x=r.data)==null?void 0:x.href}}})]},addProseMirrorPlugins(){const r=[],{protocols:x,defaultProtocol:y}=this.options;return this.options.autolink&&r.push(autolink({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:b=>this.options.isAllowedUri(b,{defaultValidate:B=>!!isAllowedUri(B,x),protocols:x,defaultProtocol:y}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&r.push(clickHandler({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&r.push(pasteHandler({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),r}}),__defProp=Object.defineProperty,__export=(r,x)=>{for(var y in x)__defProp(r,y,{get:x[y],enumerable:!0})},ListItemName="listItem",TextStyleName="textStyle",bulletListInputRegex=/^\s*([-+*])\s$/,BulletList=Node3.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",mergeAttributes(this.options.HTMLAttributes,r),0]},markdownTokenName:"list",parseMarkdown:(r,x)=>r.type!=="list"||r.ordered?[]:{type:"bulletList",content:r.items?x.parseChildren(r.items):[]},renderMarkdown:(r,x)=>r.content?x.renderChildren(r.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:r,chain:x})=>this.options.keepAttributes?x().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName,this.editor.getAttributes(TextStyleName)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let r=wrappingInputRule({find:bulletListInputRegex,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(r=wrappingInputRule({find:bulletListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyleName),editor:this.editor})),[r]}}),ListItem=Node3.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",mergeAttributes(this.options.HTMLAttributes,r),0]},markdownTokenName:"list_item",parseMarkdown:(r,x)=>{if(r.type!=="list_item")return[];let y=[];if(r.tokens&&r.tokens.length>0)if(r.tokens.some(B=>B.type==="paragraph"))y=x.parseChildren(r.tokens);else{const B=r.tokens[0];if(B&&B.type==="text"&&B.tokens&&B.tokens.length>0){if(y=[{type:"paragraph",content:x.parseInline(B.tokens)}],r.tokens.length>1){const I=r.tokens.slice(1),O=x.parseChildren(I);y.push(...O)}}else y=x.parseChildren(r.tokens)}return y.length===0&&(y=[{type:"paragraph",content:[]}]),{type:"listItem",content:y}},renderMarkdown:(r,x,y)=>renderNestedMarkdownContent(r,x,b=>b.parentType==="bulletList"?"- ":b.parentType==="orderedList"?`${b.index+1}. `:"- ",y),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),listHelpers_exports={};__export(listHelpers_exports,{findListItemPos:()=>findListItemPos,getNextListDepth:()=>getNextListDepth,handleBackspace:()=>handleBackspace,handleDelete:()=>handleDelete,hasListBefore:()=>hasListBefore,hasListItemAfter:()=>hasListItemAfter,hasListItemBefore:()=>hasListItemBefore,listItemHasSubList:()=>listItemHasSubList,nextListIsDeeper:()=>nextListIsDeeper,nextListIsHigher:()=>nextListIsHigher});var findListItemPos=(r,x)=>{const{$from:y}=x.selection,b=getNodeType(r,x.schema);let B=null,R=y.depth,I=y.pos,O=null;for(;R>0&&O===null;)B=y.node(R),B.type===b?O=R:(R-=1,I-=1);return O===null?null:{$pos:x.doc.resolve(I),depth:O}},getNextListDepth=(r,x)=>{const y=findListItemPos(r,x);if(!y)return!1;const[,b]=getNodeAtPosition(x,r,y.$pos.pos+4);return b},hasListBefore=(r,x,y)=>{const{$anchor:b}=r.selection,B=Math.max(0,b.pos-2),R=r.doc.resolve(B).node();return!(!R||!y.includes(R.type.name))},hasListItemBefore=(r,x)=>{var y;const{$anchor:b}=x.selection,B=x.doc.resolve(b.pos-2);return!(B.index()===0||((y=B.nodeBefore)==null?void 0:y.type.name)!==r)},listItemHasSubList=(r,x,y)=>{if(!y)return!1;const b=getNodeType(r,x.schema);let B=!1;return y.descendants(R=>{R.type===b&&(B=!0)}),B},handleBackspace=(r,x,y)=>{if(r.commands.undoInputRule())return!0;if(r.state.selection.from!==r.state.selection.to)return!1;if(!isNodeActive(r.state,x)&&hasListBefore(r.state,x,y)){const{$anchor:O}=r.state.selection,G=r.state.doc.resolve(O.before()-1),q=[];G.node().descendants((oe,pe)=>{oe.type.name===x&&q.push({node:oe,pos:pe})});const ee=q.at(-1);if(!ee)return!1;const ne=r.state.doc.resolve(G.start()+ee.pos+1);return r.chain().cut({from:O.start()-1,to:O.end()+1},ne.end()).joinForward().run()}if(!isNodeActive(r.state,x)||!isAtStartOfNode(r.state))return!1;const b=findListItemPos(x,r.state);if(!b)return!1;const R=r.state.doc.resolve(b.$pos.pos-2).node(b.depth),I=listItemHasSubList(x,r.state,R);return hasListItemBefore(x,r.state)&&!I?r.commands.joinItemBackward():r.chain().liftListItem(x).run()},nextListIsDeeper=(r,x)=>{const y=getNextListDepth(r,x),b=findListItemPos(r,x);return!b||!y?!1:y>b.depth},nextListIsHigher=(r,x)=>{const y=getNextListDepth(r,x),b=findListItemPos(r,x);return!b||!y?!1:y<b.depth},handleDelete=(r,x)=>{if(!isNodeActive(r.state,x)||!isAtEndOfNode(r.state,x))return!1;const{selection:y}=r.state,{$from:b,$to:B}=y;return!y.empty&&b.sameParent(B)?!1:nextListIsDeeper(x,r.state)?r.chain().focus(r.state.selection.from+4).lift(x).joinBackward().run():nextListIsHigher(x,r.state)?r.chain().joinForward().joinBackward().run():r.commands.joinItemForward()},hasListItemAfter=(r,x)=>{var y;const{$anchor:b}=x.selection,B=x.doc.resolve(b.pos-b.parentOffset-2);return!(B.index()===B.parent.childCount-1||((y=B.nodeAfter)==null?void 0:y.type.name)!==r)},ListKeymap=Extension.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:r})=>{let x=!1;return this.options.listTypes.forEach(({itemName:y})=>{r.state.schema.nodes[y]!==void 0&&handleDelete(r,y)&&(x=!0)}),x},"Mod-Delete":({editor:r})=>{let x=!1;return this.options.listTypes.forEach(({itemName:y})=>{r.state.schema.nodes[y]!==void 0&&handleDelete(r,y)&&(x=!0)}),x},Backspace:({editor:r})=>{let x=!1;return this.options.listTypes.forEach(({itemName:y,wrapperNames:b})=>{r.state.schema.nodes[y]!==void 0&&handleBackspace(r,y,b)&&(x=!0)}),x},"Mod-Backspace":({editor:r})=>{let x=!1;return this.options.listTypes.forEach(({itemName:y,wrapperNames:b})=>{r.state.schema.nodes[y]!==void 0&&handleBackspace(r,y,b)&&(x=!0)}),x}}}}),ORDERED_LIST_ITEM_REGEX=/^(\s*)(\d+)\.\s+(.*)$/,INDENTED_LINE_REGEX=/^\s/;function collectOrderedListItems(r){const x=[];let y=0,b=0;for(;y<r.length;){const B=r[y],R=B.match(ORDERED_LIST_ITEM_REGEX);if(!R)break;const[,I,O,G]=R,q=I.length;let ee=G,ne=y+1;const oe=[B];for(;ne<r.length;){const pe=r[ne];if(pe.match(ORDERED_LIST_ITEM_REGEX))break;if(pe.trim()==="")oe.push(pe),ee+=`
`,ne+=1;else if(pe.match(INDENTED_LINE_REGEX))oe.push(pe),ee+=`
${pe.slice(q+2)}`,ne+=1;else break}x.push({indent:q,number:parseInt(O,10),content:ee.trim(),raw:oe.join(`
`)}),b=ne,y=ne}return[x,b]}function buildNestedStructure(r,x,y){var b;const B=[];let R=0;for(;R<r.length;){const I=r[R];if(I.indent===x){const O=I.content.split(`
`),G=((b=O[0])==null?void 0:b.trim())||"",q=[];G&&q.push({type:"paragraph",raw:G,tokens:y.inlineTokens(G)});const ee=O.slice(1).join(`
`).trim();if(ee){const pe=y.blockTokens(ee);q.push(...pe)}let ne=R+1;const oe=[];for(;ne<r.length&&r[ne].indent>x;)oe.push(r[ne]),ne+=1;if(oe.length>0){const pe=Math.min(...oe.map(_e=>_e.indent)),xe=buildNestedStructure(oe,pe,y);q.push({type:"list",ordered:!0,start:oe[0].number,items:xe,raw:oe.map(_e=>_e.raw).join(`
`)})}B.push({type:"list_item",raw:I.raw,tokens:q}),R=ne}else R+=1}return B}function parseListItems(r,x){return r.map(y=>{if(y.type!=="list_item")return x.parseChildren([y])[0];const b=[];return y.tokens&&y.tokens.length>0&&y.tokens.forEach(B=>{if(B.type==="paragraph"||B.type==="list"||B.type==="blockquote"||B.type==="code")b.push(...x.parseChildren([B]));else if(B.type==="text"&&B.tokens){const R=x.parseChildren([B]);b.push({type:"paragraph",content:R})}else{const R=x.parseChildren([B]);R.length>0&&b.push(...R)}}),{type:"listItem",content:b}})}var ListItemName2="listItem",TextStyleName2="textStyle",orderedListInputRegex=/^(\d+)\.\s$/,OrderedList=Node3.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1},type:{default:null,parseHTML:r=>r.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:x,...y}=r;return x===1?["ol",mergeAttributes(this.options.HTMLAttributes,y),0]:["ol",mergeAttributes(this.options.HTMLAttributes,r),0]},markdownTokenName:"list",parseMarkdown:(r,x)=>{if(r.type!=="list"||!r.ordered)return[];const y=r.start||1,b=r.items?parseListItems(r.items,x):[];return y!==1?{type:"orderedList",attrs:{start:y},content:b}:{type:"orderedList",content:b}},renderMarkdown:(r,x)=>r.content?x.renderChildren(r.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:r=>{const x=r.match(/^(\s*)(\d+)\.\s+/),y=x==null?void 0:x.index;return y!==void 0?y:-1},tokenize:(r,x,y)=>{var b;const B=r.split(`
`),[R,I]=collectOrderedListItems(B);if(R.length===0)return;const O=buildNestedStructure(R,0,y);return O.length===0?void 0:{type:"list",ordered:!0,start:((b=R[0])==null?void 0:b.number)||1,items:O,raw:B.slice(0,I).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:r,chain:x})=>this.options.keepAttributes?x().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName2,this.editor.getAttributes(TextStyleName2)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let r=wrappingInputRule({find:orderedListInputRegex,type:this.type,getAttributes:x=>({start:+x[1]}),joinPredicate:(x,y)=>y.childCount+y.attrs.start===+x[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(r=wrappingInputRule({find:orderedListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:x=>({start:+x[1],...this.editor.getAttributes(TextStyleName2)}),joinPredicate:(x,y)=>y.childCount+y.attrs.start===+x[1],editor:this.editor})),[r]}}),inputRegex$2=/^\s*(\[([( |x])?\])\s$/,TaskItem=Node3.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:r=>{const x=r.getAttribute("data-checked");return x===""||x==="true"},renderHTML:r=>({"data-checked":r.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:r,HTMLAttributes:x}){return["li",mergeAttributes(this.options.HTMLAttributes,x,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:r.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(r,x)=>{const y=[];if(r.tokens&&r.tokens.length>0?y.push(x.createNode("paragraph",{},x.parseInline(r.tokens))):r.text?y.push(x.createNode("paragraph",{},[x.createNode("text",{text:r.text})])):y.push(x.createNode("paragraph",{},[])),r.nestedTokens&&r.nestedTokens.length>0){const b=x.parseChildren(r.nestedTokens);y.push(...b)}return x.createNode("taskItem",{checked:r.checked||!1},y)},renderMarkdown:(r,x)=>{var y;const B=`- [${(y=r.attrs)!=null&&y.checked?"x":" "}] `;return renderNestedMarkdownContent(r,x,B)},addKeyboardShortcuts(){const r={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...r,Tab:()=>this.editor.commands.sinkListItem(this.name)}:r},addNodeView(){return({node:r,HTMLAttributes:x,getPos:y,editor:b})=>{const B=document.createElement("li"),R=document.createElement("label"),I=document.createElement("span"),O=document.createElement("input"),G=document.createElement("div"),q=ee=>{var ne,oe;O.ariaLabel=((oe=(ne=this.options.a11y)==null?void 0:ne.checkboxLabel)==null?void 0:oe.call(ne,ee,O.checked))||`Task item checkbox for ${ee.textContent||"empty task item"}`};return q(r),R.contentEditable="false",O.type="checkbox",O.addEventListener("mousedown",ee=>ee.preventDefault()),O.addEventListener("change",ee=>{if(!b.isEditable&&!this.options.onReadOnlyChecked){O.checked=!O.checked;return}const{checked:ne}=ee.target;b.isEditable&&typeof y=="function"&&b.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:oe})=>{const pe=y();if(typeof pe!="number")return!1;const xe=oe.doc.nodeAt(pe);return oe.setNodeMarkup(pe,void 0,{...xe==null?void 0:xe.attrs,checked:ne}),!0}).run(),!b.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(r,ne)||(O.checked=!O.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([ee,ne])=>{B.setAttribute(ee,ne)}),B.dataset.checked=r.attrs.checked,O.checked=r.attrs.checked,R.append(O,I),B.append(R,G),Object.entries(x).forEach(([ee,ne])=>{B.setAttribute(ee,ne)}),{dom:B,contentDOM:G,update:ee=>ee.type!==this.type?!1:(B.dataset.checked=ee.attrs.checked,O.checked=ee.attrs.checked,q(ee),!0)}}},addInputRules(){return[wrappingInputRule({find:inputRegex$2,type:this.type,getAttributes:r=>({checked:r[r.length-1]==="x"})})]}}),TaskList=Node3.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:r}){return["ul",mergeAttributes(this.options.HTMLAttributes,r,{"data-type":this.name}),0]},parseMarkdown:(r,x)=>x.createNode("taskList",{},x.parseChildren(r.items||[])),renderMarkdown:(r,x)=>r.content?x.renderChildren(r.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(r){var x;const y=(x=r.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:x.index;return y!==void 0?y:-1},tokenize(r,x,y){const b=R=>{const I=parseIndentedBlocks(R,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:O=>({indentLevel:O[1].length,mainContent:O[4],checked:O[3].toLowerCase()==="x"}),createToken:(O,G)=>({type:"taskItem",raw:"",mainContent:O.mainContent,indentLevel:O.indentLevel,checked:O.checked,text:O.mainContent,tokens:y.inlineTokens(O.mainContent),nestedTokens:G}),customNestedParser:b},y);return I?[{type:"taskList",raw:I.raw,items:I.items}]:y.blockTokens(R)},B=parseIndentedBlocks(r,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:R=>({indentLevel:R[1].length,mainContent:R[4],checked:R[3].toLowerCase()==="x"}),createToken:(R,I)=>({type:"taskItem",raw:"",mainContent:R.mainContent,indentLevel:R.indentLevel,checked:R.checked,text:R.mainContent,tokens:y.inlineTokens(R.mainContent),nestedTokens:I}),customNestedParser:b},y);if(B)return{type:"taskList",raw:B.raw,items:B.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:r})=>r.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Extension.create({name:"listKit",addExtensions(){const r=[];return this.options.bulletList!==!1&&r.push(BulletList.configure(this.options.bulletList)),this.options.listItem!==!1&&r.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(ListKeymap.configure(this.options.listKeymap)),this.options.orderedList!==!1&&r.push(OrderedList.configure(this.options.orderedList)),this.options.taskItem!==!1&&r.push(TaskItem.configure(this.options.taskItem)),this.options.taskList!==!1&&r.push(TaskList.configure(this.options.taskList)),r}});var Paragraph=Node3.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",mergeAttributes(this.options.HTMLAttributes,r),0]},parseMarkdown:(r,x)=>{const y=r.tokens||[];return y.length===1&&y[0].type==="image"?x.parseChildren([y[0]]):x.createNode("paragraph",void 0,x.parseInline(y))},renderMarkdown:(r,x)=>!r||!Array.isArray(r.content)?"":x.renderChildren(r.content),addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex$1=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pasteRegex=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",mergeAttributes(this.options.HTMLAttributes,r),0]},markdownTokenName:"del",parseMarkdown:(r,x)=>x.applyMark("strike",x.parseInline(r.tokens||[])),renderMarkdown:(r,x)=>`~~${x.renderChildren(r)}~~`,addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),Text=Node3.create({name:"text",group:"inline",parseMarkdown:r=>({type:"text",text:r.text||""}),renderMarkdown:r=>r.text||""}),Underline=Mark.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["u",mergeAttributes(this.options.HTMLAttributes,r),0]},parseMarkdown(r,x){return x.applyMark(this.name||"underline",x.parseInline(r.tokens||[]))},renderMarkdown(r,x){return`++${x.renderChildren(r)}++`},markdownTokenizer:{name:"underline",level:"inline",start(r){return r.indexOf("++")},tokenize(r,x,y){const B=/^(\+\+)([\s\S]+?)(\+\+)/.exec(r);if(!B)return;const R=B[2].trim();return{type:"underline",raw:B[0],text:R,tokens:y.inlineTokens(R)}}},addCommands(){return{setUnderline:()=>({commands:r})=>r.setMark(this.name),toggleUnderline:()=>({commands:r})=>r.toggleMark(this.name),unsetUnderline:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function dropCursor(r={}){return new Plugin({view(x){return new DropCursorView(x,r)}})}class DropCursorView{constructor(x,y){var b;this.editorView=x,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(b=y.width)!==null&&b!==void 0?b:1,this.color=y.color===!1?void 0:y.color||"black",this.class=y.class,this.handlers=["dragover","dragend","drop","dragleave"].map(B=>{let R=I=>{this[B](I)};return x.dom.addEventListener(B,R),{name:B,handler:R}})}destroy(){this.handlers.forEach(({name:x,handler:y})=>this.editorView.dom.removeEventListener(x,y))}update(x,y){this.cursorPos!=null&&y.doc!=x.state.doc&&(this.cursorPos>x.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(x){x!=this.cursorPos&&(this.cursorPos=x,x==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let x=this.editorView.state.doc.resolve(this.cursorPos),y=!x.parent.inlineContent,b,B=this.editorView.dom,R=B.getBoundingClientRect(),I=R.width/B.offsetWidth,O=R.height/B.offsetHeight;if(y){let ne=x.nodeBefore,oe=x.nodeAfter;if(ne||oe){let pe=this.editorView.nodeDOM(this.cursorPos-(ne?ne.nodeSize:0));if(pe){let xe=pe.getBoundingClientRect(),_e=ne?xe.bottom:xe.top;ne&&oe&&(_e=(_e+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let Ue=this.width/2*O;b={left:xe.left,right:xe.right,top:_e-Ue,bottom:_e+Ue}}}}if(!b){let ne=this.editorView.coordsAtPos(this.cursorPos),oe=this.width/2*I;b={left:ne.left-oe,right:ne.left+oe,top:ne.top,bottom:ne.bottom}}let G=this.editorView.dom.offsetParent;this.element||(this.element=G.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",y),this.element.classList.toggle("prosemirror-dropcursor-inline",!y);let q,ee;if(!G||G==document.body&&getComputedStyle(G).position=="static")q=-pageXOffset,ee=-pageYOffset;else{let ne=G.getBoundingClientRect(),oe=ne.width/G.offsetWidth,pe=ne.height/G.offsetHeight;q=ne.left-G.scrollLeft*oe,ee=ne.top-G.scrollTop*pe}this.element.style.left=(b.left-q)/I+"px",this.element.style.top=(b.top-ee)/O+"px",this.element.style.width=(b.right-b.left)/I+"px",this.element.style.height=(b.bottom-b.top)/O+"px"}scheduleRemoval(x){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),x)}dragover(x){if(!this.editorView.editable)return;let y=this.editorView.posAtCoords({left:x.clientX,top:x.clientY}),b=y&&y.inside>=0&&this.editorView.state.doc.nodeAt(y.inside),B=b&&b.type.spec.disableDropCursor,R=typeof B=="function"?B(this.editorView,y,x):B;if(y&&!R){let I=y.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let O=dropPoint(this.editorView.state.doc,I,this.editorView.dragging.slice);O!=null&&(I=O)}this.setCursor(I),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(x){this.editorView.dom.contains(x.relatedTarget)||this.setCursor(null)}}class GapCursor extends Selection{constructor(x){super(x,x)}map(x,y){let b=x.resolve(y.map(this.head));return GapCursor.valid(b)?new GapCursor(b):Selection.near(b)}content(){return Slice.empty}eq(x){return x instanceof GapCursor&&x.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(x,y){if(typeof y.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(x.resolve(y.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(x){let y=x.parent;if(y.isTextblock||!closedBefore(x)||!closedAfter(x))return!1;let b=y.type.spec.allowGapCursor;if(b!=null)return b;let B=y.contentMatchAt(x.index()).defaultType;return B&&B.isTextblock}static findGapCursorFrom(x,y,b=!1){e:for(;;){if(!b&&GapCursor.valid(x))return x;let B=x.pos,R=null;for(let I=x.depth;;I--){let O=x.node(I);if(y>0?x.indexAfter(I)<O.childCount:x.index(I)>0){R=O.child(y>0?x.indexAfter(I):x.index(I)-1);break}else if(I==0)return null;B+=y;let G=x.doc.resolve(B);if(GapCursor.valid(G))return G}for(;;){let I=y>0?R.firstChild:R.lastChild;if(!I){if(R.isAtom&&!R.isText&&!NodeSelection.isSelectable(R)){x=x.doc.resolve(B+R.nodeSize*y),b=!1;continue e}break}R=I,B+=y;let O=x.doc.resolve(B);if(GapCursor.valid(O))return O}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(x){this.pos=x}map(x){return new GapBookmark(x.map(this.pos))}resolve(x){let y=x.resolve(this.pos);return GapCursor.valid(y)?new GapCursor(y):Selection.near(y)}}function needsGap(r){return r.isAtom||r.spec.isolating||r.spec.createGapCursor}function closedBefore(r){for(let x=r.depth;x>=0;x--){let y=r.index(x),b=r.node(x);if(y==0){if(b.type.spec.isolating)return!0;continue}for(let B=b.child(y-1);;B=B.lastChild){if(B.childCount==0&&!B.inlineContent||needsGap(B.type))return!0;if(B.inlineContent)return!1}}return!0}function closedAfter(r){for(let x=r.depth;x>=0;x--){let y=r.indexAfter(x),b=r.node(x);if(y==b.childCount){if(b.type.spec.isolating)return!0;continue}for(let B=b.child(y);;B=B.firstChild){if(B.childCount==0&&!B.inlineContent||needsGap(B.type))return!0;if(B.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(r,x,y){return x.pos==y.pos&&GapCursor.valid(y)?new GapCursor(y):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(r,x){const y=r=="vert"?x>0?"down":"up":x>0?"right":"left";return function(b,B,R){let I=b.selection,O=x>0?I.$to:I.$from,G=I.empty;if(I instanceof TextSelection){if(!R.endOfTextblock(y)||O.depth==0)return!1;G=!1,O=b.doc.resolve(x>0?O.after():O.before())}let q=GapCursor.findGapCursorFrom(O,x,G);return q?(B&&B(b.tr.setSelection(new GapCursor(q))),!0):!1}}function handleClick(r,x,y){if(!r||!r.editable)return!1;let b=r.state.doc.resolve(x);if(!GapCursor.valid(b))return!1;let B=r.posAtCoords({left:y.clientX,top:y.clientY});return B&&B.inside>-1&&NodeSelection.isSelectable(r.state.doc.nodeAt(B.inside))?!1:(r.dispatch(r.state.tr.setSelection(new GapCursor(b))),!0)}function beforeinput(r,x){if(x.inputType!="insertCompositionText"||!(r.state.selection instanceof GapCursor))return!1;let{$from:y}=r.state.selection,b=y.parent.contentMatchAt(y.index()).findWrapping(r.state.schema.nodes.text);if(!b)return!1;let B=Fragment.empty;for(let I=b.length-1;I>=0;I--)B=Fragment.from(b[I].createAndFill(null,B));let R=r.state.tr.replace(y.pos,y.pos,new Slice(B,0,0));return R.setSelection(TextSelection.near(R.doc.resolve(y.pos+1))),r.dispatch(R),!1}function drawGapCursor(r){if(!(r.selection instanceof GapCursor))return null;let x=document.createElement("div");return x.className="ProseMirror-gapcursor",DecorationSet.create(r.doc,[Decoration.widget(r.selection.head,x,{key:"gapcursor"})])}var GOOD_LEAF_SIZE=200,RopeSequence=function r(){};RopeSequence.prototype.append=function r(x){return x.length?(x=RopeSequence.from(x),!this.length&&x||x.length<GOOD_LEAF_SIZE&&this.leafAppend(x)||this.length<GOOD_LEAF_SIZE&&x.leafPrepend(this)||this.appendInner(x)):this};RopeSequence.prototype.prepend=function r(x){return x.length?RopeSequence.from(x).append(this):this};RopeSequence.prototype.appendInner=function r(x){return new Append(this,x)};RopeSequence.prototype.slice=function r(x,y){return x===void 0&&(x=0),y===void 0&&(y=this.length),x>=y?RopeSequence.empty:this.sliceInner(Math.max(0,x),Math.min(this.length,y))};RopeSequence.prototype.get=function r(x){if(!(x<0||x>=this.length))return this.getInner(x)};RopeSequence.prototype.forEach=function r(x,y,b){y===void 0&&(y=0),b===void 0&&(b=this.length),y<=b?this.forEachInner(x,y,b,0):this.forEachInvertedInner(x,y,b,0)};RopeSequence.prototype.map=function r(x,y,b){y===void 0&&(y=0),b===void 0&&(b=this.length);var B=[];return this.forEach(function(R,I){return B.push(x(R,I))},y,b),B};RopeSequence.from=function r(x){return x instanceof RopeSequence?x:x&&x.length?new Leaf(x):RopeSequence.empty};var Leaf=(function(r){function x(b){r.call(this),this.values=b}r&&(x.__proto__=r),x.prototype=Object.create(r&&r.prototype),x.prototype.constructor=x;var y={length:{configurable:!0},depth:{configurable:!0}};return x.prototype.flatten=function(){return this.values},x.prototype.sliceInner=function(B,R){return B==0&&R==this.length?this:new x(this.values.slice(B,R))},x.prototype.getInner=function(B){return this.values[B]},x.prototype.forEachInner=function(B,R,I,O){for(var G=R;G<I;G++)if(B(this.values[G],O+G)===!1)return!1},x.prototype.forEachInvertedInner=function(B,R,I,O){for(var G=R-1;G>=I;G--)if(B(this.values[G],O+G)===!1)return!1},x.prototype.leafAppend=function(B){if(this.length+B.length<=GOOD_LEAF_SIZE)return new x(this.values.concat(B.flatten()))},x.prototype.leafPrepend=function(B){if(this.length+B.length<=GOOD_LEAF_SIZE)return new x(B.flatten().concat(this.values))},y.length.get=function(){return this.values.length},y.depth.get=function(){return 0},Object.defineProperties(x.prototype,y),x})(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=(function(r){function x(y,b){r.call(this),this.left=y,this.right=b,this.length=y.length+b.length,this.depth=Math.max(y.depth,b.depth)+1}return r&&(x.__proto__=r),x.prototype=Object.create(r&&r.prototype),x.prototype.constructor=x,x.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},x.prototype.getInner=function(b){return b<this.left.length?this.left.get(b):this.right.get(b-this.left.length)},x.prototype.forEachInner=function(b,B,R,I){var O=this.left.length;if(B<O&&this.left.forEachInner(b,B,Math.min(R,O),I)===!1||R>O&&this.right.forEachInner(b,Math.max(B-O,0),Math.min(this.length,R)-O,I+O)===!1)return!1},x.prototype.forEachInvertedInner=function(b,B,R,I){var O=this.left.length;if(B>O&&this.right.forEachInvertedInner(b,B-O,Math.max(R,O)-O,I+O)===!1||R<O&&this.left.forEachInvertedInner(b,Math.min(B,O),R,I)===!1)return!1},x.prototype.sliceInner=function(b,B){if(b==0&&B==this.length)return this;var R=this.left.length;return B<=R?this.left.slice(b,B):b>=R?this.right.slice(b-R,B-R):this.left.slice(b,R).append(this.right.slice(0,B-R))},x.prototype.leafAppend=function(b){var B=this.right.leafAppend(b);if(B)return new x(this.left,B)},x.prototype.leafPrepend=function(b){var B=this.left.leafPrepend(b);if(B)return new x(B,this.right)},x.prototype.appendInner=function(b){return this.left.depth>=Math.max(this.right.depth,b.depth)+1?new x(this.left,new x(this.right,b)):new x(this,b)},x})(RopeSequence);const max_empty_items=500;class Branch{constructor(x,y){this.items=x,this.eventCount=y}popEvent(x,y){if(this.eventCount==0)return null;let b=this.items.length;for(;;b--)if(this.items.get(b-1).selection){--b;break}let B,R;y&&(B=this.remapping(b,this.items.length),R=B.maps.length);let I=x.tr,O,G,q=[],ee=[];return this.items.forEach((ne,oe)=>{if(!ne.step){B||(B=this.remapping(b,oe+1),R=B.maps.length),R--,ee.push(ne);return}if(B){ee.push(new Item(ne.map));let pe=ne.step.map(B.slice(R)),xe;pe&&I.maybeStep(pe).doc&&(xe=I.mapping.maps[I.mapping.maps.length-1],q.push(new Item(xe,void 0,void 0,q.length+ee.length))),R--,xe&&B.appendMap(xe,R)}else I.maybeStep(ne.step);if(ne.selection)return O=B?ne.selection.map(B.slice(R)):ne.selection,G=new Branch(this.items.slice(0,b).append(ee.reverse().concat(q)),this.eventCount-1),!1},this.items.length,0),{remaining:G,transform:I,selection:O}}addTransform(x,y,b,B){let R=[],I=this.eventCount,O=this.items,G=!B&&O.length?O.get(O.length-1):null;for(let ee=0;ee<x.steps.length;ee++){let ne=x.steps[ee].invert(x.docs[ee]),oe=new Item(x.mapping.maps[ee],ne,y),pe;(pe=G&&G.merge(oe))&&(oe=pe,ee?R.pop():O=O.slice(0,O.length-1)),R.push(oe),y&&(I++,y=void 0),B||(G=oe)}let q=I-b.depth;return q>DEPTH_OVERFLOW&&(O=cutOffEvents(O,q),I-=q),new Branch(O.append(R),I)}remapping(x,y){let b=new Mapping;return this.items.forEach((B,R)=>{let I=B.mirrorOffset!=null&&R-B.mirrorOffset>=x?b.maps.length-B.mirrorOffset:void 0;b.appendMap(B.map,I)},x,y),b}addMaps(x){return this.eventCount==0?this:new Branch(this.items.append(x.map(y=>new Item(y))),this.eventCount)}rebased(x,y){if(!this.eventCount)return this;let b=[],B=Math.max(0,this.items.length-y),R=x.mapping,I=x.steps.length,O=this.eventCount;this.items.forEach(oe=>{oe.selection&&O--},B);let G=y;this.items.forEach(oe=>{let pe=R.getMirror(--G);if(pe==null)return;I=Math.min(I,pe);let xe=R.maps[pe];if(oe.step){let _e=x.steps[pe].invert(x.docs[pe]),Ue=oe.selection&&oe.selection.map(R.slice(G+1,pe));Ue&&O++,b.push(new Item(xe,_e,Ue))}else b.push(new Item(xe))},B);let q=[];for(let oe=y;oe<I;oe++)q.push(new Item(R.maps[oe]));let ee=this.items.slice(0,B).append(q).append(b),ne=new Branch(ee,O);return ne.emptyItemCount()>max_empty_items&&(ne=ne.compress(this.items.length-b.length)),ne}emptyItemCount(){let x=0;return this.items.forEach(y=>{y.step||x++}),x}compress(x=this.items.length){let y=this.remapping(0,x),b=y.maps.length,B=[],R=0;return this.items.forEach((I,O)=>{if(O>=x)B.push(I),I.selection&&R++;else if(I.step){let G=I.step.map(y.slice(b)),q=G&&G.getMap();if(b--,q&&y.appendMap(q,b),G){let ee=I.selection&&I.selection.map(y.slice(b));ee&&R++;let ne=new Item(q.invert(),G,ee),oe,pe=B.length-1;(oe=B.length&&B[pe].merge(ne))?B[pe]=oe:B.push(ne)}}else I.map&&b--},this.items.length,0),new Branch(RopeSequence.from(B.reverse()),R)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(r,x){let y;return r.forEach((b,B)=>{if(b.selection&&x--==0)return y=B,!1}),r.slice(y)}class Item{constructor(x,y,b,B){this.map=x,this.step=y,this.selection=b,this.mirrorOffset=B}merge(x){if(this.step&&x.step&&!x.selection){let y=x.step.merge(this.step);if(y)return new Item(y.getMap().invert(),y,this.selection)}}}class HistoryState{constructor(x,y,b,B,R){this.done=x,this.undone=y,this.prevRanges=b,this.prevTime=B,this.prevComposition=R}}const DEPTH_OVERFLOW=20;function applyTransaction(r,x,y,b){let B=y.getMeta(historyKey),R;if(B)return B.historyState;y.getMeta(closeHistoryKey)&&(r=new HistoryState(r.done,r.undone,null,0,-1));let I=y.getMeta("appendedTransaction");if(y.steps.length==0)return r;if(I&&I.getMeta(historyKey))return I.getMeta(historyKey).redo?new HistoryState(r.done.addTransform(y,void 0,b,mustPreserveItems(x)),r.undone,rangesFor(y.mapping.maps),r.prevTime,r.prevComposition):new HistoryState(r.done,r.undone.addTransform(y,void 0,b,mustPreserveItems(x)),null,r.prevTime,r.prevComposition);if(y.getMeta("addToHistory")!==!1&&!(I&&I.getMeta("addToHistory")===!1)){let O=y.getMeta("composition"),G=r.prevTime==0||!I&&r.prevComposition!=O&&(r.prevTime<(y.time||0)-b.newGroupDelay||!isAdjacentTo(y,r.prevRanges)),q=I?mapRanges(r.prevRanges,y.mapping):rangesFor(y.mapping.maps);return new HistoryState(r.done.addTransform(y,G?x.selection.getBookmark():void 0,b,mustPreserveItems(x)),Branch.empty,q,y.time,O??r.prevComposition)}else return(R=y.getMeta("rebased"))?new HistoryState(r.done.rebased(y,R),r.undone.rebased(y,R),mapRanges(r.prevRanges,y.mapping),r.prevTime,r.prevComposition):new HistoryState(r.done.addMaps(y.mapping.maps),r.undone.addMaps(y.mapping.maps),mapRanges(r.prevRanges,y.mapping),r.prevTime,r.prevComposition)}function isAdjacentTo(r,x){if(!x)return!1;if(!r.docChanged)return!0;let y=!1;return r.mapping.maps[0].forEach((b,B)=>{for(let R=0;R<x.length;R+=2)b<=x[R+1]&&B>=x[R]&&(y=!0)}),y}function rangesFor(r){let x=[];for(let y=r.length-1;y>=0&&x.length==0;y--)r[y].forEach((b,B,R,I)=>x.push(R,I));return x}function mapRanges(r,x){if(!r)return null;let y=[];for(let b=0;b<r.length;b+=2){let B=x.map(r[b],1),R=x.map(r[b+1],-1);B<=R&&y.push(B,R)}return y}function histTransaction(r,x,y){let b=mustPreserveItems(x),B=historyKey.get(x).spec.config,R=(y?r.undone:r.done).popEvent(x,b);if(!R)return null;let I=R.selection.resolve(R.transform.doc),O=(y?r.done:r.undone).addTransform(R.transform,x.selection.getBookmark(),B,b),G=new HistoryState(y?O:R.remaining,y?R.remaining:O,null,0,-1);return R.transform.setSelection(I).setMeta(historyKey,{redo:y,historyState:G})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(r){let x=r.plugins;if(cachedPreserveItemsPlugins!=x){cachedPreserveItems=!1,cachedPreserveItemsPlugins=x;for(let y=0;y<x.length;y++)if(x[y].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(x,y,b){return applyTransaction(y,b,x,r)}},config:r,props:{handleDOMEvents:{beforeinput(x,y){let b=y.inputType,B=b=="historyUndo"?undo:b=="historyRedo"?redo:null;return!B||!x.editable?!1:(y.preventDefault(),B(x.state,x.dispatch))}}}})}function buildCommand(r,x){return(y,b)=>{let B=historyKey.getState(y);if(!B||(r?B.undone:B.done).eventCount==0)return!1;if(b){let R=histTransaction(B,y,r);R&&b(x?R.scrollIntoView():R)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0);Extension.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:r=>r.length,wordCounter:r=>r.split(" ").filter(x=>x!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=r=>{const x=(r==null?void 0:r.node)||this.editor.state.doc;if(((r==null?void 0:r.mode)||this.options.mode)==="textSize"){const b=x.textBetween(0,x.content.size,void 0," ");return this.options.textCounter(b)}return x.nodeSize},this.storage.words=r=>{const x=(r==null?void 0:r.node)||this.editor.state.doc,y=x.textBetween(0,x.content.size," "," ");return this.options.wordCounter(y)}},addProseMirrorPlugins(){let r=!1;return[new Plugin({key:new PluginKey("characterCount"),appendTransaction:(x,y,b)=>{if(r)return;const B=this.options.limit;if(B==null||B===0){r=!0;return}const R=this.storage.characters({node:b.doc});if(R>B){const I=R-B,O=0,G=I;console.warn(`[CharacterCount] Initial content exceeded limit of ${B} characters. Content was automatically trimmed.`);const q=b.tr.deleteRange(O,G);return r=!0,q}r=!0},filterTransaction:(x,y)=>{const b=this.options.limit;if(!x.docChanged||b===0||b===null||b===void 0)return!0;const B=this.storage.characters({node:y.doc}),R=this.storage.characters({node:x.doc});if(R<=b||B>b&&R>b&&R<=B)return!0;if(B>b&&R>b&&R>B||!x.getMeta("paste"))return!1;const O=x.selection.$head.pos,G=R-b,q=O-G,ee=O;return x.deleteRange(q,ee),!(this.storage.characters({node:x.doc})>b)}})]}});var Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});Extension.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("focus"),props:{decorations:({doc:r,selection:x})=>{const{isEditable:y,isFocused:b}=this.editor,{anchor:B}=x,R=[];if(!y||!b)return DecorationSet.create(r,[]);let I=0;this.options.mode==="deepest"&&r.descendants((G,q)=>{if(G.isText)return;if(!(B>=q&&B<=q+G.nodeSize-1))return!1;I+=1});let O=0;return r.descendants((G,q)=>{if(G.isText||!(B>=q&&B<=q+G.nodeSize-1))return!1;if(O+=1,this.options.mode==="deepest"&&I-O>0||this.options.mode==="shallowest"&&O>1)return this.options.mode==="deepest";R.push(Decoration.node(q,q+G.nodeSize,{class:this.options.className}))}),DecorationSet.create(r,R)}}})]}});var Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema(r){var x;const y={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(x=callOrReturn(getExtensionField(r,"allowGapCursor",y)))!=null?x:null}}});Extension.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("placeholder"),props:{decorations:({doc:r,selection:x})=>{const y=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:b}=x,B=[];if(!y)return null;const R=this.editor.isEmpty;return r.descendants((I,O)=>{const G=b>=O&&b<=O+I.nodeSize,q=!I.isLeaf&&isNodeEmpty(I);if((G||!this.options.showOnlyCurrent)&&q){const ee=[this.options.emptyNodeClass];R&&ee.push(this.options.emptyEditorClass);const ne=Decoration.node(O,O+I.nodeSize,{class:ee.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:I,pos:O,hasAnchor:G}):this.options.placeholder});B.push(ne)}return this.options.includeChildren}),DecorationSet.create(r,B)}}})]}});Extension.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:r,options:x}=this;return[new Plugin({key:new PluginKey("selection"),props:{decorations(y){return y.selection.empty||r.isFocused||!r.isEditable||isNodeSelection(y.selection)||r.view.dragging?null:DecorationSet.create(y.doc,[Decoration.inline(y.selection.from,y.selection.to,{class:x.className})])}}})]}});function nodeEqualsType({types:r,node:x}){return x&&Array.isArray(r)&&r.includes(x.type)||(x==null?void 0:x.type)===r}var TrailingNode=Extension.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var r;const x=new PluginKey(this.name),y=((r=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:r.name)||this.options.node||"paragraph",b=Object.entries(this.editor.schema.nodes).map(([,B])=>B).filter(B=>(this.options.notAfter||[]).concat(y).includes(B.name));return[new Plugin({key:x,appendTransaction:(B,R,I)=>{const{doc:O,tr:G,schema:q}=I,ee=x.getState(I),ne=O.content.size,oe=q.nodes[y];if(ee)return G.insert(ne,oe.create())},state:{init:(B,R)=>{const I=R.tr.doc.lastChild;return!nodeEqualsType({node:I,types:b})},apply:(B,R)=>{if(!B.docChanged||B.getMeta("__uniqueIDTransaction"))return R;const I=B.doc.lastChild;return!nodeEqualsType({node:I,types:b})}}})]}}),UndoRedo=Extension.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:x})=>undo(r,x),redo:()=>({state:r,dispatch:x})=>redo(r,x)}},addProseMirrorPlugins(){return[history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),StarterKit=Extension.create({name:"starterKit",addExtensions(){var r,x,y,b;const B=[];return this.options.bold!==!1&&B.push(Bold.configure(this.options.bold)),this.options.blockquote!==!1&&B.push(Blockquote.configure(this.options.blockquote)),this.options.bulletList!==!1&&B.push(BulletList.configure(this.options.bulletList)),this.options.code!==!1&&B.push(Code.configure(this.options.code)),this.options.codeBlock!==!1&&B.push(CodeBlock.configure(this.options.codeBlock)),this.options.document!==!1&&B.push(Document.configure(this.options.document)),this.options.dropcursor!==!1&&B.push(Dropcursor.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&B.push(Gapcursor.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&B.push(HardBreak.configure(this.options.hardBreak)),this.options.heading!==!1&&B.push(Heading.configure(this.options.heading)),this.options.undoRedo!==!1&&B.push(UndoRedo.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&B.push(HorizontalRule.configure(this.options.horizontalRule)),this.options.italic!==!1&&B.push(Italic.configure(this.options.italic)),this.options.listItem!==!1&&B.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&B.push(ListKeymap.configure((r=this.options)==null?void 0:r.listKeymap)),this.options.link!==!1&&B.push(Link.configure((x=this.options)==null?void 0:x.link)),this.options.orderedList!==!1&&B.push(OrderedList.configure(this.options.orderedList)),this.options.paragraph!==!1&&B.push(Paragraph.configure(this.options.paragraph)),this.options.strike!==!1&&B.push(Strike.configure(this.options.strike)),this.options.text!==!1&&B.push(Text.configure(this.options.text)),this.options.underline!==!1&&B.push(Underline.configure((y=this.options)==null?void 0:y.underline)),this.options.trailingNode!==!1&&B.push(TrailingNode.configure((b=this.options)==null?void 0:b.trailingNode)),B}}),index_default$1=StarterKit,inputRegex=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Image$1=Node3.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:r}){return["img",mergeAttributes(this.options.HTMLAttributes,r)]},parseMarkdown:(r,x)=>x.createNode("image",{src:r.href,title:r.title,alt:r.text}),renderMarkdown:r=>{var x,y,b,B,R,I;const O=(y=(x=r.attrs)==null?void 0:x.src)!=null?y:"",G=(B=(b=r.attrs)==null?void 0:b.alt)!=null?B:"",q=(I=(R=r.attrs)==null?void 0:R.title)!=null?I:"";return q?`![${G}](${O} "${q}")`:`![${G}](${O})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u"||!this.editor.isEditable)return null;const{directions:r,minWidth:x,minHeight:y,alwaysPreserveAspectRatio:b}=this.options.resize;return({node:B,getPos:R,HTMLAttributes:I})=>{const O=document.createElement("img");Object.entries(I).forEach(([ee,ne])=>{if(ne!=null)switch(ee){case"width":case"height":break;default:O.setAttribute(ee,ne);break}}),O.src=I.src;const G=new ResizableNodeView({element:O,node:B,getPos:R,onResize:(ee,ne)=>{O.style.width=`${ee}px`,O.style.height=`${ne}px`},onCommit:(ee,ne)=>{const oe=R();oe!==void 0&&this.editor.chain().setNodeSelection(oe).updateAttributes(this.name,{width:ee,height:ne}).run()},onUpdate:(ee,ne,oe)=>ee.type===B.type,options:{directions:r,min:{width:x,height:y},preserveAspectRatio:b===!0}}),q=G.dom;return q.style.visibility="hidden",q.style.pointerEvents="none",O.onload=()=>{q.style.visibility="",q.style.pointerEvents=""},G}},addCommands(){return{setImage:r=>({commands:x})=>x.insertContent({type:this.name,attrs:r})}},addInputRules(){return[nodeInputRule({find:inputRegex,type:this.type,getAttributes:r=>{const[,,x,y,b]=r;return{src:y,alt:x,title:b}}})]}}),index_default=Image$1;const editorWrapper="_editorWrapper_1qbzy_1",menuBar="_menuBar_1qbzy_15",isActive="_isActive_1qbzy_67",divider="_divider_1qbzy_77",editorContent="_editorContent_1qbzy_91",styles$6={editorWrapper,menuBar,isActive,divider,editorContent};async function uploadEditorImage(r){try{const x=new FormData;return x.append("image",r),(await userInstance.post("/api/upload/image",x,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(x){return console.error("  :",x),alert("    ."),null}}function TiptapMenuBar({editor:r}){const x=reactExports$1.useRef(null);if(!r)return null;const y=async b=>{const B=Array.from(b.target.files);if(B.length!==0){b.target.value="",r.chain().focus();for(const R of B){const I=await uploadEditorImage(R);I&&r.chain().setImage({src:I}).run()}}};return jsxRuntimeExports.jsxs("div",{className:styles$6.menuBar,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleBold().run(),className:r.isActive("bold")?styles$6.isActive:"",children:jsxRuntimeExports.jsx("b",{children:"B"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleItalic().run(),className:r.isActive("italic")?styles$6.isActive:"",children:jsxRuntimeExports.jsx("i",{children:"I"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleStrike().run(),className:r.isActive("strike")?styles$6.isActive:"",children:jsxRuntimeExports.jsx("s",{children:"S"})}),jsxRuntimeExports.jsx("div",{className:styles$6.divider}),[1,2,3].map(b=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>r.chain().focus().toggleHeading({level:b}).run(),className:r.isActive("heading",{level:b})?styles$6.isActive:"",children:["H",b]},b)),jsxRuntimeExports.jsx("div",{className:styles$6.divider}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>x.current.click(),children:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:x,onChange:y,style:{display:"none"},accept:"image/*",multiple:!0})]})}function TiptapEditor({content:r,onChange:x}){const y=reactExports$1.useRef(!0),b=useEditor({extensions:[index_default$1.configure({heading:{levels:[1,2,3]}}),index_default.configure({allowBase64:!0})],content:r||"",onUpdate:({editor:B})=>{y.current||x(B.getHTML())},editorProps:{attributes:{class:styles$6.editorContent}}});return reactExports$1.useEffect(()=>{b&&(y.current&&(y.current=!1),!(!r||b.getHTML()===r)&&b.commands.setContent(r,{emitUpdate:!1}))},[r,b]),jsxRuntimeExports.jsxs("div",{className:styles$6.editorWrapper,children:[jsxRuntimeExports.jsx(TiptapMenuBar,{editor:b}),jsxRuntimeExports.jsx(EditorContent,{editor:b})]})}function GalleryEditForm({data:r,setData:x,onFileChange:y}){var We,Ge;const[b,B]=reactExports$1.useState(""),[R,I]=reactExports$1.useState(!1),[O,G]=reactExports$1.useState(null),q=reactExports$1.useRef(null);reactExports$1.useEffect(()=>{r.gallery_image&&typeof r.gallery_image=="string"&&G(r.gallery_image)},[r.gallery_image]),reactExports$1.useEffect(()=>{if(typeof r.gallery_sns=="string")try{const Xe=JSON.parse(r.gallery_sns);x(Je=>({...Je,gallery_sns:Xe}))}catch(Xe){console.error("SNS   :",Xe),x(Je=>({...Je,gallery_sns:[]}))}},[r.gallery_sns,x]);const ee=(Xe,Je)=>{if(!Je)return;let ut=Je.trim();!ut.startsWith("http://")&&!ut.startsWith("https://")&&(ut=`https://${ut}`,Le(Xe,ut))},ne=Xe=>{Xe.type==="compositionstart"&&I(!0),Xe.type==="compositionend"&&I(!1)},oe=Xe=>{if(!R&&Xe.key==="Enter"&&b.trim()!==""){Xe.preventDefault();const Je=b.trim(),ut=r.gallery_category?r.gallery_category.split(",").map(ft=>ft.trim()):[];if(!ut.includes(Je)){const ft=[...ut,Je].join(", ");x(ct=>({...ct,gallery_category:ft}))}B("")}},pe=Xe=>{const ut=r.gallery_category.split(",").map(ft=>ft.trim()).filter(ft=>ft!==Xe).join(", ");x(ft=>({...ft,gallery_category:ut}))},xe=Xe=>{const{name:Je,value:ut}=Xe.target;x(ft=>({...ft,[Je]:ut}))},_e=["","","","","","",""],Ue=Xe=>{const{value:Je,checked:ut}=Xe.target,ft=r.gallery_closed_day?r.gallery_closed_day.split(",").map(yt=>yt.trim()):[];let ct;ut?ct=[...new Set([...ft,Je])]:ct=ft.filter(yt=>yt!==Je);const pt=_e;ct.sort((yt,lt)=>pt.indexOf(yt)-pt.indexOf(lt)),x(yt=>({...yt,gallery_closed_day:ct.join(", ")}))},Le=(Xe,Je)=>{x(ut=>{let ft=Array.isArray(ut.gallery_sns)?[...ut.gallery_sns]:[];const ct=ft.findIndex(pt=>pt.type===Xe);return ct!==-1?ft[ct].url=Je:ft.push({type:Xe,url:Je}),{...ut,gallery_sns:ft}})},He=Xe=>{x(Je=>({...Je,gallery_description:Xe}))},$e=r.gallery_category?r.gallery_category.split(",").map(Xe=>Xe.trim()):[],Ne=Xe=>{const Je=Xe.target.files[0];if(Je){y(Je);const ut=URL.createObjectURL(Je);G(ut)}Xe.target.value=""},Qe=Xe=>{Xe.stopPropagation(),G(null),y(null),q.current&&(q.current.value="")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$7.card,children:[jsxRuntimeExports.jsx("input",{className:`${styles$7.input} ${styles$7.galleryNameInput}`,name:"gallery_name",value:r.gallery_name||"",onChange:xe,placeholder:" "}),jsxRuntimeExports.jsx("input",{className:`${styles$7.input} ${styles$7.gallerySubNameInput}`,name:"gallery_eng_name",value:r.gallery_eng_name||"",onChange:xe,placeholder:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:q,onChange:Ne,accept:"image/*",style:{display:"none"}}),jsxRuntimeExports.jsx("div",{className:styles$7.imageUploadBox,onClick:()=>q.current.click(),children:O?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:O,alt:"  ",className:styles$7.previewImage}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Qe,className:styles$7.imageDelBtn,title:" ",children:""})]}):jsxRuntimeExports.jsx("p",{className:styles$7.previewImageDesc,children:"+    "})}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.tagInputContainer,children:[$e.map(Xe=>jsxRuntimeExports.jsxs("div",{className:styles$7.tagItem,children:[Xe,jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.removeTagBtn,onClick:()=>pe(Xe),children:""})]},Xe)),jsxRuntimeExports.jsx("input",{type:"text",className:styles$7.tagInputField,value:b,onChange:Xe=>B(Xe.target.value),onKeyDown:oe,onCompositionStart:ne,onCompositionEnd:ne,placeholder:" "})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.timeInputContainer,children:[jsxRuntimeExports.jsx("input",{type:"time",className:styles$7.timeInput,name:"gallery_start_time",value:((We=r.gallery_start_time)==null?void 0:We.slice(0,5))||"",onChange:xe}),jsxRuntimeExports.jsx("span",{children:"~"}),jsxRuntimeExports.jsx("input",{type:"time",className:styles$7.timeInput,name:"gallery_end_time",value:((Ge=r.gallery_end_time)==null?void 0:Ge.slice(0,5))||"",onChange:xe})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("div",{className:styles$7.checkboxGroup,children:_e.map(Xe=>{var Je;return jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"closedDays",value:Xe,checked:(Je=r.gallery_closed_day)==null?void 0:Je.includes(Xe),onChange:Ue})," ",Xe]},Xe)})})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"gallery_phone",value:r.gallery_phone||"",onChange:xe})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"gallery_address",value:r.gallery_address||"",onChange:xe})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,type:"email",name:"gallery_email",value:r.gallery_email||"",onChange:xe})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,type:"url",name:"gallery_homepage",value:r.gallery_homepage||"",onChange:xe})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.card} ${styles$7.snsCard}`,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:"SNS"}),jsxRuntimeExports.jsx("div",{className:styles$7.snsInputGroup,children:[{type:"instagram",placeholder:"Instagram "},{type:"youtube",placeholder:"YouTube "},{type:"default",placeholder:" "}].map(({type:Xe,placeholder:Je})=>{var ft;const ut=Array.isArray(r.gallery_sns)&&((ft=r.gallery_sns.find(ct=>ct.type===Xe))==null?void 0:ft.url)||"";return jsxRuntimeExports.jsx("input",{className:styles$7.input,placeholder:Je,value:ut,onChange:ct=>Le(Xe,ct.target.value),onBlur:()=>ee(Xe,ut)},Xe)})})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.card} ${styles$7.tiptap}`,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx(TiptapEditor,{content:r.gallery_description||"",onChange:He})]})]})}const overlay$2="_overlay_iy4pb_1",modalBox$1="_modalBox_iy4pb_27",header$2="_header_iy4pb_49",closeBtn$1="_closeBtn_iy4pb_73",body$1="_body_iy4pb_87",searchBar$1="_searchBar_iy4pb_97",listContainer$1="_listContainer_iy4pb_151",artistRow$1="_artistRow_iy4pb_163",artistImg$1="_artistImg_iy4pb_181",artistInfo$1="_artistInfo_iy4pb_197",name$1="_name_iy4pb_207",category$1="_category_iy4pb_217",selectBtn="_selectBtn_iy4pb_227",emptyState$1="_emptyState_iy4pb_255",addNewBtn="_addNewBtn_iy4pb_269",addFormContainer="_addFormContainer_iy4pb_305",addTitle="_addTitle_iy4pb_317",imageUploadCircle="_imageUploadCircle_iy4pb_329",placeholder="_placeholder_iy4pb_365",addInput="_addInput_iy4pb_387",formActions="_formActions_iy4pb_415",cancelBtn="_cancelBtn_iy4pb_425",confirmBtn$1="_confirmBtn_iy4pb_427",styles$5={overlay:overlay$2,modalBox:modalBox$1,header:header$2,closeBtn:closeBtn$1,body:body$1,searchBar:searchBar$1,listContainer:listContainer$1,artistRow:artistRow$1,artistImg:artistImg$1,artistInfo:artistInfo$1,name:name$1,category:category$1,selectBtn,emptyState:emptyState$1,addNewBtn,addFormContainer,addTitle,imageUploadCircle,placeholder,addInput,formActions,cancelBtn,confirmBtn:confirmBtn$1};function ArtistSelectModal({onClose:r,onSelect:x}){const[y,b]=reactExports$1.useState(""),[B,R]=reactExports$1.useState([]),[I,O]=reactExports$1.useState(!1),[G,q]=reactExports$1.useState(!1),[ee,ne]=reactExports$1.useState(""),[oe,pe]=reactExports$1.useState(null),[xe,_e]=reactExports$1.useState(null),Ue=reactExports$1.useRef(null),Le=async Qe=>{if(!Qe||Qe.trim()===""){alert(" .");return}try{const We=await userInstance.get("/api/artist",{params:{search:Qe}});R(We.data||[]),q(!0)}catch(We){console.error("  :",We)}},He=Qe=>{Qe.key==="Enter"&&Le(y)},$e=Qe=>{const We=Qe.target.files[0];We&&(pe(We),_e(URL.createObjectURL(We)))},Ne=async()=>{if(!ee.trim()){alert("  .");return}try{const Qe=new FormData;Qe.append("artist_name",ee),oe&&Qe.append("artist_image",oe);const We=await userInstance.post("/api/artists",Qe,{headers:{"Content-Type":"multipart/form-data"}});alert("  .");const Ge=We.data.data||We.data;Ge&&Ge.id?x(Ge):(O(!1),ne(""),pe(null),_e(null),b(ee),Le(ee))}catch(Qe){console.error("  :",Qe),alert("    .")}};return jsxRuntimeExports.jsx("div",{className:styles$5.overlay,onClick:r,children:jsxRuntimeExports.jsxs("div",{className:styles$5.modalBox,onClick:Qe=>Qe.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$5.header,children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("button",{className:styles$5.closeBtn,onClick:r,children:""})]}),jsxRuntimeExports.jsx("div",{className:styles$5.body,children:I?jsxRuntimeExports.jsxs("div",{className:styles$5.addFormContainer,children:[jsxRuntimeExports.jsx("p",{className:styles$5.addTitle,children:"  "}),jsxRuntimeExports.jsxs("div",{className:styles$5.imageUploadCircle,onClick:()=>Ue.current.click(),children:[xe?jsxRuntimeExports.jsx("img",{src:xe,alt:"Preview"}):jsxRuntimeExports.jsxs("div",{className:styles$5.placeholder,children:[jsxRuntimeExports.jsx(FaUser,{}),jsxRuntimeExports.jsx("span",{children:" "})]}),jsxRuntimeExports.jsx("input",{type:"file",ref:Ue,onChange:$e,hidden:!0})]}),jsxRuntimeExports.jsx("input",{className:styles$5.addInput,placeholder:"  ",value:ee,onChange:Qe=>ne(Qe.target.value)}),jsxRuntimeExports.jsxs("div",{className:styles$5.formActions,children:[jsxRuntimeExports.jsx("button",{className:styles$5.cancelBtn,onClick:()=>O(!1),children:""}),jsxRuntimeExports.jsx("button",{className:styles$5.confirmBtn,onClick:Ne,children:" "})]})]}):jsxRuntimeExports.jsxs("div",{className:styles$5.listContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$5.searchBar,children:[jsxRuntimeExports.jsx("input",{value:y,onChange:Qe=>b(Qe.target.value),onKeyDown:He,placeholder:"  ",autoFocus:!0}),jsxRuntimeExports.jsx("button",{onClick:()=>Le(y),children:jsxRuntimeExports.jsx(FaSearch,{})})]}),B.length>0?B.map(Qe=>jsxRuntimeExports.jsxs("div",{className:styles$5.artistRow,children:[jsxRuntimeExports.jsx("img",{src:Qe.artist_image||"/images/default_profile.png",alt:Qe.artist_name,className:styles$5.artistImg,onError:We=>We.target.src="https://via.placeholder.com/50"}),jsxRuntimeExports.jsxs("div",{className:styles$5.artistInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$5.name,children:Qe.artist_name}),jsxRuntimeExports.jsx("span",{className:styles$5.category,children:Qe.artist_category||"Category"})]}),jsxRuntimeExports.jsx("button",{className:styles$5.selectBtn,onClick:()=>x(Qe),children:""})]},Qe.id)):jsxRuntimeExports.jsx("div",{className:styles$5.emptyState,children:G?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{children:['"',y,'"    .']}),jsxRuntimeExports.jsxs("button",{className:styles$5.addNewBtn,onClick:()=>O(!0),children:[jsxRuntimeExports.jsx(FaPlus,{}),"   "]})]}):jsxRuntimeExports.jsx("p",{children:"   ."})})]})})]})})}const overlay$1="_overlay_1kynb_1",modalBox="_modalBox_1kynb_27",header$1="_header_1kynb_51",closeBtn="_closeBtn_1kynb_79",body="_body_1kynb_95",searchBar="_searchBar_1kynb_111",listContainer="_listContainer_1kynb_163",artistRow="_artistRow_1kynb_181",selected="_selected_1kynb_211",checkbox="_checkbox_1kynb_221",artistImg="_artistImg_1kynb_233",artistInfo="_artistInfo_1kynb_249",name="_name_1kynb_263",category="_category_1kynb_275",emptyState="_emptyState_1kynb_285",footer="_footer_1kynb_299",confirmBtn="_confirmBtn_1kynb_313",styles$4={overlay:overlay$1,modalBox,header:header$1,closeBtn,body,searchBar,listContainer,artistRow,selected,checkbox,artistImg,artistInfo,name,category,emptyState,footer,confirmBtn};function ArtworkSelectModal({onClose:r,onSelect:x,existingArtworks:y=[]}){const[b,B]=reactExports$1.useState(""),[R,I]=reactExports$1.useState([]),[O,G]=reactExports$1.useState([]);reactExports$1.useEffect(()=>{y&&y.length>0&&G(y)},[y]);const q=async(pe="")=>{try{const xe=await userInstance.get("/api/arts",{params:{search:pe}}),_e=Array.isArray(xe.data)?xe.data:xe.data.data||[];I(_e)}catch(xe){console.error("  :",xe)}};reactExports$1.useEffect(()=>{q()},[]);const ee=pe=>{pe.key==="Enter"&&q(b)},ne=pe=>{G(xe=>xe.some(Ue=>Ue.id===pe.id)?xe.filter(Ue=>Ue.id!==pe.id):[...xe,pe])},oe=()=>{x(O),r()};return jsxRuntimeExports.jsx("div",{className:styles$4.overlay,onClick:r,children:jsxRuntimeExports.jsxs("div",{className:styles$4.modalBox,onClick:pe=>pe.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$4.header,children:[jsxRuntimeExports.jsx("h3",{children:"  "}),jsxRuntimeExports.jsx("button",{className:styles$4.closeBtn,onClick:r,children:""})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.body,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.searchBar,children:[jsxRuntimeExports.jsx("input",{value:b,onChange:pe=>B(pe.target.value),onKeyDown:ee,placeholder:"   "}),jsxRuntimeExports.jsx("button",{onClick:()=>q(b),children:jsxRuntimeExports.jsx(FaSearch,{})})]}),jsxRuntimeExports.jsx("div",{className:styles$4.listContainer,children:R.length>0?R.map(pe=>{var _e;const xe=O.some(Ue=>Ue.id===pe.id);return jsxRuntimeExports.jsxs("div",{className:`${styles$4.artistRow} ${xe?styles$4.selected:""}`,onClick:()=>ne(pe),children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:xe,readOnly:!0,className:styles$4.checkbox}),jsxRuntimeExports.jsx("img",{src:pe.art_image||pe.image,alt:pe.art_title,className:styles$4.artistImg}),jsxRuntimeExports.jsxs("div",{className:styles$4.artistInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$4.name,children:pe.art_title}),jsxRuntimeExports.jsx("span",{className:styles$4.category,children:((_e=pe.artist)==null?void 0:_e.artist_name)||pe.artist_name||""})]})]},pe.id)}):jsxRuntimeExports.jsx("p",{className:styles$4.emptyState,children:"  ."})}),jsxRuntimeExports.jsx("div",{className:styles$4.footer,children:jsxRuntimeExports.jsxs("button",{className:styles$4.confirmBtn,onClick:oe,children:["  (",O.length,")"]})})]})]})})}const FALLBACK_IMAGE="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 400 400'%3E%3Crect width='400' height='400' fill='%23f3f4f6'/%3E%3Cpath d='M140 240 L180 200 L210 230 L250 190 L320 260 H80 Z' fill='%23d1d5db'/%3E%3Ccircle cx='140' cy='140' r='30' fill='%23d1d5db'/%3E%3C/svg%3E",BASE_URL="https://artly.soundgram.co.kr";function Img({src:r,alt:x,className:y,...b}){const[B,R]=reactExports$1.useState("");reactExports$1.useEffect(()=>{if(!r){R(FALLBACK_IMAGE);return}if(r.startsWith("http"))R(r);else{const O=r.startsWith("/")?r:`/${r}`;R(`${BASE_URL}${O}`)}},[r]);const I=O=>{O.target.src!==FALLBACK_IMAGE&&(O.target.src=FALLBACK_IMAGE)};return jsxRuntimeExports.jsx("img",{src:B,alt:x,className:y,onError:I,style:{objectFit:"cover"},...b})}const getArtistId=r=>r.id||r.artist_id,getArtistImage=r=>r.artist_image||r.profile_img,getArtistName=r=>{var x;return r.artist_name||r.name||((x=r.artist)==null?void 0:x.artist_name)||" "},getArtImage=r=>r.image_url||r.art_image||"/images/no-image.png",getArtTitle=r=>r.title||r.art_title||" ",getArtistNameForArt=r=>{var x;return r.artist_name||((x=r.artist)==null?void 0:x.artist_name)||" "};function ExhibitionEditForm({data:r,setData:x,onFileChange:y}){var Ne,Qe;const[b,B]=reactExports$1.useState(null),R=reactExports$1.useRef(null),[I,O]=reactExports$1.useState(!1),[G,q]=reactExports$1.useState(!1);reactExports$1.useEffect(()=>{r.exhibition_poster&&typeof r.exhibition_poster=="string"&&B(r.exhibition_poster)},[r.exhibition_poster]);const ee=We=>{const{name:Ge,value:Xe}=We.target;x(Je=>({...Je,[Ge]:Xe}))},ne=We=>{x(Ge=>({...Ge,exhibition_description:We}))},oe=We=>{const Ge=We.target.files[0];if(Ge){y(Ge);const Xe=URL.createObjectURL(Ge);B(Xe)}We.target.value=""},pe=We=>{We.stopPropagation(),B(null),y(null),R.current&&(R.current.value="")},xe=We=>{const Ge=r.artists||[];if(Ge.some(Je=>getArtistId(Je)===getArtistId(We))){alert("  .");return}const Xe={id:getArtistId(We),name:getArtistName(We),artist_image:getArtistImage(We)};x(Je=>({...Je,artists:[...Ge,Xe]})),O(!1)},_e=We=>{const Ge=(r.artists||[]).filter(Xe=>getArtistId(Xe)!==We);x(Xe=>({...Xe,artists:Ge}))},Ue=We=>{x(Ge=>({...Ge,artworks:We}))},Le=We=>{const Ge=(r.artworks||[]).filter(Xe=>(Xe.id||Xe.art_id)!==We);x(Xe=>({...Xe,artworks:Ge}))},He=["","","","","","",""],$e=We=>{const{value:Ge,checked:Xe}=We.target,Je=r.exhibition_closed_day?r.exhibition_closed_day.split(",").map(ct=>ct.trim()):[];let ut;Xe?ut=[...new Set([...Je,Ge])]:ut=Je.filter(ct=>ct!==Ge);const ft=He;ut.sort((ct,pt)=>ft.indexOf(ct)-ft.indexOf(pt)),x(ct=>({...ct,exhibition_closed_day:ut.join(", ")}))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$7.card,children:[jsxRuntimeExports.jsx("input",{className:`${styles$7.input} ${styles$7.galleryNameInput}`,name:"exhibition_title",value:r.exhibition_title||"",onChange:ee,placeholder:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:R,onChange:oe,accept:"image/*",style:{display:"none"}}),jsxRuntimeExports.jsx("div",{className:styles$7.imageUploadBox,onClick:()=>R.current.click(),children:b?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:b,alt:"  ",className:styles$7.previewImage}),jsxRuntimeExports.jsx("button",{type:"button",onClick:pe,className:styles$7.imageDelBtn,title:" ",children:""})]}):jsxRuntimeExports.jsx("p",{className:styles$7.previewImageDesc,children:"+    "})}),jsxRuntimeExports.jsxs("div",{className:styles$7.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.timeInputContainer,children:[jsxRuntimeExports.jsx("input",{type:"date",className:styles$7.timeInput,name:"exhibition_start_date",value:r.exhibition_start_date||"",onChange:ee}),jsxRuntimeExports.jsx("span",{children:"~"}),jsxRuntimeExports.jsx("input",{type:"date",className:styles$7.timeInput,name:"exhibition_end_date",value:r.exhibition_end_date||"",onChange:ee})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.timeInputContainer,children:[jsxRuntimeExports.jsx("input",{type:"time",className:styles$7.timeInput,name:"exhibition_start_time",value:((Ne=r.exhibition_start_time)==null?void 0:Ne.slice(0,5))||"",onChange:ee}),jsxRuntimeExports.jsx("span",{children:"~"}),jsxRuntimeExports.jsx("input",{type:"time",className:styles$7.timeInput,name:"exhibition_end_time",value:((Qe=r.exhibition_end_time)==null?void 0:Qe.slice(0,5))||"",onChange:ee})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("div",{className:styles$7.checkboxGroup,children:He.map(We=>{var Ge;return jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"closedDays",value:We,checked:(Ge=r.exhibition_closed_day)==null?void 0:Ge.includes(We),onChange:$e})," ",We]},We)})})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"exhibition_organization",value:r.exhibition_organization||"",onChange:ee})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"exhibition_location",value:r.exhibition_location||"",onChange:ee})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"exhibition_price",value:r.exhibition_price||"",onChange:ee})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"exhibition_phone",value:r.exhibition_phone||"",onChange:ee})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,type:"url",name:"exhibition_homepage",value:r.exhibition_homepage||"",onChange:ee})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.inputGroup} ${styles$7.fullWidth}`,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.addHeaderContainer,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.addBtn,onClick:()=>O(!0),children:"+  /"})]}),jsxRuntimeExports.jsx("div",{className:styles$7.artistListContainer,children:jsxRuntimeExports.jsx("div",{className:styles$7.artistList,children:r.artists.length===0?jsxRuntimeExports.jsx("p",{className:styles$7.emptyText,children:"  "}):r.artists.map((We,Ge)=>{const Xe=getArtistId(We),Je=getArtistName(We);return jsxRuntimeExports.jsxs("div",{className:styles$7.artworkCard,children:[jsxRuntimeExports.jsx(Img,{src:getArtistImage(We),alt:"thumb",className:styles$7.artistThumb}),jsxRuntimeExports.jsx("span",{className:styles$7.artistName,children:Je}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.removeBtn,onClick:()=>_e(Xe),title:"",children:""})]},Xe||Ge)})})})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.inputGroup} ${styles$7.artworkSection}`,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.addHeaderContainer,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.addBtn,onClick:()=>q(!0),children:"+  "})]}),jsxRuntimeExports.jsx("div",{className:styles$7.artistListContainer,children:jsxRuntimeExports.jsx("div",{className:styles$7.artworkGrid,children:r.artworks.length===0?jsxRuntimeExports.jsx("p",{className:styles$7.emptyText,children:"  "}):r.artworks.map(We=>jsxRuntimeExports.jsxs("div",{className:styles$7.artworkCard,children:[jsxRuntimeExports.jsx(Img,{src:getArtImage(We),alt:"thumb",className:styles$7.artworkThumb}),jsxRuntimeExports.jsxs("div",{className:styles$7.artworkMeta,children:[jsxRuntimeExports.jsx("div",{className:styles$7.artworkTitle,children:getArtTitle(We)}),jsxRuntimeExports.jsx("div",{className:styles$7.artworkArtist,children:getArtistNameForArt(We)})]}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.removeBtn,onClick:()=>Le(We.id),title:"",children:""})]},We.id))})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.card} ${styles$7.tiptap}`,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx(TiptapEditor,{content:r.exhibition_description||"",onChange:ne})]}),I&&jsxRuntimeExports.jsx(ArtistSelectModal,{onClose:()=>O(!1),onSelect:xe}),G&&jsxRuntimeExports.jsx(ArtworkSelectModal,{onClose:()=>q(!1),onSelect:Ue,existingArtworks:r.artworks||[]})]})}function ArtworkEditForm({data:r,setData:x,onFileChange:y}){const[b,B]=reactExports$1.useState(null),[R,I]=reactExports$1.useState(!1),O=reactExports$1.useRef(null),G={exhibited:"",scheduled:"",ended:"",default:""},q=xe=>{const _e=xe.target.files[0];_e&&(y(_e),B(URL.createObjectURL(_e))),xe.target.value=""},ee=xe=>{xe.stopPropagation(),B(null),y(null),O.current&&(O.current.value="")},ne=xe=>{const{name:_e,value:Ue}=xe.target;x(Le=>({...Le,[_e]:Ue}))},oe=xe=>{x(_e=>({..._e,art_description:xe}))},pe=xe=>{x(_e=>({..._e,artist_name:xe.artist_name,artist_id:xe.id})),I(!1)};return reactExports$1.useEffect(()=>{r.art_image&&typeof r.art_image=="string"&&B(r.art_image)},[r.art_image]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$7.card,children:[jsxRuntimeExports.jsx("input",{className:`${styles$7.input} ${styles$7.galleryNameInput}`,name:"art_title",value:r.art_title||"",onChange:ne,placeholder:" "}),jsxRuntimeExports.jsx("input",{type:"file",ref:O,onChange:q,accept:"image/*",style:{display:"none"}}),jsxRuntimeExports.jsx("div",{className:styles$7.imageUploadBox,onClick:()=>O.current.click(),children:b?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:b,alt:" ",className:styles$7.previewImage}),jsxRuntimeExports.jsx("button",{className:styles$7.imageDelBtn,type:"button",onClick:ee,children:""})]}):jsxRuntimeExports.jsx("p",{className:styles$7.previewImageDesc,children:"+   "})}),jsxRuntimeExports.jsxs("div",{className:styles$7.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsxs("div",{className:styles$7.artistSelectRow,children:[jsxRuntimeExports.jsx("input",{className:styles$7.input,value:r.artist_name||"",placeholder:" ",readOnly:!0,onClick:()=>I(!0),style:{cursor:"pointer"}}),jsxRuntimeExports.jsx("button",{type:"button",className:styles$7.selectButton,onClick:()=>I(!0),children:" "})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{type:"number",className:styles$7.input,name:"art_year",value:r.art_year||"",onChange:ne,placeholder:": 2025"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"art_material",value:r.art_material||"",onChange:ne,placeholder:": Oil on canvas"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:""}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"art_size",value:r.art_size||"",onChange:ne,placeholder:": 100x150cm"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx("input",{className:styles$7.input,name:"gallery_phone",value:r.gallery_phone||"",onChange:ne,placeholder:": 02-1234-5678"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.inputGroup,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:"  "}),jsxRuntimeExports.jsx("div",{className:styles$7.exhibitionListWrapper,children:r.exhibitions&&r.exhibitions.length>0?r.exhibitions.map(xe=>{const _e=xe.exhibition_status||"default";return jsxRuntimeExports.jsxs("div",{className:styles$7.exhibitionItem,children:[jsxRuntimeExports.jsx("span",{className:styles$7.exhibitionTitle,children:xe.exhibition_title}),jsxRuntimeExports.jsx("span",{className:`${styles$7.statusBadge} ${styles$7[_e]}`,children:G[_e]||_e})]},xe.id)}):jsxRuntimeExports.jsx("span",{className:styles$7.emptyText,children:"    ."})}),jsxRuntimeExports.jsx("p",{className:styles$7.helperText,children:"      ' '  ."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.card} ${styles$7.tiptap}`,children:[jsxRuntimeExports.jsx("label",{className:styles$7.label,children:" "}),jsxRuntimeExports.jsx(TiptapEditor,{content:r.art_description||"",onChange:oe})]}),jsxRuntimeExports.jsx("div",{className:styles$7.card,children:jsxRuntimeExports.jsxs("div",{className:styles$7.inputDocent,children:[jsxRuntimeExports.jsx("label",{className:styles$7.docent,children:"AI  "}),jsxRuntimeExports.jsx("textarea",{className:styles$7.textarea,name:"art_docent",value:r.art_docent||"",onChange:ne,placeholder:"AI    ."})]})}),R&&jsxRuntimeExports.jsx(ArtistSelectModal,{onClose:()=>I(!1),onSelect:pe})]})}const EDIT_CONFIG={galleries:{title:" /",apiUrl:r=>r==="new"?"/api/galleries":`/api/galleries/${r}`,formImageField:"gallery_image_file"},exhibitions:{title:" /",apiUrl:r=>r==="new"?"/api/exhibitions":`/api/exhibitions/${r}`,formImageField:"exhibition_poster_file"},artworks:{title:" /",apiUrl:r=>r==="new"?"/api/arts":`/api/arts/${r}`,formImageField:"image"}},FORM_COMPONENTS={galleries:GalleryEditForm,exhibitions:ExhibitionEditForm,artworks:ArtworkEditForm};function ConsoleEdit({type:r}){const{id:x}=useParams(),y=useNavigate(),b=x==="new",B=EDIT_CONFIG[r],R=FORM_COMPONENTS[r],{data:I,setData:O,isLoading:G}=useEditData(r,x,b,B),{handleSave:q,isSaving:ee,setSelectedImageFile:ne}=useEditSave(r,x,b,B,I,y),oe=()=>{window.confirm(" ?")&&(b?y("/console/main",{state:{activeTab:r==="galleries"?"":r==="exhibitions"?"":""}}):y(`/console/${r}/${x}`))},pe=xe=>ne(xe);return G||!I?jsxRuntimeExports.jsx("div",{children:"  ..."}):jsxRuntimeExports.jsxs("div",{className:styles$8.layout,children:[jsxRuntimeExports.jsxs("header",{className:styles$8.header,children:[jsxRuntimeExports.jsx("button",{className:styles$8.backButton,onClick:oe,children:"<"}),jsxRuntimeExports.jsx("h1",{className:styles$8.title,children:B.title})]}),jsxRuntimeExports.jsx("main",{className:styles$8.formContainer,children:R&&jsxRuntimeExports.jsx(R,{data:I,setData:O,onFileChange:pe})}),jsxRuntimeExports.jsxs("div",{className:styles$8.bottomButtonContainer,children:[jsxRuntimeExports.jsx("button",{className:`${styles$8.button} ${styles$8.saveButton}`,onClick:q,disabled:ee,children:ee?" ...":""}),jsxRuntimeExports.jsx("button",{className:`${styles$8.button} ${styles$8.cancelButton}`,onClick:oe,disabled:ee,children:""})]})]})}const layout$1="_layout_19w3s_1",backButton="_backButton_19w3s_17",styles$3={layout:layout$1,backButton},container$1="_container_awgxr_1",title$1="_title_awgxr_17",contentBox="_contentBox_awgxr_29",inputSection="_inputSection_awgxr_53",label="_label_awgxr_65",textarea="_textarea_awgxr_75",generateButton="_generateButton_awgxr_95",resultSection="_resultSection_awgxr_123",generatedImage="_generatedImage_awgxr_141",downloadButton="_downloadButton_awgxr_157",imagePlaceholder="_imagePlaceholder_awgxr_187",styles$2={container:container$1,title:title$1,contentBox,inputSection,label,textarea,generateButton,resultSection,generatedImage,downloadButton,imagePlaceholder};function ImageGenerator(){const[r,x]=reactExports$1.useState(""),[y,b]=reactExports$1.useState(null),[B,R]=reactExports$1.useState(!1),I=async()=>{try{const O=await instance.post("/api/console/images/generate",{text:r});console.log(O)}catch(O){console.error(O)}};return jsxRuntimeExports.jsxs("div",{className:styles$2.container,children:[jsxRuntimeExports.jsx("h1",{className:styles$2.title,children:"   "}),jsxRuntimeExports.jsxs("div",{className:styles$2.contentBox,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.inputSection,children:[jsxRuntimeExports.jsx("label",{className:styles$2.label,children:"  "}),jsxRuntimeExports.jsx("textarea",{value:r,onChange:O=>x(O.target.value),placeholder:":        ",className:styles$2.textarea}),jsxRuntimeExports.jsx("button",{onClick:I,className:styles$2.generateButton,disabled:B,children:B?"  ...":" "})]}),jsxRuntimeExports.jsx("div",{className:styles$2.resultSection,children:y?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:y,alt:" ",className:styles$2.generatedImage}),jsxRuntimeExports.jsx("button",{className:styles$2.downloadButton,onClick:()=>{const O=document.createElement("a");O.href=y,O.download="generated-image.png",document.body.appendChild(O),O.click(),document.body.removeChild(O)},children:" "})]}):jsxRuntimeExports.jsx("div",{className:styles$2.imagePlaceholder,children:B?"  ...":"   ."})})]})]})}function Poster(){const r=useNavigate(),x=()=>{r(-1)};return jsxRuntimeExports.jsxs("div",{className:styles$3.layout,children:[jsxRuntimeExports.jsx(ImageGenerator,{}),jsxRuntimeExports.jsx("button",{className:styles$3.backButton,onClick:x,children:" "})]})}const layout="_layout_17mbt_1",notificationList="_notificationList_17mbt_45",notificationItem="_notificationItem_17mbt_61",iconContainer="_iconContainer_17mbt_91",contentArea="_contentArea_17mbt_113",header="_header_17mbt_121",title="_title_17mbt_135",timestamp="_timestamp_17mbt_149",content="_content_17mbt_113",errorText="_errorText_17mbt_177",styles$1={layout,notificationList,notificationItem,iconContainer,contentArea,header,title,timestamp,content,errorText},getIcon=()=>jsxRuntimeExports.jsx(IoMegaphoneOutline,{size:20,className:styles$1.iconNotice}),formatTimestamp=r=>{const x=new Date(r),b=new Date().getTime()-x.getTime(),B=Math.floor(b/(1e3*60)),R=Math.floor(b/(1e3*60*60)),I=Math.floor(b/(1e3*60*60*24));return B<1?" ":B<60?`${B} `:R<24?`${R} `:I<7?`${I} `:x.toLocaleDateString("ko-KR")};function Notification$1(){const{user:r,isLoading:x}=useUser(),[y,b]=reactExports$1.useState([]),[B,R]=reactExports$1.useState(!0),[I,O]=reactExports$1.useState(null),G=reactExports$1.useCallback(async q=>{if(!q){O("      ."),R(!1);return}try{R(!0),O(null);const ne=(await userInstance.get("/api/notification/user")).data.data;if(!Array.isArray(ne)){b([]);return}const oe=ne.map(pe=>({id:pe.notification_id,title:pe.title,content:pe.body,timestamp:pe.create_dtm,read:pe.is_checked==="1"})).sort((pe,xe)=>new Date(xe.timestamp).getTime()-new Date(pe.timestamp).getTime());b(oe)}catch(ee){O(`    . (${ee.message})`)}finally{R(!1)}},[]);return reactExports$1.useEffect(()=>{!x&&(r!=null&&r.id)?G(r.id):!x&&!r&&R(!1)},[x,r==null?void 0:r.id,G]),reactExports$1.useEffect(()=>{if(!(r!=null&&r.id))return;const q=onForegroundMessage(()=>{console.log("      "),G(r.id)}),ee=ne=>{var oe;((oe=ne.data)==null?void 0:oe.type)==="NEW_NOTIFICATION"&&(console.log("      ",ne.data),G(r.id))};return"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("message",ee),navigator.serviceWorker.ready.then(()=>{navigator.serviceWorker.addEventListener("message",ee)})),()=>{q(),"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",ee)}},[r==null?void 0:r.id,G]),B?jsxRuntimeExports.jsx("div",{className:styles$1.layout,children:"  ..."}):I?jsxRuntimeExports.jsx("div",{className:styles$1.layout,children:jsxRuntimeExports.jsx("div",{className:styles$1.errorText,children:I})}):y.length===0?jsxRuntimeExports.jsx("div",{className:styles$1.layout,children:jsxRuntimeExports.jsx("h1",{children:" ."})}):jsxRuntimeExports.jsx("div",{className:styles$1.layout,children:jsxRuntimeExports.jsx("div",{className:styles$1.notificationList,children:y.map(q=>jsxRuntimeExports.jsxs("div",{className:`${styles$1.notificationItem} ${q.read?styles$1.readItem:""}`,onClick:()=>{q.read||handleNotificationClick(q.id)},children:[jsxRuntimeExports.jsx("div",{className:styles$1.iconContainer,children:getIcon()}),jsxRuntimeExports.jsxs("div",{className:styles$1.contentArea,children:[jsxRuntimeExports.jsxs("div",{className:styles$1.header,children:[jsxRuntimeExports.jsx("span",{className:styles$1.title,children:q.title}),jsxRuntimeExports.jsx("span",{className:styles$1.timestamp,children:formatTimestamp(q.timestamp)})]}),jsxRuntimeExports.jsx("p",{className:styles$1.content,children:q.content})]})]},q.id))})})}var pageFlip_browser$1={exports:{}},pageFlip_browser=pageFlip_browser$1.exports,hasRequiredPageFlip_browser;function requirePageFlip_browser(){return hasRequiredPageFlip_browser||(hasRequiredPageFlip_browser=1,(function(r,x){(function(y,b){b(x)})(pageFlip_browser,(function(y){class b{constructor(Ne,Qe){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=Qe,this.nowDrawingDensity=this.createdDensity,this.render=Ne}setDensity(Ne){this.createdDensity=Ne,this.nowDrawingDensity=Ne}setDrawingDensity(Ne){this.nowDrawingDensity=Ne}setPosition(Ne){this.state.position=Ne}setAngle(Ne){this.state.angle=Ne}setArea(Ne){this.state.area=Ne}setHardDrawingAngle(Ne){this.state.hardDrawingAngle=Ne}setHardAngle(Ne){this.state.hardAngle=Ne,this.state.hardDrawingAngle=Ne}setOrientation(Ne){this.orientation=Ne}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class B extends b{constructor(Ne,Qe,We){super(Ne,We),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=Qe}draw(Ne){const Qe=this.render.getContext(),We=this.render.convertToGlobal(this.state.position),Ge=this.render.getRect().pageWidth,Xe=this.render.getRect().height;Qe.save(),Qe.translate(We.x,We.y),Qe.beginPath();for(let Je of this.state.area)Je!==null&&(Je=this.render.convertToGlobal(Je),Qe.lineTo(Je.x-We.x,Je.y-We.y));Qe.rotate(this.state.angle),Qe.clip(),this.isLoad?Qe.drawImage(this.image,0,0,Ge,Xe):this.drawLoader(Qe,{x:0,y:0},Ge,Xe),Qe.restore()}simpleDraw(Ne){const Qe=this.render.getRect(),We=this.render.getContext(),Ge=Qe.pageWidth,Xe=Qe.height,Je=Ne===1?Qe.left+Qe.pageWidth:Qe.left,ut=Qe.top;this.isLoad?We.drawImage(this.image,Je,ut,Ge,Xe):this.drawLoader(We,{x:Je,y:ut},Ge,Xe)}drawLoader(Ne,Qe,We,Ge){Ne.beginPath(),Ne.strokeStyle="rgb(200, 200, 200)",Ne.fillStyle="rgb(255, 255, 255)",Ne.lineWidth=1,Ne.rect(Qe.x+1,Qe.y+1,We-1,Ge-1),Ne.stroke(),Ne.fill();const Xe={x:Qe.x+We/2,y:Qe.y+Ge/2};Ne.beginPath(),Ne.lineWidth=10,Ne.arc(Xe.x,Xe.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),Ne.stroke(),Ne.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class R{constructor(Ne,Qe){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=Qe,this.app=Ne,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let Qe=0;Qe<this.pages.length;Qe++)this.portraitSpread.push([Qe]);let Ne=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([Ne]),Ne++);for(let Qe=Ne;Qe<this.pages.length;Qe+=2)Qe<this.pages.length-1?this.landscapeSpread.push([Qe,Qe+1]):(this.landscapeSpread.push([Qe]),this.pages[Qe].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(Ne){const Qe=this.getSpread();for(let We=0;We<Qe.length;We++)if(Ne===Qe[We][0]||Ne===Qe[We][1])return We;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(Ne){if(Ne>=0&&Ne<this.pages.length)return this.pages[Ne];throw new Error("Invalid page number")}nextBy(Ne){const Qe=this.pages.indexOf(Ne);return Qe<this.pages.length-1?this.pages[Qe+1]:null}prevBy(Ne){const Qe=this.pages.indexOf(Ne);return Qe>0?this.pages[Qe-1]:null}getFlippingPage(Ne){const Qe=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return Ne===0?this.pages[Qe].newTemporaryCopy():this.pages[Qe-1];{const We=Ne===0?this.getSpread()[Qe+1]:this.getSpread()[Qe-1];return We.length===1||Ne===0?this.pages[We[0]]:this.pages[We[1]]}}getBottomPage(Ne){const Qe=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return Ne===0?this.pages[Qe+1]:this.pages[Qe-1];{const We=Ne===0?this.getSpread()[Qe+1]:this.getSpread()[Qe-1];return We.length===1?this.pages[We[0]]:Ne===0?this.pages[We[1]]:this.pages[We[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(Ne=null){if(Ne===null&&(Ne=this.currentPageIndex),Ne<0||Ne>=this.pages.length)return;const Qe=this.getSpreadIndexByPage(Ne);Qe!==null&&(this.currentSpreadIndex=Qe,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(Ne){if(!(Ne>=0&&Ne<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=Ne}showSpread(){const Ne=this.getSpread()[this.currentSpreadIndex];Ne.length===2?(this.render.setLeftPage(this.pages[Ne[0]]),this.render.setRightPage(this.pages[Ne[1]])):this.render.getOrientation()==="landscape"&&Ne[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[Ne[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[Ne[0]])),this.currentPageIndex=Ne[0],this.app.updatePageIndex(this.currentPageIndex)}}class I extends R{constructor(Ne,Qe,We){super(Ne,Qe),this.imagesHref=We}load(){for(const Ne of this.imagesHref){const Qe=new B(this.render,Ne,"soft");Qe.load(),this.pages.push(Qe)}this.createSpread()}}class O{static GetDistanceBetweenTwoPoint(Ne,Qe){return Ne===null||Qe===null?1/0:Math.sqrt(Math.pow(Qe.x-Ne.x,2)+Math.pow(Qe.y-Ne.y,2))}static GetSegmentLength(Ne){return O.GetDistanceBetweenTwoPoint(Ne[0],Ne[1])}static GetAngleBetweenTwoLine(Ne,Qe){const We=Ne[0].y-Ne[1].y,Ge=Qe[0].y-Qe[1].y,Xe=Ne[1].x-Ne[0].x,Je=Qe[1].x-Qe[0].x;return Math.acos((We*Ge+Xe*Je)/(Math.sqrt(We*We+Xe*Xe)*Math.sqrt(Ge*Ge+Je*Je)))}static PointInRect(Ne,Qe){return Qe===null?null:Qe.x>=Ne.left&&Qe.x<=Ne.width+Ne.left&&Qe.y>=Ne.top&&Qe.y<=Ne.top+Ne.height?Qe:null}static GetRotatedPoint(Ne,Qe,We){return{x:Ne.x*Math.cos(We)+Ne.y*Math.sin(We)+Qe.x,y:Ne.y*Math.cos(We)-Ne.x*Math.sin(We)+Qe.y}}static LimitPointToCircle(Ne,Qe,We){if(O.GetDistanceBetweenTwoPoint(Ne,We)<=Qe)return We;const Ge=Ne.x,Xe=Ne.y,Je=We.x,ut=We.y;let ft=Math.sqrt(Math.pow(Qe,2)*Math.pow(Ge-Je,2)/(Math.pow(Ge-Je,2)+Math.pow(Xe-ut,2)))+Ge;We.x<0&&(ft*=-1);let ct=(ft-Ge)*(Xe-ut)/(Ge-Je)+Xe;return Ge-Je+Xe===0&&(ct=Qe),{x:ft,y:ct}}static GetIntersectBetweenTwoSegment(Ne,Qe,We){return O.PointInRect(Ne,O.GetIntersectBeetwenTwoLine(Qe,We))}static GetIntersectBeetwenTwoLine(Ne,Qe){const We=Ne[0].y-Ne[1].y,Ge=Qe[0].y-Qe[1].y,Xe=Ne[1].x-Ne[0].x,Je=Qe[1].x-Qe[0].x,ut=Ne[0].x*Ne[1].y-Ne[1].x*Ne[0].y,ft=Qe[0].x*Qe[1].y-Qe[1].x*Qe[0].y,ct=We*ft-Ge*ut,pt=Xe*ft-Je*ut,yt=-(ut*Je-ft*Xe)/(We*Je-Ge*Xe),lt=-(We*ft-Ge*ut)/(We*Je-Ge*Xe);if(isFinite(yt)&&isFinite(lt))return{x:yt,y:lt};if(Math.abs(ct-pt)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(Ne,Qe){const We=Math.abs(Ne.x-Qe.x),Ge=Math.abs(Ne.y-Qe.y),Xe=Math.max(We,Ge),Je=[Ne];function ut(ft,ct,pt,yt,lt){return ct>ft?ft+lt*(pt/yt):ct<ft?ft-lt*(pt/yt):ft}for(let ft=1;ft<=Xe;ft+=1)Je.push({x:ut(Ne.x,Qe.x,We,Xe,ft),y:ut(Ne.y,Qe.y,Ge,Xe,ft)});return Je}}class G extends b{constructor(Ne,Qe,We){super(Ne,We),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=Qe,this.element.classList.add("stf__item"),this.element.classList.add("--"+We)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new G(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(Ne){const Qe=Ne||this.nowDrawingDensity,We=this.render.convertToGlobal(this.state.position),Ge=this.render.getRect().pageWidth,Xe=this.render.getRect().height;this.element.classList.remove("--simple");const Je=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${Ge}px;
            height: ${Xe}px;
        `;Qe==="hard"?this.drawHard(Je):this.drawSoft(We,Je)}drawHard(Ne=""){const Qe=this.render.getRect().left+this.render.getRect().width/2,We=this.state.hardDrawingAngle,Ge=Ne+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${We}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${Qe}px, 0, 0) rotateY(${We}deg);`);this.element.style.cssText=Ge}drawSoft(Ne,Qe=""){let We="polygon( ";for(const Xe of this.state.area)if(Xe!==null){let Je=this.render.getDirection()===1?{x:-Xe.x+this.state.position.x,y:Xe.y-this.state.position.y}:{x:Xe.x-this.state.position.x,y:Xe.y-this.state.position.y};Je=O.GetRotatedPoint(Je,{x:0,y:0},this.state.angle),We+=Je.x+"px "+Je.y+"px, "}We=We.slice(0,-2),We+=")";const Ge=Qe+`transform-origin: 0 0; clip-path: ${We}; -webkit-clip-path: ${We};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${Ne.x}px, ${Ne.y}px);`:`transform: translate3d(${Ne.x}px, ${Ne.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=Ge}simpleDraw(Ne){const Qe=this.render.getRect(),We=Qe.pageWidth,Ge=Qe.height,Xe=Ne===1?Qe.left+Qe.pageWidth:Qe.left,Je=Qe.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${Ge}px; 
            left: ${Xe}px; 
            top: ${Je}px; 
            width: ${We}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(Ne){super.setOrientation(Ne),this.element.classList.remove("--left","--right"),this.element.classList.add(Ne===1?"--right":"--left")}setDrawingDensity(Ne){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+Ne),super.setDrawingDensity(Ne)}}class q extends R{constructor(Ne,Qe,We,Ge){super(Ne,Qe),this.element=We,this.pagesElement=Ge}load(){for(const Ne of this.pagesElement){const Qe=new G(this.render,Ne,Ne.dataset.density==="hard"?"hard":"soft");Qe.load(),this.pages.push(Qe)}this.createSpread()}}class ee{constructor(Ne,Qe,We,Ge){this.direction=Ne,this.corner=Qe,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(We,10),this.pageHeight=parseInt(Ge,10)}calc(Ne){try{return this.position=this.calcAngleAndPosition(Ne),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const Ne=[];let Qe=!1;return Ne.push(this.rect.topLeft),Ne.push(this.topIntersectPoint),this.sideIntersectPoint===null?Qe=!0:(Ne.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(Qe=!1)),Ne.push(this.bottomIntersectPoint),(Qe||this.corner==="bottom")&&Ne.push(this.rect.bottomLeft),Ne}getBottomClipArea(){const Ne=[];return Ne.push(this.topIntersectPoint),this.corner==="top"?Ne.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&Ne.push({x:this.pageWidth,y:0}),Ne.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?O.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&Ne.push(this.sideIntersectPoint):this.corner==="top"&&Ne.push({x:this.pageWidth,y:this.pageHeight}),Ne.push(this.bottomIntersectPoint),Ne.push(this.topIntersectPoint),Ne}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const Ne=O.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?Ne:Math.PI-Ne}calcAngleAndPosition(Ne){let Qe=Ne;if(this.updateAngleAndGeometry(Qe),Qe=this.corner==="top"?this.checkPositionAtCenterLine(Qe,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(Qe,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(Qe.x-this.pageWidth)<1&&Math.abs(Qe.y)<1)throw new Error("Point is too small");return Qe}updateAngleAndGeometry(Ne){this.angle=this.calculateAngle(Ne),this.rect=this.getPageRect(Ne)}calculateAngle(Ne){const Qe=this.pageWidth-Ne.x+1,We=this.corner==="bottom"?this.pageHeight-Ne.y:Ne.y;let Ge=2*Math.acos(Qe/Math.sqrt(We*We+Qe*Qe));We<0&&(Ge=-Ge);const Xe=Math.PI-Ge;if(!isFinite(Ge)||Xe>=0&&Xe<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(Ge=-Ge),Ge}getPageRect(Ne){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],Ne):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],Ne)}getRectFromBasePoint(Ne,Qe){return{topLeft:this.getRotatedPoint(Ne[0],Qe),topRight:this.getRotatedPoint(Ne[1],Qe),bottomLeft:this.getRotatedPoint(Ne[2],Qe),bottomRight:this.getRotatedPoint(Ne[3],Qe)}}getRotatedPoint(Ne,Qe){return{x:Ne.x*Math.cos(this.angle)+Ne.y*Math.sin(this.angle)+Qe.x,y:Ne.y*Math.cos(this.angle)-Ne.x*Math.sin(this.angle)+Qe.y}}calculateIntersectPoint(Ne){const Qe={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=O.GetIntersectBetweenTwoSegment(Qe,[Ne,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=O.GetIntersectBetweenTwoSegment(Qe,[Ne,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=O.GetIntersectBetweenTwoSegment(Qe,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=O.GetIntersectBetweenTwoSegment(Qe,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=O.GetIntersectBetweenTwoSegment(Qe,[Ne,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=O.GetIntersectBetweenTwoSegment(Qe,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(Ne,Qe,We){let Ge=Ne;const Xe=O.LimitPointToCircle(Qe,this.pageWidth,Ge);Ge!==Xe&&(Ge=Xe,this.updateAngleAndGeometry(Ge));const Je=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let ut=this.rect.bottomRight,ft=this.rect.topLeft;if(this.corner==="bottom"&&(ut=this.rect.topRight,ft=this.rect.bottomLeft),ut.x<=0){const ct=O.LimitPointToCircle(We,Je,ft);ct!==Ge&&(Ge=ct,this.updateAngleAndGeometry(Ge))}return Ge}getSegmentToShadowLine(){const Ne=this.getShadowStartPoint();return[Ne,Ne!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class ne{constructor(Ne,Qe){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=Ne,this.app=Qe}fold(Ne){this.setState("user_fold"),this.calc===null&&this.start(Ne),this.do(this.render.convertToPage(Ne))}flip(Ne){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(Ne)||(this.calc!==null&&this.render.finishAnimation(),!this.start(Ne)))return;const Qe=this.getBoundsRect();this.setState("flipping");const We=Qe.height/10,Ge=this.calc.getCorner()==="bottom"?Qe.height-We:We,Xe=this.calc.getCorner()==="bottom"?Qe.height:0;this.calc.calc({x:Qe.pageWidth-We,y:Ge}),this.animateFlippingTo({x:Qe.pageWidth-We,y:Ge},{x:-Qe.pageWidth,y:Xe},!0)}start(Ne){this.reset();const Qe=this.render.convertToBook(Ne),We=this.getBoundsRect(),Ge=this.getDirectionByPoint(Qe),Xe=Qe.y>=We.height/2?"bottom":"top";if(!this.checkDirection(Ge))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(Ge),this.bottomPage=this.app.getPageCollection().getBottomPage(Ge),this.render.getOrientation()==="landscape")if(Ge===1){const Je=this.app.getPageCollection().nextBy(this.flippingPage);Je!==null&&this.flippingPage.getDensity()!==Je.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),Je.setDrawingDensity("hard"))}else{const Je=this.app.getPageCollection().prevBy(this.flippingPage);Je!==null&&this.flippingPage.getDensity()!==Je.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),Je.setDrawingDensity("hard"))}return this.render.setDirection(Ge),this.calc=new ee(Ge,Xe,We.pageWidth.toString(10),We.height.toString(10)),!0}catch{return!1}}do(Ne){if(this.calc!==null&&this.calc.calc(Ne)){const Qe=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*Qe)/100):this.flippingPage.setHardAngle(-90*(200-2*Qe)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),Qe,this.calc.getDirection())}}flipToPage(Ne,Qe){const We=this.app.getPageCollection().getCurrentSpreadIndex(),Ge=this.app.getPageCollection().getSpreadIndexByPage(Ne);try{Ge>We&&(this.app.getPageCollection().setCurrentSpreadIndex(Ge-1),this.flipNext(Qe)),Ge<We&&(this.app.getPageCollection().setCurrentSpreadIndex(Ge+1),this.flipPrev(Qe))}catch{}}flipNext(Ne){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:Ne==="top"?1:this.render.getRect().height-2})}flipPrev(Ne){this.flip({x:10,y:Ne==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const Ne=this.calc.getPosition(),Qe=this.getBoundsRect(),We=this.calc.getCorner()==="bottom"?Qe.height:0;Ne.x<=0?this.animateFlippingTo(Ne,{x:-Qe.pageWidth,y:We},!0):this.animateFlippingTo(Ne,{x:Qe.pageWidth,y:We},!1)}showCorner(Ne){if(!this.checkState("read","fold_corner"))return;const Qe=this.getBoundsRect(),We=Qe.pageWidth;if(this.isPointOnCorners(Ne))if(this.calc===null){if(!this.start(Ne))return;this.setState("fold_corner"),this.calc.calc({x:We-1,y:1});const Ge=50,Xe=this.calc.getCorner()==="bottom"?Qe.height-1:1,Je=this.calc.getCorner()==="bottom"?Qe.height-Ge:Ge;this.animateFlippingTo({x:We-1,y:Xe},{x:We-Ge,y:Je},!1,!1)}else this.do(this.render.convertToPage(Ne));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(Ne,Qe,We,Ge=!0){const Xe=O.GetCordsFromTwoPoint(Ne,Qe),Je=[];for(const ft of Xe)Je.push(()=>this.do(ft));const ut=this.getAnimationDuration(Xe.length);this.render.startAnimation(Je,ut,()=>{this.calc&&(We&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),Ge&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(Ne){this.state!==Ne&&(this.app.updateState(Ne),this.state=Ne)}getDirectionByPoint(Ne){const Qe=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(Ne.x-Qe.pageWidth<=Qe.width/5)return 1}else if(Ne.x<Qe.width/2)return 1;return 0}getAnimationDuration(Ne){const Qe=this.app.getSettings().flippingTime;return Ne>=1e3?Qe:Ne/1e3*Qe}checkDirection(Ne){return Ne===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...Ne){for(const Qe of Ne)if(this.state===Qe)return!0;return!1}isPointOnCorners(Ne){const Qe=this.getBoundsRect(),We=Qe.pageWidth,Ge=Math.sqrt(Math.pow(We,2)+Math.pow(Qe.height,2))/5,Xe=this.render.convertToBook(Ne);return Xe.x>0&&Xe.y>0&&Xe.x<Qe.width&&Xe.y<Qe.height&&(Xe.x<Ge||Xe.x>Qe.width-Ge)&&(Xe.y<Ge||Xe.y>Qe.height-Ge)}}class oe{constructor(Ne,Qe){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=Qe,this.app=Ne;const We=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=We.exec(window.navigator.userAgent)!==null}render(Ne){if(this.animation!==null){const Qe=Math.round((Ne-this.animation.startedAt)/this.animation.durationFrame);Qe<this.animation.frames.length?this.animation.frames[Qe]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=Ne,this.drawFrame()}start(){this.update();const Ne=Qe=>{this.render(Qe),requestAnimationFrame(Ne)};requestAnimationFrame(Ne)}startAnimation(Ne,Qe,We){this.finishAnimation(),this.animation={frames:Ne,duration:Qe,durationFrame:Qe/Ne.length,onAnimateEnd:We,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const Ne=this.calculateBoundsRect();this.orientation!==Ne&&(this.orientation=Ne,this.app.updateOrientation(Ne))}calculateBoundsRect(){let Ne="landscape";const Qe=this.getBlockWidth(),We=Qe/2,Ge=this.getBlockHeight()/2,Xe=this.setting.width/this.setting.height;let Je=this.setting.width,ut=this.setting.height,ft=We-Je;return this.setting.size==="stretch"?(Qe<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(Ne="portrait"),Je=Ne==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,Je>this.setting.maxWidth&&(Je=this.setting.maxWidth),ut=Je/Xe,ut>this.getBlockHeight()&&(ut=this.getBlockHeight(),Je=ut*Xe),ft=Ne==="portrait"?We-Je/2-Je:We-Je):Qe<2*Je&&this.app.getSettings().usePortrait&&(Ne="portrait",ft=We-Je/2-Je),this.boundsRect={left:ft,top:Ge-ut/2,width:2*Je,height:ut,pageWidth:Je},Ne}setShadowData(Ne,Qe,We,Ge){if(!this.app.getSettings().drawShadow)return;const Xe=100*this.getSettings().maxShadowOpacity;this.shadow={pos:Ne,angle:Qe,width:3*this.getRect().pageWidth/4*We/100,opacity:(100-We)*Xe/100/100,direction:Ge,progress:2*We}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(Ne){this.pageRect=Ne}setDirection(Ne){this.direction=Ne}setRightPage(Ne){Ne!==null&&Ne.setOrientation(1),this.rightPage=Ne}setLeftPage(Ne){Ne!==null&&Ne.setOrientation(0),this.leftPage=Ne}setBottomPage(Ne){Ne!==null&&Ne.setOrientation(this.direction===1?0:1),this.bottomPage=Ne}setFlippingPage(Ne){Ne!==null&&Ne.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=Ne}convertToBook(Ne){const Qe=this.getRect();return{x:Ne.x-Qe.left,y:Ne.y-Qe.top}}isSafari(){return this.safari}convertToPage(Ne,Qe){Qe||(Qe=this.direction);const We=this.getRect();return{x:Qe===0?Ne.x-We.left-We.width/2:We.width/2-Ne.x+We.left,y:Ne.y-We.top}}convertToGlobal(Ne,Qe){if(Qe||(Qe=this.direction),Ne==null)return null;const We=this.getRect();return{x:Qe===0?Ne.x+We.left+We.width/2:We.width/2-Ne.x+We.left,y:Ne.y+We.top}}convertRectToGlobal(Ne,Qe){return Qe||(Qe=this.direction),{topLeft:this.convertToGlobal(Ne.topLeft,Qe),topRight:this.convertToGlobal(Ne.topRight,Qe),bottomLeft:this.convertToGlobal(Ne.bottomLeft,Qe),bottomRight:this.convertToGlobal(Ne.bottomRight,Qe)}}}class pe extends oe{constructor(Ne,Qe,We){super(Ne,Qe),this.canvas=We,this.ctx=We.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const Ne=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(Ne.left+Ne.pageWidth,Ne.top,Ne.width,Ne.height),this.ctx.clip())}drawBookShadow(){const Ne=this.getRect();this.ctx.save(),this.ctx.beginPath();const Qe=Ne.width/20;this.ctx.rect(Ne.left,Ne.top,Ne.width,Ne.height);const We={x:Ne.left+Ne.width/2-Qe/2,y:0};this.ctx.translate(We.x,We.y);const Ge=this.ctx.createLinearGradient(0,0,Qe,0);Ge.addColorStop(0,"rgba(0, 0, 0, 0)"),Ge.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),Ge.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),Ge.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),Ge.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),Ge.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=Ge,this.ctx.fillRect(0,0,Qe,2*Ne.height),this.ctx.restore()}drawOuterShadow(){const Ne=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(Ne.left,Ne.top,Ne.width,Ne.height);const Qe=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(Qe.x,Qe.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const We=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),We.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),We.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),We.addColorStop(0,"rgba(0, 0, 0, 0)"),We.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=We,this.ctx.fillRect(0,0,this.shadow.width,2*Ne.height),this.ctx.restore()}drawInnerShadow(){const Ne=this.getRect();this.ctx.save(),this.ctx.beginPath();const Qe=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),We=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(We.topLeft.x,We.topLeft.y),this.ctx.lineTo(We.topRight.x,We.topRight.y),this.ctx.lineTo(We.bottomRight.x,We.bottomRight.y),this.ctx.lineTo(We.bottomLeft.x,We.bottomLeft.y),this.ctx.translate(Qe.x,Qe.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const Ge=3*this.shadow.width/4,Xe=this.ctx.createLinearGradient(0,0,Ge,0);this.shadow.direction===0?(this.ctx.translate(-Ge,-100),Xe.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),Xe.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),Xe.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),Xe.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),Xe.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),Xe.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),Xe.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),Xe.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=Xe,this.ctx.fillRect(0,0,Ge,2*Ne.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class xe{constructor(Ne,Qe,We){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=Xe=>{if(this.checkTarget(Xe.target)){const Je=this.getMousePos(Xe.clientX,Xe.clientY);this.app.startUserTouch(Je),Xe.preventDefault()}},this.onTouchStart=Xe=>{if(this.checkTarget(Xe.target)&&Xe.changedTouches.length>0){const Je=Xe.changedTouches[0],ut=this.getMousePos(Je.clientX,Je.clientY);this.touchPoint={point:ut,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(ut)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||Xe.preventDefault()}},this.onMouseUp=Xe=>{const Je=this.getMousePos(Xe.clientX,Xe.clientY);this.app.userStop(Je)},this.onMouseMove=Xe=>{const Je=this.getMousePos(Xe.clientX,Xe.clientY);this.app.userMove(Je,!1)},this.onTouchMove=Xe=>{if(Xe.changedTouches.length>0){const Je=Xe.changedTouches[0],ut=this.getMousePos(Je.clientX,Je.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-ut.x)>10||this.app.getState()!=="read")&&Xe.cancelable&&this.app.userMove(ut,!0),this.app.getState()!=="read"&&Xe.preventDefault()):this.app.userMove(ut,!0)}},this.onTouchEnd=Xe=>{if(Xe.changedTouches.length>0){const Je=Xe.changedTouches[0],ut=this.getMousePos(Je.clientX,Je.clientY);let ft=!1;if(this.touchPoint!==null){const ct=ut.x-this.touchPoint.point.x,pt=Math.abs(ut.y-this.touchPoint.point.y);Math.abs(ct)>this.swipeDistance&&pt<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(ct>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),ft=!0),this.touchPoint=null}this.app.userStop(ut,ft)}},this.parentElement=Ne,Ne.classList.add("stf__parent"),Ne.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=Ne.querySelector(".stf__wrapper"),this.app=Qe;const Ge=this.app.getSettings().usePortrait?1:2;Ne.style.minWidth=We.minWidth*Ge+"px",Ne.style.minHeight=We.minHeight+"px",We.size==="fixed"&&(Ne.style.minWidth=We.width*Ge+"px",Ne.style.minHeight=We.height+"px"),We.autoSize&&(Ne.style.width="100%",Ne.style.maxWidth=2*We.maxWidth+"px"),Ne.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=We.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(Ne){this.wrapper.classList.remove("--portrait","--landscape"),Ne==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(Ne,Qe){const We=this.distElement.getBoundingClientRect();return{x:Ne-We.left,y:Qe-We.top}}checkTarget(Ne){return!this.app.getSettings().clickEventForward||!["a","button"].includes(Ne.tagName.toLowerCase())}}class _e extends xe{constructor(Ne,Qe,We,Ge){super(Ne,Qe,We),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=Ne.querySelector(".stf__block"),this.items=Ge;for(const Xe of Ge)this.distElement.appendChild(Xe);this.setHandlers()}clear(){for(const Ne of this.items)this.parentElement.appendChild(Ne)}updateItems(Ne){this.removeHandlers(),this.distElement.innerHTML="";for(const Qe of Ne)this.distElement.appendChild(Qe);this.items=Ne,this.setHandlers()}update(){this.app.getRender().update()}}class Ue extends xe{constructor(Ne,Qe,We){super(Ne,Qe,We),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=Ne.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const Ne=getComputedStyle(this.canvas),Qe=parseInt(Ne.getPropertyValue("width"),10),We=parseInt(Ne.getPropertyValue("height"),10);this.canvas.width=Qe,this.canvas.height=We}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class Le extends oe{constructor(Ne,Qe,We){super(Ne,Qe),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=We,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const Ne=this.getRect(),Qe=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let We=(100-Qe)*(2.5*Ne.pageWidth)/100+20;We>Ne.pageWidth&&(We=Ne.pageWidth);let Ge=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${We}px;
            height: ${Ne.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*Qe/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${Ne.left+Ne.width/2}px;
            transform-origin: 0 0;
        `;Ge+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=Ge}drawHardOuterShadow(){const Ne=this.getRect();let Qe=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*Ne.pageWidth)/100+20;Qe>Ne.pageWidth&&(Qe=Ne.pageWidth);let We=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${Qe}px;
            height: ${Ne.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${Ne.left+Ne.width/2}px;
            transform-origin: 0 0;
        `;We+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=We}drawInnerShadow(){const Ne=this.getRect(),Qe=3*this.shadow.width/4,We=this.getDirection()===0?Qe:0,Ge=this.getDirection()===0?"to left":"to right",Xe=this.convertToGlobal(this.shadow.pos),Je=this.shadow.angle+3*Math.PI/2,ut=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let ft="polygon( ";for(const pt of ut){let yt=this.getDirection()===1?{x:-pt.x+this.shadow.pos.x,y:pt.y-this.shadow.pos.y}:{x:pt.x-this.shadow.pos.x,y:pt.y-this.shadow.pos.y};yt=O.GetRotatedPoint(yt,{x:We,y:100},Je),ft+=yt.x+"px "+yt.y+"px, "}ft=ft.slice(0,-2),ft+=")";const ct=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${Qe}px;
            height: ${2*Ne.height}px;
            background: linear-gradient(${Ge},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${We}px 100px;
            transform: translate3d(${Xe.x-We}px, ${Xe.y-100}px, 0) rotate(${Je}rad);
            clip-path: ${ft};
            -webkit-clip-path: ${ft};
        `;this.innerShadow.style.cssText=ct}drawOuterShadow(){const Ne=this.getRect(),Qe=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),We=this.shadow.angle+3*Math.PI/2,Ge=this.getDirection()===1?this.shadow.width:0,Xe=this.getDirection()===0?"to right":"to left",Je=[{x:0,y:0},{x:Ne.pageWidth,y:0},{x:Ne.pageWidth,y:Ne.height},{x:0,y:Ne.height}];let ut="polygon( ";for(const ct of Je)if(ct!==null){let pt=this.getDirection()===1?{x:-ct.x+this.shadow.pos.x,y:ct.y-this.shadow.pos.y}:{x:ct.x-this.shadow.pos.x,y:ct.y-this.shadow.pos.y};pt=O.GetRotatedPoint(pt,{x:Ge,y:100},We),ut+=pt.x+"px "+pt.y+"px, "}ut=ut.slice(0,-2),ut+=")";const ft=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*Ne.height}px;
            background: linear-gradient(${Xe}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${Ge}px 100px;
            transform: translate3d(${Qe.x-Ge}px, ${Qe.y-100}px, 0) rotate(${We}rad);
            clip-path: ${ut};
            -webkit-clip-path: ${ut};
        `;this.outerShadow.style.cssText=ft}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const Ne=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(Ne))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const Ne of this.app.getPageCollection().getPages())Ne!==this.leftPage&&Ne!==this.rightPage&&Ne!==this.flippingPage&&Ne!==this.bottomPage&&(Ne.getElement().style.cssText="display: none"),Ne.getTemporaryCopy()!==this.flippingPage&&Ne.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class He{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(Ne){const Qe=this._default;if(Object.assign(Qe,Ne),Qe.size!=="stretch"&&Qe.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(Qe.width<=0||Qe.height<=0)throw new Error("Invalid width or height");if(Qe.flippingTime<=0)throw new Error("Invalid flipping time");return Qe.size==="stretch"?(Qe.minWidth<=0&&(Qe.minWidth=100),Qe.maxWidth<Qe.minWidth&&(Qe.maxWidth=2e3),Qe.minHeight<=0&&(Qe.minHeight=100),Qe.maxHeight<Qe.minHeight&&(Qe.maxHeight=2e3)):(Qe.minWidth=Qe.width,Qe.maxWidth=Qe.width,Qe.minHeight=Qe.height,Qe.maxHeight=Qe.height),Qe}}(function($e,Ne){Ne===void 0&&(Ne={});var Qe=Ne.insertAt;if(typeof document<"u"){var We=document.head||document.getElementsByTagName("head")[0],Ge=document.createElement("style");Ge.type="text/css",Qe==="top"&&We.firstChild?We.insertBefore(Ge,We.firstChild):We.appendChild(Ge),Ge.styleSheet?Ge.styleSheet.cssText=$e:Ge.appendChild(document.createTextNode($e))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),y.PageFlip=class extends class{constructor(){this.events=new Map}on($e,Ne){return this.events.has($e)?this.events.get($e).push(Ne):this.events.set($e,[Ne]),this}off($e){this.events.delete($e)}trigger($e,Ne,Qe=null){if(this.events.has($e))for(const We of this.events.get($e))We({data:Qe,object:Ne})}}{constructor($e,Ne){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new He().getSettings(Ne),this.block=$e}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages($e){this.ui=new Ue(this.block,this,this.setting);const Ne=this.ui.getCanvas();this.render=new pe(this,this.setting,Ne),this.flipController=new ne(this.render,this),this.pages=new I(this,this.render,$e),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML($e){this.ui=new _e(this.block,this,this.setting,$e),this.render=new Le(this,this.setting,this.ui.getDistElement()),this.flipController=new ne(this.render,this),this.pages=new q(this,this.render,this.ui.getDistElement(),$e),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages($e){const Ne=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new I(this,this.render,$e),this.pages.load(),this.pages.show(Ne),this.trigger("update",this,{page:Ne,mode:this.render.getOrientation()})}updateFromHtml($e){const Ne=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new q(this,this.render,this.ui.getDistElement(),$e),this.pages.load(),this.ui.updateItems($e),this.render.reload(),this.pages.show(Ne),this.trigger("update",this,{page:Ne,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage($e){this.pages.show($e)}flipNext($e="top"){this.flipController.flipNext($e)}flipPrev($e="top"){this.flipController.flipPrev($e)}flip($e,Ne="top"){this.flipController.flipToPage($e,Ne)}updateState($e){this.trigger("changeState",this,$e)}updatePageIndex($e){this.trigger("flip",this,$e)}updateOrientation($e){this.ui.setOrientationStyle($e),this.update(),this.trigger("changeOrientation",this,$e)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage($e){return this.pages.getPage($e)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch($e){this.mousePosition=$e,this.isUserTouch=!0,this.isUserMove=!1}userMove($e,Ne){this.isUserTouch||Ne||!this.setting.showPageCorners?this.isUserTouch&&O.GetDistanceBetweenTwoPoint(this.mousePosition,$e)>5&&(this.isUserMove=!0,this.flipController.fold($e)):this.flipController.showCorner($e)}userStop($e,Ne=!1){this.isUserTouch&&(this.isUserTouch=!1,Ne||(this.isUserMove?this.flipController.stopMove():this.flipController.flip($e)))}},Object.defineProperty(y,"__esModule",{value:!0})}))})(pageFlip_browser$1,pageFlip_browser$1.exports)),pageFlip_browser$1.exports}var pageFlip_browserExports=requirePageFlip_browser();const HTMLFlipBookForward=React.forwardRef((r,x)=>{const y=reactExports$1.useRef(null),b=reactExports$1.useRef([]),B=reactExports$1.useRef(),[R,I]=reactExports$1.useState([]);reactExports$1.useImperativeHandle(x,()=>({pageFlip:()=>B.current}));const O=reactExports$1.useCallback(()=>{B.current&&B.current.clear()},[]),G=reactExports$1.useCallback(()=>{const q=B.current;q&&(q.off("flip"),q.off("changeOrientation"),q.off("changeState"),q.off("init"),q.off("update"))},[]);return reactExports$1.useEffect(()=>{if(b.current=[],r.children){const q=React.Children.map(r.children,ee=>React.cloneElement(ee,{ref:ne=>{ne&&b.current.push(ne)}}));(!r.renderOnlyPageLengthChange||R.length!==q.length)&&(q.length<R.length&&O(),I(q))}},[r.children]),reactExports$1.useEffect(()=>{const q=()=>{const ee=B.current;ee&&(r.onFlip&&ee.on("flip",ne=>r.onFlip(ne)),r.onChangeOrientation&&ee.on("changeOrientation",ne=>r.onChangeOrientation(ne)),r.onChangeState&&ee.on("changeState",ne=>r.onChangeState(ne)),r.onInit&&ee.on("init",ne=>r.onInit(ne)),r.onUpdate&&ee.on("update",ne=>r.onUpdate(ne)))};R.length>0&&b.current.length>0&&(G(),y.current&&!B.current&&(B.current=new pageFlip_browserExports.PageFlip(y.current,r)),B.current.getFlipController()?B.current.updateFromHtml(b.current):B.current.loadFromHTML(b.current),q())},[R]),React.createElement("div",{ref:y,className:r.className,style:r.style},R)}),HTMLFlipBook=React.memo(HTMLFlipBookForward),container="_container_evhn0_1",ambientBackground="_ambientBackground_evhn0_31",overlay="_overlay_evhn0_59",flipBookWrapper="_flipBookWrapper_evhn0_83",flipBook="_flipBook_evhn0_83",pageBox="_pageBox_evhn0_121",pageImage="_pageImage_evhn0_135",pageNumber="_pageNumber_evhn0_147",loading="_loading_evhn0_201",error="_error_evhn0_203",styles={container,ambientBackground,overlay,flipBookWrapper,flipBook,pageBox,pageImage,pageNumber,loading,error},BOOK_RATIO=1.414;function LeafletViewer(){const{category:r,id:x}=useParams(),[y,b]=reactExports$1.useState(null),[B,R]=reactExports$1.useState(!0),[I,O]=reactExports$1.useState(null),[G,q]=reactExports$1.useState(0),[ee,ne]=reactExports$1.useState(window.innerWidth>767),oe=reactExports$1.useRef(null);if(reactExports$1.useEffect(()=>{const He=()=>ne(window.innerWidth>767);return window.addEventListener("resize",He),()=>window.removeEventListener("resize",He)},[]),reactExports$1.useEffect(()=>{(async()=>{try{R(!0);const $e=r==="galleries"?"galleryCategory":"exhibitionCategory",Ne=await instance.get("/api/leaflet",{params:{category:$e,category_id:x}});let Qe=null;Array.isArray(Ne.data)?Ne.data.length>0&&(Qe=Ne.data[0]):Qe=Ne.data,Qe?b(Qe):O("   .")}catch($e){console.error($e),O("  .")}finally{R(!1)}})()},[r,x]),reactExports$1.useEffect(()=>{const He=$e=>{!y||!oe.current||($e.key==="ArrowLeft"&&oe.current.pageFlip().flipPrev(),$e.key==="ArrowRight"&&oe.current.pageFlip().flipNext())};return document.addEventListener("keydown",He),()=>document.removeEventListener("keydown",He)},[y]),B)return jsxRuntimeExports.jsx("div",{className:styles.container,children:jsxRuntimeExports.jsx("div",{className:styles.loading,children:" ..."})});if(I)return jsxRuntimeExports.jsx("div",{className:styles.container,children:jsxRuntimeExports.jsx("div",{className:styles.error,children:I})});if(!y)return null;const{image_urls:pe}=y,xe=pe?pe.length:0,_e=pe&&pe.length>0?pe[0]:"",Ue=ee?500:300,Le=Math.round(Ue*BOOK_RATIO);return jsxRuntimeExports.jsxs("div",{className:styles.container,children:[_e&&jsxRuntimeExports.jsx("div",{className:styles.ambientBackground,style:{backgroundImage:`url(${_e})`}}),jsxRuntimeExports.jsx("div",{className:styles.overlay}),jsxRuntimeExports.jsx("div",{className:styles.flipBookWrapper,children:jsxRuntimeExports.jsx(HTMLFlipBook,{ref:oe,width:Ue,height:Le,size:"fixed",minWidth:280,maxWidth:ee?600:350,minHeight:Math.round(280*BOOK_RATIO),maxHeight:Math.round((ee?600:350)*BOOK_RATIO),showCover:!1,mobileScrollSupport:!1,className:styles.flipBook,onFlip:He=>q(He.data),usePortrait:!ee,startPage:0,drawShadow:!0,flippingTime:800,usePageShadow:!0,startZIndex:1,children:pe&&pe.map((He,$e)=>jsxRuntimeExports.jsx("div",{className:styles.pageBox,children:jsxRuntimeExports.jsx("img",{src:He,alt:`Page ${$e+1}`,className:styles.pageImage})},$e))})}),jsxRuntimeExports.jsxs("div",{className:styles.pageNumber,children:[G+1," / ",xe]})]})}const router=createBrowserRouter([{path:"/",element:jsxRuntimeExports.jsx(Layout,{}),children:[{path:"/",element:jsxRuntimeExports.jsx(Main,{})},{path:"/exhibitions",element:jsxRuntimeExports.jsx(Exhibitions,{})},{path:"/galleries",element:jsxRuntimeExports.jsx(Galleries,{})},{path:"/artists",element:jsxRuntimeExports.jsx(Artists,{})},{path:"/artworks",element:jsxRuntimeExports.jsx(ArtworkList,{})},{path:"/search",element:jsxRuntimeExports.jsx(Search,{})},{path:"/notices",element:jsxRuntimeExports.jsx(News,{})},{path:"/exhibitions/:exhibitionId",element:jsxRuntimeExports.jsx(ExhibitionDetail,{})},{path:"/galleries/:galleryId",element:jsxRuntimeExports.jsx(GalleryDetail,{})},{path:"/artists/:artistId",element:jsxRuntimeExports.jsx(ArtistDetail,{})},{path:"/notices/:noticeId",element:jsxRuntimeExports.jsx(NewsDetail,{})},{path:"/artworks/:artworkId",element:jsxRuntimeExports.jsx(ArtworkDetail,{})},{path:"/art/:artId",element:jsxRuntimeExports.jsx(Artwork,{})},{path:"/catalog/:catalogId",element:jsxRuntimeExports.jsx(Catalog,{})},{path:"/nearby-galleries",element:jsxRuntimeExports.jsx(Nearby,{})},{path:"/login",element:jsxRuntimeExports.jsx(Login,{})},{path:"/login-detail",element:jsxRuntimeExports.jsx(LoginDetail,{})},{path:"/register",element:jsxRuntimeExports.jsx(Register,{})},{path:"/find",element:jsxRuntimeExports.jsx(Find,{})},{path:"/announcement",element:jsxRuntimeExports.jsx(Announcement,{})},{path:"/termspolicy",element:jsxRuntimeExports.jsx(TermsPolicy,{})},{path:"/reservation/:exhibitionId",element:jsxRuntimeExports.jsx(Reservation,{})},{path:"/reservationconfirm/:reservationId",element:jsxRuntimeExports.jsx(ReservationConfirm,{})},{element:jsxRuntimeExports.jsx(AuthRoute,{}),children:[{path:"/notifications",element:jsxRuntimeExports.jsx(Notification$1,{})},{path:"/mypage",element:jsxRuntimeExports.jsx(MyPage,{})},{path:"/mypage/edit",element:jsxRuntimeExports.jsx(EditProfile,{})},{path:"/purchase/:reservationId",element:jsxRuntimeExports.jsx(Purchase,{})}]},{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})}]},{path:"/console",element:jsxRuntimeExports.jsx(LayoutConsole,{}),children:[{path:"/console/notification",element:jsxRuntimeExports.jsx(ConsoleNotification,{})},{path:"/console/main",element:jsxRuntimeExports.jsx(ConsoleMain,{})},{path:"/console/galleries",element:jsxRuntimeExports.jsx(ConsoleMain,{defaultTab:""})},{path:"/console/exhibitions",element:jsxRuntimeExports.jsx(ConsoleMain,{defaultTab:""})},{path:"/console/artworks",element:jsxRuntimeExports.jsx(ConsoleMain,{defaultTab:""})},{path:"/console/detail",element:jsxRuntimeExports.jsx(ConsoleDetail,{})},{path:"/console/exhibitions/:id",element:jsxRuntimeExports.jsx(ConsoleDetail,{type:"exhibitions"})},{path:"/console/galleries/:id",element:jsxRuntimeExports.jsx(ConsoleDetail,{type:"galleries"})},{path:"/console/artworks/:id",element:jsxRuntimeExports.jsx(ConsoleDetail,{type:"artworks"})},{path:"/console/galleries/edit/:id",element:jsxRuntimeExports.jsx(ConsoleEdit,{type:"galleries"})},{path:"/console/exhibitions/edit/:id",element:jsxRuntimeExports.jsx(ConsoleEdit,{type:"exhibitions"})},{path:"/console/artworks/edit/:id",element:jsxRuntimeExports.jsx(ConsoleEdit,{type:"artworks"})},{path:"/console/artworks/docent/:id",element:jsxRuntimeExports.jsx(DocentGenerator,{})},{path:"/console/galleries/leaflet/:id",element:jsxRuntimeExports.jsx(Leaflet,{type:"galleries"})},{path:"/console/exhibitions/leaflet/:id",element:jsxRuntimeExports.jsx(Leaflet,{type:"exhibitions"})},{path:"/console/poster",element:jsxRuntimeExports.jsx(Poster,{})}]},{path:"/scan/:id?",element:jsxRuntimeExports.jsx(QrScanner,{})},{path:"/view/leaflet/:category/:id",element:jsxRuntimeExports.jsx(LeafletViewer,{})}]);function FallbackUI(){return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{children:""})})}function App(){return jsxRuntimeExports.jsx(ErrorBoundary,{fallback:jsxRuntimeExports.jsx("div",{children:" ."}),children:jsxRuntimeExports.jsx(reactExports$1.Suspense,{fallback:jsxRuntimeExports.jsx(FallbackUI,{}),children:jsxRuntimeExports.jsx(UserProvider,{children:jsxRuntimeExports.jsx(ToastProvider,{children:jsxRuntimeExports.jsx(RouterProvider2,{router})})})})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
