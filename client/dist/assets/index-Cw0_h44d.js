function kN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tg={exports:{}},Ad={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function DN(){if(xw)return Ad;xw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Ad.Fragment=e,Ad.jsx=n,Ad.jsxs=n,Ad}var yw;function BN(){return yw||(yw=1,tg.exports=DN()),tg.exports}var w=BN(),ng={exports:{}},Td={},rg={exports:{}},ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function LN(){return bw||(bw=1,function(t){function e(Y,ae){var de=Y.length;Y.push(ae);e:for(;0<de;){var ze=de-1>>>1,K=Y[ze];if(0<i(K,ae))Y[ze]=ae,Y[de]=K,de=ze;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ae=Y[0],de=Y.pop();if(de!==ae){Y[0]=de;e:for(var ze=0,K=Y.length,be=K>>>1;ze<be;){var Oe=2*(ze+1)-1,Re=Y[Oe],He=Oe+1,xt=Y[He];if(0>i(Re,de))He<K&&0>i(xt,Re)?(Y[ze]=xt,Y[He]=de,ze=He):(Y[ze]=Re,Y[Oe]=de,ze=Oe);else if(He<K&&0>i(xt,de))Y[ze]=xt,Y[He]=de,ze=He;else break e}}return ae}function i(Y,ae){var de=Y.sortIndex-ae.sortIndex;return de!==0?de:Y.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var h=[],m=[],b=1,C=null,E=3,A=!1,T=!1,R=!1,I=!1,D=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function q(Y){for(var ae=n(m);ae!==null;){if(ae.callback===null)r(m);else if(ae.startTime<=Y)r(m),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=n(m)}}function $(Y){if(R=!1,q(Y),!T)if(n(h)!==null)T=!0,V||(V=!0,me());else{var ae=n(m);ae!==null&&ee($,ae.startTime-Y)}}var V=!1,G=-1,Q=5,Z=-1;function Ce(){return I?!0:!(t.unstable_now()-Z<Q)}function we(){if(I=!1,V){var Y=t.unstable_now();Z=Y;var ae=!0;try{e:{T=!1,R&&(R=!1,F(G),G=-1),A=!0;var de=E;try{t:{for(q(Y),C=n(h);C!==null&&!(C.expirationTime>Y&&Ce());){var ze=C.callback;if(typeof ze=="function"){C.callback=null,E=C.priorityLevel;var K=ze(C.expirationTime<=Y);if(Y=t.unstable_now(),typeof K=="function"){C.callback=K,q(Y),ae=!0;break t}C===n(h)&&r(h),q(Y)}else r(h);C=n(h)}if(C!==null)ae=!0;else{var be=n(m);be!==null&&ee($,be.startTime-Y),ae=!1}}break e}finally{C=null,E=de,A=!1}ae=void 0}}finally{ae?me():V=!1}}}var me;if(typeof P=="function")me=function(){P(we)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,De=Pe.port2;Pe.port1.onmessage=we,me=function(){De.postMessage(null)}}else me=function(){D(we,0)};function ee(Y,ae){G=D(function(){Y(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var de=E;E=ae;try{return Y()}finally{E=de}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var de=E;E=Y;try{return ae()}finally{E=de}},t.unstable_scheduleCallback=function(Y,ae,de){var ze=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ze+de:ze):de=ze,Y){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=de+K,Y={id:b++,callback:ae,priorityLevel:Y,startTime:de,expirationTime:K,sortIndex:-1},de>ze?(Y.sortIndex=de,e(m,Y),n(h)===null&&Y===n(m)&&(R?(F(G),G=-1):R=!0,ee($,de-ze))):(Y.sortIndex=K,e(h,Y),T||A||(T=!0,V||(V=!0,me()))),Y},t.unstable_shouldYield=Ce,t.unstable_wrapCallback=function(Y){var ae=E;return function(){var de=E;E=ae;try{return Y.apply(this,arguments)}finally{E=de}}}}(ig)),ig}var vw;function jN(){return vw||(vw=1,rg.exports=LN()),rg.exports}var sg={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function PN(){if(ww)return St;ww=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.iterator;function E(K){return K===null||typeof K!="object"?null:(K=C&&K[C]||K["@@iterator"],typeof K=="function"?K:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function I(K,be,Oe){this.props=K,this.context=be,this.refs=R,this.updater=Oe||A}I.prototype.isReactComponent={},I.prototype.setState=function(K,be){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,be,"setState")},I.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function D(){}D.prototype=I.prototype;function F(K,be,Oe){this.props=K,this.context=be,this.refs=R,this.updater=Oe||A}var P=F.prototype=new D;P.constructor=F,T(P,I.prototype),P.isPureReactComponent=!0;var q=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function G(K,be,Oe,Re,He,xt){return Oe=xt.ref,{$$typeof:t,type:K,key:be,ref:Oe!==void 0?Oe:null,props:xt}}function Q(K,be){return G(K.type,be,void 0,void 0,void 0,K.props)}function Z(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function Ce(K){var be={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Oe){return be[Oe]})}var we=/\/+/g;function me(K,be){return typeof K=="object"&&K!==null&&K.key!=null?Ce(""+K.key):be.toString(36)}function Pe(){}function De(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(Pe,Pe):(K.status="pending",K.then(function(be){K.status==="pending"&&(K.status="fulfilled",K.value=be)},function(be){K.status==="pending"&&(K.status="rejected",K.reason=be)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function ee(K,be,Oe,Re,He){var xt=typeof K;(xt==="undefined"||xt==="boolean")&&(K=null);var Me=!1;if(K===null)Me=!0;else switch(xt){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(K.$$typeof){case t:case e:Me=!0;break;case b:return Me=K._init,ee(Me(K._payload),be,Oe,Re,He)}}if(Me)return He=He(K),Me=Re===""?"."+me(K,0):Re,q(He)?(Oe="",Me!=null&&(Oe=Me.replace(we,"$&/")+"/"),ee(He,be,Oe,"",function($r){return $r})):He!=null&&(Z(He)&&(He=Q(He,Oe+(He.key==null||K&&K.key===He.key?"":(""+He.key).replace(we,"$&/")+"/")+Me)),be.push(He)),1;Me=0;var pr=Re===""?".":Re+":";if(q(K))for(var mt=0;mt<K.length;mt++)Re=K[mt],xt=pr+me(Re,mt),Me+=ee(Re,be,Oe,xt,He);else if(mt=E(K),typeof mt=="function")for(K=mt.call(K),mt=0;!(Re=K.next()).done;)Re=Re.value,xt=pr+me(Re,mt++),Me+=ee(Re,be,Oe,xt,He);else if(xt==="object"){if(typeof K.then=="function")return ee(De(K),be,Oe,Re,He);throw be=String(K),Error("Objects are not valid as a React child (found: "+(be==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":be)+"). If you meant to render a collection of children, use an array instead.")}return Me}function Y(K,be,Oe){if(K==null)return K;var Re=[],He=0;return ee(K,Re,"","",function(xt){return be.call(Oe,xt,He++)}),Re}function ae(K){if(K._status===-1){var be=K._result;be=be(),be.then(function(Oe){(K._status===0||K._status===-1)&&(K._status=1,K._result=Oe)},function(Oe){(K._status===0||K._status===-1)&&(K._status=2,K._result=Oe)}),K._status===-1&&(K._status=0,K._result=be)}if(K._status===1)return K._result.default;throw K._result}var de=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var be=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(be))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function ze(){}return St.Children={map:Y,forEach:function(K,be,Oe){Y(K,function(){be.apply(this,arguments)},Oe)},count:function(K){var be=0;return Y(K,function(){be++}),be},toArray:function(K){return Y(K,function(be){return be})||[]},only:function(K){if(!Z(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},St.Component=I,St.Fragment=n,St.Profiler=i,St.PureComponent=F,St.StrictMode=r,St.Suspense=h,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,St.__COMPILER_RUNTIME={__proto__:null,c:function(K){return $.H.useMemoCache(K)}},St.cache=function(K){return function(){return K.apply(null,arguments)}},St.cloneElement=function(K,be,Oe){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Re=T({},K.props),He=K.key,xt=void 0;if(be!=null)for(Me in be.ref!==void 0&&(xt=void 0),be.key!==void 0&&(He=""+be.key),be)!V.call(be,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&be.ref===void 0||(Re[Me]=be[Me]);var Me=arguments.length-2;if(Me===1)Re.children=Oe;else if(1<Me){for(var pr=Array(Me),mt=0;mt<Me;mt++)pr[mt]=arguments[mt+2];Re.children=pr}return G(K.type,He,void 0,void 0,xt,Re)},St.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},St.createElement=function(K,be,Oe){var Re,He={},xt=null;if(be!=null)for(Re in be.key!==void 0&&(xt=""+be.key),be)V.call(be,Re)&&Re!=="key"&&Re!=="__self"&&Re!=="__source"&&(He[Re]=be[Re]);var Me=arguments.length-2;if(Me===1)He.children=Oe;else if(1<Me){for(var pr=Array(Me),mt=0;mt<Me;mt++)pr[mt]=arguments[mt+2];He.children=pr}if(K&&K.defaultProps)for(Re in Me=K.defaultProps,Me)He[Re]===void 0&&(He[Re]=Me[Re]);return G(K,xt,void 0,void 0,null,He)},St.createRef=function(){return{current:null}},St.forwardRef=function(K){return{$$typeof:d,render:K}},St.isValidElement=Z,St.lazy=function(K){return{$$typeof:b,_payload:{_status:-1,_result:K},_init:ae}},St.memo=function(K,be){return{$$typeof:m,type:K,compare:be===void 0?null:be}},St.startTransition=function(K){var be=$.T,Oe={};$.T=Oe;try{var Re=K(),He=$.S;He!==null&&He(Oe,Re),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"&&Re.then(ze,de)}catch(xt){de(xt)}finally{$.T=be}},St.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},St.use=function(K){return $.H.use(K)},St.useActionState=function(K,be,Oe){return $.H.useActionState(K,be,Oe)},St.useCallback=function(K,be){return $.H.useCallback(K,be)},St.useContext=function(K){return $.H.useContext(K)},St.useDebugValue=function(){},St.useDeferredValue=function(K,be){return $.H.useDeferredValue(K,be)},St.useEffect=function(K,be,Oe){var Re=$.H;if(typeof Oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Re.useEffect(K,be)},St.useId=function(){return $.H.useId()},St.useImperativeHandle=function(K,be,Oe){return $.H.useImperativeHandle(K,be,Oe)},St.useInsertionEffect=function(K,be){return $.H.useInsertionEffect(K,be)},St.useLayoutEffect=function(K,be){return $.H.useLayoutEffect(K,be)},St.useMemo=function(K,be){return $.H.useMemo(K,be)},St.useOptimistic=function(K,be){return $.H.useOptimistic(K,be)},St.useReducer=function(K,be,Oe){return $.H.useReducer(K,be,Oe)},St.useRef=function(K){return $.H.useRef(K)},St.useState=function(K){return $.H.useState(K)},St.useSyncExternalStore=function(K,be,Oe){return $.H.useSyncExternalStore(K,be,Oe)},St.useTransition=function(){return $.H.useTransition()},St.version="19.1.0",St}var Cw;function dc(){return Cw||(Cw=1,sg.exports=PN()),sg.exports}var ag={exports:{}},Kr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function zN(){if(_w)return Kr;_w=1;var t=dc();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(h,m,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:C==null?null:""+C,children:h,containerInfo:m,implementation:b}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Kr.createPortal=function(h,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return s(h,m,null,b)},Kr.flushSync=function(h){var m=l.T,b=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=m,r.p=b,r.d.f()}},Kr.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(h,m))},Kr.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Kr.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var b=m.as,C=d(b,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?r.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:C,integrity:E,fetchPriority:A}):b==="script"&&r.d.X(h,{crossOrigin:C,integrity:E,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Kr.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=d(m.as,m.crossOrigin);r.d.M(h,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(h)},Kr.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,C=d(b,m.crossOrigin);r.d.L(h,b,{crossOrigin:C,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Kr.preloadModule=function(h,m){if(typeof h=="string")if(m){var b=d(m.as,m.crossOrigin);r.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(h)},Kr.requestFormReset=function(h){r.d.r(h)},Kr.unstable_batchedUpdates=function(h,m){return h(m)},Kr.useFormState=function(h,m,b){return l.H.useFormState(h,m,b)},Kr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Kr.version="19.1.0",Kr}var Sw;function H_(){if(Sw)return ag.exports;Sw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ag.exports=zN(),ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function FN(){if(Ew)return Td;Ew=1;var t=jN(),e=dc(),n=H_();function r(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,p=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(p=c.return),a=c.return;while(a)}return c.tag===3?p:null}function l(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function h(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(r(188));return c!==a?null:a}for(var p=a,y=c;;){var S=p.return;if(S===null)break;var O=S.alternate;if(O===null){if(y=S.return,y!==null){p=y;continue}break}if(S.child===O.child){for(O=S.child;O;){if(O===p)return d(S),a;if(O===y)return d(S),c;O=O.sibling}throw Error(r(188))}if(p.return!==y.return)p=S,y=O;else{for(var B=!1,H=S.child;H;){if(H===p){B=!0,p=S,y=O;break}if(H===y){B=!0,y=S,p=O;break}H=H.sibling}if(!B){for(H=O.child;H;){if(H===p){B=!0,p=O,y=S;break}if(H===y){B=!0,y=O,p=S;break}H=H.sibling}if(!B)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?a:c}function m(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=m(a),c!==null)return c;a=a.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),P=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),Ce=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function me(a){return a===null||typeof a!="object"?null:(a=we&&a[we]||a["@@iterator"],typeof a=="function"?a:null)}var Pe=Symbol.for("react.client.reference");function De(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Pe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case I:return"Profiler";case R:return"StrictMode";case $:return"Suspense";case V:return"SuspenseList";case Z:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case A:return"Portal";case P:return(a.displayName||"Context")+".Provider";case F:return(a._context.displayName||"Context")+".Consumer";case q:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case G:return c=a.displayName||null,c!==null?c:De(a.type)||"Memo";case Q:c=a._payload,a=a._init;try{return De(a(c))}catch{}}return null}var ee=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ze=[],K=-1;function be(a){return{current:a}}function Oe(a){0>K||(a.current=ze[K],ze[K]=null,K--)}function Re(a,c){K++,ze[K]=a.current,a.current=c}var He=be(null),xt=be(null),Me=be(null),pr=be(null);function mt(a,c){switch(Re(Me,c),Re(xt,a),Re(He,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?Gv(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=Gv(c),a=qv(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Oe(He),Re(He,a)}function $r(){Oe(He),Oe(xt),Oe(Me)}function On(a){a.memoizedState!==null&&Re(pr,a);var c=He.current,p=qv(c,a.type);c!==p&&(Re(xt,a),Re(He,p))}function Cn(a){xt.current===a&&(Oe(He),Oe(xt)),pr.current===a&&(Oe(pr),wd._currentValue=de)}var vs=Object.prototype.hasOwnProperty,Lt=t.unstable_scheduleCallback,Sr=t.unstable_cancelCallback,yi=t.unstable_shouldYield,ga=t.unstable_requestPaint,Kt=t.unstable_now,Jt=t.unstable_getCurrentPriorityLevel,It=t.unstable_ImmediatePriority,xa=t.unstable_UserBlockingPriority,Ge=t.unstable_NormalPriority,bi=t.unstable_LowPriority,ws=t.unstable_IdlePriority,vi=t.log,ya=t.unstable_setDisableYieldValue,_n=null,Sn=null;function or(a){if(typeof vi=="function"&&ya(a),Sn&&typeof Sn.setStrictMode=="function")try{Sn.setStrictMode(_n,a)}catch{}}var $t=Math.clz32?Math.clz32:xc,gc=Math.log,ii=Math.LN2;function xc(a){return a>>>=0,a===0?32:31-(gc(a)/ii|0)|0}var dn=256,Ue=4194304;function rn(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ht(a,c,p){var y=a.pendingLanes;if(y===0)return 0;var S=0,O=a.suspendedLanes,B=a.pingedLanes;a=a.warmLanes;var H=y&134217727;return H!==0?(y=H&~O,y!==0?S=rn(y):(B&=H,B!==0?S=rn(B):p||(p=H&~a,p!==0&&(S=rn(p))))):(H=y&~O,H!==0?S=rn(H):B!==0?S=rn(B):p||(p=y&~a,p!==0&&(S=rn(p)))),S===0?0:c!==0&&c!==S&&(c&O)===0&&(O=S&-S,p=c&-c,O>=p||O===32&&(p&4194048)!==0)?c:S}function Gt(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function Fs(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(){var a=dn;return dn<<=1,(dn&4194048)===0&&(dn=256),a}function ml(){var a=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),a}function kt(a){for(var c=[],p=0;31>p;p++)c.push(a);return c}function si(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function gl(a,c,p,y,S,O){var B=a.pendingLanes;a.pendingLanes=p,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=p,a.entangledLanes&=p,a.errorRecoveryDisabledLanes&=p,a.shellSuspendCounter=0;var H=a.entanglements,J=a.expirationTimes,fe=a.hiddenUpdates;for(p=B&~p;0<p;){var Se=31-$t(p),Ne=1<<Se;H[Se]=0,J[Se]=-1;var pe=fe[Se];if(pe!==null)for(fe[Se]=null,Se=0;Se<pe.length;Se++){var xe=pe[Se];xe!==null&&(xe.lane&=-536870913)}p&=~Ne}y!==0&&Hs(a,y,0),O!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=O&~(B&~c))}function Hs(a,c,p){a.pendingLanes|=c,a.suspendedLanes&=~c;var y=31-$t(c);a.entangledLanes|=c,a.entanglements[y]=a.entanglements[y]|1073741824|p&4194090}function mr(a,c){var p=a.entangledLanes|=c;for(a=a.entanglements;p;){var y=31-$t(p),S=1<<y;S&c|a[y]&c&&(a[y]|=c),p&=~S}}function ba(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function $n(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ne(){var a=ae.p;return a!==0?a:(a=window.event,a===void 0?32:dw(a.type))}function oe(a,c){var p=ae.p;try{return ae.p=a,c()}finally{ae.p=p}}var he=Math.random().toString(36).slice(2),Te="__reactFiber$"+he,Le="__reactProps$"+he,Xe="__reactContainer$"+he,Ye="__reactEvents$"+he,Ve="__reactListeners$"+he,qe="__reactHandles$"+he,_e="__reactResources$"+he,st="__reactMarker$"+he;function Je(a){delete a[Te],delete a[Le],delete a[Ye],delete a[Ve],delete a[qe]}function Qe(a){var c=a[Te];if(c)return c;for(var p=a.parentNode;p;){if(c=p[Xe]||p[Te]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(a=Kv(a);a!==null;){if(p=a[Te])return p;a=Kv(a)}return c}a=p,p=a.parentNode}return null}function Et(a){if(a=a[Te]||a[Xe]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function en(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(r(33))}function fn(a){var c=a[_e];return c||(c=a[_e]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function vt(a){a[st]=!0}var jt=new Set,Vs={};function En(a,c){hn(a,c),hn(a+"Capture",c)}function hn(a,c){for(Vs[a]=c,a=0;a<c.length;a++)jt.add(c[a])}var Ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cs={},Lr={};function va(a){return vs.call(Lr,a)?!0:vs.call(Cs,a)?!1:Ot.test(a)?Lr[a]=!0:(Cs[a]=!0,!1)}function Ee(a,c,p){if(va(c))if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+p)}}function _s(a,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+p)}}function et(a,c,p,y){if(y===null)a.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(p);return}a.setAttributeNS(c,p,""+y)}}var Pn,ki;function wt(a){if(Pn===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Pn=c&&c[1]||"",ki=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pn+a+ki}var Mt=!1;function tt(a,c){if(!a||Mt)return"";Mt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(xe){var pe=xe}Reflect.construct(a,[],Ne)}else{try{Ne.call()}catch(xe){pe=xe}a.call(Ne.prototype)}}else{try{throw Error()}catch(xe){pe=xe}(Ne=a())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(xe){if(xe&&pe&&typeof xe.stack=="string")return[xe.stack,pe.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=y.DetermineComponentFrameRoot(),B=O[0],H=O[1];if(B&&H){var J=B.split(`
`),fe=H.split(`
`);for(S=y=0;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;for(;S<fe.length&&!fe[S].includes("DetermineComponentFrameRoot");)S++;if(y===J.length||S===fe.length)for(y=J.length-1,S=fe.length-1;1<=y&&0<=S&&J[y]!==fe[S];)S--;for(;1<=y&&0<=S;y--,S--)if(J[y]!==fe[S]){if(y!==1||S!==1)do if(y--,S--,0>S||J[y]!==fe[S]){var Se=`
`+J[y].replace(" at new "," at ");return a.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",a.displayName)),Se}while(1<=y&&0<=S);break}}}finally{Mt=!1,Error.prepareStackTrace=p}return(p=a?a.displayName||a.name:"")?wt(p):""}function Zi(a){switch(a.tag){case 26:case 27:case 5:return wt(a.type);case 16:return wt("Lazy");case 13:return wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return tt(a.type,!1);case 11:return tt(a.type.render,!1);case 1:return tt(a.type,!0);case 31:return wt("Activity");default:return""}}function wa(a){try{var c="";do c+=Zi(a),a=a.return;while(a);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Er(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Gn(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function $s(a){var c=Gn(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),y=""+a[c];if(!a.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,O=p.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return S.call(this)},set:function(B){y=""+B,O.call(this,B)}}),Object.defineProperty(a,c,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(B){y=""+B},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function yc(a){a._valueTracker||(a._valueTracker=$s(a))}function kn(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var p=c.getValue(),y="";return a&&(y=Gn(a)?a.checked?"true":"false":a.value),a=y,a!==p?(c.setValue(a),!0):!1}function Di(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var o0=/[\n"\\]/g;function gr(a){return a.replace(o0,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function tn(a,c,p,y,S,O,B,H){a.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.type=B:a.removeAttribute("type"),c!=null?B==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Er(c)):a.value!==""+Er(c)&&(a.value=""+Er(c)):B!=="submit"&&B!=="reset"||a.removeAttribute("value"),c!=null?ce(a,B,Er(c)):p!=null?ce(a,B,Er(p)):y!=null&&a.removeAttribute("value"),S==null&&O!=null&&(a.defaultChecked=!!O),S!=null&&(a.checked=S&&typeof S!="function"&&typeof S!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.name=""+Er(H):a.removeAttribute("name")}function xr(a,c,p,y,S,O,B,H){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.type=O),c!=null||p!=null){if(!(O!=="submit"&&O!=="reset"||c!=null))return;p=p!=null?""+Er(p):"",c=c!=null?""+Er(c):p,H||c===a.value||(a.value=c),a.defaultValue=c}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,a.checked=H?a.checked:!!y,a.defaultChecked=!!y,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(a.name=B)}function ce(a,c,p){c==="number"&&Di(a.ownerDocument)===a||a.defaultValue===""+p||(a.defaultValue=""+p)}function W(a,c,p,y){if(a=a.options,c){c={};for(var S=0;S<p.length;S++)c["$"+p[S]]=!0;for(p=0;p<a.length;p++)S=c.hasOwnProperty("$"+a[p].value),a[p].selected!==S&&(a[p].selected=S),S&&y&&(a[p].defaultSelected=!0)}else{for(p=""+Er(p),c=null,S=0;S<a.length;S++){if(a[S].value===p){a[S].selected=!0,y&&(a[S].defaultSelected=!0);return}c!==null||a[S].disabled||(c=a[S])}c!==null&&(c.selected=!0)}}function nt(a,c,p){if(c!=null&&(c=""+Er(c),c!==a.value&&(a.value=c),p==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=p!=null?""+Er(p):""}function Qn(a,c,p,y){if(c==null){if(y!=null){if(p!=null)throw Error(r(92));if(ee(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),c=p}p=Er(c),a.defaultValue=p,y=a.textContent,y===p&&y!==""&&y!==null&&(a.value=y)}function yr(a,c){if(c){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=c;return}}a.textContent=c}var l0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bc(a,c,p){var y=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":y?a.setProperty(c,p):typeof p!="number"||p===0||l0.has(c)?c==="float"?a.cssFloat=p:a[c]=(""+p).trim():a[c]=p+"px"}function ai(a,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(a=a.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?a.setProperty(y,""):y==="float"?a.cssFloat="":a[y]="");for(var S in c)y=c[S],c.hasOwnProperty(S)&&p[S]!==y&&bc(a,S,y)}else for(var O in c)c.hasOwnProperty(O)&&bc(a,O,c[O])}function rt(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vc(a){return Bf.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var xl=null;function io(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Gs=null,so=null;function Jn(a){var c=Et(a);if(c&&(a=c.stateNode)){var p=a[Le]||null;e:switch(a=c.stateNode,c.type){case"input":if(tn(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+gr(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var y=p[c];if(y!==a&&y.form===a.form){var S=y[Le]||null;if(!S)throw Error(r(90));tn(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(c=0;c<p.length;c++)y=p[c],y.form===a.form&&kn(y)}break e;case"textarea":nt(a,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&W(a,!!p.multiple,c,!1)}}}var Ca=!1;function Ss(a,c,p){if(Ca)return a(c,p);Ca=!0;try{var y=a(c);return y}finally{if(Ca=!1,(Gs!==null||so!==null)&&(vh(),Gs&&(c=Gs,a=so,so=Gs=null,Jn(c),a)))for(c=0;c<a.length;c++)Jn(a[c])}}function at(a,c){var p=a.stateNode;if(p===null)return null;var y=p[Le]||null;if(y===null)return null;p=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yt=!1;if(Es)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){yt=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{yt=!1}var qs=null,yl=null,bl=null;function Ws(){if(bl)return bl;var a,c=yl,p=c.length,y,S="value"in qs?qs.value:qs.textContent,O=S.length;for(a=0;a<p&&c[a]===S[a];a++);var B=p-a;for(y=1;y<=B&&c[p-y]===S[O-y];y++);return bl=S.slice(a,1<y?1-y:void 0)}function wc(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Xs(){return!0}function ao(){return!1}function lr(a){function c(p,y,S,O,B){this._reactName=p,this._targetInst=S,this.type=y,this.nativeEvent=O,this.target=B,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(p=a[H],this[H]=p?p(O):O[H]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Xs:ao,this.isPropagationStopped=ao,this}return b(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),c}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=lr(Ys),As=b({},Ys,{view:0,detail:0}),Gr=lr(As),Cc,_c,oo,Sc=b({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==oo&&(oo&&a.type==="mousemove"?(Cc=a.screenX-oo.screenX,_c=a.screenY-oo.screenY):_c=Cc=0,oo=a),Cc)},movementY:function(a){return"movementY"in a?a.movementY:_c}}),Lf=lr(Sc),c0=b({},Sc,{dataTransfer:0}),nn=lr(c0),jf=b({},As,{relatedTarget:0}),lo=lr(jf),Zs=b({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),u0=lr(Zs),ye=b({},Ys,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),_t=lr(ye),br=b({},Ys,{data:0}),vl=lr(br),Pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h0(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=f0[a])?!!c[a]:!1}function wl(){return h0}var er=b({},As,{key:function(a){if(a.key){var c=Pf[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=wc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?d0[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(a){return a.type==="keypress"?wc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?wc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ju=lr(er),Dn=b({},Sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cl=lr(Dn),_a=b({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),sn=lr(_a),ct=b({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),p0=lr(ct),yn=b({},Sc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Sa=lr(yn),co=b({},Ys,{newState:0,oldState:0}),m0=lr(co),Qi=[9,13,27,32],_l=Es&&"CompositionEvent"in window,uo=null;Es&&"documentMode"in document&&(uo=document.documentMode);var Pu=Es&&"TextEvent"in window&&!uo,zu=Es&&(!_l||uo&&8<uo&&11>=uo),Fu=" ",zf=!1;function Ea(a,c){switch(a){case"keyup":return Qi.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ec(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var fo=!1;function Sl(a,c){switch(a){case"compositionend":return Ec(c);case"keypress":return c.which!==32?null:(zf=!0,Fu);case"textInput":return a=c.data,a===Fu&&zf?null:a;default:return null}}function g0(a,c){if(fo)return a==="compositionend"||!_l&&Ea(a,c)?(a=Ws(),bl=yl=qs=null,fo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return zu&&c.locale!=="ko"?null:c.data;default:return null}}var Qs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function El(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!Qs[a.type]:c==="textarea"}function oi(a,c,p,y){Gs?so?so.push(y):so=[y]:Gs=y,c=Ah(c,"onChange"),0<c.length&&(p=new Ks("onChange","change",null,p,y),a.push({event:p,listeners:c}))}var ho=null,qr=null;function x0(a){Fv(a,0)}function po(a){var c=en(a);if(kn(c))return a}function Ff(a,c){if(a==="change")return c}var Uu=!1;if(Es){var wi;if(Es){var Hu="oninput"in document;if(!Hu){var Ac=document.createElement("div");Ac.setAttribute("oninput","return;"),Hu=typeof Ac.oninput=="function"}wi=Hu}else wi=!1;Uu=wi&&(!document.documentMode||9<document.documentMode)}function mo(){ho&&(ho.detachEvent("onpropertychange",Ut),qr=ho=null)}function Ut(a){if(a.propertyName==="value"&&po(qr)){var c=[];oi(c,qr,a,io(a)),Ss(x0,c)}}function Tc(a,c,p){a==="focusin"?(mo(),ho=c,qr=p,ho.attachEvent("onpropertychange",Ut)):a==="focusout"&&mo()}function L(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return po(qr)}function o(a,c){if(a==="click")return po(c)}function u(a,c){if(a==="input"||a==="change")return po(c)}function f(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var g=typeof Object.is=="function"?Object.is:f;function x(a,c){if(g(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var p=Object.keys(a),y=Object.keys(c);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var S=p[y];if(!vs.call(c,S)||!g(a[S],c[S]))return!1}return!0}function v(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function _(a,c){var p=v(a);a=0;for(var y;p;){if(p.nodeType===3){if(y=a+p.textContent.length,a<=c&&y>=c)return{node:p,offset:c-a};a=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=v(p)}}function N(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?N(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function M(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=Di(a.document);c instanceof a.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)a=c.contentWindow;else break;c=Di(a.document)}return c}function k(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var j=Es&&"documentMode"in document&&11>=document.documentMode,U=null,X=null,te=null,re=!1;function le(a,c,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;re||U==null||U!==Di(y)||(y=U,"selectionStart"in y&&k(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),te&&x(te,y)||(te=y,y=Ah(X,"onSelect"),0<y.length&&(c=new Ks("onSelect","select",null,c,p),a.push({event:c,listeners:y}),c.target=U)))}function ge(a,c){var p={};return p[a.toLowerCase()]=c.toLowerCase(),p["Webkit"+a]="webkit"+c,p["Moz"+a]="moz"+c,p}var Be={animationend:ge("Animation","AnimationEnd"),animationiteration:ge("Animation","AnimationIteration"),animationstart:ge("Animation","AnimationStart"),transitionrun:ge("Transition","TransitionRun"),transitionstart:ge("Transition","TransitionStart"),transitioncancel:ge("Transition","TransitionCancel"),transitionend:ge("Transition","TransitionEnd")},je={},Ie={};Es&&(Ie=document.createElement("div").style,"AnimationEvent"in window||(delete Be.animationend.animation,delete Be.animationiteration.animation,delete Be.animationstart.animation),"TransitionEvent"in window||delete Be.transitionend.transition);function bt(a){if(je[a])return je[a];if(!Be[a])return a;var c=Be[a],p;for(p in c)if(c.hasOwnProperty(p)&&p in Ie)return je[a]=c[p];return a}var gt=bt("animationend"),jr=bt("animationiteration"),Ci=bt("animationstart"),Wr=bt("transitionrun"),an=bt("transitionstart"),vr=bt("transitioncancel"),Xr=bt("transitionend"),Aa=new Map,Js="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Js.push("scrollEnd");function Bi(a,c){Aa.set(a,c),En(c,[a])}var Uf=new WeakMap;function Ji(a,c){if(typeof a=="object"&&a!==null){var p=Uf.get(a);return p!==void 0?p:(c={value:a,source:c,stack:wa(c)},Uf.set(a,c),c)}return{value:a,source:c,stack:wa(c)}}var es=[],Nc=0,y0=0;function Hf(){for(var a=Nc,c=y0=Nc=0;c<a;){var p=es[c];es[c++]=null;var y=es[c];es[c++]=null;var S=es[c];es[c++]=null;var O=es[c];if(es[c++]=null,y!==null&&S!==null){var B=y.pending;B===null?S.next=S:(S.next=B.next,B.next=S),y.pending=S}O!==0&&Sy(p,S,O)}}function Vf(a,c,p,y){es[Nc++]=a,es[Nc++]=c,es[Nc++]=p,es[Nc++]=y,y0|=y,a.lanes|=y,a=a.alternate,a!==null&&(a.lanes|=y)}function b0(a,c,p,y){return Vf(a,c,p,y),$f(a)}function Oc(a,c){return Vf(a,null,null,c),$f(a)}function Sy(a,c,p){a.lanes|=p;var y=a.alternate;y!==null&&(y.lanes|=p);for(var S=!1,O=a.return;O!==null;)O.childLanes|=p,y=O.alternate,y!==null&&(y.childLanes|=p),O.tag===22&&(a=O.stateNode,a===null||a._visibility&1||(S=!0)),a=O,O=O.return;return a.tag===3?(O=a.stateNode,S&&c!==null&&(S=31-$t(p),a=O.hiddenUpdates,y=a[S],y===null?a[S]=[c]:y.push(c),c.lane=p|536870912),O):null}function $f(a){if(50<hd)throw hd=0,Em=null,Error(r(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var Mc={};function yT(a,c,p,y){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(a,c,p,y){return new yT(a,c,p,y)}function v0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ta(a,c){var p=a.alternate;return p===null?(p=Li(a.tag,c,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=c,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&65011712,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,c=a.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p.refCleanup=a.refCleanup,p}function Ey(a,c){a.flags&=65011714;var p=a.alternate;return p===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=p.childLanes,a.lanes=p.lanes,a.child=p.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=p.memoizedProps,a.memoizedState=p.memoizedState,a.updateQueue=p.updateQueue,a.type=p.type,c=p.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function Gf(a,c,p,y,S,O){var B=0;if(y=a,typeof a=="function")v0(a)&&(B=1);else if(typeof a=="string")B=vN(a,p,He.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Z:return a=Li(31,p,c,S),a.elementType=Z,a.lanes=O,a;case T:return Al(p.children,S,O,c);case R:B=8,S|=24;break;case I:return a=Li(12,p,c,S|2),a.elementType=I,a.lanes=O,a;case $:return a=Li(13,p,c,S),a.elementType=$,a.lanes=O,a;case V:return a=Li(19,p,c,S),a.elementType=V,a.lanes=O,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:case P:B=10;break e;case F:B=9;break e;case q:B=11;break e;case G:B=14;break e;case Q:B=16,y=null;break e}B=29,p=Error(r(130,a===null?"null":typeof a,"")),y=null}return c=Li(B,p,c,S),c.elementType=a,c.type=y,c.lanes=O,c}function Al(a,c,p,y){return a=Li(7,a,y,c),a.lanes=p,a}function w0(a,c,p){return a=Li(6,a,null,c),a.lanes=p,a}function C0(a,c,p){return c=Li(4,a.children!==null?a.children:[],a.key,c),c.lanes=p,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var Rc=[],Ic=0,qf=null,Wf=0,ts=[],ns=0,Tl=null,Na=1,Oa="";function Nl(a,c){Rc[Ic++]=Wf,Rc[Ic++]=qf,qf=a,Wf=c}function Ay(a,c,p){ts[ns++]=Na,ts[ns++]=Oa,ts[ns++]=Tl,Tl=a;var y=Na;a=Oa;var S=32-$t(y)-1;y&=~(1<<S),p+=1;var O=32-$t(c)+S;if(30<O){var B=S-S%5;O=(y&(1<<B)-1).toString(32),y>>=B,S-=B,Na=1<<32-$t(c)+S|p<<S|y,Oa=O+a}else Na=1<<O|p<<S|y,Oa=a}function _0(a){a.return!==null&&(Nl(a,1),Ay(a,1,0))}function S0(a){for(;a===qf;)qf=Rc[--Ic],Rc[Ic]=null,Wf=Rc[--Ic],Rc[Ic]=null;for(;a===Tl;)Tl=ts[--ns],ts[ns]=null,Oa=ts[--ns],ts[ns]=null,Na=ts[--ns],ts[ns]=null}var li=null,qn=null,Zt=!1,Ol=null,ea=!1,E0=Error(r(519));function Ml(a){var c=Error(r(418,""));throw Gu(Ji(c,a)),E0}function Ty(a){var c=a.stateNode,p=a.type,y=a.memoizedProps;switch(c[Te]=a,c[Le]=y,p){case"dialog":zt("cancel",c),zt("close",c);break;case"iframe":case"object":case"embed":zt("load",c);break;case"video":case"audio":for(p=0;p<md.length;p++)zt(md[p],c);break;case"source":zt("error",c);break;case"img":case"image":case"link":zt("error",c),zt("load",c);break;case"details":zt("toggle",c);break;case"input":zt("invalid",c),xr(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),yc(c);break;case"select":zt("invalid",c);break;case"textarea":zt("invalid",c),Qn(c,y.value,y.defaultValue,y.children),yc(c)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||y.suppressHydrationWarning===!0||$v(c.textContent,p)?(y.popover!=null&&(zt("beforetoggle",c),zt("toggle",c)),y.onScroll!=null&&zt("scroll",c),y.onScrollEnd!=null&&zt("scrollend",c),y.onClick!=null&&(c.onclick=Th),c=!0):c=!1,c||Ml(a)}function Ny(a){for(li=a.return;li;)switch(li.tag){case 5:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:li=li.return}}function Vu(a){if(a!==li)return!1;if(!Zt)return Ny(a),Zt=!0,!1;var c=a.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=a.type,p=!(p!=="form"&&p!=="button")||Um(a.type,a.memoizedProps)),p=!p),p&&qn&&Ml(a),Ny(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(p=a.data,p==="/$"){if(c===0){qn=Ns(a.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++;a=a.nextSibling}qn=null}}else c===27?(c=qn,Ro(a.type)?(a=Gm,Gm=null,qn=a):qn=c):qn=li?Ns(a.stateNode.nextSibling):null;return!0}function $u(){qn=li=null,Zt=!1}function Oy(){var a=Ol;return a!==null&&(Ei===null?Ei=a:Ei.push.apply(Ei,a),Ol=null),a}function Gu(a){Ol===null?Ol=[a]:Ol.push(a)}var A0=be(null),Rl=null,Ma=null;function go(a,c,p){Re(A0,c._currentValue),c._currentValue=p}function Ra(a){a._currentValue=A0.current,Oe(A0)}function T0(a,c,p){for(;a!==null;){var y=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),a===p)break;a=a.return}}function N0(a,c,p,y){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var O=S.dependencies;if(O!==null){var B=S.child;O=O.firstContext;e:for(;O!==null;){var H=O;O=S;for(var J=0;J<c.length;J++)if(H.context===c[J]){O.lanes|=p,H=O.alternate,H!==null&&(H.lanes|=p),T0(O.return,p,a),y||(B=null);break e}O=H.next}}else if(S.tag===18){if(B=S.return,B===null)throw Error(r(341));B.lanes|=p,O=B.alternate,O!==null&&(O.lanes|=p),T0(B,p,a),B=null}else B=S.child;if(B!==null)B.return=S;else for(B=S;B!==null;){if(B===a){B=null;break}if(S=B.sibling,S!==null){S.return=B.return,B=S;break}B=B.return}S=B}}function qu(a,c,p,y){a=null;for(var S=c,O=!1;S!==null;){if(!O){if((S.flags&524288)!==0)O=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var B=S.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var H=S.type;g(S.pendingProps.value,B.value)||(a!==null?a.push(H):a=[H])}}else if(S===pr.current){if(B=S.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(wd):a=[wd])}S=S.return}a!==null&&N0(c,a,p,y),c.flags|=262144}function Xf(a){for(a=a.firstContext;a!==null;){if(!g(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Il(a){Rl=a,Ma=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Yr(a){return My(Rl,a)}function Yf(a,c){return Rl===null&&Il(a),My(a,c)}function My(a,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},Ma===null){if(a===null)throw Error(r(308));Ma=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else Ma=Ma.next=c;return p}var bT=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(p,y){a.push(y)}};this.abort=function(){c.aborted=!0,a.forEach(function(p){return p()})}},vT=t.unstable_scheduleCallback,wT=t.unstable_NormalPriority,wr={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function O0(){return{controller:new bT,data:new Map,refCount:0}}function Wu(a){a.refCount--,a.refCount===0&&vT(wT,function(){a.controller.abort()})}var Xu=null,M0=0,kc=0,Dc=null;function CT(a,c){if(Xu===null){var p=Xu=[];M0=0,kc=Im(),Dc={status:"pending",value:void 0,then:function(y){p.push(y)}}}return M0++,c.then(Ry,Ry),c}function Ry(){if(--M0===0&&Xu!==null){Dc!==null&&(Dc.status="fulfilled");var a=Xu;Xu=null,kc=0,Dc=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function _T(a,c){var p=[],y={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return a.then(function(){y.status="fulfilled",y.value=c;for(var S=0;S<p.length;S++)(0,p[S])(c)},function(S){for(y.status="rejected",y.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),y}var Iy=Y.S;Y.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&CT(a,c),Iy!==null&&Iy(a,c)};var kl=be(null);function R0(){var a=kl.current;return a!==null?a:An.pooledCache}function Kf(a,c){c===null?Re(kl,kl.current):Re(kl,c.pool)}function ky(){var a=R0();return a===null?null:{parent:wr._currentValue,pool:a}}var Yu=Error(r(460)),Dy=Error(r(474)),Zf=Error(r(542)),I0={then:function(){}};function By(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Qf(){}function Ly(a,c,p){switch(p=a[p],p===void 0?a.push(c):p!==c&&(c.then(Qf,Qf),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Py(a),a;default:if(typeof c.status=="string")c.then(Qf,Qf);else{if(a=An,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=c,a.status="pending",a.then(function(y){if(c.status==="pending"){var S=c;S.status="fulfilled",S.value=y}},function(y){if(c.status==="pending"){var S=c;S.status="rejected",S.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Py(a),a}throw Ku=c,Yu}}var Ku=null;function jy(){if(Ku===null)throw Error(r(459));var a=Ku;return Ku=null,a}function Py(a){if(a===Yu||a===Zf)throw Error(r(483))}var xo=!1;function k0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function D0(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function yo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function bo(a,c,p){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(on&2)!==0){var S=y.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),y.pending=c,c=$f(a),Sy(a,null,p),c}return Vf(a,y,c,p),$f(a)}function Zu(a,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var y=c.lanes;y&=a.pendingLanes,p|=y,c.lanes=p,mr(a,p)}}function B0(a,c){var p=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var S=null,O=null;if(p=p.firstBaseUpdate,p!==null){do{var B={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};O===null?S=O=B:O=O.next=B,p=p.next}while(p!==null);O===null?S=O=c:O=O.next=c}else S=O=c;p={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:O,shared:y.shared,callbacks:y.callbacks},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=c}var L0=!1;function Qu(){if(L0){var a=Dc;if(a!==null)throw a}}function Ju(a,c,p,y){L0=!1;var S=a.updateQueue;xo=!1;var O=S.firstBaseUpdate,B=S.lastBaseUpdate,H=S.shared.pending;if(H!==null){S.shared.pending=null;var J=H,fe=J.next;J.next=null,B===null?O=fe:B.next=fe,B=J;var Se=a.alternate;Se!==null&&(Se=Se.updateQueue,H=Se.lastBaseUpdate,H!==B&&(H===null?Se.firstBaseUpdate=fe:H.next=fe,Se.lastBaseUpdate=J))}if(O!==null){var Ne=S.baseState;B=0,Se=fe=J=null,H=O;do{var pe=H.lane&-536870913,xe=pe!==H.lane;if(xe?(Vt&pe)===pe:(y&pe)===pe){pe!==0&&pe===kc&&(L0=!0),Se!==null&&(Se=Se.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var ht=a,ut=H;pe=c;var gn=p;switch(ut.tag){case 1:if(ht=ut.payload,typeof ht=="function"){Ne=ht.call(gn,Ne,pe);break e}Ne=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ut.payload,pe=typeof ht=="function"?ht.call(gn,Ne,pe):ht,pe==null)break e;Ne=b({},Ne,pe);break e;case 2:xo=!0}}pe=H.callback,pe!==null&&(a.flags|=64,xe&&(a.flags|=8192),xe=S.callbacks,xe===null?S.callbacks=[pe]:xe.push(pe))}else xe={lane:pe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Se===null?(fe=Se=xe,J=Ne):Se=Se.next=xe,B|=pe;if(H=H.next,H===null){if(H=S.shared.pending,H===null)break;xe=H,H=xe.next,xe.next=null,S.lastBaseUpdate=xe,S.shared.pending=null}}while(!0);Se===null&&(J=Ne),S.baseState=J,S.firstBaseUpdate=fe,S.lastBaseUpdate=Se,O===null&&(S.shared.lanes=0),To|=B,a.lanes=B,a.memoizedState=Ne}}function zy(a,c){if(typeof a!="function")throw Error(r(191,a));a.call(c)}function Fy(a,c){var p=a.callbacks;if(p!==null)for(a.callbacks=null,a=0;a<p.length;a++)zy(p[a],c)}var Bc=be(null),Jf=be(0);function Uy(a,c){a=Pa,Re(Jf,a),Re(Bc,c),Pa=a|c.baseLanes}function j0(){Re(Jf,Pa),Re(Bc,Bc.current)}function P0(){Pa=Jf.current,Oe(Bc),Oe(Jf)}var vo=0,Rt=null,pn=null,cr=null,eh=!1,Lc=!1,Dl=!1,th=0,ed=0,jc=null,ST=0;function tr(){throw Error(r(321))}function z0(a,c){if(c===null)return!1;for(var p=0;p<c.length&&p<a.length;p++)if(!g(a[p],c[p]))return!1;return!0}function F0(a,c,p,y,S,O){return vo=O,Rt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Y.H=a===null||a.memoizedState===null?Sb:Eb,Dl=!1,O=p(y,S),Dl=!1,Lc&&(O=Vy(c,p,y,S)),Hy(a),O}function Hy(a){Y.H=oh;var c=pn!==null&&pn.next!==null;if(vo=0,cr=pn=Rt=null,eh=!1,ed=0,jc=null,c)throw Error(r(300));a===null||Ar||(a=a.dependencies,a!==null&&Xf(a)&&(Ar=!0))}function Vy(a,c,p,y){Rt=a;var S=0;do{if(Lc&&(jc=null),ed=0,Lc=!1,25<=S)throw Error(r(301));if(S+=1,cr=pn=null,a.updateQueue!=null){var O=a.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}Y.H=RT,O=c(p,y)}while(Lc);return O}function ET(){var a=Y.H,c=a.useState()[0];return c=typeof c.then=="function"?td(c):c,a=a.useState()[0],(pn!==null?pn.memoizedState:null)!==a&&(Rt.flags|=1024),c}function U0(){var a=th!==0;return th=0,a}function H0(a,c,p){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~p}function V0(a){if(eh){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}eh=!1}vo=0,cr=pn=Rt=null,Lc=!1,ed=th=0,jc=null}function _i(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?Rt.memoizedState=cr=a:cr=cr.next=a,cr}function ur(){if(pn===null){var a=Rt.alternate;a=a!==null?a.memoizedState:null}else a=pn.next;var c=cr===null?Rt.memoizedState:cr.next;if(c!==null)cr=c,pn=a;else{if(a===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));pn=a,a={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},cr===null?Rt.memoizedState=cr=a:cr=cr.next=a}return cr}function $0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function td(a){var c=ed;return ed+=1,jc===null&&(jc=[]),a=Ly(jc,a,c),c=Rt,(cr===null?c.memoizedState:cr.next)===null&&(c=c.alternate,Y.H=c===null||c.memoizedState===null?Sb:Eb),a}function nh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return td(a);if(a.$$typeof===P)return Yr(a)}throw Error(r(438,String(a)))}function G0(a){var c=null,p=Rt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var y=Rt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(S){return S.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=$0(),Rt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(a),y=0;y<a;y++)p[y]=Ce;return c.index++,p}function Ia(a,c){return typeof c=="function"?c(a):c}function rh(a){var c=ur();return q0(c,pn,a)}function q0(a,c,p){var y=a.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=p;var S=a.baseQueue,O=y.pending;if(O!==null){if(S!==null){var B=S.next;S.next=O.next,O.next=B}c.baseQueue=S=O,y.pending=null}if(O=a.baseState,S===null)a.memoizedState=O;else{c=S.next;var H=B=null,J=null,fe=c,Se=!1;do{var Ne=fe.lane&-536870913;if(Ne!==fe.lane?(Vt&Ne)===Ne:(vo&Ne)===Ne){var pe=fe.revertLane;if(pe===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ne===kc&&(Se=!0);else if((vo&pe)===pe){fe=fe.next,pe===kc&&(Se=!0);continue}else Ne={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},J===null?(H=J=Ne,B=O):J=J.next=Ne,Rt.lanes|=pe,To|=pe;Ne=fe.action,Dl&&p(O,Ne),O=fe.hasEagerState?fe.eagerState:p(O,Ne)}else pe={lane:Ne,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},J===null?(H=J=pe,B=O):J=J.next=pe,Rt.lanes|=Ne,To|=Ne;fe=fe.next}while(fe!==null&&fe!==c);if(J===null?B=O:J.next=H,!g(O,a.memoizedState)&&(Ar=!0,Se&&(p=Dc,p!==null)))throw p;a.memoizedState=O,a.baseState=B,a.baseQueue=J,y.lastRenderedState=O}return S===null&&(y.lanes=0),[a.memoizedState,y.dispatch]}function W0(a){var c=ur(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=a;var y=p.dispatch,S=p.pending,O=c.memoizedState;if(S!==null){p.pending=null;var B=S=S.next;do O=a(O,B.action),B=B.next;while(B!==S);g(O,c.memoizedState)||(Ar=!0),c.memoizedState=O,c.baseQueue===null&&(c.baseState=O),p.lastRenderedState=O}return[O,y]}function $y(a,c,p){var y=Rt,S=ur(),O=Zt;if(O){if(p===void 0)throw Error(r(407));p=p()}else p=c();var B=!g((pn||S).memoizedState,p);B&&(S.memoizedState=p,Ar=!0),S=S.queue;var H=Wy.bind(null,y,S,a);if(nd(2048,8,H,[a]),S.getSnapshot!==c||B||cr!==null&&cr.memoizedState.tag&1){if(y.flags|=2048,Pc(9,ih(),qy.bind(null,y,S,p,c),null),An===null)throw Error(r(349));O||(vo&124)!==0||Gy(y,c,p)}return p}function Gy(a,c,p){a.flags|=16384,a={getSnapshot:c,value:p},c=Rt.updateQueue,c===null?(c=$0(),Rt.updateQueue=c,c.stores=[a]):(p=c.stores,p===null?c.stores=[a]:p.push(a))}function qy(a,c,p,y){c.value=p,c.getSnapshot=y,Xy(c)&&Yy(a)}function Wy(a,c,p){return p(function(){Xy(c)&&Yy(a)})}function Xy(a){var c=a.getSnapshot;a=a.value;try{var p=c();return!g(a,p)}catch{return!0}}function Yy(a){var c=Oc(a,2);c!==null&&Ui(c,a,2)}function X0(a){var c=_i();if(typeof a=="function"){var p=a;if(a=p(),Dl){or(!0);try{p()}finally{or(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:a},c}function Ky(a,c,p,y){return a.baseState=p,q0(a,pn,typeof y=="function"?y:Ia)}function AT(a,c,p,y,S){if(ah(a))throw Error(r(485));if(a=c.action,a!==null){var O={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){O.listeners.push(B)}};Y.T!==null?p(!0):O.isTransition=!1,y(O),p=c.pending,p===null?(O.next=c.pending=O,Zy(c,O)):(O.next=p.next,c.pending=p.next=O)}}function Zy(a,c){var p=c.action,y=c.payload,S=a.state;if(c.isTransition){var O=Y.T,B={};Y.T=B;try{var H=p(S,y),J=Y.S;J!==null&&J(B,H),Qy(a,c,H)}catch(fe){Y0(a,c,fe)}finally{Y.T=O}}else try{O=p(S,y),Qy(a,c,O)}catch(fe){Y0(a,c,fe)}}function Qy(a,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){Jy(a,c,y)},function(y){return Y0(a,c,y)}):Jy(a,c,p)}function Jy(a,c,p){c.status="fulfilled",c.value=p,eb(c),a.state=p,c=a.pending,c!==null&&(p=c.next,p===c?a.pending=null:(p=p.next,c.next=p,Zy(a,p)))}function Y0(a,c,p){var y=a.pending;if(a.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=p,eb(c),c=c.next;while(c!==y)}a.action=null}function eb(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function tb(a,c){return c}function nb(a,c){if(Zt){var p=An.formState;if(p!==null){e:{var y=Rt;if(Zt){if(qn){t:{for(var S=qn,O=ea;S.nodeType!==8;){if(!O){S=null;break t}if(S=Ns(S.nextSibling),S===null){S=null;break t}}O=S.data,S=O==="F!"||O==="F"?S:null}if(S){qn=Ns(S.nextSibling),y=S.data==="F!";break e}}Ml(y)}y=!1}y&&(c=p[0])}}return p=_i(),p.memoizedState=p.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tb,lastRenderedState:c},p.queue=y,p=wb.bind(null,Rt,y),y.dispatch=p,y=X0(!1),O=em.bind(null,Rt,!1,y.queue),y=_i(),S={state:c,dispatch:null,action:a,pending:null},y.queue=S,p=AT.bind(null,Rt,S,O,p),S.dispatch=p,y.memoizedState=a,[c,p,!1]}function rb(a){var c=ur();return ib(c,pn,a)}function ib(a,c,p){if(c=q0(a,c,tb)[0],a=rh(Ia)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var y=td(c)}catch(B){throw B===Yu?Zf:B}else y=c;c=ur();var S=c.queue,O=S.dispatch;return p!==c.memoizedState&&(Rt.flags|=2048,Pc(9,ih(),TT.bind(null,S,p),null)),[y,O,a]}function TT(a,c){a.action=c}function sb(a){var c=ur(),p=pn;if(p!==null)return ib(c,p,a);ur(),c=c.memoizedState,p=ur();var y=p.queue.dispatch;return p.memoizedState=a,[c,y,!1]}function Pc(a,c,p,y){return a={tag:a,create:p,deps:y,inst:c,next:null},c=Rt.updateQueue,c===null&&(c=$0(),Rt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=a.next=a:(y=p.next,p.next=a,a.next=y,c.lastEffect=a),a}function ih(){return{destroy:void 0,resource:void 0}}function ab(){return ur().memoizedState}function sh(a,c,p,y){var S=_i();y=y===void 0?null:y,Rt.flags|=a,S.memoizedState=Pc(1|c,ih(),p,y)}function nd(a,c,p,y){var S=ur();y=y===void 0?null:y;var O=S.memoizedState.inst;pn!==null&&y!==null&&z0(y,pn.memoizedState.deps)?S.memoizedState=Pc(c,O,p,y):(Rt.flags|=a,S.memoizedState=Pc(1|c,O,p,y))}function ob(a,c){sh(8390656,8,a,c)}function lb(a,c){nd(2048,8,a,c)}function cb(a,c){return nd(4,2,a,c)}function ub(a,c){return nd(4,4,a,c)}function db(a,c){if(typeof c=="function"){a=a();var p=c(a);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function fb(a,c,p){p=p!=null?p.concat([a]):null,nd(4,4,db.bind(null,c,a),p)}function K0(){}function hb(a,c){var p=ur();c=c===void 0?null:c;var y=p.memoizedState;return c!==null&&z0(c,y[1])?y[0]:(p.memoizedState=[a,c],a)}function pb(a,c){var p=ur();c=c===void 0?null:c;var y=p.memoizedState;if(c!==null&&z0(c,y[1]))return y[0];if(y=a(),Dl){or(!0);try{a()}finally{or(!1)}}return p.memoizedState=[y,c],y}function Z0(a,c,p){return p===void 0||(vo&1073741824)!==0?a.memoizedState=c:(a.memoizedState=p,a=xv(),Rt.lanes|=a,To|=a,p)}function mb(a,c,p,y){return g(p,c)?p:Bc.current!==null?(a=Z0(a,p,y),g(a,c)||(Ar=!0),a):(vo&42)===0?(Ar=!0,a.memoizedState=p):(a=xv(),Rt.lanes|=a,To|=a,c)}function gb(a,c,p,y,S){var O=ae.p;ae.p=O!==0&&8>O?O:8;var B=Y.T,H={};Y.T=H,em(a,!1,c,p);try{var J=S(),fe=Y.S;if(fe!==null&&fe(H,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Se=_T(J,y);rd(a,c,Se,Fi(a))}else rd(a,c,y,Fi(a))}catch(Ne){rd(a,c,{then:function(){},status:"rejected",reason:Ne},Fi())}finally{ae.p=O,Y.T=B}}function NT(){}function Q0(a,c,p,y){if(a.tag!==5)throw Error(r(476));var S=xb(a).queue;gb(a,S,c,de,p===null?NT:function(){return yb(a),p(y)})}function xb(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:de},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:p},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function yb(a){var c=xb(a).next.queue;rd(a,c,{},Fi())}function J0(){return Yr(wd)}function bb(){return ur().memoizedState}function vb(){return ur().memoizedState}function OT(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var p=Fi();a=yo(p);var y=bo(c,a,p);y!==null&&(Ui(y,c,p),Zu(y,c,p)),c={cache:O0()},a.payload=c;return}c=c.return}}function MT(a,c,p){var y=Fi();p={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},ah(a)?Cb(c,p):(p=b0(a,c,p,y),p!==null&&(Ui(p,a,y),_b(p,c,y)))}function wb(a,c,p){var y=Fi();rd(a,c,p,y)}function rd(a,c,p,y){var S={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(ah(a))Cb(c,S);else{var O=a.alternate;if(a.lanes===0&&(O===null||O.lanes===0)&&(O=c.lastRenderedReducer,O!==null))try{var B=c.lastRenderedState,H=O(B,p);if(S.hasEagerState=!0,S.eagerState=H,g(H,B))return Vf(a,c,S,0),An===null&&Hf(),!1}catch{}finally{}if(p=b0(a,c,S,y),p!==null)return Ui(p,a,y),_b(p,c,y),!0}return!1}function em(a,c,p,y){if(y={lane:2,revertLane:Im(),action:y,hasEagerState:!1,eagerState:null,next:null},ah(a)){if(c)throw Error(r(479))}else c=b0(a,p,y,2),c!==null&&Ui(c,a,2)}function ah(a){var c=a.alternate;return a===Rt||c!==null&&c===Rt}function Cb(a,c){Lc=eh=!0;var p=a.pending;p===null?c.next=c:(c.next=p.next,p.next=c),a.pending=c}function _b(a,c,p){if((p&4194048)!==0){var y=c.lanes;y&=a.pendingLanes,p|=y,c.lanes=p,mr(a,p)}}var oh={readContext:Yr,use:nh,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useLayoutEffect:tr,useInsertionEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useSyncExternalStore:tr,useId:tr,useHostTransitionStatus:tr,useFormState:tr,useActionState:tr,useOptimistic:tr,useMemoCache:tr,useCacheRefresh:tr},Sb={readContext:Yr,use:nh,useCallback:function(a,c){return _i().memoizedState=[a,c===void 0?null:c],a},useContext:Yr,useEffect:ob,useImperativeHandle:function(a,c,p){p=p!=null?p.concat([a]):null,sh(4194308,4,db.bind(null,c,a),p)},useLayoutEffect:function(a,c){return sh(4194308,4,a,c)},useInsertionEffect:function(a,c){sh(4,2,a,c)},useMemo:function(a,c){var p=_i();c=c===void 0?null:c;var y=a();if(Dl){or(!0);try{a()}finally{or(!1)}}return p.memoizedState=[y,c],y},useReducer:function(a,c,p){var y=_i();if(p!==void 0){var S=p(c);if(Dl){or(!0);try{p(c)}finally{or(!1)}}}else S=c;return y.memoizedState=y.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},y.queue=a,a=a.dispatch=MT.bind(null,Rt,a),[y.memoizedState,a]},useRef:function(a){var c=_i();return a={current:a},c.memoizedState=a},useState:function(a){a=X0(a);var c=a.queue,p=wb.bind(null,Rt,c);return c.dispatch=p,[a.memoizedState,p]},useDebugValue:K0,useDeferredValue:function(a,c){var p=_i();return Z0(p,a,c)},useTransition:function(){var a=X0(!1);return a=gb.bind(null,Rt,a.queue,!0,!1),_i().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,p){var y=Rt,S=_i();if(Zt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),An===null)throw Error(r(349));(Vt&124)!==0||Gy(y,c,p)}S.memoizedState=p;var O={value:p,getSnapshot:c};return S.queue=O,ob(Wy.bind(null,y,O,a),[a]),y.flags|=2048,Pc(9,ih(),qy.bind(null,y,O,p,c),null),p},useId:function(){var a=_i(),c=An.identifierPrefix;if(Zt){var p=Oa,y=Na;p=(y&~(1<<32-$t(y)-1)).toString(32)+p,c=""+c+"R"+p,p=th++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=ST++,c=""+c+"r"+p.toString(32)+"";return a.memoizedState=c},useHostTransitionStatus:J0,useFormState:nb,useActionState:nb,useOptimistic:function(a){var c=_i();c.memoizedState=c.baseState=a;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=em.bind(null,Rt,!0,p),p.dispatch=c,[a,c]},useMemoCache:G0,useCacheRefresh:function(){return _i().memoizedState=OT.bind(null,Rt)}},Eb={readContext:Yr,use:nh,useCallback:hb,useContext:Yr,useEffect:lb,useImperativeHandle:fb,useInsertionEffect:cb,useLayoutEffect:ub,useMemo:pb,useReducer:rh,useRef:ab,useState:function(){return rh(Ia)},useDebugValue:K0,useDeferredValue:function(a,c){var p=ur();return mb(p,pn.memoizedState,a,c)},useTransition:function(){var a=rh(Ia)[0],c=ur().memoizedState;return[typeof a=="boolean"?a:td(a),c]},useSyncExternalStore:$y,useId:bb,useHostTransitionStatus:J0,useFormState:rb,useActionState:rb,useOptimistic:function(a,c){var p=ur();return Ky(p,pn,a,c)},useMemoCache:G0,useCacheRefresh:vb},RT={readContext:Yr,use:nh,useCallback:hb,useContext:Yr,useEffect:lb,useImperativeHandle:fb,useInsertionEffect:cb,useLayoutEffect:ub,useMemo:pb,useReducer:W0,useRef:ab,useState:function(){return W0(Ia)},useDebugValue:K0,useDeferredValue:function(a,c){var p=ur();return pn===null?Z0(p,a,c):mb(p,pn.memoizedState,a,c)},useTransition:function(){var a=W0(Ia)[0],c=ur().memoizedState;return[typeof a=="boolean"?a:td(a),c]},useSyncExternalStore:$y,useId:bb,useHostTransitionStatus:J0,useFormState:sb,useActionState:sb,useOptimistic:function(a,c){var p=ur();return pn!==null?Ky(p,pn,a,c):(p.baseState=a,[a,p.queue.dispatch])},useMemoCache:G0,useCacheRefresh:vb},zc=null,id=0;function lh(a){var c=id;return id+=1,zc===null&&(zc=[]),Ly(zc,a,c)}function sd(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function ch(a,c){throw c.$$typeof===C?Error(r(525)):(a=Object.prototype.toString.call(c),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function Ab(a){var c=a._init;return c(a._payload)}function Tb(a){function c(se,ie){if(a){var ue=se.deletions;ue===null?(se.deletions=[ie],se.flags|=16):ue.push(ie)}}function p(se,ie){if(!a)return null;for(;ie!==null;)c(se,ie),ie=ie.sibling;return null}function y(se){for(var ie=new Map;se!==null;)se.key!==null?ie.set(se.key,se):ie.set(se.index,se),se=se.sibling;return ie}function S(se,ie){return se=Ta(se,ie),se.index=0,se.sibling=null,se}function O(se,ie,ue){return se.index=ue,a?(ue=se.alternate,ue!==null?(ue=ue.index,ue<ie?(se.flags|=67108866,ie):ue):(se.flags|=67108866,ie)):(se.flags|=1048576,ie)}function B(se){return a&&se.alternate===null&&(se.flags|=67108866),se}function H(se,ie,ue,Ae){return ie===null||ie.tag!==6?(ie=w0(ue,se.mode,Ae),ie.return=se,ie):(ie=S(ie,ue),ie.return=se,ie)}function J(se,ie,ue,Ae){var Ke=ue.type;return Ke===T?Se(se,ie,ue.props.children,Ae,ue.key):ie!==null&&(ie.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===Q&&Ab(Ke)===ie.type)?(ie=S(ie,ue.props),sd(ie,ue),ie.return=se,ie):(ie=Gf(ue.type,ue.key,ue.props,null,se.mode,Ae),sd(ie,ue),ie.return=se,ie)}function fe(se,ie,ue,Ae){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ue.containerInfo||ie.stateNode.implementation!==ue.implementation?(ie=C0(ue,se.mode,Ae),ie.return=se,ie):(ie=S(ie,ue.children||[]),ie.return=se,ie)}function Se(se,ie,ue,Ae,Ke){return ie===null||ie.tag!==7?(ie=Al(ue,se.mode,Ae,Ke),ie.return=se,ie):(ie=S(ie,ue),ie.return=se,ie)}function Ne(se,ie,ue){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=w0(""+ie,se.mode,ue),ie.return=se,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:return ue=Gf(ie.type,ie.key,ie.props,null,se.mode,ue),sd(ue,ie),ue.return=se,ue;case A:return ie=C0(ie,se.mode,ue),ie.return=se,ie;case Q:var Ae=ie._init;return ie=Ae(ie._payload),Ne(se,ie,ue)}if(ee(ie)||me(ie))return ie=Al(ie,se.mode,ue,null),ie.return=se,ie;if(typeof ie.then=="function")return Ne(se,lh(ie),ue);if(ie.$$typeof===P)return Ne(se,Yf(se,ie),ue);ch(se,ie)}return null}function pe(se,ie,ue,Ae){var Ke=ie!==null?ie.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Ke!==null?null:H(se,ie,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case E:return ue.key===Ke?J(se,ie,ue,Ae):null;case A:return ue.key===Ke?fe(se,ie,ue,Ae):null;case Q:return Ke=ue._init,ue=Ke(ue._payload),pe(se,ie,ue,Ae)}if(ee(ue)||me(ue))return Ke!==null?null:Se(se,ie,ue,Ae,null);if(typeof ue.then=="function")return pe(se,ie,lh(ue),Ae);if(ue.$$typeof===P)return pe(se,ie,Yf(se,ue),Ae);ch(se,ue)}return null}function xe(se,ie,ue,Ae,Ke){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return se=se.get(ue)||null,H(ie,se,""+Ae,Ke);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case E:return se=se.get(Ae.key===null?ue:Ae.key)||null,J(ie,se,Ae,Ke);case A:return se=se.get(Ae.key===null?ue:Ae.key)||null,fe(ie,se,Ae,Ke);case Q:var Dt=Ae._init;return Ae=Dt(Ae._payload),xe(se,ie,ue,Ae,Ke)}if(ee(Ae)||me(Ae))return se=se.get(ue)||null,Se(ie,se,Ae,Ke,null);if(typeof Ae.then=="function")return xe(se,ie,ue,lh(Ae),Ke);if(Ae.$$typeof===P)return xe(se,ie,ue,Yf(ie,Ae),Ke);ch(ie,Ae)}return null}function ht(se,ie,ue,Ae){for(var Ke=null,Dt=null,it=ie,dt=ie=0,Nr=null;it!==null&&dt<ue.length;dt++){it.index>dt?(Nr=it,it=null):Nr=it.sibling;var Xt=pe(se,it,ue[dt],Ae);if(Xt===null){it===null&&(it=Nr);break}a&&it&&Xt.alternate===null&&c(se,it),ie=O(Xt,ie,dt),Dt===null?Ke=Xt:Dt.sibling=Xt,Dt=Xt,it=Nr}if(dt===ue.length)return p(se,it),Zt&&Nl(se,dt),Ke;if(it===null){for(;dt<ue.length;dt++)it=Ne(se,ue[dt],Ae),it!==null&&(ie=O(it,ie,dt),Dt===null?Ke=it:Dt.sibling=it,Dt=it);return Zt&&Nl(se,dt),Ke}for(it=y(it);dt<ue.length;dt++)Nr=xe(it,se,dt,ue[dt],Ae),Nr!==null&&(a&&Nr.alternate!==null&&it.delete(Nr.key===null?dt:Nr.key),ie=O(Nr,ie,dt),Dt===null?Ke=Nr:Dt.sibling=Nr,Dt=Nr);return a&&it.forEach(function(Lo){return c(se,Lo)}),Zt&&Nl(se,dt),Ke}function ut(se,ie,ue,Ae){if(ue==null)throw Error(r(151));for(var Ke=null,Dt=null,it=ie,dt=ie=0,Nr=null,Xt=ue.next();it!==null&&!Xt.done;dt++,Xt=ue.next()){it.index>dt?(Nr=it,it=null):Nr=it.sibling;var Lo=pe(se,it,Xt.value,Ae);if(Lo===null){it===null&&(it=Nr);break}a&&it&&Lo.alternate===null&&c(se,it),ie=O(Lo,ie,dt),Dt===null?Ke=Lo:Dt.sibling=Lo,Dt=Lo,it=Nr}if(Xt.done)return p(se,it),Zt&&Nl(se,dt),Ke;if(it===null){for(;!Xt.done;dt++,Xt=ue.next())Xt=Ne(se,Xt.value,Ae),Xt!==null&&(ie=O(Xt,ie,dt),Dt===null?Ke=Xt:Dt.sibling=Xt,Dt=Xt);return Zt&&Nl(se,dt),Ke}for(it=y(it);!Xt.done;dt++,Xt=ue.next())Xt=xe(it,se,dt,Xt.value,Ae),Xt!==null&&(a&&Xt.alternate!==null&&it.delete(Xt.key===null?dt:Xt.key),ie=O(Xt,ie,dt),Dt===null?Ke=Xt:Dt.sibling=Xt,Dt=Xt);return a&&it.forEach(function(IN){return c(se,IN)}),Zt&&Nl(se,dt),Ke}function gn(se,ie,ue,Ae){if(typeof ue=="object"&&ue!==null&&ue.type===T&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case E:e:{for(var Ke=ue.key;ie!==null;){if(ie.key===Ke){if(Ke=ue.type,Ke===T){if(ie.tag===7){p(se,ie.sibling),Ae=S(ie,ue.props.children),Ae.return=se,se=Ae;break e}}else if(ie.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===Q&&Ab(Ke)===ie.type){p(se,ie.sibling),Ae=S(ie,ue.props),sd(Ae,ue),Ae.return=se,se=Ae;break e}p(se,ie);break}else c(se,ie);ie=ie.sibling}ue.type===T?(Ae=Al(ue.props.children,se.mode,Ae,ue.key),Ae.return=se,se=Ae):(Ae=Gf(ue.type,ue.key,ue.props,null,se.mode,Ae),sd(Ae,ue),Ae.return=se,se=Ae)}return B(se);case A:e:{for(Ke=ue.key;ie!==null;){if(ie.key===Ke)if(ie.tag===4&&ie.stateNode.containerInfo===ue.containerInfo&&ie.stateNode.implementation===ue.implementation){p(se,ie.sibling),Ae=S(ie,ue.children||[]),Ae.return=se,se=Ae;break e}else{p(se,ie);break}else c(se,ie);ie=ie.sibling}Ae=C0(ue,se.mode,Ae),Ae.return=se,se=Ae}return B(se);case Q:return Ke=ue._init,ue=Ke(ue._payload),gn(se,ie,ue,Ae)}if(ee(ue))return ht(se,ie,ue,Ae);if(me(ue)){if(Ke=me(ue),typeof Ke!="function")throw Error(r(150));return ue=Ke.call(ue),ut(se,ie,ue,Ae)}if(typeof ue.then=="function")return gn(se,ie,lh(ue),Ae);if(ue.$$typeof===P)return gn(se,ie,Yf(se,ue),Ae);ch(se,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,ie!==null&&ie.tag===6?(p(se,ie.sibling),Ae=S(ie,ue),Ae.return=se,se=Ae):(p(se,ie),Ae=w0(ue,se.mode,Ae),Ae.return=se,se=Ae),B(se)):p(se,ie)}return function(se,ie,ue,Ae){try{id=0;var Ke=gn(se,ie,ue,Ae);return zc=null,Ke}catch(it){if(it===Yu||it===Zf)throw it;var Dt=Li(29,it,null,se.mode);return Dt.lanes=Ae,Dt.return=se,Dt}finally{}}}var Fc=Tb(!0),Nb=Tb(!1),rs=be(null),ta=null;function wo(a){var c=a.alternate;Re(Cr,Cr.current&1),Re(rs,a),ta===null&&(c===null||Bc.current!==null||c.memoizedState!==null)&&(ta=a)}function Ob(a){if(a.tag===22){if(Re(Cr,Cr.current),Re(rs,a),ta===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(ta=a)}}else Co()}function Co(){Re(Cr,Cr.current),Re(rs,rs.current)}function ka(a){Oe(rs),ta===a&&(ta=null),Oe(Cr)}var Cr=be(0);function uh(a){for(var c=a;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||$m(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function tm(a,c,p,y){c=a.memoizedState,p=p(y,c),p=p==null?c:b({},c,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var nm={enqueueSetState:function(a,c,p){a=a._reactInternals;var y=Fi(),S=yo(y);S.payload=c,p!=null&&(S.callback=p),c=bo(a,S,y),c!==null&&(Ui(c,a,y),Zu(c,a,y))},enqueueReplaceState:function(a,c,p){a=a._reactInternals;var y=Fi(),S=yo(y);S.tag=1,S.payload=c,p!=null&&(S.callback=p),c=bo(a,S,y),c!==null&&(Ui(c,a,y),Zu(c,a,y))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var p=Fi(),y=yo(p);y.tag=2,c!=null&&(y.callback=c),c=bo(a,y,p),c!==null&&(Ui(c,a,p),Zu(c,a,p))}};function Mb(a,c,p,y,S,O,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,O,B):c.prototype&&c.prototype.isPureReactComponent?!x(p,y)||!x(S,O):!0}function Rb(a,c,p,y){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,y),c.state!==a&&nm.enqueueReplaceState(c,c.state,null)}function Bl(a,c){var p=c;if("ref"in c){p={};for(var y in c)y!=="ref"&&(p[y]=c[y])}if(a=a.defaultProps){p===c&&(p=b({},p));for(var S in a)p[S]===void 0&&(p[S]=a[S])}return p}var dh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Ib(a){dh(a)}function kb(a){console.error(a)}function Db(a){dh(a)}function fh(a,c){try{var p=a.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function Bb(a,c,p){try{var y=a.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function rm(a,c,p){return p=yo(p),p.tag=3,p.payload={element:null},p.callback=function(){fh(a,c)},p}function Lb(a){return a=yo(a),a.tag=3,a}function jb(a,c,p,y){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var O=y.value;a.payload=function(){return S(O)},a.callback=function(){Bb(c,p,y)}}var B=p.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(a.callback=function(){Bb(c,p,y),typeof S!="function"&&(No===null?No=new Set([this]):No.add(this));var H=y.stack;this.componentDidCatch(y.value,{componentStack:H!==null?H:""})})}function IT(a,c,p,y,S){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=p.alternate,c!==null&&qu(c,p,S,!0),p=rs.current,p!==null){switch(p.tag){case 13:return ta===null?Tm():p.alternate===null&&Wn===0&&(Wn=3),p.flags&=-257,p.flags|=65536,p.lanes=S,y===I0?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([y]):c.add(y),Om(a,y,S)),!1;case 22:return p.flags|=65536,y===I0?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([y]):p.add(y)),Om(a,y,S)),!1}throw Error(r(435,p.tag))}return Om(a,y,S),Tm(),!1}if(Zt)return c=rs.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=S,y!==E0&&(a=Error(r(422),{cause:y}),Gu(Ji(a,p)))):(y!==E0&&(c=Error(r(423),{cause:y}),Gu(Ji(c,p))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,y=Ji(y,p),S=rm(a.stateNode,y,S),B0(a,S),Wn!==4&&(Wn=2)),!1;var O=Error(r(520),{cause:y});if(O=Ji(O,p),fd===null?fd=[O]:fd.push(O),Wn!==4&&(Wn=2),c===null)return!0;y=Ji(y,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,a=S&-S,p.lanes|=a,a=rm(p.stateNode,y,a),B0(p,a),!1;case 1:if(c=p.type,O=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(No===null||!No.has(O))))return p.flags|=65536,S&=-S,p.lanes|=S,S=Lb(S),jb(S,a,p,y),B0(p,S),!1}p=p.return}while(p!==null);return!1}var Pb=Error(r(461)),Ar=!1;function Pr(a,c,p,y){c.child=a===null?Nb(c,null,p,y):Fc(c,a.child,p,y)}function zb(a,c,p,y,S){p=p.render;var O=c.ref;if("ref"in y){var B={};for(var H in y)H!=="ref"&&(B[H]=y[H])}else B=y;return Il(c),y=F0(a,c,p,B,O,S),H=U0(),a!==null&&!Ar?(H0(a,c,S),Da(a,c,S)):(Zt&&H&&_0(c),c.flags|=1,Pr(a,c,y,S),c.child)}function Fb(a,c,p,y,S){if(a===null){var O=p.type;return typeof O=="function"&&!v0(O)&&O.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=O,Ub(a,c,O,y,S)):(a=Gf(p.type,null,y,c,c.mode,S),a.ref=c.ref,a.return=c,c.child=a)}if(O=a.child,!dm(a,S)){var B=O.memoizedProps;if(p=p.compare,p=p!==null?p:x,p(B,y)&&a.ref===c.ref)return Da(a,c,S)}return c.flags|=1,a=Ta(O,y),a.ref=c.ref,a.return=c,c.child=a}function Ub(a,c,p,y,S){if(a!==null){var O=a.memoizedProps;if(x(O,y)&&a.ref===c.ref)if(Ar=!1,c.pendingProps=y=O,dm(a,S))(a.flags&131072)!==0&&(Ar=!0);else return c.lanes=a.lanes,Da(a,c,S)}return im(a,c,p,y,S)}function Hb(a,c,p){var y=c.pendingProps,S=y.children,O=a!==null?a.memoizedState:null;if(y.mode==="hidden"){if((c.flags&128)!==0){if(y=O!==null?O.baseLanes|p:p,a!==null){for(S=c.child=a.child,O=0;S!==null;)O=O|S.lanes|S.childLanes,S=S.sibling;c.childLanes=O&~y}else c.childLanes=0,c.child=null;return Vb(a,c,y,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&Kf(c,O!==null?O.cachePool:null),O!==null?Uy(c,O):j0(),Ob(c);else return c.lanes=c.childLanes=536870912,Vb(a,c,O!==null?O.baseLanes|p:p,p)}else O!==null?(Kf(c,O.cachePool),Uy(c,O),Co(),c.memoizedState=null):(a!==null&&Kf(c,null),j0(),Co());return Pr(a,c,S,p),c.child}function Vb(a,c,p,y){var S=R0();return S=S===null?null:{parent:wr._currentValue,pool:S},c.memoizedState={baseLanes:p,cachePool:S},a!==null&&Kf(c,null),j0(),Ob(c),a!==null&&qu(a,c,y,!0),null}function hh(a,c){var p=c.ref;if(p===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(a===null||a.ref!==p)&&(c.flags|=4194816)}}function im(a,c,p,y,S){return Il(c),p=F0(a,c,p,y,void 0,S),y=U0(),a!==null&&!Ar?(H0(a,c,S),Da(a,c,S)):(Zt&&y&&_0(c),c.flags|=1,Pr(a,c,p,S),c.child)}function $b(a,c,p,y,S,O){return Il(c),c.updateQueue=null,p=Vy(c,y,p,S),Hy(a),y=U0(),a!==null&&!Ar?(H0(a,c,O),Da(a,c,O)):(Zt&&y&&_0(c),c.flags|=1,Pr(a,c,p,O),c.child)}function Gb(a,c,p,y,S){if(Il(c),c.stateNode===null){var O=Mc,B=p.contextType;typeof B=="object"&&B!==null&&(O=Yr(B)),O=new p(y,O),c.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=nm,c.stateNode=O,O._reactInternals=c,O=c.stateNode,O.props=y,O.state=c.memoizedState,O.refs={},k0(c),B=p.contextType,O.context=typeof B=="object"&&B!==null?Yr(B):Mc,O.state=c.memoizedState,B=p.getDerivedStateFromProps,typeof B=="function"&&(tm(c,p,B,y),O.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(B=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),B!==O.state&&nm.enqueueReplaceState(O,O.state,null),Ju(c,y,O,S),Qu(),O.state=c.memoizedState),typeof O.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(a===null){O=c.stateNode;var H=c.memoizedProps,J=Bl(p,H);O.props=J;var fe=O.context,Se=p.contextType;B=Mc,typeof Se=="object"&&Se!==null&&(B=Yr(Se));var Ne=p.getDerivedStateFromProps;Se=typeof Ne=="function"||typeof O.getSnapshotBeforeUpdate=="function",H=c.pendingProps!==H,Se||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(H||fe!==B)&&Rb(c,O,y,B),xo=!1;var pe=c.memoizedState;O.state=pe,Ju(c,y,O,S),Qu(),fe=c.memoizedState,H||pe!==fe||xo?(typeof Ne=="function"&&(tm(c,p,Ne,y),fe=c.memoizedState),(J=xo||Mb(c,p,J,y,pe,fe,B))?(Se||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(c.flags|=4194308)):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=fe),O.props=y,O.state=fe,O.context=B,y=J):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{O=c.stateNode,D0(a,c),B=c.memoizedProps,Se=Bl(p,B),O.props=Se,Ne=c.pendingProps,pe=O.context,fe=p.contextType,J=Mc,typeof fe=="object"&&fe!==null&&(J=Yr(fe)),H=p.getDerivedStateFromProps,(fe=typeof H=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(B!==Ne||pe!==J)&&Rb(c,O,y,J),xo=!1,pe=c.memoizedState,O.state=pe,Ju(c,y,O,S),Qu();var xe=c.memoizedState;B!==Ne||pe!==xe||xo||a!==null&&a.dependencies!==null&&Xf(a.dependencies)?(typeof H=="function"&&(tm(c,p,H,y),xe=c.memoizedState),(Se=xo||Mb(c,p,Se,y,pe,xe,J)||a!==null&&a.dependencies!==null&&Xf(a.dependencies))?(fe||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(y,xe,J),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(y,xe,J)),typeof O.componentDidUpdate=="function"&&(c.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof O.componentDidUpdate!="function"||B===a.memoizedProps&&pe===a.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&pe===a.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=xe),O.props=y,O.state=xe,O.context=J,y=Se):(typeof O.componentDidUpdate!="function"||B===a.memoizedProps&&pe===a.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&pe===a.memoizedState||(c.flags|=1024),y=!1)}return O=y,hh(a,c),y=(c.flags&128)!==0,O||y?(O=c.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:O.render(),c.flags|=1,a!==null&&y?(c.child=Fc(c,a.child,null,S),c.child=Fc(c,null,p,S)):Pr(a,c,p,S),c.memoizedState=O.state,a=c.child):a=Da(a,c,S),a}function qb(a,c,p,y){return $u(),c.flags|=256,Pr(a,c,p,y),c.child}var sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function am(a){return{baseLanes:a,cachePool:ky()}}function om(a,c,p){return a=a!==null?a.childLanes&~p:0,c&&(a|=is),a}function Wb(a,c,p){var y=c.pendingProps,S=!1,O=(c.flags&128)!==0,B;if((B=O)||(B=a!==null&&a.memoizedState===null?!1:(Cr.current&2)!==0),B&&(S=!0,c.flags&=-129),B=(c.flags&32)!==0,c.flags&=-33,a===null){if(Zt){if(S?wo(c):Co(),Zt){var H=qn,J;if(J=H){e:{for(J=H,H=ea;J.nodeType!==8;){if(!H){H=null;break e}if(J=Ns(J.nextSibling),J===null){H=null;break e}}H=J}H!==null?(c.memoizedState={dehydrated:H,treeContext:Tl!==null?{id:Na,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},J=Li(18,null,null,0),J.stateNode=H,J.return=c,c.child=J,li=c,qn=null,J=!0):J=!1}J||Ml(c)}if(H=c.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return $m(H)?c.lanes=32:c.lanes=536870912,null;ka(c)}return H=y.children,y=y.fallback,S?(Co(),S=c.mode,H=ph({mode:"hidden",children:H},S),y=Al(y,S,p,null),H.return=c,y.return=c,H.sibling=y,c.child=H,S=c.child,S.memoizedState=am(p),S.childLanes=om(a,B,p),c.memoizedState=sm,y):(wo(c),lm(c,H))}if(J=a.memoizedState,J!==null&&(H=J.dehydrated,H!==null)){if(O)c.flags&256?(wo(c),c.flags&=-257,c=cm(a,c,p)):c.memoizedState!==null?(Co(),c.child=a.child,c.flags|=128,c=null):(Co(),S=y.fallback,H=c.mode,y=ph({mode:"visible",children:y.children},H),S=Al(S,H,p,null),S.flags|=2,y.return=c,S.return=c,y.sibling=S,c.child=y,Fc(c,a.child,null,p),y=c.child,y.memoizedState=am(p),y.childLanes=om(a,B,p),c.memoizedState=sm,c=S);else if(wo(c),$m(H)){if(B=H.nextSibling&&H.nextSibling.dataset,B)var fe=B.dgst;B=fe,y=Error(r(419)),y.stack="",y.digest=B,Gu({value:y,source:null,stack:null}),c=cm(a,c,p)}else if(Ar||qu(a,c,p,!1),B=(p&a.childLanes)!==0,Ar||B){if(B=An,B!==null&&(y=p&-p,y=(y&42)!==0?1:ba(y),y=(y&(B.suspendedLanes|p))!==0?0:y,y!==0&&y!==J.retryLane))throw J.retryLane=y,Oc(a,y),Ui(B,a,y),Pb;H.data==="$?"||Tm(),c=cm(a,c,p)}else H.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=J.treeContext,qn=Ns(H.nextSibling),li=c,Zt=!0,Ol=null,ea=!1,a!==null&&(ts[ns++]=Na,ts[ns++]=Oa,ts[ns++]=Tl,Na=a.id,Oa=a.overflow,Tl=c),c=lm(c,y.children),c.flags|=4096);return c}return S?(Co(),S=y.fallback,H=c.mode,J=a.child,fe=J.sibling,y=Ta(J,{mode:"hidden",children:y.children}),y.subtreeFlags=J.subtreeFlags&65011712,fe!==null?S=Ta(fe,S):(S=Al(S,H,p,null),S.flags|=2),S.return=c,y.return=c,y.sibling=S,c.child=y,y=S,S=c.child,H=a.child.memoizedState,H===null?H=am(p):(J=H.cachePool,J!==null?(fe=wr._currentValue,J=J.parent!==fe?{parent:fe,pool:fe}:J):J=ky(),H={baseLanes:H.baseLanes|p,cachePool:J}),S.memoizedState=H,S.childLanes=om(a,B,p),c.memoizedState=sm,y):(wo(c),p=a.child,a=p.sibling,p=Ta(p,{mode:"visible",children:y.children}),p.return=c,p.sibling=null,a!==null&&(B=c.deletions,B===null?(c.deletions=[a],c.flags|=16):B.push(a)),c.child=p,c.memoizedState=null,p)}function lm(a,c){return c=ph({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function ph(a,c){return a=Li(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function cm(a,c,p){return Fc(c,a.child,null,p),a=lm(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function Xb(a,c,p){a.lanes|=c;var y=a.alternate;y!==null&&(y.lanes|=c),T0(a.return,c,p)}function um(a,c,p,y,S){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:S}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=y,O.tail=p,O.tailMode=S)}function Yb(a,c,p){var y=c.pendingProps,S=y.revealOrder,O=y.tail;if(Pr(a,c,y.children,p),y=Cr.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Xb(a,p,c);else if(a.tag===19)Xb(a,p,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}switch(Re(Cr,y),S){case"forwards":for(p=c.child,S=null;p!==null;)a=p.alternate,a!==null&&uh(a)===null&&(S=p),p=p.sibling;p=S,p===null?(S=c.child,c.child=null):(S=p.sibling,p.sibling=null),um(c,!1,S,p,O);break;case"backwards":for(p=null,S=c.child,c.child=null;S!==null;){if(a=S.alternate,a!==null&&uh(a)===null){c.child=S;break}a=S.sibling,S.sibling=p,p=S,S=a}um(c,!0,p,null,O);break;case"together":um(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Da(a,c,p){if(a!==null&&(c.dependencies=a.dependencies),To|=c.lanes,(p&c.childLanes)===0)if(a!==null){if(qu(a,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(r(153));if(c.child!==null){for(a=c.child,p=Ta(a,a.pendingProps),c.child=p,p.return=c;a.sibling!==null;)a=a.sibling,p=p.sibling=Ta(a,a.pendingProps),p.return=c;p.sibling=null}return c.child}function dm(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&Xf(a)))}function kT(a,c,p){switch(c.tag){case 3:mt(c,c.stateNode.containerInfo),go(c,wr,a.memoizedState.cache),$u();break;case 27:case 5:On(c);break;case 4:mt(c,c.stateNode.containerInfo);break;case 10:go(c,c.type,c.memoizedProps.value);break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(wo(c),c.flags|=128,null):(p&c.child.childLanes)!==0?Wb(a,c,p):(wo(c),a=Da(a,c,p),a!==null?a.sibling:null);wo(c);break;case 19:var S=(a.flags&128)!==0;if(y=(p&c.childLanes)!==0,y||(qu(a,c,p,!1),y=(p&c.childLanes)!==0),S){if(y)return Yb(a,c,p);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Re(Cr,Cr.current),y)break;return null;case 22:case 23:return c.lanes=0,Hb(a,c,p);case 24:go(c,wr,a.memoizedState.cache)}return Da(a,c,p)}function Kb(a,c,p){if(a!==null)if(a.memoizedProps!==c.pendingProps)Ar=!0;else{if(!dm(a,p)&&(c.flags&128)===0)return Ar=!1,kT(a,c,p);Ar=(a.flags&131072)!==0}else Ar=!1,Zt&&(c.flags&1048576)!==0&&Ay(c,Wf,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var y=c.elementType,S=y._init;if(y=S(y._payload),c.type=y,typeof y=="function")v0(y)?(a=Bl(y,a),c.tag=1,c=Gb(null,c,y,a,p)):(c.tag=0,c=im(null,c,y,a,p));else{if(y!=null){if(S=y.$$typeof,S===q){c.tag=11,c=zb(null,c,y,a,p);break e}else if(S===G){c.tag=14,c=Fb(null,c,y,a,p);break e}}throw c=De(y)||y,Error(r(306,c,""))}}return c;case 0:return im(a,c,c.type,c.pendingProps,p);case 1:return y=c.type,S=Bl(y,c.pendingProps),Gb(a,c,y,S,p);case 3:e:{if(mt(c,c.stateNode.containerInfo),a===null)throw Error(r(387));y=c.pendingProps;var O=c.memoizedState;S=O.element,D0(a,c),Ju(c,y,null,p);var B=c.memoizedState;if(y=B.cache,go(c,wr,y),y!==O.cache&&N0(c,[wr],p,!0),Qu(),y=B.element,O.isDehydrated)if(O={element:y,isDehydrated:!1,cache:B.cache},c.updateQueue.baseState=O,c.memoizedState=O,c.flags&256){c=qb(a,c,y,p);break e}else if(y!==S){S=Ji(Error(r(424)),c),Gu(S),c=qb(a,c,y,p);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(qn=Ns(a.firstChild),li=c,Zt=!0,Ol=null,ea=!0,p=Nb(c,null,y,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if($u(),y===S){c=Da(a,c,p);break e}Pr(a,c,y,p)}c=c.child}return c;case 26:return hh(a,c),a===null?(p=ew(c.type,null,c.pendingProps,null))?c.memoizedState=p:Zt||(p=c.type,a=c.pendingProps,y=Nh(Me.current).createElement(p),y[Te]=c,y[Le]=a,Fr(y,p,a),vt(y),c.stateNode=y):c.memoizedState=ew(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return On(c),a===null&&Zt&&(y=c.stateNode=Zv(c.type,c.pendingProps,Me.current),li=c,ea=!0,S=qn,Ro(c.type)?(Gm=S,qn=Ns(y.firstChild)):qn=S),Pr(a,c,c.pendingProps.children,p),hh(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&Zt&&((S=y=qn)&&(y=oN(y,c.type,c.pendingProps,ea),y!==null?(c.stateNode=y,li=c,qn=Ns(y.firstChild),ea=!1,S=!0):S=!1),S||Ml(c)),On(c),S=c.type,O=c.pendingProps,B=a!==null?a.memoizedProps:null,y=O.children,Um(S,O)?y=null:B!==null&&Um(S,B)&&(c.flags|=32),c.memoizedState!==null&&(S=F0(a,c,ET,null,null,p),wd._currentValue=S),hh(a,c),Pr(a,c,y,p),c.child;case 6:return a===null&&Zt&&((a=p=qn)&&(p=lN(p,c.pendingProps,ea),p!==null?(c.stateNode=p,li=c,qn=null,a=!0):a=!1),a||Ml(c)),null;case 13:return Wb(a,c,p);case 4:return mt(c,c.stateNode.containerInfo),y=c.pendingProps,a===null?c.child=Fc(c,null,y,p):Pr(a,c,y,p),c.child;case 11:return zb(a,c,c.type,c.pendingProps,p);case 7:return Pr(a,c,c.pendingProps,p),c.child;case 8:return Pr(a,c,c.pendingProps.children,p),c.child;case 12:return Pr(a,c,c.pendingProps.children,p),c.child;case 10:return y=c.pendingProps,go(c,c.type,y.value),Pr(a,c,y.children,p),c.child;case 9:return S=c.type._context,y=c.pendingProps.children,Il(c),S=Yr(S),y=y(S),c.flags|=1,Pr(a,c,y,p),c.child;case 14:return Fb(a,c,c.type,c.pendingProps,p);case 15:return Ub(a,c,c.type,c.pendingProps,p);case 19:return Yb(a,c,p);case 31:return y=c.pendingProps,p=c.mode,y={mode:y.mode,children:y.children},a===null?(p=ph(y,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=Ta(a.child,y),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return Hb(a,c,p);case 24:return Il(c),y=Yr(wr),a===null?(S=R0(),S===null&&(S=An,O=O0(),S.pooledCache=O,O.refCount++,O!==null&&(S.pooledCacheLanes|=p),S=O),c.memoizedState={parent:y,cache:S},k0(c),go(c,wr,S)):((a.lanes&p)!==0&&(D0(a,c),Ju(c,null,null,p),Qu()),S=a.memoizedState,O=c.memoizedState,S.parent!==y?(S={parent:y,cache:y},c.memoizedState=S,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=S),go(c,wr,y)):(y=O.cache,go(c,wr,y),y!==S.cache&&N0(c,[wr],p,!0))),Pr(a,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Ba(a){a.flags|=4}function Zb(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!sw(c)){if(c=rs.current,c!==null&&((Vt&4194048)===Vt?ta!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||c!==ta))throw Ku=I0,Dy;a.flags|=8192}}function mh(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?ml():536870912,a.lanes|=c,$c|=c)}function ad(a,c){if(!Zt)switch(a.tailMode){case"hidden":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function Fn(a){var c=a.alternate!==null&&a.alternate.child===a.child,p=0,y=0;if(c)for(var S=a.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=y,a.childLanes=p,c}function DT(a,c,p){var y=c.pendingProps;switch(S0(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(c),null;case 1:return Fn(c),null;case 3:return p=c.stateNode,y=null,a!==null&&(y=a.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),Ra(wr),$r(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(Vu(c)?Ba(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Oy())),Fn(c),null;case 26:return p=c.memoizedState,a===null?(Ba(c),p!==null?(Fn(c),Zb(c,p)):(Fn(c),c.flags&=-16777217)):p?p!==a.memoizedState?(Ba(c),Fn(c),Zb(c,p)):(Fn(c),c.flags&=-16777217):(a.memoizedProps!==y&&Ba(c),Fn(c),c.flags&=-16777217),null;case 27:Cn(c),p=Me.current;var S=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==y&&Ba(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return Fn(c),null}a=He.current,Vu(c)?Ty(c):(a=Zv(S,y,p),c.stateNode=a,Ba(c))}return Fn(c),null;case 5:if(Cn(c),p=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==y&&Ba(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return Fn(c),null}if(a=He.current,Vu(c))Ty(c);else{switch(S=Nh(Me.current),a){case 1:a=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:a=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":a=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":a=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":a=S.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof y.is=="string"?S.createElement("select",{is:y.is}):S.createElement("select"),y.multiple?a.multiple=!0:y.size&&(a.size=y.size);break;default:a=typeof y.is=="string"?S.createElement(p,{is:y.is}):S.createElement(p)}}a[Te]=c,a[Le]=y;e:for(S=c.child;S!==null;){if(S.tag===5||S.tag===6)a.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===c)break e;for(;S.sibling===null;){if(S.return===null||S.return===c)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}c.stateNode=a;e:switch(Fr(a,p,y),p){case"button":case"input":case"select":case"textarea":a=!!y.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ba(c)}}return Fn(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==y&&Ba(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(a=Me.current,Vu(c)){if(a=c.stateNode,p=c.memoizedProps,y=null,S=li,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}a[Te]=c,a=!!(a.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||$v(a.nodeValue,p)),a||Ml(c)}else a=Nh(a).createTextNode(y),a[Te]=c,c.stateNode=a}return Fn(c),null;case 13:if(y=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=Vu(c),y!==null&&y.dehydrated!==null){if(a===null){if(!S)throw Error(r(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Te]=c}else $u(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Fn(c),S=!1}else S=Oy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=S),S=!0;if(!S)return c.flags&256?(ka(c),c):(ka(c),null)}if(ka(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=y!==null,a=a!==null&&a.memoizedState!==null,p){y=c.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool);var O=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(O=y.memoizedState.cachePool.pool),O!==S&&(y.flags|=2048)}return p!==a&&p&&(c.child.flags|=8192),mh(c,c.updateQueue),Fn(c),null;case 4:return $r(),a===null&&Lm(c.stateNode.containerInfo),Fn(c),null;case 10:return Ra(c.type),Fn(c),null;case 19:if(Oe(Cr),S=c.memoizedState,S===null)return Fn(c),null;if(y=(c.flags&128)!==0,O=S.rendering,O===null)if(y)ad(S,!1);else{if(Wn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(O=uh(a),O!==null){for(c.flags|=128,ad(S,!1),a=O.updateQueue,c.updateQueue=a,mh(c,a),c.subtreeFlags=0,a=p,p=c.child;p!==null;)Ey(p,a),p=p.sibling;return Re(Cr,Cr.current&1|2),c.child}a=a.sibling}S.tail!==null&&Kt()>yh&&(c.flags|=128,y=!0,ad(S,!1),c.lanes=4194304)}else{if(!y)if(a=uh(O),a!==null){if(c.flags|=128,y=!0,a=a.updateQueue,c.updateQueue=a,mh(c,a),ad(S,!0),S.tail===null&&S.tailMode==="hidden"&&!O.alternate&&!Zt)return Fn(c),null}else 2*Kt()-S.renderingStartTime>yh&&p!==536870912&&(c.flags|=128,y=!0,ad(S,!1),c.lanes=4194304);S.isBackwards?(O.sibling=c.child,c.child=O):(a=S.last,a!==null?a.sibling=O:c.child=O,S.last=O)}return S.tail!==null?(c=S.tail,S.rendering=c,S.tail=c.sibling,S.renderingStartTime=Kt(),c.sibling=null,a=Cr.current,Re(Cr,y?a&1|2:a&1),c):(Fn(c),null);case 22:case 23:return ka(c),P0(),y=c.memoizedState!==null,a!==null?a.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(p&536870912)!==0&&(c.flags&128)===0&&(Fn(c),c.subtreeFlags&6&&(c.flags|=8192)):Fn(c),p=c.updateQueue,p!==null&&mh(c,p.retryQueue),p=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048),a!==null&&Oe(kl),null;case 24:return p=null,a!==null&&(p=a.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Ra(wr),Fn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function BT(a,c){switch(S0(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Ra(wr),$r(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return Cn(c),null;case 13:if(ka(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(r(340));$u()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Oe(Cr),null;case 4:return $r(),null;case 10:return Ra(c.type),null;case 22:case 23:return ka(c),P0(),a!==null&&Oe(kl),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return Ra(wr),null;case 25:return null;default:return null}}function Qb(a,c){switch(S0(c),c.tag){case 3:Ra(wr),$r();break;case 26:case 27:case 5:Cn(c);break;case 4:$r();break;case 13:ka(c);break;case 19:Oe(Cr);break;case 10:Ra(c.type);break;case 22:case 23:ka(c),P0(),a!==null&&Oe(kl);break;case 24:Ra(wr)}}function od(a,c){try{var p=c.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var S=y.next;p=S;do{if((p.tag&a)===a){y=void 0;var O=p.create,B=p.inst;y=O(),B.destroy=y}p=p.next}while(p!==S)}}catch(H){bn(c,c.return,H)}}function _o(a,c,p){try{var y=c.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var O=S.next;y=O;do{if((y.tag&a)===a){var B=y.inst,H=B.destroy;if(H!==void 0){B.destroy=void 0,S=c;var J=p,fe=H;try{fe()}catch(Se){bn(S,J,Se)}}}y=y.next}while(y!==O)}}catch(Se){bn(c,c.return,Se)}}function Jb(a){var c=a.updateQueue;if(c!==null){var p=a.stateNode;try{Fy(c,p)}catch(y){bn(a,a.return,y)}}}function ev(a,c,p){p.props=Bl(a.type,a.memoizedProps),p.state=a.memoizedState;try{p.componentWillUnmount()}catch(y){bn(a,c,y)}}function ld(a,c){try{var p=a.ref;if(p!==null){switch(a.tag){case 26:case 27:case 5:var y=a.stateNode;break;case 30:y=a.stateNode;break;default:y=a.stateNode}typeof p=="function"?a.refCleanup=p(y):p.current=y}}catch(S){bn(a,c,S)}}function na(a,c){var p=a.ref,y=a.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(S){bn(a,c,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){bn(a,c,S)}else p.current=null}function tv(a){var c=a.type,p=a.memoizedProps,y=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(S){bn(a,a.return,S)}}function fm(a,c,p){try{var y=a.stateNode;nN(y,a.type,p,c),y[Le]=c}catch(S){bn(a,a.return,S)}}function nv(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ro(a.type)||a.tag===4}function hm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||nv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ro(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function pm(a,c,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(a,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(a),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Th));else if(y!==4&&(y===27&&Ro(a.type)&&(p=a.stateNode,c=null),a=a.child,a!==null))for(pm(a,c,p),a=a.sibling;a!==null;)pm(a,c,p),a=a.sibling}function gh(a,c,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?p.insertBefore(a,c):p.appendChild(a);else if(y!==4&&(y===27&&Ro(a.type)&&(p=a.stateNode),a=a.child,a!==null))for(gh(a,c,p),a=a.sibling;a!==null;)gh(a,c,p),a=a.sibling}function rv(a){var c=a.stateNode,p=a.memoizedProps;try{for(var y=a.type,S=c.attributes;S.length;)c.removeAttributeNode(S[0]);Fr(c,y,p),c[Te]=a,c[Le]=p}catch(O){bn(a,a.return,O)}}var La=!1,nr=!1,mm=!1,iv=typeof WeakSet=="function"?WeakSet:Set,Tr=null;function LT(a,c){if(a=a.containerInfo,zm=Dh,a=M(a),k(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var S=y.anchorOffset,O=y.focusNode;y=y.focusOffset;try{p.nodeType,O.nodeType}catch{p=null;break e}var B=0,H=-1,J=-1,fe=0,Se=0,Ne=a,pe=null;t:for(;;){for(var xe;Ne!==p||S!==0&&Ne.nodeType!==3||(H=B+S),Ne!==O||y!==0&&Ne.nodeType!==3||(J=B+y),Ne.nodeType===3&&(B+=Ne.nodeValue.length),(xe=Ne.firstChild)!==null;)pe=Ne,Ne=xe;for(;;){if(Ne===a)break t;if(pe===p&&++fe===S&&(H=B),pe===O&&++Se===y&&(J=B),(xe=Ne.nextSibling)!==null)break;Ne=pe,pe=Ne.parentNode}Ne=xe}p=H===-1||J===-1?null:{start:H,end:J}}else p=null}p=p||{start:0,end:0}}else p=null;for(Fm={focusedElem:a,selectionRange:p},Dh=!1,Tr=c;Tr!==null;)if(c=Tr,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,Tr=a;else for(;Tr!==null;){switch(c=Tr,O=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&O!==null){a=void 0,p=c,S=O.memoizedProps,O=O.memoizedState,y=p.stateNode;try{var ht=Bl(p.type,S,p.elementType===p.type);a=y.getSnapshotBeforeUpdate(ht,O),y.__reactInternalSnapshotBeforeUpdate=a}catch(ut){bn(p,p.return,ut)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,p=a.nodeType,p===9)Vm(a);else if(p===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Vm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=c.sibling,a!==null){a.return=c.return,Tr=a;break}Tr=c.return}}function sv(a,c,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:So(a,p),y&4&&od(5,p);break;case 1:if(So(a,p),y&4)if(a=p.stateNode,c===null)try{a.componentDidMount()}catch(B){bn(p,p.return,B)}else{var S=Bl(p.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(S,c,a.__reactInternalSnapshotBeforeUpdate)}catch(B){bn(p,p.return,B)}}y&64&&Jb(p),y&512&&ld(p,p.return);break;case 3:if(So(a,p),y&64&&(a=p.updateQueue,a!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{Fy(a,c)}catch(B){bn(p,p.return,B)}}break;case 27:c===null&&y&4&&rv(p);case 26:case 5:So(a,p),c===null&&y&4&&tv(p),y&512&&ld(p,p.return);break;case 12:So(a,p);break;case 13:So(a,p),y&4&&lv(a,p),y&64&&(a=p.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(p=GT.bind(null,p),cN(a,p))));break;case 22:if(y=p.memoizedState!==null||La,!y){c=c!==null&&c.memoizedState!==null||nr,S=La;var O=nr;La=y,(nr=c)&&!O?Eo(a,p,(p.subtreeFlags&8772)!==0):So(a,p),La=S,nr=O}break;case 30:break;default:So(a,p)}}function av(a){var c=a.alternate;c!==null&&(a.alternate=null,av(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&Je(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Bn=null,Si=!1;function ja(a,c,p){for(p=p.child;p!==null;)ov(a,c,p),p=p.sibling}function ov(a,c,p){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(_n,p)}catch{}switch(p.tag){case 26:nr||na(p,c),ja(a,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:nr||na(p,c);var y=Bn,S=Si;Ro(p.type)&&(Bn=p.stateNode,Si=!1),ja(a,c,p),xd(p.stateNode),Bn=y,Si=S;break;case 5:nr||na(p,c);case 6:if(y=Bn,S=Si,Bn=null,ja(a,c,p),Bn=y,Si=S,Bn!==null)if(Si)try{(Bn.nodeType===9?Bn.body:Bn.nodeName==="HTML"?Bn.ownerDocument.body:Bn).removeChild(p.stateNode)}catch(O){bn(p,c,O)}else try{Bn.removeChild(p.stateNode)}catch(O){bn(p,c,O)}break;case 18:Bn!==null&&(Si?(a=Bn,Yv(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,p.stateNode),Ed(a)):Yv(Bn,p.stateNode));break;case 4:y=Bn,S=Si,Bn=p.stateNode.containerInfo,Si=!0,ja(a,c,p),Bn=y,Si=S;break;case 0:case 11:case 14:case 15:nr||_o(2,p,c),nr||_o(4,p,c),ja(a,c,p);break;case 1:nr||(na(p,c),y=p.stateNode,typeof y.componentWillUnmount=="function"&&ev(p,c,y)),ja(a,c,p);break;case 21:ja(a,c,p);break;case 22:nr=(y=nr)||p.memoizedState!==null,ja(a,c,p),nr=y;break;default:ja(a,c,p)}}function lv(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ed(a)}catch(p){bn(c,c.return,p)}}function jT(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new iv),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new iv),c;default:throw Error(r(435,a.tag))}}function gm(a,c){var p=jT(a);c.forEach(function(y){var S=qT.bind(null,a,y);p.has(y)||(p.add(y),y.then(S,S))})}function ji(a,c){var p=c.deletions;if(p!==null)for(var y=0;y<p.length;y++){var S=p[y],O=a,B=c,H=B;e:for(;H!==null;){switch(H.tag){case 27:if(Ro(H.type)){Bn=H.stateNode,Si=!1;break e}break;case 5:Bn=H.stateNode,Si=!1;break e;case 3:case 4:Bn=H.stateNode.containerInfo,Si=!0;break e}H=H.return}if(Bn===null)throw Error(r(160));ov(O,B,S),Bn=null,Si=!1,O=S.alternate,O!==null&&(O.return=null),S.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)cv(c,a),c=c.sibling}var Ts=null;function cv(a,c){var p=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ji(c,a),Pi(a),y&4&&(_o(3,a,a.return),od(3,a),_o(5,a,a.return));break;case 1:ji(c,a),Pi(a),y&512&&(nr||p===null||na(p,p.return)),y&64&&La&&(a=a.updateQueue,a!==null&&(y=a.callbacks,y!==null&&(p=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var S=Ts;if(ji(c,a),Pi(a),y&512&&(nr||p===null||na(p,p.return)),y&4){var O=p!==null?p.memoizedState:null;if(y=a.memoizedState,p===null)if(y===null)if(a.stateNode===null){e:{y=a.type,p=a.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":O=S.getElementsByTagName("title")[0],(!O||O[st]||O[Te]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=S.createElement(y),S.head.insertBefore(O,S.querySelector("head > title"))),Fr(O,y,p),O[Te]=a,vt(O),y=O;break e;case"link":var B=rw("link","href",S).get(y+(p.href||""));if(B){for(var H=0;H<B.length;H++)if(O=B[H],O.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&O.getAttribute("rel")===(p.rel==null?null:p.rel)&&O.getAttribute("title")===(p.title==null?null:p.title)&&O.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){B.splice(H,1);break t}}O=S.createElement(y),Fr(O,y,p),S.head.appendChild(O);break;case"meta":if(B=rw("meta","content",S).get(y+(p.content||""))){for(H=0;H<B.length;H++)if(O=B[H],O.getAttribute("content")===(p.content==null?null:""+p.content)&&O.getAttribute("name")===(p.name==null?null:p.name)&&O.getAttribute("property")===(p.property==null?null:p.property)&&O.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&O.getAttribute("charset")===(p.charSet==null?null:p.charSet)){B.splice(H,1);break t}}O=S.createElement(y),Fr(O,y,p),S.head.appendChild(O);break;default:throw Error(r(468,y))}O[Te]=a,vt(O),y=O}a.stateNode=y}else iw(S,a.type,a.stateNode);else a.stateNode=nw(S,y,a.memoizedProps);else O!==y?(O===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):O.count--,y===null?iw(S,a.type,a.stateNode):nw(S,y,a.memoizedProps)):y===null&&a.stateNode!==null&&fm(a,a.memoizedProps,p.memoizedProps)}break;case 27:ji(c,a),Pi(a),y&512&&(nr||p===null||na(p,p.return)),p!==null&&y&4&&fm(a,a.memoizedProps,p.memoizedProps);break;case 5:if(ji(c,a),Pi(a),y&512&&(nr||p===null||na(p,p.return)),a.flags&32){S=a.stateNode;try{yr(S,"")}catch(xe){bn(a,a.return,xe)}}y&4&&a.stateNode!=null&&(S=a.memoizedProps,fm(a,S,p!==null?p.memoizedProps:S)),y&1024&&(mm=!0);break;case 6:if(ji(c,a),Pi(a),y&4){if(a.stateNode===null)throw Error(r(162));y=a.memoizedProps,p=a.stateNode;try{p.nodeValue=y}catch(xe){bn(a,a.return,xe)}}break;case 3:if(Rh=null,S=Ts,Ts=Oh(c.containerInfo),ji(c,a),Ts=S,Pi(a),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Ed(c.containerInfo)}catch(xe){bn(a,a.return,xe)}mm&&(mm=!1,uv(a));break;case 4:y=Ts,Ts=Oh(a.stateNode.containerInfo),ji(c,a),Pi(a),Ts=y;break;case 12:ji(c,a),Pi(a);break;case 13:ji(c,a),Pi(a),a.child.flags&8192&&a.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Cm=Kt()),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,gm(a,y)));break;case 22:S=a.memoizedState!==null;var J=p!==null&&p.memoizedState!==null,fe=La,Se=nr;if(La=fe||S,nr=Se||J,ji(c,a),nr=Se,La=fe,Pi(a),y&8192)e:for(c=a.stateNode,c._visibility=S?c._visibility&-2:c._visibility|1,S&&(p===null||J||La||nr||Ll(a)),p=null,c=a;;){if(c.tag===5||c.tag===26){if(p===null){J=p=c;try{if(O=J.stateNode,S)B=O.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{H=J.stateNode;var Ne=J.memoizedProps.style,pe=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;H.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(xe){bn(J,J.return,xe)}}}else if(c.tag===6){if(p===null){J=c;try{J.stateNode.nodeValue=S?"":J.memoizedProps}catch(xe){bn(J,J.return,xe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=a.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,gm(a,p))));break;case 19:ji(c,a),Pi(a),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,gm(a,y)));break;case 30:break;case 21:break;default:ji(c,a),Pi(a)}}function Pi(a){var c=a.flags;if(c&2){try{for(var p,y=a.return;y!==null;){if(nv(y)){p=y;break}y=y.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var S=p.stateNode,O=hm(a);gh(a,O,S);break;case 5:var B=p.stateNode;p.flags&32&&(yr(B,""),p.flags&=-33);var H=hm(a);gh(a,H,B);break;case 3:case 4:var J=p.stateNode.containerInfo,fe=hm(a);pm(a,fe,J);break;default:throw Error(r(161))}}catch(Se){bn(a,a.return,Se)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function uv(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;uv(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function So(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)sv(a,c.alternate,c),c=c.sibling}function Ll(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:_o(4,c,c.return),Ll(c);break;case 1:na(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&ev(c,c.return,p),Ll(c);break;case 27:xd(c.stateNode);case 26:case 5:na(c,c.return),Ll(c);break;case 22:c.memoizedState===null&&Ll(c);break;case 30:Ll(c);break;default:Ll(c)}a=a.sibling}}function Eo(a,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,S=a,O=c,B=O.flags;switch(O.tag){case 0:case 11:case 15:Eo(S,O,p),od(4,O);break;case 1:if(Eo(S,O,p),y=O,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(fe){bn(y,y.return,fe)}if(y=O,S=y.updateQueue,S!==null){var H=y.stateNode;try{var J=S.shared.hiddenCallbacks;if(J!==null)for(S.shared.hiddenCallbacks=null,S=0;S<J.length;S++)zy(J[S],H)}catch(fe){bn(y,y.return,fe)}}p&&B&64&&Jb(O),ld(O,O.return);break;case 27:rv(O);case 26:case 5:Eo(S,O,p),p&&y===null&&B&4&&tv(O),ld(O,O.return);break;case 12:Eo(S,O,p);break;case 13:Eo(S,O,p),p&&B&4&&lv(S,O);break;case 22:O.memoizedState===null&&Eo(S,O,p),ld(O,O.return);break;case 30:break;default:Eo(S,O,p)}c=c.sibling}}function xm(a,c){var p=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==p&&(a!=null&&a.refCount++,p!=null&&Wu(p))}function ym(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Wu(a))}function ra(a,c,p,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)dv(a,c,p,y),c=c.sibling}function dv(a,c,p,y){var S=c.flags;switch(c.tag){case 0:case 11:case 15:ra(a,c,p,y),S&2048&&od(9,c);break;case 1:ra(a,c,p,y);break;case 3:ra(a,c,p,y),S&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Wu(a)));break;case 12:if(S&2048){ra(a,c,p,y),a=c.stateNode;try{var O=c.memoizedProps,B=O.id,H=O.onPostCommit;typeof H=="function"&&H(B,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){bn(c,c.return,J)}}else ra(a,c,p,y);break;case 13:ra(a,c,p,y);break;case 23:break;case 22:O=c.stateNode,B=c.alternate,c.memoizedState!==null?O._visibility&2?ra(a,c,p,y):cd(a,c):O._visibility&2?ra(a,c,p,y):(O._visibility|=2,Uc(a,c,p,y,(c.subtreeFlags&10256)!==0)),S&2048&&xm(B,c);break;case 24:ra(a,c,p,y),S&2048&&ym(c.alternate,c);break;default:ra(a,c,p,y)}}function Uc(a,c,p,y,S){for(S=S&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var O=a,B=c,H=p,J=y,fe=B.flags;switch(B.tag){case 0:case 11:case 15:Uc(O,B,H,J,S),od(8,B);break;case 23:break;case 22:var Se=B.stateNode;B.memoizedState!==null?Se._visibility&2?Uc(O,B,H,J,S):cd(O,B):(Se._visibility|=2,Uc(O,B,H,J,S)),S&&fe&2048&&xm(B.alternate,B);break;case 24:Uc(O,B,H,J,S),S&&fe&2048&&ym(B.alternate,B);break;default:Uc(O,B,H,J,S)}c=c.sibling}}function cd(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=a,y=c,S=y.flags;switch(y.tag){case 22:cd(p,y),S&2048&&xm(y.alternate,y);break;case 24:cd(p,y),S&2048&&ym(y.alternate,y);break;default:cd(p,y)}c=c.sibling}}var ud=8192;function Hc(a){if(a.subtreeFlags&ud)for(a=a.child;a!==null;)fv(a),a=a.sibling}function fv(a){switch(a.tag){case 26:Hc(a),a.flags&ud&&a.memoizedState!==null&&CN(Ts,a.memoizedState,a.memoizedProps);break;case 5:Hc(a);break;case 3:case 4:var c=Ts;Ts=Oh(a.stateNode.containerInfo),Hc(a),Ts=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=ud,ud=16777216,Hc(a),ud=c):Hc(a));break;default:Hc(a)}}function hv(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function dd(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];Tr=y,mv(y,a)}hv(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pv(a),a=a.sibling}function pv(a){switch(a.tag){case 0:case 11:case 15:dd(a),a.flags&2048&&_o(9,a,a.return);break;case 3:dd(a);break;case 12:dd(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,xh(a)):dd(a);break;default:dd(a)}}function xh(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];Tr=y,mv(y,a)}hv(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:_o(8,c,c.return),xh(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,xh(c));break;default:xh(c)}a=a.sibling}}function mv(a,c){for(;Tr!==null;){var p=Tr;switch(p.tag){case 0:case 11:case 15:_o(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Wu(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Tr=y;else e:for(p=a;Tr!==null;){y=Tr;var S=y.sibling,O=y.return;if(av(y),y===p){Tr=null;break e}if(S!==null){S.return=O,Tr=S;break e}Tr=O}}}var PT={getCacheForType:function(a){var c=Yr(wr),p=c.data.get(a);return p===void 0&&(p=a(),c.data.set(a,p)),p}},zT=typeof WeakMap=="function"?WeakMap:Map,on=0,An=null,Pt=null,Vt=0,ln=0,zi=null,Ao=!1,Vc=!1,bm=!1,Pa=0,Wn=0,To=0,jl=0,vm=0,is=0,$c=0,fd=null,Ei=null,wm=!1,Cm=0,yh=1/0,bh=null,No=null,zr=0,Oo=null,Gc=null,qc=0,_m=0,Sm=null,gv=null,hd=0,Em=null;function Fi(){if((on&2)!==0&&Vt!==0)return Vt&-Vt;if(Y.T!==null){var a=kc;return a!==0?a:Im()}return ne()}function xv(){is===0&&(is=(Vt&536870912)===0||Zt?Us():536870912);var a=rs.current;return a!==null&&(a.flags|=32),is}function Ui(a,c,p){(a===An&&(ln===2||ln===9)||a.cancelPendingCommit!==null)&&(Wc(a,0),Mo(a,Vt,is,!1)),si(a,p),((on&2)===0||a!==An)&&(a===An&&((on&2)===0&&(jl|=p),Wn===4&&Mo(a,Vt,is,!1)),ia(a))}function yv(a,c,p){if((on&6)!==0)throw Error(r(327));var y=!p&&(c&124)===0&&(c&a.expiredLanes)===0||Gt(a,c),S=y?HT(a,c):Nm(a,c,!0),O=y;do{if(S===0){Vc&&!y&&Mo(a,c,0,!1);break}else{if(p=a.current.alternate,O&&!FT(p)){S=Nm(a,c,!1),O=!1;continue}if(S===2){if(O=c,a.errorRecoveryDisabledLanes&O)var B=0;else B=a.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){c=B;e:{var H=a;S=fd;var J=H.current.memoizedState.isDehydrated;if(J&&(Wc(H,B).flags|=256),B=Nm(H,B,!1),B!==2){if(bm&&!J){H.errorRecoveryDisabledLanes|=O,jl|=O,S=4;break e}O=Ei,Ei=S,O!==null&&(Ei===null?Ei=O:Ei.push.apply(Ei,O))}S=B}if(O=!1,S!==2)continue}}if(S===1){Wc(a,0),Mo(a,c,0,!0);break}e:{switch(y=a,O=S,O){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Mo(y,c,is,!Ao);break e;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(S=Cm+300-Kt(),10<S)){if(Mo(y,c,is,!Ao),Ht(y,0,!0)!==0)break e;y.timeoutHandle=Wv(bv.bind(null,y,p,Ei,bh,wm,c,is,jl,$c,Ao,O,2,-0,0),S);break e}bv(y,p,Ei,bh,wm,c,is,jl,$c,Ao,O,0,-0,0)}}break}while(!0);ia(a)}function bv(a,c,p,y,S,O,B,H,J,fe,Se,Ne,pe,xe){if(a.timeoutHandle=-1,Ne=c.subtreeFlags,(Ne&8192||(Ne&16785408)===16785408)&&(vd={stylesheets:null,count:0,unsuspend:wN},fv(c),Ne=_N(),Ne!==null)){a.cancelPendingCommit=Ne(Av.bind(null,a,c,O,p,y,S,B,H,J,Se,1,pe,xe)),Mo(a,O,B,!fe);return}Av(a,c,O,p,y,S,B,H,J)}function FT(a){for(var c=a;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var S=p[y],O=S.getSnapshot;S=S.value;try{if(!g(O(),S))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Mo(a,c,p,y){c&=~vm,c&=~jl,a.suspendedLanes|=c,a.pingedLanes&=~c,y&&(a.warmLanes|=c),y=a.expirationTimes;for(var S=c;0<S;){var O=31-$t(S),B=1<<O;y[O]=-1,S&=~B}p!==0&&Hs(a,p,c)}function vh(){return(on&6)===0?(pd(0),!1):!0}function Am(){if(Pt!==null){if(ln===0)var a=Pt.return;else a=Pt,Ma=Rl=null,V0(a),zc=null,id=0,a=Pt;for(;a!==null;)Qb(a.alternate,a),a=a.return;Pt=null}}function Wc(a,c){var p=a.timeoutHandle;p!==-1&&(a.timeoutHandle=-1,iN(p)),p=a.cancelPendingCommit,p!==null&&(a.cancelPendingCommit=null,p()),Am(),An=a,Pt=p=Ta(a.current,null),Vt=c,ln=0,zi=null,Ao=!1,Vc=Gt(a,c),bm=!1,$c=is=vm=jl=To=Wn=0,Ei=fd=null,wm=!1,(c&8)!==0&&(c|=c&32);var y=a.entangledLanes;if(y!==0)for(a=a.entanglements,y&=c;0<y;){var S=31-$t(y),O=1<<S;c|=a[S],y&=~O}return Pa=c,Hf(),p}function vv(a,c){Rt=null,Y.H=oh,c===Yu||c===Zf?(c=jy(),ln=3):c===Dy?(c=jy(),ln=4):ln=c===Pb?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,zi=c,Pt===null&&(Wn=1,fh(a,Ji(c,a.current)))}function wv(){var a=Y.H;return Y.H=oh,a===null?oh:a}function Cv(){var a=Y.A;return Y.A=PT,a}function Tm(){Wn=4,Ao||(Vt&4194048)!==Vt&&rs.current!==null||(Vc=!0),(To&134217727)===0&&(jl&134217727)===0||An===null||Mo(An,Vt,is,!1)}function Nm(a,c,p){var y=on;on|=2;var S=wv(),O=Cv();(An!==a||Vt!==c)&&(bh=null,Wc(a,c)),c=!1;var B=Wn;e:do try{if(ln!==0&&Pt!==null){var H=Pt,J=zi;switch(ln){case 8:Am(),B=6;break e;case 3:case 2:case 9:case 6:rs.current===null&&(c=!0);var fe=ln;if(ln=0,zi=null,Xc(a,H,J,fe),p&&Vc){B=0;break e}break;default:fe=ln,ln=0,zi=null,Xc(a,H,J,fe)}}UT(),B=Wn;break}catch(Se){vv(a,Se)}while(!0);return c&&a.shellSuspendCounter++,Ma=Rl=null,on=y,Y.H=S,Y.A=O,Pt===null&&(An=null,Vt=0,Hf()),B}function UT(){for(;Pt!==null;)_v(Pt)}function HT(a,c){var p=on;on|=2;var y=wv(),S=Cv();An!==a||Vt!==c?(bh=null,yh=Kt()+500,Wc(a,c)):Vc=Gt(a,c);e:do try{if(ln!==0&&Pt!==null){c=Pt;var O=zi;t:switch(ln){case 1:ln=0,zi=null,Xc(a,c,O,1);break;case 2:case 9:if(By(O)){ln=0,zi=null,Sv(c);break}c=function(){ln!==2&&ln!==9||An!==a||(ln=7),ia(a)},O.then(c,c);break e;case 3:ln=7;break e;case 4:ln=5;break e;case 7:By(O)?(ln=0,zi=null,Sv(c)):(ln=0,zi=null,Xc(a,c,O,7));break;case 5:var B=null;switch(Pt.tag){case 26:B=Pt.memoizedState;case 5:case 27:var H=Pt;if(!B||sw(B)){ln=0,zi=null;var J=H.sibling;if(J!==null)Pt=J;else{var fe=H.return;fe!==null?(Pt=fe,wh(fe)):Pt=null}break t}}ln=0,zi=null,Xc(a,c,O,5);break;case 6:ln=0,zi=null,Xc(a,c,O,6);break;case 8:Am(),Wn=6;break e;default:throw Error(r(462))}}VT();break}catch(Se){vv(a,Se)}while(!0);return Ma=Rl=null,Y.H=y,Y.A=S,on=p,Pt!==null?0:(An=null,Vt=0,Hf(),Wn)}function VT(){for(;Pt!==null&&!yi();)_v(Pt)}function _v(a){var c=Kb(a.alternate,a,Pa);a.memoizedProps=a.pendingProps,c===null?wh(a):Pt=c}function Sv(a){var c=a,p=c.alternate;switch(c.tag){case 15:case 0:c=$b(p,c,c.pendingProps,c.type,void 0,Vt);break;case 11:c=$b(p,c,c.pendingProps,c.type.render,c.ref,Vt);break;case 5:V0(c);default:Qb(p,c),c=Pt=Ey(c,Pa),c=Kb(p,c,Pa)}a.memoizedProps=a.pendingProps,c===null?wh(a):Pt=c}function Xc(a,c,p,y){Ma=Rl=null,V0(c),zc=null,id=0;var S=c.return;try{if(IT(a,S,c,p,Vt)){Wn=1,fh(a,Ji(p,a.current)),Pt=null;return}}catch(O){if(S!==null)throw Pt=S,O;Wn=1,fh(a,Ji(p,a.current)),Pt=null;return}c.flags&32768?(Zt||y===1?a=!0:Vc||(Vt&536870912)!==0?a=!1:(Ao=a=!0,(y===2||y===9||y===3||y===6)&&(y=rs.current,y!==null&&y.tag===13&&(y.flags|=16384))),Ev(c,a)):wh(c)}function wh(a){var c=a;do{if((c.flags&32768)!==0){Ev(c,Ao);return}a=c.return;var p=DT(c.alternate,c,Pa);if(p!==null){Pt=p;return}if(c=c.sibling,c!==null){Pt=c;return}Pt=c=a}while(c!==null);Wn===0&&(Wn=5)}function Ev(a,c){do{var p=BT(a.alternate,a);if(p!==null){p.flags&=32767,Pt=p;return}if(p=a.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(a=a.sibling,a!==null)){Pt=a;return}Pt=a=p}while(a!==null);Wn=6,Pt=null}function Av(a,c,p,y,S,O,B,H,J){a.cancelPendingCommit=null;do Ch();while(zr!==0);if((on&6)!==0)throw Error(r(327));if(c!==null){if(c===a.current)throw Error(r(177));if(O=c.lanes|c.childLanes,O|=y0,gl(a,p,O,B,H,J),a===An&&(Pt=An=null,Vt=0),Gc=c,Oo=a,qc=p,_m=O,Sm=S,gv=y,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,WT(Ge,function(){return Rv(),null})):(a.callbackNode=null,a.callbackPriority=0),y=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||y){y=Y.T,Y.T=null,S=ae.p,ae.p=2,B=on,on|=4;try{LT(a,c,p)}finally{on=B,ae.p=S,Y.T=y}}zr=1,Tv(),Nv(),Ov()}}function Tv(){if(zr===1){zr=0;var a=Oo,c=Gc,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=Y.T,Y.T=null;var y=ae.p;ae.p=2;var S=on;on|=4;try{cv(c,a);var O=Fm,B=M(a.containerInfo),H=O.focusedElem,J=O.selectionRange;if(B!==H&&H&&H.ownerDocument&&N(H.ownerDocument.documentElement,H)){if(J!==null&&k(H)){var fe=J.start,Se=J.end;if(Se===void 0&&(Se=fe),"selectionStart"in H)H.selectionStart=fe,H.selectionEnd=Math.min(Se,H.value.length);else{var Ne=H.ownerDocument||document,pe=Ne&&Ne.defaultView||window;if(pe.getSelection){var xe=pe.getSelection(),ht=H.textContent.length,ut=Math.min(J.start,ht),gn=J.end===void 0?ut:Math.min(J.end,ht);!xe.extend&&ut>gn&&(B=gn,gn=ut,ut=B);var se=_(H,ut),ie=_(H,gn);if(se&&ie&&(xe.rangeCount!==1||xe.anchorNode!==se.node||xe.anchorOffset!==se.offset||xe.focusNode!==ie.node||xe.focusOffset!==ie.offset)){var ue=Ne.createRange();ue.setStart(se.node,se.offset),xe.removeAllRanges(),ut>gn?(xe.addRange(ue),xe.extend(ie.node,ie.offset)):(ue.setEnd(ie.node,ie.offset),xe.addRange(ue))}}}}for(Ne=[],xe=H;xe=xe.parentNode;)xe.nodeType===1&&Ne.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Ne.length;H++){var Ae=Ne[H];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}Dh=!!zm,Fm=zm=null}finally{on=S,ae.p=y,Y.T=p}}a.current=c,zr=2}}function Nv(){if(zr===2){zr=0;var a=Oo,c=Gc,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=Y.T,Y.T=null;var y=ae.p;ae.p=2;var S=on;on|=4;try{sv(a,c.alternate,c)}finally{on=S,ae.p=y,Y.T=p}}zr=3}}function Ov(){if(zr===4||zr===3){zr=0,ga();var a=Oo,c=Gc,p=qc,y=gv;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?zr=5:(zr=0,Gc=Oo=null,Mv(a,a.pendingLanes));var S=a.pendingLanes;if(S===0&&(No=null),$n(p),c=c.stateNode,Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(_n,c,void 0,(c.current.flags&128)===128)}catch{}if(y!==null){c=Y.T,S=ae.p,ae.p=2,Y.T=null;try{for(var O=a.onRecoverableError,B=0;B<y.length;B++){var H=y[B];O(H.value,{componentStack:H.stack})}}finally{Y.T=c,ae.p=S}}(qc&3)!==0&&Ch(),ia(a),S=a.pendingLanes,(p&4194090)!==0&&(S&42)!==0?a===Em?hd++:(hd=0,Em=a):hd=0,pd(0)}}function Mv(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,Wu(c)))}function Ch(a){return Tv(),Nv(),Ov(),Rv()}function Rv(){if(zr!==5)return!1;var a=Oo,c=_m;_m=0;var p=$n(qc),y=Y.T,S=ae.p;try{ae.p=32>p?32:p,Y.T=null,p=Sm,Sm=null;var O=Oo,B=qc;if(zr=0,Gc=Oo=null,qc=0,(on&6)!==0)throw Error(r(331));var H=on;if(on|=4,pv(O.current),dv(O,O.current,B,p),on=H,pd(0,!1),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(_n,O)}catch{}return!0}finally{ae.p=S,Y.T=y,Mv(a,c)}}function Iv(a,c,p){c=Ji(p,c),c=rm(a.stateNode,c,2),a=bo(a,c,2),a!==null&&(si(a,2),ia(a))}function bn(a,c,p){if(a.tag===3)Iv(a,a,p);else for(;c!==null;){if(c.tag===3){Iv(c,a,p);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(No===null||!No.has(y))){a=Ji(p,a),p=Lb(2),y=bo(c,p,2),y!==null&&(jb(p,y,c,a),si(y,2),ia(y));break}}c=c.return}}function Om(a,c,p){var y=a.pingCache;if(y===null){y=a.pingCache=new zT;var S=new Set;y.set(c,S)}else S=y.get(c),S===void 0&&(S=new Set,y.set(c,S));S.has(p)||(bm=!0,S.add(p),a=$T.bind(null,a,c,p),c.then(a,a))}function $T(a,c,p){var y=a.pingCache;y!==null&&y.delete(c),a.pingedLanes|=a.suspendedLanes&p,a.warmLanes&=~p,An===a&&(Vt&p)===p&&(Wn===4||Wn===3&&(Vt&62914560)===Vt&&300>Kt()-Cm?(on&2)===0&&Wc(a,0):vm|=p,$c===Vt&&($c=0)),ia(a)}function kv(a,c){c===0&&(c=ml()),a=Oc(a,c),a!==null&&(si(a,c),ia(a))}function GT(a){var c=a.memoizedState,p=0;c!==null&&(p=c.retryLane),kv(a,p)}function qT(a,c){var p=0;switch(a.tag){case 13:var y=a.stateNode,S=a.memoizedState;S!==null&&(p=S.retryLane);break;case 19:y=a.stateNode;break;case 22:y=a.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(c),kv(a,p)}function WT(a,c){return Lt(a,c)}var _h=null,Yc=null,Mm=!1,Sh=!1,Rm=!1,Pl=0;function ia(a){a!==Yc&&a.next===null&&(Yc===null?_h=Yc=a:Yc=Yc.next=a),Sh=!0,Mm||(Mm=!0,YT())}function pd(a,c){if(!Rm&&Sh){Rm=!0;do for(var p=!1,y=_h;y!==null;){if(a!==0){var S=y.pendingLanes;if(S===0)var O=0;else{var B=y.suspendedLanes,H=y.pingedLanes;O=(1<<31-$t(42|a)+1)-1,O&=S&~(B&~H),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(p=!0,jv(y,O))}else O=Vt,O=Ht(y,y===An?O:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(O&3)===0||Gt(y,O)||(p=!0,jv(y,O));y=y.next}while(p);Rm=!1}}function XT(){Dv()}function Dv(){Sh=Mm=!1;var a=0;Pl!==0&&(rN()&&(a=Pl),Pl=0);for(var c=Kt(),p=null,y=_h;y!==null;){var S=y.next,O=Bv(y,c);O===0?(y.next=null,p===null?_h=S:p.next=S,S===null&&(Yc=p)):(p=y,(a!==0||(O&3)!==0)&&(Sh=!0)),y=S}pd(a)}function Bv(a,c){for(var p=a.suspendedLanes,y=a.pingedLanes,S=a.expirationTimes,O=a.pendingLanes&-62914561;0<O;){var B=31-$t(O),H=1<<B,J=S[B];J===-1?((H&p)===0||(H&y)!==0)&&(S[B]=Fs(H,c)):J<=c&&(a.expiredLanes|=H),O&=~H}if(c=An,p=Vt,p=Ht(a,a===c?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y=a.callbackNode,p===0||a===c&&(ln===2||ln===9)||a.cancelPendingCommit!==null)return y!==null&&y!==null&&Sr(y),a.callbackNode=null,a.callbackPriority=0;if((p&3)===0||Gt(a,p)){if(c=p&-p,c===a.callbackPriority)return c;switch(y!==null&&Sr(y),$n(p)){case 2:case 8:p=xa;break;case 32:p=Ge;break;case 268435456:p=ws;break;default:p=Ge}return y=Lv.bind(null,a),p=Lt(p,y),a.callbackPriority=c,a.callbackNode=p,c}return y!==null&&y!==null&&Sr(y),a.callbackPriority=2,a.callbackNode=null,2}function Lv(a,c){if(zr!==0&&zr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var p=a.callbackNode;if(Ch()&&a.callbackNode!==p)return null;var y=Vt;return y=Ht(a,a===An?y:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y===0?null:(yv(a,y,c),Bv(a,Kt()),a.callbackNode!=null&&a.callbackNode===p?Lv.bind(null,a):null)}function jv(a,c){if(Ch())return null;yv(a,c,!0)}function YT(){sN(function(){(on&6)!==0?Lt(It,XT):Dv()})}function Im(){return Pl===0&&(Pl=Us()),Pl}function Pv(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:vc(""+a)}function zv(a,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,a.id&&p.setAttribute("form",a.id),c.parentNode.insertBefore(p,c),a=new FormData(a),p.parentNode.removeChild(p),a}function KT(a,c,p,y,S){if(c==="submit"&&p&&p.stateNode===S){var O=Pv((S[Le]||null).action),B=y.submitter;B&&(c=(c=B[Le]||null)?Pv(c.formAction):B.getAttribute("formAction"),c!==null&&(O=c,B=null));var H=new Ks("action","action",null,y,S);a.push({event:H,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Pl!==0){var J=B?zv(S,B):new FormData(S);Q0(p,{pending:!0,data:J,method:S.method,action:O},null,J)}}else typeof O=="function"&&(H.preventDefault(),J=B?zv(S,B):new FormData(S),Q0(p,{pending:!0,data:J,method:S.method,action:O},O,J))},currentTarget:S}]})}}for(var km=0;km<Js.length;km++){var Dm=Js[km],ZT=Dm.toLowerCase(),QT=Dm[0].toUpperCase()+Dm.slice(1);Bi(ZT,"on"+QT)}Bi(gt,"onAnimationEnd"),Bi(jr,"onAnimationIteration"),Bi(Ci,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(Wr,"onTransitionRun"),Bi(an,"onTransitionStart"),Bi(vr,"onTransitionCancel"),Bi(Xr,"onTransitionEnd"),hn("onMouseEnter",["mouseout","mouseover"]),hn("onMouseLeave",["mouseout","mouseover"]),hn("onPointerEnter",["pointerout","pointerover"]),hn("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(md));function Fv(a,c){c=(c&4)!==0;for(var p=0;p<a.length;p++){var y=a[p],S=y.event;y=y.listeners;e:{var O=void 0;if(c)for(var B=y.length-1;0<=B;B--){var H=y[B],J=H.instance,fe=H.currentTarget;if(H=H.listener,J!==O&&S.isPropagationStopped())break e;O=H,S.currentTarget=fe;try{O(S)}catch(Se){dh(Se)}S.currentTarget=null,O=J}else for(B=0;B<y.length;B++){if(H=y[B],J=H.instance,fe=H.currentTarget,H=H.listener,J!==O&&S.isPropagationStopped())break e;O=H,S.currentTarget=fe;try{O(S)}catch(Se){dh(Se)}S.currentTarget=null,O=J}}}}function zt(a,c){var p=c[Ye];p===void 0&&(p=c[Ye]=new Set);var y=a+"__bubble";p.has(y)||(Uv(c,a,2,!1),p.add(y))}function Bm(a,c,p){var y=0;c&&(y|=4),Uv(p,a,y,c)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function Lm(a){if(!a[Eh]){a[Eh]=!0,jt.forEach(function(p){p!=="selectionchange"&&(JT.has(p)||Bm(p,!1,a),Bm(p,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Eh]||(c[Eh]=!0,Bm("selectionchange",!1,c))}}function Uv(a,c,p,y){switch(dw(c)){case 2:var S=AN;break;case 8:S=TN;break;default:S=Km}p=S.bind(null,c,p,a),S=void 0,!yt||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),y?S!==void 0?a.addEventListener(c,p,{capture:!0,passive:S}):a.addEventListener(c,p,!0):S!==void 0?a.addEventListener(c,p,{passive:S}):a.addEventListener(c,p,!1)}function jm(a,c,p,y,S){var O=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var B=y.tag;if(B===3||B===4){var H=y.stateNode.containerInfo;if(H===S)break;if(B===4)for(B=y.return;B!==null;){var J=B.tag;if((J===3||J===4)&&B.stateNode.containerInfo===S)return;B=B.return}for(;H!==null;){if(B=Qe(H),B===null)return;if(J=B.tag,J===5||J===6||J===26||J===27){y=O=B;continue e}H=H.parentNode}}y=y.return}Ss(function(){var fe=O,Se=io(p),Ne=[];e:{var pe=Aa.get(a);if(pe!==void 0){var xe=Ks,ht=a;switch(a){case"keypress":if(wc(p)===0)break e;case"keydown":case"keyup":xe=ju;break;case"focusin":ht="focus",xe=lo;break;case"focusout":ht="blur",xe=lo;break;case"beforeblur":case"afterblur":xe=lo;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=sn;break;case gt:case jr:case Ci:xe=u0;break;case Xr:xe=p0;break;case"scroll":case"scrollend":xe=Gr;break;case"wheel":xe=Sa;break;case"copy":case"cut":case"paste":xe=_t;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Cl;break;case"toggle":case"beforetoggle":xe=m0}var ut=(c&4)!==0,gn=!ut&&(a==="scroll"||a==="scrollend"),se=ut?pe!==null?pe+"Capture":null:pe;ut=[];for(var ie=fe,ue;ie!==null;){var Ae=ie;if(ue=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||ue===null||se===null||(Ae=at(ie,se),Ae!=null&&ut.push(gd(ie,Ae,ue))),gn)break;ie=ie.return}0<ut.length&&(pe=new xe(pe,ht,null,p,Se),Ne.push({event:pe,listeners:ut}))}}if((c&7)===0){e:{if(pe=a==="mouseover"||a==="pointerover",xe=a==="mouseout"||a==="pointerout",pe&&p!==xl&&(ht=p.relatedTarget||p.fromElement)&&(Qe(ht)||ht[Xe]))break e;if((xe||pe)&&(pe=Se.window===Se?Se:(pe=Se.ownerDocument)?pe.defaultView||pe.parentWindow:window,xe?(ht=p.relatedTarget||p.toElement,xe=fe,ht=ht?Qe(ht):null,ht!==null&&(gn=s(ht),ut=ht.tag,ht!==gn||ut!==5&&ut!==27&&ut!==6)&&(ht=null)):(xe=null,ht=fe),xe!==ht)){if(ut=Lf,Ae="onMouseLeave",se="onMouseEnter",ie="mouse",(a==="pointerout"||a==="pointerover")&&(ut=Cl,Ae="onPointerLeave",se="onPointerEnter",ie="pointer"),gn=xe==null?pe:en(xe),ue=ht==null?pe:en(ht),pe=new ut(Ae,ie+"leave",xe,p,Se),pe.target=gn,pe.relatedTarget=ue,Ae=null,Qe(Se)===fe&&(ut=new ut(se,ie+"enter",ht,p,Se),ut.target=ue,ut.relatedTarget=gn,Ae=ut),gn=Ae,xe&&ht)t:{for(ut=xe,se=ht,ie=0,ue=ut;ue;ue=Kc(ue))ie++;for(ue=0,Ae=se;Ae;Ae=Kc(Ae))ue++;for(;0<ie-ue;)ut=Kc(ut),ie--;for(;0<ue-ie;)se=Kc(se),ue--;for(;ie--;){if(ut===se||se!==null&&ut===se.alternate)break t;ut=Kc(ut),se=Kc(se)}ut=null}else ut=null;xe!==null&&Hv(Ne,pe,xe,ut,!1),ht!==null&&gn!==null&&Hv(Ne,gn,ht,ut,!0)}}e:{if(pe=fe?en(fe):window,xe=pe.nodeName&&pe.nodeName.toLowerCase(),xe==="select"||xe==="input"&&pe.type==="file")var Ke=Ff;else if(El(pe))if(Uu)Ke=u;else{Ke=L;var Dt=Tc}else xe=pe.nodeName,!xe||xe.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?fe&&rt(fe.elementType)&&(Ke=Ff):Ke=o;if(Ke&&(Ke=Ke(a,fe))){oi(Ne,Ke,p,Se);break e}Dt&&Dt(a,pe,fe),a==="focusout"&&fe&&pe.type==="number"&&fe.memoizedProps.value!=null&&ce(pe,"number",pe.value)}switch(Dt=fe?en(fe):window,a){case"focusin":(El(Dt)||Dt.contentEditable==="true")&&(U=Dt,X=fe,te=null);break;case"focusout":te=X=U=null;break;case"mousedown":re=!0;break;case"contextmenu":case"mouseup":case"dragend":re=!1,le(Ne,p,Se);break;case"selectionchange":if(j)break;case"keydown":case"keyup":le(Ne,p,Se)}var it;if(_l)e:{switch(a){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else fo?Ea(a,p)&&(dt="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(dt="onCompositionStart");dt&&(zu&&p.locale!=="ko"&&(fo||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&fo&&(it=Ws()):(qs=Se,yl="value"in qs?qs.value:qs.textContent,fo=!0)),Dt=Ah(fe,dt),0<Dt.length&&(dt=new vl(dt,a,null,p,Se),Ne.push({event:dt,listeners:Dt}),it?dt.data=it:(it=Ec(p),it!==null&&(dt.data=it)))),(it=Pu?Sl(a,p):g0(a,p))&&(dt=Ah(fe,"onBeforeInput"),0<dt.length&&(Dt=new vl("onBeforeInput","beforeinput",null,p,Se),Ne.push({event:Dt,listeners:dt}),Dt.data=it)),KT(Ne,a,fe,p,Se)}Fv(Ne,c)})}function gd(a,c,p){return{instance:a,listener:c,currentTarget:p}}function Ah(a,c){for(var p=c+"Capture",y=[];a!==null;){var S=a,O=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||O===null||(S=at(a,p),S!=null&&y.unshift(gd(a,S,O)),S=at(a,c),S!=null&&y.push(gd(a,S,O))),a.tag===3)return y;a=a.return}return[]}function Kc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Hv(a,c,p,y,S){for(var O=c._reactName,B=[];p!==null&&p!==y;){var H=p,J=H.alternate,fe=H.stateNode;if(H=H.tag,J!==null&&J===y)break;H!==5&&H!==26&&H!==27||fe===null||(J=fe,S?(fe=at(p,O),fe!=null&&B.unshift(gd(p,fe,J))):S||(fe=at(p,O),fe!=null&&B.push(gd(p,fe,J)))),p=p.return}B.length!==0&&a.push({event:c,listeners:B})}var eN=/\r\n?/g,tN=/\u0000|\uFFFD/g;function Vv(a){return(typeof a=="string"?a:""+a).replace(eN,`
`).replace(tN,"")}function $v(a,c){return c=Vv(c),Vv(a)===c}function Th(){}function mn(a,c,p,y,S,O){switch(p){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||yr(a,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&yr(a,""+y);break;case"className":_s(a,"class",y);break;case"tabIndex":_s(a,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":_s(a,p,y);break;case"style":ai(a,y,O);break;case"data":if(c!=="object"){_s(a,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||p!=="href")){a.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(p);break}y=vc(""+y),a.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){a.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(p==="formAction"?(c!=="input"&&mn(a,c,"name",S.name,S,null),mn(a,c,"formEncType",S.formEncType,S,null),mn(a,c,"formMethod",S.formMethod,S,null),mn(a,c,"formTarget",S.formTarget,S,null)):(mn(a,c,"encType",S.encType,S,null),mn(a,c,"method",S.method,S,null),mn(a,c,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(p);break}y=vc(""+y),a.setAttribute(p,y);break;case"onClick":y!=null&&(a.onclick=Th);break;case"onScroll":y!=null&&zt("scroll",a);break;case"onScrollEnd":y!=null&&zt("scrollend",a);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(r(60));a.innerHTML=p}}break;case"multiple":a.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":a.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){a.removeAttribute("xlink:href");break}p=vc(""+y),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,""+y):a.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,""):a.removeAttribute(p);break;case"capture":case"download":y===!0?a.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,y):a.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?a.setAttribute(p,y):a.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?a.removeAttribute(p):a.setAttribute(p,y);break;case"popover":zt("beforetoggle",a),zt("toggle",a),Ee(a,"popover",y);break;case"xlinkActuate":et(a,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":et(a,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":et(a,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":et(a,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":et(a,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":et(a,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":et(a,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":et(a,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":et(a,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Ee(a,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Mn.get(p)||p,Ee(a,p,y))}}function Pm(a,c,p,y,S,O){switch(p){case"style":ai(a,y,O);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(r(60));a.innerHTML=p}}break;case"children":typeof y=="string"?yr(a,y):(typeof y=="number"||typeof y=="bigint")&&yr(a,""+y);break;case"onScroll":y!=null&&zt("scroll",a);break;case"onScrollEnd":y!=null&&zt("scrollend",a);break;case"onClick":y!=null&&(a.onclick=Th);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vs.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),c=p.slice(2,S?p.length-7:void 0),O=a[Le]||null,O=O!=null?O[p]:null,typeof O=="function"&&a.removeEventListener(c,O,S),typeof y=="function")){typeof O!="function"&&O!==null&&(p in a?a[p]=null:a.hasAttribute(p)&&a.removeAttribute(p)),a.addEventListener(c,y,S);break e}p in a?a[p]=y:y===!0?a.setAttribute(p,""):Ee(a,p,y)}}}function Fr(a,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",a),zt("load",a);var y=!1,S=!1,O;for(O in p)if(p.hasOwnProperty(O)){var B=p[O];if(B!=null)switch(O){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:mn(a,c,O,B,p,null)}}S&&mn(a,c,"srcSet",p.srcSet,p,null),y&&mn(a,c,"src",p.src,p,null);return;case"input":zt("invalid",a);var H=O=B=S=null,J=null,fe=null;for(y in p)if(p.hasOwnProperty(y)){var Se=p[y];if(Se!=null)switch(y){case"name":S=Se;break;case"type":B=Se;break;case"checked":J=Se;break;case"defaultChecked":fe=Se;break;case"value":O=Se;break;case"defaultValue":H=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,c));break;default:mn(a,c,y,Se,p,null)}}xr(a,O,H,J,fe,B,S,!1),yc(a);return;case"select":zt("invalid",a),y=B=O=null;for(S in p)if(p.hasOwnProperty(S)&&(H=p[S],H!=null))switch(S){case"value":O=H;break;case"defaultValue":B=H;break;case"multiple":y=H;default:mn(a,c,S,H,p,null)}c=O,p=B,a.multiple=!!y,c!=null?W(a,!!y,c,!1):p!=null&&W(a,!!y,p,!0);return;case"textarea":zt("invalid",a),O=S=y=null;for(B in p)if(p.hasOwnProperty(B)&&(H=p[B],H!=null))switch(B){case"value":y=H;break;case"defaultValue":S=H;break;case"children":O=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:mn(a,c,B,H,p,null)}Qn(a,y,S,O),yc(a);return;case"option":for(J in p)if(p.hasOwnProperty(J)&&(y=p[J],y!=null))switch(J){case"selected":a.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:mn(a,c,J,y,p,null)}return;case"dialog":zt("beforetoggle",a),zt("toggle",a),zt("cancel",a),zt("close",a);break;case"iframe":case"object":zt("load",a);break;case"video":case"audio":for(y=0;y<md.length;y++)zt(md[y],a);break;case"image":zt("error",a),zt("load",a);break;case"details":zt("toggle",a);break;case"embed":case"source":case"link":zt("error",a),zt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in p)if(p.hasOwnProperty(fe)&&(y=p[fe],y!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:mn(a,c,fe,y,p,null)}return;default:if(rt(c)){for(Se in p)p.hasOwnProperty(Se)&&(y=p[Se],y!==void 0&&Pm(a,c,Se,y,p,void 0));return}}for(H in p)p.hasOwnProperty(H)&&(y=p[H],y!=null&&mn(a,c,H,y,p,null))}function nN(a,c,p,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,O=null,B=null,H=null,J=null,fe=null,Se=null;for(xe in p){var Ne=p[xe];if(p.hasOwnProperty(xe)&&Ne!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":J=Ne;default:y.hasOwnProperty(xe)||mn(a,c,xe,null,y,Ne)}}for(var pe in y){var xe=y[pe];if(Ne=p[pe],y.hasOwnProperty(pe)&&(xe!=null||Ne!=null))switch(pe){case"type":O=xe;break;case"name":S=xe;break;case"checked":fe=xe;break;case"defaultChecked":Se=xe;break;case"value":B=xe;break;case"defaultValue":H=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,c));break;default:xe!==Ne&&mn(a,c,pe,xe,y,Ne)}}tn(a,B,H,J,fe,Se,O,S);return;case"select":xe=B=H=pe=null;for(O in p)if(J=p[O],p.hasOwnProperty(O)&&J!=null)switch(O){case"value":break;case"multiple":xe=J;default:y.hasOwnProperty(O)||mn(a,c,O,null,y,J)}for(S in y)if(O=y[S],J=p[S],y.hasOwnProperty(S)&&(O!=null||J!=null))switch(S){case"value":pe=O;break;case"defaultValue":H=O;break;case"multiple":B=O;default:O!==J&&mn(a,c,S,O,y,J)}c=H,p=B,y=xe,pe!=null?W(a,!!p,pe,!1):!!y!=!!p&&(c!=null?W(a,!!p,c,!0):W(a,!!p,p?[]:"",!1));return;case"textarea":xe=pe=null;for(H in p)if(S=p[H],p.hasOwnProperty(H)&&S!=null&&!y.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:mn(a,c,H,null,y,S)}for(B in y)if(S=y[B],O=p[B],y.hasOwnProperty(B)&&(S!=null||O!=null))switch(B){case"value":pe=S;break;case"defaultValue":xe=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==O&&mn(a,c,B,S,y,O)}nt(a,pe,xe);return;case"option":for(var ht in p)if(pe=p[ht],p.hasOwnProperty(ht)&&pe!=null&&!y.hasOwnProperty(ht))switch(ht){case"selected":a.selected=!1;break;default:mn(a,c,ht,null,y,pe)}for(J in y)if(pe=y[J],xe=p[J],y.hasOwnProperty(J)&&pe!==xe&&(pe!=null||xe!=null))switch(J){case"selected":a.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:mn(a,c,J,pe,y,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in p)pe=p[ut],p.hasOwnProperty(ut)&&pe!=null&&!y.hasOwnProperty(ut)&&mn(a,c,ut,null,y,pe);for(fe in y)if(pe=y[fe],xe=p[fe],y.hasOwnProperty(fe)&&pe!==xe&&(pe!=null||xe!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,c));break;default:mn(a,c,fe,pe,y,xe)}return;default:if(rt(c)){for(var gn in p)pe=p[gn],p.hasOwnProperty(gn)&&pe!==void 0&&!y.hasOwnProperty(gn)&&Pm(a,c,gn,void 0,y,pe);for(Se in y)pe=y[Se],xe=p[Se],!y.hasOwnProperty(Se)||pe===xe||pe===void 0&&xe===void 0||Pm(a,c,Se,pe,y,xe);return}}for(var se in p)pe=p[se],p.hasOwnProperty(se)&&pe!=null&&!y.hasOwnProperty(se)&&mn(a,c,se,null,y,pe);for(Ne in y)pe=y[Ne],xe=p[Ne],!y.hasOwnProperty(Ne)||pe===xe||pe==null&&xe==null||mn(a,c,Ne,pe,y,xe)}var zm=null,Fm=null;function Nh(a){return a.nodeType===9?a:a.ownerDocument}function Gv(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qv(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function Um(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Hm=null;function rN(){var a=window.event;return a&&a.type==="popstate"?a===Hm?!1:(Hm=a,!0):(Hm=null,!1)}var Wv=typeof setTimeout=="function"?setTimeout:void 0,iN=typeof clearTimeout=="function"?clearTimeout:void 0,Xv=typeof Promise=="function"?Promise:void 0,sN=typeof queueMicrotask=="function"?queueMicrotask:typeof Xv<"u"?function(a){return Xv.resolve(null).then(a).catch(aN)}:Wv;function aN(a){setTimeout(function(){throw a})}function Ro(a){return a==="head"}function Yv(a,c){var p=c,y=0,S=0;do{var O=p.nextSibling;if(a.removeChild(p),O&&O.nodeType===8)if(p=O.data,p==="/$"){if(0<y&&8>y){p=y;var B=a.ownerDocument;if(p&1&&xd(B.documentElement),p&2&&xd(B.body),p&4)for(p=B.head,xd(p),B=p.firstChild;B;){var H=B.nextSibling,J=B.nodeName;B[st]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&B.rel.toLowerCase()==="stylesheet"||p.removeChild(B),B=H}}if(S===0){a.removeChild(O),Ed(c);return}S--}else p==="$"||p==="$?"||p==="$!"?S++:y=p.charCodeAt(0)-48;else y=0;p=O}while(p);Ed(c)}function Vm(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Vm(p),Je(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}a.removeChild(p)}}function oN(a,c,p,y){for(;a.nodeType===1;){var S=p;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(y){if(!a[st])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(O=a.getAttribute("rel"),O==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(O!==S.rel||a.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||a.getAttribute("title")!==(S.title==null?null:S.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(O=a.getAttribute("src"),(O!==(S.src==null?null:S.src)||a.getAttribute("type")!==(S.type==null?null:S.type)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&O&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var O=S.name==null?null:""+S.name;if(S.type==="hidden"&&a.getAttribute("name")===O)return a}else return a;if(a=Ns(a.nextSibling),a===null)break}return null}function lN(a,c,p){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!p||(a=Ns(a.nextSibling),a===null))return null;return a}function $m(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function cN(a,c){var p=a.ownerDocument;if(a.data!=="$?"||p.readyState==="complete")c();else{var y=function(){c(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),a._reactRetry=y}}function Ns(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var Gm=null;function Kv(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return a;c--}else p==="/$"&&c++}a=a.previousSibling}return null}function Zv(a,c,p){switch(c=Nh(p),a){case"html":if(a=c.documentElement,!a)throw Error(r(452));return a;case"head":if(a=c.head,!a)throw Error(r(453));return a;case"body":if(a=c.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function xd(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);Je(a)}var ss=new Map,Qv=new Set;function Oh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var za=ae.d;ae.d={f:uN,r:dN,D:fN,C:hN,L:pN,m:mN,X:xN,S:gN,M:yN};function uN(){var a=za.f(),c=vh();return a||c}function dN(a){var c=Et(a);c!==null&&c.tag===5&&c.type==="form"?yb(c):za.r(a)}var Zc=typeof document>"u"?null:document;function Jv(a,c,p){var y=Zc;if(y&&typeof c=="string"&&c){var S=gr(c);S='link[rel="'+a+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),Qv.has(S)||(Qv.add(S),a={rel:a,crossOrigin:p,href:c},y.querySelector(S)===null&&(c=y.createElement("link"),Fr(c,"link",a),vt(c),y.head.appendChild(c)))}}function fN(a){za.D(a),Jv("dns-prefetch",a,null)}function hN(a,c){za.C(a,c),Jv("preconnect",a,c)}function pN(a,c,p){za.L(a,c,p);var y=Zc;if(y&&a&&c){var S='link[rel="preload"][as="'+gr(c)+'"]';c==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+gr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+gr(p.imageSizes)+'"]')):S+='[href="'+gr(a)+'"]';var O=S;switch(c){case"style":O=Qc(a);break;case"script":O=Jc(a)}ss.has(O)||(a=b({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:a,as:c},p),ss.set(O,a),y.querySelector(S)!==null||c==="style"&&y.querySelector(yd(O))||c==="script"&&y.querySelector(bd(O))||(c=y.createElement("link"),Fr(c,"link",a),vt(c),y.head.appendChild(c)))}}function mN(a,c){za.m(a,c);var p=Zc;if(p&&a){var y=c&&typeof c.as=="string"?c.as:"script",S='link[rel="modulepreload"][as="'+gr(y)+'"][href="'+gr(a)+'"]',O=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Jc(a)}if(!ss.has(O)&&(a=b({rel:"modulepreload",href:a},c),ss.set(O,a),p.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(bd(O)))return}y=p.createElement("link"),Fr(y,"link",a),vt(y),p.head.appendChild(y)}}}function gN(a,c,p){za.S(a,c,p);var y=Zc;if(y&&a){var S=fn(y).hoistableStyles,O=Qc(a);c=c||"default";var B=S.get(O);if(!B){var H={loading:0,preload:null};if(B=y.querySelector(yd(O)))H.loading=5;else{a=b({rel:"stylesheet",href:a,"data-precedence":c},p),(p=ss.get(O))&&qm(a,p);var J=B=y.createElement("link");vt(J),Fr(J,"link",a),J._p=new Promise(function(fe,Se){J.onload=fe,J.onerror=Se}),J.addEventListener("load",function(){H.loading|=1}),J.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Mh(B,c,y)}B={type:"stylesheet",instance:B,count:1,state:H},S.set(O,B)}}}function xN(a,c){za.X(a,c);var p=Zc;if(p&&a){var y=fn(p).hoistableScripts,S=Jc(a),O=y.get(S);O||(O=p.querySelector(bd(S)),O||(a=b({src:a,async:!0},c),(c=ss.get(S))&&Wm(a,c),O=p.createElement("script"),vt(O),Fr(O,"link",a),p.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},y.set(S,O))}}function yN(a,c){za.M(a,c);var p=Zc;if(p&&a){var y=fn(p).hoistableScripts,S=Jc(a),O=y.get(S);O||(O=p.querySelector(bd(S)),O||(a=b({src:a,async:!0,type:"module"},c),(c=ss.get(S))&&Wm(a,c),O=p.createElement("script"),vt(O),Fr(O,"link",a),p.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},y.set(S,O))}}function ew(a,c,p,y){var S=(S=Me.current)?Oh(S):null;if(!S)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=Qc(p.href),p=fn(S).hoistableStyles,y=p.get(c),y||(y={type:"style",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){a=Qc(p.href);var O=fn(S).hoistableStyles,B=O.get(a);if(B||(S=S.ownerDocument||S,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(a,B),(O=S.querySelector(yd(a)))&&!O._p&&(B.instance=O,B.state.loading=5),ss.has(a)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ss.set(a,p),O||bN(S,a,p,B.state))),c&&y===null)throw Error(r(528,""));return B}if(c&&y!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Jc(p),p=fn(S).hoistableScripts,y=p.get(c),y||(y={type:"script",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Qc(a){return'href="'+gr(a)+'"'}function yd(a){return'link[rel="stylesheet"]['+a+"]"}function tw(a){return b({},a,{"data-precedence":a.precedence,precedence:null})}function bN(a,c,p,y){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=a.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),Fr(c,"link",p),vt(c),a.head.appendChild(c))}function Jc(a){return'[src="'+gr(a)+'"]'}function bd(a){return"script[async]"+a}function nw(a,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var y=a.querySelector('style[data-href~="'+gr(p.href)+'"]');if(y)return c.instance=y,vt(y),y;var S=b({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(a.ownerDocument||a).createElement("style"),vt(y),Fr(y,"style",S),Mh(y,p.precedence,a),c.instance=y;case"stylesheet":S=Qc(p.href);var O=a.querySelector(yd(S));if(O)return c.state.loading|=4,c.instance=O,vt(O),O;y=tw(p),(S=ss.get(S))&&qm(y,S),O=(a.ownerDocument||a).createElement("link"),vt(O);var B=O;return B._p=new Promise(function(H,J){B.onload=H,B.onerror=J}),Fr(O,"link",y),c.state.loading|=4,Mh(O,p.precedence,a),c.instance=O;case"script":return O=Jc(p.src),(S=a.querySelector(bd(O)))?(c.instance=S,vt(S),S):(y=p,(S=ss.get(O))&&(y=b({},p),Wm(y,S)),a=a.ownerDocument||a,S=a.createElement("script"),vt(S),Fr(S,"link",y),a.head.appendChild(S),c.instance=S);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,Mh(y,p.precedence,a));return c.instance}function Mh(a,c,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,O=S,B=0;B<y.length;B++){var H=y[B];if(H.dataset.precedence===c)O=H;else if(O!==S)break}O?O.parentNode.insertBefore(a,O.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(a,c.firstChild))}function qm(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function Wm(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Rh=null;function rw(a,c,p){if(Rh===null){var y=new Map,S=Rh=new Map;S.set(p,y)}else S=Rh,y=S.get(p),y||(y=new Map,S.set(p,y));if(y.has(a))return y;for(y.set(a,null),p=p.getElementsByTagName(a),S=0;S<p.length;S++){var O=p[S];if(!(O[st]||O[Te]||a==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var B=O.getAttribute(c)||"";B=a+B;var H=y.get(B);H?H.push(O):y.set(B,[O])}}return y}function iw(a,c,p){a=a.ownerDocument||a,a.head.insertBefore(p,c==="title"?a.querySelector("head > title"):null)}function vN(a,c,p){if(p===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function sw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var vd=null;function wN(){}function CN(a,c,p){if(vd===null)throw Error(r(475));var y=vd;if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var S=Qc(p.href),O=a.querySelector(yd(S));if(O){a=O._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(y.count++,y=Ih.bind(y),a.then(y,y)),c.state.loading|=4,c.instance=O,vt(O);return}O=a.ownerDocument||a,p=tw(p),(S=ss.get(S))&&qm(p,S),O=O.createElement("link"),vt(O);var B=O;B._p=new Promise(function(H,J){B.onload=H,B.onerror=J}),Fr(O,"link",p),c.instance=O}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(y.count++,c=Ih.bind(y),a.addEventListener("load",c),a.addEventListener("error",c))}}function _N(){if(vd===null)throw Error(r(475));var a=vd;return a.stylesheets&&a.count===0&&Xm(a,a.stylesheets),0<a.count?function(c){var p=setTimeout(function(){if(a.stylesheets&&Xm(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p)}}:null}function Ih(){if(this.count--,this.count===0){if(this.stylesheets)Xm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var kh=null;function Xm(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,kh=new Map,c.forEach(SN,a),kh=null,Ih.call(a))}function SN(a,c){if(!(c.state.loading&4)){var p=kh.get(a);if(p)var y=p.get(null);else{p=new Map,kh.set(a,p);for(var S=a.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<S.length;O++){var B=S[O];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(p.set(B.dataset.precedence,B),y=B)}y&&p.set(null,y)}S=c.instance,B=S.getAttribute("data-precedence"),O=p.get(B)||y,O===y&&p.set(null,S),p.set(B,S),this.count++,y=Ih.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),O?O.parentNode.insertBefore(S,O.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(S,a.firstChild)),c.state.loading|=4}}var wd={$$typeof:P,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function EN(a,c,p,y,S,O,B,H){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.hiddenUpdates=kt(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=O,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function aw(a,c,p,y,S,O,B,H,J,fe,Se,Ne){return a=new EN(a,c,p,B,H,J,fe,Ne),c=1,O===!0&&(c|=24),O=Li(3,null,null,c),a.current=O,O.stateNode=a,c=O0(),c.refCount++,a.pooledCache=c,c.refCount++,O.memoizedState={element:y,isDehydrated:p,cache:c},k0(O),a}function ow(a){return a?(a=Mc,a):Mc}function lw(a,c,p,y,S,O){S=ow(S),y.context===null?y.context=S:y.pendingContext=S,y=yo(c),y.payload={element:p},O=O===void 0?null:O,O!==null&&(y.callback=O),p=bo(a,y,c),p!==null&&(Ui(p,a,c),Zu(p,a,c))}function cw(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<c?p:c}}function Ym(a,c){cw(a,c),(a=a.alternate)&&cw(a,c)}function uw(a){if(a.tag===13){var c=Oc(a,67108864);c!==null&&Ui(c,a,67108864),Ym(a,67108864)}}var Dh=!0;function AN(a,c,p,y){var S=Y.T;Y.T=null;var O=ae.p;try{ae.p=2,Km(a,c,p,y)}finally{ae.p=O,Y.T=S}}function TN(a,c,p,y){var S=Y.T;Y.T=null;var O=ae.p;try{ae.p=8,Km(a,c,p,y)}finally{ae.p=O,Y.T=S}}function Km(a,c,p,y){if(Dh){var S=Zm(y);if(S===null)jm(a,c,y,Bh,p),fw(a,y);else if(ON(S,a,c,p,y))y.stopPropagation();else if(fw(a,y),c&4&&-1<NN.indexOf(a)){for(;S!==null;){var O=Et(S);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var B=rn(O.pendingLanes);if(B!==0){var H=O;for(H.pendingLanes|=2,H.entangledLanes|=2;B;){var J=1<<31-$t(B);H.entanglements[1]|=J,B&=~J}ia(O),(on&6)===0&&(yh=Kt()+500,pd(0))}}break;case 13:H=Oc(O,2),H!==null&&Ui(H,O,2),vh(),Ym(O,2)}if(O=Zm(y),O===null&&jm(a,c,y,Bh,p),O===S)break;S=O}S!==null&&y.stopPropagation()}else jm(a,c,y,null,p)}}function Zm(a){return a=io(a),Qm(a)}var Bh=null;function Qm(a){if(Bh=null,a=Qe(a),a!==null){var c=s(a);if(c===null)a=null;else{var p=c.tag;if(p===13){if(a=l(c),a!==null)return a;a=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Bh=a,null}function dw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case It:return 2;case xa:return 8;case Ge:case bi:return 32;case ws:return 268435456;default:return 32}default:return 32}}var Jm=!1,Io=null,ko=null,Do=null,Cd=new Map,_d=new Map,Bo=[],NN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fw(a,c){switch(a){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Cd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(c.pointerId)}}function Sd(a,c,p,y,S,O){return a===null||a.nativeEvent!==O?(a={blockedOn:c,domEventName:p,eventSystemFlags:y,nativeEvent:O,targetContainers:[S]},c!==null&&(c=Et(c),c!==null&&uw(c)),a):(a.eventSystemFlags|=y,c=a.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),a)}function ON(a,c,p,y,S){switch(c){case"focusin":return Io=Sd(Io,a,c,p,y,S),!0;case"dragenter":return ko=Sd(ko,a,c,p,y,S),!0;case"mouseover":return Do=Sd(Do,a,c,p,y,S),!0;case"pointerover":var O=S.pointerId;return Cd.set(O,Sd(Cd.get(O)||null,a,c,p,y,S)),!0;case"gotpointercapture":return O=S.pointerId,_d.set(O,Sd(_d.get(O)||null,a,c,p,y,S)),!0}return!1}function hw(a){var c=Qe(a.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=l(p),c!==null){a.blockedOn=c,oe(a.priority,function(){if(p.tag===13){var y=Fi();y=ba(y);var S=Oc(p,y);S!==null&&Ui(S,p,y),Ym(p,y)}});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lh(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var p=Zm(a.nativeEvent);if(p===null){p=a.nativeEvent;var y=new p.constructor(p.type,p);xl=y,p.target.dispatchEvent(y),xl=null}else return c=Et(p),c!==null&&uw(c),a.blockedOn=p,!1;c.shift()}return!0}function pw(a,c,p){Lh(a)&&p.delete(c)}function MN(){Jm=!1,Io!==null&&Lh(Io)&&(Io=null),ko!==null&&Lh(ko)&&(ko=null),Do!==null&&Lh(Do)&&(Do=null),Cd.forEach(pw),_d.forEach(pw)}function jh(a,c){a.blockedOn===c&&(a.blockedOn=null,Jm||(Jm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,MN)))}var Ph=null;function mw(a){Ph!==a&&(Ph=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ph===a&&(Ph=null);for(var c=0;c<a.length;c+=3){var p=a[c],y=a[c+1],S=a[c+2];if(typeof y!="function"){if(Qm(y||p)===null)continue;break}var O=Et(p);O!==null&&(a.splice(c,3),c-=3,Q0(O,{pending:!0,data:S,method:p.method,action:y},y,S))}}))}function Ed(a){function c(J){return jh(J,a)}Io!==null&&jh(Io,a),ko!==null&&jh(ko,a),Do!==null&&jh(Do,a),Cd.forEach(c),_d.forEach(c);for(var p=0;p<Bo.length;p++){var y=Bo[p];y.blockedOn===a&&(y.blockedOn=null)}for(;0<Bo.length&&(p=Bo[0],p.blockedOn===null);)hw(p),p.blockedOn===null&&Bo.shift();if(p=(a.ownerDocument||a).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var S=p[y],O=p[y+1],B=S[Le]||null;if(typeof O=="function")B||mw(p);else if(B){var H=null;if(O&&O.hasAttribute("formAction")){if(S=O,B=O[Le]||null)H=B.formAction;else if(Qm(S)!==null)continue}else H=B.action;typeof H=="function"?p[y+1]=H:(p.splice(y,3),y-=3),mw(p)}}}function eg(a){this._internalRoot=a}zh.prototype.render=eg.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,y=Fi();lw(p,y,a,c,null,null)},zh.prototype.unmount=eg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;lw(a.current,2,null,a,null,null),vh(),c[Xe]=null}};function zh(a){this._internalRoot=a}zh.prototype.unstable_scheduleHydration=function(a){if(a){var c=ne();a={blockedOn:null,target:a,priority:c};for(var p=0;p<Bo.length&&c!==0&&c<Bo[p].priority;p++);Bo.splice(p,0,a),p===0&&hw(a)}};var gw=e.version;if(gw!=="19.1.0")throw Error(r(527,gw,"19.1.0"));ae.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(c),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var RN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{_n=Fh.inject(RN),Sn=Fh}catch{}}return Td.createRoot=function(a,c){if(!i(a))throw Error(r(299));var p=!1,y="",S=Ib,O=kb,B=Db,H=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(H=c.unstable_transitionCallbacks)),c=aw(a,1,!1,null,null,p,y,S,O,B,H,null),a[Xe]=c.current,Lm(a),new eg(c)},Td.hydrateRoot=function(a,c,p){if(!i(a))throw Error(r(299));var y=!1,S="",O=Ib,B=kb,H=Db,J=null,fe=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(O=p.onUncaughtError),p.onCaughtError!==void 0&&(B=p.onCaughtError),p.onRecoverableError!==void 0&&(H=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(J=p.unstable_transitionCallbacks),p.formState!==void 0&&(fe=p.formState)),c=aw(a,1,!0,c,p??null,y,S,O,B,H,J,fe),c.context=ow(null),p=c.current,y=Fi(),y=ba(y),S=yo(y),S.callback=null,bo(p,S,y),p=y,c.current.lanes=p,si(c,p),ia(c),a[Xe]=c.current,Lm(a),new zh(c)},Td.version="19.1.0",Td}var Aw;function UN(){if(Aw)return ng.exports;Aw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ng.exports=FN(),ng.exports}var HN=UN(),z=dc();const qt=uc(z),VN=z.createContext(null),og={didCatch:!1,error:null};class $N extends z.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=og}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var n,r,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:s,reason:"imperative-api"}),this.setState(og)}}componentDidCatch(e,n){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,e,n)}componentDidUpdate(e,n){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&n.error!==null&&GN(e.resetKeys,i)){var s,l;(s=(l=this.props).onReset)===null||s===void 0||s.call(l,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(og)}}render(){const{children:e,fallbackRender:n,FallbackComponent:r,fallback:i}=this.props,{didCatch:s,error:l}=this.state;let d=e;if(s){const h={error:l,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")d=n(h);else if(r)d=z.createElement(r,h);else if(i!==void 0)d=i;else throw l}return z.createElement(VN.Provider,{value:{didCatch:s,error:l,resetErrorBoundary:this.resetErrorBoundary}},d)}}function GN(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((n,r)=>!Object.is(n,e[r]))}var Nd={},Tw;function qN(){if(Tw)return Nd;Tw=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.parse=l,Nd.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,A){const T=new s,R=E.length;if(R<2)return T;const I=(A==null?void 0:A.decode)||b;let D=0;do{const F=E.indexOf("=",D);if(F===-1)break;const P=E.indexOf(";",D),q=P===-1?R:P;if(F>q){D=E.lastIndexOf(";",F-1)+1;continue}const $=d(E,D,F),V=h(E,F,$),G=E.slice($,V);if(T[G]===void 0){let Q=d(E,F+1,q),Z=h(E,q,Q);const Ce=I(E.slice(Q,Z));T[G]=Ce}D=q+1}while(D<R);return T}function d(E,A,T){do{const R=E.charCodeAt(A);if(R!==32&&R!==9)return A}while(++A<T);return T}function h(E,A,T){for(;A>T;){const R=E.charCodeAt(--A);if(R!==32&&R!==9)return A+1}return T}function m(E,A,T){const R=(T==null?void 0:T.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const I=R(A);if(!e.test(I))throw new TypeError(`argument val is invalid: ${A}`);let D=E+"="+I;if(!T)return D;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);D+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);D+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);D+="; Path="+T.path}if(T.expires){if(!C(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);D+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(D+="; HttpOnly"),T.secure&&(D+="; Secure"),T.partitioned&&(D+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return D}function b(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function C(E){return i.call(E)==="[object Date]"}return Nd}qN();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var V_=t=>{throw TypeError(t)},WN=(t,e,n)=>e.has(t)||V_("Cannot "+n),lg=(t,e,n)=>(WN(t,e,"read from private field"),n?n.call(t):e.get(t)),XN=(t,e,n)=>e.has(t)?V_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Nw="popstate";function YN(t={}){function e(r,i){let{pathname:s,search:l,hash:d}=r.location;return lf("",{pathname:s,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:al(i)}return ZN(e,n,null,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ir(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KN(){return Math.random().toString(36).substring(2,10)}function Ow(t,e){return{usr:t.state,key:t.key,idx:e}}function lf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:n,key:e&&e.key||r||KN()}}function al({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ZN(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,d="POP",h=null,m=b();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function b(){return(l.state||{idx:null}).idx}function C(){d="POP";let I=b(),D=I==null?null:I-m;m=I,h&&h({action:d,location:R.location,delta:D})}function E(I,D){d="PUSH";let F=lf(R.location,I,D);m=b()+1;let P=Ow(F,m),q=R.createHref(F);try{l.pushState(P,"",q)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(q)}s&&h&&h({action:d,location:R.location,delta:1})}function A(I,D){d="REPLACE";let F=lf(R.location,I,D);m=b();let P=Ow(F,m),q=R.createHref(F);l.replaceState(P,"",q),s&&h&&h({action:d,location:R.location,delta:0})}function T(I){return $_(I)}let R={get action(){return d},get location(){return t(i,l)},listen(I){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Nw,C),h=I,()=>{i.removeEventListener(Nw,C),h=null}},createHref(I){return e(i,I)},createURL:T,encodeLocation(I){let D=T(I);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:E,replace:A,go(I){return l.go(I)}};return R}function $_(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:al(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Vd,Mw=class{constructor(t){if(XN(this,Vd,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(lg(this,Vd).has(t))return lg(this,Vd).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){lg(this,Vd).set(t,e)}};Vd=new WeakMap;var QN=new Set(["lazy","caseSensitive","path","id","index","children"]);function JN(t){return QN.has(t)}var e8=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function t8(t){return e8.has(t)}function n8(t){return t.index===!0}function N1(t,e,n=[],r={}){return t.map((i,s)=>{let l=[...n,String(s)],d=typeof i.id=="string"?i.id:l.join("-");if(Bt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Bt(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),n8(i)){let h={...i,...e(i),id:d};return r[d]=h,h}else{let h={...i,...e(i),id:d,children:void 0};return r[d]=h,i.children&&(h.children=N1(i.children,e,l,r)),h}})}function Xo(t,e,n="/"){return m1(t,e,n,!1)}function m1(t,e,n,r){let i=typeof e=="string"?fl(e):e,s=ys(i.pathname||"/",n);if(s==null)return null;let l=G_(t);i8(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let m=m8(s);d=h8(l[h],m,r)}return d}function r8(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function G_(t,e=[],n=[],r=""){let i=(s,l,d)=>{let h={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};h.relativePath.startsWith("/")&&(Bt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let m=ha([r,h.relativePath]),b=n.concat(h);s.children&&s.children.length>0&&(Bt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),G_(s.children,e,b,m)),!(s.path==null&&!s.index)&&e.push({path:m,score:d8(m,s.index),routesMeta:b})};return t.forEach((s,l)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))i(s,l);else for(let h of q_(s.path))i(s,l,h)}),e}function q_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=q_(r.join("/")),d=[];return d.push(...l.map(h=>h===""?s:[s,h].join("/"))),i&&d.push(...l),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function i8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var s8=/^:[\w-]+$/,a8=3,o8=2,l8=1,c8=10,u8=-2,Rw=t=>t==="*";function d8(t,e){let n=t.split("/"),r=n.length;return n.some(Rw)&&(r+=u8),e&&(r+=o8),n.filter(i=>!Rw(i)).reduce((i,s)=>i+(s8.test(s)?a8:s===""?l8:c8),r)}function f8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function h8(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let d=0;d<r.length;++d){let h=r[d],m=d===r.length-1,b=s==="/"?e:e.slice(s.length)||"/",C=O1({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},b),E=h.route;if(!C&&m&&n&&!r[r.length-1].route.index&&(C=O1({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},b)),!C)return null;Object.assign(i,C.params),l.push({params:i,pathname:ha([s,C.pathname]),pathnameBase:y8(ha([s,C.pathnameBase])),route:E}),C.pathnameBase!=="/"&&(s=ha([s,C.pathnameBase]))}return l}function O1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,{paramName:b,isOptional:C},E)=>{if(b==="*"){let T=d[E]||"";l=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const A=d[E];return C&&!A?m[b]=void 0:m[b]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:l,pattern:t}}function p8(t,e=!1,n=!0){ir(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function m8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ir(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ys(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function g8(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fl(t):t;return{pathname:n?n.startsWith("/")?n:x8(n,e):e,search:b8(r),hash:v8(i)}}function x8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kp(t){let e=W_(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Dp(t,e,n,r=!1){let i;typeof t=="string"?i=fl(t):(i={...t},Bt(!i.pathname||!i.pathname.includes("?"),cg("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),cg("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),cg("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,d;if(l==null)d=n;else{let C=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),C-=1;i.pathname=E.join("/")}d=C>=0?e[C]:"/"}let h=g8(i,d),m=l&&l!=="/"&&l.endsWith("/"),b=(s||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||b)&&(h.pathname+="/"),h}var ha=t=>t.join("/").replace(/\/\/+/g,"/"),y8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),b8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,M1=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var X_=["POST","PUT","PATCH","DELETE"],w8=new Set(X_),C8=["GET",...X_],_8=new Set(C8),S8=new Set([301,302,303,307,308]),E8=new Set([307,308]),ug={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},A8={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Od={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},g2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T8=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Y_="remix-router-transitions",K_=Symbol("ResetLoaderData");function N8(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Bt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||T8,s={},l=N1(t.routes,i,void 0,s),d,h=t.basename||"/",m=t.dataStrategy||k8,b={unstable_middleware:!1,...t.future},C=null,E=new Set,A=null,T=null,R=null,I=t.hydrationData!=null,D=Xo(l,t.history.location,h),F=!1,P=null,q;if(D==null&&!t.patchRoutesOnNavigation){let ne=hs(404,{pathname:t.history.location.pathname}),{matches:oe,route:he}=Vw(l);q=!0,D=oe,P={[he.id]:ne}}else if(D&&!t.hydrationData&&Hs(D,l,t.history.location.pathname).active&&(D=null),D)if(D.some(ne=>ne.route.lazy))q=!1;else if(!D.some(ne=>ne.route.loader))q=!0;else{let ne=t.hydrationData?t.hydrationData.loaderData:null,oe=t.hydrationData?t.hydrationData.errors:null;if(oe){let he=D.findIndex(Te=>oe[Te.route.id]!==void 0);q=D.slice(0,he+1).every(Te=>!Nx(Te.route,ne,oe))}else q=D.every(he=>!Nx(he.route,ne,oe))}else{q=!1,D=[];let ne=Hs(null,l,t.history.location.pathname);ne.active&&ne.matches&&(F=!0,D=ne.matches)}let $,V={historyAction:t.history.action,location:t.history.location,matches:D,initialized:q,navigation:ug,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},G="POP",Q=!1,Z,Ce=!1,we=new Map,me=null,Pe=!1,De=!1,ee=new Set,Y=new Map,ae=0,de=-1,ze=new Map,K=new Set,be=new Map,Oe=new Map,Re=new Set,He=new Map,xt,Me=null;function pr(){if(C=t.history.listen(({action:ne,location:oe,delta:he})=>{if(xt){xt(),xt=void 0;return}ir(He.size===0||he!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Te=Fs({currentLocation:V.location,nextLocation:oe,historyAction:ne});if(Te&&he!=null){let Le=new Promise(Xe=>{xt=Xe});t.history.go(he*-1),Gt(Te,{state:"blocked",location:oe,proceed(){Gt(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),Le.then(()=>t.history.go(he))},reset(){let Xe=new Map(V.blockers);Xe.set(Te,Od),On({blockers:Xe})}});return}return Sr(ne,oe)}),n){$8(e,we);let ne=()=>G8(e,we);e.addEventListener("pagehide",ne),me=()=>e.removeEventListener("pagehide",ne)}return V.initialized||Sr("POP",V.location,{initialHydration:!0}),$}function mt(){C&&C(),me&&me(),E.clear(),Z&&Z.abort(),V.fetchers.forEach((ne,oe)=>$t(oe)),V.blockers.forEach((ne,oe)=>Ht(oe))}function $r(ne){return E.add(ne),()=>E.delete(ne)}function On(ne,oe={}){V={...V,...ne};let he=[],Te=[];V.fetchers.forEach((Le,Xe)=>{Le.state==="idle"&&(Re.has(Xe)?he.push(Xe):Te.push(Xe))}),Re.forEach(Le=>{!V.fetchers.has(Le)&&!Y.has(Le)&&he.push(Le)}),[...E].forEach(Le=>Le(V,{deletedFetchers:he,viewTransitionOpts:oe.viewTransitionOpts,flushSync:oe.flushSync===!0})),he.forEach(Le=>$t(Le)),Te.forEach(Le=>V.fetchers.delete(Le))}function Cn(ne,oe,{flushSync:he}={}){var _e,st;let Te=V.actionData!=null&&V.navigation.formMethod!=null&&Wi(V.navigation.formMethod)&&V.navigation.state==="loading"&&((_e=ne.state)==null?void 0:_e._isRedirect)!==!0,Le;oe.actionData?Object.keys(oe.actionData).length>0?Le=oe.actionData:Le=null:Te?Le=V.actionData:Le=null;let Xe=oe.loaderData?Uw(V.loaderData,oe.loaderData,oe.matches||[],oe.errors):V.loaderData,Ye=V.blockers;Ye.size>0&&(Ye=new Map(Ye),Ye.forEach((Je,Qe)=>Ye.set(Qe,Od)));let Ve=Q===!0||V.navigation.formMethod!=null&&Wi(V.navigation.formMethod)&&((st=ne.state)==null?void 0:st._isRedirect)!==!0;d&&(l=d,d=void 0),Pe||G==="POP"||(G==="PUSH"?t.history.push(ne,ne.state):G==="REPLACE"&&t.history.replace(ne,ne.state));let qe;if(G==="POP"){let Je=we.get(V.location.pathname);Je&&Je.has(ne.pathname)?qe={currentLocation:V.location,nextLocation:ne}:we.has(ne.pathname)&&(qe={currentLocation:ne,nextLocation:V.location})}else if(Ce){let Je=we.get(V.location.pathname);Je?Je.add(ne.pathname):(Je=new Set([ne.pathname]),we.set(V.location.pathname,Je)),qe={currentLocation:V.location,nextLocation:ne}}On({...oe,actionData:Le,loaderData:Xe,historyAction:G,location:ne,initialized:!0,navigation:ug,revalidation:"idle",restoreScrollPosition:gl(ne,oe.matches||V.matches),preventScrollReset:Ve,blockers:Ye},{viewTransitionOpts:qe,flushSync:he===!0}),G="POP",Q=!1,Ce=!1,Pe=!1,De=!1,Me==null||Me.resolve(),Me=null}async function vs(ne,oe){if(typeof ne=="number"){t.history.go(ne);return}let he=Tx(V.location,V.matches,h,ne,oe==null?void 0:oe.fromRouteId,oe==null?void 0:oe.relative),{path:Te,submission:Le,error:Xe}=Iw(!1,he,oe),Ye=V.location,Ve=lf(V.location,Te,oe&&oe.state);Ve={...Ve,...t.history.encodeLocation(Ve)};let qe=oe&&oe.replace!=null?oe.replace:void 0,_e="PUSH";qe===!0?_e="REPLACE":qe===!1||Le!=null&&Wi(Le.formMethod)&&Le.formAction===V.location.pathname+V.location.search&&(_e="REPLACE");let st=oe&&"preventScrollReset"in oe?oe.preventScrollReset===!0:void 0,Je=(oe&&oe.flushSync)===!0,Qe=Fs({currentLocation:Ye,nextLocation:Ve,historyAction:_e});if(Qe){Gt(Qe,{state:"blocked",location:Ve,proceed(){Gt(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),vs(ne,oe)},reset(){let Et=new Map(V.blockers);Et.set(Qe,Od),On({blockers:Et})}});return}await Sr(_e,Ve,{submission:Le,pendingError:Xe,preventScrollReset:st,replace:oe&&oe.replace,enableViewTransition:oe&&oe.viewTransition,flushSync:Je})}function Lt(){Me||(Me=q8()),ya(),On({revalidation:"loading"});let ne=Me.promise;return V.navigation.state==="submitting"?ne:V.navigation.state==="idle"?(Sr(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),ne):(Sr(G||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:Ce===!0}),ne)}async function Sr(ne,oe,he){Z&&Z.abort(),Z=null,G=ne,Pe=(he&&he.startUninterruptedRevalidation)===!0,si(V.location,V.matches),Q=(he&&he.preventScrollReset)===!0,Ce=(he&&he.enableViewTransition)===!0;let Te=d||l,Le=he&&he.overrideNavigation,Xe=he!=null&&he.initialHydration&&V.matches&&V.matches.length>0&&!F?V.matches:Xo(Te,oe,h),Ye=(he&&he.flushSync)===!0;if(Xe&&V.initialized&&!De&&z8(V.location,oe)&&!(he&&he.submission&&Wi(he.submission.formMethod))){Cn(oe,{matches:Xe},{flushSync:Ye});return}let Ve=Hs(Xe,Te,oe.pathname);if(Ve.active&&Ve.matches&&(Xe=Ve.matches),!Xe){let{error:fn,notFoundMatches:vt,route:jt}=Us(oe.pathname);Cn(oe,{matches:vt,loaderData:{},errors:{[jt.id]:fn}},{flushSync:Ye});return}Z=new AbortController;let qe=hu(t.history,oe,Z.signal,he&&he.submission),_e=new Mw(t.unstable_getContext?await t.unstable_getContext():void 0),st;if(he&&he.pendingError)st=[Vl(Xe).route.id,{type:"error",error:he.pendingError}];else if(he&&he.submission&&Wi(he.submission.formMethod)){let fn=await yi(qe,oe,he.submission,Xe,_e,Ve.active,he&&he.initialHydration===!0,{replace:he.replace,flushSync:Ye});if(fn.shortCircuited)return;if(fn.pendingActionResult){let[vt,jt]=fn.pendingActionResult;if(qi(jt)&&cf(jt.error)&&jt.error.status===404){Z=null,Cn(oe,{matches:fn.matches,loaderData:{},errors:{[vt]:jt.error}});return}}Xe=fn.matches||Xe,st=fn.pendingActionResult,Le=dg(oe,he.submission),Ye=!1,Ve.active=!1,qe=hu(t.history,qe.url,qe.signal)}let{shortCircuited:Je,matches:Qe,loaderData:Et,errors:en}=await ga(qe,oe,Xe,_e,Ve.active,Le,he&&he.submission,he&&he.fetcherSubmission,he&&he.replace,he&&he.initialHydration===!0,Ye,st);Je||(Z=null,Cn(oe,{matches:Qe||Xe,...Hw(st),loaderData:Et,errors:en}))}async function yi(ne,oe,he,Te,Le,Xe,Ye,Ve={}){ya();let qe=H8(oe,he);if(On({navigation:qe},{flushSync:Ve.flushSync===!0}),Xe){let Je=await mr(Te,oe.pathname,ne.signal);if(Je.type==="aborted")return{shortCircuited:!0};if(Je.type==="error"){let Qe=Vl(Je.partialMatches).route.id;return{matches:Je.partialMatches,pendingActionResult:[Qe,{type:"error",error:Je.error}]}}else if(Je.matches)Te=Je.matches;else{let{notFoundMatches:Qe,error:Et,route:en}=Us(oe.pathname);return{matches:Qe,pendingActionResult:[en.id,{type:"error",error:Et}]}}}let _e,st=$d(Te,oe);if(!st.route.action&&!st.route.lazy)_e={type:"error",error:hs(405,{method:ne.method,pathname:oe.pathname,routeId:st.route.id})};else{let Je=vu(i,s,ne,Te,st,Ye?[]:r,Le),Qe=await ws(ne,Je,Le,null);if(_e=Qe[st.route.id],!_e){for(let Et of Te)if(Qe[Et.route.id]){_e=Qe[Et.route.id];break}}if(ne.signal.aborted)return{shortCircuited:!0}}if(Gl(_e)){let Je;return Ve&&Ve.replace!=null?Je=Ve.replace:Je=Pw(_e.response.headers.get("Location"),new URL(ne.url),h)===V.location.pathname+V.location.search,await bi(ne,_e,!0,{submission:he,replace:Je}),{shortCircuited:!0}}if(qi(_e)){let Je=Vl(Te,st.route.id);return(Ve&&Ve.replace)!==!0&&(G="PUSH"),{matches:Te,pendingActionResult:[Je.route.id,_e,st.route.id]}}return{matches:Te,pendingActionResult:[st.route.id,_e]}}async function ga(ne,oe,he,Te,Le,Xe,Ye,Ve,qe,_e,st,Je){let Qe=Xe||dg(oe,Ye),Et=Ye||Ve||Gw(Qe),en=!Pe&&!_e;if(Le){if(en){let Pn=Kt(Je);On({navigation:Qe,...Pn!==void 0?{actionData:Pn}:{}},{flushSync:st})}let et=await mr(he,oe.pathname,ne.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let Pn=Vl(et.partialMatches).route.id;return{matches:et.partialMatches,loaderData:{},errors:{[Pn]:et.error}}}else if(et.matches)he=et.matches;else{let{error:Pn,notFoundMatches:ki,route:wt}=Us(oe.pathname);return{matches:ki,loaderData:{},errors:{[wt.id]:Pn}}}}let fn=d||l,{dsMatches:vt,revalidatingFetchers:jt}=kw(ne,Te,i,s,t.history,V,he,Et,oe,_e?[]:r,_e===!0,De,ee,Re,be,K,fn,h,t.patchRoutesOnNavigation!=null,Je);if(de=++ae,!t.dataStrategy&&!vt.some(et=>et.shouldLoad)&&jt.length===0){let et=dn();return Cn(oe,{matches:he,loaderData:{},errors:Je&&qi(Je[1])?{[Je[0]]:Je[1].error}:null,...Hw(Je),...et?{fetchers:new Map(V.fetchers)}:{}},{flushSync:st}),{shortCircuited:!0}}if(en){let et={};if(!Le){et.navigation=Qe;let Pn=Kt(Je);Pn!==void 0&&(et.actionData=Pn)}jt.length>0&&(et.fetchers=Jt(jt)),On(et,{flushSync:st})}jt.forEach(et=>{ii(et.key),et.controller&&Y.set(et.key,et.controller)});let Vs=()=>jt.forEach(et=>ii(et.key));Z&&Z.signal.addEventListener("abort",Vs);let{loaderResults:En,fetcherResults:hn}=await vi(vt,jt,ne,Te);if(ne.signal.aborted)return{shortCircuited:!0};Z&&Z.signal.removeEventListener("abort",Vs),jt.forEach(et=>Y.delete(et.key));let Ot=Hh(En);if(Ot)return await bi(ne,Ot.result,!0,{replace:qe}),{shortCircuited:!0};if(Ot=Hh(hn),Ot)return K.add(Ot.key),await bi(ne,Ot.result,!0,{replace:qe}),{shortCircuited:!0};let{loaderData:Cs,errors:Lr}=Fw(V,he,En,Je,jt,hn);_e&&V.errors&&(Lr={...V.errors,...Lr});let va=dn(),Ee=Ue(de),_s=va||Ee||jt.length>0;return{matches:he,loaderData:Cs,errors:Lr,..._s?{fetchers:new Map(V.fetchers)}:{}}}function Kt(ne){if(ne&&!qi(ne[1]))return{[ne[0]]:ne[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function Jt(ne){return ne.forEach(oe=>{let he=V.fetchers.get(oe.key),Te=Md(void 0,he?he.data:void 0);V.fetchers.set(oe.key,Te)}),new Map(V.fetchers)}async function It(ne,oe,he,Te){ii(ne);let Le=(Te&&Te.flushSync)===!0,Xe=d||l,Ye=Tx(V.location,V.matches,h,he,oe,Te==null?void 0:Te.relative),Ve=Xo(Xe,Ye,h),qe=Hs(Ve,Xe,Ye);if(qe.active&&qe.matches&&(Ve=qe.matches),!Ve){Sn(ne,oe,hs(404,{pathname:Ye}),{flushSync:Le});return}let{path:_e,submission:st,error:Je}=Iw(!0,Ye,Te);if(Je){Sn(ne,oe,Je,{flushSync:Le});return}let Qe=$d(Ve,_e),Et=new Mw(t.unstable_getContext?await t.unstable_getContext():void 0),en=(Te&&Te.preventScrollReset)===!0;if(st&&Wi(st.formMethod)){await xa(ne,oe,_e,Qe,Ve,Et,qe.active,Le,en,st);return}be.set(ne,{routeId:oe,path:_e}),await Ge(ne,oe,_e,Qe,Ve,Et,qe.active,Le,en,st)}async function xa(ne,oe,he,Te,Le,Xe,Ye,Ve,qe,_e){ya(),be.delete(ne);function st(tt){if(!tt.route.action&&!tt.route.lazy){let Zi=hs(405,{method:_e.formMethod,pathname:he,routeId:oe});return Sn(ne,oe,Zi,{flushSync:Ve}),!0}return!1}if(!Ye&&st(Te))return;let Je=V.fetchers.get(ne);_n(ne,V8(_e,Je),{flushSync:Ve});let Qe=new AbortController,Et=hu(t.history,he,Qe.signal,_e);if(Ye){let tt=await mr(Le,he,Et.signal,ne);if(tt.type==="aborted")return;if(tt.type==="error"){Sn(ne,oe,tt.error,{flushSync:Ve});return}else if(tt.matches){if(Le=tt.matches,Te=$d(Le,he),st(Te))return}else{Sn(ne,oe,hs(404,{pathname:he}),{flushSync:Ve});return}}Y.set(ne,Qe);let en=ae,fn=vu(i,s,Et,Le,Te,r,Xe),jt=(await ws(Et,fn,Xe,ne))[Te.route.id];if(Et.signal.aborted){Y.get(ne)===Qe&&Y.delete(ne);return}if(Re.has(ne)){if(Gl(jt)||qi(jt)){_n(ne,Vo(void 0));return}}else{if(Gl(jt))if(Y.delete(ne),de>en){_n(ne,Vo(void 0));return}else return K.add(ne),_n(ne,Md(_e)),bi(Et,jt,!1,{fetcherSubmission:_e,preventScrollReset:qe});if(qi(jt)){Sn(ne,oe,jt.error);return}}let Vs=V.navigation.location||V.location,En=hu(t.history,Vs,Qe.signal),hn=d||l,Ot=V.navigation.state!=="idle"?Xo(hn,V.navigation.location,h):V.matches;Bt(Ot,"Didn't find any matches after fetcher action");let Cs=++ae;ze.set(ne,Cs);let Lr=Md(_e,jt.data);V.fetchers.set(ne,Lr);let{dsMatches:va,revalidatingFetchers:Ee}=kw(En,Xe,i,s,t.history,V,Ot,_e,Vs,r,!1,De,ee,Re,be,K,hn,h,t.patchRoutesOnNavigation!=null,[Te.route.id,jt]);Ee.filter(tt=>tt.key!==ne).forEach(tt=>{let Zi=tt.key,wa=V.fetchers.get(Zi),Er=Md(void 0,wa?wa.data:void 0);V.fetchers.set(Zi,Er),ii(Zi),tt.controller&&Y.set(Zi,tt.controller)}),On({fetchers:new Map(V.fetchers)});let _s=()=>Ee.forEach(tt=>ii(tt.key));Qe.signal.addEventListener("abort",_s);let{loaderResults:et,fetcherResults:Pn}=await vi(va,Ee,En,Xe);if(Qe.signal.aborted)return;if(Qe.signal.removeEventListener("abort",_s),ze.delete(ne),Y.delete(ne),Ee.forEach(tt=>Y.delete(tt.key)),V.fetchers.has(ne)){let tt=Vo(jt.data);V.fetchers.set(ne,tt)}let ki=Hh(et);if(ki)return bi(En,ki.result,!1,{preventScrollReset:qe});if(ki=Hh(Pn),ki)return K.add(ki.key),bi(En,ki.result,!1,{preventScrollReset:qe});let{loaderData:wt,errors:Mt}=Fw(V,Ot,et,void 0,Ee,Pn);Ue(Cs),V.navigation.state==="loading"&&Cs>de?(Bt(G,"Expected pending action"),Z&&Z.abort(),Cn(V.navigation.location,{matches:Ot,loaderData:wt,errors:Mt,fetchers:new Map(V.fetchers)})):(On({errors:Mt,loaderData:Uw(V.loaderData,wt,Ot,Mt),fetchers:new Map(V.fetchers)}),De=!1)}async function Ge(ne,oe,he,Te,Le,Xe,Ye,Ve,qe,_e){let st=V.fetchers.get(ne);_n(ne,Md(_e,st?st.data:void 0),{flushSync:Ve});let Je=new AbortController,Qe=hu(t.history,he,Je.signal);if(Ye){let jt=await mr(Le,he,Qe.signal,ne);if(jt.type==="aborted")return;if(jt.type==="error"){Sn(ne,oe,jt.error,{flushSync:Ve});return}else if(jt.matches)Le=jt.matches,Te=$d(Le,he);else{Sn(ne,oe,hs(404,{pathname:he}),{flushSync:Ve});return}}Y.set(ne,Je);let Et=ae,en=vu(i,s,Qe,Le,Te,r,Xe),vt=(await ws(Qe,en,Xe,ne))[Te.route.id];if(Y.get(ne)===Je&&Y.delete(ne),!Qe.signal.aborted){if(Re.has(ne)){_n(ne,Vo(void 0));return}if(Gl(vt))if(de>Et){_n(ne,Vo(void 0));return}else{K.add(ne),await bi(Qe,vt,!1,{preventScrollReset:qe});return}if(qi(vt)){Sn(ne,oe,vt.error);return}_n(ne,Vo(vt.data))}}async function bi(ne,oe,he,{submission:Te,fetcherSubmission:Le,preventScrollReset:Xe,replace:Ye}={}){oe.response.headers.has("X-Remix-Revalidate")&&(De=!0);let Ve=oe.response.headers.get("Location");Bt(Ve,"Expected a Location header on the redirect Response"),Ve=Pw(Ve,new URL(ne.url),h);let qe=lf(V.location,Ve,{_isRedirect:!0});if(n){let en=!1;if(oe.response.headers.has("X-Remix-Reload-Document"))en=!0;else if(g2.test(Ve)){const fn=$_(Ve,!0);en=fn.origin!==e.location.origin||ys(fn.pathname,h)==null}if(en){Ye?e.location.replace(Ve):e.location.assign(Ve);return}}Z=null;let _e=Ye===!0||oe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:st,formAction:Je,formEncType:Qe}=V.navigation;!Te&&!Le&&st&&Je&&Qe&&(Te=Gw(V.navigation));let Et=Te||Le;if(E8.has(oe.response.status)&&Et&&Wi(Et.formMethod))await Sr(_e,qe,{submission:{...Et,formAction:Ve},preventScrollReset:Xe||Q,enableViewTransition:he?Ce:void 0});else{let en=dg(qe,Te);await Sr(_e,qe,{overrideNavigation:en,fetcherSubmission:Le,preventScrollReset:Xe||Q,enableViewTransition:he?Ce:void 0})}}async function ws(ne,oe,he,Te){let Le,Xe={};try{Le=await D8(m,ne,oe,Te,he,!1)}catch(Ye){return oe.filter(Ve=>Ve.shouldLoad).forEach(Ve=>{Xe[Ve.route.id]={type:"error",error:Ye}}),Xe}if(ne.signal.aborted)return Xe;for(let[Ye,Ve]of Object.entries(Le))if(F8(Ve)){let qe=Ve.result;Xe[Ye]={type:"redirect",response:j8(qe,ne,Ye,oe,h)}}else Xe[Ye]=await L8(Ve);return Xe}async function vi(ne,oe,he,Te){let Le=ws(he,ne,Te,null),Xe=Promise.all(oe.map(async qe=>{if(qe.matches&&qe.match&&qe.request&&qe.controller){let st=(await ws(qe.request,qe.matches,Te,qe.key))[qe.match.route.id];return{[qe.key]:st}}else return Promise.resolve({[qe.key]:{type:"error",error:hs(404,{pathname:qe.path})}})})),Ye=await Le,Ve=(await Xe).reduce((qe,_e)=>Object.assign(qe,_e),{});return{loaderResults:Ye,fetcherResults:Ve}}function ya(){De=!0,be.forEach((ne,oe)=>{Y.has(oe)&&ee.add(oe),ii(oe)})}function _n(ne,oe,he={}){V.fetchers.set(ne,oe),On({fetchers:new Map(V.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function Sn(ne,oe,he,Te={}){let Le=Vl(V.matches,oe);$t(ne),On({errors:{[Le.route.id]:he},fetchers:new Map(V.fetchers)},{flushSync:(Te&&Te.flushSync)===!0})}function or(ne){return Oe.set(ne,(Oe.get(ne)||0)+1),Re.has(ne)&&Re.delete(ne),V.fetchers.get(ne)||A8}function $t(ne){let oe=V.fetchers.get(ne);Y.has(ne)&&!(oe&&oe.state==="loading"&&ze.has(ne))&&ii(ne),be.delete(ne),ze.delete(ne),K.delete(ne),Re.delete(ne),ee.delete(ne),V.fetchers.delete(ne)}function gc(ne){let oe=(Oe.get(ne)||0)-1;oe<=0?(Oe.delete(ne),Re.add(ne)):Oe.set(ne,oe),On({fetchers:new Map(V.fetchers)})}function ii(ne){let oe=Y.get(ne);oe&&(oe.abort(),Y.delete(ne))}function xc(ne){for(let oe of ne){let he=or(oe),Te=Vo(he.data);V.fetchers.set(oe,Te)}}function dn(){let ne=[],oe=!1;for(let he of K){let Te=V.fetchers.get(he);Bt(Te,`Expected fetcher: ${he}`),Te.state==="loading"&&(K.delete(he),ne.push(he),oe=!0)}return xc(ne),oe}function Ue(ne){let oe=[];for(let[he,Te]of ze)if(Te<ne){let Le=V.fetchers.get(he);Bt(Le,`Expected fetcher: ${he}`),Le.state==="loading"&&(ii(he),ze.delete(he),oe.push(he))}return xc(oe),oe.length>0}function rn(ne,oe){let he=V.blockers.get(ne)||Od;return He.get(ne)!==oe&&He.set(ne,oe),he}function Ht(ne){V.blockers.delete(ne),He.delete(ne)}function Gt(ne,oe){let he=V.blockers.get(ne)||Od;Bt(he.state==="unblocked"&&oe.state==="blocked"||he.state==="blocked"&&oe.state==="blocked"||he.state==="blocked"&&oe.state==="proceeding"||he.state==="blocked"&&oe.state==="unblocked"||he.state==="proceeding"&&oe.state==="unblocked",`Invalid blocker state transition: ${he.state} -> ${oe.state}`);let Te=new Map(V.blockers);Te.set(ne,oe),On({blockers:Te})}function Fs({currentLocation:ne,nextLocation:oe,historyAction:he}){if(He.size===0)return;He.size>1&&ir(!1,"A router only supports one blocker at a time");let Te=Array.from(He.entries()),[Le,Xe]=Te[Te.length-1],Ye=V.blockers.get(Le);if(!(Ye&&Ye.state==="proceeding")&&Xe({currentLocation:ne,nextLocation:oe,historyAction:he}))return Le}function Us(ne){let oe=hs(404,{pathname:ne}),he=d||l,{matches:Te,route:Le}=Vw(he);return{notFoundMatches:Te,route:Le,error:oe}}function ml(ne,oe,he){if(A=ne,R=oe,T=he||null,!I&&V.navigation===ug){I=!0;let Te=gl(V.location,V.matches);Te!=null&&On({restoreScrollPosition:Te})}return()=>{A=null,R=null,T=null}}function kt(ne,oe){return T&&T(ne,oe.map(Te=>r8(Te,V.loaderData)))||ne.key}function si(ne,oe){if(A&&R){let he=kt(ne,oe);A[he]=R()}}function gl(ne,oe){if(A){let he=kt(ne,oe),Te=A[he];if(typeof Te=="number")return Te}return null}function Hs(ne,oe,he){if(t.patchRoutesOnNavigation)if(ne){if(Object.keys(ne[0].params).length>0)return{active:!0,matches:m1(oe,he,h,!0)}}else return{active:!0,matches:m1(oe,he,h,!0)||[]};return{active:!1,matches:null}}async function mr(ne,oe,he,Te){if(!t.patchRoutesOnNavigation)return{type:"success",matches:ne};let Le=ne;for(;;){let Xe=d==null,Ye=d||l,Ve=s;try{await t.patchRoutesOnNavigation({signal:he,path:oe,matches:Le,fetcherKey:Te,patch:(st,Je)=>{he.aborted||Dw(st,Je,Ye,Ve,i)}})}catch(st){return{type:"error",error:st,partialMatches:Le}}finally{Xe&&!he.aborted&&(l=[...l])}if(he.aborted)return{type:"aborted"};let qe=Xo(Ye,oe,h);if(qe)return{type:"success",matches:qe};let _e=m1(Ye,oe,h,!0);if(!_e||Le.length===_e.length&&Le.every((st,Je)=>st.route.id===_e[Je].route.id))return{type:"success",matches:null};Le=_e}}function ba(ne){s={},d=N1(ne,i,void 0,s)}function $n(ne,oe){let he=d==null;Dw(ne,oe,d||l,s,i),he&&(l=[...l],On({}))}return $={get basename(){return h},get future(){return b},get state(){return V},get routes(){return l},get window(){return e},initialize:pr,subscribe:$r,enableScrollRestoration:ml,navigate:vs,fetch:It,revalidate:Lt,createHref:ne=>t.history.createHref(ne),encodeLocation:ne=>t.history.encodeLocation(ne),getFetcher:or,deleteFetcher:gc,dispose:mt,getBlocker:rn,deleteBlocker:Ht,patchRoutes:$n,_internalFetchControllers:Y,_internalSetRoutes:ba},$}function O8(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Tx(t,e,n,r,i,s){let l,d;if(i){l=[];for(let m of e)if(l.push(m),m.route.id===i){d=m;break}}else l=e,d=e[e.length-1];let h=Dp(r||".",kp(l),ys(t.pathname,n)||t.pathname,s==="path");if(r==null&&(h.search=t.search,h.hash=t.hash),(r==null||r===""||r===".")&&d){let m=x2(h.search);if(d.route.index&&!m)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let b=new URLSearchParams(h.search),C=b.getAll("index");b.delete("index"),C.filter(A=>A).forEach(A=>b.append("index",A));let E=b.toString();h.search=E?`?${E}`:""}}return n!=="/"&&(h.pathname=h.pathname==="/"?n:ha([n,h.pathname])),al(h)}function Iw(t,e,n){if(!n||!O8(n))return{path:e};if(n.formMethod&&!U8(n.formMethod))return{path:e,error:hs(405,{method:n.formMethod})};let r=()=>({path:e,error:hs(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),l=nS(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Wi(s))return r();let C=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((E,[A,T])=>`${E}${A}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:C}}}else if(n.formEncType==="application/json"){if(!Wi(s))return r();try{let C=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:C,text:void 0}}}catch{return r()}}}Bt(typeof FormData=="function","FormData is not available in this environment");let d,h;if(n.formData)d=Mx(n.formData),h=n.formData;else if(n.body instanceof FormData)d=Mx(n.body),h=n.body;else if(n.body instanceof URLSearchParams)d=n.body,h=zw(d);else if(n.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(n.body),h=zw(d)}catch{return r()}let m={formMethod:s,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Wi(m.formMethod))return{path:e,submission:m};let b=fl(e);return t&&b.search&&x2(b.search)&&d.append("index",""),b.search=`?${d}`,{path:al(b),submission:m}}function kw(t,e,n,r,i,s,l,d,h,m,b,C,E,A,T,R,I,D,F,P){var Pe;let q=P?qi(P[1])?P[1].error:P[1].data:void 0,$=i.createURL(s.location),V=i.createURL(h),G;if(b&&s.errors){let De=Object.keys(s.errors)[0];G=l.findIndex(ee=>ee.route.id===De)}else if(P&&qi(P[1])){let De=P[0];G=l.findIndex(ee=>ee.route.id===De)-1}let Q=P?P[1].statusCode:void 0,Z=Q&&Q>=400,Ce={currentUrl:$,currentParams:((Pe=s.matches[0])==null?void 0:Pe.params)||{},nextUrl:V,nextParams:l[0].params,...d,actionResult:q,actionStatus:Q},we=l.map((De,ee)=>{let{route:Y}=De,ae=null;if(G!=null&&ee>G?ae=!1:Y.lazy?ae=!0:Y.loader==null?ae=!1:b?ae=Nx(Y,s.loaderData,s.errors):M8(s.loaderData,s.matches[ee],De)&&(ae=!0),ae!==null)return Ox(n,r,t,De,m,e,ae);let de=Z?!1:C||$.pathname+$.search===V.pathname+V.search||$.search!==V.search||R8(s.matches[ee],De),ze={...Ce,defaultShouldRevalidate:de},K=R1(De,ze);return Ox(n,r,t,De,m,e,K,ze)}),me=[];return T.forEach((De,ee)=>{if(b||!l.some(Re=>Re.route.id===De.routeId)||A.has(ee))return;let Y=s.fetchers.get(ee),ae=Y&&Y.state!=="idle"&&Y.data===void 0,de=Xo(I,De.path,D);if(!de){if(F&&ae)return;me.push({key:ee,routeId:De.routeId,path:De.path,matches:null,match:null,request:null,controller:null});return}if(R.has(ee))return;let ze=$d(de,De.path),K=new AbortController,be=hu(i,De.path,K.signal),Oe=null;if(E.has(ee))E.delete(ee),Oe=vu(n,r,be,de,ze,m,e);else if(ae)C&&(Oe=vu(n,r,be,de,ze,m,e));else{let Re={...Ce,defaultShouldRevalidate:Z?!1:C};R1(ze,Re)&&(Oe=vu(n,r,be,de,ze,m,e,Re))}Oe&&me.push({key:ee,routeId:De.routeId,path:De.path,matches:Oe,match:ze,request:be,controller:K})}),{dsMatches:we,revalidatingFetchers:me}}function Nx(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function M8(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function R8(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function R1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Dw(t,e,n,r,i){let s;if(t){let h=r[t];Bt(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),s=h.children}else s=n;let l=e.filter(h=>!s.some(m=>Z_(h,m))),d=N1(l,i,[t||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...d)}function Z_(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>Z_(n,s))}):!1}var Bw=new WeakMap,Q_=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Bt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let l=Bw.get(i);l||(l={},Bw.set(i,l));let d=l[t];if(d)return d;let h=(async()=>{let m=JN(t),C=i[t]!==void 0&&t!=="hasErrorBoundary";if(m)ir(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(C)ir(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let E=await s();E!=null&&(Object.assign(i,{[t]:E}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(E=>E===void 0)&&(i.lazy=void 0))})();return l[t]=h,h},Lw=new WeakMap;function I8(t,e,n,r,i){let s=n[t.id];if(Bt(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let b=Lw.get(s);if(b)return{lazyRoutePromise:b,lazyHandlerPromise:b};let C=(async()=>{Bt(typeof t.lazy=="function","No lazy route function found");let E=await t.lazy(),A={};for(let T in E){let R=E[T];if(R===void 0)continue;let I=t8(T),F=s[T]!==void 0&&T!=="hasErrorBoundary";I?ir(!I,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):F?ir(!F,`Route "${s.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):A[T]=R}Object.assign(s,A),Object.assign(s,{...r(s),lazy:void 0})})();return Lw.set(s,C),C.catch(()=>{}),{lazyRoutePromise:C,lazyHandlerPromise:C}}let l=Object.keys(t.lazy),d=[],h;for(let b of l){if(i&&i.includes(b))continue;let C=Q_({key:b,route:t,manifest:n,mapRouteProperties:r});C&&(d.push(C),b===e&&(h=C))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m==null||m.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:h}}async function jw(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function k8(t){return t.matches.some(e=>e.route.unstable_middleware)?J_(t,!1,()=>jw(t),(e,n)=>({[n]:{type:"error",result:e}})):jw(t)}async function J_(t,e,n,r){let{matches:i,request:s,params:l,context:d}=t,h={handlerResult:void 0};try{let m=i.flatMap(C=>C.route.unstable_middleware?C.route.unstable_middleware.map(E=>[C.route.id,E]):[]),b=await eS({request:s,params:l,context:d},m,e,h,n);return e?b:h.handlerResult}catch(m){if(!h.middlewareError)throw m;let b=await r(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,b):b}}async function eS(t,e,n,r,i,s=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let d=e[s];if(!d)return r.handlerResult=await i(),r.handlerResult;let[h,m]=d,b=!1,C,E=async()=>{if(b)throw new Error("You may only call `next()` once per middleware");b=!0,await eS(t,e,n,r,i,s+1)};try{let A=await m({request:t.request,params:t.params,context:t.context},E);return b?A===void 0?C:A:E()}catch(A){throw r.middlewareError?r.middlewareError.error!==A&&(r.middlewareError={routeId:h,error:A}):r.middlewareError={routeId:h,error:A},A}}function tS(t,e,n,r,i){let s=Q_({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=I8(r.route,Wi(n.method)?"action":"loader",e,t,i);return{middleware:s,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function Ox(t,e,n,r,i,s,l,d=null){let h=!1,m=tS(t,e,n,r,i);return{...r,_lazyPromises:m,shouldLoad:l,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(b){return h=!0,d?typeof b=="boolean"?R1(r,{...d,defaultShouldRevalidate:b}):R1(r,d):l},resolve(b){return h||l||b&&n.method==="GET"&&(r.route.lazy||r.route.loader)?B8({request:n,match:r,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:b,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function vu(t,e,n,r,i,s,l,d=null){return r.map(h=>h.route.id!==i.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:tS(t,e,n,h,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ox(t,e,n,h,s,l,!0,d))}async function D8(t,e,n,r,i,s){n.some(m=>{var b;return(b=m._lazyPromises)==null?void 0:b.middleware})&&await Promise.all(n.map(m=>{var b;return(b=m._lazyPromises)==null?void 0:b.middleware}));let l={request:e,params:n[0].params,context:i,matches:n},h=await t({...l,fetcherKey:r,unstable_runClientMiddleware:m=>{let b=l;return J_(b,!1,()=>m({...b,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(C,E)=>({[E]:{type:"error",result:C}}))}});try{await Promise.all(n.flatMap(m=>{var b,C;return[(b=m._lazyPromises)==null?void 0:b.handler,(C=m._lazyPromises)==null?void 0:C.route]}))}catch{}return h}async function B8({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let l,d,h=Wi(t.method),m=h?"action":"loader",b=C=>{let E,A=new Promise((I,D)=>E=D);d=()=>E(),t.signal.addEventListener("abort",d);let T=I=>typeof C!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):C({request:t,params:e.params,context:s},...I!==void 0?[I]:[]),R=(async()=>{try{return{type:"data",result:await(i?i(D=>T(D)):T())}}catch(I){return{type:"error",result:I}}})();return Promise.race([R,A])};try{let C=h?e.route.action:e.route.loader;if(n||r)if(C){let E,[A]=await Promise.all([b(C).catch(T=>{E=T}),n,r]);if(E!==void 0)throw E;l=A}else{await n;let E=h?e.route.action:e.route.loader;if(E)[l]=await Promise.all([b(E),r]);else if(m==="action"){let A=new URL(t.url),T=A.pathname+A.search;throw hs(405,{method:t.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(C)l=await b(C);else{let E=new URL(t.url),A=E.pathname+E.search;throw hs(404,{pathname:A})}}catch(C){return{type:"error",result:C}}finally{d&&t.signal.removeEventListener("abort",d)}return l}async function L8(t){var r,i,s,l,d,h;let{result:e,type:n}=t;if(rS(e)){let m;try{let b=e.headers.get("Content-Type");b&&/\bapplication\/json\b/.test(b)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(b){return{type:"error",error:b}}return n==="error"?{type:"error",error:new M1(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return n==="error"?$w(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new M1(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:cf(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:cf(e)?e.status:void 0}:$w(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function j8(t,e,n,r,i){let s=t.headers.get("Location");if(Bt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!g2.test(s)){let l=r.slice(0,r.findIndex(d=>d.route.id===n)+1);s=Tx(new URL(e.url),l,i,s),t.headers.set("Location",s)}return t}function Pw(t,e,n){if(g2.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=ys(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function hu(t,e,n,r){let i=t.createURL(nS(e)).toString(),s={signal:n};if(r&&Wi(r.formMethod)){let{formMethod:l,formEncType:d}=r;s.method=l.toUpperCase(),d==="application/json"?(s.headers=new Headers({"Content-Type":d}),s.body=JSON.stringify(r.json)):d==="text/plain"?s.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?s.body=Mx(r.formData):s.body=r.formData}return new Request(i,s)}function Mx(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function zw(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function P8(t,e,n,r=!1,i=!1){let s={},l=null,d,h=!1,m={},b=n&&qi(n[1])?n[1].error:void 0;return t.forEach(C=>{if(!(C.route.id in e))return;let E=C.route.id,A=e[E];if(Bt(!Gl(A),"Cannot handle redirect results in processLoaderData"),qi(A)){let T=A.error;if(b!==void 0&&(T=b,b=void 0),l=l||{},i)l[E]=T;else{let R=Vl(t,E);l[R.route.id]==null&&(l[R.route.id]=T)}r||(s[E]=K_),h||(h=!0,d=cf(A.error)?A.error.status:500),A.headers&&(m[E]=A.headers)}else s[E]=A.data,A.statusCode&&A.statusCode!==200&&!h&&(d=A.statusCode),A.headers&&(m[E]=A.headers)}),b!==void 0&&n&&(l={[n[0]]:b},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:l,statusCode:d||200,loaderHeaders:m}}function Fw(t,e,n,r,i,s){let{loaderData:l,errors:d}=P8(e,n,r);return i.filter(h=>!h.matches||h.matches.some(m=>m.shouldLoad)).forEach(h=>{let{key:m,match:b,controller:C}=h,E=s[m];if(Bt(E,"Did not find corresponding fetcher result"),!(C&&C.signal.aborted))if(qi(E)){let A=Vl(t.matches,b==null?void 0:b.route.id);d&&d[A.route.id]||(d={...d,[A.route.id]:E.error}),t.fetchers.delete(m)}else if(Gl(E))Bt(!1,"Unhandled fetcher revalidation redirect");else{let A=Vo(E.data);t.fetchers.set(m,A)}}),{loaderData:l,errors:d}}function Uw(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==K_).reduce((s,[l,d])=>(s[l]=d,s),{});for(let s of n){let l=s.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&s.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function Hw(t){return t?qi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Vl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Vw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hs(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let l="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(d="Unable to encode submission body")):t===403?(l="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",d=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new M1(t||500,l,new Error(d),!0)}function Hh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Gl(i))return{key:r,result:i}}}function nS(t){let e=typeof t=="string"?fl(t):t;return al({...e,hash:""})}function z8(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function F8(t){return rS(t.result)&&S8.has(t.result.status)}function qi(t){return t.type==="error"}function Gl(t){return(t&&t.type)==="redirect"}function $w(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function rS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function U8(t){return _8.has(t.toUpperCase())}function Wi(t){return w8.has(t.toUpperCase())}function x2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function $d(t,e){let n=typeof e=="string"?fl(e).search:e.search;if(t[t.length-1].route.index&&x2(n||""))return t[t.length-1];let r=W_(t);return r[r.length-1]}function Gw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function dg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function H8(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Md(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function V8(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Vo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function $8(t,e){try{let n=t.sessionStorage.getItem(Y_);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function G8(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Y_,JSON.stringify(n))}catch(r){ir(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function q8(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var fc=z.createContext(null);fc.displayName="DataRouter";var wf=z.createContext(null);wf.displayName="DataRouterState";var y2=z.createContext({isTransitioning:!1});y2.displayName="ViewTransition";var iS=z.createContext(new Map);iS.displayName="Fetchers";var W8=z.createContext(null);W8.displayName="Await";var js=z.createContext(null);js.displayName="Navigation";var Bp=z.createContext(null);Bp.displayName="Location";var bs=z.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var b2=z.createContext(null);b2.displayName="RouteError";function X8(t,{relative:e}={}){Bt(Ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(js),{hash:i,pathname:s,search:l}=Cf(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:ha([n,s])),r.createHref({pathname:d,search:l,hash:i})}function Ru(){return z.useContext(Bp)!=null}function Dr(){return Bt(Ru(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Bp).location}var sS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aS(t){z.useContext(js).static||z.useLayoutEffect(t)}function Yt(){let{isDataRoute:t}=z.useContext(bs);return t?c6():Y8()}function Y8(){Bt(Ru(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(fc),{basename:e,navigator:n}=z.useContext(js),{matches:r}=z.useContext(bs),{pathname:i}=Dr(),s=JSON.stringify(kp(r)),l=z.useRef(!1);return aS(()=>{l.current=!0}),z.useCallback((h,m={})=>{if(ir(l.current,sS),!l.current)return;if(typeof h=="number"){n.go(h);return}let b=Dp(h,JSON.parse(s),i,m.relative==="path");t==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ha([e,b.pathname])),(m.replace?n.replace:n.push)(b,m.state,m)},[e,n,s,i,t])}var K8=z.createContext(null);function Z8(t){let e=z.useContext(bs).outlet;return e&&z.createElement(K8.Provider,{value:t},e)}function Ps(){let{matches:t}=z.useContext(bs),e=t[t.length-1];return e?e.params:{}}function Cf(t,{relative:e}={}){let{matches:n}=z.useContext(bs),{pathname:r}=Dr(),i=JSON.stringify(kp(n));return z.useMemo(()=>Dp(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Q8(t,e,n,r){Bt(Ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=z.useContext(js),{matches:s}=z.useContext(bs),l=s[s.length-1],d=l?l.params:{},h=l?l.pathname:"/",m=l?l.pathnameBase:"/",b=l&&l.route;{let D=b&&b.path||"";oS(h,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let C=Dr(),E;E=C;let A=E.pathname||"/",T=A;if(m!=="/"){let D=m.replace(/^\//,"").split("/");T="/"+A.replace(/^\//,"").split("/").slice(D.length).join("/")}let R=Xo(t,{pathname:T});return ir(b||R!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ir(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),r6(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:ha([m,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:ha([m,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n,r)}function J8(){let t=l6(),e=cf(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:s},"ErrorBoundary")," or"," ",z.createElement("code",{style:s},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,l)}var e6=z.createElement(J8,null),t6=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?z.createElement(bs.Provider,{value:this.props.routeContext},z.createElement(b2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function n6({routeContext:t,match:e,children:n}){let r=z.useContext(fc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(bs.Provider,{value:t},n)}function r6(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let h=i.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);Bt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,d=-1;if(n)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:b,errors:C}=n,E=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!C||C[m.route.id]===void 0);if(m.route.lazy||E){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,m,b)=>{let C,E=!1,A=null,T=null;n&&(C=s&&m.route.id?s[m.route.id]:void 0,A=m.route.errorElement||e6,l&&(d<0&&b===0?(oS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,T=null):d===b&&(E=!0,T=m.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,b+1)),I=()=>{let D;return C?D=A:E?D=T:m.route.Component?D=z.createElement(m.route.Component,null):m.route.element?D=m.route.element:D=h,z.createElement(n6,{match:m,routeContext:{outlet:h,matches:R,isDataRoute:n!=null},children:D})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?z.createElement(t6,{location:n.location,revalidation:n.revalidation,component:A,error:C,children:I(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):I()},null)}function v2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i6(t){let e=z.useContext(fc);return Bt(e,v2(t)),e}function s6(t){let e=z.useContext(wf);return Bt(e,v2(t)),e}function a6(t){let e=z.useContext(bs);return Bt(e,v2(t)),e}function w2(t){let e=a6(t),n=e.matches[e.matches.length-1];return Bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function o6(){return w2("useRouteId")}function l6(){var r;let t=z.useContext(b2),e=s6("useRouteError"),n=w2("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function c6(){let{router:t}=i6("useNavigate"),e=w2("useNavigate"),n=z.useRef(!1);return aS(()=>{n.current=!0}),z.useCallback(async(i,s={})=>{ir(n.current,sS),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var qw={};function oS(t,e,n){!e&&!qw[t]&&(qw[t]=!0,ir(!1,n))}var Ww={};function Xw(t,e){!t&&!Ww[e]&&(Ww[e]=!0,console.warn(e))}function u6(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&ir(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:z.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&ir(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:z.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&ir(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:z.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var d6=["HydrateFallback","hydrateFallbackElement"],f6=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function h6({router:t,flushSync:e}){let[n,r]=z.useState(t.state),[i,s]=z.useState(),[l,d]=z.useState({isTransitioning:!1}),[h,m]=z.useState(),[b,C]=z.useState(),[E,A]=z.useState(),T=z.useRef(new Map),R=z.useCallback((P,{deletedFetchers:q,flushSync:$,viewTransitionOpts:V})=>{P.fetchers.forEach((Q,Z)=>{Q.data!==void 0&&T.current.set(Z,Q.data)}),q.forEach(Q=>T.current.delete(Q)),Xw($===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let G=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Xw(V==null||G,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!G){e&&$?e(()=>r(P)):z.startTransition(()=>r(P));return}if(e&&$){e(()=>{b&&(h&&h.resolve(),b.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let Q=t.window.document.startViewTransition(()=>{e(()=>r(P))});Q.finished.finally(()=>{e(()=>{m(void 0),C(void 0),s(void 0),d({isTransitioning:!1})})}),e(()=>C(Q));return}b?(h&&h.resolve(),b.skipTransition(),A({state:P,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(s(P),d({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[t.window,e,b,h]);z.useLayoutEffect(()=>t.subscribe(R),[t,R]),z.useEffect(()=>{l.isTransitioning&&!l.flushSync&&m(new f6)},[l]),z.useEffect(()=>{if(h&&i&&t.window){let P=i,q=h.promise,$=t.window.document.startViewTransition(async()=>{z.startTransition(()=>r(P)),await q});$.finished.finally(()=>{m(void 0),C(void 0),s(void 0),d({isTransitioning:!1})}),C($)}},[i,h,t.window]),z.useEffect(()=>{h&&i&&n.location.key===i.location.key&&h.resolve()},[h,b,n.location,i]),z.useEffect(()=>{!l.isTransitioning&&E&&(s(E.state),d({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),A(void 0))},[l.isTransitioning,E]);let I=z.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:P=>t.navigate(P),push:(P,q,$)=>t.navigate(P,{state:q,preventScrollReset:$==null?void 0:$.preventScrollReset}),replace:(P,q,$)=>t.navigate(P,{replace:!0,state:q,preventScrollReset:$==null?void 0:$.preventScrollReset})}),[t]),D=t.basename||"/",F=z.useMemo(()=>({router:t,navigator:I,static:!1,basename:D}),[t,I,D]);return z.createElement(z.Fragment,null,z.createElement(fc.Provider,{value:F},z.createElement(wf.Provider,{value:n},z.createElement(iS.Provider,{value:T.current},z.createElement(y2.Provider,{value:l},z.createElement(x6,{basename:D,location:n.location,navigationType:n.historyAction,navigator:I},z.createElement(p6,{routes:t.routes,future:t.future,state:n})))))),null)}var p6=z.memo(m6);function m6({routes:t,future:e,state:n}){return Q8(t,void 0,n,e)}function g6({to:t,replace:e,state:n,relative:r}){Bt(Ru(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=z.useContext(js);ir(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=z.useContext(bs),{pathname:l}=Dr(),d=Yt(),h=Dp(t,kp(s),l,r==="path"),m=JSON.stringify(h);return z.useEffect(()=>{d(JSON.parse(m),{replace:e,state:n,relative:r})},[d,m,r,e,n]),null}function C2(t){return Z8(t.context)}function x6({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Bt(!Ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=fl(n));let{pathname:h="/",search:m="",hash:b="",state:C=null,key:E="default"}=n,A=z.useMemo(()=>{let T=ys(h,l);return T==null?null:{location:{pathname:T,search:m,hash:b,state:C,key:E},navigationType:r}},[l,h,m,b,C,E,r]);return ir(A!=null,`<Router basename="${l}"> is not able to match the URL "${h}${m}${b}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:z.createElement(js.Provider,{value:d},z.createElement(Bp.Provider,{children:e,value:A}))}var g1="get",x1="application/x-www-form-urlencoded";function Lp(t){return t!=null&&typeof t.tagName=="string"}function y6(t){return Lp(t)&&t.tagName.toLowerCase()==="button"}function b6(t){return Lp(t)&&t.tagName.toLowerCase()==="form"}function v6(t){return Lp(t)&&t.tagName.toLowerCase()==="input"}function w6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function C6(t,e){return t.button===0&&(!e||e==="_self")&&!w6(t)}var Vh=null;function _6(){if(Vh===null)try{new FormData(document.createElement("form"),0),Vh=!1}catch{Vh=!0}return Vh}var S6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fg(t){return t!=null&&!S6.has(t)?(ir(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${x1}"`),null):t}function E6(t,e){let n,r,i,s,l;if(b6(t)){let d=t.getAttribute("action");r=d?ys(d,e):null,n=t.getAttribute("method")||g1,i=fg(t.getAttribute("enctype"))||x1,s=new FormData(t)}else if(y6(t)||v6(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?ys(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||g1,i=fg(t.getAttribute("formenctype"))||fg(d.getAttribute("enctype"))||x1,s=new FormData(d,t),!_6()){let{name:m,type:b,value:C}=t;if(b==="image"){let E=m?`${m}.`:"";s.append(`${E}x`,"0"),s.append(`${E}y`,"0")}else m&&s.append(m,C)}}else{if(Lp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=g1,r=null,i=x1,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}function _2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function A6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function T6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function N6(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await A6(s,n);return l.links?l.links():[]}return[]}));return I6(r.flat(1).filter(T6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Yw(t,e,n,r,i,s){let l=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,d=(h,m)=>{var b;return n[m].pathname!==h.pathname||((b=n[m].route.path)==null?void 0:b.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return s==="assets"?e.filter((h,m)=>l(h,m)||d(h,m)):s==="data"?e.filter((h,m)=>{var C;let b=r.routes[h.route.id];if(!b||!b.hasLoader)return!1;if(l(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((C=n[0])==null?void 0:C.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function O6(t,e,{includeHydrateFallback:n}={}){return M6(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function M6(t){return[...new Set(t)]}function R6(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function I6(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(R6(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var k6=new Set([100,101,204,205]);function D6(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ys(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function lS(){let t=z.useContext(fc);return _2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function B6(){let t=z.useContext(wf);return _2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var S2=z.createContext(void 0);S2.displayName="FrameworkContext";function cS(){let t=z.useContext(S2);return _2(t,"You must render this element inside a <HydratedRouter> element"),t}function L6(t,e){let n=z.useContext(S2),[r,i]=z.useState(!1),[s,l]=z.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:b,onTouchStart:C}=e,E=z.useRef(null);z.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let R=D=>{D.forEach(F=>{l(F.isIntersecting)})},I=new IntersectionObserver(R,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[t]),z.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let A=()=>{i(!0)},T=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,E,{}]:[s,E,{onFocus:Rd(d,A),onBlur:Rd(h,T),onMouseEnter:Rd(m,A),onMouseLeave:Rd(b,T),onTouchStart:Rd(C,A)}]:[!1,E,{}]}function Rd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function j6({page:t,...e}){let{router:n}=lS(),r=z.useMemo(()=>Xo(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?z.createElement(z6,{page:t,matches:r,...e}):null}function P6(t){let{manifest:e,routeModules:n}=cS(),[r,i]=z.useState([]);return z.useEffect(()=>{let s=!1;return N6(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function z6({page:t,matches:e,...n}){let r=Dr(),{manifest:i,routeModules:s}=cS(),{basename:l}=lS(),{loaderData:d,matches:h}=B6(),m=z.useMemo(()=>Yw(t,e,h,i,r,"data"),[t,e,h,i,r]),b=z.useMemo(()=>Yw(t,e,h,i,r,"assets"),[t,e,h,i,r]),C=z.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,R=!1;if(e.forEach(D=>{var P;let F=i.routes[D.route.id];!F||!F.hasLoader||(!m.some(q=>q.route.id===D.route.id)&&D.route.id in d&&((P=s[D.route.id])!=null&&P.shouldRevalidate)||F.hasClientLoader?R=!0:T.add(D.route.id))}),T.size===0)return[];let I=D6(t,l);return R&&T.size>0&&I.searchParams.set("_routes",e.filter(D=>T.has(D.route.id)).map(D=>D.route.id).join(",")),[I.pathname+I.search]},[l,d,r,i,m,e,t,s]),E=z.useMemo(()=>O6(b,i),[b,i]),A=P6(b);return z.createElement(z.Fragment,null,C.map(T=>z.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),E.map(T=>z.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),A.map(({key:T,link:R})=>z.createElement("link",{key:T,...R})))}function F6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uS&&(window.__reactRouterVersion="7.6.1")}catch{}function U6(t,e){return N8({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:YN({window:e==null?void 0:e.window}),hydrationData:H6(),routes:t,mapRouteProperties:u6,hydrationRouteProperties:d6,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function H6(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:V6(t.errors)}),t}function V6(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new M1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let l=new s(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var dS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xn=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:d,target:h,to:m,preventScrollReset:b,viewTransition:C,...E},A){let{basename:T}=z.useContext(js),R=typeof m=="string"&&dS.test(m),I,D=!1;if(typeof m=="string"&&R&&(I=m,uS))try{let Z=new URL(window.location.href),Ce=m.startsWith("//")?new URL(Z.protocol+m):new URL(m),we=ys(Ce.pathname,T);Ce.origin===Z.origin&&we!=null?m=we+Ce.search+Ce.hash:D=!0}catch{ir(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=X8(m,{relative:i}),[P,q,$]=L6(r,E),V=q6(m,{replace:l,state:d,target:h,preventScrollReset:b,relative:i,viewTransition:C});function G(Z){e&&e(Z),Z.defaultPrevented||V(Z)}let Q=z.createElement("a",{...E,...$,href:I||F,onClick:D||s?e:G,ref:F6(A,q),target:h,"data-discover":!R&&n==="render"?"true":void 0});return P&&!R?z.createElement(z.Fragment,null,Q,z.createElement(j6,{page:F})):Q});xn.displayName="Link";var fS=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:d,children:h,...m},b){let C=Cf(l,{relative:m.relative}),E=Dr(),A=z.useContext(wf),{navigator:T,basename:R}=z.useContext(js),I=A!=null&&Z6(C)&&d===!0,D=T.encodeLocation?T.encodeLocation(C).pathname:C.pathname,F=E.pathname,P=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(F=F.toLowerCase(),P=P?P.toLowerCase():null,D=D.toLowerCase()),P&&R&&(P=ys(P,R)||P);const q=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let $=F===D||!i&&F.startsWith(D)&&F.charAt(q)==="/",V=P!=null&&(P===D||!i&&P.startsWith(D)&&P.charAt(D.length)==="/"),G={isActive:$,isPending:V,isTransitioning:I},Q=$?e:void 0,Z;typeof r=="function"?Z=r(G):Z=[r,$?"active":null,V?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let Ce=typeof s=="function"?s(G):s;return z.createElement(xn,{...m,"aria-current":Q,className:Z,ref:b,style:Ce,to:l,viewTransition:d},typeof h=="function"?h(G):h)});fS.displayName="NavLink";var $6=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=g1,action:d,onSubmit:h,relative:m,preventScrollReset:b,viewTransition:C,...E},A)=>{let T=Y6(),R=K6(d,{relative:m}),I=l.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&dS.test(d),F=P=>{if(h&&h(P),P.defaultPrevented)return;P.preventDefault();let q=P.nativeEvent.submitter,$=(q==null?void 0:q.getAttribute("formmethod"))||l;T(q||P.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:i,state:s,relative:m,preventScrollReset:b,viewTransition:C})};return z.createElement("form",{ref:A,method:I,action:R,onSubmit:r?h:F,...E,"data-discover":!D&&t==="render"?"true":void 0})});$6.displayName="Form";function G6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hS(t){let e=z.useContext(fc);return Bt(e,G6(t)),e}function q6(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let d=Yt(),h=Dr(),m=Cf(t,{relative:s});return z.useCallback(b=>{if(C6(b,e)){b.preventDefault();let C=n!==void 0?n:al(h)===al(m);d(t,{replace:C,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[h,d,m,n,r,e,t,i,s,l])}var W6=0,X6=()=>`__${String(++W6)}__`;function Y6(){let{router:t}=hS("useSubmit"),{basename:e}=z.useContext(js),n=o6();return z.useCallback(async(r,i={})=>{let{action:s,method:l,encType:d,formData:h,body:m}=E6(r,e);if(i.navigate===!1){let b=i.fetcherKey||X6();await t.fetch(b,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:m,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function K6(t,{relative:e}={}){let{basename:n}=z.useContext(js),r=z.useContext(bs);Bt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Cf(t||".",{relative:e})},l=Dr();if(t==null){s.search=l.search;let d=new URLSearchParams(s.search),h=d.getAll("index");if(h.some(b=>b==="")){d.delete("index"),h.filter(C=>C).forEach(C=>d.append("index",C));let b=d.toString();s.search=b?`?${b}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ha([n,s.pathname])),al(s)}function Z6(t,e={}){let n=z.useContext(y2);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hS("useViewTransitionState"),i=Cf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ys(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ys(n.nextLocation.pathname,r)||n.nextLocation.pathname;return O1(i.pathname,l)!=null||O1(i.pathname,s)!=null}[...k6];var pS=H_();const Q6=uc(pS);/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J6(t){return z.createElement(h6,{flushSync:pS.flushSync,...t})}function mS(){const{pathname:t}=Dr();return z.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const e5="_headerLayout_jfqe8_1",t5="_logoSpan_jfqe8_37",n5="_rightSection_jfqe8_75",hg={headerLayout:e5,logoSpan:t5,rightSection:n5};var $h={},Kw;function r5(){if(Kw)return $h;Kw=1,$h.match=s,$h.parse=l;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function s(b,C){return l(b).some(function(E){var A=E.inverse,T=E.type==="all"||C.type===E.type;if(T&&A||!(T||A))return!1;var R=E.expressions.every(function(I){var D=I.feature,F=I.modifier,P=I.value,q=C[D];if(!q)return!1;switch(D){case"orientation":case"scan":return q.toLowerCase()===P.toLowerCase();case"width":case"height":case"device-width":case"device-height":P=m(P),q=m(q);break;case"resolution":P=h(P),q=h(q);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":P=d(P),q=d(q);break;case"grid":case"color":case"color-index":case"monochrome":P=parseInt(P,10)||1,q=parseInt(q,10)||0;break}switch(F){case"min":return q>=P;case"max":return q<=P;default:return q===P}});return R&&!A||!R&&A})}function l(b){return b.split(",").map(function(C){C=C.trim();var E=C.match(t),A=E[1],T=E[2],R=E[3]||"",I={};return I.inverse=!!A&&A.toLowerCase()==="not",I.type=T?T.toLowerCase():"all",R=R.match(/\([^\)]+\)/g)||[],I.expressions=R.map(function(D){var F=D.match(e),P=F[1].toLowerCase().match(n);return{modifier:P[1],feature:P[2],value:F[2]}}),I})}function d(b){var C=Number(b),E;return C||(E=b.match(/^(\d+)\s*\/\s*(\d+)$/),C=E[1]/E[2]),C}function h(b){var C=parseFloat(b),E=String(b).match(i)[1];switch(E){case"dpcm":return C/2.54;case"dppx":return C*96;default:return C}}function m(b){var C=parseFloat(b),E=String(b).match(r)[1];switch(E){case"em":return C*16;case"rem":return C*16;case"cm":return C*96/2.54;case"mm":return C*96/2.54/10;case"in":return C*96;case"pt":return C*72;case"pc":return C*72/12;default:return C}}return $h}var pg,Zw;function i5(){if(Zw)return pg;Zw=1;var t=r5().match,e=typeof window<"u"?window.matchMedia:null;function n(i,s,l){var d=this,h;e&&!l&&(h=e.call(window,i)),h?(this.matches=h.matches,this.media=h.media,h.addListener(C)):(this.matches=t(i,s),this.media=i),this.addListener=m,this.removeListener=b,this.dispose=E;function m(A){h&&h.addListener(A)}function b(A){h&&h.removeListener(A)}function C(A){d.matches=A.matches,d.media=A.media}function E(){h&&h.removeListener(C)}}function r(i,s,l){return new n(i,s,l)}return pg=r,pg}var s5=i5();const a5=uc(s5);var o5=/[A-Z]/g,l5=/^ms-/,mg={};function c5(t){return"-"+t.toLowerCase()}function gS(t){if(mg.hasOwnProperty(t))return mg[t];var e=t.replace(o5,c5);return mg[t]=l5.test(e)?"-"+e:e}function u5(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(let s=0;s<i;s++){const l=n[s];if(t[l]!==e[l]||!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0}var gg={exports:{}},xg,Qw;function d5(){if(Qw)return xg;Qw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xg=t,xg}var yg,Jw;function f5(){if(Jw)return yg;Jw=1;var t=d5();function e(){}function n(){}return n.resetWarningCache=e,yg=function(){function r(l,d,h,m,b,C){if(C!==t){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},yg}var eC;function E2(){return eC||(eC=1,gg.exports=f5()()),gg.exports}var h5=E2();const Qt=uc(h5),fi=Qt.oneOfType([Qt.string,Qt.number]),xS={all:Qt.bool,grid:Qt.bool,aural:Qt.bool,braille:Qt.bool,handheld:Qt.bool,print:Qt.bool,projection:Qt.bool,screen:Qt.bool,tty:Qt.bool,tv:Qt.bool,embossed:Qt.bool},p5={orientation:Qt.oneOf(["portrait","landscape"]),scan:Qt.oneOf(["progressive","interlace"]),aspectRatio:Qt.string,deviceAspectRatio:Qt.string,height:fi,deviceHeight:fi,width:fi,deviceWidth:fi,color:Qt.bool,colorIndex:Qt.bool,monochrome:Qt.bool,resolution:fi,type:Object.keys(xS)},{type:yee,...m5}=p5,g5={minAspectRatio:Qt.string,maxAspectRatio:Qt.string,minDeviceAspectRatio:Qt.string,maxDeviceAspectRatio:Qt.string,minHeight:fi,maxHeight:fi,minDeviceHeight:fi,maxDeviceHeight:fi,minWidth:fi,maxWidth:fi,minDeviceWidth:fi,maxDeviceWidth:fi,minColor:Qt.number,maxColor:Qt.number,minColorIndex:Qt.number,maxColorIndex:Qt.number,minMonochrome:Qt.number,maxMonochrome:Qt.number,minResolution:fi,maxResolution:fi,...m5},x5={...xS,...g5};var y5={all:x5};const b5=t=>`not ${t}`,v5=(t,e)=>{const n=gS(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?b5(n):`(${n}: ${e})`},w5=t=>t.join(" and "),C5=t=>{const e=[];return Object.keys(y5.all).forEach(n=>{const r=t[n];r!=null&&e.push(v5(n,r))}),w5(e)},_5=z.createContext(void 0),S5=t=>t.query||C5(t),tC=t=>t?Object.keys(t).reduce((n,r)=>(n[gS(r)]=t[r],n),{}):void 0,yS=()=>{const t=z.useRef(!1);return z.useEffect(()=>{t.current=!0},[]),t.current},E5=t=>{const e=z.useContext(_5),n=()=>tC(t)||tC(e),[r,i]=z.useState(n);return z.useEffect(()=>{const s=n();u5(r,s)||i(s)},[t,e]),r},A5=t=>{const e=()=>S5(t),[n,r]=z.useState(e);return z.useEffect(()=>{const i=e();n!==i&&r(i)},[t]),n},T5=(t,e)=>{const n=()=>a5(t,e||{},!!e),[r,i]=z.useState(n),s=yS();return z.useEffect(()=>{if(s){const l=n();return i(l),()=>{l&&l.dispose()}}},[t,e]),r},N5=t=>{const[e,n]=z.useState(t.matches);return z.useEffect(()=>{const r=i=>{n(i.matches)};return t.addListener(r),n(t.matches),()=>{t.removeListener(r)}},[t]),e},bg=(t,e,n)=>{const r=E5(e),i=A5(t);if(!i)throw new Error("Invalid or missing MediaQuery!");const s=T5(i,r),l=N5(s);return yS(),z.useEffect(()=>{},[l]),z.useEffect(()=>()=>{s&&s.dispose()},[]),l},A2=()=>{const t=bg({maxWidth:767}),e=bg({minWidth:768,maxWidth:1024}),n=bg({minWidth:1025});return{isMobile:t,isTablet:e,isDesktop:n}},O5="_overlay_ry9nc_1",M5="_menuLayout_ry9nc_33",R5="_menuVisible_ry9nc_75",I5="_menuHidden_ry9nc_83",k5="_closeContainer_ry9nc_91",D5="_closeButton_ry9nc_125",B5="_menuSection_ry9nc_183",L5="_userNickname_ry9nc_199",j5="_menuSpan_ry9nc_215",P5="_divider_ry9nc_247",Ln={overlay:O5,menuLayout:M5,menuVisible:R5,menuHidden:I5,closeContainer:k5,closeButton:D5,menuSection:B5,userNickname:L5,menuSpan:j5,divider:P5};function bS(t,e){return function(){return t.apply(e,arguments)}}const{toString:z5}=Object.prototype,{getPrototypeOf:T2}=Object,{iterator:jp,toStringTag:vS}=Symbol,Pp=(t=>e=>{const n=z5.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zs=t=>(t=t.toLowerCase(),e=>Pp(e)===t),zp=t=>e=>typeof e===t,{isArray:Iu}=Array,Su=zp("undefined");function _f(t){return t!==null&&!Su(t)&&t.constructor!==null&&!Su(t.constructor)&&Ni(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const wS=zs("ArrayBuffer");function F5(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&wS(t.buffer),e}const U5=zp("string"),Ni=zp("function"),CS=zp("number"),Sf=t=>t!==null&&typeof t=="object",H5=t=>t===!0||t===!1,y1=t=>{if(Pp(t)!=="object")return!1;const e=T2(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(vS in t)&&!(jp in t)},V5=t=>{if(!Sf(t)||_f(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},$5=zs("Date"),G5=zs("File"),q5=zs("Blob"),W5=zs("FileList"),X5=t=>Sf(t)&&Ni(t.pipe),Y5=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ni(t.append)&&((e=Pp(t))==="formdata"||e==="object"&&Ni(t.toString)&&t.toString()==="[object FormData]"))},K5=zs("URLSearchParams"),[Z5,Q5,J5,eO]=["ReadableStream","Request","Response","Headers"].map(zs),tO=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ef(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Iu(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(_f(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),l=s.length;let d;for(r=0;r<l;r++)d=s[r],e.call(null,t[d],d,t)}}function _S(t,e){if(_f(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const ql=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,SS=t=>!Su(t)&&t!==ql;function Rx(){const{caseless:t,skipUndefined:e}=SS(this)&&this||{},n={},r=(i,s)=>{const l=t&&_S(n,s)||s;y1(n[l])&&y1(i)?n[l]=Rx(n[l],i):y1(i)?n[l]=Rx({},i):Iu(i)?n[l]=i.slice():(!e||!Su(i))&&(n[l]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ef(arguments[i],r);return n}const nO=(t,e,n,{allOwnKeys:r}={})=>(Ef(e,(i,s)=>{n&&Ni(i)?t[s]=bS(i,n):t[s]=i},{allOwnKeys:r}),t),rO=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),iO=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},sO=(t,e,n,r)=>{let i,s,l;const d={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)l=i[s],(!r||r(l,t,e))&&!d[l]&&(e[l]=t[l],d[l]=!0);t=n!==!1&&T2(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},aO=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},oO=t=>{if(!t)return null;if(Iu(t))return t;let e=t.length;if(!CS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},lO=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&T2(Uint8Array)),cO=(t,e)=>{const r=(t&&t[jp]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},uO=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},dO=zs("HTMLFormElement"),fO=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),nC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),hO=zs("RegExp"),ES=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ef(n,(i,s)=>{let l;(l=e(i,s,t))!==!1&&(r[s]=l||i)}),Object.defineProperties(t,r)},pO=t=>{ES(t,(e,n)=>{if(Ni(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ni(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},mO=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Iu(t)?r(t):r(String(t).split(e)),n},gO=()=>{},xO=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function yO(t){return!!(t&&Ni(t.append)&&t[vS]==="FormData"&&t[jp])}const bO=t=>{const e=new Array(10),n=(r,i)=>{if(Sf(r)){if(e.indexOf(r)>=0)return;if(_f(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Iu(r)?[]:{};return Ef(r,(l,d)=>{const h=n(l,i+1);!Su(h)&&(s[d]=h)}),e[i]=void 0,s}}return r};return n(t,0)},vO=zs("AsyncFunction"),wO=t=>t&&(Sf(t)||Ni(t))&&Ni(t.then)&&Ni(t.catch),AS=((t,e)=>t?setImmediate:e?((n,r)=>(ql.addEventListener("message",({source:i,data:s})=>{i===ql&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ql.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ni(ql.postMessage)),CO=typeof queueMicrotask<"u"?queueMicrotask.bind(ql):typeof process<"u"&&process.nextTick||AS,_O=t=>t!=null&&Ni(t[jp]),ve={isArray:Iu,isArrayBuffer:wS,isBuffer:_f,isFormData:Y5,isArrayBufferView:F5,isString:U5,isNumber:CS,isBoolean:H5,isObject:Sf,isPlainObject:y1,isEmptyObject:V5,isReadableStream:Z5,isRequest:Q5,isResponse:J5,isHeaders:eO,isUndefined:Su,isDate:$5,isFile:G5,isBlob:q5,isRegExp:hO,isFunction:Ni,isStream:X5,isURLSearchParams:K5,isTypedArray:lO,isFileList:W5,forEach:Ef,merge:Rx,extend:nO,trim:tO,stripBOM:rO,inherits:iO,toFlatObject:sO,kindOf:Pp,kindOfTest:zs,endsWith:aO,toArray:oO,forEachEntry:cO,matchAll:uO,isHTMLForm:dO,hasOwnProperty:nC,hasOwnProp:nC,reduceDescriptors:ES,freezeMethods:pO,toObjectSet:mO,toCamelCase:fO,noop:gO,toFiniteNumber:xO,findKey:_S,global:ql,isContextDefined:SS,isSpecCompliantForm:yO,toJSONObject:bO,isAsyncFn:vO,isThenable:wO,setImmediate:AS,asap:CO,isIterable:_O};function Ct(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ve.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const TS=Ct.prototype,NS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{NS[t]={value:t}});Object.defineProperties(Ct,NS);Object.defineProperty(TS,"isAxiosError",{value:!0});Ct.from=(t,e,n,r,i,s)=>{const l=Object.create(TS);ve.toFlatObject(t,l,function(b){return b!==Error.prototype},m=>m!=="isAxiosError");const d=t&&t.message?t.message:"Error",h=e==null&&t?t.code:e;return Ct.call(l,d,h,n,r,i),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",s&&Object.assign(l,s),l};const SO=null;function Ix(t){return ve.isPlainObject(t)||ve.isArray(t)}function OS(t){return ve.endsWith(t,"[]")?t.slice(0,-2):t}function rC(t,e,n){return t?t.concat(e).map(function(i,s){return i=OS(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function EO(t){return ve.isArray(t)&&!t.some(Ix)}const AO=ve.toFlatObject(ve,{},null,function(e){return/^is[A-Z]/.test(e)});function Fp(t,e,n){if(!ve.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ve.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,I){return!ve.isUndefined(I[R])});const r=n.metaTokens,i=n.visitor||b,s=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(e);if(!ve.isFunction(i))throw new TypeError("visitor must be a function");function m(T){if(T===null)return"";if(ve.isDate(T))return T.toISOString();if(ve.isBoolean(T))return T.toString();if(!h&&ve.isBlob(T))throw new Ct("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(T)||ve.isTypedArray(T)?h&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function b(T,R,I){let D=T;if(T&&!I&&typeof T=="object"){if(ve.endsWith(R,"{}"))R=r?R:R.slice(0,-2),T=JSON.stringify(T);else if(ve.isArray(T)&&EO(T)||(ve.isFileList(T)||ve.endsWith(R,"[]"))&&(D=ve.toArray(T)))return R=OS(R),D.forEach(function(P,q){!(ve.isUndefined(P)||P===null)&&e.append(l===!0?rC([R],q,s):l===null?R:R+"[]",m(P))}),!1}return Ix(T)?!0:(e.append(rC(I,R,s),m(T)),!1)}const C=[],E=Object.assign(AO,{defaultVisitor:b,convertValue:m,isVisitable:Ix});function A(T,R){if(!ve.isUndefined(T)){if(C.indexOf(T)!==-1)throw Error("Circular reference detected in "+R.join("."));C.push(T),ve.forEach(T,function(D,F){(!(ve.isUndefined(D)||D===null)&&i.call(e,D,ve.isString(F)?F.trim():F,R,E))===!0&&A(D,R?R.concat(F):[F])}),C.pop()}}if(!ve.isObject(t))throw new TypeError("data must be an object");return A(t),e}function iC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function N2(t,e){this._pairs=[],t&&Fp(t,this,e)}const MS=N2.prototype;MS.append=function(e,n){this._pairs.push([e,n])};MS.toString=function(e){const n=e?function(r){return e.call(this,r,iC)}:iC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function TO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function RS(t,e,n){if(!e)return t;const r=n&&n.encode||TO;ve.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=ve.isURLSearchParams(e)?e.toString():new N2(e,n).toString(r),s){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class sC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ve.forEach(this.handlers,function(r){r!==null&&e(r)})}}const IS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},NO=typeof URLSearchParams<"u"?URLSearchParams:N2,OO=typeof FormData<"u"?FormData:null,MO=typeof Blob<"u"?Blob:null,RO={isBrowser:!0,classes:{URLSearchParams:NO,FormData:OO,Blob:MO},protocols:["http","https","file","blob","url","data"]},O2=typeof window<"u"&&typeof document<"u",kx=typeof navigator=="object"&&navigator||void 0,IO=O2&&(!kx||["ReactNative","NativeScript","NS"].indexOf(kx.product)<0),kO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",DO=O2&&window.location.href||"http://localhost",BO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:O2,hasStandardBrowserEnv:IO,hasStandardBrowserWebWorkerEnv:kO,navigator:kx,origin:DO},Symbol.toStringTag,{value:"Module"})),ti={...BO,...RO};function LO(t,e){return Fp(t,new ti.classes.URLSearchParams,{visitor:function(n,r,i,s){return ti.isNode&&ve.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function jO(t){return ve.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function PO(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function kS(t){function e(n,r,i,s){let l=n[s++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),h=s>=n.length;return l=!l&&ve.isArray(i)?i.length:l,h?(ve.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!d):((!i[l]||!ve.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],s)&&ve.isArray(i[l])&&(i[l]=PO(i[l])),!d)}if(ve.isFormData(t)&&ve.isFunction(t.entries)){const n={};return ve.forEachEntry(t,(r,i)=>{e(jO(r),i,n,0)}),n}return null}function zO(t,e,n){if(ve.isString(t))try{return(e||JSON.parse)(t),ve.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Af={transitional:IS,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ve.isObject(e);if(s&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return i?JSON.stringify(kS(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e)||ve.isReadableStream(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return LO(e,this.formSerializer).toString();if((d=ve.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Fp(d?{"files[]":e}:e,h&&new h,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),zO(e)):e}],transformResponse:[function(e){const n=this.transitional||Af.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ve.isResponse(e)||ve.isReadableStream(e))return e;if(e&&ve.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(d){if(l)throw d.name==="SyntaxError"?Ct.from(d,Ct.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ti.classes.FormData,Blob:ti.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],t=>{Af.headers[t]={}});const FO=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),UO=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&FO[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},aC=Symbol("internals");function Id(t){return t&&String(t).trim().toLowerCase()}function b1(t){return t===!1||t==null?t:ve.isArray(t)?t.map(b1):String(t)}function HO(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const VO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function vg(t,e,n,r,i){if(ve.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ve.isString(e)){if(ve.isString(r))return e.indexOf(r)!==-1;if(ve.isRegExp(r))return r.test(e)}}function $O(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function GO(t,e){const n=ve.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,l){return this[r].call(this,e,i,s,l)},configurable:!0})})}let Oi=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(d,h,m){const b=Id(h);if(!b)throw new Error("header name must be a non-empty string");const C=ve.findKey(i,b);(!C||i[C]===void 0||m===!0||m===void 0&&i[C]!==!1)&&(i[C||h]=b1(d))}const l=(d,h)=>ve.forEach(d,(m,b)=>s(m,b,h));if(ve.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(ve.isString(e)&&(e=e.trim())&&!VO(e))l(UO(e),n);else if(ve.isObject(e)&&ve.isIterable(e)){let d={},h,m;for(const b of e){if(!ve.isArray(b))throw TypeError("Object iterator must return a key-value pair");d[m=b[0]]=(h=d[m])?ve.isArray(h)?[...h,b[1]]:[h,b[1]]:b[1]}l(d,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Id(e),e){const r=ve.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return HO(i);if(ve.isFunction(n))return n.call(this,i,r);if(ve.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Id(e),e){const r=ve.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||vg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(l){if(l=Id(l),l){const d=ve.findKey(r,l);d&&(!n||vg(r,r[d],d,n))&&(delete r[d],i=!0)}}return ve.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||vg(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ve.forEach(this,(i,s)=>{const l=ve.findKey(r,s);if(l){n[l]=b1(i),delete n[s];return}const d=e?$O(s):String(s).trim();d!==s&&delete n[s],n[d]=b1(i),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ve.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ve.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[aC]=this[aC]={accessors:{}}).accessors,i=this.prototype;function s(l){const d=Id(l);r[d]||(GO(i,l),r[d]=!0)}return ve.isArray(e)?e.forEach(s):s(e),this}};Oi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(Oi.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ve.freezeMethods(Oi);function wg(t,e){const n=this||Af,r=e||n,i=Oi.from(r.headers);let s=r.data;return ve.forEach(t,function(d){s=d.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function DS(t){return!!(t&&t.__CANCEL__)}function ku(t,e,n){Ct.call(this,t??"canceled",Ct.ERR_CANCELED,e,n),this.name="CanceledError"}ve.inherits(ku,Ct,{__CANCEL__:!0});function BS(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ct("Request failed with status code "+n.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function qO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function WO(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,l;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),b=r[s];l||(l=m),n[i]=h,r[i]=m;let C=s,E=0;for(;C!==i;)E+=n[C++],C=C%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),m-l<e)return;const A=b&&m-b;return A?Math.round(E*1e3/A):void 0}}function XO(t,e){let n=0,r=1e3/e,i,s;const l=(m,b=Date.now())=>{n=b,i=null,s&&(clearTimeout(s),s=null),t(...m)};return[(...m)=>{const b=Date.now(),C=b-n;C>=r?l(m,b):(i=m,s||(s=setTimeout(()=>{s=null,l(i)},r-C)))},()=>i&&l(i)]}const I1=(t,e,n=3)=>{let r=0;const i=WO(50,250);return XO(s=>{const l=s.loaded,d=s.lengthComputable?s.total:void 0,h=l-r,m=i(h),b=l<=d;r=l;const C={loaded:l,total:d,progress:d?l/d:void 0,bytes:h,rate:m||void 0,estimated:m&&d&&b?(d-l)/m:void 0,event:s,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(C)},n)},oC=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},lC=t=>(...e)=>ve.asap(()=>t(...e)),YO=ti.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ti.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ti.origin),ti.navigator&&/(msie|trident)/i.test(ti.navigator.userAgent)):()=>!0,KO=ti.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const l=[t+"="+encodeURIComponent(e)];ve.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ve.isString(r)&&l.push("path="+r),ve.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ZO(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function QO(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function LS(t,e,n){let r=!ZO(e);return t&&(r||n==!1)?QO(t,e):e}const cC=t=>t instanceof Oi?{...t}:t;function rc(t,e){e=e||{};const n={};function r(m,b,C,E){return ve.isPlainObject(m)&&ve.isPlainObject(b)?ve.merge.call({caseless:E},m,b):ve.isPlainObject(b)?ve.merge({},b):ve.isArray(b)?b.slice():b}function i(m,b,C,E){if(ve.isUndefined(b)){if(!ve.isUndefined(m))return r(void 0,m,C,E)}else return r(m,b,C,E)}function s(m,b){if(!ve.isUndefined(b))return r(void 0,b)}function l(m,b){if(ve.isUndefined(b)){if(!ve.isUndefined(m))return r(void 0,m)}else return r(void 0,b)}function d(m,b,C){if(C in e)return r(m,b);if(C in t)return r(void 0,m)}const h={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(m,b,C)=>i(cC(m),cC(b),C,!0)};return ve.forEach(Object.keys({...t,...e}),function(b){const C=h[b]||i,E=C(t[b],e[b],b);ve.isUndefined(E)&&C!==d||(n[b]=E)}),n}const jS=t=>{const e=rc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:d}=e;if(e.headers=l=Oi.from(l),e.url=RS(LS(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),ve.isFormData(n)){if(ti.hasStandardBrowserEnv||ti.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ve.isFunction(n.getHeaders)){const h=n.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([b,C])=>{m.includes(b.toLowerCase())&&l.set(b,C)})}}if(ti.hasStandardBrowserEnv&&(r&&ve.isFunction(r)&&(r=r(e)),r||r!==!1&&YO(e.url))){const h=i&&s&&KO.read(s);h&&l.set(i,h)}return e},JO=typeof XMLHttpRequest<"u",eM=JO&&function(t){return new Promise(function(n,r){const i=jS(t);let s=i.data;const l=Oi.from(i.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:m}=i,b,C,E,A,T;function R(){A&&A(),T&&T(),i.cancelToken&&i.cancelToken.unsubscribe(b),i.signal&&i.signal.removeEventListener("abort",b)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function D(){if(!I)return;const P=Oi.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),$={data:!d||d==="text"||d==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:P,config:t,request:I};BS(function(G){n(G),R()},function(G){r(G),R()},$),I=null}"onloadend"in I?I.onloadend=D:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(D)},I.onabort=function(){I&&(r(new Ct("Request aborted",Ct.ECONNABORTED,t,I)),I=null)},I.onerror=function(q){const $=q&&q.message?q.message:"Network Error",V=new Ct($,Ct.ERR_NETWORK,t,I);V.event=q||null,r(V),I=null},I.ontimeout=function(){let q=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const $=i.transitional||IS;i.timeoutErrorMessage&&(q=i.timeoutErrorMessage),r(new Ct(q,$.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,t,I)),I=null},s===void 0&&l.setContentType(null),"setRequestHeader"in I&&ve.forEach(l.toJSON(),function(q,$){I.setRequestHeader($,q)}),ve.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),d&&d!=="json"&&(I.responseType=i.responseType),m&&([E,T]=I1(m,!0),I.addEventListener("progress",E)),h&&I.upload&&([C,A]=I1(h),I.upload.addEventListener("progress",C),I.upload.addEventListener("loadend",A)),(i.cancelToken||i.signal)&&(b=P=>{I&&(r(!P||P.type?new ku(null,t,I):P),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(b),i.signal&&(i.signal.aborted?b():i.signal.addEventListener("abort",b)));const F=qO(i.url);if(F&&ti.protocols.indexOf(F)===-1){r(new Ct("Unsupported protocol "+F+":",Ct.ERR_BAD_REQUEST,t));return}I.send(s||null)})},tM=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(m){if(!i){i=!0,d();const b=m instanceof Error?m:this.reason;r.abort(b instanceof Ct?b:new ku(b instanceof Error?b.message:b))}};let l=e&&setTimeout(()=>{l=null,s(new Ct(`timeout ${e} of ms exceeded`,Ct.ETIMEDOUT))},e);const d=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(s):m.removeEventListener("abort",s)}),t=null)};t.forEach(m=>m.addEventListener("abort",s));const{signal:h}=r;return h.unsubscribe=()=>ve.asap(d),h}},nM=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},rM=async function*(t,e){for await(const n of iM(t))yield*nM(n,e)},iM=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},uC=(t,e,n,r)=>{const i=rM(t,e);let s=0,l,d=h=>{l||(l=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:m,value:b}=await i.next();if(m){d(),h.close();return}let C=b.byteLength;if(n){let E=s+=C;n(E)}h.enqueue(new Uint8Array(b))}catch(m){throw d(m),m}},cancel(h){return d(h),i.return()}},{highWaterMark:2})},dC=64*1024,{isFunction:Gh}=ve,sM=(({Request:t,Response:e})=>({Request:t,Response:e}))(ve.global),{ReadableStream:fC,TextEncoder:hC}=ve.global,pC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},aM=t=>{t=ve.merge.call({skipUndefined:!0},sM,t);const{fetch:e,Request:n,Response:r}=t,i=e?Gh(e):typeof fetch=="function",s=Gh(n),l=Gh(r);if(!i)return!1;const d=i&&Gh(fC),h=i&&(typeof hC=="function"?(T=>R=>T.encode(R))(new hC):async T=>new Uint8Array(await new n(T).arrayBuffer())),m=s&&d&&pC(()=>{let T=!1;const R=new n(ti.origin,{body:new fC,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!R}),b=l&&d&&pC(()=>ve.isReadableStream(new r("").body)),C={stream:b&&(T=>T.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!C[T]&&(C[T]=(R,I)=>{let D=R&&R[T];if(D)return D.call(R);throw new Ct(`Response type '${T}' is not supported`,Ct.ERR_NOT_SUPPORT,I)})});const E=async T=>{if(T==null)return 0;if(ve.isBlob(T))return T.size;if(ve.isSpecCompliantForm(T))return(await new n(ti.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(T)||ve.isArrayBuffer(T))return T.byteLength;if(ve.isURLSearchParams(T)&&(T=T+""),ve.isString(T))return(await h(T)).byteLength},A=async(T,R)=>{const I=ve.toFiniteNumber(T.getContentLength());return I??E(R)};return async T=>{let{url:R,method:I,data:D,signal:F,cancelToken:P,timeout:q,onDownloadProgress:$,onUploadProgress:V,responseType:G,headers:Q,withCredentials:Z="same-origin",fetchOptions:Ce}=jS(T),we=e||fetch;G=G?(G+"").toLowerCase():"text";let me=tM([F,P&&P.toAbortSignal()],q),Pe=null;const De=me&&me.unsubscribe&&(()=>{me.unsubscribe()});let ee;try{if(V&&m&&I!=="get"&&I!=="head"&&(ee=await A(Q,D))!==0){let be=new n(R,{method:"POST",body:D,duplex:"half"}),Oe;if(ve.isFormData(D)&&(Oe=be.headers.get("content-type"))&&Q.setContentType(Oe),be.body){const[Re,He]=oC(ee,I1(lC(V)));D=uC(be.body,dC,Re,He)}}ve.isString(Z)||(Z=Z?"include":"omit");const Y=s&&"credentials"in n.prototype,ae={...Ce,signal:me,method:I.toUpperCase(),headers:Q.normalize().toJSON(),body:D,duplex:"half",credentials:Y?Z:void 0};Pe=s&&new n(R,ae);let de=await(s?we(Pe,Ce):we(R,ae));const ze=b&&(G==="stream"||G==="response");if(b&&($||ze&&De)){const be={};["status","statusText","headers"].forEach(xt=>{be[xt]=de[xt]});const Oe=ve.toFiniteNumber(de.headers.get("content-length")),[Re,He]=$&&oC(Oe,I1(lC($),!0))||[];de=new r(uC(de.body,dC,Re,()=>{He&&He(),De&&De()}),be)}G=G||"text";let K=await C[ve.findKey(C,G)||"text"](de,T);return!ze&&De&&De(),await new Promise((be,Oe)=>{BS(be,Oe,{data:K,headers:Oi.from(de.headers),status:de.status,statusText:de.statusText,config:T,request:Pe})})}catch(Y){throw De&&De(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new Ct("Network Error",Ct.ERR_NETWORK,T,Pe),{cause:Y.cause||Y}):Ct.from(Y,Y&&Y.code,T,Pe)}}},oM=new Map,PS=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let l=s.length,d=l,h,m,b=oM;for(;d--;)h=s[d],m=b.get(h),m===void 0&&b.set(h,m=d?new Map:aM(e)),b=m;return m};PS();const Dx={http:SO,xhr:eM,fetch:{get:PS}};ve.forEach(Dx,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const mC=t=>`- ${t}`,lM=t=>ve.isFunction(t)||t===null||t===!1,zS={getAdapter:(t,e)=>{t=ve.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let l=0;l<n;l++){r=t[l];let d;if(i=r,!lM(r)&&(i=Dx[(d=String(r)).toLowerCase()],i===void 0))throw new Ct(`Unknown adapter '${d}'`);if(i&&(ve.isFunction(i)||(i=i.get(e))))break;s[d||"#"+l]=i}if(!i){const l=Object.entries(s).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=n?l.length>1?`since :
`+l.map(mC).join(`
`):" "+mC(l[0]):"as no adapter specified";throw new Ct("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return i},adapters:Dx};function Cg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ku(null,t)}function gC(t){return Cg(t),t.headers=Oi.from(t.headers),t.data=wg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),zS.getAdapter(t.adapter||Af.adapter,t)(t).then(function(r){return Cg(t),r.data=wg.call(t,t.transformResponse,r),r.headers=Oi.from(r.headers),r},function(r){return DS(r)||(Cg(t),r&&r.response&&(r.response.data=wg.call(t,t.transformResponse,r.response),r.response.headers=Oi.from(r.response.headers))),Promise.reject(r)})}const FS="1.12.2",Up={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Up[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const xC={};Up.transitional=function(e,n,r){function i(s,l){return"[Axios v"+FS+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return(s,l,d)=>{if(e===!1)throw new Ct(i(l," has been removed"+(n?" in "+n:"")),Ct.ERR_DEPRECATED);return n&&!xC[l]&&(xC[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,l,d):!0}};Up.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function cM(t,e,n){if(typeof t!="object")throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],l=e[s];if(l){const d=t[s],h=d===void 0||l(d,s,t);if(h!==!0)throw new Ct("option "+s+" must be "+h,Ct.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ct("Unknown option "+s,Ct.ERR_BAD_OPTION)}}const v1={assertOptions:cM,validators:Up},sa=v1.validators;let Zl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new sC,response:new sC}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=rc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&v1.assertOptions(r,{silentJSONParsing:sa.transitional(sa.boolean),forcedJSONParsing:sa.transitional(sa.boolean),clarifyTimeoutError:sa.transitional(sa.boolean)},!1),i!=null&&(ve.isFunction(i)?n.paramsSerializer={serialize:i}:v1.assertOptions(i,{encode:sa.function,serialize:sa.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),v1.assertOptions(n,{baseUrl:sa.spelling("baseURL"),withXsrfToken:sa.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=s&&ve.merge(s.common,s[n.method]);s&&ve.forEach(["delete","get","head","post","put","patch","common"],T=>{delete s[T]}),n.headers=Oi.concat(l,s);const d=[];let h=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(h=h&&R.synchronous,d.unshift(R.fulfilled,R.rejected))});const m=[];this.interceptors.response.forEach(function(R){m.push(R.fulfilled,R.rejected)});let b,C=0,E;if(!h){const T=[gC.bind(this),void 0];for(T.unshift(...d),T.push(...m),E=T.length,b=Promise.resolve(n);C<E;)b=b.then(T[C++],T[C++]);return b}E=d.length;let A=n;for(;C<E;){const T=d[C++],R=d[C++];try{A=T(A)}catch(I){R.call(this,I);break}}try{b=gC.call(this,A)}catch(T){return Promise.reject(T)}for(C=0,E=m.length;C<E;)b=b.then(m[C++],m[C++]);return b}getUri(e){e=rc(this.defaults,e);const n=LS(e.baseURL,e.url,e.allowAbsoluteUrls);return RS(n,e.params,e.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(e){Zl.prototype[e]=function(n,r){return this.request(rc(r||{},{method:e,url:n,data:(r||{}).data}))}});ve.forEach(["post","put","patch"],function(e){function n(r){return function(s,l,d){return this.request(rc(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Zl.prototype[e]=n(),Zl.prototype[e+"Form"]=n(!0)});let uM=class US{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(d=>{r.subscribe(d),s=d}).then(i);return l.cancel=function(){r.unsubscribe(s)},l},e(function(s,l,d){r.reason||(r.reason=new ku(s,l,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new US(function(i){e=i}),cancel:e}}};function dM(t){return function(n){return t.apply(null,n)}}function fM(t){return ve.isObject(t)&&t.isAxiosError===!0}const Bx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bx).forEach(([t,e])=>{Bx[e]=t});function HS(t){const e=new Zl(t),n=bS(Zl.prototype.request,e);return ve.extend(n,Zl.prototype,e,{allOwnKeys:!0}),ve.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return HS(rc(t,i))},n}const Vn=HS(Af);Vn.Axios=Zl;Vn.CanceledError=ku;Vn.CancelToken=uM;Vn.isCancel=DS;Vn.VERSION=FS;Vn.toFormData=Fp;Vn.AxiosError=Ct;Vn.Cancel=Vn.CanceledError;Vn.all=function(e){return Promise.all(e)};Vn.spread=dM;Vn.isAxiosError=fM;Vn.mergeConfig=rc;Vn.AxiosHeaders=Oi;Vn.formToJSON=t=>kS(ve.isHTMLForm(t)?new FormData(t):t);Vn.getAdapter=zS.getAdapter;Vn.HttpStatusCode=Bx;Vn.default=Vn;const{Axios:wee,AxiosError:Cee,CanceledError:_ee,isCancel:See,CancelToken:Eee,VERSION:Aee,all:Tee,Cancel:Nee,isAxiosError:Oee,spread:Mee,toFormData:Ree,AxiosHeaders:Iee,HttpStatusCode:kee,formToJSON:Dee,getAdapter:Bee,mergeConfig:Lee}=Vn,Wt=Vn.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("ACCESS_TOKEN")}`},withCredentials:!0}),hM=Vn.create({baseURL:"",headers:{Accept:"application/json","x-ncp-apigw-api-key-id	":"ak7qbqrl2h","x-ncp-apigw-api-key":"ipf8w7WvX8OtkuGa9bWtbOCgneVoahiaOcmB7m7g"},withCredentials:!0}),wn=Vn.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("ACCESS_TOKEN")}`},withCredentials:!0});wn.interceptors.request.use(t=>{const e=localStorage.getItem("ACCESS_TOKEN");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const Tf=z.createContext();function pM({children:t}){const[e,n]=z.useState(null);z.useEffect(()=>{localStorage.getItem("ACCESS_TOKEN")&&(async()=>{try{const m=await wn.get("api/users/me");n(m.data)}catch(m){console.error(m)}})()},[]);const[r,i]=z.useState(null),d={user:e,setUser:n,token:r,login:(h,m)=>{n(h),i(m),localStorage.setItem("ACCESS_TOKEN",m)},logout:()=>{n(null),i(null),localStorage.removeItem("ACCESS_TOKEN")}};return console.log(e),w.jsx(Tf.Provider,{value:d,children:t})}const VS=[{label:"",path:"/exhibitions"},{label:"",path:"/galleries"},{label:"",path:"/artworks"},{label:"",path:"/artists"},{label:"",path:"/notices"},{}];function mM({onOpen:t,isOpen:e}){const n=Yt(),{user:r,logout:i}=z.useContext(Tf),s=()=>{i(),t(),n("/")},l=d=>{t(),n(d)};return console.log(r),w.jsx("div",{className:Ln.overlay,onClick:t,children:w.jsxs("div",{className:`${Ln.menuLayout} ${e?Ln.menuVisible:Ln.menuHidden}`,onClick:d=>d.stopPropagation(),children:[w.jsx("div",{className:Ln.closeContainer,children:w.jsx("button",{className:Ln.closeButton,onClick:t})}),w.jsxs("section",{className:Ln.menuSection,children:[w.jsx("h3",{className:Ln.userNickname,children:r?`${r.user_name} `:" "}),r&&r.admin_flag==="1"&&w.jsx("div",{className:Ln.sidebarMenu,children:w.jsx("span",{className:Ln.menuSpan,onClick:()=>l("/console/main"),children:" "})})]}),w.jsx("hr",{className:Ln.divider}),w.jsx("section",{className:Ln.menuSection,children:VS.map(({name:d,label:h,path:m})=>w.jsx("span",{className:Ln.menuSpan,onClick:()=>l(m),children:h},d))}),w.jsx("hr",{className:Ln.divider}),w.jsxs("section",{className:Ln.menuSection,children:[w.jsx("span",{className:Ln.menuSpan,onClick:()=>l("/scan"),children:" "}),w.jsx("span",{className:Ln.menuSpan,onClick:()=>alert("  "),children:" "}),w.jsx("span",{className:Ln.menuSpan,onClick:()=>l("/nearby-galleries"),children:" "})]}),w.jsx("hr",{className:Ln.divider}),w.jsxs("section",{className:Ln.menuSection,children:[w.jsx("span",{className:Ln.menuSpan,onClick:()=>l("/mypage"),children:""}),w.jsx("span",{className:Ln.menuSpan,onClick:()=>l("/announcement"),children:" & FAQ"}),localStorage.getItem("ACCESS_TOKEN")?w.jsx("span",{className:Ln.menuSpan,onClick:s,children:""}):w.jsx("span",{className:Ln.menuSpan,onClick:()=>l("/login"),children:""})]})]})})}const gM="_navbarNavigation_12t0r_1",xM="_menuList_12t0r_39",yM="_menuItem_12t0r_61",bM="_defaultLink_12t0r_81",vM="_activeLink_12t0r_83",eu={navbarNavigation:gM,menuList:xM,menuItem:yM,defaultLink:bM,activeLink:vM};function wM(){const{pathname:t}=Dr();return w.jsx("nav",{className:eu.navbarNavigation,children:w.jsx("ul",{className:eu.menuList,children:VS.map(({label:e,path:n,index:r})=>w.jsx("li",{className:`${eu.menuItem} ${t===n&&eu.currentMenu}`,children:w.jsx(fS,{to:n,className:({isActive:i})=>i?eu.activeLink:eu.defaultLink,children:e})},`${e}-${r}`))})})}const CM=()=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[w.jsx("path",{d:"M2 12H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),w.jsx("path",{d:"M2 4H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),w.jsx("path",{d:"M2 20H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})]}),_M=()=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",children:w.jsx("path",{d:"M12.0597 20.5674H7.94025M16.1791 7.17917C16.1791 5.54035 15.5282 3.96866 14.3694 2.80984C13.2105 1.65102 11.6388 1 9.99998 1C8.36116 1 6.78949 1.65102 5.63067 2.80984C4.47185 3.96866 3.82083 5.54035 3.82083 7.17917C3.82083 10.3616 3.01802 12.5406 2.12121 13.9818C1.36474 15.1976 0.986506 15.8054 1.00037 15.975C1.01573 16.1628 1.05551 16.2343 1.2068 16.3466C1.34346 16.4479 1.95945 16.4479 3.19143 16.4479H16.8086C18.0405 16.4479 18.6566 16.4479 18.7931 16.3466C18.9445 16.2343 18.9843 16.1628 18.9996 15.975C19.0135 15.8054 18.6353 15.1976 17.8788 13.9818C16.9819 12.5406 16.1791 10.3616 16.1791 7.17917Z",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});function $S(){const[t,e]=z.useState(!1),{isDesktop:n}=A2(),r=Yt(),i=()=>{e(!0),document.body.style.overflow="hidden"},s=()=>{e(!1),document.body.style.overflow="unset"},l=()=>{s(),r("/")};return w.jsxs("header",{className:hg.headerLayout,children:[w.jsx("span",{className:hg.logoSpan,onClick:l,children:"ARTLY"}),n&&w.jsx(wM,{}),w.jsxs("div",{className:hg.rightSection,children:[w.jsx(_M,{}),w.jsx("button",{onClick:t?s:i,children:w.jsx(CM,{})})]}),t&&w.jsx(mM,{onOpen:s,isOpen:t})]})}const SM="_footerLayout_16zxr_1",EM="_linkContainer_16zxr_27",AM="_link_16zxr_27",TM="_divideSpan_16zxr_61",NM="_infoContainer_16zxr_71",tu={footerLayout:SM,linkContainer:EM,link:AM,divideSpan:TM,infoContainer:NM};function GS(){return w.jsxs("footer",{className:tu.footerLayout,children:[w.jsxs("div",{className:tu.linkContainer,children:[w.jsx(xn,{to:"/announcement",className:tu.link,children:"&FAQ"}),w.jsx("span",{className:tu.divideSpan,children:"|"}),w.jsx(xn,{to:"/termspolicy",className:tu.link,children:"  "})]}),w.jsxs("div",{className:tu.infoContainer,children:[w.jsx("p",{children:"()"}),w.jsx("p",{children:" : 477-88-01191"}),w.jsx("p",{children:"contact us : oddlemon@oddlemon.co.kr"})]}),w.jsxs("p",{children:[" All rights reserved by"," ",w.jsx("a",{href:"https://oddlemon.co.kr/",target:"_blank",rel:"noreferrer",children:"ODDLEMON Origin Inc."})]})]})}const OM="_chatbotContainer_9wobd_1",MM="_chatbotOverlay_9wobd_15",RM="_chatbotButton_9wobd_37",IM="_popupContainer_9wobd_71",kM="_headerContainer_9wobd_133",DM="_headerTitle_9wobd_153",BM="_closeButton_9wobd_163",LM="_chatContainer_9wobd_181",jM="_botMessageContainer_9wobd_201",PM="_userMessageContainer_9wobd_219",zM="_botContent_9wobd_235",FM="_botName_9wobd_247",UM="_botProfile_9wobd_263",HM="_botBubble_9wobd_299",VM="_userBubble_9wobd_301",$M="_inputContainer_9wobd_355",GM="_input_9wobd_355",qM="_sendButton_9wobd_399",jn={chatbotContainer:OM,chatbotOverlay:MM,chatbotButton:RM,popupContainer:IM,headerContainer:kM,headerTitle:DM,closeButton:BM,chatContainer:LM,botMessageContainer:jM,userMessageContainer:PM,botContent:zM,botName:FM,botProfile:UM,botBubble:HM,userBubble:VM,inputContainer:$M,input:GM,sendButton:qM};var qS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yC=qt.createContext&&qt.createContext(qS),WM=["attr","size","title"];function XM(t,e){if(t==null)return{};var n=YM(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YM(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k1(){return k1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k1.apply(this,arguments)}function bC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(n),!0).forEach(function(r){KM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KM(t,e,n){return e=ZM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZM(t){var e=QM(t,"string");return typeof e=="symbol"?e:e+""}function QM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WS(t){return t&&t.map((e,n)=>qt.createElement(e.tag,D1({key:n},e.attr),WS(e.child)))}function ar(t){return e=>qt.createElement(JM,k1({attr:D1({},t.attr)},e),WS(t.child))}function JM(t){var e=n=>{var{attr:r,size:i,title:s}=t,l=XM(t,WM),d=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),qt.createElement("svg",k1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:D1(D1({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),s&&qt.createElement("title",null,s),t.children)};return yC!==void 0?qt.createElement(yC.Consumer,null,n=>e(n)):e(qS)}function eR(t){return ar({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9 9 0 0 0 8 15"},child:[]}]})(t)}function tR(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(t)}const nR=()=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[w.jsx("path",{d:"M3.3475 14.2855C3.47725 14.4157 3.57667 14.573 3.63868 14.746C3.70069 14.9191 3.72376 15.1037 3.70625 15.2867C3.6184 16.1337 3.45185 16.9706 3.20875 17.7867C4.9525 17.383 6.0175 16.9155 6.50125 16.6705C6.77563 16.5315 7.09161 16.4986 7.38875 16.578C8.24054 16.8051 9.11846 16.9194 10 16.918C14.995 16.918 18.75 13.4092 18.75 9.41797C18.75 5.42797 14.995 1.91797 10 1.91797C5.005 1.91797 1.25 5.42797 1.25 9.41797C1.25 11.253 2.02125 12.9555 3.3475 14.2855ZM2.73125 19.1667C2.43509 19.2254 2.13796 19.2792 1.84 19.328C1.59 19.368 1.4 19.108 1.49875 18.8755C1.60974 18.6137 1.71147 18.3481 1.80375 18.0792L1.8075 18.0667C2.1175 17.1667 2.37 16.1317 2.4625 15.168C0.92875 13.6305 0 11.618 0 9.41797C0 4.58547 4.4775 0.667969 10 0.667969C15.5225 0.667969 20 4.58547 20 9.41797C20 14.2505 15.5225 18.168 10 18.168C9.00956 18.1693 8.02323 18.0407 7.06625 17.7855C6.41625 18.1142 5.0175 18.713 2.73125 19.1667Z",fill:"#BDBDBD"}),w.jsx("path",{d:"M5 6.29297C5 6.12721 5.06585 5.96824 5.18306 5.85103C5.30027 5.73382 5.45924 5.66797 5.625 5.66797H14.375C14.5408 5.66797 14.6997 5.73382 14.8169 5.85103C14.9342 5.96824 15 6.12721 15 6.29297C15 6.45873 14.9342 6.6177 14.8169 6.73491C14.6997 6.85212 14.5408 6.91797 14.375 6.91797H5.625C5.45924 6.91797 5.30027 6.85212 5.18306 6.73491C5.06585 6.6177 5 6.45873 5 6.29297ZM5 9.41797C5 9.25221 5.06585 9.09324 5.18306 8.97603C5.30027 8.85882 5.45924 8.79297 5.625 8.79297H14.375C14.5408 8.79297 14.6997 8.85882 14.8169 8.97603C14.9342 9.09324 15 9.25221 15 9.41797C15 9.58373 14.9342 9.7427 14.8169 9.85991C14.6997 9.97712 14.5408 10.043 14.375 10.043H5.625C5.45924 10.043 5.30027 9.97712 5.18306 9.85991C5.06585 9.7427 5 9.58373 5 9.41797ZM5 12.543C5 12.3772 5.06585 12.2182 5.18306 12.101C5.30027 11.9838 5.45924 11.918 5.625 11.918H10.625C10.7908 11.918 10.9497 11.9838 11.0669 12.101C11.1842 12.2182 11.25 12.3772 11.25 12.543C11.25 12.7087 11.1842 12.8677 11.0669 12.9849C10.9497 13.1021 10.7908 13.168 10.625 13.168H5.625C5.45924 13.168 5.30027 13.1021 5.18306 12.9849C5.06585 12.8677 5 12.7087 5 12.543Z",fill:"#BDBDBD"})]});function rR(){const[t,e]=z.useState(!1),[n,r]=z.useState([{id:0,sender:"bot",text:"!   Artlas :)  ?"}]),[i,s]=z.useState(""),[l,d]=z.useState(!1),h=z.useRef(null),m=localStorage.getItem("ACCESS_TOKEN")?wn:Wt;z.useRef(null);const b=()=>n[n.length-1].id+1;z.useEffect(()=>{h.current!==null&&h.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[h.current,n]);const C=()=>{e(F=>!F),t?document.body.style.overflow="unset":document.body.style.overflow="hidden"},E=F=>{s(F.target.value)},A=async F=>{const P={id:b(),sender:"user",text:F};r(V=>[...V,P]),console.log(`messages:
`,n);const q={text:F},$={id:b(),sender:"bot",text:"An error occured. Please report this to the service team."};try{d(!0);const V=await m.post("/api/chats",q);let G=V.data;console.log(`GPT Response:
`,V.data),$.text=G}catch(V){console.error("Error occurred while querying GPT:",V)}finally{d(!1)}r(V=>[...V,$]),console.log(`Updated messages:
`,n)},T=F=>F.split(/(\*\*[^\*]+\*\*)/g).map((q,$)=>q.startsWith("**")&&q.endsWith("**")?w.jsx("b",{children:q.slice(2,-2)},$):q),R=F=>{F.key==="Enter"&&I()},I=()=>{const F=i.trim();if(!F)return alert(" !");A(F),s("")},D=F=>{setTimeout(()=>{F.target.scrollIntoView({behavior:"smooth",block:"nearest"})},300)};return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:jn.chatbotContainer,children:w.jsx("button",{className:jn.chatbotButton,onClick:C,children:w.jsx(eR,{})})}),t&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:jn.chatbotOverlay}),w.jsxs("div",{className:jn.popupContainer,children:[w.jsxs("div",{className:jn.headerContainer,children:[w.jsx("h3",{className:jn.headerTitle,children:"Artly "}),w.jsx("button",{className:jn.closeButton,onClick:C,children:w.jsx(tR,{})})]}),w.jsxs("div",{className:jn.chatContainer,children:[n.map(F=>w.jsx("div",{className:F.sender==="bot"?jn.botMessageContainer:jn.userMessageContainer,ref:h,children:F.sender==="bot"?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:jn.botProfile,children:"A"}),w.jsxs("div",{className:jn.botContent,children:[w.jsx("p",{className:jn.botName,children:" "}),w.jsx("div",{className:jn.botBubble,children:w.jsx("p",{children:T(F.text)})})]})]}):w.jsx("div",{className:jn.userMessageContainer,children:w.jsx("div",{className:jn.userBubble,children:w.jsx("p",{children:F.text})})})},F.id)),l&&w.jsxs("div",{className:jn.botMessageContainer,ref:h,children:[w.jsx("div",{className:jn.botProfile,children:"A"}),w.jsxs("div",{className:jn.botContent,children:[w.jsx("p",{className:jn.botName,children:" "}),w.jsx("div",{className:jn.botBubble,children:w.jsx("p",{children:"   .  "})})]})]})]}),w.jsxs("div",{className:jn.inputContainer,children:[w.jsx("input",{className:jn.input,type:"text",value:i,onChange:E,onKeyPress:R,onFocus:D,placeholder:"  "}),w.jsx("button",{className:jn.sendButton,onClick:I,children:w.jsx(nR,{})})]})]})]})]})}function iR(){const t=Dr(),n=!["/login","/register","/mypage","/mypage/edit"].some(r=>t.pathname.startsWith(r));return w.jsxs(w.Fragment,{children:[w.jsx(mS,{}),w.jsx($S,{}),w.jsx("div",{style:{display:"flex",justifyContent:"center",flex:1},children:w.jsx(C2,{})}),n&&w.jsx(rR,{}),w.jsx(GS,{})]})}function sR(){return localStorage.getItem("ACCESS_TOKEN")?w.jsx(C2,{}):w.jsx(g6,{to:"/login",replace:!0})}const aR="_mainLayout_yo4qg_1",oR="_carouselContainer_yo4qg_25",vC={mainLayout:aR,carouselContainer:oR},lR="_carouselContainer_1avyq_1",cR="_sliderWrapper_1avyq_19",uR="_slider_1avyq_19",dR="_carouselItem_1avyq_43",fR="_carouselImage_1avyq_55",hR="_captionBox_1avyq_71",pR="_title_1avyq_89",mR="_location_1avyq_99",gR="_detailButton_1avyq_111",xR="_arrowButton_1avyq_141",yR="_left_1avyq_177",bR="_right_1avyq_185",vR="_dots_1avyq_193",wR="_dot_1avyq_193",CR="_active_1avyq_235",Zr={carouselContainer:lR,sliderWrapper:cR,slider:uR,carouselItem:dR,carouselImage:fR,captionBox:hR,title:pR,location:mR,detailButton:gR,arrowButton:xR,left:yR,right:bR,dots:vR,dot:wR,active:CR};function _R(){const[t,e]=z.useState(0),[n,r]=z.useState([]),i=z.useRef(null),s=Yt();z.useEffect(()=>(l(),()=>clearTimeout(i.current)),[t,n]);const l=()=>{clearTimeout(i.current),!(!n||n.length<=1)&&(i.current=setTimeout(()=>{e(b=>(b+1)%n.length)},5e3))},d=()=>{e(b=>(b-1+n.length)%n.length)},h=()=>{e(b=>(b+1)%n.length)},m=b=>e(b);return z.useEffect(()=>{(async()=>{try{const E=(await Wt.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:A,exhibition_poster:T,exhibition_title:R,exhibition_category:I,exhibition_status:D,exhibition_start_date:F,exhibition_end_date:P,exhibition_organization:q})=>({id:A,image:T,title:R,category:I,status:D,startDate:F,endDate:P,organization:q}));r(E)}catch(C){console.error("     :",C)}})()},[]),w.jsxs("div",{className:Zr.carouselContainer,children:[w.jsx("button",{className:`${Zr.arrowButton} ${Zr.left}`,onClick:d,children:""}),w.jsx("div",{className:Zr.sliderWrapper,children:w.jsx("div",{className:Zr.slider,style:{transform:`translateX(-${t*100}%)`},children:n.map(b=>w.jsxs("div",{className:Zr.carouselItem,children:[w.jsx("img",{src:b==null?void 0:b.image,alt:(b==null?void 0:b.title)||(b==null?void 0:b.name),className:Zr.carouselImage,onClick:()=>{s(`/exhibitions/${b==null?void 0:b.id}`)}}),w.jsxs("div",{className:Zr.captionBox,children:[w.jsx("h3",{className:Zr.title,children:b==null?void 0:b.title}),w.jsxs("p",{className:Zr.location,children:[b==null?void 0:b.organization.name,""," ",(b==null?void 0:b.period)||`${b==null?void 0:b.startDate} ~ ${b==null?void 0:b.endDate}`]}),w.jsx("button",{className:Zr.detailButton,onClick:()=>{s(`/exhibitions/${b==null?void 0:b.id}`)},children:" "})]})]},b==null?void 0:b.id))})}),w.jsx("button",{className:`${Zr.arrowButton} ${Zr.right}`,onClick:h,children:""}),w.jsx("div",{className:Zr.dots,children:n.map((b,C)=>w.jsx("button",{onClick:()=>m(C),className:`${Zr.dot} ${C===t?Zr.active:""}`},b==null?void 0:b.id))})]})}const SR="_carouselWrapper_dgj9x_1",ER="_titleContainer_dgj9x_19",AR="_carouselTitle_dgj9x_35",TR="_moreButton_dgj9x_47",NR="_carouselViewport_dgj9x_85",OR="_carouselTrack_dgj9x_97",MR="_carouselSlide_dgj9x_117",RR="_artistImage_dgj9x_149",IR="_artistText_dgj9x_165",kR="_name_dgj9x_175",DR="_field_dgj9x_185",BR="_prevButton_dgj9x_195",LR="_nextButton_dgj9x_197",Hi={carouselWrapper:SR,titleContainer:ER,carouselTitle:AR,moreButton:TR,carouselViewport:NR,carouselTrack:OR,carouselSlide:MR,artistImage:RR,artistText:IR,name:kR,field:DR,prevButton:BR,nextButton:LR};function jR({title:t}){const[e,n]=z.useState([]),[r,i]=z.useState(1),[s,l]=z.useState(1),[d,h]=z.useState(!1),m=z.useRef(null),b=z.useRef(0),C=z.useRef(0),E=()=>{l(4)};z.useEffect(()=>{(async()=>{try{const $=(await Wt.get("/api/artist",{params:{}})).data.map(({id:V,artist_name:G,artist_category:Q,artist_image:Z})=>({id:V,artist_name:G,artist_category:Q,artist_image:Z})).slice(0,10);n($)}catch(q){console.error("     :",q)}})(),E()},[]);const A=P=>{if(d)return;h(!0);const q=m.current.offsetWidth/s;m.current.style.transition="transform 0.4s ease-in-out",m.current.style.transform=`translateX(-${q*P}px)`,i(P)},T=()=>A(r+1),R=()=>A(r-1);z.useEffect(()=>{const P=m.current.offsetWidth/s;m.current.style.transition="none",m.current.style.transform=`translateX(-${P}px)`},[s]),z.useEffect(()=>{const P=()=>{const $=m.current.offsetWidth/s;if(m.current.style.transition="none",r>=e.length-s)m.current.style.transform=`translateX(-${$}px)`,i(1);else if(r===0){const V=e.length-s-1;m.current.style.transform=`translateX(-${$*V}px)`,i(V)}h(!1)},q=m.current;return q.addEventListener("transitionend",P),()=>q.removeEventListener("transitionend",P)},[r,e.length,s]);const I=P=>{b.current=P.touches[0].clientX},D=P=>{C.current=P.touches[0].clientX},F=()=>{const P=b.current-C.current;Math.abs(P)>50&&(P>0?T():R())};return w.jsxs("div",{className:Hi.carouselWrapper,children:[w.jsxs("div",{className:Hi.titleContainer,children:[w.jsx("h2",{className:Hi.carouselTitle,children:t}),w.jsx(xn,{to:"/artists",className:Hi.moreButton,children:""})]}),w.jsx("div",{className:Hi.carouselViewport,onTouchStart:I,onTouchMove:D,onTouchEnd:F,children:w.jsx("div",{className:Hi.carouselTrack,ref:m,children:e.map(P=>w.jsxs(xn,{to:`/artists/${P==null?void 0:P.id}`,className:Hi.carouselSlide,children:[w.jsx("img",{src:(P==null?void 0:P.artist_image)||"/default.jpg",alt:P!=null&&P.artist_name?`${P.artist_name} `:" ",className:Hi.artistImage}),w.jsxs("div",{className:Hi.artistText,children:[w.jsx("h3",{className:Hi.name,children:P!=null&&P.artist_name&&P.artist_name.trim()!==""?P.artist_name:" "}),w.jsx("p",{className:Hi.field,children:P!=null&&P.artist_category&&P.artist_category.trim()!==""?P.artist_category:" "})]})]},`${P==null?void 0:P.artist_name}-${P==null?void 0:P.id}`))})}),w.jsx("button",{className:Hi.prevButton,onClick:()=>!d&&R(),children:""}),w.jsx("button",{className:Hi.nextButton,onClick:()=>!d&&T(),children:""})]})}function wC(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function M2(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:wC(e[r])&&wC(t[r])&&Object.keys(e[r]).length>0&&M2(t[r],e[r])})}const XS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function hc(){const t=typeof document<"u"?document:{};return M2(t,XS),t}const PR={document:XS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function xi(){const t=typeof window<"u"?window:{};return M2(t,PR),t}function zR(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function FR(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function YS(t,e=0){return setTimeout(t,e)}function B1(){return Date.now()}function UR(t){const e=xi();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function HR(t,e="x"){const n=xi();let r,i,s;const l=UR(t);return n.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(d=>d.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function qh(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function VR(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Xi(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const i=t[r];if(i!=null&&!VR(i)){const s=Object.keys(Object(i)).filter(l=>n.indexOf(l)<0);for(let l=0,d=s.length;l<d;l+=1){const h=s[l],m=Object.getOwnPropertyDescriptor(i,h);m!==void 0&&m.enumerable&&(qh(e[h])&&qh(i[h])?i[h].__swiper__?e[h]=i[h]:Xi(e[h],i[h]):!qh(e[h])&&qh(i[h])?(e[h]={},i[h].__swiper__?e[h]=i[h]:Xi(e[h],i[h])):e[h]=i[h])}}}return e}function Wh(t,e,n){t.style.setProperty(e,n)}function KS({swiper:t,targetPosition:e,side:n}){const r=xi(),i=-t.translate;let s=null,l;const d=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const h=e>i?"next":"prev",m=(C,E)=>h==="next"&&C>=E||h==="prev"&&C<=E,b=()=>{l=new Date().getTime(),s===null&&(s=l);const C=Math.max(Math.min((l-s)/d,1),0),E=.5-Math.cos(C*Math.PI)/2;let A=i+E*(e-i);if(m(A,e)&&(A=e),t.wrapperEl.scrollTo({[n]:A}),m(A,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:A})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(b)};b()}function da(t,e=""){const n=xi(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function $R(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function GR(t,e){const n=xi();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=$R(t,e))),r}function L1(t){try{console.warn(t);return}catch{}}function j1(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:zR(e)),n}function qR(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function WR(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Zo(t,e){return xi().getComputedStyle(t,null).getPropertyValue(e)}function CC(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function XR(t,e){const n=[];let r=t.parentElement;for(;r;)n.push(r),r=r.parentElement;return n}function _C(t,e,n){const r=xi();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Fa(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function Lx(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let _g;function YR(){const t=xi(),e=hc();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function ZS(){return _g||(_g=YR()),_g}let Sg;function KR({userAgent:t}={}){const e=ZS(),n=xi(),r=n.navigator.platform,i=t||n.navigator.userAgent,s={ios:!1,android:!1},l=n.screen.width,d=n.screen.height,h=i.match(/(Android);?[\s\/]+([\d.]+)?/);let m=i.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const b=i.match(/(iPod)(.*OS\s([\d_]+))?/),C=!m&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),E=r==="Win32";let A=r==="MacIntel";const T=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!m&&A&&e.touch&&T.indexOf(`${l}x${d}`)>=0&&(m=i.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),A=!1),h&&!E&&(s.os="android",s.android=!0),(m||C||b)&&(s.os="ios",s.ios=!0),s}function QS(t={}){return Sg||(Sg=KR(t)),Sg}let Eg;function ZR(){const t=xi(),e=QS();let n=!1;function r(){const d=t.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(r()){const d=String(t.navigator.userAgent);if(d.includes("Version/")){const[h,m]=d.split("Version/")[1].split(" ")[0].split(".").map(b=>Number(b));n=h<16||h===16&&m<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),l=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:l,isWebView:i}}function JS(){return Eg||(Eg=ZR()),Eg}function QR({swiper:t,on:e,emit:n}){const r=xi();let i=null,s=null;const l=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},d=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(b=>{s=r.requestAnimationFrame(()=>{const{width:C,height:E}=t;let A=C,T=E;b.forEach(({contentBoxSize:R,contentRect:I,target:D})=>{D&&D!==t.el||(A=I?I.width:(R[0]||R).inlineSize,T=I?I.height:(R[0]||R).blockSize)}),(A!==C||T!==E)&&l()})}),i.observe(t.el))},h=()=>{s&&r.cancelAnimationFrame(s),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},m=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){d();return}r.addEventListener("resize",l),r.addEventListener("orientationchange",m)}),e("destroy",()=>{h(),r.removeEventListener("resize",l),r.removeEventListener("orientationchange",m)})}function JR({swiper:t,extendParams:e,on:n,emit:r}){const i=[],s=xi(),l=(m,b={})=>{const C=s.MutationObserver||s.WebkitMutationObserver,E=new C(A=>{if(t.__preventObserver__)return;if(A.length===1){r("observerUpdate",A[0]);return}const T=function(){r("observerUpdate",A[0])};s.requestAnimationFrame?s.requestAnimationFrame(T):s.setTimeout(T,0)});E.observe(m,{attributes:typeof b.attributes>"u"?!0:b.attributes,childList:t.isElement||(typeof b.childList>"u"?!0:b).childList,characterData:typeof b.characterData>"u"?!0:b.characterData}),i.push(E)},d=()=>{if(t.params.observer){if(t.params.observeParents){const m=XR(t.hostEl);for(let b=0;b<m.length;b+=1)l(m[b])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},h=()=>{i.forEach(m=>{m.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",d),n("destroy",h)}var e7={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(...s){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,s)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(d=>{d.apply(i,[l,...r])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(d=>{d.apply(i,r)})}),e}};function t7(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Zo(r,"padding-left")||0,10)-parseInt(Zo(r,"padding-right")||0,10),n=n-parseInt(Zo(r,"padding-top")||0,10)-parseInt(Zo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function n7(){const t=this;function e(Ce,we){return parseFloat(Ce.getPropertyValue(t.getDirectionLabel(we))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,rtlTranslate:s,wrongRTL:l}=t,d=t.virtual&&n.virtual.enabled,h=d?t.virtual.slides.length:t.slides.length,m=da(i,`.${t.params.slideClass}, swiper-slide`),b=d?t.virtual.slides.length:m.length;let C=[];const E=[],A=[];let T=n.slidesOffsetBefore;typeof T=="function"&&(T=n.slidesOffsetBefore.call(t));let R=n.slidesOffsetAfter;typeof R=="function"&&(R=n.slidesOffsetAfter.call(t));const I=t.snapGrid.length,D=t.slidesGrid.length,F=t.size-T-R;let P=n.spaceBetween,q=-T,$=0,V=0;if(typeof F>"u")return;typeof P=="string"&&P.indexOf("%")>=0?P=parseFloat(P.replace("%",""))/100*F:typeof P=="string"&&(P=parseFloat(P)),t.virtualSize=-P-T-R,m.forEach(Ce=>{s?Ce.style.marginLeft="":Ce.style.marginRight="",Ce.style.marginBottom="",Ce.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Wh(r,"--swiper-centered-offset-before",""),Wh(r,"--swiper-centered-offset-after",""));const G=n.grid&&n.grid.rows>1&&t.grid;G?t.grid.initSlides(m):t.grid&&t.grid.unsetSlides();let Q;const Z=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(Ce=>typeof n.breakpoints[Ce].slidesPerView<"u").length>0;for(let Ce=0;Ce<b;Ce+=1){Q=0;const we=m[Ce];if(!(we&&(G&&t.grid.updateSlide(Ce,we,m),Zo(we,"display")==="none"))){if(d&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(Q=n.virtual.slidesPerViewAutoSlideSize),Q&&we&&(n.roundLengths&&(Q=Math.floor(Q)),we.style[t.getDirectionLabel("width")]=`${Q}px`);else if(n.slidesPerView==="auto"){Z&&(we.style[t.getDirectionLabel("width")]="");const me=getComputedStyle(we),Pe=we.style.transform,De=we.style.webkitTransform;if(Pe&&(we.style.transform="none"),De&&(we.style.webkitTransform="none"),n.roundLengths)Q=t.isHorizontal()?_C(we,"width"):_C(we,"height");else{const ee=e(me,"width"),Y=e(me,"padding-left"),ae=e(me,"padding-right"),de=e(me,"margin-left"),ze=e(me,"margin-right"),K=me.getPropertyValue("box-sizing");if(K&&K==="border-box")Q=ee+de+ze;else{const{clientWidth:be,offsetWidth:Oe}=we;Q=ee+Y+ae+de+ze+(Oe-be)}}Pe&&(we.style.transform=Pe),De&&(we.style.webkitTransform=De),n.roundLengths&&(Q=Math.floor(Q))}else Q=(F-(n.slidesPerView-1)*P)/n.slidesPerView,n.roundLengths&&(Q=Math.floor(Q)),we&&(we.style[t.getDirectionLabel("width")]=`${Q}px`);we&&(we.swiperSlideSize=Q),A.push(Q),n.centeredSlides?(q=q+Q/2+$/2+P,$===0&&Ce!==0&&(q=q-F/2-P),Ce===0&&(q=q-F/2-P),Math.abs(q)<1/1e3&&(q=0),n.roundLengths&&(q=Math.floor(q)),V%n.slidesPerGroup===0&&C.push(q),E.push(q)):(n.roundLengths&&(q=Math.floor(q)),(V-Math.min(t.params.slidesPerGroupSkip,V))%t.params.slidesPerGroup===0&&C.push(q),E.push(q),q=q+Q+P),t.virtualSize+=Q+P,$=Q,V+=1}}if(t.virtualSize=Math.max(t.virtualSize,F)+R,s&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+P}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+P}px`),G&&t.grid.updateWrapperSize(Q,C),!n.centeredSlides){const Ce=[];for(let we=0;we<C.length;we+=1){let me=C[we];n.roundLengths&&(me=Math.floor(me)),C[we]<=t.virtualSize-F&&Ce.push(me)}C=Ce,Math.floor(t.virtualSize-F)-Math.floor(C[C.length-1])>1&&C.push(t.virtualSize-F)}if(d&&n.loop){const Ce=A[0]+P;if(n.slidesPerGroup>1){const we=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),me=Ce*n.slidesPerGroup;for(let Pe=0;Pe<we;Pe+=1)C.push(C[C.length-1]+me)}for(let we=0;we<t.virtual.slidesBefore+t.virtual.slidesAfter;we+=1)n.slidesPerGroup===1&&C.push(C[C.length-1]+Ce),E.push(E[E.length-1]+Ce),t.virtualSize+=Ce}if(C.length===0&&(C=[0]),P!==0){const Ce=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");m.filter((we,me)=>!n.cssMode||n.loop?!0:me!==m.length-1).forEach(we=>{we.style[Ce]=`${P}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let Ce=0;A.forEach(me=>{Ce+=me+(P||0)}),Ce-=P;const we=Ce>F?Ce-F:0;C=C.map(me=>me<=0?-T:me>we?we+R:me)}if(n.centerInsufficientSlides){let Ce=0;A.forEach(me=>{Ce+=me+(P||0)}),Ce-=P;const we=(T||0)+(R||0);if(Ce+we<F){const me=(F-Ce-we)/2;C.forEach((Pe,De)=>{C[De]=Pe-me}),E.forEach((Pe,De)=>{E[De]=Pe+me})}}if(Object.assign(t,{slides:m,snapGrid:C,slidesGrid:E,slidesSizesGrid:A}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Wh(r,"--swiper-centered-offset-before",`${-C[0]}px`),Wh(r,"--swiper-centered-offset-after",`${t.size/2-A[A.length-1]/2}px`);const Ce=-t.snapGrid[0],we=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(me=>me+Ce),t.slidesGrid=t.slidesGrid.map(me=>me+we)}if(b!==h&&t.emit("slidesLengthChange"),C.length!==I&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),E.length!==D&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!d&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const Ce=`${n.containerModifierClass}backface-hidden`,we=t.el.classList.contains(Ce);b<=n.maxBackfaceHiddenSlides?we||t.el.classList.add(Ce):we&&t.el.classList.remove(Ce)}}function r7(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const l=d=>r?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{n.push(d)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const d=e.activeIndex+s;if(d>e.slides.length&&!r)break;n.push(l(d))}else n.push(l(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const d=n[s].offsetHeight;i=d>i?d:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function i7(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const SC=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function s7(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-t;i&&(l=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=n.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let h=0;h<r.length;h+=1){const m=r[h];let b=m.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(b-=r[0].swiperSlideOffset);const C=(l+(n.centeredSlides?e.minTranslate():0)-b)/(m.swiperSlideSize+d),E=(l-s[0]+(n.centeredSlides?e.minTranslate():0)-b)/(m.swiperSlideSize+d),A=-(l-b),T=A+e.slidesSizesGrid[h],R=A>=0&&A<=e.size-e.slidesSizesGrid[h],I=A>=0&&A<e.size-1||T>1&&T<=e.size||A<=0&&T>=e.size;I&&(e.visibleSlides.push(m),e.visibleSlidesIndexes.push(h)),SC(m,I,n.slideVisibleClass),SC(m,R,n.slideFullyVisibleClass),m.progress=i?-C:C,m.originalProgress=i?-E:E}}function a7(t){const e=this;if(typeof t>"u"){const b=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*b||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:l,progressLoop:d}=e;const h=s,m=l;if(r===0)i=0,s=!0,l=!0;else{i=(t-e.minTranslate())/r;const b=Math.abs(t-e.minTranslate())<1,C=Math.abs(t-e.maxTranslate())<1;s=b||i<=0,l=C||i>=1,b&&(i=0),C&&(i=1)}if(n.loop){const b=e.getSlideIndexByData(0),C=e.getSlideIndexByData(e.slides.length-1),E=e.slidesGrid[b],A=e.slidesGrid[C],T=e.slidesGrid[e.slidesGrid.length-1],R=Math.abs(t);R>=E?d=(R-E)/T:d=(R+T-A)/T,d>1&&(d-=1)}Object.assign(e,{progress:i,progressLoop:d,isBeginning:s,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!h&&e.emit("reachBeginning toEdge"),l&&!m&&e.emit("reachEnd toEdge"),(h&&!s||m&&!l)&&e.emit("fromEdge"),e.emit("progress",i)}const Ag=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function o7(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,l=t.grid&&n.grid&&n.grid.rows>1,d=C=>da(r,`.${n.slideClass}${C}, swiper-slide${C}`)[0];let h,m,b;if(s)if(n.loop){let C=i-t.virtual.slidesBefore;C<0&&(C=t.virtual.slides.length+C),C>=t.virtual.slides.length&&(C-=t.virtual.slides.length),h=d(`[data-swiper-slide-index="${C}"]`)}else h=d(`[data-swiper-slide-index="${i}"]`);else l?(h=e.find(C=>C.column===i),b=e.find(C=>C.column===i+1),m=e.find(C=>C.column===i-1)):h=e[i];h&&(l||(b=WR(h,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!b&&(b=e[0]),m=qR(h,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!m===0&&(m=e[e.length-1]))),e.forEach(C=>{Ag(C,C===h,n.slideActiveClass),Ag(C,C===b,n.slideNextClass),Ag(C,C===m,n.slidePrevClass)}),t.emitSlidesClasses()}const w1=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Tg=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},jx=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const l=i,d=[l-e];d.push(...Array.from({length:e}).map((h,m)=>l+r+m)),t.slides.forEach((h,m)=>{d.includes(h.column)&&Tg(t,m)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let l=i-e;l<=s+e;l+=1){const d=(l%n+n)%n;(d<i||d>s)&&Tg(t,d)}else for(let l=Math.max(i-e,0);l<=Math.min(s+e,n-1);l+=1)l!==i&&(l>s||l<i)&&Tg(t,l)};function l7(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function c7(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:l,snapIndex:d}=e;let h=t,m;const b=A=>{let T=A-e.virtual.slidesBefore;return T<0&&(T=e.virtual.slides.length+T),T>=e.virtual.slides.length&&(T-=e.virtual.slides.length),T};if(typeof h>"u"&&(h=l7(e)),r.indexOf(n)>=0)m=r.indexOf(n);else{const A=Math.min(i.slidesPerGroupSkip,h);m=A+Math.floor((h-A)/i.slidesPerGroup)}if(m>=r.length&&(m=r.length-1),h===s&&!e.params.loop){m!==d&&(e.snapIndex=m,e.emit("snapIndexChange"));return}if(h===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=b(h);return}const C=e.grid&&i.grid&&i.grid.rows>1;let E;if(e.virtual&&i.virtual.enabled&&i.loop)E=b(h);else if(C){const A=e.slides.find(R=>R.column===h);let T=parseInt(A.getAttribute("data-swiper-slide-index"),10);Number.isNaN(T)&&(T=Math.max(e.slides.indexOf(A),0)),E=Math.floor(T/i.grid.rows)}else if(e.slides[h]){const A=e.slides[h].getAttribute("data-swiper-slide-index");A?E=parseInt(A,10):E=h}else E=h;Object.assign(e,{previousSnapIndex:d,snapIndex:m,previousRealIndex:l,realIndex:E,previousIndex:s,activeIndex:h}),e.initialized&&jx(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==E&&e.emit("realIndexChange"),e.emit("slideChange"))}function u7(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(d=>{!i&&d.matches&&d.matches(`.${r.slideClass}, swiper-slide`)&&(i=d)});let s=!1,l;if(i){for(let d=0;d<n.slides.length;d+=1)if(n.slides[d]===i){s=!0,l=d;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=l;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var d7={updateSize:t7,updateSlides:n7,updateAutoHeight:r7,updateSlidesOffset:i7,updateSlidesProgress:s7,updateProgress:a7,updateSlidesClasses:o7,updateActiveIndex:c7,updateClickedSlide:u7};function f7(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let l=HR(s,t);return l+=e.cssOverflowAdjustment(),r&&(l=-l),l||0}function h7(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:l}=n;let d=0,h=0;const m=0;n.isHorizontal()?d=r?-t:t:h=t,i.roundLengths&&(d=Math.floor(d),h=Math.floor(h)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?d:h,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-d:-h:i.virtualTranslate||(n.isHorizontal()?d-=n.cssOverflowAdjustment():h-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${d}px, ${h}px, ${m}px)`);let b;const C=n.maxTranslate()-n.minTranslate();C===0?b=0:b=(t-n.minTranslate())/C,b!==l&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function p7(){return-this.snapGrid[0]}function m7(){return-this.snapGrid[this.snapGrid.length-1]}function g7(t=0,e=this.params.speed,n=!0,r=!0,i){const s=this,{params:l,wrapperEl:d}=s;if(s.animating&&l.preventInteractionOnTransition)return!1;const h=s.minTranslate(),m=s.maxTranslate();let b;if(r&&t>h?b=h:r&&t<m?b=m:b=t,s.updateProgress(b),l.cssMode){const C=s.isHorizontal();if(e===0)d[C?"scrollLeft":"scrollTop"]=-b;else{if(!s.support.smoothScroll)return KS({swiper:s,targetPosition:-b,side:C?"left":"top"}),!0;d.scrollTo({[C?"left":"top"]:-b,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(b),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(b),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(E){!s||s.destroyed||E.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var x7={getTranslate:f7,setTranslate:h7,minTranslate:p7,maxTranslate:m7,translateTo:g7};function y7(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function eE({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:s}=t;let l=n;l||(i>s?l="next":i<s?l="prev":l="reset"),t.emit(`transition${r}`),e&&l==="reset"?t.emit(`slideResetTransition${r}`):e&&i!==s&&(t.emit(`slideChangeTransition${r}`),l==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function b7(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),eE({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function v7(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),eE({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var w7={setTransition:y7,transitionStart:b7,transitionEnd:v7};function C7(t=0,e,n=!0,r,i){typeof t=="string"&&(t=parseInt(t,10));const s=this;let l=t;l<0&&(l=0);const{params:d,snapGrid:h,slidesGrid:m,previousIndex:b,activeIndex:C,rtlTranslate:E,wrapperEl:A,enabled:T}=s;if(!T&&!r&&!i||s.destroyed||s.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const R=Math.min(s.params.slidesPerGroupSkip,l);let I=R+Math.floor((l-R)/s.params.slidesPerGroup);I>=h.length&&(I=h.length-1);const D=-h[I];if(d.normalizeSlideIndex)for(let G=0;G<m.length;G+=1){const Q=-Math.floor(D*100),Z=Math.floor(m[G]*100),Ce=Math.floor(m[G+1]*100);typeof m[G+1]<"u"?Q>=Z&&Q<Ce-(Ce-Z)/2?l=G:Q>=Z&&Q<Ce&&(l=G+1):Q>=Z&&(l=G)}if(s.initialized&&l!==C&&(!s.allowSlideNext&&(E?D>s.translate&&D>s.minTranslate():D<s.translate&&D<s.minTranslate())||!s.allowSlidePrev&&D>s.translate&&D>s.maxTranslate()&&(C||0)!==l))return!1;l!==(b||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(D);let F;l>C?F="next":l<C?F="prev":F="reset";const P=s.virtual&&s.params.virtual.enabled;if(!(P&&i)&&(E&&-D===s.translate||!E&&D===s.translate))return s.updateActiveIndex(l),d.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),d.effect!=="slide"&&s.setTranslate(D),F!=="reset"&&(s.transitionStart(n,F),s.transitionEnd(n,F)),!1;if(d.cssMode){const G=s.isHorizontal(),Q=E?D:-D;if(e===0)P&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),P&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{A[G?"scrollLeft":"scrollTop"]=Q})):A[G?"scrollLeft":"scrollTop"]=Q,P&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return KS({swiper:s,targetPosition:Q,side:G?"left":"top"}),!0;A.scrollTo({[G?"left":"top"]:Q,behavior:"smooth"})}return!0}const V=JS().isSafari;return P&&!i&&V&&s.isElement&&s.virtual.update(!1,!1,l),s.setTransition(e),s.setTranslate(D),s.updateActiveIndex(l),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,F),e===0?s.transitionEnd(n,F):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(Q){!s||s.destroyed||Q.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,F))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function _7(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let l=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)l=l+i.virtual.slidesBefore;else{let d;if(s){const R=l*i.params.grid.rows;d=i.slides.find(I=>I.getAttribute("data-swiper-slide-index")*1===R).column}else d=i.getSlideIndexByData(l);const h=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:m,slidesOffsetBefore:b,slidesOffsetAfter:C}=i.params,E=m||!!b||!!C;let A=i.params.slidesPerView;A==="auto"?A=i.slidesPerViewDynamic():(A=Math.ceil(parseFloat(i.params.slidesPerView,10)),E&&A%2===0&&(A=A+1));let T=h-d<A;if(E&&(T=T||d<Math.ceil(A/2)),r&&E&&i.params.slidesPerView!=="auto"&&!s&&(T=!1),T){const R=E?d<i.activeIndex?"prev":"next":d-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:R,slideTo:!0,activeSlideIndex:R==="next"?d+1:d-h+1,slideRealIndex:R==="next"?i.realIndex:void 0})}if(s){const R=l*i.params.grid.rows;l=i.slides.find(I=>I.getAttribute("data-swiper-slide-index")*1===R).column}else l=i.getSlideIndexByData(l)}return requestAnimationFrame(()=>{i.slideTo(l,e,n,r)}),i}function S7(t,e=!0,n){const r=this,{enabled:i,params:s,animating:l}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let d=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(d=Math.max(r.slidesPerViewDynamic("current",!0),1));const h=r.activeIndex<s.slidesPerGroupSkip?1:d,m=r.virtual&&s.virtual.enabled;if(s.loop){if(l&&!m&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+h,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+h,t,e,n)}function E7(t,e=!0,n){const r=this,{params:i,snapGrid:s,slidesGrid:l,rtlTranslate:d,enabled:h,animating:m}=r;if(!h||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const b=r.virtual&&i.virtual.enabled;if(i.loop){if(m&&!b&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const C=d?r.translate:-r.translate;function E(F){return F<0?-Math.floor(Math.abs(F)):Math.floor(F)}const A=E(C),T=s.map(F=>E(F)),R=i.freeMode&&i.freeMode.enabled;let I=s[T.indexOf(A)-1];if(typeof I>"u"&&(i.cssMode||R)){let F;s.forEach((P,q)=>{A>=P&&(F=q)}),typeof F<"u"&&(I=R?s[F]:s[F>0?F-1:F])}let D=0;if(typeof I<"u"&&(D=l.indexOf(I),D<0&&(D=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(D=D-r.slidesPerViewDynamic("previous",!0)+1,D=Math.max(D,0))),i.rewind&&r.isBeginning){const F=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(F,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(D,t,e,n)}),!0;return r.slideTo(D,t,e,n)}function A7(t,e=!0,n){const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function T7(t,e=!0,n,r=.5){const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const l=Math.min(i.params.slidesPerGroupSkip,s),d=l+Math.floor((s-l)/i.params.slidesPerGroup),h=i.rtlTranslate?i.translate:-i.translate;if(h>=i.snapGrid[d]){const m=i.snapGrid[d],b=i.snapGrid[d+1];h-m>(b-m)*r&&(s+=i.params.slidesPerGroup)}else{const m=i.snapGrid[d-1],b=i.snapGrid[d];h-m<=(b-m)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function N7(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.getSlideIndexWhenGrid(t.clickedIndex),s;const l=t.isElement?"swiper-slide":`.${e.slideClass}`,d=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):i>(d?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),i=t.getSlideIndex(da(n,`${l}[data-swiper-slide-index="${s}"]`)[0]),YS(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var O7={slideTo:C7,slideToLoop:_7,slideNext:S7,slidePrev:E7,slideReset:A7,slideToClosest:T7,slideToClickedSlide:N7};function M7(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{da(i,`.${r.slideClass}, swiper-slide`).forEach((T,R)=>{T.setAttribute("data-swiper-slide-index",R)})},l=()=>{const A=da(i,`.${r.slideBlankClass}`);A.forEach(T=>{T.remove()}),A.length>0&&(n.recalcSlides(),n.updateSlides())},d=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||d)&&l();const h=r.slidesPerGroup*(d?r.grid.rows:1),m=n.slides.length%h!==0,b=d&&n.slides.length%r.grid.rows!==0,C=A=>{for(let T=0;T<A;T+=1){const R=n.isElement?j1("swiper-slide",[r.slideBlankClass]):j1("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(R)}};if(m){if(r.loopAddBlankSlides){const A=h-n.slides.length%h;C(A),n.recalcSlides(),n.updateSlides()}else L1("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(b){if(r.loopAddBlankSlides){const A=r.grid.rows-n.slides.length%r.grid.rows;C(A),n.recalcSlides(),n.updateSlides()}else L1("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();const E=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:E?void 0:"next",initial:e})}function R7({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:i,initial:s,byController:l,byMousewheel:d}={}){const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:m,allowSlidePrev:b,allowSlideNext:C,slidesEl:E,params:A}=h,{centeredSlides:T,slidesOffsetBefore:R,slidesOffsetAfter:I,initialSlide:D}=A,F=T||!!R||!!I;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&A.virtual.enabled){e&&(!F&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):F&&h.snapIndex<A.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=b,h.allowSlideNext=C,h.emit("loopFix");return}let P=A.slidesPerView;P==="auto"?P=h.slidesPerViewDynamic():(P=Math.ceil(parseFloat(A.slidesPerView,10)),F&&P%2===0&&(P=P+1));const q=A.slidesPerGroupAuto?P:A.slidesPerGroup;let $=F?Math.max(q,Math.ceil(P/2)):q;$%q!==0&&($+=q-$%q),$+=A.loopAdditionalSlides,h.loopedSlides=$;const V=h.grid&&A.grid&&A.grid.rows>1;m.length<P+$||h.params.effect==="cards"&&m.length<P+$*2?L1("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):V&&A.grid.fill==="row"&&L1("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const G=[],Q=[],Z=V?Math.ceil(m.length/A.grid.rows):m.length,Ce=s&&Z-D<P&&!F;let we=Ce?D:h.activeIndex;typeof i>"u"?i=h.getSlideIndex(m.find(de=>de.classList.contains(A.slideActiveClass))):we=i;const me=n==="next"||!n,Pe=n==="prev"||!n;let De=0,ee=0;const ae=(V?m[i].column:i)+(F&&typeof r>"u"?-P/2+.5:0);if(ae<$){De=Math.max($-ae,q);for(let de=0;de<$-ae;de+=1){const ze=de-Math.floor(de/Z)*Z;if(V){const K=Z-ze-1;for(let be=m.length-1;be>=0;be-=1)m[be].column===K&&G.push(be)}else G.push(Z-ze-1)}}else if(ae+P>Z-$){ee=Math.max(ae-(Z-$*2),q),Ce&&(ee=Math.max(ee,P-Z+D+1));for(let de=0;de<ee;de+=1){const ze=de-Math.floor(de/Z)*Z;V?m.forEach((K,be)=>{K.column===ze&&Q.push(be)}):Q.push(ze)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),h.params.effect==="cards"&&m.length<P+$*2&&(Q.includes(i)&&Q.splice(Q.indexOf(i),1),G.includes(i)&&G.splice(G.indexOf(i),1)),Pe&&G.forEach(de=>{m[de].swiperLoopMoveDOM=!0,E.prepend(m[de]),m[de].swiperLoopMoveDOM=!1}),me&&Q.forEach(de=>{m[de].swiperLoopMoveDOM=!0,E.append(m[de]),m[de].swiperLoopMoveDOM=!1}),h.recalcSlides(),A.slidesPerView==="auto"?h.updateSlides():V&&(G.length>0&&Pe||Q.length>0&&me)&&h.slides.forEach((de,ze)=>{h.grid.updateSlide(ze,de,h.slides)}),A.watchSlidesProgress&&h.updateSlidesOffset(),e){if(G.length>0&&Pe){if(typeof t>"u"){const de=h.slidesGrid[we],K=h.slidesGrid[we+De]-de;d?h.setTranslate(h.translate-K):(h.slideTo(we+Math.ceil(De),0,!1,!0),r&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-K,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-K))}else if(r){const de=V?G.length/A.grid.rows:G.length;h.slideTo(h.activeIndex+de,0,!1,!0),h.touchEventsData.currentTranslate=h.translate}}else if(Q.length>0&&me)if(typeof t>"u"){const de=h.slidesGrid[we],K=h.slidesGrid[we-ee]-de;d?h.setTranslate(h.translate-K):(h.slideTo(we-ee,0,!1,!0),r&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-K,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-K))}else{const de=V?Q.length/A.grid.rows:Q.length;h.slideTo(h.activeIndex-de,0,!1,!0)}}if(h.allowSlidePrev=b,h.allowSlideNext=C,h.controller&&h.controller.control&&!l){const de={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:i,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(ze=>{!ze.destroyed&&ze.params.loop&&ze.loopFix({...de,slideTo:ze.params.slidesPerView===A.slidesPerView?e:!1})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...de,slideTo:h.controller.control.params.slidesPerView===A.slidesPerView?e:!1})}h.emit("loopFix")}function I7(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var k7={loopCreate:M7,loopFix:R7,loopDestroy:I7};function D7(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function B7(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var L7={setGrabCursor:D7,unsetGrabCursor:B7};function j7(t,e=this){function n(r){if(!r||r===hc()||r===xi())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function EC(t,e,n){const r=xi(),{params:i}=t,s=i.edgeSwipeDetection,l=i.edgeSwipeThreshold;return s&&(n<=l||n>=r.innerWidth-l)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function P7(t){const e=this,n=hc();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){EC(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:l,enabled:d}=e;if(!d||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let h=r.target;if(s.touchEventsTarget==="wrapper"&&!GR(h,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const m=!!s.noSwipingClass&&s.noSwipingClass!=="",b=r.composedPath?r.composedPath():r.path;m&&r.target&&r.target.shadowRoot&&b&&(h=b[0]);const C=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,E=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(E?j7(C,h):h.closest(C))){e.allowClick=!0;return}if(s.swipeHandler&&!h.closest(s.swipeHandler))return;l.currentX=r.pageX,l.currentY=r.pageY;const A=l.currentX,T=l.currentY;if(!EC(e,r,A))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=A,l.startY=T,i.touchStartTime=B1(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let R=!0;h.matches(i.focusableElements)&&(R=!1,h.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==h&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!h.matches(i.focusableElements))&&n.activeElement.blur();const I=R&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||I)&&!h.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function z7(t){const e=hc(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:l,enabled:d}=n;if(!d||!i.simulateTouch&&t.pointerType==="mouse")return;let h=t;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(r.touchId!==null||h.pointerId!==r.pointerId))return;let m;if(h.type==="touchmove"){if(m=[...h.changedTouches].find($=>$.identifier===r.touchId),!m||m.identifier!==r.touchId)return}else m=h;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",h);return}const b=m.pageX,C=m.pageY;if(h.preventedByNestedSwiper){s.startX=b,s.startY=C;return}if(!n.allowTouchMove){h.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:b,startY:C,currentX:b,currentY:C}),r.touchStartTime=B1());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(C<s.startY&&n.translate<=n.maxTranslate()||C>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(l&&(b>s.startX&&-n.translate<=n.maxTranslate()||b<s.startX&&-n.translate>=n.minTranslate()))return;if(!l&&(b<s.startX&&n.translate<=n.maxTranslate()||b>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",h),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=b,s.currentY=C;const E=s.currentX-s.startX,A=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(E**2+A**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let $;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:E*E+A*A>=25&&($=Math.atan2(Math.abs(A),Math.abs(E))*180/Math.PI,r.isScrolling=n.isHorizontal()?$>i.touchAngle:90-$>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",h),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||h.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&h.cancelable&&h.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&h.stopPropagation();let T=n.isHorizontal()?E:A,R=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(T=Math.abs(T)*(l?1:-1),R=Math.abs(R)*(l?1:-1)),s.diff=T,T*=i.touchRatio,l&&(T=-T,R=-R);const I=n.touchesDirection;n.swipeDirection=T>0?"prev":"next",n.touchesDirection=R>0?"prev":"next";const D=n.params.loop&&!i.cssMode,F=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(D&&F&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const $=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent($)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",h)}if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&I!==n.touchesDirection&&D&&F&&Math.abs(T)>=1){Object.assign(s,{startX:b,startY:C,currentX:b,currentY:C,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",h),r.isMoved=!0,r.currentTranslate=T+r.startTranslate;let P=!0,q=i.resistanceRatio;if(i.touchReleaseOnEdges&&(q=0),T>0?(D&&F&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(P=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+T)**q))):T<0&&(D&&F&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(P=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-T)**q))),P&&(h.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(T)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function F7(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find($=>$.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:l,touches:d,rtlTranslate:h,slidesGrid:m,enabled:b}=e;if(!b||!l.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&l.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}l.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const C=B1(),E=C-n.touchStartTime;if(e.allowClick){const $=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide($&&$[0]||r.target,$),e.emit("tap click",r),E<300&&C-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=B1(),YS(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||d.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let A;if(l.followFinger?A=h?e.translate:-e.translate:A=-n.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:A});return}const T=A>=-e.maxTranslate()&&!e.params.loop;let R=0,I=e.slidesSizesGrid[0];for(let $=0;$<m.length;$+=$<l.slidesPerGroupSkip?1:l.slidesPerGroup){const V=$<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof m[$+V]<"u"?(T||A>=m[$]&&A<m[$+V])&&(R=$,I=m[$+V]-m[$]):(T||A>=m[$])&&(R=$,I=m[m.length-1]-m[m.length-2])}let D=null,F=null;l.rewind&&(e.isBeginning?F=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(D=0));const P=(A-m[R])/I,q=R<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(E>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(P>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?D:R+q):e.slideTo(R)),e.swipeDirection==="prev"&&(P>1-l.longSwipesRatio?e.slideTo(R+q):F!==null&&P<0&&Math.abs(P)>l.longSwipesRatio?e.slideTo(F):e.slideTo(R))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(R+q):e.slideTo(R):(e.swipeDirection==="next"&&e.slideTo(D!==null?D:R+q),e.swipeDirection==="prev"&&e.slideTo(F!==null?F:R))}}function AC(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,l=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const d=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!d?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!l?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function U7(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function H7(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function V7(t){const e=this;w1(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function $7(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const tE=(t,e)=>{const n=hc(),{params:r,el:i,wrapperEl:s,device:l}=t,d=!!r.nested,h=e==="on"?"addEventListener":"removeEventListener",m=e;!i||typeof i=="string"||(n[h]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:d}),i[h]("touchstart",t.onTouchStart,{passive:!1}),i[h]("pointerdown",t.onTouchStart,{passive:!1}),n[h]("touchmove",t.onTouchMove,{passive:!1,capture:d}),n[h]("pointermove",t.onTouchMove,{passive:!1,capture:d}),n[h]("touchend",t.onTouchEnd,{passive:!0}),n[h]("pointerup",t.onTouchEnd,{passive:!0}),n[h]("pointercancel",t.onTouchEnd,{passive:!0}),n[h]("touchcancel",t.onTouchEnd,{passive:!0}),n[h]("pointerout",t.onTouchEnd,{passive:!0}),n[h]("pointerleave",t.onTouchEnd,{passive:!0}),n[h]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[h]("click",t.onClick,!0),r.cssMode&&s[h]("scroll",t.onScroll),r.updateOnWindowResize?t[m](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",AC,!0):t[m]("observerUpdate",AC,!0),i[h]("load",t.onLoad,{capture:!0}))};function G7(){const t=this,{params:e}=t;t.onTouchStart=P7.bind(t),t.onTouchMove=z7.bind(t),t.onTouchEnd=F7.bind(t),t.onDocumentTouchStart=$7.bind(t),e.cssMode&&(t.onScroll=H7.bind(t)),t.onClick=U7.bind(t),t.onLoad=V7.bind(t),tE(t,"on")}function q7(){tE(this,"off")}var W7={attachEvents:G7,detachEvents:q7};const TC=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function X7(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const l=hc(),d=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",h=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:l.querySelector(r.breakpointsBase),m=t.getBreakpoint(s,d,h);if(!m||t.currentBreakpoint===m)return;const C=(m in s?s[m]:void 0)||t.originalParams,E=TC(t,r),A=TC(t,C),T=t.params.grabCursor,R=C.grabCursor,I=r.enabled;E&&!A?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!E&&A&&(i.classList.add(`${r.containerModifierClass}grid`),(C.grid.fill&&C.grid.fill==="column"||!C.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),T&&!R?t.unsetGrabCursor():!T&&R&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(V=>{if(typeof C[V]>"u")return;const G=r[V]&&r[V].enabled,Q=C[V]&&C[V].enabled;G&&!Q&&t[V].disable(),!G&&Q&&t[V].enable()});const D=C.direction&&C.direction!==r.direction,F=r.loop&&(C.slidesPerView!==r.slidesPerView||D),P=r.loop;D&&n&&t.changeDirection(),Xi(t.params,C);const q=t.params.enabled,$=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),I&&!q?t.disable():!I&&q&&t.enable(),t.currentBreakpoint=m,t.emit("_beforeBreakpoint",C),n&&(F?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!P&&$?(t.loopCreate(e),t.updateSlides()):P&&!$&&t.loopDestroy()),t.emit("breakpoint",C)}function Y7(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const i=xi(),s=e==="window"?i.innerHeight:n.clientHeight,l=Object.keys(t).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const h=parseFloat(d.substr(1));return{value:s*h,point:d}}return{value:d,point:d}});l.sort((d,h)=>parseInt(d.value,10)-parseInt(h.value,10));for(let d=0;d<l.length;d+=1){const{point:h,value:m}=l[d];e==="window"?i.matchMedia(`(min-width: ${m}px)`).matches&&(r=h):m<=n.clientWidth&&(r=h)}return r||"max"}var K7={setBreakpoint:X7,getBreakpoint:Y7};function Z7(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function Q7(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,l=Z7(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...l),i.classList.add(...e),t.emitContainerClasses()}function J7(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var eI={addClasses:Q7,removeClasses:J7};function tI(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var nI={checkOverflow:tI},Px={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function rI(t,e){return function(r={}){const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Xi(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){Xi(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Xi(e,r)}}const Ng={eventsEmitter:e7,update:d7,translate:x7,transition:w7,slide:O7,loop:k7,grabCursor:L7,events:W7,breakpoints:K7,checkOverflow:nI,classes:eI},Og={};let R2=class Ka{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Xi({},r),n&&!r.el&&(r.el=n);const i=hc();if(r.el&&typeof r.el=="string"&&i.querySelectorAll(r.el).length>1){const h=[];return i.querySelectorAll(r.el).forEach(m=>{const b=Xi({},r,{el:m});h.push(new Ka(b))}),h}const s=this;s.__swiper__=!0,s.support=ZS(),s.device=QS({userAgent:r.userAgent}),s.browser=JS(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const l={};s.modules.forEach(h=>{h({params:r,swiper:s,extendParams:rI(r,l),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const d=Xi({},Px,l);return s.params=Xi({},d,Og,r),s.originalParams=Xi({},s.params),s.passedParams=Xi({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(h=>{s.on(h,s.params.on[h])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=da(n,`.${r.slideClass}, swiper-slide`),s=CC(i[0]);return CC(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=da(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),l=(r.maxTranslate()-i)*e+i;r.translateTo(l,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:i,slides:s,slidesGrid:l,slidesSizesGrid:d,size:h,activeIndex:m}=r;let b=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let C=s[m]?Math.ceil(s[m].swiperSlideSize):0,E;for(let A=m+1;A<s.length;A+=1)s[A]&&!E&&(C+=Math.ceil(s[A].swiperSlideSize),b+=1,C>h&&(E=!0));for(let A=m-1;A>=0;A-=1)s[A]&&!E&&(C+=s[A].swiperSlideSize,b+=1,C>h&&(E=!0))}else if(e==="current")for(let C=m+1;C<s.length;C+=1)(n?l[C]+d[C]-l[m]<h:l[C]-l[m]<h)&&(b+=1);else for(let C=m-1;C>=0;C-=1)l[m]-l[C]<h&&(b+=1);return b}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&w1(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const l=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const l=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(l.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):da(r,i())[0];return!l&&n.params.createElements&&(l=j1("div",n.params.wrapperClass),r.append(l),da(r,`.${n.params.slideClass}`).forEach(d=>{l.append(d)})),Object.assign(n,{el:r,wrapperEl:l,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:l,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Zo(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Zo(r,"direction")==="rtl"),wrongRTL:Zo(l,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?w1(n,s):s.addEventListener("load",l=>{w1(n,l.target)})}),jx(n),n.initialized=!0,jx(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const r=this,{params:i,el:s,wrapperEl:l,slides:d}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),l&&l.removeAttribute("style"),d&&d.length&&d.forEach(h=>{h.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(h=>{r.off(h)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),FR(r)),r.destroyed=!0),null}static extendDefaults(e){Xi(Og,e)}static get extendedDefaults(){return Og}static get defaults(){return Px}static installModule(e){Ka.prototype.__modules__||(Ka.prototype.__modules__=[]);const n=Ka.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Ka.installModule(n)),Ka):(Ka.installModule(e),Ka)}};Object.keys(Ng).forEach(t=>{Object.keys(Ng[t]).forEach(e=>{R2.prototype[e]=Ng[t][e]})});R2.use([QR,JR]);const nE=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ic(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function wu(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:ic(e[r])&&ic(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:wu(t[r],e[r]):t[r]=e[r]})}function rE(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function iE(t={}){return t.pagination&&typeof t.pagination.el>"u"}function sE(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function aE(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function iI(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function sI({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:i,prevEl:s,scrollbarEl:l,paginationEl:d}){const h=r.filter(Q=>Q!=="children"&&Q!=="direction"&&Q!=="wrapperClass"),{params:m,pagination:b,navigation:C,scrollbar:E,virtual:A,thumbs:T}=t;let R,I,D,F,P,q,$,V;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&m.thumbs&&(!m.thumbs.swiper||m.thumbs.swiper.destroyed)&&(R=!0),r.includes("controller")&&n.controller&&n.controller.control&&m.controller&&!m.controller.control&&(I=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||d)&&(m.pagination||m.pagination===!1)&&b&&!b.el&&(D=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(m.scrollbar||m.scrollbar===!1)&&E&&!E.el&&(F=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||s)&&(n.navigation.nextEl||i)&&(m.navigation||m.navigation===!1)&&C&&!C.prevEl&&!C.nextEl&&(P=!0);const G=Q=>{t[Q]&&(t[Q].destroy(),Q==="navigation"?(t.isElement&&(t[Q].prevEl.remove(),t[Q].nextEl.remove()),m[Q].prevEl=void 0,m[Q].nextEl=void 0,t[Q].prevEl=void 0,t[Q].nextEl=void 0):(t.isElement&&t[Q].el.remove(),m[Q].el=void 0,t[Q].el=void 0))};r.includes("loop")&&t.isElement&&(m.loop&&!n.loop?q=!0:!m.loop&&n.loop?$=!0:V=!0),h.forEach(Q=>{if(ic(m[Q])&&ic(n[Q]))Object.assign(m[Q],n[Q]),(Q==="navigation"||Q==="pagination"||Q==="scrollbar")&&"enabled"in n[Q]&&!n[Q].enabled&&G(Q);else{const Z=n[Q];(Z===!0||Z===!1)&&(Q==="navigation"||Q==="pagination"||Q==="scrollbar")?Z===!1&&G(Q):m[Q]=n[Q]}}),h.includes("controller")&&!I&&t.controller&&t.controller.control&&m.controller&&m.controller.control&&(t.controller.control=m.controller.control),r.includes("children")&&e&&A&&m.virtual.enabled?(A.slides=e,A.update(!0)):r.includes("virtual")&&A&&m.virtual.enabled&&(e&&(A.slides=e),A.update(!0)),r.includes("children")&&e&&m.loop&&(V=!0),R&&T.init()&&T.update(!0),I&&(t.controller.control=m.controller.control),D&&(t.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),t.el.appendChild(d)),d&&(m.pagination.el=d),b.init(),b.render(),b.update()),F&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(m.scrollbar.el=l),E.init(),E.updateSize(),E.setTranslate()),P&&(t.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),Lx(i,t.hostEl.constructor.nextButtonSvg),i.part.add("button-next"),t.el.appendChild(i)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),Lx(s,t.hostEl.constructor.prevButtonSvg),s.part.add("button-prev"),t.el.appendChild(s))),i&&(m.navigation.nextEl=i),s&&(m.navigation.prevEl=s),C.init(),C.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(q||V)&&t.loopDestroy(),($||V)&&t.loopCreate(),t.update()}function aI(t={},e=!0){const n={on:{}},r={},i={};wu(n,Px),n._emitClasses=!0,n.init=!1;const s={},l=nE.map(h=>h.replace(/_/,"")),d=Object.assign({},t);return Object.keys(d).forEach(h=>{typeof t[h]>"u"||(l.indexOf(h)>=0?ic(t[h])?(n[h]={},i[h]={},wu(n[h],t[h]),wu(i[h],t[h])):(n[h]=t[h],i[h]=t[h]):h.search(/on[A-Z]/)===0&&typeof t[h]=="function"?e?r[`${h[2].toLowerCase()}${h.substr(3)}`]=t[h]:n.on[`${h[2].toLowerCase()}${h.substr(3)}`]=t[h]:s[h]=t[h])}),["navigation","pagination","scrollbar"].forEach(h=>{n[h]===!0&&(n[h]={}),n[h]===!1&&delete n[h]}),{params:n,passedParams:i,rest:s,events:r}}function oI({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:i,swiper:s},l){rE(l)&&e&&n&&(s.params.navigation.nextEl=e,s.originalParams.navigation.nextEl=e,s.params.navigation.prevEl=n,s.originalParams.navigation.prevEl=n),iE(l)&&r&&(s.params.pagination.el=r,s.originalParams.pagination.el=r),sE(l)&&i&&(s.params.scrollbar.el=i,s.originalParams.scrollbar.el=i),s.init(t)}function lI(t,e,n,r,i){const s=[];if(!e)return s;const l=h=>{s.indexOf(h)<0&&s.push(h)};if(n&&r){const h=r.map(i),m=n.map(i);h.join("")!==m.join("")&&l("children"),r.length!==n.length&&l("children")}return nE.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in t&&h in e)if(ic(t[h])&&ic(e[h])){const m=Object.keys(t[h]),b=Object.keys(e[h]);m.length!==b.length?l(h):(m.forEach(C=>{t[h][C]!==e[h][C]&&l(h)}),b.forEach(C=>{t[h][C]!==e[h][C]&&l(h)}))}else t[h]!==e[h]&&l(h)}),s}const cI=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P1.apply(this,arguments)}function oE(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function lE(t){const e=[];return qt.Children.toArray(t).forEach(n=>{oE(n)?e.push(n):n.props&&n.props.children&&lE(n.props.children).forEach(r=>e.push(r))}),e}function uI(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return qt.Children.toArray(t).forEach(r=>{if(oE(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=lE(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function dI(t,e,n){if(!n)return null;const r=b=>{let C=b;return b<0?C=e.length+b:C>=e.length&&(C=C-e.length),C},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:l}=n,d=t.params.loop?-e.length:0,h=t.params.loop?e.length*2:e.length,m=[];for(let b=d;b<h;b+=1)b>=s&&b<=l&&m.push(e[r(b)]);return m.map((b,C)=>qt.cloneElement(b,{swiper:t,style:i,key:b.props.virtualIndex||b.key||`slide-${C}`}))}function Zd(t,e){return typeof window>"u"?z.useEffect(t,e):z.useLayoutEffect(t,e)}const NC=z.createContext(null),fI=z.createContext(null),cE=z.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:r,onSwiper:i,...s}={},l)=>{let d=!1;const[h,m]=z.useState("swiper"),[b,C]=z.useState(null),[E,A]=z.useState(!1),T=z.useRef(!1),R=z.useRef(null),I=z.useRef(null),D=z.useRef(null),F=z.useRef(null),P=z.useRef(null),q=z.useRef(null),$=z.useRef(null),V=z.useRef(null),{params:G,passedParams:Q,rest:Z,events:Ce}=aI(s),{slides:we,slots:me}=uI(r),Pe=()=>{A(!E)};Object.assign(G.on,{_containerClasses(de,ze){m(ze)}});const De=()=>{Object.assign(G.on,Ce),d=!0;const de={...G};if(delete de.wrapperClass,I.current=new R2(de),I.current.virtual&&I.current.params.virtual.enabled){I.current.virtual.slides=we;const ze={cache:!1,slides:we,renderExternal:C,renderExternalUpdate:!1};wu(I.current.params.virtual,ze),wu(I.current.originalParams.virtual,ze)}};R.current||De(),I.current&&I.current.on("_beforeBreakpoint",Pe);const ee=()=>{d||!Ce||!I.current||Object.keys(Ce).forEach(de=>{I.current.on(de,Ce[de])})},Y=()=>{!Ce||!I.current||Object.keys(Ce).forEach(de=>{I.current.off(de,Ce[de])})};z.useEffect(()=>()=>{I.current&&I.current.off("_beforeBreakpoint",Pe)}),z.useEffect(()=>{!T.current&&I.current&&(I.current.emitSlidesClasses(),T.current=!0)}),Zd(()=>{if(l&&(l.current=R.current),!!R.current)return I.current.destroyed&&De(),oI({el:R.current,nextEl:P.current,prevEl:q.current,paginationEl:$.current,scrollbarEl:V.current,swiper:I.current},G),i&&!I.current.destroyed&&i(I.current),()=>{I.current&&!I.current.destroyed&&I.current.destroy(!0,!1)}},[]),Zd(()=>{ee();const de=lI(Q,D.current,we,F.current,ze=>ze.key);return D.current=Q,F.current=we,de.length&&I.current&&!I.current.destroyed&&sI({swiper:I.current,slides:we,passedParams:Q,changedParams:de,nextEl:P.current,prevEl:q.current,scrollbarEl:V.current,paginationEl:$.current}),()=>{Y()}}),Zd(()=>{cI(I.current)},[b]);function ae(){return G.virtual?dI(I.current,we,b):we.map((de,ze)=>qt.cloneElement(de,{swiper:I.current,swiperSlideIndex:ze}))}return qt.createElement(e,P1({ref:R,className:aE(`${h}${t?` ${t}`:""}`)},Z),qt.createElement(fI.Provider,{value:I.current},me["container-start"],qt.createElement(n,{className:iI(G.wrapperClass)},me["wrapper-start"],ae(),me["wrapper-end"]),rE(G)&&qt.createElement(qt.Fragment,null,qt.createElement("div",{ref:q,className:"swiper-button-prev"}),qt.createElement("div",{ref:P,className:"swiper-button-next"})),sE(G)&&qt.createElement("div",{ref:V,className:"swiper-scrollbar"}),iE(G)&&qt.createElement("div",{ref:$,className:"swiper-pagination"}),me["container-end"]))});cE.displayName="Swiper";const uE=z.forwardRef(({tag:t="div",children:e,className:n="",swiper:r,zoom:i,lazy:s,virtualIndex:l,swiperSlideIndex:d,...h}={},m)=>{const b=z.useRef(null),[C,E]=z.useState("swiper-slide"),[A,T]=z.useState(!1);function R(P,q,$){q===b.current&&E($)}Zd(()=>{if(typeof d<"u"&&(b.current.swiperSlideIndex=d),m&&(m.current=b.current),!(!b.current||!r)){if(r.destroyed){C!=="swiper-slide"&&E("swiper-slide");return}return r.on("_slideClass",R),()=>{r&&r.off("_slideClass",R)}}}),Zd(()=>{r&&b.current&&!r.destroyed&&E(r.getSlideClasses(b.current))},[r]);const I={isActive:C.indexOf("swiper-slide-active")>=0,isVisible:C.indexOf("swiper-slide-visible")>=0,isPrev:C.indexOf("swiper-slide-prev")>=0,isNext:C.indexOf("swiper-slide-next")>=0},D=()=>typeof e=="function"?e(I):e,F=()=>{T(!0)};return qt.createElement(t,P1({ref:b,className:aE(`${C}${n?` ${n}`:""}`),"data-swiper-slide-index":l,onLoad:F},h),i&&qt.createElement(NC.Provider,{value:I},qt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof i=="number"?i:void 0},D(),s&&!A&&qt.createElement("div",{className:"swiper-lazy-preloader"}))),!i&&qt.createElement(NC.Provider,{value:I},D(),s&&!A&&qt.createElement("div",{className:"swiper-lazy-preloader"})))});uE.displayName="SwiperSlide";function hI(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=da(t.el,`.${r[i]}`)[0];s||(s=j1("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}const pI='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function mI({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function i(A){let T;return A&&typeof A=="string"&&t.isElement&&(T=t.el.querySelector(A)||t.hostEl.querySelector(A),T)?T:(A&&(typeof A=="string"&&(T=[...document.querySelectorAll(A)]),t.params.uniqueNavElements&&typeof A=="string"&&T&&T.length>1&&t.el.querySelectorAll(A).length===1?T=t.el.querySelector(A):T&&T.length===1&&(T=T[0])),A&&!T?A:T)}function s(A,T){const R=t.params.navigation;A=Fa(A),A.forEach(I=>{I&&(I.classList[T?"add":"remove"](...R.disabledClass.split(" ")),I.tagName==="BUTTON"&&(I.disabled=T),t.params.watchOverflow&&t.enabled&&I.classList[t.isLocked?"add":"remove"](R.lockClass))})}function l(){const{nextEl:A,prevEl:T}=t.navigation;if(t.params.loop){s(T,!1),s(A,!1);return}s(T,t.isBeginning&&!t.params.rewind),s(A,t.isEnd&&!t.params.rewind)}function d(A){A.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function h(A){A.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function m(){const A=t.params.navigation;if(t.params.navigation=hI(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(A.nextEl||A.prevEl))return;let T=i(A.nextEl),R=i(A.prevEl);Object.assign(t.navigation,{nextEl:T,prevEl:R}),T=Fa(T),R=Fa(R);const I=(D,F)=>{if(D){if(A.addIcons&&D.matches(".swiper-button-next,.swiper-button-prev")&&!D.querySelector("svg")){const P=document.createElement("div");Lx(P,pI),D.appendChild(P.querySelector("svg")),P.remove()}D.addEventListener("click",F==="next"?h:d)}!t.enabled&&D&&D.classList.add(...A.lockClass.split(" "))};T.forEach(D=>I(D,"next")),R.forEach(D=>I(D,"prev"))}function b(){let{nextEl:A,prevEl:T}=t.navigation;A=Fa(A),T=Fa(T);const R=(I,D)=>{I.removeEventListener("click",D==="next"?h:d),I.classList.remove(...t.params.navigation.disabledClass.split(" "))};A.forEach(I=>R(I,"next")),T.forEach(I=>R(I,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?E():(m(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{b()}),n("enable disable",()=>{let{nextEl:A,prevEl:T}=t.navigation;if(A=Fa(A),T=Fa(T),t.enabled){l();return}[...A,...T].filter(R=>!!R).forEach(R=>R.classList.add(t.params.navigation.lockClass))}),n("click",(A,T)=>{let{nextEl:R,prevEl:I}=t.navigation;R=Fa(R),I=Fa(I);const D=T.target;let F=I.includes(D)||R.includes(D);if(t.isElement&&!F){const P=T.path||T.composedPath&&T.composedPath();P&&(F=P.find(q=>R.includes(q)||I.includes(q)))}if(t.params.navigation.hideOnClick&&!F){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===D||t.pagination.el.contains(D)))return;let P;R.length?P=R[0].classList.contains(t.params.navigation.hiddenClass):I.length&&(P=I[0].classList.contains(t.params.navigation.hiddenClass)),r(P===!0?"navigationShow":"navigationHide"),[...R,...I].filter(q=>!!q).forEach(q=>q.classList.toggle(t.params.navigation.hiddenClass))}});const C=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),m(),l()},E=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),b()};Object.assign(t.navigation,{enable:C,disable:E,update:l,init:m,destroy:b})}const gI="_carouselWrapper_olv4s_1",xI="_carouselHeader_olv4s_13",yI="_carouselTitle_olv4s_29",bI="_moreButton_olv4s_41",vI="_carouselViewport_olv4s_79",wI="_carouselSlide_olv4s_89",CI="_slideCard_olv4s_113",_I="_carouselImage_olv4s_135",SI="_cardText_olv4s_149",EI="_prevButton_olv4s_203",AI="_nextButton_olv4s_205",TI="_emptyBox_olv4s_235",as={carouselWrapper:gI,carouselHeader:xI,carouselTitle:yI,moreButton:bI,carouselViewport:vI,carouselSlide:wI,slideCard:CI,carouselImage:_I,cardText:SI,prevButton:EI,nextButton:AI,emptyBox:TI};function OC({title:t,category:e,value:n}){const[r,i]=z.useState([]),s=z.useRef(null),l=z.useRef(null),d=z.useRef(null);return z.useEffect(()=>{var h;d.current&&s.current&&l.current&&((h=d.current.params)!=null&&h.navigation)&&(d.current.params.navigation.prevEl=s.current,d.current.params.navigation.nextEl=l.current,d.current.navigation.destroy(),d.current.navigation.init(),d.current.navigation.update())},[]),z.useEffect(()=>{(async()=>{try{const b=(await Wt.get("/api/exhibitions",{params:{status:"exhibited",[e]:n}})).data.map(({id:C,exhibition_poster:E,exhibition_title:A,exhibition_category:T,exhibition_status:R,exhibition_start_date:I,exhibition_end_date:D,exhibition_organization:F})=>({id:C,image:E,title:A,category:T,status:R,startDate:I,endDate:D,organization:F}));i(b)}catch(m){console.error("     :",m)}})()},[]),w.jsxs("div",{className:as.carouselWrapper,children:[w.jsxs("div",{className:as.carouselHeader,children:[w.jsx("h2",{className:as.carouselTitle,children:t}),w.jsx(xn,{to:"/exhibitions",className:as.moreButton,children:""})]}),r.length>0?w.jsx(cE,{modules:[mI],onSwiper:h=>d.current=h,slidesPerView:"auto",centeredSlides:!0,loop:r.length>2,spaceBetween:20,navigation:{prevEl:s.current,nextEl:l.current},className:as.carouselViewport,children:r.map(h=>w.jsx(uE,{className:as.carouselSlide,children:w.jsxs(xn,{to:`/exhibitions/${h.id}`,className:as.slideCard,children:[w.jsx("img",{src:h.image,alt:h.title,className:as.carouselImage}),w.jsxs("div",{className:as.cardText,children:[w.jsxs("h3",{children:["",h.title,""]}),w.jsx("p",{children:h.organization.name}),w.jsxs("p",{children:[h.startDate," ~ ",h.endDate]})]})]})},h.id))}):w.jsx("div",{className:as.emptyBox,children:"  ."}),w.jsx("button",{ref:s,className:as.prevButton,children:""}),w.jsx("button",{ref:l,className:as.nextButton,children:""})]})}function NI(){return w.jsxs("div",{className:vC.mainLayout,children:[w.jsx(_R,{}),w.jsxs("div",{className:vC.carouselContainer,children:[w.jsx(OC,{title:"   "}),w.jsx(OC,{title:" ",category:"sort",value:"popular"}),w.jsx(jR,{title:"  "})]})]})}const OI="_layout_kvwfn_1",MI="_gridContainer_kvwfn_19",MC={layout:OI,gridContainer:MI},RI="_layout_1xzjp_1",II="_titleContainer_1xzjp_13",kI="_listTitle_1xzjp_29",DI="_clickedFavButton_1xzjp_59",BI="_favButton_1xzjp_61",LI="_clickedIcon_1xzjp_109",jI="_searchForm_1xzjp_117",PI="_searchInput_1xzjp_137",zI="_formButton_1xzjp_175",Ua={layout:RI,titleContainer:II,listTitle:kI,clickedFavButton:DI,favButton:BI,clickedIcon:LI,searchForm:jI,searchInput:PI,formButton:zI};function FI(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function UI(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function I2(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function HI(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function VI(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function $I(t){return ar({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function Hp(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function GI(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function qI(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function WI(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(t)}function k2(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function XI(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function dE(t){return ar({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}const YI=()=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"30",viewBox:"0 0 31 30",fill:"none",children:w.jsx("path",{d:"M26.33 26.25L20.8925 20.8125M23.8301 13.75C23.8301 19.2728 19.3529 23.75 13.8301 23.75C8.30723 23.75 3.83008 19.2728 3.83008 13.75C3.83008 8.22715 8.30723 3.75 13.8301 3.75C19.3529 3.75 23.8301 8.22715 23.8301 13.75Z",stroke:"#222222",strokeWidth:"1.84991",strokeLinecap:"round",strokeLinejoin:"round"})});function Nf({title:t,placeholder:e,isFav:n,onEvent:r,onFav:i,onSearch:s,value:l,isNews:d=!1,isArtworks:h=!1}){return w.jsxs("div",{className:Ua.layout,children:[w.jsxs("div",{className:Ua.titleContainer,children:[w.jsx("h1",{className:Ua.listTitle,children:t}),!d&&!h&&w.jsxs("button",{className:`${Ua.favButton} ${n&&Ua.clickedFavButton}`,onClick:i,children:[w.jsx(Hp,{className:`${n&&Ua.clickedIcon}`}),""]})]}),!h&&w.jsxs("form",{className:Ua.searchForm,action:r,children:[w.jsx("input",{className:Ua.searchInput,placeholder:e,onChange:s,value:l}),w.jsx("button",{className:Ua.formButton,children:w.jsx(YI,{})})]})]})}const KI="_layout_11xsl_1",ZI={layout:KI},QI="_layout_1hm1o_1",JI="_clickedLabel_1hm1o_11",ek="_dropdownButton_1hm1o_19",tk="_clickedButton_1hm1o_63",nk="_undisplay_1hm1o_85",rk="_clickedDropdownList_1hm1o_93",ik="_clickedItem_1hm1o_129",sk="_dropdownItem_1hm1o_131",ak="_rectButton_1hm1o_173",Ha={layout:QI,clickedLabel:JI,dropdownButton:ek,clickedButton:tk,undisplay:nk,clickedDropdownList:rk,clickedItem:ik,dropdownItem:sk,rectButton:ak};function ok({title:t,dropdownItems:e,isOpen:n,filterKey:r,onOpen:i,onSetFilter:s,shape:l="round"}){const[d,h]=z.useState(e[0].label),{isMobile:m}=A2(),b=C=>{h(C.label),s(E=>({...E,[r]:C.value})),i()};return w.jsxs("div",{className:Ha.layout,children:[w.jsxs("button",{className:`${Ha.dropdownButton} ${n&&Ha.clickedButton} ${l==="rect"?Ha.rectButton:""}`,onClick:i,children:[!m&&`${t} - `,w.jsx("span",{className:`${d!==e[0].label&&Ha.clickedLabel}`,children:d})]}),w.jsx("ul",{className:`${n&&Ha.clickedDropdownList} ${n&&Ha.undisplay}`,children:n&&e.map(C=>w.jsx("li",{className:`${Ha.dropdownItem} ${C.label===d&&Ha.clickedItem}`,onClick:()=>{b(C)},children:C.label},C.label))})]})}function Of({labels:t,filterList:e,onSetFilter:n,shape:r="round"}){const[i,s]=z.useState(null),l=d=>{s(i===d?null:d)};return w.jsx("div",{className:ZI.layout,children:e.map((d,h)=>w.jsx(ok,{title:d.label,dropdownItems:d.options,filterKey:d.key,isOpen:h===i,onOpen:()=>{l(h)},onSetFilter:n,shape:r},d.key))})}const lk=[{key:"sort",label:"",options:[{label:"",value:"latest"},{label:"",value:"ending"},{label:"",value:"popular"}]},{key:"region",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"category",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"status",label:" ",options:[{label:"",value:"exhibited"},{label:"",value:"ended"},{label:"",value:"scheduled"},{label:"",value:""}]}],ck="_countParagraph_1ppwl_1",uk="_counts_1ppwl_11",RC={countParagraph:ck,counts:uk};function Mf({num:t,label:e}){return w.jsxs("p",{className:RC.countParagraph,children:[" ",w.jsx("strong",{className:RC.counts,children:t})," ",e,"  "]})}const dk="_paginationContainer_7tpp6_1",fk="_sideButtonContainer_7tpp6_11",hk="_pageNumbersContainer_7tpp6_19",pk="_pageButton_7tpp6_33",mk="_active_7tpp6_57",jo={paginationContainer:dk,sideButtonContainer:fk,pageNumbersContainer:hk,pageButton:pk,active:mk};function Du({currentPage:t,onPageChange:e,totalItems:n,itemsPerPage:r=10}){const i=Math.ceil(n/r),s=gk(t,i,5);return w.jsxs("div",{className:jo.paginationContainer,children:[w.jsx("div",{className:jo.sideButtonContainer,children:w.jsx("button",{onClick:()=>e(t-1),className:jo.pageButton,disabled:t===1,children:"<"})}),w.jsx("div",{className:jo.pageNumbersContainer,children:s.map(l=>w.jsx("button",{onClick:()=>e(l),className:`${jo.pageButton} ${t===l?jo.active:""}`,children:l},l))}),w.jsx("div",{className:jo.sideButtonContainer,children:w.jsx("button",{onClick:()=>e(t+1),className:jo.pageButton,disabled:t===i,children:">"})})]})}const gk=(t,e,n)=>{const r=Math.floor(n/2);let i=Math.max(t-r,1),s=Math.min(i+n-1,e);return s-i+1<n&&(i=Math.max(s-n+1,1)),Array.from({length:s-i+1},(l,d)=>i+d)},Bu=(t=10,e)=>{const[n,r]=z.useState(1),i=Array.isArray(e)?e:[],s=(n-1)*t,l=i.slice(s,s+t);return{currentPage:n,setCurrentPage:r,pageItems:l}},xk="_exhibitionCardLayout_1gfqp_1",yk="_statusContainer_1gfqp_37",bk="_ongoing_1gfqp_73",vk="_imageBox_1gfqp_125",wk="_exhibitionImage_1gfqp_133",Ck="_favButton_1gfqp_173",_k="_locButton_1gfqp_195",Sk="_exhibitionTitle_1gfqp_281",Ek="_infoContainer_1gfqp_299",Ak="_subParagraph_1gfqp_307",ls={exhibitionCardLayout:xk,statusContainer:yk,ongoing:bk,imageBox:vk,exhibitionImage:wk,favButton:Ck,locButton:_k,exhibitionTitle:Sk,infoContainer:Ek,subParagraph:Ak},Tk=(t,e)=>{const n=new Date,r=new Date(t),i=new Date(e);return n<r?"upcoming":n>i?"ended":"ongoing"},Nk="_layout_cdrx9_1",Ok="_container_cdrx9_33",Mk="_header_cdrx9_53",Rk="_map_cdrx9_69",Ik="_title_cdrx9_79",kk="_closeButton_cdrx9_93",Dk="_icon_cdrx9_103",Bk="_infoContainer_cdrx9_117",Lk="_infoSpan_cdrx9_133",jk="_infoParagraph_cdrx9_147",Pk="_buttonField_cdrx9_157",zk="_locateButton_cdrx9_173",Fk="_button_cdrx9_157",Vi={layout:Nk,container:Ok,header:Mk,map:Rk,title:Ik,closeButton:kk,icon:Dk,infoContainer:Bk,infoSpan:Lk,infoParagraph:jk,buttonField:Pk,locateButton:zk,button:Fk};function Uk(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"},child:[]}]})(t)}function Hk(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M307 34.8c-11.5 5.1-19 16.6-19 29.2l0 64-112 0C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96l96 0 0 64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"},child:[]}]})(t)}function Vk(t){return ar({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(t)}const D2=({lat:t,lng:e,id:n,results:r,zoomLevel:i=15,title:s,location:l})=>{const d=z.useRef(null),h=Yt(),m=z.useRef([]),b=(C,E)=>`
                <div style="
                  display: flex;
                  flex-direction: column;
                  align-items: center;
                  width: 15rem;
                  height: 10rem;
                ">
                  <div style="
                    width: 2rem;
                    aspect-ratio: 1 / 1;
                    background-color: rgb(229, 115, 115);
                    border-radius: 50%;
                    border: 0.3rem solid white;
                    box-shadow: rgba(0, 0, 0, 0.3) 0 0.2rem 0.5rem;
                    margin-bottom: 0.5rem;
                  " >
                  </div>
                  <div style="
                    width: 100%;
                    padding: 0.8rem 1.2rem;
                    border-radius: 0.4rem;
                    background-color: #fff;
                    color: #333;
                    font-size: 1.4rem;
                    font-weight: 600;
                    text-align: center;
                  ">
                    ${C}
                    <div style="
                      padding-top: 1rem;
                      color: #666;
                      font-size: 1.2rem;
                      text-align: center;
                  ">${E}</div>
                  </div>
                </div>
              `;return z.useEffect(()=>{var A;const C=document.getElementById(n);if(!((A=window.naver)!=null&&A.maps)||!C||t==null||e==null)return;const E=new naver.maps.Map(C,{center:new naver.maps.LatLng(t,e),zoom:i});if(d.current=E,m.current.forEach(T=>T.setMap(null)),m.current=[],s&&l)new naver.maps.Marker({position:new naver.maps.LatLng(t,e),map:E,title:s,icon:{content:b(s,l)}});else{const T=new naver.maps.Marker({position:new naver.maps.LatLng(t,e),map:d.current,title:" "});m.current.push(T)}return r&&r.length>0&&r.map(({gallery_name:T,gallery_latitude:R,gallery_longitude:I,gallery_address:D,id:F})=>{const P=new naver.maps.LatLng(R,I),q=new naver.maps.Marker({position:P,map:d.current,title:T,icon:{content:b(T,D)}});naver.maps.Event.addListener(q,"click",()=>{h(`/galleries/${F}`)}),m.current.push(q)}),()=>{const T=d.current;T&&T.getElement()&&T.destroy(),d.current=null}},[n,t,e,r,h,i,s,l]),d};function $k({item:t,onClose:e}){const{id:n,exhibition_title:r,exhibition_location:i,exhibition_start_date:s,exhibition_end_date:l,exhibition_start_time:d,exhibition_end_time:h,exhibition_organization:m,exhibition_price:b}=t,C=[{key:"location",label:"",content:i},{key:"date",label:"",content:`${s} ~ ${l}`},{key:"time",label:"",content:`${d} ~ ${h}`},{key:"closedDay",label:"",content:m.closed_day},{key:"price",label:"",content:b}];return D2({lat:m.latitude,lng:m.longitude,id:`exhibition-${n}-map`,title:r,location:i}),w.jsx("div",{className:Vi.layout,children:w.jsxs("div",{className:Vi.container,children:[w.jsxs("div",{className:Vi.header,children:[w.jsx("h4",{className:Vi.title,children:r}),w.jsx("button",{className:Vi.closeButton,onClick:e,children:w.jsx(Vk,{className:Vi.icon})})]}),w.jsx("div",{className:Vi.map,id:`exhibition-${n}-map`}),w.jsx("div",{className:Vi.infoContainer,children:C.map(({key:E,label:A,content:T})=>w.jsxs("div",{children:[w.jsx("span",{className:Vi.infoSpan,children:A}),w.jsx("p",{className:Vi.infoParagraph,children:T})]},E))}),w.jsxs("div",{className:Vi.buttonField,children:[w.jsx("button",{className:Vi.locateButton,onClick:()=>{alert("  .")},children:""}),w.jsx("button",{className:Vi.button,onClick:e,children:""})]})]})})}const fE=({color:t="#376AED"})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"59",viewBox:"0 0 52 59",fill:"none",children:[w.jsx("g",{filter:"url(#filter0_d_26_772)",children:w.jsx("path",{d:"M22.3108 11.6219C20.3417 13.591 20.3417 16.7835 22.3108 18.7526L29.9481 26.3899L30.0006 26.3374L30.0532 26.39L37.6906 18.7526C39.6596 16.7835 39.6596 13.5911 37.6906 11.622C35.7215 9.65294 32.529 9.65294 30.56 11.622L30.3543 11.8277C30.159 12.023 29.8424 12.023 29.6472 11.8277L29.4414 11.6219C27.4723 9.65288 24.2798 9.65288 22.3108 11.6219Z",fill:t})}),w.jsx("defs",{children:w.jsxs("filter",{id:"filter0_d_26_772",x:"0.833984",y:"0.145142",width:"58.334",height:"56.2449",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[w.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),w.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.jsx("feOffset",{dy:"10"}),w.jsx("feGaussianBlur",{stdDeviation:"10"}),w.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),w.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),w.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_26_772"}),w.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_26_772",result:"shape"})]})})]}),hE=()=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"59",viewBox:"0 0 52 59",fill:"none",children:[w.jsx("g",{filter:"url(#filter0_d_26_1175)",children:w.jsx("path",{d:"M22.3108 12.6219C20.3417 14.591 20.3417 17.7835 22.3108 19.7526L29.9481 27.3899L30.0006 27.3374L30.0532 27.39L37.6906 19.7526C39.6596 17.7835 39.6596 14.5911 37.6906 12.622C35.7215 10.6529 32.529 10.6529 30.56 12.622L30.3543 12.8277C30.159 13.023 29.8424 13.023 29.6472 12.8277L29.4414 12.6219C27.4723 10.6529 24.2798 10.6529 22.3108 12.6219Z",stroke:"#222",strokeWidth:"1.5",shapeRendering:"crispEdges"})}),w.jsx("defs",{children:w.jsxs("filter",{id:"filter0_d_26_1175",x:"0.0839844",y:"0.395142",width:"59.834",height:"58.0555",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[w.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),w.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),w.jsx("feOffset",{dy:"10"}),w.jsx("feGaussianBlur",{stdDeviation:"10"}),w.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),w.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),w.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_26_1175"}),w.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_26_1175",result:"shape"})]})})]}),pE=()=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"19",viewBox:"0 0 16 19",fill:"none",children:[w.jsx("path",{d:"M8 17.4785C11.25 14.2785 14.5 11.4132 14.5 7.87852C14.5 4.34389 11.5899 1.47852 8 1.47852C4.41015 1.47852 1.5 4.34389 1.5 7.87852C1.5 11.4132 4.75 14.2785 8 17.4785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("path",{d:"M8 10.2785C9.34623 10.2785 10.4375 9.20404 10.4375 7.87852C10.4375 6.55304 9.34623 5.47852 8 5.47852C6.65377 5.47852 5.5625 6.55304 5.5625 7.87852C5.5625 9.20404 6.65377 10.2785 8 10.2785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]});function mE({exhibitionItem:t,onEvent:e}){const{id:n,exhibition_title:r,exhibition_category:i,exhibition_poster:s,exhibition_location:l,exhibition_start_date:d,exhibition_end_date:h,is_liked:m}=t,[b,C]=z.useState(!1),E=Yt(),A=Tk(d,h),T=A==="ongoing"?" ":A==="upcoming"?" ":" ",R=()=>{C(F=>!F),document.body.style.overflow="hidden"},I=()=>{C(F=>!F),document.body.style.overflow="unset"},D=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&E("/login");try{m===!0?await wn.delete("/api/likes",{data:{liked_id:n,liked_type:"exhibition"}}):await wn.post("/api/likes",{liked_id:n,liked_type:"exhibition"}),await e()}catch(F){console.error(F)}};return w.jsxs("div",{className:ls.exhibitionCardLayout,children:[b&&w.jsx($k,{item:t,onClose:I}),w.jsxs(xn,{className:ls.layout,to:`/exhibitions/${n}`,children:[w.jsx("div",{className:`${ls.statusContainer} ${A==="ongoing"&&ls.ongoing}`,children:T}),w.jsx("div",{className:ls.imageBox,children:w.jsx("img",{className:ls.exhibitionImage,src:s||"/placeholder.jpg",alt:"  "})}),w.jsx("button",{className:ls.favButton,onClick:F=>{F.preventDefault(),F.stopPropagation(),D()},children:m?w.jsx(fE,{}):w.jsx(hE,{})}),w.jsx("button",{className:ls.locButton,onClick:F=>{F.preventDefault(),F.stopPropagation(),R()},children:w.jsx(pE,{})}),w.jsxs("div",{className:ls.infoContainer,children:[w.jsx("h3",{className:ls.exhibitionTitle,children:r}),w.jsxs("p",{className:ls.subParagraph,children:[i," | ",l||" "]}),w.jsxs("p",{className:ls.subParagraph,children:[d," ~ ",h]})]})]})]})}function Gk(){const[t,e]=z.useState([]),[n,r]=z.useState(!1),{currentPage:i,setCurrentPage:s,pageItems:l}=Bu(12,t),[d,h]=z.useState({sort:"latest",region:"",category:"",status:"exhibited",liked_only:0}),m=Yt(),[b,C]=z.useState(""),E=I=>{C(I.target.value)},A=()=>{!localStorage.getItem("ACCESS_TOKEN")&&m("/login"),h(I=>({...I,liked_only:!I.liked_only}))},T=async()=>{try{r(!0);const I={...d,search:b},D=await wn.get("/api/exhibitions",{params:I});e(D.data)}catch(I){console.error("   :",I)}finally{r(!1)}};z.useEffect(()=>{T()},[d]);const R=["","","",""];return w.jsxs("div",{className:MC.layout,children:[w.jsx(Nf,{title:"",placeholder:"   ",isFav:d.liked_only,onEvent:T,onFav:A,onSearch:E,value:b}),w.jsx(Of,{labels:R,filterList:lk,onSetFilter:h}),w.jsx(Mf,{num:t.length,label:""}),t.length===0&&w.jsx("div",{children:"  ."}),w.jsx("div",{className:MC.gridContainer,children:l.map(I=>w.jsx(mE,{exhibitionItem:I,onEvent:T},I.id))}),w.jsx(Du,{currentPage:i,onPageChange:s,totalItems:t.length})]})}const qk="_layout_15wjm_1",Wk="_gridContainer_15wjm_19",IC={layout:qk,gridContainer:Wk},Xk=[{key:"category",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"nation",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],Yk="_layout_5jxtw_1",Kk="_artistImage_5jxtw_35",Zk="_artistNameTitle_5jxtw_63",Qk="_subParagraph_5jxtw_91",Xh={layout:Yk,artistImage:Kk,artistNameTitle:Zk,subParagraph:Qk};function gE({artistItem:t}){const{id:e,artist_name:n,artist_category:r,artist_image:i,artist_nation:s}=t;return w.jsxs(xn,{className:Xh.layout,to:`/artists/${e}`,children:[w.jsx("img",{className:Xh.artistImage,src:i,alt:"  "}),w.jsx("h3",{className:Xh.artistNameTitle,children:n}),w.jsxs("p",{className:Xh.subParagraph,children:[r," | ",s]})]})}function Jk(){const[t,e]=z.useState([]),[n,r]=z.useState(!1),{currentPage:i,setCurrentPage:s,pageItems:l}=Bu(12,t),[d,h]=z.useState({category:"",nation:"",birthDecade:"",liked_only:0}),m=Yt(),[b,C]=z.useState(""),E=()=>{!localStorage.getItem("ACCESS_TOKEN")&&m("/login"),h(R=>({...R,liked_only:!R.liked_only}))},A=R=>{C(R.target.value)},T=async()=>{const R={...d,search:b};try{r(!0);const I=await Wt.get("/api/artist",{params:R});e(I.data)}catch(I){throw new Error(I)}finally{r(!1)}};return z.useEffect(()=>{T()},[d]),w.jsxs("div",{className:IC.layout,children:[w.jsx(Nf,{title:"",placeholder:"   ",isFav:d.liked_only,onEvent:T,onFav:E,onSearch:A,value:b}),w.jsx(Of,{filterList:Xk,onSetFilter:h}),w.jsx(Mf,{num:t.length,label:""}),n&&w.jsx("div",{children:"   .."}),t.length===0&&w.jsx("div",{children:"  ."}),w.jsx("div",{className:IC.gridContainer,children:l.map(R=>w.jsx(gE,{artistItem:R},R.id))}),w.jsx(Du,{currentPage:i,onPageChange:s,totalItems:t.length})]})}const e9="_layout_15wjm_1",t9="_gridContainer_15wjm_19",kC={layout:e9,gridContainer:t9},n9=[{key:"status",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"regions",label:"",options:[{label:"",value:""},{label:"",value:""},{label:" ",value:" "},{label:"  ",value:"  "},{label:" ",value:" "},{label:" ",value:" "},{label:" ",value:" "},{label:"",value:""},{label:"",value:""}]},{key:"type",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],r9="_layout_72maw_1",i9="_linkContainer_72maw_31",s9="_galleryImage_72maw_41",a9="_infoContainer_72maw_65",o9="_favButton_72maw_73",l9="_galleryTitle_72maw_95",c9="_addressParagraph_72maw_115",Po={layout:r9,linkContainer:i9,galleryImage:s9,infoContainer:a9,favButton:o9,galleryTitle:l9,addressParagraph:c9};function B2({galleryItem:t,onEvent:e}){const{id:n,gallery_name:r,gallery_image:i,gallery_address:s,gallery_start_time:l,gallery_end_time:d,is_liked:h}=t,m=E=>{if(E)return E.slice(0,5)},b=Yt(),C=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&b("/login");try{h===!0?await wn.delete("/api/likes",{data:{liked_id:n,liked_type:"gallery"}}):await wn.post("/api/likes",{liked_id:n,liked_type:"gallery"}),await e()}catch(E){console.error(E)}};return w.jsx("div",{className:Po.layout,children:w.jsxs(xn,{className:Po.linkContainer,to:`/galleries/${n}`,children:[w.jsx("img",{className:Po.galleryImage,src:i,alt:`${r}  `}),w.jsx("button",{className:Po.favButton,onClick:E=>{E.preventDefault(),E.stopPropagation(),C()},children:h?w.jsx(fE,{}):w.jsx(hE,{})}),w.jsxs("div",{className:Po.infoContainer,children:[w.jsx("h3",{className:Po.galleryTitle,children:r}),w.jsx("p",{className:Po.addressParagraph,children:s}),w.jsxs("p",{className:Po.addressParagraph,children:[m(l)," ~ ",m(d)]})]})]})})}function u9(){const[t,e]=z.useState([]),[n,r]=z.useState(!1),{currentPage:i,setCurrentPage:s,pageItems:l}=Bu(12,t),[d,h]=z.useState({status:"",regions:"",type:"",liked_only:0}),m=Yt(),[b,C]=z.useState(""),E=R=>{C(R.target.value)},A=()=>{!localStorage.getItem("ACCESS_TOKEN")&&m("/login"),h(R=>({...R,liked_only:!R.liked_only}))},T=async()=>{try{r(!0);const R={...d,regions:d.regions.replace(/\s+/g,","),search:b},I=await Wt.get("/api/galleries",{params:R});e(I.data)}catch(R){throw new Error(R)}finally{r(!1)}};return z.useEffect(()=>{T()},[d]),w.jsxs("div",{className:kC.layout,children:[w.jsx(Nf,{title:"",placeholder:" ",isFav:d.liked_only,onEvent:T,onFav:A,onSearch:E,value:b}),w.jsx(Of,{filterList:n9,onSetFilter:h}),w.jsx(Mf,{num:t.length,label:""}),t.length===0&&w.jsx("div",{children:"  ."}),w.jsx("div",{className:kC.gridContainer,children:l.map(R=>w.jsx(B2,{galleryItem:R,onEvent:T},R.id))}),w.jsx(Du,{currentPage:i,onPageChange:s,totalItems:t.length})]})}const d9="_layout_1r4jo_1",f9="_registerTitle_1r4jo_17",h9="_subParagraph_1r4jo_29",p9="_form_1r4jo_39",m9="_submitButton_1r4jo_57",kd={layout:d9,registerTitle:f9,subParagraph:h9,form:p9,submitButton:m9},z1=t=>{const[e,n]=z.useState(t);return{data:e,handleChange:i=>{n(s=>({...s,[i.target.name]:i.target.value}))},setData:n}},g9="_input_vwmpv_13",x9={input:g9};function fa({type:t="text",name:e,placeholder:n,value:r,onChange:i}){return w.jsx("input",{className:x9.input,name:e,type:t,placeholder:n,value:r,onChange:i})}const y9="_layout_13jvg_1",b9="_radioLabel_13jvg_11",v9="_radioInput_13jvg_21",Mg={layout:y9,radioLabel:b9,radioInput:v9};function DC({name:t,value:e,label:n,onChange:r}){return w.jsxs("div",{className:Mg.layout,children:[w.jsx("label",{className:Mg.radioLabel,children:n}),w.jsx("input",{className:Mg.radioInput,type:"radio",name:t,value:e,onChange:r})]})}const w9="_layout_3526f_1",C9="_inputTitle_3526f_13",_9="_inputContainer_3526f_25",S9="_errorParagraph_3526f_35",Yh={layout:w9,inputTitle:C9,inputContainer:_9,errorParagraph:S9};function Dd({children:t,title:e,isValid:n,errorText:r}){return w.jsxs("div",{className:Yh.layout,children:[w.jsx("h3",{className:Yh.inputTitle,children:e}),w.jsx("div",{className:Yh.inputContainer,children:t}),!n&&w.jsx("div",{className:Yh.errorParagraph,children:r})]})}function E9(){const{data:t,handleChange:e}=z1({login_id:"",login_pwd:"",user_email:"",user_name:"",admin_flag:0}),n=Yt(),r=Dr(),i=m=>/^(?=.*[A-Za-z])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/.test(m),s=m=>/^[A-Za-z0-9]{6,20}$/.test(m),l=m=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.]+\.[A-Za-z]{2,}$/.test(m),d=()=>{const{login_id:m,login_pwd:b,user_email:C,user_name:E,admin_flag:A}=t;return s(m)&&i(b)&&l(C)&&E.trim()!==""&&A!==""},h=async m=>{m.preventDefault();try{await Wt.post("/api/auth/register",t),alert(" "),n("/login",{state:{from:r.pathname}})}catch(b){throw new Error(b)}};return w.jsxs("div",{className:kd.layout,children:[w.jsx("h1",{className:kd.registerTitle,children:""}),w.jsx("p",{className:kd.subParagraph,children:"  "}),w.jsxs("form",{className:kd.form,onSubmit:h,children:[w.jsx(Dd,{title:"",isValid:t.login_id===""?!0:s(t.login_id),errorText:" 6~20     ",children:w.jsx(fa,{name:"login_id",placeholder:" (6~20 , )",placeholder:" (6~20 , )",onChange:e,value:t.login_id})}),w.jsx(Dd,{title:"",isValid:t.login_pwd===""?!0:i(t.login_pwd),errorText:"8~20 , ,     ",children:w.jsx(fa,{name:"login_pwd",placeholder:" (8~16 ++)",placeholder:" (8~16 ++)",type:"password",onChange:e,value:t.login_pwd})}),w.jsx(Dd,{title:"",children:w.jsx(fa,{name:"user_name",placeholder:" ",onChange:e,value:t.user_name})}),w.jsx(Dd,{title:"",isValid:t.user_email===""?!0:l(t.user_email),errorText:"   ",children:w.jsx(fa,{name:"user_email",placeholder:" ",onChange:e,value:t.user_email})}),w.jsxs(Dd,{title:" ?",children:[w.jsx(DC,{label:"",name:"admin_flag",value:1,onChange:e}),w.jsx(DC,{label:"",name:"admin_flag",value:0,onChange:e})]}),w.jsx("button",{className:kd.submitButton,disabled:!d(),children:""})]})]})}const A9="_layout_1wihj_1",T9="_mainTab_1wihj_31",N9="_tabButton_1wihj_49",O9="_active_1wihj_85",Kh={layout:A9,mainTab:T9,tabButton:N9,active:O9},M9="_layout_1sugu_1",R9="_pageTitle_1sugu_15",I9="_editLink_1sugu_33",Rg={layout:M9,pageTitle:R9,editLink:I9};function k9(){const{user:t}=z.useContext(Tf);return t?w.jsxs("div",{className:Rg.layout,children:[w.jsx("h1",{className:Rg.pageTitle,children:""}),w.jsxs(xn,{className:Rg.editLink,to:"/mypage/edit",children:[t.user_name," , "]})]}):w.jsx("div",{children:"  "})}const D9="_header_en5wv_1",B9="_countText_en5wv_9",L9="_count_en5wv_9",j9="_tabButtonContainer_en5wv_45",P9="_tabButton_en5wv_45",z9="_active_en5wv_77",F9="_cardListSection_en5wv_87",U9="_cardList_en5wv_87",H9="_emptyText_en5wv_107",Va={header:D9,countText:B9,count:L9,tabButtonContainer:j9,tabButton:P9,active:z9,cardListSection:F9,cardList:U9,emptyText:H9},Ig=[{label:"",key:"exhibition"},{label:"",key:"gallery"},{label:"",key:"artwork"},{label:"",key:"artist"}];function V9(){var s,l;const[t,e]=z.useState({exhibition:[],gallery:[],artwork:[],artist:[]}),[n,r]=z.useState("exhibition");z.useEffect(()=>{(async()=>{try{const h=await wn.get("/api/users/me/likes"),{data:m}=h;e({exhibition:m.like_exhibitions||[],gallery:m.like_galleries||[],artist:m.like_artists||[],artwork:[]})}catch(h){console.log("like fetch err : ",h),e({exhibition:[],gallery:[],artwork:[],artist:[]})}})()},[]);const i=t[n]||[];return w.jsxs("div",{children:[w.jsxs("div",{className:Va.header,children:[w.jsxs("p",{className:Va.countText,children:["",w.jsx("span",{className:Va.count,children:i.length}),""," ",(s=Ig.find(d=>d.key===n))==null?void 0:s.label," ."]}),w.jsx("div",{className:Va.tabButtonContainer,children:Ig.map(d=>w.jsx("button",{className:`${Va.tabButton} ${n===d.key?Va.active:""}`,onClick:()=>r(d.key),children:d.label},d.key))})]}),w.jsx("section",{className:Va.cardListSection,children:w.jsx("div",{className:Va.cardList,children:i.length>0?n==="exhibition"?i.map((d,h)=>w.jsx(mE,{exhibitionItem:d},`exhibition-${d.id}-${h}`)):n==="gallery"?i.map((d,h)=>w.jsx(B2,{galleryItem:d},`gallery-${d.id}-${h}`)):n==="artist"?i.map((d,h)=>w.jsx(gE,{artistItem:d},`artist-${d.id}-${h}`)):null:w.jsxs("p",{className:Va.emptyText,children:[" ",(l=Ig.find(d=>d.key===n))==null?void 0:l.label," ."]})})})]})}const $9="_cardContainer_9hwuh_1",G9="_imgContainer_9hwuh_33",q9="_image_9hwuh_41",W9="_artistImage_9hwuh_53",X9="_contents_9hwuh_69",Y9="_title_9hwuh_83",K9="_info_9hwuh_95",Z9="_statusContainer_9hwuh_109",Q9="_statusCompleted_9hwuh_123",J9="_statusReserved_9hwuh_137",eD="_statusCanceled_9hwuh_153",tD="_cancel_9hwuh_173",nD="_action_9hwuh_205",rD="_btn_9hwuh_215",iD="_catalogRegisteredDate_9hwuh_247",cn={cardContainer:$9,imgContainer:G9,image:q9,artistImage:W9,contents:X9,title:Y9,info:K9,statusContainer:Z9,statusCompleted:Q9,statusReserved:J9,statusCanceled:eD,cancel:tD,action:nD,btn:rD,catalogRegisteredDate:iD};function xE({item:t,onQR:e,onCancel:n,onGoDetail:r,onReservation:i,type:s}){if(!t)return null;const l=()=>{const{likeType:m}=t;let b="",C="",E="",A=cn.image;if(m==="exhibition")b=t.exhibition_poster,C=t.exhibition_title,E=`${t.exhibition_location}<br />${t.exhibition_start_date} ~ ${t.exhibition_end_date}`;else if(m==="gallery")b=t.gallery_image,C=t.gallery_name,E=t.gallery_address;else if(m==="artist")b=t.artist_image,C=t.artist_name,E=`${t.artist_category} / ${t.artist_nation}`,A=cn.artistImage;else return null;return w.jsxs("div",{onClick:r,className:cn.cardContainer,children:[w.jsx("div",{className:cn.imgContainer,children:w.jsx("img",{src:b,alt:C,className:`${cn.image} ${A}`})}),w.jsxs("div",{className:cn.contents,children:[w.jsx("h3",{className:cn.title,children:C}),w.jsx("p",{className:cn.info,dangerouslySetInnerHTML:{__html:E}})]})]})},d=()=>{var F,P;const{exhibition_poster:m,exhibition_title:b="  ",exhibition_location:C="  ",reservation_status:E="",id:A=" ",reservation_datetime:T}=t,R={reserved:{label:"",className:cn.statusReserved},used:{label:"",className:cn.statusCompleted},canceled:{label:"",className:cn.statusCanceled}},I=((F=R[E])==null?void 0:F.label)||"  ",D=((P=R[E])==null?void 0:P.className)||"";return w.jsxs("div",{className:cn.cardContainer,onClick:i,children:[w.jsx("div",{className:cn.imgContainer,children:w.jsx("img",{src:m,alt:b,className:cn.image})}),w.jsxs("div",{className:cn.contents,children:[w.jsx("h3",{className:cn.title,children:b}),w.jsxs("p",{className:cn.info,children:[C,w.jsx("br",{}),T.split(" ")[0],w.jsx("br",{}),": ",A]}),w.jsxs("div",{className:cn.statusContainer,children:[w.jsx("span",{className:D,children:I}),w.jsxs("div",{className:cn.action,children:[w.jsxs("button",{className:cn.btn,onClick:q=>{q.stopPropagation(),r()},children:[" ",""]}),E==="reserved"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{className:cn.btn,onClick:q=>{q.stopPropagation(),e(t.exhibition_id)},children:""}),w.jsx("button",{className:cn.cancel,onClick:q=>{q.stopPropagation(),n()},children:""})]})]})]})]})]})},h=()=>{const{bookDetail:m,book_poster:b,create_dtm:C=""}=t,{book:{book_title:E="  "}={},exhibition:{exhibition_location:A="   "}={},gallery:{gallery_name:T="  "}={},exhibition:{exhibition_start_date:R=""}={},exhibition:{exhibition_end_date:I=""}={}}=(m==null?void 0:m.book)||{},D=R&&I?`${R} ~ ${I}`:"",F=C?new Date(C).toISOString().slice(0,10):"";return w.jsxs("div",{onClick:r,className:cn.cardContainer,children:[w.jsx("div",{className:cn.imgContainer,children:w.jsx("img",{src:b,alt:E,className:cn.image})}),w.jsxs("div",{className:cn.contents,children:[w.jsx("h3",{className:cn.title,children:E}),w.jsxs("p",{className:cn.info,children:[T," / ",A,w.jsx("br",{}),D]}),w.jsxs("p",{className:cn.catalogRegisteredDate,children:[": ",F]})]})]})};switch(s){case"like":return l();case"reservation":return d();case"catalog":return h();default:return null}}const sD="_header_1tuse_1",aD="_countText_1tuse_15",oD="_count_1tuse_15",lD="_registerCatalogBtn_1tuse_41",cD="_cardList_1tuse_71",uD="_emptyText_1tuse_83",zl={header:sD,countText:aD,count:oD,registerCatalogBtn:lD,cardList:cD,emptyText:uD};function dD(){const[t,e]=z.useState([]),n=Yt(),r=()=>{n("/scan")},i=l=>{n(`/catalog/${l}`)},s=()=>{console.log("QR  or ")};return z.useEffect(()=>{async function l(){try{const h=(await wn.get("/api/users/me/purchases")).data,m=await Promise.all(h.map(async b=>{try{const C=await wn.get(`/api/books/${b.book_id}`);return{...b,bookDetail:C.data}}catch(C){return console.error(`Book ${b.book_id}    : `,C),{...b,bookDetail:null}}}));console.log(m),e(m)}catch(d){console.error("   : ",d),e([])}}l()},[]),w.jsxs("div",{className:zl.myCatalog,children:[w.jsxs("div",{className:zl.header,children:[w.jsx("div",{children:w.jsxs("p",{className:zl.countText,children:["  ",w.jsx("span",{className:zl.count,children:t.length})]})}),w.jsx("button",{className:zl.registerCatalogBtn,onClick:r,children:"  "})]}),w.jsx("section",{children:w.jsx("div",{className:zl.cardList,children:t.length>0?t.map(l=>w.jsx(xE,{item:l,onGoDetail:()=>i(l.id),onQR:s,onCancel:null,type:"catalog"},l.id)):w.jsxs("p",{className:zl.emptyText,children:["   .",w.jsx("br",{})," QR "]})})})]})}const fD="_cardList_12369_1",hD="_header_12369_13",pD="_countText_12369_27",mD="_count_12369_27",gD="_emptyText_12369_53",nu={cardList:fD,header:hD,countText:pD,count:mD,emptyText:gD},xD=[{label:"",key:"dateSort",options:[{label:"",value:"latest"},{label:"",value:"oldest"}]},{label:"",key:"statusFilter",options:[{label:"",value:"all"},{label:"",value:"reserved"},{label:"",value:"used"},{label:"",value:"canceled"}]}],yD="_modalOverlay_1kfbz_1",bD="_modalContainer_1kfbz_27",vD="_modalHeader_1kfbz_53",wD="_closeButton_1kfbz_71",CD="_imageContainer_1kfbz_95",_D="_checkIconContainer_1kfbz_127",SD="_confirmText_1kfbz_161",ED="_visitDate_1kfbz_177",AD="_infoButton_1kfbz_191",$a={modalOverlay:yD,modalContainer:bD,modalHeader:vD,closeButton:wD,imageContainer:CD,checkIconContainer:_D,confirmText:SD,visitDate:ED,infoButton:AD},TD=({isOpen:t,onClose:e,exhibitionTitle:n,imageUrl:r,visitDate:i,onViewExhibition:s})=>t?w.jsx("div",{className:$a.modalOverlay,children:w.jsxs("div",{className:$a.modalContainer,children:[w.jsxs("div",{className:$a.modalHeader,children:[w.jsx("button",{className:$a.closeButton,onClick:e,children:w.jsx(dE,{})}),w.jsx("div",{children:n})]}),w.jsx("div",{className:$a.imageContainer,children:w.jsx("img",{src:r,alt:n})}),w.jsx("div",{className:$a.checkIconContainer,children:w.jsx(I2,{})}),w.jsx("div",{className:$a.confirmText,children:"  "}),w.jsxs("div",{className:$a.visitDate,children:[" : ",i]}),w.jsx("button",{className:$a.infoButton,onClick:s,children:"  "})]})}):null;function ND(){const[t,e]=z.useState([]),[n,r]=z.useState({dateSort:"latest",statusFilter:"all"}),i=Yt(),[s,l]=z.useState(!1),[d,h]=z.useState({id:"",title:"",imageUrl:""});z.useEffect(()=>{if(localStorage.getItem("showAttendanceModal")==="true"){const R=localStorage.getItem("exhibitionInfo");if(R){try{const I=JSON.parse(R);h(I),l(!0)}catch(I){console.error("   :",I),h({id:"",title:" ",imageUrl:"  URL"}),l(!1)}localStorage.removeItem("showAttendanceModal")}else l(!1)}},[]),z.useEffect(()=>{(async()=>{try{const R=await wn.get("/api/users/me/exhibitions"),{data:I}=R;e(I)}catch(R){console.error("  :",R)}})()},[]);const m=z.useMemo(()=>{let T=t;return n.statusFilter!=="all"&&(T=T.filter(R=>R.reservation_status===n.statusFilter)),T.sort((R,I)=>{const D=new Date(R.reservation_datetime),F=new Date(I.reservation_datetime);return n.dateSort==="latest"?F-D:D-F}),T},[t,n]);console.log(m);const b=()=>{l(!1),localStorage.removeItem("exhibitionInfo")},C=async T=>{if(window.confirm(" ?"))try{await instance.delete(`/api/reservations/${T}`),e(I=>I.map(D=>D.id===T?{...D,reservation_status:"canceled"}:D))}catch(I){console.error("  :",I)}},E=T=>{i(`/exhibitions/${T}`),localStorage.removeItem("exhibitionInfo")},A=T=>{const R={id:T.exhibition_id,title:T.exhibition_title,imageUrl:T.exhibition_poster};localStorage.setItem("exhibitionInfo",JSON.stringify(R)),localStorage.setItem("showAttendanceModal","true"),console.log("   : "),i(`/scan?itemId=${T.id}`)};return w.jsxs("div",{children:[w.jsxs("div",{className:nu.header,children:[w.jsxs("p",{className:nu.countText,children:[" "," ",w.jsx("span",{className:nu.count,children:m.length})]}),w.jsx("div",{className:nu.filterSection,children:w.jsx(Of,{filterList:xD,onSetFilter:r,shape:"rect"})})]}),w.jsx("section",{children:w.jsx("div",{className:nu.cardList,children:m.length>0?m.map(T=>w.jsx(xE,{item:T,status:T.reservation_status==="reserved",onReservation:()=>{i(`/reservationconfirm/${T.id}`)},onGoDetail:()=>E(T.exhibition_id),onCancel:()=>C(T.id),onQR:()=>A(T),type:"reservation"},T.id)):w.jsx("p",{className:nu.emptyText,children:"  ."})})}),s&&w.jsx(TD,{isOpen:s,onClose:b,exhibitionTitle:d.title,imageUrl:d.imageUrl,visitDate:new Date().toLocaleDateString(),onViewExhibition:()=>E(d.id)})]})}function OD(){const[t,e]=z.useState(""),n=["","MY","MY"];z.useEffect(()=>{const i=localStorage.getItem("showAttendanceModal"),s=localStorage.getItem("fromReservationModal");(i==="true"||s==="true")&&(e("MY"),localStorage.removeItem("fromReservationModal"))},[]);const r=()=>{switch(t){case"":return w.jsx(V9,{});case"MY":return w.jsx(ND,{});case"MY":return w.jsx(dD,{});default:return null}};return w.jsxs("div",{className:Kh.layout,children:[w.jsx(k9,{}),w.jsx("nav",{className:Kh.mainTab,children:n.map(i=>w.jsx("button",{className:`${Kh.tabButton} ${t===i?Kh.active:""}`,onClick:()=>e(i),children:i},i))}),r()]})}const MD="_container_14wg3_1",RD="_pageTitle_14wg3_17",ID="_profileCard_14wg3_29",kD="_infoRow_14wg3_173",DD="_infoLabel_14wg3_193",BD="_infoValue_14wg3_205",LD="_input_14wg3_215",jD="_changeButton_14wg3_231",PD="_profileStatsCard_14wg3_259",zD="_sectionTitle_14wg3_277",FD="_statsRow_14wg3_289",UD="_statsItem_14wg3_305",HD="_profileDetailsCard_14wg3_313",VD="_detailsRow_14wg3_329",$D="_detailsLabel_14wg3_351",GD="_detailsValue_14wg3_359",qD="_changeButtonSmall_14wg3_369",WD="_buttonField_14wg3_397",XD="_backBtn_14wg3_409",Ft={container:MD,pageTitle:RD,profileCard:ID,infoRow:kD,infoLabel:DD,infoValue:BD,input:LD,changeButton:jD,profileStatsCard:PD,sectionTitle:zD,statsRow:FD,statsItem:UD,profileDetailsCard:HD,detailsRow:VD,detailsLabel:$D,detailsValue:GD,changeButtonSmall:qD,buttonField:WD,backBtn:XD},YD="_modalOverlay_iiyfy_1",KD="_modalContainer_iiyfy_27",ZD="_modalHeader_iiyfy_51",QD="_closeButton_iiyfy_67",JD="_modalTitle_iiyfy_87",eB="_modalContent_iiyfy_105",tB="_passwordSection_iiyfy_121",nB="_sectionTitle_iiyfy_129",rB="_sectionDescription_iiyfy_141",iB="_form_iiyfy_155",sB="_formGroup_iiyfy_167",aB="_input_iiyfy_175",oB="_submitButton_iiyfy_209",ci={modalOverlay:YD,modalContainer:KD,modalHeader:ZD,closeButton:QD,modalTitle:JD,modalContent:eB,passwordSection:tB,sectionTitle:nB,sectionDescription:rB,form:iB,formGroup:sB,input:aB,submitButton:oB},lB=({isOpen:t,onClose:e,userInfo:n,onUpdateUserInfo:r})=>{const[i,s]=z.useState(""),[l,d]=z.useState(""),h=m=>{m.preventDefault()};return t?w.jsx("div",{className:ci.modalOverlay,children:w.jsxs("div",{className:ci.modalContainer,children:[w.jsxs("div",{className:ci.modalHeader,children:[w.jsx("button",{className:ci.closeButton,onClick:e,children:w.jsx(dE,{})}),w.jsx("div",{className:ci.modalTitle,children:" "})]}),w.jsx("div",{className:ci.modalContent,children:w.jsxs("div",{className:ci.passwordSection,children:[w.jsx("h3",{className:ci.sectionTitle,children:" "}),w.jsxs("p",{className:ci.sectionDescription,children:["    ",w.jsx("br",{}),"  ."]}),w.jsxs("form",{className:ci.form,onSubmit:h,children:[w.jsx("div",{className:ci.formGroup,children:w.jsx("input",{type:"password",placeholder:" ",className:ci.input,value:i,onChange:m=>s(m.target.value),required:!0})}),w.jsx("div",{className:ci.formGroup,children:w.jsx("input",{type:"password",placeholder:" ",className:ci.input,value:l,onChange:m=>d(m.target.value),required:!0})}),w.jsx("button",{className:ci.submitButton,type:"submit",children:" "})]})]})})]})}):null},cB=()=>{const{user:t,setUser:e}=z.useContext(Tf),[n,r]=z.useState(!1),[i,s]=z.useState(!1),[l,d]=z.useState(!1),[h,m]=z.useState(""),[b,C]=z.useState(""),E=Yt();if(!t)return w.jsx("div",{children:"  "});const A=()=>{r(!0)},T=()=>{r(!1)},R=()=>{s(!0),m(t.user_name)},I=()=>{d(!0),C(t.user_email)},D=$=>{m($.target.value)},F=$=>{C($.target.value)},P=async()=>{try{await Wt.put("/api/users/me",{...t,user_name:h}),e({...t,user_name:h}),s(!1)}catch($){console.error("  .",$)}},q=async()=>{try{await Wt.put("/api/users/me",{...t,user_email:b}),e({...t,user_email:b}),d(!1)}catch($){console.error("  .",$)}};return w.jsxs("div",{className:Ft.container,children:[w.jsx("h2",{className:Ft.pageTitle,children:""}),w.jsx("div",{className:Ft.profileCard,children:w.jsxs("div",{className:Ft.profileInfoDetails,children:[w.jsxs("div",{className:Ft.infoRow,children:[w.jsx("span",{className:Ft.infoLabel,children:""}),w.jsx("span",{className:Ft.infoValue,children:t.login_id||""}),w.jsx("button",{className:Ft.changeButtonSmall,onClick:A,children:" "})]}),w.jsxs("div",{className:Ft.infoRow,children:[w.jsx("span",{className:Ft.infoLabel,children:""}),i?w.jsxs(w.Fragment,{children:[w.jsx("input",{type:"text",className:Ft.input,value:h,onChange:D}),w.jsx("button",{className:Ft.changeButton,onClick:P,children:""})]}):w.jsxs(w.Fragment,{children:[w.jsx("span",{className:Ft.infoValue,children:t.user_name||""}),w.jsx("button",{className:Ft.changeButton,onClick:R,children:""})]})]}),w.jsxs("div",{className:Ft.infoRow,children:[w.jsx("span",{className:Ft.infoLabel,children:""}),l?w.jsxs(w.Fragment,{children:[w.jsx("input",{type:"email",className:Ft.input,value:b,onChange:F}),w.jsx("button",{className:Ft.changeButton,onClick:q,children:""})]}):w.jsxs(w.Fragment,{children:[w.jsx("span",{className:Ft.infoValue,children:t.user_email||"email@email.com"}),w.jsx("button",{className:Ft.changeButton,onClick:I,children:""})]})]})]})}),w.jsxs("div",{className:Ft.profileStatsCard,children:[w.jsx("h3",{className:Ft.sectionTitle,children:""}),w.jsx("div",{className:Ft.statsRow,children:w.jsx("span",{className:Ft.statsItem,children:"1:1 "})}),w.jsx("div",{className:Ft.statsRow,children:w.jsx("span",{className:Ft.statsItem,children:" "})})]}),w.jsxs("div",{className:Ft.profileDetailsCard,children:[w.jsx("h3",{className:Ft.sectionTitle,children:""}),w.jsx("div",{className:Ft.detailsRow,children:w.jsx("span",{className:Ft.detailsLabel,children:""})}),w.jsxs("div",{className:Ft.detailsRow,children:[w.jsx("span",{className:Ft.detailsLabel,children:" "}),w.jsx("span",{className:Ft.detailsValue,children:"1.10.24"})]}),w.jsx("div",{className:Ft.detailsRow,children:w.jsx("span",{className:Ft.detailsLabel,children:" "})})]}),w.jsx("div",{className:Ft.buttonField,children:w.jsx("button",{className:Ft.backBtn,onClick:()=>E("/mypage"),children:" "})}),w.jsx(lB,{isOpen:n,onClose:T,userInfo:t})]})},uB="_layout_11t2z_1",dB="_summaryTitle_11t2z_15",fB="_queryStringSpan_11t2z_25",hB="_resultSection_11t2z_33",Zh={layout:uB,summaryTitle:dB,queryStringSpan:fB,resultSection:hB},Qh=(t,e)=>{switch(e){case"exhibition":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.exhibition_poster,title:n.exhibition_title}));case"gallery":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.gallery_image,title:n.gallery_name}));case"artist":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.artist_image,title:n.artist_name}));case"notice":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.announcement_poster,title:n.announcement_title}))}},pB="_layout_uizu7_1",mB="_titleContainer_uizu7_13",gB="_categoryTitle_uizu7_25",xB="_extraLink_uizu7_33",yB="_resultList_uizu7_45",bB="_emptyBox_uizu7_63",ru={layout:pB,titleContainer:mB,categoryTitle:gB,extraLink:xB,resultList:yB,emptyBox:bB},kg=t=>{switch(t){case"exhibition":return{label:"",link:"exhibitions"};case"gallery":return{label:"",link:"galleries"};case"artist":return{label:"",link:"artists"};case"notice":return{label:"",link:"notices"}}},vB="_layout_i3rj4_1",wB="_itemImage_i3rj4_13",CB="_itemSpan_i3rj4_27",Dg={layout:vB,itemImage:wB,itemSpan:CB};function _B({link:t,thumbnail:e,title:n}){return w.jsxs(xn,{className:Dg.layout,to:t,children:[w.jsx("img",{className:Dg.itemImage,src:e}),w.jsx("span",{className:Dg.itemSpan,children:n})]})}function Jh({category:t,results:e}){return w.jsxs("section",{className:ru.layout,children:[w.jsxs("div",{className:ru.titleContainer,children:[w.jsx("h2",{className:ru.categoryTitle,children:kg(t).label}),(e==null?void 0:e.length)===10&&w.jsx(xn,{className:ru.extraLink,to:`/${kg(t).link}`,children:""})]}),w.jsx("hr",{}),w.jsx("div",{className:ru.resultList,children:!e||e.length===0?w.jsx("div",{className:ru.emptyBox,children:"  "}):e.map(({id:n,thumbnail:r,title:i})=>w.jsx(_B,{link:`/${kg(t).link}/${n}`,thumbnail:r,title:i},n))})]})}function SB(){const t=Dr(),n=new URLSearchParams(t.search).get("query"),[r,i]=z.useState({});console.log(n);const s=async()=>{try{const l=await Wt.get("/api/search",{params:{search:n}});i(l.data)}catch(l){throw new Error(l)}};return z.useEffect(()=>{s()},[n]),w.jsxs("div",{className:Zh.layout,children:[w.jsxs("h1",{className:Zh.summaryTitle,children:[w.jsx("span",{className:Zh.queryStringSpan,children:`'${n}'`}),"   "]}),w.jsxs("section",{className:Zh.resultSection,children:[w.jsx(Jh,{category:"exhibition",results:Qh(r.exhibitions,"exhibition")}),w.jsx(Jh,{category:"gallery",results:Qh(r.galleries,"gallery")}),w.jsx(Jh,{category:"artist",results:Qh(r.artists,"artist")}),w.jsx(Jh,{category:"notice",results:Qh(r.announcements,"notice")})]})]})}const EB="_layout_1jxus_1",AB="_header_1jxus_11",TB="_backBtn_1jxus_37",NB="_orderSection_1jxus_47",OB="_userInfo_1jxus_61",MB="_productBox_1jxus_71",RB="_productImage_1jxus_81",IB="_productInfo_1jxus_95",kB="_paymentInfo_1jxus_109",DB="_discountInfo_1jxus_111",BB="_paymentMethod_1jxus_113",LB="_total_1jxus_129",jB="_kakao_1jxus_169",PB="_naver_1jxus_177",zB="_basic_1jxus_183",FB="_paymentButton_1jxus_191",ui={layout:EB,header:AB,backBtn:TB,orderSection:NB,userInfo:OB,productBox:MB,productImage:RB,productInfo:IB,paymentInfo:kB,discountInfo:DB,paymentMethod:BB,total:LB,kakao:jB,naver:PB,basic:zB,paymentButton:FB};function UB(){const{reservationId:t}=Ps(),{state:e}=Dr(),n=Yt(),[r,i]=z.useState(""),{exhibition:s={},date:l="",time:d="",people:{adults:h=0,teens:m=0,children:b=0}={},total:C=0,email:E="test@test.com",phone:A="010-1234-5678",name:T=""}=e||{},R=()=>n(`/reservation/${s.id}`),I=()=>{if(!r){alert("  .");return}alert(`${r}  .`);const V={...e,payment:r};n(`/reservation/complete/${t}`,{state:V})},D=()=>w.jsxs("div",{className:ui.userInfo,children:[w.jsx("h3",{children:" "}),w.jsxs("p",{children:[T," "]}),w.jsx("p",{children:E}),w.jsx("p",{children:A})]}),F=()=>w.jsxs("div",{className:ui.productBox,children:[w.jsx("img",{src:s.imageUrl,alt:" ",className:ui.productImage}),w.jsxs("div",{className:ui.productInfo,children:[w.jsx("h3",{children:s.title}),w.jsxs("p",{children:["-  : ",l]}),w.jsxs("p",{children:["-   : ",d]}),w.jsxs("p",{children:["-  :  ",h,",  ",m,",  ",b]}),w.jsxs("p",{children:["-  : ",C.toLocaleString(),""]})]})]}),P=()=>w.jsxs("div",{className:ui.discountInfo,children:[w.jsx("h3",{children:"   "}),w.jsx("p",{children:"1,000point "}),w.jsx("p",{children:" : 0"})]}),q=()=>w.jsxs("div",{className:ui.paymentInfo,children:[w.jsx("h3",{children:" "}),w.jsxs("p",{children:[" : ",C.toLocaleString(),""]}),w.jsx("p",{children:" : -1,000"}),w.jsxs("p",{className:ui.total,children:["  : ",(C-1e3).toLocaleString(),""]})]}),$=()=>{const V={:"kakao",:"naver"," ":"basic"};return w.jsxs("div",{className:ui.paymentMethod,children:[w.jsx("h3",{children:" "}),Object.entries(V).map(([G,Q])=>w.jsxs("label",{children:[w.jsx("input",{type:"radio",name:"payment",value:G,onChange:Z=>i(Z.target.value)}),w.jsxs("span",{className:ui[Q],children:[" ",G]})]},G))]})};return w.jsxs("div",{className:ui.layout,children:[w.jsxs("header",{className:ui.header,children:[w.jsx("button",{className:ui.backBtn,onClick:R,children:""}),w.jsx("span",{className:ui.title,children:"   "})]}),w.jsxs("div",{className:ui.orderSection,children:[D(),F()]}),P(),q(),$(),w.jsx("button",{className:ui.paymentButton,onClick:I,children:""})]})}const HB="_layout_1czrs_1",VB="_newsListSection_1czrs_61",BC={layout:HB,newsListSection:VB},$B=[{label:"",key:"sort",options:[{label:"",value:"latest"},{label:"",value:"ending"}]},{label:"",key:"category",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{label:" ",key:"status",options:[{label:"",value:"ongoing"},{label:"",value:"scheduled"},{label:"",value:"ended"}]}],GB="_card_iircg_1",qB="_header_iircg_31",WB="_badge_iircg_45",XB="_title_iircg_99",YB="_info_iircg_121",KB="_period_iircg_131",ZB="_organizer_iircg_133",Ga={card:GB,header:qB,badge:WB,:"__iircg_81",:"__iircg_91",title:XB,info:YB,period:KB,organizer:ZB};function QB({newsItem:t}){const e=Yt(),{id:n,announcement_title:r,announcement_start_datetime:i,announcement_end_datetime:s,announcement_organizer:l,announcement_category:d,announcement_status:h}=t,m=E=>E==null?void 0:E.split(" ")[0].replace(/-/g,"."),b=E=>{switch(E){case"ongoing":return"";case"scheduled":return"";case"ended":return"";default:return""}},C=()=>{e(`/notices/${n}`)};return w.jsxs("div",{className:Ga.card,onClick:C,role:"button",tabIndex:0,children:[w.jsxs("div",{className:Ga.header,children:[w.jsx("span",{className:`${Ga.badge}`,children:d}),w.jsx("span",{className:`${Ga.badge} ${Ga[b(h)]}`,children:b(h)})]}),w.jsx("h3",{className:Ga.title,children:r}),w.jsxs("div",{className:Ga.info,children:[w.jsx("p",{className:Ga.period,children:`${m(i)} ~ ${m(s)}`}),w.jsx("p",{className:Ga.organizer,children:l})]})]})}function JB(){const[t,e]=z.useState([]),[n,r]=z.useState(!1),{currentPage:i,setCurrentPage:s,pageItems:l}=Bu(10,t),[d,h]=z.useState({category:"",status:"ongoing",sort:"latest",liked_only:0}),[m,b]=z.useState(""),C=A=>{b(A.target.value)},E=async()=>{try{r(!0);const A={...d,search:m},T=await Wt.get("/api/announcements",{params:A});e(T.data)}catch(A){console.error("   :",A)}finally{r(!1)}};return z.useEffect(()=>{E()},[d]),w.jsxs("div",{className:BC.layout,children:[w.jsx(Nf,{title:"",placeholder:" ",onEvent:E,onSearch:C,value:m,isNews:!0}),w.jsx(Of,{filterList:$B,onSetFilter:h}),w.jsx(Mf,{num:t.length,label:""}),n&&w.jsx("div",{children:"   .."}),t.length===0&&w.jsx("div",{children:"  ."}),w.jsx("section",{className:BC.newsListSection,children:l.map(A=>w.jsx(QB,{newsItem:A},A.id))}),w.jsx(Du,{currentPage:i,onPageChange:s,totalItems:t.length})]})}const eL="_noticeLayout_p2ihj_1",tL="_categorySpan_p2ihj_25",nL="_newsTitle_p2ihj_33",rL="_newsImage_p2ihj_41",iL="_contentsContainer_p2ihj_55",sL="_divider_p2ihj_73",aL="_contentParagraph_p2ihj_87",oL="_noticeText_p2ihj_99",lL="_backButton_p2ihj_115",aa={noticeLayout:eL,categorySpan:tL,newsTitle:nL,newsImage:rL,contentsContainer:iL,divider:sL,contentParagraph:aL,noticeText:oL,backButton:lL},cL="_info_pjhlh_1",uL="_label_pjhlh_41",iu={info:cL,label:uL};function dL({startDate:t,host:e,contact:n,apply:r,attachment:i,site:s}){return w.jsxs("div",{className:iu.info,children:[w.jsxs("p",{children:[w.jsx("strong",{className:iu.label,children:" "})," ",t]}),w.jsxs("p",{children:[w.jsx("strong",{className:iu.label,children:" "})," ",e]}),w.jsxs("p",{children:[w.jsx("strong",{className:iu.label,children:" "})," ",n]}),w.jsxs("p",{children:[w.jsx("strong",{className:iu.label,children:" "})," ",r]}),s&&w.jsxs("p",{children:[w.jsx("strong",{className:iu.label,children:" "})," ",w.jsx("a",{href:s,target:"_blank",rel:"noreferrer",children:s})]}),i&&w.jsxs("p",{children:[w.jsx("strong",{children:":"})," ",w.jsx("a",{href:i.url,target:"_blank",rel:"noreferrer",children:i.name})]})]})}function fL(){const{noticeId:t}=Ps(),[e,n]=z.useState({}),r=async()=>{try{const F=await Wt.get(`/api/announcements/${t}`);n(F.data)}catch(F){throw new Error(F)}};if(z.useEffect(()=>{r()},[]),!e)return w.jsx("p",{children:"   ."});const{announcement_title:i,announcement_poster:s,announcement_start_datetime:l,announcement_end_datetime:d,announcement_organizer:h,announcement_contact:m,announcement_support_detail:b,announcement_attachment_url:C,announcement_site_url:E,announcement_content:A,announcement_category:T,created_at:R,views:I}=e,D=(F,P)=>{const q=$=>$==null?void 0:$.split(" ")[0];return`${q(F)} ~ ${q(P)}`};return w.jsxs("section",{className:aa.noticeLayout,children:[w.jsx("span",{className:aa.categorySpan,children:T}),w.jsx("h1",{className:aa.newsTitle,children:i}),w.jsx("hr",{className:aa.divider}),w.jsxs("div",{className:aa.contentsContainer,children:[w.jsx("img",{className:aa.newsImage,src:s,alt:`${i}  `}),w.jsx(dL,{startDate:D(l,d),host:h,contact:m,apply:b,attachment:C,site:E,createdAt:R,views:I}),w.jsx("p",{className:aa.contentParagraph,children:A}),w.jsx("hr",{className:aa.divider}),w.jsx("p",{className:aa.noticeText,children:"*         ."}),w.jsx(xn,{className:aa.backButton,to:"/notices",children:" "})]})]})}const hL="_layout_18xb9_1",pL="_mainContent_18xb9_17",mL="_title_18xb9_45",gL="_infoImage_18xb9_65",xL="_textContainer_18xb9_77",yL="_textBox_18xb9_87",Fl={layout:hL,mainContent:pL,title:mL,infoImage:gL,textContainer:xL,textBox:yL},bL="_sectionContainer_yp0fd_1",vL="_controlsContainer_yp0fd_13",wL="_speedContainer_yp0fd_33",CL="_speedButton_yp0fd_67",_L="_clickedSpeedButton_yp0fd_93",SL="_buttonField_yp0fd_103",EL="_optionSpan_yp0fd_113",AL="_optionButton_yp0fd_123",Os={sectionContainer:bL,controlsContainer:vL,speedContainer:wL,speedButton:CL,clickedSpeedButton:_L,buttonField:SL,optionSpan:EL,optionButton:AL},TL="_audioPlayerWrapper_13cxf_1",NL="_audioButton_13cxf_17",Bg={audioPlayerWrapper:TL,audioButton:NL};function OL({script:t,playbackRate:e}){const[n,r]=z.useState(!1),[i,s]=z.useState(!1),[l,d]=z.useState(e),h=z.useRef(null);z.useEffect(()=>{let E=!0;return s(!1),(async()=>{console.log("Fetching audio for script:",`${t.substr(0,50)}...`);const T=await m();if(T&&E){console.log("Audio content fetched successfully");const R=new Audio(`data:audio/mp3;base64,${T}`);R.playbackRate=e,R.onended=()=>r(!1),R.playbackRate=l,h.current=R,s(!0)}})(),()=>{E=!1,h.current&&(h.current.pause(),h.current.currentTime=0)}},[t]),z.useEffect(()=>{d(e),h.current&&(h.current.playbackRate=e)},[e]);const m=async()=>{const A=await(await fetch("https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyDONGKCPP4PLv-LpZQyyCEF_7psIAZ_-vE",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:t},voice:{languageCode:"ko-KR",name:"ko-KR-Chirp3-HD-Kore"},audioConfig:{audioEncoding:"MP3"}})})).json(),{audioContent:T}=A;if(T)return T},b=()=>{i&&(n?(h.current.pause(),r(!1)):(h.current.play(),r(!0)))},C=()=>{h.current&&(h.current.pause(),h.current.currentTime=0,r(!1))};return w.jsxs("div",{className:Bg.audioPlayerWrapper,children:[w.jsx("button",{className:Bg.audioButton,onClick:b,disabled:!i,children:i?n?w.jsx(GI,{}):w.jsx(qI,{}):" ..."}),w.jsx("button",{className:Bg.audioButton,onClick:C,disabled:!i,"aria-label":"",children:i?w.jsx(XI,{}):""})]})}const ML=()=>{const[t,e]=z.useState(!1);return{isOpen:t,handleOpenModal:()=>{e(r=>!r)}}};function RL({script:t}){const[e,n]=z.useState(1),{isOpen:r,handleOpenModal:i}=ML(),s=[.5,1,1.25,1.5,2];return console.log(r),w.jsxs("section",{className:Os.sectionContainer,children:[w.jsx(OL,{script:t,playbackRate:e}),w.jsxs("div",{className:Os.controlsContainer,children:[r&&w.jsx("div",{className:Os.speedContainer,children:s.map(l=>w.jsxs("button",{className:`${Os.speedButton} ${l===e&&Os.clickedSpeedButton}`,onClick:()=>{n(l),i()},children:[l,"x"]},l))}),w.jsxs("div",{className:Os.buttonField,children:[w.jsx("span",{className:Os.optionSpan,children:""}),w.jsxs("button",{className:Os.optionButton,onClick:i,children:[e,"x"]})]}),w.jsxs("div",{className:Os.buttonField,children:[w.jsx("span",{className:Os.optionSpan,children:" "}),w.jsx("button",{className:Os.optionButton,onClick:()=>{alert("     .")},children:""})]})]})]})}const IL=(t,e=300)=>Array.from({length:Math.ceil((t==null?void 0:t.length)/e)},(n,r)=>t.slice(r*e,(r+1)*e));function kL(){const[t,e]=z.useState([]),{art_image:n,art_title:r,art_description:i,art_docent:s,artist_name:l}=t,{artId:d}=Ps();return IL(s),z.useEffect(()=>{(async()=>{try{const m=await Wt.get(`/api/arts/${d}`);e(m.data)}catch(m){console.error(m),alert("    .")}})()},[]),w.jsxs("main",{className:Fl.layout,children:[w.jsx("h2",{className:Fl.title,children:r}),w.jsxs("section",{className:Fl.mainContent,children:[w.jsx("img",{src:n,alt:`${r} `,className:Fl.infoImage}),w.jsx("div",{className:Fl.textContainer,children:w.jsxs("div",{className:Fl.textBox,children:[w.jsx("strong",{children:""}),w.jsx("span",{className:Fl.text,children:l})]})}),w.jsx(RL,{script:s})]})]})}const DL="_layout_gz7kg_1",BL="_gridContainer_gz7kg_17",LC={layout:DL,gridContainer:BL},LL="_layout_1njda_1",jL="_artworkImage_1njda_27",PL="_artworkTitle_1njda_43",zL="_subParagraph_1njda_63",e1={layout:LL,artworkImage:jL,artworkTitle:PL,subParagraph:zL};function FL({artworkItems:t}){const{id:e,art_image:n,art_title:r,art_description:i}=t;return w.jsxs(xn,{className:e1.layout,to:`/artworks/${e}`,children:[w.jsx("img",{className:e1.artworkImage,src:n,alt:" "}),w.jsx("h3",{className:e1.artworkTitle,children:r}),w.jsx("p",{className:e1.subParagraph,children:i})]})}function UL(){const[t,e]=z.useState([]),[n,r]=z.useState(!1),{currentPage:i,setCurrentPage:s,pageItems:l}=Bu(10,t),[d,h]=z.useState({type:""});return z.useEffect(()=>{(async()=>{try{r(!0);const b=await Wt.get("/api/arts");e(b.data)}catch(b){throw new Error(b)}finally{r(!1)}})()},[d]),w.jsxs("div",{className:LC.layout,children:[w.jsx(Nf,{title:"",isArtworks:!0}),w.jsx(Mf,{num:t.length,label:""}),n&&w.jsx("div",{children:"   "}),w.jsx("div",{className:LC.gridContainer,children:l.map(m=>w.jsx(FL,{artworkItems:m},m.id))}),w.jsx(Du,{currentPage:i,onPageChange:s,totalItems:t.length})]})}const HL="_catalogLayout_1rr2f_1",VL="_bodyContainer_1rr2f_19",$L="_overlay_1rr2f_33",Lg={catalogLayout:HL,bodyContainer:VL,overlay:$L},GL="_titleBar_1jvc1_1",qL="_leftButtons_1jvc1_23",WL="_rightButtons_1jvc1_25",XL="_title_1jvc1_1",YL="_button_1jvc1_45",su={titleBar:GL,leftButtons:qL,rightButtons:WL,title:XL,button:YL};function KL({onToggleIndex:t}){const e=Yt(),n=()=>{e("/mypage")};return w.jsxs("div",{className:su.titleBar,children:[w.jsx("div",{className:su.leftButtons,children:w.jsx("button",{className:su.button,onClick:t,children:" "})}),w.jsx("h1",{className:su.title,children:""}),w.jsx("div",{className:su.rightButtons,children:w.jsx("button",{className:su.button,onClick:n,children:" "})})]})}const ZL="_indexContainer_zrf7c_1",QL="_menuList_zrf7c_37",JL="_active_zrf7c_71",ej="_closeButton_zrf7c_81",t1={indexContainer:ZL,menuList:QL,active:JL,closeButton:ej},jC="/assets/mockCatalog-DwV1yhn-.png",yE=[{id:"cover",title:"",image:jC,artist:"",info:"  / 198161cm",script:`
   20                
   20                
   20                
   20                
   20                
  `},{id:"prologue",title:"",image:jC,artist:"",info:"  / 150150cm",script:`
   20                
   20                
   20                
   20                
   20                
  `}];function tj({onSelect:t,currentIndex:e,sectionStarts:n,onClose:r}){const i=z.useRef();return z.useEffect(()=>{const s=d=>{i.current&&!i.current.contains(d.target)&&r()},l=d=>{d.key==="Escape"&&r()};return document.addEventListener("mousedown",s),document.addEventListener("keydown",l),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",l)}},[r]),w.jsxs("aside",{className:t1.indexContainer,ref:i,children:[w.jsx("button",{className:t1.closeButton,onClick:r,children:""}),w.jsx("ul",{className:t1.menuList,children:yE.map((s,l)=>w.jsx("li",{className:l===e?t1.active:"",onClick:()=>t(n[l]),tabIndex:0,children:s.title},s.id))})]})}const nj="_container_c1nh1_1",rj="_page_c1nh1_23",ij="_image_c1nh1_41",sj="_title_c1nh1_55",aj="_meta_c1nh1_67",oj="_script_c1nh1_79",lj="_arrowLeft_c1nh1_89",cj="_arrowRight_c1nh1_91",uj="_pageCount_c1nh1_155",qa={container:nj,page:rj,image:ij,title:sj,meta:aj,script:oj,arrowLeft:lj,arrowRight:cj,pageCount:uj};function dj({data:t,pageIndex:e,totalPages:n,onPrev:r,onNext:i,isFirst:s,isLast:l}){return w.jsxs("div",{className:qa.container,children:[!s&&w.jsx("button",{onClick:r,className:qa.arrowLeft,children:""}),!l&&w.jsx("button",{onClick:i,className:qa.arrowRight,children:""}),w.jsxs("div",{className:qa.page,children:[t.image&&w.jsx("img",{src:t.image,alt:t.title,className:qa.image}),w.jsx("h2",{className:qa.title,children:t.title}),w.jsxs("p",{className:qa.meta,children:[t.artist,"  ",t.info]}),w.jsx("p",{className:qa.script,children:t.script}),w.jsxs("p",{className:qa.pageCount,children:[" ",e+1," / ",n]})]})]})}const fj=(t,e=200)=>{const n=t.replace(/\n/g,"").trim();return Array.from({length:Math.ceil(n.length/e)},(r,i)=>n.slice(i*e,(i+1)*e))};function hj(){const[t,e]=z.useState(!1),[n,r]=z.useState(0),{allPages:i,sectionStarts:s}=z.useMemo(()=>{const m=[],b=[];return yE.forEach(C=>{const E=fj(C.script);b.push(m.length),E.forEach(A=>{m.push({...C,script:A})})}),{allPages:m,sectionStarts:b}},[]),l=()=>{r(m=>Math.max(0,m-1))},d=()=>{r(m=>Math.min(i.length-1,m+1))},h=z.useMemo(()=>s.reduce((m,b,C)=>n>=b?C:m,0),[n,s]);return w.jsxs("div",{className:Lg.catalogLayout,children:[w.jsx(KL,{onToggleIndex:()=>e(m=>!m)}),w.jsxs("div",{className:Lg.bodyContainer,children:[t&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:Lg.overlay}),w.jsx(tj,{onSelect:m=>r(m),onClose:()=>e(!1),currentIndex:h,sectionStarts:s})]}),w.jsx(dj,{data:i[n],pageIndex:n,totalPages:i.length,onPrev:l,onNext:d,isFirst:n===0,isLast:n===i.length-1})]})]})}var We;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(We||(We={}));var PC=new Map([[We.QR_CODE,"QR_CODE"],[We.AZTEC,"AZTEC"],[We.CODABAR,"CODABAR"],[We.CODE_39,"CODE_39"],[We.CODE_93,"CODE_93"],[We.CODE_128,"CODE_128"],[We.DATA_MATRIX,"DATA_MATRIX"],[We.MAXICODE,"MAXICODE"],[We.ITF,"ITF"],[We.EAN_13,"EAN_13"],[We.EAN_8,"EAN_8"],[We.PDF_417,"PDF_417"],[We.RSS_14,"RSS_14"],[We.RSS_EXPANDED,"RSS_EXPANDED"],[We.UPC_A,"UPC_A"],[We.UPC_E,"UPC_E"],[We.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),zC;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(zC||(zC={}));function pj(t){return Object.values(We).includes(t)}var F1;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(F1||(F1={}));var mj=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[F1.SCAN_TYPE_CAMERA,F1.SCAN_TYPE_FILE],t}(),bE=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!PC.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,PC.get(e))},t}(),FC=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),zx;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(zx||(zx={}));var gj=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:zx.UNKWOWN_ERROR}},t}(),xj=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Za(t){return typeof t>"u"||t===null}var yu=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),vE=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),l=Object.keys(e),d=0,h=l;d<h.length;d++){var m=h[d];if(s.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},t}(),Gd={exports:{}},yj=Gd.exports,UC;function bj(){return UC||(UC=1,function(t,e){(function(n,r){r(e)})(yj,function(n){function r(L){return L==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,o){L.__proto__=o}||function(L,o){for(var u in o)o.hasOwnProperty(u)&&(L[u]=o[u])};function s(L,o){i(L,o);function u(){this.constructor=L}L.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}function l(L,o){var u=Object.setPrototypeOf;u?u(L,o):L.__proto__=o}function d(L,o){o===void 0&&(o=L.constructor);var u=Error.captureStackTrace;u&&u(L,o)}var h=function(L){s(o,L);function o(u){var f=this.constructor,g=L.call(this,u)||this;return Object.defineProperty(g,"name",{value:f.name,enumerable:!1}),l(g,f.prototype),d(g),g}return o}(Error);class m extends h{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}m.kind="Exception";class b extends m{}b.kind="ArgumentException";class C extends m{}C.kind="IllegalArgumentException";class E{constructor(o){if(this.binarizer=o,o===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,u){return this.binarizer.getBlackRow(o,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,u,f,g){const x=this.binarizer.getLuminanceSource().crop(o,u,f,g);return new E(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends m{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class T{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(o,u,f,g,x){for(;x--;)f[g++]=o[u++]}static currentTimeMillis(){return Date.now()}}class I extends m{}I.kind="IndexOutOfBoundsException";class D extends I{constructor(o=void 0,u=void 0){super(u),this.index=o,this.message=u}}D.kind="ArrayIndexOutOfBoundsException";class F{static fill(o,u){for(let f=0,g=o.length;f<g;f++)o[f]=u}static fillWithin(o,u,f,g){F.rangeCheck(o.length,u,f);for(let x=u;x<f;x++)o[x]=g}static rangeCheck(o,u,f){if(u>f)throw new C("fromIndex("+u+") > toIndex("+f+")");if(u<0)throw new D(u);if(f>o)throw new D(f)}static asList(...o){return o}static create(o,u,f){return Array.from({length:o}).map(x=>Array.from({length:u}).fill(f))}static createInt32Array(o,u,f){return Array.from({length:o}).map(x=>Int32Array.from({length:u}).fill(f))}static equals(o,u){if(!o||!u||!o.length||!u.length||o.length!==u.length)return!1;for(let f=0,g=o.length;f<g;f++)if(o[f]!==u[f])return!1;return!0}static hashCode(o){if(o===null)return 0;let u=1;for(const f of o)u=31*u+f;return u}static fillUint8Array(o,u){for(let f=0;f!==o.length;f++)o[f]=u}static copyOf(o,u){return o.slice(0,u)}static copyOfUint8Array(o,u){if(o.length<=u){const f=new Uint8Array(u);return f.set(o),f}return o.slice(0,u)}static copyOfRange(o,u,f){const g=f-u,x=new Int32Array(g);return R.arraycopy(o,u,x,0,g),x}static binarySearch(o,u,f){f===void 0&&(f=F.numberComparator);let g=0,x=o.length-1;for(;g<=x;){const v=x+g>>1,_=f(u,o[v]);if(_>0)g=v+1;else if(_<0)x=v-1;else return v}return-g-1}static numberComparator(o,u){return o-u}}class P{static numberOfTrailingZeros(o){let u;if(o===0)return 32;let f=31;return u=o<<16,u!==0&&(f-=16,o=u),u=o<<8,u!==0&&(f-=8,o=u),u=o<<4,u!==0&&(f-=4,o=u),u=o<<2,u!==0&&(f-=2,o=u),f-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let u=1;return o>>>16||(u+=16,o<<=16),o>>>24||(u+=8,o<<=8),o>>>28||(u+=4,o<<=4),o>>>30||(u+=2,o<<=2),u-=o>>>31,u}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,u){return Math.trunc(o/u)}static parseInt(o,u=void 0){return parseInt(o,u)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(o,u){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,u==null?this.bits=q.makeArray(o):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const u=q.makeArray(o);R.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const u=this.size;if(o>=u)return u;const f=this.bits;let g=Math.floor(o/32),x=f[g];x&=~((1<<(o&31))-1);const v=f.length;for(;x===0;){if(++g===v)return u;x=f[g]}const _=g*32+P.numberOfTrailingZeros(x);return _>u?u:_}getNextUnset(o){const u=this.size;if(o>=u)return u;const f=this.bits;let g=Math.floor(o/32),x=~f[g];x&=~((1<<(o&31))-1);const v=f.length;for(;x===0;){if(++g===v)return u;x=~f[g]}const _=g*32+P.numberOfTrailingZeros(x);return _>u?u:_}setBulk(o,u){this.bits[Math.floor(o/32)]=u}setRange(o,u){if(u<o||o<0||u>this.size)throw new C;if(u===o)return;u--;const f=Math.floor(o/32),g=Math.floor(u/32),x=this.bits;for(let v=f;v<=g;v++){const _=v>f?0:o&31,M=(2<<(v<g?31:u&31))-(1<<_);x[v]|=M}}clear(){const o=this.bits.length,u=this.bits;for(let f=0;f<o;f++)u[f]=0}isRange(o,u,f){if(u<o||o<0||u>this.size)throw new C;if(u===o)return!0;u--;const g=Math.floor(o/32),x=Math.floor(u/32),v=this.bits;for(let _=g;_<=x;_++){const N=_>g?0:o&31,k=(2<<(_<x?31:u&31))-(1<<N)&4294967295;if((v[_]&k)!==(f?k:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,u){if(u<0||u>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let f=u;f>0;f--)this.appendBit((o>>f-1&1)===1)}appendBitArray(o){const u=o.size;this.ensureCapacity(this.size+u);for(let f=0;f<u;f++)this.appendBit(o.get(f))}xor(o){if(this.size!==o.size)throw new C("Sizes don't match");const u=this.bits;for(let f=0,g=u.length;f<g;f++)u[f]^=o.bits[f]}toBytes(o,u,f,g){for(let x=0;x<g;x++){let v=0;for(let _=0;_<8;_++)this.get(o)&&(v|=1<<7-_),o++;u[f+x]=v}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),f=u+1,g=this.bits;for(let x=0;x<f;x++){let v=g[x];v=v>>1&1431655765|(v&1431655765)<<1,v=v>>2&858993459|(v&858993459)<<2,v=v>>4&252645135|(v&252645135)<<4,v=v>>8&16711935|(v&16711935)<<8,v=v>>16&65535|(v&65535)<<16,o[u-x]=v}if(this.size!==f*32){const x=f*32-this.size;let v=o[0]>>>x;for(let _=1;_<f;_++){const N=o[_];v|=N<<32-x,o[_-1]=v,v=N>>>x}o[f-1]=v}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof q))return!1;const u=o;return this.size===u.size&&F.equals(this.bits,u.bits)}hashCode(){return 31*this.size+F.hashCode(this.bits)}toString(){let o="";for(let u=0,f=this.size;u<f;u++)(u&7)===0&&(o+=" "),o+=this.get(u)?"X":".";return o}clone(){return new q(this.size,this.bits.slice())}}var $;(function(L){L[L.OTHER=0]="OTHER",L[L.PURE_BARCODE=1]="PURE_BARCODE",L[L.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",L[L.TRY_HARDER=3]="TRY_HARDER",L[L.CHARACTER_SET=4]="CHARACTER_SET",L[L.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",L[L.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",L[L.ASSUME_GS1=7]="ASSUME_GS1",L[L.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",L[L.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",L[L.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var V=$;class G extends m{static getFormatInstance(){return new G}}G.kind="FormatException";var Q;(function(L){L[L.Cp437=0]="Cp437",L[L.ISO8859_1=1]="ISO8859_1",L[L.ISO8859_2=2]="ISO8859_2",L[L.ISO8859_3=3]="ISO8859_3",L[L.ISO8859_4=4]="ISO8859_4",L[L.ISO8859_5=5]="ISO8859_5",L[L.ISO8859_6=6]="ISO8859_6",L[L.ISO8859_7=7]="ISO8859_7",L[L.ISO8859_8=8]="ISO8859_8",L[L.ISO8859_9=9]="ISO8859_9",L[L.ISO8859_10=10]="ISO8859_10",L[L.ISO8859_11=11]="ISO8859_11",L[L.ISO8859_13=12]="ISO8859_13",L[L.ISO8859_14=13]="ISO8859_14",L[L.ISO8859_15=14]="ISO8859_15",L[L.ISO8859_16=15]="ISO8859_16",L[L.SJIS=16]="SJIS",L[L.Cp1250=17]="Cp1250",L[L.Cp1251=18]="Cp1251",L[L.Cp1252=19]="Cp1252",L[L.Cp1256=20]="Cp1256",L[L.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",L[L.UTF8=22]="UTF8",L[L.ASCII=23]="ASCII",L[L.Big5=24]="Big5",L[L.GB18030=25]="GB18030",L[L.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class Z{constructor(o,u,f,...g){this.valueIdentifier=o,this.name=f,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=g,Z.VALUE_IDENTIFIER_TO_ECI.set(o,this),Z.NAME_TO_ECI.set(f,this);const x=this.values;for(let v=0,_=x.length;v!==_;v++){const N=x[v];Z.VALUES_TO_ECI.set(N,this)}for(const v of g)Z.NAME_TO_ECI.set(v,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new G("incorect value");const u=Z.VALUES_TO_ECI.get(o);if(u===void 0)throw new G("incorect value");return u}static getCharacterSetECIByName(o){const u=Z.NAME_TO_ECI.get(o);if(u===void 0)throw new G("incorect value");return u}equals(o){if(!(o instanceof Z))return!1;const u=o;return this.getName()===u.getName()}}Z.VALUE_IDENTIFIER_TO_ECI=new Map,Z.VALUES_TO_ECI=new Map,Z.NAME_TO_ECI=new Map,Z.Cp437=new Z(Q.Cp437,Int32Array.from([0,2]),"Cp437"),Z.ISO8859_1=new Z(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Z.ISO8859_2=new Z(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Z.ISO8859_3=new Z(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Z.ISO8859_4=new Z(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Z.ISO8859_5=new Z(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Z.ISO8859_6=new Z(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Z.ISO8859_7=new Z(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Z.ISO8859_8=new Z(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Z.ISO8859_9=new Z(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Z.ISO8859_10=new Z(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Z.ISO8859_11=new Z(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Z.ISO8859_13=new Z(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Z.ISO8859_14=new Z(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Z.ISO8859_15=new Z(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Z.ISO8859_16=new Z(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Z.SJIS=new Z(Q.SJIS,20,"SJIS","Shift_JIS"),Z.Cp1250=new Z(Q.Cp1250,21,"Cp1250","windows-1250"),Z.Cp1251=new Z(Q.Cp1251,22,"Cp1251","windows-1251"),Z.Cp1252=new Z(Q.Cp1252,23,"Cp1252","windows-1252"),Z.Cp1256=new Z(Q.Cp1256,24,"Cp1256","windows-1256"),Z.UnicodeBigUnmarked=new Z(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Z.UTF8=new Z(Q.UTF8,26,"UTF8","UTF-8"),Z.ASCII=new Z(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Z.Big5=new Z(Q.Big5,28,"Big5"),Z.GB18030=new Z(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Z.EUC_KR=new Z(Q.EUC_KR,30,"EUC_KR","EUC-KR");class Ce extends m{}Ce.kind="UnsupportedOperationException";class we{static decode(o,u){const f=this.encodingName(u);return this.customDecoder?this.customDecoder(o,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(o,f):new TextDecoder(f).decode(o)}static shouldDecodeOnFallback(o){return!we.isBrowser()&&o==="ISO-8859-1"}static encode(o,u){const f=this.encodingName(u);return this.customEncoder?this.customEncoder(o,f):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof Z?o:Z.getCharacterSetECIByName(o)}static decodeFallback(o,u){const f=this.encodingCharacterSet(u);if(we.isDecodeFallbackSupported(f)){let g="";for(let x=0,v=o.length;x<v;x++){let _=o[x].toString(16);_.length<2&&(_="0"+_),g+="%"+_}return decodeURIComponent(g)}if(f.equals(Z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new Ce(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(Z.UTF8)||o.equals(Z.ISO8859_1)||o.equals(Z.ASCII)}static encodeFallback(o){const f=btoa(unescape(encodeURIComponent(o))).split(""),g=[];for(let x=0;x<f.length;x++)g.push(f[x].charCodeAt(0));return new Uint8Array(g)}}class me{static castAsNonUtf8Char(o,u=null){const f=u?u.getName():this.ISO88591;return we.decode(new Uint8Array([o]),f)}static guessEncoding(o,u){if(u!=null&&u.get(V.CHARACTER_SET)!==void 0)return u.get(V.CHARACTER_SET).toString();const f=o.length;let g=!0,x=!0,v=!0,_=0,N=0,M=0,k=0,j=0,U=0,X=0,te=0,re=0,le=0,ge=0;const Be=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let je=0;je<f&&(g||x||v);je++){const Ie=o[je]&255;v&&(_>0?(Ie&128)===0?v=!1:_--:(Ie&128)!==0&&((Ie&64)===0?v=!1:(_++,(Ie&32)===0?N++:(_++,(Ie&16)===0?M++:(_++,(Ie&8)===0?k++:v=!1))))),g&&(Ie>127&&Ie<160?g=!1:Ie>159&&(Ie<192||Ie===215||Ie===247)&&ge++),x&&(j>0?Ie<64||Ie===127||Ie>252?x=!1:j--:Ie===128||Ie===160||Ie>239?x=!1:Ie>160&&Ie<224?(U++,te=0,X++,X>re&&(re=X)):Ie>127?(j++,X=0,te++,te>le&&(le=te)):(X=0,te=0))}return v&&_>0&&(v=!1),x&&j>0&&(x=!1),v&&(Be||N+M+k>0)?me.UTF8:x&&(me.ASSUME_SHIFT_JIS||re>=3||le>=3)?me.SHIFT_JIS:g&&x?re===2&&U===2||ge*10>=f?me.SHIFT_JIS:me.ISO88591:g?me.ISO88591:x?me.SHIFT_JIS:v?me.UTF8:me.PLATFORM_DEFAULT_ENCODING}static format(o,...u){let f=-1;function g(v,_,N,M,k,j){if(v==="%%")return"%";if(u[++f]===void 0)return;v=M?parseInt(M.substr(1)):void 0;let U=k?parseInt(k.substr(1)):void 0,X;switch(j){case"s":X=u[f];break;case"c":X=u[f][0];break;case"f":X=parseFloat(u[f]).toFixed(v);break;case"p":X=parseFloat(u[f]).toPrecision(v);break;case"e":X=parseFloat(u[f]).toExponential(v);break;case"x":X=parseInt(u[f]).toString(U||16);break;case"d":X=parseFloat(parseInt(u[f],U||10).toPrecision(v)).toFixed(0);break}X=typeof X=="object"?JSON.stringify(X):(+X).toString(U);let te=parseInt(N),re=N&&N[0]+""=="0"?"0":" ";for(;X.length<te;)X=_!==void 0?X+re:re+X;return X}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,g)}static getBytes(o,u){return we.encode(o,u)}static getCharCode(o,u=0){return o.charCodeAt(u)}static getCharAt(o){return String.fromCharCode(o)}}me.SHIFT_JIS=Z.SJIS.getName(),me.GB2312="GB2312",me.ISO88591=Z.ISO8859_1.getName(),me.EUC_JP="EUC_JP",me.UTF8=Z.UTF8.getName(),me.PLATFORM_DEFAULT_ENCODING=me.UTF8,me.ASSUME_SHIFT_JIS=!1;class Pe{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=me.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,u,f){for(let g=u;u<u+f;g++)this.append(o[g]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+1)}substring(o,u){return this.value.substring(o,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+u.length)}}class De{constructor(o,u,f,g){if(this.width=o,this.height=u,this.rowSize=f,this.bits=g,u==null&&(u=o),this.height=u,o<1||u<1)throw new C("Both dimensions must be greater than 0");f==null&&(f=Math.floor((o+31)/32)),this.rowSize=f,g==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const u=o.length,f=o[0].length,g=new De(f,u);for(let x=0;x<u;x++){const v=o[x];for(let _=0;_<f;_++)v[_]&&g.set(_,x)}return g}static parseFromString(o,u,f){if(o===null)throw new C("stringRepresentation cannot be null");const g=new Array(o.length);let x=0,v=0,_=-1,N=0,M=0;for(;M<o.length;)if(o.charAt(M)===`
`||o.charAt(M)==="\r"){if(x>v){if(_===-1)_=x-v;else if(x-v!==_)throw new C("row lengths do not match");v=x,N++}M++}else if(o.substring(M,M+u.length)===u)M+=u.length,g[x]=!0,x++;else if(o.substring(M,M+f.length)===f)M+=f.length,g[x]=!1,x++;else throw new C("illegal character encountered: "+o.substring(M));if(x>v){if(_===-1)_=x-v;else if(x-v!==_)throw new C("row lengths do not match");N++}const k=new De(_,N);for(let j=0;j<x;j++)g[j]&&k.set(Math.floor(j%_),Math.floor(j/_));return k}get(o,u){const f=u*this.rowSize+Math.floor(o/32);return(this.bits[f]>>>(o&31)&1)!==0}set(o,u){const f=u*this.rowSize+Math.floor(o/32);this.bits[f]|=1<<(o&31)&4294967295}unset(o,u){const f=u*this.rowSize+Math.floor(o/32);this.bits[f]&=~(1<<(o&31)&4294967295)}flip(o,u){const f=u*this.rowSize+Math.floor(o/32);this.bits[f]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new C("input matrix dimensions do not match");const u=new q(Math.floor(this.width/32)+1),f=this.rowSize,g=this.bits;for(let x=0,v=this.height;x<v;x++){const _=x*f,N=o.getRow(x,u).getBitArray();for(let M=0;M<f;M++)g[_+M]^=N[M]}}clear(){const o=this.bits,u=o.length;for(let f=0;f<u;f++)o[f]=0}setRegion(o,u,f,g){if(u<0||o<0)throw new C("Left and top must be nonnegative");if(g<1||f<1)throw new C("Height and width must be at least 1");const x=o+f,v=u+g;if(v>this.height||x>this.width)throw new C("The region must fit inside the matrix");const _=this.rowSize,N=this.bits;for(let M=u;M<v;M++){const k=M*_;for(let j=o;j<x;j++)N[k+Math.floor(j/32)]|=1<<(j&31)&4294967295}}getRow(o,u){u==null||u.getSize()<this.width?u=new q(this.width):u.clear();const f=this.rowSize,g=this.bits,x=o*f;for(let v=0;v<f;v++)u.setBulk(v*32,g[x+v]);return u}setRow(o,u){R.arraycopy(u.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),u=this.getHeight();let f=new q(o),g=new q(o);for(let x=0,v=Math.floor((u+1)/2);x<v;x++)f=this.getRow(x,f),g=this.getRow(u-1-x,g),f.reverse(),g.reverse(),this.setRow(x,g),this.setRow(u-1-x,f)}getEnclosingRectangle(){const o=this.width,u=this.height,f=this.rowSize,g=this.bits;let x=o,v=u,_=-1,N=-1;for(let M=0;M<u;M++)for(let k=0;k<f;k++){const j=g[M*f+k];if(j!==0){if(M<v&&(v=M),M>N&&(N=M),k*32<x){let U=0;for(;(j<<31-U&4294967295)===0;)U++;k*32+U<x&&(x=k*32+U)}if(k*32+31>_){let U=31;for(;!(j>>>U);)U--;k*32+U>_&&(_=k*32+U)}}}return _<x||N<v?null:Int32Array.from([x,v,_-x+1,N-v+1])}getTopLeftOnBit(){const o=this.rowSize,u=this.bits;let f=0;for(;f<u.length&&u[f]===0;)f++;if(f===u.length)return null;const g=f/o;let x=f%o*32;const v=u[f];let _=0;for(;(v<<31-_&4294967295)===0;)_++;return x+=_,Int32Array.from([x,g])}getBottomRightOnBit(){const o=this.rowSize,u=this.bits;let f=u.length-1;for(;f>=0&&u[f]===0;)f--;if(f<0)return null;const g=Math.floor(f/o);let x=Math.floor(f%o)*32;const v=u[f];let _=31;for(;!(v>>>_);)_--;return x+=_,Int32Array.from([x,g])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof De))return!1;const u=o;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&F.equals(this.bits,u.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+F.hashCode(this.bits),o}toString(o="X ",u="  ",f=`
`){return this.buildToString(o,u,f)}buildToString(o,u,f){let g=new Pe;for(let x=0,v=this.height;x<v;x++){for(let _=0,N=this.width;_<N;_++)g.append(this.get(_,x)?o:u);g.append(f)}return g.toString()}clone(){return new De(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends m{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class Y extends T{constructor(o){super(o),this.luminances=Y.EMPTY,this.buckets=new Int32Array(Y.LUMINANCE_BUCKETS)}getBlackRow(o,u){const f=this.getLuminanceSource(),g=f.getWidth();u==null||u.getSize()<g?u=new q(g):u.clear(),this.initArrays(g);const x=f.getRow(o,this.luminances),v=this.buckets;for(let N=0;N<g;N++)v[(x[N]&255)>>Y.LUMINANCE_SHIFT]++;const _=Y.estimateBlackPoint(v);if(g<3)for(let N=0;N<g;N++)(x[N]&255)<_&&u.set(N);else{let N=x[0]&255,M=x[1]&255;for(let k=1;k<g-1;k++){const j=x[k+1]&255;(M*4-N-j)/2<_&&u.set(k),N=M,M=j}}return u}getBlackMatrix(){const o=this.getLuminanceSource(),u=o.getWidth(),f=o.getHeight(),g=new De(u,f);this.initArrays(u);const x=this.buckets;for(let N=1;N<5;N++){const M=Math.floor(f*N/5),k=o.getRow(M,this.luminances),j=Math.floor(u*4/5);for(let U=Math.floor(u/5);U<j;U++){const X=k[U]&255;x[X>>Y.LUMINANCE_SHIFT]++}}const v=Y.estimateBlackPoint(x),_=o.getMatrix();for(let N=0;N<f;N++){const M=N*u;for(let k=0;k<u;k++)(_[M+k]&255)<v&&g.set(k,N)}return g}createBinarizer(o){return new Y(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const u=this.buckets;for(let f=0;f<Y.LUMINANCE_BUCKETS;f++)u[f]=0}static estimateBlackPoint(o){const u=o.length;let f=0,g=0,x=0;for(let k=0;k<u;k++)o[k]>x&&(g=k,x=o[k]),o[k]>f&&(f=o[k]);let v=0,_=0;for(let k=0;k<u;k++){const j=k-g,U=o[k]*j*j;U>_&&(v=k,_=U)}if(g>v){const k=g;g=v,v=k}if(v-g<=u/16)throw new ee;let N=v-1,M=-1;for(let k=v-1;k>g;k--){const j=k-g,U=j*j*(v-k)*(f-o[k]);U>M&&(N=k,M=U)}return N<<Y.LUMINANCE_SHIFT}}Y.LUMINANCE_BITS=5,Y.LUMINANCE_SHIFT=8-Y.LUMINANCE_BITS,Y.LUMINANCE_BUCKETS=1<<Y.LUMINANCE_BITS,Y.EMPTY=Uint8ClampedArray.from([0]);class ae extends Y{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),u=o.getWidth(),f=o.getHeight();if(u>=ae.MINIMUM_DIMENSION&&f>=ae.MINIMUM_DIMENSION){const g=o.getMatrix();let x=u>>ae.BLOCK_SIZE_POWER;(u&ae.BLOCK_SIZE_MASK)!==0&&x++;let v=f>>ae.BLOCK_SIZE_POWER;(f&ae.BLOCK_SIZE_MASK)!==0&&v++;const _=ae.calculateBlackPoints(g,x,v,u,f),N=new De(u,f);ae.calculateThresholdForBlock(g,x,v,u,f,_,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ae(o)}static calculateThresholdForBlock(o,u,f,g,x,v,_){const N=x-ae.BLOCK_SIZE,M=g-ae.BLOCK_SIZE;for(let k=0;k<f;k++){let j=k<<ae.BLOCK_SIZE_POWER;j>N&&(j=N);const U=ae.cap(k,2,f-3);for(let X=0;X<u;X++){let te=X<<ae.BLOCK_SIZE_POWER;te>M&&(te=M);const re=ae.cap(X,2,u-3);let le=0;for(let Be=-2;Be<=2;Be++){const je=v[U+Be];le+=je[re-2]+je[re-1]+je[re]+je[re+1]+je[re+2]}const ge=le/25;ae.thresholdBlock(o,te,j,ge,g,_)}}}static cap(o,u,f){return o<u?u:o>f?f:o}static thresholdBlock(o,u,f,g,x,v){for(let _=0,N=f*x+u;_<ae.BLOCK_SIZE;_++,N+=x)for(let M=0;M<ae.BLOCK_SIZE;M++)(o[N+M]&255)<=g&&v.set(u+M,f+_)}static calculateBlackPoints(o,u,f,g,x){const v=x-ae.BLOCK_SIZE,_=g-ae.BLOCK_SIZE,N=new Array(f);for(let M=0;M<f;M++){N[M]=new Int32Array(u);let k=M<<ae.BLOCK_SIZE_POWER;k>v&&(k=v);for(let j=0;j<u;j++){let U=j<<ae.BLOCK_SIZE_POWER;U>_&&(U=_);let X=0,te=255,re=0;for(let ge=0,Be=k*g+U;ge<ae.BLOCK_SIZE;ge++,Be+=g){for(let je=0;je<ae.BLOCK_SIZE;je++){const Ie=o[Be+je]&255;X+=Ie,Ie<te&&(te=Ie),Ie>re&&(re=Ie)}if(re-te>ae.MIN_DYNAMIC_RANGE)for(ge++,Be+=g;ge<ae.BLOCK_SIZE;ge++,Be+=g)for(let je=0;je<ae.BLOCK_SIZE;je++)X+=o[Be+je]&255}let le=X>>ae.BLOCK_SIZE_POWER*2;if(re-te<=ae.MIN_DYNAMIC_RANGE&&(le=te/2,M>0&&j>0)){const ge=(N[M-1][j]+2*N[M][j-1]+N[M-1][j-1])/4;te<ge&&(le=ge)}N[M][j]=le}}return N}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=ae.BLOCK_SIZE*5,ae.MIN_DYNAMIC_RANGE=24;class de{constructor(o,u){this.width=o,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,u,f,g){throw new Ce("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ce("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ce("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let u=new Pe;for(let f=0;f<this.height;f++){const g=this.getRow(f,o);for(let x=0;x<this.width;x++){const v=g[x]&255;let _;v<64?_="#":v<128?_="+":v<192?_=".":_=" ",u.append(_)}u.append(`
`)}return u.toString()}}class ze extends de{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,u){const f=this.delegate.getRow(o,u),g=this.getWidth();for(let x=0;x<g;x++)f[x]=255-(f[x]&255);return f}getMatrix(){const o=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(u);for(let g=0;g<u;g++)f[g]=255-(o[g]&255);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(o,u,f,g){return new ze(this.delegate.crop(o,u,f,g))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ze(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ze(this.delegate.rotateCounterClockwise45())}}class K extends de{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=K.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const u=o.getContext("2d").getImageData(0,0,o.width,o.height);return K.toGrayscaleBuffer(u.data,o.width,o.height)}static toGrayscaleBuffer(o,u,f){const g=new Uint8ClampedArray(u*f);for(let x=0,v=0,_=o.length;x<_;x+=4,v++){let N;if(o[x+3]===0)N=255;else{const k=o[x],j=o[x+1],U=o[x+2];N=306*k+601*j+117*U+512>>10}g[v]=N}return g}getRow(o,u){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const f=this.getWidth(),g=o*f;return u===null?u=this.buffer.slice(g,g+f):(u.length<f&&(u=new Uint8ClampedArray(f)),u.set(this.buffer.slice(g,g+f))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,u,f,g){return super.crop(o,u,f,g),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const u=this.getTempCanvasElement(),f=u.getContext("2d"),g=o*K.DEGREE_TO_RADIANS,x=this.canvas.width,v=this.canvas.height,_=Math.ceil(Math.abs(Math.cos(g))*x+Math.abs(Math.sin(g))*v),N=Math.ceil(Math.abs(Math.sin(g))*x+Math.abs(Math.cos(g))*v);return u.width=_,u.height=N,f.translate(_/2,N/2),f.rotate(g),f.drawImage(this.canvas,x/-2,v/-2),this.buffer=K.makeBufferFromCanvasImageData(u),this}invert(){return new ze(this)}}K.DEGREE_TO_RADIANS=Math.PI/180;class be{constructor(o,u,f){this.deviceId=o,this.label=u,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Oe=(globalThis||Uh||self||window||void 0)&&(globalThis||Uh||self||window||void 0).__awaiter||function(L,o,u,f){function g(x){return x instanceof u?x:new u(function(v){v(x)})}return new(u||(u=Promise))(function(x,v){function _(k){try{M(f.next(k))}catch(j){v(j)}}function N(k){try{M(f.throw(k))}catch(j){v(j)}}function M(k){k.done?x(k.value):g(k.value).then(_,N)}M((f=f.apply(L,o||[])).next())})};class Re{constructor(o,u=500,f){this.reader=o,this.timeBetweenScansMillis=u,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Oe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const f of o){const g=f.kind==="video"?"videoinput":f.kind;if(g!=="videoinput")continue;const x=f.deviceId||f.id,v=f.label||`Video device ${u.length+1}`,_=f.groupId,N={deviceId:x,label:v,kind:g,groupId:_};u.push(N)}return u})}getVideoInputDevices(){return Oe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new be(u.deviceId,u.label))})}findDeviceById(o){return Oe(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(f=>f.deviceId===o):null})}decodeFromInputVideoDevice(o,u){return Oe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,u)})}decodeOnceFromVideoDevice(o,u){return Oe(this,void 0,void 0,function*(){this.reset();let f;o?f={deviceId:{exact:o}}:f={facingMode:"environment"};const g={video:f};return yield this.decodeOnceFromConstraints(g,u)})}decodeOnceFromConstraints(o,u){return Oe(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(f,u)})}decodeOnceFromStream(o,u){return Oe(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(o,u);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(o,u,f){return Oe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,u,f)})}decodeFromVideoDevice(o,u,f){return Oe(this,void 0,void 0,function*(){let g;o?g={deviceId:{exact:o}}:g={facingMode:"environment"};const x={video:g};return yield this.decodeFromConstraints(x,u,f)})}decodeFromConstraints(o,u,f){return Oe(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(g,u,f)})}decodeFromStream(o,u,f){return Oe(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(o,u);return yield this.decodeContinuously(g,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,u){return Oe(this,void 0,void 0,function*(){const f=this.prepareVideoElement(u);return this.addVideoSource(f,o),this.videoElement=f,this.stream=o,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(o){return new Promise((u,f)=>this.playVideoOnLoad(o,()=>u()))}playVideoOnLoad(o,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",u),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Oe(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,u){const f=document.getElementById(o);if(!f)throw new b(`element with id '${o}' not found`);if(f.nodeName.toLowerCase()!==u.toLowerCase())throw new b(`element with id '${o}' must be an ${u} element`);return f}decodeFromImage(o,u){if(!o&&!u)throw new b("either imageElement with a src set or an url must be provided");return u&&!o?this.decodeFromImageUrl(u):this.decodeFromImageElement(o)}decodeFromVideo(o,u){if(!o&&!u)throw new b("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,u,f){if(o===void 0&&u===void 0)throw new b("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrlContinuously(u,f):this.decodeFromVideoElementContinuously(o,f)}decodeFromImageElement(o){if(!o)throw new b("An image element must be provided.");this.reset();const u=this.prepareImageElement(o);this.imageElement=u;let f;return this.isImageLoaded(u)?f=this.decodeOnce(u,!1,!0):f=this._decodeOnLoadImage(u),f}decodeFromVideoElement(o){const u=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(o,u){const f=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(f,u)}_decodeFromVideoElementSetup(o){if(!o)throw new b("A video element must be provided.");this.reset();const u=this.prepareVideoElement(o);return this.videoElement=u,u}decodeFromImageUrl(o){if(!o)throw new b("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const f=this._decodeOnLoadImage(u);return u.src=o,f}decodeFromVideoUrl(o){if(!o)throw new b("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),f=this.decodeFromVideoElement(u);return u.src=o,f}decodeFromVideoUrlContinuously(o,u){if(!o)throw new b("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),g=this.decodeFromVideoElementContinuously(f,u);return f.src=o,g}_decodeOnLoadImage(o){return new Promise((u,f)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(u,f),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Oe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,u){return Oe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,u)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let u;return typeof o>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(u=o),u}prepareVideoElement(o){let u;return!o&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(u=o),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(o,u=!0,f=!0){this._stopAsyncDecode=!1;const g=(x,v)=>{if(this._stopAsyncDecode){v(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const _=this.decode(o);x(_)}catch(_){const N=u&&_ instanceof ee,k=(_ instanceof A||_ instanceof G)&&f;if(N||k)return setTimeout(g,this._timeBetweenDecodingAttempts,x,v);v(_)}};return new Promise((x,v)=>g(x,v))}decodeContinuously(o,u){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const g=this.decode(o);u(g,null),setTimeout(f,this.timeBetweenScansMillis)}catch(g){u(null,g);const x=g instanceof A||g instanceof G,v=g instanceof ee;(x||v)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(o){const u=this.createBinaryBitmap(o);return this.decodeBitmap(u)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,u,f){u||(u={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(o,u,f=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const u=this.getCaptureCanvas(o),f=new K(u),g=new ae(f);return new E(g)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const u=this.createCaptureCanvas(o);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let f,g;return typeof o<"u"&&(o instanceof HTMLVideoElement?(f=o.videoWidth,g=o.videoHeight):o instanceof HTMLImageElement&&(f=o.naturalWidth||o.width,g=o.naturalHeight||o.height)),u.style.width=f+"px",u.style.height=g+"px",u.width=f,u.height=g,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,u){try{o.srcObject=u}catch{o.src=URL.createObjectURL(u)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class He{constructor(o,u,f=u==null?0:8*u.length,g,x,v=R.currentTimeMillis()){this.text=o,this.rawBytes=u,this.numBits=f,this.resultPoints=g,this.format=x,this.timestamp=v,this.text=o,this.rawBytes=u,f==null?this.numBits=u==null?0:8*u.length:this.numBits=f,this.resultPoints=g,this.format=x,this.resultMetadata=null,v==null?this.timestamp=R.currentTimeMillis():this.timestamp=v}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,u)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const u=this.resultPoints;if(u===null)this.resultPoints=o;else if(o!==null&&o.length>0){const f=new Array(u.length+o.length);R.arraycopy(u,0,f,0,u.length),R.arraycopy(o,0,f,u.length,o.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var xt;(function(L){L[L.AZTEC=0]="AZTEC",L[L.CODABAR=1]="CODABAR",L[L.CODE_39=2]="CODE_39",L[L.CODE_93=3]="CODE_93",L[L.CODE_128=4]="CODE_128",L[L.DATA_MATRIX=5]="DATA_MATRIX",L[L.EAN_8=6]="EAN_8",L[L.EAN_13=7]="EAN_13",L[L.ITF=8]="ITF",L[L.MAXICODE=9]="MAXICODE",L[L.PDF_417=10]="PDF_417",L[L.QR_CODE=11]="QR_CODE",L[L.RSS_14=12]="RSS_14",L[L.RSS_EXPANDED=13]="RSS_EXPANDED",L[L.UPC_A=14]="UPC_A",L[L.UPC_E=15]="UPC_E",L[L.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(xt||(xt={}));var Me=xt,pr;(function(L){L[L.OTHER=0]="OTHER",L[L.ORIENTATION=1]="ORIENTATION",L[L.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",L[L.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",L[L.ISSUE_NUMBER=4]="ISSUE_NUMBER",L[L.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",L[L.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",L[L.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",L[L.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",L[L.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",L[L.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(pr||(pr={}));var mt=pr;class $r{constructor(o,u,f,g,x=-1,v=-1){this.rawBytes=o,this.text=u,this.byteSegments=f,this.ecLevel=g,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=v,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class On{exp(o){return this.expTable[o]}log(o){if(o===0)throw new C;return this.logTable[o]}static addOrSubtract(o,u){return o^u}}class Cn{constructor(o,u){if(u.length===0)throw new C;this.field=o;const f=u.length;if(f>1&&u[0]===0){let g=1;for(;g<f&&u[g]===0;)g++;g===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-g),R.arraycopy(u,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const u=this.coefficients;let f;if(o===1){f=0;for(let v=0,_=u.length;v!==_;v++){const N=u[v];f=On.addOrSubtract(f,N)}return f}f=u[0];const g=u.length,x=this.field;for(let v=1;v<g;v++)f=On.addOrSubtract(x.multiply(o,f),u[v]);return f}addOrSubtract(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,f=o.coefficients;if(u.length>f.length){const v=u;u=f,f=v}let g=new Int32Array(f.length);const x=f.length-u.length;R.arraycopy(f,0,g,0,x);for(let v=x;v<f.length;v++)g[v]=On.addOrSubtract(u[v-x],f[v]);return new Cn(this.field,g)}multiply(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const u=this.coefficients,f=u.length,g=o.coefficients,x=g.length,v=new Int32Array(f+x-1),_=this.field;for(let N=0;N<f;N++){const M=u[N];for(let k=0;k<x;k++)v[N+k]=On.addOrSubtract(v[N+k],_.multiply(M,g[k]))}return new Cn(_,v)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const u=this.coefficients.length,f=this.field,g=new Int32Array(u),x=this.coefficients;for(let v=0;v<u;v++)g[v]=f.multiply(x[v],o);return new Cn(f,g)}multiplyByMonomial(o,u){if(o<0)throw new C;if(u===0)return this.field.getZero();const f=this.coefficients,g=f.length,x=new Int32Array(g+o),v=this.field;for(let _=0;_<g;_++)x[_]=v.multiply(f[_],u);return new Cn(v,x)}divide(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new C("Divide by 0");const u=this.field;let f=u.getZero(),g=this;const x=o.getCoefficient(o.getDegree()),v=u.inverse(x);for(;g.getDegree()>=o.getDegree()&&!g.isZero();){const _=g.getDegree()-o.getDegree(),N=u.multiply(g.getCoefficient(g.getDegree()),v),M=o.multiplyByMonomial(_,N),k=u.buildMonomial(_,N);f=f.addOrSubtract(k),g=g.addOrSubtract(M)}return[f,g]}toString(){let o="";for(let u=this.getDegree();u>=0;u--){let f=this.getCoefficient(u);if(f!==0){if(f<0?(o+=" - ",f=-f):o.length>0&&(o+=" + "),u===0||f!==1){const g=this.field.log(f);g===0?o+="1":g===1?o+="a":(o+="a^",o+=g)}u!==0&&(u===1?o+="x":(o+="x^",o+=u))}}return o}}class vs extends m{}vs.kind="ArithmeticException";class Lt extends On{constructor(o,u,f){super(),this.primitive=o,this.size=u,this.generatorBase=f;const g=new Int32Array(u);let x=1;for(let _=0;_<u;_++)g[_]=x,x*=2,x>=u&&(x^=o,x&=u-1);this.expTable=g;const v=new Int32Array(u);for(let _=0;_<u-1;_++)v[g[_]]=_;this.logTable=v,this.zero=new Cn(this,Int32Array.from([0])),this.one=new Cn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new C;if(u===0)return this.zero;const f=new Int32Array(o+1);return f[0]=u,new Cn(this,f)}inverse(o){if(o===0)throw new vs;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}Lt.AZTEC_DATA_12=new Lt(4201,4096,1),Lt.AZTEC_DATA_10=new Lt(1033,1024,1),Lt.AZTEC_DATA_6=new Lt(67,64,1),Lt.AZTEC_PARAM=new Lt(19,16,1),Lt.QR_CODE_FIELD_256=new Lt(285,256,0),Lt.DATA_MATRIX_FIELD_256=new Lt(301,256,1),Lt.AZTEC_DATA_8=Lt.DATA_MATRIX_FIELD_256,Lt.MAXICODE_FIELD_64=Lt.AZTEC_DATA_6;class Sr extends m{}Sr.kind="ReedSolomonException";class yi extends m{}yi.kind="IllegalStateException";class ga{constructor(o){this.field=o}decode(o,u){const f=this.field,g=new Cn(f,o),x=new Int32Array(u);let v=!0;for(let X=0;X<u;X++){const te=g.evaluateAt(f.exp(X+f.getGeneratorBase()));x[x.length-1-X]=te,te!==0&&(v=!1)}if(v)return;const _=new Cn(f,x),N=this.runEuclideanAlgorithm(f.buildMonomial(u,1),_,u),M=N[0],k=N[1],j=this.findErrorLocations(M),U=this.findErrorMagnitudes(k,j);for(let X=0;X<j.length;X++){const te=o.length-1-f.log(j[X]);if(te<0)throw new Sr("Bad error location");o[te]=Lt.addOrSubtract(o[te],U[X])}}runEuclideanAlgorithm(o,u,f){if(o.getDegree()<u.getDegree()){const X=o;o=u,u=X}const g=this.field;let x=o,v=u,_=g.getZero(),N=g.getOne();for(;v.getDegree()>=(f/2|0);){let X=x,te=_;if(x=v,_=N,x.isZero())throw new Sr("r_{i-1} was zero");v=X;let re=g.getZero();const le=x.getCoefficient(x.getDegree()),ge=g.inverse(le);for(;v.getDegree()>=x.getDegree()&&!v.isZero();){const Be=v.getDegree()-x.getDegree(),je=g.multiply(v.getCoefficient(v.getDegree()),ge);re=re.addOrSubtract(g.buildMonomial(Be,je)),v=v.addOrSubtract(x.multiplyByMonomial(Be,je))}if(N=re.multiply(_).addOrSubtract(te),v.getDegree()>=x.getDegree())throw new yi("Division algorithm failed to reduce polynomial?")}const M=N.getCoefficient(0);if(M===0)throw new Sr("sigmaTilde(0) was zero");const k=g.inverse(M),j=N.multiplyScalar(k),U=v.multiplyScalar(k);return[j,U]}findErrorLocations(o){const u=o.getDegree();if(u===1)return Int32Array.from([o.getCoefficient(1)]);const f=new Int32Array(u);let g=0;const x=this.field;for(let v=1;v<x.getSize()&&g<u;v++)o.evaluateAt(v)===0&&(f[g]=x.inverse(v),g++);if(g!==u)throw new Sr("Error locator degree does not match number of roots");return f}findErrorMagnitudes(o,u){const f=u.length,g=new Int32Array(f),x=this.field;for(let v=0;v<f;v++){const _=x.inverse(u[v]);let N=1;for(let M=0;M<f;M++)if(v!==M){const k=x.multiply(u[M],_),j=(k&1)===0?k|1:k&-2;N=x.multiply(N,j)}g[v]=x.multiply(o.evaluateAt(_),x.inverse(N)),x.getGeneratorBase()!==0&&(g[v]=x.multiply(g[v],_))}return g}}var Kt;(function(L){L[L.UPPER=0]="UPPER",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.DIGIT=3]="DIGIT",L[L.PUNCT=4]="PUNCT",L[L.BINARY=5]="BINARY"})(Kt||(Kt={}));class Jt{decode(o){this.ddata=o;let u=o.getBits(),f=this.extractBits(u),g=this.correctBits(f),x=Jt.convertBoolArrayToByteArray(g),v=Jt.getEncodedData(g),_=new $r(x,v,null,null);return _.setNumBits(g.length),_}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let u=o.length,f=Kt.UPPER,g=Kt.UPPER,x="",v=0;for(;v<u;)if(g===Kt.BINARY){if(u-v<5)break;let _=Jt.readCode(o,v,5);if(v+=5,_===0){if(u-v<11)break;_=Jt.readCode(o,v,11)+31,v+=11}for(let N=0;N<_;N++){if(u-v<8){v=u;break}const M=Jt.readCode(o,v,8);x+=me.castAsNonUtf8Char(M),v+=8}g=f}else{let _=g===Kt.DIGIT?4:5;if(u-v<_)break;let N=Jt.readCode(o,v,_);v+=_;let M=Jt.getCharacter(g,N);M.startsWith("CTRL_")?(f=g,g=Jt.getTable(M.charAt(5)),M.charAt(6)==="L"&&(f=g)):(x+=M,g=f)}return x}static getTable(o){switch(o){case"L":return Kt.LOWER;case"P":return Kt.PUNCT;case"M":return Kt.MIXED;case"D":return Kt.DIGIT;case"B":return Kt.BINARY;case"U":default:return Kt.UPPER}}static getCharacter(o,u){switch(o){case Kt.UPPER:return Jt.UPPER_TABLE[u];case Kt.LOWER:return Jt.LOWER_TABLE[u];case Kt.MIXED:return Jt.MIXED_TABLE[u];case Kt.PUNCT:return Jt.PUNCT_TABLE[u];case Kt.DIGIT:return Jt.DIGIT_TABLE[u];default:throw new yi("Bad table")}}correctBits(o){let u,f;this.ddata.getNbLayers()<=2?(f=6,u=Lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(f=8,u=Lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(f=10,u=Lt.AZTEC_DATA_10):(f=12,u=Lt.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),x=o.length/f;if(x<g)throw new G;let v=o.length%f,_=new Int32Array(x);for(let U=0;U<x;U++,v+=f)_[U]=Jt.readCode(o,v,f);try{new ga(u).decode(_,x-g)}catch(U){throw new G(U)}let N=(1<<f)-1,M=0;for(let U=0;U<g;U++){let X=_[U];if(X===0||X===N)throw new G;(X===1||X===N-1)&&M++}let k=new Array(g*f-M),j=0;for(let U=0;U<g;U++){let X=_[U];if(X===1||X===N-1)k.fill(X>1,j,j+f-1),j+=f-1;else for(let te=f-1;te>=0;--te)k[j++]=(X&1<<te)!==0}return k}extractBits(o){let u=this.ddata.isCompact(),f=this.ddata.getNbLayers(),g=(u?11:14)+f*4,x=new Int32Array(g),v=new Array(this.totalBitsInLayer(f,u));if(u)for(let _=0;_<x.length;_++)x[_]=_;else{let _=g+1+2*P.truncDivision(P.truncDivision(g,2)-1,15),N=g/2,M=P.truncDivision(_,2);for(let k=0;k<N;k++){let j=k+P.truncDivision(k,15);x[N-k-1]=M-j-1,x[N+k]=M+j+1}}for(let _=0,N=0;_<f;_++){let M=(f-_)*4+(u?9:12),k=_*2,j=g-1-k;for(let U=0;U<M;U++){let X=U*2;for(let te=0;te<2;te++)v[N+X+te]=o.get(x[k+te],x[k+U]),v[N+2*M+X+te]=o.get(x[k+U],x[j-te]),v[N+4*M+X+te]=o.get(x[j-te],x[j-U]),v[N+6*M+X+te]=o.get(x[j-U],x[k+te])}N+=M*8}return v}static readCode(o,u,f){let g=0;for(let x=u;x<u+f;x++)g<<=1,o[x]&&(g|=1);return g}static readByte(o,u){let f=o.length-u;return f>=8?Jt.readCode(o,u,8):Jt.readCode(o,u,f)<<8-f}static convertBoolArrayToByteArray(o){let u=new Uint8Array((o.length+7)/8);for(let f=0;f<u.length;f++)u[f]=Jt.readByte(o,8*f);return u}totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Jt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Jt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Jt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Jt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Jt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class It{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,u,f,g){const x=o-f,v=u-g;return Math.sqrt(x*x+v*v)}static sum(o){let u=0;for(let f=0,g=o.length;f!==g;f++){const x=o[f];u+=x}return u}}class xa{static floatToIntBits(o){return o}}xa.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ge{constructor(o,u){this.x=o,this.y=u}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof Ge){const u=o;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*xa.floatToIntBits(this.x)+xa.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const u=this.distance(o[0],o[1]),f=this.distance(o[1],o[2]),g=this.distance(o[0],o[2]);let x,v,_;if(f>=u&&f>=g?(v=o[0],x=o[1],_=o[2]):g>=f&&g>=u?(v=o[1],x=o[0],_=o[2]):(v=o[2],x=o[0],_=o[1]),this.crossProductZ(x,v,_)<0){const N=x;x=_,_=N}o[0]=x,o[1]=v,o[2]=_}static distance(o,u){return It.distance(o.x,o.y,u.x,u.y)}static crossProductZ(o,u,f){const g=u.x,x=u.y;return(f.x-g)*(o.y-x)-(f.y-x)*(o.x-g)}}class bi{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class ws extends bi{constructor(o,u,f,g,x){super(o,u),this.compact=f,this.nbDatablocks=g,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class vi{constructor(o,u,f,g){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),u==null&&(u=vi.INIT_SIZE),f==null&&(f=o.getWidth()/2|0),g==null&&(g=o.getHeight()/2|0);const x=u/2|0;if(this.leftInit=f-x,this.rightInit=f+x,this.upInit=g-x,this.downInit=g+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let o=this.leftInit,u=this.rightInit,f=this.upInit,g=this.downInit,x=!1,v=!0,_=!1,N=!1,M=!1,k=!1,j=!1;const U=this.width,X=this.height;for(;v;){v=!1;let te=!0;for(;(te||!N)&&u<U;)te=this.containsBlackPoint(f,g,u,!1),te?(u++,v=!0,N=!0):N||u++;if(u>=U){x=!0;break}let re=!0;for(;(re||!M)&&g<X;)re=this.containsBlackPoint(o,u,g,!0),re?(g++,v=!0,M=!0):M||g++;if(g>=X){x=!0;break}let le=!0;for(;(le||!k)&&o>=0;)le=this.containsBlackPoint(f,g,o,!1),le?(o--,v=!0,k=!0):k||o--;if(o<0){x=!0;break}let ge=!0;for(;(ge||!j)&&f>=0;)ge=this.containsBlackPoint(o,u,f,!0),ge?(f--,v=!0,j=!0):j||f--;if(f<0){x=!0;break}v&&(_=!0)}if(!x&&_){const te=u-o;let re=null;for(let je=1;re===null&&je<te;je++)re=this.getBlackPointOnSegment(o,g-je,o+je,g);if(re==null)throw new ee;let le=null;for(let je=1;le===null&&je<te;je++)le=this.getBlackPointOnSegment(o,f+je,o+je,f);if(le==null)throw new ee;let ge=null;for(let je=1;ge===null&&je<te;je++)ge=this.getBlackPointOnSegment(u,f+je,u-je,f);if(ge==null)throw new ee;let Be=null;for(let je=1;Be===null&&je<te;je++)Be=this.getBlackPointOnSegment(u,g-je,u-je,g);if(Be==null)throw new ee;return this.centerEdges(Be,re,ge,le)}else throw new ee}getBlackPointOnSegment(o,u,f,g){const x=It.round(It.distance(o,u,f,g)),v=(f-o)/x,_=(g-u)/x,N=this.image;for(let M=0;M<x;M++){const k=It.round(o+M*v),j=It.round(u+M*_);if(N.get(k,j))return new Ge(k,j)}return null}centerEdges(o,u,f,g){const x=o.getX(),v=o.getY(),_=u.getX(),N=u.getY(),M=f.getX(),k=f.getY(),j=g.getX(),U=g.getY(),X=vi.CORR;return x<this.width/2?[new Ge(j-X,U+X),new Ge(_+X,N+X),new Ge(M-X,k-X),new Ge(x+X,v-X)]:[new Ge(j+X,U+X),new Ge(_+X,N-X),new Ge(M-X,k+X),new Ge(x-X,v-X)]}containsBlackPoint(o,u,f,g){const x=this.image;if(g){for(let v=o;v<=u;v++)if(x.get(v,f))return!0}else for(let v=o;v<=u;v++)if(x.get(f,v))return!0;return!1}}vi.INIT_SIZE=10,vi.CORR=1;class ya{static checkAndNudgePoints(o,u){const f=o.getWidth(),g=o.getHeight();let x=!0;for(let v=0;v<u.length&&x;v+=2){const _=Math.floor(u[v]),N=Math.floor(u[v+1]);if(_<-1||_>f||N<-1||N>g)throw new ee;x=!1,_===-1?(u[v]=0,x=!0):_===f&&(u[v]=f-1,x=!0),N===-1?(u[v+1]=0,x=!0):N===g&&(u[v+1]=g-1,x=!0)}x=!0;for(let v=u.length-2;v>=0&&x;v-=2){const _=Math.floor(u[v]),N=Math.floor(u[v+1]);if(_<-1||_>f||N<-1||N>g)throw new ee;x=!1,_===-1?(u[v]=0,x=!0):_===f&&(u[v]=f-1,x=!0),N===-1?(u[v+1]=0,x=!0):N===g&&(u[v+1]=g-1,x=!0)}}}class _n{constructor(o,u,f,g,x,v,_,N,M){this.a11=o,this.a21=u,this.a31=f,this.a12=g,this.a22=x,this.a32=v,this.a13=_,this.a23=N,this.a33=M}static quadrilateralToQuadrilateral(o,u,f,g,x,v,_,N,M,k,j,U,X,te,re,le){const ge=_n.quadrilateralToSquare(o,u,f,g,x,v,_,N);return _n.squareToQuadrilateral(M,k,j,U,X,te,re,le).times(ge)}transformPoints(o){const u=o.length,f=this.a11,g=this.a12,x=this.a13,v=this.a21,_=this.a22,N=this.a23,M=this.a31,k=this.a32,j=this.a33;for(let U=0;U<u;U+=2){const X=o[U],te=o[U+1],re=x*X+N*te+j;o[U]=(f*X+v*te+M)/re,o[U+1]=(g*X+_*te+k)/re}}transformPointsWithValues(o,u){const f=this.a11,g=this.a12,x=this.a13,v=this.a21,_=this.a22,N=this.a23,M=this.a31,k=this.a32,j=this.a33,U=o.length;for(let X=0;X<U;X++){const te=o[X],re=u[X],le=x*te+N*re+j;o[X]=(f*te+v*re+M)/le,u[X]=(g*te+_*re+k)/le}}static squareToQuadrilateral(o,u,f,g,x,v,_,N){const M=o-f+x-_,k=u-g+v-N;if(M===0&&k===0)return new _n(f-o,x-f,o,g-u,v-g,u,0,0,1);{const j=f-x,U=_-x,X=g-v,te=N-v,re=j*te-U*X,le=(M*te-U*k)/re,ge=(j*k-M*X)/re;return new _n(f-o+le*f,_-o+ge*_,o,g-u+le*g,N-u+ge*N,u,le,ge,1)}}static quadrilateralToSquare(o,u,f,g,x,v,_,N){return _n.squareToQuadrilateral(o,u,f,g,x,v,_,N).buildAdjoint()}buildAdjoint(){return new _n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new _n(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Sn extends ya{sampleGrid(o,u,f,g,x,v,_,N,M,k,j,U,X,te,re,le,ge,Be,je){const Ie=_n.quadrilateralToQuadrilateral(g,x,v,_,N,M,k,j,U,X,te,re,le,ge,Be,je);return this.sampleGridWithTransform(o,u,f,Ie)}sampleGridWithTransform(o,u,f,g){if(u<=0||f<=0)throw new ee;const x=new De(u,f),v=new Float32Array(2*u);for(let _=0;_<f;_++){const N=v.length,M=_+.5;for(let k=0;k<N;k+=2)v[k]=k/2+.5,v[k+1]=M;g.transformPoints(v),ya.checkAndNudgePoints(o,v);try{for(let k=0;k<N;k+=2)o.get(Math.floor(v[k]),Math.floor(v[k+1]))&&x.set(k/2,_)}catch{throw new ee}}return x}}class or{static setGridSampler(o){or.gridSampler=o}static getInstance(){return or.gridSampler}}or.gridSampler=new Sn;class $t{constructor(o,u){this.x=o,this.y=u}toResultPoint(){return new Ge(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class gc{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let u=this.getMatrixCenter(),f=this.getBullsEyeCorners(u);if(o){let v=f[0];f[0]=f[2],f[2]=v}this.extractParameters(f);let g=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),x=this.getMatrixCornerPoints(f);return new ws(g,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new ee;let u=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(o[0],o[1],u),this.sampleLine(o[1],o[2],u),this.sampleLine(o[2],o[3],u),this.sampleLine(o[3],o[0],u)]);this.shift=this.getRotation(f,u);let g=0;for(let v=0;v<4;v++){let _=f[(this.shift+v)%4];this.compact?(g<<=7,g+=_>>1&127):(g<<=10,g+=(_>>2&992)+(_>>1&31))}let x=this.getCorrectedParameterData(g,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(o,u){let f=0;o.forEach((g,x,v)=>{let _=(g>>u-2<<1)+(g&1);f=(f<<3)+_}),f=((f&1)<<11)+(f>>1);for(let g=0;g<4;g++)if(P.bitCount(f^this.EXPECTED_CORNER_BITS[g])<=2)return g;throw new ee}getCorrectedParameterData(o,u){let f,g;u?(f=7,g=2):(f=10,g=4);let x=f-g,v=new Int32Array(f);for(let N=f-1;N>=0;--N)v[N]=o&15,o>>=4;try{new ga(Lt.AZTEC_PARAM).decode(v,x)}catch{throw new ee}let _=0;for(let N=0;N<g;N++)_=(_<<4)+v[N];return _}getBullsEyeCorners(o){let u=o,f=o,g=o,x=o,v=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let j=this.getFirstDifferent(u,v,1,-1),U=this.getFirstDifferent(f,v,1,1),X=this.getFirstDifferent(g,v,-1,1),te=this.getFirstDifferent(x,v,-1,-1);if(this.nbCenterLayers>2){let re=this.distancePoint(te,j)*this.nbCenterLayers/(this.distancePoint(x,u)*(this.nbCenterLayers+2));if(re<.75||re>1.25||!this.isWhiteOrBlackRectangle(j,U,X,te))break}u=j,f=U,g=X,x=te,v=!v}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let _=new Ge(u.getX()+.5,u.getY()-.5),N=new Ge(f.getX()+.5,f.getY()+.5),M=new Ge(g.getX()-.5,g.getY()+.5),k=new Ge(x.getX()-.5,x.getY()-.5);return this.expandSquare([_,N,M,k],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,u,f,g;try{let _=new vi(this.image).detect();o=_[0],u=_[1],f=_[2],g=_[3]}catch{let N=this.image.getWidth()/2,M=this.image.getHeight()/2;o=this.getFirstDifferent(new $t(N+7,M-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new $t(N+7,M+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new $t(N-7,M+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new $t(N-7,M-7),!1,-1,-1).toResultPoint()}let x=It.round((o.getX()+g.getX()+u.getX()+f.getX())/4),v=It.round((o.getY()+g.getY()+u.getY()+f.getY())/4);try{let _=new vi(this.image,15,x,v).detect();o=_[0],u=_[1],f=_[2],g=_[3]}catch{o=this.getFirstDifferent(new $t(x+7,v-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new $t(x+7,v+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new $t(x-7,v+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new $t(x-7,v-7),!1,-1,-1).toResultPoint()}return x=It.round((o.getX()+g.getX()+u.getX()+f.getX())/4),v=It.round((o.getY()+g.getY()+u.getY()+f.getY())/4),new $t(x,v)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,u,f,g,x){let v=or.getInstance(),_=this.getDimension(),N=_/2-this.nbCenterLayers,M=_/2+this.nbCenterLayers;return v.sampleGrid(o,_,_,N,N,M,N,M,M,N,M,u.getX(),u.getY(),f.getX(),f.getY(),g.getX(),g.getY(),x.getX(),x.getY())}sampleLine(o,u,f){let g=0,x=this.distanceResultPoint(o,u),v=x/f,_=o.getX(),N=o.getY(),M=v*(u.getX()-o.getX())/x,k=v*(u.getY()-o.getY())/x;for(let j=0;j<f;j++)this.image.get(It.round(_+j*M),It.round(N+j*k))&&(g|=1<<f-j-1);return g}isWhiteOrBlackRectangle(o,u,f,g){let x=3;o=new $t(o.getX()-x,o.getY()+x),u=new $t(u.getX()-x,u.getY()-x),f=new $t(f.getX()+x,f.getY()-x),g=new $t(g.getX()+x,g.getY()+x);let v=this.getColor(g,o);if(v===0)return!1;let _=this.getColor(o,u);return _!==v||(_=this.getColor(u,f),_!==v)?!1:(_=this.getColor(f,g),_===v)}getColor(o,u){let f=this.distancePoint(o,u),g=(u.getX()-o.getX())/f,x=(u.getY()-o.getY())/f,v=0,_=o.getX(),N=o.getY(),M=this.image.get(o.getX(),o.getY()),k=Math.ceil(f);for(let U=0;U<k;U++)_+=g,N+=x,this.image.get(It.round(_),It.round(N))!==M&&v++;let j=v/f;return j>.1&&j<.9?0:j<=.1===M?1:-1}getFirstDifferent(o,u,f,g){let x=o.getX()+f,v=o.getY()+g;for(;this.isValid(x,v)&&this.image.get(x,v)===u;)x+=f,v+=g;for(x-=f,v-=g;this.isValid(x,v)&&this.image.get(x,v)===u;)x+=f;for(x-=f;this.isValid(x,v)&&this.image.get(x,v)===u;)v+=g;return v-=g,new $t(x,v)}expandSquare(o,u,f){let g=f/(2*u),x=o[0].getX()-o[2].getX(),v=o[0].getY()-o[2].getY(),_=(o[0].getX()+o[2].getX())/2,N=(o[0].getY()+o[2].getY())/2,M=new Ge(_+g*x,N+g*v),k=new Ge(_-g*x,N-g*v);x=o[1].getX()-o[3].getX(),v=o[1].getY()-o[3].getY(),_=(o[1].getX()+o[3].getX())/2,N=(o[1].getY()+o[3].getY())/2;let j=new Ge(_+g*x,N+g*v),U=new Ge(_-g*x,N-g*v);return[M,j,k,U]}isValid(o,u){return o>=0&&o<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(o){let u=It.round(o.getX()),f=It.round(o.getY());return this.isValid(u,f)}distancePoint(o,u){return It.distance(o.getX(),o.getY(),u.getX(),u.getY())}distanceResultPoint(o,u){return It.distance(o.getX(),o.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class ii{decode(o,u=null){let f=null,g=new gc(o.getBlackMatrix()),x=null,v=null;try{let k=g.detectMirror(!1);x=k.getPoints(),this.reportFoundResultPoints(u,x),v=new Jt().decode(k)}catch(k){f=k}if(v==null)try{let k=g.detectMirror(!0);x=k.getPoints(),this.reportFoundResultPoints(u,x),v=new Jt().decode(k)}catch(k){throw f??k}let _=new He(v.getText(),v.getRawBytes(),v.getNumBits(),x,Me.AZTEC,R.currentTimeMillis()),N=v.getByteSegments();N!=null&&_.putMetadata(mt.BYTE_SEGMENTS,N);let M=v.getECLevel();return M!=null&&_.putMetadata(mt.ERROR_CORRECTION_LEVEL,M),_}reportFoundResultPoints(o,u){if(o!=null){let f=o.get(V.NEED_RESULT_POINT_CALLBACK);f!=null&&u.forEach((g,x,v)=>{f.foundPossibleResultPoint(g)})}}reset(){}}class xc extends Re{constructor(o=500){super(new ii,o)}}class dn{decode(o,u){try{return this.doDecode(o,u)}catch{if(u&&u.get(V.TRY_HARDER)===!0&&o.isRotateSupported()){const x=o.rotateCounterClockwise(),v=this.doDecode(x,u),_=v.getResultMetadata();let N=270;_!==null&&_.get(mt.ORIENTATION)===!0&&(N=N+_.get(mt.ORIENTATION)%360),v.putMetadata(mt.ORIENTATION,N);const M=v.getResultPoints();if(M!==null){const k=x.getHeight();for(let j=0;j<M.length;j++)M[j]=new Ge(k-M[j].getY()-1,M[j].getX())}return v}else throw new ee}}reset(){}doDecode(o,u){const f=o.getWidth(),g=o.getHeight();let x=new q(f);const v=u&&u.get(V.TRY_HARDER)===!0,_=Math.max(1,g>>(v?8:5));let N;v?N=g:N=15;const M=Math.trunc(g/2);for(let k=0;k<N;k++){const j=Math.trunc((k+1)/2),U=(k&1)===0,X=M+_*(U?j:-j);if(X<0||X>=g)break;try{x=o.getBlackRow(X,x)}catch{continue}for(let te=0;te<2;te++){if(te===1&&(x.reverse(),u&&u.get(V.NEED_RESULT_POINT_CALLBACK)===!0)){const re=new Map;u.forEach((le,ge)=>re.set(ge,le)),re.delete(V.NEED_RESULT_POINT_CALLBACK),u=re}try{const re=this.decodeRow(X,x,u);if(te===1){re.putMetadata(mt.ORIENTATION,180);const le=re.getResultPoints();le!==null&&(le[0]=new Ge(f-le[0].getX()-1,le[0].getY()),le[1]=new Ge(f-le[1].getX()-1,le[1].getY()))}return re}catch{}}}throw new ee}static recordPattern(o,u,f){const g=f.length;for(let M=0;M<g;M++)f[M]=0;const x=o.getSize();if(u>=x)throw new ee;let v=!o.get(u),_=0,N=u;for(;N<x;){if(o.get(N)!==v)f[_]++;else{if(++_===g)break;f[_]=1,v=!v}N++}if(!(_===g||_===g-1&&N===x))throw new ee}static recordPatternInReverse(o,u,f){let g=f.length,x=o.get(u);for(;u>0&&g>=0;)o.get(--u)!==x&&(g--,x=!x);if(g>=0)throw new ee;dn.recordPattern(o,u+1,f)}static patternMatchVariance(o,u,f){const g=o.length;let x=0,v=0;for(let M=0;M<g;M++)x+=o[M],v+=u[M];if(x<v)return Number.POSITIVE_INFINITY;const _=x/v;f*=_;let N=0;for(let M=0;M<g;M++){const k=o[M],j=u[M]*_,U=k>j?k-j:j-k;if(U>f)return Number.POSITIVE_INFINITY;N+=U}return N/x}}class Ue extends dn{static findStartPattern(o){const u=o.getSize(),f=o.getNextSet(0);let g=0,x=Int32Array.from([0,0,0,0,0,0]),v=f,_=!1;const N=6;for(let M=f;M<u;M++)if(o.get(M)!==_)x[g]++;else{if(g===N-1){let k=Ue.MAX_AVG_VARIANCE,j=-1;for(let U=Ue.CODE_START_A;U<=Ue.CODE_START_C;U++){const X=dn.patternMatchVariance(x,Ue.CODE_PATTERNS[U],Ue.MAX_INDIVIDUAL_VARIANCE);X<k&&(k=X,j=U)}if(j>=0&&o.isRange(Math.max(0,v-(M-v)/2),v,!1))return Int32Array.from([v,M,j]);v+=x[0]+x[1],x=x.slice(2,x.length-1),x[g-1]=0,x[g]=0,g--}else g++;x[g]=1,_=!_}throw new ee}static decodeCode(o,u,f){dn.recordPattern(o,f,u);let g=Ue.MAX_AVG_VARIANCE,x=-1;for(let v=0;v<Ue.CODE_PATTERNS.length;v++){const _=Ue.CODE_PATTERNS[v],N=this.patternMatchVariance(u,_,Ue.MAX_INDIVIDUAL_VARIANCE);N<g&&(g=N,x=v)}if(x>=0)return x;throw new ee}decodeRow(o,u,f){const g=f&&f.get(V.ASSUME_GS1)===!0,x=Ue.findStartPattern(u),v=x[2];let _=0;const N=new Uint8Array(20);N[_++]=v;let M;switch(v){case Ue.CODE_START_A:M=Ue.CODE_CODE_A;break;case Ue.CODE_START_B:M=Ue.CODE_CODE_B;break;case Ue.CODE_START_C:M=Ue.CODE_CODE_C;break;default:throw new G}let k=!1,j=!1,U="",X=x[0],te=x[1];const re=Int32Array.from([0,0,0,0,0,0]);let le=0,ge=0,Be=v,je=0,Ie=!0,bt=!1,gt=!1;for(;!k;){const Js=j;switch(j=!1,le=ge,ge=Ue.decodeCode(u,re,te),N[_++]=ge,ge!==Ue.CODE_STOP&&(Ie=!0),ge!==Ue.CODE_STOP&&(je++,Be+=je*ge),X=te,te+=re.reduce((Bi,Uf)=>Bi+Uf,0),ge){case Ue.CODE_START_A:case Ue.CODE_START_B:case Ue.CODE_START_C:throw new G}switch(M){case Ue.CODE_CODE_A:if(ge<64)gt===bt?U+=String.fromCharCode(32+ge):U+=String.fromCharCode(32+ge+128),gt=!1;else if(ge<96)gt===bt?U+=String.fromCharCode(ge-64):U+=String.fromCharCode(ge+64),gt=!1;else switch(ge!==Ue.CODE_STOP&&(Ie=!1),ge){case Ue.CODE_FNC_1:g&&(U.length===0?U+="]C1":U+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_A:!bt&&gt?(bt=!0,gt=!1):bt&&gt?(bt=!1,gt=!1):gt=!0;break;case Ue.CODE_SHIFT:j=!0,M=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_B:M=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_C:M=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:k=!0;break}break;case Ue.CODE_CODE_B:if(ge<96)gt===bt?U+=String.fromCharCode(32+ge):U+=String.fromCharCode(32+ge+128),gt=!1;else switch(ge!==Ue.CODE_STOP&&(Ie=!1),ge){case Ue.CODE_FNC_1:g&&(U.length===0?U+="]C1":U+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_B:!bt&&gt?(bt=!0,gt=!1):bt&&gt?(bt=!1,gt=!1):gt=!0;break;case Ue.CODE_SHIFT:j=!0,M=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_A:M=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_C:M=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:k=!0;break}break;case Ue.CODE_CODE_C:if(ge<100)ge<10&&(U+="0"),U+=ge;else switch(ge!==Ue.CODE_STOP&&(Ie=!1),ge){case Ue.CODE_FNC_1:g&&(U.length===0?U+="]C1":U+="");break;case Ue.CODE_CODE_A:M=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_B:M=Ue.CODE_CODE_B;break;case Ue.CODE_STOP:k=!0;break}break}Js&&(M=M===Ue.CODE_CODE_A?Ue.CODE_CODE_B:Ue.CODE_CODE_A)}const jr=te-X;if(te=u.getNextUnset(te),!u.isRange(te,Math.min(u.getSize(),te+(te-X)/2),!1))throw new ee;if(Be-=je*le,Be%103!==le)throw new A;const Ci=U.length;if(Ci===0)throw new ee;Ci>0&&Ie&&(M===Ue.CODE_CODE_C?U=U.substring(0,Ci-2):U=U.substring(0,Ci-1));const Wr=(x[1]+x[0])/2,an=X+jr/2,vr=N.length,Xr=new Uint8Array(vr);for(let Js=0;Js<vr;Js++)Xr[Js]=N[Js];const Aa=[new Ge(Wr,o),new Ge(an,o)];return new He(U,Xr,0,Aa,Me.CODE_128,new Date().getTime())}}Ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ue.MAX_AVG_VARIANCE=.25,Ue.MAX_INDIVIDUAL_VARIANCE=.7,Ue.CODE_SHIFT=98,Ue.CODE_CODE_C=99,Ue.CODE_CODE_B=100,Ue.CODE_CODE_A=101,Ue.CODE_FNC_1=102,Ue.CODE_FNC_2=97,Ue.CODE_FNC_3=96,Ue.CODE_FNC_4_A=101,Ue.CODE_FNC_4_B=100,Ue.CODE_START_A=103,Ue.CODE_START_B=104,Ue.CODE_START_C=105,Ue.CODE_STOP=106;class rn extends dn{constructor(o=!1,u=!1){super(),this.usingCheckDigit=o,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,u,f){let g=this.counters;g.fill(0),this.decodeRowResult="";let x=rn.findAsteriskPattern(u,g),v=u.getNextSet(x[1]),_=u.getSize(),N,M;do{rn.recordPattern(u,v,g);let re=rn.toNarrowWidePattern(g);if(re<0)throw new ee;N=rn.patternToChar(re),this.decodeRowResult+=N,M=v;for(let le of g)v+=le;v=u.getNextSet(v)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let k=0;for(let re of g)k+=re;let j=v-M-k;if(v!==_&&j*2<k)throw new ee;if(this.usingCheckDigit){let re=this.decodeRowResult.length-1,le=0;for(let ge=0;ge<re;ge++)le+=rn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ge));if(this.decodeRowResult.charAt(re)!==rn.ALPHABET_STRING.charAt(le%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,re)}if(this.decodeRowResult.length===0)throw new ee;let U;this.extendedMode?U=rn.decodeExtended(this.decodeRowResult):U=this.decodeRowResult;let X=(x[1]+x[0])/2,te=M+k/2;return new He(U,null,0,[new Ge(X,o),new Ge(te,o)],Me.CODE_39,new Date().getTime())}static findAsteriskPattern(o,u){let f=o.getSize(),g=o.getNextSet(0),x=0,v=g,_=!1,N=u.length;for(let M=g;M<f;M++)if(o.get(M)!==_)u[x]++;else{if(x===N-1){if(this.toNarrowWidePattern(u)===rn.ASTERISK_ENCODING&&o.isRange(Math.max(0,v-Math.floor((M-v)/2)),v,!1))return[v,M];v+=u[0]+u[1],u.copyWithin(0,2,2+x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,_=!_}throw new ee}static toNarrowWidePattern(o){let u=o.length,f=0,g;do{let x=2147483647;for(let N of o)N<x&&N>f&&(x=N);f=x,g=0;let v=0,_=0;for(let N=0;N<u;N++){let M=o[N];M>f&&(_|=1<<u-1-N,g++,v+=M)}if(g===3){for(let N=0;N<u&&g>0;N++){let M=o[N];if(M>f&&(g--,M*2>=v))return-1}return _}}while(g>3);return-1}static patternToChar(o){for(let u=0;u<rn.CHARACTER_ENCODINGS.length;u++)if(rn.CHARACTER_ENCODINGS[u]===o)return rn.ALPHABET_STRING.charAt(u);if(o===rn.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(o){let u=o.length,f="";for(let g=0;g<u;g++){let x=o.charAt(g);if(x==="+"||x==="$"||x==="%"||x==="/"){let v=o.charAt(g+1),_="\0";switch(x){case"+":if(v>="A"&&v<="Z")_=String.fromCharCode(v.charCodeAt(0)+32);else throw new G;break;case"$":if(v>="A"&&v<="Z")_=String.fromCharCode(v.charCodeAt(0)-64);else throw new G;break;case"%":if(v>="A"&&v<="E")_=String.fromCharCode(v.charCodeAt(0)-38);else if(v>="F"&&v<="J")_=String.fromCharCode(v.charCodeAt(0)-11);else if(v>="K"&&v<="O")_=String.fromCharCode(v.charCodeAt(0)+16);else if(v>="P"&&v<="T")_=String.fromCharCode(v.charCodeAt(0)+43);else if(v==="U")_="\0";else if(v==="V")_="@";else if(v==="W")_="`";else if(v==="X"||v==="Y"||v==="Z")_="";else throw new G;break;case"/":if(v>="A"&&v<="O")_=String.fromCharCode(v.charCodeAt(0)-32);else if(v==="Z")_=":";else throw new G;break}f+=_,g++}else f+=x}return f}}rn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",rn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],rn.ASTERISK_ENCODING=148;class Ht extends dn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,u,f){let g=this.decodeStart(u),x=this.decodeEnd(u),v=new Pe;Ht.decodeMiddle(u,g[1],x[0],v);let _=v.toString(),N=null;f!=null&&(N=f.get(V.ALLOWED_LENGTHS)),N==null&&(N=Ht.DEFAULT_ALLOWED_LENGTHS);let M=_.length,k=!1,j=0;for(let te of N){if(M===te){k=!0;break}te>j&&(j=te)}if(!k&&M>j&&(k=!0),!k)throw new G;const U=[new Ge(g[1],o),new Ge(x[0],o)];return new He(_,null,0,U,Me.ITF,new Date().getTime())}static decodeMiddle(o,u,f,g){let x=new Int32Array(10),v=new Int32Array(5),_=new Int32Array(5);for(x.fill(0),v.fill(0),_.fill(0);u<f;){dn.recordPattern(o,u,x);for(let M=0;M<5;M++){let k=2*M;v[M]=x[k],_[M]=x[k+1]}let N=Ht.decodeDigit(v);g.append(N.toString()),N=this.decodeDigit(_),g.append(N.toString()),x.forEach(function(M){u+=M})}}decodeStart(o){let u=Ht.skipWhiteSpace(o),f=Ht.findGuardPattern(o,u,Ht.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(o,f[0]),f}validateQuietZone(o,u){let f=this.narrowLineWidth*10;f=f<u?f:u;for(let g=u-1;f>0&&g>=0&&!o.get(g);g--)f--;if(f!==0)throw new ee}static skipWhiteSpace(o){const u=o.getSize(),f=o.getNextSet(0);if(f===u)throw new ee;return f}decodeEnd(o){o.reverse();try{let u=Ht.skipWhiteSpace(o),f;try{f=Ht.findGuardPattern(o,u,Ht.END_PATTERN_REVERSED[0])}catch(x){x instanceof ee&&(f=Ht.findGuardPattern(o,u,Ht.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,f[0]);let g=f[0];return f[0]=o.getSize()-f[1],f[1]=o.getSize()-g,f}finally{o.reverse()}}static findGuardPattern(o,u,f){let g=f.length,x=new Int32Array(g),v=o.getSize(),_=!1,N=0,M=u;x.fill(0);for(let k=u;k<v;k++)if(o.get(k)!==_)x[N]++;else{if(N===g-1){if(dn.patternMatchVariance(x,f,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return[M,k];M+=x[0]+x[1],R.arraycopy(x,2,x,0,N-1),x[N-1]=0,x[N]=0,N--}else N++;x[N]=1,_=!_}throw new ee}static decodeDigit(o){let u=Ht.MAX_AVG_VARIANCE,f=-1,g=Ht.PATTERNS.length;for(let x=0;x<g;x++){let v=Ht.PATTERNS[x],_=dn.patternMatchVariance(o,v,Ht.MAX_INDIVIDUAL_VARIANCE);_<u?(u=_,f=x):_===u&&(f=-1)}if(f>=0)return f%10;throw new ee}}Ht.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ht.MAX_AVG_VARIANCE=.38,Ht.MAX_INDIVIDUAL_VARIANCE=.5,Ht.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ht.START_PATTERN=Int32Array.from([1,1,1,1]),Ht.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Gt extends dn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let u=!1,f,g=0,x=Int32Array.from([0,0,0]);for(;!u;){x=Int32Array.from([0,0,0]),f=Gt.findGuardPattern(o,g,!1,this.START_END_PATTERN,x);let v=f[0];g=f[1];let _=v-(g-v);_>=0&&(u=o.isRange(_,v,!1))}return f}static checkChecksum(o){return Gt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let f=parseInt(o.charAt(u-1),10);return Gt.getStandardUPCEANChecksum(o.substring(0,u-1))===f}static getStandardUPCEANChecksum(o){let u=o.length,f=0;for(let g=u-1;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new G;f+=x}f*=3;for(let g=u-2;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new G;f+=x}return(1e3-f)%10}static decodeEnd(o,u){return Gt.findGuardPattern(o,u,!1,Gt.START_END_PATTERN,new Int32Array(Gt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,u,f,g){return this.findGuardPattern(o,u,f,g,new Int32Array(g.length))}static findGuardPattern(o,u,f,g,x){let v=o.getSize();u=f?o.getNextUnset(u):o.getNextSet(u);let _=0,N=u,M=g.length,k=f;for(let j=u;j<v;j++)if(o.get(j)!==k)x[_]++;else{if(_===M-1){if(dn.patternMatchVariance(x,g,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return Int32Array.from([N,j]);N+=x[0]+x[1];let U=x.slice(2,x.length-1);for(let X=0;X<_-1;X++)x[X]=U[X];x[_-1]=0,x[_]=0,_--}else _++;x[_]=1,k=!k}throw new ee}static decodeDigit(o,u,f,g){this.recordPattern(o,f,u);let x=this.MAX_AVG_VARIANCE,v=-1,_=g.length;for(let N=0;N<_;N++){let M=g[N],k=dn.patternMatchVariance(u,M,Gt.MAX_INDIVIDUAL_VARIANCE);k<x&&(x=k,v=N)}if(v>=0)return v;throw new ee}}Gt.MAX_AVG_VARIANCE=.48,Gt.MAX_INDIVIDUAL_VARIANCE=.7,Gt.START_END_PATTERN=Int32Array.from([1,1,1]),Gt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Gt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Fs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,f){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(u,f,g),v=g.toString(),_=Fs.parseExtensionString(v),N=[new Ge((f[0]+f[1])/2,o),new Ge(x,o)],M=new He(v,null,0,N,Me.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&M.putAllMetadata(_),M}decodeMiddle(o,u,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),v=u[1],_=0;for(let M=0;M<5&&v<x;M++){let k=Gt.decodeDigit(o,g,v,Gt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+k%10);for(let j of g)v+=j;k>=10&&(_|=1<<4-M),M!==4&&(v=o.getNextSet(v),v=o.getNextUnset(v))}if(f.length!==5)throw new ee;let N=this.determineCheckDigit(_);if(Fs.extensionChecksum(f.toString())!==N)throw new ee;return v}static extensionChecksum(o){let u=o.length,f=0;for(let g=u-2;g>=0;g-=2)f+=o.charAt(g).charCodeAt(0)-48;f*=3;for(let g=u-1;g>=0;g-=2)f+=o.charAt(g).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(o){for(let u=0;u<10;u++)if(o===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new ee}static parseExtensionString(o){if(o.length!==5)return null;let u=Fs.parseExtension5String(o);return u==null?null:new Map([[mt.SUGGESTED_PRICE,u]])}static parseExtension5String(o){let u;switch(o.charAt(0)){case"0":u="";break;case"5":u="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let f=parseInt(o.substring(1)),g=(f/100).toString(),x=f%100,v=x<10?"0"+x:x.toString();return u+g+"."+v}}class Us{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,f){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(u,f,g),v=g.toString(),_=Us.parseExtensionString(v),N=[new Ge((f[0]+f[1])/2,o),new Ge(x,o)],M=new He(v,null,0,N,Me.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&M.putAllMetadata(_),M}decodeMiddle(o,u,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),v=u[1],_=0;for(let N=0;N<2&&v<x;N++){let M=Gt.decodeDigit(o,g,v,Gt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+M%10);for(let k of g)v+=k;M>=10&&(_|=1<<1-N),N!==1&&(v=o.getNextSet(v),v=o.getNextUnset(v))}if(f.length!==2)throw new ee;if(parseInt(f.toString())%4!==_)throw new ee;return v}static parseExtensionString(o){return o.length!==2?null:new Map([[mt.ISSUE_NUMBER,parseInt(o)]])}}class ml{static decodeRow(o,u,f){let g=Gt.findGuardPattern(u,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Fs().decodeRow(o,u,g)}catch{return new Us().decodeRow(o,u,g)}}}ml.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class kt extends Gt{constructor(){super(),this.decodeRowStringBuffer="",kt.L_AND_G_PATTERNS=kt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let u=kt.L_PATTERNS[o-10],f=new Int32Array(u.length);for(let g=0;g<u.length;g++)f[g]=u[u.length-g-1];kt.L_AND_G_PATTERNS[o]=f}}decodeRow(o,u,f){let g=kt.findStartGuardPattern(u),x=f==null?null:f.get(V.NEED_RESULT_POINT_CALLBACK);if(x!=null){const Ie=new Ge((g[0]+g[1])/2,o);x.foundPossibleResultPoint(Ie)}let v=this.decodeMiddle(u,g,this.decodeRowStringBuffer),_=v.rowOffset,N=v.resultString;if(x!=null){const Ie=new Ge(_,o);x.foundPossibleResultPoint(Ie)}let M=this.decodeEnd(u,_);if(x!=null){const Ie=new Ge((M[0]+M[1])/2,o);x.foundPossibleResultPoint(Ie)}let k=M[1],j=k+(k-M[0]);if(j>=u.getSize()||!u.isRange(k,j,!1))throw new ee;let U=N.toString();if(U.length<8)throw new G;if(!kt.checkChecksum(U))throw new A;let X=(g[1]+g[0])/2,te=(M[1]+M[0])/2,re=this.getBarcodeFormat(),le=[new Ge(X,o),new Ge(te,o)],ge=new He(U,null,0,le,re,new Date().getTime()),Be=0;try{let Ie=ml.decodeRow(o,u,M[1]);ge.putMetadata(mt.UPC_EAN_EXTENSION,Ie.getText()),ge.putAllMetadata(Ie.getResultMetadata()),ge.addResultPoints(Ie.getResultPoints()),Be=Ie.getText().length}catch{}let je=f==null?null:f.get(V.ALLOWED_EAN_EXTENSIONS);if(je!=null){let Ie=!1;for(let bt in je)if(Be.toString()===bt){Ie=!0;break}if(!Ie)throw new ee}return ge}decodeEnd(o,u){return kt.findGuardPattern(o,u,!1,kt.START_END_PATTERN,new Int32Array(kt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return kt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let f=parseInt(o.charAt(u-1),10);return kt.getStandardUPCEANChecksum(o.substring(0,u-1))===f}static getStandardUPCEANChecksum(o){let u=o.length,f=0;for(let g=u-1;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new G;f+=x}f*=3;for(let g=u-2;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new G;f+=x}return(1e3-f)%10}}class si extends kt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),v=u[1],_=0;for(let M=0;M<6&&v<x;M++){let k=kt.decodeDigit(o,g,v,kt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+k%10);for(let j of g)v+=j;k>=10&&(_|=1<<5-M)}f=si.determineFirstDigit(f,_),v=kt.findGuardPattern(o,v,!0,kt.MIDDLE_PATTERN,new Int32Array(kt.MIDDLE_PATTERN.length).fill(0))[1];for(let M=0;M<6&&v<x;M++){let k=kt.decodeDigit(o,g,v,kt.L_PATTERNS);f+=String.fromCharCode(48+k);for(let j of g)v+=j}return{rowOffset:v,resultString:f}}getBarcodeFormat(){return Me.EAN_13}static determineFirstDigit(o,u){for(let f=0;f<10;f++)if(u===this.FIRST_DIGIT_ENCODINGS[f])return o=String.fromCharCode(48+f)+o,o;throw new ee}}si.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class gl extends kt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,f){const g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),v=u[1];for(let N=0;N<4&&v<x;N++){let M=kt.decodeDigit(o,g,v,kt.L_PATTERNS);f+=String.fromCharCode(48+M);for(let k of g)v+=k}v=kt.findGuardPattern(o,v,!0,kt.MIDDLE_PATTERN,new Int32Array(kt.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&v<x;N++){let M=kt.decodeDigit(o,g,v,kt.L_PATTERNS);f+=String.fromCharCode(48+M);for(let k of g)v+=k}return{rowOffset:v,resultString:f}}getBarcodeFormat(){return Me.EAN_8}}class Hs extends kt{constructor(){super(...arguments),this.ean13Reader=new si}getBarcodeFormat(){return Me.UPC_A}decode(o,u){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,u,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,u,f))}decodeMiddle(o,u,f){return this.ean13Reader.decodeMiddle(o,u,f)}maybeReturnResult(o){let u=o.getText();if(u.charAt(0)==="0"){let f=new He(u.substring(1),null,null,o.getResultPoints(),Me.UPC_A);return o.getResultMetadata()!=null&&f.putAllMetadata(o.getResultMetadata()),f}else throw new ee}reset(){this.ean13Reader.reset()}}class mr extends kt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,u,f){const g=this.decodeMiddleCounters.map(M=>M);g[0]=0,g[1]=0,g[2]=0,g[3]=0;const x=o.getSize();let v=u[1],_=0;for(let M=0;M<6&&v<x;M++){const k=mr.decodeDigit(o,g,v,mr.L_AND_G_PATTERNS);f+=String.fromCharCode(48+k%10);for(let j of g)v+=j;k>=10&&(_|=1<<5-M)}let N=mr.determineNumSysAndCheckDigit(f,_);return{rowOffset:v,resultString:N}}decodeEnd(o,u){return mr.findGuardPatternWithoutCounters(o,u,!0,mr.MIDDLE_END_PATTERN)}checkChecksum(o){return kt.checkChecksum(mr.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,u){for(let f=0;f<=1;f++)for(let g=0;g<10;g++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][g]){let x=String.fromCharCode(48+f),v=String.fromCharCode(48+g);return x+o+v}throw ee.getNotFoundInstance()}getBarcodeFormat(){return Me.UPC_E}static convertUPCEtoUPCA(o){const u=o.slice(1,7).split("").map(x=>x.charCodeAt(0)),f=new Pe;f.append(o.charAt(0));let g=u[5];switch(g){case 0:case 1:case 2:f.appendChars(u,0,2),f.append(g),f.append("0000"),f.appendChars(u,2,3);break;case 3:f.appendChars(u,0,3),f.append("00000"),f.appendChars(u,3,2);break;case 4:f.appendChars(u,0,4),f.append("00000"),f.append(u[4]);break;default:f.appendChars(u,0,5),f.append("0000"),f.append(g);break}return o.length>=8&&f.append(o.charAt(7)),f.toString()}}mr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),mr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ba extends dn{constructor(o){super();let u=o==null?null:o.get(V.POSSIBLE_FORMATS),f=[];r(u)?(f.push(new si),f.push(new Hs),f.push(new gl),f.push(new mr)):(u.indexOf(Me.EAN_13)>-1&&f.push(new si),u.indexOf(Me.UPC_A)>-1&&f.push(new Hs),u.indexOf(Me.EAN_8)>-1&&f.push(new gl),u.indexOf(Me.UPC_E)>-1&&f.push(new mr)),this.readers=f}decodeRow(o,u,f){for(let g of this.readers)try{const x=g.decodeRow(o,u,f),v=x.getBarcodeFormat()===Me.EAN_13&&x.getText().charAt(0)==="0",_=f==null?null:f.get(V.POSSIBLE_FORMATS),N=_==null||_.includes(Me.UPC_A);if(v&&N){const M=x.getRawBytes(),k=new He(x.getText().substring(1),M,M?M.length:null,x.getResultPoints(),Me.UPC_A);return k.putAllMetadata(x.getResultMetadata()),k}return x}catch{}throw new ee}reset(){for(let o of this.readers)o.reset()}}class $n extends dn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,u){for(let f=0;f<u.length;f++)if(dn.patternMatchVariance(o,u[f],$n.MAX_INDIVIDUAL_VARIANCE)<$n.MAX_AVG_VARIANCE)return f;throw new ee}static count(o){return It.sum(new Int32Array(o))}static increment(o,u){let f=0,g=u[0];for(let x=1;x<o.length;x++)u[x]>g&&(g=u[x],f=x);o[f]++}static decrement(o,u){let f=0,g=u[0];for(let x=1;x<o.length;x++)u[x]<g&&(g=u[x],f=x);o[f]--}static isFinderPattern(o){let u=o[0]+o[1],f=u+o[2]+o[3],g=u/f;if(g>=$n.MIN_FINDER_PATTERN_RATIO&&g<=$n.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;for(let _ of o)_>v&&(v=_),_<x&&(x=_);return v<10*x}return!1}}$n.MAX_AVG_VARIANCE=.2,$n.MAX_INDIVIDUAL_VARIANCE=.45,$n.MIN_FINDER_PATTERN_RATIO=9.5/12,$n.MAX_FINDER_PATTERN_RATIO=12.5/14;class ne{constructor(o,u){this.value=o,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof ne))return!1;const u=o;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class oe{constructor(o,u,f,g,x){this.value=o,this.startEnd=u,this.value=o,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new Ge(f,x)),this.resultPoints.push(new Ge(g,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof oe))return!1;const u=o;return this.value===u.value}hashCode(){return this.value}}class he{constructor(){}static getRSSvalue(o,u,f){let g=0;for(let N of o)g+=N;let x=0,v=0,_=o.length;for(let N=0;N<_-1;N++){let M;for(M=1,v|=1<<N;M<o[N];M++,v&=~(1<<N)){let k=he.combins(g-M-1,_-N-2);if(f&&v===0&&g-M-(_-N-1)>=_-N-1&&(k-=he.combins(g-M-(_-N),_-N-2)),_-N-1>1){let j=0;for(let U=g-M-(_-N-2);U>u;U--)j+=he.combins(g-M-U-1,_-N-3);k-=j*(_-1-N)}else g-M>u&&k--;x+=k}g-=M}return x}static combins(o,u){let f,g;o-u>u?(g=u,f=o-u):(g=o-u,f=u);let x=1,v=1;for(let _=o;_>f;_--)x*=_,v<=g&&(x/=v,v++);for(;v<=g;)x/=v,v++;return x}}class Te{static buildBitArray(o){let u=o.length*2-1;o[o.length-1].getRightChar()==null&&(u-=1);let f=12*u,g=new q(f),x=0,_=o[0].getRightChar().getValue();for(let N=11;N>=0;--N)(_&1<<N)!=0&&g.set(x),x++;for(let N=1;N<o.length;++N){let M=o[N],k=M.getLeftChar().getValue();for(let j=11;j>=0;--j)(k&1<<j)!=0&&g.set(x),x++;if(M.getRightChar()!=null){let j=M.getRightChar().getValue();for(let U=11;U>=0;--U)(j&1<<U)!=0&&g.set(x),x++}}return g}}class Le{constructor(o,u){u?this.decodedInformation=null:(this.finished=o,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Xe{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Ye extends Xe{constructor(o,u){super(o),this.value=u}getValue(){return this.value}isFNC1(){return this.value===Ye.FNC1}}Ye.FNC1="$";class Ve extends Xe{constructor(o,u,f){super(o),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class qe extends Xe{constructor(o,u,f){if(super(o),u<0||u>10||f<0||f>10)throw new G;this.firstDigit=u,this.secondDigit=f}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===qe.FNC1}isSecondDigitFNC1(){return this.secondDigit===qe.FNC1}isAnyFNC1(){return this.firstDigit===qe.FNC1||this.secondDigit===qe.FNC1}}qe.FNC1=10;class _e{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new ee;let u=o.substring(0,2);for(let x of _e.TWO_DIGIT_DATA_LENGTH)if(x[0]===u)return x[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(2,x[2],o):_e.processFixedAI(2,x[1],o);if(o.length<3)throw new ee;let f=o.substring(0,3);for(let x of _e.THREE_DIGIT_DATA_LENGTH)if(x[0]===f)return x[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(3,x[2],o):_e.processFixedAI(3,x[1],o);for(let x of _e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===f)return x[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,x[2],o):_e.processFixedAI(4,x[1],o);if(o.length<4)throw new ee;let g=o.substring(0,4);for(let x of _e.FOUR_DIGIT_DATA_LENGTH)if(x[0]===g)return x[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,x[2],o):_e.processFixedAI(4,x[1],o);throw new ee}static processFixedAI(o,u,f){if(f.length<o)throw new ee;let g=f.substring(0,o);if(f.length<o+u)throw new ee;let x=f.substring(o,o+u),v=f.substring(o+u),_="("+g+")"+x,N=_e.parseFieldsInGeneralPurpose(v);return N==null?_:_+N}static processVariableAI(o,u,f){let g=f.substring(0,o),x;f.length<o+u?x=f.length:x=o+u;let v=f.substring(o,x),_=f.substring(x),N="("+g+")"+v,M=_e.parseFieldsInGeneralPurpose(_);return M==null?N:N+M}}_e.VARIABLE_LENGTH=[],_e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",_e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",_e.VARIABLE_LENGTH,20],["22",_e.VARIABLE_LENGTH,29],["30",_e.VARIABLE_LENGTH,8],["37",_e.VARIABLE_LENGTH,8],["90",_e.VARIABLE_LENGTH,30],["91",_e.VARIABLE_LENGTH,30],["92",_e.VARIABLE_LENGTH,30],["93",_e.VARIABLE_LENGTH,30],["94",_e.VARIABLE_LENGTH,30],["95",_e.VARIABLE_LENGTH,30],["96",_e.VARIABLE_LENGTH,30],["97",_e.VARIABLE_LENGTH,3],["98",_e.VARIABLE_LENGTH,30],["99",_e.VARIABLE_LENGTH,30]],_e.THREE_DIGIT_DATA_LENGTH=[["240",_e.VARIABLE_LENGTH,30],["241",_e.VARIABLE_LENGTH,30],["242",_e.VARIABLE_LENGTH,6],["250",_e.VARIABLE_LENGTH,30],["251",_e.VARIABLE_LENGTH,30],["253",_e.VARIABLE_LENGTH,17],["254",_e.VARIABLE_LENGTH,20],["400",_e.VARIABLE_LENGTH,30],["401",_e.VARIABLE_LENGTH,30],["402",17],["403",_e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",_e.VARIABLE_LENGTH,20],["421",_e.VARIABLE_LENGTH,15],["422",3],["423",_e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],_e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",_e.VARIABLE_LENGTH,15],["391",_e.VARIABLE_LENGTH,18],["392",_e.VARIABLE_LENGTH,15],["393",_e.VARIABLE_LENGTH,18],["703",_e.VARIABLE_LENGTH,30]],_e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",_e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",_e.VARIABLE_LENGTH,20],["8003",_e.VARIABLE_LENGTH,30],["8004",_e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",_e.VARIABLE_LENGTH,30],["8008",_e.VARIABLE_LENGTH,12],["8018",18],["8020",_e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",_e.VARIABLE_LENGTH,70],["8200",_e.VARIABLE_LENGTH,70]];class st{constructor(o){this.buffer=new Pe,this.information=o}decodeAllCodes(o,u){let f=u,g=null;do{let x=this.decodeGeneralPurposeField(f,g),v=_e.parseFieldsInGeneralPurpose(x.getNewString());if(v!=null&&o.append(v),x.isRemaining()?g=""+x.getRemainingValue():g=null,f===x.getNewPosition())break;f=x.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let u=o;u<o+3;++u)if(this.information.get(u))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(o,4);return x===0?new qe(this.information.getSize(),qe.FNC1,qe.FNC1):new qe(this.information.getSize(),x-1,qe.FNC1)}let u=this.extractNumericValueFromBitArray(o,7),f=(u-8)/11,g=(u-8)%11;return new qe(o+7,f,g)}extractNumericValueFromBitArray(o,u){return st.extractNumericValueFromBitArray(this.information,o,u)}static extractNumericValueFromBitArray(o,u,f){let g=0;for(let x=0;x<f;++x)o.get(u+x)&&(g|=1<<f-x-1);return g}decodeGeneralPurposeField(o,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(o);let f=this.parseBlocks();return f!=null&&f.isRemaining()?new Ve(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new Ve(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,u;do{let f=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),o=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),o=u.isFinished()):(u=this.parseNumericBlock(),o=u.isFinished()),!(f!==this.current.getPosition())&&!o)break}while(!o);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let u;return o.isSecondDigitFNC1()?u=new Ve(this.current.getPosition(),this.buffer.toString()):u=new Ve(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new Le(!0,u)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let u=new Ve(this.current.getPosition(),this.buffer.toString());return new Le(!0,u)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Le(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new Ve(this.current.getPosition(),this.buffer.toString());return new Le(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Le(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new Ve(this.current.getPosition(),this.buffer.toString());return new Le(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Le(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<116)return!0;if(o+8>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(o,8);return g>=232&&g<253}decodeIsoIec646(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Ye(o+5,Ye.FNC1);if(u>=5&&u<15)return new Ye(o+5,"0"+(u-5));let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<90)return new Ye(o+7,""+(f+1));if(f>=90&&f<116)return new Ye(o+7,""+(f+7));let g=this.extractNumericValueFromBitArray(o,8),x;switch(g){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new G}return new Ye(o+8,x)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,6);return f>=16&&f<63}decodeAlphanumeric(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Ye(o+5,Ye.FNC1);if(u>=5&&u<15)return new Ye(o+5,"0"+(u-5));let f=this.extractNumericValueFromBitArray(o,6);if(f>=32&&f<58)return new Ye(o+6,""+(f+33));let g;switch(f){case 58:g="*";break;case 59:g=",";break;case 60:g="-";break;case 61:g=".";break;case 62:g="/";break;default:throw new yi("Decoding invalid alphanumeric value: "+f)}return new Ye(o+6,g)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<5&&u+o<this.information.getSize();++u)if(u===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+u))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let u=o;u<o+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<4&&u+o<this.information.getSize();++u)if(this.information.get(o+u))return!1;return!0}}class Je{constructor(o){this.information=o,this.generalDecoder=new st(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Qe extends Je{constructor(o){super(o)}encodeCompressedGtin(o,u){o.append("(01)");let f=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,u,f)}encodeCompressedGtinWithoutAI(o,u,f){for(let g=0;g<4;++g){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*g,10);x/100===0&&o.append("0"),x/10===0&&o.append("0"),o.append(x)}Qe.appendCheckDigit(o,f)}static appendCheckDigit(o,u){let f=0;for(let g=0;g<13;g++){let x=o.charAt(g+u).charCodeAt(0)-48;f+=(g&1)===0?3*x:x}f=10-f%10,f===10&&(f=0),o.append(f)}}Qe.GTIN_SIZE=40;class Et extends Qe{constructor(o){super(o)}parseInformation(){let o=new Pe;o.append("(01)");let u=o.length(),f=this.getGeneralDecoder().extractNumericValueFromBitArray(Et.HEADER_SIZE,4);return o.append(f),this.encodeCompressedGtinWithoutAI(o,Et.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(o,Et.HEADER_SIZE+44)}}Et.HEADER_SIZE=4;class en extends Je{constructor(o){super(o)}parseInformation(){let o=new Pe;return this.getGeneralDecoder().decodeAllCodes(o,en.HEADER_SIZE)}}en.HEADER_SIZE=5;class fn extends Qe{constructor(o){super(o)}encodeCompressedWeight(o,u,f){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(u,f);this.addWeightCode(o,g);let x=this.checkWeight(g),v=1e5;for(let _=0;_<5;++_)x/v===0&&o.append("0"),v/=10;o.append(x)}}class vt extends fn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=vt.HEADER_SIZE+fn.GTIN_SIZE+vt.WEIGHT_SIZE)throw new ee;let o=new Pe;return this.encodeCompressedGtin(o,vt.HEADER_SIZE),this.encodeCompressedWeight(o,vt.HEADER_SIZE+fn.GTIN_SIZE,vt.WEIGHT_SIZE),o.toString()}}vt.HEADER_SIZE=5,vt.WEIGHT_SIZE=15;class jt extends vt{constructor(o){super(o)}addWeightCode(o,u){o.append("(3103)")}checkWeight(o){return o}}class Vs extends vt{constructor(o){super(o)}addWeightCode(o,u){u<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class En extends Qe{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<En.HEADER_SIZE+Qe.GTIN_SIZE)throw new ee;let o=new Pe;this.encodeCompressedGtin(o,En.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(En.HEADER_SIZE+Qe.GTIN_SIZE,En.LAST_DIGIT_SIZE);o.append("(392"),o.append(u),o.append(")");let f=this.getGeneralDecoder().decodeGeneralPurposeField(En.HEADER_SIZE+Qe.GTIN_SIZE+En.LAST_DIGIT_SIZE,null);return o.append(f.getNewString()),o.toString()}}En.HEADER_SIZE=8,En.LAST_DIGIT_SIZE=2;class hn extends Qe{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<hn.HEADER_SIZE+Qe.GTIN_SIZE)throw new ee;let o=new Pe;this.encodeCompressedGtin(o,hn.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(hn.HEADER_SIZE+Qe.GTIN_SIZE,hn.LAST_DIGIT_SIZE);o.append("(393"),o.append(u),o.append(")");let f=this.getGeneralDecoder().extractNumericValueFromBitArray(hn.HEADER_SIZE+Qe.GTIN_SIZE+hn.LAST_DIGIT_SIZE,hn.FIRST_THREE_DIGITS_SIZE);f/100==0&&o.append("0"),f/10==0&&o.append("0"),o.append(f);let g=this.getGeneralDecoder().decodeGeneralPurposeField(hn.HEADER_SIZE+Qe.GTIN_SIZE+hn.LAST_DIGIT_SIZE+hn.FIRST_THREE_DIGITS_SIZE,null);return o.append(g.getNewString()),o.toString()}}hn.HEADER_SIZE=8,hn.LAST_DIGIT_SIZE=2,hn.FIRST_THREE_DIGITS_SIZE=10;class Ot extends fn{constructor(o,u,f){super(o),this.dateCode=f,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=Ot.HEADER_SIZE+Ot.GTIN_SIZE+Ot.WEIGHT_SIZE+Ot.DATE_SIZE)throw new ee;let o=new Pe;return this.encodeCompressedGtin(o,Ot.HEADER_SIZE),this.encodeCompressedWeight(o,Ot.HEADER_SIZE+Ot.GTIN_SIZE,Ot.WEIGHT_SIZE),this.encodeCompressedDate(o,Ot.HEADER_SIZE+Ot.GTIN_SIZE+Ot.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,u){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(u,Ot.DATE_SIZE);if(f==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let g=f%32;f/=32;let x=f%12+1;f/=12;let v=f;v/10==0&&o.append("0"),o.append(v),x/10==0&&o.append("0"),o.append(x),g/10==0&&o.append("0"),o.append(g)}addWeightCode(o,u){o.append("("),o.append(this.firstAIdigits),o.append(u/1e5),o.append(")")}checkWeight(o){return o%1e5}}Ot.HEADER_SIZE=8,Ot.WEIGHT_SIZE=20,Ot.DATE_SIZE=16;function Cs(L){try{if(L.get(1))return new Et(L);if(!L.get(2))return new en(L);switch(st.extractNumericValueFromBitArray(L,1,4)){case 4:return new jt(L);case 5:return new Vs(L)}switch(st.extractNumericValueFromBitArray(L,1,5)){case 12:return new En(L);case 13:return new hn(L)}switch(st.extractNumericValueFromBitArray(L,1,7)){case 56:return new Ot(L,"310","11");case 57:return new Ot(L,"320","11");case 58:return new Ot(L,"310","13");case 59:return new Ot(L,"320","13");case 60:return new Ot(L,"310","15");case 61:return new Ot(L,"320","15");case 62:return new Ot(L,"310","17");case 63:return new Ot(L,"320","17")}}catch(o){throw console.log(o),new yi("unknown decoder: "+L)}}class Lr{constructor(o,u,f,g){this.leftchar=o,this.rightchar=u,this.finderpattern=f,this.maybeLast=g}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,u){return o instanceof Lr?Lr.equalsOrNull(o.leftchar,u.leftchar)&&Lr.equalsOrNull(o.rightchar,u.rightchar)&&Lr.equalsOrNull(o.finderpattern,u.finderpattern):!1}static equalsOrNull(o,u){return o===null?u===null:Lr.equals(o,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class va{constructor(o,u,f){this.pairs=o,this.rowNumber=u,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,u){return o instanceof va?this.checkEqualitity(o,u)&&o.wasReversed===u.wasReversed:!1}checkEqualitity(o,u){if(!o||!u)return;let f;return o.forEach((g,x)=>{u.forEach(v=>{g.getLeftChar().getValue()===v.getLeftChar().getValue()&&g.getRightChar().getValue()===v.getRightChar().getValue()&&g.getFinderPatter().getValue()===v.getFinderPatter().getValue()&&(f=!0)})}),f}}class Ee extends $n{constructor(o){super(...arguments),this.pairs=new Array(Ee.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,u,f){this.pairs.length=0,this.startFromEven=!1;try{return Ee.constructResult(this.decodeRow2pairs(o,u))}catch(g){this.verbose&&console.log(g)}return this.pairs.length=0,this.startFromEven=!0,Ee.constructResult(this.decodeRow2pairs(o,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,u){let f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,o))}catch(x){if(x instanceof ee){if(!this.pairs.length)throw new ee;f=!0}}if(this.checkChecksum())return this.pairs;let g;if(this.rows.length?g=!0:g=!1,this.storeRow(o,!1),g){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new ee}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return o&&(this.rows=this.rows.reverse()),u}checkRows(o,u){for(let f=u;f<this.rows.length;f++){let g=this.rows[f];this.pairs.length=0;for(let v of o)this.pairs.push(v.getPairs());if(this.pairs.push(g.getPairs()),!Ee.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(o);x.push(g);try{return this.checkRows(x,f+1)}catch(v){this.verbose&&console.log(v)}}throw new ee}static isValidSequence(o){for(let u of Ee.FINDER_PATTERN_SEQUENCES){if(o.length>u.length)continue;let f=!0;for(let g=0;g<o.length;g++)if(o[g].getFinderPattern().getValue()!=u[g]){f=!1;break}if(f)return!0}return!1}storeRow(o,u){let f=0,g=!1,x=!1;for(;f<this.rows.length;){let v=this.rows[f];if(v.getRowNumber()>o){x=v.isEquivalent(this.pairs);break}g=v.isEquivalent(this.pairs),f++}x||g||Ee.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new va(this.pairs,o,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,u){for(let f of u)if(f.getPairs().length!==o.length){for(let g of f.getPairs())for(let x of o)if(Lr.equals(g,x))break}}static isPartialRow(o,u){for(let f of u){let g=!0;for(let x of o){let v=!1;for(let _ of f.getPairs())if(x.equals(_)){v=!0;break}if(!v){g=!1;break}}if(g)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=Te.buildBitArray(o),g=Cs(u).parseInformation(),x=o[0].getFinderPattern().getResultPoints(),v=o[o.length-1].getFinderPattern().getResultPoints(),_=[x[0],x[1],v[0],v[1]];return new He(g,null,null,_,Me.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),u=o.getLeftChar(),f=o.getRightChar();if(f==null)return!1;let g=f.getChecksumPortion(),x=2;for(let _=1;_<this.pairs.size();++_){let N=this.pairs.get(_);g+=N.getLeftChar().getChecksumPortion(),x++;let M=N.getRightChar();M!=null&&(g+=M.getChecksumPortion(),x++)}return g%=211,211*(x-4)+g==u.getValue()}static getNextSecondBar(o,u){let f;return o.get(u)?(f=o.getNextUnset(u),f=o.getNextSet(f)):(f=o.getNextSet(u),f=o.getNextUnset(f)),f}retrieveNextPair(o,u,f){let g=u.length%2==0;this.startFromEven&&(g=!g);let x,v=!0,_=-1;do this.findNextPair(o,u,_),x=this.parseFoundFinderPattern(o,f,g),x==null?_=Ee.getNextSecondBar(o,this.startEnd[0]):v=!1;while(v);let N=this.decodeDataCharacter(o,x,g,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new ee;let M;try{M=this.decodeDataCharacter(o,x,g,!1)}catch(k){M=null,this.verbose&&console.log(k)}return new Lr(N,M,x,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,u,f){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),v;f>=0?v=f:this.isEmptyPair(u)?v=0:v=u[u.length-1].getFinderPattern().getStartEnd()[1];let _=u.length%2!=0;this.startFromEven&&(_=!_);let N=!1;for(;v<x&&(N=!o.get(v),!!N);)v++;let M=0,k=v;for(let j=v;j<x;j++)if(o.get(j)!=N)g[M]++;else{if(M==3){if(_&&Ee.reverseCounters(g),Ee.isFinderPattern(g)){this.startEnd[0]=k,this.startEnd[1]=j;return}_&&Ee.reverseCounters(g),k+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,M--}else M++;g[M]=1,N=!N}throw new ee}static reverseCounters(o){let u=o.length;for(let f=0;f<u/2;++f){let g=o[f];o[f]=o[u-f-1],o[u-f-1]=g}}parseFoundFinderPattern(o,u,f){let g,x,v;if(f){let M=this.startEnd[0]-1;for(;M>=0&&!o.get(M);)M--;M++,g=this.startEnd[0]-M,x=M,v=this.startEnd[1]}else x=this.startEnd[0],v=o.getNextUnset(this.startEnd[1]+1),g=v-this.startEnd[1];let _=this.getDecodeFinderCounters();R.arraycopy(_,0,_,1,_.length-1),_[0]=g;let N;try{N=this.parseFinderValue(_,Ee.FINDER_PATTERNS)}catch{return null}return new oe(N,[x,v],x,v,u)}decodeDataCharacter(o,u,f,g){let x=this.getDataCharacterCounters();for(let an=0;an<x.length;an++)x[an]=0;if(g)Ee.recordPatternInReverse(o,u.getStartEnd()[0],x);else{Ee.recordPattern(o,u.getStartEnd()[1],x);for(let an=0,vr=x.length-1;an<vr;an++,vr--){let Xr=x[an];x[an]=x[vr],x[vr]=Xr}}let v=17,_=It.sum(new Int32Array(x))/v,N=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(_-N)/N>.3)throw new ee;let M=this.getOddCounts(),k=this.getEvenCounts(),j=this.getOddRoundingErrors(),U=this.getEvenRoundingErrors();for(let an=0;an<x.length;an++){let vr=1*x[an]/_,Xr=vr+.5;if(Xr<1){if(vr<.3)throw new ee;Xr=1}else if(Xr>8){if(vr>8.7)throw new ee;Xr=8}let Aa=an/2;(an&1)==0?(M[Aa]=Xr,j[Aa]=vr-Xr):(k[Aa]=Xr,U[Aa]=vr-Xr)}this.adjustOddEvenCounts(v);let X=4*u.getValue()+(f?0:2)+(g?0:1)-1,te=0,re=0;for(let an=M.length-1;an>=0;an--){if(Ee.isNotA1left(u,f,g)){let vr=Ee.WEIGHTS[X][2*an];re+=M[an]*vr}te+=M[an]}let le=0;for(let an=k.length-1;an>=0;an--)if(Ee.isNotA1left(u,f,g)){let vr=Ee.WEIGHTS[X][2*an+1];le+=k[an]*vr}let ge=re+le;if((te&1)!=0||te>13||te<4)throw new ee;let Be=(13-te)/2,je=Ee.SYMBOL_WIDEST[Be],Ie=9-je,bt=he.getRSSvalue(M,je,!0),gt=he.getRSSvalue(k,Ie,!1),jr=Ee.EVEN_TOTAL_SUBSET[Be],Ci=Ee.GSUM[Be],Wr=bt*jr+gt+Ci;return new ne(Wr,ge)}static isNotA1left(o,u,f){return!(o.getValue()==0&&u&&f)}adjustOddEvenCounts(o){let u=It.sum(new Int32Array(this.getOddCounts())),f=It.sum(new Int32Array(this.getEvenCounts())),g=!1,x=!1;u>13?x=!0:u<4&&(g=!0);let v=!1,_=!1;f>13?_=!0:f<4&&(v=!0);let N=u+f-o,M=(u&1)==1,k=(f&1)==0;if(N==1)if(M){if(k)throw new ee;x=!0}else{if(!k)throw new ee;_=!0}else if(N==-1)if(M){if(k)throw new ee;g=!0}else{if(!k)throw new ee;v=!0}else if(N==0){if(M){if(!k)throw new ee;u<f?(g=!0,_=!0):(x=!0,v=!0)}else if(k)throw new ee}else throw new ee;if(g){if(x)throw new ee;Ee.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Ee.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(_)throw new ee;Ee.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&Ee.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ee.SYMBOL_WIDEST=[7,5,4,3,1],Ee.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ee.GSUM=[0,348,1388,2948,3988],Ee.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ee.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ee.FINDER_PAT_A=0,Ee.FINDER_PAT_B=1,Ee.FINDER_PAT_C=2,Ee.FINDER_PAT_D=3,Ee.FINDER_PAT_E=4,Ee.FINDER_PAT_F=5,Ee.FINDER_PATTERN_SEQUENCES=[[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_C,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_C],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F]],Ee.MAX_PAIRS=11;class _s extends ne{constructor(o,u,f){super(o,u),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class et extends $n{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,u,f){const g=this.decodePair(u,!1,o,f);et.addOrTally(this.possibleLeftPairs,g),u.reverse();let x=this.decodePair(u,!0,o,f);et.addOrTally(this.possibleRightPairs,x),u.reverse();for(let v of this.possibleLeftPairs)if(v.getCount()>1){for(let _ of this.possibleRightPairs)if(_.getCount()>1&&et.checkChecksum(v,_))return et.constructResult(v,_)}throw new ee}static addOrTally(o,u){if(u==null)return;let f=!1;for(let g of o)if(g.getValue()===u.getValue()){g.incrementCount(),f=!0;break}f||o.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,u){let f=4537077*o.getValue()+u.getValue(),g=new String(f).toString(),x=new Pe;for(let M=13-g.length;M>0;M--)x.append("0");x.append(g);let v=0;for(let M=0;M<13;M++){let k=x.charAt(M).charCodeAt(0)-48;v+=(M&1)===0?3*k:k}v=10-v%10,v===10&&(v=0),x.append(v.toString());let _=o.getFinderPattern().getResultPoints(),N=u.getFinderPattern().getResultPoints();return new He(x.toString(),null,0,[_[0],_[1],N[0],N[1]],Me.RSS_14,new Date().getTime())}static checkChecksum(o,u){let f=(o.getChecksumPortion()+16*u.getChecksumPortion())%79,g=9*o.getFinderPattern().getValue()+u.getFinderPattern().getValue();return g>72&&g--,g>8&&g--,f===g}decodePair(o,u,f,g){try{let x=this.findFinderPattern(o,u),v=this.parseFoundFinderPattern(o,f,u,x),_=g==null?null:g.get(V.NEED_RESULT_POINT_CALLBACK);if(_!=null){let k=(x[0]+x[1])/2;u&&(k=o.getSize()-1-k),_.foundPossibleResultPoint(new Ge(k,f))}let N=this.decodeDataCharacter(o,v,!0),M=this.decodeDataCharacter(o,v,!1);return new _s(1597*N.getValue()+M.getValue(),N.getChecksumPortion()+4*M.getChecksumPortion(),v)}catch{return null}}decodeDataCharacter(o,u,f){let g=this.getDataCharacterCounters();for(let le=0;le<g.length;le++)g[le]=0;if(f)dn.recordPatternInReverse(o,u.getStartEnd()[0],g);else{dn.recordPattern(o,u.getStartEnd()[1]+1,g);for(let le=0,ge=g.length-1;le<ge;le++,ge--){let Be=g[le];g[le]=g[ge],g[ge]=Be}}let x=f?16:15,v=It.sum(new Int32Array(g))/x,_=this.getOddCounts(),N=this.getEvenCounts(),M=this.getOddRoundingErrors(),k=this.getEvenRoundingErrors();for(let le=0;le<g.length;le++){let ge=g[le]/v,Be=Math.floor(ge+.5);Be<1?Be=1:Be>8&&(Be=8);let je=Math.floor(le/2);(le&1)===0?(_[je]=Be,M[je]=ge-Be):(N[je]=Be,k[je]=ge-Be)}this.adjustOddEvenCounts(f,x);let j=0,U=0;for(let le=_.length-1;le>=0;le--)U*=9,U+=_[le],j+=_[le];let X=0,te=0;for(let le=N.length-1;le>=0;le--)X*=9,X+=N[le],te+=N[le];let re=U+3*X;if(f){if((j&1)!==0||j>12||j<4)throw new ee;let le=(12-j)/2,ge=et.OUTSIDE_ODD_WIDEST[le],Be=9-ge,je=he.getRSSvalue(_,ge,!1),Ie=he.getRSSvalue(N,Be,!0),bt=et.OUTSIDE_EVEN_TOTAL_SUBSET[le],gt=et.OUTSIDE_GSUM[le];return new ne(je*bt+Ie+gt,re)}else{if((te&1)!==0||te>10||te<4)throw new ee;let le=(10-te)/2,ge=et.INSIDE_ODD_WIDEST[le],Be=9-ge,je=he.getRSSvalue(_,ge,!0),Ie=he.getRSSvalue(N,Be,!1),bt=et.INSIDE_ODD_TOTAL_SUBSET[le],gt=et.INSIDE_GSUM[le];return new ne(Ie*bt+je+gt,re)}}findFinderPattern(o,u){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let g=o.getSize(),x=!1,v=0;for(;v<g&&(x=!o.get(v),u!==x);)v++;let _=0,N=v;for(let M=v;M<g;M++)if(o.get(M)!==x)f[_]++;else{if(_===3){if($n.isFinderPattern(f))return[N,M];N+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,_--}else _++;f[_]=1,x=!x}throw new ee}parseFoundFinderPattern(o,u,f,g){let x=o.get(g[0]),v=g[0]-1;for(;v>=0&&x!==o.get(v);)v--;v++;const _=g[0]-v,N=this.getDecodeFinderCounters(),M=new Int32Array(N.length);R.arraycopy(N,0,M,1,N.length-1),M[0]=_;const k=this.parseFinderValue(M,et.FINDER_PATTERNS);let j=v,U=g[1];return f&&(j=o.getSize()-1-j,U=o.getSize()-1-U),new oe(k,[v,g[1]],j,U,u)}adjustOddEvenCounts(o,u){let f=It.sum(new Int32Array(this.getOddCounts())),g=It.sum(new Int32Array(this.getEvenCounts())),x=!1,v=!1,_=!1,N=!1;o?(f>12?v=!0:f<4&&(x=!0),g>12?N=!0:g<4&&(_=!0)):(f>11?v=!0:f<5&&(x=!0),g>10?N=!0:g<4&&(_=!0));let M=f+g-u,k=(f&1)===(o?1:0),j=(g&1)===1;if(M===1)if(k){if(j)throw new ee;v=!0}else{if(!j)throw new ee;N=!0}else if(M===-1)if(k){if(j)throw new ee;x=!0}else{if(!j)throw new ee;_=!0}else if(M===0){if(k){if(!j)throw new ee;f<g?(x=!0,N=!0):(v=!0,_=!0)}else if(j)throw new ee}else throw new ee;if(x){if(v)throw new ee;$n.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&$n.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(N)throw new ee;$n.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&$n.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}et.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],et.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],et.OUTSIDE_GSUM=[0,161,961,2015,2715],et.INSIDE_GSUM=[0,336,1036,1516],et.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],et.INSIDE_ODD_WIDEST=[2,4,6,8],et.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Pn extends dn{constructor(o,u){super(),this.readers=[],this.verbose=u===!0;const f=o?o.get(V.POSSIBLE_FORMATS):null,g=o&&o.get(V.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;f?((f.includes(Me.EAN_13)||f.includes(Me.UPC_A)||f.includes(Me.EAN_8)||f.includes(Me.UPC_E))&&this.readers.push(new ba(o)),f.includes(Me.CODE_39)&&this.readers.push(new rn(g)),f.includes(Me.CODE_128)&&this.readers.push(new Ue),f.includes(Me.ITF)&&this.readers.push(new Ht),f.includes(Me.RSS_14)&&this.readers.push(new et),f.includes(Me.RSS_EXPANDED)&&this.readers.push(new Ee(this.verbose))):(this.readers.push(new ba(o)),this.readers.push(new rn),this.readers.push(new ba(o)),this.readers.push(new Ue),this.readers.push(new Ht),this.readers.push(new et),this.readers.push(new Ee(this.verbose)))}decodeRow(o,u,f){for(let g=0;g<this.readers.length;g++)try{return this.readers[g].decodeRow(o,u,f)}catch{}throw new ee}reset(){this.readers.forEach(o=>o.reset())}}class ki extends Re{constructor(o=500,u){super(new Pn(u),o,u)}}class wt{constructor(o,u,f){this.ecCodewords=o,this.ecBlocks=[u],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Mt{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class tt{constructor(o,u,f,g,x,v){this.versionNumber=o,this.symbolSizeRows=u,this.symbolSizeColumns=f,this.dataRegionSizeRows=g,this.dataRegionSizeColumns=x,this.ecBlocks=v;let _=0;const N=v.getECCodewords(),M=v.getECBlocks();for(let k of M)_+=k.getCount()*(k.getDataCodewords()+N);this.totalCodewords=_}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,u){if((o&1)!==0||(u&1)!==0)throw new G;for(let f of tt.VERSIONS)if(f.symbolSizeRows===o&&f.symbolSizeColumns===u)return f;throw new G}toString(){return""+this.versionNumber}static buildVersions(){return[new tt(1,10,10,8,8,new wt(5,new Mt(1,3))),new tt(2,12,12,10,10,new wt(7,new Mt(1,5))),new tt(3,14,14,12,12,new wt(10,new Mt(1,8))),new tt(4,16,16,14,14,new wt(12,new Mt(1,12))),new tt(5,18,18,16,16,new wt(14,new Mt(1,18))),new tt(6,20,20,18,18,new wt(18,new Mt(1,22))),new tt(7,22,22,20,20,new wt(20,new Mt(1,30))),new tt(8,24,24,22,22,new wt(24,new Mt(1,36))),new tt(9,26,26,24,24,new wt(28,new Mt(1,44))),new tt(10,32,32,14,14,new wt(36,new Mt(1,62))),new tt(11,36,36,16,16,new wt(42,new Mt(1,86))),new tt(12,40,40,18,18,new wt(48,new Mt(1,114))),new tt(13,44,44,20,20,new wt(56,new Mt(1,144))),new tt(14,48,48,22,22,new wt(68,new Mt(1,174))),new tt(15,52,52,24,24,new wt(42,new Mt(2,102))),new tt(16,64,64,14,14,new wt(56,new Mt(2,140))),new tt(17,72,72,16,16,new wt(36,new Mt(4,92))),new tt(18,80,80,18,18,new wt(48,new Mt(4,114))),new tt(19,88,88,20,20,new wt(56,new Mt(4,144))),new tt(20,96,96,22,22,new wt(68,new Mt(4,174))),new tt(21,104,104,24,24,new wt(56,new Mt(6,136))),new tt(22,120,120,18,18,new wt(68,new Mt(6,175))),new tt(23,132,132,20,20,new wt(62,new Mt(8,163))),new tt(24,144,144,22,22,new wt(62,new Mt(8,156),new Mt(2,155))),new tt(25,8,18,6,16,new wt(7,new Mt(1,5))),new tt(26,8,32,6,14,new wt(11,new Mt(1,10))),new tt(27,12,26,10,24,new wt(14,new Mt(1,16))),new tt(28,12,36,10,16,new wt(18,new Mt(1,22))),new tt(29,16,36,14,16,new wt(24,new Mt(1,32))),new tt(30,16,48,14,22,new wt(28,new Mt(1,49)))]}}tt.VERSIONS=tt.buildVersions();class Zi{constructor(o){const u=o.getHeight();if(u<8||u>144||(u&1)!==0)throw new G;this.version=Zi.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new De(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const u=o.getHeight(),f=o.getWidth();return tt.getVersionForDimensions(u,f)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let u=0,f=4,g=0;const x=this.mappingBitMatrix.getHeight(),v=this.mappingBitMatrix.getWidth();let _=!1,N=!1,M=!1,k=!1;do if(f===x&&g===0&&!_)o[u++]=this.readCorner1(x,v)&255,f-=2,g+=2,_=!0;else if(f===x-2&&g===0&&(v&3)!==0&&!N)o[u++]=this.readCorner2(x,v)&255,f-=2,g+=2,N=!0;else if(f===x+4&&g===2&&(v&7)===0&&!M)o[u++]=this.readCorner3(x,v)&255,f-=2,g+=2,M=!0;else if(f===x-2&&g===0&&(v&7)===4&&!k)o[u++]=this.readCorner4(x,v)&255,f-=2,g+=2,k=!0;else{do f<x&&g>=0&&!this.readMappingMatrix.get(g,f)&&(o[u++]=this.readUtah(f,g,x,v)&255),f-=2,g+=2;while(f>=0&&g<v);f+=1,g+=3;do f>=0&&g<v&&!this.readMappingMatrix.get(g,f)&&(o[u++]=this.readUtah(f,g,x,v)&255),f+=2,g-=2;while(f<x&&g>=0);f+=3,g+=1}while(f<x||g<v);if(u!==this.version.getTotalCodewords())throw new G;return o}readModule(o,u,f,g){return o<0&&(o+=f,u+=4-(f+4&7)),u<0&&(u+=g,o+=4-(g+4&7)),this.readMappingMatrix.set(u,o),this.mappingBitMatrix.get(u,o)}readUtah(o,u,f,g){let x=0;return this.readModule(o-2,u-2,f,g)&&(x|=1),x<<=1,this.readModule(o-2,u-1,f,g)&&(x|=1),x<<=1,this.readModule(o-1,u-2,f,g)&&(x|=1),x<<=1,this.readModule(o-1,u-1,f,g)&&(x|=1),x<<=1,this.readModule(o-1,u,f,g)&&(x|=1),x<<=1,this.readModule(o,u-2,f,g)&&(x|=1),x<<=1,this.readModule(o,u-1,f,g)&&(x|=1),x<<=1,this.readModule(o,u,f,g)&&(x|=1),x}readCorner1(o,u){let f=0;return this.readModule(o-1,0,o,u)&&(f|=1),f<<=1,this.readModule(o-1,1,o,u)&&(f|=1),f<<=1,this.readModule(o-1,2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-1,o,u)&&(f|=1),f<<=1,this.readModule(1,u-1,o,u)&&(f|=1),f<<=1,this.readModule(2,u-1,o,u)&&(f|=1),f<<=1,this.readModule(3,u-1,o,u)&&(f|=1),f}readCorner2(o,u){let f=0;return this.readModule(o-3,0,o,u)&&(f|=1),f<<=1,this.readModule(o-2,0,o,u)&&(f|=1),f<<=1,this.readModule(o-1,0,o,u)&&(f|=1),f<<=1,this.readModule(0,u-4,o,u)&&(f|=1),f<<=1,this.readModule(0,u-3,o,u)&&(f|=1),f<<=1,this.readModule(0,u-2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-1,o,u)&&(f|=1),f<<=1,this.readModule(1,u-1,o,u)&&(f|=1),f}readCorner3(o,u){let f=0;return this.readModule(o-1,0,o,u)&&(f|=1),f<<=1,this.readModule(o-1,u-1,o,u)&&(f|=1),f<<=1,this.readModule(0,u-3,o,u)&&(f|=1),f<<=1,this.readModule(0,u-2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-1,o,u)&&(f|=1),f<<=1,this.readModule(1,u-3,o,u)&&(f|=1),f<<=1,this.readModule(1,u-2,o,u)&&(f|=1),f<<=1,this.readModule(1,u-1,o,u)&&(f|=1),f}readCorner4(o,u){let f=0;return this.readModule(o-3,0,o,u)&&(f|=1),f<<=1,this.readModule(o-2,0,o,u)&&(f|=1),f<<=1,this.readModule(o-1,0,o,u)&&(f|=1),f<<=1,this.readModule(0,u-2,o,u)&&(f|=1),f<<=1,this.readModule(0,u-1,o,u)&&(f|=1),f<<=1,this.readModule(1,u-1,o,u)&&(f|=1),f<<=1,this.readModule(2,u-1,o,u)&&(f|=1),f<<=1,this.readModule(3,u-1,o,u)&&(f|=1),f}extractDataRegion(o){const u=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(o.getHeight()!==u)throw new C("Dimension of bitMatrix must match the version size");const g=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),v=u/g|0,_=f/x|0,N=v*g,M=_*x,k=new De(M,N);for(let j=0;j<v;++j){const U=j*g;for(let X=0;X<_;++X){const te=X*x;for(let re=0;re<g;++re){const le=j*(g+2)+1+re,ge=U+re;for(let Be=0;Be<x;++Be){const je=X*(x+2)+1+Be;if(o.get(je,le)){const Ie=te+Be;k.set(Ie,ge)}}}}}return k}}class wa{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u){const f=u.getECBlocks();let g=0;const x=f.getECBlocks();for(let re of x)g+=re.getCount();const v=new Array(g);let _=0;for(let re of x)for(let le=0;le<re.getCount();le++){const ge=re.getDataCodewords(),Be=f.getECCodewords()+ge;v[_++]=new wa(ge,new Uint8Array(Be))}const M=v[0].codewords.length-f.getECCodewords(),k=M-1;let j=0;for(let re=0;re<k;re++)for(let le=0;le<_;le++)v[le].codewords[re]=o[j++];const U=u.getVersionNumber()===24,X=U?8:_;for(let re=0;re<X;re++)v[re].codewords[M-1]=o[j++];const te=v[0].codewords.length;for(let re=M;re<te;re++)for(let le=0;le<_;le++){const ge=U?(le+8)%_:le,Be=U&&ge>7?re-1:re;v[ge].codewords[Be]=o[j++]}if(j!==o.length)throw new C;return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Er{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new C(""+o);let u=0,f=this.bitOffset,g=this.byteOffset;const x=this.bytes;if(f>0){const v=8-f,_=o<v?o:v,N=v-_,M=255>>8-_<<N;u=(x[g]&M)>>N,o-=_,f+=_,f===8&&(f=0,g++)}if(o>0){for(;o>=8;)u=u<<8|x[g]&255,g++,o-=8;if(o>0){const v=8-o,_=255>>v<<v;u=u<<o|(x[g]&_)>>v,f+=o}}return this.bitOffset=f,this.byteOffset=g,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Gn;(function(L){L[L.PAD_ENCODE=0]="PAD_ENCODE",L[L.ASCII_ENCODE=1]="ASCII_ENCODE",L[L.C40_ENCODE=2]="C40_ENCODE",L[L.TEXT_ENCODE=3]="TEXT_ENCODE",L[L.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",L[L.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",L[L.BASE256_ENCODE=6]="BASE256_ENCODE"})(Gn||(Gn={}));class $s{static decode(o){const u=new Er(o),f=new Pe,g=new Pe,x=new Array;let v=Gn.ASCII_ENCODE;do if(v===Gn.ASCII_ENCODE)v=this.decodeAsciiSegment(u,f,g);else{switch(v){case Gn.C40_ENCODE:this.decodeC40Segment(u,f);break;case Gn.TEXT_ENCODE:this.decodeTextSegment(u,f);break;case Gn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,f);break;case Gn.EDIFACT_ENCODE:this.decodeEdifactSegment(u,f);break;case Gn.BASE256_ENCODE:this.decodeBase256Segment(u,f,x);break;default:throw new G}v=Gn.ASCII_ENCODE}while(v!==Gn.PAD_ENCODE&&u.available()>0);return g.length()>0&&f.append(g.toString()),new $r(o,f.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(o,u,f){let g=!1;do{let x=o.readBits(8);if(x===0)throw new G;if(x<=128)return g&&(x+=128),u.append(String.fromCharCode(x-1)),Gn.ASCII_ENCODE;if(x===129)return Gn.PAD_ENCODE;if(x<=229){const v=x-130;v<10&&u.append("0"),u.append(""+v)}else switch(x){case 230:return Gn.C40_ENCODE;case 231:return Gn.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:g=!0;break;case 236:u.append("[)>05"),f.insert(0,"");break;case 237:u.append("[)>06"),f.insert(0,"");break;case 238:return Gn.ANSIX12_ENCODE;case 239:return Gn.TEXT_ENCODE;case 240:return Gn.EDIFACT_ENCODE;case 241:break;default:if(x!==254||o.available()!==0)throw new G;break}}while(o.available()>0);return Gn.ASCII_ENCODE}static decodeC40Segment(o,u){let f=!1;const g=[];let x=0;do{if(o.available()===8)return;const v=o.readBits(8);if(v===254)return;this.parseTwoBytes(v,o.readBits(8),g);for(let _=0;_<3;_++){const N=g[_];switch(x){case 0:if(N<3)x=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const M=this.C40_BASIC_SET_CHARS[N];f?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),f=!1):u.append(M)}else throw new G;break;case 1:f?(u.append(String.fromCharCode(N+128)),f=!1):u.append(String.fromCharCode(N)),x=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const M=this.C40_SHIFT2_SET_CHARS[N];f?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),f=!1):u.append(M)}else switch(N){case 27:u.append("");break;case 30:f=!0;break;default:throw new G}x=0;break;case 3:f?(u.append(String.fromCharCode(N+224)),f=!1):u.append(String.fromCharCode(N+96)),x=0;break;default:throw new G}}}while(o.available()>0)}static decodeTextSegment(o,u){let f=!1,g=[],x=0;do{if(o.available()===8)return;const v=o.readBits(8);if(v===254)return;this.parseTwoBytes(v,o.readBits(8),g);for(let _=0;_<3;_++){const N=g[_];switch(x){case 0:if(N<3)x=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const M=this.TEXT_BASIC_SET_CHARS[N];f?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),f=!1):u.append(M)}else throw new G;break;case 1:f?(u.append(String.fromCharCode(N+128)),f=!1):u.append(String.fromCharCode(N)),x=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const M=this.TEXT_SHIFT2_SET_CHARS[N];f?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),f=!1):u.append(M)}else switch(N){case 27:u.append("");break;case 30:f=!0;break;default:throw new G}x=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const M=this.TEXT_SHIFT3_SET_CHARS[N];f?(u.append(String.fromCharCode(M.charCodeAt(0)+128)),f=!1):u.append(M),x=0}else throw new G;break;default:throw new G}}}while(o.available()>0)}static decodeAnsiX12Segment(o,u){const f=[];do{if(o.available()===8)return;const g=o.readBits(8);if(g===254)return;this.parseTwoBytes(g,o.readBits(8),f);for(let x=0;x<3;x++){const v=f[x];switch(v){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(v<14)u.append(String.fromCharCode(v+44));else if(v<40)u.append(String.fromCharCode(v+51));else throw new G;break}}}while(o.available()>0)}static parseTwoBytes(o,u,f){let g=(o<<8)+u-1,x=Math.floor(g/1600);f[0]=x,g-=x*1600,x=Math.floor(g/40),f[1]=x,f[2]=g-x*40}static decodeEdifactSegment(o,u){do{if(o.available()<=16)return;for(let f=0;f<4;f++){let g=o.readBits(6);if(g===31){const x=8-o.getBitOffset();x!==8&&o.readBits(x);return}(g&32)===0&&(g|=64),u.append(String.fromCharCode(g))}}while(o.available()>0)}static decodeBase256Segment(o,u,f){let g=1+o.getByteOffset();const x=this.unrandomize255State(o.readBits(8),g++);let v;if(x===0?v=o.available()/8|0:x<250?v=x:v=250*(x-249)+this.unrandomize255State(o.readBits(8),g++),v<0)throw new G;const _=new Uint8Array(v);for(let N=0;N<v;N++){if(o.available()<8)throw new G;_[N]=this.unrandomize255State(o.readBits(8),g++)}f.push(_);try{u.append(we.decode(_,me.ISO88591))}catch(N){throw new yi("Platform does not support required encoding: "+N.message)}}static unrandomize255State(o,u){const f=149*u%255+1,g=o-f;return g>=0?g:g+256}}$s.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],$s.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],$s.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],$s.TEXT_SHIFT2_SET_CHARS=$s.C40_SHIFT2_SET_CHARS,$s.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class yc{constructor(){this.rsDecoder=new ga(Lt.DATA_MATRIX_FIELD_256)}decode(o){const u=new Zi(o),f=u.getVersion(),g=u.readCodewords(),x=wa.getDataBlocks(g,f);let v=0;for(let M of x)v+=M.getNumDataCodewords();const _=new Uint8Array(v),N=x.length;for(let M=0;M<N;M++){const k=x[M],j=k.getCodewords(),U=k.getNumDataCodewords();this.correctErrors(j,U);for(let X=0;X<U;X++)_[X*N+M]=j[X]}return $s.decode(_)}correctErrors(o,u){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-u)}catch{throw new A}for(let g=0;g<u;g++)o[g]=f[g]}}class kn{constructor(o){this.image=o,this.rectangleDetector=new vi(this.image)}detect(){const o=this.rectangleDetector.detect();let u=this.detectSolid1(o);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new ee;u=this.shiftToModuleCenter(u);const f=u[0],g=u[1],x=u[2],v=u[3];let _=this.transitionsBetween(f,v)+1,N=this.transitionsBetween(x,v)+1;(_&1)===1&&(_+=1),(N&1)===1&&(N+=1),4*_<7*N&&4*N<7*_&&(_=N=Math.max(_,N));let M=kn.sampleGrid(this.image,f,g,x,v,_,N);return new bi(M,[f,g,x,v])}static shiftPoint(o,u,f){let g=(u.getX()-o.getX())/(f+1),x=(u.getY()-o.getY())/(f+1);return new Ge(o.getX()+g,o.getY()+x)}static moveAway(o,u,f){let g=o.getX(),x=o.getY();return g<u?g-=1:g+=1,x<f?x-=1:x+=1,new Ge(g,x)}detectSolid1(o){let u=o[0],f=o[1],g=o[3],x=o[2],v=this.transitionsBetween(u,f),_=this.transitionsBetween(f,g),N=this.transitionsBetween(g,x),M=this.transitionsBetween(x,u),k=v,j=[x,u,f,g];return k>_&&(k=_,j[0]=u,j[1]=f,j[2]=g,j[3]=x),k>N&&(k=N,j[0]=f,j[1]=g,j[2]=x,j[3]=u),k>M&&(j[0]=g,j[1]=x,j[2]=u,j[3]=f),j}detectSolid2(o){let u=o[0],f=o[1],g=o[2],x=o[3],v=this.transitionsBetween(u,x),_=kn.shiftPoint(f,g,(v+1)*4),N=kn.shiftPoint(g,f,(v+1)*4),M=this.transitionsBetween(_,u),k=this.transitionsBetween(N,x);return M<k?(o[0]=u,o[1]=f,o[2]=g,o[3]=x):(o[0]=f,o[1]=g,o[2]=x,o[3]=u),o}correctTopRight(o){let u=o[0],f=o[1],g=o[2],x=o[3],v=this.transitionsBetween(u,x),_=this.transitionsBetween(f,x),N=kn.shiftPoint(u,f,(_+1)*4),M=kn.shiftPoint(g,f,(v+1)*4);v=this.transitionsBetween(N,x),_=this.transitionsBetween(M,x);let k=new Ge(x.getX()+(g.getX()-f.getX())/(v+1),x.getY()+(g.getY()-f.getY())/(v+1)),j=new Ge(x.getX()+(u.getX()-f.getX())/(_+1),x.getY()+(u.getY()-f.getY())/(_+1));if(!this.isValid(k))return this.isValid(j)?j:null;if(!this.isValid(j))return k;let U=this.transitionsBetween(N,k)+this.transitionsBetween(M,k),X=this.transitionsBetween(N,j)+this.transitionsBetween(M,j);return U>X?k:j}shiftToModuleCenter(o){let u=o[0],f=o[1],g=o[2],x=o[3],v=this.transitionsBetween(u,x)+1,_=this.transitionsBetween(g,x)+1,N=kn.shiftPoint(u,f,_*4),M=kn.shiftPoint(g,f,v*4);v=this.transitionsBetween(N,x)+1,_=this.transitionsBetween(M,x)+1,(v&1)===1&&(v+=1),(_&1)===1&&(_+=1);let k=(u.getX()+f.getX()+g.getX()+x.getX())/4,j=(u.getY()+f.getY()+g.getY()+x.getY())/4;u=kn.moveAway(u,k,j),f=kn.moveAway(f,k,j),g=kn.moveAway(g,k,j),x=kn.moveAway(x,k,j);let U,X;return N=kn.shiftPoint(u,f,_*4),N=kn.shiftPoint(N,x,v*4),U=kn.shiftPoint(f,u,_*4),U=kn.shiftPoint(U,g,v*4),M=kn.shiftPoint(g,x,_*4),M=kn.shiftPoint(M,f,v*4),X=kn.shiftPoint(x,g,_*4),X=kn.shiftPoint(X,u,v*4),[N,U,M,X]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,u,f,g,x,v,_){return or.getInstance().sampleGrid(o,v,_,.5,.5,v-.5,.5,v-.5,_-.5,.5,_-.5,u.getX(),u.getY(),x.getX(),x.getY(),g.getX(),g.getY(),f.getX(),f.getY())}transitionsBetween(o,u){let f=Math.trunc(o.getX()),g=Math.trunc(o.getY()),x=Math.trunc(u.getX()),v=Math.trunc(u.getY()),_=Math.abs(v-g)>Math.abs(x-f);if(_){let re=f;f=g,g=re,re=x,x=v,v=re}let N=Math.abs(x-f),M=Math.abs(v-g),k=-N/2,j=g<v?1:-1,U=f<x?1:-1,X=0,te=this.image.get(_?g:f,_?f:g);for(let re=f,le=g;re!==x;re+=U){let ge=this.image.get(_?le:re,_?re:le);if(ge!==te&&(X++,te=ge),k+=M,k>0){if(le===v)break;le+=j,k-=N}}return X}}class Di{constructor(){this.decoder=new yc}decode(o,u=null){let f,g;if(u!=null&&u.has(V.PURE_BARCODE)){const M=Di.extractPureBits(o.getBlackMatrix());f=this.decoder.decode(M),g=Di.NO_POINTS}else{const M=new kn(o.getBlackMatrix()).detect();f=this.decoder.decode(M.getBits()),g=M.getPoints()}const x=f.getRawBytes(),v=new He(f.getText(),x,8*x.length,g,Me.DATA_MATRIX,R.currentTimeMillis()),_=f.getByteSegments();_!=null&&v.putMetadata(mt.BYTE_SEGMENTS,_);const N=f.getECLevel();return N!=null&&v.putMetadata(mt.ERROR_CORRECTION_LEVEL,N),v}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(u==null||f==null)throw new ee;const g=this.moduleSize(u,o);let x=u[1];const v=f[1];let _=u[0];const M=(f[0]-_+1)/g,k=(v-x+1)/g;if(M<=0||k<=0)throw new ee;const j=g/2;x+=j,_+=j;const U=new De(M,k);for(let X=0;X<k;X++){const te=x+X*g;for(let re=0;re<M;re++)o.get(_+re*g,te)&&U.set(re,X)}return U}static moduleSize(o,u){const f=u.getWidth();let g=o[0];const x=o[1];for(;g<f&&u.get(g,x);)g++;if(g===f)throw new ee;const v=g-o[0];if(v===0)throw new ee;return v}}Di.NO_POINTS=[];class o0 extends Re{constructor(o=500){super(new Di,o)}}var gr;(function(L){L[L.L=0]="L",L[L.M=1]="M",L[L.Q=2]="Q",L[L.H=3]="H"})(gr||(gr={}));class tn{constructor(o,u,f){this.value=o,this.stringValue=u,this.bits=f,tn.FOR_BITS.set(f,this),tn.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return tn.L;case"M":return tn.M;case"Q":return tn.Q;case"H":return tn.H;default:throw new b(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof tn))return!1;const u=o;return this.value===u.value}static forBits(o){if(o<0||o>=tn.FOR_BITS.size)throw new C;return tn.FOR_BITS.get(o)}}tn.FOR_BITS=new Map,tn.FOR_VALUE=new Map,tn.L=new tn(gr.L,"L",1),tn.M=new tn(gr.M,"M",0),tn.Q=new tn(gr.Q,"Q",3),tn.H=new tn(gr.H,"H",2);class xr{constructor(o){this.errorCorrectionLevel=tn.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,u){return P.bitCount(o^u)}static decodeFormatInformation(o,u){const f=xr.doDecodeFormatInformation(o,u);return f!==null?f:xr.doDecodeFormatInformation(o^xr.FORMAT_INFO_MASK_QR,u^xr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,u){let f=Number.MAX_SAFE_INTEGER,g=0;for(const x of xr.FORMAT_INFO_DECODE_LOOKUP){const v=x[0];if(v===o||v===u)return new xr(x[1]);let _=xr.numBitsDiffering(o,v);_<f&&(g=x[1],f=_),o!==u&&(_=xr.numBitsDiffering(u,v),_<f&&(g=x[1],f=_))}return f<=3?new xr(g):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof xr))return!1;const u=o;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}xr.FORMAT_INFO_MASK_QR=21522,xr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ce{constructor(o,...u){this.ecCodewordsPerBlock=o,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const u=this.ecBlocks;for(const f of u)o+=f.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class W{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class nt{constructor(o,u,...f){this.versionNumber=o,this.alignmentPatternCenters=u,this.ecBlocks=f;let g=0;const x=f[0].getECCodewordsPerBlock(),v=f[0].getECBlocks();for(const _ of v)g+=_.getCount()*(_.getDataCodewords()+x);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new G;try{return this.getVersionForNumber((o-17)/4)}catch{throw new G}}static getVersionForNumber(o){if(o<1||o>40)throw new C;return nt.VERSIONS[o-1]}static decodeVersionInformation(o){let u=Number.MAX_SAFE_INTEGER,f=0;for(let g=0;g<nt.VERSION_DECODE_INFO.length;g++){const x=nt.VERSION_DECODE_INFO[g];if(x===o)return nt.getVersionForNumber(g+7);const v=xr.numBitsDiffering(o,x);v<u&&(f=g+7,u=v)}return u<=3?nt.getVersionForNumber(f):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),u=new De(o);u.setRegion(0,0,9,9),u.setRegion(o-8,0,8,9),u.setRegion(0,o-8,9,8);const f=this.alignmentPatternCenters.length;for(let g=0;g<f;g++){const x=this.alignmentPatternCenters[g]-2;for(let v=0;v<f;v++)g===0&&(v===0||v===f-1)||g===f-1&&v===0||u.setRegion(this.alignmentPatternCenters[v]-2,x,5,5)}return u.setRegion(6,9,1,o-17),u.setRegion(9,6,o-17,1),this.versionNumber>6&&(u.setRegion(o-11,0,3,6),u.setRegion(0,o-11,6,3)),u}toString(){return""+this.versionNumber}}nt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),nt.VERSIONS=[new nt(1,new Int32Array(0),new ce(7,new W(1,19)),new ce(10,new W(1,16)),new ce(13,new W(1,13)),new ce(17,new W(1,9))),new nt(2,Int32Array.from([6,18]),new ce(10,new W(1,34)),new ce(16,new W(1,28)),new ce(22,new W(1,22)),new ce(28,new W(1,16))),new nt(3,Int32Array.from([6,22]),new ce(15,new W(1,55)),new ce(26,new W(1,44)),new ce(18,new W(2,17)),new ce(22,new W(2,13))),new nt(4,Int32Array.from([6,26]),new ce(20,new W(1,80)),new ce(18,new W(2,32)),new ce(26,new W(2,24)),new ce(16,new W(4,9))),new nt(5,Int32Array.from([6,30]),new ce(26,new W(1,108)),new ce(24,new W(2,43)),new ce(18,new W(2,15),new W(2,16)),new ce(22,new W(2,11),new W(2,12))),new nt(6,Int32Array.from([6,34]),new ce(18,new W(2,68)),new ce(16,new W(4,27)),new ce(24,new W(4,19)),new ce(28,new W(4,15))),new nt(7,Int32Array.from([6,22,38]),new ce(20,new W(2,78)),new ce(18,new W(4,31)),new ce(18,new W(2,14),new W(4,15)),new ce(26,new W(4,13),new W(1,14))),new nt(8,Int32Array.from([6,24,42]),new ce(24,new W(2,97)),new ce(22,new W(2,38),new W(2,39)),new ce(22,new W(4,18),new W(2,19)),new ce(26,new W(4,14),new W(2,15))),new nt(9,Int32Array.from([6,26,46]),new ce(30,new W(2,116)),new ce(22,new W(3,36),new W(2,37)),new ce(20,new W(4,16),new W(4,17)),new ce(24,new W(4,12),new W(4,13))),new nt(10,Int32Array.from([6,28,50]),new ce(18,new W(2,68),new W(2,69)),new ce(26,new W(4,43),new W(1,44)),new ce(24,new W(6,19),new W(2,20)),new ce(28,new W(6,15),new W(2,16))),new nt(11,Int32Array.from([6,30,54]),new ce(20,new W(4,81)),new ce(30,new W(1,50),new W(4,51)),new ce(28,new W(4,22),new W(4,23)),new ce(24,new W(3,12),new W(8,13))),new nt(12,Int32Array.from([6,32,58]),new ce(24,new W(2,92),new W(2,93)),new ce(22,new W(6,36),new W(2,37)),new ce(26,new W(4,20),new W(6,21)),new ce(28,new W(7,14),new W(4,15))),new nt(13,Int32Array.from([6,34,62]),new ce(26,new W(4,107)),new ce(22,new W(8,37),new W(1,38)),new ce(24,new W(8,20),new W(4,21)),new ce(22,new W(12,11),new W(4,12))),new nt(14,Int32Array.from([6,26,46,66]),new ce(30,new W(3,115),new W(1,116)),new ce(24,new W(4,40),new W(5,41)),new ce(20,new W(11,16),new W(5,17)),new ce(24,new W(11,12),new W(5,13))),new nt(15,Int32Array.from([6,26,48,70]),new ce(22,new W(5,87),new W(1,88)),new ce(24,new W(5,41),new W(5,42)),new ce(30,new W(5,24),new W(7,25)),new ce(24,new W(11,12),new W(7,13))),new nt(16,Int32Array.from([6,26,50,74]),new ce(24,new W(5,98),new W(1,99)),new ce(28,new W(7,45),new W(3,46)),new ce(24,new W(15,19),new W(2,20)),new ce(30,new W(3,15),new W(13,16))),new nt(17,Int32Array.from([6,30,54,78]),new ce(28,new W(1,107),new W(5,108)),new ce(28,new W(10,46),new W(1,47)),new ce(28,new W(1,22),new W(15,23)),new ce(28,new W(2,14),new W(17,15))),new nt(18,Int32Array.from([6,30,56,82]),new ce(30,new W(5,120),new W(1,121)),new ce(26,new W(9,43),new W(4,44)),new ce(28,new W(17,22),new W(1,23)),new ce(28,new W(2,14),new W(19,15))),new nt(19,Int32Array.from([6,30,58,86]),new ce(28,new W(3,113),new W(4,114)),new ce(26,new W(3,44),new W(11,45)),new ce(26,new W(17,21),new W(4,22)),new ce(26,new W(9,13),new W(16,14))),new nt(20,Int32Array.from([6,34,62,90]),new ce(28,new W(3,107),new W(5,108)),new ce(26,new W(3,41),new W(13,42)),new ce(30,new W(15,24),new W(5,25)),new ce(28,new W(15,15),new W(10,16))),new nt(21,Int32Array.from([6,28,50,72,94]),new ce(28,new W(4,116),new W(4,117)),new ce(26,new W(17,42)),new ce(28,new W(17,22),new W(6,23)),new ce(30,new W(19,16),new W(6,17))),new nt(22,Int32Array.from([6,26,50,74,98]),new ce(28,new W(2,111),new W(7,112)),new ce(28,new W(17,46)),new ce(30,new W(7,24),new W(16,25)),new ce(24,new W(34,13))),new nt(23,Int32Array.from([6,30,54,78,102]),new ce(30,new W(4,121),new W(5,122)),new ce(28,new W(4,47),new W(14,48)),new ce(30,new W(11,24),new W(14,25)),new ce(30,new W(16,15),new W(14,16))),new nt(24,Int32Array.from([6,28,54,80,106]),new ce(30,new W(6,117),new W(4,118)),new ce(28,new W(6,45),new W(14,46)),new ce(30,new W(11,24),new W(16,25)),new ce(30,new W(30,16),new W(2,17))),new nt(25,Int32Array.from([6,32,58,84,110]),new ce(26,new W(8,106),new W(4,107)),new ce(28,new W(8,47),new W(13,48)),new ce(30,new W(7,24),new W(22,25)),new ce(30,new W(22,15),new W(13,16))),new nt(26,Int32Array.from([6,30,58,86,114]),new ce(28,new W(10,114),new W(2,115)),new ce(28,new W(19,46),new W(4,47)),new ce(28,new W(28,22),new W(6,23)),new ce(30,new W(33,16),new W(4,17))),new nt(27,Int32Array.from([6,34,62,90,118]),new ce(30,new W(8,122),new W(4,123)),new ce(28,new W(22,45),new W(3,46)),new ce(30,new W(8,23),new W(26,24)),new ce(30,new W(12,15),new W(28,16))),new nt(28,Int32Array.from([6,26,50,74,98,122]),new ce(30,new W(3,117),new W(10,118)),new ce(28,new W(3,45),new W(23,46)),new ce(30,new W(4,24),new W(31,25)),new ce(30,new W(11,15),new W(31,16))),new nt(29,Int32Array.from([6,30,54,78,102,126]),new ce(30,new W(7,116),new W(7,117)),new ce(28,new W(21,45),new W(7,46)),new ce(30,new W(1,23),new W(37,24)),new ce(30,new W(19,15),new W(26,16))),new nt(30,Int32Array.from([6,26,52,78,104,130]),new ce(30,new W(5,115),new W(10,116)),new ce(28,new W(19,47),new W(10,48)),new ce(30,new W(15,24),new W(25,25)),new ce(30,new W(23,15),new W(25,16))),new nt(31,Int32Array.from([6,30,56,82,108,134]),new ce(30,new W(13,115),new W(3,116)),new ce(28,new W(2,46),new W(29,47)),new ce(30,new W(42,24),new W(1,25)),new ce(30,new W(23,15),new W(28,16))),new nt(32,Int32Array.from([6,34,60,86,112,138]),new ce(30,new W(17,115)),new ce(28,new W(10,46),new W(23,47)),new ce(30,new W(10,24),new W(35,25)),new ce(30,new W(19,15),new W(35,16))),new nt(33,Int32Array.from([6,30,58,86,114,142]),new ce(30,new W(17,115),new W(1,116)),new ce(28,new W(14,46),new W(21,47)),new ce(30,new W(29,24),new W(19,25)),new ce(30,new W(11,15),new W(46,16))),new nt(34,Int32Array.from([6,34,62,90,118,146]),new ce(30,new W(13,115),new W(6,116)),new ce(28,new W(14,46),new W(23,47)),new ce(30,new W(44,24),new W(7,25)),new ce(30,new W(59,16),new W(1,17))),new nt(35,Int32Array.from([6,30,54,78,102,126,150]),new ce(30,new W(12,121),new W(7,122)),new ce(28,new W(12,47),new W(26,48)),new ce(30,new W(39,24),new W(14,25)),new ce(30,new W(22,15),new W(41,16))),new nt(36,Int32Array.from([6,24,50,76,102,128,154]),new ce(30,new W(6,121),new W(14,122)),new ce(28,new W(6,47),new W(34,48)),new ce(30,new W(46,24),new W(10,25)),new ce(30,new W(2,15),new W(64,16))),new nt(37,Int32Array.from([6,28,54,80,106,132,158]),new ce(30,new W(17,122),new W(4,123)),new ce(28,new W(29,46),new W(14,47)),new ce(30,new W(49,24),new W(10,25)),new ce(30,new W(24,15),new W(46,16))),new nt(38,Int32Array.from([6,32,58,84,110,136,162]),new ce(30,new W(4,122),new W(18,123)),new ce(28,new W(13,46),new W(32,47)),new ce(30,new W(48,24),new W(14,25)),new ce(30,new W(42,15),new W(32,16))),new nt(39,Int32Array.from([6,26,54,82,110,138,166]),new ce(30,new W(20,117),new W(4,118)),new ce(28,new W(40,47),new W(7,48)),new ce(30,new W(43,24),new W(22,25)),new ce(30,new W(10,15),new W(67,16))),new nt(40,Int32Array.from([6,30,58,86,114,142,170]),new ce(30,new W(19,118),new W(6,119)),new ce(28,new W(18,47),new W(31,48)),new ce(30,new W(34,24),new W(34,25)),new ce(30,new W(20,15),new W(61,16)))];var Qn;(function(L){L[L.DATA_MASK_000=0]="DATA_MASK_000",L[L.DATA_MASK_001=1]="DATA_MASK_001",L[L.DATA_MASK_010=2]="DATA_MASK_010",L[L.DATA_MASK_011=3]="DATA_MASK_011",L[L.DATA_MASK_100=4]="DATA_MASK_100",L[L.DATA_MASK_101=5]="DATA_MASK_101",L[L.DATA_MASK_110=6]="DATA_MASK_110",L[L.DATA_MASK_111=7]="DATA_MASK_111"})(Qn||(Qn={}));class yr{constructor(o,u){this.value=o,this.isMasked=u}unmaskBitMatrix(o,u){for(let f=0;f<u;f++)for(let g=0;g<u;g++)this.isMasked(f,g)&&o.flip(g,f)}}yr.values=new Map([[Qn.DATA_MASK_000,new yr(Qn.DATA_MASK_000,(L,o)=>(L+o&1)===0)],[Qn.DATA_MASK_001,new yr(Qn.DATA_MASK_001,(L,o)=>(L&1)===0)],[Qn.DATA_MASK_010,new yr(Qn.DATA_MASK_010,(L,o)=>o%3===0)],[Qn.DATA_MASK_011,new yr(Qn.DATA_MASK_011,(L,o)=>(L+o)%3===0)],[Qn.DATA_MASK_100,new yr(Qn.DATA_MASK_100,(L,o)=>(Math.floor(L/2)+Math.floor(o/3)&1)===0)],[Qn.DATA_MASK_101,new yr(Qn.DATA_MASK_101,(L,o)=>L*o%6===0)],[Qn.DATA_MASK_110,new yr(Qn.DATA_MASK_110,(L,o)=>L*o%6<3)],[Qn.DATA_MASK_111,new yr(Qn.DATA_MASK_111,(L,o)=>(L+o+L*o%3&1)===0)]]);class l0{constructor(o){const u=o.getHeight();if(u<21||(u&3)!==1)throw new G;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let x=0;x<6;x++)o=this.copyBit(x,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let x=5;x>=0;x--)o=this.copyBit(8,x,o);const u=this.bitMatrix.getHeight();let f=0;const g=u-7;for(let x=u-1;x>=g;x--)f=this.copyBit(8,x,f);for(let x=u-8;x<u;x++)f=this.copyBit(x,8,f);if(this.parsedFormatInfo=xr.decodeFormatInformation(o,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new G}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),u=Math.floor((o-17)/4);if(u<=6)return nt.getVersionForNumber(u);let f=0;const g=o-11;for(let v=5;v>=0;v--)for(let _=o-9;_>=g;_--)f=this.copyBit(_,v,f);let x=nt.decodeVersionInformation(f);if(x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;f=0;for(let v=5;v>=0;v--)for(let _=o-9;_>=g;_--)f=this.copyBit(v,_,f);if(x=nt.decodeVersionInformation(f),x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;throw new G}copyBit(o,u,f){return(this.isMirror?this.bitMatrix.get(u,o):this.bitMatrix.get(o,u))?f<<1|1:f<<1}readCodewords(){const o=this.readFormatInformation(),u=this.readVersion(),f=yr.values.get(o.getDataMask()),g=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,g);const x=u.buildFunctionPattern();let v=!0;const _=new Uint8Array(u.getTotalCodewords());let N=0,M=0,k=0;for(let j=g-1;j>0;j-=2){j===6&&j--;for(let U=0;U<g;U++){const X=v?g-1-U:U;for(let te=0;te<2;te++)x.get(j-te,X)||(k++,M<<=1,this.bitMatrix.get(j-te,X)&&(M|=1),k===8&&(_[N++]=M,k=0,M=0))}v=!v}if(N!==u.getTotalCodewords())throw new G;return _}remask(){if(this.parsedFormatInfo===null)return;const o=yr.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let u=0,f=o.getWidth();u<f;u++)for(let g=u+1,x=o.getHeight();g<x;g++)o.get(u,g)!==o.get(g,u)&&(o.flip(g,u),o.flip(u,g))}}class bc{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u,f){if(o.length!==u.getTotalCodewords())throw new C;const g=u.getECBlocksForLevel(f);let x=0;const v=g.getECBlocks();for(const te of v)x+=te.getCount();const _=new Array(x);let N=0;for(const te of v)for(let re=0;re<te.getCount();re++){const le=te.getDataCodewords(),ge=g.getECCodewordsPerBlock()+le;_[N++]=new bc(le,new Uint8Array(ge))}const M=_[0].codewords.length;let k=_.length-1;for(;k>=0&&_[k].codewords.length!==M;)k--;k++;const j=M-g.getECCodewordsPerBlock();let U=0;for(let te=0;te<j;te++)for(let re=0;re<N;re++)_[re].codewords[te]=o[U++];for(let te=k;te<N;te++)_[te].codewords[j]=o[U++];const X=_[0].codewords.length;for(let te=j;te<X;te++)for(let re=0;re<N;re++){const le=re<k?te:te+1;_[re].codewords[le]=o[U++]}return _}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ai;(function(L){L[L.TERMINATOR=0]="TERMINATOR",L[L.NUMERIC=1]="NUMERIC",L[L.ALPHANUMERIC=2]="ALPHANUMERIC",L[L.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",L[L.BYTE=4]="BYTE",L[L.ECI=5]="ECI",L[L.KANJI=6]="KANJI",L[L.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",L[L.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",L[L.HANZI=9]="HANZI"})(ai||(ai={}));class rt{constructor(o,u,f,g){this.value=o,this.stringValue=u,this.characterCountBitsForVersions=f,this.bits=g,rt.FOR_BITS.set(g,this),rt.FOR_VALUE.set(o,this)}static forBits(o){const u=rt.FOR_BITS.get(o);if(u===void 0)throw new C;return u}getCharacterCountBits(o){const u=o.getVersionNumber();let f;return u<=9?f=0:u<=26?f=1:f=2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof rt))return!1;const u=o;return this.value===u.value}toString(){return this.stringValue}}rt.FOR_BITS=new Map,rt.FOR_VALUE=new Map,rt.TERMINATOR=new rt(ai.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),rt.NUMERIC=new rt(ai.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),rt.ALPHANUMERIC=new rt(ai.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),rt.STRUCTURED_APPEND=new rt(ai.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),rt.BYTE=new rt(ai.BYTE,"BYTE",Int32Array.from([8,16,16]),4),rt.ECI=new rt(ai.ECI,"ECI",Int32Array.from([0,0,0]),7),rt.KANJI=new rt(ai.KANJI,"KANJI",Int32Array.from([8,10,12]),8),rt.FNC1_FIRST_POSITION=new rt(ai.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),rt.FNC1_SECOND_POSITION=new rt(ai.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),rt.HANZI=new rt(ai.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Mn{static decode(o,u,f,g){const x=new Er(o);let v=new Pe;const _=new Array;let N=-1,M=-1;try{let k=null,j=!1,U;do{if(x.available()<4)U=rt.TERMINATOR;else{const X=x.readBits(4);U=rt.forBits(X)}switch(U){case rt.TERMINATOR:break;case rt.FNC1_FIRST_POSITION:case rt.FNC1_SECOND_POSITION:j=!0;break;case rt.STRUCTURED_APPEND:if(x.available()<16)throw new G;N=x.readBits(8),M=x.readBits(8);break;case rt.ECI:const X=Mn.parseECIValue(x);if(k=Z.getCharacterSetECIByValue(X),k===null)throw new G;break;case rt.HANZI:const te=x.readBits(4),re=x.readBits(U.getCharacterCountBits(u));te===Mn.GB2312_SUBSET&&Mn.decodeHanziSegment(x,v,re);break;default:const le=x.readBits(U.getCharacterCountBits(u));switch(U){case rt.NUMERIC:Mn.decodeNumericSegment(x,v,le);break;case rt.ALPHANUMERIC:Mn.decodeAlphanumericSegment(x,v,le,j);break;case rt.BYTE:Mn.decodeByteSegment(x,v,le,k,_,g);break;case rt.KANJI:Mn.decodeKanjiSegment(x,v,le);break;default:throw new G}break}}while(U!==rt.TERMINATOR)}catch{throw new G}return new $r(o,v.toString(),_.length===0?null:_,f===null?null:f.toString(),N,M)}static decodeHanziSegment(o,u,f){if(f*13>o.available())throw new G;const g=new Uint8Array(2*f);let x=0;for(;f>0;){const v=o.readBits(13);let _=v/96<<8&4294967295|v%96;_<959?_+=41377:_+=42657,g[x]=_>>8&255,g[x+1]=_&255,x+=2,f--}try{u.append(we.decode(g,me.GB2312))}catch(v){throw new G(v)}}static decodeKanjiSegment(o,u,f){if(f*13>o.available())throw new G;const g=new Uint8Array(2*f);let x=0;for(;f>0;){const v=o.readBits(13);let _=v/192<<8&4294967295|v%192;_<7936?_+=33088:_+=49472,g[x]=_>>8,g[x+1]=_,x+=2,f--}try{u.append(we.decode(g,me.SHIFT_JIS))}catch(v){throw new G(v)}}static decodeByteSegment(o,u,f,g,x,v){if(8*f>o.available())throw new G;const _=new Uint8Array(f);for(let M=0;M<f;M++)_[M]=o.readBits(8);let N;g===null?N=me.guessEncoding(_,v):N=g.getName();try{u.append(we.decode(_,N))}catch(M){throw new G(M)}x.push(_)}static toAlphaNumericChar(o){if(o>=Mn.ALPHANUMERIC_CHARS.length)throw new G;return Mn.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,u,f,g){const x=u.length();for(;f>1;){if(o.available()<11)throw new G;const v=o.readBits(11);u.append(Mn.toAlphaNumericChar(Math.floor(v/45))),u.append(Mn.toAlphaNumericChar(v%45)),f-=2}if(f===1){if(o.available()<6)throw new G;u.append(Mn.toAlphaNumericChar(o.readBits(6)))}if(g)for(let v=x;v<u.length();v++)u.charAt(v)==="%"&&(v<u.length()-1&&u.charAt(v+1)==="%"?u.deleteCharAt(v+1):u.setCharAt(v,""))}static decodeNumericSegment(o,u,f){for(;f>=3;){if(o.available()<10)throw new G;const g=o.readBits(10);if(g>=1e3)throw new G;u.append(Mn.toAlphaNumericChar(Math.floor(g/100))),u.append(Mn.toAlphaNumericChar(Math.floor(g/10)%10)),u.append(Mn.toAlphaNumericChar(g%10)),f-=3}if(f===2){if(o.available()<7)throw new G;const g=o.readBits(7);if(g>=100)throw new G;u.append(Mn.toAlphaNumericChar(Math.floor(g/10))),u.append(Mn.toAlphaNumericChar(g%10))}else if(f===1){if(o.available()<4)throw new G;const g=o.readBits(4);if(g>=10)throw new G;u.append(Mn.toAlphaNumericChar(g))}}static parseECIValue(o){const u=o.readBits(8);if((u&128)===0)return u&127;if((u&192)===128){const f=o.readBits(8);return(u&63)<<8&4294967295|f}if((u&224)===192){const f=o.readBits(16);return(u&31)<<16&4294967295|f}throw new G}}Mn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Mn.GB2312_SUBSET=1;class Bf{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const u=o[0];o[0]=o[2],o[2]=u}}class vc{constructor(){this.rsDecoder=new ga(Lt.QR_CODE_FIELD_256)}decodeBooleanArray(o,u){return this.decodeBitMatrix(De.parseFromBooleanArray(o),u)}decodeBitMatrix(o,u){const f=new l0(o);let g=null;try{return this.decodeBitMatrixParser(f,u)}catch(x){g=x}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const x=this.decodeBitMatrixParser(f,u);return x.setOther(new Bf(!0)),x}catch(x){throw g!==null?g:x}}decodeBitMatrixParser(o,u){const f=o.readVersion(),g=o.readFormatInformation().getErrorCorrectionLevel(),x=o.readCodewords(),v=bc.getDataBlocks(x,f,g);let _=0;for(const k of v)_+=k.getNumDataCodewords();const N=new Uint8Array(_);let M=0;for(const k of v){const j=k.getCodewords(),U=k.getNumDataCodewords();this.correctErrors(j,U);for(let X=0;X<U;X++)N[M++]=j[X]}return Mn.decode(N,f,g,u)}correctErrors(o,u){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-u)}catch{throw new A}for(let g=0;g<u;g++)o[g]=f[g]}}class xl extends Ge{constructor(o,u,f){super(o,u),this.estimatedModuleSize=f}aboutEquals(o,u,f){if(Math.abs(u-this.getY())<=o&&Math.abs(f-this.getX())<=o){const g=Math.abs(o-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(o,u,f){const g=(this.getX()+u)/2,x=(this.getY()+o)/2,v=(this.estimatedModuleSize+f)/2;return new xl(g,x,v)}}class io{constructor(o,u,f,g,x,v,_){this.image=o,this.startX=u,this.startY=f,this.width=g,this.height=x,this.moduleSize=v,this.resultPointCallback=_,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,u=this.height,f=this.width,g=o+f,x=this.startY+u/2,v=new Int32Array(3),_=this.image;for(let N=0;N<u;N++){const M=x+((N&1)===0?Math.floor((N+1)/2):-Math.floor((N+1)/2));v[0]=0,v[1]=0,v[2]=0;let k=o;for(;k<g&&!_.get(k,M);)k++;let j=0;for(;k<g;){if(_.get(k,M))if(j===1)v[1]++;else if(j===2){if(this.foundPatternCross(v)){const U=this.handlePossibleCenter(v,M,k);if(U!==null)return U}v[0]=v[2],v[1]=1,v[2]=0,j=1}else v[++j]++;else j===1&&j++,v[j]++;k++}if(this.foundPatternCross(v)){const U=this.handlePossibleCenter(v,M,g);if(U!==null)return U}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(o,u){return u-o[2]-o[1]/2}foundPatternCross(o){const u=this.moduleSize,f=u/2;for(let g=0;g<3;g++)if(Math.abs(u-o[g])>=f)return!1;return!0}crossCheckVertical(o,u,f,g){const x=this.image,v=x.getHeight(),_=this.crossCheckStateCount;_[0]=0,_[1]=0,_[2]=0;let N=o;for(;N>=0&&x.get(u,N)&&_[1]<=f;)_[1]++,N--;if(N<0||_[1]>f)return NaN;for(;N>=0&&!x.get(u,N)&&_[0]<=f;)_[0]++,N--;if(_[0]>f)return NaN;for(N=o+1;N<v&&x.get(u,N)&&_[1]<=f;)_[1]++,N++;if(N===v||_[1]>f)return NaN;for(;N<v&&!x.get(u,N)&&_[2]<=f;)_[2]++,N++;if(_[2]>f)return NaN;const M=_[0]+_[1]+_[2];return 5*Math.abs(M-g)>=2*g?NaN:this.foundPatternCross(_)?io.centerFromEnd(_,N):NaN}handlePossibleCenter(o,u,f){const g=o[0]+o[1]+o[2],x=io.centerFromEnd(o,f),v=this.crossCheckVertical(u,x,2*o[1],g);if(!isNaN(v)){const _=(o[0]+o[1]+o[2])/3;for(const M of this.possibleCenters)if(M.aboutEquals(_,v,x))return M.combineEstimate(v,x,_);const N=new xl(x,v,_);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class Gs extends Ge{constructor(o,u,f,g){super(o,u),this.estimatedModuleSize=f,this.count=g,g===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,u,f){if(Math.abs(u-this.getY())<=o&&Math.abs(f-this.getX())<=o){const g=Math.abs(o-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(o,u,f){const g=this.count+1,x=(this.count*this.getX()+u)/g,v=(this.count*this.getY()+o)/g,_=(this.count*this.estimatedModuleSize+f)/g;return new Gs(x,v,_,g)}}class so{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Jn{constructor(o,u){this.image=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const u=o!=null&&o.get(V.TRY_HARDER)!==void 0,f=o!=null&&o.get(V.PURE_BARCODE)!==void 0,g=this.image,x=g.getHeight(),v=g.getWidth();let _=Math.floor(3*x/(4*Jn.MAX_MODULES));(_<Jn.MIN_SKIP||u)&&(_=Jn.MIN_SKIP);let N=!1;const M=new Int32Array(5);for(let j=_-1;j<x&&!N;j+=_){M[0]=0,M[1]=0,M[2]=0,M[3]=0,M[4]=0;let U=0;for(let X=0;X<v;X++)if(g.get(X,j))(U&1)===1&&U++,M[U]++;else if((U&1)===0)if(U===4)if(Jn.foundPatternCross(M)){if(this.handlePossibleCenter(M,j,X,f)===!0)if(_=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const re=this.findRowSkip();re>M[2]&&(j+=re-M[2]-_,X=v-1)}else{M[0]=M[2],M[1]=M[3],M[2]=M[4],M[3]=1,M[4]=0,U=3;continue}U=0,M[0]=0,M[1]=0,M[2]=0,M[3]=0,M[4]=0}else M[0]=M[2],M[1]=M[3],M[2]=M[4],M[3]=1,M[4]=0,U=3;else M[++U]++;else M[U]++;Jn.foundPatternCross(M)&&this.handlePossibleCenter(M,j,v,f)===!0&&(_=M[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const k=this.selectBestPatterns();return Ge.orderBestPatterns(k),new so(k)}static centerFromEnd(o,u){return u-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let u=0;for(let x=0;x<5;x++){const v=o[x];if(v===0)return!1;u+=v}if(u<7)return!1;const f=u/7,g=f/2;return Math.abs(f-o[0])<g&&Math.abs(f-o[1])<g&&Math.abs(3*f-o[2])<3*g&&Math.abs(f-o[3])<g&&Math.abs(f-o[4])<g}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,u,f,g){const x=this.getCrossCheckStateCount();let v=0;const _=this.image;for(;o>=v&&u>=v&&_.get(u-v,o-v);)x[2]++,v++;if(o<v||u<v)return!1;for(;o>=v&&u>=v&&!_.get(u-v,o-v)&&x[1]<=f;)x[1]++,v++;if(o<v||u<v||x[1]>f)return!1;for(;o>=v&&u>=v&&_.get(u-v,o-v)&&x[0]<=f;)x[0]++,v++;if(x[0]>f)return!1;const N=_.getHeight(),M=_.getWidth();for(v=1;o+v<N&&u+v<M&&_.get(u+v,o+v);)x[2]++,v++;if(o+v>=N||u+v>=M)return!1;for(;o+v<N&&u+v<M&&!_.get(u+v,o+v)&&x[3]<f;)x[3]++,v++;if(o+v>=N||u+v>=M||x[3]>=f)return!1;for(;o+v<N&&u+v<M&&_.get(u+v,o+v)&&x[4]<f;)x[4]++,v++;if(x[4]>=f)return!1;const k=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(k-g)<2*g&&Jn.foundPatternCross(x)}crossCheckVertical(o,u,f,g){const x=this.image,v=x.getHeight(),_=this.getCrossCheckStateCount();let N=o;for(;N>=0&&x.get(u,N);)_[2]++,N--;if(N<0)return NaN;for(;N>=0&&!x.get(u,N)&&_[1]<=f;)_[1]++,N--;if(N<0||_[1]>f)return NaN;for(;N>=0&&x.get(u,N)&&_[0]<=f;)_[0]++,N--;if(_[0]>f)return NaN;for(N=o+1;N<v&&x.get(u,N);)_[2]++,N++;if(N===v)return NaN;for(;N<v&&!x.get(u,N)&&_[3]<f;)_[3]++,N++;if(N===v||_[3]>=f)return NaN;for(;N<v&&x.get(u,N)&&_[4]<f;)_[4]++,N++;if(_[4]>=f)return NaN;const M=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(M-g)>=2*g?NaN:Jn.foundPatternCross(_)?Jn.centerFromEnd(_,N):NaN}crossCheckHorizontal(o,u,f,g){const x=this.image,v=x.getWidth(),_=this.getCrossCheckStateCount();let N=o;for(;N>=0&&x.get(N,u);)_[2]++,N--;if(N<0)return NaN;for(;N>=0&&!x.get(N,u)&&_[1]<=f;)_[1]++,N--;if(N<0||_[1]>f)return NaN;for(;N>=0&&x.get(N,u)&&_[0]<=f;)_[0]++,N--;if(_[0]>f)return NaN;for(N=o+1;N<v&&x.get(N,u);)_[2]++,N++;if(N===v)return NaN;for(;N<v&&!x.get(N,u)&&_[3]<f;)_[3]++,N++;if(N===v||_[3]>=f)return NaN;for(;N<v&&x.get(N,u)&&_[4]<f;)_[4]++,N++;if(_[4]>=f)return NaN;const M=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(M-g)>=g?NaN:Jn.foundPatternCross(_)?Jn.centerFromEnd(_,N):NaN}handlePossibleCenter(o,u,f,g){const x=o[0]+o[1]+o[2]+o[3]+o[4];let v=Jn.centerFromEnd(o,f),_=this.crossCheckVertical(u,Math.floor(v),o[2],x);if(!isNaN(_)&&(v=this.crossCheckHorizontal(Math.floor(v),Math.floor(_),o[2],x),!isNaN(v)&&(!g||this.crossCheckDiagonal(Math.floor(_),Math.floor(v),o[2],x)))){const N=x/7;let M=!1;const k=this.possibleCenters;for(let j=0,U=k.length;j<U;j++){const X=k[j];if(X.aboutEquals(N,_,v)){k[j]=X.combineEstimate(_,v,N),M=!0;break}}if(!M){const j=new Gs(v,_,N);k.push(j),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(j)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const f of this.possibleCenters)if(f.getCount()>=Jn.CENTER_QUORUM)if(u==null)u=f;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-f.getX())-Math.abs(u.getY()-f.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,u=0;const f=this.possibleCenters.length;for(const v of this.possibleCenters)v.getCount()>=Jn.CENTER_QUORUM&&(o++,u+=v.getEstimatedModuleSize());if(o<3)return!1;const g=u/f;let x=0;for(const v of this.possibleCenters)x+=Math.abs(v.getEstimatedModuleSize()-g);return x<=.05*u}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new ee;const u=this.possibleCenters;let f;if(o>3){let g=0,x=0;for(const N of this.possibleCenters){const M=N.getEstimatedModuleSize();g+=M,x+=M*M}f=g/o;let v=Math.sqrt(x/o-f*f);u.sort((N,M)=>{const k=Math.abs(M.getEstimatedModuleSize()-f),j=Math.abs(N.getEstimatedModuleSize()-f);return k<j?-1:k>j?1:0});const _=Math.max(.2*f,v);for(let N=0;N<u.length&&u.length>3;N++){const M=u[N];Math.abs(M.getEstimatedModuleSize()-f)>_&&(u.splice(N,1),N--)}}if(u.length>3){let g=0;for(const x of u)g+=x.getEstimatedModuleSize();f=g/u.length,u.sort((x,v)=>{if(v.getCount()===x.getCount()){const _=Math.abs(v.getEstimatedModuleSize()-f),N=Math.abs(x.getEstimatedModuleSize()-f);return _<N?1:_>N?-1:0}else return v.getCount()-x.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}Jn.CENTER_QUORUM=2,Jn.MIN_SKIP=3,Jn.MAX_MODULES=57;class Ca{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(V.NEED_RESULT_POINT_CALLBACK);const f=new Jn(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(f)}processFinderPatternInfo(o){const u=o.getTopLeft(),f=o.getTopRight(),g=o.getBottomLeft(),x=this.calculateModuleSize(u,f,g);if(x<1)throw new ee("No pattern found in proccess finder.");const v=Ca.computeDimension(u,f,g,x),_=nt.getProvisionalVersionForDimension(v),N=_.getDimensionForVersion()-7;let M=null;if(_.getAlignmentPatternCenters().length>0){const X=f.getX()-u.getX()+g.getX(),te=f.getY()-u.getY()+g.getY(),re=1-3/N,le=Math.floor(u.getX()+re*(X-u.getX())),ge=Math.floor(u.getY()+re*(te-u.getY()));for(let Be=4;Be<=16;Be<<=1)try{M=this.findAlignmentInRegion(x,le,ge,Be);break}catch(je){if(!(je instanceof ee))throw je}}const k=Ca.createTransform(u,f,g,M,v),j=Ca.sampleGrid(this.image,k,v);let U;return M===null?U=[g,u,f]:U=[g,u,f,M],new bi(j,U)}static createTransform(o,u,f,g,x){const v=x-3.5;let _,N,M,k;return g!==null?(_=g.getX(),N=g.getY(),M=v-3,k=M):(_=u.getX()-o.getX()+f.getX(),N=u.getY()-o.getY()+f.getY(),M=v,k=v),_n.quadrilateralToQuadrilateral(3.5,3.5,v,3.5,M,k,3.5,v,o.getX(),o.getY(),u.getX(),u.getY(),_,N,f.getX(),f.getY())}static sampleGrid(o,u,f){return or.getInstance().sampleGridWithTransform(o,f,f,u)}static computeDimension(o,u,f,g){const x=It.round(Ge.distance(o,u)/g),v=It.round(Ge.distance(o,f)/g);let _=Math.floor((x+v)/2)+7;switch(_&3){case 0:_++;break;case 2:_--;break;case 3:throw new ee("Dimensions could be not found.")}return _}calculateModuleSize(o,u,f){return(this.calculateModuleSizeOneWay(o,u)+this.calculateModuleSizeOneWay(o,f))/2}calculateModuleSizeOneWay(o,u){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(u.getX()),Math.floor(u.getY())),g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(f)?g/7:isNaN(g)?f/7:(f+g)/14}sizeOfBlackWhiteBlackRunBothWays(o,u,f,g){let x=this.sizeOfBlackWhiteBlackRun(o,u,f,g),v=1,_=o-(f-o);_<0?(v=o/(o-_),_=0):_>=this.image.getWidth()&&(v=(this.image.getWidth()-1-o)/(_-o),_=this.image.getWidth()-1);let N=Math.floor(u-(g-u)*v);return v=1,N<0?(v=u/(u-N),N=0):N>=this.image.getHeight()&&(v=(this.image.getHeight()-1-u)/(N-u),N=this.image.getHeight()-1),_=Math.floor(o+(_-o)*v),x+=this.sizeOfBlackWhiteBlackRun(o,u,_,N),x-1}sizeOfBlackWhiteBlackRun(o,u,f,g){const x=Math.abs(g-u)>Math.abs(f-o);if(x){let X=o;o=u,u=X,X=f,f=g,g=X}const v=Math.abs(f-o),_=Math.abs(g-u);let N=-v/2;const M=o<f?1:-1,k=u<g?1:-1;let j=0;const U=f+M;for(let X=o,te=u;X!==U;X+=M){const re=x?te:X,le=x?X:te;if(j===1===this.image.get(re,le)){if(j===2)return It.distance(X,te,o,u);j++}if(N+=_,N>0){if(te===g)break;te+=k,N-=v}}return j===2?It.distance(f+M,g,o,u):NaN}findAlignmentInRegion(o,u,f,g){const x=Math.floor(g*o),v=Math.max(0,u-x),_=Math.min(this.image.getWidth()-1,u+x);if(_-v<o*3)throw new ee("Alignment top exceeds estimated module size.");const N=Math.max(0,f-x),M=Math.min(this.image.getHeight()-1,f+x);if(M-N<o*3)throw new ee("Alignment bottom exceeds estimated module size.");return new io(this.image,v,N,_-v,M-N,o,this.resultPointCallback).find()}}class Ss{constructor(){this.decoder=new vc}getDecoder(){return this.decoder}decode(o,u){let f,g;if(u!=null&&u.get(V.PURE_BARCODE)!==void 0){const N=Ss.extractPureBits(o.getBlackMatrix());f=this.decoder.decodeBitMatrix(N,u),g=Ss.NO_POINTS}else{const N=new Ca(o.getBlackMatrix()).detect(u);f=this.decoder.decodeBitMatrix(N.getBits(),u),g=N.getPoints()}f.getOther()instanceof Bf&&f.getOther().applyMirroredCorrection(g);const x=new He(f.getText(),f.getRawBytes(),void 0,g,Me.QR_CODE,void 0),v=f.getByteSegments();v!==null&&x.putMetadata(mt.BYTE_SEGMENTS,v);const _=f.getECLevel();return _!==null&&x.putMetadata(mt.ERROR_CORRECTION_LEVEL,_),f.hasStructuredAppend()&&(x.putMetadata(mt.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),x.putMetadata(mt.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),x}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(u===null||f===null)throw new ee;const g=this.moduleSize(u,o);let x=u[1],v=f[1],_=u[0],N=f[0];if(_>=N||x>=v)throw new ee;if(v-x!==N-_&&(N=_+(v-x),N>=o.getWidth()))throw new ee;const M=Math.round((N-_+1)/g),k=Math.round((v-x+1)/g);if(M<=0||k<=0)throw new ee;if(k!==M)throw new ee;const j=Math.floor(g/2);x+=j,_+=j;const U=_+Math.floor((M-1)*g)-N;if(U>0){if(U>j)throw new ee;_-=U}const X=x+Math.floor((k-1)*g)-v;if(X>0){if(X>j)throw new ee;x-=X}const te=new De(M,k);for(let re=0;re<k;re++){const le=x+Math.floor(re*g);for(let ge=0;ge<M;ge++)o.get(_+Math.floor(ge*g),le)&&te.set(ge,re)}return te}static moduleSize(o,u){const f=u.getHeight(),g=u.getWidth();let x=o[0],v=o[1],_=!0,N=0;for(;x<g&&v<f;){if(_!==u.get(x,v)){if(++N===5)break;_=!_}x++,v++}if(x===g||v===f)throw new ee;return(x-o[0])/7}}Ss.NO_POINTS=new Array;class at{PDF417Common(){}static getBitCountSum(o){return It.sum(o)}static toIntArray(o){if(o==null||!o.length)return at.EMPTY_INT_ARRAY;const u=new Int32Array(o.length);let f=0;for(const g of o)u[f++]=g;return u}static getCodeword(o){const u=F.binarySearch(at.SYMBOL_TABLE,o&262143);return u<0?-1:(at.CODEWORD_TABLE[u]-1)%at.NUMBER_OF_CODEWORDS}}at.NUMBER_OF_CODEWORDS=929,at.MAX_CODEWORDS_IN_BARCODE=at.NUMBER_OF_CODEWORDS-1,at.MIN_ROWS_IN_BARCODE=3,at.MAX_ROWS_IN_BARCODE=90,at.MODULES_IN_CODEWORD=17,at.MODULES_IN_STOP_PATTERN=18,at.BARS_IN_MODULE=8,at.EMPTY_INT_ARRAY=new Int32Array([]),at.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),at.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Es{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class yt{static detectMultiple(o,u,f){let g=o.getBlackMatrix(),x=yt.detect(f,g);return x.length||(g=g.clone(),g.rotate180(),x=yt.detect(f,g)),new Es(g,x)}static detect(o,u){const f=new Array;let g=0,x=0,v=!1;for(;g<u.getHeight();){const _=yt.findVertices(u,g,x);if(_[0]==null&&_[3]==null){if(!v)break;v=!1,x=0;for(const N of f)N[1]!=null&&(g=Math.trunc(Math.max(g,N[1].getY()))),N[3]!=null&&(g=Math.max(g,Math.trunc(N[3].getY())));g+=yt.ROW_STEP;continue}if(v=!0,f.push(_),!o)break;_[2]!=null?(x=Math.trunc(_[2].getX()),g=Math.trunc(_[2].getY())):(x=Math.trunc(_[4].getX()),g=Math.trunc(_[4].getY()))}return f}static findVertices(o,u,f){const g=o.getHeight(),x=o.getWidth(),v=new Array(8);return yt.copyToResult(v,yt.findRowsWithPattern(o,g,x,u,f,yt.START_PATTERN),yt.INDEXES_START_PATTERN),v[4]!=null&&(f=Math.trunc(v[4].getX()),u=Math.trunc(v[4].getY())),yt.copyToResult(v,yt.findRowsWithPattern(o,g,x,u,f,yt.STOP_PATTERN),yt.INDEXES_STOP_PATTERN),v}static copyToResult(o,u,f){for(let g=0;g<f.length;g++)o[f[g]]=u[g]}static findRowsWithPattern(o,u,f,g,x,v){const _=new Array(4);let N=!1;const M=new Int32Array(v.length);for(;g<u;g+=yt.ROW_STEP){let j=yt.findGuardPattern(o,x,g,f,!1,v,M);if(j!=null){for(;g>0;){const U=yt.findGuardPattern(o,x,--g,f,!1,v,M);if(U!=null)j=U;else{g++;break}}_[0]=new Ge(j[0],g),_[1]=new Ge(j[1],g),N=!0;break}}let k=g+1;if(N){let j=0,U=Int32Array.from([Math.trunc(_[0].getX()),Math.trunc(_[1].getX())]);for(;k<u;k++){const X=yt.findGuardPattern(o,U[0],k,f,!1,v,M);if(X!=null&&Math.abs(U[0]-X[0])<yt.MAX_PATTERN_DRIFT&&Math.abs(U[1]-X[1])<yt.MAX_PATTERN_DRIFT)U=X,j=0;else{if(j>yt.SKIPPED_ROW_COUNT_MAX)break;j++}}k-=j+1,_[2]=new Ge(U[0],k),_[3]=new Ge(U[1],k)}return k-g<yt.BARCODE_MIN_HEIGHT&&F.fill(_,null),_}static findGuardPattern(o,u,f,g,x,v,_){F.fillWithin(_,0,_.length,0);let N=u,M=0;for(;o.get(N,f)&&N>0&&M++<yt.MAX_PIXEL_DRIFT;)N--;let k=N,j=0,U=v.length;for(let X=x;k<g;k++)if(o.get(k,f)!==X)_[j]++;else{if(j===U-1){if(yt.patternMatchVariance(_,v,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE)return new Int32Array([N,k]);N+=_[0]+_[1],R.arraycopy(_,2,_,0,j-1),_[j-1]=0,_[j]=0,j--}else j++;_[j]=1,X=!X}return j===U-1&&yt.patternMatchVariance(_,v,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE?new Int32Array([N,k-1]):null}static patternMatchVariance(o,u,f){let g=o.length,x=0,v=0;for(let M=0;M<g;M++)x+=o[M],v+=u[M];if(x<v)return 1/0;let _=x/v;f*=_;let N=0;for(let M=0;M<g;M++){let k=o[M],j=u[M]*_,U=k>j?k-j:j-k;if(U>f)return 1/0;N+=U}return N/x}}yt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),yt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),yt.MAX_AVG_VARIANCE=.42,yt.MAX_INDIVIDUAL_VARIANCE=.8,yt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),yt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),yt.MAX_PIXEL_DRIFT=3,yt.MAX_PATTERN_DRIFT=5,yt.SKIPPED_ROW_COUNT_MAX=25,yt.ROW_STEP=5,yt.BARCODE_MIN_HEIGHT=10;class zn{constructor(o,u){if(u.length===0)throw new C;this.field=o;let f=u.length;if(f>1&&u[0]===0){let g=1;for(;g<f&&u[g]===0;)g++;g===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-g),R.arraycopy(u,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let g=0;for(let x of this.coefficients)g=this.field.add(g,x);return g}let u=this.coefficients[0],f=this.coefficients.length;for(let g=1;g<f;g++)u=this.field.add(this.field.multiply(o,u),this.coefficients[g]);return u}add(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,f=o.coefficients;if(u.length>f.length){let v=u;u=f,f=v}let g=new Int32Array(f.length),x=f.length-u.length;R.arraycopy(f,0,g,0,x);for(let v=x;v<f.length;v++)g[v]=this.field.add(u[v-x],f[v]);return new zn(this.field,g)}subtract(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof zn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new zn(this.field,new Int32Array([0]));let u=this.coefficients,f=u.length,g=o.coefficients,x=g.length,v=new Int32Array(f+x-1);for(let _=0;_<f;_++){let N=u[_];for(let M=0;M<x;M++)v[_+M]=this.field.add(v[_+M],this.field.multiply(N,g[M]))}return new zn(this.field,v)}negative(){let o=this.coefficients.length,u=new Int32Array(o);for(let f=0;f<o;f++)u[f]=this.field.subtract(0,this.coefficients[f]);return new zn(this.field,u)}multiplyScalar(o){if(o===0)return new zn(this.field,new Int32Array([0]));if(o===1)return this;let u=this.coefficients.length,f=new Int32Array(u);for(let g=0;g<u;g++)f[g]=this.field.multiply(this.coefficients[g],o);return new zn(this.field,f)}multiplyByMonomial(o,u){if(o<0)throw new C;if(u===0)return new zn(this.field,new Int32Array([0]));let f=this.coefficients.length,g=new Int32Array(f+o);for(let x=0;x<f;x++)g[x]=this.field.multiply(this.coefficients[x],u);return new zn(this.field,g)}toString(){let o=new Pe;for(let u=this.getDegree();u>=0;u--){let f=this.getCoefficient(u);f!==0&&(f<0?(o.append(" - "),f=-f):o.length()>0&&o.append(" + "),(u===0||f!==1)&&o.append(f),u!==0&&(u===1?o.append("x"):(o.append("x^"),o.append(u))))}return o.toString()}}class qs{add(o,u){return(o+u)%this.modulus}subtract(o,u){return(this.modulus+o-u)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new C;return this.logTable[o]}inverse(o){if(o===0)throw new vs;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class yl extends qs{constructor(o,u){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let f=1;for(let g=0;g<o;g++)this.expTable[g]=f,f=f*u%o;for(let g=0;g<o-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new zn(this,new Int32Array([0])),this.one=new zn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new C;if(u===0)return this.zero;let f=new Int32Array(o+1);return f[0]=u,new zn(this,f)}}yl.PDF417_GF=new yl(at.NUMBER_OF_CODEWORDS,3);class bl{constructor(){this.field=yl.PDF417_GF}decode(o,u,f){let g=new zn(this.field,o),x=new Int32Array(u),v=!1;for(let te=u;te>0;te--){let re=g.evaluateAt(this.field.exp(te));x[u-te]=re,re!==0&&(v=!0)}if(!v)return 0;let _=this.field.getOne();if(f!=null)for(const te of f){let re=this.field.exp(o.length-1-te),le=new zn(this.field,new Int32Array([this.field.subtract(0,re),1]));_=_.multiply(le)}let N=new zn(this.field,x),M=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),N,u),k=M[0],j=M[1],U=this.findErrorLocations(k),X=this.findErrorMagnitudes(j,k,U);for(let te=0;te<U.length;te++){let re=o.length-1-this.field.log(U[te]);if(re<0)throw A.getChecksumInstance();o[re]=this.field.subtract(o[re],X[te])}return U.length}runEuclideanAlgorithm(o,u,f){if(o.getDegree()<u.getDegree()){let U=o;o=u,u=U}let g=o,x=u,v=this.field.getZero(),_=this.field.getOne();for(;x.getDegree()>=Math.round(f/2);){let U=g,X=v;if(g=x,v=_,g.isZero())throw A.getChecksumInstance();x=U;let te=this.field.getZero(),re=g.getCoefficient(g.getDegree()),le=this.field.inverse(re);for(;x.getDegree()>=g.getDegree()&&!x.isZero();){let ge=x.getDegree()-g.getDegree(),Be=this.field.multiply(x.getCoefficient(x.getDegree()),le);te=te.add(this.field.buildMonomial(ge,Be)),x=x.subtract(g.multiplyByMonomial(ge,Be))}_=te.multiply(v).subtract(X).negative()}let N=_.getCoefficient(0);if(N===0)throw A.getChecksumInstance();let M=this.field.inverse(N),k=_.multiply(M),j=x.multiply(M);return[k,j]}findErrorLocations(o){let u=o.getDegree(),f=new Int32Array(u),g=0;for(let x=1;x<this.field.getSize()&&g<u;x++)o.evaluateAt(x)===0&&(f[g]=this.field.inverse(x),g++);if(g!==u)throw A.getChecksumInstance();return f}findErrorMagnitudes(o,u,f){let g=u.getDegree(),x=new Int32Array(g);for(let M=1;M<=g;M++)x[g-M]=this.field.multiply(M,u.getCoefficient(M));let v=new zn(this.field,x),_=f.length,N=new Int32Array(_);for(let M=0;M<_;M++){let k=this.field.inverse(f[M]),j=this.field.subtract(0,o.evaluateAt(k)),U=this.field.inverse(v.evaluateAt(k));N[M]=this.field.multiply(j,U)}return N}}class Ws{constructor(o,u,f,g,x){o instanceof Ws?this.constructor_2(o):this.constructor_1(o,u,f,g,x)}constructor_1(o,u,f,g,x){const v=u==null||f==null,_=g==null||x==null;if(v&&_)throw new ee;v?(u=new Ge(0,g.getY()),f=new Ge(0,x.getY())):_&&(g=new Ge(o.getWidth()-1,u.getY()),x=new Ge(o.getWidth()-1,f.getY())),this.image=o,this.topLeft=u,this.bottomLeft=f,this.topRight=g,this.bottomRight=x,this.minX=Math.trunc(Math.min(u.getX(),f.getX())),this.maxX=Math.trunc(Math.max(g.getX(),x.getX())),this.minY=Math.trunc(Math.min(u.getY(),g.getY())),this.maxY=Math.trunc(Math.max(f.getY(),x.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,u){return o==null?u:u==null?o:new Ws(o.image,o.topLeft,o.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(o,u,f){let g=this.topLeft,x=this.bottomLeft,v=this.topRight,_=this.bottomRight;if(o>0){let N=f?this.topLeft:this.topRight,M=Math.trunc(N.getY()-o);M<0&&(M=0);let k=new Ge(N.getX(),M);f?g=k:v=k}if(u>0){let N=f?this.bottomLeft:this.bottomRight,M=Math.trunc(N.getY()+u);M>=this.image.getHeight()&&(M=this.image.getHeight()-1);let k=new Ge(N.getX(),M);f?x=k:_=k}return new Ws(this.image,g,x,v,_)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class wc{constructor(o,u,f,g){this.columnCount=o,this.errorCorrectionLevel=g,this.rowCountUpperPart=u,this.rowCountLowerPart=f,this.rowCount=u+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xs{constructor(){this.buffer=""}static form(o,u){let f=-1;function g(v,_,N,M,k,j){if(v==="%%")return"%";if(u[++f]===void 0)return;v=M?parseInt(M.substr(1)):void 0;let U=k?parseInt(k.substr(1)):void 0,X;switch(j){case"s":X=u[f];break;case"c":X=u[f][0];break;case"f":X=parseFloat(u[f]).toFixed(v);break;case"p":X=parseFloat(u[f]).toPrecision(v);break;case"e":X=parseFloat(u[f]).toExponential(v);break;case"x":X=parseInt(u[f]).toString(U||16);break;case"d":X=parseFloat(parseInt(u[f],U||10).toPrecision(v)).toFixed(0);break}X=typeof X=="object"?JSON.stringify(X):(+X).toString(U);let te=parseInt(N),re=N&&N[0]+""=="0"?"0":" ";for(;X.length<te;)X=_!==void 0?X+re:re+X;return X}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,g)}format(o,...u){this.buffer+=Xs.form(o,u)}toString(){return this.buffer}}class ao{constructor(o){this.boundingBox=new Ws(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let u=this.getCodeword(o);if(u!=null)return u;for(let f=1;f<ao.MAX_NEARBY_DISTANCE;f++){let g=this.imageRowToCodewordIndex(o)-f;if(g>=0&&(u=this.codewords[g],u!=null)||(g=this.imageRowToCodewordIndex(o)+f,g<this.codewords.length&&(u=this.codewords[g],u!=null)))return u}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,u){this.codewords[this.imageRowToCodewordIndex(o)]=u}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Xs;let u=0;for(const f of this.codewords){if(f==null){o.format("%3d:    |   %n",u++);continue}o.format("%3d: %3d|%3d%n",u++,f.getRowNumber(),f.getValue())}return o.toString()}}ao.MAX_NEARBY_DISTANCE=5;class lr{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let u=this.values.get(o);u==null&&(u=0),u++,this.values.set(o,u)}getValue(){let o=-1,u=new Array;for(const[f,g]of this.values.entries()){const x={getKey:()=>f,getValue:()=>g};x.getValue()>o?(o=x.getValue(),u=[],u.push(x.getKey())):x.getValue()===o&&u.push(x.getKey())}return at.toIntArray(u)}getConfidence(o){return this.values.get(o)}}class Ys extends ao{constructor(o,u){super(o),this._isLeft=u}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,o);let f=this.getBoundingBox(),g=this._isLeft?f.getTopLeft():f.getTopRight(),x=this._isLeft?f.getBottomLeft():f.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(g.getY())),_=this.imageRowToCodewordIndex(Math.trunc(x.getY())),N=-1,M=1,k=0;for(let j=v;j<_;j++){if(u[j]==null)continue;let U=u[j],X=U.getRowNumber()-N;if(X===0)k++;else if(X===1)M=Math.max(M,k),k=1,N=U.getRowNumber();else if(X<0||U.getRowNumber()>=o.getRowCount()||X>j)u[j]=null;else{let te;M>2?te=(M-2)*X:te=X;let re=te>=j;for(let le=1;le<=te&&!re;le++)re=u[j-le]!=null;re?u[j]=null:(N=U.getRowNumber(),k=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let u=new Int32Array(o.getRowCount());for(let f of this.getCodewords())if(f!=null){let g=f.getRowNumber();if(g>=u.length)continue;u[g]++}return u}adjustIncompleteIndicatorColumnRowNumbers(o){let u=this.getBoundingBox(),f=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(f.getY())),v=this.imageRowToCodewordIndex(Math.trunc(g.getY())),_=this.getCodewords(),N=-1;for(let M=x;M<v;M++){if(_[M]==null)continue;let k=_[M];k.setRowNumberAsRowIndicatorColumn();let j=k.getRowNumber()-N;j===0||(j===1?N=k.getRowNumber():k.getRowNumber()>=o.getRowCount()?_[M]=null:N=k.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),u=new lr,f=new lr,g=new lr,x=new lr;for(let _ of o){if(_==null)continue;_.setRowNumberAsRowIndicatorColumn();let N=_.getValue()%30,M=_.getRowNumber();switch(this._isLeft||(M+=2),M%3){case 0:f.setValue(N*3+1);break;case 1:x.setValue(N/3),g.setValue(N%3);break;case 2:u.setValue(N+1);break}}if(u.getValue().length===0||f.getValue().length===0||g.getValue().length===0||x.getValue().length===0||u.getValue()[0]<1||f.getValue()[0]+g.getValue()[0]<at.MIN_ROWS_IN_BARCODE||f.getValue()[0]+g.getValue()[0]>at.MAX_ROWS_IN_BARCODE)return null;let v=new wc(u.getValue()[0],f.getValue()[0],g.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(o,v),v}removeIncorrectCodewords(o,u){for(let f=0;f<o.length;f++){let g=o[f];if(o[f]==null)continue;let x=g.getValue()%30,v=g.getRowNumber();if(v>u.getRowCount()){o[f]=null;continue}switch(this._isLeft||(v+=2),v%3){case 0:x*3+1!==u.getRowCountUpperPart()&&(o[f]=null);break;case 1:(Math.trunc(x/3)!==u.getErrorCorrectionLevel()||x%3!==u.getRowCountLowerPart())&&(o[f]=null);break;case 2:x+1!==u.getColumnCount()&&(o[f]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ks{constructor(o,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=at.MAX_CODEWORDS_IN_BARCODE,u;do u=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let f=this.detectionResultColumns[u].getCodewords();for(let g=0;g<f.length;g++)f[g]!=null&&(f[g].hasValidRowNumber()||this.adjustRowNumbers(u,g,f))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<o.length;f++)if(o[f]!=null&&u[f]!=null&&o[f].getRowNumber()===u[f].getRowNumber())for(let g=1;g<=this.barcodeColumnCount;g++){let x=this.detectionResultColumns[g].getCodewords()[f];x!=null&&(x.setRowNumber(o[f].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[g].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<u.length;f++){if(u[f]==null)continue;let g=u[f].getRowNumber(),x=0;for(let v=this.barcodeColumnCount+1;v>0&&x<this.ADJUST_ROW_NUMBER_SKIP;v--){let _=this.detectionResultColumns[v].getCodewords()[f];_!=null&&(x=Ks.adjustRowNumberIfValid(g,x,_),_.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,u=this.detectionResultColumns[0].getCodewords();for(let f=0;f<u.length;f++){if(u[f]==null)continue;let g=u[f].getRowNumber(),x=0;for(let v=1;v<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;v++){let _=this.detectionResultColumns[v].getCodewords()[f];_!=null&&(x=Ks.adjustRowNumberIfValid(g,x,_),_.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,u,f){return f==null||f.hasValidRowNumber()||(f.isValidRowNumber(o)?(f.setRowNumber(o),u=0):++u),u}adjustRowNumbers(o,u,f){if(!this.detectionResultColumns[o-1])return;let g=f[u],x=this.detectionResultColumns[o-1].getCodewords(),v=x;this.detectionResultColumns[o+1]!=null&&(v=this.detectionResultColumns[o+1].getCodewords());let _=new Array(14);_[2]=x[u],_[3]=v[u],u>0&&(_[0]=f[u-1],_[4]=x[u-1],_[5]=v[u-1]),u>1&&(_[8]=f[u-2],_[10]=x[u-2],_[11]=v[u-2]),u<f.length-1&&(_[1]=f[u+1],_[6]=x[u+1],_[7]=v[u+1]),u<f.length-2&&(_[9]=f[u+2],_[12]=x[u+2],_[13]=v[u+2]);for(let N of _)if(Ks.adjustRowNumber(g,N))return}static adjustRowNumber(o,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===o.getBucket()?(o.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,u){this.detectionResultColumns[o]=u}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new Xs;for(let f=0;f<o.getCodewords().length;f++){u.format("CW %3d:",f);for(let g=0;g<this.barcodeColumnCount+2;g++){if(this.detectionResultColumns[g]==null){u.format("    |   ");continue}let x=this.detectionResultColumns[g].getCodewords()[f];if(x==null){u.format("    |   ");continue}u.format(" %3d|%3d",x.getRowNumber(),x.getValue())}u.format("%n")}return u.toString()}}class As{constructor(o,u,f,g){this.rowNumber=As.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(u),this.bucket=Math.trunc(f),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==As.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}As.BARCODE_ROW_UNKNOWN=-1;class Gr{static initialize(){for(let o=0;o<at.SYMBOL_TABLE.length;o++){let u=at.SYMBOL_TABLE[o],f=u&1;for(let g=0;g<at.BARS_IN_MODULE;g++){let x=0;for(;(u&1)===f;)x+=1,u>>=1;f=u&1,Gr.RATIOS_TABLE[o]||(Gr.RATIOS_TABLE[o]=new Array(at.BARS_IN_MODULE)),Gr.RATIOS_TABLE[o][at.BARS_IN_MODULE-g-1]=Math.fround(x/at.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let u=Gr.getDecodedCodewordValue(Gr.sampleBitCounts(o));return u!==-1?u:Gr.getClosestDecodedValue(o)}static sampleBitCounts(o){let u=It.sum(o),f=new Int32Array(at.BARS_IN_MODULE),g=0,x=0;for(let v=0;v<at.MODULES_IN_CODEWORD;v++){let _=u/(2*at.MODULES_IN_CODEWORD)+v*u/at.MODULES_IN_CODEWORD;x+o[g]<=_&&(x+=o[g],g++),f[g]++}return f}static getDecodedCodewordValue(o){let u=Gr.getBitValue(o);return at.getCodeword(u)===-1?-1:u}static getBitValue(o){let u=0;for(let f=0;f<o.length;f++)for(let g=0;g<o[f];g++)u=u<<1|(f%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(o){let u=It.sum(o),f=new Array(at.BARS_IN_MODULE);if(u>1)for(let v=0;v<f.length;v++)f[v]=Math.fround(o[v]/u);let g=xa.MAX_VALUE,x=-1;this.bSymbolTableReady||Gr.initialize();for(let v=0;v<Gr.RATIOS_TABLE.length;v++){let _=0,N=Gr.RATIOS_TABLE[v];for(let M=0;M<at.BARS_IN_MODULE;M++){let k=Math.fround(N[M]-f[M]);if(_+=Math.fround(k*k),_>=g)break}_<g&&(g=_,x=at.SYMBOL_TABLE[v])}return x}}Gr.bSymbolTableReady=!1,Gr.RATIOS_TABLE=new Array(at.SYMBOL_TABLE.length).map(L=>new Array(at.BARS_IN_MODULE));class Cc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class _c{static parseLong(o,u=void 0){return parseInt(o,u)}}class oo extends m{}oo.kind="NullPointerException";class Sc{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,u,f){if(o==null)throw new oo;if(u<0||u>o.length||f<0||u+f>o.length||u+f<0)throw new I;if(f===0)return;for(let g=0;g<f;g++)this.write(o[u+g])}flush(){}close(){}}class Lf extends m{}class c0 extends Sc{constructor(o=32){if(super(),this.count=0,o<0)throw new C("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let f=this.buf.length<<1;if(f-o<0&&(f=o),f<0){if(o<0)throw new Lf;f=P.MAX_VALUE}this.buf=F.copyOfUint8Array(this.buf,f)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,u,f){if(u<0||u>o.length||f<0||u+f-o.length>0)throw new I;this.ensureCapacity(this.count+f),R.arraycopy(o,u,this.buf,this.count,f),this.count+=f}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return F.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var nn;(function(L){L[L.ALPHA=0]="ALPHA",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.PUNCT=3]="PUNCT",L[L.ALPHA_SHIFT=4]="ALPHA_SHIFT",L[L.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(nn||(nn={}));function jf(){if(typeof window<"u")return window.BigInt||null;if(typeof Uh<"u")return Uh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let lo;function Zs(L){if(typeof lo>"u"&&(lo=jf()),lo===null)throw new Error("BigInt is not supported!");return lo(L)}function u0(){let L=[];L[0]=Zs(1);let o=Zs(900);L[1]=o;for(let u=2;u<16;u++)L[u]=L[u-1]*o;return L}class ye{static decode(o,u){let f=new Pe(""),g=Z.ISO8859_1;f.enableDecoding(g);let x=1,v=o[x++],_=new Cc;for(;x<o[0];){switch(v){case ye.TEXT_COMPACTION_MODE_LATCH:x=ye.textCompaction(o,x,f);break;case ye.BYTE_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:x=ye.byteCompaction(v,o,g,x,f);break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x++]);break;case ye.NUMERIC_COMPACTION_MODE_LATCH:x=ye.numericCompaction(o,x,f);break;case ye.ECI_CHARSET:Z.getCharacterSetECIByValue(o[x++]);break;case ye.ECI_GENERAL_PURPOSE:x+=2;break;case ye.ECI_USER_DEFINED:x++;break;case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=ye.decodeMacroBlock(o,x,_);break;case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:throw new G;default:x--,x=ye.textCompaction(o,x,f);break}if(x<o.length)v=o[x++];else throw G.getFormatInstance()}if(f.length()===0)throw G.getFormatInstance();let N=new $r(null,f.toString(),null,u);return N.setOther(_),N}static decodeMacroBlock(o,u,f){if(u+ye.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw G.getFormatInstance();let g=new Int32Array(ye.NUMBER_OF_SEQUENCE_CODEWORDS);for(let _=0;_<ye.NUMBER_OF_SEQUENCE_CODEWORDS;_++,u++)g[_]=o[u];f.setSegmentIndex(P.parseInt(ye.decodeBase900toBase10(g,ye.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new Pe;u=ye.textCompaction(o,u,x),f.setFileId(x.toString());let v=-1;for(o[u]===ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(v=u+1);u<o[0];)switch(o[u]){case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,o[u]){case ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let _=new Pe;u=ye.textCompaction(o,u+1,_),f.setFileName(_.toString());break;case ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new Pe;u=ye.textCompaction(o,u+1,N),f.setSender(N.toString());break;case ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let M=new Pe;u=ye.textCompaction(o,u+1,M),f.setAddressee(M.toString());break;case ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let k=new Pe;u=ye.numericCompaction(o,u+1,k),f.setSegmentCount(P.parseInt(k.toString()));break;case ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let j=new Pe;u=ye.numericCompaction(o,u+1,j),f.setTimestamp(_c.parseLong(j.toString()));break;case ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let U=new Pe;u=ye.numericCompaction(o,u+1,U),f.setChecksum(P.parseInt(U.toString()));break;case ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let X=new Pe;u=ye.numericCompaction(o,u+1,X),f.setFileSize(_c.parseLong(X.toString()));break;default:throw G.getFormatInstance()}break;case ye.MACRO_PDF417_TERMINATOR:u++,f.setLastSegment(!0);break;default:throw G.getFormatInstance()}if(v!==-1){let _=u-v;f.isLastSegment()&&_--,f.setOptionalData(F.copyOfRange(o,v,v+_))}return u}static textCompaction(o,u,f){let g=new Int32Array((o[0]-u)*2),x=new Int32Array((o[0]-u)*2),v=0,_=!1;for(;u<o[0]&&!_;){let N=o[u++];if(N<ye.TEXT_COMPACTION_MODE_LATCH)g[v]=N/30,g[v+1]=N%30,v+=2;else switch(N){case ye.TEXT_COMPACTION_MODE_LATCH:g[v++]=ye.TEXT_COMPACTION_MODE_LATCH;break;case ye.BYTE_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.NUMERIC_COMPACTION_MODE_LATCH:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:u--,_=!0;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g[v]=ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=o[u++],x[v]=N,v++;break}}return ye.decodeTextCompaction(g,x,v,f),u}static decodeTextCompaction(o,u,f,g){let x=nn.ALPHA,v=nn.ALPHA,_=0;for(;_<f;){let N=o[_],M="";switch(x){case nn.ALPHA:if(N<26)M=String.fromCharCode(65+N);else switch(N){case 26:M=" ";break;case ye.LL:x=nn.LOWER;break;case ye.ML:x=nn.MIXED;break;case ye.PS:v=x,x=nn.PUNCT_SHIFT;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[_]);break;case ye.TEXT_COMPACTION_MODE_LATCH:x=nn.ALPHA;break}break;case nn.LOWER:if(N<26)M=String.fromCharCode(97+N);else switch(N){case 26:M=" ";break;case ye.AS:v=x,x=nn.ALPHA_SHIFT;break;case ye.ML:x=nn.MIXED;break;case ye.PS:v=x,x=nn.PUNCT_SHIFT;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[_]);break;case ye.TEXT_COMPACTION_MODE_LATCH:x=nn.ALPHA;break}break;case nn.MIXED:if(N<ye.PL)M=ye.MIXED_CHARS[N];else switch(N){case ye.PL:x=nn.PUNCT;break;case 26:M=" ";break;case ye.LL:x=nn.LOWER;break;case ye.AL:x=nn.ALPHA;break;case ye.PS:v=x,x=nn.PUNCT_SHIFT;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[_]);break;case ye.TEXT_COMPACTION_MODE_LATCH:x=nn.ALPHA;break}break;case nn.PUNCT:if(N<ye.PAL)M=ye.PUNCT_CHARS[N];else switch(N){case ye.PAL:x=nn.ALPHA;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[_]);break;case ye.TEXT_COMPACTION_MODE_LATCH:x=nn.ALPHA;break}break;case nn.ALPHA_SHIFT:if(x=v,N<26)M=String.fromCharCode(65+N);else switch(N){case 26:M=" ";break;case ye.TEXT_COMPACTION_MODE_LATCH:x=nn.ALPHA;break}break;case nn.PUNCT_SHIFT:if(x=v,N<ye.PAL)M=ye.PUNCT_CHARS[N];else switch(N){case ye.PAL:x=nn.ALPHA;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[_]);break;case ye.TEXT_COMPACTION_MODE_LATCH:x=nn.ALPHA;break}break}M!==""&&g.append(M),_++}}static byteCompaction(o,u,f,g,x){let v=new c0,_=0,N=0,M=!1;switch(o){case ye.BYTE_COMPACTION_MODE_LATCH:let k=new Int32Array(6),j=u[g++];for(;g<u[0]&&!M;)switch(k[_++]=j,N=900*N+j,j=u[g++],j){case ye.TEXT_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH:case ye.NUMERIC_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:g--,M=!0;break;default:if(_%5===0&&_>0){for(let U=0;U<6;++U)v.write(Number(Zs(N)>>Zs(8*(5-U))));N=0,_=0}break}g===u[0]&&j<ye.TEXT_COMPACTION_MODE_LATCH&&(k[_++]=j);for(let U=0;U<_;U++)v.write(k[U]);break;case ye.BYTE_COMPACTION_MODE_LATCH_6:for(;g<u[0]&&!M;){let U=u[g++];if(U<ye.TEXT_COMPACTION_MODE_LATCH)_++,N=900*N+U;else switch(U){case ye.TEXT_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH:case ye.NUMERIC_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:g--,M=!0;break}if(_%5===0&&_>0){for(let X=0;X<6;++X)v.write(Number(Zs(N)>>Zs(8*(5-X))));N=0,_=0}}break}return x.append(we.decode(v.toByteArray(),f)),g}static numericCompaction(o,u,f){let g=0,x=!1,v=new Int32Array(ye.MAX_NUMERIC_CODEWORDS);for(;u<o[0]&&!x;){let _=o[u++];if(u===o[0]&&(x=!0),_<ye.TEXT_COMPACTION_MODE_LATCH)v[g]=_,g++;else switch(_){case ye.TEXT_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:u--,x=!0;break}(g%ye.MAX_NUMERIC_CODEWORDS===0||_===ye.NUMERIC_COMPACTION_MODE_LATCH||x)&&g>0&&(f.append(ye.decodeBase900toBase10(v,g)),g=0)}return u}static decodeBase900toBase10(o,u){let f=Zs(0);for(let x=0;x<u;x++)f+=ye.EXP900[u-x-1]*Zs(o[x]);let g=f.toString();if(g.charAt(0)!=="1")throw new G;return g.substring(1)}}ye.TEXT_COMPACTION_MODE_LATCH=900,ye.BYTE_COMPACTION_MODE_LATCH=901,ye.NUMERIC_COMPACTION_MODE_LATCH=902,ye.BYTE_COMPACTION_MODE_LATCH_6=924,ye.ECI_USER_DEFINED=925,ye.ECI_GENERAL_PURPOSE=926,ye.ECI_CHARSET=927,ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ye.MACRO_PDF417_TERMINATOR=922,ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ye.MAX_NUMERIC_CODEWORDS=15,ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ye.PL=25,ye.LL=27,ye.AS=27,ye.ML=28,ye.AL=28,ye.PS=29,ye.PAL=29,ye.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ye.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ye.EXP900=jf()?u0():[],ye.NUMBER_OF_SEQUENCE_CODEWORDS=2;class _t{constructor(){}static decode(o,u,f,g,x,v,_){let N=new Ws(o,u,f,g,x),M=null,k=null,j;for(let te=!0;;te=!1){if(u!=null&&(M=_t.getRowIndicatorColumn(o,N,u,!0,v,_)),g!=null&&(k=_t.getRowIndicatorColumn(o,N,g,!1,v,_)),j=_t.merge(M,k),j==null)throw ee.getNotFoundInstance();let re=j.getBoundingBox();if(te&&re!=null&&(re.getMinY()<N.getMinY()||re.getMaxY()>N.getMaxY()))N=re;else break}j.setBoundingBox(N);let U=j.getBarcodeColumnCount()+1;j.setDetectionResultColumn(0,M),j.setDetectionResultColumn(U,k);let X=M!=null;for(let te=1;te<=U;te++){let re=X?te:U-te;if(j.getDetectionResultColumn(re)!==void 0)continue;let le;re===0||re===U?le=new Ys(N,re===0):le=new ao(N),j.setDetectionResultColumn(re,le);let ge=-1,Be=ge;for(let je=N.getMinY();je<=N.getMaxY();je++){if(ge=_t.getStartColumn(j,re,je,X),ge<0||ge>N.getMaxX()){if(Be===-1)continue;ge=Be}let Ie=_t.detectCodeword(o,N.getMinX(),N.getMaxX(),X,ge,je,v,_);Ie!=null&&(le.setCodeword(je,Ie),Be=ge,v=Math.min(v,Ie.getWidth()),_=Math.max(_,Ie.getWidth()))}}return _t.createDecoderResult(j)}static merge(o,u){if(o==null&&u==null)return null;let f=_t.getBarcodeMetadata(o,u);if(f==null)return null;let g=Ws.merge(_t.adjustBoundingBox(o),_t.adjustBoundingBox(u));return new Ks(f,g)}static adjustBoundingBox(o){if(o==null)return null;let u=o.getRowHeights();if(u==null)return null;let f=_t.getMax(u),g=0;for(let _ of u)if(g+=f-_,_>0)break;let x=o.getCodewords();for(let _=0;g>0&&x[_]==null;_++)g--;let v=0;for(let _=u.length-1;_>=0&&(v+=f-u[_],!(u[_]>0));_--);for(let _=x.length-1;v>0&&x[_]==null;_--)v--;return o.getBoundingBox().addMissingRows(g,v,o.isLeft())}static getMax(o){let u=-1;for(let f of o)u=Math.max(u,f);return u}static getBarcodeMetadata(o,u){let f;if(o==null||(f=o.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let g;return u==null||(g=u.getBarcodeMetadata())==null?f:f.getColumnCount()!==g.getColumnCount()&&f.getErrorCorrectionLevel()!==g.getErrorCorrectionLevel()&&f.getRowCount()!==g.getRowCount()?null:f}static getRowIndicatorColumn(o,u,f,g,x,v){let _=new Ys(u,g);for(let N=0;N<2;N++){let M=N===0?1:-1,k=Math.trunc(Math.trunc(f.getX()));for(let j=Math.trunc(Math.trunc(f.getY()));j<=u.getMaxY()&&j>=u.getMinY();j+=M){let U=_t.detectCodeword(o,0,o.getWidth(),g,k,j,x,v);U!=null&&(_.setCodeword(j,U),g?k=U.getStartX():k=U.getEndX())}}return _}static adjustCodewordCount(o,u){let f=u[0][1],g=f.getValue(),x=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-_t.getNumberOfECCodeWords(o.getBarcodeECLevel());if(g.length===0){if(x<1||x>at.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();f.setValue(x)}else g[0]!==x&&f.setValue(x)}static createDecoderResult(o){let u=_t.createBarcodeMatrix(o);_t.adjustCodewordCount(o,u);let f=new Array,g=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),x=[],v=new Array;for(let N=0;N<o.getBarcodeRowCount();N++)for(let M=0;M<o.getBarcodeColumnCount();M++){let k=u[N][M+1].getValue(),j=N*o.getBarcodeColumnCount()+M;k.length===0?f.push(j):k.length===1?g[j]=k[0]:(v.push(j),x.push(k))}let _=new Array(x.length);for(let N=0;N<_.length;N++)_[N]=x[N];return _t.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),g,at.toIntArray(f),at.toIntArray(v),_)}static createDecoderResultFromAmbiguousValues(o,u,f,g,x){let v=new Int32Array(g.length),_=100;for(;_-- >0;){for(let N=0;N<v.length;N++)u[g[N]]=x[N][v[N]];try{return _t.decodeCodewords(u,o,f)}catch(N){if(!(N instanceof A))throw N}if(v.length===0)throw A.getChecksumInstance();for(let N=0;N<v.length;N++)if(v[N]<x[N].length-1){v[N]++;break}else if(v[N]=0,N===v.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(o){let u=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let g=0;g<u.length;g++)for(let x=0;x<u[g].length;x++)u[g][x]=new lr;let f=0;for(let g of o.getDetectionResultColumns()){if(g!=null){for(let x of g.getCodewords())if(x!=null){let v=x.getRowNumber();if(v>=0){if(v>=u.length)continue;u[v][f].setValue(x.getValue())}}}f++}return u}static isValidBarcodeColumn(o,u){return u>=0&&u<=o.getBarcodeColumnCount()+1}static getStartColumn(o,u,f,g){let x=g?1:-1,v=null;if(_t.isValidBarcodeColumn(o,u-x)&&(v=o.getDetectionResultColumn(u-x).getCodeword(f)),v!=null)return g?v.getEndX():v.getStartX();if(v=o.getDetectionResultColumn(u).getCodewordNearby(f),v!=null)return g?v.getStartX():v.getEndX();if(_t.isValidBarcodeColumn(o,u-x)&&(v=o.getDetectionResultColumn(u-x).getCodewordNearby(f)),v!=null)return g?v.getEndX():v.getStartX();let _=0;for(;_t.isValidBarcodeColumn(o,u-x);){u-=x;for(let N of o.getDetectionResultColumn(u).getCodewords())if(N!=null)return(g?N.getEndX():N.getStartX())+x*_*(N.getEndX()-N.getStartX());_++}return g?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,u,f,g,x,v,_,N){x=_t.adjustCodewordStartColumn(o,u,f,g,x,v);let M=_t.getModuleBitCount(o,u,f,g,x,v);if(M==null)return null;let k,j=It.sum(M);if(g)k=x+j;else{for(let te=0;te<M.length/2;te++){let re=M[te];M[te]=M[M.length-1-te],M[M.length-1-te]=re}k=x,x=k-j}if(!_t.checkCodewordSkew(j,_,N))return null;let U=Gr.getDecodedValue(M),X=at.getCodeword(U);return X===-1?null:new As(x,k,_t.getCodewordBucketNumber(U),X)}static getModuleBitCount(o,u,f,g,x,v){let _=x,N=new Int32Array(8),M=0,k=g?1:-1,j=g;for(;(g?_<f:_>=u)&&M<N.length;)o.get(_,v)===j?(N[M]++,_+=k):(M++,j=!j);return M===N.length||_===(g?f:u)&&M===N.length-1?N:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,u,f,g,x,v){let _=x,N=g?-1:1;for(let M=0;M<2;M++){for(;(g?_>=u:_<f)&&g===o.get(_,v);){if(Math.abs(x-_)>_t.CODEWORD_SKEW_SIZE)return x;_+=N}N=-N,g=!g}return _}static checkCodewordSkew(o,u,f){return u-_t.CODEWORD_SKEW_SIZE<=o&&o<=f+_t.CODEWORD_SKEW_SIZE}static decodeCodewords(o,u,f){if(o.length===0)throw G.getFormatInstance();let g=1<<u+1,x=_t.correctErrors(o,f,g);_t.verifyCodewordCount(o,g);let v=ye.decode(o,""+u);return v.setErrorsCorrected(x),v.setErasures(f.length),v}static correctErrors(o,u,f){if(u!=null&&u.length>f/2+_t.MAX_ERRORS||f<0||f>_t.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return _t.errorCorrection.decode(o,f,u)}static verifyCodewordCount(o,u){if(o.length<4)throw G.getFormatInstance();let f=o[0];if(f>o.length)throw G.getFormatInstance();if(f===0)if(u<o.length)o[0]=o.length-u;else throw G.getFormatInstance()}static getBitCountForCodeword(o){let u=new Int32Array(8),f=0,g=u.length-1;for(;!((o&1)!==f&&(f=o&1,g--,g<0));)u[g]++,o>>=1;return u}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return _t.getCodewordBucketNumber(_t.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let u=new Xs;for(let f=0;f<o.length;f++){u.format("Row %2d: ",f);for(let g=0;g<o[f].length;g++){let x=o[f][g];x.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}u.format("%n")}return u.toString()}}_t.CODEWORD_SKEW_SIZE=2,_t.MAX_ERRORS=3,_t.MAX_EC_CODEWORDS=512,_t.errorCorrection=new bl;class br{decode(o,u=null){let f=br.decode(o,u,!1);if(f==null||f.length===0||f[0]==null)throw ee.getNotFoundInstance();return f[0]}decodeMultiple(o,u=null){try{return br.decode(o,u,!0)}catch(f){throw f instanceof G||f instanceof A?ee.getNotFoundInstance():f}}static decode(o,u,f){const g=new Array,x=yt.detectMultiple(o,u,f);for(const v of x.getPoints()){const _=_t.decode(x.getBits(),v[4],v[5],v[6],v[7],br.getMinCodewordWidth(v),br.getMaxCodewordWidth(v)),N=new He(_.getText(),_.getRawBytes(),void 0,v,Me.PDF_417);N.putMetadata(mt.ERROR_CORRECTION_LEVEL,_.getECLevel());const M=_.getOther();M!=null&&N.putMetadata(mt.PDF417_EXTRA_METADATA,M),g.push(N)}return g.map(v=>v)}static getMaxWidth(o,u){return o==null||u==null?0:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMinWidth(o,u){return o==null||u==null?P.MAX_VALUE:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(br.getMaxWidth(o[0],o[4]),br.getMaxWidth(o[6],o[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.max(br.getMaxWidth(o[1],o[5]),br.getMaxWidth(o[7],o[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(br.getMinWidth(o[0],o[4]),br.getMinWidth(o[6],o[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.min(br.getMinWidth(o[1],o[5]),br.getMinWidth(o[7],o[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}reset(){}}class vl extends m{}vl.kind="ReaderException";class Pf{constructor(o,u){this.verbose=o===!0,u&&this.setHints(u)}decode(o,u){return u&&this.setHints(u),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const u=!r(o)&&o.get(V.TRY_HARDER)===!0,f=r(o)?null:o.get(V.POSSIBLE_FORMATS),g=new Array;if(!r(f)){const x=f.some(v=>v===Me.UPC_A||v===Me.UPC_E||v===Me.EAN_13||v===Me.EAN_8||v===Me.CODABAR||v===Me.CODE_39||v===Me.CODE_93||v===Me.CODE_128||v===Me.ITF||v===Me.RSS_14||v===Me.RSS_EXPANDED);x&&!u&&g.push(new Pn(o,this.verbose)),f.includes(Me.QR_CODE)&&g.push(new Ss),f.includes(Me.DATA_MATRIX)&&g.push(new Di),f.includes(Me.AZTEC)&&g.push(new ii),f.includes(Me.PDF_417)&&g.push(new br),x&&u&&g.push(new Pn(o,this.verbose))}g.length===0&&(u||g.push(new Pn(o,this.verbose)),g.push(new Ss),g.push(new Di),g.push(new ii),g.push(new br),u&&g.push(new Pn(o,this.verbose))),this.readers=g}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new vl("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(o,this.hints)}catch(f){if(f instanceof vl)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class d0 extends Re{constructor(o=null,u=500){const f=new Pf;f.setHints(o),super(f,u)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class f0 extends Re{constructor(o=500){super(new br,o)}}class h0 extends Re{constructor(o=500){super(new Ss,o)}}var wl;(function(L){L[L.ERROR_CORRECTION=0]="ERROR_CORRECTION",L[L.CHARACTER_SET=1]="CHARACTER_SET",L[L.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",L[L.MIN_SIZE=3]="MIN_SIZE",L[L.MAX_SIZE=4]="MAX_SIZE",L[L.MARGIN=5]="MARGIN",L[L.PDF417_COMPACT=6]="PDF417_COMPACT",L[L.PDF417_COMPACTION=7]="PDF417_COMPACTION",L[L.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",L[L.AZTEC_LAYERS=9]="AZTEC_LAYERS",L[L.QR_VERSION=10]="QR_VERSION"})(wl||(wl={}));var er=wl;class ju{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new Cn(o,Int32Array.from([1])))}buildGenerator(o){const u=this.cachedGenerators;if(o>=u.length){let f=u[u.length-1];const g=this.field;for(let x=u.length;x<=o;x++){const v=f.multiply(new Cn(g,Int32Array.from([1,g.exp(x-1+g.getGeneratorBase())])));u.push(v),f=v}}return u[o]}encode(o,u){if(u===0)throw new C("No error correction bytes");const f=o.length-u;if(f<=0)throw new C("No data bytes provided");const g=this.buildGenerator(u),x=new Int32Array(f);R.arraycopy(o,0,x,0,f);let v=new Cn(this.field,x);v=v.multiplyByMonomial(u,1);const N=v.divide(g)[1].getCoefficients(),M=u-N.length;for(let k=0;k<M;k++)o[f+k]=0;R.arraycopy(N,0,o,f+M,N.length)}}class Dn{constructor(){}static applyMaskPenaltyRule1(o){return Dn.applyMaskPenaltyRule1Internal(o,!0)+Dn.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let u=0;const f=o.getArray(),g=o.getWidth(),x=o.getHeight();for(let v=0;v<x-1;v++){const _=f[v];for(let N=0;N<g-1;N++){const M=_[N];M===_[N+1]&&M===f[v+1][N]&&M===f[v+1][N+1]&&u++}}return Dn.N2*u}static applyMaskPenaltyRule3(o){let u=0;const f=o.getArray(),g=o.getWidth(),x=o.getHeight();for(let v=0;v<x;v++)for(let _=0;_<g;_++){const N=f[v];_+6<g&&N[_]===1&&N[_+1]===0&&N[_+2]===1&&N[_+3]===1&&N[_+4]===1&&N[_+5]===0&&N[_+6]===1&&(Dn.isWhiteHorizontal(N,_-4,_)||Dn.isWhiteHorizontal(N,_+7,_+11))&&u++,v+6<x&&f[v][_]===1&&f[v+1][_]===0&&f[v+2][_]===1&&f[v+3][_]===1&&f[v+4][_]===1&&f[v+5][_]===0&&f[v+6][_]===1&&(Dn.isWhiteVertical(f,_,v-4,v)||Dn.isWhiteVertical(f,_,v+7,v+11))&&u++}return u*Dn.N3}static isWhiteHorizontal(o,u,f){u=Math.max(u,0),f=Math.min(f,o.length);for(let g=u;g<f;g++)if(o[g]===1)return!1;return!0}static isWhiteVertical(o,u,f,g){f=Math.max(f,0),g=Math.min(g,o.length);for(let x=f;x<g;x++)if(o[x][u]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let u=0;const f=o.getArray(),g=o.getWidth(),x=o.getHeight();for(let N=0;N<x;N++){const M=f[N];for(let k=0;k<g;k++)M[k]===1&&u++}const v=o.getHeight()*o.getWidth();return Math.floor(Math.abs(u*2-v)*10/v)*Dn.N4}static getDataMaskBit(o,u,f){let g,x;switch(o){case 0:g=f+u&1;break;case 1:g=f&1;break;case 2:g=u%3;break;case 3:g=(f+u)%3;break;case 4:g=Math.floor(f/2)+Math.floor(u/3)&1;break;case 5:x=f*u,g=(x&1)+x%3;break;case 6:x=f*u,g=(x&1)+x%3&1;break;case 7:x=f*u,g=x%3+(f+u&1)&1;break;default:throw new C("Invalid mask pattern: "+o)}return g===0}static applyMaskPenaltyRule1Internal(o,u){let f=0;const g=u?o.getHeight():o.getWidth(),x=u?o.getWidth():o.getHeight(),v=o.getArray();for(let _=0;_<g;_++){let N=0,M=-1;for(let k=0;k<x;k++){const j=u?v[_][k]:v[k][_];j===M?N++:(N>=5&&(f+=Dn.N1+(N-5)),N=1,M=j)}N>=5&&(f+=Dn.N1+(N-5))}return f}}Dn.N1=3,Dn.N2=3,Dn.N3=40,Dn.N4=10;class Cl{constructor(o,u){this.width=o,this.height=u;const f=new Array(u);for(let g=0;g!==u;g++)f[g]=new Uint8Array(o);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(o,u){return this.bytes[u][o]}getArray(){return this.bytes}setNumber(o,u,f){this.bytes[u][o]=f}setBoolean(o,u,f){this.bytes[u][o]=f?1:0}clear(o){for(const u of this.bytes)F.fill(u,o)}equals(o){if(!(o instanceof Cl))return!1;const u=o;if(this.width!==u.width||this.height!==u.height)return!1;for(let f=0,g=this.height;f<g;++f){const x=this.bytes[f],v=u.bytes[f];for(let _=0,N=this.width;_<N;++_)if(x[_]!==v[_])return!1}return!0}toString(){const o=new Pe;for(let u=0,f=this.height;u<f;++u){const g=this.bytes[u];for(let x=0,v=this.width;x<v;++x)switch(g[x]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class _a{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new Pe;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<_a.NUM_MASK_PATTERNS}}_a.NUM_MASK_PATTERNS=8;class sn extends m{}sn.kind="WriterException";class ct{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,u,f,g,x){ct.clearMatrix(x),ct.embedBasicPatterns(f,x),ct.embedTypeInfo(u,g,x),ct.maybeEmbedVersionInfo(f,x),ct.embedDataBits(o,g,x)}static embedBasicPatterns(o,u){ct.embedPositionDetectionPatternsAndSeparators(u),ct.embedDarkDotAtLeftBottomCorner(u),ct.maybeEmbedPositionAdjustmentPatterns(o,u),ct.embedTimingPatterns(u)}static embedTypeInfo(o,u,f){const g=new q;ct.makeTypeInfoBits(o,u,g);for(let x=0,v=g.getSize();x<v;++x){const _=g.get(g.getSize()-1-x),N=ct.TYPE_INFO_COORDINATES[x],M=N[0],k=N[1];if(f.setBoolean(M,k,_),x<8){const j=f.getWidth()-x-1;f.setBoolean(j,8,_)}else{const U=f.getHeight()-7+(x-8);f.setBoolean(8,U,_)}}}static maybeEmbedVersionInfo(o,u){if(o.getVersionNumber()<7)return;const f=new q;ct.makeVersionInfoBits(o,f);let g=6*3-1;for(let x=0;x<6;++x)for(let v=0;v<3;++v){const _=f.get(g);g--,u.setBoolean(x,u.getHeight()-11+v,_),u.setBoolean(u.getHeight()-11+v,x,_)}}static embedDataBits(o,u,f){let g=0,x=-1,v=f.getWidth()-1,_=f.getHeight()-1;for(;v>0;){for(v===6&&(v-=1);_>=0&&_<f.getHeight();){for(let N=0;N<2;++N){const M=v-N;if(!ct.isEmpty(f.get(M,_)))continue;let k;g<o.getSize()?(k=o.get(g),++g):k=!1,u!==255&&Dn.getDataMaskBit(u,M,_)&&(k=!k),f.setBoolean(M,_,k)}_+=x}x=-x,_+=x,v-=2}if(g!==o.getSize())throw new sn("Not all bits consumed: "+g+"/"+o.getSize())}static findMSBSet(o){return 32-P.numberOfLeadingZeros(o)}static calculateBCHCode(o,u){if(u===0)throw new C("0 polynomial");const f=ct.findMSBSet(u);for(o<<=f-1;ct.findMSBSet(o)>=f;)o^=u<<ct.findMSBSet(o)-f;return o}static makeTypeInfoBits(o,u,f){if(!_a.isValidMaskPattern(u))throw new sn("Invalid mask pattern");const g=o.getBits()<<3|u;f.appendBits(g,5);const x=ct.calculateBCHCode(g,ct.TYPE_INFO_POLY);f.appendBits(x,10);const v=new q;if(v.appendBits(ct.TYPE_INFO_MASK_PATTERN,15),f.xor(v),f.getSize()!==15)throw new sn("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(o,u){u.appendBits(o.getVersionNumber(),6);const f=ct.calculateBCHCode(o.getVersionNumber(),ct.VERSION_INFO_POLY);if(u.appendBits(f,12),u.getSize()!==18)throw new sn("should not happen but we got: "+u.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let u=8;u<o.getWidth()-8;++u){const f=(u+1)%2;ct.isEmpty(o.get(u,6))&&o.setNumber(u,6,f),ct.isEmpty(o.get(6,u))&&o.setNumber(6,u,f)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new sn;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,u,f){for(let g=0;g<8;++g){if(!ct.isEmpty(f.get(o+g,u)))throw new sn;f.setNumber(o+g,u,0)}}static embedVerticalSeparationPattern(o,u,f){for(let g=0;g<7;++g){if(!ct.isEmpty(f.get(o,u+g)))throw new sn;f.setNumber(o,u+g,0)}}static embedPositionAdjustmentPattern(o,u,f){for(let g=0;g<5;++g){const x=ct.POSITION_ADJUSTMENT_PATTERN[g];for(let v=0;v<5;++v)f.setNumber(o+v,u+g,x[v])}}static embedPositionDetectionPattern(o,u,f){for(let g=0;g<7;++g){const x=ct.POSITION_DETECTION_PATTERN[g];for(let v=0;v<7;++v)f.setNumber(o+v,u+g,x[v])}}static embedPositionDetectionPatternsAndSeparators(o){const u=ct.POSITION_DETECTION_PATTERN[0].length;ct.embedPositionDetectionPattern(0,0,o),ct.embedPositionDetectionPattern(o.getWidth()-u,0,o),ct.embedPositionDetectionPattern(0,o.getWidth()-u,o);const f=8;ct.embedHorizontalSeparationPattern(0,f-1,o),ct.embedHorizontalSeparationPattern(o.getWidth()-f,f-1,o),ct.embedHorizontalSeparationPattern(0,o.getWidth()-f,o);const g=7;ct.embedVerticalSeparationPattern(g,0,o),ct.embedVerticalSeparationPattern(o.getHeight()-g-1,0,o),ct.embedVerticalSeparationPattern(g,o.getHeight()-g,o)}static maybeEmbedPositionAdjustmentPatterns(o,u){if(o.getVersionNumber()<2)return;const f=o.getVersionNumber()-1,g=ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let x=0,v=g.length;x!==v;x++){const _=g[x];if(_>=0)for(let N=0;N!==v;N++){const M=g[N];M>=0&&ct.isEmpty(u.get(M,_))&&ct.embedPositionAdjustmentPattern(M-2,_-2,u)}}}}ct.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ct.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ct.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ct.VERSION_INFO_POLY=7973,ct.TYPE_INFO_POLY=1335,ct.TYPE_INFO_MASK_PATTERN=21522;class p0{constructor(o,u){this.dataBytes=o,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class yn{constructor(){}static calculateMaskPenalty(o){return Dn.applyMaskPenaltyRule1(o)+Dn.applyMaskPenaltyRule2(o)+Dn.applyMaskPenaltyRule3(o)+Dn.applyMaskPenaltyRule4(o)}static encode(o,u,f=null){let g=yn.DEFAULT_BYTE_MODE_ENCODING;const x=f!==null&&f.get(er.CHARACTER_SET)!==void 0;x&&(g=f.get(er.CHARACTER_SET).toString());const v=this.chooseMode(o,g),_=new q;if(v===rt.BYTE&&(x||yn.DEFAULT_BYTE_MODE_ENCODING!==g)){const je=Z.getCharacterSetECIByName(g);je!==void 0&&this.appendECI(je,_)}this.appendModeInfo(v,_);const N=new q;this.appendBytes(o,v,N,g);let M;if(f!==null&&f.get(er.QR_VERSION)!==void 0){const je=Number.parseInt(f.get(er.QR_VERSION).toString(),10);M=nt.getVersionForNumber(je);const Ie=this.calculateBitsNeeded(v,_,N,M);if(!this.willFit(Ie,M,u))throw new sn("Data too big for requested version")}else M=this.recommendVersion(u,v,_,N);const k=new q;k.appendBitArray(_);const j=v===rt.BYTE?N.getSizeInBytes():o.length;this.appendLengthInfo(j,M,v,k),k.appendBitArray(N);const U=M.getECBlocksForLevel(u),X=M.getTotalCodewords()-U.getTotalECCodewords();this.terminateBits(X,k);const te=this.interleaveWithECBytes(k,M.getTotalCodewords(),X,U.getNumBlocks()),re=new _a;re.setECLevel(u),re.setMode(v),re.setVersion(M);const le=M.getDimensionForVersion(),ge=new Cl(le,le),Be=this.chooseMaskPattern(te,u,M,ge);return re.setMaskPattern(Be),ct.buildMatrix(te,u,M,Be,ge),re.setMatrix(ge),re}static recommendVersion(o,u,f,g){const x=this.calculateBitsNeeded(u,f,g,nt.getVersionForNumber(1)),v=this.chooseVersion(x,o),_=this.calculateBitsNeeded(u,f,g,v);return this.chooseVersion(_,o)}static calculateBitsNeeded(o,u,f,g){return u.getSize()+o.getCharacterCountBits(g)+f.getSize()}static getAlphanumericCode(o){return o<yn.ALPHANUMERIC_TABLE.length?yn.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,u=null){if(Z.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(o))return rt.KANJI;let f=!1,g=!1;for(let x=0,v=o.length;x<v;++x){const _=o.charAt(x);if(yn.isDigit(_))f=!0;else if(this.getAlphanumericCode(_.charCodeAt(0))!==-1)g=!0;else return rt.BYTE}return g?rt.ALPHANUMERIC:f?rt.NUMERIC:rt.BYTE}static isOnlyDoubleByteKanji(o){let u;try{u=we.encode(o,Z.SJIS)}catch{return!1}const f=u.length;if(f%2!==0)return!1;for(let g=0;g<f;g+=2){const x=u[g]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(o,u,f,g){let x=Number.MAX_SAFE_INTEGER,v=-1;for(let _=0;_<_a.NUM_MASK_PATTERNS;_++){ct.buildMatrix(o,u,f,_,g);let N=this.calculateMaskPenalty(g);N<x&&(x=N,v=_)}return v}static chooseVersion(o,u){for(let f=1;f<=40;f++){const g=nt.getVersionForNumber(f);if(yn.willFit(o,g,u))return g}throw new sn("Data too big")}static willFit(o,u,f){const g=u.getTotalCodewords(),v=u.getECBlocksForLevel(f).getTotalECCodewords(),_=g-v,N=(o+7)/8;return _>=N}static terminateBits(o,u){const f=o*8;if(u.getSize()>f)throw new sn("data bits cannot fit in the QR Code"+u.getSize()+" > "+f);for(let v=0;v<4&&u.getSize()<f;++v)u.appendBit(!1);const g=u.getSize()&7;if(g>0)for(let v=g;v<8;v++)u.appendBit(!1);const x=o-u.getSizeInBytes();for(let v=0;v<x;++v)u.appendBits((v&1)===0?236:17,8);if(u.getSize()!==f)throw new sn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,u,f,g,x,v){if(g>=f)throw new sn("Block ID too large");const _=o%f,N=f-_,M=Math.floor(o/f),k=M+1,j=Math.floor(u/f),U=j+1,X=M-j,te=k-U;if(X!==te)throw new sn("EC bytes mismatch");if(f!==N+_)throw new sn("RS blocks mismatch");if(o!==(j+X)*N+(U+te)*_)throw new sn("Total bytes mismatch");g<N?(x[0]=j,v[0]=X):(x[0]=U,v[0]=te)}static interleaveWithECBytes(o,u,f,g){if(o.getSizeInBytes()!==f)throw new sn("Number of bits and data bytes does not match");let x=0,v=0,_=0;const N=new Array;for(let k=0;k<g;++k){const j=new Int32Array(1),U=new Int32Array(1);yn.getNumDataBytesAndNumECBytesForBlockID(u,f,g,k,j,U);const X=j[0],te=new Uint8Array(X);o.toBytes(8*x,te,0,X);const re=yn.generateECBytes(te,U[0]);N.push(new p0(te,re)),v=Math.max(v,X),_=Math.max(_,re.length),x+=j[0]}if(f!==x)throw new sn("Data bytes does not match offset");const M=new q;for(let k=0;k<v;++k)for(const j of N){const U=j.getDataBytes();k<U.length&&M.appendBits(U[k],8)}for(let k=0;k<_;++k)for(const j of N){const U=j.getErrorCorrectionBytes();k<U.length&&M.appendBits(U[k],8)}if(u!==M.getSizeInBytes())throw new sn("Interleaving error: "+u+" and "+M.getSizeInBytes()+" differ.");return M}static generateECBytes(o,u){const f=o.length,g=new Int32Array(f+u);for(let v=0;v<f;v++)g[v]=o[v]&255;new ju(Lt.QR_CODE_FIELD_256).encode(g,u);const x=new Uint8Array(u);for(let v=0;v<u;v++)x[v]=g[f+v];return x}static appendModeInfo(o,u){u.appendBits(o.getBits(),4)}static appendLengthInfo(o,u,f,g){const x=f.getCharacterCountBits(u);if(o>=1<<x)throw new sn(o+" is bigger than "+((1<<x)-1));g.appendBits(o,x)}static appendBytes(o,u,f,g){switch(u){case rt.NUMERIC:yn.appendNumericBytes(o,f);break;case rt.ALPHANUMERIC:yn.appendAlphanumericBytes(o,f);break;case rt.BYTE:yn.append8BitBytes(o,f,g);break;case rt.KANJI:yn.appendKanjiBytes(o,f);break;default:throw new sn("Invalid mode: "+u)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const u=yn.getDigit(o);return u>=0&&u<=9}static appendNumericBytes(o,u){const f=o.length;let g=0;for(;g<f;){const x=yn.getDigit(o.charAt(g));if(g+2<f){const v=yn.getDigit(o.charAt(g+1)),_=yn.getDigit(o.charAt(g+2));u.appendBits(x*100+v*10+_,10),g+=3}else if(g+1<f){const v=yn.getDigit(o.charAt(g+1));u.appendBits(x*10+v,7),g+=2}else u.appendBits(x,4),g++}}static appendAlphanumericBytes(o,u){const f=o.length;let g=0;for(;g<f;){const x=yn.getAlphanumericCode(o.charCodeAt(g));if(x===-1)throw new sn;if(g+1<f){const v=yn.getAlphanumericCode(o.charCodeAt(g+1));if(v===-1)throw new sn;u.appendBits(x*45+v,11),g+=2}else u.appendBits(x,6),g++}}static append8BitBytes(o,u,f){let g;try{g=we.encode(o,f)}catch(x){throw new sn(x)}for(let x=0,v=g.length;x!==v;x++){const _=g[x];u.appendBits(_,8)}}static appendKanjiBytes(o,u){let f;try{f=we.encode(o,Z.SJIS)}catch(x){throw new sn(x)}const g=f.length;for(let x=0;x<g;x+=2){const v=f[x]&255,_=f[x+1]&255,N=v<<8&4294967295|_;let M=-1;if(N>=33088&&N<=40956?M=N-33088:N>=57408&&N<=60351&&(M=N-49472),M===-1)throw new sn("Invalid byte sequence");const k=(M>>8)*192+(M&255);u.appendBits(k,13)}}static appendECI(o,u){u.appendBits(rt.ECI.getBits(),4),u.appendBits(o.getValue(),8)}}yn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),yn.DEFAULT_BYTE_MODE_ENCODING=Z.UTF8.getName();class Sa{write(o,u,f,g=null){if(o.length===0)throw new C("Found empty contents");if(u<0||f<0)throw new C("Requested dimensions are too small: "+u+"x"+f);let x=tn.L,v=Sa.QUIET_ZONE_SIZE;g!==null&&(g.get(er.ERROR_CORRECTION)!==void 0&&(x=tn.fromString(g.get(er.ERROR_CORRECTION).toString())),g.get(er.MARGIN)!==void 0&&(v=Number.parseInt(g.get(er.MARGIN).toString(),10)));const _=yn.encode(o,x,g);return this.renderResult(_,u,f,v)}writeToDom(o,u,f,g,x=null){typeof o=="string"&&(o=document.querySelector(o));const v=this.write(u,f,g,x);o&&o.appendChild(v)}renderResult(o,u,f,g){const x=o.getMatrix();if(x===null)throw new yi;const v=x.getWidth(),_=x.getHeight(),N=v+g*2,M=_+g*2,k=Math.max(u,N),j=Math.max(f,M),U=Math.min(Math.floor(k/N),Math.floor(j/M)),X=Math.floor((k-v*U)/2),te=Math.floor((j-_*U)/2),re=this.createSVGElement(k,j);for(let le=0,ge=te;le<_;le++,ge+=U)for(let Be=0,je=X;Be<v;Be++,je+=U)if(x.get(Be,le)===1){const Ie=this.createSvgRectElement(je,ge,U,U);re.appendChild(Ie)}return re}createSVGElement(o,u){const f=document.createElementNS(Sa.SVG_NS,"svg");return f.setAttributeNS(null,"height",o.toString()),f.setAttributeNS(null,"width",u.toString()),f}createSvgRectElement(o,u,f,g){const x=document.createElementNS(Sa.SVG_NS,"rect");return x.setAttributeNS(null,"x",o.toString()),x.setAttributeNS(null,"y",u.toString()),x.setAttributeNS(null,"height",f.toString()),x.setAttributeNS(null,"width",g.toString()),x.setAttributeNS(null,"fill","#000000"),x}}Sa.QUIET_ZONE_SIZE=4,Sa.SVG_NS="http://www.w3.org/2000/svg";class co{encode(o,u,f,g,x){if(o.length===0)throw new C("Found empty contents");if(u!==Me.QR_CODE)throw new C("Can only encode QR_CODE, but got "+u);if(f<0||g<0)throw new C(`Requested dimensions are too small: ${f}x${g}`);let v=tn.L,_=co.QUIET_ZONE_SIZE;x!==null&&(x.get(er.ERROR_CORRECTION)!==void 0&&(v=tn.fromString(x.get(er.ERROR_CORRECTION).toString())),x.get(er.MARGIN)!==void 0&&(_=Number.parseInt(x.get(er.MARGIN).toString(),10)));const N=yn.encode(o,v,x);return co.renderResult(N,f,g,_)}static renderResult(o,u,f,g){const x=o.getMatrix();if(x===null)throw new yi;const v=x.getWidth(),_=x.getHeight(),N=v+g*2,M=_+g*2,k=Math.max(u,N),j=Math.max(f,M),U=Math.min(Math.floor(k/N),Math.floor(j/M)),X=Math.floor((k-v*U)/2),te=Math.floor((j-_*U)/2),re=new De(k,j);for(let le=0,ge=te;le<_;le++,ge+=U)for(let Be=0,je=X;Be<v;Be++,je+=U)x.get(Be,le)===1&&re.setRegion(je,ge,U,U);return re}}co.QUIET_ZONE_SIZE=4;class m0{encode(o,u,f,g,x){let v;switch(u){case Me.QR_CODE:v=new co;break;default:throw new C("No encoder available for format "+u)}return v.encode(o,u,f,g,x)}}class Qi extends de{constructor(o,u,f,g,x,v,_,N){if(super(v,_),this.yuvData=o,this.dataWidth=u,this.dataHeight=f,this.left=g,this.top=x,g+v>u||x+_>f)throw new C("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(v,_)}getRow(o,u){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const f=this.getWidth();(u==null||u.length<f)&&(u=new Uint8ClampedArray(f));const g=(o+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,g,u,0,f),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.yuvData;const f=o*u,g=new Uint8ClampedArray(f);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return R.arraycopy(this.yuvData,x,g,0,f),g;for(let v=0;v<u;v++){const _=v*o;R.arraycopy(this.yuvData,x,g,_,o),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(o,u,f,g){return new Qi(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+u,f,g,!1)}renderThumbnail(){const o=this.getWidth()/Qi.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/Qi.THUMBNAIL_SCALE_FACTOR,f=new Int32Array(o*u),g=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let v=0;v<u;v++){const _=v*o;for(let N=0;N<o;N++){const M=g[x+N*Qi.THUMBNAIL_SCALE_FACTOR]&255;f[_+N]=4278190080|M*65793}x+=this.dataWidth*Qi.THUMBNAIL_SCALE_FACTOR}return f}getThumbnailWidth(){return this.getWidth()/Qi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Qi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,u){const f=this.yuvData;for(let g=0,x=this.top*this.dataWidth+this.left;g<u;g++,x+=this.dataWidth){const v=x+o/2;for(let _=x,N=x+o-1;_<v;_++,N--){const M=f[_];f[_]=f[N],f[N]=M}}}invert(){return new ze(this)}}Qi.THUMBNAIL_SCALE_FACTOR=2;class _l extends de{constructor(o,u,f,g,x,v,_){if(super(u,f),this.dataWidth=g,this.dataHeight=x,this.left=v,this.top=_,o.BYTES_PER_ELEMENT===4){const N=u*f,M=new Uint8ClampedArray(N);for(let k=0;k<N;k++){const j=o[k],U=j>>16&255,X=j>>7&510,te=j&255;M[k]=(U+X+te)/4&255}this.luminances=M}else this.luminances=o;if(g===void 0&&(this.dataWidth=u),x===void 0&&(this.dataHeight=f),v===void 0&&(this.left=0),_===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+f>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(o,u){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const f=this.getWidth();(u==null||u.length<f)&&(u=new Uint8ClampedArray(f));const g=(o+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,g,u,0,f),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.luminances;const f=o*u,g=new Uint8ClampedArray(f);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return R.arraycopy(this.luminances,x,g,0,f),g;for(let v=0;v<u;v++){const _=v*o;R.arraycopy(this.luminances,x,g,_,o),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(o,u,f,g){return new _l(this.luminances,f,g,this.dataWidth,this.dataHeight,this.left+o,this.top+u)}invert(){return new ze(this)}}class uo extends Z{static forName(o){return this.getCharacterSetECIByName(o)}}class Pu{}Pu.ISO_8859_1=Z.ISO8859_1;class zu{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class Fu{static singletonList(o){return[o]}static min(o,u){return o.sort(u)[0]}}class zf{constructor(o){this.previous=o}getPrevious(){return this.previous}}class Ea extends zf{constructor(o,u,f){super(o),this.value=u,this.bitCount=f}appendTo(o,u){o.appendBits(this.value,this.bitCount)}add(o,u){return new Ea(this,o,u)}addBinaryShift(o,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ea(this,o,u)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+P.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class Ec extends Ea{constructor(o,u,f){super(o,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=f}appendTo(o,u){for(let f=0;f<this.binaryShiftByteCount;f++)(f===0||f===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):f===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(u[this.binaryShiftStart+f],8)}addBinaryShift(o,u){return new Ec(this,o,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function fo(L,o,u){return new Ec(L,o,u)}function Sl(L,o,u){return new Ea(L,o,u)}const g0=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Qs=0,El=1,oi=2,ho=3,qr=4,x0=new Ea(null,0,0),po=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ff(L){for(let o of L)F.fill(o,-1);return L[Qs][qr]=0,L[El][qr]=0,L[El][Qs]=28,L[ho][qr]=0,L[oi][qr]=0,L[oi][Qs]=15,L}const Uu=Ff(F.createInt32Array(6,6));class wi{constructor(o,u,f,g){this.token=o,this.mode=u,this.binaryShiftByteCount=f,this.bitCount=g}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,u){let f=this.bitCount,g=this.token;if(o!==this.mode){let v=po[this.mode][o];g=Sl(g,v&65535,v>>16),f+=v>>16}let x=o===oi?4:5;return g=Sl(g,u,x),new wi(g,o,0,f+x)}shiftAndAppend(o,u){let f=this.token,g=this.mode===oi?4:5;return f=Sl(f,Uu[this.mode][o],g),f=Sl(f,u,5),new wi(f,this.mode,0,this.bitCount+g+5)}addBinaryShiftChar(o){let u=this.token,f=this.mode,g=this.bitCount;if(this.mode===qr||this.mode===oi){let _=po[f][Qs];u=Sl(u,_&65535,_>>16),g+=_>>16,f=Qs}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,v=new wi(u,f,this.binaryShiftByteCount+1,g+x);return v.binaryShiftByteCount===2078&&(v=v.endBinaryShift(o+1)),v}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=fo(u,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new wi(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let u=this.bitCount+(po[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?u+=wi.calculateBinaryShiftCost(o)-wi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(u+=10),u<=o.bitCount}toBitArray(o){let u=[];for(let g=this.endBinaryShift(o.length).token;g!==null;g=g.getPrevious())u.unshift(g);let f=new q;for(const g of u)g.appendTo(f,o);return f}toString(){return me.format("%s bits=%d bytes=%d",g0[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}wi.INITIAL_STATE=new wi(x0,Qs,0,0);function Hu(L){const o=me.getCharCode(" "),u=me.getCharCode("."),f=me.getCharCode(",");L[Qs][o]=1;const g=me.getCharCode("Z"),x=me.getCharCode("A");for(let U=x;U<=g;U++)L[Qs][U]=U-x+2;L[El][o]=1;const v=me.getCharCode("z"),_=me.getCharCode("a");for(let U=_;U<=v;U++)L[El][U]=U-_+2;L[oi][o]=1;const N=me.getCharCode("9"),M=me.getCharCode("0");for(let U=M;U<=N;U++)L[oi][U]=U-M+2;L[oi][f]=12,L[oi][u]=13;const k=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let U=0;U<k.length;U++)L[ho][me.getCharCode(k[U])]=U;const j=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let U=0;U<j.length;U++)me.getCharCode(j[U])>0&&(L[qr][me.getCharCode(j[U])]=U);return L}const Ac=Hu(F.createInt32Array(5,256));class mo{constructor(o){this.text=o}encode(){const o=me.getCharCode(" "),u=me.getCharCode(`
`);let f=Fu.singletonList(wi.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let v,_=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case me.getCharCode("\r"):v=_===u?2:0;break;case me.getCharCode("."):v=_===o?3:0;break;case me.getCharCode(","):v=_===o?4:0;break;case me.getCharCode(":"):v=_===o?5:0;break;default:v=0}v>0?(f=mo.updateStateListForPair(f,x,v),x++):f=this.updateStateListForChar(f,x)}return Fu.min(f,(x,v)=>x.getBitCount()-v.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,u){const f=[];for(let g of o)this.updateStateForChar(g,u,f);return mo.simplifyStates(f)}updateStateForChar(o,u,f){let g=this.text[u]&255,x=Ac[o.getMode()][g]>0,v=null;for(let _=0;_<=qr;_++){let N=Ac[_][g];if(N>0){if(v==null&&(v=o.endBinaryShift(u)),!x||_===o.getMode()||_===oi){const M=v.latchAndAppend(_,N);f.push(M)}if(!x&&Uu[o.getMode()][_]>=0){const M=v.shiftAndAppend(_,N);f.push(M)}}}if(o.getBinaryShiftByteCount()>0||Ac[o.getMode()][g]===0){let _=o.addBinaryShiftChar(u);f.push(_)}}static updateStateListForPair(o,u,f){const g=[];for(let x of o)this.updateStateForPair(x,u,f,g);return this.simplifyStates(g)}static updateStateForPair(o,u,f,g){let x=o.endBinaryShift(u);if(g.push(x.latchAndAppend(qr,f)),o.getMode()!==qr&&g.push(x.shiftAndAppend(qr,f)),f===3||f===4){let v=x.latchAndAppend(oi,16-f).latchAndAppend(oi,1);g.push(v)}if(o.getBinaryShiftByteCount()>0){let v=o.addBinaryShiftChar(u).addBinaryShiftChar(u+1);g.push(v)}}static simplifyStates(o){let u=[];for(const f of o){let g=!0;for(const x of u){if(x.isBetterThanOrEqualTo(f)){g=!1;break}f.isBetterThanOrEqualTo(x)&&(u=u.filter(v=>v!==x))}g&&u.push(f)}return u}}class Ut{constructor(){}static encodeBytes(o){return Ut.encode(o,Ut.DEFAULT_EC_PERCENT,Ut.DEFAULT_AZTEC_LAYERS)}static encode(o,u,f){let g=new mo(o).encode(),x=P.truncDivision(g.getSize()*u,100)+11,v=g.getSize()+x,_,N,M,k,j;if(f!==Ut.DEFAULT_AZTEC_LAYERS){if(_=f<0,N=Math.abs(f),N>(_?Ut.MAX_NB_BITS_COMPACT:Ut.MAX_NB_BITS))throw new C(me.format("Illegal value %s for layers",f));M=Ut.totalBitsInLayer(N,_),k=Ut.WORD_SIZE[N];let Ie=M-M%k;if(j=Ut.stuffBits(g,k),j.getSize()+x>Ie)throw new C("Data to large for user specified layer");if(_&&j.getSize()>k*64)throw new C("Data to large for user specified layer")}else{k=0,j=null;for(let Ie=0;;Ie++){if(Ie>Ut.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(_=Ie<=3,N=_?Ie+1:Ie,M=Ut.totalBitsInLayer(N,_),v>M)continue;(j==null||k!==Ut.WORD_SIZE[N])&&(k=Ut.WORD_SIZE[N],j=Ut.stuffBits(g,k));let bt=M-M%k;if(!(_&&j.getSize()>k*64)&&j.getSize()+x<=bt)break}}let U=Ut.generateCheckWords(j,M,k),X=j.getSize()/k,te=Ut.generateModeMessage(_,N,X),re=(_?11:14)+N*4,le=new Int32Array(re),ge;if(_){ge=re;for(let Ie=0;Ie<le.length;Ie++)le[Ie]=Ie}else{ge=re+1+2*P.truncDivision(P.truncDivision(re,2)-1,15);let Ie=P.truncDivision(re,2),bt=P.truncDivision(ge,2);for(let gt=0;gt<Ie;gt++){let jr=gt+P.truncDivision(gt,15);le[Ie-gt-1]=bt-jr-1,le[Ie+gt]=bt+jr+1}}let Be=new De(ge);for(let Ie=0,bt=0;Ie<N;Ie++){let gt=(N-Ie)*4+(_?9:12);for(let jr=0;jr<gt;jr++){let Ci=jr*2;for(let Wr=0;Wr<2;Wr++)U.get(bt+Ci+Wr)&&Be.set(le[Ie*2+Wr],le[Ie*2+jr]),U.get(bt+gt*2+Ci+Wr)&&Be.set(le[Ie*2+jr],le[re-1-Ie*2-Wr]),U.get(bt+gt*4+Ci+Wr)&&Be.set(le[re-1-Ie*2-Wr],le[re-1-Ie*2-jr]),U.get(bt+gt*6+Ci+Wr)&&Be.set(le[re-1-Ie*2-jr],le[Ie*2+Wr])}bt+=gt*8}if(Ut.drawModeMessage(Be,_,ge,te),_)Ut.drawBullsEye(Be,P.truncDivision(ge,2),5);else{Ut.drawBullsEye(Be,P.truncDivision(ge,2),7);for(let Ie=0,bt=0;Ie<P.truncDivision(re,2)-1;Ie+=15,bt+=16)for(let gt=P.truncDivision(ge,2)&1;gt<ge;gt+=2)Be.set(P.truncDivision(ge,2)-bt,gt),Be.set(P.truncDivision(ge,2)+bt,gt),Be.set(gt,P.truncDivision(ge,2)-bt),Be.set(gt,P.truncDivision(ge,2)+bt)}let je=new zu;return je.setCompact(_),je.setSize(ge),je.setLayers(N),je.setCodeWords(X),je.setMatrix(Be),je}static drawBullsEye(o,u,f){for(let g=0;g<f;g+=2)for(let x=u-g;x<=u+g;x++)o.set(x,u-g),o.set(x,u+g),o.set(u-g,x),o.set(u+g,x);o.set(u-f,u-f),o.set(u-f+1,u-f),o.set(u-f,u-f+1),o.set(u+f,u-f),o.set(u+f,u-f+1),o.set(u+f,u+f-1)}static generateModeMessage(o,u,f){let g=new q;return o?(g.appendBits(u-1,2),g.appendBits(f-1,6),g=Ut.generateCheckWords(g,28,4)):(g.appendBits(u-1,5),g.appendBits(f-1,11),g=Ut.generateCheckWords(g,40,4)),g}static drawModeMessage(o,u,f,g){let x=P.truncDivision(f,2);if(u)for(let v=0;v<7;v++){let _=x-3+v;g.get(v)&&o.set(_,x-5),g.get(v+7)&&o.set(x+5,_),g.get(20-v)&&o.set(_,x+5),g.get(27-v)&&o.set(x-5,_)}else for(let v=0;v<10;v++){let _=x-5+v+P.truncDivision(v,5);g.get(v)&&o.set(_,x-7),g.get(v+10)&&o.set(x+7,_),g.get(29-v)&&o.set(_,x+7),g.get(39-v)&&o.set(x-7,_)}}static generateCheckWords(o,u,f){let g=o.getSize()/f,x=new ju(Ut.getGF(f)),v=P.truncDivision(u,f),_=Ut.bitsToWords(o,f,v);x.encode(_,v-g);let N=u%f,M=new q;M.appendBits(0,N);for(const k of Array.from(_))M.appendBits(k,f);return M}static bitsToWords(o,u,f){let g=new Int32Array(f),x,v;for(x=0,v=o.getSize()/u;x<v;x++){let _=0;for(let N=0;N<u;N++)_|=o.get(x*u+N)?1<<u-N-1:0;g[x]=_}return g}static getGF(o){switch(o){case 4:return Lt.AZTEC_PARAM;case 6:return Lt.AZTEC_DATA_6;case 8:return Lt.AZTEC_DATA_8;case 10:return Lt.AZTEC_DATA_10;case 12:return Lt.AZTEC_DATA_12;default:throw new C("Unsupported word size "+o)}}static stuffBits(o,u){let f=new q,g=o.getSize(),x=(1<<u)-2;for(let v=0;v<g;v+=u){let _=0;for(let N=0;N<u;N++)(v+N>=g||o.get(v+N))&&(_|=1<<u-1-N);(_&x)===x?(f.appendBits(_&x,u),v--):(_&x)===0?(f.appendBits(_|1,u),v--):f.appendBits(_,u)}return f}static totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Ut.DEFAULT_EC_PERCENT=33,Ut.DEFAULT_AZTEC_LAYERS=0,Ut.MAX_NB_BITS=32,Ut.MAX_NB_BITS_COMPACT=4,Ut.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Tc{encode(o,u,f,g){return this.encodeWithHints(o,u,f,g,null)}encodeWithHints(o,u,f,g,x){let v=Pu.ISO_8859_1,_=Ut.DEFAULT_EC_PERCENT,N=Ut.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(er.CHARACTER_SET)&&(v=uo.forName(x.get(er.CHARACTER_SET).toString())),x.has(er.ERROR_CORRECTION)&&(_=P.parseInt(x.get(er.ERROR_CORRECTION).toString())),x.has(er.AZTEC_LAYERS)&&(N=P.parseInt(x.get(er.AZTEC_LAYERS).toString()))),Tc.encodeLayers(o,u,f,g,v,_,N)}static encodeLayers(o,u,f,g,x,v,_){if(u!==Me.AZTEC)throw new C("Can only encode AZTEC, but got "+u);let N=Ut.encode(me.getBytes(o,x),v,_);return Tc.renderResult(N,f,g)}static renderResult(o,u,f){let g=o.getMatrix();if(g==null)throw new yi;let x=g.getWidth(),v=g.getHeight(),_=Math.max(u,x),N=Math.max(f,v),M=Math.min(_/x,N/v),k=(_-x*M)/2,j=(N-v*M)/2,U=new De(_,N);for(let X=0,te=j;X<v;X++,te+=M)for(let re=0,le=k;re<x;re++,le+=M)g.get(re,X)&&U.setRegion(le,te,M,M);return U}}n.AbstractExpandedDecoder=Je,n.ArgumentException=b,n.ArithmeticException=vs,n.AztecCode=zu,n.AztecCodeReader=ii,n.AztecCodeWriter=Tc,n.AztecDecoder=Jt,n.AztecDetector=gc,n.AztecDetectorResult=ws,n.AztecEncoder=Ut,n.AztecHighLevelEncoder=mo,n.AztecPoint=$t,n.BarcodeFormat=Me,n.Binarizer=T,n.BinaryBitmap=E,n.BitArray=q,n.BitMatrix=De,n.BitSource=Er,n.BrowserAztecCodeReader=xc,n.BrowserBarcodeReader=ki,n.BrowserCodeReader=Re,n.BrowserDatamatrixCodeReader=o0,n.BrowserMultiFormatReader=d0,n.BrowserPDF417Reader=f0,n.BrowserQRCodeReader=h0,n.BrowserQRCodeSvgWriter=Sa,n.CharacterSetECI=Z,n.ChecksumException=A,n.Code128Reader=Ue,n.Code39Reader=rn,n.DataMatrixDecodedBitStreamParser=$s,n.DataMatrixReader=Di,n.DecodeHintType=V,n.DecoderResult=$r,n.DefaultGridSampler=Sn,n.DetectorResult=bi,n.EAN13Reader=si,n.EncodeHintType=er,n.Exception=m,n.FormatException=G,n.GenericGF=Lt,n.GenericGFPoly=Cn,n.GlobalHistogramBinarizer=Y,n.GridSampler=ya,n.GridSamplerInstance=or,n.HTMLCanvasElementLuminanceSource=K,n.HybridBinarizer=ae,n.ITFReader=Ht,n.IllegalArgumentException=C,n.IllegalStateException=yi,n.InvertedLuminanceSource=ze,n.LuminanceSource=de,n.MathUtils=It,n.MultiFormatOneDReader=Pn,n.MultiFormatReader=Pf,n.MultiFormatWriter=m0,n.NotFoundException=ee,n.OneDReader=dn,n.PDF417DecodedBitStreamParser=ye,n.PDF417DecoderErrorCorrection=bl,n.PDF417Reader=br,n.PDF417ResultMetadata=Cc,n.PerspectiveTransform=_n,n.PlanarYUVLuminanceSource=Qi,n.QRCodeByteMatrix=Cl,n.QRCodeDataMask=yr,n.QRCodeDecodedBitStreamParser=Mn,n.QRCodeDecoderErrorCorrectionLevel=tn,n.QRCodeDecoderFormatInformation=xr,n.QRCodeEncoder=yn,n.QRCodeEncoderQRCode=_a,n.QRCodeMaskUtil=Dn,n.QRCodeMatrixUtil=ct,n.QRCodeMode=rt,n.QRCodeReader=Ss,n.QRCodeVersion=nt,n.QRCodeWriter=co,n.RGBLuminanceSource=_l,n.RSS14Reader=et,n.RSSExpandedReader=Ee,n.ReaderException=vl,n.ReedSolomonDecoder=ga,n.ReedSolomonEncoder=ju,n.ReedSolomonException=Sr,n.Result=He,n.ResultMetadataType=mt,n.ResultPoint=Ge,n.StringUtils=me,n.UnsupportedOperationException=Ce,n.VideoInputDevice=be,n.WhiteRectangleDetector=vi,n.WriterException=sn,n.ZXingArrays=F,n.ZXingCharset=uo,n.ZXingInteger=P,n.ZXingStandardCharsets=Pu,n.ZXingStringBuilder=Pe,n.ZXingStringEncoding=we,n.ZXingSystem=R,n.createAbstractExpandedDecoder=Cs,Object.defineProperty(n,"__esModule",{value:!0})})}(Gd,Gd.exports)),Gd.exports}var Rn=bj();const vj=uc(Rn),wj=kN({__proto__:null,default:vj},[Rn]);var HC=function(){function t(e,n,r){if(this.formatMap=new Map([[We.QR_CODE,Rn.BarcodeFormat.QR_CODE],[We.AZTEC,Rn.BarcodeFormat.AZTEC],[We.CODABAR,Rn.BarcodeFormat.CODABAR],[We.CODE_39,Rn.BarcodeFormat.CODE_39],[We.CODE_93,Rn.BarcodeFormat.CODE_93],[We.CODE_128,Rn.BarcodeFormat.CODE_128],[We.DATA_MATRIX,Rn.BarcodeFormat.DATA_MATRIX],[We.MAXICODE,Rn.BarcodeFormat.MAXICODE],[We.ITF,Rn.BarcodeFormat.ITF],[We.EAN_13,Rn.BarcodeFormat.EAN_13],[We.EAN_8,Rn.BarcodeFormat.EAN_8],[We.PDF_417,Rn.BarcodeFormat.PDF_417],[We.RSS_14,Rn.BarcodeFormat.RSS_14],[We.RSS_EXPANDED,Rn.BarcodeFormat.RSS_EXPANDED],[We.UPC_A,Rn.BarcodeFormat.UPC_A],[We.UPC_E,Rn.BarcodeFormat.UPC_E],[We.UPC_EAN_EXTENSION,Rn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!wj)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),s=new Map;s.set(Rn.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Rn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var n=new Rn.MultiFormatReader(this.verbose,this.hints),r=new Rn.HTMLCanvasElementLuminanceSource(e),i=new Rn.BinaryBitmap(new Rn.HybridBinarizer(r)),s=n.decode(i);return{text:s.text,format:bE.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),Cj=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(b){try{m(r.next(b))}catch(C){l(C)}}function h(b){try{m(r.throw(b))}catch(C){l(C)}}function m(b){b.done?s(b.value):i(b.value).then(d,h)}m((r=r.apply(t,e||[])).next())})},_j=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(m){return function(b){return h([m,b])}}function h(m){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){n.label=m[1];break}if(m[0]===6&&n.label<s[1]){n.label=s[1],s=m;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(m);break}s[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(b){m=[6,b],i=0}finally{r=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},VC=function(){function t(e,n,r){if(this.formatMap=new Map([[We.QR_CODE,"qr_code"],[We.AZTEC,"aztec"],[We.CODABAR,"codabar"],[We.CODE_39,"code_39"],[We.CODE_93,"code_93"],[We.CODE_128,"code_128"],[We.DATA_MATRIX,"data_matrix"],[We.ITF,"itf"],[We.EAN_13,"ean_13"],[We.EAN_8,"ean_8"],[We.PDF_417,"pdf417"],[We.UPC_A,"upc_a"],[We.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return Cj(this,void 0,void 0,function(){var n,r;return _j(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:bE.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,s=e;i<s.length;i++){var l=s[i],d=l.boundingBox.width*l.boundingBox.height;d>r&&(r=d,n=l)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),$C=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(b){try{m(r.next(b))}catch(C){l(C)}}function h(b){try{m(r.throw(b))}catch(C){l(C)}}function m(b){b.done?s(b.value):i(b.value).then(d,h)}m((r=r.apply(t,e||[])).next())})},GC=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(m){return function(b){return h([m,b])}}function h(m){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){n.label=m[1];break}if(m[0]===6&&n.label<s[1]){n.label=s[1],s=m;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(m);break}s[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(b){m=[6,b],i=0}finally{r=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Sj=function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&VC.isSupported()?(this.primaryDecoder=new VC(e,r,i),this.secondaryDecoder=new HC(e,r,i)):this.primaryDecoder=new HC(e,r,i)}return t.prototype.decodeAsync=function(e){return $C(this,void 0,void 0,function(){var n;return GC(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return $C(this,void 0,void 0,function(){var n,r;return GC(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),L2=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),U1=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(b){try{m(r.next(b))}catch(C){l(C)}}function h(b){try{m(r.throw(b))}catch(C){l(C)}}function m(b){b.done?s(b.value):i(b.value).then(d,h)}m((r=r.apply(t,e||[])).next())})},H1=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(m){return function(b){return h([m,b])}}function h(m){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){n.label=m[1];break}if(m[0]===6&&n.label<s[1]){n.label=s[1],s=m;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(m);break}s[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(b){m=[6,b],i=0}finally{r=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},wE=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),Ej=function(t){L2(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(wE),Aj=function(t){L2(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(Ej),Tj=function(t){L2(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(wE),Nj=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new Aj(this.track)},t.prototype.torchFeature=function(){return new Tj(this.track)},t}(),Oj=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return U1(this,void 0,void 0,function(){var s,l;return H1(this,function(d){switch(d.label){case 0:return s=new t(e,n,i),r.aspectRatio?(l={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:d.sent(),d.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return U1(this,void 0,void 0,function(){return H1(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),s=i.length,l=0;e.mediaStream.getVideoTracks().forEach(function(d){e.mediaStream.removeTrack(d),d.stop(),++l,l>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new Nj(this.getFirstTrackOrFail())},t}(),Mj=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return U1(this,void 0,void 0,function(){return H1(this,function(i){return[2,Oj.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return U1(this,void 0,void 0,function(){var n,r;return H1(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t}(),qC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(b){try{m(r.next(b))}catch(C){l(C)}}function h(b){try{m(r.throw(b))}catch(C){l(C)}}function m(b){b.done?s(b.value):i(b.value).then(d,h)}m((r=r.apply(t,e||[])).next())})},WC=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(m){return function(b){return h([m,b])}}function h(m){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){n.label=m[1];break}if(m[0]===6&&n.label<s[1]){n.label=s[1],s=m;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(m);break}s[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(b){m=[6,b],i=0}finally{r=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Rj=function(){function t(){}return t.failIfNotSupported=function(){return qC(this,void 0,void 0,function(){return WC(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return qC(this,void 0,void 0,function(){return WC(this,function(n){return[2,Mj.create(e)]})})},t}(),Ij=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(b){try{m(r.next(b))}catch(C){l(C)}}function h(b){try{m(r.throw(b))}catch(C){l(C)}}function m(b){b.done?s(b.value):i(b.value).then(d,h)}m((r=r.apply(t,e||[])).next())})},kj=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(m){return function(b){return h([m,b])}}function h(m){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){n.label=m[1];break}if(m[0]===6&&n.label<s[1]){n.label=s[1],s=m;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(m);break}s[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(b){m=[6,b],i=0}finally{r=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Dj=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=yu.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=yu.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return Ij(this,void 0,void 0,function(){var e,n,r,i,s,l,d;return kj(this,function(h){switch(h.label){case 0:return e=function(m){for(var b=m.getVideoTracks(),C=0,E=b;C<E.length;C++){var A=E[C];A.enabled=!1,A.stop(),m.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=h.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=h.sent(),i=[],s=0,l=r;s<l.length;s++)d=l[s],d.kind==="videoinput"&&i.push({id:d.deviceId,label:d.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(s){for(var l=[],d=0,h=s;d<h.length;d++){var m=h[d];m.kind==="video"&&l.push({id:m.id,label:m.label})}e(l)},i=MediaStreamTrack;i.getSources(r)})},t}(),Yn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Yn||(Yn={}));var Bj=function(){function t(){this.state=Yn.NOT_STARTED,this.onGoingTransactionNewState=Yn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Yn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Yn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Yn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Yn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Yn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Yn.UNKNOWN:throw"Transition from unknown is not allowed";case Yn.NOT_STARTED:this.failIfNewStateIs(e,[Yn.PAUSED]);break;case Yn.SCANNING:break;case Yn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),Lj=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Yn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Yn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Yn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Yn.PAUSED},t}(),jj=function(){function t(){}return t.create=function(){return new Lj(new Bj)},t}(),Pj=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gi=function(t){Pj(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(mj),zj=function(){function t(e,n){this.logger=n,this.fps=Gi.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Gi.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?vE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Za(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),Fj=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new xj(this.verbose),this.qrcode=new Sj(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=jj.create()}return t.prototype.start=function(e,n,r,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;i?l=i:l=this.verbose?this.logger.log:function(){};var d=zj.create(n,this.logger);this.clearElement();var h=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?h=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=h,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:Gi.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var C=this,E=this.stateManagerProxy.startTransition(Yn.SCANNING);return new Promise(function(A,T){var R=m?d.videoConstraints:C.createVideoConstraints(e);if(!R){E.cancel(),T("videoConstraints should be defined");return}var I={};(!m||d.aspectRatio)&&(I.aspectRatio=d.aspectRatio);var D={onRenderSurfaceReady:function(F,P){C.setupUi(F,P,d),C.isScanning=!0,C.foreverScan(d,r,l)}};Rj.failIfNotSupported().then(function(F){F.create(R).then(function(P){return P.render(s.element,I,D).then(function(q){C.renderedCamera=q,E.execute(),A(null)}).catch(function(q){E.cancel(),T(q)})}).catch(function(P){E.cancel(),T(yu.errorGettingUserMedia(P))})}).catch(function(F){E.cancel(),T(yu.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Yn.PAUSED),this.showPausedState(),(Za(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Yn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Yn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var s=document.getElementById(Gi.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Za(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var l=new Image;l.onload=function(){var d=l.width,h=l.height,m=document.getElementById(r.elementId),b=m.clientWidth?m.clientWidth:Gi.DEFAULT_WIDTH,C=Math.max(m.clientHeight?m.clientHeight:h,Gi.FILE_SCAN_MIN_HEIGHT),E=r.computeCanvasDrawConfig(d,h,b,C);if(n){var A=r.createCanvasElement(b,C,"qr-canvas-visible");A.style.display="inline-block",m.appendChild(A);var T=A.getContext("2d");if(!T)throw"Unable to get 2d context from canvas";T.canvas.width=b,T.canvas.height=C,T.drawImage(l,0,0,d,h,E.x,E.y,E.width,E.height)}var R=Gi.FILE_SCAN_HIDDEN_CANVAS_PADDING,I=Math.max(l.width,E.width),D=Math.max(l.height,E.height),F=I+2*R,P=D+2*R,q=r.createCanvasElement(F,P);m.appendChild(q);var $=q.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=F,$.canvas.height=P,$.drawImage(l,0,0,d,h,R,R,I,D);try{r.qrcode.decodeRobustlyAsync(q).then(function(V){i(FC.createFromQrcodeResult(V))}).catch(s)}catch(V){s("QR code parse error, error = ".concat(V))}},l.onerror=s,l.onabort=s,l.onstalled=s,l.onsuspend=s,l.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Dj.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!vE.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[We.QR_CODE,We.AZTEC,We.CODABAR,We.CODE_39,We.CODE_93,We.CODE_128,We.DATA_MATRIX,We.MAXICODE,We.ITF,We.EAN_13,We.EAN_8,We.PDF_417,We.RSS_14,We.RSS_EXPANDED,We.UPC_A,We.UPC_E,We.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=e.formatsToSupport;i<s.length;i++){var l=s[i];pj(l)?r.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Za(e))return!0;if(!Za(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Za(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Za(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var l=this.toQrdimensions(e,n,s),d=function(m){if(m<Gi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Gi.MIN_QR_BOX_SIZE,"px.")},h=function(m){return m>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=e),m};d(l.width),d(l.height),l.width=h(l.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=Za(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,n,i);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=r.isShadedBoxEnabled()&&s.height<=n,d={x:0,y:0,width:e,height:n},h=l?this.getShadedRegionBounds(e,n,s):d,m=this.createCanvasElement(h.width,h.height),b={willReadFrequently:!0},C=m.getContext("2d",b);C.canvas.width=h.width,C.canvas.height=h.height,this.element.append(m),l&&this.possiblyInsertShadingElement(this.element,e,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=h,this.context=C,this.canvasElement=m},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=yu.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,FC.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=yu.codeParseError(i);return n(s,gj.createFrom(s)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),l=s.videoWidth/s.clientWidth,d=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var h=this.qrRegion.width*l,m=this.qrRegion.height*d,b=this.qrRegion.x*l,C=this.qrRegion.y*d;this.context.drawImage(s,b,C,h,m,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(A){!A&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){E()})):E()}).catch(function(A){i.logger.logError("Error happend while scanning context",A),E()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",l=function(T){if(T in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(T,"'")},d=Object.keys(e);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var h=Object.keys(e)[0];if(h!==n&&h!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(h===n){var m=e.facingMode;if(typeof m=="string"){if(l(m))return{facingMode:m}}else if(typeof m=="object")if(s in m){if(l(m["".concat(s)]))return{facingMode:{exact:m["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var b=typeof m;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var C=e.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(s in C)return{deviceId:{exact:C["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var E=typeof C;throw"Invalid type of 'deviceId' = ".concat(E)}}}var A=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var s=(r-e)/2,l=(i-n)/2;return{x:s,y:l,width:e,height:n}}else{var d=e,h=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(h)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Gi.BORDER_SHADER_MATCH_COLOR:Gi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,s=n,l=document.createElement("canvas");return l.style.width="".concat(i,"px"),l.style.height="".concat(s,"px"),l.style.display="none",l.id=Za(r)?"qr-canvas":r,l},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var l=(n-i.width)/2,d=(r-i.height)/2;if(s.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Gi.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var h=5,m=40;this.insertShaderBorders(s,m,h,-h,null,0,!0),this.insertShaderBorders(s,m,h,-h,null,0,!1),this.insertShaderBorders(s,m,h,null,-h,0,!0),this.insertShaderBorders(s,m,h,null,-h,0,!1),this.insertShaderBorders(s,h,m+h,-h,null,-h,!0),this.insertShaderBorders(s,h,m+h,null,-h,-h,!0),this.insertShaderBorders(s,h,m+h,-h,null,-h,!1),this.insertShaderBorders(s,h,m+h,null,-h,-h,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,n,r,i,s,l,d){var h=document.createElement("div");h.style.position="absolute",h.style.backgroundColor=Gi.BORDER_SHADER_DEFAULT_COLOR,h.style.width="".concat(n,"px"),h.style.height="".concat(r,"px"),i!==null&&(h.style.top="".concat(i,"px")),s!==null&&(h.style.bottom="".concat(s,"px")),d?h.style.left="".concat(l,"px"):h.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(h),e.appendChild(h)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),XC;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(XC||(XC={}));const Uj="_scannerContainer_yftsj_1",Hj="_header_yftsj_25",Vj="_closeButton_yftsj_37",$j="_title_yftsj_59",Gj="_scannerArea_yftsj_79",qj="_qrScannerWrapper_yftsj_91",Wj="_scannerOverlay_yftsj_135",Xj="_corner_yftsj_153",Yj="_topLeft_yftsj_167",Kj="_topRight_yftsj_183",Zj="_bottomLeft_yftsj_199",Qj="_bottomRight_yftsj_215",Jj="_instructionBox_yftsj_229",eP="_qrIconButton_yftsj_253",tP="_errorMessage_yftsj_293",nP="_test_yftsj_319",_r={scannerContainer:Uj,header:Hj,closeButton:Vj,title:$j,scannerArea:Gj,qrScannerWrapper:qj,scannerOverlay:Wj,corner:Xj,topLeft:Yj,topRight:Kj,bottomLeft:Zj,bottomRight:Qj,instructionBox:Jj,qrIconButton:eP,errorMessage:tP,test:nP};function rP(){const t=Yt(),e="html5qr-code-full-region",n=z.useRef(null),[r,i]=z.useState(null),[s,l]=z.useState(!1),d=Dr(),h=async()=>{const b=new URLSearchParams(d.search).get("itemId");if(b)try{await Wt.patch(`/api/reservations/${b}`,{reservation_status:"used"}),localStorage.setItem("showAttendanceModal","true"),t("/mypage")}catch(C){console.error("  :",C),alert("     .")}};z.useEffect(()=>{const b={fps:10,qrbox:250,aspectRatio:1,disableFlip:!1};return n.current=new Fj(e),n.current.start({facingMode:"environment"},b,C=>{n.current.stop().then(()=>{t(`/art/${C}`)}).catch(E=>{console.error("Failed to stop scanner:",E)})},()=>{}).catch(C=>{i("   ."),console.error("QR  :",C)}),async()=>{const C=n.current;if(C)try{C.isScanning&&await C.stop(),C.clear()}catch(E){console.error("Cleanup :",E)}}},[t]);const m=()=>{localStorage.removeItem("showAttendanceModal"),localStorage.removeItem("exhibitionInfo"),t(-1)};return z.useEffect(()=>{new URLSearchParams(d.search).get("itemId")&&l(!0)},[d]),w.jsxs("div",{className:_r.scannerContainer,children:[w.jsxs("div",{className:_r.header,children:[w.jsx("button",{className:_r.closeButton,onClick:m,children:""}),w.jsx("h2",{className:_r.title,children:"Artly QR Reader"})]}),w.jsxs("div",{className:_r.scannerArea,children:[w.jsx("div",{id:e,className:_r.qrScannerWrapper}),w.jsxs("div",{className:_r.scannerOverlay,children:[w.jsx("div",{className:`${_r.corner} ${_r.topLeft}`}),w.jsx("div",{className:`${_r.corner} ${_r.topRight}`}),w.jsx("div",{className:`${_r.corner} ${_r.bottomLeft}`}),w.jsx("div",{className:`${_r.corner} ${_r.bottomRight}`})]}),r&&w.jsx("div",{className:_r.errorMessage,children:r})]}),w.jsx("button",{className:_r.qrIconButton,children:w.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M3 11H11V3H3V11ZM5 5H9V9H5V5Z",fill:"black"}),w.jsx("path",{d:"M3 21H11V13H3V21ZM5 15H9V19H5V15Z",fill:"black"}),w.jsx("path",{d:"M13 3V11H21V3H13ZM19 9H15V5H19V9Z",fill:"black"}),w.jsx("path",{d:"M21 19H19V21H21V19Z",fill:"black"}),w.jsx("path",{d:"M15 13H13V15H15V13Z",fill:"black"}),w.jsx("path",{d:"M17 15H15V17H17V15Z",fill:"black"}),w.jsx("path",{d:"M15 17H13V19H15V17Z",fill:"black"}),w.jsx("path",{d:"M17 19H15V21H17V19Z",fill:"black"}),w.jsx("path",{d:"M19 17H17V19H19V17Z",fill:"black"}),w.jsx("path",{d:"M19 13H17V15H19V13Z",fill:"black"}),w.jsx("path",{d:"M21 15H19V17H21V15Z",fill:"black"})]})}),w.jsxs("div",{className:_r.instructionBox,children:[w.jsx("p",{children:"QR   ."}),s&&w.jsx("button",{onClick:h,className:_r.test,children:"  QR "})]})]})}const iP="_layout_jvhsh_1",sP="_title_jvhsh_23",aP="_galleryWrapper_jvhsh_33",oP="_searchForm_jvhsh_45",lP="_searchInput_jvhsh_59",Bd={layout:iP,title:sP,galleryWrapper:aP,searchForm:oP,searchInput:lP},cP=()=>{const[t,e]=z.useState({lat:37.3595704,lng:127.105399}),n=i=>{const s=i.coords.latitude,l=i.coords.longitude;e({lat:s,lng:l})},r=i=>{alert(`(${i.code}): ${i.message}`)};return z.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(n,r):alert("    !")},[]),{coords:t,setCoords:e}},uP="_layout_1log3_1",dP="_searchTitle_1log3_15",fP="_resultNumParagraph_1log3_25",hP="_highlightSpan_1log3_33",pP="_paginationRow_1log3_53",Ld={layout:uP,searchTitle:dP,resultNumParagraph:fP,highlightSpan:hP,paginationRow:pP};function mP({results:t}){const{currentPage:e,setCurrentPage:n,pageItems:r}=Bu(10,t);return w.jsxs("section",{className:Ld.layout,children:[w.jsxs("div",{children:[w.jsx("h2",{className:Ld.searchTitle,children:"   "}),w.jsxs("p",{className:Ld.resultNumParagraph,children:[" ",w.jsx("span",{className:Ld.highlightSpan,children:t.length}),"  "]})]}),t.length===0&&w.jsx("div",{children:"  ."}),r.map(i=>w.jsx(B2,{galleryItem:i},i.id)),w.jsx("div",{className:Ld.paginationRow,children:w.jsx(Du,{currentPage:e,onPageChange:n,totalItems:t.length})})]})}function gP(){const{coords:t,setCoords:e}=cP(),[n,r]=z.useState([]),[i,s]=z.useState(!1),{lat:l,lng:d}=t,[h,m]=z.useState(""),b=E=>{m(E.target.value)};D2({lat:l,lng:d,id:"nearby-map",results:n,zoomLevel:12});const C=async E=>{E.preventDefault();try{const A=await hM.get("/v2/geocode",{params:{query:h}}),T=A.data.addresses[0].x,R=A.data.addresses[0].y;e({lat:R,lng:T})}catch(A){console.error(A),alert("  ")}};return z.useEffect(()=>{(async()=>{try{s(!0);const A=await Wt.get("/api/galleries",{params:{latitude:l,longitude:d,distance:5e3}});r(A.data)}catch(A){console.error(A),alert("   ")}finally{s(!1)}})()},[l,d]),w.jsxs("div",{className:Bd.layout,children:[w.jsx("h1",{className:Bd.title,children:"  "}),w.jsx("form",{className:Bd.searchForm,onSubmit:C,children:w.jsx("input",{className:Bd.searchInput,value:h,onChange:b,placeholder:" "})}),w.jsx("div",{id:"nearby-map",className:Bd.galleryWrapper}),i&&w.jsx("div",{children:"   .."}),w.jsx(mP,{results:n})]})}const xP="_layout_dpzcc_5",yP="_artworkCard_dpzcc_71",bP="_mainImage_dpzcc_97",vP="_title_dpzcc_113",wP="_subtitle_dpzcc_127",CP="_actionButtonContainer_dpzcc_145",_P="_actionButton_dpzcc_145",SP="_actionIcon_dpzcc_187",EP="_isClicked_dpzcc_195",AP="_infoCard_dpzcc_207",TP="_artistHeader_dpzcc_231",NP="_artistImage_dpzcc_243",OP="_artistName_dpzcc_259",MP="_detailList_dpzcc_273",RP="_label_dpzcc_307",IP="_value_dpzcc_317",kP="_description_dpzcc_331",DP="_docent_dpzcc_349",BP="_docentTitle_dpzcc_369",LP="_docentDesc_dpzcc_377",jP="_sectionTitle_dpzcc_401",PP="_relatedGrid_dpzcc_413",zP="_relatedCard_dpzcc_425",FP="_relatedImage_dpzcc_449",UP="_relatedInfo_dpzcc_461",HP="_relatedTitle_dpzcc_475",VP="_relatedSub_dpzcc_487",$P="_relatedMeta_dpzcc_497",GP="_emptyContent_dpzcc_507",qP="_backButton_dpzcc_521",At={layout:xP,artworkCard:yP,mainImage:bP,title:vP,subtitle:wP,actionButtonContainer:CP,actionButton:_P,actionIcon:SP,isClicked:EP,infoCard:AP,artistHeader:TP,artistImage:NP,artistName:OP,detailList:MP,label:RP,value:IP,description:kP,docent:DP,docentTitle:BP,docentDesc:LP,sectionTitle:jP,relatedGrid:PP,relatedCard:zP,relatedImage:FP,relatedInfo:UP,relatedTitle:HP,relatedSub:VP,relatedMeta:$P,emptyContent:GP,backButton:qP};function CE({showUserActions:t=!0,id:e}){const{artworkId:n}=Ps(),r=e||n;Yt();const[i,s]=z.useState(null);if(z.useEffect(()=>{r&&(async()=>{try{const q=await wn.get(`/api/arts/${r}`);s(q.data),console.log(q.data)}catch(q){console.error("  :",q)}})()},[r]),!i)return w.jsx("div",{className:At.loading,children:" ..."});const l=()=>alert("   api  ."),d=()=>alert("   ."),h=()=>{const{exhibition_name:P}=exhibitionData,q=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${P}`,text:`${P}   !`,url:q}).catch($=>console.error(" :",$));else{const $=document.createElement("textarea");$.value=q,document.body.appendChild($),$.focus(),$.select();try{document.execCommand("copy"),alert("  .")}catch(V){console.error("  :",V),alert("  .")}document.body.removeChild($)}},{art_title:m,artist_name:b,art_description:C,art_docent:E,art_material:A,art_size:T,art_image:R,is_liked:I,recommended:D}=i,F=[{label:"",icon:w.jsx(Hp,{className:`${At.actionIcon} ${I&&At.isClicked}`}),action:l},{label:"",icon:w.jsx(UI,{className:At.actionIcon}),action:d},{label:"",icon:w.jsx(k2,{className:At.actionIcon}),action:h}];return w.jsxs("div",{className:At.layout,children:[w.jsxs("div",{className:At.artworkCard,children:[w.jsx("img",{src:R,alt:m,className:At.mainImage}),w.jsx("h2",{className:At.title,children:m}),w.jsx("p",{className:At.subtitle,children:b}),t&&w.jsx("div",{className:At.actionButtonContainer,children:F.map(({label:P,icon:q,action:$})=>w.jsxs("button",{className:At.actionButton,onClick:$,children:[q,P]},P))})]}),w.jsxs("div",{className:At.infoCard,children:[w.jsxs("div",{className:At.artistHeader,children:[w.jsx("img",{src:i.artist_profile_image||"/images/default_artist.png",alt:b,className:At.artistImage}),w.jsx("span",{className:At.artistName,children:b})]}),w.jsxs("ul",{className:At.detailList,children:[w.jsxs("li",{children:[w.jsx("span",{className:At.label,children:""}),w.jsx("span",{className:At.value,children:i.art_year||" "})]}),w.jsxs("li",{children:[w.jsx("span",{className:At.label,children:""}),w.jsx("span",{className:At.value,children:A||" "})]}),w.jsxs("li",{children:[w.jsx("span",{className:At.label,children:""}),w.jsx("span",{className:At.value,children:T||" "})]}),w.jsxs("li",{children:[w.jsx("span",{className:At.label,children:""}),w.jsx("span",{className:At.value,children:i.art_price?`${i.art_price.toLocaleString()}`:" "})]})]}),w.jsx("p",{className:At.description,children:C||"   ."}),E&&w.jsxs("p",{className:At.docent,children:[w.jsx("h3",{className:At.docentTitle,children:"AI "}),w.jsx("p",{className:At.docentDesc,children:E})]})]}),t&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:At.infoCard,children:[w.jsx("h3",{className:At.sectionTitle,children:" "}),!D||D.length===0?w.jsx("p",{className:At.emptyContent,children:"   ."}):w.jsx(w.Fragment,{children:w.jsx("div",{className:At.relatedGrid,children:D.map(P=>w.jsxs("div",{className:At.relatedCard,children:[w.jsx("img",{src:P.img,alt:P.title,className:At.relatedImage}),w.jsxs("div",{className:At.relatedInfo,children:[w.jsx("h4",{className:At.relatedTitle,children:P.title}),w.jsx("p",{className:At.relatedSub,children:P.material}),w.jsxs("p",{className:At.relatedMeta,children:[P.size," | ",P.year]})]})]},P.id))})})]}),w.jsx(xn,{className:At.backButton,to:"/artworks",children:""})]})]})}const WP="_layout_ezrs8_1",XP="_findForm_ezrs8_15",YP="_formTitle_ezrs8_33",KP="_submitButton_ezrs8_43",Ul={layout:WP,findForm:XP,formTitle:YP,submitButton:KP};function ZP(){const{data:t,handleChange:e}=z1({userName:"",userEmail:""}),{data:n,handleChange:r}=z1({userId:"",userEmail:""}),i=l=>{l.preventDefault(),alert("  ")},s=l=>{l.preventDefault(),alert("  ")};return w.jsxs("div",{className:Ul.layout,children:[w.jsxs("form",{className:Ul.findForm,onSubmit:i,children:[w.jsx("h2",{className:Ul.formTitle,children:" "}),w.jsx(fa,{name:"userName",placeholder:"",onChange:e,value:t.userName}),w.jsx(fa,{name:"userEmail",placeholder:"@     ",onChange:e,value:t.userEmail}),w.jsx("button",{className:Ul.submitButton,children:" "})]}),w.jsxs("form",{className:Ul.findForm,onSubmit:s,children:[w.jsx("h2",{className:Ul.formTitle,children:" "}),w.jsx(fa,{name:"userId",placeholder:"",onChange:r,value:n.userId}),w.jsx(fa,{name:"userEmail",placeholder:"@     ",onChange:r,value:n.userEmail}),w.jsx("button",{className:Ul.submitButton,children:"  "})]})]})}const QP="_announcementLayout_om46f_1",JP="_heading_om46f_19",ez="_tabWrapper_om46f_31",tz="_tab_om46f_31",nz="_active_om46f_71",rz="_listItem_om46f_99",iz="_buttonField_om46f_107",sz="_contentContainer_om46f_129",zo={announcementLayout:QP,heading:JP,tabWrapper:ez,tab:tz,active:nz,listItem:rz,buttonField:iz,contentContainer:sz},az=[{id:0,title:"      .",content:`  ,     ?
         .

     ,  ,                 .

 :        
  : []  [   ]  
 :      

       ,  .
     1:1  .`},{id:1,title:"  ",content:"  ."}],oz=[{id:0,title:"   ",content:"        , SNS,        .     ,          ."}],lz=["","FAQ"];function cz(){const[t,e]=z.useState(""),[n,r]=z.useState({}),i=t===""?az:oz,s=d=>{if(n[d]){r(m=>({...m,[d]:!1}));return}r(m=>({...m,[d]:!0}))},l=d=>{e(d),r({})};return w.jsxs("div",{className:zo.announcementLayout,children:[w.jsx("h1",{className:zo.heading,children:"&FAQ"}),w.jsx("div",{className:zo.tabWrapper,children:lz.map(d=>w.jsx("button",{className:`${zo.tab} ${t===d?zo.active:""}`,onClick:()=>l(d),children:d},d))}),w.jsx("ul",{children:i.map((d,h)=>w.jsxs("li",{className:zo.listItem,onClick:()=>{s(h)},children:[w.jsxs("div",{className:zo.buttonField,children:[d.title,w.jsx("span",{children:n[h]?w.jsx(VI,{}):w.jsx(HI,{})})]}),n[h]&&w.jsx("div",{className:zo.contentContainer,children:d.content})]},d.id))})]})}const uz="_termsLayout_135gr_1",dz="_mainTitle_135gr_19",fz="_tabWrapper_135gr_43",hz="_tab_135gr_43",pz="_active_135gr_83",mz="_contentContainer_135gr_99",au={termsLayout:uz,mainTitle:dz,tabWrapper:fz,tab:hz,active:pz,contentContainer:mz},gz={content:`   

1 

1 ()   (  )          , ,  (  )        ,      .

2 ( )        .
1.         .
2.      ,      .
3.           .
4.          , , , (PDA),   .
5.    , , ,  ,        ( , ,  ),     .
6.                  (   , ,  ,   ) .
7.             .
8.                .
9 .                .

        1          ,        .

3 (  )            . ,           .
1.  :  , : 
2.   :     76  311
3. ,  : oddlemon@oddlemon.co.kr
4.   : 477-88-01191
5.   : 2019--1107

4 (   )               .        , , ,  ,        , ,            .
       ,       7         . ,           30      28 1   .              .
              .  2                         ,              .              .
               .
      ,    ,   ,      ,            .

5 (   )      (  .)           ,      .
       . ,              .
1.         
2.            
3.            
4.         
5.      
6.       
7.          
                .
1.    ,     ,    
2.      ,    
3.           

6 (  )              ,   ,  ,     ,       .

7 ()              (  )   .
             .
    4 2  . ,          2   .
1.        
2.       
3.                 

2  

8 (   )            ,           . ,          .
                .
                   .
           .

3   

9 ( )    ,            .
        ( )       .           3     .
                  , ,                    .

10 ( )               .
1.         
2.         (ID, , ,   )   ,    
3.            ,       
4.  /        ,   ID    
5.        
6.      ,      () ,                 
7.   , , , , ,        
8.          ,        
9.     ,        
10.       ,      
11.       ( )                 
12.        ,    ,  ,     ,   ,       
13.           
          ,       .               .
             .         
          ,    .
1.  , , ,     
2.  
3.      
4. , ,        

4    

11 ( )   5            . ,            .
                  .
     , ,          .

12 ( )         .           .
 1              .               . ,            .
1.  ,    ,       
2. ,   ,  ,            
3. , ,             
           .             .
           .               .
                .                ,      .
              .                  .

13 (   )               ,       . ,                     .
      ,  ,                   .    30            28 1   .
 2           25 3  .
 2      30       3           .

14 ( )                      .  ,         .

15 (  )             .    ,         , 3           .
   3 1              . , 10 1                   .
                 (, , ,  )     .
                .        ,              .

16 ( )           .      , (LMS/SMS), (Push Notification)       .        ,         .
                .
 2                 ,    ,         . ,                 .

17 (  )            .
                       (, , , , , 2    .  )        .
                      , ,      (   .)         .
1.    ,       (, , , , , , 2       ,    )
2.            , ,    
          (,   )        ,        .
         10 1                 .
                      .          .
       ,     .

18 (  ,   )                 .
          . , 13 2                   .

19 (   )   10        ,             ,  (, ,  )          .        20 1     .
1.    :      
2.   :       
3.   :       
4.   :       
 1           .
                .
1.        
2.        
3.           
 3   ,               . ,  3       .

20 (   )   19 1        10 1       .
  19 1            . ,         .
1.   
2.     
3.     

21 (    )              14       ,        .
  1    15     ,      . ,           .
         .

5 ,     

22 ()                .                 .
                  .

23 (  )                 7          .
          1     . ,                  .
1.      
2.        
3.             
  2                  ,     (  ,   )               .        2          .
  1  2                    3 ,          30     .
            .                ,     .
 1 4             3   .                   213      .
       ,               ,                 . ,                           .
         ,   ,      .                 .

24 ( )        . ,                     .
        ,     ,       .
         (,   )     .
                 .
             ,      .        3  .

25 (  )               .            .
        ,                            .
 1  2       .
      1      (  )             .    30  ,            .

6    

26 ()                . ,        
                                  .

27 ( )                   .
    , , ,            . ,        .
             . ,        .
        ,             .
               ,       .
             .         .
              .
    , , ,        . ,        .
     ,         3     . ,        .
    ,    , (OS)  ,  ,                  . ,        .
             . ,        .
          . ,        .

28 (  )        , ,    , (LMS/SMS)    .
       7        1    .

29 (  )       .                .

30 (   )

               .         .
               . ,             28 1  .
      3           ,     .
`},xz={content:`[   ]

 1  : 
 2  :  
 3  :  
 4  : 

1  

1 ()
    (  )      ( ' )     ,   ,          .

2 ( )
        .
1.  :  (      )  ""      .
2.  :        
3.  :   , ,     , , ,  ,     
4.  :            , ,       .
5.  :      
 :         

3 (   )
            ,     7              .
1.              .
  2.          ,       .                         .
3.          ,     ,   7              .
4.               ,               .

4 (  )
     ,    ,        .

2  

5 ( )
            3   . ,         ,                .

6 ( )
1.           .
   ID   
    ,   3  
  , 3      
       
     
    

2.              3                    .
3.       ,         .
4.   ,        ,     .

3  

7 ( )
1.     , ,       .     ,   .
2.         3           .             .
3.  14        .

8 (   )
       ,  ,            (  )            ,       .
1. ,    3      
2.      , ,     
3.      
4.  , 3 ,           
5.       
6.   ,   
7.       
8.     

9 ( )
1.           ,          .         .
2.        ,       ,    .    ,                  ,             .
3.   ,         .

10 ( )
          1 24  .         .

11 (  )
  ,  , S/W  ,          ,        ,          .

12 (  )
         .
1.   
2.      
3.        
4.       
5.    
6.     

4  

13 ( )
  ,     ,   ,     .

14 ( )
1.                        .
2.               3                 ,              .

15 ( )
1.  ,                 .
2.    , , ,         .
3.          .
4.                .
5.     , ,  ,       .
6.      3               .

16( )
               .

  
()   2024 9 28 .
`};function yz(){const t=["",""],[e,n]=z.useState(""),r=e===""?gz:xz,i=s=>{n(s)};return w.jsxs("section",{className:au.termsLayout,children:[w.jsx("h1",{className:au.mainTitle,children:""}),w.jsx("div",{className:au.tabWrapper,children:t.map(s=>w.jsx("button",{className:`${au.tab} ${e===s?au.active:""}`,onClick:()=>i(s),children:s},s))}),w.jsx("div",{className:au.contentContainer,children:r.content})]})}const bz="_layout_3y7o4_1",vz="_title_3y7o4_19",wz="_posterImage_3y7o4_31",Cz="_completionIcon_3y7o4_43",_z="_completionTitle_3y7o4_67",Sz="_reservationSummary_3y7o4_81",Ez="_summaryRow_3y7o4_95",Az="_summaryLabel_3y7o4_115",Tz="_summaryValue_3y7o4_125",Nz="_buttonField_3y7o4_155",Oz="_exhibitionLink_3y7o4_165",Mz="_mypageLink_3y7o4_167",cs={layout:bz,title:vz,posterImage:wz,completionIcon:Cz,completionTitle:_z,reservationSummary:Sz,summaryRow:Ez,summaryLabel:Az,summaryValue:Tz,buttonField:Nz,exhibitionLink:Oz,mypageLink:Mz};function Rz(){const{reservationId:t}=Ps(),[e,n]=z.useState([]),{exhibition_location:r,exhibition_title:i,exhibition_poster:s,exhibition_id:l,reservation_total_price:d,reservation_number_of_tickets:h,reservation_datetime:m}=e,C=[{label:"",value:e?i:""},{label:"",value:e?r:""},{label:"",value:(E=>{if(E)return E.split(" ")[0]})(m)},{label:"",value:`${h}`},{label:"",value:`${d}`}];return z.useEffect(()=>{(async()=>{try{const A=await wn.get("/api/users/me/exhibitions");n(A.data.find(T=>T.id===t))}catch(A){console.error(A)}})()},[]),w.jsxs("div",{className:cs.layout,children:[w.jsx("h1",{className:cs.title,children:"  "}),w.jsx("img",{className:cs.posterImage,src:s,alt:"  "}),w.jsx("div",{className:cs.completionIcon,children:w.jsx(I2,{})}),w.jsx("div",{className:cs.completionTitle,children:"   "}),w.jsx("div",{className:cs.reservationSummary,children:C.map(E=>w.jsxs("div",{className:cs.summaryRow,children:[w.jsx("span",{className:cs.summaryLabel,children:E.label}),w.jsx("span",{className:cs.summaryValue,children:E.value})]},E.label))}),w.jsxs("div",{className:cs.buttonField,children:[w.jsx(xn,{className:cs.mypageLink,to:"/mypage",children:""}),w.jsx(xn,{className:cs.exhibitionLink,to:`/exhibitions/${l}`,children:" "})]})]})}const Iz="_container_12nm0_1",kz="_header_12nm0_15",Dz="_title_12nm0_33",Bz="_loading_12nm0_45",Lz="_error_12nm0_47",jz="_empty_12nm0_49",Pz="_exhibitionInfo_12nm0_69",zz="_calendarContainer_12nm0_113",Fz="_calendarHeader_12nm0_121",Uz="_monthNavigator_12nm0_135",Hz="_currentMonth_12nm0_145",Vz="_monthButton_12nm0_157",$z="_weekdaysRow_12nm0_189",Gz="_weekdayCell_12nm0_201",qz="_weekend_12nm0_215",Wz="_calendarGrid_12nm0_223",Xz="_dateCell_12nm0_235",Yz="_disabled_12nm0_249",Kz="_selected_12nm0_261",Zz="_today_12nm0_271",Qz="_visitorCount_12nm0_279",Jz="_countLabel_12nm0_293",eF="_countControls_12nm0_303",tF="_countButton_12nm0_313",nF="_countDisplay_12nm0_347",rF="_reservationInfo_12nm0_361",iF="_infoRow_12nm0_373",sF="_infoLabel_12nm0_393",aF="_infoValue_12nm0_403",oF="_buttonsContainer_12nm0_413",lF="_actionButton_12nm0_427",cF="_backButton_12nm0_459",uF="_reservationForm_12nm0_491",dF="_formTitle_12nm0_499",fF="_formGroup_12nm0_511",hF="_formLabel_12nm0_519",pF="_formInput_12nm0_533",mF="_reservationSummary_12nm0_559",gF="_summaryImage_12nm0_587",xF="_summaryTitle_12nm0_597",yF="_summaryRow_12nm0_607",bF="_summaryLabel_12nm0_625",vF="_summaryValue_12nm0_641",wF="_completionScreen_12nm0_661",CF="_completionIcon_12nm0_671",_F="_completionTitle_12nm0_697",SF="_completionMessage_12nm0_709",Ze={container:Iz,header:kz,title:Dz,loading:Bz,error:Lz,empty:jz,exhibitionInfo:Pz,calendarContainer:zz,calendarHeader:Fz,monthNavigator:Uz,currentMonth:Hz,monthButton:Vz,weekdaysRow:$z,weekdayCell:Gz,weekend:qz,calendarGrid:Wz,dateCell:Xz,disabled:Yz,selected:Kz,today:Zz,visitorCount:Qz,countLabel:Jz,countControls:eF,countButton:tF,countDisplay:nF,reservationInfo:rF,infoRow:iF,infoLabel:sF,infoValue:aF,buttonsContainer:oF,actionButton:lF,backButton:cF,reservationForm:uF,formTitle:dF,formGroup:fF,formLabel:hF,formInput:pF,reservationSummary:mF,summaryImage:gF,summaryTitle:xF,summaryRow:yF,summaryLabel:bF,summaryValue:vF,completionScreen:wF,completionIcon:CF,completionTitle:_F,completionMessage:SF};function EF(){const{exhibitionId:t}=Ps(),e=Yt(),[n,r]=z.useState(null),[i,s]=z.useState(!0),[l,d]=z.useState(null),[h,m]=z.useState(1),[b,C]=z.useState(""),[E,A]=z.useState(1),[T,R]=z.useState({name:"",phone:"",email:"",date:"",gallery:"",state:""}),I=new Date,[D,F]=z.useState(I.getMonth()),[P,q]=z.useState(I.getFullYear());z.useEffect(()=>{t&&(async()=>{try{const ae=await Wt.get(`/api/exhibitions/${t}`);r(ae.data)}catch{d("     .")}finally{s(!1)}})()},[t]),z.useEffect(()=>{n&&R(Y=>({...Y,gallery:n.exhibition_location}))},[n]);const $=()=>{const Y=new Date(P,D+1,0).getDate(),ae=new Date(P,D,1).getDay(),de=[];return Array.from({length:ae}).forEach(()=>{de.push({day:"",disabled:!0})}),Array.from({length:Y}).forEach((ze,K)=>{const be=K+1,Oe=new Date(P,D,be),Re=Oe.toDateString()===new Date().toDateString(),He=Oe<new Date(new Date().setHours(0,0,0,0));de.push({day:be,date:Oe,disabled:He,isToday:Re})}),de},V=()=>{F(Y=>Y===11?0:Y+1),D===11&&q(Y=>Y+1)},G=()=>{F(Y=>Y===0?11:Y-1),D===0&&q(Y=>Y-1)},Q=Y=>{if(Y.disabled)return;const ae=`${P}.${String(D+1).padStart(2,"0")}.${String(Y.day).padStart(2,"0")}`;C(ae),R(de=>({...de,date:ae}))},Z=Y=>{const ae=E+Y;ae>=1&&ae<=10&&A(ae)},Ce=Y=>{const{name:ae,value:de}=Y.target;R(ze=>({...ze,[ae]:de}))},we=async()=>{if(h===1&&!b){alert(" .");return}if(h===2&&(!T.name||!T.phone||!T.email)){alert("   .");return}if(h===2)try{const Y=await Wt.post("/api/reservations",{exhibition_id:Number(t),number_of_tickets:E,reservation_datetime:b,visitor_name:T.name,visitor_phone:T.phone,visitor_email:T.email,payment_method:"",total_price:0});console.log(" :",Y.data)}catch(Y){console.error(" :",Y),alert("    .");return}m(h+1)},me=()=>{m(h-1)},Pe=()=>{localStorage.setItem("fromReservationModal","true"),e("/mypage")};if(i)return w.jsx("div",{className:Ze.loading,children:" ..."});if(l)return w.jsx("div",{className:Ze.error,children:l});if(!n)return w.jsx("div",{className:Ze.empty,children:"    ."});const De=["","","","","","",""],ee=[{label:"",value:n?n.exhibition_title:""},{label:"",value:b},{label:"",value:`${E}`},{label:"",value:n?n.exhibition_location:""},{label:"",value:T.name},{label:"",value:T.phone},{label:"",value:T.email}];return console.log(n.exhibition_poster),w.jsxs("div",{className:Ze.container,children:[w.jsx("div",{className:Ze.header,children:w.jsx("h2",{className:Ze.title,children:""})}),h===1&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:Ze.exhibitionInfo,children:[w.jsx("strong",{children:n.exhibition_title}),w.jsx("p",{children:n.exhibition_organization})]}),w.jsxs("div",{className:Ze.calendarContainer,children:[w.jsx("div",{className:Ze.calendarHeader,children:w.jsxs("div",{className:Ze.monthNavigator,children:[w.jsx("button",{className:Ze.monthButton,onClick:G,children:"<"}),w.jsx("span",{className:Ze.currentMonth,children:`${P}.${String(D+1).padStart(2,"0")}`}),w.jsx("button",{className:Ze.monthButton,onClick:V,children:">"})]})}),w.jsx("div",{className:Ze.weekdaysRow,children:De.map((Y,ae)=>w.jsx("div",{className:`${Ze.weekdayCell} ${ae===0||ae===6?Ze.weekend:""}`,children:Y},Y))}),w.jsx("div",{className:Ze.calendarGrid,children:$().map((Y,ae)=>{const de=Y.day?`${P}-${D}-${Y.day}`:`empty-${ae}`;return w.jsx("div",{className:`${Ze.dateCell} ${Y.disabled?Ze.disabled:""} ${Y.isToday?Ze.today:""} ${b&&Y.day&&b===`${P}.${String(D+1).padStart(2,"0")}.${String(Y.day).padStart(2,"0")}`?Ze.selected:""}`,onClick:()=>Q(Y),children:Y.day},de)})})]}),w.jsxs("div",{className:Ze.visitorCount,children:[w.jsx("span",{className:Ze.countLabel,children:""}),w.jsxs("div",{className:Ze.countControls,children:[w.jsx("button",{className:Ze.countButton,onClick:()=>Z(-1),children:"-"}),w.jsxs("span",{className:Ze.countDisplay,children:[E,""]}),w.jsx("button",{className:Ze.countButton,onClick:()=>Z(1),children:"+"})]})]}),w.jsxs("div",{className:Ze.reservationInfo,children:[w.jsxs("div",{className:Ze.infoRow,children:[w.jsx("span",{className:Ze.infoLabel,children:""}),w.jsx("span",{className:Ze.infoValue,children:b||""})]}),w.jsxs("div",{className:Ze.infoRow,children:[w.jsx("span",{className:Ze.infoLabel,children:""}),w.jsxs("span",{className:Ze.infoLabel,children:[E,""]})]}),w.jsxs("div",{className:Ze.infoRow,children:[w.jsx("span",{className:Ze.infoLabel,children:""}),w.jsx("span",{className:Ze.infoValue,children:n.exhibition_location})]})]})]}),h===2&&w.jsxs("div",{className:Ze.reservationForm,children:[w.jsx("h3",{className:Ze.formTitle,children:"  "}),["name","phone","email"].map(Y=>w.jsxs("div",{className:Ze.formGroup,children:[w.jsx("label",{className:Ze.formLabel,children:Y==="name"?"":Y==="phone"?"":""}),w.jsx("input",{className:Ze.formInput,type:Y==="email"?"email":Y==="phone"?"tel":"text",name:Y,value:T[Y],onChange:Ce,placeholder:Y==="name"?" ":Y==="phone"?"010-0000-0000":"example@email.com"})]},Y)),w.jsxs("div",{className:Ze.reservationSummary,children:[w.jsx("div",{className:Ze.summaryTitle,children:"  "}),[{label:"",value:n?n.exhibition_title:" "},{label:"",value:b},{label:"",value:`${E}`},{label:"",value:n?n.exhibition_location:" "}].map(Y=>w.jsxs("div",{className:Ze.summaryRow,children:[w.jsx("span",{className:Ze.summaryLabel,children:Y.label}),w.jsx("span",{className:Ze.summaryValue,children:Y.value})]},Y.label))]})]}),h===3&&w.jsxs("div",{className:Ze.completionScreen,children:[w.jsx("div",{className:Ze.completionIcon,children:w.jsx(I2,{})}),w.jsx("div",{className:Ze.completionTitle,children:"   "}),w.jsxs("div",{className:Ze.completionMessage,children:[T.name,"   ."]}),w.jsxs("div",{className:Ze.reservationSummary,children:[w.jsx("img",{className:Ze.summaryImage,src:n.exhibition_poster}),ee.map(Y=>w.jsx("div",{className:Ze.summaryRow,children:Y.label===""?w.jsx("h2",{className:Ze.summaryTitle,children:Y.value}):w.jsxs(w.Fragment,{children:[w.jsx("span",{className:Ze.summaryLabel,children:Y.label}),w.jsx("span",{className:Ze.summaryValue,children:Y.value})]})},Y.label))]})]}),w.jsx("div",{className:Ze.buttonsContainer,children:h===1?w.jsx("button",{className:Ze.actionButton,onClick:we,children:""}):h===2?w.jsxs(w.Fragment,{children:[w.jsx("button",{className:Ze.backButton,onClick:me,children:""}),w.jsx("button",{className:Ze.actionButton,onClick:we,children:""})]}):w.jsxs(w.Fragment,{children:[w.jsx("button",{className:Ze.backButton,onClick:()=>e("/exhibitions"),children:""}),w.jsx("button",{className:Ze.actionButton,onClick:Pe,children:" "})]})})]})}const AF="_actionContainer_11fko_3",TF="_actionButton_11fko_21",NF="_actionButtonActive_11fko_133",OF="_actionButtonInactive_11fko_143",n1={actionContainer:AF,actionButton:TF,actionButtonActive:NF,actionButtonInactive:OF};function MF({tabList:t,activeTab:e,onTabChange:n}){return w.jsx("nav",{className:n1.actionContainer,children:t.map(r=>w.jsx("button",{onClick:()=>n(r),className:`${n1.actionButton} ${e===r?n1.actionButtonActive:n1.actionButtonInactive}`,children:r},r))})}function RF(t){return ar({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function j2(t){return ar({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function IF(t){return ar({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function kF(t="",e=""){const[n,r]=z.useState(!1),[i,s]=z.useState(t||e),l=z.useRef(null);return z.useEffect(()=>{const C=E=>{l.current&&!l.current.contains(E.target)&&r(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]),{isOpen:n,selectedValue:i,dropdownRef:l,handleOptionClick:(C,E)=>{s(C.name),E(C.value),r(!1)},toggleDropdown:()=>{r(!n)},closeDropdown:()=>{r(!1)},openDropdown:()=>{r(!0)},setSelectedValue:s}}const DF="_dropdownWrapper_1dzyt_3",BF="_inputContainer_1dzyt_13",LF="_dropdownTrigger_1dzyt_37",jF="_dropdownList_1dzyt_51",PF="_dropdownItem_1dzyt_81",zF="_dropdownItemActive_1dzyt_121",FF="_inputField_1dzyt_161",UF="_chevron_1dzyt_223",HF="_chevronOpen_1dzyt_275",Ms={dropdownWrapper:DF,inputContainer:BF,dropdownTrigger:LF,dropdownList:jF,dropdownItem:PF,dropdownItemActive:zF,inputField:FF,chevron:UF,chevronOpen:HF};function ol({value:t,onChange:e,placeholder:n=" ",isInput:r=!1,options:i=[],title:s=" "}){var C;const{isOpen:l,dropdownRef:d,handleOptionClick:h,toggleDropdown:m}=kF(t,n),b=((C=i.find(E=>E.value===t))==null?void 0:C.name)||t||n;return r?w.jsx("div",{className:Ms.inputContainer,children:w.jsx("input",{type:"text",value:t,onChange:E=>e(E.target.value),placeholder:n,className:Ms.inputField})}):w.jsx("div",{className:Ms.dropdownWrapper,children:w.jsxs("div",{className:Ms.inputContainer,ref:d,children:[w.jsxs("div",{className:Ms.dropdownTrigger,onClick:m,children:[w.jsx("span",{className:Ms.inputField,children:b}),w.jsx(RF,{className:`${Ms.chevron} ${l?Ms.chevronOpen:""}`})]}),l&&w.jsx("div",{className:Ms.dropdownList,children:i.map(E=>w.jsx("div",{className:`${Ms.dropdownItem} ${t===E.value?Ms.dropdownItemActive:""}`,onClick:()=>h(E,e),children:E.name},E.id))})]})})}const VF="_countText_1ceqk_3",$F={countText:VF};function ll({count:t}){return w.jsxs("span",{className:$F.countText,children:[" ",t,""]})}const GF="_registerButton_1esip_3",qF={registerButton:GF};function cl({buttonText:t,onButtonClick:e}){return w.jsx("button",{onClick:e,className:qF.registerButton,children:t})}const WF="_container_1oiix_3",XF="_message_1oiix_33",YF="_buttonText_1oiix_57",KF="_instruction_1oiix_67",jd={container:WF,message:XF,buttonText:YF,instruction:KF};function Vp({message:t,buttonText:e}){return w.jsxs("div",{className:jd.container,children:[w.jsx("p",{className:jd.message,children:t}),w.jsx("p",{className:jd.buttonText,children:e}),w.jsx("p",{className:jd.instruction,children:" "}),w.jsx("p",{className:jd.instruction,children:"  ."})]})}const ZF="_spinnerContainer_1uyaq_3",QF="_spinner_1uyaq_3",YC={spinnerContainer:ZF,spinner:QF};function $p(){return w.jsx("div",{className:YC.spinnerContainer,children:w.jsx("div",{className:YC.spinner})})}function _E({onSearch:t,onEmptySearch:e,onSearchValueChange:n,onClearSearch:r,minLength:i=2,delay:s=500}){const[l,d]=z.useState(""),h=z.useRef(null),m=C=>{if(d(C),n&&n(C),h.current&&clearTimeout(h.current),!C.trim()){e&&e();return}C.trim().length<i||(h.current=setTimeout(()=>{t(C)},s))},b=()=>{m(""),r&&r()};return z.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]),{searchValue:l,handleSearchChange:m,clearSearch:b}}const JF="_contentContainer_p7mia_3",eU="_emptyStateContainer_p7mia_15",tU="_searchContainer_p7mia_23",nU="_galleryCard_p7mia_31",rU="_cardContent_p7mia_39",iU="_cardInfo_p7mia_49",sU="_cardHeader_p7mia_61",aU="_cardFooter_p7mia_73",oU="_countAndButtonContainer_p7mia_119",lU="_errorMessage_p7mia_135",cU="_galleryImage_p7mia_159",uU="_deleteButton_p7mia_181",dU="_galleryAddress_p7mia_191",fU="_galleryTitle_p7mia_257",hU="_galleryClosedDay_p7mia_293",pU="_galleryTime_p7mia_303",mU="_separator_p7mia_323",rr={contentContainer:JF,emptyStateContainer:eU,searchContainer:tU,galleryCard:nU,cardContent:rU,cardInfo:iU,cardHeader:sU,cardFooter:aU,countAndButtonContainer:oU,errorMessage:lU,galleryImage:cU,deleteButton:uU,galleryAddress:dU,galleryTitle:fU,galleryClosedDay:hU,galleryTime:pU,separator:mU};function gU({galleryList:t,onDelete:e,loadGalleries:n,isLoading:r,isSearching:i,error:s}){const l=Yt(),{searchValue:d,handleSearchChange:h}=_E({onSearch:n,onEmptySearch:()=>n(""),minLength:2,delay:500}),m=Array.isArray(t)?t:[],b=C=>{window.confirm("   ?")&&e(C,"gallery")};return r?w.jsx("div",{className:rr.contentContainer,children:w.jsx($p,{})}):s?w.jsx("div",{className:rr.contentContainer,children:w.jsxs("div",{className:rr.errorMessage,children:[" : ",s]})}):m.length>0?w.jsxs("div",{className:rr.contentContainer,children:[w.jsx(ol,{value:d,onChange:h,placeholder:" ",isInput:!0}),w.jsxs("div",{className:rr.countAndButtonContainer,children:[w.jsx(ll,{count:m.length}),w.jsx(cl,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),w.jsx("section",{className:rr.contentContainer,children:m.map(C=>w.jsxs("div",{className:rr.galleryCard,onClick:()=>l(`/console/galleries/${C.id}`),children:[w.jsxs("div",{className:rr.cardContent,children:[w.jsx("img",{src:C.image,alt:C.name,className:rr.galleryImage}),w.jsxs("div",{className:rr.cardInfo,children:[w.jsxs("div",{className:rr.cardHeader,children:[w.jsx("h3",{className:rr.galleryTitle,children:C.name}),w.jsx("button",{onClick:()=>b(C.id),className:rr.deleteButton,children:w.jsx(j2,{size:18})})]}),w.jsx("p",{className:rr.galleryAddress,children:C.address}),w.jsxs("p",{className:rr.galleryClosedDay,children:[" | ",C.closedDay]}),w.jsx("p",{className:rr.galleryTime,children:C.time})]})]}),w.jsxs("div",{className:rr.cardFooter,children:[w.jsxs("span",{children:["  ",C.registered,""]}),w.jsx("span",{className:rr.separator,children:"|"}),w.jsxs("span",{children:[" ",C.liked,""]})]})]},C.id))})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:rr.searchContainer,children:w.jsx(ol,{value:d,onChange:h,placeholder:" ",isInput:!0})}),w.jsxs("div",{className:rr.countAndButtonContainer,children:[w.jsx(ll,{count:0}),w.jsx(cl,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),w.jsx("section",{className:rr.emptyStateContainer,children:w.jsx(Vp,{message:"  .",buttonText:"+ "})})]})}const xU="_contentContainer_saw3c_3",yU="_emptyStateContainer_saw3c_15",bU="_searchContainer_saw3c_23",vU="_galleryCard_saw3c_31",wU="_cardContent_saw3c_39",CU="_cardInfo_saw3c_49",_U="_cardHeader_saw3c_61",SU="_galleryImage_saw3c_121",EU="_deleteButton_saw3c_143",AU="_galleryAddress_saw3c_153",TU="_galleryFloor_saw3c_161",NU="_galleryTitle_saw3c_197",OU="_countAndButtonContainer_saw3c_339",MU="_errorMessage_saw3c_365",Or={contentContainer:xU,emptyStateContainer:yU,searchContainer:bU,galleryCard:vU,cardContent:wU,cardInfo:CU,cardHeader:_U,galleryImage:SU,deleteButton:EU,galleryAddress:AU,galleryFloor:TU,galleryTitle:NU,countAndButtonContainer:OU,errorMessage:MU};function RU({exhibitionList:t,selectedGallery:e,onGalleryChange:n,onDelete:r,loadExhibitions:i,isLoading:s,error:l,galleryList:d}){const h=Yt(),m=T=>{window.confirm("   ?")&&r(T,"exhibition")},b=z.useCallback(T=>{if(T===" ")return" ";const R=d.find(I=>I.name===T);return R?R.id:" "},[d]);z.useEffect(()=>{if(d.length>0&&e){const T=b(e);i(T)}else d.length>0&&i(" ")},[e,d]);const C=z.useMemo(()=>b(e),[e,d,b]),E=t.filter(T=>e===" "?!0:T.gallery_id&&C?String(T.gallery_id)===String(C):T.gallery_name===e),A=z.useMemo(()=>{const T=[{id:"all",name:" ",value:" "}],R=new Set(t.map(D=>D.gallery_id).filter(Boolean)),I=new Set(t.map(D=>D.gallery_name).filter(Boolean));return d.forEach(D=>{(R.has(D.id)||I.has(D.name))&&T.push({id:D.id,name:D.name,value:D.name})}),T},[d,t]);return s?w.jsx("div",{className:Or.contentContainer,children:w.jsx($p,{})}):l?w.jsx("div",{className:Or.contentContainer,children:w.jsxs("div",{className:Or.errorMessage,children:[" : ",l]})}):E.length>0?w.jsxs("section",{className:Or.contentContainer,children:[w.jsx(ol,{value:e,onChange:n,options:A}),w.jsxs("div",{className:Or.countAndButtonContainer,children:[w.jsx(ll,{count:E.length}),w.jsx(cl,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),w.jsx("section",{className:Or.contentContainer,children:E.map(T=>w.jsx("div",{className:Or.galleryCard,onClick:()=>h(`/console/exhibitions/${T.id}`),children:w.jsxs("div",{className:Or.cardContent,children:[w.jsx("img",{src:T.image,alt:T.title,className:Or.galleryImage}),w.jsxs("div",{className:Or.cardInfo,children:[w.jsxs("div",{className:Or.cardHeader,children:[w.jsx("h3",{className:Or.galleryTitle,children:T.title}),w.jsx("button",{onClick:()=>m(T.id),className:Or.deleteButton,children:w.jsx(j2,{size:18})})]}),w.jsx("p",{className:Or.galleryAddress,children:T.period}),w.jsx("p",{className:Or.galleryFloor,children:T.gallery_name})]})]})},T.id))})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:Or.searchContainer,children:w.jsx(ol,{value:e,onChange:n,options:A})}),w.jsxs("div",{className:Or.countAndButtonContainer,children:[w.jsx(ll,{count:0}),w.jsx(cl,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),w.jsx("section",{className:Or.emptyStateContainer,children:w.jsx(Vp,{message:"  .",buttonText:"+ "})})]})}const IU="_contentContainer_1tvi0_3",kU="_emptyStateContainer_1tvi0_15",DU="_searchContainer_1tvi0_23",BU="_artworkCard_1tvi0_31",LU="_artworkContent_1tvi0_39",jU="_artworkInfo_1tvi0_51",PU="_artworkImage_1tvi0_111",zU="_deleteButton_1tvi0_123",FU="_artworkTitle_1tvi0_161",UU="_artworkArtist_1tvi0_171",HU="_countAndButtonContainer_1tvi0_283",VU="_errorMessage_1tvi0_325",Qr={contentContainer:IU,emptyStateContainer:kU,searchContainer:DU,artworkCard:BU,artworkContent:LU,artworkInfo:jU,artworkImage:PU,deleteButton:zU,artworkTitle:FU,artworkArtist:UU,countAndButtonContainer:HU,errorMessage:VU};function $U({artworkList:t,selectedGallery:e,onGalleryChange:n,onDelete:r,loadArtworks:i,isLoading:s,error:l,galleryList:d}){const h=Yt(),m=T=>{window.confirm("   ?")&&r(T,"artwork")},b=z.useCallback(T=>{if(T===" ")return" ";const R=d.find(I=>I.name===T);return R?R.id:" "},[d]);z.useEffect(()=>{if(d.length>0&&e){const T=b(e);i(T)}else d.length>0&&i(" ")},[e,d]);const C=z.useMemo(()=>b(e),[e,d,b]),E=t.filter(T=>e===" "?!0:T.gallery_id&&C?String(T.gallery_id)===String(C):T.gallery_name===e),A=z.useMemo(()=>{const T=[{id:"all",name:" ",value:" "}],R=new Set(t.map(D=>D.gallery_id).filter(Boolean)),I=new Set(t.map(D=>D.gallery_name).filter(Boolean));return d.forEach(D=>{(R.has(D.id)||I.has(D.name))&&T.push({id:D.id,name:D.name,value:D.name})}),T},[d,t]);return s?w.jsx("div",{className:Qr.contentContainer,children:w.jsx($p,{})}):l?w.jsx("div",{className:Qr.contentContainer,children:w.jsxs("div",{className:Qr.errorMessage,children:[" : ",l]})}):E.length>0?w.jsxs("section",{className:Qr.contentContainer,children:[w.jsx(ol,{value:e,onChange:n,options:A}),w.jsxs("div",{className:Qr.countAndButtonContainer,children:[w.jsx(ll,{count:E.length}),w.jsx(cl,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),w.jsx("section",{className:Qr.contentContainer,children:E.map(T=>w.jsx("div",{className:Qr.artworkCard,onClick:()=>h(`/console/artworks/${T.id}`),children:w.jsxs("div",{className:Qr.artworkContent,children:[w.jsx("img",{src:T.image,alt:T.title,className:Qr.artworkImage}),w.jsxs("div",{className:Qr.artworkInfo,children:[w.jsxs("div",{children:[w.jsx("h3",{className:Qr.artworkTitle,children:T.title}),w.jsx("p",{className:Qr.artworkArtist,children:T.artist})]}),w.jsx("button",{onClick:()=>m(T.id),className:Qr.deleteButton,children:w.jsx(j2,{size:18})})]})]})},T.id))})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:Qr.searchContainer,children:w.jsx(ol,{value:e,onChange:n,options:A})}),w.jsxs("div",{className:Qr.countAndButtonContainer,children:[w.jsx(ll,{count:0}),w.jsx(cl,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),w.jsx("section",{className:Qr.emptyStateContainer,children:w.jsx(Vp,{message:"  .",buttonText:"+ "})})]})}const GU="_overlay_1vrfn_3",qU="_modal_1vrfn_15",WU="_header_1vrfn_23",XU="_countBadge_1vrfn_35",YU="_label_1vrfn_43",KU="_buttonContainer_1vrfn_51",ZU="_closeButton_1vrfn_113",QU="_headerSpacer_1vrfn_121",JU="_formGroup_1vrfn_137",eH="_input_1vrfn_153",tH="_textarea_1vrfn_177",nH="_sendButton_1vrfn_205",rH="_title_1vrfn_285",di={overlay:GU,modal:qU,header:WU,countBadge:XU,label:YU,buttonContainer:KU,closeButton:ZU,headerSpacer:QU,formGroup:JU,input:eH,textarea:tH,sendButton:nH,title:rH};function KC({isOpen:t,onClose:e,selectedUsersCount:n,onSendAlarm:r}){const[i,s]=z.useState(""),[l,d]=z.useState(""),h=()=>{s(""),d(""),e()};if(!t)return null;const m=()=>{if(!i.trim()){alert(" .");return}if(!l.trim()){alert("  .");return}if(n===0){alert("  .  .");return}window.confirm("     ?  ,   .")&&(r(),s(""),d(""))};return w.jsx("div",{className:di.overlay,children:w.jsxs("div",{className:di.modal,children:[w.jsxs("header",{className:di.header,children:[w.jsx("button",{onClick:h,className:di.closeButton,children:w.jsx(IF,{size:24})}),w.jsx("h2",{className:di.title,children:" "}),w.jsx("div",{className:di.headerSpacer})]}),w.jsx("div",{className:di.countBadge,children:w.jsxs("span",{children:["  :  ",n,""]})}),w.jsxs("div",{className:di.formGroup,children:[w.jsx("label",{className:di.label,children:""}),w.jsx("input",{type:"text",className:di.input,placeholder:" ",value:i,onChange:b=>s(b.target.value)})]}),w.jsxs("div",{className:di.formGroup,children:[w.jsx("label",{className:di.label,children:" ( 80)"}),w.jsx("textarea",{className:di.textarea,placeholder:"  ",maxLength:80,value:l,onChange:b=>d(b.target.value)})]}),w.jsx("div",{className:di.buttonContainer,children:w.jsx("button",{onClick:m,className:di.sendButton,children:""})})]})})}const iH="_tableContainer_4szxc_3",sH="_tableFilters_4szxc_19",aH="_table_4szxc_3",oH="_tableHeader_4szxc_55",lH="_tableRow_4szxc_63",cH="_tableCell_4szxc_71",uH="_filterButton_4szxc_121",dH="_tableHeaderCell_4szxc_159",fH="_tableHeaderCellCheckbox_4szxc_171",hH="_filterButtonActive_4szxc_249",pH="_tableCellGray_4szxc_319",Un={tableContainer:iH,tableFilters:sH,table:aH,tableHeader:oH,tableRow:lH,tableCell:cH,filterButton:uH,tableHeaderCell:dH,tableHeaderCellCheckbox:fH,filterButtonActive:hH,tableCellGray:pH};function mH({interestedUserList:t,selectedUserList:e,onUserSelect:n,onSelectAll:r,isAllSelected:i,activeTab:s,onTabChange:l}){const d=m=>{l(m)},h=()=>{r(t)};return w.jsxs("div",{className:Un.tableContainer,children:[w.jsxs("div",{className:Un.tableFilters,children:[w.jsx("button",{className:`${Un.filterButton} ${s==="all"?Un.filterButtonActive:""}`,onClick:()=>d("all"),children:""}),w.jsx("button",{className:`${Un.filterButton} ${s==="gallery"?Un.filterButtonActive:""}`,onClick:()=>d("gallery"),children:""}),w.jsx("button",{className:`${Un.filterButton} ${s==="exhibition"?Un.filterButtonActive:""}`,onClick:()=>d("exhibition"),children:""}),w.jsx("button",{className:`${Un.filterButton} ${s==="art"?Un.filterButtonActive:""}`,onClick:()=>d("art"),children:""})]}),w.jsxs("table",{className:Un.table,children:[w.jsx("thead",{className:Un.tableHeader,children:w.jsxs("tr",{children:[w.jsx("th",{className:`${Un.tableHeaderCell} ${Un.tableHeaderCellCheckbox}`,children:w.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:i(t),onChange:h})}),w.jsx("th",{className:Un.tableHeaderCell,children:""}),w.jsx("th",{className:Un.tableHeaderCell,children:""}),w.jsx("th",{className:Un.tableHeaderCell,children:""})]})}),w.jsx("tbody",{children:t.map(m=>w.jsxs("tr",{className:Un.tableRow,children:[w.jsx("td",{className:Un.tableCell,children:w.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:e.includes(m.id),onChange:()=>n(m.id)})}),w.jsx("td",{className:Un.tableCell,children:m.category}),w.jsx("td",{className:Un.tableCell,children:m.name}),w.jsx("td",{className:`${Un.tableCell} ${Un.tableCellGray}`,children:m.date})]},m.id))})]})]})}function gH(){const[t,e]=z.useState([]);return{selectedUserList:t,handleUserSelect:l=>{e(d=>d.includes(l)?d.filter(h=>h!==l):[...d,l])},handleSelectAll:l=>{if(l.length>0&&l.every(h=>t.includes(h.id))){const h=t.filter(m=>!l.some(b=>b.id===m));e(h)}else{const m=l.filter(b=>!t.includes(b.id)).map(b=>b.id);e(b=>[...b,...m])}},clearSelection:()=>{e([])},isAllSelected:l=>l.length>0&&l.every(d=>t.includes(d.id))}}function xH(){const[t,e]=z.useState([]),[n,r]=z.useState(!1),[i,s]=z.useState(!1),[l,d]=z.useState(null),[h,m]=z.useState("all"),b=async(I="gallery",D="")=>{var F,P;try{r(!0);const q=localStorage.getItem("ACCESS_TOKEN"),$=await Wt.get(`/api/users/console/likes?liked_type=${I}${D?`&search=${D}`:""}`,{headers:{Authorization:`Bearer ${q}`}});console.log(" API :",$.data);const V=Array.isArray($.data)?$.data.map(G=>{var Q,Z,Ce,we,me,Pe,De,ee;return{id:G.id,name:((Q=G.user)==null?void 0:Q.user_name)||"  ",category:((Z=G.gallery)==null?void 0:Z.gallery_name)||((Ce=G.exhibition)==null?void 0:Ce.exhibition_title)||((we=G.art)==null?void 0:we.art_title)||" ",date:G.create_dtm?new Date(G.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((me=G.user)==null?void 0:me.user_name)||"  ",galleryName:((Pe=G.gallery)==null?void 0:Pe.gallery_name)||"  ",exhibitionName:((De=G.exhibition)==null?void 0:De.exhibition_title)||"  ",artworkName:((ee=G.art)==null?void 0:ee.art_title)||"  ",type:I}}):[];console.log("  :",V),e(V)}catch(q){d(q.message),console.error("   :",q),console.error(" :",(F=q.response)==null?void 0:F.data),console.error(" :",(P=q.response)==null?void 0:P.status),e([])}finally{r(!1)}};[...t].sort((I,D)=>{const F=new Date(I.date.replace(/\./g,"-"));return new Date(D.date.replace(/\./g,"-"))-F});const C=async I=>{if(m(I),I==="all")try{r(!0);const[D,F,P]=await Promise.all([Wt.get("/api/users/console/likes?liked_type=gallery"),Wt.get("/api/users/console/likes?liked_type=exhibition"),Wt.get("/api/users/console/likes?liked_type=art")]),q=[...Array.isArray(D.data)?D.data.map($=>{var V,G,Q,Z;return{id:$.id,name:((V=$.user)==null?void 0:V.user_name)||"  ",category:((G=$.gallery)==null?void 0:G.gallery_name)||" ",date:$.create_dtm?new Date($.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Q=$.user)==null?void 0:Q.user_name)||"  ",galleryName:((Z=$.gallery)==null?void 0:Z.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}):[],...Array.isArray(F.data)?F.data.map($=>{var V,G,Q,Z;return{id:$.id,name:((V=$.user)==null?void 0:V.user_name)||"  ",category:((G=$.exhibition)==null?void 0:G.exhibition_title)||" ",date:$.create_dtm?new Date($.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Q=$.user)==null?void 0:Q.user_name)||"  ",galleryName:"  ",exhibitionName:((Z=$.exhibition)==null?void 0:Z.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}):[],...Array.isArray(P.data)?P.data.map($=>{var V,G,Q,Z;return{id:$.id,name:((V=$.user)==null?void 0:V.user_name)||"  ",category:((G=$.art)==null?void 0:G.art_title)||" ",date:$.create_dtm?new Date($.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Q=$.user)==null?void 0:Q.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((Z=$.art)==null?void 0:Z.art_title)||"  ",type:"art"}}):[]];e(q)}catch(D){d(D.message),console.error("    :",D),e([])}finally{r(!1)}else await b(I)},E=async I=>{if(s(!0),h==="all")try{r(!0);const[D,F,P]=await Promise.all([Wt.get(`/api/users/console/likes?liked_type=gallery&search=${I}`),Wt.get(`/api/users/console/likes?liked_type=exhibition&search=${I}`),Wt.get(`/api/users/console/likes?liked_type=art&search=${I}`)]),q=[...Array.isArray(D.data)?D.data.map($=>{var V,G,Q,Z;return{id:$.id,name:((V=$.user)==null?void 0:V.user_name)||"  ",category:((G=$.gallery)==null?void 0:G.gallery_name)||" ",date:$.create_dtm?new Date($.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Q=$.user)==null?void 0:Q.user_name)||"  ",galleryName:((Z=$.gallery)==null?void 0:Z.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}):[],...Array.isArray(F.data)?F.data.map($=>{var V,G,Q,Z;return{id:$.id,name:((V=$.user)==null?void 0:V.user_name)||"  ",category:((G=$.exhibition)==null?void 0:G.exhibition_title)||" ",date:$.create_dtm?new Date($.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Q=$.user)==null?void 0:Q.user_name)||"  ",galleryName:"  ",exhibitionName:((Z=$.exhibition)==null?void 0:Z.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}):[],...Array.isArray(P.data)?P.data.map($=>{var V,G,Q,Z;return{id:$.id,name:((V=$.user)==null?void 0:V.user_name)||"  ",category:((G=$.art)==null?void 0:G.art_title)||" ",date:$.create_dtm?new Date($.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Q=$.user)==null?void 0:Q.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((Z=$.art)==null?void 0:Z.art_title)||"  ",type:"art"}}):[]];e(q)}catch(D){d(D.message),console.error(" :",D),e([])}finally{r(!1),s(!1)}else try{r(!0),await b(h,I)}finally{s(!1)}},{searchValue:A,handleSearchChange:T,clearSearch:R}=_E({onSearch:E,onEmptySearch:()=>C(h),onClearSearch:async()=>{h==="all"?await C("all"):await b(h,"")},minLength:2,delay:500});return z.useEffect(()=>{C("all")},[]),{interestedUserList:t,setInterestedUserList:e,searchQuery:A,isLoading:n,isSearching:i,error:l,activeTab:h,loadInterestedUsers:b,handleSearchChange:T,clearSearch:R,handleTabChange:C}}const yH="_contentContainer_1mn9m_3",bH="_emptyStateContainer_1mn9m_29",vH="_searchContainer_1mn9m_63",wH="_countAndButtonContainer_1mn9m_73",CH="_errorMessage_1mn9m_113",Fo={contentContainer:yH,emptyStateContainer:bH,searchContainer:vH,countAndButtonContainer:wH,errorMessage:CH};function _H(){const[t,e]=z.useState(!1),{selectedUserList:n,handleUserSelect:r,handleSelectAll:i,clearSelection:s,isAllSelected:l}=gH(),{interestedUserList:d,searchQuery:h,isLoading:m,error:b,activeTab:C,handleSearchChange:E,handleTabChange:A}=xH(),T=()=>{n.length!==0&&(alert(`${n.length}    .`),e(!1),s())};return m?w.jsx("div",{className:Fo.contentContainer,children:w.jsx($p,{})}):b?w.jsx("div",{className:Fo.contentContainer,children:w.jsxs("div",{className:Fo.errorMessage,children:[" : ",b]})}):d.length>0?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:Fo.contentContainer,children:[w.jsx(ol,{value:h,onChange:E,placeholder:", , ,  ",isInput:!0}),w.jsxs("div",{className:Fo.countAndButtonContainer,children:[w.jsx(ll,{count:d.length}),w.jsx(cl,{buttonText:" ",onButtonClick:()=>e(!0)})]}),w.jsx(mH,{interestedUserList:d,selectedUserList:n,onUserSelect:r,onSelectAll:i,isAllSelected:l,activeTab:C,onTabChange:A})]}),w.jsx(KC,{isOpen:t,onClose:()=>e(!1),selectedUsersCount:n.length,onSendAlarm:T})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:Fo.searchContainer,children:w.jsx(ol,{value:h,onChange:E,placeholder:", , ,  ",isInput:!0})}),w.jsxs("div",{className:Fo.countAndButtonContainer,children:[w.jsx(ll,{count:0}),w.jsx(cl,{buttonText:" ",onButtonClick:()=>alert(" ")})]}),w.jsx("section",{className:Fo.emptyStateContainer,children:w.jsx(Vp,{message:" .",buttonText:" "})}),w.jsx(KC,{isOpen:t,onClose:()=>e(!1),selectedUsersCount:n.length,onSendAlarm:T})]})}function SH(){const[t,e]=z.useState([]),[n,r]=z.useState([]),[i,s]=z.useState([]),[l,d]=z.useState(!1),[h,m]=z.useState(!1),[b,C]=z.useState(null),E=z.useCallback(async(I="")=>{var D,F,P;try{d(!0),I.trim()&&m(!0);const q=new URLSearchParams;I&&q.append("search",I);const $=`/api/galleries${q.toString()?`?${q.toString()}`:""}`,V=await Wt.get($),G=Array.isArray(V.data)?V.data.map(Q=>({id:Q.id,name:Q.gallery_name,address:Q.gallery_address,closedDay:Q.gallery_closed_day,time:`${Q.gallery_start_time} - ${Q.gallery_end_time}`,registered:Q.exhibitions?Q.exhibitions.length:0,liked:Q.like_count,image:Q.gallery_image})):[];e(G)}catch(q){C(q.message),console.error("   :",q),console.error(" :",(D=q.response)==null?void 0:D.data),console.error(" :",(F=q.response)==null?void 0:F.status),console.error(" :",(P=q.response)==null?void 0:P.headers),e([])}finally{d(!1),m(!1)}},[]),A=z.useCallback(async(I="")=>{try{d(!0);let F="/api/exhibitions";I&&I!==" "&&(F+=`?gallery_id=${I}`);const P=await Wt.get(F),q=Array.isArray(P.data)?P.data.map($=>{var V,G;return{id:$.id,title:$.exhibition_title,period:`${$.exhibition_start_date} - ${$.exhibition_end_date}`,image:$.exhibition_poster||null,gallery_name:((V=$.exhibition_organization)==null?void 0:V.name)||"  ",gallery_id:$.gallery_id||null,value:((G=$.exhibition_organization)==null?void 0:G.name)||"  "}}):[];r(q)}catch(D){C(D.message),console.error("   :",D),r([])}finally{d(!1)}},[]),T=z.useCallback(async(I="")=>{try{d(!0);const D=new URLSearchParams;I&&I!==" "&&D.append("gallery_id",I);const F=`/api/arts${D.toString()?`?${D.toString()}`:""}`,P=await Wt.get(F),q=Array.isArray(P.data)?P.data.map($=>{var Z,Ce,we;const V=$.exhibitions&&$.exhibitions.length>0?$.exhibitions[0]:null,G=((Z=V==null?void 0:V.gallery)==null?void 0:Z.gallery_name)||"  ",Q=(V==null?void 0:V.gallery_id)||((Ce=V==null?void 0:V.gallery)==null?void 0:Ce.id)||null;return{id:$.id,title:$.art_title,artist:((we=$.artist)==null?void 0:we.artist_name)||"  ",image:$.art_image||null,gallery_name:G,gallery_id:Q,value:G}}):[];s(q)}catch(D){C(D.message),console.error("   :",D),s([])}finally{d(!1)}},[]);return z.useEffect(()=>{E()},[]),{galleryList:t,exhibitionList:n,artworkList:i,handleDelete:async(I,D)=>{try{D==="gallery"?(await Wt.delete(`/api/galleries/${I}`),e(F=>F.filter(P=>P.id!==I))):D==="exhibition"?(await Wt.delete(`/api/exhibitions/${I}`),r(F=>F.filter(P=>P.id!==I))):D==="artwork"&&(await Wt.delete(`/api/arts/${I}`),s(F=>F.filter(P=>P.id!==I)))}catch(F){C(F.message),console.error(" :",F),alert(" .  .")}},loadGalleries:E,loadExhibitions:A,loadArtworks:T,isLoading:l,isSearching:h,error:b}}const EH="_layout_11ovy_3",AH="_tabSection_11ovy_17",TH="_content_11ovy_35",jg={layout:EH,tabSection:AH,content:TH};function NH(){const[t,e]=z.useState(""),[n,r]=z.useState(" "),i=I=>{e(I),r(" ")},s=["","","",""],{galleryList:l,exhibitionList:d,artworkList:h,handleDelete:m,loadGalleries:b,loadExhibitions:C,loadArtworks:E,isLoading:A,isSearching:T,error:R}=SH();return w.jsxs("div",{className:jg.layout,children:[w.jsx("div",{className:jg.tabSection,children:w.jsx(MF,{tabList:s,activeTab:t,onTabChange:i})}),w.jsxs("div",{className:jg.content,children:[t===""&&w.jsx(gU,{galleryList:l,onDelete:m,loadGalleries:b,isLoading:A,isSearching:T,error:R}),t===""&&w.jsx(RU,{exhibitionList:d,selectedGallery:n,onGalleryChange:r,onDelete:m,loadExhibitions:C,isLoading:A,error:R,galleryList:l}),t===""&&w.jsx($U,{artworkList:h,selectedGallery:n,onGalleryChange:r,onDelete:m,loadArtworks:E,isLoading:A,error:R,galleryList:l}),t===""&&w.jsx(_H,{})]})]})}function OH(){return w.jsxs(w.Fragment,{children:[w.jsx(mS,{}),w.jsx($S,{}),w.jsx("div",{style:{flex:1},children:w.jsx(C2,{})}),w.jsx(GS,{})]})}const MH="_layout_d3ydp_1",RH="_header_d3ydp_9",IH="_title_d3ydp_35",kH="_backButton_d3ydp_45",DH="_content_d3ydp_63",BH="_adminTabNav_d3ydp_77",LH="_adminTabButton_d3ydp_103",jH="_descriptionParagraph_d3ydp_157",PH="_addButton_d3ydp_205",zH="_emptyContent_d3ydp_273",Rs={layout:MH,header:RH,title:IH,backButton:kH,content:DH,adminTabNav:BH,adminTabButton:LH,descriptionParagraph:jH,addButton:PH,emptyContent:zH},FH="_layout_1k7tz_1",UH="_breadcrumb_1k7tz_19",HH="_card_1k7tz_31",VH="_titleSection_1k7tz_51",$H="_galleryTitle_1k7tz_61",GH="_gallerySubTitle_1k7tz_73",qH="_galleryImage_1k7tz_85",WH="_containerLayout_1k7tz_103",XH="_tagContainer_1k7tz_115",YH="_tag_1k7tz_115",KH="_btnLayout_1k7tz_149",ZH="_likeButton_1k7tz_159",QH="_icon_1k7tz_185",JH="_likedIcon_1k7tz_191",eV="_infoList_1k7tz_203",tV="_infoRow_1k7tz_217",nV="_infoLabel_1k7tz_227",rV="_infoContent_1k7tz_239",iV="_homepageButton_1k7tz_259",sV="_descriptionParagraph_1k7tz_407",aV="_mapSection_1k7tz_561",oV="_sectionTitle_1k7tz_569",lV="_map_1k7tz_561",cV="_backButton_1k7tz_595",Tn={layout:FH,breadcrumb:UH,card:HH,titleSection:VH,galleryTitle:$H,gallerySubTitle:GH,galleryImage:qH,containerLayout:WH,tagContainer:XH,tag:YH,btnLayout:KH,likeButton:ZH,icon:QH,likedIcon:JH,infoList:eV,infoRow:tV,infoLabel:nV,infoContent:rV,homepageButton:iV,descriptionParagraph:sV,mapSection:aV,sectionTitle:oV,map:lV,backButton:cV},uV="_tabsLayout_2k5w9_1",dV="_tabNav_2k5w9_11",fV="_tabButton_2k5w9_31",hV="_activeTab_2k5w9_61",pV="_tabContent_2k5w9_83",Pd={tabsLayout:uV,tabNav:dV,tabButton:fV,activeTab:hV,tabContent:pV};function SE({tabs:t,activeTab:e,setActiveTab:n,children:r}){return w.jsxs("div",{className:Pd.tabsLayout,children:[w.jsx("nav",{className:Pd.tabNav,children:t.map(({key:i,label:s})=>w.jsx("button",{className:`${Pd.tabButton} ${e===i&&Pd.activeTab}`,onClick:()=>n(i),children:s},i))}),w.jsx("section",{className:Pd.tabContent,children:r})]})}const mV="_exhibitionList_skdsf_1",gV="_exhibitionCard_skdsf_15",xV="_imageContainer_skdsf_47",yV="_exhibitionImage_skdsf_61",bV="_statusTag_skdsf_75",vV="_statusOn_skdsf_99",wV="_statusScheduled_skdsf_105",CV="_statusDone_skdsf_111",_V="_statusDefault_skdsf_117",SV="_infoContainer_skdsf_125",EV="_title_skdsf_145",AV="_organization_skdsf_163",TV="_date_skdsf_173",NV="_emptyContent_skdsf_183",Ai={exhibitionList:mV,exhibitionCard:gV,imageContainer:xV,exhibitionImage:yV,statusTag:bV,statusOn:vV,statusScheduled:wV,statusDone:CV,statusDefault:_V,infoContainer:SV,title:EV,organization:AV,date:TV,emptyContent:NV},ZC={exhibited:{text:"",className:Ai.statusOn},scheduled:{text:"",className:Ai.statusScheduled},ended:{text:"",className:Ai.statusDone},default:{text:"",className:Ai.statusDefault}};function P2({exhibitions:t}){const n=Dr().pathname.includes("/console");return console.log(" ",t),!t||t.length===0?w.jsx("p",{className:Ai.emptyContent,children:"   ."}):w.jsx("section",{className:Ai.exhibitionList,children:t.map(({exhibition_id:r,exhibition_poster:i,exhibition_title:s,exhibition_status:l,organization:d,start_date:h,end_date:m})=>{const b=ZC[l]||ZC.default,C=n?`/console/exhibitions/${r}`:`/exhibitions/${r}`;return w.jsxs(xn,{className:Ai.exhibitionCard,to:C,children:[w.jsxs("div",{className:Ai.imageContainer,children:[w.jsx("img",{className:Ai.exhibitionImage,src:i,alt:"  "}),w.jsx("span",{className:`${Ai.statusTag} ${b.className}`,children:b.text})]}),w.jsxs("div",{className:Ai.infoContainer,children:[w.jsx("h4",{className:Ai.title,children:s}),w.jsx("p",{className:Ai.organization,children:d}),w.jsx("p",{className:Ai.date,children:`${h} - ${m}`})]})]},r)})})}function OV(t,e){const n=z.useRef(null),[r,i]=z.useState(!1),s=z.useCallback(()=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{i(!0)},e)},[e]),l=z.useCallback(()=>{n.current&&clearTimeout(n.current),n.current=null},[]),d=z.useCallback(()=>{t()},[t]);return{start:s,clear:l,done:d,isExiting:r}}const MV="_toastContainer_wle1e_1",RV="_toast_wle1e_1",IV="_exiting_wle1e_45",kV="_title_wle1e_53",DV="_message_wle1e_65",qd={toastContainer:MV,toast:RV,exiting:IV,title:kV,message:DV};function BV({id:t,title:e,message:n,duration:r,removeToast:i}){const{start:s,clear:l,done:d,isExiting:h}=OV(()=>{i(t)},r),m=()=>l(),b=()=>s();z.useEffect(()=>{s()},[s]);const C=`${qd.toast} ${h?qd.exiting:""}`,E=()=>{h&&d()};return w.jsxs("div",{className:C,onMouseEnter:m,onMouseLeave:b,onAnimationEnd:E,children:[w.jsx("div",{className:qd.title,children:e}),n&&w.jsx("div",{className:qd.message,children:n})]})}const EE=z.createContext(),AE=()=>z.useContext(EE);function LV({children:t}){const[e,n]=z.useState(null),r=z.useCallback((s,l=1e3)=>{let d,h;typeof s=="string"?(d=s,h=null):(d=s.title,h=s.message);const m=Date.now();n({id:m,title:d,message:h,duration:l})},[]),i=z.useCallback(s=>{n(l=>l&&l.id===s?null:l)},[]);return w.jsxs(EE.Provider,{value:{addToast:r},children:[t,w.jsx("div",{className:qd.toastContainer,children:e&&w.jsx(BV,{id:e.id,title:e.title,message:e.message,duration:e.duration,removeToast:i},e.id)})]})}function TE({showUserActions:t=!0,id:e}){const{galleryId:n}=Ps(),r=e||n,i=Yt(),{addToast:s}=AE(),[l,d]=z.useState(null),[h,m]=z.useState(!1),[b,C]=z.useState("ongoing");D2({lat:l==null?void 0:l.gallery_latitude,lng:l==null?void 0:l.gallery_longitude,id:`gallery-${n}-map`,title:l==null?void 0:l.gallery_name,location:l==null?void 0:l.gallery_address});const E=async()=>{try{const ee=await wn.get(`/api/galleries/${r}`);d(ee.data),console.log("",ee.data)}catch(ee){console.error(ee)}},A=async()=>{if(localStorage.getItem("ACCESS_TOKEN"))try{const ae=((await wn.get("/api/users/me/likes")).data.like_galleries||[]).some(de=>de.id===Number(r));m(ae)}catch(ee){console.error("   :",ee)}};if(z.useEffect(()=>{r&&(E(),A())},[r]),!l)return w.jsx("div",{children:" ..."});const T=async()=>{if(!localStorage.getItem("ACCESS_TOKEN")){i("/login");return}try{h?await wn.delete("/api/likes",{data:{liked_id:r,liked_type:"gallery"}}):(await wn.post("/api/likes",{liked_id:r,liked_type:"gallery"}),s({title:"   !",message:"      ."})),m(!h),await E()}catch(ee){console.error(ee)}},R=()=>{const{gallery_name:ee}=l,Y=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${ee}`,text:`${ee}   !`,url:Y}).catch(ae=>console.error(" :",ae));else{const ae=document.createElement("textarea");ae.value=Y,document.body.appendChild(ae),ae.focus(),ae.select();try{document.execCommand("copy"),alert("  .")}catch(de){console.error("  :",de),alert("  .")}document.body.removeChild(ae)}},{exhibitions:I,gallery_address:D,gallery_category:F,gallery_closed_day:P,gallery_description:q,gallery_end_time:$,gallery_start_time:V,gallery_image:G,gallery_name:Q,gallery_name_en:Z,gallery_phone:Ce,gallery_email:we,gallery_homepage:me}=l,Pe=[{label:"",content:`${V} - ${$}`},{label:"",content:P},{label:"",content:Ce||" "},{label:"",content:D},{label:"",content:we?w.jsx("a",{href:`mailto:${we}`,children:we}):" "}],De=[{key:"ongoing",label:" "},{key:"upcoming",label:" "}];return w.jsxs("div",{className:Tn.layout,children:[t&&w.jsxs("div",{className:Tn.breadcrumb,children:[" > ",Q]}),w.jsxs("section",{className:Tn.titleSection,children:[w.jsx("h1",{className:Tn.galleryTitle,children:Q}),w.jsx("p",{className:Tn.gallerySubTitle,children:Z||"Gallery Name"})]}),w.jsxs("div",{className:Tn.card,children:[w.jsx("img",{className:Tn.galleryImage,src:G,alt:"  "}),w.jsxs("div",{className:Tn.containerLayout,children:[w.jsx("div",{className:Tn.tagContainer,children:F==null?void 0:F.split(",").map(ee=>w.jsx("span",{className:Tn.tag,children:ee.trim()},ee))}),t&&w.jsxs("div",{className:Tn.btnLayout,children:[w.jsxs("button",{className:Tn.likeButton,onClick:T,children:[w.jsx(Uk,{className:h?Tn.likedIcon:Tn.icon}),""]}),w.jsxs("button",{className:Tn.likeButton,onClick:R,children:[w.jsx(Hk,{className:Tn.icon}),""]})]})]}),w.jsxs("section",{className:Tn.infoList,children:[Pe.map(({label:ee,content:Y})=>w.jsxs("div",{className:Tn.infoRow,children:[w.jsx("span",{className:Tn.infoLabel,children:ee}),w.jsx("div",{className:Tn.infoContent,children:Y})]},ee)),w.jsx("button",{disabled:!me,className:Tn.homepageButton,onClick:()=>window.open(me,"_blank"),children:me?"":"  "})]})]}),t&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:Tn.descriptionParagraph,dangerouslySetInnerHTML:{__html:q}}),w.jsx(SE,{tabs:De,activeTab:b,setActiveTab:C,children:w.jsx(P2,{exhibitions:I==null?void 0:I.filter(ee=>b==="ongoing"?ee.exhibition_status==="exhibited":b==="upcoming"?ee.exhibition_status==="scheduled":!0)})}),w.jsxs("div",{className:Tn.mapSection,children:[w.jsx("p",{className:Tn.sectionTitle,children:" "}),w.jsx("div",{id:`gallery-${n}-map`,className:Tn.map})]}),w.jsx("button",{className:Tn.backButton,onClick:()=>i("/galleries"),children:" "})]})]})}const jV="_layout_15hz5_1",PV="_card_15hz5_17",zV="_profileCard_15hz5_43",FV="_infoCard_15hz5_57",UV="_tabCard_15hz5_59",HV="_exhibitionImage_15hz5_69",VV="_titleSection_15hz5_91",$V="_title_15hz5_91",GV="_actionButtonContainer_15hz5_115",qV="_actionButton_15hz5_115",WV="_actionIcon_15hz5_157",XV="_isClicked_15hz5_165",YV="_infoList_15hz5_175",KV="_infoRow_15hz5_187",ZV="_infoLabel_15hz5_197",QV="_infoContent_15hz5_211",JV="_descriptionParagraph_15hz5_237",e$="_sectionTitle_15hz5_265",t$="_emptyContent_15hz5_277",n$="_backButton_15hz5_291",Nn={layout:jV,card:PV,profileCard:zV,infoCard:FV,tabCard:UV,exhibitionImage:HV,titleSection:VV,title:$V,actionButtonContainer:GV,actionButton:qV,actionIcon:WV,isClicked:XV,infoList:YV,infoRow:KV,infoLabel:ZV,infoContent:QV,descriptionParagraph:JV,sectionTitle:e$,emptyContent:t$,backButton:n$},r$="_relatedSection_1t574_1",i$="_list_1t574_17",s$="_card_1t574_31",a$="_imageWrapper_1t574_59",o$="_image_1t574_59",l$="_info_1t574_97",c$="_title_1t574_111",u$="_meta_1t574_123",d$="_date_1t574_133",f$="_locButton_1t574_143",h$="_emptyContent_1t574_163",Is={relatedSection:r$,list:i$,card:s$,imageWrapper:a$,image:o$,info:l$,title:c$,meta:u$,date:d$,locButton:f$,emptyContent:h$};function p$({exhibitions:t=[]}){const e=Yt();return!t||t.length===0?w.jsx("p",{className:Is.emptyContent,children:"  ."}):w.jsx("section",{className:Is.relatedSection,children:w.jsx("div",{className:Is.list,children:t.map(({id:n,title:r,poster:i,start_date:s,end_date:l,organization:d,location:h})=>w.jsxs("div",{className:Is.card,onClick:()=>e(`/exhibitions/${n}`),children:[w.jsx("div",{className:Is.imageWrapper,children:w.jsx("img",{src:i,alt:r,className:Is.image})}),w.jsxs("div",{className:Is.info,children:[w.jsx("h4",{className:Is.title,children:r}),w.jsx("button",{className:Is.locButton,onClick:m=>{m.preventDefault(),m.stopPropagation(),handleOpen()},children:w.jsx(pE,{})}),w.jsxs("p",{className:Is.meta,children:[d||""," / ",h||""]}),w.jsxs("p",{className:Is.date,children:[s," ~ ",l]})]})]},n))})})}function NE({showUserActions:t=!0,id:e}){const{exhibitionId:n}=Ps(),r=e||n,i=Yt(),[s,l]=z.useState(null),[d,h]=z.useState(!1),{addToast:m}=AE(),b=async()=>{try{const de=await wn.get(`/api/exhibitions/${r}`);l(de.data),console.log("",de.data)}catch(de){console.error("  :",de)}},C=async()=>{if(localStorage.getItem("ACCESS_TOKEN"))try{const K=((await wn.get("/api/users/me/likes")).data.like_exhibitions||[]).some(be=>be.id===Number(r));h(K)}catch(de){console.error("   :",de)}};z.useEffect(()=>{r&&(b(),C())},[r]);const E=async()=>{if(!localStorage.getItem("ACCESS_TOKEN")){i("/login");return}try{d?await wn.delete("/api/likes",{data:{liked_id:r,liked_type:"exhibition"}}):(await wn.post("/api/likes",{liked_id:r,liked_type:"exhibition"}),m({title:"   !",message:"     ."})),h(!d),await b()}catch(de){console.error(de)}},A=()=>{i(`/reservation/${n}`)},T=()=>{const{exhibition_name:de}=s,ze=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${de}`,text:`${de}   !`,url:ze}).catch(K=>console.error(" :",K));else{const K=document.createElement("textarea");K.value=ze,document.body.appendChild(K),K.focus(),K.select();try{document.execCommand("copy"),alert("  .")}catch(be){console.error("  :",be),alert("  .")}document.body.removeChild(K)}};if(!s)return w.jsx("div",{children:" ..."});const{exhibition_title:R,exhibition_poster:I,exhibition_start_date:D,exhibition_end_date:F,exhibition_start_time:P,exhibition_end_time:q,exhibition_location:$,exhibition_price:V,exhibition_organization:G,exhibition_closed_day:Q,exhibition_description:Z,related_exhibitions:Ce,artworks:we,exhibition_phone:me,exhibition_artist:Pe,exhibition_homepage:De,is_liked:ee}=s,Y=[{label:"",content:`${D} ~ ${F}`},{label:"",content:G},{label:"",content:`${P} ~ ${q}`},{label:"",content:Q},{label:"",content:`${V} ()`},{label:"",content:me||" "},{label:"",content:$},{label:"",content:Pe||" "},{label:"",content:De?w.jsx("a",{href:De,target:"_blank",rel:"noopener noreferrer",children:De}):" "}],ae=[{label:"",icon:w.jsx(Hp,{className:`${Nn.actionIcon} ${ee&&Nn.isClicked}`}),action:E},{label:"",icon:w.jsx(FI,{className:Nn.actionIcon}),action:A},{label:"",icon:w.jsx(k2,{className:Nn.actionIcon}),action:T},{label:"",icon:w.jsx(WI,{className:Nn.actionIcon}),action:()=>i("/scan")}];return w.jsxs("div",{className:Nn.layout,children:[w.jsxs("div",{className:`${Nn.card} ${Nn.profileCard}`,children:[w.jsx("img",{className:Nn.exhibitionImage,src:I,alt:" "}),w.jsx("div",{className:Nn.titleSection,children:w.jsx("h1",{className:Nn.title,children:R})}),t&&w.jsx("div",{className:Nn.actionButtonContainer,children:ae.map(({label:de,icon:ze,action:K})=>w.jsxs("button",{className:Nn.actionButton,onClick:K,children:[ze,de]},de))})]}),w.jsx("div",{className:`${Nn.card} ${Nn.infoCard}`,children:w.jsx("section",{className:Nn.infoList,children:Y.map(({label:de,content:ze})=>w.jsxs("div",{className:Nn.infoRow,children:[w.jsx("span",{className:Nn.infoLabel,children:de}),w.jsx("div",{className:Nn.infoContent,children:ze})]},de))})}),t&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:`${Nn.card} ${Nn.tabCard}`,children:[w.jsx("h3",{className:Nn.sectionTitle,children:" "}),Z?w.jsx("div",{className:Nn.descriptionParagraph,dangerouslySetInnerHTML:{__html:Z}}):w.jsx("p",{className:Nn.emptyContent,children:"    ."}),w.jsx("h3",{className:Nn.sectionTitle,children:" "}),w.jsx(p$,{exhibitions:Ce||[]})]}),w.jsx(xn,{className:Nn.backButton,to:"/exhibitions",children:" "})]})]})}var ou={},Pg,QC;function OE(){return QC||(QC=1,Pg={L:1,M:0,Q:3,H:2}),Pg}var zg,JC;function ME(){return JC||(JC=1,zg={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),zg}var Fg,e3;function m$(){if(e3)return Fg;e3=1;var t=ME();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},Fg=e,Fg}var Ug,t3;function g$(){if(t3)return Ug;t3=1;var t=OE();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var i=e.getRsBlockTable(n,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var s=i.length/3,l=new Array,d=0;d<s;d++)for(var h=i[d*3+0],m=i[d*3+1],b=i[d*3+2],C=0;C<h;C++)l.push(new e(m,b));return l},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},Ug=e,Ug}var Hg,n3;function x$(){if(n3)return Hg;n3=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Hg=t,Hg}var Vg,r3;function RE(){if(r3)return Vg;r3=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return Vg=t,Vg}var $g,i3;function IE(){if(i3)return $g;i3=1;var t=RE();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var i=0;i<n.length&&n[i]==0;)i++;this.num=new Array(n.length-i+r);for(var s=0;s<n.length-i;s++)this.num[s]=n[s+i]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(var s=0;s<n.getLength();s++)r[i+s]^=t.gexp(t.glog(this.get(i))+t.glog(n.get(s)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),i=new Array(this.getLength()),s=0;s<this.getLength();s++)i[s]=this.get(s);for(var s=0;s<n.getLength();s++)i[s]^=t.gexp(t.glog(n.get(s))+r);return new e(i,0).mod(n)}},$g=e,$g}var Gg,s3;function y$(){if(s3)return Gg;s3=1;var t=ME(),e=IE(),n=RE(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var l=s<<10;i.getBCHDigit(l)-i.getBCHDigit(i.G15)>=0;)l^=i.G15<<i.getBCHDigit(l)-i.getBCHDigit(i.G15);return(s<<10|l)^i.G15_MASK},getBCHTypeNumber:function(s){for(var l=s<<12;i.getBCHDigit(l)-i.getBCHDigit(i.G18)>=0;)l^=i.G18<<i.getBCHDigit(l)-i.getBCHDigit(i.G18);return s<<12|l},getBCHDigit:function(s){for(var l=0;s!=0;)l++,s>>>=1;return l},getPatternPosition:function(s){return i.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,l,d){switch(s){case r.PATTERN000:return(l+d)%2==0;case r.PATTERN001:return l%2==0;case r.PATTERN010:return d%3==0;case r.PATTERN011:return(l+d)%3==0;case r.PATTERN100:return(Math.floor(l/2)+Math.floor(d/3))%2==0;case r.PATTERN101:return l*d%2+l*d%3==0;case r.PATTERN110:return(l*d%2+l*d%3)%2==0;case r.PATTERN111:return(l*d%3+(l+d)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var l=new e([1],0),d=0;d<s;d++)l=l.multiply(new e([1,n.gexp(d)],0));return l},getLengthInBits:function(s,l){if(1<=l&&l<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(l<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(l<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+l)},getLostPoint:function(s){for(var l=s.getModuleCount(),d=0,h=0;h<l;h++)for(var m=0;m<l;m++){for(var b=0,C=s.isDark(h,m),E=-1;E<=1;E++)if(!(h+E<0||l<=h+E))for(var A=-1;A<=1;A++)m+A<0||l<=m+A||E==0&&A==0||C==s.isDark(h+E,m+A)&&b++;b>5&&(d+=3+b-5)}for(var h=0;h<l-1;h++)for(var m=0;m<l-1;m++){var T=0;s.isDark(h,m)&&T++,s.isDark(h+1,m)&&T++,s.isDark(h,m+1)&&T++,s.isDark(h+1,m+1)&&T++,(T==0||T==4)&&(d+=3)}for(var h=0;h<l;h++)for(var m=0;m<l-6;m++)s.isDark(h,m)&&!s.isDark(h,m+1)&&s.isDark(h,m+2)&&s.isDark(h,m+3)&&s.isDark(h,m+4)&&!s.isDark(h,m+5)&&s.isDark(h,m+6)&&(d+=40);for(var m=0;m<l;m++)for(var h=0;h<l-6;h++)s.isDark(h,m)&&!s.isDark(h+1,m)&&s.isDark(h+2,m)&&s.isDark(h+3,m)&&s.isDark(h+4,m)&&!s.isDark(h+5,m)&&s.isDark(h+6,m)&&(d+=40);for(var R=0,m=0;m<l;m++)for(var h=0;h<l;h++)s.isDark(h,m)&&R++;var I=Math.abs(100*R/l/l-50)/5;return d+=I*10,d}};return Gg=i,Gg}var qg,a3;function b$(){if(a3)return qg;a3=1;var t=m$(),e=g$(),n=x$(),r=y$(),i=IE();function s(d,h){this.typeNumber=d,this.errorCorrectLevel=h,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=s.prototype;return l.addData=function(d){var h=new t(d);this.dataList.push(h),this.dataCache=null},l.isDark=function(d,h){if(d<0||this.moduleCount<=d||h<0||this.moduleCount<=h)throw new Error(d+","+h);return this.modules[d][h]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var d=1;for(d=1;d<40;d++){for(var h=e.getRSBlocks(d,this.errorCorrectLevel),m=new n,b=0,C=0;C<h.length;C++)b+=h[C].dataCount;for(var C=0;C<this.dataList.length;C++){var E=this.dataList[C];m.put(E.mode,4),m.put(E.getLength(),r.getLengthInBits(E.mode,d)),E.write(m)}if(m.getLengthInBits()<=b*8)break}this.typeNumber=d}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(d,h){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++){this.modules[m]=new Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++)this.modules[m][b]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(d,h),this.typeNumber>=7&&this.setupTypeNumber(d),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,h)},l.setupPositionProbePattern=function(d,h){for(var m=-1;m<=7;m++)if(!(d+m<=-1||this.moduleCount<=d+m))for(var b=-1;b<=7;b++)h+b<=-1||this.moduleCount<=h+b||(0<=m&&m<=6&&(b==0||b==6)||0<=b&&b<=6&&(m==0||m==6)||2<=m&&m<=4&&2<=b&&b<=4?this.modules[d+m][h+b]=!0:this.modules[d+m][h+b]=!1)},l.getBestMaskPattern=function(){for(var d=0,h=0,m=0;m<8;m++){this.makeImpl(!0,m);var b=r.getLostPoint(this);(m==0||d>b)&&(d=b,h=m)}return h},l.createMovieClip=function(d,h,m){var b=d.createEmptyMovieClip(h,m),C=1;this.make();for(var E=0;E<this.modules.length;E++)for(var A=E*C,T=0;T<this.modules[E].length;T++){var R=T*C,I=this.modules[E][T];I&&(b.beginFill(0,100),b.moveTo(R,A),b.lineTo(R+C,A),b.lineTo(R+C,A+C),b.lineTo(R,A+C),b.endFill())}return b},l.setupTimingPattern=function(){for(var d=8;d<this.moduleCount-8;d++)this.modules[d][6]==null&&(this.modules[d][6]=d%2==0);for(var h=8;h<this.moduleCount-8;h++)this.modules[6][h]==null&&(this.modules[6][h]=h%2==0)},l.setupPositionAdjustPattern=function(){for(var d=r.getPatternPosition(this.typeNumber),h=0;h<d.length;h++)for(var m=0;m<d.length;m++){var b=d[h],C=d[m];if(this.modules[b][C]==null)for(var E=-2;E<=2;E++)for(var A=-2;A<=2;A++)E==-2||E==2||A==-2||A==2||E==0&&A==0?this.modules[b+E][C+A]=!0:this.modules[b+E][C+A]=!1}},l.setupTypeNumber=function(d){for(var h=r.getBCHTypeNumber(this.typeNumber),m=0;m<18;m++){var b=!d&&(h>>m&1)==1;this.modules[Math.floor(m/3)][m%3+this.moduleCount-8-3]=b}for(var m=0;m<18;m++){var b=!d&&(h>>m&1)==1;this.modules[m%3+this.moduleCount-8-3][Math.floor(m/3)]=b}},l.setupTypeInfo=function(d,h){for(var m=this.errorCorrectLevel<<3|h,b=r.getBCHTypeInfo(m),C=0;C<15;C++){var E=!d&&(b>>C&1)==1;C<6?this.modules[C][8]=E:C<8?this.modules[C+1][8]=E:this.modules[this.moduleCount-15+C][8]=E}for(var C=0;C<15;C++){var E=!d&&(b>>C&1)==1;C<8?this.modules[8][this.moduleCount-C-1]=E:C<9?this.modules[8][15-C-1+1]=E:this.modules[8][15-C-1]=E}this.modules[this.moduleCount-8][8]=!d},l.mapData=function(d,h){for(var m=-1,b=this.moduleCount-1,C=7,E=0,A=this.moduleCount-1;A>0;A-=2)for(A==6&&A--;;){for(var T=0;T<2;T++)if(this.modules[b][A-T]==null){var R=!1;E<d.length&&(R=(d[E]>>>C&1)==1);var I=r.getMask(h,b,A-T);I&&(R=!R),this.modules[b][A-T]=R,C--,C==-1&&(E++,C=7)}if(b+=m,b<0||this.moduleCount<=b){b-=m,m=-m;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(d,h,m){for(var b=e.getRSBlocks(d,h),C=new n,E=0;E<m.length;E++){var A=m[E];C.put(A.mode,4),C.put(A.getLength(),r.getLengthInBits(A.mode,d)),A.write(C)}for(var T=0,E=0;E<b.length;E++)T+=b[E].dataCount;if(C.getLengthInBits()>T*8)throw new Error("code length overflow. ("+C.getLengthInBits()+">"+T*8+")");for(C.getLengthInBits()+4<=T*8&&C.put(0,4);C.getLengthInBits()%8!=0;)C.putBit(!1);for(;!(C.getLengthInBits()>=T*8||(C.put(s.PAD0,8),C.getLengthInBits()>=T*8));)C.put(s.PAD1,8);return s.createBytes(C,b)},s.createBytes=function(d,h){for(var m=0,b=0,C=0,E=new Array(h.length),A=new Array(h.length),T=0;T<h.length;T++){var R=h[T].dataCount,I=h[T].totalCount-R;b=Math.max(b,R),C=Math.max(C,I),E[T]=new Array(R);for(var D=0;D<E[T].length;D++)E[T][D]=255&d.buffer[D+m];m+=R;var F=r.getErrorCorrectPolynomial(I),P=new i(E[T],F.getLength()-1),q=P.mod(F);A[T]=new Array(F.getLength()-1);for(var D=0;D<A[T].length;D++){var $=D+q.getLength()-A[T].length;A[T][D]=$>=0?q.get($):0}}for(var V=0,D=0;D<h.length;D++)V+=h[D].totalCount;for(var G=new Array(V),Q=0,D=0;D<b;D++)for(var T=0;T<h.length;T++)D<E[T].length&&(G[Q++]=E[T][D]);for(var D=0;D<C;D++)for(var T=0;T<h.length;T++)D<A[T].length&&(G[Q++]=A[T][D]);return G},qg=s,qg}var r1={},o3;function v$(){if(o3)return r1;o3=1,Object.defineProperty(r1,"__esModule",{value:!0});var t=Object.assign||function(m){for(var b=1;b<arguments.length;b++){var C=arguments[b];for(var E in C)Object.prototype.hasOwnProperty.call(C,E)&&(m[E]=C[E])}return m},e=E2(),n=s(e),r=dc(),i=s(r);function s(m){return m&&m.__esModule?m:{default:m}}function l(m,b){var C={};for(var E in m)b.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(m,E)&&(C[E]=m[E]);return C}var d={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},h=(0,r.forwardRef)(function(m,b){var C=m.bgColor,E=m.bgD,A=m.fgD,T=m.fgColor,R=m.size,I=m.title,D=m.viewBoxSize,F=m.xmlns,P=F===void 0?"http://www.w3.org/2000/svg":F,q=l(m,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",t({},q,{height:R,ref:b,viewBox:"0 0 "+D+" "+D,width:R,xmlns:P}),I?i.default.createElement("title",null,I):null,i.default.createElement("path",{d:E,fill:C}),i.default.createElement("path",{d:A,fill:T}))});return h.displayName="QRCodeSvg",h.propTypes=d,r1.default=h,r1}var l3;function w$(){if(l3)return ou;l3=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.QRCode=void 0;var t=Object.assign||function(R){for(var I=1;I<arguments.length;I++){var D=arguments[I];for(var F in D)Object.prototype.hasOwnProperty.call(D,F)&&(R[F]=D[F])}return R},e=E2(),n=C(e),r=OE(),i=C(r),s=b$(),l=C(s),d=dc(),h=C(d),m=v$(),b=C(m);function C(R){return R&&R.__esModule?R:{default:R}}function E(R,I){var D={};for(var F in R)I.indexOf(F)>=0||Object.prototype.hasOwnProperty.call(R,F)&&(D[F]=R[F]);return D}var A={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},T=(0,d.forwardRef)(function(R,I){var D=R.bgColor,F=D===void 0?"#FFFFFF":D,P=R.fgColor,q=P===void 0?"#000000":P,$=R.level,V=$===void 0?"L":$,G=R.size,Q=G===void 0?256:G,Z=R.value,Ce=E(R,["bgColor","fgColor","level","size","value"]),we=new l.default(-1,i.default[V]);we.addData(Z),we.make();var me=we.modules;return h.default.createElement(b.default,t({},Ce,{bgColor:F,bgD:me.map(function(Pe,De){return Pe.map(function(ee,Y){return ee?"":"M "+Y+" "+De+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:q,fgD:me.map(function(Pe,De){return Pe.map(function(ee,Y){return ee?"M "+Y+" "+De+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:I,size:Q,viewBoxSize:me.length}))});return ou.QRCode=T,T.displayName="QRCode",T.propTypes=A,ou.default=T,ou}var C$=w$();const _$=uc(C$);function S$(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const E$=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function tl(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let lu=null;function kE(t={}){return lu||(t.includeStyleProperties?(lu=t.includeStyleProperties,lu):(lu=tl(window.getComputedStyle(document.documentElement)),lu))}function V1(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function A$(t){const e=V1(t,"border-left-width"),n=V1(t,"border-right-width");return t.clientWidth+e+n}function T$(t){const e=V1(t,"border-top-width"),n=V1(t,"border-bottom-width");return t.clientHeight+e+n}function DE(t,e={}){const n=e.width||A$(t),r=e.height||T$(t);return{width:n,height:r}}function N$(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const $i=16384;function O$(t){(t.width>$i||t.height>$i)&&(t.width>$i&&t.height>$i?t.width>t.height?(t.height*=$i/t.width,t.width=$i):(t.width*=$i/t.height,t.height=$i):t.width>$i?(t.height*=$i/t.width,t.width=$i):(t.width*=$i/t.height,t.height=$i))}function $1(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function M$(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function R$(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(t),M$(i)}const Mi=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||Mi(n,e)};function I$(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function k$(t,e){return kE(e).map(n=>{const r=t.getPropertyValue(n),i=t.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function D$(t,e,n,r){const i=`.${t}:${e}`,s=n.cssText?I$(n):k$(n,r);return document.createTextNode(`${i}{${s}}`)}function c3(t,e,n,r){const i=window.getComputedStyle(t,n),s=i.getPropertyValue("content");if(s===""||s==="none")return;const l=E$();try{e.className=`${e.className} ${l}`}catch{return}const d=document.createElement("style");d.appendChild(D$(l,n,i,r)),e.appendChild(d)}function B$(t,e,n){c3(t,e,":before",n),c3(t,e,":after",n)}const u3="application/font-woff",d3="image/jpeg",L$={woff:u3,woff2:u3,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:d3,jpeg:d3,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function j$(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function z2(t){const e=j$(t).toLowerCase();return L$[e]||""}function P$(t){return t.split(/,/)[1]}function Fx(t){return t.search(/^(data:)/)!==-1}function z$(t,e){return`data:${e};base64,${t}`}async function BE(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((s,l)=>{const d=new FileReader;d.onerror=l,d.onloadend=()=>{try{s(n({res:r,result:d.result}))}catch(h){l(h)}},d.readAsDataURL(i)})}const Wg={};function F$(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function F2(t,e,n){const r=F$(t,e,n.includeQueryParams);if(Wg[r]!=null)return Wg[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const s=await BE(t,n.fetchRequestInit,({res:l,result:d})=>(e||(e=l.headers.get("Content-Type")||""),P$(d)));i=z$(s,e)}catch(s){i=n.imagePlaceholder||"";let l=`Failed to fetch resource: ${t}`;s&&(l=typeof s=="string"?s:s.message),l&&console.warn(l)}return Wg[r]=i,i}async function U$(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):$1(e)}async function H$(t,e){if(t.currentSrc){const s=document.createElement("canvas"),l=s.getContext("2d");s.width=t.clientWidth,s.height=t.clientHeight,l==null||l.drawImage(t,0,0,s.width,s.height);const d=s.toDataURL();return $1(d)}const n=t.poster,r=z2(n),i=await F2(n,r,e);return $1(i)}async function V$(t,e){var n;try{if(!((n=t==null?void 0:t.contentDocument)===null||n===void 0)&&n.body)return await Gp(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function $$(t,e){return Mi(t,HTMLCanvasElement)?U$(t):Mi(t,HTMLVideoElement)?H$(t,e):Mi(t,HTMLIFrameElement)?V$(t,e):t.cloneNode(LE(t))}const G$=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",LE=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function q$(t,e,n){var r,i;if(LE(e))return e;let s=[];return G$(t)&&t.assignedNodes?s=tl(t.assignedNodes()):Mi(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?s=tl(t.contentDocument.body.childNodes):s=tl(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),s.length===0||Mi(t,HTMLVideoElement)||await s.reduce((l,d)=>l.then(()=>Gp(d,n)).then(h=>{h&&e.appendChild(h)}),Promise.resolve()),e}function W$(t,e,n){const r=e.style;if(!r)return;const i=window.getComputedStyle(t);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):kE(n).forEach(s=>{let l=i.getPropertyValue(s);s==="font-size"&&l.endsWith("px")&&(l=`${Math.floor(parseFloat(l.substring(0,l.length-2)))-.1}px`),Mi(t,HTMLIFrameElement)&&s==="display"&&l==="inline"&&(l="block"),s==="d"&&e.getAttribute("d")&&(l=`path(${e.getAttribute("d")})`),r.setProperty(s,l,i.getPropertyPriority(s))})}function X$(t,e){Mi(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),Mi(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function Y$(t,e){if(Mi(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function K$(t,e,n){return Mi(e,Element)&&(W$(t,e,n),B$(t,e,n),X$(t,e),Y$(t,e)),e}async function Z$(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let s=0;s<n.length;s++){const d=n[s].getAttribute("xlink:href");if(d){const h=t.querySelector(d),m=document.querySelector(d);!h&&m&&!r[d]&&(r[d]=await Gp(m,e,!0))}}const i=Object.values(r);if(i.length){const s="http://www.w3.org/1999/xhtml",l=document.createElementNS(s,"svg");l.setAttribute("xmlns",s),l.style.position="absolute",l.style.width="0",l.style.height="0",l.style.overflow="hidden",l.style.display="none";const d=document.createElementNS(s,"defs");l.appendChild(d);for(let h=0;h<i.length;h++)d.appendChild(i[h]);t.appendChild(l)}return t}async function Gp(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>$$(r,e)).then(r=>q$(t,r,e)).then(r=>K$(t,r,e)).then(r=>Z$(r,e))}const jE=/url\((['"]?)([^'"]+?)\1\)/g,Q$=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,J$=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function eG(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function tG(t){const e=[];return t.replace(jE,(n,r,i)=>(e.push(i),n)),e.filter(n=>!Fx(n))}async function nG(t,e,n,r,i){try{const s=n?S$(e,n):e,l=z2(e);let d;return i||(d=await F2(s,l,r)),t.replace(eG(e),`$1${d}$3`)}catch{}return t}function rG(t,{preferredFontFormat:e}){return e?t.replace(J$,n=>{for(;;){const[r,,i]=Q$.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function PE(t){return t.search(jE)!==-1}async function zE(t,e,n){if(!PE(t))return t;const r=rG(t,n);return tG(r).reduce((s,l)=>s.then(d=>nG(d,l,e,n)),Promise.resolve(r))}async function cu(t,e,n){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(i){const s=await zE(i,null,n);return e.style.setProperty(t,s,e.style.getPropertyPriority(t)),!0}return!1}async function iG(t,e){await cu("background",t,e)||await cu("background-image",t,e),await cu("mask",t,e)||await cu("-webkit-mask",t,e)||await cu("mask-image",t,e)||await cu("-webkit-mask-image",t,e)}async function sG(t,e){const n=Mi(t,HTMLImageElement);if(!(n&&!Fx(t.src))&&!(Mi(t,SVGImageElement)&&!Fx(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await F2(r,z2(r),e);await new Promise((s,l)=>{t.onload=s,t.onerror=e.onImageErrorHandler?(...h)=>{try{s(e.onImageErrorHandler(...h))}catch(m){l(m)}}:l;const d=t;d.decode&&(d.decode=s),d.loading==="lazy"&&(d.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})}async function aG(t,e){const r=tl(t.childNodes).map(i=>FE(i,e));await Promise.all(r).then(()=>t)}async function FE(t,e){Mi(t,Element)&&(await iG(t,e),await sG(t,e),await aG(t,e))}function oG(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const f3={};async function h3(t){let e=f3[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},f3[t]=e,e}async function p3(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async l=>{let d=l.replace(r,"$1");return d.startsWith("https://")||(d=new URL(d,t.url).href),BE(d,e.fetchRequestInit,({result:h})=>(n=n.replace(l,`url(${h})`),[l,h]))});return Promise.all(s).then(()=>n)}function m3(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const h=i.exec(r);if(h===null)break;e.push(h[0])}r=r.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",d=new RegExp(l,"gi");for(;;){let h=s.exec(r);if(h===null){if(h=d.exec(r),h===null)break;s.lastIndex=d.lastIndex}else d.lastIndex=s.lastIndex;e.push(h[0])}return e}async function lG(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{tl(i.cssRules||[]).forEach((s,l)=>{if(s.type===CSSRule.IMPORT_RULE){let d=l+1;const h=s.href,m=h3(h).then(b=>p3(b,e)).then(b=>m3(b).forEach(C=>{try{i.insertRule(C,C.startsWith("@import")?d+=1:i.cssRules.length)}catch(E){console.error("Error inserting rule from remote css",{rule:C,error:E})}})).catch(b=>{console.error("Error loading remote css",b.toString())});r.push(m)}})}catch(s){const l=t.find(d=>d.href==null)||document.styleSheets[0];i.href!=null&&r.push(h3(i.href).then(d=>p3(d,e)).then(d=>m3(d).forEach(h=>{l.insertRule(h,l.cssRules.length)})).catch(d=>{console.error("Error loading remote stylesheet",d)})),console.error("Error inlining remote css file",s)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{tl(i.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${i.href}`,s)}}),n))}function cG(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>PE(e.style.getPropertyValue("src")))}async function uG(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=tl(t.ownerDocument.styleSheets),r=await lG(n,e);return cG(r)}function UE(t){return t.trim().replace(/["']/g,"")}function dG(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(s=>{e.add(UE(s))}),Array.from(r.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(t),e}async function fG(t,e){const n=await uG(t,e),r=dG(t);return(await Promise.all(n.filter(s=>r.has(UE(s.style.fontFamily))).map(s=>{const l=s.parentStyleSheet?s.parentStyleSheet.href:null;return zE(s.cssText,l,e)}))).join(`
`)}async function hG(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await fG(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function pG(t,e={}){const{width:n,height:r}=DE(t,e),i=await Gp(t,e,!0);return await hG(i,e),await FE(i,e),oG(i,e),await R$(i,n,r)}async function mG(t,e={}){const{width:n,height:r}=DE(t,e),i=await pG(t,e),s=await $1(i),l=document.createElement("canvas"),d=l.getContext("2d"),h=e.pixelRatio||N$(),m=e.canvasWidth||n,b=e.canvasHeight||r;return l.width=m*h,l.height=b*h,e.skipAutoScale||O$(l),l.style.width=`${m}`,l.style.height=`${b}`,e.backgroundColor&&(d.fillStyle=e.backgroundColor,d.fillRect(0,0,l.width,l.height)),d.drawImage(s,0,0,l.width,l.height),l}async function gG(t,e={}){return(await mG(t,e)).toDataURL()}const xG="_modalOverlay_ujdot_1",yG="_modalContent_ujdot_27",bG="_header_ujdot_43",vG="_title_ujdot_59",wG="_closeButton_ujdot_71",CG="_body_ujdot_87",_G="_qrDownloadArea_ujdot_103",SG="_galleryInfo_ujdot_115",EG="_galleryName_ujdot_131",AG="_galleryNameEn_ujdot_141",TG="_qrCodeWrapper_ujdot_151",NG="_downloadButton_ujdot_163",OG="_noLeaflet_ujdot_193",MG="_noLeafletMessage_ujdot_201",Jr={modalOverlay:xG,modalContent:yG,header:bG,title:vG,closeButton:wG,body:CG,qrDownloadArea:_G,galleryInfo:SG,galleryName:EG,galleryNameEn:AG,qrCodeWrapper:TG,downloadButton:NG,noLeaflet:OG,noLeafletMessage:MG};function RG({data:t,onClose:e}){const n=t&&t.leafletUrl,r=z.useRef(null),i=()=>{r.current!==null&&gG(r.current,{cacheBust:!0,backgroundColor:"#ffffff"}).then(s=>{const l=document.createElement("a");l.download=`${t.gallery_name||"gallery"}-qr-code.png`,l.href=s,l.click()}).catch(s=>{console.error("  .",s),alert("  .  .")})};return w.jsx("div",{className:Jr.modalOverlay,onClick:e,children:w.jsxs("div",{className:Jr.modalContent,onClick:s=>s.stopPropagation(),children:[w.jsxs("header",{className:Jr.header,children:[w.jsx("h2",{className:Jr.title,children:"QR : /"}),w.jsx("button",{className:Jr.closeButton,onClick:e,children:""})]}),w.jsx("div",{className:Jr.body,children:n?w.jsxs(w.Fragment,{children:[w.jsxs("div",{ref:r,className:Jr.qrDownloadArea,children:[w.jsxs("div",{className:Jr.galleryInfo,children:[w.jsx("p",{className:Jr.galleryName,children:t.gallery_name||" "}),w.jsx("p",{className:Jr.galleryNameEn,children:t.gallery_name_en||"Gallery Name"})]}),w.jsx("div",{className:Jr.qrCodeWrapper,children:w.jsx(_$,{value:t.leafletUrl,size:200,bgColor:"#FFFFFF",fgColor:"#000000",level:"L",style:{height:"auto",maxWidth:"100%",width:"100%"}})})]}),w.jsx("button",{className:Jr.downloadButton,onClick:i,children:""})]}):w.jsxs("div",{className:Jr.noLeaflet,children:[w.jsx("p",{className:Jr.galleryName,children:t.gallery_name||" "}),w.jsx("p",{className:Jr.galleryNameEn,children:t.gallery_name_en||"Gallery Name"}),w.jsx("p",{className:Jr.noLeafletMessage,children:"   ."})]})})]})})}const IG="_artworkGrid_1kwuv_1",kG="_artworkCard_1kwuv_45",DG="_artworkImage_1kwuv_83",BG="_artworkInfo_1kwuv_97",LG="_title_1kwuv_111",jG="_materials_1kwuv_123",PG="_details_1kwuv_133",zG="_emptyContent_1kwuv_145",Uo={artworkGrid:IG,artworkCard:kG,artworkImage:DG,artworkInfo:BG,title:LG,materials:jG,details:PG,emptyContent:zG};function FG({artworks:t}){const n=Dr().pathname.includes("/console");return console.log(t),!t||t.length===0?w.jsx("p",{className:Uo.emptyContent,children:"   ."}):w.jsx("section",{className:Uo.artworkGrid,children:t.map(({id:r,image_url:i,title:s,artist_name:l,materials:d,size:h,year:m})=>{const b=n?`/console/artworks/${r}`:`/artworks/${r}`;return w.jsxs(xn,{className:Uo.artworkCard,to:b,children:[w.jsx("img",{className:Uo.artworkImage,src:i,alt:s}),w.jsxs("div",{className:Uo.artworkInfo,children:[w.jsx("h4",{className:Uo.title,children:s}),w.jsx("p",{className:Uo.materials,children:d}),w.jsx("p",{className:Uo.details,children:`${h}, ${m}`})]})]},r)})})}const UG={galleries:{title:"",Component:TE,tabs:[{label:""},{label:"QR"},{label:"/"}],fetchUrl:t=>`/api/console/galleries/${t}`},exhibitions:{title:"",Component:NE,tabs:[{label:""},{label:"QR"},{label:"/"}],fetchUrl:t=>`/api/exhibitions/${t}`},artworks:{title:"",Component:CE,tabs:[{label:""},{label:"QR"},{label:""}],fetchUrl:t=>`/api/arts/${t}`}};function i1({type:t}){var T,R;const{id:e}=Ps(),n=Yt(),[r,i]=z.useState(null),[s,l]=z.useState("info"),[d,h]=z.useState(!1);A2(),z.useEffect(()=>{(async()=>{const D=await wn.get(m.fetchUrl(e));i(D.data)})(),l("info")},[e,t]);const m=UG[t],{Component:b,tabs:C}=m,E=I=>{I===""?n(`/console/${t}/edit/${e}`):I==="QR"?h(!0):alert(`${I}  . ID: ${e}`)},A=[{key:"info",label:""},{key:"artworks",label:`(${((T=r==null?void 0:r.artworks)==null?void 0:T.length)||0})`},{key:"exhibitions",label:`(${((R=r==null?void 0:r.exhibitions)==null?void 0:R.length)||0})`}];return console.log(r),r?w.jsxs("div",{className:Rs.layout,children:[w.jsxs("header",{className:Rs.header,children:[w.jsx("button",{className:Rs.backButton,onClick:()=>n(`/console/${t}`),children:"<"}),w.jsx("h1",{className:Rs.title,children:m.title})]}),w.jsx("nav",{className:Rs.adminTabNav,children:C.map(({label:I})=>w.jsx("button",{className:Rs.adminTabButton,onClick:()=>E(I),children:I},I))}),w.jsxs("main",{className:Rs.content,children:[w.jsx(b,{showUserActions:!1,id:e}),w.jsxs(SE,{tabs:A,activeTab:s,setActiveTab:l,children:[s==="info"&&(r.gallery_description?w.jsx("div",{className:Rs.descriptionParagraph,dangerouslySetInnerHTML:{__html:r.gallery_description}}):w.jsx("p",{className:Rs.emptyContent,children:"   ."})),s==="artworks"&&w.jsxs(w.Fragment,{children:[w.jsx(FG,{artworks:r.artworks}),w.jsx("button",{className:Rs.addButton,children:"+  "})]}),s==="exhibitions"&&w.jsxs(w.Fragment,{children:[w.jsx(P2,{exhibitions:r.exhibitions}),w.jsx("button",{className:Rs.addButton,children:"+  "})]})]})]}),d&&w.jsx(RG,{data:r,onClose:()=>h(!1)})]}):w.jsx("div",{children:"  ..."})}const HG="_layout_1saqh_1",VG="_header_1saqh_15",$G="_title_1saqh_41",GG="_backButton_1saqh_51",qG="_formContainer_1saqh_69",WG="_bottomButtonContainer_1saqh_79",XG="_button_1saqh_101",YG="_cancelButton_1saqh_121",KG="_saveButton_1saqh_131",oa={layout:HG,header:VG,title:$G,backButton:GG,formContainer:qG,bottomButtonContainer:WG,button:XG,cancelButton:YG,saveButton:KG},ZG="_card_de9q2_1",QG="_input_de9q2_17",JG="_tagInputField_de9q2_19",eq="_timeInput_de9q2_21",tq="_galleryNameInput_de9q2_53",nq="_gallerySubNameInput_de9q2_69",rq="_imageUploadBox_de9q2_93",iq="_previewImage_de9q2_121",sq="_inputGroup_de9q2_133",aq="_label_de9q2_147",oq="_tagInputContainer_de9q2_159",lq="_tagItem_de9q2_179",cq="_removeTagBtn_de9q2_199",uq="_timeInputContainer_de9q2_239",dq="_checkboxGroup_de9q2_259",fq="_snsCard_de9q2_283",hq="_snsInputGroup_de9q2_293",pq="_tabContainer_de9q2_305",mq="_tabNav_de9q2_311",gq="_tabButton_de9q2_321",xq="_activeTab_de9q2_345",yq="_tabContent_de9q2_353",bq="_emptyContent_de9q2_367",ft={card:ZG,input:QG,tagInputField:JG,timeInput:eq,galleryNameInput:tq,gallerySubNameInput:nq,imageUploadBox:rq,previewImage:iq,inputGroup:sq,label:aq,tagInputContainer:oq,tagItem:lq,removeTagBtn:cq,timeInputContainer:uq,checkboxGroup:dq,snsCard:fq,snsInputGroup:hq,tabContainer:pq,tabNav:mq,tabButton:gq,activeTab:xq,tabContent:yq,emptyContent:bq};var Xg={exports:{}},Yg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g3;function vq(){if(g3)return Yg;g3=1;var t=dc();function e(C,E){return C===E&&(C!==0||1/C===1/E)||C!==C&&E!==E}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function d(C,E){var A=E(),T=r({inst:{value:A,getSnapshot:E}}),R=T[0].inst,I=T[1];return s(function(){R.value=A,R.getSnapshot=E,h(R)&&I({inst:R})},[C,A,E]),i(function(){return h(R)&&I({inst:R}),C(function(){h(R)&&I({inst:R})})},[C]),l(A),A}function h(C){var E=C.getSnapshot;C=C.value;try{var A=E();return!n(C,A)}catch{return!0}}function m(C,E){return E()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Yg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:b,Yg}var x3;function HE(){return x3||(x3=1,Xg.exports=vq()),Xg.exports}var VE=HE();function Ur(t){this.content=t}Ur.prototype={constructor:Ur,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Ur(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ur(n)},addToStart:function(t,e){return new Ur([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ur(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Ur(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ur.from(t),t.size?new Ur(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ur.from(t),t.size?new Ur(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ur.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ur.from=function(t){if(t instanceof Ur)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ur(e)};function $E(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let l=0;i.text[l]==s.text[l];l++)n++;return n}if(i.content.size||s.content.size){let l=$E(i.content,s.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function GE(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let l=t.child(--i),d=e.child(--s),h=l.nodeSize;if(l==d){n-=h,r-=h;continue}if(!l.sameMarkup(d))return{a:n,b:r};if(l.isText&&l.text!=d.text){let m=0,b=Math.min(l.text.length,d.text.length);for(;m<b&&l.text[l.text.length-m-1]==d.text[d.text.length-m-1];)m++,n--,r--;return{a:n,b:r}}if(l.content.size||d.content.size){let m=GE(l.content,d.content,n-1,r-1);if(m)return m}n-=h,r-=h}}class ke{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let l=0,d=0;d<n;l++){let h=this.content[l],m=d+h.nodeSize;if(m>e&&r(h,i+d,s||null,l)!==!1&&h.content.size){let b=d+1;h.nodesBetween(Math.max(0,e-b),Math.min(h.content.size,n-b),r,i+b)}d=m}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",l=!0;return this.nodesBetween(e,n,(d,h)=>{let m=d.isText?d.text.slice(Math.max(e,h)-h,n-h):d.isLeaf?i?typeof i=="function"?i(d):i:d.type.spec.leafText?d.type.spec.leafText(d):"":"";d.isBlock&&(d.isLeaf&&m||d.isTextblock)&&r&&(l?l=!1:s+=r),s+=m},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ke(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,l=0;l<n;s++){let d=this.content[s],h=l+d.nodeSize;h>e&&((l<e||h>n)&&(d.isText?d=d.cut(Math.max(0,e-l),Math.min(d.text.length,n-l)):d=d.cut(Math.max(0,e-l-1),Math.min(d.content.size,n-l-1))),r.push(d),i+=d.nodeSize),l=h}return new ke(r,i)}cutByIndex(e,n){return e==n?ke.empty:e==0&&n==this.content.length?this:new ke(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ke(i,s)}addToStart(e){return new ke([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ke(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return $E(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return GE(this,e,n,r)}findIndex(e){if(e==0)return s1(0,e);if(e==this.size)return s1(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?s1(n+1,s):s1(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ke.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ke(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ke.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ke(n||e,r)}static from(e){if(!e)return ke.empty;if(e instanceof ke)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ke([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ke.empty=new ke([],0);const Kg={index:0,offset:0};function s1(t,e){return Kg.index=t,Kg.offset=e,Kg}function G1(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!G1(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!G1(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let vn=class Ux{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&G1(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ux.none;if(e instanceof Ux)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};vn.none=[];class q1 extends Error{}class $e{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=WE(this.content,e+this.openStart,n);return r&&new $e(r,this.openStart,this.openEnd)}removeBetween(e,n){return new $e(qE(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return $e.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new $e(ke.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new $e(e,r,i)}}$e.empty=new $e(ke.empty,0,0);function qE(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:l,offset:d}=t.findIndex(n);if(i==e||s.isText){if(d!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(qE(s.content,e-i-1,n-i-1)))}function WE(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),l=t.maybeChild(i);if(s==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let d=WE(l.content,e-s-1,n,l);return d&&t.replaceChild(i,l.copy(d))}function wq(t,e,n){if(n.openStart>t.depth)throw new q1("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new q1("Inconsistent open depths");return XE(t,e,n,0)}function XE(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=XE(t,e,n,r+1);return s.copy(s.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,d=l.content;return Jl(l,d.cut(0,t.parentOffset).append(n.content).append(d.cut(e.parentOffset)))}else{let{start:l,end:d}=Cq(n,t);return Jl(s,KE(t,l,d,e,r))}else return Jl(s,W1(t,e,r))}function YE(t,e){if(!e.type.compatibleContent(t.type))throw new q1("Cannot join "+e.type.name+" onto "+t.type.name)}function Hx(t,e,n){let r=t.node(n);return YE(r,e.node(n)),r}function Ql(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Qd(t,e,n,r){let i=(e||t).node(n),s=0,l=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Ql(t.nodeAfter,r),s++));for(let d=s;d<l;d++)Ql(i.child(d),r);e&&e.depth==n&&e.textOffset&&Ql(e.nodeBefore,r)}function Jl(t,e){return t.type.checkContent(e),t.copy(e)}function KE(t,e,n,r,i){let s=t.depth>i&&Hx(t,e,i+1),l=r.depth>i&&Hx(n,r,i+1),d=[];return Qd(null,t,i,d),s&&l&&e.index(i)==n.index(i)?(YE(s,l),Ql(Jl(s,KE(t,e,n,r,i+1)),d)):(s&&Ql(Jl(s,W1(t,e,i+1)),d),Qd(e,n,i,d),l&&Ql(Jl(l,W1(n,r,i+1)),d)),Qd(r,null,i,d),new ke(d)}function W1(t,e,n){let r=[];if(Qd(null,t,n,r),t.depth>n){let i=Hx(t,e,n+1);Ql(Jl(i,W1(t,e,n+1)),r)}return Qd(e,null,n,r),new ke(r)}function Cq(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(ke.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class uf{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return vn.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let d=r;r=i,i=d}let s=r.marks;for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!i||!s[l].isInSet(i.marks))&&(s=s[l--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new X1(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let l=e;;){let{index:d,offset:h}=l.content.findIndex(s),m=s-h;if(r.push(l,d,i+h),!m||(l=l.child(d),l.isText))break;s=m-1,i+=h+1}return new uf(n,r,s)}static resolveCached(e,n){let r=y3.get(e);if(r)for(let s=0;s<r.elts.length;s++){let l=r.elts[s];if(l.pos==n)return l}else y3.set(e,r=new _q);let i=r.elts[r.i]=uf.resolve(e,n);return r.i=(r.i+1)%Sq,i}}class _q{constructor(){this.elts=[],this.i=0}}const Sq=12,y3=new WeakMap;class X1{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Eq=Object.create(null);class Ls{constructor(e,n,r,i=vn.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ke.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&G1(this.attrs,n||e.defaultAttrs||Eq)&&vn.sameSet(this.marks,r||vn.none)}copy(e=null){return e==this.content?this:new Ls(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ls(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return $e.empty;let i=this.resolve(e),s=this.resolve(n),l=r?0:i.sharedDepth(n),d=i.start(l),m=i.node(l).content.cut(i.pos-d,s.pos-d);return new $e(m,i.depth-l,s.depth-l)}replace(e,n,r){return wq(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return uf.resolveCached(this,e)}resolveNoCache(e){return uf.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),ZE(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ke.empty,i=0,s=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,s),d=l&&l.matchFragment(this.content,n);if(!d||!d.validEnd)return!1;for(let h=i;h<s;h++)if(!this.type.allowsMarks(r.child(h).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),l=s&&s.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=vn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!vn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ke.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}Ls.prototype.text=void 0;class Y1 extends Ls{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ZE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Y1(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Y1(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function ZE(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class sc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Aq(e,n);if(r.next==null)return sc.empty;let i=QE(r);r.next&&r.err("Unexpected trailing text");let s=kq(Iq(i));return Dq(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(l,d){let h=l.matchFragment(e,r);if(h&&(!n||h.validEnd))return ke.from(d.map(m=>m.createAndFill()));for(let m=0;m<l.next.length;m++){let{type:b,next:C}=l.next[m];if(!(b.isText||b.hasRequiredAttrs())&&i.indexOf(C)==-1){i.push(C);let E=s(C,d.concat(b));if(E)return E}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let l=[];for(let d=i;d.type;d=d.via)l.push(d.type);return l.reverse()}for(let l=0;l<s.next.length;l++){let{type:d,next:h}=s.next[l];!d.isLeaf&&!d.hasRequiredAttrs()&&!(d.name in n)&&(!i.type||h.validEnd)&&(r.push({match:d.contentMatch,type:d,via:i}),n[d.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)s+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return s}).join(`
`)}}sc.empty=new sc(!0);class Aq{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function QE(t){let e=[];do e.push(Tq(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Tq(t){let e=[];do e.push(Nq(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Nq(t){let e=Rq(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Oq(t,e);else break;return e}function b3(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Oq(t,e){let n=b3(t),r=n;return t.eat(",")&&(t.next!="}"?r=b3(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Mq(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let l=n[s];l.isInGroup(e)&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Rq(t){if(t.eat("(")){let e=QE(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Mq(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Iq(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(l,d,h){let m={term:h,to:d};return e[l].push(m),m}function i(l,d){l.forEach(h=>h.to=d)}function s(l,d){if(l.type=="choice")return l.exprs.reduce((h,m)=>h.concat(s(m,d)),[]);if(l.type=="seq")for(let h=0;;h++){let m=s(l.exprs[h],d);if(h==l.exprs.length-1)return m;i(m,d=n())}else if(l.type=="star"){let h=n();return r(d,h),i(s(l.expr,h),h),[r(h)]}else if(l.type=="plus"){let h=n();return i(s(l.expr,d),h),i(s(l.expr,h),h),[r(h)]}else{if(l.type=="opt")return[r(d)].concat(s(l.expr,d));if(l.type=="range"){let h=d;for(let m=0;m<l.min;m++){let b=n();i(s(l.expr,h),b),h=b}if(l.max==-1)i(s(l.expr,h),h);else for(let m=l.min;m<l.max;m++){let b=n();r(h,b),i(s(l.expr,h),b),h=b}return[r(h)]}else{if(l.type=="name")return[r(d,void 0,l.value)];throw new Error("Unknown expr type")}}}}function JE(t,e){return e-t}function v3(t,e){let n=[];return r(e),n.sort(JE);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let l=0;l<s.length;l++){let{term:d,to:h}=s[l];!d&&n.indexOf(h)==-1&&r(h)}}}function kq(t){let e=Object.create(null);return n(v3(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:d,to:h})=>{if(!d)return;let m;for(let b=0;b<i.length;b++)i[b][0]==d&&(m=i[b][1]);v3(t,h).forEach(b=>{m||i.push([d,m=[]]),m.indexOf(b)==-1&&m.push(b)})})});let s=e[r.join(",")]=new sc(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let d=i[l][1].sort(JE);s.next.push({type:i[l][0],next:e[d.join(",")]||n(d)})}return s}}function Dq(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,l=[];for(let d=0;d<i.next.length;d++){let{type:h,next:m}=i.next[d];l.push(h.name),s&&!(h.isText||h.hasRequiredAttrs())&&(s=!1),r.indexOf(m)==-1&&r.push(m)}s&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function e4(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function t4(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function n4(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function r4(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Lq(t,r,e[r]);return n}let w3=class i4{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=r4(e,r.attrs),this.defaultAttrs=e4(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==sc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:t4(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ls(this,this.computeAttrs(e),ke.from(n),vn.setFrom(r))}createChecked(e=null,n,r){return n=ke.from(n),this.checkContent(n),new Ls(this,this.computeAttrs(e),n,vn.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ke.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(ke.empty,!0);return s?new Ls(this,e,n.append(s),vn.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){n4(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:vn.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,l)=>r[s]=new i4(s,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Bq(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class Lq{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Bq(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class qp{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=r4(e,i.attrs),this.excluded=null;let s=e4(this.attrs);this.instance=s?new vn(this,s):null}create(e=null){return!e&&this.instance?this.instance:new vn(this,t4(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,l)=>r[s]=new qp(s,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){n4(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class s4{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Ur.from(e.nodes),n.marks=Ur.from(e.marks||{}),this.nodes=w3.compile(this.spec.nodes,this),this.marks=qp.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],l=s.spec.content||"",d=s.spec.marks;if(s.contentMatch=r[l]||(r[l]=sc.parse(l,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=d=="_"?null:d?C3(this,d.split(" ")):d==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],l=s.spec.excludes;s.excluded=l==null?[s]:l==""?[]:C3(this,l.split(" "))}this.nodeFromJSON=i=>Ls.fromJSON(this,i),this.markFromJSON=i=>vn.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof w3){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Y1(r,r.defaultAttrs,e,vn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function C3(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],l=s;if(s)n.push(s);else for(let d in t.marks){let h=t.marks[d];(i=="_"||h.spec.group&&h.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=h)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function jq(t){return t.tag!=null}function Pq(t){return t.style!=null}class nl{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(jq(i))this.tags.push(i);else if(Pq(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new S3(this,n,!1);return r.addAll(e,vn.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new S3(this,n,!0);return r.addAll(e,vn.none,n.from,n.to),$e.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Uq(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let l=this.styles[s],d=l.style;if(!(d.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||d.length>e.length&&(d.charCodeAt(e.length)!=61||d.slice(e.length+1)!=n))){if(l.getAttrs){let h=l.getAttrs(n);if(h===!1)continue;l.attrs=h||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let d=n[l];if((d.priority==null?50:d.priority)<s)break}n.splice(l,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(l=>{r(l=E3(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(l=>{r(l=E3(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new nl(e,nl.schemaRules(e)))}}const a4={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},zq={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},o4={ol:!0,ul:!0},df=1,Vx=2,C1=4;function _3(t,e,n){return e!=null?(e?df:0)|(e==="full"?Vx:0):t&&t.whitespace=="pre"?df|Vx:n&-5}class a1{constructor(e,n,r,i,s,l){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=vn.none,this.match=s||(l&C1?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ke.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&df)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=ke.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ke.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!a4.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class S3{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,l=_3(null,n.preserveWhitespace,0)|(r?C1:0);i?s=new a1(i.type,i.attrs,vn.none,!0,n.topMatch||i.type.contentMatch,l):r?s=new a1(null,null,vn.none,!0,null,l):s=new a1(e.schema.topNodeType,null,vn.none,!0,null,l),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&Vx?"full":this.localPreserveWS||(i.options&df)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],d=e.previousSibling;(!l||d&&d.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),d;o4.hasOwnProperty(l)&&this.parser.normalizeLists&&Fq(e);let h=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(d=this.parser.matchTag(e,this,r));e:if(h?h.ignore:zq.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!h||h.skip||h.closeParent){h&&h.closeParent?this.open=Math.max(0,this.open-1):h&&h.skip.nodeType&&(e=h.skip);let m,b=this.needsBlock;if(a4.hasOwnProperty(l))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),m=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let C=h&&h.skip?n:this.readStyles(e,n);C&&this.addAll(e,C),m&&this.sync(s),this.needsBlock=b}else{let m=this.readStyles(e,n);m&&this.addElementByRule(e,h,m,h.consuming===!1?d:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],l=r.getPropertyValue(s);if(l)for(let d=void 0;;){let h=this.parser.matchStyle(s,l,this,d);if(!h)break;if(h.ignore)return null;if(h.clearMark?n=n.filter(m=>!h.clearMark(m)):n=n.concat(this.parser.schema.marks[h.mark].create(h.attrs)),h.consuming===!1)d=h;else break}}return n}addElementByRule(e,n,r,i){let s,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let h=this.enter(l,n.attrs||null,r,n.preserveWhitespace);h&&(s=!0,r=h)}else{let h=this.parser.schema.marks[n.mark];r=r.concat(h.create(n.attrs))}let d=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(h=>this.insertNode(h,r,!1));else{let h=e;typeof n.contentElement=="string"?h=e.querySelector(n.contentElement):typeof n.contentElement=="function"?h=n.contentElement(e):n.contentElement&&(h=n.contentElement),this.findAround(e,h,!0),this.addAll(h,r),this.findAround(e,h,!1)}s&&this.sync(d)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let l=r?e.childNodes[r]:e.firstChild,d=i==null?null:e.childNodes[i];l!=d;l=l.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(l,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let l=this.open,d=0;l>=0;l--){let h=this.nodes[l],m=h.findWrapping(e);if(m&&(!i||i.length>m.length+d)&&(i=m,s=h,!m.length))break;if(h.solid){if(r)break;d+=2}}if(!i)return null;this.sync(s);for(let l=0;l<i.length;l++)n=this.enterInner(i[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let l=vn.none;for(let d of i.concat(e.marks))(s.type?s.type.allowsMarkType(d.type):A3(d.type,e.type))&&(l=d.addToSet(l));return s.content.push(e.mark(l)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let d=_3(e,s,l.options);l.options&C1&&l.content.length==0&&(d|=C1);let h=vn.none;return r=r.filter(m=>(l.type?l.type.allowsMarkType(m.type):A3(m.type,e))?(h=m.addToSet(h),!1):!0),this.nodes.push(new a1(e,n,h,i,null,d)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=df)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),l=(d,h)=>{for(;d>=0;d--){let m=n[d];if(m==""){if(d==n.length-1||d==0)continue;for(;h>=s;h--)if(l(d-1,h))return!0;return!1}else{let b=h>0||h==0&&i?this.nodes[h].type:r&&h>=s?r.node(h-s).type:null;if(!b||b.name!=m&&!b.isInGroup(m))return!1;h--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Fq(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&o4.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Uq(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function E3(t){let e={};for(let n in t)e[n]=t[n];return e}function A3(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],l=d=>{s.push(d);for(let h=0;h<d.edgeCount;h++){let{type:m,next:b}=d.edge(h);if(m==e||s.indexOf(b)<0&&l(b))return!0}};if(l(i.contentMatch))return!0}}class pc{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Zg(n).createDocumentFragment());let i=r,s=[];return e.forEach(l=>{if(s.length||l.marks.length){let d=0,h=0;for(;d<s.length&&h<l.marks.length;){let m=l.marks[h];if(!this.marks[m.type.name]){h++;continue}if(!m.eq(s[d][0])||m.type.spec.spanning===!1)break;d++,h++}for(;d<s.length;)i=s.pop()[1];for(;h<l.marks.length;){let m=l.marks[h++],b=this.serializeMark(m,l.isInline,n);b&&(s.push([m,i]),i.appendChild(b.dom),i=b.contentDOM||b.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=_1(Zg(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&_1(Zg(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return _1(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new pc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=T3(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return T3(e.marks)}}function T3(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Zg(t){return t.document||window.document}const N3=new WeakMap;function Hq(t){let e=N3.get(t);return e===void 0&&N3.set(t,e=Vq(t)),e}function Vq(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function _1(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Hq(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(n=i.slice(0,l),i=i.slice(l+1));let d,h=n?t.createElementNS(n,i):t.createElement(i),m=e[1],b=1;if(m&&typeof m=="object"&&m.nodeType==null&&!Array.isArray(m)){b=2;for(let C in m)if(m[C]!=null){let E=C.indexOf(" ");E>0?h.setAttributeNS(C.slice(0,E),C.slice(E+1),m[C]):C=="style"&&h.style?h.style.cssText=m[C]:h.setAttribute(C,m[C])}}for(let C=b;C<e.length;C++){let E=e[C];if(E===0){if(C<e.length-1||C>b)throw new RangeError("Content hole must be the only child of its parent node");return{dom:h,contentDOM:h}}else{let{dom:A,contentDOM:T}=_1(t,E,n,r);if(h.appendChild(A),T){if(d)throw new RangeError("Multiple content holes");d=T}}}return{dom:h,contentDOM:d}}const l4=65535,c4=Math.pow(2,16);function $q(t,e){return t+e*c4}function O3(t){return t&l4}function Gq(t){return(t-(t&l4))/c4}const u4=1,d4=2,S1=4,f4=8;class $x{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&f4)>0}get deletedBefore(){return(this.delInfo&(u4|S1))>0}get deletedAfter(){return(this.delInfo&(d4|S1))>0}get deletedAcross(){return(this.delInfo&S1)>0}}class Yi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Yi.empty)return Yi.empty}recover(e){let n=0,r=O3(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Gq(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,l=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let h=this.ranges[d]-(this.inverted?i:0);if(h>e)break;let m=this.ranges[d+s],b=this.ranges[d+l],C=h+m;if(e<=C){let E=m?e==h?-1:e==C?1:n:n,A=h+i+(E<0?0:b);if(r)return A;let T=e==(n<0?h:C)?null:$q(d/3,e-h),R=e==h?d4:e==C?u4:S1;return(n<0?e!=h:e!=C)&&(R|=f4),new $x(A,R,T)}i+=b-m}return r?e+i:new $x(e+i,0,null)}touches(e,n){let r=0,i=O3(n),s=this.inverted?2:1,l=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let h=this.ranges[d]-(this.inverted?r:0);if(h>e)break;let m=this.ranges[d+s],b=h+m;if(e<=b&&d==i*3)return!0;r+=this.ranges[d+l]-m}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let l=this.ranges[i],d=l-(this.inverted?s:0),h=l+(this.inverted?0:s),m=this.ranges[i+n],b=this.ranges[i+r];e(d,d+m,h,h+b),s+=b-m}}invert(){return new Yi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Yi.empty:new Yi(e<0?[0,-e,0]:[0,0,e])}}Yi.empty=new Yi([]);class ff{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new ff(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new ff;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let l=this._maps[s],d=l.mapResult(e,n);if(d.recover!=null){let h=this.getMirror(s);if(h!=null&&h>s&&h<this.to){s=h,e=this._maps[h].recover(d.recover);continue}}i|=d.delInfo,e=d.pos}return r?e:new $x(e,i,null)}}const Qg=Object.create(null);class ri{getMap(){return Yi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Qg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Qg)throw new RangeError("Duplicate use of step JSON ID "+e);return Qg[e]=n,n.prototype.jsonID=e,n}}class dr{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new dr(e,null)}static fail(e){return new dr(null,e)}static fromReplace(e,n,r,i){try{return dr.ok(e.replace(n,r,i))}catch(s){if(s instanceof q1)return dr.fail(s.message);throw s}}}function U2(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(U2(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return ke.fromArray(r)}class Qo extends ri{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new $e(U2(n.content,(l,d)=>!l.isAtom||!d.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return dr.fromReplace(e,this.from,this.to,s)}invert(){return new Bs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Qo(n.pos,r.pos,this.mark)}merge(e){return e instanceof Qo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Qo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Qo(n.from,n.to,e.markFromJSON(n.mark))}}ri.jsonID("addMark",Qo);class Bs extends ri{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new $e(U2(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return dr.fromReplace(e,this.from,this.to,r)}invert(){return new Qo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Bs(n.pos,r.pos,this.mark)}merge(e){return e instanceof Bs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Bs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Bs(n.from,n.to,e.markFromJSON(n.mark))}}ri.jsonID("removeMark",Bs);class Jo extends ri{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return dr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return dr.fromReplace(e,this.pos,this.pos+1,new $e(ke.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Jo(this.pos,n.marks[i]);return new Jo(this.pos,this.mark)}}return new ac(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Jo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Jo(n.pos,e.markFromJSON(n.mark))}}ri.jsonID("addNodeMark",Jo);class ac extends ri{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return dr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return dr.fromReplace(e,this.pos,this.pos+1,new $e(ke.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Jo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ac(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ac(n.pos,e.markFromJSON(n.mark))}}ri.jsonID("removeNodeMark",ac);class Rr extends ri{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Gx(e,this.from,this.to)?dr.fail("Structure replace would overwrite content"):dr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Yi([this.from,this.to-this.from,this.slice.size])}invert(e){return new Rr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Rr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Rr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?$e.empty:new $e(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Rr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?$e.empty:new $e(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Rr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Rr(n.from,n.to,$e.fromJSON(e,n.slice),!!n.structure)}}ri.jsonID("replace",Rr);class Ir extends ri{constructor(e,n,r,i,s,l,d=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=l,this.structure=d}apply(e){if(this.structure&&(Gx(e,this.from,this.gapFrom)||Gx(e,this.gapTo,this.to)))return dr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return dr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?dr.fromReplace(e,this.from,this.to,r):dr.fail("Content does not fit in gap")}getMap(){return new Yi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ir(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Ir(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ir(n.from,n.to,n.gapFrom,n.gapTo,$e.fromJSON(e,n.slice),n.insert,!!n.structure)}}ri.jsonID("replaceAround",Ir);function Gx(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let l=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function qq(t,e,n,r){let i=[],s=[],l,d;t.doc.nodesBetween(e,n,(h,m,b)=>{if(!h.isInline)return;let C=h.marks;if(!r.isInSet(C)&&b.type.allowsMarkType(r.type)){let E=Math.max(m,e),A=Math.min(m+h.nodeSize,n),T=r.addToSet(C);for(let R=0;R<C.length;R++)C[R].isInSet(T)||(l&&l.to==E&&l.mark.eq(C[R])?l.to=A:i.push(l=new Bs(E,A,C[R])));d&&d.to==E?d.to=A:s.push(d=new Qo(E,A,r))}}),i.forEach(h=>t.step(h)),s.forEach(h=>t.step(h))}function Wq(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(l,d)=>{if(!l.isInline)return;s++;let h=null;if(r instanceof qp){let m=l.marks,b;for(;b=r.isInSet(m);)(h||(h=[])).push(b),m=b.removeFromSet(m)}else r?r.isInSet(l.marks)&&(h=[r]):h=l.marks;if(h&&h.length){let m=Math.min(d+l.nodeSize,n);for(let b=0;b<h.length;b++){let C=h[b],E;for(let A=0;A<i.length;A++){let T=i[A];T.step==s-1&&C.eq(i[A].style)&&(E=T)}E?(E.to=m,E.step=s):i.push({style:C,from:Math.max(d,e),to:m,step:s})}}}),i.forEach(l=>t.step(new Bs(l.from,l.to,l.style)))}function H2(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),l=[],d=e+1;for(let h=0;h<s.childCount;h++){let m=s.child(h),b=d+m.nodeSize,C=r.matchType(m.type);if(!C)l.push(new Rr(d,b,$e.empty));else{r=C;for(let E=0;E<m.marks.length;E++)n.allowsMarkType(m.marks[E].type)||t.step(new Bs(d,b,m.marks[E]));if(i&&m.isText&&n.whitespace!="pre"){let E,A=/\r?\n|\r/g,T;for(;E=A.exec(m.text);)T||(T=new $e(ke.from(n.schema.text(" ",n.allowedMarks(m.marks))),0,0)),l.push(new Rr(d+E.index,d+E.index+E[0].length,T))}}d=b}if(!r.validEnd){let h=r.fillBefore(ke.empty,!0);t.replace(d,d,new $e(h,0,0))}for(let h=l.length-1;h>=0;h--)t.step(l[h])}function Xq(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Lu(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),l=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,l,n))return r;if(r==0||i.type.spec.isolating||!Xq(i,s,l))break}return null}function Yq(t,e,n){let{$from:r,$to:i,depth:s}=e,l=r.before(s+1),d=i.after(s+1),h=l,m=d,b=ke.empty,C=0;for(let T=s,R=!1;T>n;T--)R||r.index(T)>0?(R=!0,b=ke.from(r.node(T).copy(b)),C++):h--;let E=ke.empty,A=0;for(let T=s,R=!1;T>n;T--)R||i.after(T+1)<i.end(T)?(R=!0,E=ke.from(i.node(T).copy(E)),A++):m++;t.step(new Ir(h,m,l,d,new $e(b.append(E),C,A),b.size-C,!0))}function V2(t,e,n=null,r=t){let i=Kq(t,e),s=i&&Zq(r,e);return s?i.map(M3).concat({type:e,attrs:n}).concat(s.map(M3)):null}function M3(t){return{type:t,attrs:null}}function Kq(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let l=s.length?s[0]:e;return n.canReplaceWith(r,i,l)?s:null}function Zq(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),l=e.contentMatch.findWrapping(s.type);if(!l)return null;let h=(l.length?l[l.length-1]:e).contentMatch;for(let m=r;h&&m<i;m++)h=h.matchType(n.child(m).type);return!h||!h.validEnd?null:l}function Qq(t,e,n){let r=ke.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let d=n[l].type.contentMatch.matchFragment(r);if(!d||!d.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ke.from(n[l].type.create(n[l].attrs,r))}let i=e.start,s=e.end;t.step(new Ir(i,s,i,s,new $e(r,0,0),n.length,!0))}function Jq(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(l,d)=>{let h=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,h)&&eW(t.doc,t.mapping.slice(s).map(d),r)){let m=null;if(r.schema.linebreakReplacement){let A=r.whitespace=="pre",T=!!r.contentMatch.matchType(r.schema.linebreakReplacement);A&&!T?m=!1:!A&&T&&(m=!0)}m===!1&&p4(t,l,d,s),H2(t,t.mapping.slice(s).map(d,1),r,void 0,m===null);let b=t.mapping.slice(s),C=b.map(d,1),E=b.map(d+l.nodeSize,1);return t.step(new Ir(C,E,C+1,E-1,new $e(ke.from(r.create(h,null,l.marks)),0,0),1,!0)),m===!0&&h4(t,l,d,s),!1}})}function h4(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let l,d=/\r?\n|\r/g;for(;l=d.exec(i.text);){let h=t.mapping.slice(r).map(n+1+s+l.index);t.replaceWith(h,h+1,e.type.schema.linebreakReplacement.create())}}})}function p4(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+s);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function eW(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function tW(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let l=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,l);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ir(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new $e(ke.from(l),0,0),1,!0))}function to(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,l=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let m=i.depth-1,b=n-2;m>s;m--,b--){let C=i.node(m),E=i.index(m);if(C.type.spec.isolating)return!1;let A=C.content.cutByIndex(E,C.childCount),T=r&&r[b+1];T&&(A=A.replaceChild(0,T.type.create(T.attrs)));let R=r&&r[b]||C;if(!C.canReplace(E+1,C.childCount)||!R.type.validContent(A))return!1}let d=i.indexAfter(s),h=r&&r[0];return i.node(s).canReplaceWith(d,d,h?h.type:i.node(s+1).type)}function nW(t,e,n=1,r){let i=t.doc.resolve(e),s=ke.empty,l=ke.empty;for(let d=i.depth,h=i.depth-n,m=n-1;d>h;d--,m--){s=ke.from(i.node(d).copy(s));let b=r&&r[m];l=ke.from(b?b.type.create(b.attrs,l):i.node(d).copy(l))}t.step(new Rr(e,e,new $e(s.append(l),n,n),!0))}function hl(t,e){let n=t.resolve(e),r=n.index();return m4(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function rW(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),l=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function m4(t,e){return!!(t&&e&&!t.isLeaf&&rW(t,e))}function Wp(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,l,d=r.index(i);if(i==r.depth?(s=r.nodeBefore,l=r.nodeAfter):n>0?(s=r.node(i+1),d++,l=r.node(i).maybeChild(d)):(s=r.node(i).maybeChild(d-1),l=r.node(i+1)),s&&!s.isTextblock&&m4(s,l)&&r.node(i).canReplace(d,d+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function iW(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),l=s.node().type;if(i&&l.inlineContent){let b=l.whitespace=="pre",C=!!l.contentMatch.matchType(i);b&&!C?r=!1:!b&&C&&(r=!0)}let d=t.steps.length;if(r===!1){let b=t.doc.resolve(e+n);p4(t,b.node(),b.before(),d)}l.inlineContent&&H2(t,e+n-1,l,s.node().contentMatchAt(s.index()),r==null);let h=t.mapping.slice(d),m=h.map(e-n);if(t.step(new Rr(m,h.map(e+n,-1),$e.empty,!0)),r===!0){let b=t.doc.resolve(m);h4(t,b.node(),b.before(),t.steps.length)}return t}function sW(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function g4(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let l=r.depth;l>=0;l--){let d=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,h=r.index(l)+(d>0?1:0),m=r.node(l),b=!1;if(s==1)b=m.canReplace(h,h,i);else{let C=m.contentMatchAt(h).findWrapping(i.firstChild.type);b=C&&m.canReplaceWith(h,h,C[0])}if(b)return d==0?r.pos:d<0?r.before(l+1):r.after(l+1)}return null}function Xp(t,e,n=e,r=$e.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return x4(i,s,r)?new Rr(e,n,r):new aW(i,s,r).fit()}function x4(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class aW{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ke.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ke.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let m=this.findFittable();m?this.placeNodes(m):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,l=r.depth,d=i.depth;for(;l&&d&&s.childCount==1;)s=s.firstChild.content,l--,d--;let h=new $e(s,l,d);return e>-1?new Ir(r.pos,e,this.$to.pos,this.$to.end(),h,n):h.size||r.pos!=this.$to.pos?new Rr(r.pos,i.pos,h):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Jg(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let l=i.firstChild;for(let d=this.depth;d>=0;d--){let{type:h,match:m}=this.frontier[d],b,C=null;if(n==1&&(l?m.matchType(l.type)||(C=m.fillBefore(ke.from(l),!1)):s&&h.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:d,parent:s,inject:C};if(n==2&&l&&(b=m.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:d,parent:s,wrap:b};if(s&&m.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Jg(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new $e(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Jg(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new $e(Wd(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new $e(Wd(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let R=0;R<s.length;R++)this.openFrontierNode(s[R]);let l=this.unplaced,d=r?r.content:l.content,h=l.openStart-e,m=0,b=[],{match:C,type:E}=this.frontier[n];if(i){for(let R=0;R<i.childCount;R++)b.push(i.child(R));C=C.matchFragment(i)}let A=d.size+e-(l.content.size-l.openEnd);for(;m<d.childCount;){let R=d.child(m),I=C.matchType(R.type);if(!I)break;m++,(m>1||h==0||R.content.size)&&(C=I,b.push(y4(R.mark(E.allowedMarks(R.marks)),m==1?h:0,m==d.childCount?A:-1)))}let T=m==d.childCount;T||(A=-1),this.placed=Xd(this.placed,n,ke.from(b)),this.frontier[n].match=C,T&&A<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let R=0,I=d;R<A;R++){let D=I.lastChild;this.frontier.push({type:D.type,match:D.contentMatchAt(D.childCount)}),I=D.content}this.unplaced=T?e==0?$e.empty:new $e(Wd(l.content,e-1,1),e-1,A<0?l.openEnd:e-1):new $e(Wd(l.content,e,m),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!ex(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=ex(e,n,i,r,s);if(l){for(let d=n-1;d>=0;d--){let{match:h,type:m}=this.frontier[d],b=ex(e,d,m,h,!0);if(!b||b.childCount)continue e}return{depth:n,fit:l,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Xd(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Xd(this.placed,this.depth,ke.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ke.empty,!0);n.childCount&&(this.placed=Xd(this.placed,this.frontier.length,n))}}function Wd(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Wd(t.firstChild.content,e-1,n)))}function Xd(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Xd(t.lastChild.content,e-1,n)))}function Jg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function y4(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,y4(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ke.empty,!0)))),t.copy(r)}function ex(t,e,n,r,i){let s=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==s.childCount&&!n.compatibleContent(s.type))return null;let d=r.fillBefore(s.content,!0,l);return d&&!oW(n,s.content,l)?d:null}function oW(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function lW(t){return t.spec.defining||t.spec.definingForContent}function cW(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(x4(i,s,r))return t.step(new Rr(e,n,r));let l=v4(i,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let d=-(i.depth+1);l.unshift(d);for(let E=i.depth,A=i.pos-1;E>0;E--,A--){let T=i.node(E).type.spec;if(T.defining||T.definingAsContext||T.isolating)break;l.indexOf(E)>-1?d=E:i.before(E)==A&&l.splice(1,0,-E)}let h=l.indexOf(d),m=[],b=r.openStart;for(let E=r.content,A=0;;A++){let T=E.firstChild;if(m.push(T),A==r.openStart)break;E=T.content}for(let E=b-1;E>=0;E--){let A=m[E],T=lW(A.type);if(T&&!A.sameMarkup(i.node(Math.abs(d)-1)))b=E;else if(T||!A.type.isTextblock)break}for(let E=r.openStart;E>=0;E--){let A=(E+b+1)%(r.openStart+1),T=m[A];if(T)for(let R=0;R<l.length;R++){let I=l[(R+h)%l.length],D=!0;I<0&&(D=!1,I=-I);let F=i.node(I-1),P=i.index(I-1);if(F.canReplaceWith(P,P,T.type,T.marks))return t.replace(i.before(I),D?s.after(I):n,new $e(b4(r.content,0,r.openStart,A),A,r.openEnd))}}let C=t.steps.length;for(let E=l.length-1;E>=0&&(t.replace(e,n,r),!(t.steps.length>C));E--){let A=l[E];A<0||(e=i.before(A),n=s.after(A))}}function b4(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(b4(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),l=s.fillBefore(t).append(t);t=l.append(s.matchFragment(l).fillBefore(ke.empty,!0))}return t}function uW(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=sW(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new $e(ke.from(r),0,0))}function dW(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=v4(r,i);for(let l=0;l<s.length;l++){let d=s[l],h=l==s.length-1;if(h&&d==0||r.node(d).type.contentMatch.validEnd)return t.delete(r.start(d),i.end(d));if(d>0&&(h||r.node(d-1).canReplace(r.index(d-1),i.indexAfter(d-1))))return t.delete(r.before(d),i.after(d))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function v4(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Cu extends ri{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return dr.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return dr.fromReplace(e,this.pos,this.pos+1,new $e(ke.from(i),0,n.isLeaf?0:1))}getMap(){return Yi.empty}invert(e){return new Cu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Cu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Cu(n.pos,n.attr,n.value)}}ri.jsonID("attr",Cu);class hf extends ri{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return dr.ok(r)}getMap(){return Yi.empty}invert(e){return new hf(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new hf(n.attr,n.value)}}ri.jsonID("docAttr",hf);let Eu=class extends Error{};Eu=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Eu.prototype=Object.create(Error.prototype);Eu.prototype.constructor=Eu;Eu.prototype.name="TransformError";class w4{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ff}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Eu(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=$e.empty){let i=Xp(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new $e(ke.from(r),0,0))}delete(e,n){return this.replace(e,n,$e.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return cW(this,e,n,r),this}replaceRangeWith(e,n,r){return uW(this,e,n,r),this}deleteRange(e,n){return dW(this,e,n),this}lift(e,n){return Yq(this,e,n),this}join(e,n=1){return iW(this,e,n),this}wrap(e,n){return Qq(this,e,n),this}setBlockType(e,n=e,r,i=null){return Jq(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return tW(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Cu(e,n,r)),this}setDocAttribute(e,n){return this.step(new hf(e,n)),this}addNodeMark(e,n){return this.step(new Jo(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof vn)n.isInSet(r.marks)&&this.step(new ac(e,n));else{let i=r.marks,s,l=[];for(;s=n.isInSet(i);)l.push(new ac(e,s)),i=s.removeFromSet(i);for(let d=l.length-1;d>=0;d--)this.step(l[d])}return this}split(e,n=1,r){return nW(this,e,n,r),this}addMark(e,n,r){return qq(this,e,n,r),this}removeMark(e,n,r){return Wq(this,e,n,r),this}clearIncompatible(e,n,r){return H2(this,e,n,r),this}}const tx=Object.create(null);class Nt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new fW(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=$e.empty){let r=n.content.lastChild,i=null;for(let d=0;d<n.openEnd;d++)i=r,r=r.lastChild;let s=e.steps.length,l=this.ranges;for(let d=0;d<l.length;d++){let{$from:h,$to:m}=l[d],b=e.mapping.slice(s);e.replaceRange(b.map(h.pos),b.map(m.pos),d?$e.empty:n),d==0&&k3(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:l,$to:d}=i[s],h=e.mapping.slice(r),m=h.map(l.pos),b=h.map(d.pos);s?e.deleteRange(m,b):(e.replaceRangeWith(m,b,n),k3(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new pt(e):pu(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let l=n<0?pu(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):pu(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Ki(e.node(0))}static atStart(e){return pu(e,e,0,0,1)||new Ki(e)}static atEnd(e){return pu(e,e,e.content.size,e.childCount,-1)||new Ki(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=tx[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in tx)throw new RangeError("Duplicate use of selection JSON ID "+e);return tx[e]=n,n.prototype.jsonID=e,n}getBookmark(){return pt.between(this.$anchor,this.$head).getBookmark()}}Nt.prototype.visible=!0;class fW{constructor(e,n){this.$from=e,this.$to=n}}let R3=!1;function I3(t){!R3&&!t.parent.inlineContent&&(R3=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class pt extends Nt{constructor(e,n=e){I3(e),I3(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Nt.near(r);let i=e.resolve(n.map(this.anchor));return new pt(i.parent.inlineContent?i:r,r)}replace(e,n=$e.empty){if(super.replace(e,n),n==$e.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof pt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Yp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new pt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Nt.findFrom(n,r,!0)||Nt.findFrom(n,-r,!0);if(s)n=s.$head;else return Nt.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Nt.findFrom(e,-r,!0)||Nt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new pt(e,n)}}Nt.jsonID("text",pt);class Yp{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Yp(e.map(this.anchor),e.map(this.head))}resolve(e){return pt.between(e.resolve(this.anchor),e.resolve(this.head))}}class lt extends Nt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Nt.near(s):new lt(s)}content(){return new $e(ke.from(this.node),0,0)}eq(e){return e instanceof lt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new $2(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new lt(e.resolve(n.anchor))}static create(e,n){return new lt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}lt.prototype.visible=!1;Nt.jsonID("node",lt);class $2{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Yp(r,r):new $2(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&lt.isSelectable(r)?new lt(n):Nt.near(n)}}class Ki extends Nt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=$e.empty){if(n==$e.empty){e.delete(0,e.doc.content.size);let r=Nt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ki(e)}map(e){return new Ki(e)}eq(e){return e instanceof Ki}getBookmark(){return hW}}Nt.jsonID("all",Ki);const hW={map(){return this},resolve(t){return new Ki(t)}};function pu(t,e,n,r,i,s=!1){if(e.inlineContent)return pt.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let d=e.child(l);if(d.isAtom){if(!s&&lt.isSelectable(d))return lt.create(t,n-(i<0?d.nodeSize:0))}else{let h=pu(t,d,n+i,i<0?d.childCount:0,i,s);if(h)return h}n+=d.nodeSize*i}return null}function k3(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Rr||i instanceof Ir))return;let s=t.mapping.maps[r],l;s.forEach((d,h,m,b)=>{l==null&&(l=b)}),t.setSelection(Nt.near(t.doc.resolve(l),n))}const D3=1,B3=2,L3=4;class pW extends w4{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|D3)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&D3)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=B3,this}ensureMarks(e){return vn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&B3)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||vn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let l=this.doc.resolve(n);s=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Nt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=L3,this}get scrolledIntoView(){return(this.updated&L3)>0}}function j3(t,e){return!e||!t?t:t.bind(e)}class Yd{constructor(e,n,r){this.name=e,this.init=j3(n.init,r),this.apply=j3(n.apply,r)}}const mW=[new Yd("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Yd("selection",{init(t,e){return t.selection||Nt.atStart(e.doc)},apply(t){return t.selection}}),new Yd("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Yd("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class nx{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=mW.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Yd(r.key,r.spec.state,r))})}}class bu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let l=0;l<this.config.plugins.length;l++){let d=this.config.plugins[l];if(d.spec.appendTransaction){let h=i?i[l].n:0,m=i?i[l].state:this,b=h<n.length&&d.spec.appendTransaction.call(d,h?n.slice(h):n,m,r);if(b&&r.filterTransaction(b,l)){if(b.setMeta("appendedTransaction",e),!i){i=[];for(let C=0;C<this.config.plugins.length;C++)i.push(C<l?{state:r,n:n.length}:{state:this,n:0})}n.push(b),r=r.applyInner(b),s=!0}i&&(i[l]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new bu(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new pW(this)}static create(e){let n=new nx(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new bu(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new nx(this.schema,e.plugins),r=n.fields,i=new bu(n);for(let s=0;s<r.length;s++){let l=r[s].name;i[l]=this.hasOwnProperty(l)?this[l]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new nx(e.schema,e.plugins),s=new bu(i);return i.fields.forEach(l=>{if(l.name=="doc")s.doc=Ls.fromJSON(e.schema,n.doc);else if(l.name=="selection")s.selection=Nt.fromJSON(s.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let d in r){let h=r[d],m=h.spec.state;if(h.key==l.name&&m&&m.fromJSON&&Object.prototype.hasOwnProperty.call(n,d)){s[l.name]=m.fromJSON.call(h,e,n[d],s);return}}s[l.name]=l.init(e,s)}}),s}}function C4(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=C4(i,e,{})),n[r]=i}return n}class Zn{constructor(e){this.spec=e,this.props={},e.props&&C4(e.props,this,this.props),this.key=e.key?e.key.key:_4("plugin")}getState(e){return e[this.key]}}const rx=Object.create(null);function _4(t){return t in rx?t+"$"+ ++rx[t]:(rx[t]=0,t+"$")}class Br{constructor(e="key"){this.key=_4(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Hr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Au=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let qx=null;const Ja=function(t,e,n){let r=qx||(qx=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},gW=function(){qx=null},oc=function(t,e,n,r){return n&&(P3(t,e,n,r,-1)||P3(t,e,n,r,1))},xW=/^(img|br|input|textarea|hr)$/i;function P3(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ms(t))){let l=t.parentNode;if(!l||l.nodeType!=1||Rf(t)||xW.test(t.nodeName)||t.contentEditable=="false")return!1;e=Hr(t)+(i<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((s=l.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=l,e=i<0?ms(t):0}else return!1}}function ms(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function yW(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=ms(t)}else if(t.parentNode&&!Rf(t))e=Hr(t),t=t.parentNode;else return null}}function bW(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Rf(t))e=Hr(t)+1,t=t.parentNode;else return null}}function vW(t,e,n){for(let r=e==0,i=e==ms(t);r||i;){if(t==n)return!0;let s=Hr(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==ms(t)}}function Rf(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Kp=function(t){return t.focusNode&&oc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function $l(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function wW(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function CW(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(ms(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(ms(r.startContainer),r.startOffset)}}}const pa=typeof navigator<"u"?navigator:null,z3=typeof document<"u"?document:null,pl=pa&&pa.userAgent||"",Wx=/Edge\/(\d+)/.exec(pl),S4=/MSIE \d/.exec(pl),Xx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pl),Ri=!!(S4||Xx||Wx),rl=S4?document.documentMode:Xx?+Xx[1]:Wx?+Wx[1]:0,gs=!Ri&&/gecko\/(\d+)/i.test(pl);gs&&+(/Firefox\/(\d+)/.exec(pl)||[0,0])[1];const Yx=!Ri&&/Chrome\/(\d+)/.exec(pl),ni=!!Yx,E4=Yx?+Yx[1]:0,pi=!Ri&&!!pa&&/Apple Computer/.test(pa.vendor),Tu=pi&&(/Mobile\/\w+/.test(pl)||!!pa&&pa.maxTouchPoints>2),ps=Tu||(pa?/Mac/.test(pa.platform):!1),_W=pa?/Win/.test(pa.platform):!1,eo=/Android \d/.test(pl),If=!!z3&&"webkitFontSmoothing"in z3.documentElement.style,SW=If?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function EW(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Wa(t,e){return typeof t=="number"?t:t[e]}function AW(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function F3(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=Au(l);continue}let d=l,h=d==s.body,m=h?EW(s):AW(d),b=0,C=0;if(e.top<m.top+Wa(r,"top")?C=-(m.top-e.top+Wa(i,"top")):e.bottom>m.bottom-Wa(r,"bottom")&&(C=e.bottom-e.top>m.bottom-m.top?e.top+Wa(i,"top")-m.top:e.bottom-m.bottom+Wa(i,"bottom")),e.left<m.left+Wa(r,"left")?b=-(m.left-e.left+Wa(i,"left")):e.right>m.right-Wa(r,"right")&&(b=e.right-m.right+Wa(i,"right")),b||C)if(h)s.defaultView.scrollBy(b,C);else{let A=d.scrollLeft,T=d.scrollTop;C&&(d.scrollTop+=C),b&&(d.scrollLeft+=b);let R=d.scrollLeft-A,I=d.scrollTop-T;e={left:e.left-R,top:e.top-I,right:e.right-R,bottom:e.bottom-I}}let E=h?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(E))break;l=E=="absolute"?l.offsetParent:Au(l)}}function TW(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let d=t.root.elementFromPoint(s,l);if(!d||d==t.dom||!t.dom.contains(d))continue;let h=d.getBoundingClientRect();if(h.top>=n-20){r=d,i=h.top;break}}return{refDOM:r,refTop:i,stack:A4(t.dom)}}function A4(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Au(r));return e}function NW({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;T4(n,r==0?0:r-e)}function T4(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let uu=null;function OW(t){if(t.setActive)return t.setActive();if(uu)return t.focus(uu);let e=A4(t);t.focus(uu==null?{get preventScroll(){return uu={preventScroll:!0},!0}}:void 0),uu||(uu=!1,T4(e,0))}function N4(t,e){let n,r=2e8,i,s=0,l=e.top,d=e.top,h,m;for(let b=t.firstChild,C=0;b;b=b.nextSibling,C++){let E;if(b.nodeType==1)E=b.getClientRects();else if(b.nodeType==3)E=Ja(b).getClientRects();else continue;for(let A=0;A<E.length;A++){let T=E[A];if(T.top<=l&&T.bottom>=d){l=Math.max(T.bottom,l),d=Math.min(T.top,d);let R=T.left>e.left?T.left-e.left:T.right<e.left?e.left-T.right:0;if(R<r){n=b,r=R,i=R&&n.nodeType==3?{left:T.right<e.left?T.right:T.left,top:e.top}:e,b.nodeType==1&&R&&(s=C+(e.left>=(T.left+T.right)/2?1:0));continue}}else T.top>e.top&&!h&&T.left<=e.left&&T.right>=e.left&&(h=b,m={left:Math.max(T.left,Math.min(T.right,e.left)),top:T.top});!n&&(e.left>=T.right&&e.top>=T.top||e.left>=T.left&&e.top>=T.bottom)&&(s=C+1)}}return!n&&h&&(n=h,i=m,r=0),n&&n.nodeType==3?MW(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:N4(n,i)}function MW(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=$o(r,1);if(s.top!=s.bottom&&G2(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function G2(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function RW(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function IW(t,e,n){let{node:r,offset:i}=N4(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();s=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function kW(t,e,n,r){let i=-1;for(let s=e,l=!1;s!=t.dom;){let d=t.docView.nearestDesc(s,!0),h;if(!d)return null;if(d.dom.nodeType==1&&(d.node.isBlock&&d.parent||!d.contentDOM)&&((h=d.dom.getBoundingClientRect()).width||h.height)&&(d.node.isBlock&&d.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(d.dom.nodeName)&&(!l&&h.left>r.left||h.top>r.top?i=d.posBefore:(!l&&h.right<r.left||h.bottom<r.top)&&(i=d.posAfter),l=!0),!d.contentDOM&&i<0&&!d.node.isText))return(d.node.isBlock?r.top<(h.top+h.bottom)/2:r.left<(h.left+h.right)/2)?d.posBefore:d.posAfter;s=d.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function O4(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let l=t.childNodes[s];if(l.nodeType==1){let d=l.getClientRects();for(let h=0;h<d.length;h++){let m=d[h];if(G2(e,m))return O4(l,e,m)}}if((s=(s+1)%r)==i)break}return t}function DW(t,e){let n=t.dom.ownerDocument,r,i=0,s=CW(n,e.left,e.top);s&&({node:r,offset:i}=s);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),d;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let m=t.dom.getBoundingClientRect();if(!G2(e,m)||(l=O4(t.dom,e,m),!l))return null}if(pi)for(let m=l;r&&m;m=Au(m))m.draggable&&(r=void 0);if(l=RW(l,e),r){if(gs&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let b=r.childNodes[i],C;b.nodeName=="IMG"&&(C=b.getBoundingClientRect()).right<=e.left&&C.bottom>e.top&&i++}let m;If&&i&&r.nodeType==1&&(m=r.childNodes[i-1]).nodeType==1&&m.contentEditable=="false"&&m.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?d=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(d=kW(t,r,i,e))}d==null&&(d=IW(t,l,e));let h=t.docView.nearestDesc(l,!0);return{pos:d,inside:h?h.posAtStart-h.border:-1}}function U3(t){return t.top<t.bottom||t.left<t.right}function $o(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(U3(r))return r}return Array.prototype.find.call(n,U3)||t.getBoundingClientRect()}const BW=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function M4(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),l=If||gs;if(r.nodeType==3)if(l&&(BW.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let h=$o(Ja(r,i,i),n);if(gs&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let m=$o(Ja(r,i-1,i-1),-1);if(m.top==h.top){let b=$o(Ja(r,i,i+1),-1);if(b.top!=h.top)return zd(b,b.left<m.left)}}return h}else{let h=i,m=i,b=n<0?1:-1;return n<0&&!i?(m++,b=-1):n>=0&&i==r.nodeValue.length?(h--,b=1):n<0?h--:m++,zd($o(Ja(r,h,m),b),b<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==ms(r))){let h=r.childNodes[i-1];if(h.nodeType==1)return ix(h.getBoundingClientRect(),!1)}if(s==null&&i<ms(r)){let h=r.childNodes[i];if(h.nodeType==1)return ix(h.getBoundingClientRect(),!0)}return ix(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==ms(r))){let h=r.childNodes[i-1],m=h.nodeType==3?Ja(h,ms(h)-(l?0:1)):h.nodeType==1&&(h.nodeName!="BR"||!h.nextSibling)?h:null;if(m)return zd($o(m,1),!1)}if(s==null&&i<ms(r)){let h=r.childNodes[i];for(;h.pmViewDesc&&h.pmViewDesc.ignoreForCoords;)h=h.nextSibling;let m=h?h.nodeType==3?Ja(h,0,l?0:1):h.nodeType==1?h:null:null;if(m)return zd($o(m,-1),!0)}return zd($o(r.nodeType==3?Ja(r):r,-n),n>=0)}function zd(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function ix(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function R4(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function LW(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return R4(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let d=t.docView.nearestDesc(s,!0);if(!d)break;if(d.node.isBlock){s=d.contentDOM||d.dom;break}s=d.dom.parentNode}let l=M4(t,i.pos,1);for(let d=s.firstChild;d;d=d.nextSibling){let h;if(d.nodeType==1)h=d.getClientRects();else if(d.nodeType==3)h=Ja(d,0,d.nodeValue.length).getClientRects();else continue;for(let m=0;m<h.length;m++){let b=h[m];if(b.bottom>b.top+1&&(n=="up"?l.top-b.top>(b.bottom-l.top)*2:b.bottom-l.bottom>(l.bottom-b.top)*2))return!1}}return!0})}const jW=/[\u0590-\u08ac]/;function PW(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,l=i==r.parent.content.size,d=t.domSelection();return d?!jW.test(r.parent.textContent)||!d.modify?n=="left"||n=="backward"?s:l:R4(t,e,()=>{let{focusNode:h,focusOffset:m,anchorNode:b,anchorOffset:C}=t.domSelectionRange(),E=d.caretBidiLevel;d.modify("move",n,"character");let A=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:T,focusOffset:R}=t.domSelectionRange(),I=T&&!A.contains(T.nodeType==1?T:T.parentNode)||h==T&&m==R;try{d.collapse(b,C),h&&(h!=b||m!=C)&&d.extend&&d.extend(h,m)}catch{}return E!=null&&(d.caretBidiLevel=E),I}):r.pos==r.start()||r.pos==r.end()}let H3=null,V3=null,$3=!1;function zW(t,e,n){return H3==e&&V3==n?$3:(H3=e,V3=n,$3=n=="up"||n=="down"?LW(t,e,n):PW(t,e,n))}const xs=0,G3=1,Wl=2,ma=3;class kf{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=xs,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,l;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(l)+l.size:this.posAtStart}else{let s,l;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Hr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),l;if(s&&(!n||s.node))if(r&&(l=s.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let d=i.children[l];if(d.size){i=d;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let l=this.children[r],d=s+l.size;if(d>e||l instanceof k4){i=e-s;break}s=d}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof I4&&s.side>=0;r--);if(n<=0){let s,l=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,l=!1);return s&&n&&l&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Hr(s.dom)+1:0}}else{let s,l=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,l=!1);return s&&l&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Hr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let l=r,d=0;;d++){let h=this.children[d],m=l+h.size;if(i==-1&&e<=m){let b=l+h.border;if(e>=b&&n<=m-h.border&&h.node&&h.contentDOM&&this.contentDOM.contains(h.contentDOM))return h.parseRange(e,n,b);e=l;for(let C=d;C>0;C--){let E=this.children[C-1];if(E.size&&E.dom.parentNode==this.contentDOM&&!E.emptyChildAt(1)){i=Hr(E.dom)+1;break}e-=E.size}i==-1&&(i=0)}if(i>-1&&(m>n||d==this.children.length-1)){n=m;for(let b=d+1;b<this.children.length;b++){let C=this.children[b];if(C.size&&C.dom.parentNode==this.contentDOM&&!C.emptyChildAt(-1)){s=Hr(C.dom);break}n+=C.size}s==-1&&(s=this.contentDOM.childNodes.length);break}l=m}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),l=Math.max(e,n);for(let A=0,T=0;A<this.children.length;A++){let R=this.children[A],I=T+R.size;if(s>T&&l<I)return R.setSelection(e-T-R.border,n-T-R.border,r,i);T=I}let d=this.domFromPos(e,e?-1:1),h=n==e?d:this.domFromPos(n,n?-1:1),m=r.root.getSelection(),b=r.domSelectionRange(),C=!1;if((gs||pi)&&e==n){let{node:A,offset:T}=d;if(A.nodeType==3){if(C=!!(T&&A.nodeValue[T-1]==`
`),C&&T==A.nodeValue.length)for(let R=A,I;R;R=R.parentNode){if(I=R.nextSibling){I.nodeName=="BR"&&(d=h={node:I.parentNode,offset:Hr(I)+1});break}let D=R.pmViewDesc;if(D&&D.node&&D.node.isBlock)break}}else{let R=A.childNodes[T-1];C=R&&(R.nodeName=="BR"||R.contentEditable=="false")}}if(gs&&b.focusNode&&b.focusNode!=h.node&&b.focusNode.nodeType==1){let A=b.focusNode.childNodes[b.focusOffset];A&&A.contentEditable=="false"&&(i=!0)}if(!(i||C&&pi)&&oc(d.node,d.offset,b.anchorNode,b.anchorOffset)&&oc(h.node,h.offset,b.focusNode,b.focusOffset))return;let E=!1;if((m.extend||e==n)&&!(C&&gs)){m.collapse(d.node,d.offset);try{e!=n&&m.extend(h.node,h.offset),E=!0}catch{}}if(!E){if(e>n){let T=d;d=h,h=T}let A=document.createRange();A.setEnd(h.node,h.offset),A.setStart(d.node,d.offset),m.removeAllRanges(),m.addRange(A)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],l=r+s.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let d=r+s.border,h=l-s.border;if(e>=d&&n<=h){this.dirty=e==r||n==l?Wl:G3,e==d&&n==h&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=ma:s.markDirty(e-d,n-d);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Wl:ma}r=l}this.dirty=Wl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Wl:G3;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class I4 extends kf{constructor(e,n,r,i){let s,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(l.nodeType!=1){let d=document.createElement("span");d.appendChild(l),l=d}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==xs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class FW extends kf{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class lc extends kf{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],l=s&&s(n,i,r);return(!l||!l.dom)&&(l=pc.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new lc(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&ma||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ma&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=xs){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=xs}}slice(e,n,r){let i=lc.create(this.parent,this.mark,!0,r),s=this.children,l=this.size;n<l&&(s=Zx(s,n,l,r)),e>0&&(s=Zx(s,0,e,r));for(let d=0;d<s.length;d++)s[d].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class il extends kf{constructor(e,n,r,i,s,l,d,h,m){super(e,[],s,l),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=d}static create(e,n,r,i,s,l){let d=s.nodeViews[n.type.name],h,m=d&&d(n,s,()=>{if(!h)return l;if(h.parent)return h.parent.posBeforeChild(h)},r,i),b=m&&m.dom,C=m&&m.contentDOM;if(n.isText){if(!b)b=document.createTextNode(n.text);else if(b.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else b||({dom:b,contentDOM:C}=pc.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!C&&!n.isText&&b.nodeName!="BR"&&(b.hasAttribute("contenteditable")||(b.contentEditable="false"),n.type.spec.draggable&&(b.draggable=!0));let E=b;return b=L4(b,r,n),m?h=new UW(e,n,r,i,b,C||null,E,m,s,l+1):n.isText?new Zp(e,n,r,i,b,E,s):new il(e,n,r,i,b,C||null,E,s,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ke.empty)}return e}matchesNode(e,n,r){return this.dirty==xs&&e.eq(this.node)&&K1(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,l=s&&s.pos>-1?s:null,d=s&&s.pos<0,h=new VW(this,l&&l.node,e);qW(this.node,this.innerDeco,(m,b,C)=>{m.spec.marks?h.syncToMarks(m.spec.marks,r,e):m.type.side>=0&&!C&&h.syncToMarks(b==this.node.childCount?vn.none:this.node.child(b).marks,r,e),h.placeWidget(m,e,i)},(m,b,C,E)=>{h.syncToMarks(m.marks,r,e);let A;h.findNodeMatch(m,b,C,E)||d&&e.state.selection.from>i&&e.state.selection.to<i+m.nodeSize&&(A=h.findIndexWithChild(s.node))>-1&&h.updateNodeAt(m,b,C,A,e)||h.updateNextNode(m,b,C,e,E,i)||h.addNode(m,b,C,e,i),i+=m.nodeSize}),h.syncToMarks([],r,e),this.node.isTextblock&&h.addTextblockHacks(),h.destroyRest(),(h.changed||this.dirty==Wl)&&(l&&this.protectLocalComposition(e,l),D4(this.contentDOM,this.children,e),Tu&&WW(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof pt)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,d=XW(this.node.content,l,r-n,i-n);return d<0?null:{node:s,pos:d,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let l=new FW(this,s,n,i);e.input.compositionNodes.push(l),this.children=Zx(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==ma||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=xs}updateOuterDeco(e){if(K1(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=B4(this.dom,this.nodeDOM,Kx(this.outerDeco,this.node,n),Kx(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function q3(t,e,n,r,i){L4(r,e,t);let s=new il(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Zp extends il{constructor(e,n,r,i,s,l,d){super(e,n,r,i,s,null,l,d,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==ma||this.dirty!=xs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=xs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=xs,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Zp(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ma)}get domAtom(){return!1}isText(e){return this.node.text==e}}class k4 extends kf{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==xs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class UW extends il{constructor(e,n,r,i,s,l,d,h,m,b){super(e,n,r,i,s,l,d,m,b),this.spec=h}update(e,n,r,i){if(this.dirty==ma)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function D4(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let l=e[s],d=l.dom;if(d.parentNode==t){for(;d!=r;)r=W3(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(d,r);if(l instanceof lc){let h=r?r.previousSibling:t.lastChild;D4(l.contentDOM,l.children,n),r=h?h.nextSibling:t.firstChild}}for(;r;)r=W3(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Jd=function(t){t&&(this.nodeName=t)};Jd.prototype=Object.create(null);const Xl=[new Jd];function Kx(t,e,n){if(t.length==0)return Xl;let r=n?Xl[0]:new Jd,i=[r];for(let s=0;s<t.length;s++){let l=t[s].type.attrs;if(l){l.nodeName&&i.push(r=new Jd(l.nodeName));for(let d in l){let h=l[d];h!=null&&(n&&i.length==1&&i.push(r=new Jd(e.isInline?"span":"div")),d=="class"?r.class=(r.class?r.class+" ":"")+h:d=="style"?r.style=(r.style?r.style+";":"")+h:d!="nodeName"&&(r[d]=h))}}}return i}function B4(t,e,n,r){if(n==Xl&&r==Xl)return e;let i=e;for(let s=0;s<r.length;s++){let l=r[s],d=n[s];if(s){let h;d&&d.nodeName==l.nodeName&&i!=t&&(h=i.parentNode)&&h.nodeName.toLowerCase()==l.nodeName||(h=document.createElement(l.nodeName),h.pmIsDeco=!0,h.appendChild(i),d=Xl[0]),i=h}HW(i,d||Xl[0],l)}return i}function HW(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function L4(t,e,n){return B4(t,t,Xl,Kx(e,n,t.nodeType!=1))}function K1(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function W3(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class VW{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=$W(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,l=Math.min(s,e.length);for(;i<l&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=xs,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let d=-1;for(let h=this.index;h<Math.min(this.index+3,this.top.children.length);h++){let m=this.top.children[h];if(m.matchesMark(e[s])&&!this.isLocked(m.dom)){d=h;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let h=lc.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,h),this.top=h,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))s=this.top.children.indexOf(l,this.index);else for(let d=this.index,h=Math.min(this.top.children.length,d+5);d<h;d++){let m=this.top.children[d];if(m.matchesNode(e,n,r)&&!this.preMatch.matched.has(m)){s=d;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let l=this.top.children[i];return l.dirty==ma&&l.dom==l.contentDOM&&(l.dirty=Wl),l.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,l){for(let d=this.index;d<this.top.children.length;d++){let h=this.top.children[d];if(h instanceof il){let m=this.preMatch.matched.get(h);if(m!=null&&m!=s)return!1;let b=h.dom,C,E=this.isLocked(b)&&!(e.isText&&h.node&&h.node.isText&&h.nodeDOM.nodeValue==e.text&&h.dirty!=ma&&K1(n,h.outerDeco));if(!E&&h.update(e,n,r,i))return this.destroyBetween(this.index,d),h.dom!=b&&(this.changed=!0),this.index++,!0;if(!E&&(C=this.recreateWrapper(h,e,n,r,i,l)))return this.destroyBetween(this.index,d),this.top.children[this.index]=C,C.contentDOM&&(C.dirty=Wl,C.updateChildren(i,l+1),C.dirty=xs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!K1(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let d=il.create(this.top,n,r,i,s,l);if(d.contentDOM){d.children=e.children,e.children=[];for(let h of d.children)h.parent=d}return e.destroy(),d}addNode(e,n,r,i,s){let l=il.create(this.top,e,n,r,i,s);l.contentDOM&&l.updateChildren(i,s+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new I4(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof lc;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Zp)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((pi||ni)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new k4(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function $W(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,l=[];e:for(;i>0;){let d;for(;;)if(r){let m=n.children[r-1];if(m instanceof lc)n=m,r=m.children.length;else{d=m,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let h=d.node;if(h){if(h!=t.child(i-1))break;--i,s.set(d,i),l.push(d)}}return{index:i,matched:s,matches:l.reverse()}}function GW(t,e){return t.type.side-e.type.side}function qW(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let m=0;m<t.childCount;m++){let b=t.child(m);r(b,i,e.forChild(s,b),m),s+=b.nodeSize}return}let l=0,d=[],h=null;for(let m=0;;){let b,C;for(;l<i.length&&i[l].to==s;){let I=i[l++];I.widget&&(b?(C||(C=[b])).push(I):b=I)}if(b)if(C){C.sort(GW);for(let I=0;I<C.length;I++)n(C[I],m,!!h)}else n(b,m,!!h);let E,A;if(h)A=-1,E=h,h=null;else if(m<t.childCount)A=m,E=t.child(m++);else break;for(let I=0;I<d.length;I++)d[I].to<=s&&d.splice(I--,1);for(;l<i.length&&i[l].from<=s&&i[l].to>s;)d.push(i[l++]);let T=s+E.nodeSize;if(E.isText){let I=T;l<i.length&&i[l].from<I&&(I=i[l].from);for(let D=0;D<d.length;D++)d[D].to<I&&(I=d[D].to);I<T&&(h=E.cut(I-s),E=E.cut(0,I-s),T=I,A=-1)}else for(;l<i.length&&i[l].to<T;)l++;let R=E.isInline&&!E.isLeaf?d.filter(I=>!I.inline):d.slice();r(E,R,e.forChild(s,E),A),s=T}}function WW(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function XW(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let l=t.child(i++),d=s;if(s+=l.nodeSize,!l.isText)continue;let h=l.text;for(;i<t.childCount;){let m=t.child(i++);if(s+=m.nodeSize,!m.isText)break;h+=m.text}if(s>=n){if(s>=r&&h.slice(r-e.length-d,r-d)==e)return r-e.length;let m=d<r?h.lastIndexOf(e,r-d-1):-1;if(m>=0&&m+e.length+d>=n)return d+m;if(n==r&&h.length>=r+e.length-d&&h.slice(r-d,r-d+e.length)==e)return r}}return-1}function Zx(t,e,n,r,i){let s=[];for(let l=0,d=0;l<t.length;l++){let h=t[l],m=d,b=d+=h.size;m>=n||b<=e?s.push(h):(m<e&&s.push(h.slice(0,e-m,r)),i&&(s.push(i),i=void 0),b>n&&s.push(h.slice(n-m,h.size,r)))}return s}function q2(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let d=r.resolve(l),h,m;if(Kp(n)){for(h=l;i&&!i.node;)i=i.parent;let C=i.node;if(i&&C.isAtom&&lt.isSelectable(C)&&i.parent&&!(C.isInline&&vW(n.focusNode,n.focusOffset,i.dom))){let E=i.posBefore;m=new lt(l==E?d:r.resolve(E))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let C=l,E=l;for(let A=0;A<n.rangeCount;A++){let T=n.getRangeAt(A);C=Math.min(C,t.docView.posFromDOM(T.startContainer,T.startOffset,1)),E=Math.max(E,t.docView.posFromDOM(T.endContainer,T.endOffset,-1))}if(C<0)return null;[h,l]=E==t.state.selection.anchor?[E,C]:[C,E],d=r.resolve(l)}else h=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(h<0)return null}let b=r.resolve(h);if(!m){let C=e=="pointer"||t.state.selection.head<d.pos&&!s?1:-1;m=W2(t,b,d,C)}return m}function j4(t){return t.editable?t.hasFocus():z4(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function no(t,e=!1){let n=t.state.selection;if(P4(t,n),!!j4(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ni){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&oc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)KW(t);else{let{anchor:r,head:i}=n,s,l;X3&&!(n instanceof pt)&&(n.$from.parent.inlineContent||(s=Y3(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=Y3(t,n.to))),t.docView.setSelection(r,i,t,e),X3&&(s&&K3(s),l&&K3(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&YW(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const X3=pi||ni&&E4<63;function Y3(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(pi&&i&&i.contentEditable=="false")return sx(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return sx(i);if(s)return sx(s)}}function sx(t){return t.contentEditable="true",pi&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function K3(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function YW(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!j4(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function KW(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Hr(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Ri&&rl<=11&&(n.disabled=!0,n.disabled=!1)}function P4(t,e){if(e instanceof lt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Z3(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Z3(t)}function Z3(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function W2(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||pt.between(e,n,r)}function Q3(t){return t.editable&&!t.hasFocus()?!1:z4(t)}function z4(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function ZW(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return oc(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Qx(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Nt.findFrom(s,e)}function Go(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function J3(t,e,n){let r=t.state.selection;if(r instanceof pt)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let l=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Go(t,new pt(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Qx(t.state,e);return i&&i instanceof lt?Go(t,i):!1}else if(!(ps&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!s||s.isText)return!1;let d=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(l=t.docView.descAt(d))&&!l.contentDOM?lt.isSelectable(s)?Go(t,new lt(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):If?Go(t,new pt(t.state.doc.resolve(e<0?d:d+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof lt&&r.node.isInline)return Go(t,new pt(e>0?r.$to:r.$from));{let i=Qx(t.state,e);return i?Go(t,i):!1}}}function Z1(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ef(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function du(t,e){return e<0?QW(t):JW(t)}function QW(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,l=!1;for(gs&&n.nodeType==1&&r<Z1(n)&&ef(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let d=n.childNodes[r-1];if(ef(d,-1))i=n,s=--r;else if(d.nodeType==3)n=d,r=n.nodeValue.length;else break}}else{if(F4(n))break;{let d=n.previousSibling;for(;d&&ef(d,-1);)i=n.parentNode,s=Hr(d),d=d.previousSibling;if(d)n=d,r=Z1(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?Jx(t,n,r):i&&Jx(t,i,s)}function JW(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Z1(n),s,l;for(;;)if(r<i){if(n.nodeType!=1)break;let d=n.childNodes[r];if(ef(d,1))s=n,l=++r;else break}else{if(F4(n))break;{let d=n.nextSibling;for(;d&&ef(d,1);)s=d.parentNode,l=Hr(d)+1,d=d.nextSibling;if(d)n=d,r=0,i=Z1(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Jx(t,s,l)}function F4(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function eX(t,e){for(;t&&e==t.childNodes.length&&!Rf(t);)e=Hr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function tX(t,e){for(;t&&!e&&!Rf(t);)e=Hr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Jx(t,e,n){if(e.nodeType!=3){let s,l;(l=eX(e,n))?(e=l,n=0):(s=tX(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Kp(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&no(t)},50)}function e_(t,e){let n=t.state.doc.resolve(e);if(!(ni||_W)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function t_(t,e,n){let r=t.state.selection;if(r instanceof pt&&!r.empty||n.indexOf("s")>-1||ps&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=Qx(t.state,e);if(l&&l instanceof lt)return Go(t,l)}if(!i.parent.inlineContent){let l=e<0?i:s,d=r instanceof Ki?Nt.near(l,e):Nt.findFrom(l,e);return d?Go(t,d):!1}return!1}function n_(t,e){if(!(t.state.selection instanceof pt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let l=t.state.tr;return e<0?l.delete(n.pos-s.nodeSize,n.pos):l.delete(n.pos,n.pos+s.nodeSize),t.dispatch(l),!0}return!1}function r_(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function nX(t){if(!pi||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;r_(t,r,"true"),setTimeout(()=>r_(t,r,"false"),20)}return!1}function rX(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function iX(t,e){let n=e.keyCode,r=rX(e);if(n==8||ps&&n==72&&r=="c")return n_(t,-1)||du(t,-1);if(n==46&&!e.shiftKey||ps&&n==68&&r=="c")return n_(t,1)||du(t,1);if(n==13||n==27)return!0;if(n==37||ps&&n==66&&r=="c"){let i=n==37?e_(t,t.state.selection.from)=="ltr"?-1:1:-1;return J3(t,i,r)||du(t,i)}else if(n==39||ps&&n==70&&r=="c"){let i=n==39?e_(t,t.state.selection.from)=="ltr"?1:-1:1;return J3(t,i,r)||du(t,i)}else{if(n==38||ps&&n==80&&r=="c")return t_(t,-1,r)||du(t,-1);if(n==40||ps&&n==78&&r=="c")return nX(t)||t_(t,1,r)||du(t,1);if(r==(ps?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function X2(t,e){t.someProp("transformCopied",A=>{e=A(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let A=r.firstChild;n.push(A.type.name,A.attrs!=A.type.defaultAttrs?A.attrs:null),r=A.content}let l=t.someProp("clipboardSerializer")||pc.fromSchema(t.state.schema),d=q4(),h=d.createElement("div");h.appendChild(l.serializeFragment(r,{document:d}));let m=h.firstChild,b,C=0;for(;m&&m.nodeType==1&&(b=G4[m.nodeName.toLowerCase()]);){for(let A=b.length-1;A>=0;A--){let T=d.createElement(b[A]);for(;h.firstChild;)T.appendChild(h.firstChild);h.appendChild(T),C++}m=h.firstChild}m&&m.nodeType==1&&m.setAttribute("data-pm-slice",`${i} ${s}${C?` -${C}`:""} ${JSON.stringify(n)}`);let E=t.someProp("clipboardTextSerializer",A=>A(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:h,text:E,slice:e}}function U4(t,e,n,r,i){let s=i.parent.type.spec.code,l,d;if(!n&&!e)return null;let h=!!e&&(r||s||!n);if(h){if(t.someProp("transformPastedText",E=>{e=E(e,s||r,t)}),s)return d=new $e(ke.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",E=>{d=E(d,t,!0)}),d;let C=t.someProp("clipboardTextParser",E=>E(e,i,r,t));if(C)d=C;else{let E=i.marks(),{schema:A}=t.state,T=pc.fromSchema(A);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(R=>{let I=l.appendChild(document.createElement("p"));R&&I.appendChild(T.serializeNode(A.text(R,E)))})}}else t.someProp("transformPastedHTML",C=>{n=C(n,t)}),l=lX(n),If&&cX(l);let m=l&&l.querySelector("[data-pm-slice]"),b=m&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(m.getAttribute("data-pm-slice")||"");if(b&&b[3])for(let C=+b[3];C>0;C--){let E=l.firstChild;for(;E&&E.nodeType!=1;)E=E.nextSibling;if(!E)break;l=E}if(d||(d=(t.someProp("clipboardParser")||t.someProp("domParser")||nl.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(h||b),context:i,ruleFromNode(E){return E.nodeName=="BR"&&!E.nextSibling&&E.parentNode&&!sX.test(E.parentNode.nodeName)?{ignore:!0}:null}})),b)d=uX(i_(d,+b[1],+b[2]),b[4]);else if(d=$e.maxOpen(aX(d.content,i),!0),d.openStart||d.openEnd){let C=0,E=0;for(let A=d.content.firstChild;C<d.openStart&&!A.type.spec.isolating;C++,A=A.firstChild);for(let A=d.content.lastChild;E<d.openEnd&&!A.type.spec.isolating;E++,A=A.lastChild);d=i_(d,C,E)}return t.someProp("transformPasted",C=>{d=C(d,t,h)}),d}const sX=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function aX(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,l=[];if(t.forEach(d=>{if(!l)return;let h=i.findWrapping(d.type),m;if(!h)return l=null;if(m=l.length&&s.length&&V4(h,s,d,l[l.length-1],0))l[l.length-1]=m;else{l.length&&(l[l.length-1]=$4(l[l.length-1],s.length));let b=H4(d,h);l.push(b),i=i.matchType(b.type),s=h}}),l)return ke.from(l)}return t}function H4(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ke.from(t));return t}function V4(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=V4(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ke.from(H4(n,t,i+1))))}}function $4(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,$4(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ke.empty,!0);return t.copy(n.append(r))}function e2(t,e,n,r,i,s){let l=e<0?t.firstChild:t.lastChild,d=l.content;return t.childCount>1&&(s=0),i<r-1&&(d=e2(d,e,n,r,i+1,s)),i>=n&&(d=e<0?l.contentMatchAt(0).fillBefore(d,s<=i).append(d):d.append(l.contentMatchAt(l.childCount).fillBefore(ke.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(d))}function i_(t,e,n){return e<t.openStart&&(t=new $e(e2(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new $e(e2(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const G4={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let s_=null;function q4(){return s_||(s_=document.implementation.createHTMLDocument("title"))}let ax=null;function oX(t){let e=window.trustedTypes;return e?(ax||(ax=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),ax.createHTML(t)):t}function lX(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=q4().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&G4[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=oX(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function cX(t){let e=t.querySelectorAll(ni?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function uX(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:l}=t;for(let d=r.length-2;d>=0;d-=2){let h=n.nodes[r[d]];if(!h||h.hasRequiredAttrs())break;i=ke.from(h.create(r[d+1],i)),s++,l++}return new $e(i,s,l)}const mi={},gi={},dX={touchstart:!0,touchmove:!0};class fX{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function hX(t){for(let e in mi){let n=mi[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{mX(t,r)&&!Y2(t,r)&&(t.editable||!(r.type in gi))&&n(t,r)},dX[e]?{passive:!0}:void 0)}pi&&t.dom.addEventListener("input",()=>null),t2(t)}function el(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function pX(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function t2(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Y2(t,r))})}function Y2(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function mX(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function gX(t,e){!Y2(t,e)&&mi[e.type]&&(t.editable||!(e.type in gi))&&mi[e.type](t,e)}gi.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!X4(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(eo&&ni&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Tu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,$l(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||iX(t,n)?n.preventDefault():el(t,"key")};gi.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};gi.keypress=(t,e)=>{let n=e;if(X4(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||ps&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof pt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function Qp(t){return{left:t.clientX,top:t.clientY}}function xX(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function K2(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let l=s.depth+1;l>0;l--)if(t.someProp(e,d=>l>s.depth?d(t,n,s.nodeAfter,s.before(l),i,!0):d(t,n,s.node(l),s.before(l),i,!1)))return!0;return!1}function _u(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function yX(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&lt.isSelectable(r)?(_u(t,new lt(n)),!0):!1}function bX(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof lt&&(r=n.node);let s=t.state.doc.resolve(e);for(let l=s.depth+1;l>0;l--){let d=l>s.depth?s.nodeAfter:s.node(l);if(lt.isSelectable(d)){r&&n.$from.depth>0&&l>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(l);break}}return i!=null?(_u(t,lt.create(t.state.doc,i)),!0):!1}function vX(t,e,n,r,i){return K2(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?bX(t,n):yX(t,n))}function wX(t,e,n,r){return K2(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function CX(t,e,n,r){return K2(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||_X(t,n,r)}function _X(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(_u(t,pt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s),d=i.before(s);if(l.inlineContent)_u(t,pt.create(r,d+1,d+1+l.content.size));else if(lt.isSelectable(l))_u(t,lt.create(r,d));else continue;return!0}}function Z2(t){return Q1(t)}const W4=ps?"metaKey":"ctrlKey";mi.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Z2(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&xX(n,t.input.lastClick)&&!n[W4]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let l=t.posAtCoords(Qp(n));l&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new SX(t,l,n,!!r)):(s=="doubleClick"?wX:CX)(t,l.pos,l.inside,n)?n.preventDefault():el(t,"pointer"))};class SX{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[W4],this.allowDefault=r.shiftKey;let s,l;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),l=n.inside;else{let b=e.state.doc.resolve(n.pos);s=b.parent,l=b.depth?b.before():0}const d=i?null:r.target,h=d?e.docView.nearestDesc(d,!0):null;this.target=h&&h.nodeDOM.nodeType==1?h.nodeDOM:null;let{selection:m}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||m instanceof lt&&m.from<=l&&m.to>l)&&(this.mightDrag={node:s,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),el(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>no(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Qp(e))),this.updateAllowDefault(e),this.allowDefault||!n?el(this.view,"pointer"):vX(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||pi&&this.mightDrag&&!this.mightDrag.node.isAtom||ni&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(_u(this.view,Nt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):el(this.view,"pointer")}move(e){this.updateAllowDefault(e),el(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}mi.touchstart=t=>{t.input.lastTouch=Date.now(),Z2(t),el(t,"pointer")};mi.touchmove=t=>{t.input.lastTouch=Date.now(),el(t,"pointer")};mi.contextmenu=t=>Z2(t);function X4(t,e){return t.composing?!0:pi&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const EX=eo?5e3:-1;gi.compositionstart=gi.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof pt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Q1(t,!0),t.markCursor=null;else if(Q1(t,!e.selection.empty),gs&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let l=s<0?i.lastChild:i.childNodes[s-1];if(!l)break;if(l.nodeType==3){let d=t.domSelection();d&&d.collapse(l,l.nodeValue.length);break}else i=l,s=-1}}t.input.composing=!0}Y4(t,EX)};gi.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Y4(t,20))};function Y4(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Q1(t),e))}function K4(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=TX());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function AX(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=yW(e.focusNode,e.focusOffset),r=bW(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function TX(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Q1(t,e=!1){if(!(eo&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),K4(t),e||t.docView&&t.docView.dirty){let n=q2(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function NX(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const pf=Ri&&rl<15||Tu&&SW<604;mi.copy=gi.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=pf?null:n.clipboardData,l=r.content(),{dom:d,text:h}=X2(t,l);s?(n.preventDefault(),s.clearData(),s.setData("text/html",d.innerHTML),s.setData("text/plain",h)):NX(t,d),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function OX(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function MX(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?mf(t,r.value,null,i,e):mf(t,r.textContent,r.innerHTML,i,e)},50)}function mf(t,e,n,r,i){let s=U4(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",h=>h(t,i,s||$e.empty)))return!0;if(!s)return!1;let l=OX(s),d=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(s);return t.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Z4(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}gi.paste=(t,e)=>{let n=e;if(t.composing&&!eo)return;let r=pf?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&mf(t,Z4(r),r.getData("text/html"),i,n)?n.preventDefault():MX(t,n)};class Q4{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const RX=ps?"altKey":"ctrlKey";function J4(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[RX]}mi.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Qp(n)),l;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof lt?i.to-1:i.to))){if(r&&r.mightDrag)l=lt.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let C=t.docView.nearestDesc(n.target,!0);C&&C.node.type.spec.draggable&&C!=t.docView&&(l=lt.create(t.state.doc,C.posBefore))}}let d=(l||t.state.selection).content(),{dom:h,text:m,slice:b}=X2(t,d);(!n.dataTransfer.files.length||!ni||E4>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(pf?"Text":"text/html",h.innerHTML),n.dataTransfer.effectAllowed="copyMove",pf||n.dataTransfer.setData("text/plain",m),t.dragging=new Q4(b,J4(t,n),l)};mi.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};gi.dragover=gi.dragenter=(t,e)=>e.preventDefault();gi.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Qp(n));if(!i)return;let s=t.state.doc.resolve(i.pos),l=r&&r.slice;l?t.someProp("transformPasted",T=>{l=T(l,t,!1)}):l=U4(t,Z4(n.dataTransfer),pf?null:n.dataTransfer.getData("text/html"),!1,s);let d=!!(r&&J4(t,n));if(t.someProp("handleDrop",T=>T(t,n,l||$e.empty,d))){n.preventDefault();return}if(!l)return;n.preventDefault();let h=l?g4(t.state.doc,s.pos,l):s.pos;h==null&&(h=s.pos);let m=t.state.tr;if(d){let{node:T}=r;T?T.replace(m):m.deleteSelection()}let b=m.mapping.map(h),C=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,E=m.doc;if(C?m.replaceRangeWith(b,b,l.content.firstChild):m.replaceRange(b,b,l),m.doc.eq(E))return;let A=m.doc.resolve(b);if(C&&lt.isSelectable(l.content.firstChild)&&A.nodeAfter&&A.nodeAfter.sameMarkup(l.content.firstChild))m.setSelection(new lt(A));else{let T=m.mapping.map(h);m.mapping.maps[m.mapping.maps.length-1].forEach((R,I,D,F)=>T=F),m.setSelection(W2(t,A,m.doc.resolve(T)))}t.focus(),t.dispatch(m.setMeta("uiEvent","drop"))};mi.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&no(t)},20))};mi.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};mi.beforeinput=(t,e)=>{if(ni&&eo&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,$l(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in gi)mi[t]=gi[t];function gf(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class J1{constructor(e,n){this.toDOM=e,this.spec=n||ec,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new hi(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof J1&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&gf(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class sl{constructor(e,n){this.attrs=e,this.spec=n||ec}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=l?null:new hi(s,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof sl&&gf(this.attrs,e.attrs)&&gf(this.spec,e.spec)}static is(e){return e.type instanceof sl}destroy(){}}class Q2{constructor(e,n){this.attrs=e,this.spec=n||ec}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=s.pos?null:new hi(s.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof Q2&&gf(this.attrs,e.attrs)&&gf(this.spec,e.spec)}destroy(){}}class hi{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new hi(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new hi(e,e,new J1(n,r))}static inline(e,n,r,i){return new hi(e,n,new sl(r,i))}static node(e,n,r,i){return new hi(e,n,new Q2(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof sl}get widget(){return this.type instanceof J1}}const mu=[],ec={};class Hn{constructor(e,n){this.local=e.length?e:mu,this.children=n.length?n:mu}static create(e,n){return n.length?ep(n,e,0,ec):ei}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let l=0;l<this.local.length;l++){let d=this.local[l];d.from<=n&&d.to>=e&&(!s||s(d.spec))&&r.push(d.copy(d.from+i,d.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let d=this.children[l]+1;this.children[l+2].findInner(e-d,n-d,r,i+d,s)}}map(e,n,r){return this==ei||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ec)}mapInner(e,n,r,i,s){let l;for(let d=0;d<this.local.length;d++){let h=this.local[d].map(e,r,i);h&&h.type.valid(n,h)?(l||(l=[])).push(h):s.onRemove&&s.onRemove(this.local[d].spec)}return this.children.length?IX(this.children,l||[],e,n,r,i,s):l?new Hn(l.sort(tc),mu):ei}add(e,n){return n.length?this==ei?Hn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((d,h)=>{let m=h+r,b;if(b=tA(n,d,m)){for(i||(i=this.children.slice());s<i.length&&i[s]<h;)s+=3;i[s]==h?i[s+2]=i[s+2].addInner(d,b,m+1):i.splice(s,0,h,h+d.nodeSize,ep(b,d,m+1,ec)),s+=3}});let l=eA(s?nA(n):n,-r);for(let d=0;d<l.length;d++)l[d].type.valid(e,l[d])||l.splice(d--,1);return new Hn(l.length?this.local.concat(l).sort(tc):this.local,i||this.children)}remove(e){return e.length==0||this==ei?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let l,d=r[s]+n,h=r[s+1]+n;for(let b=0,C;b<e.length;b++)(C=e[b])&&C.from>d&&C.to<h&&(e[b]=null,(l||(l=[])).push(C));if(!l)continue;r==this.children&&(r=this.children.slice());let m=r[s+2].removeInner(l,d+1);m!=ei?r[s+2]=m:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,l;s<e.length;s++)if(l=e[s])for(let d=0;d<i.length;d++)i[d].eq(l,n)&&(i==this.local&&(i=this.local.slice()),i.splice(d--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Hn(i,r):ei}forChild(e,n){if(this==ei)return this;if(n.isLeaf)return Hn.empty;let r,i;for(let d=0;d<this.children.length;d+=3)if(this.children[d]>=e){this.children[d]==e&&(r=this.children[d+2]);break}let s=e+1,l=s+n.content.size;for(let d=0;d<this.local.length;d++){let h=this.local[d];if(h.from<l&&h.to>s&&h.type instanceof sl){let m=Math.max(s,h.from)-s,b=Math.min(l,h.to)-s;m<b&&(i||(i=[])).push(h.copy(m,b))}}if(i){let d=new Hn(i.sort(tc),mu);return r?new Yo([d,r]):d}return r||ei}eq(e){if(this==e)return!0;if(!(e instanceof Hn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return J2(this.localsInner(e))}localsInner(e){if(this==ei)return mu;if(e.inlineContent||!this.local.some(sl.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof sl||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Hn.empty=new Hn([],[]);Hn.removeOverlap=J2;const ei=Hn.empty;class Yo{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,ec));return Yo.from(r)}forChild(e,n){if(n.isLeaf)return Hn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=ei&&(s instanceof Yo?r=r.concat(s.members):r.push(s))}return Yo.from(r)}eq(e){if(!(e instanceof Yo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let l=0;l<s.length;l++)n.push(s[l])}}return n?J2(r?n:n.sort(tc)):mu}static from(e){switch(e.length){case 0:return ei;case 1:return e[0];default:return new Yo(e.every(n=>n instanceof Hn)?e:e.reduce((n,r)=>n.concat(r instanceof Hn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function IX(t,e,n,r,i,s,l){let d=t.slice();for(let m=0,b=s;m<n.maps.length;m++){let C=0;n.maps[m].forEach((E,A,T,R)=>{let I=R-T-(A-E);for(let D=0;D<d.length;D+=3){let F=d[D+1];if(F<0||E>F+b-C)continue;let P=d[D]+b-C;A>=P?d[D+1]=E<=P?-2:-1:E>=b&&I&&(d[D]+=I,d[D+1]+=I)}C+=I}),b=n.maps[m].map(b,-1)}let h=!1;for(let m=0;m<d.length;m+=3)if(d[m+1]<0){if(d[m+1]==-2){h=!0,d[m+1]=-1;continue}let b=n.map(t[m]+s),C=b-i;if(C<0||C>=r.content.size){h=!0;continue}let E=n.map(t[m+1]+s,-1),A=E-i,{index:T,offset:R}=r.content.findIndex(C),I=r.maybeChild(T);if(I&&R==C&&R+I.nodeSize==A){let D=d[m+2].mapInner(n,I,b+1,t[m]+s+1,l);D!=ei?(d[m]=C,d[m+1]=A,d[m+2]=D):(d[m+1]=-2,h=!0)}else h=!0}if(h){let m=kX(d,t,e,n,i,s,l),b=ep(m,r,0,l);e=b.local;for(let C=0;C<d.length;C+=3)d[C+1]<0&&(d.splice(C,3),C-=3);for(let C=0,E=0;C<b.children.length;C+=3){let A=b.children[C];for(;E<d.length&&d[E]<A;)E+=3;d.splice(E,0,b.children[C],b.children[C+1],b.children[C+2])}}return new Hn(e.sort(tc),d)}function eA(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new hi(i.from+e,i.to+e,i.type))}return n}function kX(t,e,n,r,i,s,l){function d(h,m){for(let b=0;b<h.local.length;b++){let C=h.local[b].map(r,i,m);C?n.push(C):l.onRemove&&l.onRemove(h.local[b].spec)}for(let b=0;b<h.children.length;b+=3)d(h.children[b+2],h.children[b]+m+1)}for(let h=0;h<t.length;h+=3)t[h+1]==-1&&d(t[h+2],e[h]+s+1);return n}function tA(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,l;s<t.length;s++)(l=t[s])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[s]=null);return i}function nA(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function ep(t,e,n,r){let i=[],s=!1;e.forEach((d,h)=>{let m=tA(t,d,h+n);if(m){s=!0;let b=ep(m,d,n+h+1,r);b!=ei&&i.push(h,h+d.nodeSize,b)}});let l=eA(s?nA(t):t,-n).sort(tc);for(let d=0;d<l.length;d++)l[d].type.valid(e,l[d])||(r.onRemove&&r.onRemove(l[d].spec),l.splice(d--,1));return l.length||i.length?new Hn(l,i):ei}function tc(t,e){return t.from-e.from||t.to-e.to}function J2(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),a_(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),a_(e,i,r.copy(s.from,r.to)));break}}}return e}function a_(t,e,n){for(;e<t.length&&tc(n,t[e])>0;)e++;t.splice(e,0,n)}function ox(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=ei&&e.push(r)}),t.cursorWrapper&&e.push(Hn.create(t.state.doc,[t.cursorWrapper.deco])),Yo.from(e)}const DX={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},BX=Ri&&rl<=11;class LX{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class jX{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new LX,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ri&&rl<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),BX&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,DX)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Q3(this.view)){if(this.suppressingSelectionUpdates)return no(this.view);if(Ri&&rl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&oc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Au(s))n.add(s);for(let s=e.anchorNode;s;s=Au(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Q3(e)&&!this.ignoreSelectionChange(r),s=-1,l=-1,d=!1,h=[];if(e.editable)for(let b=0;b<n.length;b++){let C=this.registerMutation(n[b],h);C&&(s=s<0?C.from:Math.min(C.from,s),l=l<0?C.to:Math.max(C.to,l),C.typeOver&&(d=!0))}if(gs&&h.length){let b=h.filter(C=>C.nodeName=="BR");if(b.length==2){let[C,E]=b;C.parentNode&&C.parentNode.parentNode==E.parentNode?E.remove():C.remove()}else{let{focusNode:C}=this.currentSelection;for(let E of b){let A=E.parentNode;A&&A.nodeName=="LI"&&(!C||FX(e,C)!=A)&&E.remove()}}}let m=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Kp(r)&&(m=q2(e))&&m.eq(Nt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,no(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,l),PX(e)),this.handleDOMChange(s,l,d,h),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||no(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let b=0;b<e.addedNodes.length;b++){let C=e.addedNodes[b];n.push(C),C.nodeType==3&&(this.lastChangedTextNode=C)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Ri&&rl<=11&&e.addedNodes.length)for(let b=0;b<e.addedNodes.length;b++){let{previousSibling:C,nextSibling:E}=e.addedNodes[b];(!C||Array.prototype.indexOf.call(e.addedNodes,C)<0)&&(i=C),(!E||Array.prototype.indexOf.call(e.addedNodes,E)<0)&&(s=E)}let l=i&&i.parentNode==e.target?Hr(i)+1:0,d=r.localPosFromDOM(e.target,l,-1),h=s&&s.parentNode==e.target?Hr(s):e.target.childNodes.length,m=r.localPosFromDOM(e.target,h,1);return{from:d,to:m}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let o_=new WeakMap,l_=!1;function PX(t){if(!o_.has(t)&&(o_.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=gs,l_)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),l_=!0}}function c_(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return oc(l.node,l.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function zX(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return c_(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?c_(t,n):null}function FX(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function UX(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:l,to:d}=t.docView.parseRange(e,n),h=t.domSelectionRange(),m,b=h.anchorNode;if(b&&t.dom.contains(b.nodeType==1?b:b.parentNode)&&(m=[{node:b,offset:h.anchorOffset}],Kp(h)||m.push({node:h.focusNode,offset:h.focusOffset})),ni&&t.input.lastKeyCode===8)for(let I=s;I>i;I--){let D=r.childNodes[I-1],F=D.pmViewDesc;if(D.nodeName=="BR"&&!F){s=I;break}if(!F||F.size)break}let C=t.state.doc,E=t.someProp("domParser")||nl.fromSchema(t.state.schema),A=C.resolve(l),T=null,R=E.parse(r,{topNode:A.parent,topMatch:A.parent.contentMatchAt(A.index()),topOpen:!0,from:i,to:s,preserveWhitespace:A.parent.type.whitespace=="pre"?"full":!0,findPositions:m,ruleFromNode:HX,context:A});if(m&&m[0].pos!=null){let I=m[0].pos,D=m[1]&&m[1].pos;D==null&&(D=I),T={anchor:I+l,head:D+l}}return{doc:R,sel:T,from:l,to:d}}function HX(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(pi&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||pi&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const VX=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function $X(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let G=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,Q=q2(t,G);if(Q&&!t.state.selection.eq(Q)){if(ni&&eo&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Ce=>Ce(t,$l(13,"Enter"))))return;let Z=t.state.tr.setSelection(Q);G=="pointer"?Z.setMeta("pointer",!0):G=="key"&&Z.scrollIntoView(),s&&Z.setMeta("composition",s),t.dispatch(Z)}return}let l=t.state.doc.resolve(e),d=l.sharedDepth(n);e=l.before(d+1),n=t.state.doc.resolve(n).after(d+1);let h=t.state.selection,m=UX(t,e,n),b=t.state.doc,C=b.slice(m.from,m.to),E,A;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(E=t.state.selection.to,A="end"):(E=t.state.selection.from,A="start"),t.input.lastKeyCode=null;let T=WX(C.content,m.doc.content,m.from,E,A);if(T&&t.input.domChangeCount++,(Tu&&t.input.lastIOSEnter>Date.now()-225||eo)&&i.some(G=>G.nodeType==1&&!VX.test(G.nodeName))&&(!T||T.endA>=T.endB)&&t.someProp("handleKeyDown",G=>G(t,$l(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!T)if(r&&h instanceof pt&&!h.empty&&h.$head.sameParent(h.$anchor)&&!t.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))T={start:h.from,endA:h.to,endB:h.to};else{if(m.sel){let G=u_(t,t.state.doc,m.sel);if(G&&!G.eq(t.state.selection)){let Q=t.state.tr.setSelection(G);s&&Q.setMeta("composition",s),t.dispatch(Q)}}return}t.state.selection.from<t.state.selection.to&&T.start==T.endB&&t.state.selection instanceof pt&&(T.start>t.state.selection.from&&T.start<=t.state.selection.from+2&&t.state.selection.from>=m.from?T.start=t.state.selection.from:T.endA<t.state.selection.to&&T.endA>=t.state.selection.to-2&&t.state.selection.to<=m.to&&(T.endB+=t.state.selection.to-T.endA,T.endA=t.state.selection.to)),Ri&&rl<=11&&T.endB==T.start+1&&T.endA==T.start&&T.start>m.from&&m.doc.textBetween(T.start-m.from-1,T.start-m.from+1)==" "&&(T.start--,T.endA--,T.endB--);let R=m.doc.resolveNoCache(T.start-m.from),I=m.doc.resolveNoCache(T.endB-m.from),D=b.resolve(T.start),F=R.sameParent(I)&&R.parent.inlineContent&&D.end()>=T.endA;if((Tu&&t.input.lastIOSEnter>Date.now()-225&&(!F||i.some(G=>G.nodeName=="DIV"||G.nodeName=="P"))||!F&&R.pos<m.doc.content.size&&(!R.sameParent(I)||!R.parent.inlineContent)&&R.pos<I.pos&&!/\S/.test(m.doc.textBetween(R.pos,I.pos,"","")))&&t.someProp("handleKeyDown",G=>G(t,$l(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>T.start&&qX(b,T.start,T.endA,R,I)&&t.someProp("handleKeyDown",G=>G(t,$l(8,"Backspace")))){eo&&ni&&t.domObserver.suppressSelectionUpdates();return}ni&&T.endB==T.start&&(t.input.lastChromeDelete=Date.now()),eo&&!F&&R.start()!=I.start()&&I.parentOffset==0&&R.depth==I.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==T.endA&&(T.endB-=2,I=m.doc.resolveNoCache(T.endB-m.from),setTimeout(()=>{t.someProp("handleKeyDown",function(G){return G(t,$l(13,"Enter"))})},20));let P=T.start,q=T.endA,$=G=>{let Q=G||t.state.tr.replace(P,q,m.doc.slice(T.start-m.from,T.endB-m.from));if(m.sel){let Z=u_(t,Q.doc,m.sel);Z&&!(ni&&t.composing&&Z.empty&&(T.start!=T.endB||t.input.lastChromeDelete<Date.now()-100)&&(Z.head==P||Z.head==Q.mapping.map(q)-1)||Ri&&Z.empty&&Z.head==P)&&Q.setSelection(Z)}return s&&Q.setMeta("composition",s),Q.scrollIntoView()},V;if(F){if(R.pos==I.pos){Ri&&rl<=11&&R.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>no(t),20));let G=$(t.state.tr.delete(P,q)),Q=b.resolve(T.start).marksAcross(b.resolve(T.endA));Q&&G.ensureMarks(Q),t.dispatch(G)}else if(T.endA==T.endB&&(V=GX(R.parent.content.cut(R.parentOffset,I.parentOffset),D.parent.content.cut(D.parentOffset,T.endA-D.start())))){let G=$(t.state.tr);V.type=="add"?G.addMark(P,q,V.mark):G.removeMark(P,q,V.mark),t.dispatch(G)}else if(R.parent.child(R.index()).isText&&R.index()==I.index()-(I.textOffset?0:1)){let G=R.parent.textBetween(R.parentOffset,I.parentOffset),Q=()=>$(t.state.tr.insertText(G,P,q));t.someProp("handleTextInput",Z=>Z(t,P,q,G,Q))||t.dispatch(Q())}}else t.dispatch($())}function u_(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:W2(t,e.resolve(n.anchor),e.resolve(n.head))}function GX(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,l,d,h;for(let b=0;b<r.length;b++)i=r[b].removeFromSet(i);for(let b=0;b<n.length;b++)s=n[b].removeFromSet(s);if(i.length==1&&s.length==0)d=i[0],l="add",h=b=>b.mark(d.addToSet(b.marks));else if(i.length==0&&s.length==1)d=s[0],l="remove",h=b=>b.mark(d.removeFromSet(b.marks));else return null;let m=[];for(let b=0;b<e.childCount;b++)m.push(h(e.child(b)));if(ke.from(m).eq(t))return{mark:d,type:l}}function qX(t,e,n,r,i){if(n-e<=i.pos-r.pos||lx(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let d=s.nodeAfter;return d!=null&&n==e+d.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let l=t.resolve(lx(s,!0,!0));return!l.parent.isTextblock||l.pos>n||lx(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function lx(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function WX(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:l,b:d}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let h=Math.max(0,s-Math.min(l,d));r-=l+h-s}if(l<s&&t.size<e.size){let h=r<=s&&r>=l?s-r:0;s-=h,s&&s<e.size&&d_(e.textBetween(s-1,s+1))&&(s+=h?1:-1),d=s+(d-l),l=s}else if(d<s){let h=r<=s&&r>=d?s-r:0;s-=h,s&&s<t.size&&d_(t.textBetween(s-1,s+1))&&(s+=h?1:-1),l=s+(l-d),d=s}return{start:s,endA:l,endB:d}}function d_(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class rA{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new fX,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(g_),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=p_(this),h_(this),this.nodeViews=m_(this),this.docView=q3(this.state.doc,f_(this),ox(this),this.dom,this),this.domObserver=new jX(this,(r,i,s,l)=>$X(this,r,i,s,l)),this.domObserver.start(),hX(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&t2(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(g_),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,l=!1;e.storedMarks&&this.composing&&(K4(this),l=!0),this.state=e;let d=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(d||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let A=m_(this);YX(A,this.nodeViews)&&(this.nodeViews=A,s=!0)}(d||n.handleDOMEvents!=this._props.handleDOMEvents)&&t2(this),this.editable=p_(this),h_(this);let h=ox(this),m=f_(this),b=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",C=s||!this.docView.matchesNode(e.doc,m,h);(C||!e.selection.eq(i.selection))&&(l=!0);let E=b=="preserve"&&l&&this.dom.style.overflowAnchor==null&&TW(this);if(l){this.domObserver.stop();let A=C&&(Ri||ni)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&XX(i.selection,e.selection);if(C){let T=ni?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=AX(this)),(s||!this.docView.update(e.doc,m,h,this))&&(this.docView.updateOuterDeco(m),this.docView.destroy(),this.docView=q3(e.doc,m,h,this.dom,this)),T&&!this.trackWrites&&(A=!0)}A||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&ZW(this))?no(this,A):(P4(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),b=="reset"?this.dom.scrollTop=0:b=="to selection"?this.scrollToSelection():E&&NW(E)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof lt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&F3(this,n.getBoundingClientRect(),e)}else F3(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new Q4(e.slice,e.move,i<0?void 0:lt.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let d=this.directPlugins[l].props[e];if(d!=null&&(i=n?n(d):d))return i}let s=this.state.plugins;if(s)for(let l=0;l<s.length;l++){let d=s[l].props[e];if(d!=null&&(i=n?n(d):d))return i}}hasFocus(){if(Ri){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&OW(this.dom),no(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return DW(this,e)}coordsAtPos(e,n=1){return M4(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return zW(this,n||this.state,e)}pasteHTML(e,n){return mf(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return mf(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return X2(this,e)}destroy(){this.docView&&(pX(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ox(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,gW())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return gX(this,e)}domSelectionRange(){let e=this.domSelection();return e?pi&&this.root.nodeType===11&&wW(this.dom.ownerDocument)==this.dom&&zX(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}rA.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function f_(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[hi.node(0,t.state.doc.content.size,e)]}function h_(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:hi.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function p_(t){return!t.someProp("editable",e=>e(t.state)===!1)}function XX(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function m_(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function YX(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function g_(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ul={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},tp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},KX=typeof navigator<"u"&&/Mac/.test(navigator.platform),ZX=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Vr=0;Vr<10;Vr++)ul[48+Vr]=ul[96+Vr]=String(Vr);for(var Vr=1;Vr<=24;Vr++)ul[Vr+111]="F"+Vr;for(var Vr=65;Vr<=90;Vr++)ul[Vr]=String.fromCharCode(Vr+32),tp[Vr]=String.fromCharCode(Vr);for(var cx in ul)tp.hasOwnProperty(cx)||(tp[cx]=ul[cx]);function QX(t){var e=KX&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ZX&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?tp:ul)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const JX=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),eY=typeof navigator<"u"&&/Win/.test(navigator.platform);function tY(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,l;for(let d=0;d<e.length-1;d++){let h=e[d];if(/^(cmd|meta|m)$/i.test(h))l=!0;else if(/^a(lt)?$/i.test(h))r=!0;else if(/^(c|ctrl|control)$/i.test(h))i=!0;else if(/^s(hift)?$/i.test(h))s=!0;else if(/^mod$/i.test(h))JX?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+h)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function nY(t){let e=Object.create(null);for(let n in t)e[tY(n)]=t[n];return e}function ux(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function rY(t){return new Zn({props:{handleKeyDown:iA(t)}})}function iA(t){let e=nY(t);return function(n,r){let i=QX(r),s,l=e[ux(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let d=e[ux(i,r,!1)];if(d&&d(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(eY&&r.ctrlKey&&r.altKey)&&(s=ul[r.keyCode])&&s!=i){let d=e[ux(s,r)];if(d&&d(n.state,n.dispatch,n))return!0}}return!1}}const ey=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function sA(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const aA=(t,e,n)=>{let r=sA(t,n);if(!r)return!1;let i=ty(r);if(!i){let l=r.blockRange(),d=l&&Lu(l);return d==null?!1:(e&&e(t.tr.lift(l,d).scrollIntoView()),!0)}let s=i.nodeBefore;if(mA(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Nu(s,"end")||lt.isSelectable(s)))for(let l=r.depth;;l--){let d=Xp(t.doc,r.before(l),r.after(l),$e.empty);if(d&&d.slice.size<d.to-d.from){if(e){let h=t.tr.step(d);h.setSelection(Nu(s,"end")?Nt.findFrom(h.doc.resolve(h.mapping.map(i.pos,-1)),-1):lt.create(h.doc,i.pos-s.nodeSize)),e(h.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},iY=(t,e,n)=>{let r=sA(t,n);if(!r)return!1;let i=ty(r);return i?oA(t,i,e):!1},sY=(t,e,n)=>{let r=cA(t,n);if(!r)return!1;let i=ny(r);return i?oA(t,i,e):!1};function oA(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let b=i.lastChild;if(!b)return!1;i=b}let l=e.nodeAfter,d=l,h=e.pos+1;for(;!d.isTextblock;h++){if(d.type.spec.isolating)return!1;let b=d.firstChild;if(!b)return!1;d=b}let m=Xp(t.doc,s,h,$e.empty);if(!m||m.from!=s||m instanceof Rr&&m.slice.size>=h-s)return!1;if(n){let b=t.tr.step(m);b.setSelection(pt.create(b.doc,s)),n(b.scrollIntoView())}return!0}function Nu(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const lA=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=ty(r)}let l=s&&s.nodeBefore;return!l||!lt.isSelectable(l)?!1:(e&&e(t.tr.setSelection(lt.create(t.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)};function ty(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function cA(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const uA=(t,e,n)=>{let r=cA(t,n);if(!r)return!1;let i=ny(r);if(!i)return!1;let s=i.nodeAfter;if(mA(t,i,e,1))return!0;if(r.parent.content.size==0&&(Nu(s,"start")||lt.isSelectable(s))){let l=Xp(t.doc,r.before(),r.after(),$e.empty);if(l&&l.slice.size<l.to-l.from){if(e){let d=t.tr.step(l);d.setSelection(Nu(s,"start")?Nt.findFrom(d.doc.resolve(d.mapping.map(i.pos)),1):lt.create(d.doc,d.mapping.map(i.pos))),e(d.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},dA=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=ny(r)}let l=s&&s.nodeAfter;return!l||!lt.isSelectable(l)?!1:(e&&e(t.tr.setSelection(lt.create(t.doc,s.pos)).scrollIntoView()),!0)};function ny(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const aY=(t,e)=>{let n=t.selection,r=n instanceof lt,i;if(r){if(n.node.isTextblock||!hl(t.doc,n.from))return!1;i=n.from}else if(i=Wp(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(lt.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},oY=(t,e)=>{let n=t.selection,r;if(n instanceof lt){if(n.node.isTextblock||!hl(t.doc,n.to))return!1;r=n.to}else if(r=Wp(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},lY=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Lu(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},fA=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function ry(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const cY=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),l=ry(i.contentMatchAt(s));if(!l||!i.canReplaceWith(s,s,l))return!1;if(e){let d=n.after(),h=t.tr.replaceWith(d,d,l.createAndFill());h.setSelection(Nt.near(h.doc.resolve(d),1)),e(h.scrollIntoView())}return!0},hA=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Ki||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=ry(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,d=t.tr.insert(l,s.createAndFill());d.setSelection(pt.create(d.doc,l+1)),e(d.scrollIntoView())}return!0},pA=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(to(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Lu(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function uY(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof lt&&e.selection.node.isBlock)return!r.parentOffset||!to(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],l,d,h=!1,m=!1;for(let A=r.depth;;A--)if(r.node(A).isBlock){h=r.end(A)==r.pos+(r.depth-A),m=r.start(A)==r.pos-(r.depth-A),d=ry(r.node(A-1).contentMatchAt(r.indexAfter(A-1))),s.unshift(h&&d?{type:d}:null),l=A;break}else{if(A==1)return!1;s.unshift(null)}let b=e.tr;(e.selection instanceof pt||e.selection instanceof Ki)&&b.deleteSelection();let C=b.mapping.map(r.pos),E=to(b.doc,C,s.length,s);if(E||(s[0]=d?{type:d}:null,E=to(b.doc,C,s.length,s)),!E)return!1;if(b.split(C,s.length,s),!h&&m&&r.node(l).type!=d){let A=b.mapping.map(r.before(l)),T=b.doc.resolve(A);d&&r.node(l-1).canReplaceWith(T.index(),T.index()+1,d)&&b.setNodeMarkup(b.mapping.map(r.before(l)),d)}return n&&n(b.scrollIntoView()),!0}}const dY=uY(),fY=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(lt.create(t.doc,i))),!0)};function hY(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||hl(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function mA(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,l,d,h=i.type.spec.isolating||s.type.spec.isolating;if(!h&&hY(t,e,n))return!0;let m=!h&&e.parent.canReplace(e.index(),e.index()+1);if(m&&(l=(d=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&d.matchType(l[0]||s.type).validEnd){if(n){let A=e.pos+s.nodeSize,T=ke.empty;for(let D=l.length-1;D>=0;D--)T=ke.from(l[D].create(null,T));T=ke.from(i.copy(T));let R=t.tr.step(new Ir(e.pos-1,A,e.pos,A,new $e(T,1,0),l.length,!0)),I=R.doc.resolve(A+2*l.length);I.nodeAfter&&I.nodeAfter.type==i.type&&hl(R.doc,I.pos)&&R.join(I.pos),n(R.scrollIntoView())}return!0}let b=s.type.spec.isolating||r>0&&h?null:Nt.findFrom(e,1),C=b&&b.$from.blockRange(b.$to),E=C&&Lu(C);if(E!=null&&E>=e.depth)return n&&n(t.tr.lift(C,E).scrollIntoView()),!0;if(m&&Nu(s,"start",!0)&&Nu(i,"end")){let A=i,T=[];for(;T.push(A),!A.isTextblock;)A=A.lastChild;let R=s,I=1;for(;!R.isTextblock;R=R.firstChild)I++;if(A.canReplace(A.childCount,A.childCount,R.content)){if(n){let D=ke.empty;for(let P=T.length-1;P>=0;P--)D=ke.from(T[P].copy(D));let F=t.tr.step(new Ir(e.pos-T.length,e.pos+s.nodeSize,e.pos+I,e.pos+s.nodeSize-I,new $e(D,T.length,0),0,!0));n(F.scrollIntoView())}return!0}}return!1}function gA(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(pt.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const pY=gA(-1),mY=gA(1);function gY(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,l=i.blockRange(s),d=l&&V2(l,t,e);return d?(r&&r(n.tr.wrap(l,d).scrollIntoView()),!0):!1}}function x_(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:l},$to:{pos:d}}=n.selection.ranges[s];n.doc.nodesBetween(l,d,(h,m)=>{if(i)return!1;if(!(!h.isTextblock||h.hasMarkup(t,e)))if(h.type==t)i=!0;else{let b=n.doc.resolve(m),C=b.index();i=b.parent.canReplaceWith(C,C+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:d},$to:{pos:h}}=n.selection.ranges[l];s.setBlockType(d,h,t,e)}r(s.scrollIntoView())}return!0}}function iy(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}iy(ey,aA,lA);iy(ey,uA,dA);iy(fA,hA,pA,dY);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function xY(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,l=i.blockRange(s);if(!l)return!1;let d=r?n.tr:null;return yY(d,l,t,e)?(r&&r(d.scrollIntoView()),!0):!1}}function yY(t,e,n,r=null){let i=!1,s=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let h=l.resolve(e.start-2);s=new X1(h,h,e.depth),e.endIndex<e.parent.childCount&&(e=new X1(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let d=V2(s,n,r,e);return d?(t&&bY(t,e,d,i,n),!0):!1}function bY(t,e,n,r,i){let s=ke.empty;for(let b=n.length-1;b>=0;b--)s=ke.from(n[b].type.create(n[b].attrs,s));t.step(new Ir(e.start-(r?2:0),e.end,e.start,e.end,new $e(s,0,0),n.length,!0));let l=0;for(let b=0;b<n.length;b++)n[b].type==i&&(l=b+1);let d=n.length-l,h=e.start+n.length-(r?2:0),m=e.parent;for(let b=e.startIndex,C=e.endIndex,E=!0;b<C;b++,E=!1)!E&&to(t.doc,h,d)&&(t.split(h,d),h+=2*d),h+=m.child(b).nodeSize;return t}function vY(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?wY(e,n,t,s):CY(e,n,s):!0:!1}}function wY(t,e,n,r){let i=t.tr,s=r.end,l=r.$to.end(r.depth);s<l&&(i.step(new Ir(s-1,l,s,l,new $e(ke.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new X1(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const d=Lu(r);if(d==null)return!1;i.lift(r,d);let h=i.doc.resolve(i.mapping.map(s,-1)-1);return hl(i.doc,h.pos)&&h.nodeBefore.type==h.nodeAfter.type&&i.join(h.pos),e(i.scrollIntoView()),!0}function CY(t,e,n){let r=t.tr,i=n.parent;for(let A=n.end,T=n.endIndex-1,R=n.startIndex;T>R;T--)A-=i.child(T).nodeSize,r.delete(A-1,A+1);let s=r.doc.resolve(n.start),l=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let d=n.startIndex==0,h=n.endIndex==i.childCount,m=s.node(-1),b=s.index(-1);if(!m.canReplace(b+(d?0:1),b+1,l.content.append(h?ke.empty:ke.from(i))))return!1;let C=s.pos,E=C+l.nodeSize;return r.step(new Ir(C-(d?1:0),E+(h?1:0),C+1,E-1,new $e((d?ke.empty:ke.from(i.copy(ke.empty))).append(h?ke.empty:ke.from(i.copy(ke.empty))),d?0:1,h?0:1),d?0:1)),e(r.scrollIntoView()),!0}function _Y(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,m=>m.childCount>0&&m.firstChild.type==t);if(!s)return!1;let l=s.startIndex;if(l==0)return!1;let d=s.parent,h=d.child(l-1);if(h.type!=t)return!1;if(n){let m=h.lastChild&&h.lastChild.type==d.type,b=ke.from(m?t.create():null),C=new $e(ke.from(t.create(null,ke.from(d.type.create(null,b)))),m?3:1,0),E=s.start,A=s.end;n(e.tr.step(new Ir(E-(m?3:1),A,E,A,C,1,!0)).scrollIntoView())}return!0}}var SY=Object.defineProperty,xA=(t,e)=>{for(var n in e)SY(t,n,{get:e[n],enumerable:!0})};function Jp(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var e0=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([l,d])=>[l,(...m)=>{const b=d(...m)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),b}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,l=[],d=!!t,h=t||i.tr,m=()=>(!d&&e&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(h),l.every(C=>C===!0)),b={...Object.fromEntries(Object.entries(n).map(([C,E])=>[C,(...T)=>{const R=this.buildProps(h,e),I=E(...T)(R);return l.push(I),b}])),run:m};return b}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([d,h])=>[d,(...m)=>h(...m)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,l={tr:t,editor:r,view:s,state:Jp({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([d,h])=>[d,(...m)=>h(...m)(l)]))}};return l}},EY=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function yA(t,e){const n=new w4(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}var bA=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&bA(r)}return t};function o1(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return bA(n)}function xf(t,e,n){if(t instanceof Ls||t instanceof ke)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ke.fromArray(t.map(d=>e.nodeFromJSON(d)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),xf("",e,n)}if(i){if(n.errorOnInvalidContent){let l=!1,d="";const h=new s4({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:m=>(l=!0,d=typeof m=="string"?m:m.outerHTML,null)}]}})});if(n.slice?nl.fromSchema(h).parseSlice(o1(t),n.parseOptions):nl.fromSchema(h).parse(o1(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${d}`)})}const s=nl.fromSchema(e);return n.slice?s.parseSlice(o1(t),n.parseOptions).content:s.parse(o1(t),n.parseOptions)}return xf("",e,n)}function n2(t,e,n={},r={}){return xf(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function AY(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function TY(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function NY(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function t0(t){return e=>NY(e.$from,t)}function ot(t,e,n){return t.config[e]===void 0&&t.parent?ot(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ot(t.parent,e,n):null}):t.config[e]}function sy(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=ot(e,"addExtensions",n);return r?[e,...sy(r())]:e}).flat(10)}function ay(t,e){const n=pc.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function vA(t){return typeof t=="function"}function un(t,e=void 0,...n){return vA(t)?e?t.bind(e)(...n):t(...n):t}function OY(t={}){return Object.keys(t).length===0&&t.constructor===Object}function yf(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function wA(t){const e=[],{nodeExtensions:n,markExtensions:r}=yf(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const d={name:l.name,options:l.options,storage:l.storage,extensions:i},h=ot(l,"addGlobalAttributes",d);if(!h)return;h().forEach(b=>{b.types.forEach(C=>{Object.entries(b.attributes).forEach(([E,A])=>{e.push({type:C,name:E,attribute:{...s,...A}})})})})}),i.forEach(l=>{const d={name:l.name,options:l.options,storage:l.storage},h=ot(l,"addAttributes",d);if(!h)return;const m=h();Object.entries(m).forEach(([b,C])=>{const E={...s,...C};typeof(E==null?void 0:E.default)=="function"&&(E.default=E.default()),E!=null&&E.isRequired&&(E==null?void 0:E.default)===void 0&&delete E.default,e.push({type:l.name,name:b,attribute:E})})}),e}function sr(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const d=s?String(s).split(" "):[],h=r[i]?r[i].split(" "):[],m=d.filter(b=>!h.includes(b));r[i]=[...h,...m].join(" ")}else if(i==="style"){const d=s?s.split(";").map(b=>b.trim()).filter(Boolean):[],h=r[i]?r[i].split(";").map(b=>b.trim()).filter(Boolean):[],m=new Map;h.forEach(b=>{const[C,E]=b.split(":").map(A=>A.trim());m.set(C,E)}),d.forEach(b=>{const[C,E]=b.split(":").map(A=>A.trim());m.set(C,E)}),r[i]=Array.from(m.entries()).map(([b,C])=>`${b}: ${C}`).join("; ")}else r[i]=s}),r},{})}function np(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>sr(n,r),{})}function MY(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function y_(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,l)=>{const d=l.attribute.parseHTML?l.attribute.parseHTML(n):MY(n.getAttribute(l.name));return d==null?s:{...s,[l.name]:d}},{});return{...r,...i}}}}function b_(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&OY(n)?!1:n!=null))}function RY(t,e){var n;const r=wA(t),{nodeExtensions:i,markExtensions:s}=yf(t),l=(n=i.find(m=>ot(m,"topNode")))==null?void 0:n.name,d=Object.fromEntries(i.map(m=>{const b=r.filter(D=>D.type===m.name),C={name:m.name,options:m.options,storage:m.storage,editor:e},E=t.reduce((D,F)=>{const P=ot(F,"extendNodeSchema",C);return{...D,...P?P(m):{}}},{}),A=b_({...E,content:un(ot(m,"content",C)),marks:un(ot(m,"marks",C)),group:un(ot(m,"group",C)),inline:un(ot(m,"inline",C)),atom:un(ot(m,"atom",C)),selectable:un(ot(m,"selectable",C)),draggable:un(ot(m,"draggable",C)),code:un(ot(m,"code",C)),whitespace:un(ot(m,"whitespace",C)),linebreakReplacement:un(ot(m,"linebreakReplacement",C)),defining:un(ot(m,"defining",C)),isolating:un(ot(m,"isolating",C)),attrs:Object.fromEntries(b.map(D=>{var F,P;return[D.name,{default:(F=D==null?void 0:D.attribute)==null?void 0:F.default,validate:(P=D==null?void 0:D.attribute)==null?void 0:P.validate}]}))}),T=un(ot(m,"parseHTML",C));T&&(A.parseDOM=T.map(D=>y_(D,b)));const R=ot(m,"renderHTML",C);R&&(A.toDOM=D=>R({node:D,HTMLAttributes:np(D,b)}));const I=ot(m,"renderText",C);return I&&(A.toText=I),[m.name,A]})),h=Object.fromEntries(s.map(m=>{const b=r.filter(I=>I.type===m.name),C={name:m.name,options:m.options,storage:m.storage,editor:e},E=t.reduce((I,D)=>{const F=ot(D,"extendMarkSchema",C);return{...I,...F?F(m):{}}},{}),A=b_({...E,inclusive:un(ot(m,"inclusive",C)),excludes:un(ot(m,"excludes",C)),group:un(ot(m,"group",C)),spanning:un(ot(m,"spanning",C)),code:un(ot(m,"code",C)),attrs:Object.fromEntries(b.map(I=>{var D,F;return[I.name,{default:(D=I==null?void 0:I.attribute)==null?void 0:D.default,validate:(F=I==null?void 0:I.attribute)==null?void 0:F.validate}]}))}),T=un(ot(m,"parseHTML",C));T&&(A.parseDOM=T.map(I=>y_(I,b)));const R=ot(m,"renderHTML",C);return R&&(A.toDOM=I=>R({mark:I,HTMLAttributes:np(I,b)})),[m.name,A]}));return new s4({topNode:l,nodes:d,marks:h})}function IY(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function oy(t){return t.sort((n,r)=>{const i=ot(n,"priority")||100,s=ot(r,"priority")||100;return i>s?-1:i<s?1:0})}function CA(t){const e=oy(sy(t)),n=IY(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function _A(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:l={}}=n||{};let d="";return t.nodesBetween(r,i,(h,m,b,C)=>{var E;h.isBlock&&m>r&&(d+=s);const A=l==null?void 0:l[h.type.name];if(A)return b&&(d+=A({node:h,pos:m,parent:b,index:C,range:e})),!1;h.isText&&(d+=(E=h==null?void 0:h.text)==null?void 0:E.slice(Math.max(r,m)-m,i-m))}),d}function kY(t,e){const n={from:0,to:t.content.size};return _A(t,n,e)}function SA(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function ro(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function EA(t,e){const n=ro(e,t.schema),{from:r,to:i,empty:s}=t.selection,l=[];s?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,h=>{l.push(...h.marks)});const d=l.find(h=>h.type.name===n.name);return d?{...d.attrs}:{}}function fr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function DY(t,e){const n=fr(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,d=>{s.push(d)});const l=s.reverse().find(d=>d.type.name===n.name);return l?{...l.attrs}:{}}function n0(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function AA(t,e){const n=n0(typeof e=="string"?e:e.name,t.schema);return n==="node"?DY(t,e):n==="mark"?EA(t,e):{}}function BY(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function LY(t){const e=BY(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,l)=>l!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function TA(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const l=[];if(i.ranges.length)i.forEach((d,h)=>{l.push({from:d,to:h})});else{const{from:d,to:h}=n[s];if(d===void 0||h===void 0)return;l.push({from:d,to:h})}l.forEach(({from:d,to:h})=>{const m=e.slice(s).map(d,-1),b=e.slice(s).map(h),C=e.invert().map(m,-1),E=e.invert().map(b);r.push({oldRange:{from:C,to:E},newRange:{from:m,to:b}})})}),LY(r)}function ly(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function rp(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:ly(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function NA(t,e,n={}){return t.find(r=>r.type===e&&rp(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function v_(t,e,n={}){return!!NA(t,e,n)}function cy(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(b=>b.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(b=>b.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!NA([...i.node.marks],e,n)))return;let l=i.index,d=t.start()+i.offset,h=l+1,m=d+i.node.nodeSize;for(;l>0&&v_([...t.parent.child(l-1).marks],e,n);)l-=1,d-=t.parent.child(l).nodeSize;for(;h<t.parent.childCount&&v_([...t.parent.child(h).marks],e,n);)m+=t.parent.child(h).nodeSize,h+=1;return{from:d,to:m}}function uy(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),l=cy(s,i.type);l&&r.push({mark:i,...l})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(l=>({from:s,to:s+i.nodeSize,mark:l})))}),r}var jY=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,l=null;for(;s>0&&l===null;){const d=i.node(s);(d==null?void 0:d.type.name)===e?l=d:s-=1}return[l,s]};function dx(t,e){return e.nodes[t]||e.marks[t]||null}function E1(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var PY=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,l,d)=>{var h,m;const b=((m=(h=i.type.spec).toText)==null?void 0:m.call(h,{node:i,pos:s,parent:l,index:d}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?b:b.slice(0,Math.max(0,r-s))}),n};function r2(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?ro(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(C=>s?s.name===C.type.name:!0).find(C=>rp(C.attrs,n,{strict:!1}));let l=0;const d=[];if(i.forEach(({$from:C,$to:E})=>{const A=C.pos,T=E.pos;t.doc.nodesBetween(A,T,(R,I)=>{if(!R.isText&&!R.marks.length)return;const D=Math.max(A,I),F=Math.min(T,I+R.nodeSize),P=F-D;l+=P,d.push(...R.marks.map(q=>({mark:q,from:D,to:F})))})}),l===0)return!1;const h=d.filter(C=>s?s.name===C.mark.type.name:!0).filter(C=>rp(C.mark.attrs,n,{strict:!1})).reduce((C,E)=>C+E.to-E.from,0),m=d.filter(C=>s?C.mark.type!==s&&C.mark.type.excludes(s):!0).reduce((C,E)=>C+E.to-E.from,0);return(h>0?h+m:h)>=l}function dl(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,l=e?fr(e,t.schema):null,d=[];t.doc.nodesBetween(r,i,(C,E)=>{if(C.isText)return;const A=Math.max(r,E),T=Math.min(i,E+C.nodeSize);d.push({node:C,from:A,to:T})});const h=i-r,m=d.filter(C=>l?l.name===C.node.type.name:!0).filter(C=>rp(C.node.attrs,n,{strict:!1}));return s?!!m.length:m.reduce((C,E)=>C+E.to-E.from,0)>=h}function zY(t,e,n={}){if(!e)return dl(t,null,n)||r2(t,null,n);const r=n0(e,t.schema);return r==="node"?dl(t,e,n):r==="mark"?r2(t,e,n):!1}var FY=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=t0(d=>d.type.name===e)(t.selection);if(!s)return!1;const l=t.doc.resolve(s.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},UY=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function w_(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function C_(t,e){const{nodeExtensions:n}=yf(e),r=n.find(l=>l.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=un(ot(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function r0(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(r0(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function OA(t){return t instanceof lt}function MA(t){return t instanceof pt}function Yl(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function RA(t,e=null){if(!e)return null;const n=Nt.atStart(t),r=Nt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?pt.create(t,Yl(0,i,s),Yl(t.content.size,i,s)):pt.create(t,Yl(e,i,s),Yl(e,i,s))}function HY(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Rr||i instanceof Ir))return;const s=t.mapping.maps[r];let l=0;s.forEach((d,h,m,b)=>{l===0&&(l=b)}),t.setSelection(Nt.near(t.doc.resolve(l),n))}var i0=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},VY=(t,e)=>{if(ly(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function l1(t){var e;const{editor:n,from:r,to:i,text:s,rules:l,plugin:d}=t,{view:h}=n;if(h.composing)return!1;const m=h.state.doc.resolve(r);if(m.parent.type.spec.code||(e=m.nodeBefore||m.nodeAfter)!=null&&e.marks.find(E=>E.type.spec.code))return!1;let b=!1;const C=PY(m)+s;return l.forEach(E=>{if(b)return;const A=VY(C,E.find);if(!A)return;const T=h.state.tr,R=Jp({state:h.state,transaction:T}),I={from:r-(A[0].length-s.length),to:i},{commands:D,chain:F,can:P}=new e0({editor:n,state:R});E.handler({state:R,range:I,match:A,commands:D,chain:F,can:P})===null||!T.steps.length||(E.undoable&&T.setMeta(d,{transform:T,from:r,to:i,text:s}),h.dispatch(T),b=!0)}),b}function $Y(t){const{editor:e,rules:n}=t,r=new Zn({state:{init(){return null},apply(i,s,l){const d=i.getMeta(r);if(d)return d;const h=i.getMeta("applyInputRules");return!!h&&setTimeout(()=>{let{text:b}=h;typeof b=="string"?b=b:b=ay(ke.from(b),l.schema);const{from:C}=h,E=C+b.length;l1({editor:e,from:C,to:E,text:b,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,l,d){return l1({editor:e,from:s,to:l,text:d,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&l1({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?l1({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function GY(t){return Object.prototype.toString.call(t).slice(8,-1)}function c1(t){return GY(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function IA(t,e){const n={...t};return c1(t)&&c1(e)&&Object.keys(e).forEach(r=>{c1(e[r])&&c1(t[r])?n[r]=IA(t[r],e[r]):n[r]=e[r]}),n}var dy=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...un(ot(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...un(ot(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>IA(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},mc=class kA extends dy{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new kA(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(m=>(m==null?void 0:m.type.name)===n.name))return!1;const h=l.find(m=>(m==null?void 0:m.type.name)===n.name);return h&&r.removeStoredMark(h),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function qY(t){return typeof t=="number"}var WY=class{constructor(t){this.find=t.find,this.handler=t.handler}},XY=(t,e,n)=>{if(ly(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function YY(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:l,dropEvent:d}=t,{commands:h,chain:m,can:b}=new e0({editor:e,state:n}),C=[];return n.doc.nodesBetween(r,i,(A,T)=>{var R,I,D,F,P;if((I=(R=A.type)==null?void 0:R.spec)!=null&&I.code||!(A.isText||A.isTextblock||A.isInline))return;const q=(P=(F=(D=A.content)==null?void 0:D.size)!=null?F:A.nodeSize)!=null?P:0,$=Math.max(r,T),V=Math.min(i,T+q);if($>=V)return;const G=A.isText?A.text||"":A.textBetween($-T,V-T,void 0,"");XY(G,s.find,l).forEach(Z=>{if(Z.index===void 0)return;const Ce=$+Z.index+1,we=Ce+Z[0].length,me={from:n.tr.mapping.map(Ce),to:n.tr.mapping.map(we)},Pe=s.handler({state:n,range:me,match:Z,commands:h,chain:m,can:b,pasteEvent:l,dropEvent:d});C.push(Pe)})}),C.every(A=>A!==null)}var u1=null,KY=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function ZY(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,d;try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}const h=({state:b,from:C,to:E,rule:A,pasteEvt:T})=>{const R=b.tr,I=Jp({state:b,transaction:R});if(!(!YY({editor:e,state:I,from:Math.max(C-1,0),to:E.b-1,rule:A,pasteEvent:T,dropEvent:d})||!R.steps.length)){try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,R}};return n.map(b=>new Zn({view(C){const E=T=>{var R;r=(R=C.dom.parentElement)!=null&&R.contains(T.target)?C.dom.parentElement:null,r&&(u1=e)},A=()=>{u1&&(u1=null)};return window.addEventListener("dragstart",E),window.addEventListener("dragend",A),{destroy(){window.removeEventListener("dragstart",E),window.removeEventListener("dragend",A)}}},props:{handleDOMEvents:{drop:(C,E)=>{if(s=r===C.dom.parentElement,d=E,!s){const A=u1;A!=null&&A.isEditable&&setTimeout(()=>{const T=A.state.selection;T&&A.commands.deleteRange({from:T.from,to:T.to})},10)}return!1},paste:(C,E)=>{var A;const T=(A=E.clipboardData)==null?void 0:A.getData("text/html");return l=E,i=!!(T!=null&&T.includes("data-pm-slice")),!1}}},appendTransaction:(C,E,A)=>{const T=C[0],R=T.getMeta("uiEvent")==="paste"&&!i,I=T.getMeta("uiEvent")==="drop"&&!s,D=T.getMeta("applyPasteRules"),F=!!D;if(!R&&!I&&!F)return;if(F){let{text:$}=D;typeof $=="string"?$=$:$=ay(ke.from($),A.schema);const{from:V}=D,G=V+$.length,Q=KY($);return h({rule:b,state:A,from:V,to:{b:G},pasteEvt:Q})}const P=E.doc.content.findDiffStart(A.doc.content),q=E.doc.content.findDiffEnd(A.doc.content);if(!(!qY(P)||!q||P===q.b))return h({rule:b,state:A,from:P,to:q,pasteEvt:l})}}))}var s0=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=CA(t),this.schema=RY(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:dx(e.name,this.schema)},r=ot(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return oy([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:dx(r.name,this.schema)},s=[],l=ot(r,"addKeyboardShortcuts",i);let d={};if(r.type==="mark"&&ot(r,"exitable",i)&&(d.ArrowRight=()=>mc.handleExit({editor:t,mark:r})),l){const E=Object.fromEntries(Object.entries(l()).map(([A,T])=>[A,()=>T({editor:t})]));d={...d,...E}}const h=rY(d);s.push(h);const m=ot(r,"addInputRules",i);if(w_(r,t.options.enableInputRules)&&m){const E=m();if(E&&E.length){const A=$Y({editor:t,rules:E}),T=Array.isArray(A)?A:[A];s.push(...T)}}const b=ot(r,"addPasteRules",i);if(w_(r,t.options.enablePasteRules)&&b){const E=b();if(E&&E.length){const A=ZY({editor:t,rules:E});s.push(...A)}}const C=ot(r,"addProseMirrorPlugins",i);if(C){const E=C();s.push(...E)}return s})}get attributes(){return wA(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=yf(this.extensions);return Object.fromEntries(e.filter(n=>!!ot(n,"addNodeView")).map(n=>{const r=this.attributes.filter(d=>d.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:fr(n.name,this.schema)},s=ot(n,"addNodeView",i);if(!s)return[];const l=(d,h,m,b,C)=>{const E=np(d,r);return s()({node:d,view:h,getPos:m,decorations:b,innerDecorations:C,editor:t,extension:n,HTMLAttributes:E})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=yf(this.extensions);return Object.fromEntries(e.filter(n=>!!ot(n,"addMarkView")).map(n=>{const r=this.attributes.filter(d=>d.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ro(n.name,this.schema)},s=ot(n,"addMarkView",i);if(!s)return[];const l=(d,h,m)=>{const b=np(d,r);return s()({mark:d,view:h,inline:m,editor:t,extension:n,HTMLAttributes:b,updateAttributes:C=>{fZ(d,t,C)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:dx(e.name,this.schema)};e.type==="mark"&&((n=un(ot(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=ot(e,"onBeforeCreate",r),s=ot(e,"onCreate",r),l=ot(e,"onUpdate",r),d=ot(e,"onSelectionUpdate",r),h=ot(e,"onTransaction",r),m=ot(e,"onFocus",r),b=ot(e,"onBlur",r),C=ot(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),l&&this.editor.on("update",l),d&&this.editor.on("selectionUpdate",d),h&&this.editor.on("transaction",h),m&&this.editor.on("focus",m),b&&this.editor.on("blur",b),C&&this.editor.on("destroy",C)})}};s0.resolve=CA;s0.sort=oy;s0.flatten=sy;var QY={};xA(QY,{ClipboardTextSerializer:()=>BA,Commands:()=>PA,Delete:()=>zA,Drop:()=>FA,Editable:()=>UA,FocusEvents:()=>VA,Keymap:()=>$A,Paste:()=>GA,Tabindex:()=>qA,focusEventsPluginKey:()=>HA});var hr=class DA extends dy{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new DA(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},BA=hr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Zn({key:new Br("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,l=Math.min(...s.map(b=>b.$from.pos)),d=Math.max(...s.map(b=>b.$to.pos)),h=SA(n);return _A(r,{from:l,to:d},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:h})}}})]}}),LA={};xA(LA,{blur:()=>JY,clearContent:()=>eK,clearNodes:()=>tK,command:()=>nK,createParagraphNear:()=>rK,cut:()=>iK,deleteCurrentNode:()=>sK,deleteNode:()=>aK,deleteRange:()=>oK,deleteSelection:()=>lK,enter:()=>cK,exitCode:()=>uK,extendMarkRange:()=>dK,first:()=>fK,focus:()=>pK,forEach:()=>mK,insertContent:()=>gK,insertContentAt:()=>yK,joinBackward:()=>wK,joinDown:()=>vK,joinForward:()=>CK,joinItemBackward:()=>_K,joinItemForward:()=>SK,joinTextblockBackward:()=>EK,joinTextblockForward:()=>AK,joinUp:()=>bK,keyboardShortcut:()=>NK,lift:()=>OK,liftEmptyBlock:()=>MK,liftListItem:()=>RK,newlineInCode:()=>IK,resetAttributes:()=>kK,scrollIntoView:()=>DK,selectAll:()=>BK,selectNodeBackward:()=>LK,selectNodeForward:()=>jK,selectParentNode:()=>PK,selectTextblockEnd:()=>zK,selectTextblockStart:()=>FK,setContent:()=>UK,setMark:()=>VK,setMeta:()=>$K,setNode:()=>GK,setNodeSelection:()=>qK,setTextSelection:()=>WK,sinkListItem:()=>XK,splitBlock:()=>YK,splitListItem:()=>KK,toggleList:()=>ZK,toggleMark:()=>QK,toggleNode:()=>JK,toggleWrap:()=>eZ,undoInputRule:()=>tZ,unsetAllMarks:()=>nZ,unsetMark:()=>rZ,updateAttributes:()=>iZ,wrapIn:()=>sZ,wrapInList:()=>aZ});var JY=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),eK=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),tK=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:l})=>{t.doc.nodesBetween(s.pos,l.pos,(d,h)=>{if(d.type.isText)return;const{doc:m,mapping:b}=e,C=m.resolve(b.map(h)),E=m.resolve(b.map(h+d.nodeSize)),A=C.blockRange(E);if(!A)return;const T=Lu(A);if(d.type.isTextblock){const{defaultType:R}=C.parent.contentMatchAt(C.index());e.setNodeMarkup(A.start,R)}(T||T===0)&&e.lift(A,T)})}),!0},nK=t=>e=>t(e),rK=()=>({state:t,dispatch:e})=>hA(t,e),iK=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,s.content),r.setSelection(new pt(r.doc.resolve(Math.max(l-1,0)))),!0},sK=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const d=i.before(s),h=i.after(s);t.delete(d,h).scrollIntoView()}return!0}return!1},aK=t=>({tr:e,state:n,dispatch:r})=>{const i=fr(t,n.schema),s=e.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===i){if(r){const h=s.before(l),m=s.after(l);e.delete(h,m).scrollIntoView()}return!0}return!1},oK=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},lK=()=>({state:t,dispatch:e})=>ey(t,e),cK=()=>({commands:t})=>t.keyboardShortcut("Enter"),uK=()=>({state:t,dispatch:e})=>cY(t,e),dK=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=ro(t,r.schema),{doc:l,selection:d}=n,{$from:h,from:m,to:b}=d;if(i){const C=cy(h,s,e);if(C&&C.from<=m&&C.to>=b){const E=pt.create(l,C.from,C.to);n.setSelection(E)}}return!0},fK=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function hK(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function fy(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var pK=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const l=()=>{(fy()||hK())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!MA(n.state.selection))return l(),!0;const d=RA(i.doc,t)||n.state.selection,h=n.state.selection.eq(d);return s&&(h||i.setSelection(d),h&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},mK=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),gK=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),xK=t=>!("type"in t),yK=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var l;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let d;const h=I=>{s.emit("contentError",{editor:s,error:I,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},m={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{xf(e,s.schema,{parseOptions:m,errorOnInvalidContent:!0})}catch(I){h(I)}try{d=xf(e,s.schema,{parseOptions:m,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:s.options.enableContentCheck})}catch(I){return h(I),!1}let{from:b,to:C}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},E=!0,A=!0;if((xK(d)?d:[d]).forEach(I=>{I.check(),E=E?I.isText&&I.marks.length===0:!1,A=A?I.isBlock:!1}),b===C&&A){const{parent:I}=r.doc.resolve(b);I.isTextblock&&!I.type.spec.code&&!I.childCount&&(b-=1,C+=1)}let R;if(E){if(Array.isArray(e))R=e.map(I=>I.text||"").join("");else if(e instanceof ke){let I="";e.forEach(D=>{D.text&&(I+=D.text)}),R=I}else typeof e=="object"&&e&&e.text?R=e.text:R=e;r.insertText(R,b,C)}else{R=d;const I=r.doc.resolve(b),D=I.node(),F=I.parentOffset===0,P=D.isText||D.isTextblock,q=D.content.size>0;F&&P&&q&&(b=Math.max(0,b-1)),r.replaceWith(b,C,R)}n.updateSelection&&HY(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:b,text:R}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:b,text:R})}return!0},bK=()=>({state:t,dispatch:e})=>aY(t,e),vK=()=>({state:t,dispatch:e})=>oY(t,e),wK=()=>({state:t,dispatch:e})=>aA(t,e),CK=()=>({state:t,dispatch:e})=>uA(t,e),_K=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Wp(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},SK=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Wp(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},EK=()=>({state:t,dispatch:e})=>iY(t,e),AK=()=>({state:t,dispatch:e})=>sY(t,e);function jA(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function TK(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,l;for(let d=0;d<e.length-1;d+=1){const h=e[d];if(/^(cmd|meta|m)$/i.test(h))l=!0;else if(/^a(lt)?$/i.test(h))r=!0;else if(/^(c|ctrl|control)$/i.test(h))i=!0;else if(/^s(hift)?$/i.test(h))s=!0;else if(/^mod$/i.test(h))fy()||jA()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${h}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var NK=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=TK(t).split(/-(?!$)/),l=s.find(m=>!["Alt","Ctrl","Meta","Shift"].includes(m)),d=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),h=e.captureTransaction(()=>{n.someProp("handleKeyDown",m=>m(n,d))});return h==null||h.steps.forEach(m=>{const b=m.map(r.mapping);b&&i&&r.maybeStep(b)}),!0},OK=(t,e={})=>({state:n,dispatch:r})=>{const i=fr(t,n.schema);return dl(n,i,e)?lY(n,r):!1},MK=()=>({state:t,dispatch:e})=>pA(t,e),RK=t=>({state:e,dispatch:n})=>{const r=fr(t,e.schema);return vY(r)(e,n)},IK=()=>({state:t,dispatch:e})=>fA(t,e);function __(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var kK=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,l=null;const d=n0(typeof t=="string"?t:t.name,r.schema);return d?(d==="node"&&(s=fr(t,r.schema)),d==="mark"&&(l=ro(t,r.schema)),i&&n.selection.ranges.forEach(h=>{r.doc.nodesBetween(h.$from.pos,h.$to.pos,(m,b)=>{s&&s===m.type&&n.setNodeMarkup(b,void 0,__(m.attrs,e)),l&&m.marks.length&&m.marks.forEach(C=>{l===C.type&&n.addMark(b,b+m.nodeSize,l.create(__(C.attrs,e)))})})}),!0):!1},DK=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),BK=()=>({tr:t,dispatch:e})=>{if(e){const n=new Ki(t.doc);t.setSelection(n)}return!0},LK=()=>({state:t,dispatch:e})=>lA(t,e),jK=()=>({state:t,dispatch:e})=>dA(t,e),PK=()=>({state:t,dispatch:e})=>fY(t,e),zK=()=>({state:t,dispatch:e})=>mY(t,e),FK=()=>({state:t,dispatch:e})=>pY(t,e),UK=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:l,commands:d})=>{const{doc:h}=s;if(r.preserveWhitespace!=="full"){const m=n2(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&s.replaceWith(0,h.content.size,m).setMeta("preventUpdate",!n),!0}return l&&s.setMeta("preventUpdate",!n),d.insertContentAt({from:0,to:h.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function HK(t,e,n){var r;const{selection:i}=e;let s=null;if(MA(i)&&(s=i.$cursor),s){const d=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(d)||!d.some(m=>m.type.excludes(n)))}const{ranges:l}=i;return l.some(({$from:d,$to:h})=>{let m=d.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(d.pos,h.pos,(b,C,E)=>{if(m)return!1;if(b.isInline){const A=!E||E.type.allowsMarkType(n),T=!!n.isInSet(b.marks)||!b.marks.some(R=>R.type.excludes(n));m=A&&T}return!m}),m})}var VK=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:l,ranges:d}=s,h=ro(t,r.schema);if(i)if(l){const m=EA(r,h);n.addStoredMark(h.create({...m,...e}))}else d.forEach(m=>{const b=m.$from.pos,C=m.$to.pos;r.doc.nodesBetween(b,C,(E,A)=>{const T=Math.max(A,b),R=Math.min(A+E.nodeSize,C);E.marks.find(D=>D.type===h)?E.marks.forEach(D=>{h===D.type&&n.addMark(T,R,h.create({...D.attrs,...e}))}):n.addMark(T,R,h.create(e))})});return HK(r,n,h)},$K=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),GK=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=fr(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:d})=>x_(s,{...l,...e})(n)?!0:d.clearNodes()).command(({state:d})=>x_(s,{...l,...e})(d,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},qK=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Yl(t,0,r.content.size),s=lt.create(r,i);e.setSelection(s)}return!0},WK=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,l=pt.atStart(r).from,d=pt.atEnd(r).to,h=Yl(i,l,d),m=Yl(s,l,d),b=pt.create(r,h,m);e.setSelection(b)}return!0},XK=t=>({state:e,dispatch:n})=>{const r=fr(t,e.schema);return _Y(r)(e,n)};function S_(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}var YK=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:l}=e,{$from:d,$to:h}=s,m=i.extensionManager.attributes,b=E1(m,d.node().type.name,d.node().attrs);if(s instanceof lt&&s.node.isBlock)return!d.parentOffset||!to(l,d.pos)?!1:(r&&(t&&S_(n,i.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const C=h.parentOffset===h.parent.content.size,E=d.depth===0?void 0:AY(d.node(-1).contentMatchAt(d.indexAfter(-1)));let A=C&&E?[{type:E,attrs:b}]:void 0,T=to(e.doc,e.mapping.map(d.pos),1,A);if(!A&&!T&&to(e.doc,e.mapping.map(d.pos),1,E?[{type:E}]:void 0)&&(T=!0,A=E?[{type:E,attrs:b}]:void 0),r){if(T&&(s instanceof pt&&e.deleteSelection(),e.split(e.mapping.map(d.pos),1,A),E&&!C&&!d.parentOffset&&d.parent.type!==E)){const R=e.mapping.map(d.before()),I=e.doc.resolve(R);d.node(-1).canReplaceWith(I.index(),I.index()+1,E)&&e.setNodeMarkup(e.mapping.map(d.before()),E)}t&&S_(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return T},KK=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var l;const d=fr(t,r.schema),{$from:h,$to:m}=r.selection,b=r.selection.node;if(b&&b.isBlock||h.depth<2||!h.sameParent(m))return!1;const C=h.node(-1);if(C.type!==d)return!1;const E=s.extensionManager.attributes;if(h.parent.content.size===0&&h.node(-1).childCount===h.indexAfter(-1)){if(h.depth===2||h.node(-3).type!==d||h.index(-2)!==h.node(-2).childCount-1)return!1;if(i){let D=ke.empty;const F=h.index(-1)?1:h.index(-2)?2:3;for(let Q=h.depth-F;Q>=h.depth-3;Q-=1)D=ke.from(h.node(Q).copy(D));const P=h.indexAfter(-1)<h.node(-2).childCount?1:h.indexAfter(-2)<h.node(-3).childCount?2:3,q={...E1(E,h.node().type.name,h.node().attrs),...e},$=((l=d.contentMatch.defaultType)==null?void 0:l.createAndFill(q))||void 0;D=D.append(ke.from(d.createAndFill(null,$)||void 0));const V=h.before(h.depth-(F-1));n.replace(V,h.after(-P),new $e(D,4-F,0));let G=-1;n.doc.nodesBetween(V,n.doc.content.size,(Q,Z)=>{if(G>-1)return!1;Q.isTextblock&&Q.content.size===0&&(G=Z+1)}),G>-1&&n.setSelection(pt.near(n.doc.resolve(G))),n.scrollIntoView()}return!0}const A=m.pos===h.end()?C.contentMatchAt(0).defaultType:null,T={...E1(E,C.type.name,C.attrs),...e},R={...E1(E,h.node().type.name,h.node().attrs),...e};n.delete(h.pos,m.pos);const I=A?[{type:d,attrs:T},{type:A,attrs:R}]:[{type:d,attrs:T}];if(!to(n.doc,h.pos,2))return!1;if(i){const{selection:D,storedMarks:F}=r,{splittableMarks:P}=s.extensionManager,q=F||D.$to.parentOffset&&D.$from.marks();if(n.split(h.pos,2,I).scrollIntoView(),!q||!i)return!0;const $=q.filter(V=>P.includes(V.type.name));n.ensureMarks($)}return!0},fx=(t,e)=>{const n=t0(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&hl(t.doc,n.pos)&&t.join(n.pos),!0},hx=(t,e)=>{const n=t0(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&hl(t.doc,r)&&t.join(r),!0},ZK=(t,e,n,r={})=>({editor:i,tr:s,state:l,dispatch:d,chain:h,commands:m,can:b})=>{const{extensions:C,splittableMarks:E}=i.extensionManager,A=fr(t,l.schema),T=fr(e,l.schema),{selection:R,storedMarks:I}=l,{$from:D,$to:F}=R,P=D.blockRange(F),q=I||R.$to.parentOffset&&R.$from.marks();if(!P)return!1;const $=t0(V=>C_(V.type.name,C))(R);if(P.depth>=1&&$&&P.depth-$.depth<=1){if($.node.type===A)return m.liftListItem(T);if(C_($.node.type.name,C)&&A.validContent($.node.content)&&d)return h().command(()=>(s.setNodeMarkup($.pos,A),!0)).command(()=>fx(s,A)).command(()=>hx(s,A)).run()}return!n||!q||!d?h().command(()=>b().wrapInList(A,r)?!0:m.clearNodes()).wrapInList(A,r).command(()=>fx(s,A)).command(()=>hx(s,A)).run():h().command(()=>{const V=b().wrapInList(A,r),G=q.filter(Q=>E.includes(Q.type.name));return s.ensureMarks(G),V?!0:m.clearNodes()}).wrapInList(A,r).command(()=>fx(s,A)).command(()=>hx(s,A)).run()},QK=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,l=ro(t,r.schema);return r2(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:s}):i.setMark(l,e)},JK=(t,e,n={})=>({state:r,commands:i})=>{const s=fr(t,r.schema),l=fr(e,r.schema),d=dl(r,s,n);let h;return r.selection.$anchor.sameParent(r.selection.$head)&&(h=r.selection.$anchor.parent.attrs),d?i.setNode(l,h):i.setNode(s,{...h,...n})},eZ=(t,e={})=>({state:n,commands:r})=>{const i=fr(t,n.schema);return dl(n,i,e)?r.lift(i):r.wrapIn(i,e)},tZ=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const l=t.tr,d=s.transform;for(let h=d.steps.length-1;h>=0;h-=1)l.step(d.steps[h].invert(d.docs[h]));if(s.text){const h=l.doc.resolve(s.from).marks();l.replaceWith(s.from,s.to,t.schema.text(s.text,h))}else l.delete(s.from,s.to)}return!0}}return!1},nZ=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},rZ=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:l=!1}=e,{selection:d}=n,h=ro(t,r.schema),{$from:m,empty:b,ranges:C}=d;if(!i)return!0;if(b&&l){let{from:E,to:A}=d;const T=(s=m.marks().find(I=>I.type===h))==null?void 0:s.attrs,R=cy(m,h,T);R&&(E=R.from,A=R.to),n.removeMark(E,A,h)}else C.forEach(E=>{n.removeMark(E.$from.pos,E.$to.pos,h)});return n.removeStoredMark(h),!0},iZ=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,l=null;const d=n0(typeof t=="string"?t:t.name,r.schema);return d?(d==="node"&&(s=fr(t,r.schema)),d==="mark"&&(l=ro(t,r.schema)),i&&n.selection.ranges.forEach(h=>{const m=h.$from.pos,b=h.$to.pos;let C,E,A,T;n.selection.empty?r.doc.nodesBetween(m,b,(R,I)=>{s&&s===R.type&&(A=Math.max(I,m),T=Math.min(I+R.nodeSize,b),C=I,E=R)}):r.doc.nodesBetween(m,b,(R,I)=>{I<m&&s&&s===R.type&&(A=Math.max(I,m),T=Math.min(I+R.nodeSize,b),C=I,E=R),I>=m&&I<=b&&(s&&s===R.type&&n.setNodeMarkup(I,void 0,{...R.attrs,...e}),l&&R.marks.length&&R.marks.forEach(D=>{if(l===D.type){const F=Math.max(I,m),P=Math.min(I+R.nodeSize,b);n.addMark(F,P,l.create({...D.attrs,...e}))}}))}),E&&(C!==void 0&&n.setNodeMarkup(C,void 0,{...E.attrs,...e}),l&&E.marks.length&&E.marks.forEach(R=>{l===R.type&&n.addMark(A,T,l.create({...R.attrs,...e}))}))}),!0):!1},sZ=(t,e={})=>({state:n,dispatch:r})=>{const i=fr(t,n.schema);return gY(i,e)(n,r)},aZ=(t,e={})=>({state:n,dispatch:r})=>{const i=fr(t,n.schema);return xY(i,e)(n,r)},PA=hr.create({name:"commands",addCommands(){return{...LA}}}),zA=hr.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var l,d,h,m;if((m=(h=(d=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:d.filterTransaction)==null?void 0:h.call(d,t))!=null?m:t.getMeta("y-sync$"))return;const b=yA(t.before,[t,...e]);TA(b).forEach(A=>{b.mapping.mapResult(A.oldRange.from).deletedAfter&&b.mapping.mapResult(A.oldRange.to).deletedBefore&&b.before.nodesBetween(A.oldRange.from,A.oldRange.to,(T,R)=>{const I=R+T.nodeSize-2,D=A.oldRange.from<=R&&I<=A.oldRange.to;this.editor.emit("delete",{type:"node",node:T,from:R,to:I,newFrom:b.mapping.map(R),newTo:b.mapping.map(I),deletedRange:A.oldRange,newRange:A.newRange,partial:!D,editor:this.editor,transaction:t,combinedTransform:b})})});const E=b.mapping;b.steps.forEach((A,T)=>{var R,I;if(A instanceof Bs){const D=E.slice(T).map(A.from,-1),F=E.slice(T).map(A.to),P=E.invert().map(D,-1),q=E.invert().map(F),$=(R=b.doc.nodeAt(D-1))==null?void 0:R.marks.some(G=>G.eq(A.mark)),V=(I=b.doc.nodeAt(F))==null?void 0:I.marks.some(G=>G.eq(A.mark));this.editor.emit("delete",{type:"mark",mark:A.mark,from:A.from,to:A.to,deletedRange:{from:P,to:q},newRange:{from:D,to:F},partial:!!(V||$),editor:this.editor,transaction:t,combinedTransform:b})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),FA=hr.create({name:"drop",addProseMirrorPlugins(){return[new Zn({key:new Br("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),UA=hr.create({name:"editable",addProseMirrorPlugins(){return[new Zn({key:new Br("editable"),props:{editable:()=>this.editor.options.editable}})]}}),HA=new Br("focusEvents"),VA=hr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Zn({key:HA,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),$A=hr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:d})=>{const{selection:h,doc:m}=d,{empty:b,$anchor:C}=h,{pos:E,parent:A}=C,T=C.parent.isTextblock&&E>0?d.doc.resolve(E-1):C,R=T.parent.type.spec.isolating,I=C.pos-C.parentOffset,D=R&&T.parent.childCount===1?I===C.pos:Nt.atStart(m).from===E;return!b||!A.type.isTextblock||A.textContent.length||!D||D&&C.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return fy()||jA()?s:i},addProseMirrorPlugins(){return[new Zn({key:new Br("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(R=>R.getMeta("composition")))return;const r=t.some(R=>R.docChanged)&&!e.doc.eq(n.doc),i=t.some(R=>R.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:l,to:d}=e.selection,h=Nt.atStart(e.doc).from,m=Nt.atEnd(e.doc).to;if(s||!(l===h&&d===m)||!r0(n.doc))return;const E=n.tr,A=Jp({state:n,transaction:E}),{commands:T}=new e0({editor:this.editor,state:A});if(T.clearNodes(),!!E.steps.length)return E}})]}}),GA=hr.create({name:"paste",addProseMirrorPlugins(){return[new Zn({key:new Br("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),qA=hr.create({name:"tabindex",addProseMirrorPlugins(){return[new Zn({key:new Br("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),oZ=class gu{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new gu(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new gu(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new gu(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,l=this.pos+r+(s?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(l);if(!i&&d.depth<=this.depth)return;const h=new gu(d,this.editor,i,i?n:null);i&&(h.actualDepth=this.depth+1),e.push(new gu(d,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,l=Object.keys(n);for(let d=0;d<l.length;d+=1){const h=l[d];if(s[h]!==n[h])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&s.every(h=>n[h]===l.node.attrs[h])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},lZ=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function cZ(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var uZ=class extends EY{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=RA(e,this.options.autofocus);this.editorState=bu.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=cZ(lZ,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=vA(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(l=>!l.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[UA,BA.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),PA,VA,$A,qA,FA,GA,zA].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new s0(r,this)}createCommandManager(){this.commandManager=new e0({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=n2(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=n2(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new rA(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(m=>{var b;return(b=this.capturedTransaction)==null?void 0:b.step(m)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const l=n.findLast(m=>m.getMeta("focus")||m.getMeta("blur")),d=l==null?void 0:l.getMeta("focus"),h=l==null?void 0:l.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:l}),h&&this.emit("blur",{editor:this,event:h.event,transaction:l}),!(t.getMeta("preventUpdate")||!n.some(m=>m.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return AA(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return zY(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ay(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return kY(this.state.doc,{blockSeparator:e,textSerializers:{...SA(this.schema),...n}})}get isEmpty(){return r0(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new oZ(e,this)}get $doc(){return this.$pos(0)}};function Ou(t){return new i0({find:t.find,handler:({state:e,range:n,match:r})=>{const i=un(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,l=r[r.length-1],d=r[0];if(l){const h=d.search(/\S/),m=n.from+d.indexOf(l),b=m+l.length;if(uy(n.from,n.to,e.doc).filter(A=>A.mark.type.excluded.find(R=>R===t.type&&R!==A.mark.type)).filter(A=>A.to>m).length)return null;b<n.to&&s.delete(b,n.to),m>n.from&&s.delete(n.from+h,m);const E=n.from+h+l.length;s.addMark(n.from+h,E,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function WA(t){return new i0({find:t.find,handler:({state:e,range:n,match:r})=>{const i=un(t.getAttributes,void 0,r)||{},{tr:s}=e,l=n.from;let d=n.to;const h=t.type.create(i);if(r[1]){const m=r[0].lastIndexOf(r[1]);let b=l+m;b>d?b=d:d=b+r[1].length;const C=r[0][r[0].length-1];s.insertText(C,l+r[0].length-1),s.replaceWith(b,d,h)}else if(r[0]){const m=t.type.isInline?l:l-1;s.insert(m,t.type.create(i)).delete(s.mapping.map(l),s.mapping.map(d))}s.scrollIntoView()},undoable:t.undoable})}function i2(t){return new i0({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=un(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Mu(t){return new i0({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=un(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),h=l.doc.resolve(n.from).blockRange(),m=h&&V2(h,t.type,s);if(!m)return null;if(l.wrap(h,m),t.keepMarks&&t.editor){const{selection:C,storedMarks:E}=e,{splittableMarks:A}=t.editor.extensionManager,T=E||C.$to.parentOffset&&C.$from.marks();if(T){const R=T.filter(I=>A.includes(I.type.name));l.ensureMarks(R)}}if(t.keepAttributes){const C=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(C,s).run()}const b=l.doc.resolve(n.from-1).nodeBefore;b&&b.type===t.type&&hl(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,b))&&l.join(n.from-1)},undoable:t.undoable})}function dZ(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof lt){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function fZ(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,l=t;i.descendants((d,h)=>{const m=s.mapping.map(h),b=s.mapping.map(h)+d.nodeSize;let C=null;if(d.marks.forEach(A=>{if(A!==l)return!1;C=A}),!C)return;let E=!1;if(Object.keys(n).forEach(A=>{n[A]!==C.attrs[A]&&(E=!0)}),E){const A=t.type.create({...t.attrs,...n});s.removeMark(m,b,t.type),s.addMark(m,b,A)}}),s.docChanged&&e.view.dispatch(s)}var Ii=class XA extends dy{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new XA(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function cc(t){return new WY({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=un(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:l}=e,d=r[r.length-1],h=r[0];let m=n.to;if(d){const b=h.search(/\S/),C=n.from+h.indexOf(d),E=C+d.length;if(uy(n.from,n.to,e.doc).filter(T=>T.mark.type.excluded.find(I=>I===t.type&&I!==T.mark.type)).filter(T=>T.to>C).length)return null;E<n.to&&l.delete(E,n.to),C>n.from&&l.delete(n.from+b,C),m=n.from+b+d.length,l.addMark(n.from+b,m,t.type.create(s||{})),l.removeStoredMark(t.type)}}})}var px,E_;function hZ(){return E_||(E_=1,px=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var l=s[i];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),px}var pZ=hZ();const mZ=uc(pZ);var mx={exports:{}},gx={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function gZ(){if(A_)return gx;A_=1;var t=dc(),e=HE();function n(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,d=t.useMemo,h=t.useDebugValue;return gx.useSyncExternalStoreWithSelector=function(m,b,C,E,A){var T=s(null);if(T.current===null){var R={hasValue:!1,value:null};T.current=R}else R=T.current;T=d(function(){function D(V){if(!F){if(F=!0,P=V,V=E(V),A!==void 0&&R.hasValue){var G=R.value;if(A(G,V))return q=G}return q=V}if(G=q,r(P,V))return G;var Q=E(V);return A!==void 0&&A(G,Q)?(P=V,G):(P=V,q=Q)}var F=!1,P,q,$=C===void 0?null:C;return[function(){return D(b())},$===null?void 0:function(){return D($())}]},[b,C,E,A]);var I=i(m,T[0],T[1]);return l(function(){R.hasValue=!0,R.value=I},[I]),h(I),I},gx}var T_;function xZ(){return T_||(T_=1,mx.exports=gZ()),mx.exports}var yZ=xZ(),bZ=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},vZ=({contentComponent:t})=>{const e=VE.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return w.jsx(w.Fragment,{children:Object.values(e)})};function wZ(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:Q6.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var CZ=class extends qt.Component{constructor(t){var e;super(t),this.editorContentRef=qt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=wZ(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return w.jsxs(w.Fragment,{children:[w.jsx("div",{ref:bZ(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&w.jsx(vZ,{contentComponent:t.contentComponent})]})}},_Z=z.forwardRef((t,e)=>{const n=qt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return qt.createElement(CZ,{key:n,innerRef:e,...t})}),SZ=qt.memo(_Z),EZ=typeof window<"u"?z.useLayoutEffect:z.useEffect,AZ=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function TZ(t){var e;const[n]=z.useState(()=>new AZ(t.editor)),r=yZ.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:mZ);return EZ(()=>n.watch(t.editor),[t.editor,n]),z.useDebugValue(r),r}var NZ=!1,s2=typeof window>"u",OZ=s2||!!(typeof window<"u"&&window.next),MZ=class YA{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?s2||OZ?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new uZ(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var l;return i===((l=n.extensions)==null?void 0:l[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?YA.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function RZ(t={},e=[]){const n=z.useRef(t);n.current=t;const[r]=z.useState(()=>new MZ(n)),i=VE.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return z.useDebugValue(i),z.useEffect(r.onRender(e)),TZ({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var IZ=z.createContext({editor:null});IZ.Consumer;var kZ=z.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),DZ=()=>z.useContext(kZ);qt.forwardRef((t,e)=>{const{onDragStart:n}=DZ(),r=t.as||"div";return w.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});qt.createContext({markViewContentRef:()=>{}});var ip=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},BZ=/^\s*>\s$/,LZ=Ii.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return ip("blockquote",{...sr(this.options.HTMLAttributes,t),children:ip("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Mu({find:BZ,type:this.type})]}}),jZ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,PZ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,zZ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,FZ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,UZ=mc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return ip("strong",{...sr(this.options.HTMLAttributes,t),children:ip("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ou({find:jZ,type:this.type}),Ou({find:zZ,type:this.type})]},addPasteRules(){return[cc({find:PZ,type:this.type}),cc({find:FZ,type:this.type})]}}),HZ=/(^|[^`])`([^`]+)`(?!`)$/,VZ=/(^|[^`])`([^`]+)`(?!`)/g,$Z=mc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",sr(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ou({find:HZ,type:this.type})]},addPasteRules(){return[cc({find:VZ,type:this.type})]}}),xx=4,GZ=/^```([a-z]+)?[\s\n]$/,qZ=/^~~~([a-z]+)?[\s\n]$/,WZ=Ii.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:xx,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",sr(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:xx,{state:r}=t,{selection:i}=r,{$from:s,empty:l}=i;if(s.parent.type!==this.type)return!1;const d=" ".repeat(n);return l?t.commands.insertContent(d):t.commands.command(({tr:h})=>{const{from:m,to:b}=i,A=r.doc.textBetween(m,b,`
`,`
`).split(`
`).map(T=>d+T).join(`
`);return h.replaceWith(m,b,r.schema.text(A)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:xx,{state:r}=t,{selection:i}=r,{$from:s,empty:l}=i;return s.parent.type!==this.type?!1:l?t.commands.command(({tr:d})=>{var h;const{pos:m}=s,b=s.start(),C=s.end(),A=r.doc.textBetween(b,C,`
`,`
`).split(`
`);let T=0,R=0;const I=m-b;for(let V=0;V<A.length;V+=1){if(R+A[V].length>=I){T=V;break}R+=A[V].length+1}const F=((h=A[T].match(/^ */))==null?void 0:h[0])||"",P=Math.min(F.length,n);if(P===0)return!0;let q=b;for(let V=0;V<T;V+=1)q+=A[V].length+1;return d.delete(q,q+P),m-q<=P&&d.setSelection(pt.create(d.doc,q)),!0}):t.commands.command(({tr:d})=>{const{from:h,to:m}=i,E=r.doc.textBetween(h,m,`
`,`
`).split(`
`).map(A=>{var T;const R=((T=A.match(/^ */))==null?void 0:T[0])||"",I=Math.min(R.length,n);return A.slice(I)}).join(`
`);return d.replaceWith(h,m,r.schema.text(E)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!s||!l?!1:t.chain().command(({tr:d})=>(d.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const d=i.after();return d===void 0?!1:r.nodeAt(d)?t.commands.command(({tr:m})=>(m.setSelection(Nt.near(r.resolve(d))),!0)):t.commands.exitCode()}}},addInputRules(){return[i2({find:GZ,type:this.type,getAttributes:t=>({language:t[1]})}),i2({find:qZ,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Zn({key:new Br("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:l,schema:d}=t.state,h=d.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:s},h)),l.selection.$from.parent.type!==this.type&&l.setSelection(pt.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),XZ=Ii.create({name:"doc",topNode:!0,content:"block+"}),YZ=Ii.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",sr(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:d}=r.extensionManager,h=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:m,dispatch:b})=>{if(b&&h&&l){const C=h.filter(E=>d.includes(E.type.name));m.ensureMarks(C)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),KZ=Ii.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,sr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>i2({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),ZZ=Ii.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",sr(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!dZ(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return OA(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:l,dispatch:d})=>{if(d){const{$to:h}=l.selection,m=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?l.setSelection(pt.create(l.doc,h.pos+1)):h.nodeAfter.isBlock?l.setSelection(lt.create(l.doc,h.pos)):l.setSelection(pt.create(l.doc,h.pos));else{const b=s.schema.nodes[this.options.nextNodeType]||h.parent.type.contentMatch.defaultType,C=b==null?void 0:b.create();C&&(l.insert(m,C),l.setSelection(pt.create(l.doc,m+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[WA({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),QZ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,JZ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,eQ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,tQ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,nQ=mc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",sr(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ou({find:QZ,type:this.type}),Ou({find:eQ,type:this.type})]},addPasteRules(){return[cc({find:JZ,type:this.type}),cc({find:tQ,type:this.type})]}});const rQ="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",iQ="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",a2="numeric",o2="ascii",l2="alpha",tf="asciinumeric",Kd="alphanumeric",c2="domain",KA="emoji",sQ="scheme",aQ="slashscheme",yx="whitespace";function oQ(t,e){return t in e||(e[t]=[]),e[t]}function Kl(t,e,n){e[a2]&&(e[tf]=!0,e[Kd]=!0),e[o2]&&(e[tf]=!0,e[l2]=!0),e[tf]&&(e[Kd]=!0),e[l2]&&(e[Kd]=!0),e[Kd]&&(e[c2]=!0),e[KA]&&(e[c2]=!0);for(const r in e){const i=oQ(r,n);i.indexOf(t)<0&&i.push(t)}}function lQ(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Ti(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Ti.groups={};Ti.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Ti.groups;let i;return e&&e.j?i=e:(i=new Ti(e),n&&r&&Kl(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let l=0;l<s-1;l++)i=i.tt(t[l]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Ti.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let l,d=i.go(t);if(d?(l=new Ti,Object.assign(l.j,d.j),l.jr.push.apply(l.jr,d.jr),l.jd=d.jd,l.t=d.t):l=new Ti,s){if(r)if(l.t&&typeof l.t=="string"){const h=Object.assign(lQ(l.t,r),n);Kl(s,h,r)}else n&&Kl(s,n,r);l.t=s}return i.j[t]=l,l}};const Tt=(t,e,n,r,i)=>t.ta(e,n,r,i),Xn=(t,e,n,r,i)=>t.tr(e,n,r,i),N_=(t,e,n,r,i)=>t.ts(e,n,r,i),Fe=(t,e,n,r,i)=>t.tt(e,n,r,i),Qa="WORD",u2="UWORD",ZA="ASCIINUMERICAL",QA="ALPHANUMERICAL",bf="LOCALHOST",d2="TLD",f2="UTLD",A1="SCHEME",xu="SLASH_SCHEME",hy="NUM",h2="WS",py="NL",nf="OPENBRACE",rf="CLOSEBRACE",sp="OPENBRACKET",ap="CLOSEBRACKET",op="OPENPAREN",lp="CLOSEPAREN",cp="OPENANGLEBRACKET",up="CLOSEANGLEBRACKET",dp="FULLWIDTHLEFTPAREN",fp="FULLWIDTHRIGHTPAREN",hp="LEFTCORNERBRACKET",pp="RIGHTCORNERBRACKET",mp="LEFTWHITECORNERBRACKET",gp="RIGHTWHITECORNERBRACKET",xp="FULLWIDTHLESSTHAN",yp="FULLWIDTHGREATERTHAN",bp="AMPERSAND",vp="APOSTROPHE",wp="ASTERISK",qo="AT",Cp="BACKSLASH",_p="BACKTICK",Sp="CARET",Ko="COLON",my="COMMA",Ep="DOLLAR",la="DOT",Ap="EQUALS",gy="EXCLAMATION",fs="HYPHEN",sf="PERCENT",Tp="PIPE",Np="PLUS",Op="POUND",af="QUERY",xy="QUOTE",JA="FULLWIDTHMIDDLEDOT",yy="SEMI",ca="SLASH",of="TILDE",Mp="UNDERSCORE",eT="EMOJI",Rp="SYM";var tT=Object.freeze({__proto__:null,ALPHANUMERICAL:QA,AMPERSAND:bp,APOSTROPHE:vp,ASCIINUMERICAL:ZA,ASTERISK:wp,AT:qo,BACKSLASH:Cp,BACKTICK:_p,CARET:Sp,CLOSEANGLEBRACKET:up,CLOSEBRACE:rf,CLOSEBRACKET:ap,CLOSEPAREN:lp,COLON:Ko,COMMA:my,DOLLAR:Ep,DOT:la,EMOJI:eT,EQUALS:Ap,EXCLAMATION:gy,FULLWIDTHGREATERTHAN:yp,FULLWIDTHLEFTPAREN:dp,FULLWIDTHLESSTHAN:xp,FULLWIDTHMIDDLEDOT:JA,FULLWIDTHRIGHTPAREN:fp,HYPHEN:fs,LEFTCORNERBRACKET:hp,LEFTWHITECORNERBRACKET:mp,LOCALHOST:bf,NL:py,NUM:hy,OPENANGLEBRACKET:cp,OPENBRACE:nf,OPENBRACKET:sp,OPENPAREN:op,PERCENT:sf,PIPE:Tp,PLUS:Np,POUND:Op,QUERY:af,QUOTE:xy,RIGHTCORNERBRACKET:pp,RIGHTWHITECORNERBRACKET:gp,SCHEME:A1,SEMI:yy,SLASH:ca,SLASH_SCHEME:xu,SYM:Rp,TILDE:of,TLD:d2,UNDERSCORE:Mp,UTLD:f2,UWORD:u2,WORD:Qa,WS:h2});const Xa=/[a-z]/,Fd=new RegExp("\\p{L}","u"),bx=new RegExp("\\p{Emoji}","u"),Ya=/\d/,vx=/\s/,O_="\r",wx=`
`,cQ="",uQ="",Cx="";let d1=null,f1=null;function dQ(t=[]){const e={};Ti.groups=e;const n=new Ti;d1==null&&(d1=M_(rQ)),f1==null&&(f1=M_(iQ)),Fe(n,"'",vp),Fe(n,"{",nf),Fe(n,"}",rf),Fe(n,"[",sp),Fe(n,"]",ap),Fe(n,"(",op),Fe(n,")",lp),Fe(n,"<",cp),Fe(n,">",up),Fe(n,"",dp),Fe(n,"",fp),Fe(n,"",hp),Fe(n,"",pp),Fe(n,"",mp),Fe(n,"",gp),Fe(n,"",xp),Fe(n,"",yp),Fe(n,"&",bp),Fe(n,"*",wp),Fe(n,"@",qo),Fe(n,"`",_p),Fe(n,"^",Sp),Fe(n,":",Ko),Fe(n,",",my),Fe(n,"$",Ep),Fe(n,".",la),Fe(n,"=",Ap),Fe(n,"!",gy),Fe(n,"-",fs),Fe(n,"%",sf),Fe(n,"|",Tp),Fe(n,"+",Np),Fe(n,"#",Op),Fe(n,"?",af),Fe(n,'"',xy),Fe(n,"/",ca),Fe(n,";",yy),Fe(n,"~",of),Fe(n,"_",Mp),Fe(n,"\\",Cp),Fe(n,"",JA);const r=Xn(n,Ya,hy,{[a2]:!0});Xn(r,Ya,r);const i=Xn(r,Xa,ZA,{[tf]:!0}),s=Xn(r,Fd,QA,{[Kd]:!0}),l=Xn(n,Xa,Qa,{[o2]:!0});Xn(l,Ya,i),Xn(l,Xa,l),Xn(i,Ya,i),Xn(i,Xa,i);const d=Xn(n,Fd,u2,{[l2]:!0});Xn(d,Xa),Xn(d,Ya,s),Xn(d,Fd,d),Xn(s,Ya,s),Xn(s,Xa),Xn(s,Fd,s);const h=Fe(n,wx,py,{[yx]:!0}),m=Fe(n,O_,h2,{[yx]:!0}),b=Xn(n,vx,h2,{[yx]:!0});Fe(n,Cx,b),Fe(m,wx,h),Fe(m,Cx,b),Xn(m,vx,b),Fe(b,O_),Fe(b,wx),Xn(b,vx,b),Fe(b,Cx,b);const C=Xn(n,bx,eT,{[KA]:!0});Fe(C,"#"),Xn(C,bx,C),Fe(C,cQ,C);const E=Fe(C,uQ);Fe(E,"#"),Xn(E,bx,C);const A=[[Xa,l],[Ya,i]],T=[[Xa,null],[Fd,d],[Ya,s]];for(let R=0;R<d1.length;R++)Ho(n,d1[R],d2,Qa,A);for(let R=0;R<f1.length;R++)Ho(n,f1[R],f2,u2,T);Kl(d2,{tld:!0,ascii:!0},e),Kl(f2,{utld:!0,alpha:!0},e),Ho(n,"file",A1,Qa,A),Ho(n,"mailto",A1,Qa,A),Ho(n,"http",xu,Qa,A),Ho(n,"https",xu,Qa,A),Ho(n,"ftp",xu,Qa,A),Ho(n,"ftps",xu,Qa,A),Kl(A1,{scheme:!0,ascii:!0},e),Kl(xu,{slashscheme:!0,ascii:!0},e),t=t.sort((R,I)=>R[0]>I[0]?1:-1);for(let R=0;R<t.length;R++){const I=t[R][0],F=t[R][1]?{[sQ]:!0}:{[aQ]:!0};I.indexOf("-")>=0?F[c2]=!0:Xa.test(I)?Ya.test(I)?F[tf]=!0:F[o2]=!0:F[a2]=!0,N_(n,I,I,F)}return N_(n,"localhost",bf,{ascii:!0}),n.jd=new Ti(Rp),{start:n,tokens:Object.assign({groups:e},tT)}}function nT(t,e){const n=fQ(e.replace(/[A-Z]/g,d=>d.toLowerCase())),r=n.length,i=[];let s=0,l=0;for(;l<r;){let d=t,h=null,m=0,b=null,C=-1,E=-1;for(;l<r&&(h=d.go(n[l]));)d=h,d.accepts()?(C=0,E=0,b=d):C>=0&&(C+=n[l].length,E++),m+=n[l].length,s+=n[l].length,l++;s-=C,l-=E,m-=C,i.push({t:b.t,v:e.slice(s-m,s),s:s-m,e:s})}return i}function fQ(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,l=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function Ho(t,e,n,r,i){let s;const l=e.length;for(let d=0;d<l-1;d++){const h=e[d];t.j[h]?s=t.j[h]:(s=new Ti(r),s.jr=i.slice(),t.j[h]=s),t=s}return s=new Ti(n),s.jr=i.slice(),t.j[e[l-1]]=s,s}function M_(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+s),10);l>0;l--)n.pop();r+=s}else n.push(t[r]),r++}return e}const vf={defaultProtocol:"http",events:null,format:R_,formatHref:R_,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function by(t,e=null){let n=Object.assign({},vf);t&&(n=Object.assign(n,t instanceof by?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}by.prototype={o:vf,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:vf[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function R_(t){return t}function rT(t,e){this.t="token",this.v=t,this.tk=e}rT.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=vf.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),l={},d=t.get("className",n,e),h=t.get("target",n,e),m=t.get("rel",n,e),b=t.getObj("attributes",n,e),C=t.getObj("events",n,e);return l.href=r,d&&(l.class=d),h&&(l.target=h),m&&(l.rel=m),b&&Object.assign(l,b),{tagName:i,attributes:l,content:s,eventListeners:C}}};function a0(t,e){class n extends rT{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const I_=a0("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),k_=a0("text"),hQ=a0("nl"),h1=a0("url",{isLink:!0,toHref(t=vf.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==bf&&t[1].t===Ko}}),us=t=>new Ti(t);function pQ({groups:t}){const e=t.domain.concat([bp,wp,qo,Cp,_p,Sp,Ep,Ap,fs,hy,sf,Tp,Np,Op,ca,Rp,of,Mp]),n=[vp,Ko,my,la,gy,sf,af,xy,yy,cp,up,nf,rf,ap,sp,op,lp,dp,fp,hp,pp,mp,gp,xp,yp],r=[bp,vp,wp,Cp,_p,Sp,Ep,Ap,fs,nf,rf,sf,Tp,Np,Op,af,ca,Rp,of,Mp],i=us(),s=Fe(i,of);Tt(s,r,s),Tt(s,t.domain,s);const l=us(),d=us(),h=us();Tt(i,t.domain,l),Tt(i,t.scheme,d),Tt(i,t.slashscheme,h),Tt(l,r,s),Tt(l,t.domain,l);const m=Fe(l,qo);Fe(s,qo,m),Fe(d,qo,m),Fe(h,qo,m);const b=Fe(s,la);Tt(b,r,s),Tt(b,t.domain,s);const C=us();Tt(m,t.domain,C),Tt(C,t.domain,C);const E=Fe(C,la);Tt(E,t.domain,C);const A=us(I_);Tt(E,t.tld,A),Tt(E,t.utld,A),Fe(m,bf,A);const T=Fe(C,fs);Fe(T,fs,T),Tt(T,t.domain,C),Tt(A,t.domain,C),Fe(A,la,E),Fe(A,fs,T);const R=Fe(A,Ko);Tt(R,t.numeric,I_);const I=Fe(l,fs),D=Fe(l,la);Fe(I,fs,I),Tt(I,t.domain,l),Tt(D,r,s),Tt(D,t.domain,l);const F=us(h1);Tt(D,t.tld,F),Tt(D,t.utld,F),Tt(F,t.domain,l),Tt(F,r,s),Fe(F,la,D),Fe(F,fs,I),Fe(F,qo,m);const P=Fe(F,Ko),q=us(h1);Tt(P,t.numeric,q);const $=us(h1),V=us();Tt($,e,$),Tt($,n,V),Tt(V,e,$),Tt(V,n,V),Fe(F,ca,$),Fe(q,ca,$);const G=Fe(d,Ko),Q=Fe(h,Ko),Z=Fe(Q,ca),Ce=Fe(Z,ca);Tt(d,t.domain,l),Fe(d,la,D),Fe(d,fs,I),Tt(h,t.domain,l),Fe(h,la,D),Fe(h,fs,I),Tt(G,t.domain,$),Fe(G,ca,$),Fe(G,af,$),Tt(Ce,t.domain,$),Tt(Ce,e,$),Fe(Ce,ca,$);const we=[[nf,rf],[sp,ap],[op,lp],[cp,up],[dp,fp],[hp,pp],[mp,gp],[xp,yp]];for(let me=0;me<we.length;me++){const[Pe,De]=we[me],ee=Fe($,Pe);Fe(V,Pe,ee),Fe(ee,De,$);const Y=us(h1);Tt(ee,e,Y);const ae=us();Tt(ee,n),Tt(Y,e,Y),Tt(Y,n,ae),Tt(ae,e,Y),Tt(ae,n,ae),Fe(Y,De,$),Fe(ae,De,$)}return Fe(i,bf,F),Fe(i,py,hQ),{start:i,tokens:tT}}function mQ(t,e,n){let r=n.length,i=0,s=[],l=[];for(;i<r;){let d=t,h=null,m=null,b=0,C=null,E=-1;for(;i<r&&!(h=d.go(n[i].t));)l.push(n[i++]);for(;i<r&&(m=h||d.go(n[i].t));)h=null,d=m,d.accepts()?(E=0,C=d):E>=0&&E++,i++,b++;if(E<0)i-=b,i<r&&(l.push(n[i]),i++);else{l.length>0&&(s.push(_x(k_,e,l)),l=[]),i-=E,b-=E;const A=C.t,T=n.slice(i-b,i);s.push(_x(A,e,T))}}return l.length>0&&s.push(_x(k_,e,l)),s}function _x(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const gQ=typeof console<"u"&&console&&console.warn||(()=>{}),xQ="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",In={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function yQ(){return Ti.groups={},In.scanner=null,In.parser=null,In.tokenQueue=[],In.pluginQueue=[],In.customSchemes=[],In.initialized=!1,In}function D_(t,e=!1){if(In.initialized&&gQ(`linkifyjs: already initialized - will not register custom scheme "${t}" ${xQ}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);In.customSchemes.push([t,e])}function bQ(){In.scanner=dQ(In.customSchemes);for(let t=0;t<In.tokenQueue.length;t++)In.tokenQueue[t][1]({scanner:In.scanner});In.parser=pQ(In.scanner.tokens);for(let t=0;t<In.pluginQueue.length;t++)In.pluginQueue[t][1]({scanner:In.scanner,parser:In.parser});return In.initialized=!0,In}function vy(t){return In.initialized||bQ(),mQ(In.parser.start,t,nT(In.scanner.start,t))}vy.scan=nT;function iT(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new by(n),i=vy(t),s=[];for(let l=0;l<i.length;l++){const d=i[l];d.isLink&&(!e||d.t===e)&&r.check(d)&&s.push(d.toFormattedObject(r))}return s}var wy="[\0- -\u2029]",vQ=new RegExp(wy),wQ=new RegExp(`${wy}$`),CQ=new RegExp(wy,"g");function _Q(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function SQ(t){return new Zn({key:new Br("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(m=>m.docChanged)&&!n.doc.eq(r.doc),s=e.some(m=>m.getMeta("preventAutolink"));if(!i||s)return;const{tr:l}=r,d=yA(n.doc,[...e]);if(TA(d).forEach(({newRange:m})=>{const b=TY(r.doc,m,A=>A.isTextblock);let C,E;if(b.length>1)C=b[0],E=r.doc.textBetween(C.pos,C.pos+C.node.nodeSize,void 0," ");else if(b.length){const A=r.doc.textBetween(m.from,m.to," "," ");if(!wQ.test(A))return;C=b[0],E=r.doc.textBetween(C.pos,m.to,void 0," ")}if(C&&E){const A=E.split(vQ).filter(Boolean);if(A.length<=0)return!1;const T=A[A.length-1],R=C.pos+E.lastIndexOf(T);if(!T)return!1;const I=vy(T).map(D=>D.toObject(t.defaultProtocol));if(!_Q(I))return!1;I.filter(D=>D.isLink).map(D=>({...D,from:R+D.start+1,to:R+D.end+1})).filter(D=>r.schema.marks.code?!r.doc.rangeHasMark(D.from,D.to,r.schema.marks.code):!0).filter(D=>t.validate(D.value)).filter(D=>t.shouldAutoLink(D.value)).forEach(D=>{uy(D.from,D.to,r.doc).some(F=>F.mark.type===t.type)||l.addMark(D.from,D.to,t.type.create({href:D.href}))})}}),!!l.steps.length)return l}})}function EQ(t){return new Zn({key:new Br("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let b=r.target;const C=[];for(;b.nodeName!=="DIV";)C.push(b),b=b.parentNode;l=C.find(E=>E.nodeName==="A")}if(!l)return!1;const d=AA(e.state,t.type.name),h=(i=l==null?void 0:l.href)!=null?i:d.href,m=(s=l==null?void 0:l.target)!=null?s:d.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),l&&h?(window.open(h,m),!0):!1}}})}function AQ(t){return new Zn({key:new Br("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:l}=s;if(l)return!1;let d="";r.content.forEach(m=>{d+=m.textContent});const h=iT(d,{defaultProtocol:t.defaultProtocol}).find(m=>m.isLink&&m.value===d);return!d||!h?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function Hl(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(CQ,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var TQ=mc.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){D_(t);return}D_(t.scheme,t.optionalSlashes)})},onDestroy(){yQ()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Hl(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Hl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Hl(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",sr(this.options.HTMLAttributes,t),0]:["a",sr(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Hl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Hl(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[cc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=iT(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:l=>!!Hl(l,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(SQ({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Hl(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(EQ({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(AQ({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),NQ=Object.defineProperty,OQ=(t,e)=>{for(var n in e)NQ(t,n,{get:e[n],enumerable:!0})},MQ="listItem",B_="textStyle",L_=/^\s*([-+*])\s$/,sT=Ii.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",sr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(MQ,this.editor.getAttributes(B_)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Mu({find:L_,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Mu({find:L_,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(B_),editor:this.editor})),[t]}}),aT=Ii.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",sr(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),RQ={};OQ(RQ,{findListItemPos:()=>Df,getNextListDepth:()=>Cy,handleBackspace:()=>p2,handleDelete:()=>m2,hasListBefore:()=>oT,hasListItemAfter:()=>IQ,hasListItemBefore:()=>lT,listItemHasSubList:()=>cT,nextListIsDeeper:()=>uT,nextListIsHigher:()=>dT});var Df=(t,e)=>{const{$from:n}=e.selection,r=fr(t,e.schema);let i=null,s=n.depth,l=n.pos,d=null;for(;s>0&&d===null;)i=n.node(s),i.type===r?d=s:(s-=1,l-=1);return d===null?null:{$pos:e.doc.resolve(l),depth:d}},Cy=(t,e)=>{const n=Df(t,e);if(!n)return!1;const[,r]=jY(e,t,n.$pos.pos+4);return r},oT=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},lT=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},cT=(t,e,n)=>{if(!n)return!1;const r=fr(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},p2=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!dl(t.state,e)&&oT(t.state,e,n)){const{$anchor:d}=t.state.selection,h=t.state.doc.resolve(d.before()-1),m=[];h.node().descendants((E,A)=>{E.type.name===e&&m.push({node:E,pos:A})});const b=m.at(-1);if(!b)return!1;const C=t.state.doc.resolve(h.start()+b.pos+1);return t.chain().cut({from:d.start()-1,to:d.end()+1},C.end()).joinForward().run()}if(!dl(t.state,e)||!UY(t.state))return!1;const r=Df(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=cT(e,t.state,s);return lT(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},uT=(t,e)=>{const n=Cy(t,e),r=Df(t,e);return!r||!n?!1:n>r.depth},dT=(t,e)=>{const n=Cy(t,e),r=Df(t,e);return!r||!n?!1:n<r.depth},m2=(t,e)=>{if(!dl(t.state,e)||!FY(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:uT(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():dT(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},IQ=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},fT=hr.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&m2(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&m2(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&p2(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&p2(t,n,r)&&(e=!0)}),e}}}}),kQ="listItem",j_="textStyle",P_=/^(\d+)\.\s$/,hT=Ii.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",sr(this.options.HTMLAttributes,n),0]:["ol",sr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(kQ,this.editor.getAttributes(j_)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Mu({find:P_,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Mu({find:P_,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(j_)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),DQ=/^\s*(\[([( |x])?\])\s$/,BQ=Ii.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",sr(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),l=document.createElement("span"),d=document.createElement("input"),h=document.createElement("div"),m=b=>{var C,E;d.ariaLabel=((E=(C=this.options.a11y)==null?void 0:C.checkboxLabel)==null?void 0:E.call(C,b,d.checked))||`Task item checkbox for ${b.textContent||"empty task item"}`};return m(t),s.contentEditable="false",d.type="checkbox",d.addEventListener("mousedown",b=>b.preventDefault()),d.addEventListener("change",b=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){d.checked=!d.checked;return}const{checked:C}=b.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:E})=>{const A=n();if(typeof A!="number")return!1;const T=E.doc.nodeAt(A);return E.setNodeMarkup(A,void 0,{...T==null?void 0:T.attrs,checked:C}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,C)||(d.checked=!d.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([b,C])=>{i.setAttribute(b,C)}),i.dataset.checked=t.attrs.checked,d.checked=t.attrs.checked,s.append(d,l),i.append(s,h),Object.entries(e).forEach(([b,C])=>{i.setAttribute(b,C)}),{dom:i,contentDOM:h,update:b=>b.type!==this.type?!1:(i.dataset.checked=b.attrs.checked,d.checked=b.attrs.checked,m(b),!0)}}},addInputRules(){return[Mu({find:DQ,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),LQ=Ii.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",sr(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});hr.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(sT.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(aT.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(fT.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(hT.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(BQ.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(LQ.configure(this.options.taskList)),t}});var jQ=Ii.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",sr(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),PQ=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,zQ=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,FQ=mc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",sr(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ou({find:PQ,type:this.type})]},addPasteRules(){return[cc({find:zQ,type:this.type})]}}),UQ=Ii.create({name:"text",group:"inline"}),HQ=mc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",sr(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function VQ(t={}){return new Zn({view(e){return new $Q(e,t)}})}class $Q{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=l=>{this[i](l)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),l=s.width/i.offsetWidth,d=s.height/i.offsetHeight;if(n){let C=e.nodeBefore,E=e.nodeAfter;if(C||E){let A=this.editorView.nodeDOM(this.cursorPos-(C?C.nodeSize:0));if(A){let T=A.getBoundingClientRect(),R=C?T.bottom:T.top;C&&E&&(R=(R+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let I=this.width/2*d;r={left:T.left,right:T.right,top:R-I,bottom:R+I}}}}if(!r){let C=this.editorView.coordsAtPos(this.cursorPos),E=this.width/2*l;r={left:C.left-E,right:C.left+E,top:C.top,bottom:C.bottom}}let h=this.editorView.dom.offsetParent;this.element||(this.element=h.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let m,b;if(!h||h==document.body&&getComputedStyle(h).position=="static")m=-pageXOffset,b=-pageYOffset;else{let C=h.getBoundingClientRect(),E=C.width/h.offsetWidth,A=C.height/h.offsetHeight;m=C.left-h.scrollLeft*E,b=C.top-h.scrollTop*A}this.element.style.left=(r.left-m)/l+"px",this.element.style.top=(r.top-b)/d+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/d+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let d=g4(this.editorView.state.doc,l,this.editorView.dragging.slice);d!=null&&(l=d)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Kn extends Nt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Kn.valid(r)?new Kn(r):Nt.near(r)}content(){return $e.empty}eq(e){return e instanceof Kn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Kn(e.resolve(n.pos))}getBookmark(){return new _y(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!GQ(e)||!qQ(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Kn.valid(e))return e;let i=e.pos,s=null;for(let l=e.depth;;l--){let d=e.node(l);if(n>0?e.indexAfter(l)<d.childCount:e.index(l)>0){s=d.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=n;let h=e.doc.resolve(i);if(Kn.valid(h))return h}for(;;){let l=n>0?s.firstChild:s.lastChild;if(!l){if(s.isAtom&&!s.isText&&!lt.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=l,i+=n;let d=e.doc.resolve(i);if(Kn.valid(d))return d}return null}}}Kn.prototype.visible=!1;Kn.findFrom=Kn.findGapCursorFrom;Nt.jsonID("gapcursor",Kn);class _y{constructor(e){this.pos=e}map(e){return new _y(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Kn.valid(n)?new Kn(n):Nt.near(n)}}function GQ(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function qQ(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function WQ(){return new Zn({props:{decorations:ZQ,createSelectionBetween(t,e,n){return e.pos==n.pos&&Kn.valid(n)?new Kn(n):null},handleClick:YQ,handleKeyDown:XQ,handleDOMEvents:{beforeinput:KQ}}})}const XQ=iA({ArrowLeft:p1("horiz",-1),ArrowRight:p1("horiz",1),ArrowUp:p1("vert",-1),ArrowDown:p1("vert",1)});function p1(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let l=r.selection,d=e>0?l.$to:l.$from,h=l.empty;if(l instanceof pt){if(!s.endOfTextblock(n)||d.depth==0)return!1;h=!1,d=r.doc.resolve(e>0?d.after():d.before())}let m=Kn.findGapCursorFrom(d,e,h);return m?(i&&i(r.tr.setSelection(new Kn(m))),!0):!1}}function YQ(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Kn.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&lt.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Kn(r))),!0)}function KQ(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Kn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ke.empty;for(let l=r.length-1;l>=0;l--)i=ke.from(r[l].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new $e(i,0,0));return s.setSelection(pt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function ZQ(t){if(!(t.selection instanceof Kn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Hn.create(t.doc,[hi.widget(t.selection.head,e,{key:"gapcursor"})])}var Ip=200,kr=function(){};kr.prototype.append=function(e){return e.length?(e=kr.from(e),!this.length&&e||e.length<Ip&&this.leafAppend(e)||this.length<Ip&&e.leafPrepend(this)||this.appendInner(e)):this};kr.prototype.prepend=function(e){return e.length?kr.from(e).append(this):this};kr.prototype.appendInner=function(e){return new QQ(this,e)};kr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?kr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};kr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};kr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};kr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,l){return i.push(e(s,l))},n,r),i};kr.from=function(e){return e instanceof kr?e:e&&e.length?new pT(e):kr.empty};var pT=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,l,d){for(var h=s;h<l;h++)if(i(this.values[h],d+h)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,l,d){for(var h=s-1;h>=l;h--)if(i(this.values[h],d+h)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Ip)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Ip)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(kr);kr.empty=new pT([]);var QQ=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,l){var d=this.left.length;if(i<d&&this.left.forEachInner(r,i,Math.min(s,d),l)===!1||s>d&&this.right.forEachInner(r,Math.max(i-d,0),Math.min(this.length,s)-d,l+d)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,l){var d=this.left.length;if(i>d&&this.right.forEachInvertedInner(r,i-d,Math.max(s,d)-d,l+d)===!1||s<d&&this.left.forEachInvertedInner(r,Math.min(i,d),s,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(kr);const JQ=500;class Ds{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let l=e.tr,d,h,m=[],b=[];return this.items.forEach((C,E)=>{if(!C.step){i||(i=this.remapping(r,E+1),s=i.maps.length),s--,b.push(C);return}if(i){b.push(new ua(C.map));let A=C.step.map(i.slice(s)),T;A&&l.maybeStep(A).doc&&(T=l.mapping.maps[l.mapping.maps.length-1],m.push(new ua(T,void 0,void 0,m.length+b.length))),s--,T&&i.appendMap(T,s)}else l.maybeStep(C.step);if(C.selection)return d=i?C.selection.map(i.slice(s)):C.selection,h=new Ds(this.items.slice(0,r).append(b.reverse().concat(m)),this.eventCount-1),!1},this.items.length,0),{remaining:h,transform:l,selection:d}}addTransform(e,n,r,i){let s=[],l=this.eventCount,d=this.items,h=!i&&d.length?d.get(d.length-1):null;for(let b=0;b<e.steps.length;b++){let C=e.steps[b].invert(e.docs[b]),E=new ua(e.mapping.maps[b],C,n),A;(A=h&&h.merge(E))&&(E=A,b?s.pop():d=d.slice(0,d.length-1)),s.push(E),n&&(l++,n=void 0),i||(h=E)}let m=l-r.depth;return m>tJ&&(d=eJ(d,m),l-=m),new Ds(d.append(s),l)}remapping(e,n){let r=new ff;return this.items.forEach((i,s)=>{let l=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new Ds(this.items.append(e.map(n=>new ua(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,l=e.steps.length,d=this.eventCount;this.items.forEach(E=>{E.selection&&d--},i);let h=n;this.items.forEach(E=>{let A=s.getMirror(--h);if(A==null)return;l=Math.min(l,A);let T=s.maps[A];if(E.step){let R=e.steps[A].invert(e.docs[A]),I=E.selection&&E.selection.map(s.slice(h+1,A));I&&d++,r.push(new ua(T,R,I))}else r.push(new ua(T))},i);let m=[];for(let E=n;E<l;E++)m.push(new ua(s.maps[E]));let b=this.items.slice(0,i).append(m).append(r),C=new Ds(b,d);return C.emptyItemCount()>JQ&&(C=C.compress(this.items.length-r.length)),C}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((l,d)=>{if(d>=e)i.push(l),l.selection&&s++;else if(l.step){let h=l.step.map(n.slice(r)),m=h&&h.getMap();if(r--,m&&n.appendMap(m,r),h){let b=l.selection&&l.selection.map(n.slice(r));b&&s++;let C=new ua(m.invert(),h,b),E,A=i.length-1;(E=i.length&&i[A].merge(C))?i[A]=E:i.push(C)}}else l.map&&r--},this.items.length,0),new Ds(kr.from(i.reverse()),s)}}Ds.empty=new Ds(kr.empty,0);function eJ(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ua{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ua(n.getMap().invert(),n,this.selection)}}}class Wo{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const tJ=20;function nJ(t,e,n,r){let i=n.getMeta(nc),s;if(i)return i.historyState;n.getMeta(sJ)&&(t=new Wo(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(nc))return l.getMeta(nc).redo?new Wo(t.done.addTransform(n,void 0,r,T1(e)),t.undone,z_(n.mapping.maps),t.prevTime,t.prevComposition):new Wo(t.done,t.undone.addTransform(n,void 0,r,T1(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let d=n.getMeta("composition"),h=t.prevTime==0||!l&&t.prevComposition!=d&&(t.prevTime<(n.time||0)-r.newGroupDelay||!rJ(n,t.prevRanges)),m=l?Sx(t.prevRanges,n.mapping):z_(n.mapping.maps);return new Wo(t.done.addTransform(n,h?e.selection.getBookmark():void 0,r,T1(e)),Ds.empty,m,n.time,d??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Wo(t.done.rebased(n,s),t.undone.rebased(n,s),Sx(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Wo(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Sx(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function rJ(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function z_(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,l)=>e.push(s,l));return e}function Sx(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function iJ(t,e,n){let r=T1(e),i=nc.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let l=s.selection.resolve(s.transform.doc),d=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),h=new Wo(n?d:s.remaining,n?s.remaining:d,null,0,-1);return s.transform.setSelection(l).setMeta(nc,{redo:n,historyState:h})}let Ex=!1,F_=null;function T1(t){let e=t.plugins;if(F_!=e){Ex=!1,F_=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Ex=!0;break}}return Ex}const nc=new Br("history"),sJ=new Br("closeHistory");function aJ(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Zn({key:nc,state:{init(){return new Wo(Ds.empty,Ds.empty,null,0,-1)},apply(e,n,r){return nJ(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?gT:r=="historyRedo"?xT:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function mT(t,e){return(n,r)=>{let i=nc.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=iJ(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const gT=mT(!1,!0),xT=mT(!0,!0);hr.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Zn({key:new Br("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const l=s-i,d=0,h=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const m=r.tr.deleteRange(d,h);return t=!0,m}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const d=e.selection.$head.pos,h=s-r,m=d-h,b=d;return e.deleteRange(m,b),!(this.storage.characters({node:e.doc})>r)}})]}});var oJ=hr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[VQ(this.options)]}});hr.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Zn({key:new Br("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return Hn.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((h,m)=>{if(h.isText)return;if(!(i>=m&&i<=m+h.nodeSize-1))return!1;l+=1});let d=0;return t.descendants((h,m)=>{if(h.isText||!(i>=m&&i<=m+h.nodeSize-1))return!1;if(d+=1,this.options.mode==="deepest"&&l-d>0||this.options.mode==="shallowest"&&d>1)return this.options.mode==="deepest";s.push(hi.node(m,m+h.nodeSize,{class:this.options.className}))}),Hn.create(t,s)}}})]}});var lJ=hr.create({name:"gapCursor",addProseMirrorPlugins(){return[WQ()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=un(ot(t,"allowGapCursor",n)))!=null?e:null}}});hr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Zn({key:new Br("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((l,d)=>{const h=r>=d&&r<=d+l.nodeSize,m=!l.isLeaf&&r0(l);if((h||!this.options.showOnlyCurrent)&&m){const b=[this.options.emptyNodeClass];s&&b.push(this.options.emptyEditorClass);const C=hi.node(d,d+l.nodeSize,{class:b.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:d,hasAnchor:h}):this.options.placeholder});i.push(C)}return this.options.includeChildren}),Hn.create(t,i)}}})]}});hr.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Zn({key:new Br("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||OA(n.selection)||t.view.dragging?null:Hn.create(n.doc,[hi.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function U_({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var cJ=hr.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Br(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new Zn({key:t,appendTransaction:(n,r,i)=>{const{doc:s,tr:l,schema:d}=i,h=t.getState(i),m=s.content.size,b=d.nodes[this.options.node];if(h)return l.insert(m,b.create())},state:{init:(n,r)=>{const i=r.tr.doc.lastChild;return!U_({node:i,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const i=n.doc.lastChild;return!U_({node:i,types:e})}}})]}}),uJ=hr.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>gT(t,e),redo:()=>({state:t,dispatch:e})=>xT(t,e)}},addProseMirrorPlugins(){return[aJ(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),dJ=hr.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(UZ.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(LZ.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(sT.configure(this.options.bulletList)),this.options.code!==!1&&i.push($Z.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(WZ.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(XZ.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(oJ.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(lJ.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(YZ.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(KZ.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(uJ.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(ZZ.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(nQ.configure(this.options.italic)),this.options.listItem!==!1&&i.push(aT.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(fT.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(TQ.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(hT.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(jQ.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(FQ.configure(this.options.strike)),this.options.text!==!1&&i.push(UQ.configure(this.options.text)),this.options.underline!==!1&&i.push(HQ.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(cJ.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),fJ=dJ,hJ=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,pJ=Ii.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",sr(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[WA({find:hJ,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),mJ=pJ;const gJ="_editorWrapper_49lv1_1",xJ="_menuBar_49lv1_13",yJ="_isActive_49lv1_65",bJ="_divider_49lv1_75",vJ="_editorContent_49lv1_89",ks={editorWrapper:gJ,menuBar:xJ,isActive:yJ,divider:bJ,editorContent:vJ};function wJ({editor:t}){const e=z.useRef(null);if(!t)return null;const n=z.useCallback(r=>{const i=r.target.files[0];if(i){const s=new FileReader;s.onload=l=>{const d=l.target.result;t.chain().focus().setImage({src:d}).run()},s.readAsDataURL(i)}r.target.value=""},[t]);return w.jsxs("div",{className:ks.menuBar,children:[w.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?ks.isActive:"",children:w.jsx("b",{children:"B"})}),w.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?ks.isActive:"",children:w.jsx("i",{children:"I"})}),w.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),className:t.isActive("strike")?ks.isActive:"",children:w.jsx("s",{children:"S"})}),w.jsx("div",{className:ks.divider}),w.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?ks.isActive:"",children:"H1"}),w.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?ks.isActive:"",children:"H2"}),w.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?ks.isActive:"",children:"H3"}),w.jsx("div",{className:ks.divider}),w.jsx("button",{type:"button",onClick:()=>e.current.click(),children:""}),w.jsx("input",{type:"file",ref:e,onChange:n,style:{display:"none"},accept:"image/*"})]})}function CJ({content:t,onChange:e}){const n=RZ({extensions:[fJ.configure({heading:{levels:[1,2,3]}}),mJ.configure({allowBase64:!0})],content:"",onUpdate:({editor:r})=>{e(r.getHTML())},editorProps:{attributes:{class:ks.editorContent}}});return z.useEffect(()=>{n&&t&&n.getHTML()!==t&&n.commands.setContent(t,!1),console.log(t)},[t,n]),w.jsxs("div",{className:ks.editorWrapper,children:[w.jsx(wJ,{editor:n}),w.jsx(SZ,{editor:n})]})}function _J({data:t,setData:e,onFileChange:n}){var $,V,G,Q;const[r,i]=z.useState("info"),[s,l]=z.useState(""),[d,h]=z.useState(!1),[m,b]=z.useState(null),C=z.useRef(null),E=Z=>{Z.type==="compositionstart"&&h(!0),Z.type==="compositionend"&&h(!1)};console.log(t);const A=Z=>{if(!d&&Z.key==="Enter"&&s.trim()!==""){Z.preventDefault();const Ce=s.trim(),we=t.gallery_category?t.gallery_category.split(",").map(me=>me.trim()):[];if(!we.includes(Ce)){const me=[...we,Ce].join(", ");e(Pe=>({...Pe,gallery_category:me}))}l("")}},T=Z=>{const we=t.gallery_category.split(",").map(me=>me.trim()).filter(me=>me!==Z).join(", ");e(me=>({...me,gallery_category:we}))},R=Z=>{const{name:Ce,value:we}=Z.target;e(me=>({...me,[Ce]:we}))},I=["","","","","","",""],D=Z=>{const{value:Ce,checked:we}=Z.target,me=t.gallery_closed_day?t.gallery_closed_day.split(",").map(ee=>ee.trim()):[];let Pe;we?Pe=[...new Set([...me,Ce])]:Pe=me.filter(ee=>ee!==Ce);const De=I;Pe.sort((ee,Y)=>De.indexOf(ee)-De.indexOf(Y)),e(ee=>({...ee,gallery_closed_day:Pe.join(", ")}))},F=Z=>{e(Ce=>({...Ce,gallery_description:Z}))},P=t.gallery_category?t.gallery_category.split(",").map(Z=>Z.trim()):[],q=Z=>{const Ce=Z.target.files[0];if(Ce){n(Ce);const we=URL.createObjectURL(Ce);b(we)}Z.target.value=""};return z.useEffect(()=>{t.gallery_image&&typeof t.gallery_image=="string"&&b(t.gallery_image)},[t.gallery_image]),w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:ft.card,children:[w.jsx("input",{className:`${ft.input} ${ft.galleryNameInput}`,name:"gallery_name",value:t.gallery_name||"",onChange:R,placeholder:" "}),w.jsx("input",{className:`${ft.input} ${ft.gallerySubNameInput}`,name:"gallery_name_en",value:t.gallery_name_en||"",onChange:R,placeholder:"  ()"}),w.jsx("input",{type:"file",ref:C,onChange:q,accept:"image/*",style:{display:"none"}}),w.jsx("div",{className:ft.imageUploadBox,onClick:()=>C.current.click(),children:m?w.jsx("img",{src:m,alt:"  ",className:ft.previewImage}):w.jsx("p",{children:"+    "})}),w.jsxs("div",{className:ft.inputGroup,children:[w.jsx("label",{className:ft.label,children:""}),w.jsxs("div",{className:ft.tagInputContainer,children:[P.map(Z=>w.jsxs("div",{className:ft.tagItem,children:[Z,w.jsx("button",{type:"button",className:ft.removeTagBtn,onClick:()=>T(Z),children:""})]},Z)),w.jsx("input",{type:"text",className:ft.tagInputField,value:s,onChange:Z=>l(Z.target.value),onKeyDown:A,onCompositionStart:E,onCompositionEnd:E,placeholder:" "})]})]}),w.jsxs("div",{className:ft.formGrid,children:[w.jsxs("div",{className:ft.inputGroup,children:[w.jsx("label",{className:ft.label,children:""}),w.jsxs("div",{className:ft.timeInputContainer,children:[w.jsx("input",{type:"time",className:ft.timeInput,name:"gallery_start_time",value:(($=t.gallery_start_time)==null?void 0:$.slice(0,5))||"",onChange:R}),w.jsx("span",{children:"~"}),w.jsx("input",{type:"time",className:ft.timeInput,name:"gallery_end_time",value:((V=t.gallery_end_time)==null?void 0:V.slice(0,5))||"",onChange:R})]})]}),w.jsxs("div",{className:ft.inputGroup,children:[w.jsx("label",{className:ft.label,children:""}),w.jsx("div",{className:ft.checkboxGroup,children:I.map(Z=>{var Ce;return w.jsxs("label",{children:[w.jsx("input",{type:"checkbox",name:"closedDays",value:Z,checked:(Ce=t.gallery_closed_day)==null?void 0:Ce.includes(Z),onChange:D})," ",Z]},Z)})})]}),w.jsxs("div",{className:ft.inputGroup,children:[w.jsx("label",{className:ft.label,children:""}),w.jsx("input",{className:ft.input,name:"gallery_phone",value:t.gallery_phone||"",onChange:R})]}),w.jsxs("div",{className:ft.inputGroup,children:[w.jsx("label",{className:ft.label,children:""}),w.jsx("input",{className:ft.input,name:"gallery_address",value:t.gallery_address||"",onChange:R})]}),w.jsxs("div",{className:ft.inputGroup,children:[w.jsx("label",{className:ft.label,children:""}),w.jsx("input",{className:ft.input,type:"email",name:"gallery_email",value:t.gallery_email||"",onChange:R})]}),w.jsxs("div",{className:ft.inputGroup,children:[w.jsx("label",{className:ft.label,children:""}),w.jsx("input",{className:ft.input,type:"url",name:"gallery_homepage",value:t.gallery_homepage||"",onChange:R})]})]})]}),w.jsxs("div",{className:`${ft.card} ${ft.snsCard}`,children:[w.jsx("label",{className:ft.label,children:"SNS"}),w.jsxs("div",{className:ft.snsInputGroup,children:[w.jsx("input",{className:ft.input,placeholder:"Instagram ",name:"sns_instagram",value:t.sns_instagram||"",onChange:R}),w.jsx("input",{className:ft.input,placeholder:"Twitter ",name:"sns_twitter",value:t.sns_twitter||"",onChange:R}),w.jsx("input",{className:ft.input,placeholder:"Facebook ",name:"sns_facebook",value:t.sns_facebook||"",onChange:R}),w.jsx("input",{className:ft.input,placeholder:"YouTube ",name:"sns_youtube",value:t.sns_youtube||"",onChange:R})]})]}),w.jsxs("div",{className:ft.tabContainer,children:[w.jsxs("nav",{className:ft.tabNav,children:[w.jsx("button",{className:`${ft.tabButton} ${r==="info"&&ft.activeTab}`,onClick:()=>i("info"),children:""}),w.jsxs("button",{className:`${ft.tabButton} ${r==="exhibitions"&&ft.activeTab}`,onClick:()=>i("exhibitions"),children:["(",((G=t.exhibitions)==null?void 0:G.length)||0,")"]})]}),w.jsxs("div",{className:ft.tabContent,children:[r==="info"&&w.jsx(CJ,{content:t.gallery_description||"",onChange:F}),r==="exhibitions"&&(((Q=t.exhibitions)==null?void 0:Q.length)>0?w.jsx(P2,{exhibitions:t.exhibitions}):w.jsx("p",{className:ft.emptyContent,children:"   ."}))]})]})]})}const SJ={galleries:{title:" ",apiUrl:t=>`/api/galleries/${t}`,consoleApiUrl:t=>`/api/console/galleries/${t}`},exhibitions:{title:"  ",apiUrl:t=>`/api/exhibitions/${t}`},artworks:{title:"  ",apiUrl:t=>`/api/artworks/${t}`}},EJ={galleries:_J};function Ax({type:t}){const{id:e}=Ps(),n=Yt(),[r,i]=z.useState(null),[s,l]=z.useState(null),[d,h]=z.useState(!1),m=SJ[t],b=EJ[t];z.useEffect(()=>{m&&(async()=>{try{const T=await wn.get(m.consoleApiUrl(e));i(T.data)}catch(T){console.error("  :",T),i({})}})()},[e,m]);const C=()=>{window.confirm(" ?   .")&&n(`/console/${t}/${e}`)},E=async()=>{if(!d){h(!0);try{const A={...r};await wn.put(m.apiUrl(e),A,{headers:{"Content-Type":"application/json"}}),alert("."),n(`/console/${t}/${e}`)}catch(A){console.error("  :",A),alert(" .  .")}finally{h(!1)}}};return r?w.jsxs("div",{className:oa.layout,children:[w.jsxs("header",{className:oa.header,children:[w.jsx("button",{className:oa.backButton,onClick:C,children:"<"}),w.jsx("h1",{className:oa.title,children:m.title})]}),w.jsx("main",{className:oa.formContainer,children:b&&w.jsx(b,{data:r,setData:i,onFileChange:l})}),w.jsxs("div",{className:oa.bottomButtonContainer,children:[w.jsx("button",{className:`${oa.button} ${oa.saveButton}`,onClick:E,children:""}),w.jsx("button",{className:`${oa.button} ${oa.cancelButton}`,onClick:C,disabled:d,children:""})]})]}):w.jsx("div",{children:"  ..."})}const AJ="_layout_meb6i_1",TJ="_infoSection_meb6i_19",NJ="_artistImage_meb6i_37",OJ="_artistTitle_meb6i_53",MJ="_subSpan_meb6i_65",RJ="_icon_meb6i_75",IJ="_icHeart_meb6i_85",kJ="_buttonContainer_meb6i_93",DJ="_subButton_meb6i_103",BJ="_backButton_meb6i_117",ds={layout:AJ,infoSection:TJ,artistImage:NJ,artistTitle:OJ,subSpan:MJ,icon:RJ,icHeart:IJ,buttonContainer:kJ,subButton:DJ,backButton:BJ},LJ="_activitySection_9ev0z_1",jJ="_activityTypeContainer_9ev0z_17",PJ="_activedActivityTypeBox_9ev0z_25",zJ="_activityTypeBox_9ev0z_27",FJ="_artworkImage_9ev0z_55",UJ="_activityItemList_9ev0z_65",HJ="_activityImage_9ev0z_83",VJ="_activityItemInfoBox_9ev0z_97",$J="_descriptionParagraph_9ev0z_105",GJ="_activityItemTitle_9ev0z_115",qJ="_activityItemSpan_9ev0z_127",Mr={activitySection:LJ,activityTypeContainer:jJ,activedActivityTypeBox:PJ,activityTypeBox:zJ,artworkImage:FJ,activityItemList:UJ,activityImage:HJ,activityItemInfoBox:VJ,descriptionParagraph:$J,activityItemTitle:GJ,activityItemSpan:qJ};function WJ({description:t,artworks:e,exhibitions:n}){const[r,i]=z.useState("profile"),s=l=>{i(l)};return w.jsxs("section",{className:Mr.activitySection,children:[w.jsxs("div",{className:Mr.activityTypeContainer,children:[w.jsx("button",{className:r==="profile"?Mr.activedActivityTypeBox:Mr.activityTypeBox,onClick:()=>{s("profile")},children:""}),w.jsx("button",{className:r==="exhibitions"?Mr.activedActivityTypeBox:Mr.activityTypeBox,onClick:()=>{s("exhibitions")},children:""}),w.jsx("button",{className:r==="artworks"?Mr.activedActivityTypeBox:Mr.activityTypeBox,onClick:()=>{s("artworks")},children:""})]}),w.jsx("div",{className:Mr.activityItemList,children:r==="profile"?w.jsx("div",{children:w.jsx("p",{className:Mr.descriptionParagraph,children:t})}):r==="artworks"?e&&e.length===0?w.jsx("div",{children:"  "}):e==null?void 0:e.map(({id:l,imageUrl:d,title:h})=>w.jsxs("div",{className:Mr.activityItemContainer,children:[w.jsx("img",{className:Mr.artworkImage,src:d}),w.jsx("h3",{className:Mr.activityItemTitle,children:h})]},l)):n&&n.length===0?w.jsx("div",{children:"   "}):n==null?void 0:n.map(({id:l,exhibition_poster:d,exhibition_title:h,exhibition_start_date:m,exhibition_end_date:b})=>w.jsxs(xn,{className:Mr.activityItemContainer,to:`/exhibitions/${l}`,children:[w.jsx("img",{className:Mr.activityImage,src:d,alt:" "}),w.jsxs("div",{className:Mr.activityItemInfoBox,children:[w.jsx("h3",{className:Mr.activityItemTitle,children:h}),w.jsxs("span",{className:Mr.activityItemSpan,children:["| ",m," ~ ",b]})]})]},l))})]})}function XJ(){const{artistId:t}=Ps(),[e,n]=z.useState([]),r=Yt(),i=async()=>{try{const d=await Wt.get(`/api/artists/${t}`);n(d.data)}catch(d){throw new Error(d)}};z.useEffect(()=>{i()},[]);const s=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&r("/login");try{e.is_liked===!0?await wn.delete("/api/likes",{data:{liked_id:t,liked_type:"artist"}}):await wn.post("/api/likes",{liked_id:t,liked_type:"artist"}),await i()}catch(d){console.error(d)}},l=[{label:" ",icon:w.jsx(Hp,{className:`${ds.icon} ${e.is_liked===!0&&ds.icHeart}`}),action:s},{label:"",icon:w.jsx($I,{className:ds.icon}),action:()=>{alert("  .")}},{label:"",icon:w.jsx(k2,{className:ds.icon}),action:()=>{alert("  .")}}];return w.jsxs("div",{className:ds.layout,children:[w.jsxs("section",{className:ds.infoSection,children:[w.jsx("img",{className:ds.artistImage,src:e.artist_image,alt:"  "}),w.jsx("h3",{className:ds.artistTitle,children:e.artist_name}),w.jsxs("span",{className:ds.subSpan,children:[e.artist_nation," | ",e.artist_category]})]}),w.jsx("div",{className:ds.buttonContainer,children:l.map(({label:d,icon:h,action:m})=>w.jsxs("button",{className:ds.subButton,onClick:m,children:[h,w.jsx("span",{children:d})]},d))}),w.jsx(WJ,{description:e.artist_description,artworks:e==null?void 0:e.artworks,exhibitions:e==null?void 0:e.exhibitions}),w.jsx(xn,{className:ds.backButton,to:"/artists",children:" "})]})}const YJ="_layout_1u2kc_1",KJ="_loginTitle_1u2kc_19",ZJ="_subParagraph_1u2kc_31",QJ="_contentContainer_1u2kc_41",JJ="_submitButton_1u2kc_61",eee="_loginForm_1u2kc_111",fu={layout:YJ,loginTitle:KJ,subParagraph:ZJ,contentContainer:QJ,submitButton:JJ,loginForm:eee},tee="_layout_2bvox_1",nee="_navigateLink_2bvox_19",ree="_termParagraph_2bvox_59",iee="_termLink_2bvox_77",see="_registerButton_2bvox_85",Ud={layout:tee,navigateLink:nee,termParagraph:ree,termLink:iee,registerButton:see};function aee(){return w.jsxs("section",{className:Ud.layout,children:[w.jsx(xn,{className:Ud.navigateLink,to:"/find",children:" /  "}),w.jsxs("p",{className:Ud.termParagraph,children:["    ,",w.jsx("br",{})," "," ",w.jsx(xn,{className:Ud.termLink,children:"  "}),"",w.jsx("br",{}),"  ."]}),w.jsx(xn,{className:Ud.registerButton,to:"/register",children:" "})]})}function oee(){var d;const{data:t,handleChange:e}=z1({login_id:"",login_pwd:""}),n=Yt(),i=(d=Dr().state)==null?void 0:d.from,{login:s}=z.useContext(Tf),l=async()=>{try{const h=await Wt.post("/api/auth/login",t);s(h.data.data,h.data.jwt),console.log(h.data),n(i==="/register"?"/":-2)}catch(h){console.log(h),h.status===401?alert("   "):alert("  .    .")}};return w.jsxs("div",{className:fu.layout,children:[w.jsx("h1",{className:fu.loginTitle,children:""}),w.jsx("p",{className:fu.subParagraph,children:"  "}),w.jsxs("div",{className:fu.contentContainer,children:[w.jsxs("form",{className:fu.loginForm,action:l,children:[w.jsx(fa,{placeholder:"ID (6 ~ 20 , )",name:"login_id",onChange:e,value:t.login_id}),w.jsx(fa,{placeholder:"Password (8 ~ 16 ++)",name:"login_pwd",onChange:e,value:t.login_pwd}),w.jsx("button",{className:fu.submitButton,children:" "})]}),w.jsx(aee,{})]})]})}const lee="_layout_74o0f_1",cee="_logo_74o0f_17",uee="_loginParagraph_74o0f_41",dee="_loginButton_74o0f_61",fee="_registerLink_74o0f_99",Hd={layout:lee,logo:cee,loginParagraph:uee,loginButton:dee,registerLink:fee},hee="/assets/kakaobutton-Cwa8W2QI.svg";function pee(){const t=Yt(),e=()=>{t("/login-detail")};return w.jsxs("div",{className:Hd.layout,children:[w.jsx("h1",{className:Hd.logo,children:"ARTLY"}),w.jsx("p",{className:Hd.loginParagraph,children:"  "}),w.jsx("button",{children:w.jsx("img",{src:hee})}),w.jsx("button",{className:Hd.loginButton,onClick:e,children:"  "}),w.jsx(xn,{className:Hd.registerLink,to:"/register",children:" "})]})}const mee=U6([{path:"/",element:w.jsx(iR,{}),children:[{path:"/",element:w.jsx(NI,{})},{path:"/exhibitions",element:w.jsx(Gk,{})},{path:"/galleries",element:w.jsx(u9,{})},{path:"/artists",element:w.jsx(Jk,{})},{path:"/artworks",element:w.jsx(UL,{})},{path:"/search",element:w.jsx(SB,{})},{path:"/notices",element:w.jsx(JB,{})},{path:"/exhibitions/:exhibitionId",element:w.jsx(NE,{})},{path:"/galleries/:galleryId",element:w.jsx(TE,{})},{path:"/artists/:artistId",element:w.jsx(XJ,{})},{path:"/notices/:noticeId",element:w.jsx(fL,{})},{path:"/artworks/:artworkId",element:w.jsx(CE,{})},{path:"/art/:artId",element:w.jsx(kL,{})},{path:"/catalog/:catalogId",element:w.jsx(hj,{})},{path:"/nearby-galleries",element:w.jsx(gP,{})},{path:"/login",element:w.jsx(pee,{})},{path:"/login-detail",element:w.jsx(oee,{})},{path:"/register",element:w.jsx(E9,{})},{path:"/find",element:w.jsx(ZP,{})},{path:"/announcement",element:w.jsx(cz,{})},{path:"/termspolicy",element:w.jsx(yz,{})},{path:"/reservation/:exhibitionId",element:w.jsx(EF,{})},{path:"/reservationconfirm/:reservationId",element:w.jsx(Rz,{})},{element:w.jsx(sR,{}),children:[{path:"/mypage",element:w.jsx(OD,{})},{path:"/mypage/edit",element:w.jsx(cB,{})},{path:"/purchase/:reservationId",element:w.jsx(UB,{})}]}]},{path:"/console",element:w.jsx(OH,{}),children:[{path:"/console/main",element:w.jsx(NH,{})},{path:"/console/detail",element:w.jsx(i1,{})},{path:"/console/exhibitions/:id",element:w.jsx(i1,{type:"exhibitions"})},{path:"/console/galleries/:id",element:w.jsx(i1,{type:"galleries"})},{path:"/console/artworks/:id",element:w.jsx(i1,{type:"artworks"})},{path:"/console/galleries/edit/:id",element:w.jsx(Ax,{type:"galleries"})},{path:"/console/exhibitions/edit/:id",element:w.jsx(Ax,{type:"exhibitions"})},{path:"/console/artworks/edit/:id",element:w.jsx(Ax,{type:"artworks"})}]},{path:"/scan/:id?",element:w.jsx(rP,{})}]);function gee(){return w.jsx("div",{children:w.jsx("div",{children:""})})}function xee(){return w.jsx($N,{fallback:w.jsx("div",{children:""}),children:w.jsx(z.Suspense,{fallback:w.jsx(gee,{}),children:w.jsx(pM,{children:w.jsx(LV,{children:w.jsx(J6,{router:mee})})})})})}HN.createRoot(document.getElementById("root")).render(w.jsx(xee,{}));
