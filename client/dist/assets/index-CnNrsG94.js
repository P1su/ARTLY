function r6(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ig={exports:{}},$d={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function s6(){if(o_)return $d;o_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var l=null;if(s!==void 0&&(l=""+s),r.key!==void 0&&(l=""+r.key),"key"in r){s={};for(var d in r)d!=="key"&&(s[d]=r[d])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:l,ref:r!==void 0?r:null,props:s}}return $d.Fragment=e,$d.jsx=n,$d.jsxs=n,$d}var l_;function a6(){return l_||(l_=1,Ig.exports=s6()),Ig.exports}var v=a6(),kg={exports:{}},Gd={},Dg={exports:{}},Bg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function o6(){return c_||(c_=1,function(t){function e(Q,le){var fe=Q.length;Q.push(le);e:for(;0<fe;){var Be=fe-1>>>1,Z=Q[Be];if(0<r(Z,le))Q[Be]=le,Q[fe]=Z,fe=Be;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var le=Q[0],fe=Q.pop();if(fe!==le){Q[0]=fe;e:for(var Be=0,Z=Q.length,be=Z>>>1;Be<be;){var Re=2*(Be+1)-1,Le=Q[Re],Ie=Re+1,et=Q[Ie];if(0>r(Le,fe))Ie<Z&&0>r(et,Le)?(Q[Be]=et,Q[Ie]=fe,Be=Ie):(Q[Be]=Le,Q[Re]=fe,Be=Re);else if(Ie<Z&&0>r(et,fe))Q[Be]=et,Q[Ie]=fe,Be=Ie;else break e}}return le}function r(Q,le){var fe=Q.sortIndex-le.sortIndex;return fe!==0?fe:Q.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],p=[],y=1,_=null,S=3,T=!1,A=!1,O=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function R(Q){for(var le=n(p);le!==null;){if(le.callback===null)i(p);else if(le.startTime<=Q)i(p),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(p)}}function D(Q){if(O=!1,R(Q),!A)if(n(f)!==null)A=!0,B||(B=!0,ue());else{var le=n(p);le!==null&&ne(D,le.startTime-Q)}}var B=!1,z=-1,G=5,X=-1;function se(){return k?!0:!(t.unstable_now()-X<G)}function ae(){if(k=!1,B){var Q=t.unstable_now();X=Q;var le=!0;try{e:{A=!1,O&&(O=!1,$(z),z=-1),T=!0;var fe=S;try{t:{for(R(Q),_=n(f);_!==null&&!(_.expirationTime>Q&&se());){var Be=_.callback;if(typeof Be=="function"){_.callback=null,S=_.priorityLevel;var Z=Be(_.expirationTime<=Q);if(Q=t.unstable_now(),typeof Z=="function"){_.callback=Z,R(Q),le=!0;break t}_===n(f)&&i(f),R(Q)}else i(f);_=n(f)}if(_!==null)le=!0;else{var be=n(p);be!==null&&ne(D,be.startTime-Q),le=!1}}break e}finally{_=null,S=fe,T=!1}le=void 0}}finally{le?ue():B=!1}}}var ue;if(typeof P=="function")ue=function(){P(ae)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Te=Oe.port2;Oe.port1.onmessage=ae,ue=function(){Te.postMessage(null)}}else ue=function(){L(ae,0)};function ne(Q,le){z=L(function(){Q(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var fe=S;S=le;try{return Q()}finally{S=fe}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=S;S=Q;try{return le()}finally{S=fe}},t.unstable_scheduleCallback=function(Q,le,fe){var Be=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Be+fe:Be):fe=Be,Q){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=fe+Z,Q={id:y++,callback:le,priorityLevel:Q,startTime:fe,expirationTime:Z,sortIndex:-1},fe>Be?(Q.sortIndex=fe,e(p,Q),n(f)===null&&Q===n(p)&&(O?($(z),z=-1):O=!0,ne(D,fe-Be))):(Q.sortIndex=Z,e(f,Q),A||T||(A=!0,B||(B=!0,ue()))),Q},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(Q){var le=S;return function(){var fe=S;S=le;try{return Q.apply(this,arguments)}finally{S=fe}}}}(Bg)),Bg}var u_;function l6(){return u_||(u_=1,Dg.exports=o6()),Dg.exports}var Lg={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function c6(){if(d_)return It;d_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function S(Z){return Z===null||typeof Z!="object"?null:(Z=_&&Z[_]||Z["@@iterator"],typeof Z=="function"?Z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,O={};function k(Z,be,Re){this.props=Z,this.context=be,this.refs=O,this.updater=Re||T}k.prototype.isReactComponent={},k.prototype.setState=function(Z,be){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,be,"setState")},k.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function L(){}L.prototype=k.prototype;function $(Z,be,Re){this.props=Z,this.context=be,this.refs=O,this.updater=Re||T}var P=$.prototype=new L;P.constructor=$,A(P,k.prototype),P.isPureReactComponent=!0;var R=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function z(Z,be,Re,Le,Ie,et){return Re=et.ref,{$$typeof:t,type:Z,key:be,ref:Re!==void 0?Re:null,props:et}}function G(Z,be){return z(Z.type,be,void 0,void 0,void 0,Z.props)}function X(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function se(Z){var be={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Re){return be[Re]})}var ae=/\/+/g;function ue(Z,be){return typeof Z=="object"&&Z!==null&&Z.key!=null?se(""+Z.key):be.toString(36)}function Oe(){}function Te(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(Oe,Oe):(Z.status="pending",Z.then(function(be){Z.status==="pending"&&(Z.status="fulfilled",Z.value=be)},function(be){Z.status==="pending"&&(Z.status="rejected",Z.reason=be)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function ne(Z,be,Re,Le,Ie){var et=typeof Z;(et==="undefined"||et==="boolean")&&(Z=null);var Se=!1;if(Z===null)Se=!0;else switch(et){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(Z.$$typeof){case t:case e:Se=!0;break;case y:return Se=Z._init,ne(Se(Z._payload),be,Re,Le,Ie)}}if(Se)return Ie=Ie(Z),Se=Le===""?"."+ue(Z,0):Le,R(Ie)?(Re="",Se!=null&&(Re=Se.replace(ae,"$&/")+"/"),ne(Ie,be,Re,"",function(bi){return bi})):Ie!=null&&(X(Ie)&&(Ie=G(Ie,Re+(Ie.key==null||Z&&Z.key===Ie.key?"":(""+Ie.key).replace(ae,"$&/")+"/")+Se)),be.push(Ie)),1;Se=0;var Ln=Le===""?".":Le+":";if(R(Z))for(var xt=0;xt<Z.length;xt++)Le=Z[xt],et=Ln+ue(Le,xt),Se+=ne(Le,be,Re,et,Ie);else if(xt=S(Z),typeof xt=="function")for(Z=xt.call(Z),xt=0;!(Le=Z.next()).done;)Le=Le.value,et=Ln+ue(Le,xt++),Se+=ne(Le,be,Re,et,Ie);else if(et==="object"){if(typeof Z.then=="function")return ne(Te(Z),be,Re,Le,Ie);throw be=String(Z),Error("Objects are not valid as a React child (found: "+(be==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":be)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Q(Z,be,Re){if(Z==null)return Z;var Le=[],Ie=0;return ne(Z,Le,"","",function(et){return be.call(Re,et,Ie++)}),Le}function le(Z){if(Z._status===-1){var be=Z._result;be=be(),be.then(function(Re){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Re)},function(Re){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Re)}),Z._status===-1&&(Z._status=0,Z._result=be)}if(Z._status===1)return Z._result.default;throw Z._result}var fe=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var be=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(be))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)};function Be(){}return It.Children={map:Q,forEach:function(Z,be,Re){Q(Z,function(){be.apply(this,arguments)},Re)},count:function(Z){var be=0;return Q(Z,function(){be++}),be},toArray:function(Z){return Q(Z,function(be){return be})||[]},only:function(Z){if(!X(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},It.Component=k,It.Fragment=n,It.Profiler=r,It.PureComponent=$,It.StrictMode=i,It.Suspense=f,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,It.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return D.H.useMemoCache(Z)}},It.cache=function(Z){return function(){return Z.apply(null,arguments)}},It.cloneElement=function(Z,be,Re){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var Le=A({},Z.props),Ie=Z.key,et=void 0;if(be!=null)for(Se in be.ref!==void 0&&(et=void 0),be.key!==void 0&&(Ie=""+be.key),be)!B.call(be,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&be.ref===void 0||(Le[Se]=be[Se]);var Se=arguments.length-2;if(Se===1)Le.children=Re;else if(1<Se){for(var Ln=Array(Se),xt=0;xt<Se;xt++)Ln[xt]=arguments[xt+2];Le.children=Ln}return z(Z.type,Ie,void 0,void 0,et,Le)},It.createContext=function(Z){return Z={$$typeof:l,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:s,_context:Z},Z},It.createElement=function(Z,be,Re){var Le,Ie={},et=null;if(be!=null)for(Le in be.key!==void 0&&(et=""+be.key),be)B.call(be,Le)&&Le!=="key"&&Le!=="__self"&&Le!=="__source"&&(Ie[Le]=be[Le]);var Se=arguments.length-2;if(Se===1)Ie.children=Re;else if(1<Se){for(var Ln=Array(Se),xt=0;xt<Se;xt++)Ln[xt]=arguments[xt+2];Ie.children=Ln}if(Z&&Z.defaultProps)for(Le in Se=Z.defaultProps,Se)Ie[Le]===void 0&&(Ie[Le]=Se[Le]);return z(Z,et,void 0,void 0,null,Ie)},It.createRef=function(){return{current:null}},It.forwardRef=function(Z){return{$$typeof:d,render:Z}},It.isValidElement=X,It.lazy=function(Z){return{$$typeof:y,_payload:{_status:-1,_result:Z},_init:le}},It.memo=function(Z,be){return{$$typeof:p,type:Z,compare:be===void 0?null:be}},It.startTransition=function(Z){var be=D.T,Re={};D.T=Re;try{var Le=Z(),Ie=D.S;Ie!==null&&Ie(Re,Le),typeof Le=="object"&&Le!==null&&typeof Le.then=="function"&&Le.then(Be,fe)}catch(et){fe(et)}finally{D.T=be}},It.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},It.use=function(Z){return D.H.use(Z)},It.useActionState=function(Z,be,Re){return D.H.useActionState(Z,be,Re)},It.useCallback=function(Z,be){return D.H.useCallback(Z,be)},It.useContext=function(Z){return D.H.useContext(Z)},It.useDebugValue=function(){},It.useDeferredValue=function(Z,be){return D.H.useDeferredValue(Z,be)},It.useEffect=function(Z,be,Re){var Le=D.H;if(typeof Re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Le.useEffect(Z,be)},It.useId=function(){return D.H.useId()},It.useImperativeHandle=function(Z,be,Re){return D.H.useImperativeHandle(Z,be,Re)},It.useInsertionEffect=function(Z,be){return D.H.useInsertionEffect(Z,be)},It.useLayoutEffect=function(Z,be){return D.H.useLayoutEffect(Z,be)},It.useMemo=function(Z,be){return D.H.useMemo(Z,be)},It.useOptimistic=function(Z,be){return D.H.useOptimistic(Z,be)},It.useReducer=function(Z,be,Re){return D.H.useReducer(Z,be,Re)},It.useRef=function(Z){return D.H.useRef(Z)},It.useState=function(Z){return D.H.useState(Z)},It.useSyncExternalStore=function(Z,be,Re){return D.H.useSyncExternalStore(Z,be,Re)},It.useTransition=function(){return D.H.useTransition()},It.version="19.1.0",It}var f_;function Mc(){return f_||(f_=1,Lg.exports=c6()),Lg.exports}var jg={exports:{}},sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function u6(){if(h_)return sr;h_=1;var t=Mc();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(f,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:p,implementation:y}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sr.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return s(f,p,null,y)},sr.flushSync=function(f){var p=l.T,y=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=p,i.p=y,i.d.f()}},sr.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},sr.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},sr.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sr.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},sr.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sr.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=d(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},sr.requestFormReset=function(f){i.d.r(f)},sr.unstable_batchedUpdates=function(f,p){return f(p)},sr.useFormState=function(f,p,y){return l.H.useFormState(f,p,y)},sr.useFormStatus=function(){return l.H.useHostTransitionStatus()},sr.version="19.1.0",sr}var p_;function WS(){if(p_)return jg.exports;p_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jg.exports=u6(),jg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function d6(){if(m_)return Gd;m_=1;var t=l6(),e=Mc(),n=WS();function i(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,m=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(m=c.return),a=c.return;while(a)}return c.tag===3?m:null}function l(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(i(188))}function f(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(i(188));return c!==a?null:a}for(var m=a,b=c;;){var E=m.return;if(E===null)break;var M=E.alternate;if(M===null){if(b=E.return,b!==null){m=b;continue}break}if(E.child===M.child){for(M=E.child;M;){if(M===m)return d(E),a;if(M===b)return d(E),c;M=M.sibling}throw Error(i(188))}if(m.return!==b.return)m=E,b=M;else{for(var H=!1,W=E.child;W;){if(W===m){H=!0,m=E,b=M;break}if(W===b){H=!0,b=E,m=M;break}W=W.sibling}if(!H){for(W=M.child;W;){if(W===m){H=!0,m=M,b=E;break}if(W===b){H=!0,b=M,m=E;break}W=W.sibling}if(!H)throw Error(i(189))}}if(m.alternate!==b)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?a:c}function p(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=p(a),c!==null)return c;a=a.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),P=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ue(a){return a===null||typeof a!="object"?null:(a=ae&&a[ae]||a["@@iterator"],typeof a=="function"?a:null)}var Oe=Symbol.for("react.client.reference");function Te(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Oe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case k:return"Profiler";case O:return"StrictMode";case D:return"Suspense";case B:return"SuspenseList";case X:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case T:return"Portal";case P:return(a.displayName||"Context")+".Provider";case $:return(a._context.displayName||"Context")+".Consumer";case R:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return c=a.displayName||null,c!==null?c:Te(a.type)||"Memo";case G:c=a._payload,a=a._init;try{return Te(a(c))}catch{}}return null}var ne=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Be=[],Z=-1;function be(a){return{current:a}}function Re(a){0>Z||(a.current=Be[Z],Be[Z]=null,Z--)}function Le(a,c){Z++,Be[Z]=a.current,a.current=c}var Ie=be(null),et=be(null),Se=be(null),Ln=be(null);function xt(a,c){switch(Le(Se,c),Le(et,a),Le(Ie,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?Bw(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=Bw(c),a=Lw(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Re(Ie),Le(Ie,a)}function bi(){Re(Ie),Re(et),Re(Se)}function un(a){a.memoizedState!==null&&Le(Ln,a);var c=Ie.current,m=Lw(c,a.type);c!==m&&(Le(et,a),Le(Ie,m))}function ln(a){et.current===a&&(Re(Ie),Re(et)),Ln.current===a&&(Re(Ln),Fd._currentValue=fe)}var ki=Object.prototype.hasOwnProperty,kt=t.unstable_scheduleCallback,ii=t.unstable_cancelCallback,$i=t.unstable_shouldYield,cs=t.unstable_requestPaint,$t=t.unstable_now,en=t.unstable_getCurrentPriorityLevel,Tt=t.unstable_ImmediatePriority,Tr=t.unstable_UserBlockingPriority,qe=t.unstable_NormalPriority,Ji=t.unstable_LowPriority,Hr=t.unstable_IdlePriority,$e=t.log,at=t.unstable_setDisableYieldValue,bt=null,_t=null;function tn(a){if(typeof $e=="function"&&at(a),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(bt,a)}catch{}}var Pt=Math.clz32?Math.clz32:Ks,Ur=Math.log,wi=Math.LN2;function Ks(a){return a>>>=0,a===0?32:31-(Ur(a)/wi|0)|0}var sn=256,Ue=4194304;function rn(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ft(a,c,m){var b=a.pendingLanes;if(b===0)return 0;var E=0,M=a.suspendedLanes,H=a.pingedLanes;a=a.warmLanes;var W=b&134217727;return W!==0?(b=W&~M,b!==0?E=rn(b):(H&=W,H!==0?E=rn(H):m||(m=W&~a,m!==0&&(E=rn(m))))):(W=b&~M,W!==0?E=rn(W):H!==0?E=rn(H):m||(m=b&~a,m!==0&&(E=rn(m)))),E===0?0:c!==0&&c!==E&&(c&M)===0&&(M=E&-E,m=c&-c,M>=m||M===32&&(m&4194048)!==0)?c:E}function Xt(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function Nr(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function us(){var a=sn;return sn<<=1,(sn&4194048)===0&&(sn=256),a}function kl(){var a=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),a}function Gt(a){for(var c=[],m=0;31>m;m++)c.push(a);return c}function hr(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Dl(a,c,m,b,E,M){var H=a.pendingLanes;a.pendingLanes=m,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=m,a.entangledLanes&=m,a.errorRecoveryDisabledLanes&=m,a.shellSuspendCounter=0;var W=a.entanglements,J=a.expirationTimes,me=a.hiddenUpdates;for(m=H&~m;0<m;){var Ae=31-Pt(m),De=1<<Ae;W[Ae]=0,J[Ae]=-1;var xe=me[Ae];if(xe!==null)for(me[Ae]=null,Ae=0;Ae<xe.length;Ae++){var ve=xe[Ae];ve!==null&&(ve.lane&=-536870913)}m&=~De}b!==0&&Zs(a,b,0),M!==0&&E===0&&a.tag!==0&&(a.suspendedLanes|=M&~(H&~c))}function Zs(a,c,m){a.pendingLanes|=c,a.suspendedLanes&=~c;var b=31-Pt(c);a.entangledLanes|=c,a.entanglements[b]=a.entanglements[b]|1073741824|m&4194090}function _i(a,c){var m=a.entangledLanes|=c;for(a=a.entanglements;m;){var b=31-Pt(m),E=1<<b;E&c|a[b]&c&&(a[b]|=c),m&=~E}}function Ta(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Yn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function te(){var a=le.p;return a!==0?a:(a=window.event,a===void 0?32:t_(a.type))}function ce(a,c){var m=le.p;try{return le.p=a,c()}finally{le.p=m}}var ge=Math.random().toString(36).slice(2),ke="__reactFiber$"+ge,ze="__reactProps$"+ge,Ke="__reactContainer$"+ge,Ze="__reactEvents$"+ge,Ge="__reactListeners$"+ge,Xe="__reactHandles$"+ge,Ee="__reactResources$"+ge,ut="__reactMarker$"+ge;function nt(a){delete a[ke],delete a[ze],delete a[Ze],delete a[Ge],delete a[Xe]}function tt(a){var c=a[ke];if(c)return c;for(var m=a.parentNode;m;){if(c=m[Ke]||m[ke]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(a=zw(a);a!==null;){if(m=a[ke])return m;a=zw(a)}return c}a=m,m=a.parentNode}return null}function Dt(a){if(a=a[ke]||a[Ke]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function dn(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(i(33))}function bn(a){var c=a[Ee];return c||(c=a[Ee]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Nt(a){a[ut]=!0}var Yt=new Set,Qs={};function Mn(a,c){wn(a,c),wn(a+"Capture",c)}function wn(a,c){for(Qs[a]=c,a=0;a<c.length;a++)Yt.add(c[a])}var zt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ds={},Gi={};function Na(a){return ki.call(Gi,a)?!0:ki.call(Ds,a)?!1:zt.test(a)?Gi[a]=!0:(Ds[a]=!0,!1)}function Ne(a,c,m){if(Na(c))if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var b=c.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+m)}}function Bs(a,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+m)}}function it(a,c,m,b){if(b===null)a.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(m);return}a.setAttributeNS(c,m,""+b)}}var Un,Vr;function Mt(a){if(Un===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);Un=c&&c[1]||"",Vr=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Un+a+Vr}var Ht=!1;function rt(a,c){if(!a||Ht)return"";Ht=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(c){var De=function(){throw Error()};if(Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(ve){var xe=ve}Reflect.construct(a,[],De)}else{try{De.call()}catch(ve){xe=ve}a.call(De.prototype)}}else{try{throw Error()}catch(ve){xe=ve}(De=a())&&typeof De.catch=="function"&&De.catch(function(){})}}catch(ve){if(ve&&xe&&typeof ve.stack=="string")return[ve.stack,xe.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=b.DetermineComponentFrameRoot(),H=M[0],W=M[1];if(H&&W){var J=H.split(`
`),me=W.split(`
`);for(E=b=0;b<J.length&&!J[b].includes("DetermineComponentFrameRoot");)b++;for(;E<me.length&&!me[E].includes("DetermineComponentFrameRoot");)E++;if(b===J.length||E===me.length)for(b=J.length-1,E=me.length-1;1<=b&&0<=E&&J[b]!==me[E];)E--;for(;1<=b&&0<=E;b--,E--)if(J[b]!==me[E]){if(b!==1||E!==1)do if(b--,E--,0>E||J[b]!==me[E]){var Ae=`
`+J[b].replace(" at new "," at ");return a.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",a.displayName)),Ae}while(1<=b&&0<=E);break}}}finally{Ht=!1,Error.prepareStackTrace=m}return(m=a?a.displayName||a.name:"")?Mt(m):""}function ds(a){switch(a.tag){case 26:case 27:case 5:return Mt(a.type);case 16:return Mt("Lazy");case 13:return Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 15:return rt(a.type,!1);case 11:return rt(a.type.render,!1);case 1:return rt(a.type,!0);case 31:return Mt("Activity");default:return""}}function Ma(a){try{var c="";do c+=ds(a),a=a.return;while(a);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Di(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Kn(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Js(a){var c=Kn(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),b=""+a[c];if(!a.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,M=m.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return E.call(this)},set:function(H){b=""+H,M.call(this,H)}}),Object.defineProperty(a,c,{enumerable:m.enumerable}),{getValue:function(){return b},setValue:function(H){b=""+H},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Bc(a){a._valueTracker||(a._valueTracker=Js(a))}function jn(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var m=c.getValue(),b="";return a&&(b=Kn(a)?a.checked?"true":"false":a.value),a=b,a!==m?(c.setValue(a),!0):!1}function $r(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Pm=/[\n"\\]/g;function Ci(a){return a.replace(Pm,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function fn(a,c,m,b,E,M,H,W){a.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.type=H:a.removeAttribute("type"),c!=null?H==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Di(c)):a.value!==""+Di(c)&&(a.value=""+Di(c)):H!=="submit"&&H!=="reset"||a.removeAttribute("value"),c!=null?he(a,H,Di(c)):m!=null?he(a,H,Di(m)):b!=null&&a.removeAttribute("value"),E==null&&M!=null&&(a.defaultChecked=!!M),E!=null&&(a.checked=E&&typeof E!="function"&&typeof E!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?a.name=""+Di(W):a.removeAttribute("name")}function Si(a,c,m,b,E,M,H,W){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(a.type=M),c!=null||m!=null){if(!(M!=="submit"&&M!=="reset"||c!=null))return;m=m!=null?""+Di(m):"",c=c!=null?""+Di(c):m,W||c===a.value||(a.value=c),a.defaultValue=c}b=b??E,b=typeof b!="function"&&typeof b!="symbol"&&!!b,a.checked=W?a.checked:!!b,a.defaultChecked=!!b,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(a.name=H)}function he(a,c,m){c==="number"&&$r(a.ownerDocument)===a||a.defaultValue===""+m||(a.defaultValue=""+m)}function Y(a,c,m,b){if(a=a.options,c){c={};for(var E=0;E<m.length;E++)c["$"+m[E]]=!0;for(m=0;m<a.length;m++)E=c.hasOwnProperty("$"+a[m].value),a[m].selected!==E&&(a[m].selected=E),E&&b&&(a[m].defaultSelected=!0)}else{for(m=""+Di(m),c=null,E=0;E<a.length;E++){if(a[E].value===m){a[E].selected=!0,b&&(a[E].defaultSelected=!0);return}c!==null||a[E].disabled||(c=a[E])}c!==null&&(c.selected=!0)}}function st(a,c,m){if(c!=null&&(c=""+Di(c),c!==a.value&&(a.value=c),m==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=m!=null?""+Di(m):""}function ri(a,c,m,b){if(c==null){if(b!=null){if(m!=null)throw Error(i(92));if(ne(b)){if(1<b.length)throw Error(i(93));b=b[0]}m=b}m==null&&(m=""),c=m}m=Di(c),a.defaultValue=m,b=a.textContent,b===m&&b!==""&&b!==null&&(a.value=b)}function Ei(a,c){if(c){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=c;return}}a.textContent=c}var Fm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lc(a,c,m){var b=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?b?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":b?a.setProperty(c,m):typeof m!="number"||m===0||Fm.has(c)?c==="float"?a.cssFloat=m:a[c]=(""+m).trim():a[c]=m+"px"}function pr(a,c,m){if(c!=null&&typeof c!="object")throw Error(i(62));if(a=a.style,m!=null){for(var b in m)!m.hasOwnProperty(b)||c!=null&&c.hasOwnProperty(b)||(b.indexOf("--")===0?a.setProperty(b,""):b==="float"?a.cssFloat="":a[b]="");for(var E in c)b=c[E],c.hasOwnProperty(E)&&m[E]!==b&&Lc(a,E,b)}else for(var M in c)c.hasOwnProperty(M)&&Lc(a,M,c[M])}function lt(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var In=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jc(a){return nh.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Bl=null;function vo(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ea=null,bo=null;function si(a){var c=Dt(a);if(c&&(a=c.stateNode)){var m=a[ze]||null;e:switch(a=c.stateNode,c.type){case"input":if(fn(a,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Ci(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var b=m[c];if(b!==a&&b.form===a.form){var E=b[ze]||null;if(!E)throw Error(i(90));fn(b,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<m.length;c++)b=m[c],b.form===a.form&&jn(b)}break e;case"textarea":st(a,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Y(a,!!m.multiple,c,!1)}}}var Ra=!1;function Ls(a,c,m){if(Ra)return a(c,m);Ra=!0;try{var b=a(c);return b}finally{if(Ra=!1,(ea!==null||bo!==null)&&(Hh(),ea&&(c=ea,a=bo,bo=ea=null,si(c),a)))for(c=0;c<a.length;c++)si(a[c])}}function dt(a,c){var m=a.stateNode;if(m===null)return null;var b=m[ze]||null;if(b===null)return null;m=b[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(a=a.type,b=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!b;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(i(231,c,typeof m));return m}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),St=!1;if(js)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){St=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{St=!1}var ta=null,Ll=null,jl=null;function na(){if(jl)return jl;var a,c=Ll,m=c.length,b,E="value"in ta?ta.value:ta.textContent,M=E.length;for(a=0;a<m&&c[a]===E[a];a++);var H=m-a;for(b=1;b<=H&&c[m-b]===E[M-b];b++);return jl=E.slice(a,1<b?1-b:void 0)}function Pc(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function ia(){return!0}function wo(){return!1}function fi(a){function c(m,b,E,M,H){this._reactName=m,this._targetInst=E,this.type=b,this.nativeEvent=M,this.target=H,this.currentTarget=null;for(var W in a)a.hasOwnProperty(W)&&(m=a[W],this[W]=m?m(M):M[W]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?ia:wo,this.isPropagationStopped=wo,this}return y(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),c}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=fi(ra),Ps=y({},ra,{view:0,detail:0}),er=fi(Ps),Fc,zc,_o,Hc=y({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fl,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==_o&&(_o&&a.type==="mousemove"?(Fc=a.screenX-_o.screenX,zc=a.screenY-_o.screenY):zc=Fc=0,_o=a),Fc)},movementY:function(a){return"movementY"in a?a.movementY:zc}}),ih=fi(Hc),zm=y({},Hc,{dataTransfer:0}),hn=fi(zm),rh=y({},Ps,{relatedTarget:0}),Co=fi(rh),aa=y({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=fi(aa),we=y({},ra,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ot=fi(we),Ai=y({},ra,{data:0}),Pl=fi(Ai),sh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Um={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $m(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Vm[a])?!!c[a]:!1}function Fl(){return $m}var ai=y({},Ps,{key:function(a){if(a.key){var c=sh[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Pc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Um[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fl,charCode:function(a){return a.type==="keypress"?Pc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Pc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),td=fi(ai),Pn=y({},Hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zl=fi(Pn),Oa=y({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fl}),pn=fi(Oa),pt=y({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gm=fi(pt),An=y({},Hc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=fi(An),So=y({},ra,{newState:0,oldState:0}),qm=fi(So),fs=[9,13,27,32],Hl=js&&"CompositionEvent"in window,Eo=null;js&&"documentMode"in document&&(Eo=document.documentMode);var nd=js&&"TextEvent"in window&&!Eo,id=js&&(!Hl||Eo&&8<Eo&&11>=Eo),rd=" ",ah=!1;function ka(a,c){switch(a){case"keyup":return fs.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ao=!1;function Ul(a,c){switch(a){case"compositionend":return Uc(c);case"keypress":return c.which!==32?null:(ah=!0,rd);case"textInput":return a=c.data,a===rd&&ah?null:a;default:return null}}function Wm(a,c){if(Ao)return a==="compositionend"||!Hl&&ka(a,c)?(a=na(),jl=Ll=ta=null,Ao=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return id&&c.locale!=="ko"?null:c.data;default:return null}}var oa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vl(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!oa[a.type]:c==="textarea"}function mr(a,c,m,b){ea?bo?bo.push(b):bo=[b]:ea=b,c=Wh(c,"onChange"),0<c.length&&(m=new sa("onChange","change",null,m,b),a.push({event:m,listeners:c}))}var To=null,tr=null;function Xm(a){Rw(a,0)}function No(a){var c=dn(a);if(jn(c))return a}function oh(a,c){if(a==="change")return c}var sd=!1;if(js){var Mr;if(js){var ad="oninput"in document;if(!ad){var Vc=document.createElement("div");Vc.setAttribute("oninput","return;"),ad=typeof Vc.oninput=="function"}Mr=ad}else Mr=!1;sd=Mr&&(!document.documentMode||9<document.documentMode)}function Mo(){To&&(To.detachEvent("onpropertychange",Jt),tr=To=null)}function Jt(a){if(a.propertyName==="value"&&No(tr)){var c=[];mr(c,tr,a,vo(a)),Ls(Xm,c)}}function $c(a,c,m){a==="focusin"?(Mo(),To=c,tr=m,To.attachEvent("onpropertychange",Jt)):a==="focusout"&&Mo()}function U(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return No(tr)}function o(a,c){if(a==="click")return No(c)}function u(a,c){if(a==="input"||a==="change")return No(c)}function h(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var g=typeof Object.is=="function"?Object.is:h;function x(a,c){if(g(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var m=Object.keys(a),b=Object.keys(c);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var E=m[b];if(!ki.call(c,E)||!g(a[E],c[E]))return!1}return!0}function w(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function C(a,c){var m=w(a);a=0;for(var b;m;){if(m.nodeType===3){if(b=a+m.textContent.length,a<=c&&b>=c)return{node:m,offset:c-a};a=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=w(m)}}function N(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?N(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function I(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=$r(a.document);c instanceof a.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)a=c.contentWindow;else break;c=$r(a.document)}return c}function j(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var V=js&&"documentMode"in document&&11>=document.documentMode,q=null,K=null,ee=null,ie=!1;function de(a,c,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ie||q==null||q!==$r(b)||(b=q,"selectionStart"in b&&j(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),ee&&x(ee,b)||(ee=b,b=Wh(K,"onSelect"),0<b.length&&(c=new sa("onSelect","select",null,c,m),a.push({event:c,listeners:b}),c.target=q)))}function ye(a,c){var m={};return m[a.toLowerCase()]=c.toLowerCase(),m["Webkit"+a]="webkit"+c,m["Moz"+a]="moz"+c,m}var Fe={animationend:ye("Animation","AnimationEnd"),animationiteration:ye("Animation","AnimationIteration"),animationstart:ye("Animation","AnimationStart"),transitionrun:ye("Transition","TransitionRun"),transitionstart:ye("Transition","TransitionStart"),transitioncancel:ye("Transition","TransitionCancel"),transitionend:ye("Transition","TransitionEnd")},He={},je={};js&&(je=document.createElement("div").style,"AnimationEvent"in window||(delete Fe.animationend.animation,delete Fe.animationiteration.animation,delete Fe.animationstart.animation),"TransitionEvent"in window||delete Fe.transitionend.transition);function Et(a){if(He[a])return He[a];if(!Fe[a])return a;var c=Fe[a],m;for(m in c)if(c.hasOwnProperty(m)&&m in je)return He[a]=c[m];return a}var Ct=Et("animationend"),qi=Et("animationiteration"),Rr=Et("animationstart"),nr=Et("transitionrun"),mn=Et("transitionstart"),Ti=Et("transitioncancel"),ir=Et("transitionend"),Da=new Map,la="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");la.push("scrollEnd");function Gr(a,c){Da.set(a,c),Mn(c,[a])}var lh=new WeakMap;function hs(a,c){if(typeof a=="object"&&a!==null){var m=lh.get(a);return m!==void 0?m:(c={value:a,source:c,stack:Ma(c)},lh.set(a,c),c)}return{value:a,source:c,stack:Ma(c)}}var ps=[],Gc=0,Ym=0;function ch(){for(var a=Gc,c=Ym=Gc=0;c<a;){var m=ps[c];ps[c++]=null;var b=ps[c];ps[c++]=null;var E=ps[c];ps[c++]=null;var M=ps[c];if(ps[c++]=null,b!==null&&E!==null){var H=b.pending;H===null?E.next=E:(E.next=H.next,H.next=E),b.pending=E}M!==0&&pv(m,E,M)}}function uh(a,c,m,b){ps[Gc++]=a,ps[Gc++]=c,ps[Gc++]=m,ps[Gc++]=b,Ym|=b,a.lanes|=b,a=a.alternate,a!==null&&(a.lanes|=b)}function Km(a,c,m,b){return uh(a,c,m,b),dh(a)}function qc(a,c){return uh(a,null,null,c),dh(a)}function pv(a,c,m){a.lanes|=m;var b=a.alternate;b!==null&&(b.lanes|=m);for(var E=!1,M=a.return;M!==null;)M.childLanes|=m,b=M.alternate,b!==null&&(b.childLanes|=m),M.tag===22&&(a=M.stateNode,a===null||a._visibility&1||(E=!0)),a=M,M=M.return;return a.tag===3?(M=a.stateNode,E&&c!==null&&(E=31-Pt(m),a=M.hiddenUpdates,b=a[E],b===null?a[E]=[c]:b.push(c),c.lane=m|536870912),M):null}function dh(a){if(50<Od)throw Od=0,ng=null,Error(i(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var Wc={};function V8(a,c,m,b){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(a,c,m,b){return new V8(a,c,m,b)}function Zm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ba(a,c){var m=a.alternate;return m===null?(m=qr(a.tag,c,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=c,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&65011712,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,c=a.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m.refCleanup=a.refCleanup,m}function mv(a,c){a.flags&=65011714;var m=a.alternate;return m===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=m.childLanes,a.lanes=m.lanes,a.child=m.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=m.memoizedProps,a.memoizedState=m.memoizedState,a.updateQueue=m.updateQueue,a.type=m.type,c=m.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function fh(a,c,m,b,E,M){var H=0;if(b=a,typeof a=="function")Zm(a)&&(H=1);else if(typeof a=="string")H=GN(a,m,Ie.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case X:return a=qr(31,m,c,E),a.elementType=X,a.lanes=M,a;case A:return $l(m.children,E,M,c);case O:H=8,E|=24;break;case k:return a=qr(12,m,c,E|2),a.elementType=k,a.lanes=M,a;case D:return a=qr(13,m,c,E),a.elementType=D,a.lanes=M,a;case B:return a=qr(19,m,c,E),a.elementType=B,a.lanes=M,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:case P:H=10;break e;case $:H=9;break e;case R:H=11;break e;case z:H=14;break e;case G:H=16,b=null;break e}H=29,m=Error(i(130,a===null?"null":typeof a,"")),b=null}return c=qr(H,m,c,E),c.elementType=a,c.type=b,c.lanes=M,c}function $l(a,c,m,b){return a=qr(7,a,b,c),a.lanes=m,a}function Qm(a,c,m){return a=qr(6,a,null,c),a.lanes=m,a}function Jm(a,c,m){return c=qr(4,a.children!==null?a.children:[],a.key,c),c.lanes=m,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var Xc=[],Yc=0,hh=null,ph=0,ms=[],gs=0,Gl=null,La=1,ja="";function ql(a,c){Xc[Yc++]=ph,Xc[Yc++]=hh,hh=a,ph=c}function gv(a,c,m){ms[gs++]=La,ms[gs++]=ja,ms[gs++]=Gl,Gl=a;var b=La;a=ja;var E=32-Pt(b)-1;b&=~(1<<E),m+=1;var M=32-Pt(c)+E;if(30<M){var H=E-E%5;M=(b&(1<<H)-1).toString(32),b>>=H,E-=H,La=1<<32-Pt(c)+E|m<<E|b,ja=M+a}else La=1<<M|m<<E|b,ja=a}function e0(a){a.return!==null&&(ql(a,1),gv(a,1,0))}function t0(a){for(;a===hh;)hh=Xc[--Yc],Xc[Yc]=null,ph=Xc[--Yc],Xc[Yc]=null;for(;a===Gl;)Gl=ms[--gs],ms[gs]=null,ja=ms[--gs],ms[gs]=null,La=ms[--gs],ms[gs]=null}var gr=null,Zn=null,cn=!1,Wl=null,ca=!1,n0=Error(i(519));function Xl(a){var c=Error(i(418,""));throw cd(hs(c,a)),n0}function xv(a){var c=a.stateNode,m=a.type,b=a.memoizedProps;switch(c[ke]=a,c[ze]=b,m){case"dialog":Zt("cancel",c),Zt("close",c);break;case"iframe":case"object":case"embed":Zt("load",c);break;case"video":case"audio":for(m=0;m<kd.length;m++)Zt(kd[m],c);break;case"source":Zt("error",c);break;case"img":case"image":case"link":Zt("error",c),Zt("load",c);break;case"details":Zt("toggle",c);break;case"input":Zt("invalid",c),Si(c,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),Bc(c);break;case"select":Zt("invalid",c);break;case"textarea":Zt("invalid",c),ri(c,b.value,b.defaultValue,b.children),Bc(c)}m=b.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||b.suppressHydrationWarning===!0||Dw(c.textContent,m)?(b.popover!=null&&(Zt("beforetoggle",c),Zt("toggle",c)),b.onScroll!=null&&Zt("scroll",c),b.onScrollEnd!=null&&Zt("scrollend",c),b.onClick!=null&&(c.onclick=Xh),c=!0):c=!1,c||Xl(a)}function yv(a){for(gr=a.return;gr;)switch(gr.tag){case 5:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:gr=gr.return}}function od(a){if(a!==gr)return!1;if(!cn)return yv(a),cn=!0,!1;var c=a.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=a.type,m=!(m!=="form"&&m!=="button")||yg(a.type,a.memoizedProps)),m=!m),m&&Zn&&Xl(a),yv(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(m=a.data,m==="/$"){if(c===0){Zn=zs(a.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++;a=a.nextSibling}Zn=null}}else c===27?(c=Zn,Go(a.type)?(a=_g,_g=null,Zn=a):Zn=c):Zn=gr?zs(a.stateNode.nextSibling):null;return!0}function ld(){Zn=gr=null,cn=!1}function vv(){var a=Wl;return a!==null&&(kr===null?kr=a:kr.push.apply(kr,a),Wl=null),a}function cd(a){Wl===null?Wl=[a]:Wl.push(a)}var i0=be(null),Yl=null,Pa=null;function Ro(a,c,m){Le(i0,c._currentValue),c._currentValue=m}function Fa(a){a._currentValue=i0.current,Re(i0)}function r0(a,c,m){for(;a!==null;){var b=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,b!==null&&(b.childLanes|=c)):b!==null&&(b.childLanes&c)!==c&&(b.childLanes|=c),a===m)break;a=a.return}}function s0(a,c,m,b){var E=a.child;for(E!==null&&(E.return=a);E!==null;){var M=E.dependencies;if(M!==null){var H=E.child;M=M.firstContext;e:for(;M!==null;){var W=M;M=E;for(var J=0;J<c.length;J++)if(W.context===c[J]){M.lanes|=m,W=M.alternate,W!==null&&(W.lanes|=m),r0(M.return,m,a),b||(H=null);break e}M=W.next}}else if(E.tag===18){if(H=E.return,H===null)throw Error(i(341));H.lanes|=m,M=H.alternate,M!==null&&(M.lanes|=m),r0(H,m,a),H=null}else H=E.child;if(H!==null)H.return=E;else for(H=E;H!==null;){if(H===a){H=null;break}if(E=H.sibling,E!==null){E.return=H.return,H=E;break}H=H.return}E=H}}function ud(a,c,m,b){a=null;for(var E=c,M=!1;E!==null;){if(!M){if((E.flags&524288)!==0)M=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var H=E.alternate;if(H===null)throw Error(i(387));if(H=H.memoizedProps,H!==null){var W=E.type;g(E.pendingProps.value,H.value)||(a!==null?a.push(W):a=[W])}}else if(E===Ln.current){if(H=E.alternate,H===null)throw Error(i(387));H.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(a!==null?a.push(Fd):a=[Fd])}E=E.return}a!==null&&s0(c,a,m,b),c.flags|=262144}function mh(a){for(a=a.firstContext;a!==null;){if(!g(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Kl(a){Yl=a,Pa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function rr(a){return bv(Yl,a)}function gh(a,c){return Yl===null&&Kl(a),bv(a,c)}function bv(a,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Pa===null){if(a===null)throw Error(i(308));Pa=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else Pa=Pa.next=c;return m}var $8=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(m,b){a.push(b)}};this.abort=function(){c.aborted=!0,a.forEach(function(m){return m()})}},G8=t.unstable_scheduleCallback,q8=t.unstable_NormalPriority,Ni={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function a0(){return{controller:new $8,data:new Map,refCount:0}}function dd(a){a.refCount--,a.refCount===0&&G8(q8,function(){a.controller.abort()})}var fd=null,o0=0,Kc=0,Zc=null;function W8(a,c){if(fd===null){var m=fd=[];o0=0,Kc=cg(),Zc={status:"pending",value:void 0,then:function(b){m.push(b)}}}return o0++,c.then(wv,wv),c}function wv(){if(--o0===0&&fd!==null){Zc!==null&&(Zc.status="fulfilled");var a=fd;fd=null,Kc=0,Zc=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function X8(a,c){var m=[],b={status:"pending",value:null,reason:null,then:function(E){m.push(E)}};return a.then(function(){b.status="fulfilled",b.value=c;for(var E=0;E<m.length;E++)(0,m[E])(c)},function(E){for(b.status="rejected",b.reason=E,E=0;E<m.length;E++)(0,m[E])(void 0)}),b}var _v=Q.S;Q.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&W8(a,c),_v!==null&&_v(a,c)};var Zl=be(null);function l0(){var a=Zl.current;return a!==null?a:Rn.pooledCache}function xh(a,c){c===null?Le(Zl,Zl.current):Le(Zl,c.pool)}function Cv(){var a=l0();return a===null?null:{parent:Ni._currentValue,pool:a}}var hd=Error(i(460)),Sv=Error(i(474)),yh=Error(i(542)),c0={then:function(){}};function Ev(a){return a=a.status,a==="fulfilled"||a==="rejected"}function vh(){}function Av(a,c,m){switch(m=a[m],m===void 0?a.push(c):m!==c&&(c.then(vh,vh),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Nv(a),a;default:if(typeof c.status=="string")c.then(vh,vh);else{if(a=Rn,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=c,a.status="pending",a.then(function(b){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=b}},function(b){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=b}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Nv(a),a}throw pd=c,hd}}var pd=null;function Tv(){if(pd===null)throw Error(i(459));var a=pd;return pd=null,a}function Nv(a){if(a===hd||a===yh)throw Error(i(483))}var Oo=!1;function u0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function d0(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Io(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ko(a,c,m){var b=a.updateQueue;if(b===null)return null;if(b=b.shared,(gn&2)!==0){var E=b.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),b.pending=c,c=dh(a),pv(a,null,m),c}return uh(a,b,c,m),dh(a)}function md(a,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var b=c.lanes;b&=a.pendingLanes,m|=b,c.lanes=m,_i(a,m)}}function f0(a,c){var m=a.updateQueue,b=a.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var E=null,M=null;if(m=m.firstBaseUpdate,m!==null){do{var H={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};M===null?E=M=H:M=M.next=H,m=m.next}while(m!==null);M===null?E=M=c:M=M.next=c}else E=M=c;m={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:M,shared:b.shared,callbacks:b.callbacks},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=c}var h0=!1;function gd(){if(h0){var a=Zc;if(a!==null)throw a}}function xd(a,c,m,b){h0=!1;var E=a.updateQueue;Oo=!1;var M=E.firstBaseUpdate,H=E.lastBaseUpdate,W=E.shared.pending;if(W!==null){E.shared.pending=null;var J=W,me=J.next;J.next=null,H===null?M=me:H.next=me,H=J;var Ae=a.alternate;Ae!==null&&(Ae=Ae.updateQueue,W=Ae.lastBaseUpdate,W!==H&&(W===null?Ae.firstBaseUpdate=me:W.next=me,Ae.lastBaseUpdate=J))}if(M!==null){var De=E.baseState;H=0,Ae=me=J=null,W=M;do{var xe=W.lane&-536870913,ve=xe!==W.lane;if(ve?(nn&xe)===xe:(b&xe)===xe){xe!==0&&xe===Kc&&(h0=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var yt=a,mt=W;xe=c;var Sn=m;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){De=yt.call(Sn,De,xe);break e}De=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,xe=typeof yt=="function"?yt.call(Sn,De,xe):yt,xe==null)break e;De=y({},De,xe);break e;case 2:Oo=!0}}xe=W.callback,xe!==null&&(a.flags|=64,ve&&(a.flags|=8192),ve=E.callbacks,ve===null?E.callbacks=[xe]:ve.push(xe))}else ve={lane:xe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Ae===null?(me=Ae=ve,J=De):Ae=Ae.next=ve,H|=xe;if(W=W.next,W===null){if(W=E.shared.pending,W===null)break;ve=W,W=ve.next,ve.next=null,E.lastBaseUpdate=ve,E.shared.pending=null}}while(!0);Ae===null&&(J=De),E.baseState=J,E.firstBaseUpdate=me,E.lastBaseUpdate=Ae,M===null&&(E.shared.lanes=0),Ho|=H,a.lanes=H,a.memoizedState=De}}function Mv(a,c){if(typeof a!="function")throw Error(i(191,a));a.call(c)}function Rv(a,c){var m=a.callbacks;if(m!==null)for(a.callbacks=null,a=0;a<m.length;a++)Mv(m[a],c)}var Qc=be(null),bh=be(0);function Ov(a,c){a=qa,Le(bh,a),Le(Qc,c),qa=a|c.baseLanes}function p0(){Le(bh,qa),Le(Qc,Qc.current)}function m0(){qa=bh.current,Re(Qc),Re(bh)}var Do=0,Ut=null,_n=null,hi=null,wh=!1,Jc=!1,Ql=!1,_h=0,yd=0,eu=null,Y8=0;function oi(){throw Error(i(321))}function g0(a,c){if(c===null)return!1;for(var m=0;m<c.length&&m<a.length;m++)if(!g(a[m],c[m]))return!1;return!0}function x0(a,c,m,b,E,M){return Do=M,Ut=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Q.H=a===null||a.memoizedState===null?pb:mb,Ql=!1,M=m(b,E),Ql=!1,Jc&&(M=kv(c,m,b,E)),Iv(a),M}function Iv(a){Q.H=Nh;var c=_n!==null&&_n.next!==null;if(Do=0,hi=_n=Ut=null,wh=!1,yd=0,eu=null,c)throw Error(i(300));a===null||Bi||(a=a.dependencies,a!==null&&mh(a)&&(Bi=!0))}function kv(a,c,m,b){Ut=a;var E=0;do{if(Jc&&(eu=null),yd=0,Jc=!1,25<=E)throw Error(i(301));if(E+=1,hi=_n=null,a.updateQueue!=null){var M=a.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}Q.H=nN,M=c(m,b)}while(Jc);return M}function K8(){var a=Q.H,c=a.useState()[0];return c=typeof c.then=="function"?vd(c):c,a=a.useState()[0],(_n!==null?_n.memoizedState:null)!==a&&(Ut.flags|=1024),c}function y0(){var a=_h!==0;return _h=0,a}function v0(a,c,m){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~m}function b0(a){if(wh){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}wh=!1}Do=0,hi=_n=Ut=null,Jc=!1,yd=_h=0,eu=null}function Or(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?Ut.memoizedState=hi=a:hi=hi.next=a,hi}function pi(){if(_n===null){var a=Ut.alternate;a=a!==null?a.memoizedState:null}else a=_n.next;var c=hi===null?Ut.memoizedState:hi.next;if(c!==null)hi=c,_n=a;else{if(a===null)throw Ut.alternate===null?Error(i(467)):Error(i(310));_n=a,a={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},hi===null?Ut.memoizedState=hi=a:hi=hi.next=a}return hi}function w0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vd(a){var c=yd;return yd+=1,eu===null&&(eu=[]),a=Av(eu,a,c),c=Ut,(hi===null?c.memoizedState:hi.next)===null&&(c=c.alternate,Q.H=c===null||c.memoizedState===null?pb:mb),a}function Ch(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return vd(a);if(a.$$typeof===P)return rr(a)}throw Error(i(438,String(a)))}function _0(a){var c=null,m=Ut.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var b=Ut.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(c={data:b.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=w0(),Ut.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(a),b=0;b<a;b++)m[b]=se;return c.index++,m}function za(a,c){return typeof c=="function"?c(a):c}function Sh(a){var c=pi();return C0(c,_n,a)}function C0(a,c,m){var b=a.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=m;var E=a.baseQueue,M=b.pending;if(M!==null){if(E!==null){var H=E.next;E.next=M.next,M.next=H}c.baseQueue=E=M,b.pending=null}if(M=a.baseState,E===null)a.memoizedState=M;else{c=E.next;var W=H=null,J=null,me=c,Ae=!1;do{var De=me.lane&-536870913;if(De!==me.lane?(nn&De)===De:(Do&De)===De){var xe=me.revertLane;if(xe===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),De===Kc&&(Ae=!0);else if((Do&xe)===xe){me=me.next,xe===Kc&&(Ae=!0);continue}else De={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},J===null?(W=J=De,H=M):J=J.next=De,Ut.lanes|=xe,Ho|=xe;De=me.action,Ql&&m(M,De),M=me.hasEagerState?me.eagerState:m(M,De)}else xe={lane:De,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},J===null?(W=J=xe,H=M):J=J.next=xe,Ut.lanes|=De,Ho|=De;me=me.next}while(me!==null&&me!==c);if(J===null?H=M:J.next=W,!g(M,a.memoizedState)&&(Bi=!0,Ae&&(m=Zc,m!==null)))throw m;a.memoizedState=M,a.baseState=H,a.baseQueue=J,b.lastRenderedState=M}return E===null&&(b.lanes=0),[a.memoizedState,b.dispatch]}function S0(a){var c=pi(),m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=a;var b=m.dispatch,E=m.pending,M=c.memoizedState;if(E!==null){m.pending=null;var H=E=E.next;do M=a(M,H.action),H=H.next;while(H!==E);g(M,c.memoizedState)||(Bi=!0),c.memoizedState=M,c.baseQueue===null&&(c.baseState=M),m.lastRenderedState=M}return[M,b]}function Dv(a,c,m){var b=Ut,E=pi(),M=cn;if(M){if(m===void 0)throw Error(i(407));m=m()}else m=c();var H=!g((_n||E).memoizedState,m);H&&(E.memoizedState=m,Bi=!0),E=E.queue;var W=jv.bind(null,b,E,a);if(bd(2048,8,W,[a]),E.getSnapshot!==c||H||hi!==null&&hi.memoizedState.tag&1){if(b.flags|=2048,tu(9,Eh(),Lv.bind(null,b,E,m,c),null),Rn===null)throw Error(i(349));M||(Do&124)!==0||Bv(b,c,m)}return m}function Bv(a,c,m){a.flags|=16384,a={getSnapshot:c,value:m},c=Ut.updateQueue,c===null?(c=w0(),Ut.updateQueue=c,c.stores=[a]):(m=c.stores,m===null?c.stores=[a]:m.push(a))}function Lv(a,c,m,b){c.value=m,c.getSnapshot=b,Pv(c)&&Fv(a)}function jv(a,c,m){return m(function(){Pv(c)&&Fv(a)})}function Pv(a){var c=a.getSnapshot;a=a.value;try{var m=c();return!g(a,m)}catch{return!0}}function Fv(a){var c=qc(a,2);c!==null&&Zr(c,a,2)}function E0(a){var c=Or();if(typeof a=="function"){var m=a;if(a=m(),Ql){tn(!0);try{m()}finally{tn(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:a},c}function zv(a,c,m,b){return a.baseState=m,C0(a,_n,typeof b=="function"?b:za)}function Z8(a,c,m,b,E){if(Th(a))throw Error(i(485));if(a=c.action,a!==null){var M={payload:E,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){M.listeners.push(H)}};Q.T!==null?m(!0):M.isTransition=!1,b(M),m=c.pending,m===null?(M.next=c.pending=M,Hv(c,M)):(M.next=m.next,c.pending=m.next=M)}}function Hv(a,c){var m=c.action,b=c.payload,E=a.state;if(c.isTransition){var M=Q.T,H={};Q.T=H;try{var W=m(E,b),J=Q.S;J!==null&&J(H,W),Uv(a,c,W)}catch(me){A0(a,c,me)}finally{Q.T=M}}else try{M=m(E,b),Uv(a,c,M)}catch(me){A0(a,c,me)}}function Uv(a,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(b){Vv(a,c,b)},function(b){return A0(a,c,b)}):Vv(a,c,m)}function Vv(a,c,m){c.status="fulfilled",c.value=m,$v(c),a.state=m,c=a.pending,c!==null&&(m=c.next,m===c?a.pending=null:(m=m.next,c.next=m,Hv(a,m)))}function A0(a,c,m){var b=a.pending;if(a.pending=null,b!==null){b=b.next;do c.status="rejected",c.reason=m,$v(c),c=c.next;while(c!==b)}a.action=null}function $v(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function Gv(a,c){return c}function qv(a,c){if(cn){var m=Rn.formState;if(m!==null){e:{var b=Ut;if(cn){if(Zn){t:{for(var E=Zn,M=ca;E.nodeType!==8;){if(!M){E=null;break t}if(E=zs(E.nextSibling),E===null){E=null;break t}}M=E.data,E=M==="F!"||M==="F"?E:null}if(E){Zn=zs(E.nextSibling),b=E.data==="F!";break e}}Xl(b)}b=!1}b&&(c=m[0])}}return m=Or(),m.memoizedState=m.baseState=c,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gv,lastRenderedState:c},m.queue=b,m=db.bind(null,Ut,b),b.dispatch=m,b=E0(!1),M=O0.bind(null,Ut,!1,b.queue),b=Or(),E={state:c,dispatch:null,action:a,pending:null},b.queue=E,m=Z8.bind(null,Ut,E,M,m),E.dispatch=m,b.memoizedState=a,[c,m,!1]}function Wv(a){var c=pi();return Xv(c,_n,a)}function Xv(a,c,m){if(c=C0(a,c,Gv)[0],a=Sh(za)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var b=vd(c)}catch(H){throw H===hd?yh:H}else b=c;c=pi();var E=c.queue,M=E.dispatch;return m!==c.memoizedState&&(Ut.flags|=2048,tu(9,Eh(),Q8.bind(null,E,m),null)),[b,M,a]}function Q8(a,c){a.action=c}function Yv(a){var c=pi(),m=_n;if(m!==null)return Xv(c,m,a);pi(),c=c.memoizedState,m=pi();var b=m.queue.dispatch;return m.memoizedState=a,[c,b,!1]}function tu(a,c,m,b){return a={tag:a,create:m,deps:b,inst:c,next:null},c=Ut.updateQueue,c===null&&(c=w0(),Ut.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=a.next=a:(b=m.next,m.next=a,a.next=b,c.lastEffect=a),a}function Eh(){return{destroy:void 0,resource:void 0}}function Kv(){return pi().memoizedState}function Ah(a,c,m,b){var E=Or();b=b===void 0?null:b,Ut.flags|=a,E.memoizedState=tu(1|c,Eh(),m,b)}function bd(a,c,m,b){var E=pi();b=b===void 0?null:b;var M=E.memoizedState.inst;_n!==null&&b!==null&&g0(b,_n.memoizedState.deps)?E.memoizedState=tu(c,M,m,b):(Ut.flags|=a,E.memoizedState=tu(1|c,M,m,b))}function Zv(a,c){Ah(8390656,8,a,c)}function Qv(a,c){bd(2048,8,a,c)}function Jv(a,c){return bd(4,2,a,c)}function eb(a,c){return bd(4,4,a,c)}function tb(a,c){if(typeof c=="function"){a=a();var m=c(a);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function nb(a,c,m){m=m!=null?m.concat([a]):null,bd(4,4,tb.bind(null,c,a),m)}function T0(){}function ib(a,c){var m=pi();c=c===void 0?null:c;var b=m.memoizedState;return c!==null&&g0(c,b[1])?b[0]:(m.memoizedState=[a,c],a)}function rb(a,c){var m=pi();c=c===void 0?null:c;var b=m.memoizedState;if(c!==null&&g0(c,b[1]))return b[0];if(b=a(),Ql){tn(!0);try{a()}finally{tn(!1)}}return m.memoizedState=[b,c],b}function N0(a,c,m){return m===void 0||(Do&1073741824)!==0?a.memoizedState=c:(a.memoizedState=m,a=ow(),Ut.lanes|=a,Ho|=a,m)}function sb(a,c,m,b){return g(m,c)?m:Qc.current!==null?(a=N0(a,m,b),g(a,c)||(Bi=!0),a):(Do&42)===0?(Bi=!0,a.memoizedState=m):(a=ow(),Ut.lanes|=a,Ho|=a,c)}function ab(a,c,m,b,E){var M=le.p;le.p=M!==0&&8>M?M:8;var H=Q.T,W={};Q.T=W,O0(a,!1,c,m);try{var J=E(),me=Q.S;if(me!==null&&me(W,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Ae=X8(J,b);wd(a,c,Ae,Kr(a))}else wd(a,c,b,Kr(a))}catch(De){wd(a,c,{then:function(){},status:"rejected",reason:De},Kr())}finally{le.p=M,Q.T=H}}function J8(){}function M0(a,c,m,b){if(a.tag!==5)throw Error(i(476));var E=ob(a).queue;ab(a,E,c,fe,m===null?J8:function(){return lb(a),m(b)})}function ob(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:fe},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:m},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function lb(a){var c=ob(a).next.queue;wd(a,c,{},Kr())}function R0(){return rr(Fd)}function cb(){return pi().memoizedState}function ub(){return pi().memoizedState}function eN(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var m=Kr();a=Io(m);var b=ko(c,a,m);b!==null&&(Zr(b,c,m),md(b,c,m)),c={cache:a0()},a.payload=c;return}c=c.return}}function tN(a,c,m){var b=Kr();m={lane:b,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},Th(a)?fb(c,m):(m=Km(a,c,m,b),m!==null&&(Zr(m,a,b),hb(m,c,b)))}function db(a,c,m){var b=Kr();wd(a,c,m,b)}function wd(a,c,m,b){var E={lane:b,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(Th(a))fb(c,E);else{var M=a.alternate;if(a.lanes===0&&(M===null||M.lanes===0)&&(M=c.lastRenderedReducer,M!==null))try{var H=c.lastRenderedState,W=M(H,m);if(E.hasEagerState=!0,E.eagerState=W,g(W,H))return uh(a,c,E,0),Rn===null&&ch(),!1}catch{}finally{}if(m=Km(a,c,E,b),m!==null)return Zr(m,a,b),hb(m,c,b),!0}return!1}function O0(a,c,m,b){if(b={lane:2,revertLane:cg(),action:b,hasEagerState:!1,eagerState:null,next:null},Th(a)){if(c)throw Error(i(479))}else c=Km(a,m,b,2),c!==null&&Zr(c,a,2)}function Th(a){var c=a.alternate;return a===Ut||c!==null&&c===Ut}function fb(a,c){Jc=wh=!0;var m=a.pending;m===null?c.next=c:(c.next=m.next,m.next=c),a.pending=c}function hb(a,c,m){if((m&4194048)!==0){var b=c.lanes;b&=a.pendingLanes,m|=b,c.lanes=m,_i(a,m)}}var Nh={readContext:rr,use:Ch,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useLayoutEffect:oi,useInsertionEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useSyncExternalStore:oi,useId:oi,useHostTransitionStatus:oi,useFormState:oi,useActionState:oi,useOptimistic:oi,useMemoCache:oi,useCacheRefresh:oi},pb={readContext:rr,use:Ch,useCallback:function(a,c){return Or().memoizedState=[a,c===void 0?null:c],a},useContext:rr,useEffect:Zv,useImperativeHandle:function(a,c,m){m=m!=null?m.concat([a]):null,Ah(4194308,4,tb.bind(null,c,a),m)},useLayoutEffect:function(a,c){return Ah(4194308,4,a,c)},useInsertionEffect:function(a,c){Ah(4,2,a,c)},useMemo:function(a,c){var m=Or();c=c===void 0?null:c;var b=a();if(Ql){tn(!0);try{a()}finally{tn(!1)}}return m.memoizedState=[b,c],b},useReducer:function(a,c,m){var b=Or();if(m!==void 0){var E=m(c);if(Ql){tn(!0);try{m(c)}finally{tn(!1)}}}else E=c;return b.memoizedState=b.baseState=E,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:E},b.queue=a,a=a.dispatch=tN.bind(null,Ut,a),[b.memoizedState,a]},useRef:function(a){var c=Or();return a={current:a},c.memoizedState=a},useState:function(a){a=E0(a);var c=a.queue,m=db.bind(null,Ut,c);return c.dispatch=m,[a.memoizedState,m]},useDebugValue:T0,useDeferredValue:function(a,c){var m=Or();return N0(m,a,c)},useTransition:function(){var a=E0(!1);return a=ab.bind(null,Ut,a.queue,!0,!1),Or().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,m){var b=Ut,E=Or();if(cn){if(m===void 0)throw Error(i(407));m=m()}else{if(m=c(),Rn===null)throw Error(i(349));(nn&124)!==0||Bv(b,c,m)}E.memoizedState=m;var M={value:m,getSnapshot:c};return E.queue=M,Zv(jv.bind(null,b,M,a),[a]),b.flags|=2048,tu(9,Eh(),Lv.bind(null,b,M,m,c),null),m},useId:function(){var a=Or(),c=Rn.identifierPrefix;if(cn){var m=ja,b=La;m=(b&~(1<<32-Pt(b)-1)).toString(32)+m,c=""+c+"R"+m,m=_h++,0<m&&(c+="H"+m.toString(32)),c+=""}else m=Y8++,c=""+c+"r"+m.toString(32)+"";return a.memoizedState=c},useHostTransitionStatus:R0,useFormState:qv,useActionState:qv,useOptimistic:function(a){var c=Or();c.memoizedState=c.baseState=a;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=O0.bind(null,Ut,!0,m),m.dispatch=c,[a,c]},useMemoCache:_0,useCacheRefresh:function(){return Or().memoizedState=eN.bind(null,Ut)}},mb={readContext:rr,use:Ch,useCallback:ib,useContext:rr,useEffect:Qv,useImperativeHandle:nb,useInsertionEffect:Jv,useLayoutEffect:eb,useMemo:rb,useReducer:Sh,useRef:Kv,useState:function(){return Sh(za)},useDebugValue:T0,useDeferredValue:function(a,c){var m=pi();return sb(m,_n.memoizedState,a,c)},useTransition:function(){var a=Sh(za)[0],c=pi().memoizedState;return[typeof a=="boolean"?a:vd(a),c]},useSyncExternalStore:Dv,useId:cb,useHostTransitionStatus:R0,useFormState:Wv,useActionState:Wv,useOptimistic:function(a,c){var m=pi();return zv(m,_n,a,c)},useMemoCache:_0,useCacheRefresh:ub},nN={readContext:rr,use:Ch,useCallback:ib,useContext:rr,useEffect:Qv,useImperativeHandle:nb,useInsertionEffect:Jv,useLayoutEffect:eb,useMemo:rb,useReducer:S0,useRef:Kv,useState:function(){return S0(za)},useDebugValue:T0,useDeferredValue:function(a,c){var m=pi();return _n===null?N0(m,a,c):sb(m,_n.memoizedState,a,c)},useTransition:function(){var a=S0(za)[0],c=pi().memoizedState;return[typeof a=="boolean"?a:vd(a),c]},useSyncExternalStore:Dv,useId:cb,useHostTransitionStatus:R0,useFormState:Yv,useActionState:Yv,useOptimistic:function(a,c){var m=pi();return _n!==null?zv(m,_n,a,c):(m.baseState=a,[a,m.queue.dispatch])},useMemoCache:_0,useCacheRefresh:ub},nu=null,_d=0;function Mh(a){var c=_d;return _d+=1,nu===null&&(nu=[]),Av(nu,a,c)}function Cd(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function Rh(a,c){throw c.$$typeof===_?Error(i(525)):(a=Object.prototype.toString.call(c),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function gb(a){var c=a._init;return c(a._payload)}function xb(a){function c(oe,re){if(a){var pe=oe.deletions;pe===null?(oe.deletions=[re],oe.flags|=16):pe.push(re)}}function m(oe,re){if(!a)return null;for(;re!==null;)c(oe,re),re=re.sibling;return null}function b(oe){for(var re=new Map;oe!==null;)oe.key!==null?re.set(oe.key,oe):re.set(oe.index,oe),oe=oe.sibling;return re}function E(oe,re){return oe=Ba(oe,re),oe.index=0,oe.sibling=null,oe}function M(oe,re,pe){return oe.index=pe,a?(pe=oe.alternate,pe!==null?(pe=pe.index,pe<re?(oe.flags|=67108866,re):pe):(oe.flags|=67108866,re)):(oe.flags|=1048576,re)}function H(oe){return a&&oe.alternate===null&&(oe.flags|=67108866),oe}function W(oe,re,pe,Me){return re===null||re.tag!==6?(re=Qm(pe,oe.mode,Me),re.return=oe,re):(re=E(re,pe),re.return=oe,re)}function J(oe,re,pe,Me){var Qe=pe.type;return Qe===A?Ae(oe,re,pe.props.children,Me,pe.key):re!==null&&(re.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===G&&gb(Qe)===re.type)?(re=E(re,pe.props),Cd(re,pe),re.return=oe,re):(re=fh(pe.type,pe.key,pe.props,null,oe.mode,Me),Cd(re,pe),re.return=oe,re)}function me(oe,re,pe,Me){return re===null||re.tag!==4||re.stateNode.containerInfo!==pe.containerInfo||re.stateNode.implementation!==pe.implementation?(re=Jm(pe,oe.mode,Me),re.return=oe,re):(re=E(re,pe.children||[]),re.return=oe,re)}function Ae(oe,re,pe,Me,Qe){return re===null||re.tag!==7?(re=$l(pe,oe.mode,Me,Qe),re.return=oe,re):(re=E(re,pe),re.return=oe,re)}function De(oe,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Qm(""+re,oe.mode,pe),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case S:return pe=fh(re.type,re.key,re.props,null,oe.mode,pe),Cd(pe,re),pe.return=oe,pe;case T:return re=Jm(re,oe.mode,pe),re.return=oe,re;case G:var Me=re._init;return re=Me(re._payload),De(oe,re,pe)}if(ne(re)||ue(re))return re=$l(re,oe.mode,pe,null),re.return=oe,re;if(typeof re.then=="function")return De(oe,Mh(re),pe);if(re.$$typeof===P)return De(oe,gh(oe,re),pe);Rh(oe,re)}return null}function xe(oe,re,pe,Me){var Qe=re!==null?re.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Qe!==null?null:W(oe,re,""+pe,Me);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:return pe.key===Qe?J(oe,re,pe,Me):null;case T:return pe.key===Qe?me(oe,re,pe,Me):null;case G:return Qe=pe._init,pe=Qe(pe._payload),xe(oe,re,pe,Me)}if(ne(pe)||ue(pe))return Qe!==null?null:Ae(oe,re,pe,Me,null);if(typeof pe.then=="function")return xe(oe,re,Mh(pe),Me);if(pe.$$typeof===P)return xe(oe,re,gh(oe,pe),Me);Rh(oe,pe)}return null}function ve(oe,re,pe,Me,Qe){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return oe=oe.get(pe)||null,W(re,oe,""+Me,Qe);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case S:return oe=oe.get(Me.key===null?pe:Me.key)||null,J(re,oe,Me,Qe);case T:return oe=oe.get(Me.key===null?pe:Me.key)||null,me(re,oe,Me,Qe);case G:var qt=Me._init;return Me=qt(Me._payload),ve(oe,re,pe,Me,Qe)}if(ne(Me)||ue(Me))return oe=oe.get(pe)||null,Ae(re,oe,Me,Qe,null);if(typeof Me.then=="function")return ve(oe,re,pe,Mh(Me),Qe);if(Me.$$typeof===P)return ve(oe,re,pe,gh(re,Me),Qe);Rh(re,Me)}return null}function yt(oe,re,pe,Me){for(var Qe=null,qt=null,ct=re,gt=re=0,ji=null;ct!==null&&gt<pe.length;gt++){ct.index>gt?(ji=ct,ct=null):ji=ct.sibling;var an=xe(oe,ct,pe[gt],Me);if(an===null){ct===null&&(ct=ji);break}a&&ct&&an.alternate===null&&c(oe,ct),re=M(an,re,gt),qt===null?Qe=an:qt.sibling=an,qt=an,ct=ji}if(gt===pe.length)return m(oe,ct),cn&&ql(oe,gt),Qe;if(ct===null){for(;gt<pe.length;gt++)ct=De(oe,pe[gt],Me),ct!==null&&(re=M(ct,re,gt),qt===null?Qe=ct:qt.sibling=ct,qt=ct);return cn&&ql(oe,gt),Qe}for(ct=b(ct);gt<pe.length;gt++)ji=ve(ct,oe,gt,pe[gt],Me),ji!==null&&(a&&ji.alternate!==null&&ct.delete(ji.key===null?gt:ji.key),re=M(ji,re,gt),qt===null?Qe=ji:qt.sibling=ji,qt=ji);return a&&ct.forEach(function(Ko){return c(oe,Ko)}),cn&&ql(oe,gt),Qe}function mt(oe,re,pe,Me){if(pe==null)throw Error(i(151));for(var Qe=null,qt=null,ct=re,gt=re=0,ji=null,an=pe.next();ct!==null&&!an.done;gt++,an=pe.next()){ct.index>gt?(ji=ct,ct=null):ji=ct.sibling;var Ko=xe(oe,ct,an.value,Me);if(Ko===null){ct===null&&(ct=ji);break}a&&ct&&Ko.alternate===null&&c(oe,ct),re=M(Ko,re,gt),qt===null?Qe=Ko:qt.sibling=Ko,qt=Ko,ct=ji}if(an.done)return m(oe,ct),cn&&ql(oe,gt),Qe;if(ct===null){for(;!an.done;gt++,an=pe.next())an=De(oe,an.value,Me),an!==null&&(re=M(an,re,gt),qt===null?Qe=an:qt.sibling=an,qt=an);return cn&&ql(oe,gt),Qe}for(ct=b(ct);!an.done;gt++,an=pe.next())an=ve(ct,oe,gt,an.value,Me),an!==null&&(a&&an.alternate!==null&&ct.delete(an.key===null?gt:an.key),re=M(an,re,gt),qt===null?Qe=an:qt.sibling=an,qt=an);return a&&ct.forEach(function(i6){return c(oe,i6)}),cn&&ql(oe,gt),Qe}function Sn(oe,re,pe,Me){if(typeof pe=="object"&&pe!==null&&pe.type===A&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:e:{for(var Qe=pe.key;re!==null;){if(re.key===Qe){if(Qe=pe.type,Qe===A){if(re.tag===7){m(oe,re.sibling),Me=E(re,pe.props.children),Me.return=oe,oe=Me;break e}}else if(re.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===G&&gb(Qe)===re.type){m(oe,re.sibling),Me=E(re,pe.props),Cd(Me,pe),Me.return=oe,oe=Me;break e}m(oe,re);break}else c(oe,re);re=re.sibling}pe.type===A?(Me=$l(pe.props.children,oe.mode,Me,pe.key),Me.return=oe,oe=Me):(Me=fh(pe.type,pe.key,pe.props,null,oe.mode,Me),Cd(Me,pe),Me.return=oe,oe=Me)}return H(oe);case T:e:{for(Qe=pe.key;re!==null;){if(re.key===Qe)if(re.tag===4&&re.stateNode.containerInfo===pe.containerInfo&&re.stateNode.implementation===pe.implementation){m(oe,re.sibling),Me=E(re,pe.children||[]),Me.return=oe,oe=Me;break e}else{m(oe,re);break}else c(oe,re);re=re.sibling}Me=Jm(pe,oe.mode,Me),Me.return=oe,oe=Me}return H(oe);case G:return Qe=pe._init,pe=Qe(pe._payload),Sn(oe,re,pe,Me)}if(ne(pe))return yt(oe,re,pe,Me);if(ue(pe)){if(Qe=ue(pe),typeof Qe!="function")throw Error(i(150));return pe=Qe.call(pe),mt(oe,re,pe,Me)}if(typeof pe.then=="function")return Sn(oe,re,Mh(pe),Me);if(pe.$$typeof===P)return Sn(oe,re,gh(oe,pe),Me);Rh(oe,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,re!==null&&re.tag===6?(m(oe,re.sibling),Me=E(re,pe),Me.return=oe,oe=Me):(m(oe,re),Me=Qm(pe,oe.mode,Me),Me.return=oe,oe=Me),H(oe)):m(oe,re)}return function(oe,re,pe,Me){try{_d=0;var Qe=Sn(oe,re,pe,Me);return nu=null,Qe}catch(ct){if(ct===hd||ct===yh)throw ct;var qt=qr(29,ct,null,oe.mode);return qt.lanes=Me,qt.return=oe,qt}finally{}}}var iu=xb(!0),yb=xb(!1),xs=be(null),ua=null;function Bo(a){var c=a.alternate;Le(Mi,Mi.current&1),Le(xs,a),ua===null&&(c===null||Qc.current!==null||c.memoizedState!==null)&&(ua=a)}function vb(a){if(a.tag===22){if(Le(Mi,Mi.current),Le(xs,a),ua===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(ua=a)}}else Lo()}function Lo(){Le(Mi,Mi.current),Le(xs,xs.current)}function Ha(a){Re(xs),ua===a&&(ua=null),Re(Mi)}var Mi=be(0);function Oh(a){for(var c=a;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||wg(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function I0(a,c,m,b){c=a.memoizedState,m=m(b,c),m=m==null?c:y({},c,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var k0={enqueueSetState:function(a,c,m){a=a._reactInternals;var b=Kr(),E=Io(b);E.payload=c,m!=null&&(E.callback=m),c=ko(a,E,b),c!==null&&(Zr(c,a,b),md(c,a,b))},enqueueReplaceState:function(a,c,m){a=a._reactInternals;var b=Kr(),E=Io(b);E.tag=1,E.payload=c,m!=null&&(E.callback=m),c=ko(a,E,b),c!==null&&(Zr(c,a,b),md(c,a,b))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var m=Kr(),b=Io(m);b.tag=2,c!=null&&(b.callback=c),c=ko(a,b,m),c!==null&&(Zr(c,a,m),md(c,a,m))}};function bb(a,c,m,b,E,M,H){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(b,M,H):c.prototype&&c.prototype.isPureReactComponent?!x(m,b)||!x(E,M):!0}function wb(a,c,m,b){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,b),c.state!==a&&k0.enqueueReplaceState(c,c.state,null)}function Jl(a,c){var m=c;if("ref"in c){m={};for(var b in c)b!=="ref"&&(m[b]=c[b])}if(a=a.defaultProps){m===c&&(m=y({},m));for(var E in a)m[E]===void 0&&(m[E]=a[E])}return m}var Ih=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function _b(a){Ih(a)}function Cb(a){console.error(a)}function Sb(a){Ih(a)}function kh(a,c){try{var m=a.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(b){setTimeout(function(){throw b})}}function Eb(a,c,m){try{var b=a.onCaughtError;b(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function D0(a,c,m){return m=Io(m),m.tag=3,m.payload={element:null},m.callback=function(){kh(a,c)},m}function Ab(a){return a=Io(a),a.tag=3,a}function Tb(a,c,m,b){var E=m.type.getDerivedStateFromError;if(typeof E=="function"){var M=b.value;a.payload=function(){return E(M)},a.callback=function(){Eb(c,m,b)}}var H=m.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(a.callback=function(){Eb(c,m,b),typeof E!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var W=b.stack;this.componentDidCatch(b.value,{componentStack:W!==null?W:""})})}function iN(a,c,m,b,E){if(m.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(c=m.alternate,c!==null&&ud(c,m,E,!0),m=xs.current,m!==null){switch(m.tag){case 13:return ua===null?rg():m.alternate===null&&Qn===0&&(Qn=3),m.flags&=-257,m.flags|=65536,m.lanes=E,b===c0?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([b]):c.add(b),ag(a,b,E)),!1;case 22:return m.flags|=65536,b===c0?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([b])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([b]):m.add(b)),ag(a,b,E)),!1}throw Error(i(435,m.tag))}return ag(a,b,E),rg(),!1}if(cn)return c=xs.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,b!==n0&&(a=Error(i(422),{cause:b}),cd(hs(a,m)))):(b!==n0&&(c=Error(i(423),{cause:b}),cd(hs(c,m))),a=a.current.alternate,a.flags|=65536,E&=-E,a.lanes|=E,b=hs(b,m),E=D0(a.stateNode,b,E),f0(a,E),Qn!==4&&(Qn=2)),!1;var M=Error(i(520),{cause:b});if(M=hs(M,m),Rd===null?Rd=[M]:Rd.push(M),Qn!==4&&(Qn=2),c===null)return!0;b=hs(b,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,a=E&-E,m.lanes|=a,a=D0(m.stateNode,b,a),f0(m,a),!1;case 1:if(c=m.type,M=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Uo===null||!Uo.has(M))))return m.flags|=65536,E&=-E,m.lanes|=E,E=Ab(E),Tb(E,a,m,b),f0(m,E),!1}m=m.return}while(m!==null);return!1}var Nb=Error(i(461)),Bi=!1;function Wi(a,c,m,b){c.child=a===null?yb(c,null,m,b):iu(c,a.child,m,b)}function Mb(a,c,m,b,E){m=m.render;var M=c.ref;if("ref"in b){var H={};for(var W in b)W!=="ref"&&(H[W]=b[W])}else H=b;return Kl(c),b=x0(a,c,m,H,M,E),W=y0(),a!==null&&!Bi?(v0(a,c,E),Ua(a,c,E)):(cn&&W&&e0(c),c.flags|=1,Wi(a,c,b,E),c.child)}function Rb(a,c,m,b,E){if(a===null){var M=m.type;return typeof M=="function"&&!Zm(M)&&M.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=M,Ob(a,c,M,b,E)):(a=fh(m.type,null,b,c,c.mode,E),a.ref=c.ref,a.return=c,c.child=a)}if(M=a.child,!U0(a,E)){var H=M.memoizedProps;if(m=m.compare,m=m!==null?m:x,m(H,b)&&a.ref===c.ref)return Ua(a,c,E)}return c.flags|=1,a=Ba(M,b),a.ref=c.ref,a.return=c,c.child=a}function Ob(a,c,m,b,E){if(a!==null){var M=a.memoizedProps;if(x(M,b)&&a.ref===c.ref)if(Bi=!1,c.pendingProps=b=M,U0(a,E))(a.flags&131072)!==0&&(Bi=!0);else return c.lanes=a.lanes,Ua(a,c,E)}return B0(a,c,m,b,E)}function Ib(a,c,m){var b=c.pendingProps,E=b.children,M=a!==null?a.memoizedState:null;if(b.mode==="hidden"){if((c.flags&128)!==0){if(b=M!==null?M.baseLanes|m:m,a!==null){for(E=c.child=a.child,M=0;E!==null;)M=M|E.lanes|E.childLanes,E=E.sibling;c.childLanes=M&~b}else c.childLanes=0,c.child=null;return kb(a,c,b,m)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&xh(c,M!==null?M.cachePool:null),M!==null?Ov(c,M):p0(),vb(c);else return c.lanes=c.childLanes=536870912,kb(a,c,M!==null?M.baseLanes|m:m,m)}else M!==null?(xh(c,M.cachePool),Ov(c,M),Lo(),c.memoizedState=null):(a!==null&&xh(c,null),p0(),Lo());return Wi(a,c,E,m),c.child}function kb(a,c,m,b){var E=l0();return E=E===null?null:{parent:Ni._currentValue,pool:E},c.memoizedState={baseLanes:m,cachePool:E},a!==null&&xh(c,null),p0(),vb(c),a!==null&&ud(a,c,b,!0),null}function Dh(a,c){var m=c.ref;if(m===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(a===null||a.ref!==m)&&(c.flags|=4194816)}}function B0(a,c,m,b,E){return Kl(c),m=x0(a,c,m,b,void 0,E),b=y0(),a!==null&&!Bi?(v0(a,c,E),Ua(a,c,E)):(cn&&b&&e0(c),c.flags|=1,Wi(a,c,m,E),c.child)}function Db(a,c,m,b,E,M){return Kl(c),c.updateQueue=null,m=kv(c,b,m,E),Iv(a),b=y0(),a!==null&&!Bi?(v0(a,c,M),Ua(a,c,M)):(cn&&b&&e0(c),c.flags|=1,Wi(a,c,m,M),c.child)}function Bb(a,c,m,b,E){if(Kl(c),c.stateNode===null){var M=Wc,H=m.contextType;typeof H=="object"&&H!==null&&(M=rr(H)),M=new m(b,M),c.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=k0,c.stateNode=M,M._reactInternals=c,M=c.stateNode,M.props=b,M.state=c.memoizedState,M.refs={},u0(c),H=m.contextType,M.context=typeof H=="object"&&H!==null?rr(H):Wc,M.state=c.memoizedState,H=m.getDerivedStateFromProps,typeof H=="function"&&(I0(c,m,H,b),M.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(H=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),H!==M.state&&k0.enqueueReplaceState(M,M.state,null),xd(c,b,M,E),gd(),M.state=c.memoizedState),typeof M.componentDidMount=="function"&&(c.flags|=4194308),b=!0}else if(a===null){M=c.stateNode;var W=c.memoizedProps,J=Jl(m,W);M.props=J;var me=M.context,Ae=m.contextType;H=Wc,typeof Ae=="object"&&Ae!==null&&(H=rr(Ae));var De=m.getDerivedStateFromProps;Ae=typeof De=="function"||typeof M.getSnapshotBeforeUpdate=="function",W=c.pendingProps!==W,Ae||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(W||me!==H)&&wb(c,M,b,H),Oo=!1;var xe=c.memoizedState;M.state=xe,xd(c,b,M,E),gd(),me=c.memoizedState,W||xe!==me||Oo?(typeof De=="function"&&(I0(c,m,De,b),me=c.memoizedState),(J=Oo||bb(c,m,J,b,xe,me,H))?(Ae||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(c.flags|=4194308)):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=b,c.memoizedState=me),M.props=b,M.state=me,M.context=H,b=J):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),b=!1)}else{M=c.stateNode,d0(a,c),H=c.memoizedProps,Ae=Jl(m,H),M.props=Ae,De=c.pendingProps,xe=M.context,me=m.contextType,J=Wc,typeof me=="object"&&me!==null&&(J=rr(me)),W=m.getDerivedStateFromProps,(me=typeof W=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==De||xe!==J)&&wb(c,M,b,J),Oo=!1,xe=c.memoizedState,M.state=xe,xd(c,b,M,E),gd();var ve=c.memoizedState;H!==De||xe!==ve||Oo||a!==null&&a.dependencies!==null&&mh(a.dependencies)?(typeof W=="function"&&(I0(c,m,W,b),ve=c.memoizedState),(Ae=Oo||bb(c,m,Ae,b,xe,ve,J)||a!==null&&a.dependencies!==null&&mh(a.dependencies))?(me||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(b,ve,J),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(b,ve,J)),typeof M.componentDidUpdate=="function"&&(c.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof M.componentDidUpdate!="function"||H===a.memoizedProps&&xe===a.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&xe===a.memoizedState||(c.flags|=1024),c.memoizedProps=b,c.memoizedState=ve),M.props=b,M.state=ve,M.context=J,b=Ae):(typeof M.componentDidUpdate!="function"||H===a.memoizedProps&&xe===a.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&xe===a.memoizedState||(c.flags|=1024),b=!1)}return M=b,Dh(a,c),b=(c.flags&128)!==0,M||b?(M=c.stateNode,m=b&&typeof m.getDerivedStateFromError!="function"?null:M.render(),c.flags|=1,a!==null&&b?(c.child=iu(c,a.child,null,E),c.child=iu(c,null,m,E)):Wi(a,c,m,E),c.memoizedState=M.state,a=c.child):a=Ua(a,c,E),a}function Lb(a,c,m,b){return ld(),c.flags|=256,Wi(a,c,m,b),c.child}var L0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function j0(a){return{baseLanes:a,cachePool:Cv()}}function P0(a,c,m){return a=a!==null?a.childLanes&~m:0,c&&(a|=ys),a}function jb(a,c,m){var b=c.pendingProps,E=!1,M=(c.flags&128)!==0,H;if((H=M)||(H=a!==null&&a.memoizedState===null?!1:(Mi.current&2)!==0),H&&(E=!0,c.flags&=-129),H=(c.flags&32)!==0,c.flags&=-33,a===null){if(cn){if(E?Bo(c):Lo(),cn){var W=Zn,J;if(J=W){e:{for(J=W,W=ca;J.nodeType!==8;){if(!W){W=null;break e}if(J=zs(J.nextSibling),J===null){W=null;break e}}W=J}W!==null?(c.memoizedState={dehydrated:W,treeContext:Gl!==null?{id:La,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},J=qr(18,null,null,0),J.stateNode=W,J.return=c,c.child=J,gr=c,Zn=null,J=!0):J=!1}J||Xl(c)}if(W=c.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return wg(W)?c.lanes=32:c.lanes=536870912,null;Ha(c)}return W=b.children,b=b.fallback,E?(Lo(),E=c.mode,W=Bh({mode:"hidden",children:W},E),b=$l(b,E,m,null),W.return=c,b.return=c,W.sibling=b,c.child=W,E=c.child,E.memoizedState=j0(m),E.childLanes=P0(a,H,m),c.memoizedState=L0,b):(Bo(c),F0(c,W))}if(J=a.memoizedState,J!==null&&(W=J.dehydrated,W!==null)){if(M)c.flags&256?(Bo(c),c.flags&=-257,c=z0(a,c,m)):c.memoizedState!==null?(Lo(),c.child=a.child,c.flags|=128,c=null):(Lo(),E=b.fallback,W=c.mode,b=Bh({mode:"visible",children:b.children},W),E=$l(E,W,m,null),E.flags|=2,b.return=c,E.return=c,b.sibling=E,c.child=b,iu(c,a.child,null,m),b=c.child,b.memoizedState=j0(m),b.childLanes=P0(a,H,m),c.memoizedState=L0,c=E);else if(Bo(c),wg(W)){if(H=W.nextSibling&&W.nextSibling.dataset,H)var me=H.dgst;H=me,b=Error(i(419)),b.stack="",b.digest=H,cd({value:b,source:null,stack:null}),c=z0(a,c,m)}else if(Bi||ud(a,c,m,!1),H=(m&a.childLanes)!==0,Bi||H){if(H=Rn,H!==null&&(b=m&-m,b=(b&42)!==0?1:Ta(b),b=(b&(H.suspendedLanes|m))!==0?0:b,b!==0&&b!==J.retryLane))throw J.retryLane=b,qc(a,b),Zr(H,a,b),Nb;W.data==="$?"||rg(),c=z0(a,c,m)}else W.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=J.treeContext,Zn=zs(W.nextSibling),gr=c,cn=!0,Wl=null,ca=!1,a!==null&&(ms[gs++]=La,ms[gs++]=ja,ms[gs++]=Gl,La=a.id,ja=a.overflow,Gl=c),c=F0(c,b.children),c.flags|=4096);return c}return E?(Lo(),E=b.fallback,W=c.mode,J=a.child,me=J.sibling,b=Ba(J,{mode:"hidden",children:b.children}),b.subtreeFlags=J.subtreeFlags&65011712,me!==null?E=Ba(me,E):(E=$l(E,W,m,null),E.flags|=2),E.return=c,b.return=c,b.sibling=E,c.child=b,b=E,E=c.child,W=a.child.memoizedState,W===null?W=j0(m):(J=W.cachePool,J!==null?(me=Ni._currentValue,J=J.parent!==me?{parent:me,pool:me}:J):J=Cv(),W={baseLanes:W.baseLanes|m,cachePool:J}),E.memoizedState=W,E.childLanes=P0(a,H,m),c.memoizedState=L0,b):(Bo(c),m=a.child,a=m.sibling,m=Ba(m,{mode:"visible",children:b.children}),m.return=c,m.sibling=null,a!==null&&(H=c.deletions,H===null?(c.deletions=[a],c.flags|=16):H.push(a)),c.child=m,c.memoizedState=null,m)}function F0(a,c){return c=Bh({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function Bh(a,c){return a=qr(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function z0(a,c,m){return iu(c,a.child,null,m),a=F0(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function Pb(a,c,m){a.lanes|=c;var b=a.alternate;b!==null&&(b.lanes|=c),r0(a.return,c,m)}function H0(a,c,m,b,E){var M=a.memoizedState;M===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:E}:(M.isBackwards=c,M.rendering=null,M.renderingStartTime=0,M.last=b,M.tail=m,M.tailMode=E)}function Fb(a,c,m){var b=c.pendingProps,E=b.revealOrder,M=b.tail;if(Wi(a,c,b.children,m),b=Mi.current,(b&2)!==0)b=b&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Pb(a,m,c);else if(a.tag===19)Pb(a,m,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}b&=1}switch(Le(Mi,b),E){case"forwards":for(m=c.child,E=null;m!==null;)a=m.alternate,a!==null&&Oh(a)===null&&(E=m),m=m.sibling;m=E,m===null?(E=c.child,c.child=null):(E=m.sibling,m.sibling=null),H0(c,!1,E,m,M);break;case"backwards":for(m=null,E=c.child,c.child=null;E!==null;){if(a=E.alternate,a!==null&&Oh(a)===null){c.child=E;break}a=E.sibling,E.sibling=m,m=E,E=a}H0(c,!0,m,null,M);break;case"together":H0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Ua(a,c,m){if(a!==null&&(c.dependencies=a.dependencies),Ho|=c.lanes,(m&c.childLanes)===0)if(a!==null){if(ud(a,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(i(153));if(c.child!==null){for(a=c.child,m=Ba(a,a.pendingProps),c.child=m,m.return=c;a.sibling!==null;)a=a.sibling,m=m.sibling=Ba(a,a.pendingProps),m.return=c;m.sibling=null}return c.child}function U0(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&mh(a)))}function rN(a,c,m){switch(c.tag){case 3:xt(c,c.stateNode.containerInfo),Ro(c,Ni,a.memoizedState.cache),ld();break;case 27:case 5:un(c);break;case 4:xt(c,c.stateNode.containerInfo);break;case 10:Ro(c,c.type,c.memoizedProps.value);break;case 13:var b=c.memoizedState;if(b!==null)return b.dehydrated!==null?(Bo(c),c.flags|=128,null):(m&c.child.childLanes)!==0?jb(a,c,m):(Bo(c),a=Ua(a,c,m),a!==null?a.sibling:null);Bo(c);break;case 19:var E=(a.flags&128)!==0;if(b=(m&c.childLanes)!==0,b||(ud(a,c,m,!1),b=(m&c.childLanes)!==0),E){if(b)return Fb(a,c,m);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Le(Mi,Mi.current),b)break;return null;case 22:case 23:return c.lanes=0,Ib(a,c,m);case 24:Ro(c,Ni,a.memoizedState.cache)}return Ua(a,c,m)}function zb(a,c,m){if(a!==null)if(a.memoizedProps!==c.pendingProps)Bi=!0;else{if(!U0(a,m)&&(c.flags&128)===0)return Bi=!1,rN(a,c,m);Bi=(a.flags&131072)!==0}else Bi=!1,cn&&(c.flags&1048576)!==0&&gv(c,ph,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var b=c.elementType,E=b._init;if(b=E(b._payload),c.type=b,typeof b=="function")Zm(b)?(a=Jl(b,a),c.tag=1,c=Bb(null,c,b,a,m)):(c.tag=0,c=B0(null,c,b,a,m));else{if(b!=null){if(E=b.$$typeof,E===R){c.tag=11,c=Mb(null,c,b,a,m);break e}else if(E===z){c.tag=14,c=Rb(null,c,b,a,m);break e}}throw c=Te(b)||b,Error(i(306,c,""))}}return c;case 0:return B0(a,c,c.type,c.pendingProps,m);case 1:return b=c.type,E=Jl(b,c.pendingProps),Bb(a,c,b,E,m);case 3:e:{if(xt(c,c.stateNode.containerInfo),a===null)throw Error(i(387));b=c.pendingProps;var M=c.memoizedState;E=M.element,d0(a,c),xd(c,b,null,m);var H=c.memoizedState;if(b=H.cache,Ro(c,Ni,b),b!==M.cache&&s0(c,[Ni],m,!0),gd(),b=H.element,M.isDehydrated)if(M={element:b,isDehydrated:!1,cache:H.cache},c.updateQueue.baseState=M,c.memoizedState=M,c.flags&256){c=Lb(a,c,b,m);break e}else if(b!==E){E=hs(Error(i(424)),c),cd(E),c=Lb(a,c,b,m);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Zn=zs(a.firstChild),gr=c,cn=!0,Wl=null,ca=!0,m=yb(c,null,b,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(ld(),b===E){c=Ua(a,c,m);break e}Wi(a,c,b,m)}c=c.child}return c;case 26:return Dh(a,c),a===null?(m=$w(c.type,null,c.pendingProps,null))?c.memoizedState=m:cn||(m=c.type,a=c.pendingProps,b=Yh(Se.current).createElement(m),b[ke]=c,b[ze]=a,Yi(b,m,a),Nt(b),c.stateNode=b):c.memoizedState=$w(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return un(c),a===null&&cn&&(b=c.stateNode=Hw(c.type,c.pendingProps,Se.current),gr=c,ca=!0,E=Zn,Go(c.type)?(_g=E,Zn=zs(b.firstChild)):Zn=E),Wi(a,c,c.pendingProps.children,m),Dh(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&cn&&((E=b=Zn)&&(b=IN(b,c.type,c.pendingProps,ca),b!==null?(c.stateNode=b,gr=c,Zn=zs(b.firstChild),ca=!1,E=!0):E=!1),E||Xl(c)),un(c),E=c.type,M=c.pendingProps,H=a!==null?a.memoizedProps:null,b=M.children,yg(E,M)?b=null:H!==null&&yg(E,H)&&(c.flags|=32),c.memoizedState!==null&&(E=x0(a,c,K8,null,null,m),Fd._currentValue=E),Dh(a,c),Wi(a,c,b,m),c.child;case 6:return a===null&&cn&&((a=m=Zn)&&(m=kN(m,c.pendingProps,ca),m!==null?(c.stateNode=m,gr=c,Zn=null,a=!0):a=!1),a||Xl(c)),null;case 13:return jb(a,c,m);case 4:return xt(c,c.stateNode.containerInfo),b=c.pendingProps,a===null?c.child=iu(c,null,b,m):Wi(a,c,b,m),c.child;case 11:return Mb(a,c,c.type,c.pendingProps,m);case 7:return Wi(a,c,c.pendingProps,m),c.child;case 8:return Wi(a,c,c.pendingProps.children,m),c.child;case 12:return Wi(a,c,c.pendingProps.children,m),c.child;case 10:return b=c.pendingProps,Ro(c,c.type,b.value),Wi(a,c,b.children,m),c.child;case 9:return E=c.type._context,b=c.pendingProps.children,Kl(c),E=rr(E),b=b(E),c.flags|=1,Wi(a,c,b,m),c.child;case 14:return Rb(a,c,c.type,c.pendingProps,m);case 15:return Ob(a,c,c.type,c.pendingProps,m);case 19:return Fb(a,c,m);case 31:return b=c.pendingProps,m=c.mode,b={mode:b.mode,children:b.children},a===null?(m=Bh(b,m),m.ref=c.ref,c.child=m,m.return=c,c=m):(m=Ba(a.child,b),m.ref=c.ref,c.child=m,m.return=c,c=m),c;case 22:return Ib(a,c,m);case 24:return Kl(c),b=rr(Ni),a===null?(E=l0(),E===null&&(E=Rn,M=a0(),E.pooledCache=M,M.refCount++,M!==null&&(E.pooledCacheLanes|=m),E=M),c.memoizedState={parent:b,cache:E},u0(c),Ro(c,Ni,E)):((a.lanes&m)!==0&&(d0(a,c),xd(c,null,null,m),gd()),E=a.memoizedState,M=c.memoizedState,E.parent!==b?(E={parent:b,cache:b},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),Ro(c,Ni,b)):(b=M.cache,Ro(c,Ni,b),b!==E.cache&&s0(c,[Ni],m,!0))),Wi(a,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function Va(a){a.flags|=4}function Hb(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Yw(c)){if(c=xs.current,c!==null&&((nn&4194048)===nn?ua!==null:(nn&62914560)!==nn&&(nn&536870912)===0||c!==ua))throw pd=c0,Sv;a.flags|=8192}}function Lh(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?kl():536870912,a.lanes|=c,ou|=c)}function Sd(a,c){if(!cn)switch(a.tailMode){case"hidden":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:b.sibling=null}}function $n(a){var c=a.alternate!==null&&a.alternate.child===a.child,m=0,b=0;if(c)for(var E=a.child;E!==null;)m|=E.lanes|E.childLanes,b|=E.subtreeFlags&65011712,b|=E.flags&65011712,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)m|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=b,a.childLanes=m,c}function sN(a,c,m){var b=c.pendingProps;switch(t0(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(c),null;case 1:return $n(c),null;case 3:return m=c.stateNode,b=null,a!==null&&(b=a.memoizedState.cache),c.memoizedState.cache!==b&&(c.flags|=2048),Fa(Ni),bi(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(od(c)?Va(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,vv())),$n(c),null;case 26:return m=c.memoizedState,a===null?(Va(c),m!==null?($n(c),Hb(c,m)):($n(c),c.flags&=-16777217)):m?m!==a.memoizedState?(Va(c),$n(c),Hb(c,m)):($n(c),c.flags&=-16777217):(a.memoizedProps!==b&&Va(c),$n(c),c.flags&=-16777217),null;case 27:ln(c),m=Se.current;var E=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==b&&Va(c);else{if(!b){if(c.stateNode===null)throw Error(i(166));return $n(c),null}a=Ie.current,od(c)?xv(c):(a=Hw(E,b,m),c.stateNode=a,Va(c))}return $n(c),null;case 5:if(ln(c),m=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==b&&Va(c);else{if(!b){if(c.stateNode===null)throw Error(i(166));return $n(c),null}if(a=Ie.current,od(c))xv(c);else{switch(E=Yh(Se.current),a){case 1:a=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:a=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":a=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":a=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":a=E.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof b.is=="string"?E.createElement("select",{is:b.is}):E.createElement("select"),b.multiple?a.multiple=!0:b.size&&(a.size=b.size);break;default:a=typeof b.is=="string"?E.createElement(m,{is:b.is}):E.createElement(m)}}a[ke]=c,a[ze]=b;e:for(E=c.child;E!==null;){if(E.tag===5||E.tag===6)a.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===c)break e;for(;E.sibling===null;){if(E.return===null||E.return===c)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}c.stateNode=a;e:switch(Yi(a,m,b),m){case"button":case"input":case"select":case"textarea":a=!!b.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Va(c)}}return $n(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==b&&Va(c);else{if(typeof b!="string"&&c.stateNode===null)throw Error(i(166));if(a=Se.current,od(c)){if(a=c.stateNode,m=c.memoizedProps,b=null,E=gr,E!==null)switch(E.tag){case 27:case 5:b=E.memoizedProps}a[ke]=c,a=!!(a.nodeValue===m||b!==null&&b.suppressHydrationWarning===!0||Dw(a.nodeValue,m)),a||Xl(c)}else a=Yh(a).createTextNode(b),a[ke]=c,c.stateNode=a}return $n(c),null;case 13:if(b=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(E=od(c),b!==null&&b.dehydrated!==null){if(a===null){if(!E)throw Error(i(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));E[ke]=c}else ld(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;$n(c),E=!1}else E=vv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(Ha(c),c):(Ha(c),null)}if(Ha(c),(c.flags&128)!==0)return c.lanes=m,c;if(m=b!==null,a=a!==null&&a.memoizedState!==null,m){b=c.child,E=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(E=b.alternate.memoizedState.cachePool.pool);var M=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(M=b.memoizedState.cachePool.pool),M!==E&&(b.flags|=2048)}return m!==a&&m&&(c.child.flags|=8192),Lh(c,c.updateQueue),$n(c),null;case 4:return bi(),a===null&&hg(c.stateNode.containerInfo),$n(c),null;case 10:return Fa(c.type),$n(c),null;case 19:if(Re(Mi),E=c.memoizedState,E===null)return $n(c),null;if(b=(c.flags&128)!==0,M=E.rendering,M===null)if(b)Sd(E,!1);else{if(Qn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(M=Oh(a),M!==null){for(c.flags|=128,Sd(E,!1),a=M.updateQueue,c.updateQueue=a,Lh(c,a),c.subtreeFlags=0,a=m,m=c.child;m!==null;)mv(m,a),m=m.sibling;return Le(Mi,Mi.current&1|2),c.child}a=a.sibling}E.tail!==null&&$t()>Fh&&(c.flags|=128,b=!0,Sd(E,!1),c.lanes=4194304)}else{if(!b)if(a=Oh(M),a!==null){if(c.flags|=128,b=!0,a=a.updateQueue,c.updateQueue=a,Lh(c,a),Sd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!M.alternate&&!cn)return $n(c),null}else 2*$t()-E.renderingStartTime>Fh&&m!==536870912&&(c.flags|=128,b=!0,Sd(E,!1),c.lanes=4194304);E.isBackwards?(M.sibling=c.child,c.child=M):(a=E.last,a!==null?a.sibling=M:c.child=M,E.last=M)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=$t(),c.sibling=null,a=Mi.current,Le(Mi,b?a&1|2:a&1),c):($n(c),null);case 22:case 23:return Ha(c),m0(),b=c.memoizedState!==null,a!==null?a.memoizedState!==null!==b&&(c.flags|=8192):b&&(c.flags|=8192),b?(m&536870912)!==0&&(c.flags&128)===0&&($n(c),c.subtreeFlags&6&&(c.flags|=8192)):$n(c),m=c.updateQueue,m!==null&&Lh(c,m.retryQueue),m=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==m&&(c.flags|=2048),a!==null&&Re(Zl),null;case 24:return m=null,a!==null&&(m=a.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Fa(Ni),$n(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function aN(a,c){switch(t0(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Fa(Ni),bi(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return ln(c),null;case 13:if(Ha(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(i(340));ld()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Re(Mi),null;case 4:return bi(),null;case 10:return Fa(c.type),null;case 22:case 23:return Ha(c),m0(),a!==null&&Re(Zl),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return Fa(Ni),null;case 25:return null;default:return null}}function Ub(a,c){switch(t0(c),c.tag){case 3:Fa(Ni),bi();break;case 26:case 27:case 5:ln(c);break;case 4:bi();break;case 13:Ha(c);break;case 19:Re(Mi);break;case 10:Fa(c.type);break;case 22:case 23:Ha(c),m0(),a!==null&&Re(Zl);break;case 24:Fa(Ni)}}function Ed(a,c){try{var m=c.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var E=b.next;m=E;do{if((m.tag&a)===a){b=void 0;var M=m.create,H=m.inst;b=M(),H.destroy=b}m=m.next}while(m!==E)}}catch(W){Tn(c,c.return,W)}}function jo(a,c,m){try{var b=c.updateQueue,E=b!==null?b.lastEffect:null;if(E!==null){var M=E.next;b=M;do{if((b.tag&a)===a){var H=b.inst,W=H.destroy;if(W!==void 0){H.destroy=void 0,E=c;var J=m,me=W;try{me()}catch(Ae){Tn(E,J,Ae)}}}b=b.next}while(b!==M)}}catch(Ae){Tn(c,c.return,Ae)}}function Vb(a){var c=a.updateQueue;if(c!==null){var m=a.stateNode;try{Rv(c,m)}catch(b){Tn(a,a.return,b)}}}function $b(a,c,m){m.props=Jl(a.type,a.memoizedProps),m.state=a.memoizedState;try{m.componentWillUnmount()}catch(b){Tn(a,c,b)}}function Ad(a,c){try{var m=a.ref;if(m!==null){switch(a.tag){case 26:case 27:case 5:var b=a.stateNode;break;case 30:b=a.stateNode;break;default:b=a.stateNode}typeof m=="function"?a.refCleanup=m(b):m.current=b}}catch(E){Tn(a,c,E)}}function da(a,c){var m=a.ref,b=a.refCleanup;if(m!==null)if(typeof b=="function")try{b()}catch(E){Tn(a,c,E)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(E){Tn(a,c,E)}else m.current=null}function Gb(a){var c=a.type,m=a.memoizedProps,b=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&b.focus();break e;case"img":m.src?b.src=m.src:m.srcSet&&(b.srcset=m.srcSet)}}catch(E){Tn(a,a.return,E)}}function V0(a,c,m){try{var b=a.stateNode;TN(b,a.type,m,c),b[ze]=c}catch(E){Tn(a,a.return,E)}}function qb(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Go(a.type)||a.tag===4}function $0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||qb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Go(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function G0(a,c,m){var b=a.tag;if(b===5||b===6)a=a.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(a,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(a),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Xh));else if(b!==4&&(b===27&&Go(a.type)&&(m=a.stateNode,c=null),a=a.child,a!==null))for(G0(a,c,m),a=a.sibling;a!==null;)G0(a,c,m),a=a.sibling}function jh(a,c,m){var b=a.tag;if(b===5||b===6)a=a.stateNode,c?m.insertBefore(a,c):m.appendChild(a);else if(b!==4&&(b===27&&Go(a.type)&&(m=a.stateNode),a=a.child,a!==null))for(jh(a,c,m),a=a.sibling;a!==null;)jh(a,c,m),a=a.sibling}function Wb(a){var c=a.stateNode,m=a.memoizedProps;try{for(var b=a.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);Yi(c,b,m),c[ke]=a,c[ze]=m}catch(M){Tn(a,a.return,M)}}var $a=!1,li=!1,q0=!1,Xb=typeof WeakSet=="function"?WeakSet:Set,Li=null;function oN(a,c){if(a=a.containerInfo,gg=tp,a=I(a),j(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var E=b.anchorOffset,M=b.focusNode;b=b.focusOffset;try{m.nodeType,M.nodeType}catch{m=null;break e}var H=0,W=-1,J=-1,me=0,Ae=0,De=a,xe=null;t:for(;;){for(var ve;De!==m||E!==0&&De.nodeType!==3||(W=H+E),De!==M||b!==0&&De.nodeType!==3||(J=H+b),De.nodeType===3&&(H+=De.nodeValue.length),(ve=De.firstChild)!==null;)xe=De,De=ve;for(;;){if(De===a)break t;if(xe===m&&++me===E&&(W=H),xe===M&&++Ae===b&&(J=H),(ve=De.nextSibling)!==null)break;De=xe,xe=De.parentNode}De=ve}m=W===-1||J===-1?null:{start:W,end:J}}else m=null}m=m||{start:0,end:0}}else m=null;for(xg={focusedElem:a,selectionRange:m},tp=!1,Li=c;Li!==null;)if(c=Li,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,Li=a;else for(;Li!==null;){switch(c=Li,M=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&M!==null){a=void 0,m=c,E=M.memoizedProps,M=M.memoizedState,b=m.stateNode;try{var yt=Jl(m.type,E,m.elementType===m.type);a=b.getSnapshotBeforeUpdate(yt,M),b.__reactInternalSnapshotBeforeUpdate=a}catch(mt){Tn(m,m.return,mt)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,m=a.nodeType,m===9)bg(a);else if(m===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":bg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=c.sibling,a!==null){a.return=c.return,Li=a;break}Li=c.return}}function Yb(a,c,m){var b=m.flags;switch(m.tag){case 0:case 11:case 15:Po(a,m),b&4&&Ed(5,m);break;case 1:if(Po(a,m),b&4)if(a=m.stateNode,c===null)try{a.componentDidMount()}catch(H){Tn(m,m.return,H)}else{var E=Jl(m.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(E,c,a.__reactInternalSnapshotBeforeUpdate)}catch(H){Tn(m,m.return,H)}}b&64&&Vb(m),b&512&&Ad(m,m.return);break;case 3:if(Po(a,m),b&64&&(a=m.updateQueue,a!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{Rv(a,c)}catch(H){Tn(m,m.return,H)}}break;case 27:c===null&&b&4&&Wb(m);case 26:case 5:Po(a,m),c===null&&b&4&&Gb(m),b&512&&Ad(m,m.return);break;case 12:Po(a,m);break;case 13:Po(a,m),b&4&&Qb(a,m),b&64&&(a=m.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(m=gN.bind(null,m),DN(a,m))));break;case 22:if(b=m.memoizedState!==null||$a,!b){c=c!==null&&c.memoizedState!==null||li,E=$a;var M=li;$a=b,(li=c)&&!M?Fo(a,m,(m.subtreeFlags&8772)!==0):Po(a,m),$a=E,li=M}break;case 30:break;default:Po(a,m)}}function Kb(a){var c=a.alternate;c!==null&&(a.alternate=null,Kb(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&nt(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Fn=null,Ir=!1;function Ga(a,c,m){for(m=m.child;m!==null;)Zb(a,c,m),m=m.sibling}function Zb(a,c,m){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(bt,m)}catch{}switch(m.tag){case 26:li||da(m,c),Ga(a,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:li||da(m,c);var b=Fn,E=Ir;Go(m.type)&&(Fn=m.stateNode,Ir=!1),Ga(a,c,m),Bd(m.stateNode),Fn=b,Ir=E;break;case 5:li||da(m,c);case 6:if(b=Fn,E=Ir,Fn=null,Ga(a,c,m),Fn=b,Ir=E,Fn!==null)if(Ir)try{(Fn.nodeType===9?Fn.body:Fn.nodeName==="HTML"?Fn.ownerDocument.body:Fn).removeChild(m.stateNode)}catch(M){Tn(m,c,M)}else try{Fn.removeChild(m.stateNode)}catch(M){Tn(m,c,M)}break;case 18:Fn!==null&&(Ir?(a=Fn,Fw(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,m.stateNode),Vd(a)):Fw(Fn,m.stateNode));break;case 4:b=Fn,E=Ir,Fn=m.stateNode.containerInfo,Ir=!0,Ga(a,c,m),Fn=b,Ir=E;break;case 0:case 11:case 14:case 15:li||jo(2,m,c),li||jo(4,m,c),Ga(a,c,m);break;case 1:li||(da(m,c),b=m.stateNode,typeof b.componentWillUnmount=="function"&&$b(m,c,b)),Ga(a,c,m);break;case 21:Ga(a,c,m);break;case 22:li=(b=li)||m.memoizedState!==null,Ga(a,c,m),li=b;break;default:Ga(a,c,m)}}function Qb(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Vd(a)}catch(m){Tn(c,c.return,m)}}function lN(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new Xb),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new Xb),c;default:throw Error(i(435,a.tag))}}function W0(a,c){var m=lN(a);c.forEach(function(b){var E=xN.bind(null,a,b);m.has(b)||(m.add(b),b.then(E,E))})}function Wr(a,c){var m=c.deletions;if(m!==null)for(var b=0;b<m.length;b++){var E=m[b],M=a,H=c,W=H;e:for(;W!==null;){switch(W.tag){case 27:if(Go(W.type)){Fn=W.stateNode,Ir=!1;break e}break;case 5:Fn=W.stateNode,Ir=!1;break e;case 3:case 4:Fn=W.stateNode.containerInfo,Ir=!0;break e}W=W.return}if(Fn===null)throw Error(i(160));Zb(M,H,E),Fn=null,Ir=!1,M=E.alternate,M!==null&&(M.return=null),E.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)Jb(c,a),c=c.sibling}var Fs=null;function Jb(a,c){var m=a.alternate,b=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Wr(c,a),Xr(a),b&4&&(jo(3,a,a.return),Ed(3,a),jo(5,a,a.return));break;case 1:Wr(c,a),Xr(a),b&512&&(li||m===null||da(m,m.return)),b&64&&$a&&(a=a.updateQueue,a!==null&&(b=a.callbacks,b!==null&&(m=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=m===null?b:m.concat(b))));break;case 26:var E=Fs;if(Wr(c,a),Xr(a),b&512&&(li||m===null||da(m,m.return)),b&4){var M=m!==null?m.memoizedState:null;if(b=a.memoizedState,m===null)if(b===null)if(a.stateNode===null){e:{b=a.type,m=a.memoizedProps,E=E.ownerDocument||E;t:switch(b){case"title":M=E.getElementsByTagName("title")[0],(!M||M[ut]||M[ke]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=E.createElement(b),E.head.insertBefore(M,E.querySelector("head > title"))),Yi(M,b,m),M[ke]=a,Nt(M),b=M;break e;case"link":var H=Ww("link","href",E).get(b+(m.href||""));if(H){for(var W=0;W<H.length;W++)if(M=H[W],M.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&M.getAttribute("rel")===(m.rel==null?null:m.rel)&&M.getAttribute("title")===(m.title==null?null:m.title)&&M.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){H.splice(W,1);break t}}M=E.createElement(b),Yi(M,b,m),E.head.appendChild(M);break;case"meta":if(H=Ww("meta","content",E).get(b+(m.content||""))){for(W=0;W<H.length;W++)if(M=H[W],M.getAttribute("content")===(m.content==null?null:""+m.content)&&M.getAttribute("name")===(m.name==null?null:m.name)&&M.getAttribute("property")===(m.property==null?null:m.property)&&M.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&M.getAttribute("charset")===(m.charSet==null?null:m.charSet)){H.splice(W,1);break t}}M=E.createElement(b),Yi(M,b,m),E.head.appendChild(M);break;default:throw Error(i(468,b))}M[ke]=a,Nt(M),b=M}a.stateNode=b}else Xw(E,a.type,a.stateNode);else a.stateNode=qw(E,b,a.memoizedProps);else M!==b?(M===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):M.count--,b===null?Xw(E,a.type,a.stateNode):qw(E,b,a.memoizedProps)):b===null&&a.stateNode!==null&&V0(a,a.memoizedProps,m.memoizedProps)}break;case 27:Wr(c,a),Xr(a),b&512&&(li||m===null||da(m,m.return)),m!==null&&b&4&&V0(a,a.memoizedProps,m.memoizedProps);break;case 5:if(Wr(c,a),Xr(a),b&512&&(li||m===null||da(m,m.return)),a.flags&32){E=a.stateNode;try{Ei(E,"")}catch(ve){Tn(a,a.return,ve)}}b&4&&a.stateNode!=null&&(E=a.memoizedProps,V0(a,E,m!==null?m.memoizedProps:E)),b&1024&&(q0=!0);break;case 6:if(Wr(c,a),Xr(a),b&4){if(a.stateNode===null)throw Error(i(162));b=a.memoizedProps,m=a.stateNode;try{m.nodeValue=b}catch(ve){Tn(a,a.return,ve)}}break;case 3:if(Qh=null,E=Fs,Fs=Kh(c.containerInfo),Wr(c,a),Fs=E,Xr(a),b&4&&m!==null&&m.memoizedState.isDehydrated)try{Vd(c.containerInfo)}catch(ve){Tn(a,a.return,ve)}q0&&(q0=!1,ew(a));break;case 4:b=Fs,Fs=Kh(a.stateNode.containerInfo),Wr(c,a),Xr(a),Fs=b;break;case 12:Wr(c,a),Xr(a);break;case 13:Wr(c,a),Xr(a),a.child.flags&8192&&a.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(J0=$t()),b&4&&(b=a.updateQueue,b!==null&&(a.updateQueue=null,W0(a,b)));break;case 22:E=a.memoizedState!==null;var J=m!==null&&m.memoizedState!==null,me=$a,Ae=li;if($a=me||E,li=Ae||J,Wr(c,a),li=Ae,$a=me,Xr(a),b&8192)e:for(c=a.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(m===null||J||$a||li||ec(a)),m=null,c=a;;){if(c.tag===5||c.tag===26){if(m===null){J=m=c;try{if(M=J.stateNode,E)H=M.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{W=J.stateNode;var De=J.memoizedProps.style,xe=De!=null&&De.hasOwnProperty("display")?De.display:null;W.style.display=xe==null||typeof xe=="boolean"?"":(""+xe).trim()}}catch(ve){Tn(J,J.return,ve)}}}else if(c.tag===6){if(m===null){J=c;try{J.stateNode.nodeValue=E?"":J.memoizedProps}catch(ve){Tn(J,J.return,ve)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}b&4&&(b=a.updateQueue,b!==null&&(m=b.retryQueue,m!==null&&(b.retryQueue=null,W0(a,m))));break;case 19:Wr(c,a),Xr(a),b&4&&(b=a.updateQueue,b!==null&&(a.updateQueue=null,W0(a,b)));break;case 30:break;case 21:break;default:Wr(c,a),Xr(a)}}function Xr(a){var c=a.flags;if(c&2){try{for(var m,b=a.return;b!==null;){if(qb(b)){m=b;break}b=b.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var E=m.stateNode,M=$0(a);jh(a,M,E);break;case 5:var H=m.stateNode;m.flags&32&&(Ei(H,""),m.flags&=-33);var W=$0(a);jh(a,W,H);break;case 3:case 4:var J=m.stateNode.containerInfo,me=$0(a);G0(a,me,J);break;default:throw Error(i(161))}}catch(Ae){Tn(a,a.return,Ae)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function ew(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;ew(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Po(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Yb(a,c.alternate,c),c=c.sibling}function ec(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:jo(4,c,c.return),ec(c);break;case 1:da(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&$b(c,c.return,m),ec(c);break;case 27:Bd(c.stateNode);case 26:case 5:da(c,c.return),ec(c);break;case 22:c.memoizedState===null&&ec(c);break;case 30:ec(c);break;default:ec(c)}a=a.sibling}}function Fo(a,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var b=c.alternate,E=a,M=c,H=M.flags;switch(M.tag){case 0:case 11:case 15:Fo(E,M,m),Ed(4,M);break;case 1:if(Fo(E,M,m),b=M,E=b.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(me){Tn(b,b.return,me)}if(b=M,E=b.updateQueue,E!==null){var W=b.stateNode;try{var J=E.shared.hiddenCallbacks;if(J!==null)for(E.shared.hiddenCallbacks=null,E=0;E<J.length;E++)Mv(J[E],W)}catch(me){Tn(b,b.return,me)}}m&&H&64&&Vb(M),Ad(M,M.return);break;case 27:Wb(M);case 26:case 5:Fo(E,M,m),m&&b===null&&H&4&&Gb(M),Ad(M,M.return);break;case 12:Fo(E,M,m);break;case 13:Fo(E,M,m),m&&H&4&&Qb(E,M);break;case 22:M.memoizedState===null&&Fo(E,M,m),Ad(M,M.return);break;case 30:break;default:Fo(E,M,m)}c=c.sibling}}function X0(a,c){var m=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==m&&(a!=null&&a.refCount++,m!=null&&dd(m))}function Y0(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&dd(a))}function fa(a,c,m,b){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)tw(a,c,m,b),c=c.sibling}function tw(a,c,m,b){var E=c.flags;switch(c.tag){case 0:case 11:case 15:fa(a,c,m,b),E&2048&&Ed(9,c);break;case 1:fa(a,c,m,b);break;case 3:fa(a,c,m,b),E&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&dd(a)));break;case 12:if(E&2048){fa(a,c,m,b),a=c.stateNode;try{var M=c.memoizedProps,H=M.id,W=M.onPostCommit;typeof W=="function"&&W(H,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){Tn(c,c.return,J)}}else fa(a,c,m,b);break;case 13:fa(a,c,m,b);break;case 23:break;case 22:M=c.stateNode,H=c.alternate,c.memoizedState!==null?M._visibility&2?fa(a,c,m,b):Td(a,c):M._visibility&2?fa(a,c,m,b):(M._visibility|=2,ru(a,c,m,b,(c.subtreeFlags&10256)!==0)),E&2048&&X0(H,c);break;case 24:fa(a,c,m,b),E&2048&&Y0(c.alternate,c);break;default:fa(a,c,m,b)}}function ru(a,c,m,b,E){for(E=E&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var M=a,H=c,W=m,J=b,me=H.flags;switch(H.tag){case 0:case 11:case 15:ru(M,H,W,J,E),Ed(8,H);break;case 23:break;case 22:var Ae=H.stateNode;H.memoizedState!==null?Ae._visibility&2?ru(M,H,W,J,E):Td(M,H):(Ae._visibility|=2,ru(M,H,W,J,E)),E&&me&2048&&X0(H.alternate,H);break;case 24:ru(M,H,W,J,E),E&&me&2048&&Y0(H.alternate,H);break;default:ru(M,H,W,J,E)}c=c.sibling}}function Td(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=a,b=c,E=b.flags;switch(b.tag){case 22:Td(m,b),E&2048&&X0(b.alternate,b);break;case 24:Td(m,b),E&2048&&Y0(b.alternate,b);break;default:Td(m,b)}c=c.sibling}}var Nd=8192;function su(a){if(a.subtreeFlags&Nd)for(a=a.child;a!==null;)nw(a),a=a.sibling}function nw(a){switch(a.tag){case 26:su(a),a.flags&Nd&&a.memoizedState!==null&&WN(Fs,a.memoizedState,a.memoizedProps);break;case 5:su(a);break;case 3:case 4:var c=Fs;Fs=Kh(a.stateNode.containerInfo),su(a),Fs=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=Nd,Nd=16777216,su(a),Nd=c):su(a));break;default:su(a)}}function iw(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function Md(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var b=c[m];Li=b,sw(b,a)}iw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)rw(a),a=a.sibling}function rw(a){switch(a.tag){case 0:case 11:case 15:Md(a),a.flags&2048&&jo(9,a,a.return);break;case 3:Md(a);break;case 12:Md(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,Ph(a)):Md(a);break;default:Md(a)}}function Ph(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var b=c[m];Li=b,sw(b,a)}iw(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:jo(8,c,c.return),Ph(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Ph(c));break;default:Ph(c)}a=a.sibling}}function sw(a,c){for(;Li!==null;){var m=Li;switch(m.tag){case 0:case 11:case 15:jo(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var b=m.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:dd(m.memoizedState.cache)}if(b=m.child,b!==null)b.return=m,Li=b;else e:for(m=a;Li!==null;){b=Li;var E=b.sibling,M=b.return;if(Kb(b),b===m){Li=null;break e}if(E!==null){E.return=M,Li=E;break e}Li=M}}}var cN={getCacheForType:function(a){var c=rr(Ni),m=c.data.get(a);return m===void 0&&(m=a(),c.data.set(a,m)),m}},uN=typeof WeakMap=="function"?WeakMap:Map,gn=0,Rn=null,Kt=null,nn=0,xn=0,Yr=null,zo=!1,au=!1,K0=!1,qa=0,Qn=0,Ho=0,tc=0,Z0=0,ys=0,ou=0,Rd=null,kr=null,Q0=!1,J0=0,Fh=1/0,zh=null,Uo=null,Xi=0,Vo=null,lu=null,cu=0,eg=0,tg=null,aw=null,Od=0,ng=null;function Kr(){if((gn&2)!==0&&nn!==0)return nn&-nn;if(Q.T!==null){var a=Kc;return a!==0?a:cg()}return te()}function ow(){ys===0&&(ys=(nn&536870912)===0||cn?us():536870912);var a=xs.current;return a!==null&&(a.flags|=32),ys}function Zr(a,c,m){(a===Rn&&(xn===2||xn===9)||a.cancelPendingCommit!==null)&&(uu(a,0),$o(a,nn,ys,!1)),hr(a,m),((gn&2)===0||a!==Rn)&&(a===Rn&&((gn&2)===0&&(tc|=m),Qn===4&&$o(a,nn,ys,!1)),ha(a))}function lw(a,c,m){if((gn&6)!==0)throw Error(i(327));var b=!m&&(c&124)===0&&(c&a.expiredLanes)===0||Xt(a,c),E=b?hN(a,c):sg(a,c,!0),M=b;do{if(E===0){au&&!b&&$o(a,c,0,!1);break}else{if(m=a.current.alternate,M&&!dN(m)){E=sg(a,c,!1),M=!1;continue}if(E===2){if(M=c,a.errorRecoveryDisabledLanes&M)var H=0;else H=a.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){c=H;e:{var W=a;E=Rd;var J=W.current.memoizedState.isDehydrated;if(J&&(uu(W,H).flags|=256),H=sg(W,H,!1),H!==2){if(K0&&!J){W.errorRecoveryDisabledLanes|=M,tc|=M,E=4;break e}M=kr,kr=E,M!==null&&(kr===null?kr=M:kr.push.apply(kr,M))}E=H}if(M=!1,E!==2)continue}}if(E===1){uu(a,0),$o(a,c,0,!0);break}e:{switch(b=a,M=E,M){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:$o(b,c,ys,!zo);break e;case 2:kr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(E=J0+300-$t(),10<E)){if($o(b,c,ys,!zo),Ft(b,0,!0)!==0)break e;b.timeoutHandle=jw(cw.bind(null,b,m,kr,zh,Q0,c,ys,tc,ou,zo,M,2,-0,0),E);break e}cw(b,m,kr,zh,Q0,c,ys,tc,ou,zo,M,0,-0,0)}}break}while(!0);ha(a)}function cw(a,c,m,b,E,M,H,W,J,me,Ae,De,xe,ve){if(a.timeoutHandle=-1,De=c.subtreeFlags,(De&8192||(De&16785408)===16785408)&&(Pd={stylesheets:null,count:0,unsuspend:qN},nw(c),De=XN(),De!==null)){a.cancelPendingCommit=De(gw.bind(null,a,c,M,m,b,E,H,W,J,Ae,1,xe,ve)),$o(a,M,H,!me);return}gw(a,c,M,m,b,E,H,W,J)}function dN(a){for(var c=a;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var b=0;b<m.length;b++){var E=m[b],M=E.getSnapshot;E=E.value;try{if(!g(M(),E))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function $o(a,c,m,b){c&=~Z0,c&=~tc,a.suspendedLanes|=c,a.pingedLanes&=~c,b&&(a.warmLanes|=c),b=a.expirationTimes;for(var E=c;0<E;){var M=31-Pt(E),H=1<<M;b[M]=-1,E&=~H}m!==0&&Zs(a,m,c)}function Hh(){return(gn&6)===0?(Id(0),!1):!0}function ig(){if(Kt!==null){if(xn===0)var a=Kt.return;else a=Kt,Pa=Yl=null,b0(a),nu=null,_d=0,a=Kt;for(;a!==null;)Ub(a.alternate,a),a=a.return;Kt=null}}function uu(a,c){var m=a.timeoutHandle;m!==-1&&(a.timeoutHandle=-1,MN(m)),m=a.cancelPendingCommit,m!==null&&(a.cancelPendingCommit=null,m()),ig(),Rn=a,Kt=m=Ba(a.current,null),nn=c,xn=0,Yr=null,zo=!1,au=Xt(a,c),K0=!1,ou=ys=Z0=tc=Ho=Qn=0,kr=Rd=null,Q0=!1,(c&8)!==0&&(c|=c&32);var b=a.entangledLanes;if(b!==0)for(a=a.entanglements,b&=c;0<b;){var E=31-Pt(b),M=1<<E;c|=a[E],b&=~M}return qa=c,ch(),m}function uw(a,c){Ut=null,Q.H=Nh,c===hd||c===yh?(c=Tv(),xn=3):c===Sv?(c=Tv(),xn=4):xn=c===Nb?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Yr=c,Kt===null&&(Qn=1,kh(a,hs(c,a.current)))}function dw(){var a=Q.H;return Q.H=Nh,a===null?Nh:a}function fw(){var a=Q.A;return Q.A=cN,a}function rg(){Qn=4,zo||(nn&4194048)!==nn&&xs.current!==null||(au=!0),(Ho&134217727)===0&&(tc&134217727)===0||Rn===null||$o(Rn,nn,ys,!1)}function sg(a,c,m){var b=gn;gn|=2;var E=dw(),M=fw();(Rn!==a||nn!==c)&&(zh=null,uu(a,c)),c=!1;var H=Qn;e:do try{if(xn!==0&&Kt!==null){var W=Kt,J=Yr;switch(xn){case 8:ig(),H=6;break e;case 3:case 2:case 9:case 6:xs.current===null&&(c=!0);var me=xn;if(xn=0,Yr=null,du(a,W,J,me),m&&au){H=0;break e}break;default:me=xn,xn=0,Yr=null,du(a,W,J,me)}}fN(),H=Qn;break}catch(Ae){uw(a,Ae)}while(!0);return c&&a.shellSuspendCounter++,Pa=Yl=null,gn=b,Q.H=E,Q.A=M,Kt===null&&(Rn=null,nn=0,ch()),H}function fN(){for(;Kt!==null;)hw(Kt)}function hN(a,c){var m=gn;gn|=2;var b=dw(),E=fw();Rn!==a||nn!==c?(zh=null,Fh=$t()+500,uu(a,c)):au=Xt(a,c);e:do try{if(xn!==0&&Kt!==null){c=Kt;var M=Yr;t:switch(xn){case 1:xn=0,Yr=null,du(a,c,M,1);break;case 2:case 9:if(Ev(M)){xn=0,Yr=null,pw(c);break}c=function(){xn!==2&&xn!==9||Rn!==a||(xn=7),ha(a)},M.then(c,c);break e;case 3:xn=7;break e;case 4:xn=5;break e;case 7:Ev(M)?(xn=0,Yr=null,pw(c)):(xn=0,Yr=null,du(a,c,M,7));break;case 5:var H=null;switch(Kt.tag){case 26:H=Kt.memoizedState;case 5:case 27:var W=Kt;if(!H||Yw(H)){xn=0,Yr=null;var J=W.sibling;if(J!==null)Kt=J;else{var me=W.return;me!==null?(Kt=me,Uh(me)):Kt=null}break t}}xn=0,Yr=null,du(a,c,M,5);break;case 6:xn=0,Yr=null,du(a,c,M,6);break;case 8:ig(),Qn=6;break e;default:throw Error(i(462))}}pN();break}catch(Ae){uw(a,Ae)}while(!0);return Pa=Yl=null,Q.H=b,Q.A=E,gn=m,Kt!==null?0:(Rn=null,nn=0,ch(),Qn)}function pN(){for(;Kt!==null&&!$i();)hw(Kt)}function hw(a){var c=zb(a.alternate,a,qa);a.memoizedProps=a.pendingProps,c===null?Uh(a):Kt=c}function pw(a){var c=a,m=c.alternate;switch(c.tag){case 15:case 0:c=Db(m,c,c.pendingProps,c.type,void 0,nn);break;case 11:c=Db(m,c,c.pendingProps,c.type.render,c.ref,nn);break;case 5:b0(c);default:Ub(m,c),c=Kt=mv(c,qa),c=zb(m,c,qa)}a.memoizedProps=a.pendingProps,c===null?Uh(a):Kt=c}function du(a,c,m,b){Pa=Yl=null,b0(c),nu=null,_d=0;var E=c.return;try{if(iN(a,E,c,m,nn)){Qn=1,kh(a,hs(m,a.current)),Kt=null;return}}catch(M){if(E!==null)throw Kt=E,M;Qn=1,kh(a,hs(m,a.current)),Kt=null;return}c.flags&32768?(cn||b===1?a=!0:au||(nn&536870912)!==0?a=!1:(zo=a=!0,(b===2||b===9||b===3||b===6)&&(b=xs.current,b!==null&&b.tag===13&&(b.flags|=16384))),mw(c,a)):Uh(c)}function Uh(a){var c=a;do{if((c.flags&32768)!==0){mw(c,zo);return}a=c.return;var m=sN(c.alternate,c,qa);if(m!==null){Kt=m;return}if(c=c.sibling,c!==null){Kt=c;return}Kt=c=a}while(c!==null);Qn===0&&(Qn=5)}function mw(a,c){do{var m=aN(a.alternate,a);if(m!==null){m.flags&=32767,Kt=m;return}if(m=a.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(a=a.sibling,a!==null)){Kt=a;return}Kt=a=m}while(a!==null);Qn=6,Kt=null}function gw(a,c,m,b,E,M,H,W,J){a.cancelPendingCommit=null;do Vh();while(Xi!==0);if((gn&6)!==0)throw Error(i(327));if(c!==null){if(c===a.current)throw Error(i(177));if(M=c.lanes|c.childLanes,M|=Ym,Dl(a,m,M,H,W,J),a===Rn&&(Kt=Rn=null,nn=0),lu=c,Vo=a,cu=m,eg=M,tg=E,aw=b,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,yN(qe,function(){return ww(),null})):(a.callbackNode=null,a.callbackPriority=0),b=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||b){b=Q.T,Q.T=null,E=le.p,le.p=2,H=gn,gn|=4;try{oN(a,c,m)}finally{gn=H,le.p=E,Q.T=b}}Xi=1,xw(),yw(),vw()}}function xw(){if(Xi===1){Xi=0;var a=Vo,c=lu,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=Q.T,Q.T=null;var b=le.p;le.p=2;var E=gn;gn|=4;try{Jb(c,a);var M=xg,H=I(a.containerInfo),W=M.focusedElem,J=M.selectionRange;if(H!==W&&W&&W.ownerDocument&&N(W.ownerDocument.documentElement,W)){if(J!==null&&j(W)){var me=J.start,Ae=J.end;if(Ae===void 0&&(Ae=me),"selectionStart"in W)W.selectionStart=me,W.selectionEnd=Math.min(Ae,W.value.length);else{var De=W.ownerDocument||document,xe=De&&De.defaultView||window;if(xe.getSelection){var ve=xe.getSelection(),yt=W.textContent.length,mt=Math.min(J.start,yt),Sn=J.end===void 0?mt:Math.min(J.end,yt);!ve.extend&&mt>Sn&&(H=Sn,Sn=mt,mt=H);var oe=C(W,mt),re=C(W,Sn);if(oe&&re&&(ve.rangeCount!==1||ve.anchorNode!==oe.node||ve.anchorOffset!==oe.offset||ve.focusNode!==re.node||ve.focusOffset!==re.offset)){var pe=De.createRange();pe.setStart(oe.node,oe.offset),ve.removeAllRanges(),mt>Sn?(ve.addRange(pe),ve.extend(re.node,re.offset)):(pe.setEnd(re.node,re.offset),ve.addRange(pe))}}}}for(De=[],ve=W;ve=ve.parentNode;)ve.nodeType===1&&De.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<De.length;W++){var Me=De[W];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}tp=!!gg,xg=gg=null}finally{gn=E,le.p=b,Q.T=m}}a.current=c,Xi=2}}function yw(){if(Xi===2){Xi=0;var a=Vo,c=lu,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=Q.T,Q.T=null;var b=le.p;le.p=2;var E=gn;gn|=4;try{Yb(a,c.alternate,c)}finally{gn=E,le.p=b,Q.T=m}}Xi=3}}function vw(){if(Xi===4||Xi===3){Xi=0,cs();var a=Vo,c=lu,m=cu,b=aw;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Xi=5:(Xi=0,lu=Vo=null,bw(a,a.pendingLanes));var E=a.pendingLanes;if(E===0&&(Uo=null),Yn(m),c=c.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(bt,c,void 0,(c.current.flags&128)===128)}catch{}if(b!==null){c=Q.T,E=le.p,le.p=2,Q.T=null;try{for(var M=a.onRecoverableError,H=0;H<b.length;H++){var W=b[H];M(W.value,{componentStack:W.stack})}}finally{Q.T=c,le.p=E}}(cu&3)!==0&&Vh(),ha(a),E=a.pendingLanes,(m&4194090)!==0&&(E&42)!==0?a===ng?Od++:(Od=0,ng=a):Od=0,Id(0)}}function bw(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,dd(c)))}function Vh(a){return xw(),yw(),vw(),ww()}function ww(){if(Xi!==5)return!1;var a=Vo,c=eg;eg=0;var m=Yn(cu),b=Q.T,E=le.p;try{le.p=32>m?32:m,Q.T=null,m=tg,tg=null;var M=Vo,H=cu;if(Xi=0,lu=Vo=null,cu=0,(gn&6)!==0)throw Error(i(331));var W=gn;if(gn|=4,rw(M.current),tw(M,M.current,H,m),gn=W,Id(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(bt,M)}catch{}return!0}finally{le.p=E,Q.T=b,bw(a,c)}}function _w(a,c,m){c=hs(m,c),c=D0(a.stateNode,c,2),a=ko(a,c,2),a!==null&&(hr(a,2),ha(a))}function Tn(a,c,m){if(a.tag===3)_w(a,a,m);else for(;c!==null;){if(c.tag===3){_w(c,a,m);break}else if(c.tag===1){var b=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Uo===null||!Uo.has(b))){a=hs(m,a),m=Ab(2),b=ko(c,m,2),b!==null&&(Tb(m,b,c,a),hr(b,2),ha(b));break}}c=c.return}}function ag(a,c,m){var b=a.pingCache;if(b===null){b=a.pingCache=new uN;var E=new Set;b.set(c,E)}else E=b.get(c),E===void 0&&(E=new Set,b.set(c,E));E.has(m)||(K0=!0,E.add(m),a=mN.bind(null,a,c,m),c.then(a,a))}function mN(a,c,m){var b=a.pingCache;b!==null&&b.delete(c),a.pingedLanes|=a.suspendedLanes&m,a.warmLanes&=~m,Rn===a&&(nn&m)===m&&(Qn===4||Qn===3&&(nn&62914560)===nn&&300>$t()-J0?(gn&2)===0&&uu(a,0):Z0|=m,ou===nn&&(ou=0)),ha(a)}function Cw(a,c){c===0&&(c=kl()),a=qc(a,c),a!==null&&(hr(a,c),ha(a))}function gN(a){var c=a.memoizedState,m=0;c!==null&&(m=c.retryLane),Cw(a,m)}function xN(a,c){var m=0;switch(a.tag){case 13:var b=a.stateNode,E=a.memoizedState;E!==null&&(m=E.retryLane);break;case 19:b=a.stateNode;break;case 22:b=a.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(c),Cw(a,m)}function yN(a,c){return kt(a,c)}var $h=null,fu=null,og=!1,Gh=!1,lg=!1,nc=0;function ha(a){a!==fu&&a.next===null&&(fu===null?$h=fu=a:fu=fu.next=a),Gh=!0,og||(og=!0,bN())}function Id(a,c){if(!lg&&Gh){lg=!0;do for(var m=!1,b=$h;b!==null;){if(a!==0){var E=b.pendingLanes;if(E===0)var M=0;else{var H=b.suspendedLanes,W=b.pingedLanes;M=(1<<31-Pt(42|a)+1)-1,M&=E&~(H&~W),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(m=!0,Tw(b,M))}else M=nn,M=Ft(b,b===Rn?M:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(M&3)===0||Xt(b,M)||(m=!0,Tw(b,M));b=b.next}while(m);lg=!1}}function vN(){Sw()}function Sw(){Gh=og=!1;var a=0;nc!==0&&(NN()&&(a=nc),nc=0);for(var c=$t(),m=null,b=$h;b!==null;){var E=b.next,M=Ew(b,c);M===0?(b.next=null,m===null?$h=E:m.next=E,E===null&&(fu=m)):(m=b,(a!==0||(M&3)!==0)&&(Gh=!0)),b=E}Id(a)}function Ew(a,c){for(var m=a.suspendedLanes,b=a.pingedLanes,E=a.expirationTimes,M=a.pendingLanes&-62914561;0<M;){var H=31-Pt(M),W=1<<H,J=E[H];J===-1?((W&m)===0||(W&b)!==0)&&(E[H]=Nr(W,c)):J<=c&&(a.expiredLanes|=W),M&=~W}if(c=Rn,m=nn,m=Ft(a,a===c?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),b=a.callbackNode,m===0||a===c&&(xn===2||xn===9)||a.cancelPendingCommit!==null)return b!==null&&b!==null&&ii(b),a.callbackNode=null,a.callbackPriority=0;if((m&3)===0||Xt(a,m)){if(c=m&-m,c===a.callbackPriority)return c;switch(b!==null&&ii(b),Yn(m)){case 2:case 8:m=Tr;break;case 32:m=qe;break;case 268435456:m=Hr;break;default:m=qe}return b=Aw.bind(null,a),m=kt(m,b),a.callbackPriority=c,a.callbackNode=m,c}return b!==null&&b!==null&&ii(b),a.callbackPriority=2,a.callbackNode=null,2}function Aw(a,c){if(Xi!==0&&Xi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var m=a.callbackNode;if(Vh()&&a.callbackNode!==m)return null;var b=nn;return b=Ft(a,a===Rn?b:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),b===0?null:(lw(a,b,c),Ew(a,$t()),a.callbackNode!=null&&a.callbackNode===m?Aw.bind(null,a):null)}function Tw(a,c){if(Vh())return null;lw(a,c,!0)}function bN(){RN(function(){(gn&6)!==0?kt(Tt,vN):Sw()})}function cg(){return nc===0&&(nc=us()),nc}function Nw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:jc(""+a)}function Mw(a,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,a.id&&m.setAttribute("form",a.id),c.parentNode.insertBefore(m,c),a=new FormData(a),m.parentNode.removeChild(m),a}function wN(a,c,m,b,E){if(c==="submit"&&m&&m.stateNode===E){var M=Nw((E[ze]||null).action),H=b.submitter;H&&(c=(c=H[ze]||null)?Nw(c.formAction):H.getAttribute("formAction"),c!==null&&(M=c,H=null));var W=new sa("action","action",null,b,E);a.push({event:W,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(nc!==0){var J=H?Mw(E,H):new FormData(E);M0(m,{pending:!0,data:J,method:E.method,action:M},null,J)}}else typeof M=="function"&&(W.preventDefault(),J=H?Mw(E,H):new FormData(E),M0(m,{pending:!0,data:J,method:E.method,action:M},M,J))},currentTarget:E}]})}}for(var ug=0;ug<la.length;ug++){var dg=la[ug],_N=dg.toLowerCase(),CN=dg[0].toUpperCase()+dg.slice(1);Gr(_N,"on"+CN)}Gr(Ct,"onAnimationEnd"),Gr(qi,"onAnimationIteration"),Gr(Rr,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(nr,"onTransitionRun"),Gr(mn,"onTransitionStart"),Gr(Ti,"onTransitionCancel"),Gr(ir,"onTransitionEnd"),wn("onMouseEnter",["mouseout","mouseover"]),wn("onMouseLeave",["mouseout","mouseover"]),wn("onPointerEnter",["pointerout","pointerover"]),wn("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kd));function Rw(a,c){c=(c&4)!==0;for(var m=0;m<a.length;m++){var b=a[m],E=b.event;b=b.listeners;e:{var M=void 0;if(c)for(var H=b.length-1;0<=H;H--){var W=b[H],J=W.instance,me=W.currentTarget;if(W=W.listener,J!==M&&E.isPropagationStopped())break e;M=W,E.currentTarget=me;try{M(E)}catch(Ae){Ih(Ae)}E.currentTarget=null,M=J}else for(H=0;H<b.length;H++){if(W=b[H],J=W.instance,me=W.currentTarget,W=W.listener,J!==M&&E.isPropagationStopped())break e;M=W,E.currentTarget=me;try{M(E)}catch(Ae){Ih(Ae)}E.currentTarget=null,M=J}}}}function Zt(a,c){var m=c[Ze];m===void 0&&(m=c[Ze]=new Set);var b=a+"__bubble";m.has(b)||(Ow(c,a,2,!1),m.add(b))}function fg(a,c,m){var b=0;c&&(b|=4),Ow(m,a,b,c)}var qh="_reactListening"+Math.random().toString(36).slice(2);function hg(a){if(!a[qh]){a[qh]=!0,Yt.forEach(function(m){m!=="selectionchange"&&(SN.has(m)||fg(m,!1,a),fg(m,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[qh]||(c[qh]=!0,fg("selectionchange",!1,c))}}function Ow(a,c,m,b){switch(t_(c)){case 2:var E=ZN;break;case 8:E=QN;break;default:E=Tg}m=E.bind(null,c,m,a),E=void 0,!St||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),b?E!==void 0?a.addEventListener(c,m,{capture:!0,passive:E}):a.addEventListener(c,m,!0):E!==void 0?a.addEventListener(c,m,{passive:E}):a.addEventListener(c,m,!1)}function pg(a,c,m,b,E){var M=b;if((c&1)===0&&(c&2)===0&&b!==null)e:for(;;){if(b===null)return;var H=b.tag;if(H===3||H===4){var W=b.stateNode.containerInfo;if(W===E)break;if(H===4)for(H=b.return;H!==null;){var J=H.tag;if((J===3||J===4)&&H.stateNode.containerInfo===E)return;H=H.return}for(;W!==null;){if(H=tt(W),H===null)return;if(J=H.tag,J===5||J===6||J===26||J===27){b=M=H;continue e}W=W.parentNode}}b=b.return}Ls(function(){var me=M,Ae=vo(m),De=[];e:{var xe=Da.get(a);if(xe!==void 0){var ve=sa,yt=a;switch(a){case"keypress":if(Pc(m)===0)break e;case"keydown":case"keyup":ve=td;break;case"focusin":yt="focus",ve=Co;break;case"focusout":yt="blur",ve=Co;break;case"beforeblur":case"afterblur":ve=Co;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=pn;break;case Ct:case qi:case Rr:ve=Hm;break;case ir:ve=Gm;break;case"scroll":case"scrollend":ve=er;break;case"wheel":ve=Ia;break;case"copy":case"cut":case"paste":ve=Ot;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=zl;break;case"toggle":case"beforetoggle":ve=qm}var mt=(c&4)!==0,Sn=!mt&&(a==="scroll"||a==="scrollend"),oe=mt?xe!==null?xe+"Capture":null:xe;mt=[];for(var re=me,pe;re!==null;){var Me=re;if(pe=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||pe===null||oe===null||(Me=dt(re,oe),Me!=null&&mt.push(Dd(re,Me,pe))),Sn)break;re=re.return}0<mt.length&&(xe=new ve(xe,yt,null,m,Ae),De.push({event:xe,listeners:mt}))}}if((c&7)===0){e:{if(xe=a==="mouseover"||a==="pointerover",ve=a==="mouseout"||a==="pointerout",xe&&m!==Bl&&(yt=m.relatedTarget||m.fromElement)&&(tt(yt)||yt[Ke]))break e;if((ve||xe)&&(xe=Ae.window===Ae?Ae:(xe=Ae.ownerDocument)?xe.defaultView||xe.parentWindow:window,ve?(yt=m.relatedTarget||m.toElement,ve=me,yt=yt?tt(yt):null,yt!==null&&(Sn=s(yt),mt=yt.tag,yt!==Sn||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(ve=null,yt=me),ve!==yt)){if(mt=ih,Me="onMouseLeave",oe="onMouseEnter",re="mouse",(a==="pointerout"||a==="pointerover")&&(mt=zl,Me="onPointerLeave",oe="onPointerEnter",re="pointer"),Sn=ve==null?xe:dn(ve),pe=yt==null?xe:dn(yt),xe=new mt(Me,re+"leave",ve,m,Ae),xe.target=Sn,xe.relatedTarget=pe,Me=null,tt(Ae)===me&&(mt=new mt(oe,re+"enter",yt,m,Ae),mt.target=pe,mt.relatedTarget=Sn,Me=mt),Sn=Me,ve&&yt)t:{for(mt=ve,oe=yt,re=0,pe=mt;pe;pe=hu(pe))re++;for(pe=0,Me=oe;Me;Me=hu(Me))pe++;for(;0<re-pe;)mt=hu(mt),re--;for(;0<pe-re;)oe=hu(oe),pe--;for(;re--;){if(mt===oe||oe!==null&&mt===oe.alternate)break t;mt=hu(mt),oe=hu(oe)}mt=null}else mt=null;ve!==null&&Iw(De,xe,ve,mt,!1),yt!==null&&Sn!==null&&Iw(De,Sn,yt,mt,!0)}}e:{if(xe=me?dn(me):window,ve=xe.nodeName&&xe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&xe.type==="file")var Qe=oh;else if(Vl(xe))if(sd)Qe=u;else{Qe=U;var qt=$c}else ve=xe.nodeName,!ve||ve.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?me&&lt(me.elementType)&&(Qe=oh):Qe=o;if(Qe&&(Qe=Qe(a,me))){mr(De,Qe,m,Ae);break e}qt&&qt(a,xe,me),a==="focusout"&&me&&xe.type==="number"&&me.memoizedProps.value!=null&&he(xe,"number",xe.value)}switch(qt=me?dn(me):window,a){case"focusin":(Vl(qt)||qt.contentEditable==="true")&&(q=qt,K=me,ee=null);break;case"focusout":ee=K=q=null;break;case"mousedown":ie=!0;break;case"contextmenu":case"mouseup":case"dragend":ie=!1,de(De,m,Ae);break;case"selectionchange":if(V)break;case"keydown":case"keyup":de(De,m,Ae)}var ct;if(Hl)e:{switch(a){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Ao?ka(a,m)&&(gt="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(gt="onCompositionStart");gt&&(id&&m.locale!=="ko"&&(Ao||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ao&&(ct=na()):(ta=Ae,Ll="value"in ta?ta.value:ta.textContent,Ao=!0)),qt=Wh(me,gt),0<qt.length&&(gt=new Pl(gt,a,null,m,Ae),De.push({event:gt,listeners:qt}),ct?gt.data=ct:(ct=Uc(m),ct!==null&&(gt.data=ct)))),(ct=nd?Ul(a,m):Wm(a,m))&&(gt=Wh(me,"onBeforeInput"),0<gt.length&&(qt=new Pl("onBeforeInput","beforeinput",null,m,Ae),De.push({event:qt,listeners:gt}),qt.data=ct)),wN(De,a,me,m,Ae)}Rw(De,c)})}function Dd(a,c,m){return{instance:a,listener:c,currentTarget:m}}function Wh(a,c){for(var m=c+"Capture",b=[];a!==null;){var E=a,M=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||M===null||(E=dt(a,m),E!=null&&b.unshift(Dd(a,E,M)),E=dt(a,c),E!=null&&b.push(Dd(a,E,M))),a.tag===3)return b;a=a.return}return[]}function hu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Iw(a,c,m,b,E){for(var M=c._reactName,H=[];m!==null&&m!==b;){var W=m,J=W.alternate,me=W.stateNode;if(W=W.tag,J!==null&&J===b)break;W!==5&&W!==26&&W!==27||me===null||(J=me,E?(me=dt(m,M),me!=null&&H.unshift(Dd(m,me,J))):E||(me=dt(m,M),me!=null&&H.push(Dd(m,me,J)))),m=m.return}H.length!==0&&a.push({event:c,listeners:H})}var EN=/\r\n?/g,AN=/\u0000|\uFFFD/g;function kw(a){return(typeof a=="string"?a:""+a).replace(EN,`
`).replace(AN,"")}function Dw(a,c){return c=kw(c),kw(a)===c}function Xh(){}function Cn(a,c,m,b,E,M){switch(m){case"children":typeof b=="string"?c==="body"||c==="textarea"&&b===""||Ei(a,b):(typeof b=="number"||typeof b=="bigint")&&c!=="body"&&Ei(a,""+b);break;case"className":Bs(a,"class",b);break;case"tabIndex":Bs(a,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Bs(a,m,b);break;case"style":pr(a,b,M);break;case"data":if(c!=="object"){Bs(a,"data",b);break}case"src":case"href":if(b===""&&(c!=="a"||m!=="href")){a.removeAttribute(m);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){a.removeAttribute(m);break}b=jc(""+b),a.setAttribute(m,b);break;case"action":case"formAction":if(typeof b=="function"){a.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(m==="formAction"?(c!=="input"&&Cn(a,c,"name",E.name,E,null),Cn(a,c,"formEncType",E.formEncType,E,null),Cn(a,c,"formMethod",E.formMethod,E,null),Cn(a,c,"formTarget",E.formTarget,E,null)):(Cn(a,c,"encType",E.encType,E,null),Cn(a,c,"method",E.method,E,null),Cn(a,c,"target",E.target,E,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){a.removeAttribute(m);break}b=jc(""+b),a.setAttribute(m,b);break;case"onClick":b!=null&&(a.onclick=Xh);break;case"onScroll":b!=null&&Zt("scroll",a);break;case"onScrollEnd":b!=null&&Zt("scrollend",a);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(m=b.__html,m!=null){if(E.children!=null)throw Error(i(60));a.innerHTML=m}}break;case"multiple":a.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":a.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){a.removeAttribute("xlink:href");break}m=jc(""+b),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?a.setAttribute(m,""+b):a.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?a.setAttribute(m,""):a.removeAttribute(m);break;case"capture":case"download":b===!0?a.setAttribute(m,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?a.setAttribute(m,b):a.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?a.setAttribute(m,b):a.removeAttribute(m);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?a.removeAttribute(m):a.setAttribute(m,b);break;case"popover":Zt("beforetoggle",a),Zt("toggle",a),Ne(a,"popover",b);break;case"xlinkActuate":it(a,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":it(a,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":it(a,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":it(a,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":it(a,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":it(a,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":it(a,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":it(a,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":it(a,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Ne(a,"is",b);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=In.get(m)||m,Ne(a,m,b))}}function mg(a,c,m,b,E,M){switch(m){case"style":pr(a,b,M);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(m=b.__html,m!=null){if(E.children!=null)throw Error(i(60));a.innerHTML=m}}break;case"children":typeof b=="string"?Ei(a,b):(typeof b=="number"||typeof b=="bigint")&&Ei(a,""+b);break;case"onScroll":b!=null&&Zt("scroll",a);break;case"onScrollEnd":b!=null&&Zt("scrollend",a);break;case"onClick":b!=null&&(a.onclick=Xh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(E=m.endsWith("Capture"),c=m.slice(2,E?m.length-7:void 0),M=a[ze]||null,M=M!=null?M[m]:null,typeof M=="function"&&a.removeEventListener(c,M,E),typeof b=="function")){typeof M!="function"&&M!==null&&(m in a?a[m]=null:a.hasAttribute(m)&&a.removeAttribute(m)),a.addEventListener(c,b,E);break e}m in a?a[m]=b:b===!0?a.setAttribute(m,""):Ne(a,m,b)}}}function Yi(a,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",a),Zt("load",a);var b=!1,E=!1,M;for(M in m)if(m.hasOwnProperty(M)){var H=m[M];if(H!=null)switch(M){case"src":b=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Cn(a,c,M,H,m,null)}}E&&Cn(a,c,"srcSet",m.srcSet,m,null),b&&Cn(a,c,"src",m.src,m,null);return;case"input":Zt("invalid",a);var W=M=H=E=null,J=null,me=null;for(b in m)if(m.hasOwnProperty(b)){var Ae=m[b];if(Ae!=null)switch(b){case"name":E=Ae;break;case"type":H=Ae;break;case"checked":J=Ae;break;case"defaultChecked":me=Ae;break;case"value":M=Ae;break;case"defaultValue":W=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(i(137,c));break;default:Cn(a,c,b,Ae,m,null)}}Si(a,M,W,J,me,H,E,!1),Bc(a);return;case"select":Zt("invalid",a),b=H=M=null;for(E in m)if(m.hasOwnProperty(E)&&(W=m[E],W!=null))switch(E){case"value":M=W;break;case"defaultValue":H=W;break;case"multiple":b=W;default:Cn(a,c,E,W,m,null)}c=M,m=H,a.multiple=!!b,c!=null?Y(a,!!b,c,!1):m!=null&&Y(a,!!b,m,!0);return;case"textarea":Zt("invalid",a),M=E=b=null;for(H in m)if(m.hasOwnProperty(H)&&(W=m[H],W!=null))switch(H){case"value":b=W;break;case"defaultValue":E=W;break;case"children":M=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(91));break;default:Cn(a,c,H,W,m,null)}ri(a,b,E,M),Bc(a);return;case"option":for(J in m)if(m.hasOwnProperty(J)&&(b=m[J],b!=null))switch(J){case"selected":a.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Cn(a,c,J,b,m,null)}return;case"dialog":Zt("beforetoggle",a),Zt("toggle",a),Zt("cancel",a),Zt("close",a);break;case"iframe":case"object":Zt("load",a);break;case"video":case"audio":for(b=0;b<kd.length;b++)Zt(kd[b],a);break;case"image":Zt("error",a),Zt("load",a);break;case"details":Zt("toggle",a);break;case"embed":case"source":case"link":Zt("error",a),Zt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in m)if(m.hasOwnProperty(me)&&(b=m[me],b!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Cn(a,c,me,b,m,null)}return;default:if(lt(c)){for(Ae in m)m.hasOwnProperty(Ae)&&(b=m[Ae],b!==void 0&&mg(a,c,Ae,b,m,void 0));return}}for(W in m)m.hasOwnProperty(W)&&(b=m[W],b!=null&&Cn(a,c,W,b,m,null))}function TN(a,c,m,b){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,M=null,H=null,W=null,J=null,me=null,Ae=null;for(ve in m){var De=m[ve];if(m.hasOwnProperty(ve)&&De!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":J=De;default:b.hasOwnProperty(ve)||Cn(a,c,ve,null,b,De)}}for(var xe in b){var ve=b[xe];if(De=m[xe],b.hasOwnProperty(xe)&&(ve!=null||De!=null))switch(xe){case"type":M=ve;break;case"name":E=ve;break;case"checked":me=ve;break;case"defaultChecked":Ae=ve;break;case"value":H=ve;break;case"defaultValue":W=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,c));break;default:ve!==De&&Cn(a,c,xe,ve,b,De)}}fn(a,H,W,J,me,Ae,M,E);return;case"select":ve=H=W=xe=null;for(M in m)if(J=m[M],m.hasOwnProperty(M)&&J!=null)switch(M){case"value":break;case"multiple":ve=J;default:b.hasOwnProperty(M)||Cn(a,c,M,null,b,J)}for(E in b)if(M=b[E],J=m[E],b.hasOwnProperty(E)&&(M!=null||J!=null))switch(E){case"value":xe=M;break;case"defaultValue":W=M;break;case"multiple":H=M;default:M!==J&&Cn(a,c,E,M,b,J)}c=W,m=H,b=ve,xe!=null?Y(a,!!m,xe,!1):!!b!=!!m&&(c!=null?Y(a,!!m,c,!0):Y(a,!!m,m?[]:"",!1));return;case"textarea":ve=xe=null;for(W in m)if(E=m[W],m.hasOwnProperty(W)&&E!=null&&!b.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:Cn(a,c,W,null,b,E)}for(H in b)if(E=b[H],M=m[H],b.hasOwnProperty(H)&&(E!=null||M!=null))switch(H){case"value":xe=E;break;case"defaultValue":ve=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:E!==M&&Cn(a,c,H,E,b,M)}st(a,xe,ve);return;case"option":for(var yt in m)if(xe=m[yt],m.hasOwnProperty(yt)&&xe!=null&&!b.hasOwnProperty(yt))switch(yt){case"selected":a.selected=!1;break;default:Cn(a,c,yt,null,b,xe)}for(J in b)if(xe=b[J],ve=m[J],b.hasOwnProperty(J)&&xe!==ve&&(xe!=null||ve!=null))switch(J){case"selected":a.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:Cn(a,c,J,xe,b,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in m)xe=m[mt],m.hasOwnProperty(mt)&&xe!=null&&!b.hasOwnProperty(mt)&&Cn(a,c,mt,null,b,xe);for(me in b)if(xe=b[me],ve=m[me],b.hasOwnProperty(me)&&xe!==ve&&(xe!=null||ve!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(i(137,c));break;default:Cn(a,c,me,xe,b,ve)}return;default:if(lt(c)){for(var Sn in m)xe=m[Sn],m.hasOwnProperty(Sn)&&xe!==void 0&&!b.hasOwnProperty(Sn)&&mg(a,c,Sn,void 0,b,xe);for(Ae in b)xe=b[Ae],ve=m[Ae],!b.hasOwnProperty(Ae)||xe===ve||xe===void 0&&ve===void 0||mg(a,c,Ae,xe,b,ve);return}}for(var oe in m)xe=m[oe],m.hasOwnProperty(oe)&&xe!=null&&!b.hasOwnProperty(oe)&&Cn(a,c,oe,null,b,xe);for(De in b)xe=b[De],ve=m[De],!b.hasOwnProperty(De)||xe===ve||xe==null&&ve==null||Cn(a,c,De,xe,b,ve)}var gg=null,xg=null;function Yh(a){return a.nodeType===9?a:a.ownerDocument}function Bw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lw(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function yg(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var vg=null;function NN(){var a=window.event;return a&&a.type==="popstate"?a===vg?!1:(vg=a,!0):(vg=null,!1)}var jw=typeof setTimeout=="function"?setTimeout:void 0,MN=typeof clearTimeout=="function"?clearTimeout:void 0,Pw=typeof Promise=="function"?Promise:void 0,RN=typeof queueMicrotask=="function"?queueMicrotask:typeof Pw<"u"?function(a){return Pw.resolve(null).then(a).catch(ON)}:jw;function ON(a){setTimeout(function(){throw a})}function Go(a){return a==="head"}function Fw(a,c){var m=c,b=0,E=0;do{var M=m.nextSibling;if(a.removeChild(m),M&&M.nodeType===8)if(m=M.data,m==="/$"){if(0<b&&8>b){m=b;var H=a.ownerDocument;if(m&1&&Bd(H.documentElement),m&2&&Bd(H.body),m&4)for(m=H.head,Bd(m),H=m.firstChild;H;){var W=H.nextSibling,J=H.nodeName;H[ut]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&H.rel.toLowerCase()==="stylesheet"||m.removeChild(H),H=W}}if(E===0){a.removeChild(M),Vd(c);return}E--}else m==="$"||m==="$?"||m==="$!"?E++:b=m.charCodeAt(0)-48;else b=0;m=M}while(m);Vd(c)}function bg(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":bg(m),nt(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}a.removeChild(m)}}function IN(a,c,m,b){for(;a.nodeType===1;){var E=m;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!b&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(b){if(!a[ut])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(M=a.getAttribute("rel"),M==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(M!==E.rel||a.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||a.getAttribute("title")!==(E.title==null?null:E.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(M=a.getAttribute("src"),(M!==(E.src==null?null:E.src)||a.getAttribute("type")!==(E.type==null?null:E.type)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&M&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var M=E.name==null?null:""+E.name;if(E.type==="hidden"&&a.getAttribute("name")===M)return a}else return a;if(a=zs(a.nextSibling),a===null)break}return null}function kN(a,c,m){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!m||(a=zs(a.nextSibling),a===null))return null;return a}function wg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function DN(a,c){var m=a.ownerDocument;if(a.data!=="$?"||m.readyState==="complete")c();else{var b=function(){c(),m.removeEventListener("DOMContentLoaded",b)};m.addEventListener("DOMContentLoaded",b),a._reactRetry=b}}function zs(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var _g=null;function zw(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return a;c--}else m==="/$"&&c++}a=a.previousSibling}return null}function Hw(a,c,m){switch(c=Yh(m),a){case"html":if(a=c.documentElement,!a)throw Error(i(452));return a;case"head":if(a=c.head,!a)throw Error(i(453));return a;case"body":if(a=c.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Bd(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);nt(a)}var vs=new Map,Uw=new Set;function Kh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Wa=le.d;le.d={f:BN,r:LN,D:jN,C:PN,L:FN,m:zN,X:UN,S:HN,M:VN};function BN(){var a=Wa.f(),c=Hh();return a||c}function LN(a){var c=Dt(a);c!==null&&c.tag===5&&c.type==="form"?lb(c):Wa.r(a)}var pu=typeof document>"u"?null:document;function Vw(a,c,m){var b=pu;if(b&&typeof c=="string"&&c){var E=Ci(c);E='link[rel="'+a+'"][href="'+E+'"]',typeof m=="string"&&(E+='[crossorigin="'+m+'"]'),Uw.has(E)||(Uw.add(E),a={rel:a,crossOrigin:m,href:c},b.querySelector(E)===null&&(c=b.createElement("link"),Yi(c,"link",a),Nt(c),b.head.appendChild(c)))}}function jN(a){Wa.D(a),Vw("dns-prefetch",a,null)}function PN(a,c){Wa.C(a,c),Vw("preconnect",a,c)}function FN(a,c,m){Wa.L(a,c,m);var b=pu;if(b&&a&&c){var E='link[rel="preload"][as="'+Ci(c)+'"]';c==="image"&&m&&m.imageSrcSet?(E+='[imagesrcset="'+Ci(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(E+='[imagesizes="'+Ci(m.imageSizes)+'"]')):E+='[href="'+Ci(a)+'"]';var M=E;switch(c){case"style":M=mu(a);break;case"script":M=gu(a)}vs.has(M)||(a=y({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:a,as:c},m),vs.set(M,a),b.querySelector(E)!==null||c==="style"&&b.querySelector(Ld(M))||c==="script"&&b.querySelector(jd(M))||(c=b.createElement("link"),Yi(c,"link",a),Nt(c),b.head.appendChild(c)))}}function zN(a,c){Wa.m(a,c);var m=pu;if(m&&a){var b=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+Ci(b)+'"][href="'+Ci(a)+'"]',M=E;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=gu(a)}if(!vs.has(M)&&(a=y({rel:"modulepreload",href:a},c),vs.set(M,a),m.querySelector(E)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(jd(M)))return}b=m.createElement("link"),Yi(b,"link",a),Nt(b),m.head.appendChild(b)}}}function HN(a,c,m){Wa.S(a,c,m);var b=pu;if(b&&a){var E=bn(b).hoistableStyles,M=mu(a);c=c||"default";var H=E.get(M);if(!H){var W={loading:0,preload:null};if(H=b.querySelector(Ld(M)))W.loading=5;else{a=y({rel:"stylesheet",href:a,"data-precedence":c},m),(m=vs.get(M))&&Cg(a,m);var J=H=b.createElement("link");Nt(J),Yi(J,"link",a),J._p=new Promise(function(me,Ae){J.onload=me,J.onerror=Ae}),J.addEventListener("load",function(){W.loading|=1}),J.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Zh(H,c,b)}H={type:"stylesheet",instance:H,count:1,state:W},E.set(M,H)}}}function UN(a,c){Wa.X(a,c);var m=pu;if(m&&a){var b=bn(m).hoistableScripts,E=gu(a),M=b.get(E);M||(M=m.querySelector(jd(E)),M||(a=y({src:a,async:!0},c),(c=vs.get(E))&&Sg(a,c),M=m.createElement("script"),Nt(M),Yi(M,"link",a),m.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},b.set(E,M))}}function VN(a,c){Wa.M(a,c);var m=pu;if(m&&a){var b=bn(m).hoistableScripts,E=gu(a),M=b.get(E);M||(M=m.querySelector(jd(E)),M||(a=y({src:a,async:!0,type:"module"},c),(c=vs.get(E))&&Sg(a,c),M=m.createElement("script"),Nt(M),Yi(M,"link",a),m.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},b.set(E,M))}}function $w(a,c,m,b){var E=(E=Se.current)?Kh(E):null;if(!E)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=mu(m.href),m=bn(E).hoistableStyles,b=m.get(c),b||(b={type:"style",instance:null,count:0,state:null},m.set(c,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){a=mu(m.href);var M=bn(E).hoistableStyles,H=M.get(a);if(H||(E=E.ownerDocument||E,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(a,H),(M=E.querySelector(Ld(a)))&&!M._p&&(H.instance=M,H.state.loading=5),vs.has(a)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},vs.set(a,m),M||$N(E,a,m,H.state))),c&&b===null)throw Error(i(528,""));return H}if(c&&b!==null)throw Error(i(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=gu(m),m=bn(E).hoistableScripts,b=m.get(c),b||(b={type:"script",instance:null,count:0,state:null},m.set(c,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function mu(a){return'href="'+Ci(a)+'"'}function Ld(a){return'link[rel="stylesheet"]['+a+"]"}function Gw(a){return y({},a,{"data-precedence":a.precedence,precedence:null})}function $N(a,c,m,b){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?b.loading=1:(c=a.createElement("link"),b.preload=c,c.addEventListener("load",function(){return b.loading|=1}),c.addEventListener("error",function(){return b.loading|=2}),Yi(c,"link",m),Nt(c),a.head.appendChild(c))}function gu(a){return'[src="'+Ci(a)+'"]'}function jd(a){return"script[async]"+a}function qw(a,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var b=a.querySelector('style[data-href~="'+Ci(m.href)+'"]');if(b)return c.instance=b,Nt(b),b;var E=y({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return b=(a.ownerDocument||a).createElement("style"),Nt(b),Yi(b,"style",E),Zh(b,m.precedence,a),c.instance=b;case"stylesheet":E=mu(m.href);var M=a.querySelector(Ld(E));if(M)return c.state.loading|=4,c.instance=M,Nt(M),M;b=Gw(m),(E=vs.get(E))&&Cg(b,E),M=(a.ownerDocument||a).createElement("link"),Nt(M);var H=M;return H._p=new Promise(function(W,J){H.onload=W,H.onerror=J}),Yi(M,"link",b),c.state.loading|=4,Zh(M,m.precedence,a),c.instance=M;case"script":return M=gu(m.src),(E=a.querySelector(jd(M)))?(c.instance=E,Nt(E),E):(b=m,(E=vs.get(M))&&(b=y({},m),Sg(b,E)),a=a.ownerDocument||a,E=a.createElement("script"),Nt(E),Yi(E,"link",b),a.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(b=c.instance,c.state.loading|=4,Zh(b,m.precedence,a));return c.instance}function Zh(a,c,m){for(var b=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=b.length?b[b.length-1]:null,M=E,H=0;H<b.length;H++){var W=b[H];if(W.dataset.precedence===c)M=W;else if(M!==E)break}M?M.parentNode.insertBefore(a,M.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(a,c.firstChild))}function Cg(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function Sg(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Qh=null;function Ww(a,c,m){if(Qh===null){var b=new Map,E=Qh=new Map;E.set(m,b)}else E=Qh,b=E.get(m),b||(b=new Map,E.set(m,b));if(b.has(a))return b;for(b.set(a,null),m=m.getElementsByTagName(a),E=0;E<m.length;E++){var M=m[E];if(!(M[ut]||M[ke]||a==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var H=M.getAttribute(c)||"";H=a+H;var W=b.get(H);W?W.push(M):b.set(H,[M])}}return b}function Xw(a,c,m){a=a.ownerDocument||a,a.head.insertBefore(m,c==="title"?a.querySelector("head > title"):null)}function GN(a,c,m){if(m===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function Yw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Pd=null;function qN(){}function WN(a,c,m){if(Pd===null)throw Error(i(475));var b=Pd;if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var E=mu(m.href),M=a.querySelector(Ld(E));if(M){a=M._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(b.count++,b=Jh.bind(b),a.then(b,b)),c.state.loading|=4,c.instance=M,Nt(M);return}M=a.ownerDocument||a,m=Gw(m),(E=vs.get(E))&&Cg(m,E),M=M.createElement("link"),Nt(M);var H=M;H._p=new Promise(function(W,J){H.onload=W,H.onerror=J}),Yi(M,"link",m),c.instance=M}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(b.count++,c=Jh.bind(b),a.addEventListener("load",c),a.addEventListener("error",c))}}function XN(){if(Pd===null)throw Error(i(475));var a=Pd;return a.stylesheets&&a.count===0&&Eg(a,a.stylesheets),0<a.count?function(c){var m=setTimeout(function(){if(a.stylesheets&&Eg(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m)}}:null}function Jh(){if(this.count--,this.count===0){if(this.stylesheets)Eg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ep=null;function Eg(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ep=new Map,c.forEach(YN,a),ep=null,Jh.call(a))}function YN(a,c){if(!(c.state.loading&4)){var m=ep.get(a);if(m)var b=m.get(null);else{m=new Map,ep.set(a,m);for(var E=a.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<E.length;M++){var H=E[M];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(m.set(H.dataset.precedence,H),b=H)}b&&m.set(null,b)}E=c.instance,H=E.getAttribute("data-precedence"),M=m.get(H)||b,M===b&&m.set(null,E),m.set(H,E),this.count++,b=Jh.bind(this),E.addEventListener("load",b),E.addEventListener("error",b),M?M.parentNode.insertBefore(E,M.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(E,a.firstChild)),c.state.loading|=4}}var Fd={$$typeof:P,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function KN(a,c,m,b,E,M,H,W){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.hiddenUpdates=Gt(null),this.identifierPrefix=b,this.onUncaughtError=E,this.onCaughtError=M,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Kw(a,c,m,b,E,M,H,W,J,me,Ae,De){return a=new KN(a,c,m,H,W,J,me,De),c=1,M===!0&&(c|=24),M=qr(3,null,null,c),a.current=M,M.stateNode=a,c=a0(),c.refCount++,a.pooledCache=c,c.refCount++,M.memoizedState={element:b,isDehydrated:m,cache:c},u0(M),a}function Zw(a){return a?(a=Wc,a):Wc}function Qw(a,c,m,b,E,M){E=Zw(E),b.context===null?b.context=E:b.pendingContext=E,b=Io(c),b.payload={element:m},M=M===void 0?null:M,M!==null&&(b.callback=M),m=ko(a,b,c),m!==null&&(Zr(m,a,c),md(m,a,c))}function Jw(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<c?m:c}}function Ag(a,c){Jw(a,c),(a=a.alternate)&&Jw(a,c)}function e_(a){if(a.tag===13){var c=qc(a,67108864);c!==null&&Zr(c,a,67108864),Ag(a,67108864)}}var tp=!0;function ZN(a,c,m,b){var E=Q.T;Q.T=null;var M=le.p;try{le.p=2,Tg(a,c,m,b)}finally{le.p=M,Q.T=E}}function QN(a,c,m,b){var E=Q.T;Q.T=null;var M=le.p;try{le.p=8,Tg(a,c,m,b)}finally{le.p=M,Q.T=E}}function Tg(a,c,m,b){if(tp){var E=Ng(b);if(E===null)pg(a,c,b,np,m),n_(a,b);else if(e6(E,a,c,m,b))b.stopPropagation();else if(n_(a,b),c&4&&-1<JN.indexOf(a)){for(;E!==null;){var M=Dt(E);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var H=rn(M.pendingLanes);if(H!==0){var W=M;for(W.pendingLanes|=2,W.entangledLanes|=2;H;){var J=1<<31-Pt(H);W.entanglements[1]|=J,H&=~J}ha(M),(gn&6)===0&&(Fh=$t()+500,Id(0))}}break;case 13:W=qc(M,2),W!==null&&Zr(W,M,2),Hh(),Ag(M,2)}if(M=Ng(b),M===null&&pg(a,c,b,np,m),M===E)break;E=M}E!==null&&b.stopPropagation()}else pg(a,c,b,null,m)}}function Ng(a){return a=vo(a),Mg(a)}var np=null;function Mg(a){if(np=null,a=tt(a),a!==null){var c=s(a);if(c===null)a=null;else{var m=c.tag;if(m===13){if(a=l(c),a!==null)return a;a=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return np=a,null}function t_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case Tt:return 2;case Tr:return 8;case qe:case Ji:return 32;case Hr:return 268435456;default:return 32}default:return 32}}var Rg=!1,qo=null,Wo=null,Xo=null,zd=new Map,Hd=new Map,Yo=[],JN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n_(a,c){switch(a){case"focusin":case"focusout":qo=null;break;case"dragenter":case"dragleave":Wo=null;break;case"mouseover":case"mouseout":Xo=null;break;case"pointerover":case"pointerout":zd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hd.delete(c.pointerId)}}function Ud(a,c,m,b,E,M){return a===null||a.nativeEvent!==M?(a={blockedOn:c,domEventName:m,eventSystemFlags:b,nativeEvent:M,targetContainers:[E]},c!==null&&(c=Dt(c),c!==null&&e_(c)),a):(a.eventSystemFlags|=b,c=a.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),a)}function e6(a,c,m,b,E){switch(c){case"focusin":return qo=Ud(qo,a,c,m,b,E),!0;case"dragenter":return Wo=Ud(Wo,a,c,m,b,E),!0;case"mouseover":return Xo=Ud(Xo,a,c,m,b,E),!0;case"pointerover":var M=E.pointerId;return zd.set(M,Ud(zd.get(M)||null,a,c,m,b,E)),!0;case"gotpointercapture":return M=E.pointerId,Hd.set(M,Ud(Hd.get(M)||null,a,c,m,b,E)),!0}return!1}function i_(a){var c=tt(a.target);if(c!==null){var m=s(c);if(m!==null){if(c=m.tag,c===13){if(c=l(m),c!==null){a.blockedOn=c,ce(a.priority,function(){if(m.tag===13){var b=Kr();b=Ta(b);var E=qc(m,b);E!==null&&Zr(E,m,b),Ag(m,b)}});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ip(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var m=Ng(a.nativeEvent);if(m===null){m=a.nativeEvent;var b=new m.constructor(m.type,m);Bl=b,m.target.dispatchEvent(b),Bl=null}else return c=Dt(m),c!==null&&e_(c),a.blockedOn=m,!1;c.shift()}return!0}function r_(a,c,m){ip(a)&&m.delete(c)}function t6(){Rg=!1,qo!==null&&ip(qo)&&(qo=null),Wo!==null&&ip(Wo)&&(Wo=null),Xo!==null&&ip(Xo)&&(Xo=null),zd.forEach(r_),Hd.forEach(r_)}function rp(a,c){a.blockedOn===c&&(a.blockedOn=null,Rg||(Rg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,t6)))}var sp=null;function s_(a){sp!==a&&(sp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sp===a&&(sp=null);for(var c=0;c<a.length;c+=3){var m=a[c],b=a[c+1],E=a[c+2];if(typeof b!="function"){if(Mg(b||m)===null)continue;break}var M=Dt(m);M!==null&&(a.splice(c,3),c-=3,M0(M,{pending:!0,data:E,method:m.method,action:b},b,E))}}))}function Vd(a){function c(J){return rp(J,a)}qo!==null&&rp(qo,a),Wo!==null&&rp(Wo,a),Xo!==null&&rp(Xo,a),zd.forEach(c),Hd.forEach(c);for(var m=0;m<Yo.length;m++){var b=Yo[m];b.blockedOn===a&&(b.blockedOn=null)}for(;0<Yo.length&&(m=Yo[0],m.blockedOn===null);)i_(m),m.blockedOn===null&&Yo.shift();if(m=(a.ownerDocument||a).$$reactFormReplay,m!=null)for(b=0;b<m.length;b+=3){var E=m[b],M=m[b+1],H=E[ze]||null;if(typeof M=="function")H||s_(m);else if(H){var W=null;if(M&&M.hasAttribute("formAction")){if(E=M,H=M[ze]||null)W=H.formAction;else if(Mg(E)!==null)continue}else W=H.action;typeof W=="function"?m[b+1]=W:(m.splice(b,3),b-=3),s_(m)}}}function Og(a){this._internalRoot=a}ap.prototype.render=Og.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(i(409));var m=c.current,b=Kr();Qw(m,b,a,c,null,null)},ap.prototype.unmount=Og.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Qw(a.current,2,null,a,null,null),Hh(),c[Ke]=null}};function ap(a){this._internalRoot=a}ap.prototype.unstable_scheduleHydration=function(a){if(a){var c=te();a={blockedOn:null,target:a,priority:c};for(var m=0;m<Yo.length&&c!==0&&c<Yo[m].priority;m++);Yo.splice(m,0,a),m===0&&i_(a)}};var a_=e.version;if(a_!=="19.1.0")throw Error(i(527,a_,"19.1.0"));le.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=f(c),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var n6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!op.isDisabled&&op.supportsFiber)try{bt=op.inject(n6),_t=op}catch{}}return Gd.createRoot=function(a,c){if(!r(a))throw Error(i(299));var m=!1,b="",E=_b,M=Cb,H=Sb,W=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(M=c.onCaughtError),c.onRecoverableError!==void 0&&(H=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(W=c.unstable_transitionCallbacks)),c=Kw(a,1,!1,null,null,m,b,E,M,H,W,null),a[Ke]=c.current,hg(a),new Og(c)},Gd.hydrateRoot=function(a,c,m){if(!r(a))throw Error(i(299));var b=!1,E="",M=_b,H=Cb,W=Sb,J=null,me=null;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onUncaughtError!==void 0&&(M=m.onUncaughtError),m.onCaughtError!==void 0&&(H=m.onCaughtError),m.onRecoverableError!==void 0&&(W=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(J=m.unstable_transitionCallbacks),m.formState!==void 0&&(me=m.formState)),c=Kw(a,1,!0,c,m??null,b,E,M,H,W,J,me),c.context=Zw(null),m=c.current,b=Kr(),b=Ta(b),E=Io(b),E.callback=null,ko(m,E,b),m=b,c.current.lanes=m,hr(c,m),ha(c),a[Ke]=c.current,hg(a),new ap(c)},Gd.version="19.1.0",Gd}var g_;function f6(){if(g_)return kg.exports;g_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kg.exports=d6(),kg.exports}var h6=f6(),F=Mc();const Vt=Nl(F),p6=F.createContext(null),Pg={didCatch:!1,error:null};class m6 extends F.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Pg}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var n,i,r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];(n=(i=this.props).onReset)===null||n===void 0||n.call(i,{args:s,reason:"imperative-api"}),this.setState(Pg)}}componentDidCatch(e,n){var i,r;(i=(r=this.props).onError)===null||i===void 0||i.call(r,e,n)}componentDidUpdate(e,n){const{didCatch:i}=this.state,{resetKeys:r}=this.props;if(i&&n.error!==null&&g6(e.resetKeys,r)){var s,l;(s=(l=this.props).onReset)===null||s===void 0||s.call(l,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(Pg)}}render(){const{children:e,fallbackRender:n,FallbackComponent:i,fallback:r}=this.props,{didCatch:s,error:l}=this.state;let d=e;if(s){const f={error:l,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")d=n(f);else if(i)d=F.createElement(i,f);else if(r!==void 0)d=r;else throw l}return F.createElement(p6.Provider,{value:{didCatch:s,error:l,resetErrorBoundary:this.resetErrorBoundary}},d)}}function g6(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((n,i)=>!Object.is(n,e[i]))}var qd={},x_;function x6(){if(x_)return qd;x_=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.parse=l,qd.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function l(S,T){const A=new s,O=S.length;if(O<2)return A;const k=(T==null?void 0:T.decode)||y;let L=0;do{const $=S.indexOf("=",L);if($===-1)break;const P=S.indexOf(";",L),R=P===-1?O:P;if($>R){L=S.lastIndexOf(";",$-1)+1;continue}const D=d(S,L,$),B=f(S,$,D),z=S.slice(D,B);if(A[z]===void 0){let G=d(S,$+1,R),X=f(S,R,G);const se=k(S.slice(G,X));A[z]=se}L=R+1}while(L<O);return A}function d(S,T,A){do{const O=S.charCodeAt(T);if(O!==32&&O!==9)return T}while(++T<A);return A}function f(S,T,A){for(;T>A;){const O=S.charCodeAt(--T);if(O!==32&&O!==9)return T+1}return A}function p(S,T,A){const O=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(S))throw new TypeError(`argument name is invalid: ${S}`);const k=O(T);if(!e.test(k))throw new TypeError(`argument val is invalid: ${T}`);let L=S+"="+k;if(!A)return L;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);L+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);L+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);L+="; Path="+A.path}if(A.expires){if(!_(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);L+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(L+="; HttpOnly"),A.secure&&(L+="; Secure"),A.partitioned&&(L+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return L}function y(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function _(S){return r.call(S)==="[object Date]"}return qd}x6();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var XS=t=>{throw TypeError(t)},y6=(t,e,n)=>e.has(t)||XS("Cannot "+n),Fg=(t,e,n)=>(y6(t,e,"read from private field"),n?n.call(t):e.get(t)),v6=(t,e,n)=>e.has(t)?XS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),y_="popstate";function b6(t={}){function e(i,r){let{pathname:s,search:l,hash:d}=i.location;return Tf("",{pathname:s,search:l,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:_l(r)}return _6(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ui(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w6(){return Math.random().toString(36).substring(2,10)}function v_(t,e){return{usr:t.state,key:t.key,idx:e}}function Tf(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ml(e):e,state:n,key:e&&e.key||i||w6()}}function _l({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ml(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function _6(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,l=r.history,d="POP",f=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function _(){d="POP";let k=y(),L=k==null?null:k-p;p=k,f&&f({action:d,location:O.location,delta:L})}function S(k,L){d="PUSH";let $=Tf(O.location,k,L);p=y()+1;let P=v_($,p),R=O.createHref($);try{l.pushState(P,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(R)}s&&f&&f({action:d,location:O.location,delta:1})}function T(k,L){d="REPLACE";let $=Tf(O.location,k,L);p=y();let P=v_($,p),R=O.createHref($);l.replaceState(P,"",R),s&&f&&f({action:d,location:O.location,delta:0})}function A(k){return YS(k)}let O={get action(){return d},get location(){return t(r,l)},listen(k){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(y_,_),f=k,()=>{r.removeEventListener(y_,_),f=null}},createHref(k){return e(r,k)},createURL:A,encodeLocation(k){let L=A(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:S,replace:T,go(k){return l.go(k)}};return O}function YS(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:_l(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var lf,b_=class{constructor(t){if(v6(this,lf,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Fg(this,lf).has(t))return Fg(this,lf).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Fg(this,lf).set(t,e)}};lf=new WeakMap;var C6=new Set(["lazy","caseSensitive","path","id","index","children"]);function S6(t){return C6.has(t)}var E6=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function A6(t){return E6.has(t)}function T6(t){return t.index===!0}function Jp(t,e,n=[],i={}){return t.map((r,s)=>{let l=[...n,String(s)],d=typeof r.id=="string"?r.id:l.join("-");if(Wt(r.index!==!0||!r.children,"Cannot specify children on an index route"),Wt(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),T6(r)){let f={...r,...e(r),id:d};return i[d]=f,f}else{let f={...r,...e(r),id:d,children:void 0};return i[d]=f,r.children&&(f.children=Jp(r.children,e,l,i)),f}})}function cl(t,e,n="/"){return Fp(t,e,n,!1)}function Fp(t,e,n,i){let r=typeof e=="string"?Ml(e):e,s=Os(r.pathname||"/",n);if(s==null)return null;let l=KS(t);M6(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let p=z6(s);d=P6(l[f],p,i)}return d}function N6(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],handle:n.handle}}function KS(t,e=[],n=[],i=""){let r=(s,l,d)=>{let f={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};f.relativePath.startsWith("/")&&(Wt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=Sa([i,f.relativePath]),y=n.concat(f);s.children&&s.children.length>0&&(Wt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),KS(s.children,e,y,p)),!(s.path==null&&!s.index)&&e.push({path:p,score:L6(p,s.index),routesMeta:y})};return t.forEach((s,l)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))r(s,l);else for(let f of ZS(s.path))r(s,l,f)}),e}function ZS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let l=ZS(i.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),r&&d.push(...l),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function M6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:j6(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var R6=/^:[\w-]+$/,O6=3,I6=2,k6=1,D6=10,B6=-2,w_=t=>t==="*";function L6(t,e){let n=t.split("/"),i=n.length;return n.some(w_)&&(i+=B6),e&&(i+=I6),n.filter(r=>!w_(r)).reduce((r,s)=>r+(R6.test(s)?O6:s===""?k6:D6),i)}function j6(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function P6(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",l=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,y=s==="/"?e:e.slice(s.length)||"/",_=e1({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),S=f.route;if(!_&&p&&n&&!i[i.length-1].route.index&&(_=e1({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(r,_.params),l.push({params:r,pathname:Sa([s,_.pathname]),pathnameBase:V6(Sa([s,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(s=Sa([s,_.pathnameBase]))}return l}function e1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=F6(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],l=s.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},S)=>{if(y==="*"){let A=d[S]||"";l=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const T=d[S];return _&&!T?p[y]=void 0:p[y]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:l,pattern:t}}function F6(t,e=!1,n=!0){ui(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function z6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Os(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function H6(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Ml(t):t;return{pathname:n?n.startsWith("/")?n:U6(n,e):e,search:$6(i),hash:G6(r)}}function U6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function zg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lm(t){let e=QS(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function cm(t,e,n,i=!1){let r;typeof t=="string"?r=Ml(t):(r={...t},Wt(!r.pathname||!r.pathname.includes("?"),zg("?","pathname","search",r)),Wt(!r.pathname||!r.pathname.includes("#"),zg("#","pathname","hash",r)),Wt(!r.search||!r.search.includes("#"),zg("#","search","hash",r)));let s=t===""||r.pathname==="",l=s?"/":r.pathname,d;if(l==null)d=n;else{let _=e.length-1;if(!i&&l.startsWith("..")){let S=l.split("/");for(;S[0]==="..";)S.shift(),_-=1;r.pathname=S.join("/")}d=_>=0?e[_]:"/"}let f=H6(r,d),p=l&&l!=="/"&&l.endsWith("/"),y=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var Sa=t=>t.join("/").replace(/\/\/+/g,"/"),V6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,G6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,t1=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Nf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var JS=["POST","PUT","PATCH","DELETE"],q6=new Set(JS),W6=["GET",...JS],X6=new Set(W6),Y6=new Set([301,302,303,307,308]),K6=new Set([307,308]),Hg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Z6={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Wd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},r2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q6=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),eE="remix-router-transitions",tE=Symbol("ResetLoaderData");function J6(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Wt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.hydrationRouteProperties||[],r=t.mapRouteProperties||Q6,s={},l=Jp(t.routes,r,void 0,s),d,f=t.basename||"/",p=t.dataStrategy||r5,y={unstable_middleware:!1,...t.future},_=null,S=new Set,T=null,A=null,O=null,k=t.hydrationData!=null,L=cl(l,t.history.location,f),$=!1,P=null,R;if(L==null&&!t.patchRoutesOnNavigation){let te=As(404,{pathname:t.history.location.pathname}),{matches:ce,route:ge}=k_(l);R=!0,L=ce,P={[ge.id]:te}}else if(L&&!t.hydrationData&&Zs(L,l,t.history.location.pathname).active&&(L=null),L)if(L.some(te=>te.route.lazy))R=!1;else if(!L.some(te=>te.route.loader))R=!0;else{let te=t.hydrationData?t.hydrationData.loaderData:null,ce=t.hydrationData?t.hydrationData.errors:null;if(ce){let ge=L.findIndex(ke=>ce[ke.route.id]!==void 0);R=L.slice(0,ge+1).every(ke=>!ly(ke.route,te,ce))}else R=L.every(ge=>!ly(ge.route,te,ce))}else{R=!1,L=[];let te=Zs(null,l,t.history.location.pathname);te.active&&te.matches&&($=!0,L=te.matches)}let D,B={historyAction:t.history.action,location:t.history.location,matches:L,initialized:R,navigation:Hg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},z="POP",G=!1,X,se=!1,ae=new Map,ue=null,Oe=!1,Te=!1,ne=new Set,Q=new Map,le=0,fe=-1,Be=new Map,Z=new Set,be=new Map,Re=new Map,Le=new Set,Ie=new Map,et,Se=null;function Ln(){if(_=t.history.listen(({action:te,location:ce,delta:ge})=>{if(et){et(),et=void 0;return}ui(Ie.size===0||ge!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ke=Nr({currentLocation:B.location,nextLocation:ce,historyAction:te});if(ke&&ge!=null){let ze=new Promise(Ke=>{et=Ke});t.history.go(ge*-1),Xt(ke,{state:"blocked",location:ce,proceed(){Xt(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),ze.then(()=>t.history.go(ge))},reset(){let Ke=new Map(B.blockers);Ke.set(ke,Wd),un({blockers:Ke})}});return}return ii(te,ce)}),n){m5(e,ae);let te=()=>g5(e,ae);e.addEventListener("pagehide",te),ue=()=>e.removeEventListener("pagehide",te)}return B.initialized||ii("POP",B.location,{initialHydration:!0}),D}function xt(){_&&_(),ue&&ue(),S.clear(),X&&X.abort(),B.fetchers.forEach((te,ce)=>Pt(ce)),B.blockers.forEach((te,ce)=>Ft(ce))}function bi(te){return S.add(te),()=>S.delete(te)}function un(te,ce={}){B={...B,...te};let ge=[],ke=[];B.fetchers.forEach((ze,Ke)=>{ze.state==="idle"&&(Le.has(Ke)?ge.push(Ke):ke.push(Ke))}),Le.forEach(ze=>{!B.fetchers.has(ze)&&!Q.has(ze)&&ge.push(ze)}),[...S].forEach(ze=>ze(B,{deletedFetchers:ge,viewTransitionOpts:ce.viewTransitionOpts,flushSync:ce.flushSync===!0})),ge.forEach(ze=>Pt(ze)),ke.forEach(ze=>B.fetchers.delete(ze))}function ln(te,ce,{flushSync:ge}={}){var Ee,ut;let ke=B.actionData!=null&&B.navigation.formMethod!=null&&rs(B.navigation.formMethod)&&B.navigation.state==="loading"&&((Ee=te.state)==null?void 0:Ee._isRedirect)!==!0,ze;ce.actionData?Object.keys(ce.actionData).length>0?ze=ce.actionData:ze=null:ke?ze=B.actionData:ze=null;let Ke=ce.loaderData?O_(B.loaderData,ce.loaderData,ce.matches||[],ce.errors):B.loaderData,Ze=B.blockers;Ze.size>0&&(Ze=new Map(Ze),Ze.forEach((nt,tt)=>Ze.set(tt,Wd)));let Ge=G===!0||B.navigation.formMethod!=null&&rs(B.navigation.formMethod)&&((ut=te.state)==null?void 0:ut._isRedirect)!==!0;d&&(l=d,d=void 0),Oe||z==="POP"||(z==="PUSH"?t.history.push(te,te.state):z==="REPLACE"&&t.history.replace(te,te.state));let Xe;if(z==="POP"){let nt=ae.get(B.location.pathname);nt&&nt.has(te.pathname)?Xe={currentLocation:B.location,nextLocation:te}:ae.has(te.pathname)&&(Xe={currentLocation:te,nextLocation:B.location})}else if(se){let nt=ae.get(B.location.pathname);nt?nt.add(te.pathname):(nt=new Set([te.pathname]),ae.set(B.location.pathname,nt)),Xe={currentLocation:B.location,nextLocation:te}}un({...ce,actionData:ze,loaderData:Ke,historyAction:z,location:te,initialized:!0,navigation:Hg,revalidation:"idle",restoreScrollPosition:Dl(te,ce.matches||B.matches),preventScrollReset:Ge,blockers:Ze},{viewTransitionOpts:Xe,flushSync:ge===!0}),z="POP",G=!1,se=!1,Oe=!1,Te=!1,Se==null||Se.resolve(),Se=null}async function ki(te,ce){if(typeof te=="number"){t.history.go(te);return}let ge=oy(B.location,B.matches,f,te,ce==null?void 0:ce.fromRouteId,ce==null?void 0:ce.relative),{path:ke,submission:ze,error:Ke}=__(!1,ge,ce),Ze=B.location,Ge=Tf(B.location,ke,ce&&ce.state);Ge={...Ge,...t.history.encodeLocation(Ge)};let Xe=ce&&ce.replace!=null?ce.replace:void 0,Ee="PUSH";Xe===!0?Ee="REPLACE":Xe===!1||ze!=null&&rs(ze.formMethod)&&ze.formAction===B.location.pathname+B.location.search&&(Ee="REPLACE");let ut=ce&&"preventScrollReset"in ce?ce.preventScrollReset===!0:void 0,nt=(ce&&ce.flushSync)===!0,tt=Nr({currentLocation:Ze,nextLocation:Ge,historyAction:Ee});if(tt){Xt(tt,{state:"blocked",location:Ge,proceed(){Xt(tt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ge}),ki(te,ce)},reset(){let Dt=new Map(B.blockers);Dt.set(tt,Wd),un({blockers:Dt})}});return}await ii(Ee,Ge,{submission:ze,pendingError:Ke,preventScrollReset:ut,replace:ce&&ce.replace,enableViewTransition:ce&&ce.viewTransition,flushSync:nt})}function kt(){Se||(Se=x5()),at(),un({revalidation:"loading"});let te=Se.promise;return B.navigation.state==="submitting"?te:B.navigation.state==="idle"?(ii(B.historyAction,B.location,{startUninterruptedRevalidation:!0}),te):(ii(z||B.historyAction,B.navigation.location,{overrideNavigation:B.navigation,enableViewTransition:se===!0}),te)}async function ii(te,ce,ge){X&&X.abort(),X=null,z=te,Oe=(ge&&ge.startUninterruptedRevalidation)===!0,hr(B.location,B.matches),G=(ge&&ge.preventScrollReset)===!0,se=(ge&&ge.enableViewTransition)===!0;let ke=d||l,ze=ge&&ge.overrideNavigation,Ke=ge!=null&&ge.initialHydration&&B.matches&&B.matches.length>0&&!$?B.matches:cl(ke,ce,f),Ze=(ge&&ge.flushSync)===!0;if(Ke&&B.initialized&&!Te&&u5(B.location,ce)&&!(ge&&ge.submission&&rs(ge.submission.formMethod))){ln(ce,{matches:Ke},{flushSync:Ze});return}let Ge=Zs(Ke,ke,ce.pathname);if(Ge.active&&Ge.matches&&(Ke=Ge.matches),!Ke){let{error:bn,notFoundMatches:Nt,route:Yt}=us(ce.pathname);ln(ce,{matches:Nt,loaderData:{},errors:{[Yt.id]:bn}},{flushSync:Ze});return}X=new AbortController;let Xe=Ru(t.history,ce,X.signal,ge&&ge.submission),Ee=new b_(t.unstable_getContext?await t.unstable_getContext():void 0),ut;if(ge&&ge.pendingError)ut=[oc(Ke).route.id,{type:"error",error:ge.pendingError}];else if(ge&&ge.submission&&rs(ge.submission.formMethod)){let bn=await $i(Xe,ce,ge.submission,Ke,Ee,Ge.active,ge&&ge.initialHydration===!0,{replace:ge.replace,flushSync:Ze});if(bn.shortCircuited)return;if(bn.pendingActionResult){let[Nt,Yt]=bn.pendingActionResult;if(is(Yt)&&Nf(Yt.error)&&Yt.error.status===404){X=null,ln(ce,{matches:bn.matches,loaderData:{},errors:{[Nt]:Yt.error}});return}}Ke=bn.matches||Ke,ut=bn.pendingActionResult,ze=Ug(ce,ge.submission),Ze=!1,Ge.active=!1,Xe=Ru(t.history,Xe.url,Xe.signal)}let{shortCircuited:nt,matches:tt,loaderData:Dt,errors:dn}=await cs(Xe,ce,Ke,Ee,Ge.active,ze,ge&&ge.submission,ge&&ge.fetcherSubmission,ge&&ge.replace,ge&&ge.initialHydration===!0,Ze,ut);nt||(X=null,ln(ce,{matches:tt||Ke,...I_(ut),loaderData:Dt,errors:dn}))}async function $i(te,ce,ge,ke,ze,Ke,Ze,Ge={}){at();let Xe=h5(ce,ge);if(un({navigation:Xe},{flushSync:Ge.flushSync===!0}),Ke){let nt=await _i(ke,ce.pathname,te.signal);if(nt.type==="aborted")return{shortCircuited:!0};if(nt.type==="error"){let tt=oc(nt.partialMatches).route.id;return{matches:nt.partialMatches,pendingActionResult:[tt,{type:"error",error:nt.error}]}}else if(nt.matches)ke=nt.matches;else{let{notFoundMatches:tt,error:Dt,route:dn}=us(ce.pathname);return{matches:tt,pendingActionResult:[dn.id,{type:"error",error:Dt}]}}}let Ee,ut=cf(ke,ce);if(!ut.route.action&&!ut.route.lazy)Ee={type:"error",error:As(405,{method:te.method,pathname:ce.pathname,routeId:ut.route.id})};else{let nt=ju(r,s,te,ke,ut,Ze?[]:i,ze),tt=await Hr(te,nt,ze,null);if(Ee=tt[ut.route.id],!Ee){for(let Dt of ke)if(tt[Dt.route.id]){Ee=tt[Dt.route.id];break}}if(te.signal.aborted)return{shortCircuited:!0}}if(uc(Ee)){let nt;return Ge&&Ge.replace!=null?nt=Ge.replace:nt=N_(Ee.response.headers.get("Location"),new URL(te.url),f)===B.location.pathname+B.location.search,await Ji(te,Ee,!0,{submission:ge,replace:nt}),{shortCircuited:!0}}if(is(Ee)){let nt=oc(ke,ut.route.id);return(Ge&&Ge.replace)!==!0&&(z="PUSH"),{matches:ke,pendingActionResult:[nt.route.id,Ee,ut.route.id]}}return{matches:ke,pendingActionResult:[ut.route.id,Ee]}}async function cs(te,ce,ge,ke,ze,Ke,Ze,Ge,Xe,Ee,ut,nt){let tt=Ke||Ug(ce,Ze),Dt=Ze||Ge||B_(tt),dn=!Oe&&!Ee;if(ze){if(dn){let Un=$t(nt);un({navigation:tt,...Un!==void 0?{actionData:Un}:{}},{flushSync:ut})}let it=await _i(ge,ce.pathname,te.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){let Un=oc(it.partialMatches).route.id;return{matches:it.partialMatches,loaderData:{},errors:{[Un]:it.error}}}else if(it.matches)ge=it.matches;else{let{error:Un,notFoundMatches:Vr,route:Mt}=us(ce.pathname);return{matches:Vr,loaderData:{},errors:{[Mt.id]:Un}}}}let bn=d||l,{dsMatches:Nt,revalidatingFetchers:Yt}=C_(te,ke,r,s,t.history,B,ge,Dt,ce,Ee?[]:i,Ee===!0,Te,ne,Le,be,Z,bn,f,t.patchRoutesOnNavigation!=null,nt);if(fe=++le,!t.dataStrategy&&!Nt.some(it=>it.shouldLoad)&&Yt.length===0){let it=sn();return ln(ce,{matches:ge,loaderData:{},errors:nt&&is(nt[1])?{[nt[0]]:nt[1].error}:null,...I_(nt),...it?{fetchers:new Map(B.fetchers)}:{}},{flushSync:ut}),{shortCircuited:!0}}if(dn){let it={};if(!ze){it.navigation=tt;let Un=$t(nt);Un!==void 0&&(it.actionData=Un)}Yt.length>0&&(it.fetchers=en(Yt)),un(it,{flushSync:ut})}Yt.forEach(it=>{wi(it.key),it.controller&&Q.set(it.key,it.controller)});let Qs=()=>Yt.forEach(it=>wi(it.key));X&&X.signal.addEventListener("abort",Qs);let{loaderResults:Mn,fetcherResults:wn}=await $e(Nt,Yt,te,ke);if(te.signal.aborted)return{shortCircuited:!0};X&&X.signal.removeEventListener("abort",Qs),Yt.forEach(it=>Q.delete(it.key));let zt=cp(Mn);if(zt)return await Ji(te,zt.result,!0,{replace:Xe}),{shortCircuited:!0};if(zt=cp(wn),zt)return Z.add(zt.key),await Ji(te,zt.result,!0,{replace:Xe}),{shortCircuited:!0};let{loaderData:Ds,errors:Gi}=R_(B,ge,Mn,nt,Yt,wn);Ee&&B.errors&&(Gi={...B.errors,...Gi});let Na=sn(),Ne=Ue(fe),Bs=Na||Ne||Yt.length>0;return{matches:ge,loaderData:Ds,errors:Gi,...Bs?{fetchers:new Map(B.fetchers)}:{}}}function $t(te){if(te&&!is(te[1]))return{[te[0]]:te[1].data};if(B.actionData)return Object.keys(B.actionData).length===0?null:B.actionData}function en(te){return te.forEach(ce=>{let ge=B.fetchers.get(ce.key),ke=Xd(void 0,ge?ge.data:void 0);B.fetchers.set(ce.key,ke)}),new Map(B.fetchers)}async function Tt(te,ce,ge,ke){wi(te);let ze=(ke&&ke.flushSync)===!0,Ke=d||l,Ze=oy(B.location,B.matches,f,ge,ce,ke==null?void 0:ke.relative),Ge=cl(Ke,Ze,f),Xe=Zs(Ge,Ke,Ze);if(Xe.active&&Xe.matches&&(Ge=Xe.matches),!Ge){_t(te,ce,As(404,{pathname:Ze}),{flushSync:ze});return}let{path:Ee,submission:ut,error:nt}=__(!0,Ze,ke);if(nt){_t(te,ce,nt,{flushSync:ze});return}let tt=cf(Ge,Ee),Dt=new b_(t.unstable_getContext?await t.unstable_getContext():void 0),dn=(ke&&ke.preventScrollReset)===!0;if(ut&&rs(ut.formMethod)){await Tr(te,ce,Ee,tt,Ge,Dt,Xe.active,ze,dn,ut);return}be.set(te,{routeId:ce,path:Ee}),await qe(te,ce,Ee,tt,Ge,Dt,Xe.active,ze,dn,ut)}async function Tr(te,ce,ge,ke,ze,Ke,Ze,Ge,Xe,Ee){at(),be.delete(te);function ut(rt){if(!rt.route.action&&!rt.route.lazy){let ds=As(405,{method:Ee.formMethod,pathname:ge,routeId:ce});return _t(te,ce,ds,{flushSync:Ge}),!0}return!1}if(!Ze&&ut(ke))return;let nt=B.fetchers.get(te);bt(te,p5(Ee,nt),{flushSync:Ge});let tt=new AbortController,Dt=Ru(t.history,ge,tt.signal,Ee);if(Ze){let rt=await _i(ze,ge,Dt.signal,te);if(rt.type==="aborted")return;if(rt.type==="error"){_t(te,ce,rt.error,{flushSync:Ge});return}else if(rt.matches){if(ze=rt.matches,ke=cf(ze,ge),ut(ke))return}else{_t(te,ce,As(404,{pathname:ge}),{flushSync:Ge});return}}Q.set(te,tt);let dn=le,bn=ju(r,s,Dt,ze,ke,i,Ke),Yt=(await Hr(Dt,bn,Ke,te))[ke.route.id];if(Dt.signal.aborted){Q.get(te)===tt&&Q.delete(te);return}if(Le.has(te)){if(uc(Yt)||is(Yt)){bt(te,rl(void 0));return}}else{if(uc(Yt))if(Q.delete(te),fe>dn){bt(te,rl(void 0));return}else return Z.add(te),bt(te,Xd(Ee)),Ji(Dt,Yt,!1,{fetcherSubmission:Ee,preventScrollReset:Xe});if(is(Yt)){_t(te,ce,Yt.error);return}}let Qs=B.navigation.location||B.location,Mn=Ru(t.history,Qs,tt.signal),wn=d||l,zt=B.navigation.state!=="idle"?cl(wn,B.navigation.location,f):B.matches;Wt(zt,"Didn't find any matches after fetcher action");let Ds=++le;Be.set(te,Ds);let Gi=Xd(Ee,Yt.data);B.fetchers.set(te,Gi);let{dsMatches:Na,revalidatingFetchers:Ne}=C_(Mn,Ke,r,s,t.history,B,zt,Ee,Qs,i,!1,Te,ne,Le,be,Z,wn,f,t.patchRoutesOnNavigation!=null,[ke.route.id,Yt]);Ne.filter(rt=>rt.key!==te).forEach(rt=>{let ds=rt.key,Ma=B.fetchers.get(ds),Di=Xd(void 0,Ma?Ma.data:void 0);B.fetchers.set(ds,Di),wi(ds),rt.controller&&Q.set(ds,rt.controller)}),un({fetchers:new Map(B.fetchers)});let Bs=()=>Ne.forEach(rt=>wi(rt.key));tt.signal.addEventListener("abort",Bs);let{loaderResults:it,fetcherResults:Un}=await $e(Na,Ne,Mn,Ke);if(tt.signal.aborted)return;if(tt.signal.removeEventListener("abort",Bs),Be.delete(te),Q.delete(te),Ne.forEach(rt=>Q.delete(rt.key)),B.fetchers.has(te)){let rt=rl(Yt.data);B.fetchers.set(te,rt)}let Vr=cp(it);if(Vr)return Ji(Mn,Vr.result,!1,{preventScrollReset:Xe});if(Vr=cp(Un),Vr)return Z.add(Vr.key),Ji(Mn,Vr.result,!1,{preventScrollReset:Xe});let{loaderData:Mt,errors:Ht}=R_(B,zt,it,void 0,Ne,Un);Ue(Ds),B.navigation.state==="loading"&&Ds>fe?(Wt(z,"Expected pending action"),X&&X.abort(),ln(B.navigation.location,{matches:zt,loaderData:Mt,errors:Ht,fetchers:new Map(B.fetchers)})):(un({errors:Ht,loaderData:O_(B.loaderData,Mt,zt,Ht),fetchers:new Map(B.fetchers)}),Te=!1)}async function qe(te,ce,ge,ke,ze,Ke,Ze,Ge,Xe,Ee){let ut=B.fetchers.get(te);bt(te,Xd(Ee,ut?ut.data:void 0),{flushSync:Ge});let nt=new AbortController,tt=Ru(t.history,ge,nt.signal);if(Ze){let Yt=await _i(ze,ge,tt.signal,te);if(Yt.type==="aborted")return;if(Yt.type==="error"){_t(te,ce,Yt.error,{flushSync:Ge});return}else if(Yt.matches)ze=Yt.matches,ke=cf(ze,ge);else{_t(te,ce,As(404,{pathname:ge}),{flushSync:Ge});return}}Q.set(te,nt);let Dt=le,dn=ju(r,s,tt,ze,ke,i,Ke),Nt=(await Hr(tt,dn,Ke,te))[ke.route.id];if(Q.get(te)===nt&&Q.delete(te),!tt.signal.aborted){if(Le.has(te)){bt(te,rl(void 0));return}if(uc(Nt))if(fe>Dt){bt(te,rl(void 0));return}else{Z.add(te),await Ji(tt,Nt,!1,{preventScrollReset:Xe});return}if(is(Nt)){_t(te,ce,Nt.error);return}bt(te,rl(Nt.data))}}async function Ji(te,ce,ge,{submission:ke,fetcherSubmission:ze,preventScrollReset:Ke,replace:Ze}={}){ce.response.headers.has("X-Remix-Revalidate")&&(Te=!0);let Ge=ce.response.headers.get("Location");Wt(Ge,"Expected a Location header on the redirect Response"),Ge=N_(Ge,new URL(te.url),f);let Xe=Tf(B.location,Ge,{_isRedirect:!0});if(n){let dn=!1;if(ce.response.headers.has("X-Remix-Reload-Document"))dn=!0;else if(r2.test(Ge)){const bn=YS(Ge,!0);dn=bn.origin!==e.location.origin||Os(bn.pathname,f)==null}if(dn){Ze?e.location.replace(Ge):e.location.assign(Ge);return}}X=null;let Ee=Ze===!0||ce.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ut,formAction:nt,formEncType:tt}=B.navigation;!ke&&!ze&&ut&&nt&&tt&&(ke=B_(B.navigation));let Dt=ke||ze;if(K6.has(ce.response.status)&&Dt&&rs(Dt.formMethod))await ii(Ee,Xe,{submission:{...Dt,formAction:Ge},preventScrollReset:Ke||G,enableViewTransition:ge?se:void 0});else{let dn=Ug(Xe,ke);await ii(Ee,Xe,{overrideNavigation:dn,fetcherSubmission:ze,preventScrollReset:Ke||G,enableViewTransition:ge?se:void 0})}}async function Hr(te,ce,ge,ke){let ze,Ke={};try{ze=await s5(p,te,ce,ke,ge,!1)}catch(Ze){return ce.filter(Ge=>Ge.shouldLoad).forEach(Ge=>{Ke[Ge.route.id]={type:"error",error:Ze}}),Ke}if(te.signal.aborted)return Ke;for(let[Ze,Ge]of Object.entries(ze))if(d5(Ge)){let Xe=Ge.result;Ke[Ze]={type:"redirect",response:l5(Xe,te,Ze,ce,f)}}else Ke[Ze]=await o5(Ge);return Ke}async function $e(te,ce,ge,ke){let ze=Hr(ge,te,ke,null),Ke=Promise.all(ce.map(async Xe=>{if(Xe.matches&&Xe.match&&Xe.request&&Xe.controller){let ut=(await Hr(Xe.request,Xe.matches,ke,Xe.key))[Xe.match.route.id];return{[Xe.key]:ut}}else return Promise.resolve({[Xe.key]:{type:"error",error:As(404,{pathname:Xe.path})}})})),Ze=await ze,Ge=(await Ke).reduce((Xe,Ee)=>Object.assign(Xe,Ee),{});return{loaderResults:Ze,fetcherResults:Ge}}function at(){Te=!0,be.forEach((te,ce)=>{Q.has(ce)&&ne.add(ce),wi(ce)})}function bt(te,ce,ge={}){B.fetchers.set(te,ce),un({fetchers:new Map(B.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function _t(te,ce,ge,ke={}){let ze=oc(B.matches,ce);Pt(te),un({errors:{[ze.route.id]:ge},fetchers:new Map(B.fetchers)},{flushSync:(ke&&ke.flushSync)===!0})}function tn(te){return Re.set(te,(Re.get(te)||0)+1),Le.has(te)&&Le.delete(te),B.fetchers.get(te)||Z6}function Pt(te){let ce=B.fetchers.get(te);Q.has(te)&&!(ce&&ce.state==="loading"&&Be.has(te))&&wi(te),be.delete(te),Be.delete(te),Z.delete(te),Le.delete(te),ne.delete(te),B.fetchers.delete(te)}function Ur(te){let ce=(Re.get(te)||0)-1;ce<=0?(Re.delete(te),Le.add(te)):Re.set(te,ce),un({fetchers:new Map(B.fetchers)})}function wi(te){let ce=Q.get(te);ce&&(ce.abort(),Q.delete(te))}function Ks(te){for(let ce of te){let ge=tn(ce),ke=rl(ge.data);B.fetchers.set(ce,ke)}}function sn(){let te=[],ce=!1;for(let ge of Z){let ke=B.fetchers.get(ge);Wt(ke,`Expected fetcher: ${ge}`),ke.state==="loading"&&(Z.delete(ge),te.push(ge),ce=!0)}return Ks(te),ce}function Ue(te){let ce=[];for(let[ge,ke]of Be)if(ke<te){let ze=B.fetchers.get(ge);Wt(ze,`Expected fetcher: ${ge}`),ze.state==="loading"&&(wi(ge),Be.delete(ge),ce.push(ge))}return Ks(ce),ce.length>0}function rn(te,ce){let ge=B.blockers.get(te)||Wd;return Ie.get(te)!==ce&&Ie.set(te,ce),ge}function Ft(te){B.blockers.delete(te),Ie.delete(te)}function Xt(te,ce){let ge=B.blockers.get(te)||Wd;Wt(ge.state==="unblocked"&&ce.state==="blocked"||ge.state==="blocked"&&ce.state==="blocked"||ge.state==="blocked"&&ce.state==="proceeding"||ge.state==="blocked"&&ce.state==="unblocked"||ge.state==="proceeding"&&ce.state==="unblocked",`Invalid blocker state transition: ${ge.state} -> ${ce.state}`);let ke=new Map(B.blockers);ke.set(te,ce),un({blockers:ke})}function Nr({currentLocation:te,nextLocation:ce,historyAction:ge}){if(Ie.size===0)return;Ie.size>1&&ui(!1,"A router only supports one blocker at a time");let ke=Array.from(Ie.entries()),[ze,Ke]=ke[ke.length-1],Ze=B.blockers.get(ze);if(!(Ze&&Ze.state==="proceeding")&&Ke({currentLocation:te,nextLocation:ce,historyAction:ge}))return ze}function us(te){let ce=As(404,{pathname:te}),ge=d||l,{matches:ke,route:ze}=k_(ge);return{notFoundMatches:ke,route:ze,error:ce}}function kl(te,ce,ge){if(T=te,O=ce,A=ge||null,!k&&B.navigation===Hg){k=!0;let ke=Dl(B.location,B.matches);ke!=null&&un({restoreScrollPosition:ke})}return()=>{T=null,O=null,A=null}}function Gt(te,ce){return A&&A(te,ce.map(ke=>N6(ke,B.loaderData)))||te.key}function hr(te,ce){if(T&&O){let ge=Gt(te,ce);T[ge]=O()}}function Dl(te,ce){if(T){let ge=Gt(te,ce),ke=T[ge];if(typeof ke=="number")return ke}return null}function Zs(te,ce,ge){if(t.patchRoutesOnNavigation)if(te){if(Object.keys(te[0].params).length>0)return{active:!0,matches:Fp(ce,ge,f,!0)}}else return{active:!0,matches:Fp(ce,ge,f,!0)||[]};return{active:!1,matches:null}}async function _i(te,ce,ge,ke){if(!t.patchRoutesOnNavigation)return{type:"success",matches:te};let ze=te;for(;;){let Ke=d==null,Ze=d||l,Ge=s;try{await t.patchRoutesOnNavigation({signal:ge,path:ce,matches:ze,fetcherKey:ke,patch:(ut,nt)=>{ge.aborted||S_(ut,nt,Ze,Ge,r)}})}catch(ut){return{type:"error",error:ut,partialMatches:ze}}finally{Ke&&!ge.aborted&&(l=[...l])}if(ge.aborted)return{type:"aborted"};let Xe=cl(Ze,ce,f);if(Xe)return{type:"success",matches:Xe};let Ee=Fp(Ze,ce,f,!0);if(!Ee||ze.length===Ee.length&&ze.every((ut,nt)=>ut.route.id===Ee[nt].route.id))return{type:"success",matches:null};ze=Ee}}function Ta(te){s={},d=Jp(te,r,void 0,s)}function Yn(te,ce){let ge=d==null;S_(te,ce,d||l,s,r),ge&&(l=[...l],un({}))}return D={get basename(){return f},get future(){return y},get state(){return B},get routes(){return l},get window(){return e},initialize:Ln,subscribe:bi,enableScrollRestoration:kl,navigate:ki,fetch:Tt,revalidate:kt,createHref:te=>t.history.createHref(te),encodeLocation:te=>t.history.encodeLocation(te),getFetcher:tn,deleteFetcher:Ur,dispose:xt,getBlocker:rn,deleteBlocker:Ft,patchRoutes:Yn,_internalFetchControllers:Q,_internalSetRoutes:Ta},D}function e5(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function oy(t,e,n,i,r,s){let l,d;if(r){l=[];for(let p of e)if(l.push(p),p.route.id===r){d=p;break}}else l=e,d=e[e.length-1];let f=cm(i||".",lm(l),Os(t.pathname,n)||t.pathname,s==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&d){let p=s2(f.search);if(d.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let y=new URLSearchParams(f.search),_=y.getAll("index");y.delete("index"),_.filter(T=>T).forEach(T=>y.append("index",T));let S=y.toString();f.search=S?`?${S}`:""}}return n!=="/"&&(f.pathname=f.pathname==="/"?n:Sa([n,f.pathname])),_l(f)}function __(t,e,n){if(!n||!e5(n))return{path:e};if(n.formMethod&&!f5(n.formMethod))return{path:e,error:As(405,{method:n.formMethod})};let i=()=>({path:e,error:As(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),l=oE(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!rs(s))return i();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[T,A])=>`${S}${T}=${A}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!rs(s))return i();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return i()}}}Wt(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=uy(n.formData),f=n.formData;else if(n.body instanceof FormData)d=uy(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=M_(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=M_(d)}catch{return i()}let p={formMethod:s,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(rs(p.formMethod))return{path:e,submission:p};let y=Ml(e);return t&&y.search&&s2(y.search)&&d.append("index",""),y.search=`?${d}`,{path:_l(y),submission:p}}function C_(t,e,n,i,r,s,l,d,f,p,y,_,S,T,A,O,k,L,$,P){var Oe;let R=P?is(P[1])?P[1].error:P[1].data:void 0,D=r.createURL(s.location),B=r.createURL(f),z;if(y&&s.errors){let Te=Object.keys(s.errors)[0];z=l.findIndex(ne=>ne.route.id===Te)}else if(P&&is(P[1])){let Te=P[0];z=l.findIndex(ne=>ne.route.id===Te)-1}let G=P?P[1].statusCode:void 0,X=G&&G>=400,se={currentUrl:D,currentParams:((Oe=s.matches[0])==null?void 0:Oe.params)||{},nextUrl:B,nextParams:l[0].params,...d,actionResult:R,actionStatus:G},ae=l.map((Te,ne)=>{let{route:Q}=Te,le=null;if(z!=null&&ne>z?le=!1:Q.lazy?le=!0:Q.loader==null?le=!1:y?le=ly(Q,s.loaderData,s.errors):t5(s.loaderData,s.matches[ne],Te)&&(le=!0),le!==null)return cy(n,i,t,Te,p,e,le);let fe=X?!1:_||D.pathname+D.search===B.pathname+B.search||D.search!==B.search||n5(s.matches[ne],Te),Be={...se,defaultShouldRevalidate:fe},Z=n1(Te,Be);return cy(n,i,t,Te,p,e,Z,Be)}),ue=[];return A.forEach((Te,ne)=>{if(y||!l.some(Le=>Le.route.id===Te.routeId)||T.has(ne))return;let Q=s.fetchers.get(ne),le=Q&&Q.state!=="idle"&&Q.data===void 0,fe=cl(k,Te.path,L);if(!fe){if($&&le)return;ue.push({key:ne,routeId:Te.routeId,path:Te.path,matches:null,match:null,request:null,controller:null});return}if(O.has(ne))return;let Be=cf(fe,Te.path),Z=new AbortController,be=Ru(r,Te.path,Z.signal),Re=null;if(S.has(ne))S.delete(ne),Re=ju(n,i,be,fe,Be,p,e);else if(le)_&&(Re=ju(n,i,be,fe,Be,p,e));else{let Le={...se,defaultShouldRevalidate:X?!1:_};n1(Be,Le)&&(Re=ju(n,i,be,fe,Be,p,e,Le))}Re&&ue.push({key:ne,routeId:Te.routeId,path:Te.path,matches:Re,match:Be,request:be,controller:Z})}),{dsMatches:ae,revalidatingFetchers:ue}}function ly(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&t.id in e,r=n!=null&&n[t.id]!==void 0;return!i&&r?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!r}function t5(t,e,n){let i=!e||n.route.id!==e.route.id,r=!t.hasOwnProperty(n.route.id);return i||r}function n5(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function n1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function S_(t,e,n,i,r){let s;if(t){let f=i[t];Wt(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),s=f.children}else s=n;let l=e.filter(f=>!s.some(p=>nE(f,p))),d=Jp(l,r,[t||"_","patch",String((s==null?void 0:s.length)||"0")],i);s.push(...d)}function nE(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var r;return(r=e.children)==null?void 0:r.some(s=>nE(n,s))}):!1}var E_=new WeakMap,iE=({key:t,route:e,manifest:n,mapRouteProperties:i})=>{let r=n[e.id];if(Wt(r,"No route found in manifest"),!r.lazy||typeof r.lazy!="object")return;let s=r.lazy[t];if(!s)return;let l=E_.get(r);l||(l={},E_.set(r,l));let d=l[t];if(d)return d;let f=(async()=>{let p=S6(t),_=r[t]!==void 0&&t!=="hasErrorBoundary";if(p)ui(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(_)ui(!1,`Route "${r.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let S=await s();S!=null&&(Object.assign(r,{[t]:S}),Object.assign(r,i(r)))}typeof r.lazy=="object"&&(r.lazy[t]=void 0,Object.values(r.lazy).every(S=>S===void 0)&&(r.lazy=void 0))})();return l[t]=f,f},A_=new WeakMap;function i5(t,e,n,i,r){let s=n[t.id];if(Wt(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=A_.get(s);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let _=(async()=>{Wt(typeof t.lazy=="function","No lazy route function found");let S=await t.lazy(),T={};for(let A in S){let O=S[A];if(O===void 0)continue;let k=A6(A),$=s[A]!==void 0&&A!=="hasErrorBoundary";k?ui(!k,"Route property "+A+" is not a supported property to be returned from a lazy route function. This property will be ignored."):$?ui(!$,`Route "${s.id}" has a static property "${A}" defined but its lazy function is also returning a value for this property. The lazy route property "${A}" will be ignored.`):T[A]=O}Object.assign(s,T),Object.assign(s,{...i(s),lazy:void 0})})();return A_.set(s,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let l=Object.keys(t.lazy),d=[],f;for(let y of l){if(r&&r.includes(y))continue;let _=iE({key:y,route:t,manifest:n,mapRouteProperties:i});_&&(d.push(_),y===e&&(f=_))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p==null||p.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function T_(t){let e=t.matches.filter(r=>r.shouldLoad),n={};return(await Promise.all(e.map(r=>r.resolve()))).forEach((r,s)=>{n[e[s].route.id]=r}),n}async function r5(t){return t.matches.some(e=>e.route.unstable_middleware)?rE(t,!1,()=>T_(t),(e,n)=>({[n]:{type:"error",result:e}})):T_(t)}async function rE(t,e,n,i){let{matches:r,request:s,params:l,context:d}=t,f={handlerResult:void 0};try{let p=r.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(S=>[_.route.id,S]):[]),y=await sE({request:s,params:l,context:d},p,e,f,n);return e?y:f.handlerResult}catch(p){if(!f.middlewareError)throw p;let y=await i(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,y):y}}async function sE(t,e,n,i,r,s=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let d=e[s];if(!d)return i.handlerResult=await r(),i.handlerResult;let[f,p]=d,y=!1,_,S=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await sE(t,e,n,i,r,s+1)};try{let T=await p({request:t.request,params:t.params,context:t.context},S);return y?T===void 0?_:T:S()}catch(T){throw i.middlewareError?i.middlewareError.error!==T&&(i.middlewareError={routeId:f,error:T}):i.middlewareError={routeId:f,error:T},T}}function aE(t,e,n,i,r){let s=iE({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:t}),l=i5(i.route,rs(n.method)?"action":"loader",e,t,r);return{middleware:s,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function cy(t,e,n,i,r,s,l,d=null){let f=!1,p=aE(t,e,n,i,r);return{...i,_lazyPromises:p,shouldLoad:l,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(y){return f=!0,d?typeof y=="boolean"?n1(i,{...d,defaultShouldRevalidate:y}):n1(i,d):l},resolve(y){return f||l||y&&n.method==="GET"&&(i.route.lazy||i.route.loader)?a5({request:n,match:i,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:y,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function ju(t,e,n,i,r,s,l,d=null){return i.map(f=>f.route.id!==r.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:aE(t,e,n,f,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:cy(t,e,n,f,s,l,!0,d))}async function s5(t,e,n,i,r,s){n.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(n.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let l={request:e,params:n[0].params,context:r,matches:n},f=await t({...l,fetcherKey:i,unstable_runClientMiddleware:p=>{let y=l;return rE(y,!1,()=>p({...y,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,S)=>({[S]:{type:"error",result:_}}))}});try{await Promise.all(n.flatMap(p=>{var y,_;return[(y=p._lazyPromises)==null?void 0:y.handler,(_=p._lazyPromises)==null?void 0:_.route]}))}catch{}return f}async function a5({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:r,scopedContext:s}){let l,d,f=rs(t.method),p=f?"action":"loader",y=_=>{let S,T=new Promise((k,L)=>S=L);d=()=>S(),t.signal.addEventListener("abort",d);let A=k=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:s},...k!==void 0?[k]:[]),O=(async()=>{try{return{type:"data",result:await(r?r(L=>A(L)):A())}}catch(k){return{type:"error",result:k}}})();return Promise.race([O,T])};try{let _=f?e.route.action:e.route.loader;if(n||i)if(_){let S,[T]=await Promise.all([y(_).catch(A=>{S=A}),n,i]);if(S!==void 0)throw S;l=T}else{await n;let S=f?e.route.action:e.route.loader;if(S)[l]=await Promise.all([y(S),i]);else if(p==="action"){let T=new URL(t.url),A=T.pathname+T.search;throw As(405,{method:t.method,pathname:A,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)l=await y(_);else{let S=new URL(t.url),T=S.pathname+S.search;throw As(404,{pathname:T})}}catch(_){return{type:"error",result:_}}finally{d&&t.signal.removeEventListener("abort",d)}return l}async function o5(t){var i,r,s,l,d,f;let{result:e,type:n}=t;if(lE(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return n==="error"?{type:"error",error:new t1(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return n==="error"?D_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(r=e.init)!=null&&r.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new t1(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:Nf(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Nf(e)?e.status:void 0}:D_(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function l5(t,e,n,i,r){let s=t.headers.get("Location");if(Wt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!r2.test(s)){let l=i.slice(0,i.findIndex(d=>d.route.id===n)+1);s=oy(new URL(e.url),l,r,s),t.headers.set("Location",s)}return t}function N_(t,e,n){if(r2.test(t)){let i=t,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=Os(r.pathname,n)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return t}function Ru(t,e,n,i){let r=t.createURL(oE(e)).toString(),s={signal:n};if(i&&rs(i.formMethod)){let{formMethod:l,formEncType:d}=i;s.method=l.toUpperCase(),d==="application/json"?(s.headers=new Headers({"Content-Type":d}),s.body=JSON.stringify(i.json)):d==="text/plain"?s.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?s.body=uy(i.formData):s.body=i.formData}return new Request(r,s)}function uy(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function M_(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function c5(t,e,n,i=!1,r=!1){let s={},l=null,d,f=!1,p={},y=n&&is(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let S=_.route.id,T=e[S];if(Wt(!uc(T),"Cannot handle redirect results in processLoaderData"),is(T)){let A=T.error;if(y!==void 0&&(A=y,y=void 0),l=l||{},r)l[S]=A;else{let O=oc(t,S);l[O.route.id]==null&&(l[O.route.id]=A)}i||(s[S]=tE),f||(f=!0,d=Nf(T.error)?T.error.status:500),T.headers&&(p[S]=T.headers)}else s[S]=T.data,T.statusCode&&T.statusCode!==200&&!f&&(d=T.statusCode),T.headers&&(p[S]=T.headers)}),y!==void 0&&n&&(l={[n[0]]:y},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:l,statusCode:d||200,loaderHeaders:p}}function R_(t,e,n,i,r,s){let{loaderData:l,errors:d}=c5(e,n,i);return r.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:y,controller:_}=f,S=s[p];if(Wt(S,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(is(S)){let T=oc(t.matches,y==null?void 0:y.route.id);d&&d[T.route.id]||(d={...d,[T.route.id]:S.error}),t.fetchers.delete(p)}else if(uc(S))Wt(!1,"Unhandled fetcher revalidation redirect");else{let T=rl(S.data);t.fetchers.set(p,T)}}),{loaderData:l,errors:d}}function O_(t,e,n,i){let r=Object.entries(e).filter(([,s])=>s!==tE).reduce((s,[l,d])=>(s[l]=d,s),{});for(let s of n){let l=s.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&s.route.loader&&(r[l]=t[l]),i&&i.hasOwnProperty(l))break}return r}function I_(t){return t?is(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function oc(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function k_(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function As(t,{pathname:e,routeId:n,method:i,type:r,message:s}={}){let l="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&e&&n?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:r==="invalid-body"&&(d="Unable to encode submission body")):t===403?(l="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",d=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",i&&e&&n?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new t1(t||500,l,new Error(d),!0)}function cp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,r]=e[n];if(uc(r))return{key:i,result:r}}}function oE(t){let e=typeof t=="string"?Ml(t):t;return _l({...e,hash:""})}function u5(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function d5(t){return lE(t.result)&&Y6.has(t.result.status)}function is(t){return t.type==="error"}function uc(t){return(t&&t.type)==="redirect"}function D_(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function lE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function f5(t){return X6.has(t.toUpperCase())}function rs(t){return q6.has(t.toUpperCase())}function s2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function cf(t,e){let n=typeof e=="string"?Ml(e).search:e.search;if(t[t.length-1].route.index&&s2(n||""))return t[t.length-1];let i=QS(t);return i[i.length-1]}function B_(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:s,json:l}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:l,text:void 0}}}function Ug(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function h5(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Xd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function p5(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function rl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function m5(t,e){try{let n=t.sessionStorage.getItem(eE);if(n){let i=JSON.parse(n);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function g5(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(eE,JSON.stringify(n))}catch(i){ui(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function x5(){let t,e,n=new Promise((i,r)=>{t=async s=>{i(s);try{await n}catch{}},e=async s=>{r(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Rc=F.createContext(null);Rc.displayName="DataRouter";var Hf=F.createContext(null);Hf.displayName="DataRouterState";var a2=F.createContext({isTransitioning:!1});a2.displayName="ViewTransition";var cE=F.createContext(new Map);cE.displayName="Fetchers";var y5=F.createContext(null);y5.displayName="Await";var Xs=F.createContext(null);Xs.displayName="Navigation";var um=F.createContext(null);um.displayName="Location";var Is=F.createContext({outlet:null,matches:[],isDataRoute:!1});Is.displayName="Route";var o2=F.createContext(null);o2.displayName="RouteError";function v5(t,{relative:e}={}){Wt(Yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=F.useContext(Xs),{hash:r,pathname:s,search:l}=Uf(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:Sa([n,s])),i.createHref({pathname:d,search:l,hash:r})}function Yu(){return F.useContext(um)!=null}function Ii(){return Wt(Yu(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(um).location}var uE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dE(t){F.useContext(Xs).static||F.useLayoutEffect(t)}function on(){let{isDataRoute:t}=F.useContext(Is);return t?D5():b5()}function b5(){Wt(Yu(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(Rc),{basename:e,navigator:n}=F.useContext(Xs),{matches:i}=F.useContext(Is),{pathname:r}=Ii(),s=JSON.stringify(lm(i)),l=F.useRef(!1);return dE(()=>{l.current=!0}),F.useCallback((f,p={})=>{if(ui(l.current,uE),!l.current)return;if(typeof f=="number"){n.go(f);return}let y=cm(f,JSON.parse(s),r,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Sa([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,s,r,t])}var w5=F.createContext(null);function _5(t){let e=F.useContext(Is).outlet;return e&&F.createElement(w5.Provider,{value:t},e)}function ks(){let{matches:t}=F.useContext(Is),e=t[t.length-1];return e?e.params:{}}function Uf(t,{relative:e}={}){let{matches:n}=F.useContext(Is),{pathname:i}=Ii(),r=JSON.stringify(lm(n));return F.useMemo(()=>cm(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function C5(t,e,n,i){Wt(Yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=F.useContext(Xs),{matches:s}=F.useContext(Is),l=s[s.length-1],d=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",y=l&&l.route;{let L=y&&y.path||"";fE(f,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=Ii(),S;S=_;let T=S.pathname||"/",A=T;if(p!=="/"){let L=p.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(L.length).join("/")}let O=cl(t,{pathname:A});return ui(y||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ui(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),N5(O&&O.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:Sa([p,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:Sa([p,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),s,n,i)}function S5(){let t=k5(),e=Nf(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:s},"ErrorBoundary")," or"," ",F.createElement("code",{style:s},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:r},n):null,l)}var E5=F.createElement(S5,null),A5=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(Is.Provider,{value:this.props.routeContext},F.createElement(o2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T5({routeContext:t,match:e,children:n}){let i=F.useContext(Rc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Is.Provider,{value:t},n)}function N5(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,s=n==null?void 0:n.errors;if(s!=null){let f=r.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);Wt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let l=!1,d=-1;if(n)for(let f=0;f<r.length;f++){let p=r[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:y,errors:_}=n,S=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||S){l=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((f,p,y)=>{let _,S=!1,T=null,A=null;n&&(_=s&&p.route.id?s[p.route.id]:void 0,T=p.route.errorElement||E5,l&&(d<0&&y===0?(fE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):d===y&&(S=!0,A=p.route.hydrateFallbackElement||null)));let O=e.concat(r.slice(0,y+1)),k=()=>{let L;return _?L=T:S?L=A:p.route.Component?L=F.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=f,F.createElement(T5,{match:p,routeContext:{outlet:f,matches:O,isDataRoute:n!=null},children:L})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?F.createElement(A5,{location:n.location,revalidation:n.revalidation,component:T,error:_,children:k(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):k()},null)}function l2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M5(t){let e=F.useContext(Rc);return Wt(e,l2(t)),e}function R5(t){let e=F.useContext(Hf);return Wt(e,l2(t)),e}function O5(t){let e=F.useContext(Is);return Wt(e,l2(t)),e}function c2(t){let e=O5(t),n=e.matches[e.matches.length-1];return Wt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function I5(){return c2("useRouteId")}function k5(){var i;let t=F.useContext(o2),e=R5("useRouteError"),n=c2("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function D5(){let{router:t}=M5("useNavigate"),e=c2("useNavigate"),n=F.useRef(!1);return dE(()=>{n.current=!0}),F.useCallback(async(r,s={})=>{ui(n.current,uE),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var L_={};function fE(t,e,n){!e&&!L_[t]&&(L_[t]=!0,ui(!1,n))}var j_={};function P_(t,e){!t&&!j_[e]&&(j_[e]=!0,console.warn(e))}function B5(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&ui(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&ui(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&ui(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var L5=["HydrateFallback","hydrateFallbackElement"],j5=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function P5({router:t,flushSync:e}){let[n,i]=F.useState(t.state),[r,s]=F.useState(),[l,d]=F.useState({isTransitioning:!1}),[f,p]=F.useState(),[y,_]=F.useState(),[S,T]=F.useState(),A=F.useRef(new Map),O=F.useCallback((P,{deletedFetchers:R,flushSync:D,viewTransitionOpts:B})=>{P.fetchers.forEach((G,X)=>{G.data!==void 0&&A.current.set(X,G.data)}),R.forEach(G=>A.current.delete(G)),P_(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let z=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(P_(B==null||z,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!z){e&&D?e(()=>i(P)):F.startTransition(()=>i(P));return}if(e&&D){e(()=>{y&&(f&&f.resolve(),y.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let G=t.window.document.startViewTransition(()=>{e(()=>i(P))});G.finished.finally(()=>{e(()=>{p(void 0),_(void 0),s(void 0),d({isTransitioning:!1})})}),e(()=>_(G));return}y?(f&&f.resolve(),y.skipTransition(),T({state:P,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(s(P),d({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[t.window,e,y,f]);F.useLayoutEffect(()=>t.subscribe(O),[t,O]),F.useEffect(()=>{l.isTransitioning&&!l.flushSync&&p(new j5)},[l]),F.useEffect(()=>{if(f&&r&&t.window){let P=r,R=f.promise,D=t.window.document.startViewTransition(async()=>{F.startTransition(()=>i(P)),await R});D.finished.finally(()=>{p(void 0),_(void 0),s(void 0),d({isTransitioning:!1})}),_(D)}},[r,f,t.window]),F.useEffect(()=>{f&&r&&n.location.key===r.location.key&&f.resolve()},[f,y,n.location,r]),F.useEffect(()=>{!l.isTransitioning&&S&&(s(S.state),d({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),T(void 0))},[l.isTransitioning,S]);let k=F.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:P=>t.navigate(P),push:(P,R,D)=>t.navigate(P,{state:R,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(P,R,D)=>t.navigate(P,{replace:!0,state:R,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[t]),L=t.basename||"/",$=F.useMemo(()=>({router:t,navigator:k,static:!1,basename:L}),[t,k,L]);return F.createElement(F.Fragment,null,F.createElement(Rc.Provider,{value:$},F.createElement(Hf.Provider,{value:n},F.createElement(cE.Provider,{value:A.current},F.createElement(a2.Provider,{value:l},F.createElement(U5,{basename:L,location:n.location,navigationType:n.historyAction,navigator:k},F.createElement(F5,{routes:t.routes,future:t.future,state:n})))))),null)}var F5=F.memo(z5);function z5({routes:t,future:e,state:n}){return C5(t,void 0,n,e)}function H5({to:t,replace:e,state:n,relative:i}){Wt(Yu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=F.useContext(Xs);ui(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=F.useContext(Is),{pathname:l}=Ii(),d=on(),f=cm(t,lm(s),l,i==="path"),p=JSON.stringify(f);return F.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function u2(t){return _5(t.context)}function U5({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){Wt(!Yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:l,navigator:r,static:s,future:{}}),[l,r,s]);typeof n=="string"&&(n=Ml(n));let{pathname:f="/",search:p="",hash:y="",state:_=null,key:S="default"}=n,T=F.useMemo(()=>{let A=Os(f,l);return A==null?null:{location:{pathname:A,search:p,hash:y,state:_,key:S},navigationType:i}},[l,f,p,y,_,S,i]);return ui(T!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:F.createElement(Xs.Provider,{value:d},F.createElement(um.Provider,{children:e,value:T}))}var zp="get",Hp="application/x-www-form-urlencoded";function dm(t){return t!=null&&typeof t.tagName=="string"}function V5(t){return dm(t)&&t.tagName.toLowerCase()==="button"}function $5(t){return dm(t)&&t.tagName.toLowerCase()==="form"}function G5(t){return dm(t)&&t.tagName.toLowerCase()==="input"}function q5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W5(t,e){return t.button===0&&(!e||e==="_self")&&!q5(t)}var up=null;function X5(){if(up===null)try{new FormData(document.createElement("form"),0),up=!1}catch{up=!0}return up}var Y5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vg(t){return t!=null&&!Y5.has(t)?(ui(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hp}"`),null):t}function K5(t,e){let n,i,r,s,l;if($5(t)){let d=t.getAttribute("action");i=d?Os(d,e):null,n=t.getAttribute("method")||zp,r=Vg(t.getAttribute("enctype"))||Hp,s=new FormData(t)}else if(V5(t)||G5(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?Os(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||zp,r=Vg(t.getAttribute("formenctype"))||Vg(d.getAttribute("enctype"))||Hp,s=new FormData(d,t),!X5()){let{name:p,type:y,value:_}=t;if(y==="image"){let S=p?`${p}.`:"";s.append(`${S}x`,"0"),s.append(`${S}y`,"0")}else p&&s.append(p,_)}}else{if(dm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zp,i=null,r=Hp,l=t}return s&&r==="text/plain"&&(l=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:l}}function d2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Z5(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q5(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function J5(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let l=await Z5(s,n);return l.links?l.links():[]}return[]}));return iM(i.flat(1).filter(Q5).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function F_(t,e,n,i,r,s){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var y;return n[p].pathname!==f.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,p)=>l(f,p)||d(f,p)):s==="data"?e.filter((f,p)=>{var _;let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(l(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let S=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function eM(t,e,{includeHydrateFallback:n}={}){return tM(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function tM(t){return[...new Set(t)]}function nM(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function iM(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(nM(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rM=new Set([100,101,204,205]);function sM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Os(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function hE(){let t=F.useContext(Rc);return d2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function aM(){let t=F.useContext(Hf);return d2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var f2=F.createContext(void 0);f2.displayName="FrameworkContext";function pE(){let t=F.useContext(f2);return d2(t,"You must render this element inside a <HydratedRouter> element"),t}function oM(t,e){let n=F.useContext(f2),[i,r]=F.useState(!1),[s,l]=F.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,S=F.useRef(null);F.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let O=L=>{L.forEach($=>{l($.isIntersecting)})},k=new IntersectionObserver(O,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[t]),F.useEffect(()=>{if(i){let O=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(O)}}},[i]);let T=()=>{r(!0)},A=()=>{r(!1),l(!1)};return n?t!=="intent"?[s,S,{}]:[s,S,{onFocus:Yd(d,T),onBlur:Yd(f,A),onMouseEnter:Yd(p,T),onMouseLeave:Yd(y,A),onTouchStart:Yd(_,T)}]:[!1,S,{}]}function Yd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function lM({page:t,...e}){let{router:n}=hE(),i=F.useMemo(()=>cl(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?F.createElement(uM,{page:t,matches:i,...e}):null}function cM(t){let{manifest:e,routeModules:n}=pE(),[i,r]=F.useState([]);return F.useEffect(()=>{let s=!1;return J5(t,e,n).then(l=>{s||r(l)}),()=>{s=!0}},[t,e,n]),i}function uM({page:t,matches:e,...n}){let i=Ii(),{manifest:r,routeModules:s}=pE(),{basename:l}=hE(),{loaderData:d,matches:f}=aM(),p=F.useMemo(()=>F_(t,e,f,r,i,"data"),[t,e,f,r,i]),y=F.useMemo(()=>F_(t,e,f,r,i,"assets"),[t,e,f,r,i]),_=F.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let A=new Set,O=!1;if(e.forEach(L=>{var P;let $=r.routes[L.route.id];!$||!$.hasLoader||(!p.some(R=>R.route.id===L.route.id)&&L.route.id in d&&((P=s[L.route.id])!=null&&P.shouldRevalidate)||$.hasClientLoader?O=!0:A.add(L.route.id))}),A.size===0)return[];let k=sM(t,l);return O&&A.size>0&&k.searchParams.set("_routes",e.filter(L=>A.has(L.route.id)).map(L=>L.route.id).join(",")),[k.pathname+k.search]},[l,d,i,r,p,e,t,s]),S=F.useMemo(()=>eM(y,r),[y,r]),T=cM(y);return F.createElement(F.Fragment,null,_.map(A=>F.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),S.map(A=>F.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),T.map(({key:A,link:O})=>F.createElement("link",{key:A,...O})))}function dM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mE&&(window.__reactRouterVersion="7.6.1")}catch{}function fM(t,e){return J6({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:b6({window:e==null?void 0:e.window}),hydrationData:hM(),routes:t,mapRouteProperties:B5,hydrationRouteProperties:L5,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function hM(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:pM(t.errors)}),t}function pM(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new t1(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let l=new s(r.message);l.stack="",n[i]=l}catch{}}if(n[i]==null){let s=new Error(r.message);s.stack="",n[i]=s}}else n[i]=r;return n}var gE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,En=F.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:l,state:d,target:f,to:p,preventScrollReset:y,viewTransition:_,...S},T){let{basename:A}=F.useContext(Xs),O=typeof p=="string"&&gE.test(p),k,L=!1;if(typeof p=="string"&&O&&(k=p,mE))try{let X=new URL(window.location.href),se=p.startsWith("//")?new URL(X.protocol+p):new URL(p),ae=Os(se.pathname,A);se.origin===X.origin&&ae!=null?p=ae+se.search+se.hash:L=!0}catch{ui(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=v5(p,{relative:r}),[P,R,D]=oM(i,S),B=xM(p,{replace:l,state:d,target:f,preventScrollReset:y,relative:r,viewTransition:_});function z(X){e&&e(X),X.defaultPrevented||B(X)}let G=F.createElement("a",{...S,...D,href:k||$,onClick:L||s?e:z,ref:dM(T,R),target:f,"data-discover":!O&&n==="render"?"true":void 0});return P&&!O?F.createElement(F.Fragment,null,G,F.createElement(lM,{page:$})):G});En.displayName="Link";var xE=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:l,viewTransition:d,children:f,...p},y){let _=Uf(l,{relative:p.relative}),S=Ii(),T=F.useContext(Hf),{navigator:A,basename:O}=F.useContext(Xs),k=T!=null&&_M(_)&&d===!0,L=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,$=S.pathname,P=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||($=$.toLowerCase(),P=P?P.toLowerCase():null,L=L.toLowerCase()),P&&O&&(P=Os(P,O)||P);const R=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let D=$===L||!r&&$.startsWith(L)&&$.charAt(R)==="/",B=P!=null&&(P===L||!r&&P.startsWith(L)&&P.charAt(L.length)==="/"),z={isActive:D,isPending:B,isTransitioning:k},G=D?e:void 0,X;typeof i=="function"?X=i(z):X=[i,D?"active":null,B?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let se=typeof s=="function"?s(z):s;return F.createElement(En,{...p,"aria-current":G,className:X,ref:y,style:se,to:l,viewTransition:d},typeof f=="function"?f(z):f)});xE.displayName="NavLink";var mM=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:l=zp,action:d,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:_,...S},T)=>{let A=bM(),O=wM(d,{relative:p}),k=l.toLowerCase()==="get"?"get":"post",L=typeof d=="string"&&gE.test(d),$=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let R=P.nativeEvent.submitter,D=(R==null?void 0:R.getAttribute("formmethod"))||l;A(R||P.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:r,state:s,relative:p,preventScrollReset:y,viewTransition:_})};return F.createElement("form",{ref:T,method:k,action:O,onSubmit:i?f:$,...S,"data-discover":!L&&t==="render"?"true":void 0})});mM.displayName="Form";function gM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yE(t){let e=F.useContext(Rc);return Wt(e,gM(t)),e}function xM(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:l}={}){let d=on(),f=Ii(),p=Uf(t,{relative:s});return F.useCallback(y=>{if(W5(y,e)){y.preventDefault();let _=n!==void 0?n:_l(f)===_l(p);d(t,{replace:_,state:i,preventScrollReset:r,relative:s,viewTransition:l})}},[f,d,p,n,i,e,t,r,s,l])}var yM=0,vM=()=>`__${String(++yM)}__`;function bM(){let{router:t}=yE("useSubmit"),{basename:e}=F.useContext(Xs),n=I5();return F.useCallback(async(i,r={})=>{let{action:s,method:l,encType:d,formData:f,body:p}=K5(i,e);if(r.navigate===!1){let y=r.fetcherKey||vM();await t.fetch(y,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||l,formEncType:r.encType||d,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||l,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function wM(t,{relative:e}={}){let{basename:n}=F.useContext(Xs),i=F.useContext(Is);Wt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Uf(t||".",{relative:e})},l=Ii();if(t==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();s.search=y?`?${y}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Sa([n,s.pathname])),_l(s)}function _M(t,e={}){let n=F.useContext(a2);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=yE("useViewTransitionState"),r=Uf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Os(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Os(n.nextLocation.pathname,i)||n.nextLocation.pathname;return e1(r.pathname,l)!=null||e1(r.pathname,s)!=null}[...rM];var vE=WS();const CM=Nl(vE);/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function SM(t){return F.createElement(P5,{flushSync:vE.flushSync,...t})}function bE(){const{pathname:t}=Ii();return F.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const EM="_headerLayout_jfqe8_1",AM="_logoSpan_jfqe8_37",TM="_rightSection_jfqe8_75",$g={headerLayout:EM,logoSpan:AM,rightSection:TM};var dp={},z_;function NM(){if(z_)return dp;z_=1,dp.match=s,dp.parse=l;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,r=/(dpi|dpcm|dppx)?$/;function s(y,_){return l(y).some(function(S){var T=S.inverse,A=S.type==="all"||_.type===S.type;if(A&&T||!(A||T))return!1;var O=S.expressions.every(function(k){var L=k.feature,$=k.modifier,P=k.value,R=_[L];if(!R)return!1;switch(L){case"orientation":case"scan":return R.toLowerCase()===P.toLowerCase();case"width":case"height":case"device-width":case"device-height":P=p(P),R=p(R);break;case"resolution":P=f(P),R=f(R);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":P=d(P),R=d(R);break;case"grid":case"color":case"color-index":case"monochrome":P=parseInt(P,10)||1,R=parseInt(R,10)||0;break}switch($){case"min":return R>=P;case"max":return R<=P;default:return R===P}});return O&&!T||!O&&T})}function l(y){return y.split(",").map(function(_){_=_.trim();var S=_.match(t),T=S[1],A=S[2],O=S[3]||"",k={};return k.inverse=!!T&&T.toLowerCase()==="not",k.type=A?A.toLowerCase():"all",O=O.match(/\([^\)]+\)/g)||[],k.expressions=O.map(function(L){var $=L.match(e),P=$[1].toLowerCase().match(n);return{modifier:P[1],feature:P[2],value:$[2]}}),k})}function d(y){var _=Number(y),S;return _||(S=y.match(/^(\d+)\s*\/\s*(\d+)$/),_=S[1]/S[2]),_}function f(y){var _=parseFloat(y),S=String(y).match(r)[1];switch(S){case"dpcm":return _/2.54;case"dppx":return _*96;default:return _}}function p(y){var _=parseFloat(y),S=String(y).match(i)[1];switch(S){case"em":return _*16;case"rem":return _*16;case"cm":return _*96/2.54;case"mm":return _*96/2.54/10;case"in":return _*96;case"pt":return _*72;case"pc":return _*72/12;default:return _}}return dp}var Gg,H_;function MM(){if(H_)return Gg;H_=1;var t=NM().match,e=typeof window<"u"?window.matchMedia:null;function n(r,s,l){var d=this,f;e&&!l&&(f=e.call(window,r)),f?(this.matches=f.matches,this.media=f.media,f.addListener(_)):(this.matches=t(r,s),this.media=r),this.addListener=p,this.removeListener=y,this.dispose=S;function p(T){f&&f.addListener(T)}function y(T){f&&f.removeListener(T)}function _(T){d.matches=T.matches,d.media=T.media}function S(){f&&f.removeListener(_)}}function i(r,s,l){return new n(r,s,l)}return Gg=i,Gg}var RM=MM();const OM=Nl(RM);var IM=/[A-Z]/g,kM=/^ms-/,qg={};function DM(t){return"-"+t.toLowerCase()}function wE(t){if(qg.hasOwnProperty(t))return qg[t];var e=t.replace(IM,DM);return qg[t]=kM.test(e)?"-"+e:e}function BM(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),i=Object.keys(e),r=n.length;if(i.length!==r)return!1;for(let s=0;s<r;s++){const l=n[s];if(t[l]!==e[l]||!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0}var Wg={exports:{}},Xg,U_;function LM(){if(U_)return Xg;U_=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xg=t,Xg}var Yg,V_;function jM(){if(V_)return Yg;V_=1;var t=LM();function e(){}function n(){}return n.resetWarningCache=e,Yg=function(){function i(l,d,f,p,y,_){if(_!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Yg}var $_;function h2(){return $_||($_=1,Wg.exports=jM()()),Wg.exports}var PM=h2();const ot=Nl(PM),wr=ot.oneOfType([ot.string,ot.number]),_E={all:ot.bool,grid:ot.bool,aural:ot.bool,braille:ot.bool,handheld:ot.bool,print:ot.bool,projection:ot.bool,screen:ot.bool,tty:ot.bool,tv:ot.bool,embossed:ot.bool},FM={orientation:ot.oneOf(["portrait","landscape"]),scan:ot.oneOf(["progressive","interlace"]),aspectRatio:ot.string,deviceAspectRatio:ot.string,height:wr,deviceHeight:wr,width:wr,deviceWidth:wr,color:ot.bool,colorIndex:ot.bool,monochrome:ot.bool,resolution:wr,type:Object.keys(_E)},{type:Nse,...zM}=FM,HM={minAspectRatio:ot.string,maxAspectRatio:ot.string,minDeviceAspectRatio:ot.string,maxDeviceAspectRatio:ot.string,minHeight:wr,maxHeight:wr,minDeviceHeight:wr,maxDeviceHeight:wr,minWidth:wr,maxWidth:wr,minDeviceWidth:wr,maxDeviceWidth:wr,minColor:ot.number,maxColor:ot.number,minColorIndex:ot.number,maxColorIndex:ot.number,minMonochrome:ot.number,maxMonochrome:ot.number,minResolution:wr,maxResolution:wr,...zM},UM={..._E,...HM};var VM={all:UM};const $M=t=>`not ${t}`,GM=(t,e)=>{const n=wE(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?$M(n):`(${n}: ${e})`},qM=t=>t.join(" and "),WM=t=>{const e=[];return Object.keys(VM.all).forEach(n=>{const i=t[n];i!=null&&e.push(GM(n,i))}),qM(e)},XM=F.createContext(void 0),YM=t=>t.query||WM(t),G_=t=>t?Object.keys(t).reduce((n,i)=>(n[wE(i)]=t[i],n),{}):void 0,CE=()=>{const t=F.useRef(!1);return F.useEffect(()=>{t.current=!0},[]),t.current},KM=t=>{const e=F.useContext(XM),n=()=>G_(t)||G_(e),[i,r]=F.useState(n);return F.useEffect(()=>{const s=n();BM(i,s)||r(s)},[t,e]),i},ZM=t=>{const e=()=>YM(t),[n,i]=F.useState(e);return F.useEffect(()=>{const r=e();n!==r&&i(r)},[t]),n},QM=(t,e)=>{const n=()=>OM(t,e||{},!!e),[i,r]=F.useState(n),s=CE();return F.useEffect(()=>{if(s){const l=n();return r(l),()=>{l&&l.dispose()}}},[t,e]),i},JM=t=>{const[e,n]=F.useState(t.matches);return F.useEffect(()=>{const i=r=>{n(r.matches)};return t.addListener(i),n(t.matches),()=>{t.removeListener(i)}},[t]),e},Kg=(t,e,n)=>{const i=KM(e),r=ZM(t);if(!r)throw new Error("Invalid or missing MediaQuery!");const s=QM(r,i),l=JM(s);return CE(),F.useEffect(()=>{},[l]),F.useEffect(()=>()=>{s&&s.dispose()},[]),l},SE=()=>{const t=Kg({maxWidth:767}),e=Kg({minWidth:768,maxWidth:1024}),n=Kg({minWidth:1025});return{isMobile:t,isTablet:e,isDesktop:n}},eR="_overlay_ry9nc_1",tR="_menuLayout_ry9nc_33",nR="_menuVisible_ry9nc_75",iR="_menuHidden_ry9nc_83",rR="_closeContainer_ry9nc_91",sR="_closeButton_ry9nc_125",aR="_menuSection_ry9nc_183",oR="_userNickname_ry9nc_199",lR="_menuSpan_ry9nc_215",cR="_divider_ry9nc_247",zn={overlay:eR,menuLayout:tR,menuVisible:nR,menuHidden:iR,closeContainer:rR,closeButton:sR,menuSection:aR,userNickname:oR,menuSpan:lR,divider:cR};function EE(t,e){return function(){return t.apply(e,arguments)}}const{toString:uR}=Object.prototype,{getPrototypeOf:p2}=Object,{iterator:fm,toStringTag:AE}=Symbol,hm=(t=>e=>{const n=uR.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ys=t=>(t=t.toLowerCase(),e=>hm(e)===t),pm=t=>e=>typeof e===t,{isArray:Ku}=Array,Hu=pm("undefined");function Vf(t){return t!==null&&!Hu(t)&&t.constructor!==null&&!Hu(t.constructor)&&Lr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const TE=Ys("ArrayBuffer");function dR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&TE(t.buffer),e}const fR=pm("string"),Lr=pm("function"),NE=pm("number"),$f=t=>t!==null&&typeof t=="object",hR=t=>t===!0||t===!1,Up=t=>{if(hm(t)!=="object")return!1;const e=p2(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(AE in t)&&!(fm in t)},pR=t=>{if(!$f(t)||Vf(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},mR=Ys("Date"),gR=Ys("File"),xR=Ys("Blob"),yR=Ys("FileList"),vR=t=>$f(t)&&Lr(t.pipe),bR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Lr(t.append)&&((e=hm(t))==="formdata"||e==="object"&&Lr(t.toString)&&t.toString()==="[object FormData]"))},wR=Ys("URLSearchParams"),[_R,CR,SR,ER]=["ReadableStream","Request","Response","Headers"].map(Ys),AR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Ku(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{if(Vf(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),l=s.length;let d;for(i=0;i<l;i++)d=s[i],e.call(null,t[d],d,t)}}function ME(t,e){if(Vf(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const dc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RE=t=>!Hu(t)&&t!==dc;function dy(){const{caseless:t,skipUndefined:e}=RE(this)&&this||{},n={},i=(r,s)=>{const l=t&&ME(n,s)||s;Up(n[l])&&Up(r)?n[l]=dy(n[l],r):Up(r)?n[l]=dy({},r):Ku(r)?n[l]=r.slice():(!e||!Hu(r))&&(n[l]=r)};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Gf(arguments[r],i);return n}const TR=(t,e,n,{allOwnKeys:i}={})=>(Gf(e,(r,s)=>{n&&Lr(r)?t[s]=EE(r,n):t[s]=r},{allOwnKeys:i}),t),NR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),MR=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},RR=(t,e,n,i)=>{let r,s,l;const d={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)l=r[s],(!i||i(l,t,e))&&!d[l]&&(e[l]=t[l],d[l]=!0);t=n!==!1&&p2(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},OR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},IR=t=>{if(!t)return null;if(Ku(t))return t;let e=t.length;if(!NE(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},kR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&p2(Uint8Array)),DR=(t,e)=>{const i=(t&&t[fm]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},BR=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},LR=Ys("HTMLFormElement"),jR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),q_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),PR=Ys("RegExp"),OE=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Gf(n,(r,s)=>{let l;(l=e(r,s,t))!==!1&&(i[s]=l||r)}),Object.defineProperties(t,i)},FR=t=>{OE(t,(e,n)=>{if(Lr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Lr(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},zR=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return Ku(t)?i(t):i(String(t).split(e)),n},HR=()=>{},UR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function VR(t){return!!(t&&Lr(t.append)&&t[AE]==="FormData"&&t[fm])}const $R=t=>{const e=new Array(10),n=(i,r)=>{if($f(i)){if(e.indexOf(i)>=0)return;if(Vf(i))return i;if(!("toJSON"in i)){e[r]=i;const s=Ku(i)?[]:{};return Gf(i,(l,d)=>{const f=n(l,r+1);!Hu(f)&&(s[d]=f)}),e[r]=void 0,s}}return i};return n(t,0)},GR=Ys("AsyncFunction"),qR=t=>t&&($f(t)||Lr(t))&&Lr(t.then)&&Lr(t.catch),IE=((t,e)=>t?setImmediate:e?((n,i)=>(dc.addEventListener("message",({source:r,data:s})=>{r===dc&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),dc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Lr(dc.postMessage)),WR=typeof queueMicrotask<"u"?queueMicrotask.bind(dc):typeof process<"u"&&process.nextTick||IE,XR=t=>t!=null&&Lr(t[fm]),_e={isArray:Ku,isArrayBuffer:TE,isBuffer:Vf,isFormData:bR,isArrayBufferView:dR,isString:fR,isNumber:NE,isBoolean:hR,isObject:$f,isPlainObject:Up,isEmptyObject:pR,isReadableStream:_R,isRequest:CR,isResponse:SR,isHeaders:ER,isUndefined:Hu,isDate:mR,isFile:gR,isBlob:xR,isRegExp:PR,isFunction:Lr,isStream:vR,isURLSearchParams:wR,isTypedArray:kR,isFileList:yR,forEach:Gf,merge:dy,extend:TR,trim:AR,stripBOM:NR,inherits:MR,toFlatObject:RR,kindOf:hm,kindOfTest:Ys,endsWith:OR,toArray:IR,forEachEntry:DR,matchAll:BR,isHTMLForm:LR,hasOwnProperty:q_,hasOwnProp:q_,reduceDescriptors:OE,freezeMethods:FR,toObjectSet:zR,toCamelCase:jR,noop:HR,toFiniteNumber:UR,findKey:ME,global:dc,isContextDefined:RE,isSpecCompliantForm:VR,toJSONObject:$R,isAsyncFn:GR,isThenable:qR,setImmediate:IE,asap:WR,isIterable:XR};function Rt(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}_e.inherits(Rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const kE=Rt.prototype,DE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{DE[t]={value:t}});Object.defineProperties(Rt,DE);Object.defineProperty(kE,"isAxiosError",{value:!0});Rt.from=(t,e,n,i,r,s)=>{const l=Object.create(kE);_e.toFlatObject(t,l,function(y){return y!==Error.prototype},p=>p!=="isAxiosError");const d=t&&t.message?t.message:"Error",f=e==null&&t?t.code:e;return Rt.call(l,d,f,n,i,r),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",s&&Object.assign(l,s),l};const YR=null;function fy(t){return _e.isPlainObject(t)||_e.isArray(t)}function BE(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function W_(t,e,n){return t?t.concat(e).map(function(r,s){return r=BE(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function KR(t){return _e.isArray(t)&&!t.some(fy)}const ZR=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});function mm(t,e,n){if(!_e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,k){return!_e.isUndefined(k[O])});const i=n.metaTokens,r=n.visitor||y,s=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(e);if(!_e.isFunction(r))throw new TypeError("visitor must be a function");function p(A){if(A===null)return"";if(_e.isDate(A))return A.toISOString();if(_e.isBoolean(A))return A.toString();if(!f&&_e.isBlob(A))throw new Rt("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(A)||_e.isTypedArray(A)?f&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function y(A,O,k){let L=A;if(A&&!k&&typeof A=="object"){if(_e.endsWith(O,"{}"))O=i?O:O.slice(0,-2),A=JSON.stringify(A);else if(_e.isArray(A)&&KR(A)||(_e.isFileList(A)||_e.endsWith(O,"[]"))&&(L=_e.toArray(A)))return O=BE(O),L.forEach(function(P,R){!(_e.isUndefined(P)||P===null)&&e.append(l===!0?W_([O],R,s):l===null?O:O+"[]",p(P))}),!1}return fy(A)?!0:(e.append(W_(k,O,s),p(A)),!1)}const _=[],S=Object.assign(ZR,{defaultVisitor:y,convertValue:p,isVisitable:fy});function T(A,O){if(!_e.isUndefined(A)){if(_.indexOf(A)!==-1)throw Error("Circular reference detected in "+O.join("."));_.push(A),_e.forEach(A,function(L,$){(!(_e.isUndefined(L)||L===null)&&r.call(e,L,_e.isString($)?$.trim():$,O,S))===!0&&T(L,O?O.concat($):[$])}),_.pop()}}if(!_e.isObject(t))throw new TypeError("data must be an object");return T(t),e}function X_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function m2(t,e){this._pairs=[],t&&mm(t,this,e)}const LE=m2.prototype;LE.append=function(e,n){this._pairs.push([e,n])};LE.toString=function(e){const n=e?function(i){return e.call(this,i,X_)}:X_;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function QR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function jE(t,e,n){if(!e)return t;const i=n&&n.encode||QR;_e.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=_e.isURLSearchParams(e)?e.toString():new m2(e,n).toString(i),s){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Y_{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_e.forEach(this.handlers,function(i){i!==null&&e(i)})}}const PE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JR=typeof URLSearchParams<"u"?URLSearchParams:m2,eO=typeof FormData<"u"?FormData:null,tO=typeof Blob<"u"?Blob:null,nO={isBrowser:!0,classes:{URLSearchParams:JR,FormData:eO,Blob:tO},protocols:["http","https","file","blob","url","data"]},g2=typeof window<"u"&&typeof document<"u",hy=typeof navigator=="object"&&navigator||void 0,iO=g2&&(!hy||["ReactNative","NativeScript","NS"].indexOf(hy.product)<0),rO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sO=g2&&window.location.href||"http://localhost",aO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:g2,hasStandardBrowserEnv:iO,hasStandardBrowserWebWorkerEnv:rO,navigator:hy,origin:sO},Symbol.toStringTag,{value:"Module"})),ur={...aO,...nO};function oO(t,e){return mm(t,new ur.classes.URLSearchParams,{visitor:function(n,i,r,s){return ur.isNode&&_e.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function lO(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function cO(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function FE(t){function e(n,i,r,s){let l=n[s++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),f=s>=n.length;return l=!l&&_e.isArray(r)?r.length:l,f?(_e.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!d):((!r[l]||!_e.isObject(r[l]))&&(r[l]=[]),e(n,i,r[l],s)&&_e.isArray(r[l])&&(r[l]=cO(r[l])),!d)}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const n={};return _e.forEachEntry(t,(i,r)=>{e(lO(i),r,n,0)}),n}return null}function uO(t,e,n){if(_e.isString(t))try{return(e||JSON.parse)(t),_e.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const qf={transitional:PE,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=_e.isObject(e);if(s&&_e.isHTMLForm(e)&&(e=new FormData(e)),_e.isFormData(e))return r?JSON.stringify(FE(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return oO(e,this.formSerializer).toString();if((d=_e.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return mm(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),uO(e)):e}],transformResponse:[function(e){const n=this.transitional||qf.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(i&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(d){if(l)throw d.name==="SyntaxError"?Rt.from(d,Rt.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur.classes.FormData,Blob:ur.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],t=>{qf.headers[t]={}});const dO=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fO=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!n||e[n]&&dO[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},K_=Symbol("internals");function Kd(t){return t&&String(t).trim().toLowerCase()}function Vp(t){return t===!1||t==null?t:_e.isArray(t)?t.map(Vp):String(t)}function hO(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const pO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Zg(t,e,n,i,r){if(_e.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!_e.isString(e)){if(_e.isString(i))return e.indexOf(i)!==-1;if(_e.isRegExp(i))return i.test(e)}}function mO(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function gO(t,e){const n=_e.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,l){return this[i].call(this,e,r,s,l)},configurable:!0})})}let jr=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(d,f,p){const y=Kd(f);if(!y)throw new Error("header name must be a non-empty string");const _=_e.findKey(r,y);(!_||r[_]===void 0||p===!0||p===void 0&&r[_]!==!1)&&(r[_||f]=Vp(d))}const l=(d,f)=>_e.forEach(d,(p,y)=>s(p,y,f));if(_e.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(_e.isString(e)&&(e=e.trim())&&!pO(e))l(fO(e),n);else if(_e.isObject(e)&&_e.isIterable(e)){let d={},f,p;for(const y of e){if(!_e.isArray(y))throw TypeError("Object iterator must return a key-value pair");d[p=y[0]]=(f=d[p])?_e.isArray(f)?[...f,y[1]]:[f,y[1]]:y[1]}l(d,n)}else e!=null&&s(n,e,i);return this}get(e,n){if(e=Kd(e),e){const i=_e.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return hO(r);if(_e.isFunction(n))return n.call(this,r,i);if(_e.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Kd(e),e){const i=_e.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Zg(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(l){if(l=Kd(l),l){const d=_e.findKey(i,l);d&&(!n||Zg(i,i[d],d,n))&&(delete i[d],r=!0)}}return _e.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||Zg(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return _e.forEach(this,(r,s)=>{const l=_e.findKey(i,s);if(l){n[l]=Vp(r),delete n[s];return}const d=e?mO(s):String(s).trim();d!==s&&delete n[s],n[d]=Vp(r),i[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return _e.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&_e.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[K_]=this[K_]={accessors:{}}).accessors,r=this.prototype;function s(l){const d=Kd(l);i[d]||(gO(r,l),i[d]=!0)}return _e.isArray(e)?e.forEach(s):s(e),this}};jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(jr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});_e.freezeMethods(jr);function Qg(t,e){const n=this||qf,i=e||n,r=jr.from(i.headers);let s=i.data;return _e.forEach(t,function(d){s=d.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function zE(t){return!!(t&&t.__CANCEL__)}function Zu(t,e,n){Rt.call(this,t??"canceled",Rt.ERR_CANCELED,e,n),this.name="CanceledError"}_e.inherits(Zu,Rt,{__CANCEL__:!0});function HE(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Rt("Request failed with status code "+n.status,[Rt.ERR_BAD_REQUEST,Rt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function xO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function yO(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,l;return e=e!==void 0?e:1e3,function(f){const p=Date.now(),y=i[s];l||(l=p),n[r]=f,i[r]=p;let _=s,S=0;for(;_!==r;)S+=n[_++],_=_%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),p-l<e)return;const T=y&&p-y;return T?Math.round(S*1e3/T):void 0}}function vO(t,e){let n=0,i=1e3/e,r,s;const l=(p,y=Date.now())=>{n=y,r=null,s&&(clearTimeout(s),s=null),t(...p)};return[(...p)=>{const y=Date.now(),_=y-n;_>=i?l(p,y):(r=p,s||(s=setTimeout(()=>{s=null,l(r)},i-_)))},()=>r&&l(r)]}const i1=(t,e,n=3)=>{let i=0;const r=yO(50,250);return vO(s=>{const l=s.loaded,d=s.lengthComputable?s.total:void 0,f=l-i,p=r(f),y=l<=d;i=l;const _={loaded:l,total:d,progress:d?l/d:void 0,bytes:f,rate:p||void 0,estimated:p&&d&&y?(d-l)/p:void 0,event:s,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(_)},n)},Z_=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},Q_=t=>(...e)=>_e.asap(()=>t(...e)),bO=ur.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ur.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ur.origin),ur.navigator&&/(msie|trident)/i.test(ur.navigator.userAgent)):()=>!0,wO=ur.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const l=[t+"="+encodeURIComponent(e)];_e.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),_e.isString(i)&&l.push("path="+i),_e.isString(r)&&l.push("domain="+r),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _O(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function CO(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function UE(t,e,n){let i=!_O(e);return t&&(i||n==!1)?CO(t,e):e}const J_=t=>t instanceof jr?{...t}:t;function _c(t,e){e=e||{};const n={};function i(p,y,_,S){return _e.isPlainObject(p)&&_e.isPlainObject(y)?_e.merge.call({caseless:S},p,y):_e.isPlainObject(y)?_e.merge({},y):_e.isArray(y)?y.slice():y}function r(p,y,_,S){if(_e.isUndefined(y)){if(!_e.isUndefined(p))return i(void 0,p,_,S)}else return i(p,y,_,S)}function s(p,y){if(!_e.isUndefined(y))return i(void 0,y)}function l(p,y){if(_e.isUndefined(y)){if(!_e.isUndefined(p))return i(void 0,p)}else return i(void 0,y)}function d(p,y,_){if(_ in e)return i(p,y);if(_ in t)return i(void 0,p)}const f={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(p,y,_)=>r(J_(p),J_(y),_,!0)};return _e.forEach(Object.keys({...t,...e}),function(y){const _=f[y]||r,S=_(t[y],e[y],y);_e.isUndefined(S)&&_!==d||(n[y]=S)}),n}const VE=t=>{const e=_c({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:l,auth:d}=e;if(e.headers=l=jr.from(l),e.url=jE(UE(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),_e.isFormData(n)){if(ur.hasStandardBrowserEnv||ur.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(_e.isFunction(n.getHeaders)){const f=n.getHeaders(),p=["content-type","content-length"];Object.entries(f).forEach(([y,_])=>{p.includes(y.toLowerCase())&&l.set(y,_)})}}if(ur.hasStandardBrowserEnv&&(i&&_e.isFunction(i)&&(i=i(e)),i||i!==!1&&bO(e.url))){const f=r&&s&&wO.read(s);f&&l.set(r,f)}return e},SO=typeof XMLHttpRequest<"u",EO=SO&&function(t){return new Promise(function(n,i){const r=VE(t);let s=r.data;const l=jr.from(r.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:p}=r,y,_,S,T,A;function O(){T&&T(),A&&A(),r.cancelToken&&r.cancelToken.unsubscribe(y),r.signal&&r.signal.removeEventListener("abort",y)}let k=new XMLHttpRequest;k.open(r.method.toUpperCase(),r.url,!0),k.timeout=r.timeout;function L(){if(!k)return;const P=jr.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),D={data:!d||d==="text"||d==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:P,config:t,request:k};HE(function(z){n(z),O()},function(z){i(z),O()},D),k=null}"onloadend"in k?k.onloadend=L:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(L)},k.onabort=function(){k&&(i(new Rt("Request aborted",Rt.ECONNABORTED,t,k)),k=null)},k.onerror=function(R){const D=R&&R.message?R.message:"Network Error",B=new Rt(D,Rt.ERR_NETWORK,t,k);B.event=R||null,i(B),k=null},k.ontimeout=function(){let R=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const D=r.transitional||PE;r.timeoutErrorMessage&&(R=r.timeoutErrorMessage),i(new Rt(R,D.clarifyTimeoutError?Rt.ETIMEDOUT:Rt.ECONNABORTED,t,k)),k=null},s===void 0&&l.setContentType(null),"setRequestHeader"in k&&_e.forEach(l.toJSON(),function(R,D){k.setRequestHeader(D,R)}),_e.isUndefined(r.withCredentials)||(k.withCredentials=!!r.withCredentials),d&&d!=="json"&&(k.responseType=r.responseType),p&&([S,A]=i1(p,!0),k.addEventListener("progress",S)),f&&k.upload&&([_,T]=i1(f),k.upload.addEventListener("progress",_),k.upload.addEventListener("loadend",T)),(r.cancelToken||r.signal)&&(y=P=>{k&&(i(!P||P.type?new Zu(null,t,k):P),k.abort(),k=null)},r.cancelToken&&r.cancelToken.subscribe(y),r.signal&&(r.signal.aborted?y():r.signal.addEventListener("abort",y)));const $=xO(r.url);if($&&ur.protocols.indexOf($)===-1){i(new Rt("Unsupported protocol "+$+":",Rt.ERR_BAD_REQUEST,t));return}k.send(s||null)})},AO=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(p){if(!r){r=!0,d();const y=p instanceof Error?p:this.reason;i.abort(y instanceof Rt?y:new Zu(y instanceof Error?y.message:y))}};let l=e&&setTimeout(()=>{l=null,s(new Rt(`timeout ${e} of ms exceeded`,Rt.ETIMEDOUT))},e);const d=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(s):p.removeEventListener("abort",s)}),t=null)};t.forEach(p=>p.addEventListener("abort",s));const{signal:f}=i;return f.unsubscribe=()=>_e.asap(d),f}},TO=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},NO=async function*(t,e){for await(const n of MO(t))yield*TO(n,e)},MO=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},eC=(t,e,n,i)=>{const r=NO(t,e);let s=0,l,d=f=>{l||(l=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:p,value:y}=await r.next();if(p){d(),f.close();return}let _=y.byteLength;if(n){let S=s+=_;n(S)}f.enqueue(new Uint8Array(y))}catch(p){throw d(p),p}},cancel(f){return d(f),r.return()}},{highWaterMark:2})},tC=64*1024,{isFunction:fp}=_e,RO=(({Request:t,Response:e})=>({Request:t,Response:e}))(_e.global),{ReadableStream:nC,TextEncoder:iC}=_e.global,rC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},OO=t=>{t=_e.merge.call({skipUndefined:!0},RO,t);const{fetch:e,Request:n,Response:i}=t,r=e?fp(e):typeof fetch=="function",s=fp(n),l=fp(i);if(!r)return!1;const d=r&&fp(nC),f=r&&(typeof iC=="function"?(A=>O=>A.encode(O))(new iC):async A=>new Uint8Array(await new n(A).arrayBuffer())),p=s&&d&&rC(()=>{let A=!1;const O=new n(ur.origin,{body:new nC,method:"POST",get duplex(){return A=!0,"half"}}).headers.has("Content-Type");return A&&!O}),y=l&&d&&rC(()=>_e.isReadableStream(new i("").body)),_={stream:y&&(A=>A.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!_[A]&&(_[A]=(O,k)=>{let L=O&&O[A];if(L)return L.call(O);throw new Rt(`Response type '${A}' is not supported`,Rt.ERR_NOT_SUPPORT,k)})});const S=async A=>{if(A==null)return 0;if(_e.isBlob(A))return A.size;if(_e.isSpecCompliantForm(A))return(await new n(ur.origin,{method:"POST",body:A}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(A)||_e.isArrayBuffer(A))return A.byteLength;if(_e.isURLSearchParams(A)&&(A=A+""),_e.isString(A))return(await f(A)).byteLength},T=async(A,O)=>{const k=_e.toFiniteNumber(A.getContentLength());return k??S(O)};return async A=>{let{url:O,method:k,data:L,signal:$,cancelToken:P,timeout:R,onDownloadProgress:D,onUploadProgress:B,responseType:z,headers:G,withCredentials:X="same-origin",fetchOptions:se}=VE(A),ae=e||fetch;z=z?(z+"").toLowerCase():"text";let ue=AO([$,P&&P.toAbortSignal()],R),Oe=null;const Te=ue&&ue.unsubscribe&&(()=>{ue.unsubscribe()});let ne;try{if(B&&p&&k!=="get"&&k!=="head"&&(ne=await T(G,L))!==0){let be=new n(O,{method:"POST",body:L,duplex:"half"}),Re;if(_e.isFormData(L)&&(Re=be.headers.get("content-type"))&&G.setContentType(Re),be.body){const[Le,Ie]=Z_(ne,i1(Q_(B)));L=eC(be.body,tC,Le,Ie)}}_e.isString(X)||(X=X?"include":"omit");const Q=s&&"credentials"in n.prototype,le={...se,signal:ue,method:k.toUpperCase(),headers:G.normalize().toJSON(),body:L,duplex:"half",credentials:Q?X:void 0};Oe=s&&new n(O,le);let fe=await(s?ae(Oe,se):ae(O,le));const Be=y&&(z==="stream"||z==="response");if(y&&(D||Be&&Te)){const be={};["status","statusText","headers"].forEach(et=>{be[et]=fe[et]});const Re=_e.toFiniteNumber(fe.headers.get("content-length")),[Le,Ie]=D&&Z_(Re,i1(Q_(D),!0))||[];fe=new i(eC(fe.body,tC,Le,()=>{Ie&&Ie(),Te&&Te()}),be)}z=z||"text";let Z=await _[_e.findKey(_,z)||"text"](fe,A);return!Be&&Te&&Te(),await new Promise((be,Re)=>{HE(be,Re,{data:Z,headers:jr.from(fe.headers),status:fe.status,statusText:fe.statusText,config:A,request:Oe})})}catch(Q){throw Te&&Te(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Rt("Network Error",Rt.ERR_NETWORK,A,Oe),{cause:Q.cause||Q}):Rt.from(Q,Q&&Q.code,A,Oe)}}},IO=new Map,$E=t=>{let e=t?t.env:{};const{fetch:n,Request:i,Response:r}=e,s=[i,r,n];let l=s.length,d=l,f,p,y=IO;for(;d--;)f=s[d],p=y.get(f),p===void 0&&y.set(f,p=d?new Map:OO(e)),y=p;return p};$E();const py={http:YR,xhr:EO,fetch:{get:$E}};_e.forEach(py,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const sC=t=>`- ${t}`,kO=t=>_e.isFunction(t)||t===null||t===!1,GE={getAdapter:(t,e)=>{t=_e.isArray(t)?t:[t];const{length:n}=t;let i,r;const s={};for(let l=0;l<n;l++){i=t[l];let d;if(r=i,!kO(i)&&(r=py[(d=String(i)).toLowerCase()],r===void 0))throw new Rt(`Unknown adapter '${d}'`);if(r&&(_e.isFunction(r)||(r=r.get(e))))break;s[d||"#"+l]=r}if(!r){const l=Object.entries(s).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=n?l.length>1?`since :
`+l.map(sC).join(`
`):" "+sC(l[0]):"as no adapter specified";throw new Rt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:py};function Jg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zu(null,t)}function aC(t){return Jg(t),t.headers=jr.from(t.headers),t.data=Qg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),GE.getAdapter(t.adapter||qf.adapter,t)(t).then(function(i){return Jg(t),i.data=Qg.call(t,t.transformResponse,i),i.headers=jr.from(i.headers),i},function(i){return zE(i)||(Jg(t),i&&i.response&&(i.response.data=Qg.call(t,t.transformResponse,i.response),i.response.headers=jr.from(i.response.headers))),Promise.reject(i)})}const qE="1.12.2",gm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{gm[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const oC={};gm.transitional=function(e,n,i){function r(s,l){return"[Axios v"+qE+"] Transitional option '"+s+"'"+l+(i?". "+i:"")}return(s,l,d)=>{if(e===!1)throw new Rt(r(l," has been removed"+(n?" in "+n:"")),Rt.ERR_DEPRECATED);return n&&!oC[l]&&(oC[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,l,d):!0}};gm.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function DO(t,e,n){if(typeof t!="object")throw new Rt("options must be an object",Rt.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],l=e[s];if(l){const d=t[s],f=d===void 0||l(d,s,t);if(f!==!0)throw new Rt("option "+s+" must be "+f,Rt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Rt("Unknown option "+s,Rt.ERR_BAD_OPTION)}}const $p={assertOptions:DO,validators:gm},pa=$p.validators;let gc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Y_,response:new Y_}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=_c(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&$p.assertOptions(i,{silentJSONParsing:pa.transitional(pa.boolean),forcedJSONParsing:pa.transitional(pa.boolean),clarifyTimeoutError:pa.transitional(pa.boolean)},!1),r!=null&&(_e.isFunction(r)?n.paramsSerializer={serialize:r}:$p.assertOptions(r,{encode:pa.function,serialize:pa.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),$p.assertOptions(n,{baseUrl:pa.spelling("baseURL"),withXsrfToken:pa.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=s&&_e.merge(s.common,s[n.method]);s&&_e.forEach(["delete","get","head","post","put","patch","common"],A=>{delete s[A]}),n.headers=jr.concat(l,s);const d=[];let f=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(n)===!1||(f=f&&O.synchronous,d.unshift(O.fulfilled,O.rejected))});const p=[];this.interceptors.response.forEach(function(O){p.push(O.fulfilled,O.rejected)});let y,_=0,S;if(!f){const A=[aC.bind(this),void 0];for(A.unshift(...d),A.push(...p),S=A.length,y=Promise.resolve(n);_<S;)y=y.then(A[_++],A[_++]);return y}S=d.length;let T=n;for(;_<S;){const A=d[_++],O=d[_++];try{T=A(T)}catch(k){O.call(this,k);break}}try{y=aC.call(this,T)}catch(A){return Promise.reject(A)}for(_=0,S=p.length;_<S;)y=y.then(p[_++],p[_++]);return y}getUri(e){e=_c(this.defaults,e);const n=UE(e.baseURL,e.url,e.allowAbsoluteUrls);return jE(n,e.params,e.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(e){gc.prototype[e]=function(n,i){return this.request(_c(i||{},{method:e,url:n,data:(i||{}).data}))}});_e.forEach(["post","put","patch"],function(e){function n(i){return function(s,l,d){return this.request(_c(d||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}gc.prototype[e]=n(),gc.prototype[e+"Form"]=n(!0)});let BO=class WE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const l=new Promise(d=>{i.subscribe(d),s=d}).then(r);return l.cancel=function(){i.unsubscribe(s)},l},e(function(s,l,d){i.reason||(i.reason=new Zu(s,l,d),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new WE(function(r){e=r}),cancel:e}}};function LO(t){return function(n){return t.apply(null,n)}}function jO(t){return _e.isObject(t)&&t.isAxiosError===!0}const my={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(my).forEach(([t,e])=>{my[e]=t});function XE(t){const e=new gc(t),n=EE(gc.prototype.request,e);return _e.extend(n,gc.prototype,e,{allOwnKeys:!0}),_e.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return XE(_c(t,r))},n}const Xn=XE(qf);Xn.Axios=gc;Xn.CanceledError=Zu;Xn.CancelToken=BO;Xn.isCancel=zE;Xn.VERSION=qE;Xn.toFormData=mm;Xn.AxiosError=Rt;Xn.Cancel=Xn.CanceledError;Xn.all=function(e){return Promise.all(e)};Xn.spread=LO;Xn.isAxiosError=jO;Xn.mergeConfig=_c;Xn.AxiosHeaders=jr;Xn.formToJSON=t=>FE(_e.isHTMLForm(t)?new FormData(t):t);Xn.getAdapter=GE.getAdapter;Xn.HttpStatusCode=my;Xn.default=Xn;const{Axios:Ose,AxiosError:Ise,CanceledError:kse,isCancel:Dse,CancelToken:Bse,VERSION:Lse,all:jse,Cancel:Pse,isAxiosError:Fse,spread:zse,toFormData:Hse,AxiosHeaders:Use,HttpStatusCode:Vse,formToJSON:$se,getAdapter:Gse,mergeConfig:qse}=Xn,xi=Xn.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("ACCESS_TOKEN")}`},withCredentials:!0}),PO=Xn.create({baseURL:"",headers:{Accept:"application/json","x-ncp-apigw-api-key-id	":"ak7qbqrl2h","x-ncp-apigw-api-key":"ipf8w7WvX8OtkuGa9bWtbOCgneVoahiaOcmB7m7g"},withCredentials:!0}),vt=Xn.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("ACCESS_TOKEN")}`},withCredentials:!0});vt.interceptors.request.use(t=>{const e=localStorage.getItem("ACCESS_TOKEN");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const Wf=F.createContext();function FO({children:t}){const[e,n]=F.useState(null);F.useEffect(()=>{localStorage.getItem("ACCESS_TOKEN")&&(async()=>{try{const p=await vt.get("api/users/me");n(p.data)}catch(p){console.error(p)}})()},[]);const[i,r]=F.useState(null),d={user:e,setUser:n,token:i,login:(f,p)=>{n(f),r(p),localStorage.setItem("ACCESS_TOKEN",p)},logout:()=>{n(null),r(null),localStorage.removeItem("ACCESS_TOKEN")}};return console.log(e),v.jsx(Wf.Provider,{value:d,children:t})}const YE=[{label:"",path:"/exhibitions"},{label:"",path:"/galleries"},{label:"",path:"/artworks"},{label:"",path:"/artists"},{label:"",path:"/notices"},{}];function zO({onOpen:t,isOpen:e}){const n=on(),{user:i,logout:r}=F.useContext(Wf),s=()=>{r(),t(),n("/")},l=d=>{t(),n(d)};return console.log(i),v.jsx("div",{className:zn.overlay,onClick:t,children:v.jsxs("div",{className:`${zn.menuLayout} ${e?zn.menuVisible:zn.menuHidden}`,onClick:d=>d.stopPropagation(),children:[v.jsx("div",{className:zn.closeContainer,children:v.jsx("button",{className:zn.closeButton,onClick:t})}),v.jsxs("section",{className:zn.menuSection,children:[v.jsx("h3",{className:zn.userNickname,children:i?`${i.user_name} `:" "}),i&&i.admin_flag==="1"&&v.jsx("div",{className:zn.sidebarMenu,children:v.jsx("span",{className:zn.menuSpan,onClick:()=>l("/console/main"),children:" "})})]}),v.jsx("hr",{className:zn.divider}),v.jsx("section",{className:zn.menuSection,children:YE.map(({name:d,label:f,path:p})=>v.jsx("span",{className:zn.menuSpan,onClick:()=>l(p),children:f},d))}),v.jsx("hr",{className:zn.divider}),v.jsxs("section",{className:zn.menuSection,children:[v.jsx("span",{className:zn.menuSpan,onClick:()=>l("/scan"),children:" "}),v.jsx("span",{className:zn.menuSpan,onClick:()=>alert("  "),children:" "}),v.jsx("span",{className:zn.menuSpan,onClick:()=>l("/nearby-galleries"),children:" "})]}),v.jsx("hr",{className:zn.divider}),v.jsxs("section",{className:zn.menuSection,children:[v.jsx("span",{className:zn.menuSpan,onClick:()=>l("/mypage"),children:""}),v.jsx("span",{className:zn.menuSpan,onClick:()=>l("/announcement"),children:" & FAQ"}),localStorage.getItem("ACCESS_TOKEN")?v.jsx("span",{className:zn.menuSpan,onClick:s,children:""}):v.jsx("span",{className:zn.menuSpan,onClick:()=>l("/login"),children:""})]})]})})}const HO="_navbarNavigation_12t0r_1",UO="_menuList_12t0r_39",VO="_menuItem_12t0r_61",$O="_defaultLink_12t0r_81",GO="_activeLink_12t0r_83",xu={navbarNavigation:HO,menuList:UO,menuItem:VO,defaultLink:$O,activeLink:GO};function qO(){const{pathname:t}=Ii();return v.jsx("nav",{className:xu.navbarNavigation,children:v.jsx("ul",{className:xu.menuList,children:YE.map(({label:e,path:n,index:i})=>v.jsx("li",{className:`${xu.menuItem} ${t===n&&xu.currentMenu}`,children:v.jsx(xE,{to:n,className:({isActive:r})=>r?xu.activeLink:xu.defaultLink,children:e})},`${e}-${i}`))})})}const WO=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[v.jsx("path",{d:"M2 12H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),v.jsx("path",{d:"M2 4H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),v.jsx("path",{d:"M2 20H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})]}),XO=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",children:v.jsx("path",{d:"M12.0597 20.5674H7.94025M16.1791 7.17917C16.1791 5.54035 15.5282 3.96866 14.3694 2.80984C13.2105 1.65102 11.6388 1 9.99998 1C8.36116 1 6.78949 1.65102 5.63067 2.80984C4.47185 3.96866 3.82083 5.54035 3.82083 7.17917C3.82083 10.3616 3.01802 12.5406 2.12121 13.9818C1.36474 15.1976 0.986506 15.8054 1.00037 15.975C1.01573 16.1628 1.05551 16.2343 1.2068 16.3466C1.34346 16.4479 1.95945 16.4479 3.19143 16.4479H16.8086C18.0405 16.4479 18.6566 16.4479 18.7931 16.3466C18.9445 16.2343 18.9843 16.1628 18.9996 15.975C19.0135 15.8054 18.6353 15.1976 17.8788 13.9818C16.9819 12.5406 16.1791 10.3616 16.1791 7.17917Z",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});function KE(){const[t,e]=F.useState(!1),{isDesktop:n}=SE(),i=on(),r=()=>{e(!0),document.body.style.overflow="hidden"},s=()=>{e(!1),document.body.style.overflow="unset"},l=()=>{s(),i("/")};return v.jsxs("header",{className:$g.headerLayout,children:[v.jsx("span",{className:$g.logoSpan,onClick:l,children:"ARTLY"}),n&&v.jsx(qO,{}),v.jsxs("div",{className:$g.rightSection,children:[v.jsx(XO,{}),v.jsx("button",{onClick:t?s:r,children:v.jsx(WO,{})})]}),t&&v.jsx(zO,{onOpen:s,isOpen:t})]})}const YO="_footerLayout_16zxr_1",KO="_linkContainer_16zxr_27",ZO="_link_16zxr_27",QO="_divideSpan_16zxr_61",JO="_infoContainer_16zxr_71",yu={footerLayout:YO,linkContainer:KO,link:ZO,divideSpan:QO,infoContainer:JO};function ZE(){return v.jsxs("footer",{className:yu.footerLayout,children:[v.jsxs("div",{className:yu.linkContainer,children:[v.jsx(En,{to:"/announcement",className:yu.link,children:"&FAQ"}),v.jsx("span",{className:yu.divideSpan,children:"|"}),v.jsx(En,{to:"/termspolicy",className:yu.link,children:"  "})]}),v.jsxs("div",{className:yu.infoContainer,children:[v.jsx("p",{children:"()"}),v.jsx("p",{children:" : 477-88-01191"}),v.jsx("p",{children:"contact us : oddlemon@oddlemon.co.kr"})]}),v.jsxs("p",{children:[" All rights reserved by"," ",v.jsx("a",{href:"https://oddlemon.co.kr/",target:"_blank",rel:"noreferrer",children:"ODDLEMON Origin Inc."})]})]})}const eI="_chatbotContainer_9wobd_1",tI="_chatbotOverlay_9wobd_15",nI="_chatbotButton_9wobd_37",iI="_popupContainer_9wobd_71",rI="_headerContainer_9wobd_133",sI="_headerTitle_9wobd_153",aI="_closeButton_9wobd_163",oI="_chatContainer_9wobd_181",lI="_botMessageContainer_9wobd_201",cI="_userMessageContainer_9wobd_219",uI="_botContent_9wobd_235",dI="_botName_9wobd_247",fI="_botProfile_9wobd_263",hI="_botBubble_9wobd_299",pI="_userBubble_9wobd_301",mI="_inputContainer_9wobd_355",gI="_input_9wobd_355",xI="_sendButton_9wobd_399",Hn={chatbotContainer:eI,chatbotOverlay:tI,chatbotButton:nI,popupContainer:iI,headerContainer:rI,headerTitle:sI,closeButton:aI,chatContainer:oI,botMessageContainer:lI,userMessageContainer:cI,botContent:uI,botName:dI,botProfile:fI,botBubble:hI,userBubble:pI,inputContainer:mI,input:gI,sendButton:xI};var QE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lC=Vt.createContext&&Vt.createContext(QE),yI=["attr","size","title"];function vI(t,e){if(t==null)return{};var n=bI(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function bI(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r1.apply(this,arguments)}function cC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function s1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(n),!0).forEach(function(i){wI(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function wI(t,e,n){return e=_I(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _I(t){var e=CI(t,"string");return typeof e=="symbol"?e:e+""}function CI(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JE(t){return t&&t.map((e,n)=>Vt.createElement(e.tag,s1({key:n},e.attr),JE(e.child)))}function On(t){return e=>Vt.createElement(SI,r1({attr:s1({},t.attr)},e),JE(t.child))}function SI(t){var e=n=>{var{attr:i,size:r,title:s}=t,l=vI(t,yI),d=r||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Vt.createElement("svg",r1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:f,style:s1(s1({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),s&&Vt.createElement("title",null,s),t.children)};return lC!==void 0?Vt.createElement(lC.Consumer,null,n=>e(n)):e(QE)}function EI(t){return On({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9 9 0 0 0 8 15"},child:[]}]})(t)}function AI(t){return On({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(t)}const TI=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[v.jsx("path",{d:"M3.3475 14.2855C3.47725 14.4157 3.57667 14.573 3.63868 14.746C3.70069 14.9191 3.72376 15.1037 3.70625 15.2867C3.6184 16.1337 3.45185 16.9706 3.20875 17.7867C4.9525 17.383 6.0175 16.9155 6.50125 16.6705C6.77563 16.5315 7.09161 16.4986 7.38875 16.578C8.24054 16.8051 9.11846 16.9194 10 16.918C14.995 16.918 18.75 13.4092 18.75 9.41797C18.75 5.42797 14.995 1.91797 10 1.91797C5.005 1.91797 1.25 5.42797 1.25 9.41797C1.25 11.253 2.02125 12.9555 3.3475 14.2855ZM2.73125 19.1667C2.43509 19.2254 2.13796 19.2792 1.84 19.328C1.59 19.368 1.4 19.108 1.49875 18.8755C1.60974 18.6137 1.71147 18.3481 1.80375 18.0792L1.8075 18.0667C2.1175 17.1667 2.37 16.1317 2.4625 15.168C0.92875 13.6305 0 11.618 0 9.41797C0 4.58547 4.4775 0.667969 10 0.667969C15.5225 0.667969 20 4.58547 20 9.41797C20 14.2505 15.5225 18.168 10 18.168C9.00956 18.1693 8.02323 18.0407 7.06625 17.7855C6.41625 18.1142 5.0175 18.713 2.73125 19.1667Z",fill:"#BDBDBD"}),v.jsx("path",{d:"M5 6.29297C5 6.12721 5.06585 5.96824 5.18306 5.85103C5.30027 5.73382 5.45924 5.66797 5.625 5.66797H14.375C14.5408 5.66797 14.6997 5.73382 14.8169 5.85103C14.9342 5.96824 15 6.12721 15 6.29297C15 6.45873 14.9342 6.6177 14.8169 6.73491C14.6997 6.85212 14.5408 6.91797 14.375 6.91797H5.625C5.45924 6.91797 5.30027 6.85212 5.18306 6.73491C5.06585 6.6177 5 6.45873 5 6.29297ZM5 9.41797C5 9.25221 5.06585 9.09324 5.18306 8.97603C5.30027 8.85882 5.45924 8.79297 5.625 8.79297H14.375C14.5408 8.79297 14.6997 8.85882 14.8169 8.97603C14.9342 9.09324 15 9.25221 15 9.41797C15 9.58373 14.9342 9.7427 14.8169 9.85991C14.6997 9.97712 14.5408 10.043 14.375 10.043H5.625C5.45924 10.043 5.30027 9.97712 5.18306 9.85991C5.06585 9.7427 5 9.58373 5 9.41797ZM5 12.543C5 12.3772 5.06585 12.2182 5.18306 12.101C5.30027 11.9838 5.45924 11.918 5.625 11.918H10.625C10.7908 11.918 10.9497 11.9838 11.0669 12.101C11.1842 12.2182 11.25 12.3772 11.25 12.543C11.25 12.7087 11.1842 12.8677 11.0669 12.9849C10.9497 13.1021 10.7908 13.168 10.625 13.168H5.625C5.45924 13.168 5.30027 13.1021 5.18306 12.9849C5.06585 12.8677 5 12.7087 5 12.543Z",fill:"#BDBDBD"})]});function NI(){const[t,e]=F.useState(!1),[n,i]=F.useState([{id:0,sender:"bot",text:"!   Artlas :)  ?"}]),[r,s]=F.useState(""),[l,d]=F.useState(!1),f=F.useRef(null),p=localStorage.getItem("ACCESS_TOKEN")?vt:xi;F.useRef(null);const y=()=>n[n.length-1].id+1;F.useEffect(()=>{f.current!==null&&f.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[f.current,n]);const _=()=>{e($=>!$),t?document.body.style.overflow="unset":document.body.style.overflow="hidden"},S=$=>{s($.target.value)},T=async $=>{const P={id:y(),sender:"user",text:$};i(B=>[...B,P]),console.log(`messages:
`,n);const R={text:$},D={id:y(),sender:"bot",text:"An error occured. Please report this to the service team."};try{d(!0);const B=await p.post("/api/chats",R);let z=B.data;console.log(`GPT Response:
`,B.data),D.text=z}catch(B){console.error("Error occurred while querying GPT:",B)}finally{d(!1)}i(B=>[...B,D]),console.log(`Updated messages:
`,n)},A=$=>$.split(/(\*\*[^\*]+\*\*)/g).map((R,D)=>R.startsWith("**")&&R.endsWith("**")?v.jsx("b",{children:R.slice(2,-2)},D):R),O=$=>{$.key==="Enter"&&k()},k=()=>{const $=r.trim();if(!$)return alert(" !");T($),s("")},L=$=>{setTimeout(()=>{$.target.scrollIntoView({behavior:"smooth",block:"nearest"})},300)};return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:Hn.chatbotContainer,children:v.jsx("button",{className:Hn.chatbotButton,onClick:_,children:v.jsx(EI,{})})}),t&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:Hn.chatbotOverlay}),v.jsxs("div",{className:Hn.popupContainer,children:[v.jsxs("div",{className:Hn.headerContainer,children:[v.jsx("h3",{className:Hn.headerTitle,children:"Artly "}),v.jsx("button",{className:Hn.closeButton,onClick:_,children:v.jsx(AI,{})})]}),v.jsxs("div",{className:Hn.chatContainer,children:[n.map($=>v.jsx("div",{className:$.sender==="bot"?Hn.botMessageContainer:Hn.userMessageContainer,ref:f,children:$.sender==="bot"?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:Hn.botProfile,children:"A"}),v.jsxs("div",{className:Hn.botContent,children:[v.jsx("p",{className:Hn.botName,children:" "}),v.jsx("div",{className:Hn.botBubble,children:v.jsx("p",{children:A($.text)})})]})]}):v.jsx("div",{className:Hn.userMessageContainer,children:v.jsx("div",{className:Hn.userBubble,children:v.jsx("p",{children:$.text})})})},$.id)),l&&v.jsxs("div",{className:Hn.botMessageContainer,ref:f,children:[v.jsx("div",{className:Hn.botProfile,children:"A"}),v.jsxs("div",{className:Hn.botContent,children:[v.jsx("p",{className:Hn.botName,children:" "}),v.jsx("div",{className:Hn.botBubble,children:v.jsx("p",{children:"   .  "})})]})]})]}),v.jsxs("div",{className:Hn.inputContainer,children:[v.jsx("input",{className:Hn.input,type:"text",value:r,onChange:S,onKeyPress:O,onFocus:L,placeholder:"  "}),v.jsx("button",{className:Hn.sendButton,onClick:k,children:v.jsx(TI,{})})]})]})]})]})}function MI(){const t=Ii(),n=!["/login","/register","/mypage","/mypage/edit"].some(i=>t.pathname.startsWith(i));return v.jsxs(v.Fragment,{children:[v.jsx(bE,{}),v.jsx(KE,{}),v.jsx("div",{style:{display:"flex",justifyContent:"center",flex:1},children:v.jsx(u2,{})}),n&&v.jsx(NI,{}),v.jsx(ZE,{})]})}function RI(){return localStorage.getItem("ACCESS_TOKEN")?v.jsx(u2,{}):v.jsx(H5,{to:"/login",replace:!0})}const OI="_mainLayout_yo4qg_1",II="_carouselContainer_yo4qg_25",uC={mainLayout:OI,carouselContainer:II},kI="_carouselContainer_1avyq_1",DI="_sliderWrapper_1avyq_19",BI="_slider_1avyq_19",LI="_carouselItem_1avyq_43",jI="_carouselImage_1avyq_55",PI="_captionBox_1avyq_71",FI="_title_1avyq_89",zI="_location_1avyq_99",HI="_detailButton_1avyq_111",UI="_arrowButton_1avyq_141",VI="_left_1avyq_177",$I="_right_1avyq_185",GI="_dots_1avyq_193",qI="_dot_1avyq_193",WI="_active_1avyq_235",ar={carouselContainer:kI,sliderWrapper:DI,slider:BI,carouselItem:LI,carouselImage:jI,captionBox:PI,title:FI,location:zI,detailButton:HI,arrowButton:UI,left:VI,right:$I,dots:GI,dot:qI,active:WI};function XI(){const[t,e]=F.useState(0),[n,i]=F.useState([]),r=F.useRef(null),s=on();F.useEffect(()=>(l(),()=>clearTimeout(r.current)),[t,n]);const l=()=>{clearTimeout(r.current),!(!n||n.length<=1)&&(r.current=setTimeout(()=>{e(y=>(y+1)%n.length)},5e3))},d=()=>{e(y=>(y-1+n.length)%n.length)},f=()=>{e(y=>(y+1)%n.length)},p=y=>e(y);return F.useEffect(()=>{(async()=>{try{const S=(await xi.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:T,exhibition_poster:A,exhibition_title:O,exhibition_category:k,exhibition_status:L,exhibition_start_date:$,exhibition_end_date:P,exhibition_organization:R})=>({id:T,image:A,title:O,category:k,status:L,startDate:$,endDate:P,organization:R}));i(S)}catch(_){console.error("     :",_)}})()},[]),v.jsxs("div",{className:ar.carouselContainer,children:[v.jsx("button",{className:`${ar.arrowButton} ${ar.left}`,onClick:d,children:""}),v.jsx("div",{className:ar.sliderWrapper,children:v.jsx("div",{className:ar.slider,style:{transform:`translateX(-${t*100}%)`},children:n.map(y=>v.jsxs("div",{className:ar.carouselItem,children:[v.jsx("img",{src:y==null?void 0:y.image,alt:(y==null?void 0:y.title)||(y==null?void 0:y.name),className:ar.carouselImage,onClick:()=>{s(`/exhibitions/${y==null?void 0:y.id}`)}}),v.jsxs("div",{className:ar.captionBox,children:[v.jsx("h3",{className:ar.title,children:y==null?void 0:y.title}),v.jsxs("p",{className:ar.location,children:[y==null?void 0:y.organization.name,""," ",(y==null?void 0:y.period)||`${y==null?void 0:y.startDate} ~ ${y==null?void 0:y.endDate}`]}),v.jsx("button",{className:ar.detailButton,onClick:()=>{s(`/exhibitions/${y==null?void 0:y.id}`)},children:" "})]})]},y==null?void 0:y.id))})}),v.jsx("button",{className:`${ar.arrowButton} ${ar.right}`,onClick:f,children:""}),v.jsx("div",{className:ar.dots,children:n.map((y,_)=>v.jsx("button",{onClick:()=>p(_),className:`${ar.dot} ${_===t?ar.active:""}`},y==null?void 0:y.id))})]})}const YI="_carouselWrapper_dgj9x_1",KI="_titleContainer_dgj9x_19",ZI="_carouselTitle_dgj9x_35",QI="_moreButton_dgj9x_47",JI="_carouselViewport_dgj9x_85",ek="_carouselTrack_dgj9x_97",tk="_carouselSlide_dgj9x_117",nk="_artistImage_dgj9x_149",ik="_artistText_dgj9x_165",rk="_name_dgj9x_175",sk="_field_dgj9x_185",ak="_prevButton_dgj9x_195",ok="_nextButton_dgj9x_197",Qr={carouselWrapper:YI,titleContainer:KI,carouselTitle:ZI,moreButton:QI,carouselViewport:JI,carouselTrack:ek,carouselSlide:tk,artistImage:nk,artistText:ik,name:rk,field:sk,prevButton:ak,nextButton:ok};function lk({title:t}){const[e,n]=F.useState([]),[i,r]=F.useState(1),[s,l]=F.useState(1),[d,f]=F.useState(!1),p=F.useRef(null),y=F.useRef(0),_=F.useRef(0),S=()=>{l(4)};F.useEffect(()=>{(async()=>{try{const D=(await xi.get("/api/artist",{params:{}})).data.map(({id:B,artist_name:z,artist_category:G,artist_image:X})=>({id:B,artist_name:z,artist_category:G,artist_image:X})).slice(0,10);n(D)}catch(R){console.error("     :",R)}})(),S()},[]);const T=P=>{if(d)return;f(!0);const R=p.current.offsetWidth/s;p.current.style.transition="transform 0.4s ease-in-out",p.current.style.transform=`translateX(-${R*P}px)`,r(P)},A=()=>T(i+1),O=()=>T(i-1);F.useEffect(()=>{const P=p.current.offsetWidth/s;p.current.style.transition="none",p.current.style.transform=`translateX(-${P}px)`},[s]),F.useEffect(()=>{const P=()=>{const D=p.current.offsetWidth/s;if(p.current.style.transition="none",i>=e.length-s)p.current.style.transform=`translateX(-${D}px)`,r(1);else if(i===0){const B=e.length-s-1;p.current.style.transform=`translateX(-${D*B}px)`,r(B)}f(!1)},R=p.current;return R.addEventListener("transitionend",P),()=>R.removeEventListener("transitionend",P)},[i,e.length,s]);const k=P=>{y.current=P.touches[0].clientX},L=P=>{_.current=P.touches[0].clientX},$=()=>{const P=y.current-_.current;Math.abs(P)>50&&(P>0?A():O())};return v.jsxs("div",{className:Qr.carouselWrapper,children:[v.jsxs("div",{className:Qr.titleContainer,children:[v.jsx("h2",{className:Qr.carouselTitle,children:t}),v.jsx(En,{to:"/artists",className:Qr.moreButton,children:""})]}),v.jsx("div",{className:Qr.carouselViewport,onTouchStart:k,onTouchMove:L,onTouchEnd:$,children:v.jsx("div",{className:Qr.carouselTrack,ref:p,children:e.map(P=>v.jsxs(En,{to:`/artists/${P==null?void 0:P.id}`,className:Qr.carouselSlide,children:[v.jsx("img",{src:(P==null?void 0:P.artist_image)||"/default.jpg",alt:P!=null&&P.artist_name?`${P.artist_name} `:" ",className:Qr.artistImage}),v.jsxs("div",{className:Qr.artistText,children:[v.jsx("h3",{className:Qr.name,children:P!=null&&P.artist_name&&P.artist_name.trim()!==""?P.artist_name:" "}),v.jsx("p",{className:Qr.field,children:P!=null&&P.artist_category&&P.artist_category.trim()!==""?P.artist_category:" "})]})]},`${P==null?void 0:P.artist_name}-${P==null?void 0:P.id}`))})}),v.jsx("button",{className:Qr.prevButton,onClick:()=>!d&&O(),children:""}),v.jsx("button",{className:Qr.nextButton,onClick:()=>!d&&A(),children:""})]})}function dC(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function x2(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:dC(e[i])&&dC(t[i])&&Object.keys(e[i]).length>0&&x2(t[i],e[i])})}const e4={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Oc(){const t=typeof document<"u"?document:{};return x2(t,e4),t}const ck={document:e4,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ar(){const t=typeof window<"u"?window:{};return x2(t,ck),t}function uk(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function dk(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function t4(t,e=0){return setTimeout(t,e)}function a1(){return Date.now()}function fk(t){const e=Ar();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function hk(t,e="x"){const n=Ar();let i,r,s;const l=fk(t);return n.WebKitCSSMatrix?(r=l.transform||l.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(d=>d.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function hp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function pk(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function ss(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let i=1;i<t.length;i+=1){const r=t[i];if(r!=null&&!pk(r)){const s=Object.keys(Object(r)).filter(l=>n.indexOf(l)<0);for(let l=0,d=s.length;l<d;l+=1){const f=s[l],p=Object.getOwnPropertyDescriptor(r,f);p!==void 0&&p.enumerable&&(hp(e[f])&&hp(r[f])?r[f].__swiper__?e[f]=r[f]:ss(e[f],r[f]):!hp(e[f])&&hp(r[f])?(e[f]={},r[f].__swiper__?e[f]=r[f]:ss(e[f],r[f])):e[f]=r[f])}}}return e}function pp(t,e,n){t.style.setProperty(e,n)}function n4({swiper:t,targetPosition:e,side:n}){const i=Ar(),r=-t.translate;let s=null,l;const d=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const f=e>r?"next":"prev",p=(_,S)=>f==="next"&&_>=S||f==="prev"&&_<=S,y=()=>{l=new Date().getTime(),s===null&&(s=l);const _=Math.max(Math.min((l-s)/d,1),0),S=.5-Math.cos(_*Math.PI)/2;let T=r+S*(e-r);if(p(T,e)&&(T=e),t.wrapperEl.scrollTo({[n]:T}),p(T,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:T})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(y)};y()}function wa(t,e=""){const n=Ar(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(r=>r.matches(e)):i}function mk(t,e){const n=[e];for(;n.length>0;){const i=n.shift();if(t===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function gk(t,e){const n=Ar();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=mk(t,e))),i}function o1(t){try{console.warn(t);return}catch{}}function l1(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:uk(e)),n}function xk(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function yk(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function hl(t,e){return Ar().getComputedStyle(t,null).getPropertyValue(e)}function fC(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function vk(t,e){const n=[];let i=t.parentElement;for(;i;)n.push(i),i=i.parentElement;return n}function hC(t,e,n){const i=Ar();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Xa(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function gy(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let ex;function bk(){const t=Ar(),e=Oc();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function i4(){return ex||(ex=bk()),ex}let tx;function wk({userAgent:t}={}){const e=i4(),n=Ar(),i=n.navigator.platform,r=t||n.navigator.userAgent,s={ios:!1,android:!1},l=n.screen.width,d=n.screen.height,f=r.match(/(Android);?[\s\/]+([\d.]+)?/);let p=r.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const y=r.match(/(iPod)(.*OS\s([\d_]+))?/),_=!p&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),S=i==="Win32";let T=i==="MacIntel";const A=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&T&&e.touch&&A.indexOf(`${l}x${d}`)>=0&&(p=r.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),T=!1),f&&!S&&(s.os="android",s.android=!0),(p||_||y)&&(s.os="ios",s.ios=!0),s}function r4(t={}){return tx||(tx=wk(t)),tx}let nx;function _k(){const t=Ar(),e=r4();let n=!1;function i(){const d=t.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(i()){const d=String(t.navigator.userAgent);if(d.includes("Version/")){const[f,p]=d.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));n=f<16||f===16&&p<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=i(),l=s||r&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:l,isWebView:r}}function s4(){return nx||(nx=_k()),nx}function Ck({swiper:t,on:e,emit:n}){const i=Ar();let r=null,s=null;const l=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},d=()=>{!t||t.destroyed||!t.initialized||(r=new ResizeObserver(y=>{s=i.requestAnimationFrame(()=>{const{width:_,height:S}=t;let T=_,A=S;y.forEach(({contentBoxSize:O,contentRect:k,target:L})=>{L&&L!==t.el||(T=k?k.width:(O[0]||O).inlineSize,A=k?k.height:(O[0]||O).blockSize)}),(T!==_||A!==S)&&l()})}),r.observe(t.el))},f=()=>{s&&i.cancelAnimationFrame(s),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null)},p=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){d();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",p)}),e("destroy",()=>{f(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",p)})}function Sk({swiper:t,extendParams:e,on:n,emit:i}){const r=[],s=Ar(),l=(p,y={})=>{const _=s.MutationObserver||s.WebkitMutationObserver,S=new _(T=>{if(t.__preventObserver__)return;if(T.length===1){i("observerUpdate",T[0]);return}const A=function(){i("observerUpdate",T[0])};s.requestAnimationFrame?s.requestAnimationFrame(A):s.setTimeout(A,0)});S.observe(p,{attributes:typeof y.attributes>"u"?!0:y.attributes,childList:t.isElement||(typeof y.childList>"u"?!0:y).childList,characterData:typeof y.characterData>"u"?!0:y.characterData}),r.push(S)},d=()=>{if(t.params.observer){if(t.params.observeParents){const p=vk(t.hostEl);for(let y=0;y<p.length;y+=1)l(p[y])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},f=()=>{r.forEach(p=>{p.disconnect()}),r.splice(0,r.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",d),n("destroy",f)}var Ek={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(...s){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy,e.apply(i,s)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,i,r;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],i=t.slice(1,t.length),r=e):(n=t[0].events,i=t[0].data,r=t[0].context||e),i.unshift(r),(Array.isArray(n)?n:n.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(d=>{d.apply(r,[l,...i])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(d=>{d.apply(r,i)})}),e}};function Ak(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(hl(i,"padding-left")||0,10)-parseInt(hl(i,"padding-right")||0,10),n=n-parseInt(hl(i,"padding-top")||0,10)-parseInt(hl(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Tk(){const t=this;function e(se,ae){return parseFloat(se.getPropertyValue(t.getDirectionLabel(ae))||0)}const n=t.params,{wrapperEl:i,slidesEl:r,rtlTranslate:s,wrongRTL:l}=t,d=t.virtual&&n.virtual.enabled,f=d?t.virtual.slides.length:t.slides.length,p=wa(r,`.${t.params.slideClass}, swiper-slide`),y=d?t.virtual.slides.length:p.length;let _=[];const S=[],T=[];let A=n.slidesOffsetBefore;typeof A=="function"&&(A=n.slidesOffsetBefore.call(t));let O=n.slidesOffsetAfter;typeof O=="function"&&(O=n.slidesOffsetAfter.call(t));const k=t.snapGrid.length,L=t.slidesGrid.length,$=t.size-A-O;let P=n.spaceBetween,R=-A,D=0,B=0;if(typeof $>"u")return;typeof P=="string"&&P.indexOf("%")>=0?P=parseFloat(P.replace("%",""))/100*$:typeof P=="string"&&(P=parseFloat(P)),t.virtualSize=-P-A-O,p.forEach(se=>{s?se.style.marginLeft="":se.style.marginRight="",se.style.marginBottom="",se.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(pp(i,"--swiper-centered-offset-before",""),pp(i,"--swiper-centered-offset-after",""));const z=n.grid&&n.grid.rows>1&&t.grid;z?t.grid.initSlides(p):t.grid&&t.grid.unsetSlides();let G;const X=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(se=>typeof n.breakpoints[se].slidesPerView<"u").length>0;for(let se=0;se<y;se+=1){G=0;const ae=p[se];if(!(ae&&(z&&t.grid.updateSlide(se,ae,p),hl(ae,"display")==="none"))){if(d&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(G=n.virtual.slidesPerViewAutoSlideSize),G&&ae&&(n.roundLengths&&(G=Math.floor(G)),ae.style[t.getDirectionLabel("width")]=`${G}px`);else if(n.slidesPerView==="auto"){X&&(ae.style[t.getDirectionLabel("width")]="");const ue=getComputedStyle(ae),Oe=ae.style.transform,Te=ae.style.webkitTransform;if(Oe&&(ae.style.transform="none"),Te&&(ae.style.webkitTransform="none"),n.roundLengths)G=t.isHorizontal()?hC(ae,"width"):hC(ae,"height");else{const ne=e(ue,"width"),Q=e(ue,"padding-left"),le=e(ue,"padding-right"),fe=e(ue,"margin-left"),Be=e(ue,"margin-right"),Z=ue.getPropertyValue("box-sizing");if(Z&&Z==="border-box")G=ne+fe+Be;else{const{clientWidth:be,offsetWidth:Re}=ae;G=ne+Q+le+fe+Be+(Re-be)}}Oe&&(ae.style.transform=Oe),Te&&(ae.style.webkitTransform=Te),n.roundLengths&&(G=Math.floor(G))}else G=($-(n.slidesPerView-1)*P)/n.slidesPerView,n.roundLengths&&(G=Math.floor(G)),ae&&(ae.style[t.getDirectionLabel("width")]=`${G}px`);ae&&(ae.swiperSlideSize=G),T.push(G),n.centeredSlides?(R=R+G/2+D/2+P,D===0&&se!==0&&(R=R-$/2-P),se===0&&(R=R-$/2-P),Math.abs(R)<1/1e3&&(R=0),n.roundLengths&&(R=Math.floor(R)),B%n.slidesPerGroup===0&&_.push(R),S.push(R)):(n.roundLengths&&(R=Math.floor(R)),(B-Math.min(t.params.slidesPerGroupSkip,B))%t.params.slidesPerGroup===0&&_.push(R),S.push(R),R=R+G+P),t.virtualSize+=G+P,D=G,B+=1}}if(t.virtualSize=Math.max(t.virtualSize,$)+O,s&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+P}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+P}px`),z&&t.grid.updateWrapperSize(G,_),!n.centeredSlides){const se=[];for(let ae=0;ae<_.length;ae+=1){let ue=_[ae];n.roundLengths&&(ue=Math.floor(ue)),_[ae]<=t.virtualSize-$&&se.push(ue)}_=se,Math.floor(t.virtualSize-$)-Math.floor(_[_.length-1])>1&&_.push(t.virtualSize-$)}if(d&&n.loop){const se=T[0]+P;if(n.slidesPerGroup>1){const ae=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),ue=se*n.slidesPerGroup;for(let Oe=0;Oe<ae;Oe+=1)_.push(_[_.length-1]+ue)}for(let ae=0;ae<t.virtual.slidesBefore+t.virtual.slidesAfter;ae+=1)n.slidesPerGroup===1&&_.push(_[_.length-1]+se),S.push(S[S.length-1]+se),t.virtualSize+=se}if(_.length===0&&(_=[0]),P!==0){const se=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");p.filter((ae,ue)=>!n.cssMode||n.loop?!0:ue!==p.length-1).forEach(ae=>{ae.style[se]=`${P}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let se=0;T.forEach(ue=>{se+=ue+(P||0)}),se-=P;const ae=se>$?se-$:0;_=_.map(ue=>ue<=0?-A:ue>ae?ae+O:ue)}if(n.centerInsufficientSlides){let se=0;T.forEach(ue=>{se+=ue+(P||0)}),se-=P;const ae=(A||0)+(O||0);if(se+ae<$){const ue=($-se-ae)/2;_.forEach((Oe,Te)=>{_[Te]=Oe-ue}),S.forEach((Oe,Te)=>{S[Te]=Oe+ue})}}if(Object.assign(t,{slides:p,snapGrid:_,slidesGrid:S,slidesSizesGrid:T}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){pp(i,"--swiper-centered-offset-before",`${-_[0]}px`),pp(i,"--swiper-centered-offset-after",`${t.size/2-T[T.length-1]/2}px`);const se=-t.snapGrid[0],ae=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(ue=>ue+se),t.slidesGrid=t.slidesGrid.map(ue=>ue+ae)}if(y!==f&&t.emit("slidesLengthChange"),_.length!==k&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),S.length!==L&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!d&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const se=`${n.containerModifierClass}backface-hidden`,ae=t.el.classList.contains(se);y<=n.maxBackfaceHiddenSlides?ae||t.el.classList.add(se):ae&&t.el.classList.remove(se)}}function Nk(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const l=d=>i?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{n.push(d)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const d=e.activeIndex+s;if(d>e.slides.length&&!i)break;n.push(l(d))}else n.push(l(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const d=n[s].offsetHeight;r=d>r?d:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function Mk(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const pC=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Rk(t=this&&this.translate||0){const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-t;r&&(l=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=n.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let f=0;f<i.length;f+=1){const p=i[f];let y=p.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(y-=i[0].swiperSlideOffset);const _=(l+(n.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+d),S=(l-s[0]+(n.centeredSlides?e.minTranslate():0)-y)/(p.swiperSlideSize+d),T=-(l-y),A=T+e.slidesSizesGrid[f],O=T>=0&&T<=e.size-e.slidesSizesGrid[f],k=T>=0&&T<e.size-1||A>1&&A<=e.size||T<=0&&A>=e.size;k&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(f)),pC(p,k,n.slideVisibleClass),pC(p,O,n.slideFullyVisibleClass),p.progress=r?-_:_,p.originalProgress=r?-S:S}}function Ok(t){const e=this;if(typeof t>"u"){const y=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*y||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:l,progressLoop:d}=e;const f=s,p=l;if(i===0)r=0,s=!0,l=!0;else{r=(t-e.minTranslate())/i;const y=Math.abs(t-e.minTranslate())<1,_=Math.abs(t-e.maxTranslate())<1;s=y||r<=0,l=_||r>=1,y&&(r=0),_&&(r=1)}if(n.loop){const y=e.getSlideIndexByData(0),_=e.getSlideIndexByData(e.slides.length-1),S=e.slidesGrid[y],T=e.slidesGrid[_],A=e.slidesGrid[e.slidesGrid.length-1],O=Math.abs(t);O>=S?d=(O-S)/A:d=(O+A-T)/A,d>1&&(d-=1)}Object.assign(e,{progress:r,progressLoop:d,isBeginning:s,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!f&&e.emit("reachBeginning toEdge"),l&&!p&&e.emit("reachEnd toEdge"),(f&&!s||p&&!l)&&e.emit("fromEdge"),e.emit("progress",r)}const ix=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Ik(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,l=t.grid&&n.grid&&n.grid.rows>1,d=_=>wa(i,`.${n.slideClass}${_}, swiper-slide${_}`)[0];let f,p,y;if(s)if(n.loop){let _=r-t.virtual.slidesBefore;_<0&&(_=t.virtual.slides.length+_),_>=t.virtual.slides.length&&(_-=t.virtual.slides.length),f=d(`[data-swiper-slide-index="${_}"]`)}else f=d(`[data-swiper-slide-index="${r}"]`);else l?(f=e.find(_=>_.column===r),y=e.find(_=>_.column===r+1),p=e.find(_=>_.column===r-1)):f=e[r];f&&(l||(y=yk(f,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!y&&(y=e[0]),p=xk(f,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(_=>{ix(_,_===f,n.slideActiveClass),ix(_,_===y,n.slideNextClass),ix(_,_===p,n.slidePrevClass)}),t.emitSlidesClasses()}const Gp=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},rx=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},xy=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const l=r,d=[l-e];d.push(...Array.from({length:e}).map((f,p)=>l+i+p)),t.slides.forEach((f,p)=>{d.includes(f.column)&&rx(t,p)});return}const s=r+i-1;if(t.params.rewind||t.params.loop)for(let l=r-e;l<=s+e;l+=1){const d=(l%n+n)%n;(d<r||d>s)&&rx(t,d)}else for(let l=Math.max(r-e,0);l<=Math.min(s+e,n-1);l+=1)l!==r&&(l>s||l<r)&&rx(t,l)};function kk(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function Dk(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:l,snapIndex:d}=e;let f=t,p;const y=T=>{let A=T-e.virtual.slidesBefore;return A<0&&(A=e.virtual.slides.length+A),A>=e.virtual.slides.length&&(A-=e.virtual.slides.length),A};if(typeof f>"u"&&(f=kk(e)),i.indexOf(n)>=0)p=i.indexOf(n);else{const T=Math.min(r.slidesPerGroupSkip,f);p=T+Math.floor((f-T)/r.slidesPerGroup)}if(p>=i.length&&(p=i.length-1),f===s&&!e.params.loop){p!==d&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(f===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=y(f);return}const _=e.grid&&r.grid&&r.grid.rows>1;let S;if(e.virtual&&r.virtual.enabled&&r.loop)S=y(f);else if(_){const T=e.slides.find(O=>O.column===f);let A=parseInt(T.getAttribute("data-swiper-slide-index"),10);Number.isNaN(A)&&(A=Math.max(e.slides.indexOf(T),0)),S=Math.floor(A/r.grid.rows)}else if(e.slides[f]){const T=e.slides[f].getAttribute("data-swiper-slide-index");T?S=parseInt(T,10):S=f}else S=f;Object.assign(e,{previousSnapIndex:d,snapIndex:p,previousRealIndex:l,realIndex:S,previousIndex:s,activeIndex:f}),e.initialized&&xy(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==S&&e.emit("realIndexChange"),e.emit("slideChange"))}function Bk(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(d=>{!r&&d.matches&&d.matches(`.${i.slideClass}, swiper-slide`)&&(r=d)});let s=!1,l;if(r){for(let d=0;d<n.slides.length;d+=1)if(n.slides[d]===r){s=!0,l=d;break}}if(r&&s)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=l;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Lk={updateSize:Ak,updateSlides:Tk,updateAutoHeight:Nk,updateSlidesOffset:Mk,updateSlidesProgress:Rk,updateProgress:Ok,updateSlidesClasses:Ik,updateActiveIndex:Dk,updateClickedSlide:Bk};function jk(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let l=hk(s,t);return l+=e.cssOverflowAdjustment(),i&&(l=-l),l||0}function Pk(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:l}=n;let d=0,f=0;const p=0;n.isHorizontal()?d=i?-t:t:f=t,r.roundLengths&&(d=Math.floor(d),f=Math.floor(f)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?d:f,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-d:-f:r.virtualTranslate||(n.isHorizontal()?d-=n.cssOverflowAdjustment():f-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${d}px, ${f}px, ${p}px)`);let y;const _=n.maxTranslate()-n.minTranslate();_===0?y=0:y=(t-n.minTranslate())/_,y!==l&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Fk(){return-this.snapGrid[0]}function zk(){return-this.snapGrid[this.snapGrid.length-1]}function Hk(t=0,e=this.params.speed,n=!0,i=!0,r){const s=this,{params:l,wrapperEl:d}=s;if(s.animating&&l.preventInteractionOnTransition)return!1;const f=s.minTranslate(),p=s.maxTranslate();let y;if(i&&t>f?y=f:i&&t<p?y=p:y=t,s.updateProgress(y),l.cssMode){const _=s.isHorizontal();if(e===0)d[_?"scrollLeft":"scrollTop"]=-y;else{if(!s.support.smoothScroll)return n4({swiper:s,targetPosition:-y,side:_?"left":"top"}),!0;d.scrollTo({[_?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(y),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(y),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(S){!s||s.destroyed||S.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var Uk={getTranslate:jk,setTranslate:Pk,minTranslate:Fk,maxTranslate:zk,translateTo:Hk};function Vk(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function a4({swiper:t,runCallbacks:e,direction:n,step:i}){const{activeIndex:r,previousIndex:s}=t;let l=n;l||(r>s?l="next":r<s?l="prev":l="reset"),t.emit(`transition${i}`),e&&l==="reset"?t.emit(`slideResetTransition${i}`):e&&r!==s&&(t.emit(`slideChangeTransition${i}`),l==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`))}function $k(t=!0,e){const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),a4({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Gk(t=!0,e){const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),a4({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var qk={setTransition:Vk,transitionStart:$k,transitionEnd:Gk};function Wk(t=0,e,n=!0,i,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;let l=t;l<0&&(l=0);const{params:d,snapGrid:f,slidesGrid:p,previousIndex:y,activeIndex:_,rtlTranslate:S,wrapperEl:T,enabled:A}=s;if(!A&&!i&&!r||s.destroyed||s.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const O=Math.min(s.params.slidesPerGroupSkip,l);let k=O+Math.floor((l-O)/s.params.slidesPerGroup);k>=f.length&&(k=f.length-1);const L=-f[k];if(d.normalizeSlideIndex)for(let z=0;z<p.length;z+=1){const G=-Math.floor(L*100),X=Math.floor(p[z]*100),se=Math.floor(p[z+1]*100);typeof p[z+1]<"u"?G>=X&&G<se-(se-X)/2?l=z:G>=X&&G<se&&(l=z+1):G>=X&&(l=z)}if(s.initialized&&l!==_&&(!s.allowSlideNext&&(S?L>s.translate&&L>s.minTranslate():L<s.translate&&L<s.minTranslate())||!s.allowSlidePrev&&L>s.translate&&L>s.maxTranslate()&&(_||0)!==l))return!1;l!==(y||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(L);let $;l>_?$="next":l<_?$="prev":$="reset";const P=s.virtual&&s.params.virtual.enabled;if(!(P&&r)&&(S&&-L===s.translate||!S&&L===s.translate))return s.updateActiveIndex(l),d.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),d.effect!=="slide"&&s.setTranslate(L),$!=="reset"&&(s.transitionStart(n,$),s.transitionEnd(n,$)),!1;if(d.cssMode){const z=s.isHorizontal(),G=S?L:-L;if(e===0)P&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),P&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{T[z?"scrollLeft":"scrollTop"]=G})):T[z?"scrollLeft":"scrollTop"]=G,P&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return n4({swiper:s,targetPosition:G,side:z?"left":"top"}),!0;T.scrollTo({[z?"left":"top"]:G,behavior:"smooth"})}return!0}const B=s4().isSafari;return P&&!r&&B&&s.isElement&&s.virtual.update(!1,!1,l),s.setTransition(e),s.setTranslate(L),s.updateActiveIndex(l),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,$),e===0?s.transitionEnd(n,$):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(G){!s||s.destroyed||G.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,$))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function Xk(t=0,e,n=!0,i){typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let l=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)l=l+r.virtual.slidesBefore;else{let d;if(s){const O=l*r.params.grid.rows;d=r.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===O).column}else d=r.getSlideIndexByData(l);const f=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:p,slidesOffsetBefore:y,slidesOffsetAfter:_}=r.params,S=p||!!y||!!_;let T=r.params.slidesPerView;T==="auto"?T=r.slidesPerViewDynamic():(T=Math.ceil(parseFloat(r.params.slidesPerView,10)),S&&T%2===0&&(T=T+1));let A=f-d<T;if(S&&(A=A||d<Math.ceil(T/2)),i&&S&&r.params.slidesPerView!=="auto"&&!s&&(A=!1),A){const O=S?d<r.activeIndex?"prev":"next":d-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:O,slideTo:!0,activeSlideIndex:O==="next"?d+1:d-f+1,slideRealIndex:O==="next"?r.realIndex:void 0})}if(s){const O=l*r.params.grid.rows;l=r.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===O).column}else l=r.getSlideIndexByData(l)}return requestAnimationFrame(()=>{r.slideTo(l,e,n,i)}),r}function Yk(t,e=!0,n){const i=this,{enabled:r,params:s,animating:l}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let d=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(d=Math.max(i.slidesPerViewDynamic("current",!0),1));const f=i.activeIndex<s.slidesPerGroupSkip?1:d,p=i.virtual&&s.virtual.enabled;if(s.loop){if(l&&!p&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+f,t,e,n)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+f,t,e,n)}function Kk(t,e=!0,n){const i=this,{params:r,snapGrid:s,slidesGrid:l,rtlTranslate:d,enabled:f,animating:p}=i;if(!f||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const y=i.virtual&&r.virtual.enabled;if(r.loop){if(p&&!y&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const _=d?i.translate:-i.translate;function S($){return $<0?-Math.floor(Math.abs($)):Math.floor($)}const T=S(_),A=s.map($=>S($)),O=r.freeMode&&r.freeMode.enabled;let k=s[A.indexOf(T)-1];if(typeof k>"u"&&(r.cssMode||O)){let $;s.forEach((P,R)=>{T>=P&&($=R)}),typeof $<"u"&&(k=O?s[$]:s[$>0?$-1:$])}let L=0;if(typeof k<"u"&&(L=l.indexOf(k),L<0&&(L=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(L=L-i.slidesPerViewDynamic("previous",!0)+1,L=Math.max(L,0))),r.rewind&&i.isBeginning){const $=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo($,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(L,t,e,n)}),!0;return i.slideTo(L,t,e,n)}function Zk(t,e=!0,n){const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function Qk(t,e=!0,n,i=.5){const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let s=r.activeIndex;const l=Math.min(r.params.slidesPerGroupSkip,s),d=l+Math.floor((s-l)/r.params.slidesPerGroup),f=r.rtlTranslate?r.translate:-r.translate;if(f>=r.snapGrid[d]){const p=r.snapGrid[d],y=r.snapGrid[d+1];f-p>(y-p)*i&&(s+=r.params.slidesPerGroup)}else{const p=r.snapGrid[d-1],y=r.snapGrid[d];f-p<=(y-p)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function Jk(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.getSlideIndexWhenGrid(t.clickedIndex),s;const l=t.isElement?"swiper-slide":`.${e.slideClass}`,d=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):r>(d?(t.slides.length-i)/2-(t.params.grid.rows-1):t.slides.length-i)?(t.loopFix(),r=t.getSlideIndex(wa(n,`${l}[data-swiper-slide-index="${s}"]`)[0]),t4(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var e7={slideTo:Wk,slideToLoop:Xk,slideNext:Yk,slidePrev:Kk,slideReset:Zk,slideToClosest:Qk,slideToClickedSlide:Jk};function t7(t,e){const n=this,{params:i,slidesEl:r}=n;if(!i.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{wa(r,`.${i.slideClass}, swiper-slide`).forEach((A,O)=>{A.setAttribute("data-swiper-slide-index",O)})},l=()=>{const T=wa(r,`.${i.slideBlankClass}`);T.forEach(A=>{A.remove()}),T.length>0&&(n.recalcSlides(),n.updateSlides())},d=n.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||d)&&l();const f=i.slidesPerGroup*(d?i.grid.rows:1),p=n.slides.length%f!==0,y=d&&n.slides.length%i.grid.rows!==0,_=T=>{for(let A=0;A<T;A+=1){const O=n.isElement?l1("swiper-slide",[i.slideBlankClass]):l1("div",[i.slideClass,i.slideBlankClass]);n.slidesEl.append(O)}};if(p){if(i.loopAddBlankSlides){const T=f-n.slides.length%f;_(T),n.recalcSlides(),n.updateSlides()}else o1("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(y){if(i.loopAddBlankSlides){const T=i.grid.rows-n.slides.length%i.grid.rows;_(T),n.recalcSlides(),n.updateSlides()}else o1("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();const S=i.centeredSlides||!!i.slidesOffsetBefore||!!i.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:S?void 0:"next",initial:e})}function n7({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:i,activeSlideIndex:r,initial:s,byController:l,byMousewheel:d}={}){const f=this;if(!f.params.loop)return;f.emit("beforeLoopFix");const{slides:p,allowSlidePrev:y,allowSlideNext:_,slidesEl:S,params:T}=f,{centeredSlides:A,slidesOffsetBefore:O,slidesOffsetAfter:k,initialSlide:L}=T,$=A||!!O||!!k;if(f.allowSlidePrev=!0,f.allowSlideNext=!0,f.virtual&&T.virtual.enabled){e&&(!$&&f.snapIndex===0?f.slideTo(f.virtual.slides.length,0,!1,!0):$&&f.snapIndex<T.slidesPerView?f.slideTo(f.virtual.slides.length+f.snapIndex,0,!1,!0):f.snapIndex===f.snapGrid.length-1&&f.slideTo(f.virtual.slidesBefore,0,!1,!0)),f.allowSlidePrev=y,f.allowSlideNext=_,f.emit("loopFix");return}let P=T.slidesPerView;P==="auto"?P=f.slidesPerViewDynamic():(P=Math.ceil(parseFloat(T.slidesPerView,10)),$&&P%2===0&&(P=P+1));const R=T.slidesPerGroupAuto?P:T.slidesPerGroup;let D=$?Math.max(R,Math.ceil(P/2)):R;D%R!==0&&(D+=R-D%R),D+=T.loopAdditionalSlides,f.loopedSlides=D;const B=f.grid&&T.grid&&T.grid.rows>1;p.length<P+D||f.params.effect==="cards"&&p.length<P+D*2?o1("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):B&&T.grid.fill==="row"&&o1("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const z=[],G=[],X=B?Math.ceil(p.length/T.grid.rows):p.length,se=s&&X-L<P&&!$;let ae=se?L:f.activeIndex;typeof r>"u"?r=f.getSlideIndex(p.find(fe=>fe.classList.contains(T.slideActiveClass))):ae=r;const ue=n==="next"||!n,Oe=n==="prev"||!n;let Te=0,ne=0;const le=(B?p[r].column:r)+($&&typeof i>"u"?-P/2+.5:0);if(le<D){Te=Math.max(D-le,R);for(let fe=0;fe<D-le;fe+=1){const Be=fe-Math.floor(fe/X)*X;if(B){const Z=X-Be-1;for(let be=p.length-1;be>=0;be-=1)p[be].column===Z&&z.push(be)}else z.push(X-Be-1)}}else if(le+P>X-D){ne=Math.max(le-(X-D*2),R),se&&(ne=Math.max(ne,P-X+L+1));for(let fe=0;fe<ne;fe+=1){const Be=fe-Math.floor(fe/X)*X;B?p.forEach((Z,be)=>{Z.column===Be&&G.push(be)}):G.push(Be)}}if(f.__preventObserver__=!0,requestAnimationFrame(()=>{f.__preventObserver__=!1}),f.params.effect==="cards"&&p.length<P+D*2&&(G.includes(r)&&G.splice(G.indexOf(r),1),z.includes(r)&&z.splice(z.indexOf(r),1)),Oe&&z.forEach(fe=>{p[fe].swiperLoopMoveDOM=!0,S.prepend(p[fe]),p[fe].swiperLoopMoveDOM=!1}),ue&&G.forEach(fe=>{p[fe].swiperLoopMoveDOM=!0,S.append(p[fe]),p[fe].swiperLoopMoveDOM=!1}),f.recalcSlides(),T.slidesPerView==="auto"?f.updateSlides():B&&(z.length>0&&Oe||G.length>0&&ue)&&f.slides.forEach((fe,Be)=>{f.grid.updateSlide(Be,fe,f.slides)}),T.watchSlidesProgress&&f.updateSlidesOffset(),e){if(z.length>0&&Oe){if(typeof t>"u"){const fe=f.slidesGrid[ae],Z=f.slidesGrid[ae+Te]-fe;d?f.setTranslate(f.translate-Z):(f.slideTo(ae+Math.ceil(Te),0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-Z,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-Z))}else if(i){const fe=B?z.length/T.grid.rows:z.length;f.slideTo(f.activeIndex+fe,0,!1,!0),f.touchEventsData.currentTranslate=f.translate}}else if(G.length>0&&ue)if(typeof t>"u"){const fe=f.slidesGrid[ae],Z=f.slidesGrid[ae-ne]-fe;d?f.setTranslate(f.translate-Z):(f.slideTo(ae-ne,0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-Z,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-Z))}else{const fe=B?G.length/T.grid.rows:G.length;f.slideTo(f.activeIndex-fe,0,!1,!0)}}if(f.allowSlidePrev=y,f.allowSlideNext=_,f.controller&&f.controller.control&&!l){const fe={slideRealIndex:t,direction:n,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(f.controller.control)?f.controller.control.forEach(Be=>{!Be.destroyed&&Be.params.loop&&Be.loopFix({...fe,slideTo:Be.params.slidesPerView===T.slidesPerView?e:!1})}):f.controller.control instanceof f.constructor&&f.controller.control.params.loop&&f.controller.control.loopFix({...fe,slideTo:f.controller.control.params.slidesPerView===T.slidesPerView?e:!1})}f.emit("loopFix")}function i7(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var r7={loopCreate:t7,loopFix:n7,loopDestroy:i7};function s7(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function a7(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var o7={setGrabCursor:s7,unsetGrabCursor:a7};function l7(t,e=this){function n(i){if(!i||i===Oc()||i===Ar())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function mC(t,e,n){const i=Ar(),{params:r}=t,s=r.edgeSwipeDetection,l=r.edgeSwipeThreshold;return s&&(n<=l||n>=i.innerWidth-l)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function c7(t){const e=this,n=Oc();let i=t;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){mC(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:l,enabled:d}=e;if(!d||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let f=i.target;if(s.touchEventsTarget==="wrapper"&&!gk(f,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const p=!!s.noSwipingClass&&s.noSwipingClass!=="",y=i.composedPath?i.composedPath():i.path;p&&i.target&&i.target.shadowRoot&&y&&(f=y[0]);const _=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,S=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(S?l7(_,f):f.closest(_))){e.allowClick=!0;return}if(s.swipeHandler&&!f.closest(s.swipeHandler))return;l.currentX=i.pageX,l.currentY=i.pageY;const T=l.currentX,A=l.currentY;if(!mC(e,i,T))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=T,l.startY=A,r.touchStartTime=a1(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let O=!0;f.matches(r.focusableElements)&&(O=!1,f.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==f&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!f.matches(r.focusableElements))&&n.activeElement.blur();const k=O&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||k)&&!f.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function u7(t){const e=Oc(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:l,enabled:d}=n;if(!d||!r.simulateTouch&&t.pointerType==="mouse")return;let f=t;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(i.touchId!==null||f.pointerId!==i.pointerId))return;let p;if(f.type==="touchmove"){if(p=[...f.changedTouches].find(D=>D.identifier===i.touchId),!p||p.identifier!==i.touchId)return}else p=f;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",f);return}const y=p.pageX,_=p.pageY;if(f.preventedByNestedSwiper){s.startX=y,s.startY=_;return}if(!n.allowTouchMove){f.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:y,startY:_,currentX:y,currentY:_}),i.touchStartTime=a1());return}if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(_<s.startY&&n.translate<=n.maxTranslate()||_>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(l&&(y>s.startX&&-n.translate<=n.maxTranslate()||y<s.startX&&-n.translate>=n.minTranslate()))return;if(!l&&(y<s.startX&&n.translate<=n.maxTranslate()||y>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",f),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=y,s.currentY=_;const S=s.currentX-s.startX,T=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(S**2+T**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let D;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:S*S+T*T>=25&&(D=Math.atan2(Math.abs(T),Math.abs(S))*180/Math.PI,i.isScrolling=n.isHorizontal()?D>r.touchAngle:90-D>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",f),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||f.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&f.cancelable&&f.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&f.stopPropagation();let A=n.isHorizontal()?S:T,O=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(A=Math.abs(A)*(l?1:-1),O=Math.abs(O)*(l?1:-1)),s.diff=A,A*=r.touchRatio,l&&(A=-A,O=-O);const k=n.touchesDirection;n.swipeDirection=A>0?"prev":"next",n.touchesDirection=O>0?"prev":"next";const L=n.params.loop&&!r.cssMode,$=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(L&&$&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const D=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(D)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",f)}if(new Date().getTime(),r._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&k!==n.touchesDirection&&L&&$&&Math.abs(A)>=1){Object.assign(s,{startX:y,startY:_,currentX:y,currentY:_,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",f),i.isMoved=!0,i.currentTranslate=A+i.startTranslate;let P=!0,R=r.resistanceRatio;if(r.touchReleaseOnEdges&&(R=0),A>0?(L&&$&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(P=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+A)**R))):A<0&&(L&&$&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(P=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-A)**R))),P&&(f.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(A)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function d7(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(D=>D.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:l,touches:d,rtlTranslate:f,slidesGrid:p,enabled:y}=e;if(!y||!l.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&l.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}l.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const _=a1(),S=_-n.touchStartTime;if(e.allowClick){const D=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(D&&D[0]||i.target,D),e.emit("tap click",i),S<300&&_-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=a1(),t4(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||d.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let T;if(l.followFinger?T=f?e.translate:-e.translate:T=-n.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:T});return}const A=T>=-e.maxTranslate()&&!e.params.loop;let O=0,k=e.slidesSizesGrid[0];for(let D=0;D<p.length;D+=D<l.slidesPerGroupSkip?1:l.slidesPerGroup){const B=D<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof p[D+B]<"u"?(A||T>=p[D]&&T<p[D+B])&&(O=D,k=p[D+B]-p[D]):(A||T>=p[D])&&(O=D,k=p[p.length-1]-p[p.length-2])}let L=null,$=null;l.rewind&&(e.isBeginning?$=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(L=0));const P=(T-p[O])/k,R=O<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(S>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(P>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?L:O+R):e.slideTo(O)),e.swipeDirection==="prev"&&(P>1-l.longSwipesRatio?e.slideTo(O+R):$!==null&&P<0&&Math.abs(P)>l.longSwipesRatio?e.slideTo($):e.slideTo(O))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(O+R):e.slideTo(O):(e.swipeDirection==="next"&&e.slideTo(L!==null?L:O+R),e.swipeDirection==="prev"&&e.slideTo($!==null?$:O))}}function gC(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,l=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const d=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!d?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!l?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function f7(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function h7(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function p7(t){const e=this;Gp(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function m7(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const o4=(t,e)=>{const n=Oc(),{params:i,el:r,wrapperEl:s,device:l}=t,d=!!i.nested,f=e==="on"?"addEventListener":"removeEventListener",p=e;!r||typeof r=="string"||(n[f]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:d}),r[f]("touchstart",t.onTouchStart,{passive:!1}),r[f]("pointerdown",t.onTouchStart,{passive:!1}),n[f]("touchmove",t.onTouchMove,{passive:!1,capture:d}),n[f]("pointermove",t.onTouchMove,{passive:!1,capture:d}),n[f]("touchend",t.onTouchEnd,{passive:!0}),n[f]("pointerup",t.onTouchEnd,{passive:!0}),n[f]("pointercancel",t.onTouchEnd,{passive:!0}),n[f]("touchcancel",t.onTouchEnd,{passive:!0}),n[f]("pointerout",t.onTouchEnd,{passive:!0}),n[f]("pointerleave",t.onTouchEnd,{passive:!0}),n[f]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[f]("click",t.onClick,!0),i.cssMode&&s[f]("scroll",t.onScroll),i.updateOnWindowResize?t[p](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",gC,!0):t[p]("observerUpdate",gC,!0),r[f]("load",t.onLoad,{capture:!0}))};function g7(){const t=this,{params:e}=t;t.onTouchStart=c7.bind(t),t.onTouchMove=u7.bind(t),t.onTouchEnd=d7.bind(t),t.onDocumentTouchStart=m7.bind(t),e.cssMode&&(t.onScroll=h7.bind(t)),t.onClick=f7.bind(t),t.onLoad=p7.bind(t),o4(t,"on")}function x7(){o4(this,"off")}var y7={attachEvents:g7,detachEvents:x7};const xC=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function v7(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const l=Oc(),d=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",f=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:l.querySelector(i.breakpointsBase),p=t.getBreakpoint(s,d,f);if(!p||t.currentBreakpoint===p)return;const _=(p in s?s[p]:void 0)||t.originalParams,S=xC(t,i),T=xC(t,_),A=t.params.grabCursor,O=_.grabCursor,k=i.enabled;S&&!T?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!S&&T&&(r.classList.add(`${i.containerModifierClass}grid`),(_.grid.fill&&_.grid.fill==="column"||!_.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),A&&!O?t.unsetGrabCursor():!A&&O&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(B=>{if(typeof _[B]>"u")return;const z=i[B]&&i[B].enabled,G=_[B]&&_[B].enabled;z&&!G&&t[B].disable(),!z&&G&&t[B].enable()});const L=_.direction&&_.direction!==i.direction,$=i.loop&&(_.slidesPerView!==i.slidesPerView||L),P=i.loop;L&&n&&t.changeDirection(),ss(t.params,_);const R=t.params.enabled,D=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),k&&!R?t.disable():!k&&R&&t.enable(),t.currentBreakpoint=p,t.emit("_beforeBreakpoint",_),n&&($?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!P&&D?(t.loopCreate(e),t.updateSlides()):P&&!D&&t.loopDestroy()),t.emit("breakpoint",_)}function b7(t,e="window",n){if(!t||e==="container"&&!n)return;let i=!1;const r=Ar(),s=e==="window"?r.innerHeight:n.clientHeight,l=Object.keys(t).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const f=parseFloat(d.substr(1));return{value:s*f,point:d}}return{value:d,point:d}});l.sort((d,f)=>parseInt(d.value,10)-parseInt(f.value,10));for(let d=0;d<l.length;d+=1){const{point:f,value:p}=l[d];e==="window"?r.matchMedia(`(min-width: ${p}px)`).matches&&(i=f):p<=n.clientWidth&&(i=f)}return i||"max"}var w7={setBreakpoint:v7,getBreakpoint:b7};function _7(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function C7(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,l=_7(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...l),r.classList.add(...e),t.emitContainerClasses()}function S7(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var E7={addClasses:C7,removeClasses:S7};function A7(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var T7={checkOverflow:A7},yy={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function N7(t,e){return function(i={}){const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){ss(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in s)){ss(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),ss(e,i)}}const sx={eventsEmitter:Ek,update:Lk,translate:Uk,transition:qk,slide:e7,loop:r7,grabCursor:o7,events:y7,breakpoints:w7,checkOverflow:T7,classes:E7},ax={};let y2=class lo{constructor(...e){let n,i;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?i=e[0]:[n,i]=e,i||(i={}),i=ss({},i),n&&!i.el&&(i.el=n);const r=Oc();if(i.el&&typeof i.el=="string"&&r.querySelectorAll(i.el).length>1){const f=[];return r.querySelectorAll(i.el).forEach(p=>{const y=ss({},i,{el:p});f.push(new lo(y))}),f}const s=this;s.__swiper__=!0,s.support=i4(),s.device=r4({userAgent:i.userAgent}),s.browser=s4(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],i.modules&&Array.isArray(i.modules)&&s.modules.push(...i.modules);const l={};s.modules.forEach(f=>{f({params:i,swiper:s,extendParams:N7(i,l),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const d=ss({},yy,l);return s.params=ss({},d,ax,i),s.originalParams=ss({},s.params),s.passedParams=ss({},i),s.params&&s.params.on&&Object.keys(s.params.on).forEach(f=>{s.on(f,s.params.on[f])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=wa(n,`.${i.slideClass}, swiper-slide`),s=fC(r[0]);return fC(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=wa(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),l=(i.maxTranslate()-r)*e+r;i.translateTo(l,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const i=this,{params:r,slides:s,slidesGrid:l,slidesSizesGrid:d,size:f,activeIndex:p}=i;let y=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let _=s[p]?Math.ceil(s[p].swiperSlideSize):0,S;for(let T=p+1;T<s.length;T+=1)s[T]&&!S&&(_+=Math.ceil(s[T].swiperSlideSize),y+=1,_>f&&(S=!0));for(let T=p-1;T>=0;T-=1)s[T]&&!S&&(_+=s[T].swiperSlideSize,y+=1,_>f&&(S=!0))}else if(e==="current")for(let _=p+1;_<s.length;_+=1)(n?l[_]+d[_]-l[p]<f:l[_]-l[p]<f)&&(y+=1);else for(let _=p-1;_>=0;_-=1)l[p]-l[_]<f&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&Gp(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const l=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const l=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(l.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):wa(i,r())[0];return!l&&n.params.createElements&&(l=l1("div",n.params.wrapperClass),i.append(l),wa(i,`.${n.params.slideClass}`).forEach(d=>{l.append(d)})),Object.assign(n,{el:i,wrapperEl:l,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:l,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||hl(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||hl(i,"direction")==="rtl"),wrongRTL:hl(l,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?Gp(n,s):s.addEventListener("load",l=>{Gp(n,l.target)})}),xy(n),n.initialized=!0,xy(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const i=this,{params:r,el:s,wrapperEl:l,slides:d}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),l&&l.removeAttribute("style"),d&&d.length&&d.forEach(f=>{f.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(f=>{i.off(f)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),dk(i)),i.destroyed=!0),null}static extendDefaults(e){ss(ax,e)}static get extendedDefaults(){return ax}static get defaults(){return yy}static installModule(e){lo.prototype.__modules__||(lo.prototype.__modules__=[]);const n=lo.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>lo.installModule(n)),lo):(lo.installModule(e),lo)}};Object.keys(sx).forEach(t=>{Object.keys(sx[t]).forEach(e=>{y2.prototype[e]=sx[t][e]})});y2.use([Ck,Sk]);const l4=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Cc(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Pu(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Cc(e[i])&&Cc(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:Pu(t[i],e[i]):t[i]=e[i]})}function c4(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function u4(t={}){return t.pagination&&typeof t.pagination.el>"u"}function d4(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function f4(t=""){const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function M7(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function R7({swiper:t,slides:e,passedParams:n,changedParams:i,nextEl:r,prevEl:s,scrollbarEl:l,paginationEl:d}){const f=i.filter(G=>G!=="children"&&G!=="direction"&&G!=="wrapperClass"),{params:p,pagination:y,navigation:_,scrollbar:S,virtual:T,thumbs:A}=t;let O,k,L,$,P,R,D,B;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&p.thumbs&&(!p.thumbs.swiper||p.thumbs.swiper.destroyed)&&(O=!0),i.includes("controller")&&n.controller&&n.controller.control&&p.controller&&!p.controller.control&&(k=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||d)&&(p.pagination||p.pagination===!1)&&y&&!y.el&&(L=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(p.scrollbar||p.scrollbar===!1)&&S&&!S.el&&($=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||s)&&(n.navigation.nextEl||r)&&(p.navigation||p.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(P=!0);const z=G=>{t[G]&&(t[G].destroy(),G==="navigation"?(t.isElement&&(t[G].prevEl.remove(),t[G].nextEl.remove()),p[G].prevEl=void 0,p[G].nextEl=void 0,t[G].prevEl=void 0,t[G].nextEl=void 0):(t.isElement&&t[G].el.remove(),p[G].el=void 0,t[G].el=void 0))};i.includes("loop")&&t.isElement&&(p.loop&&!n.loop?R=!0:!p.loop&&n.loop?D=!0:B=!0),f.forEach(G=>{if(Cc(p[G])&&Cc(n[G]))Object.assign(p[G],n[G]),(G==="navigation"||G==="pagination"||G==="scrollbar")&&"enabled"in n[G]&&!n[G].enabled&&z(G);else{const X=n[G];(X===!0||X===!1)&&(G==="navigation"||G==="pagination"||G==="scrollbar")?X===!1&&z(G):p[G]=n[G]}}),f.includes("controller")&&!k&&t.controller&&t.controller.control&&p.controller&&p.controller.control&&(t.controller.control=p.controller.control),i.includes("children")&&e&&T&&p.virtual.enabled?(T.slides=e,T.update(!0)):i.includes("virtual")&&T&&p.virtual.enabled&&(e&&(T.slides=e),T.update(!0)),i.includes("children")&&e&&p.loop&&(B=!0),O&&A.init()&&A.update(!0),k&&(t.controller.control=p.controller.control),L&&(t.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),t.el.appendChild(d)),d&&(p.pagination.el=d),y.init(),y.render(),y.update()),$&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(p.scrollbar.el=l),S.init(),S.updateSize(),S.setTranslate()),P&&(t.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),gy(r,t.hostEl.constructor.nextButtonSvg),r.part.add("button-next"),t.el.appendChild(r)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),gy(s,t.hostEl.constructor.prevButtonSvg),s.part.add("button-prev"),t.el.appendChild(s))),r&&(p.navigation.nextEl=r),s&&(p.navigation.prevEl=s),_.init(),_.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&t.changeDirection(n.direction,!1),(R||B)&&t.loopDestroy(),(D||B)&&t.loopCreate(),t.update()}function O7(t={},e=!0){const n={on:{}},i={},r={};Pu(n,yy),n._emitClasses=!0,n.init=!1;const s={},l=l4.map(f=>f.replace(/_/,"")),d=Object.assign({},t);return Object.keys(d).forEach(f=>{typeof t[f]>"u"||(l.indexOf(f)>=0?Cc(t[f])?(n[f]={},r[f]={},Pu(n[f],t[f]),Pu(r[f],t[f])):(n[f]=t[f],r[f]=t[f]):f.search(/on[A-Z]/)===0&&typeof t[f]=="function"?e?i[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:n.on[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:s[f]=t[f])}),["navigation","pagination","scrollbar"].forEach(f=>{n[f]===!0&&(n[f]={}),n[f]===!1&&delete n[f]}),{params:n,passedParams:r,rest:s,events:i}}function I7({el:t,nextEl:e,prevEl:n,paginationEl:i,scrollbarEl:r,swiper:s},l){c4(l)&&e&&n&&(s.params.navigation.nextEl=e,s.originalParams.navigation.nextEl=e,s.params.navigation.prevEl=n,s.originalParams.navigation.prevEl=n),u4(l)&&i&&(s.params.pagination.el=i,s.originalParams.pagination.el=i),d4(l)&&r&&(s.params.scrollbar.el=r,s.originalParams.scrollbar.el=r),s.init(t)}function k7(t,e,n,i,r){const s=[];if(!e)return s;const l=f=>{s.indexOf(f)<0&&s.push(f)};if(n&&i){const f=i.map(r),p=n.map(r);f.join("")!==p.join("")&&l("children"),i.length!==n.length&&l("children")}return l4.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in t&&f in e)if(Cc(t[f])&&Cc(e[f])){const p=Object.keys(t[f]),y=Object.keys(e[f]);p.length!==y.length?l(f):(p.forEach(_=>{t[f][_]!==e[f][_]&&l(f)}),y.forEach(_=>{t[f][_]!==e[f][_]&&l(f)}))}else t[f]!==e[f]&&l(f)}),s}const D7=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c1.apply(this,arguments)}function h4(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function p4(t){const e=[];return Vt.Children.toArray(t).forEach(n=>{h4(n)?e.push(n):n.props&&n.props.children&&p4(n.props.children).forEach(i=>e.push(i))}),e}function B7(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Vt.Children.toArray(t).forEach(i=>{if(h4(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=p4(i.props.children);r.length>0?r.forEach(s=>e.push(s)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function L7(t,e,n){if(!n)return null;const i=y=>{let _=y;return y<0?_=e.length+y:_>=e.length&&(_=_-e.length),_},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:l}=n,d=t.params.loop?-e.length:0,f=t.params.loop?e.length*2:e.length,p=[];for(let y=d;y<f;y+=1)y>=s&&y<=l&&p.push(e[i(y)]);return p.map((y,_)=>Vt.cloneElement(y,{swiper:t,style:r,key:y.props.virtualIndex||y.key||`slide-${_}`}))}function xf(t,e){return typeof window>"u"?F.useEffect(t,e):F.useLayoutEffect(t,e)}const yC=F.createContext(null),j7=F.createContext(null),m4=F.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:i,onSwiper:r,...s}={},l)=>{let d=!1;const[f,p]=F.useState("swiper"),[y,_]=F.useState(null),[S,T]=F.useState(!1),A=F.useRef(!1),O=F.useRef(null),k=F.useRef(null),L=F.useRef(null),$=F.useRef(null),P=F.useRef(null),R=F.useRef(null),D=F.useRef(null),B=F.useRef(null),{params:z,passedParams:G,rest:X,events:se}=O7(s),{slides:ae,slots:ue}=B7(i),Oe=()=>{T(!S)};Object.assign(z.on,{_containerClasses(fe,Be){p(Be)}});const Te=()=>{Object.assign(z.on,se),d=!0;const fe={...z};if(delete fe.wrapperClass,k.current=new y2(fe),k.current.virtual&&k.current.params.virtual.enabled){k.current.virtual.slides=ae;const Be={cache:!1,slides:ae,renderExternal:_,renderExternalUpdate:!1};Pu(k.current.params.virtual,Be),Pu(k.current.originalParams.virtual,Be)}};O.current||Te(),k.current&&k.current.on("_beforeBreakpoint",Oe);const ne=()=>{d||!se||!k.current||Object.keys(se).forEach(fe=>{k.current.on(fe,se[fe])})},Q=()=>{!se||!k.current||Object.keys(se).forEach(fe=>{k.current.off(fe,se[fe])})};F.useEffect(()=>()=>{k.current&&k.current.off("_beforeBreakpoint",Oe)}),F.useEffect(()=>{!A.current&&k.current&&(k.current.emitSlidesClasses(),A.current=!0)}),xf(()=>{if(l&&(l.current=O.current),!!O.current)return k.current.destroyed&&Te(),I7({el:O.current,nextEl:P.current,prevEl:R.current,paginationEl:D.current,scrollbarEl:B.current,swiper:k.current},z),r&&!k.current.destroyed&&r(k.current),()=>{k.current&&!k.current.destroyed&&k.current.destroy(!0,!1)}},[]),xf(()=>{ne();const fe=k7(G,L.current,ae,$.current,Be=>Be.key);return L.current=G,$.current=ae,fe.length&&k.current&&!k.current.destroyed&&R7({swiper:k.current,slides:ae,passedParams:G,changedParams:fe,nextEl:P.current,prevEl:R.current,scrollbarEl:B.current,paginationEl:D.current}),()=>{Q()}}),xf(()=>{D7(k.current)},[y]);function le(){return z.virtual?L7(k.current,ae,y):ae.map((fe,Be)=>Vt.cloneElement(fe,{swiper:k.current,swiperSlideIndex:Be}))}return Vt.createElement(e,c1({ref:O,className:f4(`${f}${t?` ${t}`:""}`)},X),Vt.createElement(j7.Provider,{value:k.current},ue["container-start"],Vt.createElement(n,{className:M7(z.wrapperClass)},ue["wrapper-start"],le(),ue["wrapper-end"]),c4(z)&&Vt.createElement(Vt.Fragment,null,Vt.createElement("div",{ref:R,className:"swiper-button-prev"}),Vt.createElement("div",{ref:P,className:"swiper-button-next"})),d4(z)&&Vt.createElement("div",{ref:B,className:"swiper-scrollbar"}),u4(z)&&Vt.createElement("div",{ref:D,className:"swiper-pagination"}),ue["container-end"]))});m4.displayName="Swiper";const g4=F.forwardRef(({tag:t="div",children:e,className:n="",swiper:i,zoom:r,lazy:s,virtualIndex:l,swiperSlideIndex:d,...f}={},p)=>{const y=F.useRef(null),[_,S]=F.useState("swiper-slide"),[T,A]=F.useState(!1);function O(P,R,D){R===y.current&&S(D)}xf(()=>{if(typeof d<"u"&&(y.current.swiperSlideIndex=d),p&&(p.current=y.current),!(!y.current||!i)){if(i.destroyed){_!=="swiper-slide"&&S("swiper-slide");return}return i.on("_slideClass",O),()=>{i&&i.off("_slideClass",O)}}}),xf(()=>{i&&y.current&&!i.destroyed&&S(i.getSlideClasses(y.current))},[i]);const k={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},L=()=>typeof e=="function"?e(k):e,$=()=>{A(!0)};return Vt.createElement(t,c1({ref:y,className:f4(`${_}${n?` ${n}`:""}`),"data-swiper-slide-index":l,onLoad:$},f),r&&Vt.createElement(yC.Provider,{value:k},Vt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof r=="number"?r:void 0},L(),s&&!T&&Vt.createElement("div",{className:"swiper-lazy-preloader"}))),!r&&Vt.createElement(yC.Provider,{value:k},L(),s&&!T&&Vt.createElement("div",{className:"swiper-lazy-preloader"})))});g4.displayName="SwiperSlide";function P7(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=wa(t.el,`.${i[r]}`)[0];s||(s=l1("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}const F7='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function z7({swiper:t,extendParams:e,on:n,emit:i}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function r(T){let A;return T&&typeof T=="string"&&t.isElement&&(A=t.el.querySelector(T)||t.hostEl.querySelector(T),A)?A:(T&&(typeof T=="string"&&(A=[...document.querySelectorAll(T)]),t.params.uniqueNavElements&&typeof T=="string"&&A&&A.length>1&&t.el.querySelectorAll(T).length===1?A=t.el.querySelector(T):A&&A.length===1&&(A=A[0])),T&&!A?T:A)}function s(T,A){const O=t.params.navigation;T=Xa(T),T.forEach(k=>{k&&(k.classList[A?"add":"remove"](...O.disabledClass.split(" ")),k.tagName==="BUTTON"&&(k.disabled=A),t.params.watchOverflow&&t.enabled&&k.classList[t.isLocked?"add":"remove"](O.lockClass))})}function l(){const{nextEl:T,prevEl:A}=t.navigation;if(t.params.loop){s(A,!1),s(T,!1);return}s(A,t.isBeginning&&!t.params.rewind),s(T,t.isEnd&&!t.params.rewind)}function d(T){T.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function f(T){T.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function p(){const T=t.params.navigation;if(t.params.navigation=P7(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(T.nextEl||T.prevEl))return;let A=r(T.nextEl),O=r(T.prevEl);Object.assign(t.navigation,{nextEl:A,prevEl:O}),A=Xa(A),O=Xa(O);const k=(L,$)=>{if(L){if(T.addIcons&&L.matches(".swiper-button-next,.swiper-button-prev")&&!L.querySelector("svg")){const P=document.createElement("div");gy(P,F7),L.appendChild(P.querySelector("svg")),P.remove()}L.addEventListener("click",$==="next"?f:d)}!t.enabled&&L&&L.classList.add(...T.lockClass.split(" "))};A.forEach(L=>k(L,"next")),O.forEach(L=>k(L,"prev"))}function y(){let{nextEl:T,prevEl:A}=t.navigation;T=Xa(T),A=Xa(A);const O=(k,L)=>{k.removeEventListener("click",L==="next"?f:d),k.classList.remove(...t.params.navigation.disabledClass.split(" "))};T.forEach(k=>O(k,"next")),A.forEach(k=>O(k,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?S():(p(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{y()}),n("enable disable",()=>{let{nextEl:T,prevEl:A}=t.navigation;if(T=Xa(T),A=Xa(A),t.enabled){l();return}[...T,...A].filter(O=>!!O).forEach(O=>O.classList.add(t.params.navigation.lockClass))}),n("click",(T,A)=>{let{nextEl:O,prevEl:k}=t.navigation;O=Xa(O),k=Xa(k);const L=A.target;let $=k.includes(L)||O.includes(L);if(t.isElement&&!$){const P=A.path||A.composedPath&&A.composedPath();P&&($=P.find(R=>O.includes(R)||k.includes(R)))}if(t.params.navigation.hideOnClick&&!$){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===L||t.pagination.el.contains(L)))return;let P;O.length?P=O[0].classList.contains(t.params.navigation.hiddenClass):k.length&&(P=k[0].classList.contains(t.params.navigation.hiddenClass)),i(P===!0?"navigationShow":"navigationHide"),[...O,...k].filter(R=>!!R).forEach(R=>R.classList.toggle(t.params.navigation.hiddenClass))}});const _=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),p(),l()},S=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),y()};Object.assign(t.navigation,{enable:_,disable:S,update:l,init:p,destroy:y})}const H7="_carouselWrapper_olv4s_1",U7="_carouselHeader_olv4s_13",V7="_carouselTitle_olv4s_29",$7="_moreButton_olv4s_41",G7="_carouselViewport_olv4s_79",q7="_carouselSlide_olv4s_89",W7="_slideCard_olv4s_113",X7="_carouselImage_olv4s_135",Y7="_cardText_olv4s_149",K7="_prevButton_olv4s_203",Z7="_nextButton_olv4s_205",Q7="_emptyBox_olv4s_235",bs={carouselWrapper:H7,carouselHeader:U7,carouselTitle:V7,moreButton:$7,carouselViewport:G7,carouselSlide:q7,slideCard:W7,carouselImage:X7,cardText:Y7,prevButton:K7,nextButton:Z7,emptyBox:Q7};function vC({title:t,category:e,value:n}){const[i,r]=F.useState([]),s=F.useRef(null),l=F.useRef(null),d=F.useRef(null);return F.useEffect(()=>{var f;d.current&&s.current&&l.current&&((f=d.current.params)!=null&&f.navigation)&&(d.current.params.navigation.prevEl=s.current,d.current.params.navigation.nextEl=l.current,d.current.navigation.destroy(),d.current.navigation.init(),d.current.navigation.update())},[]),F.useEffect(()=>{(async()=>{try{const y=(await xi.get("/api/exhibitions",{params:{status:"exhibited",[e]:n}})).data.map(({id:_,exhibition_poster:S,exhibition_title:T,exhibition_category:A,exhibition_status:O,exhibition_start_date:k,exhibition_end_date:L,exhibition_organization:$})=>({id:_,image:S,title:T,category:A,status:O,startDate:k,endDate:L,organization:$}));r(y)}catch(p){console.error("     :",p)}})()},[]),v.jsxs("div",{className:bs.carouselWrapper,children:[v.jsxs("div",{className:bs.carouselHeader,children:[v.jsx("h2",{className:bs.carouselTitle,children:t}),v.jsx(En,{to:"/exhibitions",className:bs.moreButton,children:""})]}),i.length>0?v.jsx(m4,{modules:[z7],onSwiper:f=>d.current=f,slidesPerView:"auto",centeredSlides:!0,loop:i.length>2,spaceBetween:20,navigation:{prevEl:s.current,nextEl:l.current},className:bs.carouselViewport,children:i.map(f=>v.jsx(g4,{className:bs.carouselSlide,children:v.jsxs(En,{to:`/exhibitions/${f.id}`,className:bs.slideCard,children:[v.jsx("img",{src:f.image,alt:f.title,className:bs.carouselImage}),v.jsxs("div",{className:bs.cardText,children:[v.jsxs("h3",{children:["",f.title,""]}),v.jsx("p",{children:f.organization.name}),v.jsxs("p",{children:[f.startDate," ~ ",f.endDate]})]})]})},f.id))}):v.jsx("div",{className:bs.emptyBox,children:"  ."}),v.jsx("button",{ref:s,className:bs.prevButton,children:""}),v.jsx("button",{ref:l,className:bs.nextButton,children:""})]})}function J7(){return v.jsxs("div",{className:uC.mainLayout,children:[v.jsx(XI,{}),v.jsxs("div",{className:uC.carouselContainer,children:[v.jsx(vC,{title:"   "}),v.jsx(vC,{title:" ",category:"sort",value:"popular"}),v.jsx(lk,{title:"  "})]})]})}const eD="_layout_kvwfn_1",tD="_gridContainer_kvwfn_19",bC={layout:eD,gridContainer:tD},nD="_layout_1xzjp_1",iD="_titleContainer_1xzjp_13",rD="_listTitle_1xzjp_29",sD="_clickedFavButton_1xzjp_59",aD="_favButton_1xzjp_61",oD="_clickedIcon_1xzjp_109",lD="_searchForm_1xzjp_117",cD="_searchInput_1xzjp_137",uD="_formButton_1xzjp_175",Ya={layout:nD,titleContainer:iD,listTitle:rD,clickedFavButton:sD,favButton:aD,clickedIcon:oD,searchForm:lD,searchInput:cD,formButton:uD};function dD(t){return On({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function v2(t){return On({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function fD(t){return On({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function hD(t){return On({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function pD(t){return On({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function xm(t){return On({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function mD(t){return On({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function gD(t){return On({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function b2(t){return On({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function xD(t){return On({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function x4(t){return On({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}const yD=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"30",viewBox:"0 0 31 30",fill:"none",children:v.jsx("path",{d:"M26.33 26.25L20.8925 20.8125M23.8301 13.75C23.8301 19.2728 19.3529 23.75 13.8301 23.75C8.30723 23.75 3.83008 19.2728 3.83008 13.75C3.83008 8.22715 8.30723 3.75 13.8301 3.75C19.3529 3.75 23.8301 8.22715 23.8301 13.75Z",stroke:"#222222",strokeWidth:"1.84991",strokeLinecap:"round",strokeLinejoin:"round"})});function Xf({title:t,placeholder:e,isFav:n,onEvent:i,onFav:r,onSearch:s,value:l,isNews:d=!1,isArtworks:f=!1}){return v.jsxs("div",{className:Ya.layout,children:[v.jsxs("div",{className:Ya.titleContainer,children:[v.jsx("h1",{className:Ya.listTitle,children:t}),!d&&!f&&v.jsxs("button",{className:`${Ya.favButton} ${n&&Ya.clickedFavButton}`,onClick:r,children:[v.jsx(xm,{className:`${n&&Ya.clickedIcon}`}),""]})]}),!f&&v.jsxs("form",{className:Ya.searchForm,action:i,children:[v.jsx("input",{className:Ya.searchInput,placeholder:e,onChange:s,value:l}),v.jsx("button",{className:Ya.formButton,children:v.jsx(yD,{})})]})]})}const vD="_layout_11xsl_1",bD={layout:vD},wD="_layout_1hm1o_1",_D="_clickedLabel_1hm1o_11",CD="_dropdownButton_1hm1o_19",SD="_clickedButton_1hm1o_63",ED="_undisplay_1hm1o_85",AD="_clickedDropdownList_1hm1o_93",TD="_clickedItem_1hm1o_129",ND="_dropdownItem_1hm1o_131",MD="_rectButton_1hm1o_173",Ka={layout:wD,clickedLabel:_D,dropdownButton:CD,clickedButton:SD,undisplay:ED,clickedDropdownList:AD,clickedItem:TD,dropdownItem:ND,rectButton:MD};function RD({title:t,dropdownItems:e,isOpen:n,filterKey:i,onOpen:r,onSetFilter:s,shape:l="round"}){const[d,f]=F.useState(e[0].label),{isMobile:p}=SE(),y=_=>{f(_.label),s(S=>({...S,[i]:_.value})),r()};return v.jsxs("div",{className:Ka.layout,children:[v.jsxs("button",{className:`${Ka.dropdownButton} ${n&&Ka.clickedButton} ${l==="rect"?Ka.rectButton:""}`,onClick:r,children:[!p&&`${t} - `,v.jsx("span",{className:`${d!==e[0].label&&Ka.clickedLabel}`,children:d})]}),v.jsx("ul",{className:`${n&&Ka.clickedDropdownList} ${n&&Ka.undisplay}`,children:n&&e.map(_=>v.jsx("li",{className:`${Ka.dropdownItem} ${_.label===d&&Ka.clickedItem}`,onClick:()=>{y(_)},children:_.label},_.label))})]})}function Yf({labels:t,filterList:e,onSetFilter:n,shape:i="round"}){const[r,s]=F.useState(null),l=d=>{s(r===d?null:d)};return v.jsx("div",{className:bD.layout,children:e.map((d,f)=>v.jsx(RD,{title:d.label,dropdownItems:d.options,filterKey:d.key,isOpen:f===r,onOpen:()=>{l(f)},onSetFilter:n,shape:i},d.key))})}const OD=[{key:"sort",label:"",options:[{label:"",value:"latest"},{label:"",value:"ending"},{label:"",value:"popular"}]},{key:"region",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"category",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"status",label:" ",options:[{label:"",value:"exhibited"},{label:"",value:"ended"},{label:"",value:"scheduled"},{label:"",value:""}]}],ID="_countParagraph_1ppwl_1",kD="_counts_1ppwl_11",wC={countParagraph:ID,counts:kD};function Kf({num:t,label:e}){return v.jsxs("p",{className:wC.countParagraph,children:[" ",v.jsx("strong",{className:wC.counts,children:t})," ",e,"  "]})}const DD="_paginationContainer_7tpp6_1",BD="_sideButtonContainer_7tpp6_11",LD="_pageNumbersContainer_7tpp6_19",jD="_pageButton_7tpp6_33",PD="_active_7tpp6_57",Zo={paginationContainer:DD,sideButtonContainer:BD,pageNumbersContainer:LD,pageButton:jD,active:PD};function Qu({currentPage:t,onPageChange:e,totalItems:n,itemsPerPage:i=10}){const r=Math.ceil(n/i),s=FD(t,r,5);return v.jsxs("div",{className:Zo.paginationContainer,children:[v.jsx("div",{className:Zo.sideButtonContainer,children:v.jsx("button",{onClick:()=>e(t-1),className:Zo.pageButton,disabled:t===1,children:"<"})}),v.jsx("div",{className:Zo.pageNumbersContainer,children:s.map(l=>v.jsx("button",{onClick:()=>e(l),className:`${Zo.pageButton} ${t===l?Zo.active:""}`,children:l},l))}),v.jsx("div",{className:Zo.sideButtonContainer,children:v.jsx("button",{onClick:()=>e(t+1),className:Zo.pageButton,disabled:t===r,children:">"})})]})}const FD=(t,e,n)=>{const i=Math.floor(n/2);let r=Math.max(t-i,1),s=Math.min(r+n-1,e);return s-r+1<n&&(r=Math.max(s-n+1,1)),Array.from({length:s-r+1},(l,d)=>r+d)},Ju=(t=10,e)=>{const[n,i]=F.useState(1),r=Array.isArray(e)?e:[],s=(n-1)*t,l=r.slice(s,s+t);return{currentPage:n,setCurrentPage:i,pageItems:l}},zD="_exhibitionCardLayout_1gfqp_1",HD="_statusContainer_1gfqp_37",UD="_ongoing_1gfqp_73",VD="_imageBox_1gfqp_125",$D="_exhibitionImage_1gfqp_133",GD="_favButton_1gfqp_173",qD="_locButton_1gfqp_195",WD="_exhibitionTitle_1gfqp_281",XD="_infoContainer_1gfqp_299",YD="_subParagraph_1gfqp_307",ws={exhibitionCardLayout:zD,statusContainer:HD,ongoing:UD,imageBox:VD,exhibitionImage:$D,favButton:GD,locButton:qD,exhibitionTitle:WD,infoContainer:XD,subParagraph:YD},KD=(t,e)=>{const n=new Date,i=new Date(t),r=new Date(e);return n<i?"upcoming":n>r?"ended":"ongoing"},ZD="_layout_cdrx9_1",QD="_container_cdrx9_33",JD="_header_cdrx9_53",e9="_map_cdrx9_69",t9="_title_cdrx9_79",n9="_closeButton_cdrx9_93",i9="_icon_cdrx9_103",r9="_infoContainer_cdrx9_117",s9="_infoSpan_cdrx9_133",a9="_infoParagraph_cdrx9_147",o9="_buttonField_cdrx9_157",l9="_locateButton_cdrx9_173",c9="_button_cdrx9_157",Jr={layout:ZD,container:QD,header:JD,map:e9,title:t9,closeButton:n9,icon:i9,infoContainer:r9,infoSpan:s9,infoParagraph:a9,buttonField:o9,locateButton:l9,button:c9};function u9(t){return On({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"},child:[]}]})(t)}function d9(t){return On({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function f9(t){return On({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function h9(t){return On({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function p9(t){return On({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 80C149.9 80 62.4 159.4 49.6 262c9.4-3.8 19.6-6 30.4-6c26.5 0 48 21.5 48 48l0 128c0 26.5-21.5 48-48 48c-44.2 0-80-35.8-80-80l0-16 0-48 0-48C0 146.6 114.6 32 256 32s256 114.6 256 256l0 48 0 48 0 16c0 44.2-35.8 80-80 80c-26.5 0-48-21.5-48-48l0-128c0-26.5 21.5-48 48-48c10.8 0 21 2.1 30.4 6C449.6 159.4 362.1 80 256 80z"},child:[]}]})(t)}function m9(t){return On({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"},child:[]}]})(t)}function g9(t){return On({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(t)}function x9(t){return On({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M307 34.8c-11.5 5.1-19 16.6-19 29.2l0 64-112 0C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96l96 0 0 64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"},child:[]}]})(t)}function y4(t){return On({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(t)}function y9(t){return On({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(t)}const w2=({lat:t,lng:e,id:n,results:i,zoomLevel:r=15,title:s,location:l})=>{const d=F.useRef(null),f=on(),p=F.useRef([]),y=(_,S)=>`
                <div style="
                  display: flex;
                  flex-direction: column;
                  align-items: center;
                  width: 15rem;
                  height: 10rem;
                ">
                  <div style="
                    width: 2rem;
                    aspect-ratio: 1 / 1;
                    background-color: rgb(229, 115, 115);
                    border-radius: 50%;
                    border: 0.3rem solid white;
                    box-shadow: rgba(0, 0, 0, 0.3) 0 0.2rem 0.5rem;
                    margin-bottom: 0.5rem;
                  " >
                  </div>
                  <div style="
                    width: 100%;
                    padding: 0.8rem 1.2rem;
                    border-radius: 0.4rem;
                    background-color: #fff;
                    color: #333;
                    font-size: 1.4rem;
                    font-weight: 600;
                    text-align: center;
                  ">
                    ${_}
                    <div style="
                      padding-top: 1rem;
                      color: #666;
                      font-size: 1.2rem;
                      text-align: center;
                  ">${S}</div>
                  </div>
                </div>
              `;return F.useEffect(()=>{var T;const _=document.getElementById(n);if(!((T=window.naver)!=null&&T.maps)||!_||t===null||e===null)return;const S=new naver.maps.Map(_,{center:new naver.maps.LatLng(t,e),zoom:r});if(d.current=S,p.current.forEach(A=>A.setMap(null)),p.current=[],s&&l)new naver.maps.Marker({position:new naver.maps.LatLng(t,e),map:S,title:s,icon:{content:y(s,l)}});else{const A=new naver.maps.Marker({position:new naver.maps.LatLng(t,e),map:d.current,title:" "});p.current.push(A)}return i&&i.length>0&&i.map(({gallery_name:A,gallery_latitude:O,gallery_longitude:k,gallery_address:L,id:$})=>{const P=new naver.maps.LatLng(O,k),R=new naver.maps.Marker({position:P,map:d.current,title:A,icon:{content:y(A,L)}});naver.maps.Event.addListener(R,"click",()=>{f(`/galleries/${$}`)}),p.current.push(R)}),()=>{const A=d.current;A&&A.getElement()&&A.destroy(),d.current=null}},[n,t,e,i,f,r,s,l]),d};function v9({item:t,onClose:e}){const{id:n,exhibition_title:i,exhibition_location:r,exhibition_start_date:s,exhibition_end_date:l,exhibition_start_time:d,exhibition_end_time:f,exhibition_organization:p,exhibition_price:y}=t,_=[{key:"location",label:"",content:r},{key:"date",label:"",content:`${s} ~ ${l}`},{key:"time",label:"",content:`${d} ~ ${f}`},{key:"closedDay",label:"",content:p.closed_day},{key:"price",label:"",content:y}];return w2({lat:p.latitude,lng:p.longitude,id:`exhibition-${n}-map`,title:i,location:r}),v.jsx("div",{className:Jr.layout,children:v.jsxs("div",{className:Jr.container,children:[v.jsxs("div",{className:Jr.header,children:[v.jsx("h4",{className:Jr.title,children:i}),v.jsx("button",{className:Jr.closeButton,onClick:e,children:v.jsx(y9,{className:Jr.icon})})]}),v.jsx("div",{className:Jr.map,id:`exhibition-${n}-map`}),v.jsx("div",{className:Jr.infoContainer,children:_.map(({key:S,label:T,content:A})=>v.jsxs("div",{children:[v.jsx("span",{className:Jr.infoSpan,children:T}),v.jsx("p",{className:Jr.infoParagraph,children:A})]},S))}),v.jsxs("div",{className:Jr.buttonField,children:[v.jsx("button",{className:Jr.locateButton,onClick:()=>{alert("  .")},children:""}),v.jsx("button",{className:Jr.button,onClick:e,children:""})]})]})})}const v4=({color:t="#376AED"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"59",viewBox:"0 0 52 59",fill:"none",children:[v.jsx("g",{filter:"url(#filter0_d_26_772)",children:v.jsx("path",{d:"M22.3108 11.6219C20.3417 13.591 20.3417 16.7835 22.3108 18.7526L29.9481 26.3899L30.0006 26.3374L30.0532 26.39L37.6906 18.7526C39.6596 16.7835 39.6596 13.5911 37.6906 11.622C35.7215 9.65294 32.529 9.65294 30.56 11.622L30.3543 11.8277C30.159 12.023 29.8424 12.023 29.6472 11.8277L29.4414 11.6219C27.4723 9.65288 24.2798 9.65288 22.3108 11.6219Z",fill:t})}),v.jsx("defs",{children:v.jsxs("filter",{id:"filter0_d_26_772",x:"0.833984",y:"0.145142",width:"58.334",height:"56.2449",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[v.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),v.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),v.jsx("feOffset",{dy:"10"}),v.jsx("feGaussianBlur",{stdDeviation:"10"}),v.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),v.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),v.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_26_772"}),v.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_26_772",result:"shape"})]})})]}),b4=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"59",viewBox:"0 0 52 59",fill:"none",children:[v.jsx("g",{filter:"url(#filter0_d_26_1175)",children:v.jsx("path",{d:"M22.3108 12.6219C20.3417 14.591 20.3417 17.7835 22.3108 19.7526L29.9481 27.3899L30.0006 27.3374L30.0532 27.39L37.6906 19.7526C39.6596 17.7835 39.6596 14.5911 37.6906 12.622C35.7215 10.6529 32.529 10.6529 30.56 12.622L30.3543 12.8277C30.159 13.023 29.8424 13.023 29.6472 12.8277L29.4414 12.6219C27.4723 10.6529 24.2798 10.6529 22.3108 12.6219Z",stroke:"#222",strokeWidth:"1.5",shapeRendering:"crispEdges"})}),v.jsx("defs",{children:v.jsxs("filter",{id:"filter0_d_26_1175",x:"0.0839844",y:"0.395142",width:"59.834",height:"58.0555",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[v.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),v.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),v.jsx("feOffset",{dy:"10"}),v.jsx("feGaussianBlur",{stdDeviation:"10"}),v.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),v.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),v.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_26_1175"}),v.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_26_1175",result:"shape"})]})})]}),w4=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"19",viewBox:"0 0 16 19",fill:"none",children:[v.jsx("path",{d:"M8 17.4785C11.25 14.2785 14.5 11.4132 14.5 7.87852C14.5 4.34389 11.5899 1.47852 8 1.47852C4.41015 1.47852 1.5 4.34389 1.5 7.87852C1.5 11.4132 4.75 14.2785 8 17.4785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M8 10.2785C9.34623 10.2785 10.4375 9.20404 10.4375 7.87852C10.4375 6.55304 9.34623 5.47852 8 5.47852C6.65377 5.47852 5.5625 6.55304 5.5625 7.87852C5.5625 9.20404 6.65377 10.2785 8 10.2785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]});function _4({exhibitionItem:t,onEvent:e}){const{id:n,exhibition_title:i,exhibition_category:r,exhibition_poster:s,exhibition_location:l,exhibition_start_date:d,exhibition_end_date:f,is_liked:p}=t,[y,_]=F.useState(!1),S=on(),T=KD(d,f),A=T==="ongoing"?" ":T==="upcoming"?" ":" ",O=()=>{_($=>!$),document.body.style.overflow="hidden"},k=()=>{_($=>!$),document.body.style.overflow="unset"},L=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&S("/login");try{p===!0?await vt.delete("/api/likes",{data:{liked_id:n,liked_type:"exhibition"}}):await vt.post("/api/likes",{liked_id:n,liked_type:"exhibition"}),await e()}catch($){console.error($)}};return v.jsxs("div",{className:ws.exhibitionCardLayout,children:[y&&v.jsx(v9,{item:t,onClose:k}),v.jsxs(En,{className:ws.layout,to:`/exhibitions/${n}`,children:[v.jsx("div",{className:`${ws.statusContainer} ${T==="ongoing"&&ws.ongoing}`,children:A}),v.jsx("div",{className:ws.imageBox,children:v.jsx("img",{className:ws.exhibitionImage,src:s||"/placeholder.jpg",alt:"  "})}),v.jsx("button",{className:ws.favButton,onClick:$=>{$.preventDefault(),$.stopPropagation(),L()},children:p?v.jsx(v4,{}):v.jsx(b4,{})}),v.jsx("button",{className:ws.locButton,onClick:$=>{$.preventDefault(),$.stopPropagation(),O()},children:v.jsx(w4,{})}),v.jsxs("div",{className:ws.infoContainer,children:[v.jsx("h3",{className:ws.exhibitionTitle,children:i}),v.jsxs("p",{className:ws.subParagraph,children:[r," | ",l||" "]}),v.jsxs("p",{className:ws.subParagraph,children:[d," ~ ",f]})]})]})]})}function b9(){const[t,e]=F.useState([]),[n,i]=F.useState(!1),{currentPage:r,setCurrentPage:s,pageItems:l}=Ju(12,t),[d,f]=F.useState({sort:"latest",region:"",category:"",status:"exhibited",liked_only:0}),p=on(),[y,_]=F.useState(""),S=k=>{_(k.target.value)},T=()=>{!localStorage.getItem("ACCESS_TOKEN")&&p("/login"),f(k=>({...k,liked_only:!k.liked_only}))},A=async()=>{try{i(!0);const k={...d,search:y},L=await vt.get("/api/exhibitions",{params:k});e(L.data)}catch(k){console.error("   :",k)}finally{i(!1)}};F.useEffect(()=>{A()},[d]);const O=["","","",""];return v.jsxs("div",{className:bC.layout,children:[v.jsx(Xf,{title:"",placeholder:"   ",isFav:d.liked_only,onEvent:A,onFav:T,onSearch:S,value:y}),v.jsx(Yf,{labels:O,filterList:OD,onSetFilter:f}),v.jsx(Kf,{num:t.length,label:""}),t.length===0&&v.jsx("div",{children:"  ."}),v.jsx("div",{className:bC.gridContainer,children:l.map(k=>v.jsx(_4,{exhibitionItem:k,onEvent:A},k.id))}),v.jsx(Qu,{currentPage:r,onPageChange:s,totalItems:t.length})]})}const w9="_layout_15wjm_1",_9="_gridContainer_15wjm_19",_C={layout:w9,gridContainer:_9},C9=[{key:"category",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"nation",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],S9="_layout_5jxtw_1",E9="_artistImage_5jxtw_35",A9="_artistNameTitle_5jxtw_63",T9="_subParagraph_5jxtw_91",mp={layout:S9,artistImage:E9,artistNameTitle:A9,subParagraph:T9};function C4({artistItem:t}){const{id:e,artist_name:n,artist_category:i,artist_image:r,artist_nation:s}=t;return v.jsxs(En,{className:mp.layout,to:`/artists/${e}`,children:[v.jsx("img",{className:mp.artistImage,src:r,alt:"  "}),v.jsx("h3",{className:mp.artistNameTitle,children:n}),v.jsxs("p",{className:mp.subParagraph,children:[i," | ",s]})]})}function N9(){const[t,e]=F.useState([]),[n,i]=F.useState(!1),{currentPage:r,setCurrentPage:s,pageItems:l}=Ju(12,t),[d,f]=F.useState({category:"",nation:"",birthDecade:"",liked_only:0}),p=on(),[y,_]=F.useState(""),S=()=>{!localStorage.getItem("ACCESS_TOKEN")&&p("/login"),f(O=>({...O,liked_only:!O.liked_only}))},T=O=>{_(O.target.value)},A=async()=>{const O={...d,search:y};try{i(!0);const k=await xi.get("/api/artist",{params:O});e(k.data)}catch(k){throw new Error(k)}finally{i(!1)}};return F.useEffect(()=>{A()},[d]),v.jsxs("div",{className:_C.layout,children:[v.jsx(Xf,{title:"",placeholder:"   ",isFav:d.liked_only,onEvent:A,onFav:S,onSearch:T,value:y}),v.jsx(Yf,{filterList:C9,onSetFilter:f}),v.jsx(Kf,{num:t.length,label:""}),n&&v.jsx("div",{children:"   .."}),t.length===0&&v.jsx("div",{children:"  ."}),v.jsx("div",{className:_C.gridContainer,children:l.map(O=>v.jsx(C4,{artistItem:O},O.id))}),v.jsx(Qu,{currentPage:r,onPageChange:s,totalItems:t.length})]})}const M9="_layout_15wjm_1",R9="_gridContainer_15wjm_19",CC={layout:M9,gridContainer:R9},O9=[{key:"status",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"regions",label:"",options:[{label:"",value:""},{label:"",value:""},{label:" ",value:" "},{label:"  ",value:"  "},{label:" ",value:" "},{label:" ",value:" "},{label:" ",value:" "},{label:"",value:""},{label:"",value:""}]},{key:"type",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],I9="_layout_72maw_1",k9="_linkContainer_72maw_31",D9="_galleryImage_72maw_41",B9="_infoContainer_72maw_65",L9="_favButton_72maw_73",j9="_galleryTitle_72maw_95",P9="_addressParagraph_72maw_115",Qo={layout:I9,linkContainer:k9,galleryImage:D9,infoContainer:B9,favButton:L9,galleryTitle:j9,addressParagraph:P9};function _2({galleryItem:t,onEvent:e}){const{id:n,gallery_name:i,gallery_image:r,gallery_address:s,gallery_start_time:l,gallery_end_time:d,is_liked:f}=t,p=S=>{if(S)return S.slice(0,5)},y=on(),_=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&y("/login");try{f===!0?await vt.delete("/api/likes",{data:{liked_id:n,liked_type:"gallery"}}):await vt.post("/api/likes",{liked_id:n,liked_type:"gallery"}),await e()}catch(S){console.error(S)}};return v.jsx("div",{className:Qo.layout,children:v.jsxs(En,{className:Qo.linkContainer,to:`/galleries/${n}`,children:[v.jsx("img",{className:Qo.galleryImage,src:r,alt:`${i}  `}),v.jsx("button",{className:Qo.favButton,onClick:S=>{S.preventDefault(),S.stopPropagation(),_()},children:f?v.jsx(v4,{}):v.jsx(b4,{})}),v.jsxs("div",{className:Qo.infoContainer,children:[v.jsx("h3",{className:Qo.galleryTitle,children:i}),v.jsx("p",{className:Qo.addressParagraph,children:s}),v.jsxs("p",{className:Qo.addressParagraph,children:[p(l)," ~ ",p(d)]})]})]})})}function F9(){const[t,e]=F.useState([]),[n,i]=F.useState(!1),{currentPage:r,setCurrentPage:s,pageItems:l}=Ju(12,t),[d,f]=F.useState({status:"",regions:"",type:"",liked_only:0}),p=on(),[y,_]=F.useState(""),S=O=>{_(O.target.value)},T=()=>{!localStorage.getItem("ACCESS_TOKEN")&&p("/login"),f(O=>({...O,liked_only:!O.liked_only}))},A=async()=>{try{i(!0);const O={...d,regions:d.regions.replace(/\s+/g,","),search:y},k=await xi.get("/api/galleries",{params:O});e(k.data)}catch(O){throw new Error(O)}finally{i(!1)}};return F.useEffect(()=>{A()},[d]),v.jsxs("div",{className:CC.layout,children:[v.jsx(Xf,{title:"",placeholder:" ",isFav:d.liked_only,onEvent:A,onFav:T,onSearch:S,value:y}),v.jsx(Yf,{filterList:O9,onSetFilter:f}),v.jsx(Kf,{num:t.length,label:""}),t.length===0&&v.jsx("div",{children:"  ."}),v.jsx("div",{className:CC.gridContainer,children:l.map(O=>v.jsx(_2,{galleryItem:O,onEvent:A},O.id))}),v.jsx(Qu,{currentPage:r,onPageChange:s,totalItems:t.length})]})}const z9="_layout_1r4jo_1",H9="_registerTitle_1r4jo_17",U9="_subParagraph_1r4jo_29",V9="_form_1r4jo_39",$9="_submitButton_1r4jo_57",Zd={layout:z9,registerTitle:H9,subParagraph:U9,form:V9,submitButton:$9},u1=t=>{const[e,n]=F.useState(t);return{data:e,handleChange:r=>{n(s=>({...s,[r.target.name]:r.target.value}))},setData:n}},G9="_input_vwmpv_13",q9={input:G9};function _a({type:t="text",name:e,placeholder:n,value:i,onChange:r}){return v.jsx("input",{className:q9.input,name:e,type:t,placeholder:n,value:i,onChange:r})}const W9="_layout_13jvg_1",X9="_radioLabel_13jvg_11",Y9="_radioInput_13jvg_21",ox={layout:W9,radioLabel:X9,radioInput:Y9};function SC({name:t,value:e,label:n,onChange:i}){return v.jsxs("div",{className:ox.layout,children:[v.jsx("label",{className:ox.radioLabel,children:n}),v.jsx("input",{className:ox.radioInput,type:"radio",name:t,value:e,onChange:i})]})}const K9="_layout_3526f_1",Z9="_inputTitle_3526f_13",Q9="_inputContainer_3526f_25",J9="_errorParagraph_3526f_35",gp={layout:K9,inputTitle:Z9,inputContainer:Q9,errorParagraph:J9};function Qd({children:t,title:e,isValid:n,errorText:i}){return v.jsxs("div",{className:gp.layout,children:[v.jsx("h3",{className:gp.inputTitle,children:e}),v.jsx("div",{className:gp.inputContainer,children:t}),!n&&v.jsx("div",{className:gp.errorParagraph,children:i})]})}function eB(){const{data:t,handleChange:e}=u1({login_id:"",login_pwd:"",user_email:"",user_name:"",admin_flag:0}),n=on(),i=Ii(),r=p=>/^(?=.*[A-Za-z])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/.test(p),s=p=>/^[A-Za-z0-9]{6,20}$/.test(p),l=p=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.]+\.[A-Za-z]{2,}$/.test(p),d=()=>{const{login_id:p,login_pwd:y,user_email:_,user_name:S,admin_flag:T}=t;return s(p)&&r(y)&&l(_)&&S.trim()!==""&&T!==""},f=async p=>{p.preventDefault();try{await xi.post("/api/auth/register",t),alert(" "),n("/login",{state:{from:i.pathname}})}catch(y){throw new Error(y)}};return v.jsxs("div",{className:Zd.layout,children:[v.jsx("h1",{className:Zd.registerTitle,children:""}),v.jsx("p",{className:Zd.subParagraph,children:"  "}),v.jsxs("form",{className:Zd.form,onSubmit:f,children:[v.jsx(Qd,{title:"",isValid:t.login_id===""?!0:s(t.login_id),errorText:" 6~20     ",children:v.jsx(_a,{name:"login_id",placeholder:" (6~20 , )",placeholder:" (6~20 , )",onChange:e,value:t.login_id})}),v.jsx(Qd,{title:"",isValid:t.login_pwd===""?!0:r(t.login_pwd),errorText:"8~20 , ,     ",children:v.jsx(_a,{name:"login_pwd",placeholder:" (8~16 ++)",placeholder:" (8~16 ++)",type:"password",onChange:e,value:t.login_pwd})}),v.jsx(Qd,{title:"",children:v.jsx(_a,{name:"user_name",placeholder:" ",onChange:e,value:t.user_name})}),v.jsx(Qd,{title:"",isValid:t.user_email===""?!0:l(t.user_email),errorText:"   ",children:v.jsx(_a,{name:"user_email",placeholder:" ",onChange:e,value:t.user_email})}),v.jsxs(Qd,{title:" ?",children:[v.jsx(SC,{label:"",name:"admin_flag",value:1,onChange:e}),v.jsx(SC,{label:"",name:"admin_flag",value:0,onChange:e})]}),v.jsx("button",{className:Zd.submitButton,disabled:!d(),children:""})]})]})}const tB="_layout_1wihj_1",nB="_mainTab_1wihj_31",iB="_tabButton_1wihj_49",rB="_active_1wihj_85",xp={layout:tB,mainTab:nB,tabButton:iB,active:rB},sB="_layout_1sugu_1",aB="_pageTitle_1sugu_15",oB="_editLink_1sugu_33",lx={layout:sB,pageTitle:aB,editLink:oB};function lB(){const{user:t}=F.useContext(Wf);return t?v.jsxs("div",{className:lx.layout,children:[v.jsx("h1",{className:lx.pageTitle,children:""}),v.jsxs(En,{className:lx.editLink,to:"/mypage/edit",children:[t.user_name," , "]})]}):v.jsx("div",{children:"  "})}const cB="_header_en5wv_1",uB="_countText_en5wv_9",dB="_count_en5wv_9",fB="_tabButtonContainer_en5wv_45",hB="_tabButton_en5wv_45",pB="_active_en5wv_77",mB="_cardListSection_en5wv_87",gB="_cardList_en5wv_87",xB="_emptyText_en5wv_107",Za={header:cB,countText:uB,count:dB,tabButtonContainer:fB,tabButton:hB,active:pB,cardListSection:mB,cardList:gB,emptyText:xB},cx=[{label:"",key:"exhibition"},{label:"",key:"gallery"},{label:"",key:"artwork"},{label:"",key:"artist"}];function yB(){var s,l;const[t,e]=F.useState({exhibition:[],gallery:[],artwork:[],artist:[]}),[n,i]=F.useState("exhibition");F.useEffect(()=>{(async()=>{try{const f=await vt.get("/api/users/me/likes"),{data:p}=f;e({exhibition:p.like_exhibitions||[],gallery:p.like_galleries||[],artist:p.like_artists||[],artwork:[]})}catch(f){console.log("like fetch err : ",f),e({exhibition:[],gallery:[],artwork:[],artist:[]})}})()},[]);const r=t[n]||[];return v.jsxs("div",{children:[v.jsxs("div",{className:Za.header,children:[v.jsxs("p",{className:Za.countText,children:["",v.jsx("span",{className:Za.count,children:r.length}),""," ",(s=cx.find(d=>d.key===n))==null?void 0:s.label," ."]}),v.jsx("div",{className:Za.tabButtonContainer,children:cx.map(d=>v.jsx("button",{className:`${Za.tabButton} ${n===d.key?Za.active:""}`,onClick:()=>i(d.key),children:d.label},d.key))})]}),v.jsx("section",{className:Za.cardListSection,children:v.jsx("div",{className:Za.cardList,children:r.length>0?n==="exhibition"?r.map((d,f)=>v.jsx(_4,{exhibitionItem:d},`exhibition-${d.id}-${f}`)):n==="gallery"?r.map((d,f)=>v.jsx(_2,{galleryItem:d},`gallery-${d.id}-${f}`)):n==="artist"?r.map((d,f)=>v.jsx(C4,{artistItem:d},`artist-${d.id}-${f}`)):null:v.jsxs("p",{className:Za.emptyText,children:[" ",(l=cx.find(d=>d.key===n))==null?void 0:l.label," ."]})})})]})}const vB="_cardContainer_9hwuh_1",bB="_imgContainer_9hwuh_33",wB="_image_9hwuh_41",_B="_artistImage_9hwuh_53",CB="_contents_9hwuh_69",SB="_title_9hwuh_83",EB="_info_9hwuh_95",AB="_statusContainer_9hwuh_109",TB="_statusCompleted_9hwuh_123",NB="_statusReserved_9hwuh_137",MB="_statusCanceled_9hwuh_153",RB="_cancel_9hwuh_173",OB="_action_9hwuh_205",IB="_btn_9hwuh_215",kB="_catalogRegisteredDate_9hwuh_247",yn={cardContainer:vB,imgContainer:bB,image:wB,artistImage:_B,contents:CB,title:SB,info:EB,statusContainer:AB,statusCompleted:TB,statusReserved:NB,statusCanceled:MB,cancel:RB,action:OB,btn:IB,catalogRegisteredDate:kB};function S4({item:t,onQR:e,onCancel:n,onGoDetail:i,onReservation:r,type:s}){if(!t)return null;const l=()=>{const{likeType:p}=t;let y="",_="",S="",T=yn.image;if(p==="exhibition")y=t.exhibition_poster,_=t.exhibition_title,S=`${t.exhibition_location}<br />${t.exhibition_start_date} ~ ${t.exhibition_end_date}`;else if(p==="gallery")y=t.gallery_image,_=t.gallery_name,S=t.gallery_address;else if(p==="artist")y=t.artist_image,_=t.artist_name,S=`${t.artist_category} / ${t.artist_nation}`,T=yn.artistImage;else return null;return v.jsxs("div",{onClick:i,className:yn.cardContainer,children:[v.jsx("div",{className:yn.imgContainer,children:v.jsx("img",{src:y,alt:_,className:`${yn.image} ${T}`})}),v.jsxs("div",{className:yn.contents,children:[v.jsx("h3",{className:yn.title,children:_}),v.jsx("p",{className:yn.info,dangerouslySetInnerHTML:{__html:S}})]})]})},d=()=>{var $,P;const{exhibition_poster:p,exhibition_title:y="  ",exhibition_location:_="  ",reservation_status:S="",id:T=" ",reservation_datetime:A}=t,O={reserved:{label:"",className:yn.statusReserved},used:{label:"",className:yn.statusCompleted},canceled:{label:"",className:yn.statusCanceled}},k=(($=O[S])==null?void 0:$.label)||"  ",L=((P=O[S])==null?void 0:P.className)||"";return v.jsxs("div",{className:yn.cardContainer,onClick:r,children:[v.jsx("div",{className:yn.imgContainer,children:v.jsx("img",{src:p,alt:y,className:yn.image})}),v.jsxs("div",{className:yn.contents,children:[v.jsx("h3",{className:yn.title,children:y}),v.jsxs("p",{className:yn.info,children:[_,v.jsx("br",{}),A.split(" ")[0],v.jsx("br",{}),": ",T]}),v.jsxs("div",{className:yn.statusContainer,children:[v.jsx("span",{className:L,children:k}),v.jsxs("div",{className:yn.action,children:[v.jsxs("button",{className:yn.btn,onClick:R=>{R.stopPropagation(),i()},children:[" ",""]}),S==="reserved"&&v.jsxs(v.Fragment,{children:[v.jsx("button",{className:yn.btn,onClick:R=>{R.stopPropagation(),e(t.exhibition_id)},children:""}),v.jsx("button",{className:yn.cancel,onClick:R=>{R.stopPropagation(),n()},children:""})]})]})]})]})]})},f=()=>{const{bookDetail:p,book_poster:y,create_dtm:_=""}=t,{book:{book_title:S="  "}={},exhibition:{exhibition_location:T="   "}={},gallery:{gallery_name:A="  "}={},exhibition:{exhibition_start_date:O=""}={},exhibition:{exhibition_end_date:k=""}={}}=(p==null?void 0:p.book)||{},L=O&&k?`${O} ~ ${k}`:"",$=_?new Date(_).toISOString().slice(0,10):"";return v.jsxs("div",{onClick:i,className:yn.cardContainer,children:[v.jsx("div",{className:yn.imgContainer,children:v.jsx("img",{src:y,alt:S,className:yn.image})}),v.jsxs("div",{className:yn.contents,children:[v.jsx("h3",{className:yn.title,children:S}),v.jsxs("p",{className:yn.info,children:[A," / ",T,v.jsx("br",{}),L]}),v.jsxs("p",{className:yn.catalogRegisteredDate,children:[": ",$]})]})]})};switch(s){case"like":return l();case"reservation":return d();case"catalog":return f();default:return null}}const DB="_header_1tuse_1",BB="_countText_1tuse_15",LB="_count_1tuse_15",jB="_registerCatalogBtn_1tuse_41",PB="_cardList_1tuse_71",FB="_emptyText_1tuse_83",ic={header:DB,countText:BB,count:LB,registerCatalogBtn:jB,cardList:PB,emptyText:FB};function zB(){const[t,e]=F.useState([]),n=on(),i=()=>{n("/scan")},r=l=>{n(`/catalog/${l}`)},s=()=>{console.log("QR  or ")};return F.useEffect(()=>{async function l(){try{const f=(await vt.get("/api/users/me/purchases")).data,p=await Promise.all(f.map(async y=>{try{const _=await vt.get(`/api/books/${y.book_id}`);return{...y,bookDetail:_.data}}catch(_){return console.error(`Book ${y.book_id}    : `,_),{...y,bookDetail:null}}}));console.log(p),e(p)}catch(d){console.error("   : ",d),e([])}}l()},[]),v.jsxs("div",{className:ic.myCatalog,children:[v.jsxs("div",{className:ic.header,children:[v.jsx("div",{children:v.jsxs("p",{className:ic.countText,children:["  ",v.jsx("span",{className:ic.count,children:t.length})]})}),v.jsx("button",{className:ic.registerCatalogBtn,onClick:i,children:"  "})]}),v.jsx("section",{children:v.jsx("div",{className:ic.cardList,children:t.length>0?t.map(l=>v.jsx(S4,{item:l,onGoDetail:()=>r(l.id),onQR:s,onCancel:null,type:"catalog"},l.id)):v.jsxs("p",{className:ic.emptyText,children:["   .",v.jsx("br",{})," QR "]})})})]})}const HB="_cardList_12369_1",UB="_header_12369_13",VB="_countText_12369_27",$B="_count_12369_27",GB="_emptyText_12369_53",vu={cardList:HB,header:UB,countText:VB,count:$B,emptyText:GB},qB=[{label:"",key:"dateSort",options:[{label:"",value:"latest"},{label:"",value:"oldest"}]},{label:"",key:"statusFilter",options:[{label:"",value:"all"},{label:"",value:"reserved"},{label:"",value:"used"},{label:"",value:"canceled"}]}],WB="_modalOverlay_1kfbz_1",XB="_modalContainer_1kfbz_27",YB="_modalHeader_1kfbz_53",KB="_closeButton_1kfbz_71",ZB="_imageContainer_1kfbz_95",QB="_checkIconContainer_1kfbz_127",JB="_confirmText_1kfbz_161",eL="_visitDate_1kfbz_177",tL="_infoButton_1kfbz_191",Qa={modalOverlay:WB,modalContainer:XB,modalHeader:YB,closeButton:KB,imageContainer:ZB,checkIconContainer:QB,confirmText:JB,visitDate:eL,infoButton:tL},nL=({isOpen:t,onClose:e,exhibitionTitle:n,imageUrl:i,visitDate:r,onViewExhibition:s})=>t?v.jsx("div",{className:Qa.modalOverlay,children:v.jsxs("div",{className:Qa.modalContainer,children:[v.jsxs("div",{className:Qa.modalHeader,children:[v.jsx("button",{className:Qa.closeButton,onClick:e,children:v.jsx(x4,{})}),v.jsx("div",{children:n})]}),v.jsx("div",{className:Qa.imageContainer,children:v.jsx("img",{src:i,alt:n})}),v.jsx("div",{className:Qa.checkIconContainer,children:v.jsx(v2,{})}),v.jsx("div",{className:Qa.confirmText,children:"  "}),v.jsxs("div",{className:Qa.visitDate,children:[" : ",r]}),v.jsx("button",{className:Qa.infoButton,onClick:s,children:"  "})]})}):null;function iL(){const[t,e]=F.useState([]),[n,i]=F.useState({dateSort:"latest",statusFilter:"all"}),r=on(),[s,l]=F.useState(!1),[d,f]=F.useState({id:"",title:"",imageUrl:""});F.useEffect(()=>{if(localStorage.getItem("showAttendanceModal")==="true"){const O=localStorage.getItem("exhibitionInfo");if(O){try{const k=JSON.parse(O);f(k),l(!0)}catch(k){console.error("   :",k),f({id:"",title:" ",imageUrl:"  URL"}),l(!1)}localStorage.removeItem("showAttendanceModal")}else l(!1)}},[]),F.useEffect(()=>{(async()=>{try{const O=await vt.get("/api/users/me/exhibitions"),{data:k}=O;e(k)}catch(O){console.error("  :",O)}})()},[]);const p=F.useMemo(()=>{let A=t;return n.statusFilter!=="all"&&(A=A.filter(O=>O.reservation_status===n.statusFilter)),A.sort((O,k)=>{const L=new Date(O.reservation_datetime),$=new Date(k.reservation_datetime);return n.dateSort==="latest"?$-L:L-$}),A},[t,n]);console.log(p);const y=()=>{l(!1),localStorage.removeItem("exhibitionInfo")},_=async A=>{if(window.confirm(" ?"))try{await instance.delete(`/api/reservations/${A}`),e(k=>k.map(L=>L.id===A?{...L,reservation_status:"canceled"}:L))}catch(k){console.error("  :",k)}},S=A=>{r(`/exhibitions/${A}`),localStorage.removeItem("exhibitionInfo")},T=A=>{const O={id:A.exhibition_id,title:A.exhibition_title,imageUrl:A.exhibition_poster};localStorage.setItem("exhibitionInfo",JSON.stringify(O)),localStorage.setItem("showAttendanceModal","true"),console.log("   : "),r(`/scan?itemId=${A.id}`)};return v.jsxs("div",{children:[v.jsxs("div",{className:vu.header,children:[v.jsxs("p",{className:vu.countText,children:[" "," ",v.jsx("span",{className:vu.count,children:p.length})]}),v.jsx("div",{className:vu.filterSection,children:v.jsx(Yf,{filterList:qB,onSetFilter:i,shape:"rect"})})]}),v.jsx("section",{children:v.jsx("div",{className:vu.cardList,children:p.length>0?p.map(A=>v.jsx(S4,{item:A,status:A.reservation_status==="reserved",onReservation:()=>{r(`/reservationconfirm/${A.id}`)},onGoDetail:()=>S(A.exhibition_id),onCancel:()=>_(A.id),onQR:()=>T(A),type:"reservation"},A.id)):v.jsx("p",{className:vu.emptyText,children:"  ."})})}),s&&v.jsx(nL,{isOpen:s,onClose:y,exhibitionTitle:d.title,imageUrl:d.imageUrl,visitDate:new Date().toLocaleDateString(),onViewExhibition:()=>S(d.id)})]})}function rL(){const[t,e]=F.useState(""),n=["","MY","MY"];F.useEffect(()=>{const r=localStorage.getItem("showAttendanceModal"),s=localStorage.getItem("fromReservationModal");(r==="true"||s==="true")&&(e("MY"),localStorage.removeItem("fromReservationModal"))},[]);const i=()=>{switch(t){case"":return v.jsx(yB,{});case"MY":return v.jsx(iL,{});case"MY":return v.jsx(zB,{});default:return null}};return v.jsxs("div",{className:xp.layout,children:[v.jsx(lB,{}),v.jsx("nav",{className:xp.mainTab,children:n.map(r=>v.jsx("button",{className:`${xp.tabButton} ${t===r?xp.active:""}`,onClick:()=>e(r),children:r},r))}),i()]})}const sL="_container_14wg3_1",aL="_pageTitle_14wg3_17",oL="_profileCard_14wg3_29",lL="_infoRow_14wg3_173",cL="_infoLabel_14wg3_193",uL="_infoValue_14wg3_205",dL="_input_14wg3_215",fL="_changeButton_14wg3_231",hL="_profileStatsCard_14wg3_259",pL="_sectionTitle_14wg3_277",mL="_statsRow_14wg3_289",gL="_statsItem_14wg3_305",xL="_profileDetailsCard_14wg3_313",yL="_detailsRow_14wg3_329",vL="_detailsLabel_14wg3_351",bL="_detailsValue_14wg3_359",wL="_changeButtonSmall_14wg3_369",_L="_buttonField_14wg3_397",CL="_backBtn_14wg3_409",Qt={container:sL,pageTitle:aL,profileCard:oL,infoRow:lL,infoLabel:cL,infoValue:uL,input:dL,changeButton:fL,profileStatsCard:hL,sectionTitle:pL,statsRow:mL,statsItem:gL,profileDetailsCard:xL,detailsRow:yL,detailsLabel:vL,detailsValue:bL,changeButtonSmall:wL,buttonField:_L,backBtn:CL},SL="_modalOverlay_iiyfy_1",EL="_modalContainer_iiyfy_27",AL="_modalHeader_iiyfy_51",TL="_closeButton_iiyfy_67",NL="_modalTitle_iiyfy_87",ML="_modalContent_iiyfy_105",RL="_passwordSection_iiyfy_121",OL="_sectionTitle_iiyfy_129",IL="_sectionDescription_iiyfy_141",kL="_form_iiyfy_155",DL="_formGroup_iiyfy_167",BL="_input_iiyfy_175",LL="_submitButton_iiyfy_209",xr={modalOverlay:SL,modalContainer:EL,modalHeader:AL,closeButton:TL,modalTitle:NL,modalContent:ML,passwordSection:RL,sectionTitle:OL,sectionDescription:IL,form:kL,formGroup:DL,input:BL,submitButton:LL},jL=({isOpen:t,onClose:e,userInfo:n,onUpdateUserInfo:i})=>{const[r,s]=F.useState(""),[l,d]=F.useState(""),f=p=>{p.preventDefault()};return t?v.jsx("div",{className:xr.modalOverlay,children:v.jsxs("div",{className:xr.modalContainer,children:[v.jsxs("div",{className:xr.modalHeader,children:[v.jsx("button",{className:xr.closeButton,onClick:e,children:v.jsx(x4,{})}),v.jsx("div",{className:xr.modalTitle,children:" "})]}),v.jsx("div",{className:xr.modalContent,children:v.jsxs("div",{className:xr.passwordSection,children:[v.jsx("h3",{className:xr.sectionTitle,children:" "}),v.jsxs("p",{className:xr.sectionDescription,children:["    ",v.jsx("br",{}),"  ."]}),v.jsxs("form",{className:xr.form,onSubmit:f,children:[v.jsx("div",{className:xr.formGroup,children:v.jsx("input",{type:"password",placeholder:" ",className:xr.input,value:r,onChange:p=>s(p.target.value),required:!0})}),v.jsx("div",{className:xr.formGroup,children:v.jsx("input",{type:"password",placeholder:" ",className:xr.input,value:l,onChange:p=>d(p.target.value),required:!0})}),v.jsx("button",{className:xr.submitButton,type:"submit",children:" "})]})]})})]})}):null},PL=()=>{const{user:t,setUser:e}=F.useContext(Wf),[n,i]=F.useState(!1),[r,s]=F.useState(!1),[l,d]=F.useState(!1),[f,p]=F.useState(""),[y,_]=F.useState(""),S=on();if(!t)return v.jsx("div",{children:"  "});const T=()=>{i(!0)},A=()=>{i(!1)},O=()=>{s(!0),p(t.user_name)},k=()=>{d(!0),_(t.user_email)},L=D=>{p(D.target.value)},$=D=>{_(D.target.value)},P=async()=>{try{await xi.put("/api/users/me",{...t,user_name:f}),e({...t,user_name:f}),s(!1)}catch(D){console.error("  .",D)}},R=async()=>{try{await xi.put("/api/users/me",{...t,user_email:y}),e({...t,user_email:y}),d(!1)}catch(D){console.error("  .",D)}};return v.jsxs("div",{className:Qt.container,children:[v.jsx("h2",{className:Qt.pageTitle,children:""}),v.jsx("div",{className:Qt.profileCard,children:v.jsxs("div",{className:Qt.profileInfoDetails,children:[v.jsxs("div",{className:Qt.infoRow,children:[v.jsx("span",{className:Qt.infoLabel,children:""}),v.jsx("span",{className:Qt.infoValue,children:t.login_id||""}),v.jsx("button",{className:Qt.changeButtonSmall,onClick:T,children:" "})]}),v.jsxs("div",{className:Qt.infoRow,children:[v.jsx("span",{className:Qt.infoLabel,children:""}),r?v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"text",className:Qt.input,value:f,onChange:L}),v.jsx("button",{className:Qt.changeButton,onClick:P,children:""})]}):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:Qt.infoValue,children:t.user_name||""}),v.jsx("button",{className:Qt.changeButton,onClick:O,children:""})]})]}),v.jsxs("div",{className:Qt.infoRow,children:[v.jsx("span",{className:Qt.infoLabel,children:""}),l?v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"email",className:Qt.input,value:y,onChange:$}),v.jsx("button",{className:Qt.changeButton,onClick:R,children:""})]}):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:Qt.infoValue,children:t.user_email||"email@email.com"}),v.jsx("button",{className:Qt.changeButton,onClick:k,children:""})]})]})]})}),v.jsxs("div",{className:Qt.profileStatsCard,children:[v.jsx("h3",{className:Qt.sectionTitle,children:""}),v.jsx("div",{className:Qt.statsRow,children:v.jsx("span",{className:Qt.statsItem,children:"1:1 "})}),v.jsx("div",{className:Qt.statsRow,children:v.jsx("span",{className:Qt.statsItem,children:" "})})]}),v.jsxs("div",{className:Qt.profileDetailsCard,children:[v.jsx("h3",{className:Qt.sectionTitle,children:""}),v.jsx("div",{className:Qt.detailsRow,children:v.jsx("span",{className:Qt.detailsLabel,children:""})}),v.jsxs("div",{className:Qt.detailsRow,children:[v.jsx("span",{className:Qt.detailsLabel,children:" "}),v.jsx("span",{className:Qt.detailsValue,children:"1.10.24"})]}),v.jsx("div",{className:Qt.detailsRow,children:v.jsx("span",{className:Qt.detailsLabel,children:" "})})]}),v.jsx("div",{className:Qt.buttonField,children:v.jsx("button",{className:Qt.backBtn,onClick:()=>S("/mypage"),children:" "})}),v.jsx(jL,{isOpen:n,onClose:A,userInfo:t})]})},FL="_layout_11t2z_1",zL="_summaryTitle_11t2z_15",HL="_queryStringSpan_11t2z_25",UL="_resultSection_11t2z_33",yp={layout:FL,summaryTitle:zL,queryStringSpan:HL,resultSection:UL},vp=(t,e)=>{switch(e){case"exhibition":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.exhibition_poster,title:n.exhibition_title}));case"gallery":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.gallery_image,title:n.gallery_name}));case"artist":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.artist_image,title:n.artist_name}));case"notice":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.announcement_poster,title:n.announcement_title}))}},VL="_layout_uizu7_1",$L="_titleContainer_uizu7_13",GL="_categoryTitle_uizu7_25",qL="_extraLink_uizu7_33",WL="_resultList_uizu7_45",XL="_emptyBox_uizu7_63",bu={layout:VL,titleContainer:$L,categoryTitle:GL,extraLink:qL,resultList:WL,emptyBox:XL},ux=t=>{switch(t){case"exhibition":return{label:"",link:"exhibitions"};case"gallery":return{label:"",link:"galleries"};case"artist":return{label:"",link:"artists"};case"notice":return{label:"",link:"notices"}}},YL="_layout_i3rj4_1",KL="_itemImage_i3rj4_13",ZL="_itemSpan_i3rj4_27",dx={layout:YL,itemImage:KL,itemSpan:ZL};function QL({link:t,thumbnail:e,title:n}){return v.jsxs(En,{className:dx.layout,to:t,children:[v.jsx("img",{className:dx.itemImage,src:e}),v.jsx("span",{className:dx.itemSpan,children:n})]})}function bp({category:t,results:e}){return v.jsxs("section",{className:bu.layout,children:[v.jsxs("div",{className:bu.titleContainer,children:[v.jsx("h2",{className:bu.categoryTitle,children:ux(t).label}),(e==null?void 0:e.length)===10&&v.jsx(En,{className:bu.extraLink,to:`/${ux(t).link}`,children:""})]}),v.jsx("hr",{}),v.jsx("div",{className:bu.resultList,children:!e||e.length===0?v.jsx("div",{className:bu.emptyBox,children:"  "}):e.map(({id:n,thumbnail:i,title:r})=>v.jsx(QL,{link:`/${ux(t).link}/${n}`,thumbnail:i,title:r},n))})]})}function JL(){const t=Ii(),n=new URLSearchParams(t.search).get("query"),[i,r]=F.useState({});console.log(n);const s=async()=>{try{const l=await xi.get("/api/search",{params:{search:n}});r(l.data)}catch(l){throw new Error(l)}};return F.useEffect(()=>{s()},[n]),v.jsxs("div",{className:yp.layout,children:[v.jsxs("h1",{className:yp.summaryTitle,children:[v.jsx("span",{className:yp.queryStringSpan,children:`'${n}'`}),"   "]}),v.jsxs("section",{className:yp.resultSection,children:[v.jsx(bp,{category:"exhibition",results:vp(i.exhibitions,"exhibition")}),v.jsx(bp,{category:"gallery",results:vp(i.galleries,"gallery")}),v.jsx(bp,{category:"artist",results:vp(i.artists,"artist")}),v.jsx(bp,{category:"notice",results:vp(i.announcements,"notice")})]})]})}const ej="_layout_1jxus_1",tj="_header_1jxus_11",nj="_backBtn_1jxus_37",ij="_orderSection_1jxus_47",rj="_userInfo_1jxus_61",sj="_productBox_1jxus_71",aj="_productImage_1jxus_81",oj="_productInfo_1jxus_95",lj="_paymentInfo_1jxus_109",cj="_discountInfo_1jxus_111",uj="_paymentMethod_1jxus_113",dj="_total_1jxus_129",fj="_kakao_1jxus_169",hj="_naver_1jxus_177",pj="_basic_1jxus_183",mj="_paymentButton_1jxus_191",yr={layout:ej,header:tj,backBtn:nj,orderSection:ij,userInfo:rj,productBox:sj,productImage:aj,productInfo:oj,paymentInfo:lj,discountInfo:cj,paymentMethod:uj,total:dj,kakao:fj,naver:hj,basic:pj,paymentButton:mj};function gj(){const{reservationId:t}=ks(),{state:e}=Ii(),n=on(),[i,r]=F.useState(""),{exhibition:s={},date:l="",time:d="",people:{adults:f=0,teens:p=0,children:y=0}={},total:_=0,email:S="test@test.com",phone:T="010-1234-5678",name:A=""}=e||{},O=()=>n(`/reservation/${s.id}`),k=()=>{if(!i){alert("  .");return}alert(`${i}  .`);const B={...e,payment:i};n(`/reservation/complete/${t}`,{state:B})},L=()=>v.jsxs("div",{className:yr.userInfo,children:[v.jsx("h3",{children:" "}),v.jsxs("p",{children:[A," "]}),v.jsx("p",{children:S}),v.jsx("p",{children:T})]}),$=()=>v.jsxs("div",{className:yr.productBox,children:[v.jsx("img",{src:s.imageUrl,alt:" ",className:yr.productImage}),v.jsxs("div",{className:yr.productInfo,children:[v.jsx("h3",{children:s.title}),v.jsxs("p",{children:["-  : ",l]}),v.jsxs("p",{children:["-   : ",d]}),v.jsxs("p",{children:["-  :  ",f,",  ",p,",  ",y]}),v.jsxs("p",{children:["-  : ",_.toLocaleString(),""]})]})]}),P=()=>v.jsxs("div",{className:yr.discountInfo,children:[v.jsx("h3",{children:"   "}),v.jsx("p",{children:"1,000point "}),v.jsx("p",{children:" : 0"})]}),R=()=>v.jsxs("div",{className:yr.paymentInfo,children:[v.jsx("h3",{children:" "}),v.jsxs("p",{children:[" : ",_.toLocaleString(),""]}),v.jsx("p",{children:" : -1,000"}),v.jsxs("p",{className:yr.total,children:["  : ",(_-1e3).toLocaleString(),""]})]}),D=()=>{const B={:"kakao",:"naver"," ":"basic"};return v.jsxs("div",{className:yr.paymentMethod,children:[v.jsx("h3",{children:" "}),Object.entries(B).map(([z,G])=>v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"payment",value:z,onChange:X=>r(X.target.value)}),v.jsxs("span",{className:yr[G],children:[" ",z]})]},z))]})};return v.jsxs("div",{className:yr.layout,children:[v.jsxs("header",{className:yr.header,children:[v.jsx("button",{className:yr.backBtn,onClick:O,children:""}),v.jsx("span",{className:yr.title,children:"   "})]}),v.jsxs("div",{className:yr.orderSection,children:[L(),$()]}),P(),R(),D(),v.jsx("button",{className:yr.paymentButton,onClick:k,children:""})]})}const xj="_layout_1czrs_1",yj="_newsListSection_1czrs_61",EC={layout:xj,newsListSection:yj},vj=[{label:"",key:"sort",options:[{label:"",value:"latest"},{label:"",value:"ending"}]},{label:"",key:"category",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{label:" ",key:"status",options:[{label:"",value:"ongoing"},{label:"",value:"scheduled"},{label:"",value:"ended"}]}],bj="_card_iircg_1",wj="_header_iircg_31",_j="_badge_iircg_45",Cj="_title_iircg_99",Sj="_info_iircg_121",Ej="_period_iircg_131",Aj="_organizer_iircg_133",Ja={card:bj,header:wj,badge:_j,:"__iircg_81",:"__iircg_91",title:Cj,info:Sj,period:Ej,organizer:Aj};function Tj({newsItem:t}){const e=on(),{id:n,announcement_title:i,announcement_start_datetime:r,announcement_end_datetime:s,announcement_organizer:l,announcement_category:d,announcement_status:f}=t,p=S=>S==null?void 0:S.split(" ")[0].replace(/-/g,"."),y=S=>{switch(S){case"ongoing":return"";case"scheduled":return"";case"ended":return"";default:return""}},_=()=>{e(`/notices/${n}`)};return v.jsxs("div",{className:Ja.card,onClick:_,role:"button",tabIndex:0,children:[v.jsxs("div",{className:Ja.header,children:[v.jsx("span",{className:`${Ja.badge}`,children:d}),v.jsx("span",{className:`${Ja.badge} ${Ja[y(f)]}`,children:y(f)})]}),v.jsx("h3",{className:Ja.title,children:i}),v.jsxs("div",{className:Ja.info,children:[v.jsx("p",{className:Ja.period,children:`${p(r)} ~ ${p(s)}`}),v.jsx("p",{className:Ja.organizer,children:l})]})]})}function Nj(){const[t,e]=F.useState([]),[n,i]=F.useState(!1),{currentPage:r,setCurrentPage:s,pageItems:l}=Ju(10,t),[d,f]=F.useState({category:"",status:"ongoing",sort:"latest",liked_only:0}),[p,y]=F.useState(""),_=T=>{y(T.target.value)},S=async()=>{try{i(!0);const T={...d,search:p},A=await xi.get("/api/announcements",{params:T});e(A.data)}catch(T){console.error("   :",T)}finally{i(!1)}};return F.useEffect(()=>{S()},[d]),v.jsxs("div",{className:EC.layout,children:[v.jsx(Xf,{title:"",placeholder:" ",onEvent:S,onSearch:_,value:p,isNews:!0}),v.jsx(Yf,{filterList:vj,onSetFilter:f}),v.jsx(Kf,{num:t.length,label:""}),n&&v.jsx("div",{children:"   .."}),t.length===0&&v.jsx("div",{children:"  ."}),v.jsx("section",{className:EC.newsListSection,children:l.map(T=>v.jsx(Tj,{newsItem:T},T.id))}),v.jsx(Qu,{currentPage:r,onPageChange:s,totalItems:t.length})]})}const Mj="_noticeLayout_p2ihj_1",Rj="_categorySpan_p2ihj_25",Oj="_newsTitle_p2ihj_33",Ij="_newsImage_p2ihj_41",kj="_contentsContainer_p2ihj_55",Dj="_divider_p2ihj_73",Bj="_contentParagraph_p2ihj_87",Lj="_noticeText_p2ihj_99",jj="_backButton_p2ihj_115",ma={noticeLayout:Mj,categorySpan:Rj,newsTitle:Oj,newsImage:Ij,contentsContainer:kj,divider:Dj,contentParagraph:Bj,noticeText:Lj,backButton:jj},Pj="_info_pjhlh_1",Fj="_label_pjhlh_41",wu={info:Pj,label:Fj};function zj({startDate:t,host:e,contact:n,apply:i,attachment:r,site:s}){return v.jsxs("div",{className:wu.info,children:[v.jsxs("p",{children:[v.jsx("strong",{className:wu.label,children:" "})," ",t]}),v.jsxs("p",{children:[v.jsx("strong",{className:wu.label,children:" "})," ",e]}),v.jsxs("p",{children:[v.jsx("strong",{className:wu.label,children:" "})," ",n]}),v.jsxs("p",{children:[v.jsx("strong",{className:wu.label,children:" "})," ",i]}),s&&v.jsxs("p",{children:[v.jsx("strong",{className:wu.label,children:" "})," ",v.jsx("a",{href:s,target:"_blank",rel:"noreferrer",children:s})]}),r&&v.jsxs("p",{children:[v.jsx("strong",{children:":"})," ",v.jsx("a",{href:r.url,target:"_blank",rel:"noreferrer",children:r.name})]})]})}function Hj(){const{noticeId:t}=ks(),[e,n]=F.useState({}),i=async()=>{try{const $=await xi.get(`/api/announcements/${t}`);n($.data)}catch($){throw new Error($)}};if(F.useEffect(()=>{i()},[]),!e)return v.jsx("p",{children:"   ."});const{announcement_title:r,announcement_poster:s,announcement_start_datetime:l,announcement_end_datetime:d,announcement_organizer:f,announcement_contact:p,announcement_support_detail:y,announcement_attachment_url:_,announcement_site_url:S,announcement_content:T,announcement_category:A,created_at:O,views:k}=e,L=($,P)=>{const R=D=>D==null?void 0:D.split(" ")[0];return`${R($)} ~ ${R(P)}`};return v.jsxs("section",{className:ma.noticeLayout,children:[v.jsx("span",{className:ma.categorySpan,children:A}),v.jsx("h1",{className:ma.newsTitle,children:r}),v.jsx("hr",{className:ma.divider}),v.jsxs("div",{className:ma.contentsContainer,children:[v.jsx("img",{className:ma.newsImage,src:s,alt:`${r}  `}),v.jsx(zj,{startDate:L(l,d),host:f,contact:p,apply:y,attachment:_,site:S,createdAt:O,views:k}),v.jsx("p",{className:ma.contentParagraph,children:T}),v.jsx("hr",{className:ma.divider}),v.jsx("p",{className:ma.noticeText,children:"*         ."}),v.jsx(En,{className:ma.backButton,to:"/notices",children:" "})]})]})}const Uj="_layout_18xb9_1",Vj="_mainContent_18xb9_17",$j="_title_18xb9_45",Gj="_infoImage_18xb9_65",qj="_textContainer_18xb9_77",Wj="_textBox_18xb9_87",rc={layout:Uj,mainContent:Vj,title:$j,infoImage:Gj,textContainer:qj,textBox:Wj},Xj="_sectionContainer_yp0fd_1",Yj="_controlsContainer_yp0fd_13",Kj="_speedContainer_yp0fd_33",Zj="_speedButton_yp0fd_67",Qj="_clickedSpeedButton_yp0fd_93",Jj="_buttonField_yp0fd_103",eP="_optionSpan_yp0fd_113",tP="_optionButton_yp0fd_123",Hs={sectionContainer:Xj,controlsContainer:Yj,speedContainer:Kj,speedButton:Zj,clickedSpeedButton:Qj,buttonField:Jj,optionSpan:eP,optionButton:tP},nP="_audioPlayerWrapper_13cxf_1",iP="_audioButton_13cxf_17",fx={audioPlayerWrapper:nP,audioButton:iP};function rP({script:t,playbackRate:e}){const[n,i]=F.useState(!1),[r,s]=F.useState(!1),[l,d]=F.useState(e),f=F.useRef(null);F.useEffect(()=>{let S=!0;return s(!1),(async()=>{console.log("Fetching audio for script:",`${t.substr(0,50)}...`);const A=await p();if(A&&S){console.log("Audio content fetched successfully");const O=new Audio(`data:audio/mp3;base64,${A}`);O.playbackRate=e,O.onended=()=>i(!1),O.playbackRate=l,f.current=O,s(!0)}})(),()=>{S=!1,f.current&&(f.current.pause(),f.current.currentTime=0)}},[t]),F.useEffect(()=>{d(e),f.current&&(f.current.playbackRate=e)},[e]);const p=async()=>{const T=await(await fetch("https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyDONGKCPP4PLv-LpZQyyCEF_7psIAZ_-vE",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:t},voice:{languageCode:"ko-KR",name:"ko-KR-Chirp3-HD-Kore"},audioConfig:{audioEncoding:"MP3"}})})).json(),{audioContent:A}=T;if(A)return A},y=()=>{r&&(n?(f.current.pause(),i(!1)):(f.current.play(),i(!0)))},_=()=>{f.current&&(f.current.pause(),f.current.currentTime=0,i(!1))};return v.jsxs("div",{className:fx.audioPlayerWrapper,children:[v.jsx("button",{className:fx.audioButton,onClick:y,disabled:!r,children:r?n?v.jsx(mD,{}):v.jsx(gD,{}):" ..."}),v.jsx("button",{className:fx.audioButton,onClick:_,disabled:!r,"aria-label":"",children:r?v.jsx(xD,{}):""})]})}const sP=()=>{const[t,e]=F.useState(!1);return{isOpen:t,handleOpenModal:()=>{e(i=>!i)}}};function aP({script:t}){const[e,n]=F.useState(1),{isOpen:i,handleOpenModal:r}=sP(),s=[.5,1,1.25,1.5,2];return console.log(i),v.jsxs("section",{className:Hs.sectionContainer,children:[v.jsx(rP,{script:t,playbackRate:e}),v.jsxs("div",{className:Hs.controlsContainer,children:[i&&v.jsx("div",{className:Hs.speedContainer,children:s.map(l=>v.jsxs("button",{className:`${Hs.speedButton} ${l===e&&Hs.clickedSpeedButton}`,onClick:()=>{n(l),r()},children:[l,"x"]},l))}),v.jsxs("div",{className:Hs.buttonField,children:[v.jsx("span",{className:Hs.optionSpan,children:""}),v.jsxs("button",{className:Hs.optionButton,onClick:r,children:[e,"x"]})]}),v.jsxs("div",{className:Hs.buttonField,children:[v.jsx("span",{className:Hs.optionSpan,children:" "}),v.jsx("button",{className:Hs.optionButton,onClick:()=>{alert("     .")},children:""})]})]})]})}const oP=(t,e=300)=>Array.from({length:Math.ceil((t==null?void 0:t.length)/e)},(n,i)=>t.slice(i*e,(i+1)*e));function lP(){const[t,e]=F.useState([]),{art_image:n,art_title:i,art_description:r,art_docent:s,artist_name:l}=t,{artId:d}=ks();return oP(s),F.useEffect(()=>{(async()=>{try{const p=await xi.get(`/api/arts/${d}`);e(p.data)}catch(p){console.error(p),alert("    .")}})()},[]),v.jsxs("main",{className:rc.layout,children:[v.jsx("h2",{className:rc.title,children:i}),v.jsxs("section",{className:rc.mainContent,children:[v.jsx("img",{src:n,alt:`${i} `,className:rc.infoImage}),v.jsx("div",{className:rc.textContainer,children:v.jsxs("div",{className:rc.textBox,children:[v.jsx("strong",{children:""}),v.jsx("span",{className:rc.text,children:l})]})}),v.jsx(aP,{script:s})]})]})}const cP="_layout_gz7kg_1",uP="_gridContainer_gz7kg_17",AC={layout:cP,gridContainer:uP},dP="_layout_1njda_1",fP="_artworkImage_1njda_27",hP="_artworkTitle_1njda_43",pP="_subParagraph_1njda_63",wp={layout:dP,artworkImage:fP,artworkTitle:hP,subParagraph:pP};function mP({artworkItems:t}){const{id:e,art_image:n,art_title:i,art_description:r}=t;return v.jsxs(En,{className:wp.layout,to:`/artworks/${e}`,children:[v.jsx("img",{className:wp.artworkImage,src:n,alt:" "}),v.jsx("h3",{className:wp.artworkTitle,children:i}),v.jsx("p",{className:wp.subParagraph,children:r})]})}function gP(){const[t,e]=F.useState([]),[n,i]=F.useState(!1),{currentPage:r,setCurrentPage:s,pageItems:l}=Ju(10,t),[d,f]=F.useState({type:""});return F.useEffect(()=>{(async()=>{try{i(!0);const y=await xi.get("/api/arts");e(y.data)}catch(y){throw new Error(y)}finally{i(!1)}})()},[d]),v.jsxs("div",{className:AC.layout,children:[v.jsx(Xf,{title:"",isArtworks:!0}),v.jsx(Kf,{num:t.length,label:""}),n&&v.jsx("div",{children:"   "}),v.jsx("div",{className:AC.gridContainer,children:l.map(p=>v.jsx(mP,{artworkItems:p},p.id))}),v.jsx(Qu,{currentPage:r,onPageChange:s,totalItems:t.length})]})}const xP="_catalogLayout_1rr2f_1",yP="_bodyContainer_1rr2f_19",vP="_overlay_1rr2f_33",hx={catalogLayout:xP,bodyContainer:yP,overlay:vP},bP="_titleBar_1jvc1_1",wP="_leftButtons_1jvc1_23",_P="_rightButtons_1jvc1_25",CP="_title_1jvc1_1",SP="_button_1jvc1_45",_u={titleBar:bP,leftButtons:wP,rightButtons:_P,title:CP,button:SP};function EP({onToggleIndex:t}){const e=on(),n=()=>{e("/mypage")};return v.jsxs("div",{className:_u.titleBar,children:[v.jsx("div",{className:_u.leftButtons,children:v.jsx("button",{className:_u.button,onClick:t,children:" "})}),v.jsx("h1",{className:_u.title,children:""}),v.jsx("div",{className:_u.rightButtons,children:v.jsx("button",{className:_u.button,onClick:n,children:" "})})]})}const AP="_indexContainer_zrf7c_1",TP="_menuList_zrf7c_37",NP="_active_zrf7c_71",MP="_closeButton_zrf7c_81",_p={indexContainer:AP,menuList:TP,active:NP,closeButton:MP},TC="/assets/mockCatalog-DwV1yhn-.png",E4=[{id:"cover",title:"",image:TC,artist:"",info:"  / 198161cm",script:`
   20                
   20                
   20                
   20                
   20                
  `},{id:"prologue",title:"",image:TC,artist:"",info:"  / 150150cm",script:`
   20                
   20                
   20                
   20                
   20                
  `}];function RP({onSelect:t,currentIndex:e,sectionStarts:n,onClose:i}){const r=F.useRef();return F.useEffect(()=>{const s=d=>{r.current&&!r.current.contains(d.target)&&i()},l=d=>{d.key==="Escape"&&i()};return document.addEventListener("mousedown",s),document.addEventListener("keydown",l),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",l)}},[i]),v.jsxs("aside",{className:_p.indexContainer,ref:r,children:[v.jsx("button",{className:_p.closeButton,onClick:i,children:""}),v.jsx("ul",{className:_p.menuList,children:E4.map((s,l)=>v.jsx("li",{className:l===e?_p.active:"",onClick:()=>t(n[l]),tabIndex:0,children:s.title},s.id))})]})}const OP="_container_c1nh1_1",IP="_page_c1nh1_23",kP="_image_c1nh1_41",DP="_title_c1nh1_55",BP="_meta_c1nh1_67",LP="_script_c1nh1_79",jP="_arrowLeft_c1nh1_89",PP="_arrowRight_c1nh1_91",FP="_pageCount_c1nh1_155",eo={container:OP,page:IP,image:kP,title:DP,meta:BP,script:LP,arrowLeft:jP,arrowRight:PP,pageCount:FP};function zP({data:t,pageIndex:e,totalPages:n,onPrev:i,onNext:r,isFirst:s,isLast:l}){return v.jsxs("div",{className:eo.container,children:[!s&&v.jsx("button",{onClick:i,className:eo.arrowLeft,children:""}),!l&&v.jsx("button",{onClick:r,className:eo.arrowRight,children:""}),v.jsxs("div",{className:eo.page,children:[t.image&&v.jsx("img",{src:t.image,alt:t.title,className:eo.image}),v.jsx("h2",{className:eo.title,children:t.title}),v.jsxs("p",{className:eo.meta,children:[t.artist,"  ",t.info]}),v.jsx("p",{className:eo.script,children:t.script}),v.jsxs("p",{className:eo.pageCount,children:[" ",e+1," / ",n]})]})]})}const HP=(t,e=200)=>{const n=t.replace(/\n/g,"").trim();return Array.from({length:Math.ceil(n.length/e)},(i,r)=>n.slice(r*e,(r+1)*e))};function UP(){const[t,e]=F.useState(!1),[n,i]=F.useState(0),{allPages:r,sectionStarts:s}=F.useMemo(()=>{const p=[],y=[];return E4.forEach(_=>{const S=HP(_.script);y.push(p.length),S.forEach(T=>{p.push({..._,script:T})})}),{allPages:p,sectionStarts:y}},[]),l=()=>{i(p=>Math.max(0,p-1))},d=()=>{i(p=>Math.min(r.length-1,p+1))},f=F.useMemo(()=>s.reduce((p,y,_)=>n>=y?_:p,0),[n,s]);return v.jsxs("div",{className:hx.catalogLayout,children:[v.jsx(EP,{onToggleIndex:()=>e(p=>!p)}),v.jsxs("div",{className:hx.bodyContainer,children:[t&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:hx.overlay}),v.jsx(RP,{onSelect:p=>i(p),onClose:()=>e(!1),currentIndex:f,sectionStarts:s})]}),v.jsx(zP,{data:r[n],pageIndex:n,totalPages:r.length,onPrev:l,onNext:d,isFirst:n===0,isLast:n===r.length-1})]})]})}var Ye;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ye||(Ye={}));var NC=new Map([[Ye.QR_CODE,"QR_CODE"],[Ye.AZTEC,"AZTEC"],[Ye.CODABAR,"CODABAR"],[Ye.CODE_39,"CODE_39"],[Ye.CODE_93,"CODE_93"],[Ye.CODE_128,"CODE_128"],[Ye.DATA_MATRIX,"DATA_MATRIX"],[Ye.MAXICODE,"MAXICODE"],[Ye.ITF,"ITF"],[Ye.EAN_13,"EAN_13"],[Ye.EAN_8,"EAN_8"],[Ye.PDF_417,"PDF_417"],[Ye.RSS_14,"RSS_14"],[Ye.RSS_EXPANDED,"RSS_EXPANDED"],[Ye.UPC_A,"UPC_A"],[Ye.UPC_E,"UPC_E"],[Ye.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),MC;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(MC||(MC={}));function VP(t){return Object.values(Ye).includes(t)}var d1;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(d1||(d1={}));var $P=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[d1.SCAN_TYPE_CAMERA,d1.SCAN_TYPE_FILE],t}(),A4=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!NC.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,NC.get(e))},t}(),RC=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),vy;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(vy||(vy={}));var GP=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:vy.UNKWOWN_ERROR}},t}(),qP=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function co(t){return typeof t>"u"||t===null}var Bu=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),T4=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var i=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var r=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(r),l=Object.keys(e),d=0,f=l;d<f.length;d++){var p=f[d];if(s.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},t}(),uf={exports:{}},WP=uf.exports,OC;function XP(){return OC||(OC=1,function(t,e){(function(n,i){i(e)})(WP,function(n){function i(U){return U==null}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,o){U.__proto__=o}||function(U,o){for(var u in o)o.hasOwnProperty(u)&&(U[u]=o[u])};function s(U,o){r(U,o);function u(){this.constructor=U}U.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}function l(U,o){var u=Object.setPrototypeOf;u?u(U,o):U.__proto__=o}function d(U,o){o===void 0&&(o=U.constructor);var u=Error.captureStackTrace;u&&u(U,o)}var f=function(U){s(o,U);function o(u){var h=this.constructor,g=U.call(this,u)||this;return Object.defineProperty(g,"name",{value:h.name,enumerable:!1}),l(g,h.prototype),d(g),g}return o}(Error);class p extends f{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}p.kind="Exception";class y extends p{}y.kind="ArgumentException";class _ extends p{}_.kind="IllegalArgumentException";class S{constructor(o){if(this.binarizer=o,o===null)throw new _("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,u){return this.binarizer.getBlackRow(o,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,u,h,g){const x=this.binarizer.getLuminanceSource().crop(o,u,h,g);return new S(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class T extends p{static getChecksumInstance(){return new T}}T.kind="ChecksumException";class A{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(o,u,h,g,x){for(;x--;)h[g++]=o[u++]}static currentTimeMillis(){return Date.now()}}class k extends p{}k.kind="IndexOutOfBoundsException";class L extends k{constructor(o=void 0,u=void 0){super(u),this.index=o,this.message=u}}L.kind="ArrayIndexOutOfBoundsException";class ${static fill(o,u){for(let h=0,g=o.length;h<g;h++)o[h]=u}static fillWithin(o,u,h,g){$.rangeCheck(o.length,u,h);for(let x=u;x<h;x++)o[x]=g}static rangeCheck(o,u,h){if(u>h)throw new _("fromIndex("+u+") > toIndex("+h+")");if(u<0)throw new L(u);if(h>o)throw new L(h)}static asList(...o){return o}static create(o,u,h){return Array.from({length:o}).map(x=>Array.from({length:u}).fill(h))}static createInt32Array(o,u,h){return Array.from({length:o}).map(x=>Int32Array.from({length:u}).fill(h))}static equals(o,u){if(!o||!u||!o.length||!u.length||o.length!==u.length)return!1;for(let h=0,g=o.length;h<g;h++)if(o[h]!==u[h])return!1;return!0}static hashCode(o){if(o===null)return 0;let u=1;for(const h of o)u=31*u+h;return u}static fillUint8Array(o,u){for(let h=0;h!==o.length;h++)o[h]=u}static copyOf(o,u){return o.slice(0,u)}static copyOfUint8Array(o,u){if(o.length<=u){const h=new Uint8Array(u);return h.set(o),h}return o.slice(0,u)}static copyOfRange(o,u,h){const g=h-u,x=new Int32Array(g);return O.arraycopy(o,u,x,0,g),x}static binarySearch(o,u,h){h===void 0&&(h=$.numberComparator);let g=0,x=o.length-1;for(;g<=x;){const w=x+g>>1,C=h(u,o[w]);if(C>0)g=w+1;else if(C<0)x=w-1;else return w}return-g-1}static numberComparator(o,u){return o-u}}class P{static numberOfTrailingZeros(o){let u;if(o===0)return 32;let h=31;return u=o<<16,u!==0&&(h-=16,o=u),u=o<<8,u!==0&&(h-=8,o=u),u=o<<4,u!==0&&(h-=4,o=u),u=o<<2,u!==0&&(h-=2,o=u),h-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let u=1;return o>>>16||(u+=16,o<<=16),o>>>24||(u+=8,o<<=8),o>>>28||(u+=4,o<<=4),o>>>30||(u+=2,o<<=2),u-=o>>>31,u}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,u){return Math.trunc(o/u)}static parseInt(o,u=void 0){return parseInt(o,u)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class R{constructor(o,u){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,u==null?this.bits=R.makeArray(o):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const u=R.makeArray(o);O.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const u=this.size;if(o>=u)return u;const h=this.bits;let g=Math.floor(o/32),x=h[g];x&=~((1<<(o&31))-1);const w=h.length;for(;x===0;){if(++g===w)return u;x=h[g]}const C=g*32+P.numberOfTrailingZeros(x);return C>u?u:C}getNextUnset(o){const u=this.size;if(o>=u)return u;const h=this.bits;let g=Math.floor(o/32),x=~h[g];x&=~((1<<(o&31))-1);const w=h.length;for(;x===0;){if(++g===w)return u;x=~h[g]}const C=g*32+P.numberOfTrailingZeros(x);return C>u?u:C}setBulk(o,u){this.bits[Math.floor(o/32)]=u}setRange(o,u){if(u<o||o<0||u>this.size)throw new _;if(u===o)return;u--;const h=Math.floor(o/32),g=Math.floor(u/32),x=this.bits;for(let w=h;w<=g;w++){const C=w>h?0:o&31,I=(2<<(w<g?31:u&31))-(1<<C);x[w]|=I}}clear(){const o=this.bits.length,u=this.bits;for(let h=0;h<o;h++)u[h]=0}isRange(o,u,h){if(u<o||o<0||u>this.size)throw new _;if(u===o)return!0;u--;const g=Math.floor(o/32),x=Math.floor(u/32),w=this.bits;for(let C=g;C<=x;C++){const N=C>g?0:o&31,j=(2<<(C<x?31:u&31))-(1<<N)&4294967295;if((w[C]&j)!==(h?j:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,u){if(u<0||u>32)throw new _("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let h=u;h>0;h--)this.appendBit((o>>h-1&1)===1)}appendBitArray(o){const u=o.size;this.ensureCapacity(this.size+u);for(let h=0;h<u;h++)this.appendBit(o.get(h))}xor(o){if(this.size!==o.size)throw new _("Sizes don't match");const u=this.bits;for(let h=0,g=u.length;h<g;h++)u[h]^=o.bits[h]}toBytes(o,u,h,g){for(let x=0;x<g;x++){let w=0;for(let C=0;C<8;C++)this.get(o)&&(w|=1<<7-C),o++;u[h+x]=w}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),h=u+1,g=this.bits;for(let x=0;x<h;x++){let w=g[x];w=w>>1&1431655765|(w&1431655765)<<1,w=w>>2&858993459|(w&858993459)<<2,w=w>>4&252645135|(w&252645135)<<4,w=w>>8&16711935|(w&16711935)<<8,w=w>>16&65535|(w&65535)<<16,o[u-x]=w}if(this.size!==h*32){const x=h*32-this.size;let w=o[0]>>>x;for(let C=1;C<h;C++){const N=o[C];w|=N<<32-x,o[C-1]=w,w=N>>>x}o[h-1]=w}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof R))return!1;const u=o;return this.size===u.size&&$.equals(this.bits,u.bits)}hashCode(){return 31*this.size+$.hashCode(this.bits)}toString(){let o="";for(let u=0,h=this.size;u<h;u++)(u&7)===0&&(o+=" "),o+=this.get(u)?"X":".";return o}clone(){return new R(this.size,this.bits.slice())}}var D;(function(U){U[U.OTHER=0]="OTHER",U[U.PURE_BARCODE=1]="PURE_BARCODE",U[U.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",U[U.TRY_HARDER=3]="TRY_HARDER",U[U.CHARACTER_SET=4]="CHARACTER_SET",U[U.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",U[U.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",U[U.ASSUME_GS1=7]="ASSUME_GS1",U[U.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",U[U.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",U[U.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(D||(D={}));var B=D;class z extends p{static getFormatInstance(){return new z}}z.kind="FormatException";var G;(function(U){U[U.Cp437=0]="Cp437",U[U.ISO8859_1=1]="ISO8859_1",U[U.ISO8859_2=2]="ISO8859_2",U[U.ISO8859_3=3]="ISO8859_3",U[U.ISO8859_4=4]="ISO8859_4",U[U.ISO8859_5=5]="ISO8859_5",U[U.ISO8859_6=6]="ISO8859_6",U[U.ISO8859_7=7]="ISO8859_7",U[U.ISO8859_8=8]="ISO8859_8",U[U.ISO8859_9=9]="ISO8859_9",U[U.ISO8859_10=10]="ISO8859_10",U[U.ISO8859_11=11]="ISO8859_11",U[U.ISO8859_13=12]="ISO8859_13",U[U.ISO8859_14=13]="ISO8859_14",U[U.ISO8859_15=14]="ISO8859_15",U[U.ISO8859_16=15]="ISO8859_16",U[U.SJIS=16]="SJIS",U[U.Cp1250=17]="Cp1250",U[U.Cp1251=18]="Cp1251",U[U.Cp1252=19]="Cp1252",U[U.Cp1256=20]="Cp1256",U[U.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",U[U.UTF8=22]="UTF8",U[U.ASCII=23]="ASCII",U[U.Big5=24]="Big5",U[U.GB18030=25]="GB18030",U[U.EUC_KR=26]="EUC_KR"})(G||(G={}));class X{constructor(o,u,h,...g){this.valueIdentifier=o,this.name=h,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=g,X.VALUE_IDENTIFIER_TO_ECI.set(o,this),X.NAME_TO_ECI.set(h,this);const x=this.values;for(let w=0,C=x.length;w!==C;w++){const N=x[w];X.VALUES_TO_ECI.set(N,this)}for(const w of g)X.NAME_TO_ECI.set(w,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new z("incorect value");const u=X.VALUES_TO_ECI.get(o);if(u===void 0)throw new z("incorect value");return u}static getCharacterSetECIByName(o){const u=X.NAME_TO_ECI.get(o);if(u===void 0)throw new z("incorect value");return u}equals(o){if(!(o instanceof X))return!1;const u=o;return this.getName()===u.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(G.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(G.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(G.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(G.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(G.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(G.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(G.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(G.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(G.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(G.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(G.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(G.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(G.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(G.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(G.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(G.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(G.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(G.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(G.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(G.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(G.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(G.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(G.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(G.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(G.Big5,28,"Big5"),X.GB18030=new X(G.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(G.EUC_KR,30,"EUC_KR","EUC-KR");class se extends p{}se.kind="UnsupportedOperationException";class ae{static decode(o,u){const h=this.encodingName(u);return this.customDecoder?this.customDecoder(o,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(o,h):new TextDecoder(h).decode(o)}static shouldDecodeOnFallback(o){return!ae.isBrowser()&&o==="ISO-8859-1"}static encode(o,u){const h=this.encodingName(u);return this.customEncoder?this.customEncoder(o,h):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof X?o:X.getCharacterSetECIByName(o)}static decodeFallback(o,u){const h=this.encodingCharacterSet(u);if(ae.isDecodeFallbackSupported(h)){let g="";for(let x=0,w=o.length;x<w;x++){let C=o[x].toString(16);C.length<2&&(C="0"+C),g+="%"+C}return decodeURIComponent(g)}if(h.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new se(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(X.UTF8)||o.equals(X.ISO8859_1)||o.equals(X.ASCII)}static encodeFallback(o){const h=btoa(unescape(encodeURIComponent(o))).split(""),g=[];for(let x=0;x<h.length;x++)g.push(h[x].charCodeAt(0));return new Uint8Array(g)}}class ue{static castAsNonUtf8Char(o,u=null){const h=u?u.getName():this.ISO88591;return ae.decode(new Uint8Array([o]),h)}static guessEncoding(o,u){if(u!=null&&u.get(B.CHARACTER_SET)!==void 0)return u.get(B.CHARACTER_SET).toString();const h=o.length;let g=!0,x=!0,w=!0,C=0,N=0,I=0,j=0,V=0,q=0,K=0,ee=0,ie=0,de=0,ye=0;const Fe=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let He=0;He<h&&(g||x||w);He++){const je=o[He]&255;w&&(C>0?(je&128)===0?w=!1:C--:(je&128)!==0&&((je&64)===0?w=!1:(C++,(je&32)===0?N++:(C++,(je&16)===0?I++:(C++,(je&8)===0?j++:w=!1))))),g&&(je>127&&je<160?g=!1:je>159&&(je<192||je===215||je===247)&&ye++),x&&(V>0?je<64||je===127||je>252?x=!1:V--:je===128||je===160||je>239?x=!1:je>160&&je<224?(q++,ee=0,K++,K>ie&&(ie=K)):je>127?(V++,K=0,ee++,ee>de&&(de=ee)):(K=0,ee=0))}return w&&C>0&&(w=!1),x&&V>0&&(x=!1),w&&(Fe||N+I+j>0)?ue.UTF8:x&&(ue.ASSUME_SHIFT_JIS||ie>=3||de>=3)?ue.SHIFT_JIS:g&&x?ie===2&&q===2||ye*10>=h?ue.SHIFT_JIS:ue.ISO88591:g?ue.ISO88591:x?ue.SHIFT_JIS:w?ue.UTF8:ue.PLATFORM_DEFAULT_ENCODING}static format(o,...u){let h=-1;function g(w,C,N,I,j,V){if(w==="%%")return"%";if(u[++h]===void 0)return;w=I?parseInt(I.substr(1)):void 0;let q=j?parseInt(j.substr(1)):void 0,K;switch(V){case"s":K=u[h];break;case"c":K=u[h][0];break;case"f":K=parseFloat(u[h]).toFixed(w);break;case"p":K=parseFloat(u[h]).toPrecision(w);break;case"e":K=parseFloat(u[h]).toExponential(w);break;case"x":K=parseInt(u[h]).toString(q||16);break;case"d":K=parseFloat(parseInt(u[h],q||10).toPrecision(w)).toFixed(0);break}K=typeof K=="object"?JSON.stringify(K):(+K).toString(q);let ee=parseInt(N),ie=N&&N[0]+""=="0"?"0":" ";for(;K.length<ee;)K=C!==void 0?K+ie:ie+K;return K}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,g)}static getBytes(o,u){return ae.encode(o,u)}static getCharCode(o,u=0){return o.charCodeAt(u)}static getCharAt(o){return String.fromCharCode(o)}}ue.SHIFT_JIS=X.SJIS.getName(),ue.GB2312="GB2312",ue.ISO88591=X.ISO8859_1.getName(),ue.EUC_JP="EUC_JP",ue.UTF8=X.UTF8.getName(),ue.PLATFORM_DEFAULT_ENCODING=ue.UTF8,ue.ASSUME_SHIFT_JIS=!1;class Oe{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=ue.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,u,h){for(let g=u;u<u+h;g++)this.append(o[g]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+1)}substring(o,u){return this.value.substring(o,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+u.length)}}class Te{constructor(o,u,h,g){if(this.width=o,this.height=u,this.rowSize=h,this.bits=g,u==null&&(u=o),this.height=u,o<1||u<1)throw new _("Both dimensions must be greater than 0");h==null&&(h=Math.floor((o+31)/32)),this.rowSize=h,g==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const u=o.length,h=o[0].length,g=new Te(h,u);for(let x=0;x<u;x++){const w=o[x];for(let C=0;C<h;C++)w[C]&&g.set(C,x)}return g}static parseFromString(o,u,h){if(o===null)throw new _("stringRepresentation cannot be null");const g=new Array(o.length);let x=0,w=0,C=-1,N=0,I=0;for(;I<o.length;)if(o.charAt(I)===`
`||o.charAt(I)==="\r"){if(x>w){if(C===-1)C=x-w;else if(x-w!==C)throw new _("row lengths do not match");w=x,N++}I++}else if(o.substring(I,I+u.length)===u)I+=u.length,g[x]=!0,x++;else if(o.substring(I,I+h.length)===h)I+=h.length,g[x]=!1,x++;else throw new _("illegal character encountered: "+o.substring(I));if(x>w){if(C===-1)C=x-w;else if(x-w!==C)throw new _("row lengths do not match");N++}const j=new Te(C,N);for(let V=0;V<x;V++)g[V]&&j.set(Math.floor(V%C),Math.floor(V/C));return j}get(o,u){const h=u*this.rowSize+Math.floor(o/32);return(this.bits[h]>>>(o&31)&1)!==0}set(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]|=1<<(o&31)&4294967295}unset(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]&=~(1<<(o&31)&4294967295)}flip(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new _("input matrix dimensions do not match");const u=new R(Math.floor(this.width/32)+1),h=this.rowSize,g=this.bits;for(let x=0,w=this.height;x<w;x++){const C=x*h,N=o.getRow(x,u).getBitArray();for(let I=0;I<h;I++)g[C+I]^=N[I]}}clear(){const o=this.bits,u=o.length;for(let h=0;h<u;h++)o[h]=0}setRegion(o,u,h,g){if(u<0||o<0)throw new _("Left and top must be nonnegative");if(g<1||h<1)throw new _("Height and width must be at least 1");const x=o+h,w=u+g;if(w>this.height||x>this.width)throw new _("The region must fit inside the matrix");const C=this.rowSize,N=this.bits;for(let I=u;I<w;I++){const j=I*C;for(let V=o;V<x;V++)N[j+Math.floor(V/32)]|=1<<(V&31)&4294967295}}getRow(o,u){u==null||u.getSize()<this.width?u=new R(this.width):u.clear();const h=this.rowSize,g=this.bits,x=o*h;for(let w=0;w<h;w++)u.setBulk(w*32,g[x+w]);return u}setRow(o,u){O.arraycopy(u.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),u=this.getHeight();let h=new R(o),g=new R(o);for(let x=0,w=Math.floor((u+1)/2);x<w;x++)h=this.getRow(x,h),g=this.getRow(u-1-x,g),h.reverse(),g.reverse(),this.setRow(x,g),this.setRow(u-1-x,h)}getEnclosingRectangle(){const o=this.width,u=this.height,h=this.rowSize,g=this.bits;let x=o,w=u,C=-1,N=-1;for(let I=0;I<u;I++)for(let j=0;j<h;j++){const V=g[I*h+j];if(V!==0){if(I<w&&(w=I),I>N&&(N=I),j*32<x){let q=0;for(;(V<<31-q&4294967295)===0;)q++;j*32+q<x&&(x=j*32+q)}if(j*32+31>C){let q=31;for(;!(V>>>q);)q--;j*32+q>C&&(C=j*32+q)}}}return C<x||N<w?null:Int32Array.from([x,w,C-x+1,N-w+1])}getTopLeftOnBit(){const o=this.rowSize,u=this.bits;let h=0;for(;h<u.length&&u[h]===0;)h++;if(h===u.length)return null;const g=h/o;let x=h%o*32;const w=u[h];let C=0;for(;(w<<31-C&4294967295)===0;)C++;return x+=C,Int32Array.from([x,g])}getBottomRightOnBit(){const o=this.rowSize,u=this.bits;let h=u.length-1;for(;h>=0&&u[h]===0;)h--;if(h<0)return null;const g=Math.floor(h/o);let x=Math.floor(h%o)*32;const w=u[h];let C=31;for(;!(w>>>C);)C--;return x+=C,Int32Array.from([x,g])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof Te))return!1;const u=o;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&$.equals(this.bits,u.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+$.hashCode(this.bits),o}toString(o="X ",u="  ",h=`
`){return this.buildToString(o,u,h)}buildToString(o,u,h){let g=new Oe;for(let x=0,w=this.height;x<w;x++){for(let C=0,N=this.width;C<N;C++)g.append(this.get(C,x)?o:u);g.append(h)}return g.toString()}clone(){return new Te(this.width,this.height,this.rowSize,this.bits.slice())}}class ne extends p{static getNotFoundInstance(){return new ne}}ne.kind="NotFoundException";class Q extends A{constructor(o){super(o),this.luminances=Q.EMPTY,this.buckets=new Int32Array(Q.LUMINANCE_BUCKETS)}getBlackRow(o,u){const h=this.getLuminanceSource(),g=h.getWidth();u==null||u.getSize()<g?u=new R(g):u.clear(),this.initArrays(g);const x=h.getRow(o,this.luminances),w=this.buckets;for(let N=0;N<g;N++)w[(x[N]&255)>>Q.LUMINANCE_SHIFT]++;const C=Q.estimateBlackPoint(w);if(g<3)for(let N=0;N<g;N++)(x[N]&255)<C&&u.set(N);else{let N=x[0]&255,I=x[1]&255;for(let j=1;j<g-1;j++){const V=x[j+1]&255;(I*4-N-V)/2<C&&u.set(j),N=I,I=V}}return u}getBlackMatrix(){const o=this.getLuminanceSource(),u=o.getWidth(),h=o.getHeight(),g=new Te(u,h);this.initArrays(u);const x=this.buckets;for(let N=1;N<5;N++){const I=Math.floor(h*N/5),j=o.getRow(I,this.luminances),V=Math.floor(u*4/5);for(let q=Math.floor(u/5);q<V;q++){const K=j[q]&255;x[K>>Q.LUMINANCE_SHIFT]++}}const w=Q.estimateBlackPoint(x),C=o.getMatrix();for(let N=0;N<h;N++){const I=N*u;for(let j=0;j<u;j++)(C[I+j]&255)<w&&g.set(j,N)}return g}createBinarizer(o){return new Q(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const u=this.buckets;for(let h=0;h<Q.LUMINANCE_BUCKETS;h++)u[h]=0}static estimateBlackPoint(o){const u=o.length;let h=0,g=0,x=0;for(let j=0;j<u;j++)o[j]>x&&(g=j,x=o[j]),o[j]>h&&(h=o[j]);let w=0,C=0;for(let j=0;j<u;j++){const V=j-g,q=o[j]*V*V;q>C&&(w=j,C=q)}if(g>w){const j=g;g=w,w=j}if(w-g<=u/16)throw new ne;let N=w-1,I=-1;for(let j=w-1;j>g;j--){const V=j-g,q=V*V*(w-j)*(h-o[j]);q>I&&(N=j,I=q)}return N<<Q.LUMINANCE_SHIFT}}Q.LUMINANCE_BITS=5,Q.LUMINANCE_SHIFT=8-Q.LUMINANCE_BITS,Q.LUMINANCE_BUCKETS=1<<Q.LUMINANCE_BITS,Q.EMPTY=Uint8ClampedArray.from([0]);class le extends Q{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),u=o.getWidth(),h=o.getHeight();if(u>=le.MINIMUM_DIMENSION&&h>=le.MINIMUM_DIMENSION){const g=o.getMatrix();let x=u>>le.BLOCK_SIZE_POWER;(u&le.BLOCK_SIZE_MASK)!==0&&x++;let w=h>>le.BLOCK_SIZE_POWER;(h&le.BLOCK_SIZE_MASK)!==0&&w++;const C=le.calculateBlackPoints(g,x,w,u,h),N=new Te(u,h);le.calculateThresholdForBlock(g,x,w,u,h,C,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new le(o)}static calculateThresholdForBlock(o,u,h,g,x,w,C){const N=x-le.BLOCK_SIZE,I=g-le.BLOCK_SIZE;for(let j=0;j<h;j++){let V=j<<le.BLOCK_SIZE_POWER;V>N&&(V=N);const q=le.cap(j,2,h-3);for(let K=0;K<u;K++){let ee=K<<le.BLOCK_SIZE_POWER;ee>I&&(ee=I);const ie=le.cap(K,2,u-3);let de=0;for(let Fe=-2;Fe<=2;Fe++){const He=w[q+Fe];de+=He[ie-2]+He[ie-1]+He[ie]+He[ie+1]+He[ie+2]}const ye=de/25;le.thresholdBlock(o,ee,V,ye,g,C)}}}static cap(o,u,h){return o<u?u:o>h?h:o}static thresholdBlock(o,u,h,g,x,w){for(let C=0,N=h*x+u;C<le.BLOCK_SIZE;C++,N+=x)for(let I=0;I<le.BLOCK_SIZE;I++)(o[N+I]&255)<=g&&w.set(u+I,h+C)}static calculateBlackPoints(o,u,h,g,x){const w=x-le.BLOCK_SIZE,C=g-le.BLOCK_SIZE,N=new Array(h);for(let I=0;I<h;I++){N[I]=new Int32Array(u);let j=I<<le.BLOCK_SIZE_POWER;j>w&&(j=w);for(let V=0;V<u;V++){let q=V<<le.BLOCK_SIZE_POWER;q>C&&(q=C);let K=0,ee=255,ie=0;for(let ye=0,Fe=j*g+q;ye<le.BLOCK_SIZE;ye++,Fe+=g){for(let He=0;He<le.BLOCK_SIZE;He++){const je=o[Fe+He]&255;K+=je,je<ee&&(ee=je),je>ie&&(ie=je)}if(ie-ee>le.MIN_DYNAMIC_RANGE)for(ye++,Fe+=g;ye<le.BLOCK_SIZE;ye++,Fe+=g)for(let He=0;He<le.BLOCK_SIZE;He++)K+=o[Fe+He]&255}let de=K>>le.BLOCK_SIZE_POWER*2;if(ie-ee<=le.MIN_DYNAMIC_RANGE&&(de=ee/2,I>0&&V>0)){const ye=(N[I-1][V]+2*N[I][V-1]+N[I-1][V-1])/4;ee<ye&&(de=ye)}N[I][V]=de}}return N}}le.BLOCK_SIZE_POWER=3,le.BLOCK_SIZE=1<<le.BLOCK_SIZE_POWER,le.BLOCK_SIZE_MASK=le.BLOCK_SIZE-1,le.MINIMUM_DIMENSION=le.BLOCK_SIZE*5,le.MIN_DYNAMIC_RANGE=24;class fe{constructor(o,u){this.width=o,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,u,h,g){throw new se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new se("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let u=new Oe;for(let h=0;h<this.height;h++){const g=this.getRow(h,o);for(let x=0;x<this.width;x++){const w=g[x]&255;let C;w<64?C="#":w<128?C="+":w<192?C=".":C=" ",u.append(C)}u.append(`
`)}return u.toString()}}class Be extends fe{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,u){const h=this.delegate.getRow(o,u),g=this.getWidth();for(let x=0;x<g;x++)h[x]=255-(h[x]&255);return h}getMatrix(){const o=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(u);for(let g=0;g<u;g++)h[g]=255-(o[g]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(o,u,h,g){return new Be(this.delegate.crop(o,u,h,g))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Be(this.delegate.rotateCounterClockwise45())}}class Z extends fe{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=Z.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const u=o.getContext("2d").getImageData(0,0,o.width,o.height);return Z.toGrayscaleBuffer(u.data,o.width,o.height)}static toGrayscaleBuffer(o,u,h){const g=new Uint8ClampedArray(u*h);for(let x=0,w=0,C=o.length;x<C;x+=4,w++){let N;if(o[x+3]===0)N=255;else{const j=o[x],V=o[x+1],q=o[x+2];N=306*j+601*V+117*q+512>>10}g[w]=N}return g}getRow(o,u){if(o<0||o>=this.getHeight())throw new _("Requested row is outside the image: "+o);const h=this.getWidth(),g=o*h;return u===null?u=this.buffer.slice(g,g+h):(u.length<h&&(u=new Uint8ClampedArray(h)),u.set(this.buffer.slice(g,g+h))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,u,h,g){return super.crop(o,u,h,g),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const u=this.getTempCanvasElement(),h=u.getContext("2d"),g=o*Z.DEGREE_TO_RADIANS,x=this.canvas.width,w=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(g))*x+Math.abs(Math.sin(g))*w),N=Math.ceil(Math.abs(Math.sin(g))*x+Math.abs(Math.cos(g))*w);return u.width=C,u.height=N,h.translate(C/2,N/2),h.rotate(g),h.drawImage(this.canvas,x/-2,w/-2),this.buffer=Z.makeBufferFromCanvasImageData(u),this}invert(){return new Be(this)}}Z.DEGREE_TO_RADIANS=Math.PI/180;class be{constructor(o,u,h){this.deviceId=o,this.label=u,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Re=(globalThis||lp||self||window||void 0)&&(globalThis||lp||self||window||void 0).__awaiter||function(U,o,u,h){function g(x){return x instanceof u?x:new u(function(w){w(x)})}return new(u||(u=Promise))(function(x,w){function C(j){try{I(h.next(j))}catch(V){w(V)}}function N(j){try{I(h.throw(j))}catch(V){w(V)}}function I(j){j.done?x(j.value):g(j.value).then(C,N)}I((h=h.apply(U,o||[])).next())})};class Le{constructor(o,u=500,h){this.reader=o,this.timeBetweenScansMillis=u,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const h of o){const g=h.kind==="video"?"videoinput":h.kind;if(g!=="videoinput")continue;const x=h.deviceId||h.id,w=h.label||`Video device ${u.length+1}`,C=h.groupId,N={deviceId:x,label:w,kind:g,groupId:C};u.push(N)}return u})}getVideoInputDevices(){return Re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new be(u.deviceId,u.label))})}findDeviceById(o){return Re(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(h=>h.deviceId===o):null})}decodeFromInputVideoDevice(o,u){return Re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,u)})}decodeOnceFromVideoDevice(o,u){return Re(this,void 0,void 0,function*(){this.reset();let h;o?h={deviceId:{exact:o}}:h={facingMode:"environment"};const g={video:h};return yield this.decodeOnceFromConstraints(g,u)})}decodeOnceFromConstraints(o,u){return Re(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(h,u)})}decodeOnceFromStream(o,u){return Re(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(o,u);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(o,u,h){return Re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,u,h)})}decodeFromVideoDevice(o,u,h){return Re(this,void 0,void 0,function*(){let g;o?g={deviceId:{exact:o}}:g={facingMode:"environment"};const x={video:g};return yield this.decodeFromConstraints(x,u,h)})}decodeFromConstraints(o,u,h){return Re(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(g,u,h)})}decodeFromStream(o,u,h){return Re(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(o,u);return yield this.decodeContinuously(g,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,u){return Re(this,void 0,void 0,function*(){const h=this.prepareVideoElement(u);return this.addVideoSource(h,o),this.videoElement=h,this.stream=o,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(o){return new Promise((u,h)=>this.playVideoOnLoad(o,()=>u()))}playVideoOnLoad(o,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",u),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Re(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,u){const h=document.getElementById(o);if(!h)throw new y(`element with id '${o}' not found`);if(h.nodeName.toLowerCase()!==u.toLowerCase())throw new y(`element with id '${o}' must be an ${u} element`);return h}decodeFromImage(o,u){if(!o&&!u)throw new y("either imageElement with a src set or an url must be provided");return u&&!o?this.decodeFromImageUrl(u):this.decodeFromImageElement(o)}decodeFromVideo(o,u){if(!o&&!u)throw new y("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,u,h){if(o===void 0&&u===void 0)throw new y("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrlContinuously(u,h):this.decodeFromVideoElementContinuously(o,h)}decodeFromImageElement(o){if(!o)throw new y("An image element must be provided.");this.reset();const u=this.prepareImageElement(o);this.imageElement=u;let h;return this.isImageLoaded(u)?h=this.decodeOnce(u,!1,!0):h=this._decodeOnLoadImage(u),h}decodeFromVideoElement(o){const u=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(o,u){const h=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(h,u)}_decodeFromVideoElementSetup(o){if(!o)throw new y("A video element must be provided.");this.reset();const u=this.prepareVideoElement(o);return this.videoElement=u,u}decodeFromImageUrl(o){if(!o)throw new y("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const h=this._decodeOnLoadImage(u);return u.src=o,h}decodeFromVideoUrl(o){if(!o)throw new y("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElement(u);return u.src=o,h}decodeFromVideoUrlContinuously(o,u){if(!o)throw new y("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),g=this.decodeFromVideoElementContinuously(h,u);return h.src=o,g}_decodeOnLoadImage(o){return new Promise((u,h)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(u,h),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,u){return Re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,u)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let u;return typeof o>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(u=o),u}prepareVideoElement(o){let u;return!o&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(u=o),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(o,u=!0,h=!0){this._stopAsyncDecode=!1;const g=(x,w)=>{if(this._stopAsyncDecode){w(new ne("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const C=this.decode(o);x(C)}catch(C){const N=u&&C instanceof ne,j=(C instanceof T||C instanceof z)&&h;if(N||j)return setTimeout(g,this._timeBetweenDecodingAttempts,x,w);w(C)}};return new Promise((x,w)=>g(x,w))}decodeContinuously(o,u){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const g=this.decode(o);u(g,null),setTimeout(h,this.timeBetweenScansMillis)}catch(g){u(null,g);const x=g instanceof T||g instanceof z,w=g instanceof ne;(x||w)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(o){const u=this.createBinaryBitmap(o);return this.decodeBitmap(u)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,u,h){u||(u={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(o,u,h=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const u=this.getCaptureCanvas(o),h=new Z(u),g=new le(h);return new S(g)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const u=this.createCaptureCanvas(o);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let h,g;return typeof o<"u"&&(o instanceof HTMLVideoElement?(h=o.videoWidth,g=o.videoHeight):o instanceof HTMLImageElement&&(h=o.naturalWidth||o.width,g=o.naturalHeight||o.height)),u.style.width=h+"px",u.style.height=g+"px",u.width=h,u.height=g,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,u){try{o.srcObject=u}catch{o.src=URL.createObjectURL(u)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class Ie{constructor(o,u,h=u==null?0:8*u.length,g,x,w=O.currentTimeMillis()){this.text=o,this.rawBytes=u,this.numBits=h,this.resultPoints=g,this.format=x,this.timestamp=w,this.text=o,this.rawBytes=u,h==null?this.numBits=u==null?0:8*u.length:this.numBits=h,this.resultPoints=g,this.format=x,this.resultMetadata=null,w==null?this.timestamp=O.currentTimeMillis():this.timestamp=w}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,u)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const u=this.resultPoints;if(u===null)this.resultPoints=o;else if(o!==null&&o.length>0){const h=new Array(u.length+o.length);O.arraycopy(u,0,h,0,u.length),O.arraycopy(o,0,h,u.length,o.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var et;(function(U){U[U.AZTEC=0]="AZTEC",U[U.CODABAR=1]="CODABAR",U[U.CODE_39=2]="CODE_39",U[U.CODE_93=3]="CODE_93",U[U.CODE_128=4]="CODE_128",U[U.DATA_MATRIX=5]="DATA_MATRIX",U[U.EAN_8=6]="EAN_8",U[U.EAN_13=7]="EAN_13",U[U.ITF=8]="ITF",U[U.MAXICODE=9]="MAXICODE",U[U.PDF_417=10]="PDF_417",U[U.QR_CODE=11]="QR_CODE",U[U.RSS_14=12]="RSS_14",U[U.RSS_EXPANDED=13]="RSS_EXPANDED",U[U.UPC_A=14]="UPC_A",U[U.UPC_E=15]="UPC_E",U[U.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(et||(et={}));var Se=et,Ln;(function(U){U[U.OTHER=0]="OTHER",U[U.ORIENTATION=1]="ORIENTATION",U[U.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",U[U.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",U[U.ISSUE_NUMBER=4]="ISSUE_NUMBER",U[U.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",U[U.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",U[U.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",U[U.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",U[U.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",U[U.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ln||(Ln={}));var xt=Ln;class bi{constructor(o,u,h,g,x=-1,w=-1){this.rawBytes=o,this.text=u,this.byteSegments=h,this.ecLevel=g,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=w,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class un{exp(o){return this.expTable[o]}log(o){if(o===0)throw new _;return this.logTable[o]}static addOrSubtract(o,u){return o^u}}class ln{constructor(o,u){if(u.length===0)throw new _;this.field=o;const h=u.length;if(h>1&&u[0]===0){let g=1;for(;g<h&&u[g]===0;)g++;g===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-g),O.arraycopy(u,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const u=this.coefficients;let h;if(o===1){h=0;for(let w=0,C=u.length;w!==C;w++){const N=u[w];h=un.addOrSubtract(h,N)}return h}h=u[0];const g=u.length,x=this.field;for(let w=1;w<g;w++)h=un.addOrSubtract(x.multiply(o,h),u[w]);return h}addOrSubtract(o){if(!this.field.equals(o.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,h=o.coefficients;if(u.length>h.length){const w=u;u=h,h=w}let g=new Int32Array(h.length);const x=h.length-u.length;O.arraycopy(h,0,g,0,x);for(let w=x;w<h.length;w++)g[w]=un.addOrSubtract(u[w-x],h[w]);return new ln(this.field,g)}multiply(o){if(!this.field.equals(o.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const u=this.coefficients,h=u.length,g=o.coefficients,x=g.length,w=new Int32Array(h+x-1),C=this.field;for(let N=0;N<h;N++){const I=u[N];for(let j=0;j<x;j++)w[N+j]=un.addOrSubtract(w[N+j],C.multiply(I,g[j]))}return new ln(C,w)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const u=this.coefficients.length,h=this.field,g=new Int32Array(u),x=this.coefficients;for(let w=0;w<u;w++)g[w]=h.multiply(x[w],o);return new ln(h,g)}multiplyByMonomial(o,u){if(o<0)throw new _;if(u===0)return this.field.getZero();const h=this.coefficients,g=h.length,x=new Int32Array(g+o),w=this.field;for(let C=0;C<g;C++)x[C]=w.multiply(h[C],u);return new ln(w,x)}divide(o){if(!this.field.equals(o.field))throw new _("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new _("Divide by 0");const u=this.field;let h=u.getZero(),g=this;const x=o.getCoefficient(o.getDegree()),w=u.inverse(x);for(;g.getDegree()>=o.getDegree()&&!g.isZero();){const C=g.getDegree()-o.getDegree(),N=u.multiply(g.getCoefficient(g.getDegree()),w),I=o.multiplyByMonomial(C,N),j=u.buildMonomial(C,N);h=h.addOrSubtract(j),g=g.addOrSubtract(I)}return[h,g]}toString(){let o="";for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);if(h!==0){if(h<0?(o+=" - ",h=-h):o.length>0&&(o+=" + "),u===0||h!==1){const g=this.field.log(h);g===0?o+="1":g===1?o+="a":(o+="a^",o+=g)}u!==0&&(u===1?o+="x":(o+="x^",o+=u))}}return o}}class ki extends p{}ki.kind="ArithmeticException";class kt extends un{constructor(o,u,h){super(),this.primitive=o,this.size=u,this.generatorBase=h;const g=new Int32Array(u);let x=1;for(let C=0;C<u;C++)g[C]=x,x*=2,x>=u&&(x^=o,x&=u-1);this.expTable=g;const w=new Int32Array(u);for(let C=0;C<u-1;C++)w[g[C]]=C;this.logTable=w,this.zero=new ln(this,Int32Array.from([0])),this.one=new ln(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new _;if(u===0)return this.zero;const h=new Int32Array(o+1);return h[0]=u,new ln(this,h)}inverse(o){if(o===0)throw new ki;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}kt.AZTEC_DATA_12=new kt(4201,4096,1),kt.AZTEC_DATA_10=new kt(1033,1024,1),kt.AZTEC_DATA_6=new kt(67,64,1),kt.AZTEC_PARAM=new kt(19,16,1),kt.QR_CODE_FIELD_256=new kt(285,256,0),kt.DATA_MATRIX_FIELD_256=new kt(301,256,1),kt.AZTEC_DATA_8=kt.DATA_MATRIX_FIELD_256,kt.MAXICODE_FIELD_64=kt.AZTEC_DATA_6;class ii extends p{}ii.kind="ReedSolomonException";class $i extends p{}$i.kind="IllegalStateException";class cs{constructor(o){this.field=o}decode(o,u){const h=this.field,g=new ln(h,o),x=new Int32Array(u);let w=!0;for(let K=0;K<u;K++){const ee=g.evaluateAt(h.exp(K+h.getGeneratorBase()));x[x.length-1-K]=ee,ee!==0&&(w=!1)}if(w)return;const C=new ln(h,x),N=this.runEuclideanAlgorithm(h.buildMonomial(u,1),C,u),I=N[0],j=N[1],V=this.findErrorLocations(I),q=this.findErrorMagnitudes(j,V);for(let K=0;K<V.length;K++){const ee=o.length-1-h.log(V[K]);if(ee<0)throw new ii("Bad error location");o[ee]=kt.addOrSubtract(o[ee],q[K])}}runEuclideanAlgorithm(o,u,h){if(o.getDegree()<u.getDegree()){const K=o;o=u,u=K}const g=this.field;let x=o,w=u,C=g.getZero(),N=g.getOne();for(;w.getDegree()>=(h/2|0);){let K=x,ee=C;if(x=w,C=N,x.isZero())throw new ii("r_{i-1} was zero");w=K;let ie=g.getZero();const de=x.getCoefficient(x.getDegree()),ye=g.inverse(de);for(;w.getDegree()>=x.getDegree()&&!w.isZero();){const Fe=w.getDegree()-x.getDegree(),He=g.multiply(w.getCoefficient(w.getDegree()),ye);ie=ie.addOrSubtract(g.buildMonomial(Fe,He)),w=w.addOrSubtract(x.multiplyByMonomial(Fe,He))}if(N=ie.multiply(C).addOrSubtract(ee),w.getDegree()>=x.getDegree())throw new $i("Division algorithm failed to reduce polynomial?")}const I=N.getCoefficient(0);if(I===0)throw new ii("sigmaTilde(0) was zero");const j=g.inverse(I),V=N.multiplyScalar(j),q=w.multiplyScalar(j);return[V,q]}findErrorLocations(o){const u=o.getDegree();if(u===1)return Int32Array.from([o.getCoefficient(1)]);const h=new Int32Array(u);let g=0;const x=this.field;for(let w=1;w<x.getSize()&&g<u;w++)o.evaluateAt(w)===0&&(h[g]=x.inverse(w),g++);if(g!==u)throw new ii("Error locator degree does not match number of roots");return h}findErrorMagnitudes(o,u){const h=u.length,g=new Int32Array(h),x=this.field;for(let w=0;w<h;w++){const C=x.inverse(u[w]);let N=1;for(let I=0;I<h;I++)if(w!==I){const j=x.multiply(u[I],C),V=(j&1)===0?j|1:j&-2;N=x.multiply(N,V)}g[w]=x.multiply(o.evaluateAt(C),x.inverse(N)),x.getGeneratorBase()!==0&&(g[w]=x.multiply(g[w],C))}return g}}var $t;(function(U){U[U.UPPER=0]="UPPER",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.DIGIT=3]="DIGIT",U[U.PUNCT=4]="PUNCT",U[U.BINARY=5]="BINARY"})($t||($t={}));class en{decode(o){this.ddata=o;let u=o.getBits(),h=this.extractBits(u),g=this.correctBits(h),x=en.convertBoolArrayToByteArray(g),w=en.getEncodedData(g),C=new bi(x,w,null,null);return C.setNumBits(g.length),C}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let u=o.length,h=$t.UPPER,g=$t.UPPER,x="",w=0;for(;w<u;)if(g===$t.BINARY){if(u-w<5)break;let C=en.readCode(o,w,5);if(w+=5,C===0){if(u-w<11)break;C=en.readCode(o,w,11)+31,w+=11}for(let N=0;N<C;N++){if(u-w<8){w=u;break}const I=en.readCode(o,w,8);x+=ue.castAsNonUtf8Char(I),w+=8}g=h}else{let C=g===$t.DIGIT?4:5;if(u-w<C)break;let N=en.readCode(o,w,C);w+=C;let I=en.getCharacter(g,N);I.startsWith("CTRL_")?(h=g,g=en.getTable(I.charAt(5)),I.charAt(6)==="L"&&(h=g)):(x+=I,g=h)}return x}static getTable(o){switch(o){case"L":return $t.LOWER;case"P":return $t.PUNCT;case"M":return $t.MIXED;case"D":return $t.DIGIT;case"B":return $t.BINARY;case"U":default:return $t.UPPER}}static getCharacter(o,u){switch(o){case $t.UPPER:return en.UPPER_TABLE[u];case $t.LOWER:return en.LOWER_TABLE[u];case $t.MIXED:return en.MIXED_TABLE[u];case $t.PUNCT:return en.PUNCT_TABLE[u];case $t.DIGIT:return en.DIGIT_TABLE[u];default:throw new $i("Bad table")}}correctBits(o){let u,h;this.ddata.getNbLayers()<=2?(h=6,u=kt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,u=kt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,u=kt.AZTEC_DATA_10):(h=12,u=kt.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),x=o.length/h;if(x<g)throw new z;let w=o.length%h,C=new Int32Array(x);for(let q=0;q<x;q++,w+=h)C[q]=en.readCode(o,w,h);try{new cs(u).decode(C,x-g)}catch(q){throw new z(q)}let N=(1<<h)-1,I=0;for(let q=0;q<g;q++){let K=C[q];if(K===0||K===N)throw new z;(K===1||K===N-1)&&I++}let j=new Array(g*h-I),V=0;for(let q=0;q<g;q++){let K=C[q];if(K===1||K===N-1)j.fill(K>1,V,V+h-1),V+=h-1;else for(let ee=h-1;ee>=0;--ee)j[V++]=(K&1<<ee)!==0}return j}extractBits(o){let u=this.ddata.isCompact(),h=this.ddata.getNbLayers(),g=(u?11:14)+h*4,x=new Int32Array(g),w=new Array(this.totalBitsInLayer(h,u));if(u)for(let C=0;C<x.length;C++)x[C]=C;else{let C=g+1+2*P.truncDivision(P.truncDivision(g,2)-1,15),N=g/2,I=P.truncDivision(C,2);for(let j=0;j<N;j++){let V=j+P.truncDivision(j,15);x[N-j-1]=I-V-1,x[N+j]=I+V+1}}for(let C=0,N=0;C<h;C++){let I=(h-C)*4+(u?9:12),j=C*2,V=g-1-j;for(let q=0;q<I;q++){let K=q*2;for(let ee=0;ee<2;ee++)w[N+K+ee]=o.get(x[j+ee],x[j+q]),w[N+2*I+K+ee]=o.get(x[j+q],x[V-ee]),w[N+4*I+K+ee]=o.get(x[V-ee],x[V-q]),w[N+6*I+K+ee]=o.get(x[V-q],x[j+ee])}N+=I*8}return w}static readCode(o,u,h){let g=0;for(let x=u;x<u+h;x++)g<<=1,o[x]&&(g|=1);return g}static readByte(o,u){let h=o.length-u;return h>=8?en.readCode(o,u,8):en.readCode(o,u,h)<<8-h}static convertBoolArrayToByteArray(o){let u=new Uint8Array((o.length+7)/8);for(let h=0;h<u.length;h++)u[h]=en.readByte(o,8*h);return u}totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}en.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],en.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],en.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],en.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],en.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Tt{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,u,h,g){const x=o-h,w=u-g;return Math.sqrt(x*x+w*w)}static sum(o){let u=0;for(let h=0,g=o.length;h!==g;h++){const x=o[h];u+=x}return u}}class Tr{static floatToIntBits(o){return o}}Tr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class qe{constructor(o,u){this.x=o,this.y=u}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof qe){const u=o;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*Tr.floatToIntBits(this.x)+Tr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const u=this.distance(o[0],o[1]),h=this.distance(o[1],o[2]),g=this.distance(o[0],o[2]);let x,w,C;if(h>=u&&h>=g?(w=o[0],x=o[1],C=o[2]):g>=h&&g>=u?(w=o[1],x=o[0],C=o[2]):(w=o[2],x=o[0],C=o[1]),this.crossProductZ(x,w,C)<0){const N=x;x=C,C=N}o[0]=x,o[1]=w,o[2]=C}static distance(o,u){return Tt.distance(o.x,o.y,u.x,u.y)}static crossProductZ(o,u,h){const g=u.x,x=u.y;return(h.x-g)*(o.y-x)-(h.y-x)*(o.x-g)}}class Ji{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class Hr extends Ji{constructor(o,u,h,g,x){super(o,u),this.compact=h,this.nbDatablocks=g,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class $e{constructor(o,u,h,g){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),u==null&&(u=$e.INIT_SIZE),h==null&&(h=o.getWidth()/2|0),g==null&&(g=o.getHeight()/2|0);const x=u/2|0;if(this.leftInit=h-x,this.rightInit=h+x,this.upInit=g-x,this.downInit=g+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ne}detect(){let o=this.leftInit,u=this.rightInit,h=this.upInit,g=this.downInit,x=!1,w=!0,C=!1,N=!1,I=!1,j=!1,V=!1;const q=this.width,K=this.height;for(;w;){w=!1;let ee=!0;for(;(ee||!N)&&u<q;)ee=this.containsBlackPoint(h,g,u,!1),ee?(u++,w=!0,N=!0):N||u++;if(u>=q){x=!0;break}let ie=!0;for(;(ie||!I)&&g<K;)ie=this.containsBlackPoint(o,u,g,!0),ie?(g++,w=!0,I=!0):I||g++;if(g>=K){x=!0;break}let de=!0;for(;(de||!j)&&o>=0;)de=this.containsBlackPoint(h,g,o,!1),de?(o--,w=!0,j=!0):j||o--;if(o<0){x=!0;break}let ye=!0;for(;(ye||!V)&&h>=0;)ye=this.containsBlackPoint(o,u,h,!0),ye?(h--,w=!0,V=!0):V||h--;if(h<0){x=!0;break}w&&(C=!0)}if(!x&&C){const ee=u-o;let ie=null;for(let He=1;ie===null&&He<ee;He++)ie=this.getBlackPointOnSegment(o,g-He,o+He,g);if(ie==null)throw new ne;let de=null;for(let He=1;de===null&&He<ee;He++)de=this.getBlackPointOnSegment(o,h+He,o+He,h);if(de==null)throw new ne;let ye=null;for(let He=1;ye===null&&He<ee;He++)ye=this.getBlackPointOnSegment(u,h+He,u-He,h);if(ye==null)throw new ne;let Fe=null;for(let He=1;Fe===null&&He<ee;He++)Fe=this.getBlackPointOnSegment(u,g-He,u-He,g);if(Fe==null)throw new ne;return this.centerEdges(Fe,ie,ye,de)}else throw new ne}getBlackPointOnSegment(o,u,h,g){const x=Tt.round(Tt.distance(o,u,h,g)),w=(h-o)/x,C=(g-u)/x,N=this.image;for(let I=0;I<x;I++){const j=Tt.round(o+I*w),V=Tt.round(u+I*C);if(N.get(j,V))return new qe(j,V)}return null}centerEdges(o,u,h,g){const x=o.getX(),w=o.getY(),C=u.getX(),N=u.getY(),I=h.getX(),j=h.getY(),V=g.getX(),q=g.getY(),K=$e.CORR;return x<this.width/2?[new qe(V-K,q+K),new qe(C+K,N+K),new qe(I-K,j-K),new qe(x+K,w-K)]:[new qe(V+K,q+K),new qe(C+K,N-K),new qe(I-K,j+K),new qe(x-K,w-K)]}containsBlackPoint(o,u,h,g){const x=this.image;if(g){for(let w=o;w<=u;w++)if(x.get(w,h))return!0}else for(let w=o;w<=u;w++)if(x.get(h,w))return!0;return!1}}$e.INIT_SIZE=10,$e.CORR=1;class at{static checkAndNudgePoints(o,u){const h=o.getWidth(),g=o.getHeight();let x=!0;for(let w=0;w<u.length&&x;w+=2){const C=Math.floor(u[w]),N=Math.floor(u[w+1]);if(C<-1||C>h||N<-1||N>g)throw new ne;x=!1,C===-1?(u[w]=0,x=!0):C===h&&(u[w]=h-1,x=!0),N===-1?(u[w+1]=0,x=!0):N===g&&(u[w+1]=g-1,x=!0)}x=!0;for(let w=u.length-2;w>=0&&x;w-=2){const C=Math.floor(u[w]),N=Math.floor(u[w+1]);if(C<-1||C>h||N<-1||N>g)throw new ne;x=!1,C===-1?(u[w]=0,x=!0):C===h&&(u[w]=h-1,x=!0),N===-1?(u[w+1]=0,x=!0):N===g&&(u[w+1]=g-1,x=!0)}}}class bt{constructor(o,u,h,g,x,w,C,N,I){this.a11=o,this.a21=u,this.a31=h,this.a12=g,this.a22=x,this.a32=w,this.a13=C,this.a23=N,this.a33=I}static quadrilateralToQuadrilateral(o,u,h,g,x,w,C,N,I,j,V,q,K,ee,ie,de){const ye=bt.quadrilateralToSquare(o,u,h,g,x,w,C,N);return bt.squareToQuadrilateral(I,j,V,q,K,ee,ie,de).times(ye)}transformPoints(o){const u=o.length,h=this.a11,g=this.a12,x=this.a13,w=this.a21,C=this.a22,N=this.a23,I=this.a31,j=this.a32,V=this.a33;for(let q=0;q<u;q+=2){const K=o[q],ee=o[q+1],ie=x*K+N*ee+V;o[q]=(h*K+w*ee+I)/ie,o[q+1]=(g*K+C*ee+j)/ie}}transformPointsWithValues(o,u){const h=this.a11,g=this.a12,x=this.a13,w=this.a21,C=this.a22,N=this.a23,I=this.a31,j=this.a32,V=this.a33,q=o.length;for(let K=0;K<q;K++){const ee=o[K],ie=u[K],de=x*ee+N*ie+V;o[K]=(h*ee+w*ie+I)/de,u[K]=(g*ee+C*ie+j)/de}}static squareToQuadrilateral(o,u,h,g,x,w,C,N){const I=o-h+x-C,j=u-g+w-N;if(I===0&&j===0)return new bt(h-o,x-h,o,g-u,w-g,u,0,0,1);{const V=h-x,q=C-x,K=g-w,ee=N-w,ie=V*ee-q*K,de=(I*ee-q*j)/ie,ye=(V*j-I*K)/ie;return new bt(h-o+de*h,C-o+ye*C,o,g-u+de*g,N-u+ye*N,u,de,ye,1)}}static quadrilateralToSquare(o,u,h,g,x,w,C,N){return bt.squareToQuadrilateral(o,u,h,g,x,w,C,N).buildAdjoint()}buildAdjoint(){return new bt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new bt(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class _t extends at{sampleGrid(o,u,h,g,x,w,C,N,I,j,V,q,K,ee,ie,de,ye,Fe,He){const je=bt.quadrilateralToQuadrilateral(g,x,w,C,N,I,j,V,q,K,ee,ie,de,ye,Fe,He);return this.sampleGridWithTransform(o,u,h,je)}sampleGridWithTransform(o,u,h,g){if(u<=0||h<=0)throw new ne;const x=new Te(u,h),w=new Float32Array(2*u);for(let C=0;C<h;C++){const N=w.length,I=C+.5;for(let j=0;j<N;j+=2)w[j]=j/2+.5,w[j+1]=I;g.transformPoints(w),at.checkAndNudgePoints(o,w);try{for(let j=0;j<N;j+=2)o.get(Math.floor(w[j]),Math.floor(w[j+1]))&&x.set(j/2,C)}catch{throw new ne}}return x}}class tn{static setGridSampler(o){tn.gridSampler=o}static getInstance(){return tn.gridSampler}}tn.gridSampler=new _t;class Pt{constructor(o,u){this.x=o,this.y=u}toResultPoint(){return new qe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ur{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let u=this.getMatrixCenter(),h=this.getBullsEyeCorners(u);if(o){let w=h[0];h[0]=h[2],h[2]=w}this.extractParameters(h);let g=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),x=this.getMatrixCornerPoints(h);return new Hr(g,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new ne;let u=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(o[0],o[1],u),this.sampleLine(o[1],o[2],u),this.sampleLine(o[2],o[3],u),this.sampleLine(o[3],o[0],u)]);this.shift=this.getRotation(h,u);let g=0;for(let w=0;w<4;w++){let C=h[(this.shift+w)%4];this.compact?(g<<=7,g+=C>>1&127):(g<<=10,g+=(C>>2&992)+(C>>1&31))}let x=this.getCorrectedParameterData(g,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(o,u){let h=0;o.forEach((g,x,w)=>{let C=(g>>u-2<<1)+(g&1);h=(h<<3)+C}),h=((h&1)<<11)+(h>>1);for(let g=0;g<4;g++)if(P.bitCount(h^this.EXPECTED_CORNER_BITS[g])<=2)return g;throw new ne}getCorrectedParameterData(o,u){let h,g;u?(h=7,g=2):(h=10,g=4);let x=h-g,w=new Int32Array(h);for(let N=h-1;N>=0;--N)w[N]=o&15,o>>=4;try{new cs(kt.AZTEC_PARAM).decode(w,x)}catch{throw new ne}let C=0;for(let N=0;N<g;N++)C=(C<<4)+w[N];return C}getBullsEyeCorners(o){let u=o,h=o,g=o,x=o,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let V=this.getFirstDifferent(u,w,1,-1),q=this.getFirstDifferent(h,w,1,1),K=this.getFirstDifferent(g,w,-1,1),ee=this.getFirstDifferent(x,w,-1,-1);if(this.nbCenterLayers>2){let ie=this.distancePoint(ee,V)*this.nbCenterLayers/(this.distancePoint(x,u)*(this.nbCenterLayers+2));if(ie<.75||ie>1.25||!this.isWhiteOrBlackRectangle(V,q,K,ee))break}u=V,h=q,g=K,x=ee,w=!w}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ne;this.compact=this.nbCenterLayers===5;let C=new qe(u.getX()+.5,u.getY()-.5),N=new qe(h.getX()+.5,h.getY()+.5),I=new qe(g.getX()-.5,g.getY()+.5),j=new qe(x.getX()-.5,x.getY()-.5);return this.expandSquare([C,N,I,j],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,u,h,g;try{let C=new $e(this.image).detect();o=C[0],u=C[1],h=C[2],g=C[3]}catch{let N=this.image.getWidth()/2,I=this.image.getHeight()/2;o=this.getFirstDifferent(new Pt(N+7,I-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new Pt(N+7,I+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Pt(N-7,I+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Pt(N-7,I-7),!1,-1,-1).toResultPoint()}let x=Tt.round((o.getX()+g.getX()+u.getX()+h.getX())/4),w=Tt.round((o.getY()+g.getY()+u.getY()+h.getY())/4);try{let C=new $e(this.image,15,x,w).detect();o=C[0],u=C[1],h=C[2],g=C[3]}catch{o=this.getFirstDifferent(new Pt(x+7,w-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new Pt(x+7,w+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Pt(x-7,w+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Pt(x-7,w-7),!1,-1,-1).toResultPoint()}return x=Tt.round((o.getX()+g.getX()+u.getX()+h.getX())/4),w=Tt.round((o.getY()+g.getY()+u.getY()+h.getY())/4),new Pt(x,w)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,u,h,g,x){let w=tn.getInstance(),C=this.getDimension(),N=C/2-this.nbCenterLayers,I=C/2+this.nbCenterLayers;return w.sampleGrid(o,C,C,N,N,I,N,I,I,N,I,u.getX(),u.getY(),h.getX(),h.getY(),g.getX(),g.getY(),x.getX(),x.getY())}sampleLine(o,u,h){let g=0,x=this.distanceResultPoint(o,u),w=x/h,C=o.getX(),N=o.getY(),I=w*(u.getX()-o.getX())/x,j=w*(u.getY()-o.getY())/x;for(let V=0;V<h;V++)this.image.get(Tt.round(C+V*I),Tt.round(N+V*j))&&(g|=1<<h-V-1);return g}isWhiteOrBlackRectangle(o,u,h,g){let x=3;o=new Pt(o.getX()-x,o.getY()+x),u=new Pt(u.getX()-x,u.getY()-x),h=new Pt(h.getX()+x,h.getY()-x),g=new Pt(g.getX()+x,g.getY()+x);let w=this.getColor(g,o);if(w===0)return!1;let C=this.getColor(o,u);return C!==w||(C=this.getColor(u,h),C!==w)?!1:(C=this.getColor(h,g),C===w)}getColor(o,u){let h=this.distancePoint(o,u),g=(u.getX()-o.getX())/h,x=(u.getY()-o.getY())/h,w=0,C=o.getX(),N=o.getY(),I=this.image.get(o.getX(),o.getY()),j=Math.ceil(h);for(let q=0;q<j;q++)C+=g,N+=x,this.image.get(Tt.round(C),Tt.round(N))!==I&&w++;let V=w/h;return V>.1&&V<.9?0:V<=.1===I?1:-1}getFirstDifferent(o,u,h,g){let x=o.getX()+h,w=o.getY()+g;for(;this.isValid(x,w)&&this.image.get(x,w)===u;)x+=h,w+=g;for(x-=h,w-=g;this.isValid(x,w)&&this.image.get(x,w)===u;)x+=h;for(x-=h;this.isValid(x,w)&&this.image.get(x,w)===u;)w+=g;return w-=g,new Pt(x,w)}expandSquare(o,u,h){let g=h/(2*u),x=o[0].getX()-o[2].getX(),w=o[0].getY()-o[2].getY(),C=(o[0].getX()+o[2].getX())/2,N=(o[0].getY()+o[2].getY())/2,I=new qe(C+g*x,N+g*w),j=new qe(C-g*x,N-g*w);x=o[1].getX()-o[3].getX(),w=o[1].getY()-o[3].getY(),C=(o[1].getX()+o[3].getX())/2,N=(o[1].getY()+o[3].getY())/2;let V=new qe(C+g*x,N+g*w),q=new qe(C-g*x,N-g*w);return[I,V,j,q]}isValid(o,u){return o>=0&&o<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(o){let u=Tt.round(o.getX()),h=Tt.round(o.getY());return this.isValid(u,h)}distancePoint(o,u){return Tt.distance(o.getX(),o.getY(),u.getX(),u.getY())}distanceResultPoint(o,u){return Tt.distance(o.getX(),o.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class wi{decode(o,u=null){let h=null,g=new Ur(o.getBlackMatrix()),x=null,w=null;try{let j=g.detectMirror(!1);x=j.getPoints(),this.reportFoundResultPoints(u,x),w=new en().decode(j)}catch(j){h=j}if(w==null)try{let j=g.detectMirror(!0);x=j.getPoints(),this.reportFoundResultPoints(u,x),w=new en().decode(j)}catch(j){throw h??j}let C=new Ie(w.getText(),w.getRawBytes(),w.getNumBits(),x,Se.AZTEC,O.currentTimeMillis()),N=w.getByteSegments();N!=null&&C.putMetadata(xt.BYTE_SEGMENTS,N);let I=w.getECLevel();return I!=null&&C.putMetadata(xt.ERROR_CORRECTION_LEVEL,I),C}reportFoundResultPoints(o,u){if(o!=null){let h=o.get(B.NEED_RESULT_POINT_CALLBACK);h!=null&&u.forEach((g,x,w)=>{h.foundPossibleResultPoint(g)})}}reset(){}}class Ks extends Le{constructor(o=500){super(new wi,o)}}class sn{decode(o,u){try{return this.doDecode(o,u)}catch{if(u&&u.get(B.TRY_HARDER)===!0&&o.isRotateSupported()){const x=o.rotateCounterClockwise(),w=this.doDecode(x,u),C=w.getResultMetadata();let N=270;C!==null&&C.get(xt.ORIENTATION)===!0&&(N=N+C.get(xt.ORIENTATION)%360),w.putMetadata(xt.ORIENTATION,N);const I=w.getResultPoints();if(I!==null){const j=x.getHeight();for(let V=0;V<I.length;V++)I[V]=new qe(j-I[V].getY()-1,I[V].getX())}return w}else throw new ne}}reset(){}doDecode(o,u){const h=o.getWidth(),g=o.getHeight();let x=new R(h);const w=u&&u.get(B.TRY_HARDER)===!0,C=Math.max(1,g>>(w?8:5));let N;w?N=g:N=15;const I=Math.trunc(g/2);for(let j=0;j<N;j++){const V=Math.trunc((j+1)/2),q=(j&1)===0,K=I+C*(q?V:-V);if(K<0||K>=g)break;try{x=o.getBlackRow(K,x)}catch{continue}for(let ee=0;ee<2;ee++){if(ee===1&&(x.reverse(),u&&u.get(B.NEED_RESULT_POINT_CALLBACK)===!0)){const ie=new Map;u.forEach((de,ye)=>ie.set(ye,de)),ie.delete(B.NEED_RESULT_POINT_CALLBACK),u=ie}try{const ie=this.decodeRow(K,x,u);if(ee===1){ie.putMetadata(xt.ORIENTATION,180);const de=ie.getResultPoints();de!==null&&(de[0]=new qe(h-de[0].getX()-1,de[0].getY()),de[1]=new qe(h-de[1].getX()-1,de[1].getY()))}return ie}catch{}}}throw new ne}static recordPattern(o,u,h){const g=h.length;for(let I=0;I<g;I++)h[I]=0;const x=o.getSize();if(u>=x)throw new ne;let w=!o.get(u),C=0,N=u;for(;N<x;){if(o.get(N)!==w)h[C]++;else{if(++C===g)break;h[C]=1,w=!w}N++}if(!(C===g||C===g-1&&N===x))throw new ne}static recordPatternInReverse(o,u,h){let g=h.length,x=o.get(u);for(;u>0&&g>=0;)o.get(--u)!==x&&(g--,x=!x);if(g>=0)throw new ne;sn.recordPattern(o,u+1,h)}static patternMatchVariance(o,u,h){const g=o.length;let x=0,w=0;for(let I=0;I<g;I++)x+=o[I],w+=u[I];if(x<w)return Number.POSITIVE_INFINITY;const C=x/w;h*=C;let N=0;for(let I=0;I<g;I++){const j=o[I],V=u[I]*C,q=j>V?j-V:V-j;if(q>h)return Number.POSITIVE_INFINITY;N+=q}return N/x}}class Ue extends sn{static findStartPattern(o){const u=o.getSize(),h=o.getNextSet(0);let g=0,x=Int32Array.from([0,0,0,0,0,0]),w=h,C=!1;const N=6;for(let I=h;I<u;I++)if(o.get(I)!==C)x[g]++;else{if(g===N-1){let j=Ue.MAX_AVG_VARIANCE,V=-1;for(let q=Ue.CODE_START_A;q<=Ue.CODE_START_C;q++){const K=sn.patternMatchVariance(x,Ue.CODE_PATTERNS[q],Ue.MAX_INDIVIDUAL_VARIANCE);K<j&&(j=K,V=q)}if(V>=0&&o.isRange(Math.max(0,w-(I-w)/2),w,!1))return Int32Array.from([w,I,V]);w+=x[0]+x[1],x=x.slice(2,x.length-1),x[g-1]=0,x[g]=0,g--}else g++;x[g]=1,C=!C}throw new ne}static decodeCode(o,u,h){sn.recordPattern(o,h,u);let g=Ue.MAX_AVG_VARIANCE,x=-1;for(let w=0;w<Ue.CODE_PATTERNS.length;w++){const C=Ue.CODE_PATTERNS[w],N=this.patternMatchVariance(u,C,Ue.MAX_INDIVIDUAL_VARIANCE);N<g&&(g=N,x=w)}if(x>=0)return x;throw new ne}decodeRow(o,u,h){const g=h&&h.get(B.ASSUME_GS1)===!0,x=Ue.findStartPattern(u),w=x[2];let C=0;const N=new Uint8Array(20);N[C++]=w;let I;switch(w){case Ue.CODE_START_A:I=Ue.CODE_CODE_A;break;case Ue.CODE_START_B:I=Ue.CODE_CODE_B;break;case Ue.CODE_START_C:I=Ue.CODE_CODE_C;break;default:throw new z}let j=!1,V=!1,q="",K=x[0],ee=x[1];const ie=Int32Array.from([0,0,0,0,0,0]);let de=0,ye=0,Fe=w,He=0,je=!0,Et=!1,Ct=!1;for(;!j;){const la=V;switch(V=!1,de=ye,ye=Ue.decodeCode(u,ie,ee),N[C++]=ye,ye!==Ue.CODE_STOP&&(je=!0),ye!==Ue.CODE_STOP&&(He++,Fe+=He*ye),K=ee,ee+=ie.reduce((Gr,lh)=>Gr+lh,0),ye){case Ue.CODE_START_A:case Ue.CODE_START_B:case Ue.CODE_START_C:throw new z}switch(I){case Ue.CODE_CODE_A:if(ye<64)Ct===Et?q+=String.fromCharCode(32+ye):q+=String.fromCharCode(32+ye+128),Ct=!1;else if(ye<96)Ct===Et?q+=String.fromCharCode(ye-64):q+=String.fromCharCode(ye+64),Ct=!1;else switch(ye!==Ue.CODE_STOP&&(je=!1),ye){case Ue.CODE_FNC_1:g&&(q.length===0?q+="]C1":q+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_A:!Et&&Ct?(Et=!0,Ct=!1):Et&&Ct?(Et=!1,Ct=!1):Ct=!0;break;case Ue.CODE_SHIFT:V=!0,I=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_B:I=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_C:I=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:j=!0;break}break;case Ue.CODE_CODE_B:if(ye<96)Ct===Et?q+=String.fromCharCode(32+ye):q+=String.fromCharCode(32+ye+128),Ct=!1;else switch(ye!==Ue.CODE_STOP&&(je=!1),ye){case Ue.CODE_FNC_1:g&&(q.length===0?q+="]C1":q+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_B:!Et&&Ct?(Et=!0,Ct=!1):Et&&Ct?(Et=!1,Ct=!1):Ct=!0;break;case Ue.CODE_SHIFT:V=!0,I=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_A:I=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_C:I=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:j=!0;break}break;case Ue.CODE_CODE_C:if(ye<100)ye<10&&(q+="0"),q+=ye;else switch(ye!==Ue.CODE_STOP&&(je=!1),ye){case Ue.CODE_FNC_1:g&&(q.length===0?q+="]C1":q+="");break;case Ue.CODE_CODE_A:I=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_B:I=Ue.CODE_CODE_B;break;case Ue.CODE_STOP:j=!0;break}break}la&&(I=I===Ue.CODE_CODE_A?Ue.CODE_CODE_B:Ue.CODE_CODE_A)}const qi=ee-K;if(ee=u.getNextUnset(ee),!u.isRange(ee,Math.min(u.getSize(),ee+(ee-K)/2),!1))throw new ne;if(Fe-=He*de,Fe%103!==de)throw new T;const Rr=q.length;if(Rr===0)throw new ne;Rr>0&&je&&(I===Ue.CODE_CODE_C?q=q.substring(0,Rr-2):q=q.substring(0,Rr-1));const nr=(x[1]+x[0])/2,mn=K+qi/2,Ti=N.length,ir=new Uint8Array(Ti);for(let la=0;la<Ti;la++)ir[la]=N[la];const Da=[new qe(nr,o),new qe(mn,o)];return new Ie(q,ir,0,Da,Se.CODE_128,new Date().getTime())}}Ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ue.MAX_AVG_VARIANCE=.25,Ue.MAX_INDIVIDUAL_VARIANCE=.7,Ue.CODE_SHIFT=98,Ue.CODE_CODE_C=99,Ue.CODE_CODE_B=100,Ue.CODE_CODE_A=101,Ue.CODE_FNC_1=102,Ue.CODE_FNC_2=97,Ue.CODE_FNC_3=96,Ue.CODE_FNC_4_A=101,Ue.CODE_FNC_4_B=100,Ue.CODE_START_A=103,Ue.CODE_START_B=104,Ue.CODE_START_C=105,Ue.CODE_STOP=106;class rn extends sn{constructor(o=!1,u=!1){super(),this.usingCheckDigit=o,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,u,h){let g=this.counters;g.fill(0),this.decodeRowResult="";let x=rn.findAsteriskPattern(u,g),w=u.getNextSet(x[1]),C=u.getSize(),N,I;do{rn.recordPattern(u,w,g);let ie=rn.toNarrowWidePattern(g);if(ie<0)throw new ne;N=rn.patternToChar(ie),this.decodeRowResult+=N,I=w;for(let de of g)w+=de;w=u.getNextSet(w)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let j=0;for(let ie of g)j+=ie;let V=w-I-j;if(w!==C&&V*2<j)throw new ne;if(this.usingCheckDigit){let ie=this.decodeRowResult.length-1,de=0;for(let ye=0;ye<ie;ye++)de+=rn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ye));if(this.decodeRowResult.charAt(ie)!==rn.ALPHABET_STRING.charAt(de%43))throw new T;this.decodeRowResult=this.decodeRowResult.substring(0,ie)}if(this.decodeRowResult.length===0)throw new ne;let q;this.extendedMode?q=rn.decodeExtended(this.decodeRowResult):q=this.decodeRowResult;let K=(x[1]+x[0])/2,ee=I+j/2;return new Ie(q,null,0,[new qe(K,o),new qe(ee,o)],Se.CODE_39,new Date().getTime())}static findAsteriskPattern(o,u){let h=o.getSize(),g=o.getNextSet(0),x=0,w=g,C=!1,N=u.length;for(let I=g;I<h;I++)if(o.get(I)!==C)u[x]++;else{if(x===N-1){if(this.toNarrowWidePattern(u)===rn.ASTERISK_ENCODING&&o.isRange(Math.max(0,w-Math.floor((I-w)/2)),w,!1))return[w,I];w+=u[0]+u[1],u.copyWithin(0,2,2+x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,C=!C}throw new ne}static toNarrowWidePattern(o){let u=o.length,h=0,g;do{let x=2147483647;for(let N of o)N<x&&N>h&&(x=N);h=x,g=0;let w=0,C=0;for(let N=0;N<u;N++){let I=o[N];I>h&&(C|=1<<u-1-N,g++,w+=I)}if(g===3){for(let N=0;N<u&&g>0;N++){let I=o[N];if(I>h&&(g--,I*2>=w))return-1}return C}}while(g>3);return-1}static patternToChar(o){for(let u=0;u<rn.CHARACTER_ENCODINGS.length;u++)if(rn.CHARACTER_ENCODINGS[u]===o)return rn.ALPHABET_STRING.charAt(u);if(o===rn.ASTERISK_ENCODING)return"*";throw new ne}static decodeExtended(o){let u=o.length,h="";for(let g=0;g<u;g++){let x=o.charAt(g);if(x==="+"||x==="$"||x==="%"||x==="/"){let w=o.charAt(g+1),C="\0";switch(x){case"+":if(w>="A"&&w<="Z")C=String.fromCharCode(w.charCodeAt(0)+32);else throw new z;break;case"$":if(w>="A"&&w<="Z")C=String.fromCharCode(w.charCodeAt(0)-64);else throw new z;break;case"%":if(w>="A"&&w<="E")C=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")C=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")C=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")C=String.fromCharCode(w.charCodeAt(0)+43);else if(w==="U")C="\0";else if(w==="V")C="@";else if(w==="W")C="`";else if(w==="X"||w==="Y"||w==="Z")C="";else throw new z;break;case"/":if(w>="A"&&w<="O")C=String.fromCharCode(w.charCodeAt(0)-32);else if(w==="Z")C=":";else throw new z;break}h+=C,g++}else h+=x}return h}}rn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",rn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],rn.ASTERISK_ENCODING=148;class Ft extends sn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,u,h){let g=this.decodeStart(u),x=this.decodeEnd(u),w=new Oe;Ft.decodeMiddle(u,g[1],x[0],w);let C=w.toString(),N=null;h!=null&&(N=h.get(B.ALLOWED_LENGTHS)),N==null&&(N=Ft.DEFAULT_ALLOWED_LENGTHS);let I=C.length,j=!1,V=0;for(let ee of N){if(I===ee){j=!0;break}ee>V&&(V=ee)}if(!j&&I>V&&(j=!0),!j)throw new z;const q=[new qe(g[1],o),new qe(x[0],o)];return new Ie(C,null,0,q,Se.ITF,new Date().getTime())}static decodeMiddle(o,u,h,g){let x=new Int32Array(10),w=new Int32Array(5),C=new Int32Array(5);for(x.fill(0),w.fill(0),C.fill(0);u<h;){sn.recordPattern(o,u,x);for(let I=0;I<5;I++){let j=2*I;w[I]=x[j],C[I]=x[j+1]}let N=Ft.decodeDigit(w);g.append(N.toString()),N=this.decodeDigit(C),g.append(N.toString()),x.forEach(function(I){u+=I})}}decodeStart(o){let u=Ft.skipWhiteSpace(o),h=Ft.findGuardPattern(o,u,Ft.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(o,h[0]),h}validateQuietZone(o,u){let h=this.narrowLineWidth*10;h=h<u?h:u;for(let g=u-1;h>0&&g>=0&&!o.get(g);g--)h--;if(h!==0)throw new ne}static skipWhiteSpace(o){const u=o.getSize(),h=o.getNextSet(0);if(h===u)throw new ne;return h}decodeEnd(o){o.reverse();try{let u=Ft.skipWhiteSpace(o),h;try{h=Ft.findGuardPattern(o,u,Ft.END_PATTERN_REVERSED[0])}catch(x){x instanceof ne&&(h=Ft.findGuardPattern(o,u,Ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,h[0]);let g=h[0];return h[0]=o.getSize()-h[1],h[1]=o.getSize()-g,h}finally{o.reverse()}}static findGuardPattern(o,u,h){let g=h.length,x=new Int32Array(g),w=o.getSize(),C=!1,N=0,I=u;x.fill(0);for(let j=u;j<w;j++)if(o.get(j)!==C)x[N]++;else{if(N===g-1){if(sn.patternMatchVariance(x,h,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return[I,j];I+=x[0]+x[1],O.arraycopy(x,2,x,0,N-1),x[N-1]=0,x[N]=0,N--}else N++;x[N]=1,C=!C}throw new ne}static decodeDigit(o){let u=Ft.MAX_AVG_VARIANCE,h=-1,g=Ft.PATTERNS.length;for(let x=0;x<g;x++){let w=Ft.PATTERNS[x],C=sn.patternMatchVariance(o,w,Ft.MAX_INDIVIDUAL_VARIANCE);C<u?(u=C,h=x):C===u&&(h=-1)}if(h>=0)return h%10;throw new ne}}Ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ft.MAX_AVG_VARIANCE=.38,Ft.MAX_INDIVIDUAL_VARIANCE=.5,Ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ft.START_PATTERN=Int32Array.from([1,1,1,1]),Ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Xt extends sn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let u=!1,h,g=0,x=Int32Array.from([0,0,0]);for(;!u;){x=Int32Array.from([0,0,0]),h=Xt.findGuardPattern(o,g,!1,this.START_END_PATTERN,x);let w=h[0];g=h[1];let C=w-(g-w);C>=0&&(u=o.isRange(C,w,!1))}return h}static checkChecksum(o){return Xt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let h=parseInt(o.charAt(u-1),10);return Xt.getStandardUPCEANChecksum(o.substring(0,u-1))===h}static getStandardUPCEANChecksum(o){let u=o.length,h=0;for(let g=u-1;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new z;h+=x}h*=3;for(let g=u-2;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new z;h+=x}return(1e3-h)%10}static decodeEnd(o,u){return Xt.findGuardPattern(o,u,!1,Xt.START_END_PATTERN,new Int32Array(Xt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,u,h,g){return this.findGuardPattern(o,u,h,g,new Int32Array(g.length))}static findGuardPattern(o,u,h,g,x){let w=o.getSize();u=h?o.getNextUnset(u):o.getNextSet(u);let C=0,N=u,I=g.length,j=h;for(let V=u;V<w;V++)if(o.get(V)!==j)x[C]++;else{if(C===I-1){if(sn.patternMatchVariance(x,g,Xt.MAX_INDIVIDUAL_VARIANCE)<Xt.MAX_AVG_VARIANCE)return Int32Array.from([N,V]);N+=x[0]+x[1];let q=x.slice(2,x.length-1);for(let K=0;K<C-1;K++)x[K]=q[K];x[C-1]=0,x[C]=0,C--}else C++;x[C]=1,j=!j}throw new ne}static decodeDigit(o,u,h,g){this.recordPattern(o,h,u);let x=this.MAX_AVG_VARIANCE,w=-1,C=g.length;for(let N=0;N<C;N++){let I=g[N],j=sn.patternMatchVariance(u,I,Xt.MAX_INDIVIDUAL_VARIANCE);j<x&&(x=j,w=N)}if(w>=0)return w;throw new ne}}Xt.MAX_AVG_VARIANCE=.48,Xt.MAX_INDIVIDUAL_VARIANCE=.7,Xt.START_END_PATTERN=Int32Array.from([1,1,1]),Xt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Xt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Xt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Nr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,h){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(u,h,g),w=g.toString(),C=Nr.parseExtensionString(w),N=[new qe((h[0]+h[1])/2,o),new qe(x,o)],I=new Ie(w,null,0,N,Se.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&I.putAllMetadata(C),I}decodeMiddle(o,u,h){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w=u[1],C=0;for(let I=0;I<5&&w<x;I++){let j=Xt.decodeDigit(o,g,w,Xt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+j%10);for(let V of g)w+=V;j>=10&&(C|=1<<4-I),I!==4&&(w=o.getNextSet(w),w=o.getNextUnset(w))}if(h.length!==5)throw new ne;let N=this.determineCheckDigit(C);if(Nr.extensionChecksum(h.toString())!==N)throw new ne;return w}static extensionChecksum(o){let u=o.length,h=0;for(let g=u-2;g>=0;g-=2)h+=o.charAt(g).charCodeAt(0)-48;h*=3;for(let g=u-1;g>=0;g-=2)h+=o.charAt(g).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(o){for(let u=0;u<10;u++)if(o===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new ne}static parseExtensionString(o){if(o.length!==5)return null;let u=Nr.parseExtension5String(o);return u==null?null:new Map([[xt.SUGGESTED_PRICE,u]])}static parseExtension5String(o){let u;switch(o.charAt(0)){case"0":u="";break;case"5":u="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let h=parseInt(o.substring(1)),g=(h/100).toString(),x=h%100,w=x<10?"0"+x:x.toString();return u+g+"."+w}}class us{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,h){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(u,h,g),w=g.toString(),C=us.parseExtensionString(w),N=[new qe((h[0]+h[1])/2,o),new qe(x,o)],I=new Ie(w,null,0,N,Se.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&I.putAllMetadata(C),I}decodeMiddle(o,u,h){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w=u[1],C=0;for(let N=0;N<2&&w<x;N++){let I=Xt.decodeDigit(o,g,w,Xt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+I%10);for(let j of g)w+=j;I>=10&&(C|=1<<1-N),N!==1&&(w=o.getNextSet(w),w=o.getNextUnset(w))}if(h.length!==2)throw new ne;if(parseInt(h.toString())%4!==C)throw new ne;return w}static parseExtensionString(o){return o.length!==2?null:new Map([[xt.ISSUE_NUMBER,parseInt(o)]])}}class kl{static decodeRow(o,u,h){let g=Xt.findGuardPattern(u,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Nr().decodeRow(o,u,g)}catch{return new us().decodeRow(o,u,g)}}}kl.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Gt extends Xt{constructor(){super(),this.decodeRowStringBuffer="",Gt.L_AND_G_PATTERNS=Gt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let u=Gt.L_PATTERNS[o-10],h=new Int32Array(u.length);for(let g=0;g<u.length;g++)h[g]=u[u.length-g-1];Gt.L_AND_G_PATTERNS[o]=h}}decodeRow(o,u,h){let g=Gt.findStartGuardPattern(u),x=h==null?null:h.get(B.NEED_RESULT_POINT_CALLBACK);if(x!=null){const je=new qe((g[0]+g[1])/2,o);x.foundPossibleResultPoint(je)}let w=this.decodeMiddle(u,g,this.decodeRowStringBuffer),C=w.rowOffset,N=w.resultString;if(x!=null){const je=new qe(C,o);x.foundPossibleResultPoint(je)}let I=this.decodeEnd(u,C);if(x!=null){const je=new qe((I[0]+I[1])/2,o);x.foundPossibleResultPoint(je)}let j=I[1],V=j+(j-I[0]);if(V>=u.getSize()||!u.isRange(j,V,!1))throw new ne;let q=N.toString();if(q.length<8)throw new z;if(!Gt.checkChecksum(q))throw new T;let K=(g[1]+g[0])/2,ee=(I[1]+I[0])/2,ie=this.getBarcodeFormat(),de=[new qe(K,o),new qe(ee,o)],ye=new Ie(q,null,0,de,ie,new Date().getTime()),Fe=0;try{let je=kl.decodeRow(o,u,I[1]);ye.putMetadata(xt.UPC_EAN_EXTENSION,je.getText()),ye.putAllMetadata(je.getResultMetadata()),ye.addResultPoints(je.getResultPoints()),Fe=je.getText().length}catch{}let He=h==null?null:h.get(B.ALLOWED_EAN_EXTENSIONS);if(He!=null){let je=!1;for(let Et in He)if(Fe.toString()===Et){je=!0;break}if(!je)throw new ne}return ye}decodeEnd(o,u){return Gt.findGuardPattern(o,u,!1,Gt.START_END_PATTERN,new Int32Array(Gt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return Gt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let h=parseInt(o.charAt(u-1),10);return Gt.getStandardUPCEANChecksum(o.substring(0,u-1))===h}static getStandardUPCEANChecksum(o){let u=o.length,h=0;for(let g=u-1;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new z;h+=x}h*=3;for(let g=u-2;g>=0;g-=2){let x=o.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new z;h+=x}return(1e3-h)%10}}class hr extends Gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,h){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w=u[1],C=0;for(let I=0;I<6&&w<x;I++){let j=Gt.decodeDigit(o,g,w,Gt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+j%10);for(let V of g)w+=V;j>=10&&(C|=1<<5-I)}h=hr.determineFirstDigit(h,C),w=Gt.findGuardPattern(o,w,!0,Gt.MIDDLE_PATTERN,new Int32Array(Gt.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<6&&w<x;I++){let j=Gt.decodeDigit(o,g,w,Gt.L_PATTERNS);h+=String.fromCharCode(48+j);for(let V of g)w+=V}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return Se.EAN_13}static determineFirstDigit(o,u){for(let h=0;h<10;h++)if(u===this.FIRST_DIGIT_ENCODINGS[h])return o=String.fromCharCode(48+h)+o,o;throw new ne}}hr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Dl extends Gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,h){const g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w=u[1];for(let N=0;N<4&&w<x;N++){let I=Gt.decodeDigit(o,g,w,Gt.L_PATTERNS);h+=String.fromCharCode(48+I);for(let j of g)w+=j}w=Gt.findGuardPattern(o,w,!0,Gt.MIDDLE_PATTERN,new Int32Array(Gt.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&w<x;N++){let I=Gt.decodeDigit(o,g,w,Gt.L_PATTERNS);h+=String.fromCharCode(48+I);for(let j of g)w+=j}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return Se.EAN_8}}class Zs extends Gt{constructor(){super(...arguments),this.ean13Reader=new hr}getBarcodeFormat(){return Se.UPC_A}decode(o,u){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,u,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,u,h))}decodeMiddle(o,u,h){return this.ean13Reader.decodeMiddle(o,u,h)}maybeReturnResult(o){let u=o.getText();if(u.charAt(0)==="0"){let h=new Ie(u.substring(1),null,null,o.getResultPoints(),Se.UPC_A);return o.getResultMetadata()!=null&&h.putAllMetadata(o.getResultMetadata()),h}else throw new ne}reset(){this.ean13Reader.reset()}}class _i extends Gt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,u,h){const g=this.decodeMiddleCounters.map(I=>I);g[0]=0,g[1]=0,g[2]=0,g[3]=0;const x=o.getSize();let w=u[1],C=0;for(let I=0;I<6&&w<x;I++){const j=_i.decodeDigit(o,g,w,_i.L_AND_G_PATTERNS);h+=String.fromCharCode(48+j%10);for(let V of g)w+=V;j>=10&&(C|=1<<5-I)}let N=_i.determineNumSysAndCheckDigit(h,C);return{rowOffset:w,resultString:N}}decodeEnd(o,u){return _i.findGuardPatternWithoutCounters(o,u,!0,_i.MIDDLE_END_PATTERN)}checkChecksum(o){return Gt.checkChecksum(_i.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,u){for(let h=0;h<=1;h++)for(let g=0;g<10;g++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][g]){let x=String.fromCharCode(48+h),w=String.fromCharCode(48+g);return x+o+w}throw ne.getNotFoundInstance()}getBarcodeFormat(){return Se.UPC_E}static convertUPCEtoUPCA(o){const u=o.slice(1,7).split("").map(x=>x.charCodeAt(0)),h=new Oe;h.append(o.charAt(0));let g=u[5];switch(g){case 0:case 1:case 2:h.appendChars(u,0,2),h.append(g),h.append("0000"),h.appendChars(u,2,3);break;case 3:h.appendChars(u,0,3),h.append("00000"),h.appendChars(u,3,2);break;case 4:h.appendChars(u,0,4),h.append("00000"),h.append(u[4]);break;default:h.appendChars(u,0,5),h.append("0000"),h.append(g);break}return o.length>=8&&h.append(o.charAt(7)),h.toString()}}_i.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_i.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ta extends sn{constructor(o){super();let u=o==null?null:o.get(B.POSSIBLE_FORMATS),h=[];i(u)?(h.push(new hr),h.push(new Zs),h.push(new Dl),h.push(new _i)):(u.indexOf(Se.EAN_13)>-1&&h.push(new hr),u.indexOf(Se.UPC_A)>-1&&h.push(new Zs),u.indexOf(Se.EAN_8)>-1&&h.push(new Dl),u.indexOf(Se.UPC_E)>-1&&h.push(new _i)),this.readers=h}decodeRow(o,u,h){for(let g of this.readers)try{const x=g.decodeRow(o,u,h),w=x.getBarcodeFormat()===Se.EAN_13&&x.getText().charAt(0)==="0",C=h==null?null:h.get(B.POSSIBLE_FORMATS),N=C==null||C.includes(Se.UPC_A);if(w&&N){const I=x.getRawBytes(),j=new Ie(x.getText().substring(1),I,I?I.length:null,x.getResultPoints(),Se.UPC_A);return j.putAllMetadata(x.getResultMetadata()),j}return x}catch{}throw new ne}reset(){for(let o of this.readers)o.reset()}}class Yn extends sn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,u){for(let h=0;h<u.length;h++)if(sn.patternMatchVariance(o,u[h],Yn.MAX_INDIVIDUAL_VARIANCE)<Yn.MAX_AVG_VARIANCE)return h;throw new ne}static count(o){return Tt.sum(new Int32Array(o))}static increment(o,u){let h=0,g=u[0];for(let x=1;x<o.length;x++)u[x]>g&&(g=u[x],h=x);o[h]++}static decrement(o,u){let h=0,g=u[0];for(let x=1;x<o.length;x++)u[x]<g&&(g=u[x],h=x);o[h]--}static isFinderPattern(o){let u=o[0]+o[1],h=u+o[2]+o[3],g=u/h;if(g>=Yn.MIN_FINDER_PATTERN_RATIO&&g<=Yn.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let C of o)C>w&&(w=C),C<x&&(x=C);return w<10*x}return!1}}Yn.MAX_AVG_VARIANCE=.2,Yn.MAX_INDIVIDUAL_VARIANCE=.45,Yn.MIN_FINDER_PATTERN_RATIO=9.5/12,Yn.MAX_FINDER_PATTERN_RATIO=12.5/14;class te{constructor(o,u){this.value=o,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof te))return!1;const u=o;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ce{constructor(o,u,h,g,x){this.value=o,this.startEnd=u,this.value=o,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new qe(h,x)),this.resultPoints.push(new qe(g,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof ce))return!1;const u=o;return this.value===u.value}hashCode(){return this.value}}class ge{constructor(){}static getRSSvalue(o,u,h){let g=0;for(let N of o)g+=N;let x=0,w=0,C=o.length;for(let N=0;N<C-1;N++){let I;for(I=1,w|=1<<N;I<o[N];I++,w&=~(1<<N)){let j=ge.combins(g-I-1,C-N-2);if(h&&w===0&&g-I-(C-N-1)>=C-N-1&&(j-=ge.combins(g-I-(C-N),C-N-2)),C-N-1>1){let V=0;for(let q=g-I-(C-N-2);q>u;q--)V+=ge.combins(g-I-q-1,C-N-3);j-=V*(C-1-N)}else g-I>u&&j--;x+=j}g-=I}return x}static combins(o,u){let h,g;o-u>u?(g=u,h=o-u):(g=o-u,h=u);let x=1,w=1;for(let C=o;C>h;C--)x*=C,w<=g&&(x/=w,w++);for(;w<=g;)x/=w,w++;return x}}class ke{static buildBitArray(o){let u=o.length*2-1;o[o.length-1].getRightChar()==null&&(u-=1);let h=12*u,g=new R(h),x=0,C=o[0].getRightChar().getValue();for(let N=11;N>=0;--N)(C&1<<N)!=0&&g.set(x),x++;for(let N=1;N<o.length;++N){let I=o[N],j=I.getLeftChar().getValue();for(let V=11;V>=0;--V)(j&1<<V)!=0&&g.set(x),x++;if(I.getRightChar()!=null){let V=I.getRightChar().getValue();for(let q=11;q>=0;--q)(V&1<<q)!=0&&g.set(x),x++}}return g}}class ze{constructor(o,u){u?this.decodedInformation=null:(this.finished=o,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ke{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Ze extends Ke{constructor(o,u){super(o),this.value=u}getValue(){return this.value}isFNC1(){return this.value===Ze.FNC1}}Ze.FNC1="$";class Ge extends Ke{constructor(o,u,h){super(o),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Xe extends Ke{constructor(o,u,h){if(super(o),u<0||u>10||h<0||h>10)throw new z;this.firstDigit=u,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Xe.FNC1}isSecondDigitFNC1(){return this.secondDigit===Xe.FNC1}isAnyFNC1(){return this.firstDigit===Xe.FNC1||this.secondDigit===Xe.FNC1}}Xe.FNC1=10;class Ee{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new ne;let u=o.substring(0,2);for(let x of Ee.TWO_DIGIT_DATA_LENGTH)if(x[0]===u)return x[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(2,x[2],o):Ee.processFixedAI(2,x[1],o);if(o.length<3)throw new ne;let h=o.substring(0,3);for(let x of Ee.THREE_DIGIT_DATA_LENGTH)if(x[0]===h)return x[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(3,x[2],o):Ee.processFixedAI(3,x[1],o);for(let x of Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===h)return x[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,x[2],o):Ee.processFixedAI(4,x[1],o);if(o.length<4)throw new ne;let g=o.substring(0,4);for(let x of Ee.FOUR_DIGIT_DATA_LENGTH)if(x[0]===g)return x[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,x[2],o):Ee.processFixedAI(4,x[1],o);throw new ne}static processFixedAI(o,u,h){if(h.length<o)throw new ne;let g=h.substring(0,o);if(h.length<o+u)throw new ne;let x=h.substring(o,o+u),w=h.substring(o+u),C="("+g+")"+x,N=Ee.parseFieldsInGeneralPurpose(w);return N==null?C:C+N}static processVariableAI(o,u,h){let g=h.substring(0,o),x;h.length<o+u?x=h.length:x=o+u;let w=h.substring(o,x),C=h.substring(x),N="("+g+")"+w,I=Ee.parseFieldsInGeneralPurpose(C);return I==null?N:N+I}}Ee.VARIABLE_LENGTH=[],Ee.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ee.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ee.VARIABLE_LENGTH,20],["22",Ee.VARIABLE_LENGTH,29],["30",Ee.VARIABLE_LENGTH,8],["37",Ee.VARIABLE_LENGTH,8],["90",Ee.VARIABLE_LENGTH,30],["91",Ee.VARIABLE_LENGTH,30],["92",Ee.VARIABLE_LENGTH,30],["93",Ee.VARIABLE_LENGTH,30],["94",Ee.VARIABLE_LENGTH,30],["95",Ee.VARIABLE_LENGTH,30],["96",Ee.VARIABLE_LENGTH,30],["97",Ee.VARIABLE_LENGTH,3],["98",Ee.VARIABLE_LENGTH,30],["99",Ee.VARIABLE_LENGTH,30]],Ee.THREE_DIGIT_DATA_LENGTH=[["240",Ee.VARIABLE_LENGTH,30],["241",Ee.VARIABLE_LENGTH,30],["242",Ee.VARIABLE_LENGTH,6],["250",Ee.VARIABLE_LENGTH,30],["251",Ee.VARIABLE_LENGTH,30],["253",Ee.VARIABLE_LENGTH,17],["254",Ee.VARIABLE_LENGTH,20],["400",Ee.VARIABLE_LENGTH,30],["401",Ee.VARIABLE_LENGTH,30],["402",17],["403",Ee.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ee.VARIABLE_LENGTH,20],["421",Ee.VARIABLE_LENGTH,15],["422",3],["423",Ee.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ee.VARIABLE_LENGTH,15],["391",Ee.VARIABLE_LENGTH,18],["392",Ee.VARIABLE_LENGTH,15],["393",Ee.VARIABLE_LENGTH,18],["703",Ee.VARIABLE_LENGTH,30]],Ee.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ee.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ee.VARIABLE_LENGTH,20],["8003",Ee.VARIABLE_LENGTH,30],["8004",Ee.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ee.VARIABLE_LENGTH,30],["8008",Ee.VARIABLE_LENGTH,12],["8018",18],["8020",Ee.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ee.VARIABLE_LENGTH,70],["8200",Ee.VARIABLE_LENGTH,70]];class ut{constructor(o){this.buffer=new Oe,this.information=o}decodeAllCodes(o,u){let h=u,g=null;do{let x=this.decodeGeneralPurposeField(h,g),w=Ee.parseFieldsInGeneralPurpose(x.getNewString());if(w!=null&&o.append(w),x.isRemaining()?g=""+x.getRemainingValue():g=null,h===x.getNewPosition())break;h=x.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let u=o;u<o+3;++u)if(this.information.get(u))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(o,4);return x===0?new Xe(this.information.getSize(),Xe.FNC1,Xe.FNC1):new Xe(this.information.getSize(),x-1,Xe.FNC1)}let u=this.extractNumericValueFromBitArray(o,7),h=(u-8)/11,g=(u-8)%11;return new Xe(o+7,h,g)}extractNumericValueFromBitArray(o,u){return ut.extractNumericValueFromBitArray(this.information,o,u)}static extractNumericValueFromBitArray(o,u,h){let g=0;for(let x=0;x<h;++x)o.get(u+x)&&(g|=1<<h-x-1);return g}decodeGeneralPurposeField(o,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(o);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new Ge(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new Ge(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,u;do{let h=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),o=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),o=u.isFinished()):(u=this.parseNumericBlock(),o=u.isFinished()),!(h!==this.current.getPosition())&&!o)break}while(!o);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let u;return o.isSecondDigitFNC1()?u=new Ge(this.current.getPosition(),this.buffer.toString()):u=new Ge(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new ze(!0,u)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let u=new Ge(this.current.getPosition(),this.buffer.toString());return new ze(!0,u)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ze(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new Ge(this.current.getPosition(),this.buffer.toString());return new ze(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ze(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new Ge(this.current.getPosition(),this.buffer.toString());return new ze(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ze(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<116)return!0;if(o+8>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(o,8);return g>=232&&g<253}decodeIsoIec646(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Ze(o+5,Ze.FNC1);if(u>=5&&u<15)return new Ze(o+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<90)return new Ze(o+7,""+(h+1));if(h>=90&&h<116)return new Ze(o+7,""+(h+7));let g=this.extractNumericValueFromBitArray(o,8),x;switch(g){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new z}return new Ze(o+8,x)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,6);return h>=16&&h<63}decodeAlphanumeric(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Ze(o+5,Ze.FNC1);if(u>=5&&u<15)return new Ze(o+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(o,6);if(h>=32&&h<58)return new Ze(o+6,""+(h+33));let g;switch(h){case 58:g="*";break;case 59:g=",";break;case 60:g="-";break;case 61:g=".";break;case 62:g="/";break;default:throw new $i("Decoding invalid alphanumeric value: "+h)}return new Ze(o+6,g)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<5&&u+o<this.information.getSize();++u)if(u===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+u))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let u=o;u<o+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<4&&u+o<this.information.getSize();++u)if(this.information.get(o+u))return!1;return!0}}class nt{constructor(o){this.information=o,this.generalDecoder=new ut(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class tt extends nt{constructor(o){super(o)}encodeCompressedGtin(o,u){o.append("(01)");let h=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,u,h)}encodeCompressedGtinWithoutAI(o,u,h){for(let g=0;g<4;++g){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*g,10);x/100===0&&o.append("0"),x/10===0&&o.append("0"),o.append(x)}tt.appendCheckDigit(o,h)}static appendCheckDigit(o,u){let h=0;for(let g=0;g<13;g++){let x=o.charAt(g+u).charCodeAt(0)-48;h+=(g&1)===0?3*x:x}h=10-h%10,h===10&&(h=0),o.append(h)}}tt.GTIN_SIZE=40;class Dt extends tt{constructor(o){super(o)}parseInformation(){let o=new Oe;o.append("(01)");let u=o.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(Dt.HEADER_SIZE,4);return o.append(h),this.encodeCompressedGtinWithoutAI(o,Dt.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(o,Dt.HEADER_SIZE+44)}}Dt.HEADER_SIZE=4;class dn extends nt{constructor(o){super(o)}parseInformation(){let o=new Oe;return this.getGeneralDecoder().decodeAllCodes(o,dn.HEADER_SIZE)}}dn.HEADER_SIZE=5;class bn extends tt{constructor(o){super(o)}encodeCompressedWeight(o,u,h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(u,h);this.addWeightCode(o,g);let x=this.checkWeight(g),w=1e5;for(let C=0;C<5;++C)x/w===0&&o.append("0"),w/=10;o.append(x)}}class Nt extends bn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Nt.HEADER_SIZE+bn.GTIN_SIZE+Nt.WEIGHT_SIZE)throw new ne;let o=new Oe;return this.encodeCompressedGtin(o,Nt.HEADER_SIZE),this.encodeCompressedWeight(o,Nt.HEADER_SIZE+bn.GTIN_SIZE,Nt.WEIGHT_SIZE),o.toString()}}Nt.HEADER_SIZE=5,Nt.WEIGHT_SIZE=15;class Yt extends Nt{constructor(o){super(o)}addWeightCode(o,u){o.append("(3103)")}checkWeight(o){return o}}class Qs extends Nt{constructor(o){super(o)}addWeightCode(o,u){u<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class Mn extends tt{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Mn.HEADER_SIZE+tt.GTIN_SIZE)throw new ne;let o=new Oe;this.encodeCompressedGtin(o,Mn.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Mn.HEADER_SIZE+tt.GTIN_SIZE,Mn.LAST_DIGIT_SIZE);o.append("(392"),o.append(u),o.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(Mn.HEADER_SIZE+tt.GTIN_SIZE+Mn.LAST_DIGIT_SIZE,null);return o.append(h.getNewString()),o.toString()}}Mn.HEADER_SIZE=8,Mn.LAST_DIGIT_SIZE=2;class wn extends tt{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<wn.HEADER_SIZE+tt.GTIN_SIZE)throw new ne;let o=new Oe;this.encodeCompressedGtin(o,wn.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+tt.GTIN_SIZE,wn.LAST_DIGIT_SIZE);o.append("(393"),o.append(u),o.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+tt.GTIN_SIZE+wn.LAST_DIGIT_SIZE,wn.FIRST_THREE_DIGITS_SIZE);h/100==0&&o.append("0"),h/10==0&&o.append("0"),o.append(h);let g=this.getGeneralDecoder().decodeGeneralPurposeField(wn.HEADER_SIZE+tt.GTIN_SIZE+wn.LAST_DIGIT_SIZE+wn.FIRST_THREE_DIGITS_SIZE,null);return o.append(g.getNewString()),o.toString()}}wn.HEADER_SIZE=8,wn.LAST_DIGIT_SIZE=2,wn.FIRST_THREE_DIGITS_SIZE=10;class zt extends bn{constructor(o,u,h){super(o),this.dateCode=h,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE+zt.DATE_SIZE)throw new ne;let o=new Oe;return this.encodeCompressedGtin(o,zt.HEADER_SIZE),this.encodeCompressedWeight(o,zt.HEADER_SIZE+zt.GTIN_SIZE,zt.WEIGHT_SIZE),this.encodeCompressedDate(o,zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(u,zt.DATE_SIZE);if(h==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let g=h%32;h/=32;let x=h%12+1;h/=12;let w=h;w/10==0&&o.append("0"),o.append(w),x/10==0&&o.append("0"),o.append(x),g/10==0&&o.append("0"),o.append(g)}addWeightCode(o,u){o.append("("),o.append(this.firstAIdigits),o.append(u/1e5),o.append(")")}checkWeight(o){return o%1e5}}zt.HEADER_SIZE=8,zt.WEIGHT_SIZE=20,zt.DATE_SIZE=16;function Ds(U){try{if(U.get(1))return new Dt(U);if(!U.get(2))return new dn(U);switch(ut.extractNumericValueFromBitArray(U,1,4)){case 4:return new Yt(U);case 5:return new Qs(U)}switch(ut.extractNumericValueFromBitArray(U,1,5)){case 12:return new Mn(U);case 13:return new wn(U)}switch(ut.extractNumericValueFromBitArray(U,1,7)){case 56:return new zt(U,"310","11");case 57:return new zt(U,"320","11");case 58:return new zt(U,"310","13");case 59:return new zt(U,"320","13");case 60:return new zt(U,"310","15");case 61:return new zt(U,"320","15");case 62:return new zt(U,"310","17");case 63:return new zt(U,"320","17")}}catch(o){throw console.log(o),new $i("unknown decoder: "+U)}}class Gi{constructor(o,u,h,g){this.leftchar=o,this.rightchar=u,this.finderpattern=h,this.maybeLast=g}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,u){return o instanceof Gi?Gi.equalsOrNull(o.leftchar,u.leftchar)&&Gi.equalsOrNull(o.rightchar,u.rightchar)&&Gi.equalsOrNull(o.finderpattern,u.finderpattern):!1}static equalsOrNull(o,u){return o===null?u===null:Gi.equals(o,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Na{constructor(o,u,h){this.pairs=o,this.rowNumber=u,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,u){return o instanceof Na?this.checkEqualitity(o,u)&&o.wasReversed===u.wasReversed:!1}checkEqualitity(o,u){if(!o||!u)return;let h;return o.forEach((g,x)=>{u.forEach(w=>{g.getLeftChar().getValue()===w.getLeftChar().getValue()&&g.getRightChar().getValue()===w.getRightChar().getValue()&&g.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(h=!0)})}),h}}class Ne extends Yn{constructor(o){super(...arguments),this.pairs=new Array(Ne.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,u,h){this.pairs.length=0,this.startFromEven=!1;try{return Ne.constructResult(this.decodeRow2pairs(o,u))}catch(g){this.verbose&&console.log(g)}return this.pairs.length=0,this.startFromEven=!0,Ne.constructResult(this.decodeRow2pairs(o,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,u){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,o))}catch(x){if(x instanceof ne){if(!this.pairs.length)throw new ne;h=!0}}if(this.checkChecksum())return this.pairs;let g;if(this.rows.length?g=!0:g=!1,this.storeRow(o,!1),g){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new ne}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return o&&(this.rows=this.rows.reverse()),u}checkRows(o,u){for(let h=u;h<this.rows.length;h++){let g=this.rows[h];this.pairs.length=0;for(let w of o)this.pairs.push(w.getPairs());if(this.pairs.push(g.getPairs()),!Ne.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(o);x.push(g);try{return this.checkRows(x,h+1)}catch(w){this.verbose&&console.log(w)}}throw new ne}static isValidSequence(o){for(let u of Ne.FINDER_PATTERN_SEQUENCES){if(o.length>u.length)continue;let h=!0;for(let g=0;g<o.length;g++)if(o[g].getFinderPattern().getValue()!=u[g]){h=!1;break}if(h)return!0}return!1}storeRow(o,u){let h=0,g=!1,x=!1;for(;h<this.rows.length;){let w=this.rows[h];if(w.getRowNumber()>o){x=w.isEquivalent(this.pairs);break}g=w.isEquivalent(this.pairs),h++}x||g||Ne.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new Na(this.pairs,o,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,u){for(let h of u)if(h.getPairs().length!==o.length){for(let g of h.getPairs())for(let x of o)if(Gi.equals(g,x))break}}static isPartialRow(o,u){for(let h of u){let g=!0;for(let x of o){let w=!1;for(let C of h.getPairs())if(x.equals(C)){w=!0;break}if(!w){g=!1;break}}if(g)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=ke.buildBitArray(o),g=Ds(u).parseInformation(),x=o[0].getFinderPattern().getResultPoints(),w=o[o.length-1].getFinderPattern().getResultPoints(),C=[x[0],x[1],w[0],w[1]];return new Ie(g,null,null,C,Se.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),u=o.getLeftChar(),h=o.getRightChar();if(h==null)return!1;let g=h.getChecksumPortion(),x=2;for(let C=1;C<this.pairs.size();++C){let N=this.pairs.get(C);g+=N.getLeftChar().getChecksumPortion(),x++;let I=N.getRightChar();I!=null&&(g+=I.getChecksumPortion(),x++)}return g%=211,211*(x-4)+g==u.getValue()}static getNextSecondBar(o,u){let h;return o.get(u)?(h=o.getNextUnset(u),h=o.getNextSet(h)):(h=o.getNextSet(u),h=o.getNextUnset(h)),h}retrieveNextPair(o,u,h){let g=u.length%2==0;this.startFromEven&&(g=!g);let x,w=!0,C=-1;do this.findNextPair(o,u,C),x=this.parseFoundFinderPattern(o,h,g),x==null?C=Ne.getNextSecondBar(o,this.startEnd[0]):w=!1;while(w);let N=this.decodeDataCharacter(o,x,g,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new ne;let I;try{I=this.decodeDataCharacter(o,x,g,!1)}catch(j){I=null,this.verbose&&console.log(j)}return new Gi(N,I,x,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,u,h){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=o.getSize(),w;h>=0?w=h:this.isEmptyPair(u)?w=0:w=u[u.length-1].getFinderPattern().getStartEnd()[1];let C=u.length%2!=0;this.startFromEven&&(C=!C);let N=!1;for(;w<x&&(N=!o.get(w),!!N);)w++;let I=0,j=w;for(let V=w;V<x;V++)if(o.get(V)!=N)g[I]++;else{if(I==3){if(C&&Ne.reverseCounters(g),Ne.isFinderPattern(g)){this.startEnd[0]=j,this.startEnd[1]=V;return}C&&Ne.reverseCounters(g),j+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,I--}else I++;g[I]=1,N=!N}throw new ne}static reverseCounters(o){let u=o.length;for(let h=0;h<u/2;++h){let g=o[h];o[h]=o[u-h-1],o[u-h-1]=g}}parseFoundFinderPattern(o,u,h){let g,x,w;if(h){let I=this.startEnd[0]-1;for(;I>=0&&!o.get(I);)I--;I++,g=this.startEnd[0]-I,x=I,w=this.startEnd[1]}else x=this.startEnd[0],w=o.getNextUnset(this.startEnd[1]+1),g=w-this.startEnd[1];let C=this.getDecodeFinderCounters();O.arraycopy(C,0,C,1,C.length-1),C[0]=g;let N;try{N=this.parseFinderValue(C,Ne.FINDER_PATTERNS)}catch{return null}return new ce(N,[x,w],x,w,u)}decodeDataCharacter(o,u,h,g){let x=this.getDataCharacterCounters();for(let mn=0;mn<x.length;mn++)x[mn]=0;if(g)Ne.recordPatternInReverse(o,u.getStartEnd()[0],x);else{Ne.recordPattern(o,u.getStartEnd()[1],x);for(let mn=0,Ti=x.length-1;mn<Ti;mn++,Ti--){let ir=x[mn];x[mn]=x[Ti],x[Ti]=ir}}let w=17,C=Tt.sum(new Int32Array(x))/w,N=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(C-N)/N>.3)throw new ne;let I=this.getOddCounts(),j=this.getEvenCounts(),V=this.getOddRoundingErrors(),q=this.getEvenRoundingErrors();for(let mn=0;mn<x.length;mn++){let Ti=1*x[mn]/C,ir=Ti+.5;if(ir<1){if(Ti<.3)throw new ne;ir=1}else if(ir>8){if(Ti>8.7)throw new ne;ir=8}let Da=mn/2;(mn&1)==0?(I[Da]=ir,V[Da]=Ti-ir):(j[Da]=ir,q[Da]=Ti-ir)}this.adjustOddEvenCounts(w);let K=4*u.getValue()+(h?0:2)+(g?0:1)-1,ee=0,ie=0;for(let mn=I.length-1;mn>=0;mn--){if(Ne.isNotA1left(u,h,g)){let Ti=Ne.WEIGHTS[K][2*mn];ie+=I[mn]*Ti}ee+=I[mn]}let de=0;for(let mn=j.length-1;mn>=0;mn--)if(Ne.isNotA1left(u,h,g)){let Ti=Ne.WEIGHTS[K][2*mn+1];de+=j[mn]*Ti}let ye=ie+de;if((ee&1)!=0||ee>13||ee<4)throw new ne;let Fe=(13-ee)/2,He=Ne.SYMBOL_WIDEST[Fe],je=9-He,Et=ge.getRSSvalue(I,He,!0),Ct=ge.getRSSvalue(j,je,!1),qi=Ne.EVEN_TOTAL_SUBSET[Fe],Rr=Ne.GSUM[Fe],nr=Et*qi+Ct+Rr;return new te(nr,ye)}static isNotA1left(o,u,h){return!(o.getValue()==0&&u&&h)}adjustOddEvenCounts(o){let u=Tt.sum(new Int32Array(this.getOddCounts())),h=Tt.sum(new Int32Array(this.getEvenCounts())),g=!1,x=!1;u>13?x=!0:u<4&&(g=!0);let w=!1,C=!1;h>13?C=!0:h<4&&(w=!0);let N=u+h-o,I=(u&1)==1,j=(h&1)==0;if(N==1)if(I){if(j)throw new ne;x=!0}else{if(!j)throw new ne;C=!0}else if(N==-1)if(I){if(j)throw new ne;g=!0}else{if(!j)throw new ne;w=!0}else if(N==0){if(I){if(!j)throw new ne;u<h?(g=!0,C=!0):(x=!0,w=!0)}else if(j)throw new ne}else throw new ne;if(g){if(x)throw new ne;Ne.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Ne.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(C)throw new ne;Ne.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Ne.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ne.SYMBOL_WIDEST=[7,5,4,3,1],Ne.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ne.GSUM=[0,348,1388,2948,3988],Ne.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ne.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ne.FINDER_PAT_A=0,Ne.FINDER_PAT_B=1,Ne.FINDER_PAT_C=2,Ne.FINDER_PAT_D=3,Ne.FINDER_PAT_E=4,Ne.FINDER_PAT_F=5,Ne.FINDER_PATTERN_SEQUENCES=[[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_C,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_C],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_E],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F]],Ne.MAX_PAIRS=11;class Bs extends te{constructor(o,u,h){super(o,u),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class it extends Yn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,u,h){const g=this.decodePair(u,!1,o,h);it.addOrTally(this.possibleLeftPairs,g),u.reverse();let x=this.decodePair(u,!0,o,h);it.addOrTally(this.possibleRightPairs,x),u.reverse();for(let w of this.possibleLeftPairs)if(w.getCount()>1){for(let C of this.possibleRightPairs)if(C.getCount()>1&&it.checkChecksum(w,C))return it.constructResult(w,C)}throw new ne}static addOrTally(o,u){if(u==null)return;let h=!1;for(let g of o)if(g.getValue()===u.getValue()){g.incrementCount(),h=!0;break}h||o.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,u){let h=4537077*o.getValue()+u.getValue(),g=new String(h).toString(),x=new Oe;for(let I=13-g.length;I>0;I--)x.append("0");x.append(g);let w=0;for(let I=0;I<13;I++){let j=x.charAt(I).charCodeAt(0)-48;w+=(I&1)===0?3*j:j}w=10-w%10,w===10&&(w=0),x.append(w.toString());let C=o.getFinderPattern().getResultPoints(),N=u.getFinderPattern().getResultPoints();return new Ie(x.toString(),null,0,[C[0],C[1],N[0],N[1]],Se.RSS_14,new Date().getTime())}static checkChecksum(o,u){let h=(o.getChecksumPortion()+16*u.getChecksumPortion())%79,g=9*o.getFinderPattern().getValue()+u.getFinderPattern().getValue();return g>72&&g--,g>8&&g--,h===g}decodePair(o,u,h,g){try{let x=this.findFinderPattern(o,u),w=this.parseFoundFinderPattern(o,h,u,x),C=g==null?null:g.get(B.NEED_RESULT_POINT_CALLBACK);if(C!=null){let j=(x[0]+x[1])/2;u&&(j=o.getSize()-1-j),C.foundPossibleResultPoint(new qe(j,h))}let N=this.decodeDataCharacter(o,w,!0),I=this.decodeDataCharacter(o,w,!1);return new Bs(1597*N.getValue()+I.getValue(),N.getChecksumPortion()+4*I.getChecksumPortion(),w)}catch{return null}}decodeDataCharacter(o,u,h){let g=this.getDataCharacterCounters();for(let de=0;de<g.length;de++)g[de]=0;if(h)sn.recordPatternInReverse(o,u.getStartEnd()[0],g);else{sn.recordPattern(o,u.getStartEnd()[1]+1,g);for(let de=0,ye=g.length-1;de<ye;de++,ye--){let Fe=g[de];g[de]=g[ye],g[ye]=Fe}}let x=h?16:15,w=Tt.sum(new Int32Array(g))/x,C=this.getOddCounts(),N=this.getEvenCounts(),I=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let de=0;de<g.length;de++){let ye=g[de]/w,Fe=Math.floor(ye+.5);Fe<1?Fe=1:Fe>8&&(Fe=8);let He=Math.floor(de/2);(de&1)===0?(C[He]=Fe,I[He]=ye-Fe):(N[He]=Fe,j[He]=ye-Fe)}this.adjustOddEvenCounts(h,x);let V=0,q=0;for(let de=C.length-1;de>=0;de--)q*=9,q+=C[de],V+=C[de];let K=0,ee=0;for(let de=N.length-1;de>=0;de--)K*=9,K+=N[de],ee+=N[de];let ie=q+3*K;if(h){if((V&1)!==0||V>12||V<4)throw new ne;let de=(12-V)/2,ye=it.OUTSIDE_ODD_WIDEST[de],Fe=9-ye,He=ge.getRSSvalue(C,ye,!1),je=ge.getRSSvalue(N,Fe,!0),Et=it.OUTSIDE_EVEN_TOTAL_SUBSET[de],Ct=it.OUTSIDE_GSUM[de];return new te(He*Et+je+Ct,ie)}else{if((ee&1)!==0||ee>10||ee<4)throw new ne;let de=(10-ee)/2,ye=it.INSIDE_ODD_WIDEST[de],Fe=9-ye,He=ge.getRSSvalue(C,ye,!0),je=ge.getRSSvalue(N,Fe,!1),Et=it.INSIDE_ODD_TOTAL_SUBSET[de],Ct=it.INSIDE_GSUM[de];return new te(je*Et+He+Ct,ie)}}findFinderPattern(o,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=o.getSize(),x=!1,w=0;for(;w<g&&(x=!o.get(w),u!==x);)w++;let C=0,N=w;for(let I=w;I<g;I++)if(o.get(I)!==x)h[C]++;else{if(C===3){if(Yn.isFinderPattern(h))return[N,I];N+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,C--}else C++;h[C]=1,x=!x}throw new ne}parseFoundFinderPattern(o,u,h,g){let x=o.get(g[0]),w=g[0]-1;for(;w>=0&&x!==o.get(w);)w--;w++;const C=g[0]-w,N=this.getDecodeFinderCounters(),I=new Int32Array(N.length);O.arraycopy(N,0,I,1,N.length-1),I[0]=C;const j=this.parseFinderValue(I,it.FINDER_PATTERNS);let V=w,q=g[1];return h&&(V=o.getSize()-1-V,q=o.getSize()-1-q),new ce(j,[w,g[1]],V,q,u)}adjustOddEvenCounts(o,u){let h=Tt.sum(new Int32Array(this.getOddCounts())),g=Tt.sum(new Int32Array(this.getEvenCounts())),x=!1,w=!1,C=!1,N=!1;o?(h>12?w=!0:h<4&&(x=!0),g>12?N=!0:g<4&&(C=!0)):(h>11?w=!0:h<5&&(x=!0),g>10?N=!0:g<4&&(C=!0));let I=h+g-u,j=(h&1)===(o?1:0),V=(g&1)===1;if(I===1)if(j){if(V)throw new ne;w=!0}else{if(!V)throw new ne;N=!0}else if(I===-1)if(j){if(V)throw new ne;x=!0}else{if(!V)throw new ne;C=!0}else if(I===0){if(j){if(!V)throw new ne;h<g?(x=!0,N=!0):(w=!0,C=!0)}else if(V)throw new ne}else throw new ne;if(x){if(w)throw new ne;Yn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&Yn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(N)throw new ne;Yn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&Yn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],it.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],it.OUTSIDE_GSUM=[0,161,961,2015,2715],it.INSIDE_GSUM=[0,336,1036,1516],it.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],it.INSIDE_ODD_WIDEST=[2,4,6,8],it.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Un extends sn{constructor(o,u){super(),this.readers=[],this.verbose=u===!0;const h=o?o.get(B.POSSIBLE_FORMATS):null,g=o&&o.get(B.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(Se.EAN_13)||h.includes(Se.UPC_A)||h.includes(Se.EAN_8)||h.includes(Se.UPC_E))&&this.readers.push(new Ta(o)),h.includes(Se.CODE_39)&&this.readers.push(new rn(g)),h.includes(Se.CODE_128)&&this.readers.push(new Ue),h.includes(Se.ITF)&&this.readers.push(new Ft),h.includes(Se.RSS_14)&&this.readers.push(new it),h.includes(Se.RSS_EXPANDED)&&this.readers.push(new Ne(this.verbose))):(this.readers.push(new Ta(o)),this.readers.push(new rn),this.readers.push(new Ta(o)),this.readers.push(new Ue),this.readers.push(new Ft),this.readers.push(new it),this.readers.push(new Ne(this.verbose)))}decodeRow(o,u,h){for(let g=0;g<this.readers.length;g++)try{return this.readers[g].decodeRow(o,u,h)}catch{}throw new ne}reset(){this.readers.forEach(o=>o.reset())}}class Vr extends Le{constructor(o=500,u){super(new Un(u),o,u)}}class Mt{constructor(o,u,h){this.ecCodewords=o,this.ecBlocks=[u],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ht{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(o,u,h,g,x,w){this.versionNumber=o,this.symbolSizeRows=u,this.symbolSizeColumns=h,this.dataRegionSizeRows=g,this.dataRegionSizeColumns=x,this.ecBlocks=w;let C=0;const N=w.getECCodewords(),I=w.getECBlocks();for(let j of I)C+=j.getCount()*(j.getDataCodewords()+N);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,u){if((o&1)!==0||(u&1)!==0)throw new z;for(let h of rt.VERSIONS)if(h.symbolSizeRows===o&&h.symbolSizeColumns===u)return h;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new rt(1,10,10,8,8,new Mt(5,new Ht(1,3))),new rt(2,12,12,10,10,new Mt(7,new Ht(1,5))),new rt(3,14,14,12,12,new Mt(10,new Ht(1,8))),new rt(4,16,16,14,14,new Mt(12,new Ht(1,12))),new rt(5,18,18,16,16,new Mt(14,new Ht(1,18))),new rt(6,20,20,18,18,new Mt(18,new Ht(1,22))),new rt(7,22,22,20,20,new Mt(20,new Ht(1,30))),new rt(8,24,24,22,22,new Mt(24,new Ht(1,36))),new rt(9,26,26,24,24,new Mt(28,new Ht(1,44))),new rt(10,32,32,14,14,new Mt(36,new Ht(1,62))),new rt(11,36,36,16,16,new Mt(42,new Ht(1,86))),new rt(12,40,40,18,18,new Mt(48,new Ht(1,114))),new rt(13,44,44,20,20,new Mt(56,new Ht(1,144))),new rt(14,48,48,22,22,new Mt(68,new Ht(1,174))),new rt(15,52,52,24,24,new Mt(42,new Ht(2,102))),new rt(16,64,64,14,14,new Mt(56,new Ht(2,140))),new rt(17,72,72,16,16,new Mt(36,new Ht(4,92))),new rt(18,80,80,18,18,new Mt(48,new Ht(4,114))),new rt(19,88,88,20,20,new Mt(56,new Ht(4,144))),new rt(20,96,96,22,22,new Mt(68,new Ht(4,174))),new rt(21,104,104,24,24,new Mt(56,new Ht(6,136))),new rt(22,120,120,18,18,new Mt(68,new Ht(6,175))),new rt(23,132,132,20,20,new Mt(62,new Ht(8,163))),new rt(24,144,144,22,22,new Mt(62,new Ht(8,156),new Ht(2,155))),new rt(25,8,18,6,16,new Mt(7,new Ht(1,5))),new rt(26,8,32,6,14,new Mt(11,new Ht(1,10))),new rt(27,12,26,10,24,new Mt(14,new Ht(1,16))),new rt(28,12,36,10,16,new Mt(18,new Ht(1,22))),new rt(29,16,36,14,16,new Mt(24,new Ht(1,32))),new rt(30,16,48,14,22,new Mt(28,new Ht(1,49)))]}}rt.VERSIONS=rt.buildVersions();class ds{constructor(o){const u=o.getHeight();if(u<8||u>144||(u&1)!==0)throw new z;this.version=ds.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new Te(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const u=o.getHeight(),h=o.getWidth();return rt.getVersionForDimensions(u,h)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let u=0,h=4,g=0;const x=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth();let C=!1,N=!1,I=!1,j=!1;do if(h===x&&g===0&&!C)o[u++]=this.readCorner1(x,w)&255,h-=2,g+=2,C=!0;else if(h===x-2&&g===0&&(w&3)!==0&&!N)o[u++]=this.readCorner2(x,w)&255,h-=2,g+=2,N=!0;else if(h===x+4&&g===2&&(w&7)===0&&!I)o[u++]=this.readCorner3(x,w)&255,h-=2,g+=2,I=!0;else if(h===x-2&&g===0&&(w&7)===4&&!j)o[u++]=this.readCorner4(x,w)&255,h-=2,g+=2,j=!0;else{do h<x&&g>=0&&!this.readMappingMatrix.get(g,h)&&(o[u++]=this.readUtah(h,g,x,w)&255),h-=2,g+=2;while(h>=0&&g<w);h+=1,g+=3;do h>=0&&g<w&&!this.readMappingMatrix.get(g,h)&&(o[u++]=this.readUtah(h,g,x,w)&255),h+=2,g-=2;while(h<x&&g>=0);h+=3,g+=1}while(h<x||g<w);if(u!==this.version.getTotalCodewords())throw new z;return o}readModule(o,u,h,g){return o<0&&(o+=h,u+=4-(h+4&7)),u<0&&(u+=g,o+=4-(g+4&7)),this.readMappingMatrix.set(u,o),this.mappingBitMatrix.get(u,o)}readUtah(o,u,h,g){let x=0;return this.readModule(o-2,u-2,h,g)&&(x|=1),x<<=1,this.readModule(o-2,u-1,h,g)&&(x|=1),x<<=1,this.readModule(o-1,u-2,h,g)&&(x|=1),x<<=1,this.readModule(o-1,u-1,h,g)&&(x|=1),x<<=1,this.readModule(o-1,u,h,g)&&(x|=1),x<<=1,this.readModule(o,u-2,h,g)&&(x|=1),x<<=1,this.readModule(o,u-1,h,g)&&(x|=1),x<<=1,this.readModule(o,u,h,g)&&(x|=1),x}readCorner1(o,u){let h=0;return this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,1,o,u)&&(h|=1),h<<=1,this.readModule(o-1,2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(2,u-1,o,u)&&(h|=1),h<<=1,this.readModule(3,u-1,o,u)&&(h|=1),h}readCorner2(o,u){let h=0;return this.readModule(o-3,0,o,u)&&(h|=1),h<<=1,this.readModule(o-2,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(0,u-4,o,u)&&(h|=1),h<<=1,this.readModule(0,u-3,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h}readCorner3(o,u){let h=0;return this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(0,u-3,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-3,o,u)&&(h|=1),h<<=1,this.readModule(1,u-2,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h}readCorner4(o,u){let h=0;return this.readModule(o-3,0,o,u)&&(h|=1),h<<=1,this.readModule(o-2,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(2,u-1,o,u)&&(h|=1),h<<=1,this.readModule(3,u-1,o,u)&&(h|=1),h}extractDataRegion(o){const u=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(o.getHeight()!==u)throw new _("Dimension of bitMatrix must match the version size");const g=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),w=u/g|0,C=h/x|0,N=w*g,I=C*x,j=new Te(I,N);for(let V=0;V<w;++V){const q=V*g;for(let K=0;K<C;++K){const ee=K*x;for(let ie=0;ie<g;++ie){const de=V*(g+2)+1+ie,ye=q+ie;for(let Fe=0;Fe<x;++Fe){const He=K*(x+2)+1+Fe;if(o.get(He,de)){const je=ee+Fe;j.set(je,ye)}}}}}return j}}class Ma{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u){const h=u.getECBlocks();let g=0;const x=h.getECBlocks();for(let ie of x)g+=ie.getCount();const w=new Array(g);let C=0;for(let ie of x)for(let de=0;de<ie.getCount();de++){const ye=ie.getDataCodewords(),Fe=h.getECCodewords()+ye;w[C++]=new Ma(ye,new Uint8Array(Fe))}const I=w[0].codewords.length-h.getECCodewords(),j=I-1;let V=0;for(let ie=0;ie<j;ie++)for(let de=0;de<C;de++)w[de].codewords[ie]=o[V++];const q=u.getVersionNumber()===24,K=q?8:C;for(let ie=0;ie<K;ie++)w[ie].codewords[I-1]=o[V++];const ee=w[0].codewords.length;for(let ie=I;ie<ee;ie++)for(let de=0;de<C;de++){const ye=q?(de+8)%C:de,Fe=q&&ye>7?ie-1:ie;w[ye].codewords[Fe]=o[V++]}if(V!==o.length)throw new _;return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Di{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new _(""+o);let u=0,h=this.bitOffset,g=this.byteOffset;const x=this.bytes;if(h>0){const w=8-h,C=o<w?o:w,N=w-C,I=255>>8-C<<N;u=(x[g]&I)>>N,o-=C,h+=C,h===8&&(h=0,g++)}if(o>0){for(;o>=8;)u=u<<8|x[g]&255,g++,o-=8;if(o>0){const w=8-o,C=255>>w<<w;u=u<<o|(x[g]&C)>>w,h+=o}}return this.bitOffset=h,this.byteOffset=g,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Kn;(function(U){U[U.PAD_ENCODE=0]="PAD_ENCODE",U[U.ASCII_ENCODE=1]="ASCII_ENCODE",U[U.C40_ENCODE=2]="C40_ENCODE",U[U.TEXT_ENCODE=3]="TEXT_ENCODE",U[U.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",U[U.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",U[U.BASE256_ENCODE=6]="BASE256_ENCODE"})(Kn||(Kn={}));class Js{static decode(o){const u=new Di(o),h=new Oe,g=new Oe,x=new Array;let w=Kn.ASCII_ENCODE;do if(w===Kn.ASCII_ENCODE)w=this.decodeAsciiSegment(u,h,g);else{switch(w){case Kn.C40_ENCODE:this.decodeC40Segment(u,h);break;case Kn.TEXT_ENCODE:this.decodeTextSegment(u,h);break;case Kn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,h);break;case Kn.EDIFACT_ENCODE:this.decodeEdifactSegment(u,h);break;case Kn.BASE256_ENCODE:this.decodeBase256Segment(u,h,x);break;default:throw new z}w=Kn.ASCII_ENCODE}while(w!==Kn.PAD_ENCODE&&u.available()>0);return g.length()>0&&h.append(g.toString()),new bi(o,h.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(o,u,h){let g=!1;do{let x=o.readBits(8);if(x===0)throw new z;if(x<=128)return g&&(x+=128),u.append(String.fromCharCode(x-1)),Kn.ASCII_ENCODE;if(x===129)return Kn.PAD_ENCODE;if(x<=229){const w=x-130;w<10&&u.append("0"),u.append(""+w)}else switch(x){case 230:return Kn.C40_ENCODE;case 231:return Kn.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:g=!0;break;case 236:u.append("[)>05"),h.insert(0,"");break;case 237:u.append("[)>06"),h.insert(0,"");break;case 238:return Kn.ANSIX12_ENCODE;case 239:return Kn.TEXT_ENCODE;case 240:return Kn.EDIFACT_ENCODE;case 241:break;default:if(x!==254||o.available()!==0)throw new z;break}}while(o.available()>0);return Kn.ASCII_ENCODE}static decodeC40Segment(o,u){let h=!1;const g=[];let x=0;do{if(o.available()===8)return;const w=o.readBits(8);if(w===254)return;this.parseTwoBytes(w,o.readBits(8),g);for(let C=0;C<3;C++){const N=g[C];switch(x){case 0:if(N<3)x=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const I=this.C40_BASIC_SET_CHARS[N];h?(u.append(String.fromCharCode(I.charCodeAt(0)+128)),h=!1):u.append(I)}else throw new z;break;case 1:h?(u.append(String.fromCharCode(N+128)),h=!1):u.append(String.fromCharCode(N)),x=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const I=this.C40_SHIFT2_SET_CHARS[N];h?(u.append(String.fromCharCode(I.charCodeAt(0)+128)),h=!1):u.append(I)}else switch(N){case 27:u.append("");break;case 30:h=!0;break;default:throw new z}x=0;break;case 3:h?(u.append(String.fromCharCode(N+224)),h=!1):u.append(String.fromCharCode(N+96)),x=0;break;default:throw new z}}}while(o.available()>0)}static decodeTextSegment(o,u){let h=!1,g=[],x=0;do{if(o.available()===8)return;const w=o.readBits(8);if(w===254)return;this.parseTwoBytes(w,o.readBits(8),g);for(let C=0;C<3;C++){const N=g[C];switch(x){case 0:if(N<3)x=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const I=this.TEXT_BASIC_SET_CHARS[N];h?(u.append(String.fromCharCode(I.charCodeAt(0)+128)),h=!1):u.append(I)}else throw new z;break;case 1:h?(u.append(String.fromCharCode(N+128)),h=!1):u.append(String.fromCharCode(N)),x=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const I=this.TEXT_SHIFT2_SET_CHARS[N];h?(u.append(String.fromCharCode(I.charCodeAt(0)+128)),h=!1):u.append(I)}else switch(N){case 27:u.append("");break;case 30:h=!0;break;default:throw new z}x=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const I=this.TEXT_SHIFT3_SET_CHARS[N];h?(u.append(String.fromCharCode(I.charCodeAt(0)+128)),h=!1):u.append(I),x=0}else throw new z;break;default:throw new z}}}while(o.available()>0)}static decodeAnsiX12Segment(o,u){const h=[];do{if(o.available()===8)return;const g=o.readBits(8);if(g===254)return;this.parseTwoBytes(g,o.readBits(8),h);for(let x=0;x<3;x++){const w=h[x];switch(w){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(w<14)u.append(String.fromCharCode(w+44));else if(w<40)u.append(String.fromCharCode(w+51));else throw new z;break}}}while(o.available()>0)}static parseTwoBytes(o,u,h){let g=(o<<8)+u-1,x=Math.floor(g/1600);h[0]=x,g-=x*1600,x=Math.floor(g/40),h[1]=x,h[2]=g-x*40}static decodeEdifactSegment(o,u){do{if(o.available()<=16)return;for(let h=0;h<4;h++){let g=o.readBits(6);if(g===31){const x=8-o.getBitOffset();x!==8&&o.readBits(x);return}(g&32)===0&&(g|=64),u.append(String.fromCharCode(g))}}while(o.available()>0)}static decodeBase256Segment(o,u,h){let g=1+o.getByteOffset();const x=this.unrandomize255State(o.readBits(8),g++);let w;if(x===0?w=o.available()/8|0:x<250?w=x:w=250*(x-249)+this.unrandomize255State(o.readBits(8),g++),w<0)throw new z;const C=new Uint8Array(w);for(let N=0;N<w;N++){if(o.available()<8)throw new z;C[N]=this.unrandomize255State(o.readBits(8),g++)}h.push(C);try{u.append(ae.decode(C,ue.ISO88591))}catch(N){throw new $i("Platform does not support required encoding: "+N.message)}}static unrandomize255State(o,u){const h=149*u%255+1,g=o-h;return g>=0?g:g+256}}Js.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Js.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Js.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Js.TEXT_SHIFT2_SET_CHARS=Js.C40_SHIFT2_SET_CHARS,Js.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Bc{constructor(){this.rsDecoder=new cs(kt.DATA_MATRIX_FIELD_256)}decode(o){const u=new ds(o),h=u.getVersion(),g=u.readCodewords(),x=Ma.getDataBlocks(g,h);let w=0;for(let I of x)w+=I.getNumDataCodewords();const C=new Uint8Array(w),N=x.length;for(let I=0;I<N;I++){const j=x[I],V=j.getCodewords(),q=j.getNumDataCodewords();this.correctErrors(V,q);for(let K=0;K<q;K++)C[K*N+I]=V[K]}return Js.decode(C)}correctErrors(o,u){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-u)}catch{throw new T}for(let g=0;g<u;g++)o[g]=h[g]}}class jn{constructor(o){this.image=o,this.rectangleDetector=new $e(this.image)}detect(){const o=this.rectangleDetector.detect();let u=this.detectSolid1(o);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new ne;u=this.shiftToModuleCenter(u);const h=u[0],g=u[1],x=u[2],w=u[3];let C=this.transitionsBetween(h,w)+1,N=this.transitionsBetween(x,w)+1;(C&1)===1&&(C+=1),(N&1)===1&&(N+=1),4*C<7*N&&4*N<7*C&&(C=N=Math.max(C,N));let I=jn.sampleGrid(this.image,h,g,x,w,C,N);return new Ji(I,[h,g,x,w])}static shiftPoint(o,u,h){let g=(u.getX()-o.getX())/(h+1),x=(u.getY()-o.getY())/(h+1);return new qe(o.getX()+g,o.getY()+x)}static moveAway(o,u,h){let g=o.getX(),x=o.getY();return g<u?g-=1:g+=1,x<h?x-=1:x+=1,new qe(g,x)}detectSolid1(o){let u=o[0],h=o[1],g=o[3],x=o[2],w=this.transitionsBetween(u,h),C=this.transitionsBetween(h,g),N=this.transitionsBetween(g,x),I=this.transitionsBetween(x,u),j=w,V=[x,u,h,g];return j>C&&(j=C,V[0]=u,V[1]=h,V[2]=g,V[3]=x),j>N&&(j=N,V[0]=h,V[1]=g,V[2]=x,V[3]=u),j>I&&(V[0]=g,V[1]=x,V[2]=u,V[3]=h),V}detectSolid2(o){let u=o[0],h=o[1],g=o[2],x=o[3],w=this.transitionsBetween(u,x),C=jn.shiftPoint(h,g,(w+1)*4),N=jn.shiftPoint(g,h,(w+1)*4),I=this.transitionsBetween(C,u),j=this.transitionsBetween(N,x);return I<j?(o[0]=u,o[1]=h,o[2]=g,o[3]=x):(o[0]=h,o[1]=g,o[2]=x,o[3]=u),o}correctTopRight(o){let u=o[0],h=o[1],g=o[2],x=o[3],w=this.transitionsBetween(u,x),C=this.transitionsBetween(h,x),N=jn.shiftPoint(u,h,(C+1)*4),I=jn.shiftPoint(g,h,(w+1)*4);w=this.transitionsBetween(N,x),C=this.transitionsBetween(I,x);let j=new qe(x.getX()+(g.getX()-h.getX())/(w+1),x.getY()+(g.getY()-h.getY())/(w+1)),V=new qe(x.getX()+(u.getX()-h.getX())/(C+1),x.getY()+(u.getY()-h.getY())/(C+1));if(!this.isValid(j))return this.isValid(V)?V:null;if(!this.isValid(V))return j;let q=this.transitionsBetween(N,j)+this.transitionsBetween(I,j),K=this.transitionsBetween(N,V)+this.transitionsBetween(I,V);return q>K?j:V}shiftToModuleCenter(o){let u=o[0],h=o[1],g=o[2],x=o[3],w=this.transitionsBetween(u,x)+1,C=this.transitionsBetween(g,x)+1,N=jn.shiftPoint(u,h,C*4),I=jn.shiftPoint(g,h,w*4);w=this.transitionsBetween(N,x)+1,C=this.transitionsBetween(I,x)+1,(w&1)===1&&(w+=1),(C&1)===1&&(C+=1);let j=(u.getX()+h.getX()+g.getX()+x.getX())/4,V=(u.getY()+h.getY()+g.getY()+x.getY())/4;u=jn.moveAway(u,j,V),h=jn.moveAway(h,j,V),g=jn.moveAway(g,j,V),x=jn.moveAway(x,j,V);let q,K;return N=jn.shiftPoint(u,h,C*4),N=jn.shiftPoint(N,x,w*4),q=jn.shiftPoint(h,u,C*4),q=jn.shiftPoint(q,g,w*4),I=jn.shiftPoint(g,x,C*4),I=jn.shiftPoint(I,h,w*4),K=jn.shiftPoint(x,g,C*4),K=jn.shiftPoint(K,u,w*4),[N,q,I,K]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,u,h,g,x,w,C){return tn.getInstance().sampleGrid(o,w,C,.5,.5,w-.5,.5,w-.5,C-.5,.5,C-.5,u.getX(),u.getY(),x.getX(),x.getY(),g.getX(),g.getY(),h.getX(),h.getY())}transitionsBetween(o,u){let h=Math.trunc(o.getX()),g=Math.trunc(o.getY()),x=Math.trunc(u.getX()),w=Math.trunc(u.getY()),C=Math.abs(w-g)>Math.abs(x-h);if(C){let ie=h;h=g,g=ie,ie=x,x=w,w=ie}let N=Math.abs(x-h),I=Math.abs(w-g),j=-N/2,V=g<w?1:-1,q=h<x?1:-1,K=0,ee=this.image.get(C?g:h,C?h:g);for(let ie=h,de=g;ie!==x;ie+=q){let ye=this.image.get(C?de:ie,C?ie:de);if(ye!==ee&&(K++,ee=ye),j+=I,j>0){if(de===w)break;de+=V,j-=N}}return K}}class $r{constructor(){this.decoder=new Bc}decode(o,u=null){let h,g;if(u!=null&&u.has(B.PURE_BARCODE)){const I=$r.extractPureBits(o.getBlackMatrix());h=this.decoder.decode(I),g=$r.NO_POINTS}else{const I=new jn(o.getBlackMatrix()).detect();h=this.decoder.decode(I.getBits()),g=I.getPoints()}const x=h.getRawBytes(),w=new Ie(h.getText(),x,8*x.length,g,Se.DATA_MATRIX,O.currentTimeMillis()),C=h.getByteSegments();C!=null&&w.putMetadata(xt.BYTE_SEGMENTS,C);const N=h.getECLevel();return N!=null&&w.putMetadata(xt.ERROR_CORRECTION_LEVEL,N),w}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(u==null||h==null)throw new ne;const g=this.moduleSize(u,o);let x=u[1];const w=h[1];let C=u[0];const I=(h[0]-C+1)/g,j=(w-x+1)/g;if(I<=0||j<=0)throw new ne;const V=g/2;x+=V,C+=V;const q=new Te(I,j);for(let K=0;K<j;K++){const ee=x+K*g;for(let ie=0;ie<I;ie++)o.get(C+ie*g,ee)&&q.set(ie,K)}return q}static moduleSize(o,u){const h=u.getWidth();let g=o[0];const x=o[1];for(;g<h&&u.get(g,x);)g++;if(g===h)throw new ne;const w=g-o[0];if(w===0)throw new ne;return w}}$r.NO_POINTS=[];class Pm extends Le{constructor(o=500){super(new $r,o)}}var Ci;(function(U){U[U.L=0]="L",U[U.M=1]="M",U[U.Q=2]="Q",U[U.H=3]="H"})(Ci||(Ci={}));class fn{constructor(o,u,h){this.value=o,this.stringValue=u,this.bits=h,fn.FOR_BITS.set(h,this),fn.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return fn.L;case"M":return fn.M;case"Q":return fn.Q;case"H":return fn.H;default:throw new y(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof fn))return!1;const u=o;return this.value===u.value}static forBits(o){if(o<0||o>=fn.FOR_BITS.size)throw new _;return fn.FOR_BITS.get(o)}}fn.FOR_BITS=new Map,fn.FOR_VALUE=new Map,fn.L=new fn(Ci.L,"L",1),fn.M=new fn(Ci.M,"M",0),fn.Q=new fn(Ci.Q,"Q",3),fn.H=new fn(Ci.H,"H",2);class Si{constructor(o){this.errorCorrectionLevel=fn.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,u){return P.bitCount(o^u)}static decodeFormatInformation(o,u){const h=Si.doDecodeFormatInformation(o,u);return h!==null?h:Si.doDecodeFormatInformation(o^Si.FORMAT_INFO_MASK_QR,u^Si.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,u){let h=Number.MAX_SAFE_INTEGER,g=0;for(const x of Si.FORMAT_INFO_DECODE_LOOKUP){const w=x[0];if(w===o||w===u)return new Si(x[1]);let C=Si.numBitsDiffering(o,w);C<h&&(g=x[1],h=C),o!==u&&(C=Si.numBitsDiffering(u,w),C<h&&(g=x[1],h=C))}return h<=3?new Si(g):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof Si))return!1;const u=o;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}Si.FORMAT_INFO_MASK_QR=21522,Si.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class he{constructor(o,...u){this.ecCodewordsPerBlock=o,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const u=this.ecBlocks;for(const h of u)o+=h.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Y{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class st{constructor(o,u,...h){this.versionNumber=o,this.alignmentPatternCenters=u,this.ecBlocks=h;let g=0;const x=h[0].getECCodewordsPerBlock(),w=h[0].getECBlocks();for(const C of w)g+=C.getCount()*(C.getDataCodewords()+x);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new z;try{return this.getVersionForNumber((o-17)/4)}catch{throw new z}}static getVersionForNumber(o){if(o<1||o>40)throw new _;return st.VERSIONS[o-1]}static decodeVersionInformation(o){let u=Number.MAX_SAFE_INTEGER,h=0;for(let g=0;g<st.VERSION_DECODE_INFO.length;g++){const x=st.VERSION_DECODE_INFO[g];if(x===o)return st.getVersionForNumber(g+7);const w=Si.numBitsDiffering(o,x);w<u&&(h=g+7,u=w)}return u<=3?st.getVersionForNumber(h):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),u=new Te(o);u.setRegion(0,0,9,9),u.setRegion(o-8,0,8,9),u.setRegion(0,o-8,9,8);const h=this.alignmentPatternCenters.length;for(let g=0;g<h;g++){const x=this.alignmentPatternCenters[g]-2;for(let w=0;w<h;w++)g===0&&(w===0||w===h-1)||g===h-1&&w===0||u.setRegion(this.alignmentPatternCenters[w]-2,x,5,5)}return u.setRegion(6,9,1,o-17),u.setRegion(9,6,o-17,1),this.versionNumber>6&&(u.setRegion(o-11,0,3,6),u.setRegion(0,o-11,6,3)),u}toString(){return""+this.versionNumber}}st.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),st.VERSIONS=[new st(1,new Int32Array(0),new he(7,new Y(1,19)),new he(10,new Y(1,16)),new he(13,new Y(1,13)),new he(17,new Y(1,9))),new st(2,Int32Array.from([6,18]),new he(10,new Y(1,34)),new he(16,new Y(1,28)),new he(22,new Y(1,22)),new he(28,new Y(1,16))),new st(3,Int32Array.from([6,22]),new he(15,new Y(1,55)),new he(26,new Y(1,44)),new he(18,new Y(2,17)),new he(22,new Y(2,13))),new st(4,Int32Array.from([6,26]),new he(20,new Y(1,80)),new he(18,new Y(2,32)),new he(26,new Y(2,24)),new he(16,new Y(4,9))),new st(5,Int32Array.from([6,30]),new he(26,new Y(1,108)),new he(24,new Y(2,43)),new he(18,new Y(2,15),new Y(2,16)),new he(22,new Y(2,11),new Y(2,12))),new st(6,Int32Array.from([6,34]),new he(18,new Y(2,68)),new he(16,new Y(4,27)),new he(24,new Y(4,19)),new he(28,new Y(4,15))),new st(7,Int32Array.from([6,22,38]),new he(20,new Y(2,78)),new he(18,new Y(4,31)),new he(18,new Y(2,14),new Y(4,15)),new he(26,new Y(4,13),new Y(1,14))),new st(8,Int32Array.from([6,24,42]),new he(24,new Y(2,97)),new he(22,new Y(2,38),new Y(2,39)),new he(22,new Y(4,18),new Y(2,19)),new he(26,new Y(4,14),new Y(2,15))),new st(9,Int32Array.from([6,26,46]),new he(30,new Y(2,116)),new he(22,new Y(3,36),new Y(2,37)),new he(20,new Y(4,16),new Y(4,17)),new he(24,new Y(4,12),new Y(4,13))),new st(10,Int32Array.from([6,28,50]),new he(18,new Y(2,68),new Y(2,69)),new he(26,new Y(4,43),new Y(1,44)),new he(24,new Y(6,19),new Y(2,20)),new he(28,new Y(6,15),new Y(2,16))),new st(11,Int32Array.from([6,30,54]),new he(20,new Y(4,81)),new he(30,new Y(1,50),new Y(4,51)),new he(28,new Y(4,22),new Y(4,23)),new he(24,new Y(3,12),new Y(8,13))),new st(12,Int32Array.from([6,32,58]),new he(24,new Y(2,92),new Y(2,93)),new he(22,new Y(6,36),new Y(2,37)),new he(26,new Y(4,20),new Y(6,21)),new he(28,new Y(7,14),new Y(4,15))),new st(13,Int32Array.from([6,34,62]),new he(26,new Y(4,107)),new he(22,new Y(8,37),new Y(1,38)),new he(24,new Y(8,20),new Y(4,21)),new he(22,new Y(12,11),new Y(4,12))),new st(14,Int32Array.from([6,26,46,66]),new he(30,new Y(3,115),new Y(1,116)),new he(24,new Y(4,40),new Y(5,41)),new he(20,new Y(11,16),new Y(5,17)),new he(24,new Y(11,12),new Y(5,13))),new st(15,Int32Array.from([6,26,48,70]),new he(22,new Y(5,87),new Y(1,88)),new he(24,new Y(5,41),new Y(5,42)),new he(30,new Y(5,24),new Y(7,25)),new he(24,new Y(11,12),new Y(7,13))),new st(16,Int32Array.from([6,26,50,74]),new he(24,new Y(5,98),new Y(1,99)),new he(28,new Y(7,45),new Y(3,46)),new he(24,new Y(15,19),new Y(2,20)),new he(30,new Y(3,15),new Y(13,16))),new st(17,Int32Array.from([6,30,54,78]),new he(28,new Y(1,107),new Y(5,108)),new he(28,new Y(10,46),new Y(1,47)),new he(28,new Y(1,22),new Y(15,23)),new he(28,new Y(2,14),new Y(17,15))),new st(18,Int32Array.from([6,30,56,82]),new he(30,new Y(5,120),new Y(1,121)),new he(26,new Y(9,43),new Y(4,44)),new he(28,new Y(17,22),new Y(1,23)),new he(28,new Y(2,14),new Y(19,15))),new st(19,Int32Array.from([6,30,58,86]),new he(28,new Y(3,113),new Y(4,114)),new he(26,new Y(3,44),new Y(11,45)),new he(26,new Y(17,21),new Y(4,22)),new he(26,new Y(9,13),new Y(16,14))),new st(20,Int32Array.from([6,34,62,90]),new he(28,new Y(3,107),new Y(5,108)),new he(26,new Y(3,41),new Y(13,42)),new he(30,new Y(15,24),new Y(5,25)),new he(28,new Y(15,15),new Y(10,16))),new st(21,Int32Array.from([6,28,50,72,94]),new he(28,new Y(4,116),new Y(4,117)),new he(26,new Y(17,42)),new he(28,new Y(17,22),new Y(6,23)),new he(30,new Y(19,16),new Y(6,17))),new st(22,Int32Array.from([6,26,50,74,98]),new he(28,new Y(2,111),new Y(7,112)),new he(28,new Y(17,46)),new he(30,new Y(7,24),new Y(16,25)),new he(24,new Y(34,13))),new st(23,Int32Array.from([6,30,54,78,102]),new he(30,new Y(4,121),new Y(5,122)),new he(28,new Y(4,47),new Y(14,48)),new he(30,new Y(11,24),new Y(14,25)),new he(30,new Y(16,15),new Y(14,16))),new st(24,Int32Array.from([6,28,54,80,106]),new he(30,new Y(6,117),new Y(4,118)),new he(28,new Y(6,45),new Y(14,46)),new he(30,new Y(11,24),new Y(16,25)),new he(30,new Y(30,16),new Y(2,17))),new st(25,Int32Array.from([6,32,58,84,110]),new he(26,new Y(8,106),new Y(4,107)),new he(28,new Y(8,47),new Y(13,48)),new he(30,new Y(7,24),new Y(22,25)),new he(30,new Y(22,15),new Y(13,16))),new st(26,Int32Array.from([6,30,58,86,114]),new he(28,new Y(10,114),new Y(2,115)),new he(28,new Y(19,46),new Y(4,47)),new he(28,new Y(28,22),new Y(6,23)),new he(30,new Y(33,16),new Y(4,17))),new st(27,Int32Array.from([6,34,62,90,118]),new he(30,new Y(8,122),new Y(4,123)),new he(28,new Y(22,45),new Y(3,46)),new he(30,new Y(8,23),new Y(26,24)),new he(30,new Y(12,15),new Y(28,16))),new st(28,Int32Array.from([6,26,50,74,98,122]),new he(30,new Y(3,117),new Y(10,118)),new he(28,new Y(3,45),new Y(23,46)),new he(30,new Y(4,24),new Y(31,25)),new he(30,new Y(11,15),new Y(31,16))),new st(29,Int32Array.from([6,30,54,78,102,126]),new he(30,new Y(7,116),new Y(7,117)),new he(28,new Y(21,45),new Y(7,46)),new he(30,new Y(1,23),new Y(37,24)),new he(30,new Y(19,15),new Y(26,16))),new st(30,Int32Array.from([6,26,52,78,104,130]),new he(30,new Y(5,115),new Y(10,116)),new he(28,new Y(19,47),new Y(10,48)),new he(30,new Y(15,24),new Y(25,25)),new he(30,new Y(23,15),new Y(25,16))),new st(31,Int32Array.from([6,30,56,82,108,134]),new he(30,new Y(13,115),new Y(3,116)),new he(28,new Y(2,46),new Y(29,47)),new he(30,new Y(42,24),new Y(1,25)),new he(30,new Y(23,15),new Y(28,16))),new st(32,Int32Array.from([6,34,60,86,112,138]),new he(30,new Y(17,115)),new he(28,new Y(10,46),new Y(23,47)),new he(30,new Y(10,24),new Y(35,25)),new he(30,new Y(19,15),new Y(35,16))),new st(33,Int32Array.from([6,30,58,86,114,142]),new he(30,new Y(17,115),new Y(1,116)),new he(28,new Y(14,46),new Y(21,47)),new he(30,new Y(29,24),new Y(19,25)),new he(30,new Y(11,15),new Y(46,16))),new st(34,Int32Array.from([6,34,62,90,118,146]),new he(30,new Y(13,115),new Y(6,116)),new he(28,new Y(14,46),new Y(23,47)),new he(30,new Y(44,24),new Y(7,25)),new he(30,new Y(59,16),new Y(1,17))),new st(35,Int32Array.from([6,30,54,78,102,126,150]),new he(30,new Y(12,121),new Y(7,122)),new he(28,new Y(12,47),new Y(26,48)),new he(30,new Y(39,24),new Y(14,25)),new he(30,new Y(22,15),new Y(41,16))),new st(36,Int32Array.from([6,24,50,76,102,128,154]),new he(30,new Y(6,121),new Y(14,122)),new he(28,new Y(6,47),new Y(34,48)),new he(30,new Y(46,24),new Y(10,25)),new he(30,new Y(2,15),new Y(64,16))),new st(37,Int32Array.from([6,28,54,80,106,132,158]),new he(30,new Y(17,122),new Y(4,123)),new he(28,new Y(29,46),new Y(14,47)),new he(30,new Y(49,24),new Y(10,25)),new he(30,new Y(24,15),new Y(46,16))),new st(38,Int32Array.from([6,32,58,84,110,136,162]),new he(30,new Y(4,122),new Y(18,123)),new he(28,new Y(13,46),new Y(32,47)),new he(30,new Y(48,24),new Y(14,25)),new he(30,new Y(42,15),new Y(32,16))),new st(39,Int32Array.from([6,26,54,82,110,138,166]),new he(30,new Y(20,117),new Y(4,118)),new he(28,new Y(40,47),new Y(7,48)),new he(30,new Y(43,24),new Y(22,25)),new he(30,new Y(10,15),new Y(67,16))),new st(40,Int32Array.from([6,30,58,86,114,142,170]),new he(30,new Y(19,118),new Y(6,119)),new he(28,new Y(18,47),new Y(31,48)),new he(30,new Y(34,24),new Y(34,25)),new he(30,new Y(20,15),new Y(61,16)))];var ri;(function(U){U[U.DATA_MASK_000=0]="DATA_MASK_000",U[U.DATA_MASK_001=1]="DATA_MASK_001",U[U.DATA_MASK_010=2]="DATA_MASK_010",U[U.DATA_MASK_011=3]="DATA_MASK_011",U[U.DATA_MASK_100=4]="DATA_MASK_100",U[U.DATA_MASK_101=5]="DATA_MASK_101",U[U.DATA_MASK_110=6]="DATA_MASK_110",U[U.DATA_MASK_111=7]="DATA_MASK_111"})(ri||(ri={}));class Ei{constructor(o,u){this.value=o,this.isMasked=u}unmaskBitMatrix(o,u){for(let h=0;h<u;h++)for(let g=0;g<u;g++)this.isMasked(h,g)&&o.flip(g,h)}}Ei.values=new Map([[ri.DATA_MASK_000,new Ei(ri.DATA_MASK_000,(U,o)=>(U+o&1)===0)],[ri.DATA_MASK_001,new Ei(ri.DATA_MASK_001,(U,o)=>(U&1)===0)],[ri.DATA_MASK_010,new Ei(ri.DATA_MASK_010,(U,o)=>o%3===0)],[ri.DATA_MASK_011,new Ei(ri.DATA_MASK_011,(U,o)=>(U+o)%3===0)],[ri.DATA_MASK_100,new Ei(ri.DATA_MASK_100,(U,o)=>(Math.floor(U/2)+Math.floor(o/3)&1)===0)],[ri.DATA_MASK_101,new Ei(ri.DATA_MASK_101,(U,o)=>U*o%6===0)],[ri.DATA_MASK_110,new Ei(ri.DATA_MASK_110,(U,o)=>U*o%6<3)],[ri.DATA_MASK_111,new Ei(ri.DATA_MASK_111,(U,o)=>(U+o+U*o%3&1)===0)]]);class Fm{constructor(o){const u=o.getHeight();if(u<21||(u&3)!==1)throw new z;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let x=0;x<6;x++)o=this.copyBit(x,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let x=5;x>=0;x--)o=this.copyBit(8,x,o);const u=this.bitMatrix.getHeight();let h=0;const g=u-7;for(let x=u-1;x>=g;x--)h=this.copyBit(8,x,h);for(let x=u-8;x<u;x++)h=this.copyBit(x,8,h);if(this.parsedFormatInfo=Si.decodeFormatInformation(o,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),u=Math.floor((o-17)/4);if(u<=6)return st.getVersionForNumber(u);let h=0;const g=o-11;for(let w=5;w>=0;w--)for(let C=o-9;C>=g;C--)h=this.copyBit(C,w,h);let x=st.decodeVersionInformation(h);if(x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;h=0;for(let w=5;w>=0;w--)for(let C=o-9;C>=g;C--)h=this.copyBit(w,C,h);if(x=st.decodeVersionInformation(h),x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;throw new z}copyBit(o,u,h){return(this.isMirror?this.bitMatrix.get(u,o):this.bitMatrix.get(o,u))?h<<1|1:h<<1}readCodewords(){const o=this.readFormatInformation(),u=this.readVersion(),h=Ei.values.get(o.getDataMask()),g=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,g);const x=u.buildFunctionPattern();let w=!0;const C=new Uint8Array(u.getTotalCodewords());let N=0,I=0,j=0;for(let V=g-1;V>0;V-=2){V===6&&V--;for(let q=0;q<g;q++){const K=w?g-1-q:q;for(let ee=0;ee<2;ee++)x.get(V-ee,K)||(j++,I<<=1,this.bitMatrix.get(V-ee,K)&&(I|=1),j===8&&(C[N++]=I,j=0,I=0))}w=!w}if(N!==u.getTotalCodewords())throw new z;return C}remask(){if(this.parsedFormatInfo===null)return;const o=Ei.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let u=0,h=o.getWidth();u<h;u++)for(let g=u+1,x=o.getHeight();g<x;g++)o.get(u,g)!==o.get(g,u)&&(o.flip(g,u),o.flip(u,g))}}class Lc{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u,h){if(o.length!==u.getTotalCodewords())throw new _;const g=u.getECBlocksForLevel(h);let x=0;const w=g.getECBlocks();for(const ee of w)x+=ee.getCount();const C=new Array(x);let N=0;for(const ee of w)for(let ie=0;ie<ee.getCount();ie++){const de=ee.getDataCodewords(),ye=g.getECCodewordsPerBlock()+de;C[N++]=new Lc(de,new Uint8Array(ye))}const I=C[0].codewords.length;let j=C.length-1;for(;j>=0&&C[j].codewords.length!==I;)j--;j++;const V=I-g.getECCodewordsPerBlock();let q=0;for(let ee=0;ee<V;ee++)for(let ie=0;ie<N;ie++)C[ie].codewords[ee]=o[q++];for(let ee=j;ee<N;ee++)C[ee].codewords[V]=o[q++];const K=C[0].codewords.length;for(let ee=V;ee<K;ee++)for(let ie=0;ie<N;ie++){const de=ie<j?ee:ee+1;C[ie].codewords[de]=o[q++]}return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var pr;(function(U){U[U.TERMINATOR=0]="TERMINATOR",U[U.NUMERIC=1]="NUMERIC",U[U.ALPHANUMERIC=2]="ALPHANUMERIC",U[U.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",U[U.BYTE=4]="BYTE",U[U.ECI=5]="ECI",U[U.KANJI=6]="KANJI",U[U.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",U[U.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",U[U.HANZI=9]="HANZI"})(pr||(pr={}));class lt{constructor(o,u,h,g){this.value=o,this.stringValue=u,this.characterCountBitsForVersions=h,this.bits=g,lt.FOR_BITS.set(g,this),lt.FOR_VALUE.set(o,this)}static forBits(o){const u=lt.FOR_BITS.get(o);if(u===void 0)throw new _;return u}getCharacterCountBits(o){const u=o.getVersionNumber();let h;return u<=9?h=0:u<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof lt))return!1;const u=o;return this.value===u.value}toString(){return this.stringValue}}lt.FOR_BITS=new Map,lt.FOR_VALUE=new Map,lt.TERMINATOR=new lt(pr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),lt.NUMERIC=new lt(pr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),lt.ALPHANUMERIC=new lt(pr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),lt.STRUCTURED_APPEND=new lt(pr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),lt.BYTE=new lt(pr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),lt.ECI=new lt(pr.ECI,"ECI",Int32Array.from([0,0,0]),7),lt.KANJI=new lt(pr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),lt.FNC1_FIRST_POSITION=new lt(pr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),lt.FNC1_SECOND_POSITION=new lt(pr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),lt.HANZI=new lt(pr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class In{static decode(o,u,h,g){const x=new Di(o);let w=new Oe;const C=new Array;let N=-1,I=-1;try{let j=null,V=!1,q;do{if(x.available()<4)q=lt.TERMINATOR;else{const K=x.readBits(4);q=lt.forBits(K)}switch(q){case lt.TERMINATOR:break;case lt.FNC1_FIRST_POSITION:case lt.FNC1_SECOND_POSITION:V=!0;break;case lt.STRUCTURED_APPEND:if(x.available()<16)throw new z;N=x.readBits(8),I=x.readBits(8);break;case lt.ECI:const K=In.parseECIValue(x);if(j=X.getCharacterSetECIByValue(K),j===null)throw new z;break;case lt.HANZI:const ee=x.readBits(4),ie=x.readBits(q.getCharacterCountBits(u));ee===In.GB2312_SUBSET&&In.decodeHanziSegment(x,w,ie);break;default:const de=x.readBits(q.getCharacterCountBits(u));switch(q){case lt.NUMERIC:In.decodeNumericSegment(x,w,de);break;case lt.ALPHANUMERIC:In.decodeAlphanumericSegment(x,w,de,V);break;case lt.BYTE:In.decodeByteSegment(x,w,de,j,C,g);break;case lt.KANJI:In.decodeKanjiSegment(x,w,de);break;default:throw new z}break}}while(q!==lt.TERMINATOR)}catch{throw new z}return new bi(o,w.toString(),C.length===0?null:C,h===null?null:h.toString(),N,I)}static decodeHanziSegment(o,u,h){if(h*13>o.available())throw new z;const g=new Uint8Array(2*h);let x=0;for(;h>0;){const w=o.readBits(13);let C=w/96<<8&4294967295|w%96;C<959?C+=41377:C+=42657,g[x]=C>>8&255,g[x+1]=C&255,x+=2,h--}try{u.append(ae.decode(g,ue.GB2312))}catch(w){throw new z(w)}}static decodeKanjiSegment(o,u,h){if(h*13>o.available())throw new z;const g=new Uint8Array(2*h);let x=0;for(;h>0;){const w=o.readBits(13);let C=w/192<<8&4294967295|w%192;C<7936?C+=33088:C+=49472,g[x]=C>>8,g[x+1]=C,x+=2,h--}try{u.append(ae.decode(g,ue.SHIFT_JIS))}catch(w){throw new z(w)}}static decodeByteSegment(o,u,h,g,x,w){if(8*h>o.available())throw new z;const C=new Uint8Array(h);for(let I=0;I<h;I++)C[I]=o.readBits(8);let N;g===null?N=ue.guessEncoding(C,w):N=g.getName();try{u.append(ae.decode(C,N))}catch(I){throw new z(I)}x.push(C)}static toAlphaNumericChar(o){if(o>=In.ALPHANUMERIC_CHARS.length)throw new z;return In.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,u,h,g){const x=u.length();for(;h>1;){if(o.available()<11)throw new z;const w=o.readBits(11);u.append(In.toAlphaNumericChar(Math.floor(w/45))),u.append(In.toAlphaNumericChar(w%45)),h-=2}if(h===1){if(o.available()<6)throw new z;u.append(In.toAlphaNumericChar(o.readBits(6)))}if(g)for(let w=x;w<u.length();w++)u.charAt(w)==="%"&&(w<u.length()-1&&u.charAt(w+1)==="%"?u.deleteCharAt(w+1):u.setCharAt(w,""))}static decodeNumericSegment(o,u,h){for(;h>=3;){if(o.available()<10)throw new z;const g=o.readBits(10);if(g>=1e3)throw new z;u.append(In.toAlphaNumericChar(Math.floor(g/100))),u.append(In.toAlphaNumericChar(Math.floor(g/10)%10)),u.append(In.toAlphaNumericChar(g%10)),h-=3}if(h===2){if(o.available()<7)throw new z;const g=o.readBits(7);if(g>=100)throw new z;u.append(In.toAlphaNumericChar(Math.floor(g/10))),u.append(In.toAlphaNumericChar(g%10))}else if(h===1){if(o.available()<4)throw new z;const g=o.readBits(4);if(g>=10)throw new z;u.append(In.toAlphaNumericChar(g))}}static parseECIValue(o){const u=o.readBits(8);if((u&128)===0)return u&127;if((u&192)===128){const h=o.readBits(8);return(u&63)<<8&4294967295|h}if((u&224)===192){const h=o.readBits(16);return(u&31)<<16&4294967295|h}throw new z}}In.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",In.GB2312_SUBSET=1;class nh{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const u=o[0];o[0]=o[2],o[2]=u}}class jc{constructor(){this.rsDecoder=new cs(kt.QR_CODE_FIELD_256)}decodeBooleanArray(o,u){return this.decodeBitMatrix(Te.parseFromBooleanArray(o),u)}decodeBitMatrix(o,u){const h=new Fm(o);let g=null;try{return this.decodeBitMatrixParser(h,u)}catch(x){g=x}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const x=this.decodeBitMatrixParser(h,u);return x.setOther(new nh(!0)),x}catch(x){throw g!==null?g:x}}decodeBitMatrixParser(o,u){const h=o.readVersion(),g=o.readFormatInformation().getErrorCorrectionLevel(),x=o.readCodewords(),w=Lc.getDataBlocks(x,h,g);let C=0;for(const j of w)C+=j.getNumDataCodewords();const N=new Uint8Array(C);let I=0;for(const j of w){const V=j.getCodewords(),q=j.getNumDataCodewords();this.correctErrors(V,q);for(let K=0;K<q;K++)N[I++]=V[K]}return In.decode(N,h,g,u)}correctErrors(o,u){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-u)}catch{throw new T}for(let g=0;g<u;g++)o[g]=h[g]}}class Bl extends qe{constructor(o,u,h){super(o,u),this.estimatedModuleSize=h}aboutEquals(o,u,h){if(Math.abs(u-this.getY())<=o&&Math.abs(h-this.getX())<=o){const g=Math.abs(o-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(o,u,h){const g=(this.getX()+u)/2,x=(this.getY()+o)/2,w=(this.estimatedModuleSize+h)/2;return new Bl(g,x,w)}}class vo{constructor(o,u,h,g,x,w,C){this.image=o,this.startX=u,this.startY=h,this.width=g,this.height=x,this.moduleSize=w,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,u=this.height,h=this.width,g=o+h,x=this.startY+u/2,w=new Int32Array(3),C=this.image;for(let N=0;N<u;N++){const I=x+((N&1)===0?Math.floor((N+1)/2):-Math.floor((N+1)/2));w[0]=0,w[1]=0,w[2]=0;let j=o;for(;j<g&&!C.get(j,I);)j++;let V=0;for(;j<g;){if(C.get(j,I))if(V===1)w[1]++;else if(V===2){if(this.foundPatternCross(w)){const q=this.handlePossibleCenter(w,I,j);if(q!==null)return q}w[0]=w[2],w[1]=1,w[2]=0,V=1}else w[++V]++;else V===1&&V++,w[V]++;j++}if(this.foundPatternCross(w)){const q=this.handlePossibleCenter(w,I,g);if(q!==null)return q}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ne}static centerFromEnd(o,u){return u-o[2]-o[1]/2}foundPatternCross(o){const u=this.moduleSize,h=u/2;for(let g=0;g<3;g++)if(Math.abs(u-o[g])>=h)return!1;return!0}crossCheckVertical(o,u,h,g){const x=this.image,w=x.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let N=o;for(;N>=0&&x.get(u,N)&&C[1]<=h;)C[1]++,N--;if(N<0||C[1]>h)return NaN;for(;N>=0&&!x.get(u,N)&&C[0]<=h;)C[0]++,N--;if(C[0]>h)return NaN;for(N=o+1;N<w&&x.get(u,N)&&C[1]<=h;)C[1]++,N++;if(N===w||C[1]>h)return NaN;for(;N<w&&!x.get(u,N)&&C[2]<=h;)C[2]++,N++;if(C[2]>h)return NaN;const I=C[0]+C[1]+C[2];return 5*Math.abs(I-g)>=2*g?NaN:this.foundPatternCross(C)?vo.centerFromEnd(C,N):NaN}handlePossibleCenter(o,u,h){const g=o[0]+o[1]+o[2],x=vo.centerFromEnd(o,h),w=this.crossCheckVertical(u,x,2*o[1],g);if(!isNaN(w)){const C=(o[0]+o[1]+o[2])/3;for(const I of this.possibleCenters)if(I.aboutEquals(C,w,x))return I.combineEstimate(w,x,C);const N=new Bl(x,w,C);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class ea extends qe{constructor(o,u,h,g){super(o,u),this.estimatedModuleSize=h,this.count=g,g===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,u,h){if(Math.abs(u-this.getY())<=o&&Math.abs(h-this.getX())<=o){const g=Math.abs(o-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(o,u,h){const g=this.count+1,x=(this.count*this.getX()+u)/g,w=(this.count*this.getY()+o)/g,C=(this.count*this.estimatedModuleSize+h)/g;return new ea(x,w,C,g)}}class bo{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class si{constructor(o,u){this.image=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const u=o!=null&&o.get(B.TRY_HARDER)!==void 0,h=o!=null&&o.get(B.PURE_BARCODE)!==void 0,g=this.image,x=g.getHeight(),w=g.getWidth();let C=Math.floor(3*x/(4*si.MAX_MODULES));(C<si.MIN_SKIP||u)&&(C=si.MIN_SKIP);let N=!1;const I=new Int32Array(5);for(let V=C-1;V<x&&!N;V+=C){I[0]=0,I[1]=0,I[2]=0,I[3]=0,I[4]=0;let q=0;for(let K=0;K<w;K++)if(g.get(K,V))(q&1)===1&&q++,I[q]++;else if((q&1)===0)if(q===4)if(si.foundPatternCross(I)){if(this.handlePossibleCenter(I,V,K,h)===!0)if(C=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const ie=this.findRowSkip();ie>I[2]&&(V+=ie-I[2]-C,K=w-1)}else{I[0]=I[2],I[1]=I[3],I[2]=I[4],I[3]=1,I[4]=0,q=3;continue}q=0,I[0]=0,I[1]=0,I[2]=0,I[3]=0,I[4]=0}else I[0]=I[2],I[1]=I[3],I[2]=I[4],I[3]=1,I[4]=0,q=3;else I[++q]++;else I[q]++;si.foundPatternCross(I)&&this.handlePossibleCenter(I,V,w,h)===!0&&(C=I[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const j=this.selectBestPatterns();return qe.orderBestPatterns(j),new bo(j)}static centerFromEnd(o,u){return u-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let u=0;for(let x=0;x<5;x++){const w=o[x];if(w===0)return!1;u+=w}if(u<7)return!1;const h=u/7,g=h/2;return Math.abs(h-o[0])<g&&Math.abs(h-o[1])<g&&Math.abs(3*h-o[2])<3*g&&Math.abs(h-o[3])<g&&Math.abs(h-o[4])<g}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,u,h,g){const x=this.getCrossCheckStateCount();let w=0;const C=this.image;for(;o>=w&&u>=w&&C.get(u-w,o-w);)x[2]++,w++;if(o<w||u<w)return!1;for(;o>=w&&u>=w&&!C.get(u-w,o-w)&&x[1]<=h;)x[1]++,w++;if(o<w||u<w||x[1]>h)return!1;for(;o>=w&&u>=w&&C.get(u-w,o-w)&&x[0]<=h;)x[0]++,w++;if(x[0]>h)return!1;const N=C.getHeight(),I=C.getWidth();for(w=1;o+w<N&&u+w<I&&C.get(u+w,o+w);)x[2]++,w++;if(o+w>=N||u+w>=I)return!1;for(;o+w<N&&u+w<I&&!C.get(u+w,o+w)&&x[3]<h;)x[3]++,w++;if(o+w>=N||u+w>=I||x[3]>=h)return!1;for(;o+w<N&&u+w<I&&C.get(u+w,o+w)&&x[4]<h;)x[4]++,w++;if(x[4]>=h)return!1;const j=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(j-g)<2*g&&si.foundPatternCross(x)}crossCheckVertical(o,u,h,g){const x=this.image,w=x.getHeight(),C=this.getCrossCheckStateCount();let N=o;for(;N>=0&&x.get(u,N);)C[2]++,N--;if(N<0)return NaN;for(;N>=0&&!x.get(u,N)&&C[1]<=h;)C[1]++,N--;if(N<0||C[1]>h)return NaN;for(;N>=0&&x.get(u,N)&&C[0]<=h;)C[0]++,N--;if(C[0]>h)return NaN;for(N=o+1;N<w&&x.get(u,N);)C[2]++,N++;if(N===w)return NaN;for(;N<w&&!x.get(u,N)&&C[3]<h;)C[3]++,N++;if(N===w||C[3]>=h)return NaN;for(;N<w&&x.get(u,N)&&C[4]<h;)C[4]++,N++;if(C[4]>=h)return NaN;const I=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(I-g)>=2*g?NaN:si.foundPatternCross(C)?si.centerFromEnd(C,N):NaN}crossCheckHorizontal(o,u,h,g){const x=this.image,w=x.getWidth(),C=this.getCrossCheckStateCount();let N=o;for(;N>=0&&x.get(N,u);)C[2]++,N--;if(N<0)return NaN;for(;N>=0&&!x.get(N,u)&&C[1]<=h;)C[1]++,N--;if(N<0||C[1]>h)return NaN;for(;N>=0&&x.get(N,u)&&C[0]<=h;)C[0]++,N--;if(C[0]>h)return NaN;for(N=o+1;N<w&&x.get(N,u);)C[2]++,N++;if(N===w)return NaN;for(;N<w&&!x.get(N,u)&&C[3]<h;)C[3]++,N++;if(N===w||C[3]>=h)return NaN;for(;N<w&&x.get(N,u)&&C[4]<h;)C[4]++,N++;if(C[4]>=h)return NaN;const I=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(I-g)>=g?NaN:si.foundPatternCross(C)?si.centerFromEnd(C,N):NaN}handlePossibleCenter(o,u,h,g){const x=o[0]+o[1]+o[2]+o[3]+o[4];let w=si.centerFromEnd(o,h),C=this.crossCheckVertical(u,Math.floor(w),o[2],x);if(!isNaN(C)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(C),o[2],x),!isNaN(w)&&(!g||this.crossCheckDiagonal(Math.floor(C),Math.floor(w),o[2],x)))){const N=x/7;let I=!1;const j=this.possibleCenters;for(let V=0,q=j.length;V<q;V++){const K=j[V];if(K.aboutEquals(N,C,w)){j[V]=K.combineEstimate(C,w,N),I=!0;break}}if(!I){const V=new ea(w,C,N);j.push(V),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(V)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const h of this.possibleCenters)if(h.getCount()>=si.CENTER_QUORUM)if(u==null)u=h;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-h.getX())-Math.abs(u.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,u=0;const h=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=si.CENTER_QUORUM&&(o++,u+=w.getEstimatedModuleSize());if(o<3)return!1;const g=u/h;let x=0;for(const w of this.possibleCenters)x+=Math.abs(w.getEstimatedModuleSize()-g);return x<=.05*u}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new ne;const u=this.possibleCenters;let h;if(o>3){let g=0,x=0;for(const N of this.possibleCenters){const I=N.getEstimatedModuleSize();g+=I,x+=I*I}h=g/o;let w=Math.sqrt(x/o-h*h);u.sort((N,I)=>{const j=Math.abs(I.getEstimatedModuleSize()-h),V=Math.abs(N.getEstimatedModuleSize()-h);return j<V?-1:j>V?1:0});const C=Math.max(.2*h,w);for(let N=0;N<u.length&&u.length>3;N++){const I=u[N];Math.abs(I.getEstimatedModuleSize()-h)>C&&(u.splice(N,1),N--)}}if(u.length>3){let g=0;for(const x of u)g+=x.getEstimatedModuleSize();h=g/u.length,u.sort((x,w)=>{if(w.getCount()===x.getCount()){const C=Math.abs(w.getEstimatedModuleSize()-h),N=Math.abs(x.getEstimatedModuleSize()-h);return C<N?1:C>N?-1:0}else return w.getCount()-x.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}si.CENTER_QUORUM=2,si.MIN_SKIP=3,si.MAX_MODULES=57;class Ra{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(B.NEED_RESULT_POINT_CALLBACK);const h=new si(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(h)}processFinderPatternInfo(o){const u=o.getTopLeft(),h=o.getTopRight(),g=o.getBottomLeft(),x=this.calculateModuleSize(u,h,g);if(x<1)throw new ne("No pattern found in proccess finder.");const w=Ra.computeDimension(u,h,g,x),C=st.getProvisionalVersionForDimension(w),N=C.getDimensionForVersion()-7;let I=null;if(C.getAlignmentPatternCenters().length>0){const K=h.getX()-u.getX()+g.getX(),ee=h.getY()-u.getY()+g.getY(),ie=1-3/N,de=Math.floor(u.getX()+ie*(K-u.getX())),ye=Math.floor(u.getY()+ie*(ee-u.getY()));for(let Fe=4;Fe<=16;Fe<<=1)try{I=this.findAlignmentInRegion(x,de,ye,Fe);break}catch(He){if(!(He instanceof ne))throw He}}const j=Ra.createTransform(u,h,g,I,w),V=Ra.sampleGrid(this.image,j,w);let q;return I===null?q=[g,u,h]:q=[g,u,h,I],new Ji(V,q)}static createTransform(o,u,h,g,x){const w=x-3.5;let C,N,I,j;return g!==null?(C=g.getX(),N=g.getY(),I=w-3,j=I):(C=u.getX()-o.getX()+h.getX(),N=u.getY()-o.getY()+h.getY(),I=w,j=w),bt.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,I,j,3.5,w,o.getX(),o.getY(),u.getX(),u.getY(),C,N,h.getX(),h.getY())}static sampleGrid(o,u,h){return tn.getInstance().sampleGridWithTransform(o,h,h,u)}static computeDimension(o,u,h,g){const x=Tt.round(qe.distance(o,u)/g),w=Tt.round(qe.distance(o,h)/g);let C=Math.floor((x+w)/2)+7;switch(C&3){case 0:C++;break;case 2:C--;break;case 3:throw new ne("Dimensions could be not found.")}return C}calculateModuleSize(o,u,h){return(this.calculateModuleSizeOneWay(o,u)+this.calculateModuleSizeOneWay(o,h))/2}calculateModuleSizeOneWay(o,u){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(u.getX()),Math.floor(u.getY())),g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(h)?g/7:isNaN(g)?h/7:(h+g)/14}sizeOfBlackWhiteBlackRunBothWays(o,u,h,g){let x=this.sizeOfBlackWhiteBlackRun(o,u,h,g),w=1,C=o-(h-o);C<0?(w=o/(o-C),C=0):C>=this.image.getWidth()&&(w=(this.image.getWidth()-1-o)/(C-o),C=this.image.getWidth()-1);let N=Math.floor(u-(g-u)*w);return w=1,N<0?(w=u/(u-N),N=0):N>=this.image.getHeight()&&(w=(this.image.getHeight()-1-u)/(N-u),N=this.image.getHeight()-1),C=Math.floor(o+(C-o)*w),x+=this.sizeOfBlackWhiteBlackRun(o,u,C,N),x-1}sizeOfBlackWhiteBlackRun(o,u,h,g){const x=Math.abs(g-u)>Math.abs(h-o);if(x){let K=o;o=u,u=K,K=h,h=g,g=K}const w=Math.abs(h-o),C=Math.abs(g-u);let N=-w/2;const I=o<h?1:-1,j=u<g?1:-1;let V=0;const q=h+I;for(let K=o,ee=u;K!==q;K+=I){const ie=x?ee:K,de=x?K:ee;if(V===1===this.image.get(ie,de)){if(V===2)return Tt.distance(K,ee,o,u);V++}if(N+=C,N>0){if(ee===g)break;ee+=j,N-=w}}return V===2?Tt.distance(h+I,g,o,u):NaN}findAlignmentInRegion(o,u,h,g){const x=Math.floor(g*o),w=Math.max(0,u-x),C=Math.min(this.image.getWidth()-1,u+x);if(C-w<o*3)throw new ne("Alignment top exceeds estimated module size.");const N=Math.max(0,h-x),I=Math.min(this.image.getHeight()-1,h+x);if(I-N<o*3)throw new ne("Alignment bottom exceeds estimated module size.");return new vo(this.image,w,N,C-w,I-N,o,this.resultPointCallback).find()}}class Ls{constructor(){this.decoder=new jc}getDecoder(){return this.decoder}decode(o,u){let h,g;if(u!=null&&u.get(B.PURE_BARCODE)!==void 0){const N=Ls.extractPureBits(o.getBlackMatrix());h=this.decoder.decodeBitMatrix(N,u),g=Ls.NO_POINTS}else{const N=new Ra(o.getBlackMatrix()).detect(u);h=this.decoder.decodeBitMatrix(N.getBits(),u),g=N.getPoints()}h.getOther()instanceof nh&&h.getOther().applyMirroredCorrection(g);const x=new Ie(h.getText(),h.getRawBytes(),void 0,g,Se.QR_CODE,void 0),w=h.getByteSegments();w!==null&&x.putMetadata(xt.BYTE_SEGMENTS,w);const C=h.getECLevel();return C!==null&&x.putMetadata(xt.ERROR_CORRECTION_LEVEL,C),h.hasStructuredAppend()&&(x.putMetadata(xt.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),x.putMetadata(xt.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),x}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(u===null||h===null)throw new ne;const g=this.moduleSize(u,o);let x=u[1],w=h[1],C=u[0],N=h[0];if(C>=N||x>=w)throw new ne;if(w-x!==N-C&&(N=C+(w-x),N>=o.getWidth()))throw new ne;const I=Math.round((N-C+1)/g),j=Math.round((w-x+1)/g);if(I<=0||j<=0)throw new ne;if(j!==I)throw new ne;const V=Math.floor(g/2);x+=V,C+=V;const q=C+Math.floor((I-1)*g)-N;if(q>0){if(q>V)throw new ne;C-=q}const K=x+Math.floor((j-1)*g)-w;if(K>0){if(K>V)throw new ne;x-=K}const ee=new Te(I,j);for(let ie=0;ie<j;ie++){const de=x+Math.floor(ie*g);for(let ye=0;ye<I;ye++)o.get(C+Math.floor(ye*g),de)&&ee.set(ye,ie)}return ee}static moduleSize(o,u){const h=u.getHeight(),g=u.getWidth();let x=o[0],w=o[1],C=!0,N=0;for(;x<g&&w<h;){if(C!==u.get(x,w)){if(++N===5)break;C=!C}x++,w++}if(x===g||w===h)throw new ne;return(x-o[0])/7}}Ls.NO_POINTS=new Array;class dt{PDF417Common(){}static getBitCountSum(o){return Tt.sum(o)}static toIntArray(o){if(o==null||!o.length)return dt.EMPTY_INT_ARRAY;const u=new Int32Array(o.length);let h=0;for(const g of o)u[h++]=g;return u}static getCodeword(o){const u=$.binarySearch(dt.SYMBOL_TABLE,o&262143);return u<0?-1:(dt.CODEWORD_TABLE[u]-1)%dt.NUMBER_OF_CODEWORDS}}dt.NUMBER_OF_CODEWORDS=929,dt.MAX_CODEWORDS_IN_BARCODE=dt.NUMBER_OF_CODEWORDS-1,dt.MIN_ROWS_IN_BARCODE=3,dt.MAX_ROWS_IN_BARCODE=90,dt.MODULES_IN_CODEWORD=17,dt.MODULES_IN_STOP_PATTERN=18,dt.BARS_IN_MODULE=8,dt.EMPTY_INT_ARRAY=new Int32Array([]),dt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),dt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class js{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class St{static detectMultiple(o,u,h){let g=o.getBlackMatrix(),x=St.detect(h,g);return x.length||(g=g.clone(),g.rotate180(),x=St.detect(h,g)),new js(g,x)}static detect(o,u){const h=new Array;let g=0,x=0,w=!1;for(;g<u.getHeight();){const C=St.findVertices(u,g,x);if(C[0]==null&&C[3]==null){if(!w)break;w=!1,x=0;for(const N of h)N[1]!=null&&(g=Math.trunc(Math.max(g,N[1].getY()))),N[3]!=null&&(g=Math.max(g,Math.trunc(N[3].getY())));g+=St.ROW_STEP;continue}if(w=!0,h.push(C),!o)break;C[2]!=null?(x=Math.trunc(C[2].getX()),g=Math.trunc(C[2].getY())):(x=Math.trunc(C[4].getX()),g=Math.trunc(C[4].getY()))}return h}static findVertices(o,u,h){const g=o.getHeight(),x=o.getWidth(),w=new Array(8);return St.copyToResult(w,St.findRowsWithPattern(o,g,x,u,h,St.START_PATTERN),St.INDEXES_START_PATTERN),w[4]!=null&&(h=Math.trunc(w[4].getX()),u=Math.trunc(w[4].getY())),St.copyToResult(w,St.findRowsWithPattern(o,g,x,u,h,St.STOP_PATTERN),St.INDEXES_STOP_PATTERN),w}static copyToResult(o,u,h){for(let g=0;g<h.length;g++)o[h[g]]=u[g]}static findRowsWithPattern(o,u,h,g,x,w){const C=new Array(4);let N=!1;const I=new Int32Array(w.length);for(;g<u;g+=St.ROW_STEP){let V=St.findGuardPattern(o,x,g,h,!1,w,I);if(V!=null){for(;g>0;){const q=St.findGuardPattern(o,x,--g,h,!1,w,I);if(q!=null)V=q;else{g++;break}}C[0]=new qe(V[0],g),C[1]=new qe(V[1],g),N=!0;break}}let j=g+1;if(N){let V=0,q=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;j<u;j++){const K=St.findGuardPattern(o,q[0],j,h,!1,w,I);if(K!=null&&Math.abs(q[0]-K[0])<St.MAX_PATTERN_DRIFT&&Math.abs(q[1]-K[1])<St.MAX_PATTERN_DRIFT)q=K,V=0;else{if(V>St.SKIPPED_ROW_COUNT_MAX)break;V++}}j-=V+1,C[2]=new qe(q[0],j),C[3]=new qe(q[1],j)}return j-g<St.BARCODE_MIN_HEIGHT&&$.fill(C,null),C}static findGuardPattern(o,u,h,g,x,w,C){$.fillWithin(C,0,C.length,0);let N=u,I=0;for(;o.get(N,h)&&N>0&&I++<St.MAX_PIXEL_DRIFT;)N--;let j=N,V=0,q=w.length;for(let K=x;j<g;j++)if(o.get(j,h)!==K)C[V]++;else{if(V===q-1){if(St.patternMatchVariance(C,w,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE)return new Int32Array([N,j]);N+=C[0]+C[1],O.arraycopy(C,2,C,0,V-1),C[V-1]=0,C[V]=0,V--}else V++;C[V]=1,K=!K}return V===q-1&&St.patternMatchVariance(C,w,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE?new Int32Array([N,j-1]):null}static patternMatchVariance(o,u,h){let g=o.length,x=0,w=0;for(let I=0;I<g;I++)x+=o[I],w+=u[I];if(x<w)return 1/0;let C=x/w;h*=C;let N=0;for(let I=0;I<g;I++){let j=o[I],V=u[I]*C,q=j>V?j-V:V-j;if(q>h)return 1/0;N+=q}return N/x}}St.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),St.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),St.MAX_AVG_VARIANCE=.42,St.MAX_INDIVIDUAL_VARIANCE=.8,St.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),St.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),St.MAX_PIXEL_DRIFT=3,St.MAX_PATTERN_DRIFT=5,St.SKIPPED_ROW_COUNT_MAX=25,St.ROW_STEP=5,St.BARCODE_MIN_HEIGHT=10;class Vn{constructor(o,u){if(u.length===0)throw new _;this.field=o;let h=u.length;if(h>1&&u[0]===0){let g=1;for(;g<h&&u[g]===0;)g++;g===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-g),O.arraycopy(u,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let g=0;for(let x of this.coefficients)g=this.field.add(g,x);return g}let u=this.coefficients[0],h=this.coefficients.length;for(let g=1;g<h;g++)u=this.field.add(this.field.multiply(o,u),this.coefficients[g]);return u}add(o){if(!this.field.equals(o.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,h=o.coefficients;if(u.length>h.length){let w=u;u=h,h=w}let g=new Int32Array(h.length),x=h.length-u.length;O.arraycopy(h,0,g,0,x);for(let w=x;w<h.length;w++)g[w]=this.field.add(u[w-x],h[w]);return new Vn(this.field,g)}subtract(o){if(!this.field.equals(o.field))throw new _("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Vn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Vn(this.field,new Int32Array([0]));let u=this.coefficients,h=u.length,g=o.coefficients,x=g.length,w=new Int32Array(h+x-1);for(let C=0;C<h;C++){let N=u[C];for(let I=0;I<x;I++)w[C+I]=this.field.add(w[C+I],this.field.multiply(N,g[I]))}return new Vn(this.field,w)}negative(){let o=this.coefficients.length,u=new Int32Array(o);for(let h=0;h<o;h++)u[h]=this.field.subtract(0,this.coefficients[h]);return new Vn(this.field,u)}multiplyScalar(o){if(o===0)return new Vn(this.field,new Int32Array([0]));if(o===1)return this;let u=this.coefficients.length,h=new Int32Array(u);for(let g=0;g<u;g++)h[g]=this.field.multiply(this.coefficients[g],o);return new Vn(this.field,h)}multiplyByMonomial(o,u){if(o<0)throw new _;if(u===0)return new Vn(this.field,new Int32Array([0]));let h=this.coefficients.length,g=new Int32Array(h+o);for(let x=0;x<h;x++)g[x]=this.field.multiply(this.coefficients[x],u);return new Vn(this.field,g)}toString(){let o=new Oe;for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);h!==0&&(h<0?(o.append(" - "),h=-h):o.length()>0&&o.append(" + "),(u===0||h!==1)&&o.append(h),u!==0&&(u===1?o.append("x"):(o.append("x^"),o.append(u))))}return o.toString()}}class ta{add(o,u){return(o+u)%this.modulus}subtract(o,u){return(this.modulus+o-u)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new _;return this.logTable[o]}inverse(o){if(o===0)throw new ki;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Ll extends ta{constructor(o,u){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let h=1;for(let g=0;g<o;g++)this.expTable[g]=h,h=h*u%o;for(let g=0;g<o-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new Vn(this,new Int32Array([0])),this.one=new Vn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new _;if(u===0)return this.zero;let h=new Int32Array(o+1);return h[0]=u,new Vn(this,h)}}Ll.PDF417_GF=new Ll(dt.NUMBER_OF_CODEWORDS,3);class jl{constructor(){this.field=Ll.PDF417_GF}decode(o,u,h){let g=new Vn(this.field,o),x=new Int32Array(u),w=!1;for(let ee=u;ee>0;ee--){let ie=g.evaluateAt(this.field.exp(ee));x[u-ee]=ie,ie!==0&&(w=!0)}if(!w)return 0;let C=this.field.getOne();if(h!=null)for(const ee of h){let ie=this.field.exp(o.length-1-ee),de=new Vn(this.field,new Int32Array([this.field.subtract(0,ie),1]));C=C.multiply(de)}let N=new Vn(this.field,x),I=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),N,u),j=I[0],V=I[1],q=this.findErrorLocations(j),K=this.findErrorMagnitudes(V,j,q);for(let ee=0;ee<q.length;ee++){let ie=o.length-1-this.field.log(q[ee]);if(ie<0)throw T.getChecksumInstance();o[ie]=this.field.subtract(o[ie],K[ee])}return q.length}runEuclideanAlgorithm(o,u,h){if(o.getDegree()<u.getDegree()){let q=o;o=u,u=q}let g=o,x=u,w=this.field.getZero(),C=this.field.getOne();for(;x.getDegree()>=Math.round(h/2);){let q=g,K=w;if(g=x,w=C,g.isZero())throw T.getChecksumInstance();x=q;let ee=this.field.getZero(),ie=g.getCoefficient(g.getDegree()),de=this.field.inverse(ie);for(;x.getDegree()>=g.getDegree()&&!x.isZero();){let ye=x.getDegree()-g.getDegree(),Fe=this.field.multiply(x.getCoefficient(x.getDegree()),de);ee=ee.add(this.field.buildMonomial(ye,Fe)),x=x.subtract(g.multiplyByMonomial(ye,Fe))}C=ee.multiply(w).subtract(K).negative()}let N=C.getCoefficient(0);if(N===0)throw T.getChecksumInstance();let I=this.field.inverse(N),j=C.multiply(I),V=x.multiply(I);return[j,V]}findErrorLocations(o){let u=o.getDegree(),h=new Int32Array(u),g=0;for(let x=1;x<this.field.getSize()&&g<u;x++)o.evaluateAt(x)===0&&(h[g]=this.field.inverse(x),g++);if(g!==u)throw T.getChecksumInstance();return h}findErrorMagnitudes(o,u,h){let g=u.getDegree(),x=new Int32Array(g);for(let I=1;I<=g;I++)x[g-I]=this.field.multiply(I,u.getCoefficient(I));let w=new Vn(this.field,x),C=h.length,N=new Int32Array(C);for(let I=0;I<C;I++){let j=this.field.inverse(h[I]),V=this.field.subtract(0,o.evaluateAt(j)),q=this.field.inverse(w.evaluateAt(j));N[I]=this.field.multiply(V,q)}return N}}class na{constructor(o,u,h,g,x){o instanceof na?this.constructor_2(o):this.constructor_1(o,u,h,g,x)}constructor_1(o,u,h,g,x){const w=u==null||h==null,C=g==null||x==null;if(w&&C)throw new ne;w?(u=new qe(0,g.getY()),h=new qe(0,x.getY())):C&&(g=new qe(o.getWidth()-1,u.getY()),x=new qe(o.getWidth()-1,h.getY())),this.image=o,this.topLeft=u,this.bottomLeft=h,this.topRight=g,this.bottomRight=x,this.minX=Math.trunc(Math.min(u.getX(),h.getX())),this.maxX=Math.trunc(Math.max(g.getX(),x.getX())),this.minY=Math.trunc(Math.min(u.getY(),g.getY())),this.maxY=Math.trunc(Math.max(h.getY(),x.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,u){return o==null?u:u==null?o:new na(o.image,o.topLeft,o.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(o,u,h){let g=this.topLeft,x=this.bottomLeft,w=this.topRight,C=this.bottomRight;if(o>0){let N=h?this.topLeft:this.topRight,I=Math.trunc(N.getY()-o);I<0&&(I=0);let j=new qe(N.getX(),I);h?g=j:w=j}if(u>0){let N=h?this.bottomLeft:this.bottomRight,I=Math.trunc(N.getY()+u);I>=this.image.getHeight()&&(I=this.image.getHeight()-1);let j=new qe(N.getX(),I);h?x=j:C=j}return new na(this.image,g,x,w,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Pc{constructor(o,u,h,g){this.columnCount=o,this.errorCorrectionLevel=g,this.rowCountUpperPart=u,this.rowCountLowerPart=h,this.rowCount=u+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ia{constructor(){this.buffer=""}static form(o,u){let h=-1;function g(w,C,N,I,j,V){if(w==="%%")return"%";if(u[++h]===void 0)return;w=I?parseInt(I.substr(1)):void 0;let q=j?parseInt(j.substr(1)):void 0,K;switch(V){case"s":K=u[h];break;case"c":K=u[h][0];break;case"f":K=parseFloat(u[h]).toFixed(w);break;case"p":K=parseFloat(u[h]).toPrecision(w);break;case"e":K=parseFloat(u[h]).toExponential(w);break;case"x":K=parseInt(u[h]).toString(q||16);break;case"d":K=parseFloat(parseInt(u[h],q||10).toPrecision(w)).toFixed(0);break}K=typeof K=="object"?JSON.stringify(K):(+K).toString(q);let ee=parseInt(N),ie=N&&N[0]+""=="0"?"0":" ";for(;K.length<ee;)K=C!==void 0?K+ie:ie+K;return K}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,g)}format(o,...u){this.buffer+=ia.form(o,u)}toString(){return this.buffer}}class wo{constructor(o){this.boundingBox=new na(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let u=this.getCodeword(o);if(u!=null)return u;for(let h=1;h<wo.MAX_NEARBY_DISTANCE;h++){let g=this.imageRowToCodewordIndex(o)-h;if(g>=0&&(u=this.codewords[g],u!=null)||(g=this.imageRowToCodewordIndex(o)+h,g<this.codewords.length&&(u=this.codewords[g],u!=null)))return u}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,u){this.codewords[this.imageRowToCodewordIndex(o)]=u}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new ia;let u=0;for(const h of this.codewords){if(h==null){o.format("%3d:    |   %n",u++);continue}o.format("%3d: %3d|%3d%n",u++,h.getRowNumber(),h.getValue())}return o.toString()}}wo.MAX_NEARBY_DISTANCE=5;class fi{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let u=this.values.get(o);u==null&&(u=0),u++,this.values.set(o,u)}getValue(){let o=-1,u=new Array;for(const[h,g]of this.values.entries()){const x={getKey:()=>h,getValue:()=>g};x.getValue()>o?(o=x.getValue(),u=[],u.push(x.getKey())):x.getValue()===o&&u.push(x.getKey())}return dt.toIntArray(u)}getConfidence(o){return this.values.get(o)}}class ra extends wo{constructor(o,u){super(o),this._isLeft=u}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,o);let h=this.getBoundingBox(),g=this._isLeft?h.getTopLeft():h.getTopRight(),x=this._isLeft?h.getBottomLeft():h.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(g.getY())),C=this.imageRowToCodewordIndex(Math.trunc(x.getY())),N=-1,I=1,j=0;for(let V=w;V<C;V++){if(u[V]==null)continue;let q=u[V],K=q.getRowNumber()-N;if(K===0)j++;else if(K===1)I=Math.max(I,j),j=1,N=q.getRowNumber();else if(K<0||q.getRowNumber()>=o.getRowCount()||K>V)u[V]=null;else{let ee;I>2?ee=(I-2)*K:ee=K;let ie=ee>=V;for(let de=1;de<=ee&&!ie;de++)ie=u[V-de]!=null;ie?u[V]=null:(N=q.getRowNumber(),j=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let u=new Int32Array(o.getRowCount());for(let h of this.getCodewords())if(h!=null){let g=h.getRowNumber();if(g>=u.length)continue;u[g]++}return u}adjustIncompleteIndicatorColumnRowNumbers(o){let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=this.imageRowToCodewordIndex(Math.trunc(g.getY())),C=this.getCodewords(),N=-1;for(let I=x;I<w;I++){if(C[I]==null)continue;let j=C[I];j.setRowNumberAsRowIndicatorColumn();let V=j.getRowNumber()-N;V===0||(V===1?N=j.getRowNumber():j.getRowNumber()>=o.getRowCount()?C[I]=null:N=j.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),u=new fi,h=new fi,g=new fi,x=new fi;for(let C of o){if(C==null)continue;C.setRowNumberAsRowIndicatorColumn();let N=C.getValue()%30,I=C.getRowNumber();switch(this._isLeft||(I+=2),I%3){case 0:h.setValue(N*3+1);break;case 1:x.setValue(N/3),g.setValue(N%3);break;case 2:u.setValue(N+1);break}}if(u.getValue().length===0||h.getValue().length===0||g.getValue().length===0||x.getValue().length===0||u.getValue()[0]<1||h.getValue()[0]+g.getValue()[0]<dt.MIN_ROWS_IN_BARCODE||h.getValue()[0]+g.getValue()[0]>dt.MAX_ROWS_IN_BARCODE)return null;let w=new Pc(u.getValue()[0],h.getValue()[0],g.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(o,w),w}removeIncorrectCodewords(o,u){for(let h=0;h<o.length;h++){let g=o[h];if(o[h]==null)continue;let x=g.getValue()%30,w=g.getRowNumber();if(w>u.getRowCount()){o[h]=null;continue}switch(this._isLeft||(w+=2),w%3){case 0:x*3+1!==u.getRowCountUpperPart()&&(o[h]=null);break;case 1:(Math.trunc(x/3)!==u.getErrorCorrectionLevel()||x%3!==u.getRowCountLowerPart())&&(o[h]=null);break;case 2:x+1!==u.getColumnCount()&&(o[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class sa{constructor(o,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=dt.MAX_CODEWORDS_IN_BARCODE,u;do u=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let h=this.detectionResultColumns[u].getCodewords();for(let g=0;g<h.length;g++)h[g]!=null&&(h[g].hasValidRowNumber()||this.adjustRowNumbers(u,g,h))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<o.length;h++)if(o[h]!=null&&u[h]!=null&&o[h].getRowNumber()===u[h].getRowNumber())for(let g=1;g<=this.barcodeColumnCount;g++){let x=this.detectionResultColumns[g].getCodewords()[h];x!=null&&(x.setRowNumber(o[h].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[g].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let g=u[h].getRowNumber(),x=0;for(let w=this.barcodeColumnCount+1;w>0&&x<this.ADJUST_ROW_NUMBER_SKIP;w--){let C=this.detectionResultColumns[w].getCodewords()[h];C!=null&&(x=sa.adjustRowNumberIfValid(g,x,C),C.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,u=this.detectionResultColumns[0].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let g=u[h].getRowNumber(),x=0;for(let w=1;w<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;w++){let C=this.detectionResultColumns[w].getCodewords()[h];C!=null&&(x=sa.adjustRowNumberIfValid(g,x,C),C.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,u,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(o)?(h.setRowNumber(o),u=0):++u),u}adjustRowNumbers(o,u,h){if(!this.detectionResultColumns[o-1])return;let g=h[u],x=this.detectionResultColumns[o-1].getCodewords(),w=x;this.detectionResultColumns[o+1]!=null&&(w=this.detectionResultColumns[o+1].getCodewords());let C=new Array(14);C[2]=x[u],C[3]=w[u],u>0&&(C[0]=h[u-1],C[4]=x[u-1],C[5]=w[u-1]),u>1&&(C[8]=h[u-2],C[10]=x[u-2],C[11]=w[u-2]),u<h.length-1&&(C[1]=h[u+1],C[6]=x[u+1],C[7]=w[u+1]),u<h.length-2&&(C[9]=h[u+2],C[12]=x[u+2],C[13]=w[u+2]);for(let N of C)if(sa.adjustRowNumber(g,N))return}static adjustRowNumber(o,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===o.getBucket()?(o.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,u){this.detectionResultColumns[o]=u}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new ia;for(let h=0;h<o.getCodewords().length;h++){u.format("CW %3d:",h);for(let g=0;g<this.barcodeColumnCount+2;g++){if(this.detectionResultColumns[g]==null){u.format("    |   ");continue}let x=this.detectionResultColumns[g].getCodewords()[h];if(x==null){u.format("    |   ");continue}u.format(" %3d|%3d",x.getRowNumber(),x.getValue())}u.format("%n")}return u.toString()}}class Ps{constructor(o,u,h,g){this.rowNumber=Ps.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(u),this.bucket=Math.trunc(h),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Ps.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Ps.BARCODE_ROW_UNKNOWN=-1;class er{static initialize(){for(let o=0;o<dt.SYMBOL_TABLE.length;o++){let u=dt.SYMBOL_TABLE[o],h=u&1;for(let g=0;g<dt.BARS_IN_MODULE;g++){let x=0;for(;(u&1)===h;)x+=1,u>>=1;h=u&1,er.RATIOS_TABLE[o]||(er.RATIOS_TABLE[o]=new Array(dt.BARS_IN_MODULE)),er.RATIOS_TABLE[o][dt.BARS_IN_MODULE-g-1]=Math.fround(x/dt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let u=er.getDecodedCodewordValue(er.sampleBitCounts(o));return u!==-1?u:er.getClosestDecodedValue(o)}static sampleBitCounts(o){let u=Tt.sum(o),h=new Int32Array(dt.BARS_IN_MODULE),g=0,x=0;for(let w=0;w<dt.MODULES_IN_CODEWORD;w++){let C=u/(2*dt.MODULES_IN_CODEWORD)+w*u/dt.MODULES_IN_CODEWORD;x+o[g]<=C&&(x+=o[g],g++),h[g]++}return h}static getDecodedCodewordValue(o){let u=er.getBitValue(o);return dt.getCodeword(u)===-1?-1:u}static getBitValue(o){let u=0;for(let h=0;h<o.length;h++)for(let g=0;g<o[h];g++)u=u<<1|(h%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(o){let u=Tt.sum(o),h=new Array(dt.BARS_IN_MODULE);if(u>1)for(let w=0;w<h.length;w++)h[w]=Math.fround(o[w]/u);let g=Tr.MAX_VALUE,x=-1;this.bSymbolTableReady||er.initialize();for(let w=0;w<er.RATIOS_TABLE.length;w++){let C=0,N=er.RATIOS_TABLE[w];for(let I=0;I<dt.BARS_IN_MODULE;I++){let j=Math.fround(N[I]-h[I]);if(C+=Math.fround(j*j),C>=g)break}C<g&&(g=C,x=dt.SYMBOL_TABLE[w])}return x}}er.bSymbolTableReady=!1,er.RATIOS_TABLE=new Array(dt.SYMBOL_TABLE.length).map(U=>new Array(dt.BARS_IN_MODULE));class Fc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class zc{static parseLong(o,u=void 0){return parseInt(o,u)}}class _o extends p{}_o.kind="NullPointerException";class Hc{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,u,h){if(o==null)throw new _o;if(u<0||u>o.length||h<0||u+h>o.length||u+h<0)throw new k;if(h===0)return;for(let g=0;g<h;g++)this.write(o[u+g])}flush(){}close(){}}class ih extends p{}class zm extends Hc{constructor(o=32){if(super(),this.count=0,o<0)throw new _("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let h=this.buf.length<<1;if(h-o<0&&(h=o),h<0){if(o<0)throw new ih;h=P.MAX_VALUE}this.buf=$.copyOfUint8Array(this.buf,h)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,u,h){if(u<0||u>o.length||h<0||u+h-o.length>0)throw new k;this.ensureCapacity(this.count+h),O.arraycopy(o,u,this.buf,this.count,h),this.count+=h}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return $.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var hn;(function(U){U[U.ALPHA=0]="ALPHA",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.PUNCT=3]="PUNCT",U[U.ALPHA_SHIFT=4]="ALPHA_SHIFT",U[U.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(hn||(hn={}));function rh(){if(typeof window<"u")return window.BigInt||null;if(typeof lp<"u")return lp.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Co;function aa(U){if(typeof Co>"u"&&(Co=rh()),Co===null)throw new Error("BigInt is not supported!");return Co(U)}function Hm(){let U=[];U[0]=aa(1);let o=aa(900);U[1]=o;for(let u=2;u<16;u++)U[u]=U[u-1]*o;return U}class we{static decode(o,u){let h=new Oe(""),g=X.ISO8859_1;h.enableDecoding(g);let x=1,w=o[x++],C=new Fc;for(;x<o[0];){switch(w){case we.TEXT_COMPACTION_MODE_LATCH:x=we.textCompaction(o,x,h);break;case we.BYTE_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:x=we.byteCompaction(w,o,g,x,h);break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[x++]);break;case we.NUMERIC_COMPACTION_MODE_LATCH:x=we.numericCompaction(o,x,h);break;case we.ECI_CHARSET:X.getCharacterSetECIByValue(o[x++]);break;case we.ECI_GENERAL_PURPOSE:x+=2;break;case we.ECI_USER_DEFINED:x++;break;case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=we.decodeMacroBlock(o,x,C);break;case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:throw new z;default:x--,x=we.textCompaction(o,x,h);break}if(x<o.length)w=o[x++];else throw z.getFormatInstance()}if(h.length()===0)throw z.getFormatInstance();let N=new bi(null,h.toString(),null,u);return N.setOther(C),N}static decodeMacroBlock(o,u,h){if(u+we.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw z.getFormatInstance();let g=new Int32Array(we.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<we.NUMBER_OF_SEQUENCE_CODEWORDS;C++,u++)g[C]=o[u];h.setSegmentIndex(P.parseInt(we.decodeBase900toBase10(g,we.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new Oe;u=we.textCompaction(o,u,x),h.setFileId(x.toString());let w=-1;for(o[u]===we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(w=u+1);u<o[0];)switch(o[u]){case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,o[u]){case we.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new Oe;u=we.textCompaction(o,u+1,C),h.setFileName(C.toString());break;case we.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new Oe;u=we.textCompaction(o,u+1,N),h.setSender(N.toString());break;case we.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let I=new Oe;u=we.textCompaction(o,u+1,I),h.setAddressee(I.toString());break;case we.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let j=new Oe;u=we.numericCompaction(o,u+1,j),h.setSegmentCount(P.parseInt(j.toString()));break;case we.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let V=new Oe;u=we.numericCompaction(o,u+1,V),h.setTimestamp(zc.parseLong(V.toString()));break;case we.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let q=new Oe;u=we.numericCompaction(o,u+1,q),h.setChecksum(P.parseInt(q.toString()));break;case we.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let K=new Oe;u=we.numericCompaction(o,u+1,K),h.setFileSize(zc.parseLong(K.toString()));break;default:throw z.getFormatInstance()}break;case we.MACRO_PDF417_TERMINATOR:u++,h.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(w!==-1){let C=u-w;h.isLastSegment()&&C--,h.setOptionalData($.copyOfRange(o,w,w+C))}return u}static textCompaction(o,u,h){let g=new Int32Array((o[0]-u)*2),x=new Int32Array((o[0]-u)*2),w=0,C=!1;for(;u<o[0]&&!C;){let N=o[u++];if(N<we.TEXT_COMPACTION_MODE_LATCH)g[w]=N/30,g[w+1]=N%30,w+=2;else switch(N){case we.TEXT_COMPACTION_MODE_LATCH:g[w++]=we.TEXT_COMPACTION_MODE_LATCH;break;case we.BYTE_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.NUMERIC_COMPACTION_MODE_LATCH:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:u--,C=!0;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g[w]=we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=o[u++],x[w]=N,w++;break}}return we.decodeTextCompaction(g,x,w,h),u}static decodeTextCompaction(o,u,h,g){let x=hn.ALPHA,w=hn.ALPHA,C=0;for(;C<h;){let N=o[C],I="";switch(x){case hn.ALPHA:if(N<26)I=String.fromCharCode(65+N);else switch(N){case 26:I=" ";break;case we.LL:x=hn.LOWER;break;case we.ML:x=hn.MIXED;break;case we.PS:w=x,x=hn.PUNCT_SHIFT;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:x=hn.ALPHA;break}break;case hn.LOWER:if(N<26)I=String.fromCharCode(97+N);else switch(N){case 26:I=" ";break;case we.AS:w=x,x=hn.ALPHA_SHIFT;break;case we.ML:x=hn.MIXED;break;case we.PS:w=x,x=hn.PUNCT_SHIFT;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:x=hn.ALPHA;break}break;case hn.MIXED:if(N<we.PL)I=we.MIXED_CHARS[N];else switch(N){case we.PL:x=hn.PUNCT;break;case 26:I=" ";break;case we.LL:x=hn.LOWER;break;case we.AL:x=hn.ALPHA;break;case we.PS:w=x,x=hn.PUNCT_SHIFT;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:x=hn.ALPHA;break}break;case hn.PUNCT:if(N<we.PAL)I=we.PUNCT_CHARS[N];else switch(N){case we.PAL:x=hn.ALPHA;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:x=hn.ALPHA;break}break;case hn.ALPHA_SHIFT:if(x=w,N<26)I=String.fromCharCode(65+N);else switch(N){case 26:I=" ";break;case we.TEXT_COMPACTION_MODE_LATCH:x=hn.ALPHA;break}break;case hn.PUNCT_SHIFT:if(x=w,N<we.PAL)I=we.PUNCT_CHARS[N];else switch(N){case we.PAL:x=hn.ALPHA;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:x=hn.ALPHA;break}break}I!==""&&g.append(I),C++}}static byteCompaction(o,u,h,g,x){let w=new zm,C=0,N=0,I=!1;switch(o){case we.BYTE_COMPACTION_MODE_LATCH:let j=new Int32Array(6),V=u[g++];for(;g<u[0]&&!I;)switch(j[C++]=V,N=900*N+V,V=u[g++],V){case we.TEXT_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH:case we.NUMERIC_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:g--,I=!0;break;default:if(C%5===0&&C>0){for(let q=0;q<6;++q)w.write(Number(aa(N)>>aa(8*(5-q))));N=0,C=0}break}g===u[0]&&V<we.TEXT_COMPACTION_MODE_LATCH&&(j[C++]=V);for(let q=0;q<C;q++)w.write(j[q]);break;case we.BYTE_COMPACTION_MODE_LATCH_6:for(;g<u[0]&&!I;){let q=u[g++];if(q<we.TEXT_COMPACTION_MODE_LATCH)C++,N=900*N+q;else switch(q){case we.TEXT_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH:case we.NUMERIC_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:g--,I=!0;break}if(C%5===0&&C>0){for(let K=0;K<6;++K)w.write(Number(aa(N)>>aa(8*(5-K))));N=0,C=0}}break}return x.append(ae.decode(w.toByteArray(),h)),g}static numericCompaction(o,u,h){let g=0,x=!1,w=new Int32Array(we.MAX_NUMERIC_CODEWORDS);for(;u<o[0]&&!x;){let C=o[u++];if(u===o[0]&&(x=!0),C<we.TEXT_COMPACTION_MODE_LATCH)w[g]=C,g++;else switch(C){case we.TEXT_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:u--,x=!0;break}(g%we.MAX_NUMERIC_CODEWORDS===0||C===we.NUMERIC_COMPACTION_MODE_LATCH||x)&&g>0&&(h.append(we.decodeBase900toBase10(w,g)),g=0)}return u}static decodeBase900toBase10(o,u){let h=aa(0);for(let x=0;x<u;x++)h+=we.EXP900[u-x-1]*aa(o[x]);let g=h.toString();if(g.charAt(0)!=="1")throw new z;return g.substring(1)}}we.TEXT_COMPACTION_MODE_LATCH=900,we.BYTE_COMPACTION_MODE_LATCH=901,we.NUMERIC_COMPACTION_MODE_LATCH=902,we.BYTE_COMPACTION_MODE_LATCH_6=924,we.ECI_USER_DEFINED=925,we.ECI_GENERAL_PURPOSE=926,we.ECI_CHARSET=927,we.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,we.MACRO_PDF417_TERMINATOR=922,we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,we.MAX_NUMERIC_CODEWORDS=15,we.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,we.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,we.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,we.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,we.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,we.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,we.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,we.PL=25,we.LL=27,we.AS=27,we.ML=28,we.AL=28,we.PS=29,we.PAL=29,we.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,we.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",we.EXP900=rh()?Hm():[],we.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ot{constructor(){}static decode(o,u,h,g,x,w,C){let N=new na(o,u,h,g,x),I=null,j=null,V;for(let ee=!0;;ee=!1){if(u!=null&&(I=Ot.getRowIndicatorColumn(o,N,u,!0,w,C)),g!=null&&(j=Ot.getRowIndicatorColumn(o,N,g,!1,w,C)),V=Ot.merge(I,j),V==null)throw ne.getNotFoundInstance();let ie=V.getBoundingBox();if(ee&&ie!=null&&(ie.getMinY()<N.getMinY()||ie.getMaxY()>N.getMaxY()))N=ie;else break}V.setBoundingBox(N);let q=V.getBarcodeColumnCount()+1;V.setDetectionResultColumn(0,I),V.setDetectionResultColumn(q,j);let K=I!=null;for(let ee=1;ee<=q;ee++){let ie=K?ee:q-ee;if(V.getDetectionResultColumn(ie)!==void 0)continue;let de;ie===0||ie===q?de=new ra(N,ie===0):de=new wo(N),V.setDetectionResultColumn(ie,de);let ye=-1,Fe=ye;for(let He=N.getMinY();He<=N.getMaxY();He++){if(ye=Ot.getStartColumn(V,ie,He,K),ye<0||ye>N.getMaxX()){if(Fe===-1)continue;ye=Fe}let je=Ot.detectCodeword(o,N.getMinX(),N.getMaxX(),K,ye,He,w,C);je!=null&&(de.setCodeword(He,je),Fe=ye,w=Math.min(w,je.getWidth()),C=Math.max(C,je.getWidth()))}}return Ot.createDecoderResult(V)}static merge(o,u){if(o==null&&u==null)return null;let h=Ot.getBarcodeMetadata(o,u);if(h==null)return null;let g=na.merge(Ot.adjustBoundingBox(o),Ot.adjustBoundingBox(u));return new sa(h,g)}static adjustBoundingBox(o){if(o==null)return null;let u=o.getRowHeights();if(u==null)return null;let h=Ot.getMax(u),g=0;for(let C of u)if(g+=h-C,C>0)break;let x=o.getCodewords();for(let C=0;g>0&&x[C]==null;C++)g--;let w=0;for(let C=u.length-1;C>=0&&(w+=h-u[C],!(u[C]>0));C--);for(let C=x.length-1;w>0&&x[C]==null;C--)w--;return o.getBoundingBox().addMissingRows(g,w,o.isLeft())}static getMax(o){let u=-1;for(let h of o)u=Math.max(u,h);return u}static getBarcodeMetadata(o,u){let h;if(o==null||(h=o.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let g;return u==null||(g=u.getBarcodeMetadata())==null?h:h.getColumnCount()!==g.getColumnCount()&&h.getErrorCorrectionLevel()!==g.getErrorCorrectionLevel()&&h.getRowCount()!==g.getRowCount()?null:h}static getRowIndicatorColumn(o,u,h,g,x,w){let C=new ra(u,g);for(let N=0;N<2;N++){let I=N===0?1:-1,j=Math.trunc(Math.trunc(h.getX()));for(let V=Math.trunc(Math.trunc(h.getY()));V<=u.getMaxY()&&V>=u.getMinY();V+=I){let q=Ot.detectCodeword(o,0,o.getWidth(),g,j,V,x,w);q!=null&&(C.setCodeword(V,q),g?j=q.getStartX():j=q.getEndX())}}return C}static adjustCodewordCount(o,u){let h=u[0][1],g=h.getValue(),x=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Ot.getNumberOfECCodeWords(o.getBarcodeECLevel());if(g.length===0){if(x<1||x>dt.MAX_CODEWORDS_IN_BARCODE)throw ne.getNotFoundInstance();h.setValue(x)}else g[0]!==x&&h.setValue(x)}static createDecoderResult(o){let u=Ot.createBarcodeMatrix(o);Ot.adjustCodewordCount(o,u);let h=new Array,g=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),x=[],w=new Array;for(let N=0;N<o.getBarcodeRowCount();N++)for(let I=0;I<o.getBarcodeColumnCount();I++){let j=u[N][I+1].getValue(),V=N*o.getBarcodeColumnCount()+I;j.length===0?h.push(V):j.length===1?g[V]=j[0]:(w.push(V),x.push(j))}let C=new Array(x.length);for(let N=0;N<C.length;N++)C[N]=x[N];return Ot.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),g,dt.toIntArray(h),dt.toIntArray(w),C)}static createDecoderResultFromAmbiguousValues(o,u,h,g,x){let w=new Int32Array(g.length),C=100;for(;C-- >0;){for(let N=0;N<w.length;N++)u[g[N]]=x[N][w[N]];try{return Ot.decodeCodewords(u,o,h)}catch(N){if(!(N instanceof T))throw N}if(w.length===0)throw T.getChecksumInstance();for(let N=0;N<w.length;N++)if(w[N]<x[N].length-1){w[N]++;break}else if(w[N]=0,N===w.length-1)throw T.getChecksumInstance()}throw T.getChecksumInstance()}static createBarcodeMatrix(o){let u=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let g=0;g<u.length;g++)for(let x=0;x<u[g].length;x++)u[g][x]=new fi;let h=0;for(let g of o.getDetectionResultColumns()){if(g!=null){for(let x of g.getCodewords())if(x!=null){let w=x.getRowNumber();if(w>=0){if(w>=u.length)continue;u[w][h].setValue(x.getValue())}}}h++}return u}static isValidBarcodeColumn(o,u){return u>=0&&u<=o.getBarcodeColumnCount()+1}static getStartColumn(o,u,h,g){let x=g?1:-1,w=null;if(Ot.isValidBarcodeColumn(o,u-x)&&(w=o.getDetectionResultColumn(u-x).getCodeword(h)),w!=null)return g?w.getEndX():w.getStartX();if(w=o.getDetectionResultColumn(u).getCodewordNearby(h),w!=null)return g?w.getStartX():w.getEndX();if(Ot.isValidBarcodeColumn(o,u-x)&&(w=o.getDetectionResultColumn(u-x).getCodewordNearby(h)),w!=null)return g?w.getEndX():w.getStartX();let C=0;for(;Ot.isValidBarcodeColumn(o,u-x);){u-=x;for(let N of o.getDetectionResultColumn(u).getCodewords())if(N!=null)return(g?N.getEndX():N.getStartX())+x*C*(N.getEndX()-N.getStartX());C++}return g?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,u,h,g,x,w,C,N){x=Ot.adjustCodewordStartColumn(o,u,h,g,x,w);let I=Ot.getModuleBitCount(o,u,h,g,x,w);if(I==null)return null;let j,V=Tt.sum(I);if(g)j=x+V;else{for(let ee=0;ee<I.length/2;ee++){let ie=I[ee];I[ee]=I[I.length-1-ee],I[I.length-1-ee]=ie}j=x,x=j-V}if(!Ot.checkCodewordSkew(V,C,N))return null;let q=er.getDecodedValue(I),K=dt.getCodeword(q);return K===-1?null:new Ps(x,j,Ot.getCodewordBucketNumber(q),K)}static getModuleBitCount(o,u,h,g,x,w){let C=x,N=new Int32Array(8),I=0,j=g?1:-1,V=g;for(;(g?C<h:C>=u)&&I<N.length;)o.get(C,w)===V?(N[I]++,C+=j):(I++,V=!V);return I===N.length||C===(g?h:u)&&I===N.length-1?N:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,u,h,g,x,w){let C=x,N=g?-1:1;for(let I=0;I<2;I++){for(;(g?C>=u:C<h)&&g===o.get(C,w);){if(Math.abs(x-C)>Ot.CODEWORD_SKEW_SIZE)return x;C+=N}N=-N,g=!g}return C}static checkCodewordSkew(o,u,h){return u-Ot.CODEWORD_SKEW_SIZE<=o&&o<=h+Ot.CODEWORD_SKEW_SIZE}static decodeCodewords(o,u,h){if(o.length===0)throw z.getFormatInstance();let g=1<<u+1,x=Ot.correctErrors(o,h,g);Ot.verifyCodewordCount(o,g);let w=we.decode(o,""+u);return w.setErrorsCorrected(x),w.setErasures(h.length),w}static correctErrors(o,u,h){if(u!=null&&u.length>h/2+Ot.MAX_ERRORS||h<0||h>Ot.MAX_EC_CODEWORDS)throw T.getChecksumInstance();return Ot.errorCorrection.decode(o,h,u)}static verifyCodewordCount(o,u){if(o.length<4)throw z.getFormatInstance();let h=o[0];if(h>o.length)throw z.getFormatInstance();if(h===0)if(u<o.length)o[0]=o.length-u;else throw z.getFormatInstance()}static getBitCountForCodeword(o){let u=new Int32Array(8),h=0,g=u.length-1;for(;!((o&1)!==h&&(h=o&1,g--,g<0));)u[g]++,o>>=1;return u}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Ot.getCodewordBucketNumber(Ot.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let u=new ia;for(let h=0;h<o.length;h++){u.format("Row %2d: ",h);for(let g=0;g<o[h].length;g++){let x=o[h][g];x.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}u.format("%n")}return u.toString()}}Ot.CODEWORD_SKEW_SIZE=2,Ot.MAX_ERRORS=3,Ot.MAX_EC_CODEWORDS=512,Ot.errorCorrection=new jl;class Ai{decode(o,u=null){let h=Ai.decode(o,u,!1);if(h==null||h.length===0||h[0]==null)throw ne.getNotFoundInstance();return h[0]}decodeMultiple(o,u=null){try{return Ai.decode(o,u,!0)}catch(h){throw h instanceof z||h instanceof T?ne.getNotFoundInstance():h}}static decode(o,u,h){const g=new Array,x=St.detectMultiple(o,u,h);for(const w of x.getPoints()){const C=Ot.decode(x.getBits(),w[4],w[5],w[6],w[7],Ai.getMinCodewordWidth(w),Ai.getMaxCodewordWidth(w)),N=new Ie(C.getText(),C.getRawBytes(),void 0,w,Se.PDF_417);N.putMetadata(xt.ERROR_CORRECTION_LEVEL,C.getECLevel());const I=C.getOther();I!=null&&N.putMetadata(xt.PDF417_EXTRA_METADATA,I),g.push(N)}return g.map(w=>w)}static getMaxWidth(o,u){return o==null||u==null?0:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMinWidth(o,u){return o==null||u==null?P.MAX_VALUE:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Ai.getMaxWidth(o[0],o[4]),Ai.getMaxWidth(o[6],o[2])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN),Math.max(Ai.getMaxWidth(o[1],o[5]),Ai.getMaxWidth(o[7],o[3])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Ai.getMinWidth(o[0],o[4]),Ai.getMinWidth(o[6],o[2])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN),Math.min(Ai.getMinWidth(o[1],o[5]),Ai.getMinWidth(o[7],o[3])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Pl extends p{}Pl.kind="ReaderException";class sh{constructor(o,u){this.verbose=o===!0,u&&this.setHints(u)}decode(o,u){return u&&this.setHints(u),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const u=!i(o)&&o.get(B.TRY_HARDER)===!0,h=i(o)?null:o.get(B.POSSIBLE_FORMATS),g=new Array;if(!i(h)){const x=h.some(w=>w===Se.UPC_A||w===Se.UPC_E||w===Se.EAN_13||w===Se.EAN_8||w===Se.CODABAR||w===Se.CODE_39||w===Se.CODE_93||w===Se.CODE_128||w===Se.ITF||w===Se.RSS_14||w===Se.RSS_EXPANDED);x&&!u&&g.push(new Un(o,this.verbose)),h.includes(Se.QR_CODE)&&g.push(new Ls),h.includes(Se.DATA_MATRIX)&&g.push(new $r),h.includes(Se.AZTEC)&&g.push(new wi),h.includes(Se.PDF_417)&&g.push(new Ai),x&&u&&g.push(new Un(o,this.verbose))}g.length===0&&(u||g.push(new Un(o,this.verbose)),g.push(new Ls),g.push(new $r),g.push(new wi),g.push(new Ai),u&&g.push(new Un(o,this.verbose))),this.readers=g}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new Pl("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(o,this.hints)}catch(h){if(h instanceof Pl)continue}throw new ne("No MultiFormat Readers were able to detect the code.")}}class Um extends Le{constructor(o=null,u=500){const h=new sh;h.setHints(o),super(h,u)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Vm extends Le{constructor(o=500){super(new Ai,o)}}class $m extends Le{constructor(o=500){super(new Ls,o)}}var Fl;(function(U){U[U.ERROR_CORRECTION=0]="ERROR_CORRECTION",U[U.CHARACTER_SET=1]="CHARACTER_SET",U[U.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",U[U.MIN_SIZE=3]="MIN_SIZE",U[U.MAX_SIZE=4]="MAX_SIZE",U[U.MARGIN=5]="MARGIN",U[U.PDF417_COMPACT=6]="PDF417_COMPACT",U[U.PDF417_COMPACTION=7]="PDF417_COMPACTION",U[U.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",U[U.AZTEC_LAYERS=9]="AZTEC_LAYERS",U[U.QR_VERSION=10]="QR_VERSION"})(Fl||(Fl={}));var ai=Fl;class td{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new ln(o,Int32Array.from([1])))}buildGenerator(o){const u=this.cachedGenerators;if(o>=u.length){let h=u[u.length-1];const g=this.field;for(let x=u.length;x<=o;x++){const w=h.multiply(new ln(g,Int32Array.from([1,g.exp(x-1+g.getGeneratorBase())])));u.push(w),h=w}}return u[o]}encode(o,u){if(u===0)throw new _("No error correction bytes");const h=o.length-u;if(h<=0)throw new _("No data bytes provided");const g=this.buildGenerator(u),x=new Int32Array(h);O.arraycopy(o,0,x,0,h);let w=new ln(this.field,x);w=w.multiplyByMonomial(u,1);const N=w.divide(g)[1].getCoefficients(),I=u-N.length;for(let j=0;j<I;j++)o[h+j]=0;O.arraycopy(N,0,o,h+I,N.length)}}class Pn{constructor(){}static applyMaskPenaltyRule1(o){return Pn.applyMaskPenaltyRule1Internal(o,!0)+Pn.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let u=0;const h=o.getArray(),g=o.getWidth(),x=o.getHeight();for(let w=0;w<x-1;w++){const C=h[w];for(let N=0;N<g-1;N++){const I=C[N];I===C[N+1]&&I===h[w+1][N]&&I===h[w+1][N+1]&&u++}}return Pn.N2*u}static applyMaskPenaltyRule3(o){let u=0;const h=o.getArray(),g=o.getWidth(),x=o.getHeight();for(let w=0;w<x;w++)for(let C=0;C<g;C++){const N=h[w];C+6<g&&N[C]===1&&N[C+1]===0&&N[C+2]===1&&N[C+3]===1&&N[C+4]===1&&N[C+5]===0&&N[C+6]===1&&(Pn.isWhiteHorizontal(N,C-4,C)||Pn.isWhiteHorizontal(N,C+7,C+11))&&u++,w+6<x&&h[w][C]===1&&h[w+1][C]===0&&h[w+2][C]===1&&h[w+3][C]===1&&h[w+4][C]===1&&h[w+5][C]===0&&h[w+6][C]===1&&(Pn.isWhiteVertical(h,C,w-4,w)||Pn.isWhiteVertical(h,C,w+7,w+11))&&u++}return u*Pn.N3}static isWhiteHorizontal(o,u,h){u=Math.max(u,0),h=Math.min(h,o.length);for(let g=u;g<h;g++)if(o[g]===1)return!1;return!0}static isWhiteVertical(o,u,h,g){h=Math.max(h,0),g=Math.min(g,o.length);for(let x=h;x<g;x++)if(o[x][u]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let u=0;const h=o.getArray(),g=o.getWidth(),x=o.getHeight();for(let N=0;N<x;N++){const I=h[N];for(let j=0;j<g;j++)I[j]===1&&u++}const w=o.getHeight()*o.getWidth();return Math.floor(Math.abs(u*2-w)*10/w)*Pn.N4}static getDataMaskBit(o,u,h){let g,x;switch(o){case 0:g=h+u&1;break;case 1:g=h&1;break;case 2:g=u%3;break;case 3:g=(h+u)%3;break;case 4:g=Math.floor(h/2)+Math.floor(u/3)&1;break;case 5:x=h*u,g=(x&1)+x%3;break;case 6:x=h*u,g=(x&1)+x%3&1;break;case 7:x=h*u,g=x%3+(h+u&1)&1;break;default:throw new _("Invalid mask pattern: "+o)}return g===0}static applyMaskPenaltyRule1Internal(o,u){let h=0;const g=u?o.getHeight():o.getWidth(),x=u?o.getWidth():o.getHeight(),w=o.getArray();for(let C=0;C<g;C++){let N=0,I=-1;for(let j=0;j<x;j++){const V=u?w[C][j]:w[j][C];V===I?N++:(N>=5&&(h+=Pn.N1+(N-5)),N=1,I=V)}N>=5&&(h+=Pn.N1+(N-5))}return h}}Pn.N1=3,Pn.N2=3,Pn.N3=40,Pn.N4=10;class zl{constructor(o,u){this.width=o,this.height=u;const h=new Array(u);for(let g=0;g!==u;g++)h[g]=new Uint8Array(o);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(o,u){return this.bytes[u][o]}getArray(){return this.bytes}setNumber(o,u,h){this.bytes[u][o]=h}setBoolean(o,u,h){this.bytes[u][o]=h?1:0}clear(o){for(const u of this.bytes)$.fill(u,o)}equals(o){if(!(o instanceof zl))return!1;const u=o;if(this.width!==u.width||this.height!==u.height)return!1;for(let h=0,g=this.height;h<g;++h){const x=this.bytes[h],w=u.bytes[h];for(let C=0,N=this.width;C<N;++C)if(x[C]!==w[C])return!1}return!0}toString(){const o=new Oe;for(let u=0,h=this.height;u<h;++u){const g=this.bytes[u];for(let x=0,w=this.width;x<w;++x)switch(g[x]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Oa{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new Oe;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Oa.NUM_MASK_PATTERNS}}Oa.NUM_MASK_PATTERNS=8;class pn extends p{}pn.kind="WriterException";class pt{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,u,h,g,x){pt.clearMatrix(x),pt.embedBasicPatterns(h,x),pt.embedTypeInfo(u,g,x),pt.maybeEmbedVersionInfo(h,x),pt.embedDataBits(o,g,x)}static embedBasicPatterns(o,u){pt.embedPositionDetectionPatternsAndSeparators(u),pt.embedDarkDotAtLeftBottomCorner(u),pt.maybeEmbedPositionAdjustmentPatterns(o,u),pt.embedTimingPatterns(u)}static embedTypeInfo(o,u,h){const g=new R;pt.makeTypeInfoBits(o,u,g);for(let x=0,w=g.getSize();x<w;++x){const C=g.get(g.getSize()-1-x),N=pt.TYPE_INFO_COORDINATES[x],I=N[0],j=N[1];if(h.setBoolean(I,j,C),x<8){const V=h.getWidth()-x-1;h.setBoolean(V,8,C)}else{const q=h.getHeight()-7+(x-8);h.setBoolean(8,q,C)}}}static maybeEmbedVersionInfo(o,u){if(o.getVersionNumber()<7)return;const h=new R;pt.makeVersionInfoBits(o,h);let g=6*3-1;for(let x=0;x<6;++x)for(let w=0;w<3;++w){const C=h.get(g);g--,u.setBoolean(x,u.getHeight()-11+w,C),u.setBoolean(u.getHeight()-11+w,x,C)}}static embedDataBits(o,u,h){let g=0,x=-1,w=h.getWidth()-1,C=h.getHeight()-1;for(;w>0;){for(w===6&&(w-=1);C>=0&&C<h.getHeight();){for(let N=0;N<2;++N){const I=w-N;if(!pt.isEmpty(h.get(I,C)))continue;let j;g<o.getSize()?(j=o.get(g),++g):j=!1,u!==255&&Pn.getDataMaskBit(u,I,C)&&(j=!j),h.setBoolean(I,C,j)}C+=x}x=-x,C+=x,w-=2}if(g!==o.getSize())throw new pn("Not all bits consumed: "+g+"/"+o.getSize())}static findMSBSet(o){return 32-P.numberOfLeadingZeros(o)}static calculateBCHCode(o,u){if(u===0)throw new _("0 polynomial");const h=pt.findMSBSet(u);for(o<<=h-1;pt.findMSBSet(o)>=h;)o^=u<<pt.findMSBSet(o)-h;return o}static makeTypeInfoBits(o,u,h){if(!Oa.isValidMaskPattern(u))throw new pn("Invalid mask pattern");const g=o.getBits()<<3|u;h.appendBits(g,5);const x=pt.calculateBCHCode(g,pt.TYPE_INFO_POLY);h.appendBits(x,10);const w=new R;if(w.appendBits(pt.TYPE_INFO_MASK_PATTERN,15),h.xor(w),h.getSize()!==15)throw new pn("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(o,u){u.appendBits(o.getVersionNumber(),6);const h=pt.calculateBCHCode(o.getVersionNumber(),pt.VERSION_INFO_POLY);if(u.appendBits(h,12),u.getSize()!==18)throw new pn("should not happen but we got: "+u.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let u=8;u<o.getWidth()-8;++u){const h=(u+1)%2;pt.isEmpty(o.get(u,6))&&o.setNumber(u,6,h),pt.isEmpty(o.get(6,u))&&o.setNumber(6,u,h)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new pn;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,u,h){for(let g=0;g<8;++g){if(!pt.isEmpty(h.get(o+g,u)))throw new pn;h.setNumber(o+g,u,0)}}static embedVerticalSeparationPattern(o,u,h){for(let g=0;g<7;++g){if(!pt.isEmpty(h.get(o,u+g)))throw new pn;h.setNumber(o,u+g,0)}}static embedPositionAdjustmentPattern(o,u,h){for(let g=0;g<5;++g){const x=pt.POSITION_ADJUSTMENT_PATTERN[g];for(let w=0;w<5;++w)h.setNumber(o+w,u+g,x[w])}}static embedPositionDetectionPattern(o,u,h){for(let g=0;g<7;++g){const x=pt.POSITION_DETECTION_PATTERN[g];for(let w=0;w<7;++w)h.setNumber(o+w,u+g,x[w])}}static embedPositionDetectionPatternsAndSeparators(o){const u=pt.POSITION_DETECTION_PATTERN[0].length;pt.embedPositionDetectionPattern(0,0,o),pt.embedPositionDetectionPattern(o.getWidth()-u,0,o),pt.embedPositionDetectionPattern(0,o.getWidth()-u,o);const h=8;pt.embedHorizontalSeparationPattern(0,h-1,o),pt.embedHorizontalSeparationPattern(o.getWidth()-h,h-1,o),pt.embedHorizontalSeparationPattern(0,o.getWidth()-h,o);const g=7;pt.embedVerticalSeparationPattern(g,0,o),pt.embedVerticalSeparationPattern(o.getHeight()-g-1,0,o),pt.embedVerticalSeparationPattern(g,o.getHeight()-g,o)}static maybeEmbedPositionAdjustmentPatterns(o,u){if(o.getVersionNumber()<2)return;const h=o.getVersionNumber()-1,g=pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let x=0,w=g.length;x!==w;x++){const C=g[x];if(C>=0)for(let N=0;N!==w;N++){const I=g[N];I>=0&&pt.isEmpty(u.get(I,C))&&pt.embedPositionAdjustmentPattern(I-2,C-2,u)}}}}pt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),pt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),pt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),pt.VERSION_INFO_POLY=7973,pt.TYPE_INFO_POLY=1335,pt.TYPE_INFO_MASK_PATTERN=21522;class Gm{constructor(o,u){this.dataBytes=o,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class An{constructor(){}static calculateMaskPenalty(o){return Pn.applyMaskPenaltyRule1(o)+Pn.applyMaskPenaltyRule2(o)+Pn.applyMaskPenaltyRule3(o)+Pn.applyMaskPenaltyRule4(o)}static encode(o,u,h=null){let g=An.DEFAULT_BYTE_MODE_ENCODING;const x=h!==null&&h.get(ai.CHARACTER_SET)!==void 0;x&&(g=h.get(ai.CHARACTER_SET).toString());const w=this.chooseMode(o,g),C=new R;if(w===lt.BYTE&&(x||An.DEFAULT_BYTE_MODE_ENCODING!==g)){const He=X.getCharacterSetECIByName(g);He!==void 0&&this.appendECI(He,C)}this.appendModeInfo(w,C);const N=new R;this.appendBytes(o,w,N,g);let I;if(h!==null&&h.get(ai.QR_VERSION)!==void 0){const He=Number.parseInt(h.get(ai.QR_VERSION).toString(),10);I=st.getVersionForNumber(He);const je=this.calculateBitsNeeded(w,C,N,I);if(!this.willFit(je,I,u))throw new pn("Data too big for requested version")}else I=this.recommendVersion(u,w,C,N);const j=new R;j.appendBitArray(C);const V=w===lt.BYTE?N.getSizeInBytes():o.length;this.appendLengthInfo(V,I,w,j),j.appendBitArray(N);const q=I.getECBlocksForLevel(u),K=I.getTotalCodewords()-q.getTotalECCodewords();this.terminateBits(K,j);const ee=this.interleaveWithECBytes(j,I.getTotalCodewords(),K,q.getNumBlocks()),ie=new Oa;ie.setECLevel(u),ie.setMode(w),ie.setVersion(I);const de=I.getDimensionForVersion(),ye=new zl(de,de),Fe=this.chooseMaskPattern(ee,u,I,ye);return ie.setMaskPattern(Fe),pt.buildMatrix(ee,u,I,Fe,ye),ie.setMatrix(ye),ie}static recommendVersion(o,u,h,g){const x=this.calculateBitsNeeded(u,h,g,st.getVersionForNumber(1)),w=this.chooseVersion(x,o),C=this.calculateBitsNeeded(u,h,g,w);return this.chooseVersion(C,o)}static calculateBitsNeeded(o,u,h,g){return u.getSize()+o.getCharacterCountBits(g)+h.getSize()}static getAlphanumericCode(o){return o<An.ALPHANUMERIC_TABLE.length?An.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,u=null){if(X.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(o))return lt.KANJI;let h=!1,g=!1;for(let x=0,w=o.length;x<w;++x){const C=o.charAt(x);if(An.isDigit(C))h=!0;else if(this.getAlphanumericCode(C.charCodeAt(0))!==-1)g=!0;else return lt.BYTE}return g?lt.ALPHANUMERIC:h?lt.NUMERIC:lt.BYTE}static isOnlyDoubleByteKanji(o){let u;try{u=ae.encode(o,X.SJIS)}catch{return!1}const h=u.length;if(h%2!==0)return!1;for(let g=0;g<h;g+=2){const x=u[g]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(o,u,h,g){let x=Number.MAX_SAFE_INTEGER,w=-1;for(let C=0;C<Oa.NUM_MASK_PATTERNS;C++){pt.buildMatrix(o,u,h,C,g);let N=this.calculateMaskPenalty(g);N<x&&(x=N,w=C)}return w}static chooseVersion(o,u){for(let h=1;h<=40;h++){const g=st.getVersionForNumber(h);if(An.willFit(o,g,u))return g}throw new pn("Data too big")}static willFit(o,u,h){const g=u.getTotalCodewords(),w=u.getECBlocksForLevel(h).getTotalECCodewords(),C=g-w,N=(o+7)/8;return C>=N}static terminateBits(o,u){const h=o*8;if(u.getSize()>h)throw new pn("data bits cannot fit in the QR Code"+u.getSize()+" > "+h);for(let w=0;w<4&&u.getSize()<h;++w)u.appendBit(!1);const g=u.getSize()&7;if(g>0)for(let w=g;w<8;w++)u.appendBit(!1);const x=o-u.getSizeInBytes();for(let w=0;w<x;++w)u.appendBits((w&1)===0?236:17,8);if(u.getSize()!==h)throw new pn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,u,h,g,x,w){if(g>=h)throw new pn("Block ID too large");const C=o%h,N=h-C,I=Math.floor(o/h),j=I+1,V=Math.floor(u/h),q=V+1,K=I-V,ee=j-q;if(K!==ee)throw new pn("EC bytes mismatch");if(h!==N+C)throw new pn("RS blocks mismatch");if(o!==(V+K)*N+(q+ee)*C)throw new pn("Total bytes mismatch");g<N?(x[0]=V,w[0]=K):(x[0]=q,w[0]=ee)}static interleaveWithECBytes(o,u,h,g){if(o.getSizeInBytes()!==h)throw new pn("Number of bits and data bytes does not match");let x=0,w=0,C=0;const N=new Array;for(let j=0;j<g;++j){const V=new Int32Array(1),q=new Int32Array(1);An.getNumDataBytesAndNumECBytesForBlockID(u,h,g,j,V,q);const K=V[0],ee=new Uint8Array(K);o.toBytes(8*x,ee,0,K);const ie=An.generateECBytes(ee,q[0]);N.push(new Gm(ee,ie)),w=Math.max(w,K),C=Math.max(C,ie.length),x+=V[0]}if(h!==x)throw new pn("Data bytes does not match offset");const I=new R;for(let j=0;j<w;++j)for(const V of N){const q=V.getDataBytes();j<q.length&&I.appendBits(q[j],8)}for(let j=0;j<C;++j)for(const V of N){const q=V.getErrorCorrectionBytes();j<q.length&&I.appendBits(q[j],8)}if(u!==I.getSizeInBytes())throw new pn("Interleaving error: "+u+" and "+I.getSizeInBytes()+" differ.");return I}static generateECBytes(o,u){const h=o.length,g=new Int32Array(h+u);for(let w=0;w<h;w++)g[w]=o[w]&255;new td(kt.QR_CODE_FIELD_256).encode(g,u);const x=new Uint8Array(u);for(let w=0;w<u;w++)x[w]=g[h+w];return x}static appendModeInfo(o,u){u.appendBits(o.getBits(),4)}static appendLengthInfo(o,u,h,g){const x=h.getCharacterCountBits(u);if(o>=1<<x)throw new pn(o+" is bigger than "+((1<<x)-1));g.appendBits(o,x)}static appendBytes(o,u,h,g){switch(u){case lt.NUMERIC:An.appendNumericBytes(o,h);break;case lt.ALPHANUMERIC:An.appendAlphanumericBytes(o,h);break;case lt.BYTE:An.append8BitBytes(o,h,g);break;case lt.KANJI:An.appendKanjiBytes(o,h);break;default:throw new pn("Invalid mode: "+u)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const u=An.getDigit(o);return u>=0&&u<=9}static appendNumericBytes(o,u){const h=o.length;let g=0;for(;g<h;){const x=An.getDigit(o.charAt(g));if(g+2<h){const w=An.getDigit(o.charAt(g+1)),C=An.getDigit(o.charAt(g+2));u.appendBits(x*100+w*10+C,10),g+=3}else if(g+1<h){const w=An.getDigit(o.charAt(g+1));u.appendBits(x*10+w,7),g+=2}else u.appendBits(x,4),g++}}static appendAlphanumericBytes(o,u){const h=o.length;let g=0;for(;g<h;){const x=An.getAlphanumericCode(o.charCodeAt(g));if(x===-1)throw new pn;if(g+1<h){const w=An.getAlphanumericCode(o.charCodeAt(g+1));if(w===-1)throw new pn;u.appendBits(x*45+w,11),g+=2}else u.appendBits(x,6),g++}}static append8BitBytes(o,u,h){let g;try{g=ae.encode(o,h)}catch(x){throw new pn(x)}for(let x=0,w=g.length;x!==w;x++){const C=g[x];u.appendBits(C,8)}}static appendKanjiBytes(o,u){let h;try{h=ae.encode(o,X.SJIS)}catch(x){throw new pn(x)}const g=h.length;for(let x=0;x<g;x+=2){const w=h[x]&255,C=h[x+1]&255,N=w<<8&4294967295|C;let I=-1;if(N>=33088&&N<=40956?I=N-33088:N>=57408&&N<=60351&&(I=N-49472),I===-1)throw new pn("Invalid byte sequence");const j=(I>>8)*192+(I&255);u.appendBits(j,13)}}static appendECI(o,u){u.appendBits(lt.ECI.getBits(),4),u.appendBits(o.getValue(),8)}}An.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),An.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class Ia{write(o,u,h,g=null){if(o.length===0)throw new _("Found empty contents");if(u<0||h<0)throw new _("Requested dimensions are too small: "+u+"x"+h);let x=fn.L,w=Ia.QUIET_ZONE_SIZE;g!==null&&(g.get(ai.ERROR_CORRECTION)!==void 0&&(x=fn.fromString(g.get(ai.ERROR_CORRECTION).toString())),g.get(ai.MARGIN)!==void 0&&(w=Number.parseInt(g.get(ai.MARGIN).toString(),10)));const C=An.encode(o,x,g);return this.renderResult(C,u,h,w)}writeToDom(o,u,h,g,x=null){typeof o=="string"&&(o=document.querySelector(o));const w=this.write(u,h,g,x);o&&o.appendChild(w)}renderResult(o,u,h,g){const x=o.getMatrix();if(x===null)throw new $i;const w=x.getWidth(),C=x.getHeight(),N=w+g*2,I=C+g*2,j=Math.max(u,N),V=Math.max(h,I),q=Math.min(Math.floor(j/N),Math.floor(V/I)),K=Math.floor((j-w*q)/2),ee=Math.floor((V-C*q)/2),ie=this.createSVGElement(j,V);for(let de=0,ye=ee;de<C;de++,ye+=q)for(let Fe=0,He=K;Fe<w;Fe++,He+=q)if(x.get(Fe,de)===1){const je=this.createSvgRectElement(He,ye,q,q);ie.appendChild(je)}return ie}createSVGElement(o,u){const h=document.createElementNS(Ia.SVG_NS,"svg");return h.setAttributeNS(null,"height",o.toString()),h.setAttributeNS(null,"width",u.toString()),h}createSvgRectElement(o,u,h,g){const x=document.createElementNS(Ia.SVG_NS,"rect");return x.setAttributeNS(null,"x",o.toString()),x.setAttributeNS(null,"y",u.toString()),x.setAttributeNS(null,"height",h.toString()),x.setAttributeNS(null,"width",g.toString()),x.setAttributeNS(null,"fill","#000000"),x}}Ia.QUIET_ZONE_SIZE=4,Ia.SVG_NS="http://www.w3.org/2000/svg";class So{encode(o,u,h,g,x){if(o.length===0)throw new _("Found empty contents");if(u!==Se.QR_CODE)throw new _("Can only encode QR_CODE, but got "+u);if(h<0||g<0)throw new _(`Requested dimensions are too small: ${h}x${g}`);let w=fn.L,C=So.QUIET_ZONE_SIZE;x!==null&&(x.get(ai.ERROR_CORRECTION)!==void 0&&(w=fn.fromString(x.get(ai.ERROR_CORRECTION).toString())),x.get(ai.MARGIN)!==void 0&&(C=Number.parseInt(x.get(ai.MARGIN).toString(),10)));const N=An.encode(o,w,x);return So.renderResult(N,h,g,C)}static renderResult(o,u,h,g){const x=o.getMatrix();if(x===null)throw new $i;const w=x.getWidth(),C=x.getHeight(),N=w+g*2,I=C+g*2,j=Math.max(u,N),V=Math.max(h,I),q=Math.min(Math.floor(j/N),Math.floor(V/I)),K=Math.floor((j-w*q)/2),ee=Math.floor((V-C*q)/2),ie=new Te(j,V);for(let de=0,ye=ee;de<C;de++,ye+=q)for(let Fe=0,He=K;Fe<w;Fe++,He+=q)x.get(Fe,de)===1&&ie.setRegion(He,ye,q,q);return ie}}So.QUIET_ZONE_SIZE=4;class qm{encode(o,u,h,g,x){let w;switch(u){case Se.QR_CODE:w=new So;break;default:throw new _("No encoder available for format "+u)}return w.encode(o,u,h,g,x)}}class fs extends fe{constructor(o,u,h,g,x,w,C,N){if(super(w,C),this.yuvData=o,this.dataWidth=u,this.dataHeight=h,this.left=g,this.top=x,g+w>u||x+C>h)throw new _("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(w,C)}getRow(o,u){if(o<0||o>=this.getHeight())throw new _("Requested row is outside the image: "+o);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const g=(o+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,g,u,0,h),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.yuvData;const h=o*u,g=new Uint8ClampedArray(h);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return O.arraycopy(this.yuvData,x,g,0,h),g;for(let w=0;w<u;w++){const C=w*o;O.arraycopy(this.yuvData,x,g,C,o),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(o,u,h,g){return new fs(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+u,h,g,!1)}renderThumbnail(){const o=this.getWidth()/fs.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/fs.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(o*u),g=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let w=0;w<u;w++){const C=w*o;for(let N=0;N<o;N++){const I=g[x+N*fs.THUMBNAIL_SCALE_FACTOR]&255;h[C+N]=4278190080|I*65793}x+=this.dataWidth*fs.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/fs.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/fs.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,u){const h=this.yuvData;for(let g=0,x=this.top*this.dataWidth+this.left;g<u;g++,x+=this.dataWidth){const w=x+o/2;for(let C=x,N=x+o-1;C<w;C++,N--){const I=h[C];h[C]=h[N],h[N]=I}}}invert(){return new Be(this)}}fs.THUMBNAIL_SCALE_FACTOR=2;class Hl extends fe{constructor(o,u,h,g,x,w,C){if(super(u,h),this.dataWidth=g,this.dataHeight=x,this.left=w,this.top=C,o.BYTES_PER_ELEMENT===4){const N=u*h,I=new Uint8ClampedArray(N);for(let j=0;j<N;j++){const V=o[j],q=V>>16&255,K=V>>7&510,ee=V&255;I[j]=(q+K+ee)/4&255}this.luminances=I}else this.luminances=o;if(g===void 0&&(this.dataWidth=u),x===void 0&&(this.dataHeight=h),w===void 0&&(this.left=0),C===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+h>this.dataHeight)throw new _("Crop rectangle does not fit within image data.")}getRow(o,u){if(o<0||o>=this.getHeight())throw new _("Requested row is outside the image: "+o);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const g=(o+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,g,u,0,h),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.luminances;const h=o*u,g=new Uint8ClampedArray(h);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return O.arraycopy(this.luminances,x,g,0,h),g;for(let w=0;w<u;w++){const C=w*o;O.arraycopy(this.luminances,x,g,C,o),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(o,u,h,g){return new Hl(this.luminances,h,g,this.dataWidth,this.dataHeight,this.left+o,this.top+u)}invert(){return new Be(this)}}class Eo extends X{static forName(o){return this.getCharacterSetECIByName(o)}}class nd{}nd.ISO_8859_1=X.ISO8859_1;class id{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class rd{static singletonList(o){return[o]}static min(o,u){return o.sort(u)[0]}}class ah{constructor(o){this.previous=o}getPrevious(){return this.previous}}class ka extends ah{constructor(o,u,h){super(o),this.value=u,this.bitCount=h}appendTo(o,u){o.appendBits(this.value,this.bitCount)}add(o,u){return new ka(this,o,u)}addBinaryShift(o,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ka(this,o,u)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+P.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class Uc extends ka{constructor(o,u,h){super(o,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=h}appendTo(o,u){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):h===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(u[this.binaryShiftStart+h],8)}addBinaryShift(o,u){return new Uc(this,o,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ao(U,o,u){return new Uc(U,o,u)}function Ul(U,o,u){return new ka(U,o,u)}const Wm=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],oa=0,Vl=1,mr=2,To=3,tr=4,Xm=new ka(null,0,0),No=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function oh(U){for(let o of U)$.fill(o,-1);return U[oa][tr]=0,U[Vl][tr]=0,U[Vl][oa]=28,U[To][tr]=0,U[mr][tr]=0,U[mr][oa]=15,U}const sd=oh($.createInt32Array(6,6));class Mr{constructor(o,u,h,g){this.token=o,this.mode=u,this.binaryShiftByteCount=h,this.bitCount=g}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,u){let h=this.bitCount,g=this.token;if(o!==this.mode){let w=No[this.mode][o];g=Ul(g,w&65535,w>>16),h+=w>>16}let x=o===mr?4:5;return g=Ul(g,u,x),new Mr(g,o,0,h+x)}shiftAndAppend(o,u){let h=this.token,g=this.mode===mr?4:5;return h=Ul(h,sd[this.mode][o],g),h=Ul(h,u,5),new Mr(h,this.mode,0,this.bitCount+g+5)}addBinaryShiftChar(o){let u=this.token,h=this.mode,g=this.bitCount;if(this.mode===tr||this.mode===mr){let C=No[h][oa];u=Ul(u,C&65535,C>>16),g+=C>>16,h=oa}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,w=new Mr(u,h,this.binaryShiftByteCount+1,g+x);return w.binaryShiftByteCount===2078&&(w=w.endBinaryShift(o+1)),w}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=Ao(u,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new Mr(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let u=this.bitCount+(No[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?u+=Mr.calculateBinaryShiftCost(o)-Mr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(u+=10),u<=o.bitCount}toBitArray(o){let u=[];for(let g=this.endBinaryShift(o.length).token;g!==null;g=g.getPrevious())u.unshift(g);let h=new R;for(const g of u)g.appendTo(h,o);return h}toString(){return ue.format("%s bits=%d bytes=%d",Wm[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}Mr.INITIAL_STATE=new Mr(Xm,oa,0,0);function ad(U){const o=ue.getCharCode(" "),u=ue.getCharCode("."),h=ue.getCharCode(",");U[oa][o]=1;const g=ue.getCharCode("Z"),x=ue.getCharCode("A");for(let q=x;q<=g;q++)U[oa][q]=q-x+2;U[Vl][o]=1;const w=ue.getCharCode("z"),C=ue.getCharCode("a");for(let q=C;q<=w;q++)U[Vl][q]=q-C+2;U[mr][o]=1;const N=ue.getCharCode("9"),I=ue.getCharCode("0");for(let q=I;q<=N;q++)U[mr][q]=q-I+2;U[mr][h]=12,U[mr][u]=13;const j=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let q=0;q<j.length;q++)U[To][ue.getCharCode(j[q])]=q;const V=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let q=0;q<V.length;q++)ue.getCharCode(V[q])>0&&(U[tr][ue.getCharCode(V[q])]=q);return U}const Vc=ad($.createInt32Array(5,256));class Mo{constructor(o){this.text=o}encode(){const o=ue.getCharCode(" "),u=ue.getCharCode(`
`);let h=rd.singletonList(Mr.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let w,C=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case ue.getCharCode("\r"):w=C===u?2:0;break;case ue.getCharCode("."):w=C===o?3:0;break;case ue.getCharCode(","):w=C===o?4:0;break;case ue.getCharCode(":"):w=C===o?5:0;break;default:w=0}w>0?(h=Mo.updateStateListForPair(h,x,w),x++):h=this.updateStateListForChar(h,x)}return rd.min(h,(x,w)=>x.getBitCount()-w.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,u){const h=[];for(let g of o)this.updateStateForChar(g,u,h);return Mo.simplifyStates(h)}updateStateForChar(o,u,h){let g=this.text[u]&255,x=Vc[o.getMode()][g]>0,w=null;for(let C=0;C<=tr;C++){let N=Vc[C][g];if(N>0){if(w==null&&(w=o.endBinaryShift(u)),!x||C===o.getMode()||C===mr){const I=w.latchAndAppend(C,N);h.push(I)}if(!x&&sd[o.getMode()][C]>=0){const I=w.shiftAndAppend(C,N);h.push(I)}}}if(o.getBinaryShiftByteCount()>0||Vc[o.getMode()][g]===0){let C=o.addBinaryShiftChar(u);h.push(C)}}static updateStateListForPair(o,u,h){const g=[];for(let x of o)this.updateStateForPair(x,u,h,g);return this.simplifyStates(g)}static updateStateForPair(o,u,h,g){let x=o.endBinaryShift(u);if(g.push(x.latchAndAppend(tr,h)),o.getMode()!==tr&&g.push(x.shiftAndAppend(tr,h)),h===3||h===4){let w=x.latchAndAppend(mr,16-h).latchAndAppend(mr,1);g.push(w)}if(o.getBinaryShiftByteCount()>0){let w=o.addBinaryShiftChar(u).addBinaryShiftChar(u+1);g.push(w)}}static simplifyStates(o){let u=[];for(const h of o){let g=!0;for(const x of u){if(x.isBetterThanOrEqualTo(h)){g=!1;break}h.isBetterThanOrEqualTo(x)&&(u=u.filter(w=>w!==x))}g&&u.push(h)}return u}}class Jt{constructor(){}static encodeBytes(o){return Jt.encode(o,Jt.DEFAULT_EC_PERCENT,Jt.DEFAULT_AZTEC_LAYERS)}static encode(o,u,h){let g=new Mo(o).encode(),x=P.truncDivision(g.getSize()*u,100)+11,w=g.getSize()+x,C,N,I,j,V;if(h!==Jt.DEFAULT_AZTEC_LAYERS){if(C=h<0,N=Math.abs(h),N>(C?Jt.MAX_NB_BITS_COMPACT:Jt.MAX_NB_BITS))throw new _(ue.format("Illegal value %s for layers",h));I=Jt.totalBitsInLayer(N,C),j=Jt.WORD_SIZE[N];let je=I-I%j;if(V=Jt.stuffBits(g,j),V.getSize()+x>je)throw new _("Data to large for user specified layer");if(C&&V.getSize()>j*64)throw new _("Data to large for user specified layer")}else{j=0,V=null;for(let je=0;;je++){if(je>Jt.MAX_NB_BITS)throw new _("Data too large for an Aztec code");if(C=je<=3,N=C?je+1:je,I=Jt.totalBitsInLayer(N,C),w>I)continue;(V==null||j!==Jt.WORD_SIZE[N])&&(j=Jt.WORD_SIZE[N],V=Jt.stuffBits(g,j));let Et=I-I%j;if(!(C&&V.getSize()>j*64)&&V.getSize()+x<=Et)break}}let q=Jt.generateCheckWords(V,I,j),K=V.getSize()/j,ee=Jt.generateModeMessage(C,N,K),ie=(C?11:14)+N*4,de=new Int32Array(ie),ye;if(C){ye=ie;for(let je=0;je<de.length;je++)de[je]=je}else{ye=ie+1+2*P.truncDivision(P.truncDivision(ie,2)-1,15);let je=P.truncDivision(ie,2),Et=P.truncDivision(ye,2);for(let Ct=0;Ct<je;Ct++){let qi=Ct+P.truncDivision(Ct,15);de[je-Ct-1]=Et-qi-1,de[je+Ct]=Et+qi+1}}let Fe=new Te(ye);for(let je=0,Et=0;je<N;je++){let Ct=(N-je)*4+(C?9:12);for(let qi=0;qi<Ct;qi++){let Rr=qi*2;for(let nr=0;nr<2;nr++)q.get(Et+Rr+nr)&&Fe.set(de[je*2+nr],de[je*2+qi]),q.get(Et+Ct*2+Rr+nr)&&Fe.set(de[je*2+qi],de[ie-1-je*2-nr]),q.get(Et+Ct*4+Rr+nr)&&Fe.set(de[ie-1-je*2-nr],de[ie-1-je*2-qi]),q.get(Et+Ct*6+Rr+nr)&&Fe.set(de[ie-1-je*2-qi],de[je*2+nr])}Et+=Ct*8}if(Jt.drawModeMessage(Fe,C,ye,ee),C)Jt.drawBullsEye(Fe,P.truncDivision(ye,2),5);else{Jt.drawBullsEye(Fe,P.truncDivision(ye,2),7);for(let je=0,Et=0;je<P.truncDivision(ie,2)-1;je+=15,Et+=16)for(let Ct=P.truncDivision(ye,2)&1;Ct<ye;Ct+=2)Fe.set(P.truncDivision(ye,2)-Et,Ct),Fe.set(P.truncDivision(ye,2)+Et,Ct),Fe.set(Ct,P.truncDivision(ye,2)-Et),Fe.set(Ct,P.truncDivision(ye,2)+Et)}let He=new id;return He.setCompact(C),He.setSize(ye),He.setLayers(N),He.setCodeWords(K),He.setMatrix(Fe),He}static drawBullsEye(o,u,h){for(let g=0;g<h;g+=2)for(let x=u-g;x<=u+g;x++)o.set(x,u-g),o.set(x,u+g),o.set(u-g,x),o.set(u+g,x);o.set(u-h,u-h),o.set(u-h+1,u-h),o.set(u-h,u-h+1),o.set(u+h,u-h),o.set(u+h,u-h+1),o.set(u+h,u+h-1)}static generateModeMessage(o,u,h){let g=new R;return o?(g.appendBits(u-1,2),g.appendBits(h-1,6),g=Jt.generateCheckWords(g,28,4)):(g.appendBits(u-1,5),g.appendBits(h-1,11),g=Jt.generateCheckWords(g,40,4)),g}static drawModeMessage(o,u,h,g){let x=P.truncDivision(h,2);if(u)for(let w=0;w<7;w++){let C=x-3+w;g.get(w)&&o.set(C,x-5),g.get(w+7)&&o.set(x+5,C),g.get(20-w)&&o.set(C,x+5),g.get(27-w)&&o.set(x-5,C)}else for(let w=0;w<10;w++){let C=x-5+w+P.truncDivision(w,5);g.get(w)&&o.set(C,x-7),g.get(w+10)&&o.set(x+7,C),g.get(29-w)&&o.set(C,x+7),g.get(39-w)&&o.set(x-7,C)}}static generateCheckWords(o,u,h){let g=o.getSize()/h,x=new td(Jt.getGF(h)),w=P.truncDivision(u,h),C=Jt.bitsToWords(o,h,w);x.encode(C,w-g);let N=u%h,I=new R;I.appendBits(0,N);for(const j of Array.from(C))I.appendBits(j,h);return I}static bitsToWords(o,u,h){let g=new Int32Array(h),x,w;for(x=0,w=o.getSize()/u;x<w;x++){let C=0;for(let N=0;N<u;N++)C|=o.get(x*u+N)?1<<u-N-1:0;g[x]=C}return g}static getGF(o){switch(o){case 4:return kt.AZTEC_PARAM;case 6:return kt.AZTEC_DATA_6;case 8:return kt.AZTEC_DATA_8;case 10:return kt.AZTEC_DATA_10;case 12:return kt.AZTEC_DATA_12;default:throw new _("Unsupported word size "+o)}}static stuffBits(o,u){let h=new R,g=o.getSize(),x=(1<<u)-2;for(let w=0;w<g;w+=u){let C=0;for(let N=0;N<u;N++)(w+N>=g||o.get(w+N))&&(C|=1<<u-1-N);(C&x)===x?(h.appendBits(C&x,u),w--):(C&x)===0?(h.appendBits(C|1,u),w--):h.appendBits(C,u)}return h}static totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Jt.DEFAULT_EC_PERCENT=33,Jt.DEFAULT_AZTEC_LAYERS=0,Jt.MAX_NB_BITS=32,Jt.MAX_NB_BITS_COMPACT=4,Jt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class $c{encode(o,u,h,g){return this.encodeWithHints(o,u,h,g,null)}encodeWithHints(o,u,h,g,x){let w=nd.ISO_8859_1,C=Jt.DEFAULT_EC_PERCENT,N=Jt.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(ai.CHARACTER_SET)&&(w=Eo.forName(x.get(ai.CHARACTER_SET).toString())),x.has(ai.ERROR_CORRECTION)&&(C=P.parseInt(x.get(ai.ERROR_CORRECTION).toString())),x.has(ai.AZTEC_LAYERS)&&(N=P.parseInt(x.get(ai.AZTEC_LAYERS).toString()))),$c.encodeLayers(o,u,h,g,w,C,N)}static encodeLayers(o,u,h,g,x,w,C){if(u!==Se.AZTEC)throw new _("Can only encode AZTEC, but got "+u);let N=Jt.encode(ue.getBytes(o,x),w,C);return $c.renderResult(N,h,g)}static renderResult(o,u,h){let g=o.getMatrix();if(g==null)throw new $i;let x=g.getWidth(),w=g.getHeight(),C=Math.max(u,x),N=Math.max(h,w),I=Math.min(C/x,N/w),j=(C-x*I)/2,V=(N-w*I)/2,q=new Te(C,N);for(let K=0,ee=V;K<w;K++,ee+=I)for(let ie=0,de=j;ie<x;ie++,de+=I)g.get(ie,K)&&q.setRegion(de,ee,I,I);return q}}n.AbstractExpandedDecoder=nt,n.ArgumentException=y,n.ArithmeticException=ki,n.AztecCode=id,n.AztecCodeReader=wi,n.AztecCodeWriter=$c,n.AztecDecoder=en,n.AztecDetector=Ur,n.AztecDetectorResult=Hr,n.AztecEncoder=Jt,n.AztecHighLevelEncoder=Mo,n.AztecPoint=Pt,n.BarcodeFormat=Se,n.Binarizer=A,n.BinaryBitmap=S,n.BitArray=R,n.BitMatrix=Te,n.BitSource=Di,n.BrowserAztecCodeReader=Ks,n.BrowserBarcodeReader=Vr,n.BrowserCodeReader=Le,n.BrowserDatamatrixCodeReader=Pm,n.BrowserMultiFormatReader=Um,n.BrowserPDF417Reader=Vm,n.BrowserQRCodeReader=$m,n.BrowserQRCodeSvgWriter=Ia,n.CharacterSetECI=X,n.ChecksumException=T,n.Code128Reader=Ue,n.Code39Reader=rn,n.DataMatrixDecodedBitStreamParser=Js,n.DataMatrixReader=$r,n.DecodeHintType=B,n.DecoderResult=bi,n.DefaultGridSampler=_t,n.DetectorResult=Ji,n.EAN13Reader=hr,n.EncodeHintType=ai,n.Exception=p,n.FormatException=z,n.GenericGF=kt,n.GenericGFPoly=ln,n.GlobalHistogramBinarizer=Q,n.GridSampler=at,n.GridSamplerInstance=tn,n.HTMLCanvasElementLuminanceSource=Z,n.HybridBinarizer=le,n.ITFReader=Ft,n.IllegalArgumentException=_,n.IllegalStateException=$i,n.InvertedLuminanceSource=Be,n.LuminanceSource=fe,n.MathUtils=Tt,n.MultiFormatOneDReader=Un,n.MultiFormatReader=sh,n.MultiFormatWriter=qm,n.NotFoundException=ne,n.OneDReader=sn,n.PDF417DecodedBitStreamParser=we,n.PDF417DecoderErrorCorrection=jl,n.PDF417Reader=Ai,n.PDF417ResultMetadata=Fc,n.PerspectiveTransform=bt,n.PlanarYUVLuminanceSource=fs,n.QRCodeByteMatrix=zl,n.QRCodeDataMask=Ei,n.QRCodeDecodedBitStreamParser=In,n.QRCodeDecoderErrorCorrectionLevel=fn,n.QRCodeDecoderFormatInformation=Si,n.QRCodeEncoder=An,n.QRCodeEncoderQRCode=Oa,n.QRCodeMaskUtil=Pn,n.QRCodeMatrixUtil=pt,n.QRCodeMode=lt,n.QRCodeReader=Ls,n.QRCodeVersion=st,n.QRCodeWriter=So,n.RGBLuminanceSource=Hl,n.RSS14Reader=it,n.RSSExpandedReader=Ne,n.ReaderException=Pl,n.ReedSolomonDecoder=cs,n.ReedSolomonEncoder=td,n.ReedSolomonException=ii,n.Result=Ie,n.ResultMetadataType=xt,n.ResultPoint=qe,n.StringUtils=ue,n.UnsupportedOperationException=se,n.VideoInputDevice=be,n.WhiteRectangleDetector=$e,n.WriterException=pn,n.ZXingArrays=$,n.ZXingCharset=Eo,n.ZXingInteger=P,n.ZXingStandardCharsets=nd,n.ZXingStringBuilder=Oe,n.ZXingStringEncoding=ae,n.ZXingSystem=O,n.createAbstractExpandedDecoder=Ds,Object.defineProperty(n,"__esModule",{value:!0})})}(uf,uf.exports)),uf.exports}var Dn=XP();const YP=Nl(Dn),KP=r6({__proto__:null,default:YP},[Dn]);var IC=function(){function t(e,n,i){if(this.formatMap=new Map([[Ye.QR_CODE,Dn.BarcodeFormat.QR_CODE],[Ye.AZTEC,Dn.BarcodeFormat.AZTEC],[Ye.CODABAR,Dn.BarcodeFormat.CODABAR],[Ye.CODE_39,Dn.BarcodeFormat.CODE_39],[Ye.CODE_93,Dn.BarcodeFormat.CODE_93],[Ye.CODE_128,Dn.BarcodeFormat.CODE_128],[Ye.DATA_MATRIX,Dn.BarcodeFormat.DATA_MATRIX],[Ye.MAXICODE,Dn.BarcodeFormat.MAXICODE],[Ye.ITF,Dn.BarcodeFormat.ITF],[Ye.EAN_13,Dn.BarcodeFormat.EAN_13],[Ye.EAN_8,Dn.BarcodeFormat.EAN_8],[Ye.PDF_417,Dn.BarcodeFormat.PDF_417],[Ye.RSS_14,Dn.BarcodeFormat.RSS_14],[Ye.RSS_EXPANDED,Dn.BarcodeFormat.RSS_EXPANDED],[Ye.UPC_A,Dn.BarcodeFormat.UPC_A],[Ye.UPC_E,Dn.BarcodeFormat.UPC_E],[Ye.UPC_EAN_EXTENSION,Dn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!KP)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var r=this.createZXingFormats(e),s=new Map;s.set(Dn.DecodeHintType.POSSIBLE_FORMATS,r),s.set(Dn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(i,r){try{i(n.decode(e))}catch(s){r(s)}})},t.prototype.decode=function(e){var n=new Dn.MultiFormatReader(this.verbose,this.hints),i=new Dn.HTMLCanvasElementLuminanceSource(e),r=new Dn.BinaryBitmap(new Dn.HybridBinarizer(i)),s=n.decode(r);return{text:s.text,format:A4.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,i,r){e.set(n,i)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],i=0,r=e;i<r.length;i++){var s=r[i];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),ZP=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(y){try{p(i.next(y))}catch(_){l(_)}}function f(y){try{p(i.throw(y))}catch(_){l(_)}}function p(y){y.done?s(y.value):r(y.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},QP=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(y){return f([p,y])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},kC=function(){function t(e,n,i){if(this.formatMap=new Map([[Ye.QR_CODE,"qr_code"],[Ye.AZTEC,"aztec"],[Ye.CODABAR,"codabar"],[Ye.CODE_39,"code_39"],[Ye.CODE_93,"code_93"],[Ye.CODE_128,"code_128"],[Ye.DATA_MATRIX,"data_matrix"],[Ye.ITF,"itf"],[Ye.EAN_13,"ean_13"],[Ye.EAN_8,"ean_8"],[Ye.PDF_417,"pdf417"],[Ye.UPC_A,"upc_a"],[Ye.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var r=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(r),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return ZP(this,void 0,void 0,function(){var n,i;return QP(this,function(r){switch(r.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=r.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:A4.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,i=0,r=0,s=e;r<s.length;r++){var l=s[r],d=l.boundingBox.width*l.boundingBox.height;d>i&&(i=d,n=l)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],i=0,r=e;i<r.length;i++){var s=r[i];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,i,r){e.set(n,i)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),DC=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(y){try{p(i.next(y))}catch(_){l(_)}}function f(y){try{p(i.throw(y))}catch(_){l(_)}}function p(y){y.done?s(y.value):r(y.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},BC=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(y){return f([p,y])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},JP=function(){function t(e,n,i,r){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&kC.isSupported()?(this.primaryDecoder=new kC(e,i,r),this.secondaryDecoder=new IC(e,i,r)):this.primaryDecoder=new IC(e,i,r)}return t.prototype.decodeAsync=function(e){return DC(this,void 0,void 0,function(){var n;return BC(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return DC(this,void 0,void 0,function(){var n,i;return BC(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,r.sent()];case 3:if(i=r.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,i=this.executionResults;n<i.length;n++){var r=i[n];e+=r}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),C2=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),f1=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(y){try{p(i.next(y))}catch(_){l(_)}}function f(y){try{p(i.throw(y))}catch(_){l(_)}}function p(y){y.done?s(y.value):r(y.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},h1=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(y){return f([p,y])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},N4=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),eF=function(t){C2(e,t);function e(n,i){return t.call(this,n,i)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var i={};i[this.name]=n;var r={advanced:[i]};return this.track.applyConstraints(r)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(N4),tF=function(t){C2(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(eF),nF=function(t){C2(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(N4),iF=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new tF(this.track)},t.prototype.torchFeature=function(){return new nF(this.track)},t}(),rF=function(){function t(e,n,i){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=e.surface.clientWidth,r=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(i,r),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,i,r){return f1(this,void 0,void 0,function(){var s,l;return h1(this,function(d){switch(d.label){case 0:return s=new t(e,n,r),i.aspectRatio?(l={aspectRatio:i.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:d.sent(),d.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,i=function(){setTimeout(e,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return f1(this,void 0,void 0,function(){return h1(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,i){var r=e.mediaStream.getVideoTracks(),s=r.length,l=0;e.mediaStream.getVideoTracks().forEach(function(d){e.mediaStream.removeTrack(d),d.stop(),++l,l>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new iF(this.getFirstTrackOrFail())},t}(),sF=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,i){return f1(this,void 0,void 0,function(){return h1(this,function(r){return[2,rF.create(e,this.mediaStream,n,i)]})})},t.create=function(e){return f1(this,void 0,void 0,function(){var n,i;return h1(this,function(r){switch(r.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=r.sent(),[2,new t(i)]}})})},t}(),LC=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(y){try{p(i.next(y))}catch(_){l(_)}}function f(y){try{p(i.throw(y))}catch(_){l(_)}}function p(y){y.done?s(y.value):r(y.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},jC=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(y){return f([p,y])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},aF=function(){function t(){}return t.failIfNotSupported=function(){return LC(this,void 0,void 0,function(){return jC(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return LC(this,void 0,void 0,function(){return jC(this,function(n){return[2,sF.create(e)]})})},t}(),oF=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(y){try{p(i.next(y))}catch(_){l(_)}}function f(y){try{p(i.throw(y))}catch(_){l(_)}}function p(y){y.done?s(y.value):r(y.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},lF=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(y){return f([p,y])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},cF=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Bu.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Bu.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return oF(this,void 0,void 0,function(){var e,n,i,r,s,l,d;return lF(this,function(f){switch(f.label){case 0:return e=function(p){for(var y=p.getVideoTracks(),_=0,S=y;_<S.length;_++){var T=S[_];T.enabled=!1,T.stop(),p.removeTrack(T)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=f.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=f.sent(),r=[],s=0,l=i;s<l.length;s++)d=l[s],d.kind==="videoinput"&&r.push({id:d.deviceId,label:d.label});return e(n),[2,r]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var i=function(s){for(var l=[],d=0,f=s;d<f.length;d++){var p=f[d];p.kind==="video"&&l.push({id:p.id,label:p.label})}e(l)},r=MediaStreamTrack;r.getSources(i)})},t}(),ei;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(ei||(ei={}));var uF=function(){function t(){this.state=ei.NOT_STARTED,this.onGoingTransactionNewState=ei.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===ei.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ei.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===ei.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ei.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ei.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case ei.UNKNOWN:throw"Transition from unknown is not allowed";case ei.NOT_STARTED:this.failIfNewStateIs(e,[ei.PAUSED]);break;case ei.SCANNING:break;case ei.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),dF=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===ei.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==ei.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ei.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===ei.PAUSED},t}(),fF=function(){function t(){}return t.create=function(){return new dF(new uF)},t}(),hF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),ns=function(t){hF(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}($P),pF=function(){function t(e,n){this.logger=n,this.fps=ns.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=ns.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?T4.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!co(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),mF=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new qP(this.verbose),this.qrcode=new JP(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=fF.create()}return t.prototype.start=function(e,n,i,r){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;r?l=r:l=this.verbose?this.logger.log:function(){};var d=pF.create(n,this.logger);this.clearElement();var f=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?f=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=f,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:ns.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var _=this,S=this.stateManagerProxy.startTransition(ei.SCANNING);return new Promise(function(T,A){var O=p?d.videoConstraints:_.createVideoConstraints(e);if(!O){S.cancel(),A("videoConstraints should be defined");return}var k={};(!p||d.aspectRatio)&&(k.aspectRatio=d.aspectRatio);var L={onRenderSurfaceReady:function($,P){_.setupUi($,P,d),_.isScanning=!0,_.foreverScan(d,i,l)}};aF.failIfNotSupported().then(function($){$.create(O).then(function(P){return P.render(s.element,k,L).then(function(R){_.renderedCamera=R,S.execute(),T(null)}).catch(function(R){S.cancel(),A(R)})}).catch(function(P){S.cancel(),A(Bu.errorGettingUserMedia(P))})}).catch(function($){S.cancel(),A(Bu.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ei.PAUSED),this.showPausedState(),(co(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(ei.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(ei.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(e.element){var s=document.getElementById(ns.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},r=this;return this.renderedCamera.close().then(function(){return r.renderedCamera=null,r.element&&(r.element.removeChild(r.canvasElement),r.canvasElement=null),i(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),n.execute(),r.hidePausedState(),r.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(i){return i.decodedText})},t.prototype.scanFileV2=function(e,n){var i=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(co(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(r,s){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(e);var l=new Image;l.onload=function(){var d=l.width,f=l.height,p=document.getElementById(i.elementId),y=p.clientWidth?p.clientWidth:ns.DEFAULT_WIDTH,_=Math.max(p.clientHeight?p.clientHeight:f,ns.FILE_SCAN_MIN_HEIGHT),S=i.computeCanvasDrawConfig(d,f,y,_);if(n){var T=i.createCanvasElement(y,_,"qr-canvas-visible");T.style.display="inline-block",p.appendChild(T);var A=T.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=y,A.canvas.height=_,A.drawImage(l,0,0,d,f,S.x,S.y,S.width,S.height)}var O=ns.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(l.width,S.width),L=Math.max(l.height,S.height),$=k+2*O,P=L+2*O,R=i.createCanvasElement($,P);p.appendChild(R);var D=R.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=$,D.canvas.height=P,D.drawImage(l,0,0,d,f,O,O,k,L);try{i.qrcode.decodeRobustlyAsync(R).then(function(B){r(RC.createFromQrcodeResult(B))}).catch(s)}catch(B){s("QR code parse error, error = ".concat(B))}},l.onerror=s,l.onabort=s,l.onstalled=s,l.onsuspend=s,l.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return cF.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!T4.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Ye.QR_CODE,Ye.AZTEC,Ye.CODABAR,Ye.CODE_39,Ye.CODE_93,Ye.CODE_128,Ye.DATA_MATRIX,Ye.MAXICODE,Ye.ITF,Ye.EAN_13,Ye.EAN_8,Ye.PDF_417,Ye.RSS_14,Ye.RSS_EXPANDED,Ye.UPC_A,Ye.UPC_E,Ye.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],r=0,s=e.formatsToSupport;r<s.length;r++){var l=s[r];VP(l)?i.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(co(e))return!0;if(!co(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(co(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return co(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,i){var r=this,s=i.qrbox;this.validateQrboxConfig(s);var l=this.toQrdimensions(e,n,s),d=function(p){if(p<ns.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ns.MIN_QR_BOX_SIZE,"px.")},f=function(p){return p>e&&(r.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=e),p};d(l.width),d(l.height),l.width=f(l.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(e,n)}catch(r){throw new Error("qrbox config was passed as a function but it failed with unknown error"+r)}return i},t.prototype.setupUi=function(e,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,i);var r=co(i.qrbox)?{width:e,height:n}:i.qrbox;this.validateQrboxConfig(r);var s=this.toQrdimensions(e,n,r);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=i.isShadedBoxEnabled()&&s.height<=n,d={x:0,y:0,width:e,height:n},f=l?this.getShadedRegionBounds(e,n,s):d,p=this.createCanvasElement(f.width,f.height),y={willReadFrequently:!0},_=p.getContext("2d",y);_.canvas.width=f.width,_.canvas.height=f.height,this.element.append(p),l&&this.possiblyInsertShadingElement(this.element,e,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=f,this.context=_,this.canvasElement=p},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Bu.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(r){return e(r.text,RC.createFromQrcodeResult(r)),i.possiblyUpdateShaders(!0),!0}).catch(function(r){i.possiblyUpdateShaders(!1);var s=Bu.codeParseError(r);return n(s,GP.createFrom(s)),!1})},t.prototype.foreverScan=function(e,n,i){var r=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),l=s.videoWidth/s.clientWidth,d=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var f=this.qrRegion.width*l,p=this.qrRegion.height*d,y=this.qrRegion.x*l,_=this.qrRegion.y*d;this.context.drawImage(s,y,_,f,p,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){r.foreverScanTimeout=setTimeout(function(){r.foreverScan(e,n,i)},r.getTimeoutFps(e.fps))};this.scanContext(n,i).then(function(T){!T&&e.disableFlip!==!0?(r.context.translate(r.context.canvas.width,0),r.context.scale(-1,1),r.scanContext(n,i).finally(function(){S()})):S()}).catch(function(T){r.logger.logError("Error happend while scanning context",T),S()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",i="deviceId",r={user:!0,environment:!0},s="exact",l=function(A){if(A in r)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},d=Object.keys(e);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var f=Object.keys(e)[0];if(f!==n&&f!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(f===n){var p=e.facingMode;if(typeof p=="string"){if(l(p))return{facingMode:p}}else if(typeof p=="object")if(s in p){if(l(p["".concat(s)]))return{facingMode:{exact:p["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var y=typeof p;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var _=e.deviceId;if(typeof _=="string")return{deviceId:_};if(typeof _=="object"){if(s in _)return{deviceId:{exact:_["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var S=typeof _;throw"Invalid type of 'deviceId' = ".concat(S)}}}var T=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(T)},t.prototype.computeCanvasDrawConfig=function(e,n,i,r){if(e<=i&&n<=r){var s=(i-e)/2,l=(r-n)/2;return{x:s,y:l,width:e,height:n}}else{var d=e,f=n;return e>i&&(n=i/e*n,e=i),n>r&&(e=r/n*e,n=r),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(f)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,i,r)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?ns.BORDER_SHADER_MATCH_COLOR:ns.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,i){var r=e,s=n,l=document.createElement("canvas");return l.style.width="".concat(r,"px"),l.style.height="".concat(s,"px"),l.style.display="none",l.id=co(i)?"qr-canvas":i,l},t.prototype.getShadedRegionBounds=function(e,n,i){if(i.width>e||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},t.prototype.possiblyInsertShadingElement=function(e,n,i,r){if(!(n-r.width<1||i-r.height<1)){var s=document.createElement("div");s.style.position="absolute";var l=(n-r.width)/2,d=(i-r.height)/2;if(s.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(ns.SHADED_REGION_ELEMENT_ID),n-r.width<11||i-r.height<11)this.hasBorderShaders=!1;else{var f=5,p=40;this.insertShaderBorders(s,p,f,-f,null,0,!0),this.insertShaderBorders(s,p,f,-f,null,0,!1),this.insertShaderBorders(s,p,f,null,-f,0,!0),this.insertShaderBorders(s,p,f,null,-f,0,!1),this.insertShaderBorders(s,f,p+f,-f,null,-f,!0),this.insertShaderBorders(s,f,p+f,null,-f,-f,!0),this.insertShaderBorders(s,f,p+f,-f,null,-f,!1),this.insertShaderBorders(s,f,p+f,null,-f,-f,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,n,i,r,s,l,d){var f=document.createElement("div");f.style.position="absolute",f.style.backgroundColor=ns.BORDER_SHADER_DEFAULT_COLOR,f.style.width="".concat(n,"px"),f.style.height="".concat(i,"px"),r!==null&&(f.style.top="".concat(r,"px")),s!==null&&(f.style.bottom="".concat(s,"px")),d?f.style.left="".concat(l,"px"):f.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(f),e.appendChild(f)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),PC;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(PC||(PC={}));const gF="_scannerContainer_yftsj_1",xF="_header_yftsj_25",yF="_closeButton_yftsj_37",vF="_title_yftsj_59",bF="_scannerArea_yftsj_79",wF="_qrScannerWrapper_yftsj_91",_F="_scannerOverlay_yftsj_135",CF="_corner_yftsj_153",SF="_topLeft_yftsj_167",EF="_topRight_yftsj_183",AF="_bottomLeft_yftsj_199",TF="_bottomRight_yftsj_215",NF="_instructionBox_yftsj_229",MF="_qrIconButton_yftsj_253",RF="_errorMessage_yftsj_293",OF="_test_yftsj_319",Ri={scannerContainer:gF,header:xF,closeButton:yF,title:vF,scannerArea:bF,qrScannerWrapper:wF,scannerOverlay:_F,corner:CF,topLeft:SF,topRight:EF,bottomLeft:AF,bottomRight:TF,instructionBox:NF,qrIconButton:MF,errorMessage:RF,test:OF};function IF(){const t=on(),e="html5qr-code-full-region",n=F.useRef(null),[i,r]=F.useState(null),[s,l]=F.useState(!1),d=Ii(),f=async()=>{const y=new URLSearchParams(d.search).get("itemId");if(y)try{await xi.patch(`/api/reservations/${y}`,{reservation_status:"used"}),localStorage.setItem("showAttendanceModal","true"),t("/mypage")}catch(_){console.error("  :",_),alert("     .")}};F.useEffect(()=>{const y={fps:10,qrbox:250,aspectRatio:1,disableFlip:!1};return n.current=new mF(e),n.current.start({facingMode:"environment"},y,_=>{n.current.stop().then(()=>{t(`/art/${_}`)}).catch(S=>{console.error("Failed to stop scanner:",S)})},()=>{}).catch(_=>{r("   ."),console.error("QR  :",_)}),async()=>{const _=n.current;if(_)try{_.isScanning&&await _.stop(),_.clear()}catch(S){console.error("Cleanup :",S)}}},[t]);const p=()=>{localStorage.removeItem("showAttendanceModal"),localStorage.removeItem("exhibitionInfo"),t(-1)};return F.useEffect(()=>{new URLSearchParams(d.search).get("itemId")&&l(!0)},[d]),v.jsxs("div",{className:Ri.scannerContainer,children:[v.jsxs("div",{className:Ri.header,children:[v.jsx("button",{className:Ri.closeButton,onClick:p,children:""}),v.jsx("h2",{className:Ri.title,children:"Artly QR Reader"})]}),v.jsxs("div",{className:Ri.scannerArea,children:[v.jsx("div",{id:e,className:Ri.qrScannerWrapper}),v.jsxs("div",{className:Ri.scannerOverlay,children:[v.jsx("div",{className:`${Ri.corner} ${Ri.topLeft}`}),v.jsx("div",{className:`${Ri.corner} ${Ri.topRight}`}),v.jsx("div",{className:`${Ri.corner} ${Ri.bottomLeft}`}),v.jsx("div",{className:`${Ri.corner} ${Ri.bottomRight}`})]}),i&&v.jsx("div",{className:Ri.errorMessage,children:i})]}),v.jsx("button",{className:Ri.qrIconButton,children:v.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M3 11H11V3H3V11ZM5 5H9V9H5V5Z",fill:"black"}),v.jsx("path",{d:"M3 21H11V13H3V21ZM5 15H9V19H5V15Z",fill:"black"}),v.jsx("path",{d:"M13 3V11H21V3H13ZM19 9H15V5H19V9Z",fill:"black"}),v.jsx("path",{d:"M21 19H19V21H21V19Z",fill:"black"}),v.jsx("path",{d:"M15 13H13V15H15V13Z",fill:"black"}),v.jsx("path",{d:"M17 15H15V17H17V15Z",fill:"black"}),v.jsx("path",{d:"M15 17H13V19H15V17Z",fill:"black"}),v.jsx("path",{d:"M17 19H15V21H17V19Z",fill:"black"}),v.jsx("path",{d:"M19 17H17V19H19V17Z",fill:"black"}),v.jsx("path",{d:"M19 13H17V15H19V13Z",fill:"black"}),v.jsx("path",{d:"M21 15H19V17H21V15Z",fill:"black"})]})}),v.jsxs("div",{className:Ri.instructionBox,children:[v.jsx("p",{children:"QR   ."}),s&&v.jsx("button",{onClick:f,className:Ri.test,children:"  QR "})]})]})}const kF="_layout_jvhsh_1",DF="_title_jvhsh_23",BF="_galleryWrapper_jvhsh_33",LF="_searchForm_jvhsh_45",jF="_searchInput_jvhsh_59",Jd={layout:kF,title:DF,galleryWrapper:BF,searchForm:LF,searchInput:jF},PF=()=>{const[t,e]=F.useState({lat:37.3595704,lng:127.105399}),n=r=>{const s=r.coords.latitude,l=r.coords.longitude;e({lat:s,lng:l})},i=r=>{alert(`(${r.code}): ${r.message}`)};return F.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(n,i):alert("    !")},[]),{coords:t,setCoords:e}},FF="_layout_1log3_1",zF="_searchTitle_1log3_15",HF="_resultNumParagraph_1log3_25",UF="_highlightSpan_1log3_33",VF="_paginationRow_1log3_53",ef={layout:FF,searchTitle:zF,resultNumParagraph:HF,highlightSpan:UF,paginationRow:VF};function $F({results:t}){const{currentPage:e,setCurrentPage:n,pageItems:i}=Ju(10,t);return v.jsxs("section",{className:ef.layout,children:[v.jsxs("div",{children:[v.jsx("h2",{className:ef.searchTitle,children:"   "}),v.jsxs("p",{className:ef.resultNumParagraph,children:[" ",v.jsx("span",{className:ef.highlightSpan,children:t.length}),"  "]})]}),t.length===0&&v.jsx("div",{children:"  ."}),i.map(r=>v.jsx(_2,{galleryItem:r},r.id)),v.jsx("div",{className:ef.paginationRow,children:v.jsx(Qu,{currentPage:e,onPageChange:n,totalItems:t.length})})]})}function GF(){const{coords:t,setCoords:e}=PF(),[n,i]=F.useState([]),[r,s]=F.useState(!1),{lat:l,lng:d}=t,[f,p]=F.useState(""),y=S=>{p(S.target.value)};w2({lat:l,lng:d,id:"nearby-map",results:n,zoomLevel:12});const _=async S=>{S.preventDefault();try{const T=await PO.get("/v2/geocode",{params:{query:f}}),A=T.data.addresses[0].x,O=T.data.addresses[0].y;e({lat:O,lng:A})}catch(T){console.error(T),alert("  ")}};return F.useEffect(()=>{(async()=>{try{s(!0);const T=await xi.get("/api/galleries",{params:{latitude:l,longitude:d,distance:5e3}});i(T.data)}catch(T){console.error(T),alert("   ")}finally{s(!1)}})()},[l,d]),v.jsxs("div",{className:Jd.layout,children:[v.jsx("h1",{className:Jd.title,children:"  "}),v.jsx("form",{className:Jd.searchForm,onSubmit:_,children:v.jsx("input",{className:Jd.searchInput,value:f,onChange:y,placeholder:" "})}),v.jsx("div",{id:"nearby-map",className:Jd.galleryWrapper}),r&&v.jsx("div",{children:"   .."}),v.jsx($F,{results:n})]})}const qF="_layout_dpzcc_5",WF="_artworkCard_dpzcc_71",XF="_mainImage_dpzcc_97",YF="_title_dpzcc_113",KF="_subtitle_dpzcc_127",ZF="_actionButtonContainer_dpzcc_145",QF="_actionButton_dpzcc_145",JF="_actionIcon_dpzcc_187",ez="_isClicked_dpzcc_195",tz="_infoCard_dpzcc_207",nz="_artistHeader_dpzcc_231",iz="_artistImage_dpzcc_243",rz="_artistName_dpzcc_259",sz="_detailList_dpzcc_273",az="_label_dpzcc_307",oz="_value_dpzcc_317",lz="_description_dpzcc_331",cz="_docent_dpzcc_349",uz="_docentTitle_dpzcc_369",dz="_docentDesc_dpzcc_377",fz="_sectionTitle_dpzcc_401",hz="_relatedGrid_dpzcc_413",pz="_relatedCard_dpzcc_425",mz="_relatedImage_dpzcc_449",gz="_relatedInfo_dpzcc_461",xz="_relatedTitle_dpzcc_475",yz="_relatedSub_dpzcc_487",vz="_relatedMeta_dpzcc_497",bz="_emptyContent_dpzcc_507",wz="_backButton_dpzcc_521",Bt={layout:qF,artworkCard:WF,mainImage:XF,title:YF,subtitle:KF,actionButtonContainer:ZF,actionButton:QF,actionIcon:JF,isClicked:ez,infoCard:tz,artistHeader:nz,artistImage:iz,artistName:rz,detailList:sz,label:az,value:oz,description:lz,docent:cz,docentTitle:uz,docentDesc:dz,sectionTitle:fz,relatedGrid:hz,relatedCard:pz,relatedImage:mz,relatedInfo:gz,relatedTitle:xz,relatedSub:yz,relatedMeta:vz,emptyContent:bz,backButton:wz};function M4({showUserActions:t=!0,id:e}){const{artworkId:n}=ks(),i=e||n;on();const[r,s]=F.useState(null);if(F.useEffect(()=>{i&&(async()=>{try{const R=await vt.get(`/api/arts/${i}`);s(R.data),console.log(R.data)}catch(R){console.error("  :",R)}})()},[i]),!r)return v.jsx("div",{className:Bt.loading,children:" ..."});const l=()=>alert("   api  ."),d=()=>alert("   ."),f=()=>{const{exhibition_name:P}=exhibitionData,R=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${P}`,text:`${P}   !`,url:R}).catch(D=>console.error(" :",D));else{const D=document.createElement("textarea");D.value=R,document.body.appendChild(D),D.focus(),D.select();try{document.execCommand("copy"),alert("  .")}catch(B){console.error("  :",B),alert("  .")}document.body.removeChild(D)}},{art_title:p,artist_name:y,art_description:_,art_docent:S,art_material:T,art_size:A,art_image:O,is_liked:k,recommended:L}=r,$=[{label:"",icon:v.jsx(xm,{className:`${Bt.actionIcon} ${k&&Bt.isClicked}`}),action:l},{label:"",icon:v.jsx(dD,{className:Bt.actionIcon}),action:d},{label:"",icon:v.jsx(b2,{className:Bt.actionIcon}),action:f}];return v.jsxs("div",{className:Bt.layout,children:[v.jsxs("div",{className:Bt.artworkCard,children:[v.jsx("img",{src:O,alt:p,className:Bt.mainImage}),v.jsx("h2",{className:Bt.title,children:p}),v.jsx("p",{className:Bt.subtitle,children:y}),t&&v.jsx("div",{className:Bt.actionButtonContainer,children:$.map(({label:P,icon:R,action:D})=>v.jsxs("button",{className:Bt.actionButton,onClick:D,children:[R,P]},P))})]}),v.jsxs("div",{className:Bt.infoCard,children:[v.jsxs("div",{className:Bt.artistHeader,children:[v.jsx("img",{src:r.artist_profile_image||"/images/default_artist.png",alt:y,className:Bt.artistImage}),v.jsx("span",{className:Bt.artistName,children:y})]}),v.jsxs("ul",{className:Bt.detailList,children:[v.jsxs("li",{children:[v.jsx("span",{className:Bt.label,children:""}),v.jsx("span",{className:Bt.value,children:r.art_year||" "})]}),v.jsxs("li",{children:[v.jsx("span",{className:Bt.label,children:""}),v.jsx("span",{className:Bt.value,children:T||" "})]}),v.jsxs("li",{children:[v.jsx("span",{className:Bt.label,children:""}),v.jsx("span",{className:Bt.value,children:A||" "})]}),v.jsxs("li",{children:[v.jsx("span",{className:Bt.label,children:""}),v.jsx("span",{className:Bt.value,children:r.art_price?`${r.art_price.toLocaleString()}`:" "})]})]}),v.jsx("p",{className:Bt.description,children:_||"   ."}),S&&v.jsxs("p",{className:Bt.docent,children:[v.jsx("h3",{className:Bt.docentTitle,children:"AI "}),v.jsx("p",{className:Bt.docentDesc,children:S})]})]}),t&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:Bt.infoCard,children:[v.jsx("h3",{className:Bt.sectionTitle,children:" "}),!L||L.length===0?v.jsx("p",{className:Bt.emptyContent,children:"   ."}):v.jsx(v.Fragment,{children:v.jsx("div",{className:Bt.relatedGrid,children:L.map(P=>v.jsxs("div",{className:Bt.relatedCard,children:[v.jsx("img",{src:P.img,alt:P.title,className:Bt.relatedImage}),v.jsxs("div",{className:Bt.relatedInfo,children:[v.jsx("h4",{className:Bt.relatedTitle,children:P.title}),v.jsx("p",{className:Bt.relatedSub,children:P.material}),v.jsxs("p",{className:Bt.relatedMeta,children:[P.size," | ",P.year]})]})]},P.id))})})]}),v.jsx(En,{className:Bt.backButton,to:"/artworks",children:""})]})]})}const _z="_layout_ezrs8_1",Cz="_findForm_ezrs8_15",Sz="_formTitle_ezrs8_33",Ez="_submitButton_ezrs8_43",sc={layout:_z,findForm:Cz,formTitle:Sz,submitButton:Ez};function Az(){const{data:t,handleChange:e}=u1({userName:"",userEmail:""}),{data:n,handleChange:i}=u1({userId:"",userEmail:""}),r=l=>{l.preventDefault(),alert("  ")},s=l=>{l.preventDefault(),alert("  ")};return v.jsxs("div",{className:sc.layout,children:[v.jsxs("form",{className:sc.findForm,onSubmit:r,children:[v.jsx("h2",{className:sc.formTitle,children:" "}),v.jsx(_a,{name:"userName",placeholder:"",onChange:e,value:t.userName}),v.jsx(_a,{name:"userEmail",placeholder:"@     ",onChange:e,value:t.userEmail}),v.jsx("button",{className:sc.submitButton,children:" "})]}),v.jsxs("form",{className:sc.findForm,onSubmit:s,children:[v.jsx("h2",{className:sc.formTitle,children:" "}),v.jsx(_a,{name:"userId",placeholder:"",onChange:i,value:n.userId}),v.jsx(_a,{name:"userEmail",placeholder:"@     ",onChange:i,value:n.userEmail}),v.jsx("button",{className:sc.submitButton,children:"  "})]})]})}const Tz="_announcementLayout_om46f_1",Nz="_heading_om46f_19",Mz="_tabWrapper_om46f_31",Rz="_tab_om46f_31",Oz="_active_om46f_71",Iz="_listItem_om46f_99",kz="_buttonField_om46f_107",Dz="_contentContainer_om46f_129",Jo={announcementLayout:Tz,heading:Nz,tabWrapper:Mz,tab:Rz,active:Oz,listItem:Iz,buttonField:kz,contentContainer:Dz},Bz=[{id:0,title:"      .",content:`  ,     ?
         .

     ,  ,                 .

 :        
  : []  [   ]  
 :      

       ,  .
     1:1  .`},{id:1,title:"  ",content:"  ."}],Lz=[{id:0,title:"   ",content:"        , SNS,        .     ,          ."}],jz=["","FAQ"];function Pz(){const[t,e]=F.useState(""),[n,i]=F.useState({}),r=t===""?Bz:Lz,s=d=>{if(n[d]){i(p=>({...p,[d]:!1}));return}i(p=>({...p,[d]:!0}))},l=d=>{e(d),i({})};return v.jsxs("div",{className:Jo.announcementLayout,children:[v.jsx("h1",{className:Jo.heading,children:"&FAQ"}),v.jsx("div",{className:Jo.tabWrapper,children:jz.map(d=>v.jsx("button",{className:`${Jo.tab} ${t===d?Jo.active:""}`,onClick:()=>l(d),children:d},d))}),v.jsx("ul",{children:r.map((d,f)=>v.jsxs("li",{className:Jo.listItem,onClick:()=>{s(f)},children:[v.jsxs("div",{className:Jo.buttonField,children:[d.title,v.jsx("span",{children:n[f]?v.jsx(hD,{}):v.jsx(fD,{})})]}),n[f]&&v.jsx("div",{className:Jo.contentContainer,children:d.content})]},d.id))})]})}const Fz="_termsLayout_135gr_1",zz="_mainTitle_135gr_19",Hz="_tabWrapper_135gr_43",Uz="_tab_135gr_43",Vz="_active_135gr_83",$z="_contentContainer_135gr_99",Cu={termsLayout:Fz,mainTitle:zz,tabWrapper:Hz,tab:Uz,active:Vz,contentContainer:$z},Gz={content:`   

1 

1 ()   (  )          , ,  (  )        ,      .

2 ( )        .
1.         .
2.      ,      .
3.           .
4.          , , , (PDA),   .
5.    , , ,  ,        ( , ,  ),     .
6.                  (   , ,  ,   ) .
7.             .
8.                .
9 .                .

        1          ,        .

3 (  )            . ,           .
1.  :  , : 
2.   :     76  311
3. ,  : oddlemon@oddlemon.co.kr
4.   : 477-88-01191
5.   : 2019--1107

4 (   )               .        , , ,  ,        , ,            .
       ,       7         . ,           30      28 1   .              .
              .  2                         ,              .              .
               .
      ,    ,   ,      ,            .

5 (   )      (  .)           ,      .
       . ,              .
1.         
2.            
3.            
4.         
5.      
6.       
7.          
                .
1.    ,     ,    
2.      ,    
3.           

6 (  )              ,   ,  ,     ,       .

7 ()              (  )   .
             .
    4 2  . ,          2   .
1.        
2.       
3.                 

2  

8 (   )            ,           . ,          .
                .
                   .
           .

3   

9 ( )    ,            .
        ( )       .           3     .
                  , ,                    .

10 ( )               .
1.         
2.         (ID, , ,   )   ,    
3.            ,       
4.  /        ,   ID    
5.        
6.      ,      () ,                 
7.   , , , , ,        
8.          ,        
9.     ,        
10.       ,      
11.       ( )                 
12.        ,    ,  ,     ,   ,       
13.           
          ,       .               .
             .         
          ,    .
1.  , , ,     
2.  
3.      
4. , ,        

4    

11 ( )   5            . ,            .
                  .
     , ,          .

12 ( )         .           .
 1              .               . ,            .
1.  ,    ,       
2. ,   ,  ,            
3. , ,             
           .             .
           .               .
                .                ,      .
              .                  .

13 (   )               ,       . ,                     .
      ,  ,                   .    30            28 1   .
 2           25 3  .
 2      30       3           .

14 ( )                      .  ,         .

15 (  )             .    ,         , 3           .
   3 1              . , 10 1                   .
                 (, , ,  )     .
                .        ,              .

16 ( )           .      , (LMS/SMS), (Push Notification)       .        ,         .
                .
 2                 ,    ,         . ,                 .

17 (  )            .
                       (, , , , , 2    .  )        .
                      , ,      (   .)         .
1.    ,       (, , , , , , 2       ,    )
2.            , ,    
          (,   )        ,        .
         10 1                 .
                      .          .
       ,     .

18 (  ,   )                 .
          . , 13 2                   .

19 (   )   10        ,             ,  (, ,  )          .        20 1     .
1.    :      
2.   :       
3.   :       
4.   :       
 1           .
                .
1.        
2.        
3.           
 3   ,               . ,  3       .

20 (   )   19 1        10 1       .
  19 1            . ,         .
1.   
2.     
3.     

21 (    )              14       ,        .
  1    15     ,      . ,           .
         .

5 ,     

22 ()                .                 .
                  .

23 (  )                 7          .
          1     . ,                  .
1.      
2.        
3.             
  2                  ,     (  ,   )               .        2          .
  1  2                    3 ,          30     .
            .                ,     .
 1 4             3   .                   213      .
       ,               ,                 . ,                           .
         ,   ,      .                 .

24 ( )        . ,                     .
        ,     ,       .
         (,   )     .
                 .
             ,      .        3  .

25 (  )               .            .
        ,                            .
 1  2       .
      1      (  )             .    30  ,            .

6    

26 ()                . ,        
                                  .

27 ( )                   .
    , , ,            . ,        .
             . ,        .
        ,             .
               ,       .
             .         .
              .
    , , ,        . ,        .
     ,         3     . ,        .
    ,    , (OS)  ,  ,                  . ,        .
             . ,        .
          . ,        .

28 (  )        , ,    , (LMS/SMS)    .
       7        1    .

29 (  )       .                .

30 (   )

               .         .
               . ,             28 1  .
      3           ,     .
`},qz={content:`[   ]

 1  : 
 2  :  
 3  :  
 4  : 

1  

1 ()
    (  )      ( ' )     ,   ,          .

2 ( )
        .
1.  :  (      )  ""      .
2.  :        
3.  :   , ,     , , ,  ,     
4.  :            , ,       .
5.  :      
 :         

3 (   )
            ,     7              .
1.              .
  2.          ,       .                         .
3.          ,     ,   7              .
4.               ,               .

4 (  )
     ,    ,        .

2  

5 ( )
            3   . ,         ,                .

6 ( )
1.           .
   ID   
    ,   3  
  , 3      
       
     
    

2.              3                    .
3.       ,         .
4.   ,        ,     .

3  

7 ( )
1.     , ,       .     ,   .
2.         3           .             .
3.  14        .

8 (   )
       ,  ,            (  )            ,       .
1. ,    3      
2.      , ,     
3.      
4.  , 3 ,           
5.       
6.   ,   
7.       
8.     

9 ( )
1.           ,          .         .
2.        ,       ,    .    ,                  ,             .
3.   ,         .

10 ( )
          1 24  .         .

11 (  )
  ,  , S/W  ,          ,        ,          .

12 (  )
         .
1.   
2.      
3.        
4.       
5.    
6.     

4  

13 ( )
  ,     ,   ,     .

14 ( )
1.                        .
2.               3                 ,              .

15 ( )
1.  ,                 .
2.    , , ,         .
3.          .
4.                .
5.     , ,  ,       .
6.      3               .

16( )
               .

  
()   2024 9 28 .
`};function Wz(){const t=["",""],[e,n]=F.useState(""),i=e===""?Gz:qz,r=s=>{n(s)};return v.jsxs("section",{className:Cu.termsLayout,children:[v.jsx("h1",{className:Cu.mainTitle,children:""}),v.jsx("div",{className:Cu.tabWrapper,children:t.map(s=>v.jsx("button",{className:`${Cu.tab} ${e===s?Cu.active:""}`,onClick:()=>r(s),children:s},s))}),v.jsx("div",{className:Cu.contentContainer,children:i.content})]})}const Xz="_layout_3y7o4_1",Yz="_title_3y7o4_19",Kz="_posterImage_3y7o4_31",Zz="_completionIcon_3y7o4_43",Qz="_completionTitle_3y7o4_67",Jz="_reservationSummary_3y7o4_81",eH="_summaryRow_3y7o4_95",tH="_summaryLabel_3y7o4_115",nH="_summaryValue_3y7o4_125",iH="_buttonField_3y7o4_155",rH="_exhibitionLink_3y7o4_165",sH="_mypageLink_3y7o4_167",_s={layout:Xz,title:Yz,posterImage:Kz,completionIcon:Zz,completionTitle:Qz,reservationSummary:Jz,summaryRow:eH,summaryLabel:tH,summaryValue:nH,buttonField:iH,exhibitionLink:rH,mypageLink:sH};function aH(){const{reservationId:t}=ks(),[e,n]=F.useState([]),{exhibition_location:i,exhibition_title:r,exhibition_poster:s,exhibition_id:l,reservation_total_price:d,reservation_number_of_tickets:f,reservation_datetime:p}=e,_=[{label:"",value:e?r:""},{label:"",value:e?i:""},{label:"",value:(S=>{if(S)return S.split(" ")[0]})(p)},{label:"",value:`${f}`},{label:"",value:`${d}`}];return F.useEffect(()=>{(async()=>{try{const T=await vt.get("/api/users/me/exhibitions");n(T.data.find(A=>A.id===t))}catch(T){console.error(T)}})()},[]),v.jsxs("div",{className:_s.layout,children:[v.jsx("h1",{className:_s.title,children:"  "}),v.jsx("img",{className:_s.posterImage,src:s,alt:"  "}),v.jsx("div",{className:_s.completionIcon,children:v.jsx(v2,{})}),v.jsx("div",{className:_s.completionTitle,children:"   "}),v.jsx("div",{className:_s.reservationSummary,children:_.map(S=>v.jsxs("div",{className:_s.summaryRow,children:[v.jsx("span",{className:_s.summaryLabel,children:S.label}),v.jsx("span",{className:_s.summaryValue,children:S.value})]},S.label))}),v.jsxs("div",{className:_s.buttonField,children:[v.jsx(En,{className:_s.mypageLink,to:"/mypage",children:""}),v.jsx(En,{className:_s.exhibitionLink,to:`/exhibitions/${l}`,children:" "})]})]})}const oH="_container_12nm0_1",lH="_header_12nm0_15",cH="_title_12nm0_33",uH="_loading_12nm0_45",dH="_error_12nm0_47",fH="_empty_12nm0_49",hH="_exhibitionInfo_12nm0_69",pH="_calendarContainer_12nm0_113",mH="_calendarHeader_12nm0_121",gH="_monthNavigator_12nm0_135",xH="_currentMonth_12nm0_145",yH="_monthButton_12nm0_157",vH="_weekdaysRow_12nm0_189",bH="_weekdayCell_12nm0_201",wH="_weekend_12nm0_215",_H="_calendarGrid_12nm0_223",CH="_dateCell_12nm0_235",SH="_disabled_12nm0_249",EH="_selected_12nm0_261",AH="_today_12nm0_271",TH="_visitorCount_12nm0_279",NH="_countLabel_12nm0_293",MH="_countControls_12nm0_303",RH="_countButton_12nm0_313",OH="_countDisplay_12nm0_347",IH="_reservationInfo_12nm0_361",kH="_infoRow_12nm0_373",DH="_infoLabel_12nm0_393",BH="_infoValue_12nm0_403",LH="_buttonsContainer_12nm0_413",jH="_actionButton_12nm0_427",PH="_backButton_12nm0_459",FH="_reservationForm_12nm0_491",zH="_formTitle_12nm0_499",HH="_formGroup_12nm0_511",UH="_formLabel_12nm0_519",VH="_formInput_12nm0_533",$H="_reservationSummary_12nm0_559",GH="_summaryImage_12nm0_587",qH="_summaryTitle_12nm0_597",WH="_summaryRow_12nm0_607",XH="_summaryLabel_12nm0_625",YH="_summaryValue_12nm0_641",KH="_completionScreen_12nm0_661",ZH="_completionIcon_12nm0_671",QH="_completionTitle_12nm0_697",JH="_completionMessage_12nm0_709",Je={container:oH,header:lH,title:cH,loading:uH,error:dH,empty:fH,exhibitionInfo:hH,calendarContainer:pH,calendarHeader:mH,monthNavigator:gH,currentMonth:xH,monthButton:yH,weekdaysRow:vH,weekdayCell:bH,weekend:wH,calendarGrid:_H,dateCell:CH,disabled:SH,selected:EH,today:AH,visitorCount:TH,countLabel:NH,countControls:MH,countButton:RH,countDisplay:OH,reservationInfo:IH,infoRow:kH,infoLabel:DH,infoValue:BH,buttonsContainer:LH,actionButton:jH,backButton:PH,reservationForm:FH,formTitle:zH,formGroup:HH,formLabel:UH,formInput:VH,reservationSummary:$H,summaryImage:GH,summaryTitle:qH,summaryRow:WH,summaryLabel:XH,summaryValue:YH,completionScreen:KH,completionIcon:ZH,completionTitle:QH,completionMessage:JH};function eU(){const{exhibitionId:t}=ks(),e=on(),[n,i]=F.useState(null),[r,s]=F.useState(!0),[l,d]=F.useState(null),[f,p]=F.useState(1),[y,_]=F.useState(""),[S,T]=F.useState(1),[A,O]=F.useState({name:"",phone:"",email:"",date:"",gallery:"",state:""}),k=new Date,[L,$]=F.useState(k.getMonth()),[P,R]=F.useState(k.getFullYear());F.useEffect(()=>{t&&(async()=>{try{const le=await xi.get(`/api/exhibitions/${t}`);i(le.data)}catch{d("     .")}finally{s(!1)}})()},[t]),F.useEffect(()=>{n&&O(Q=>({...Q,gallery:n.exhibition_location}))},[n]);const D=()=>{const Q=new Date(P,L+1,0).getDate(),le=new Date(P,L,1).getDay(),fe=[];return Array.from({length:le}).forEach(()=>{fe.push({day:"",disabled:!0})}),Array.from({length:Q}).forEach((Be,Z)=>{const be=Z+1,Re=new Date(P,L,be),Le=Re.toDateString()===new Date().toDateString(),Ie=Re<new Date(new Date().setHours(0,0,0,0));fe.push({day:be,date:Re,disabled:Ie,isToday:Le})}),fe},B=()=>{$(Q=>Q===11?0:Q+1),L===11&&R(Q=>Q+1)},z=()=>{$(Q=>Q===0?11:Q-1),L===0&&R(Q=>Q-1)},G=Q=>{if(Q.disabled)return;const le=`${P}.${String(L+1).padStart(2,"0")}.${String(Q.day).padStart(2,"0")}`;_(le),O(fe=>({...fe,date:le}))},X=Q=>{const le=S+Q;le>=1&&le<=10&&T(le)},se=Q=>{const{name:le,value:fe}=Q.target;O(Be=>({...Be,[le]:fe}))},ae=async()=>{if(f===1&&!y){alert(" .");return}if(f===2&&(!A.name||!A.phone||!A.email)){alert("   .");return}if(f===2)try{const Q=await xi.post("/api/reservations",{exhibition_id:Number(t),number_of_tickets:S,reservation_datetime:y,visitor_name:A.name,visitor_phone:A.phone,visitor_email:A.email,payment_method:"",total_price:0});console.log(" :",Q.data)}catch(Q){console.error(" :",Q),alert("    .");return}p(f+1)},ue=()=>{p(f-1)},Oe=()=>{localStorage.setItem("fromReservationModal","true"),e("/mypage")};if(r)return v.jsx("div",{className:Je.loading,children:" ..."});if(l)return v.jsx("div",{className:Je.error,children:l});if(!n)return v.jsx("div",{className:Je.empty,children:"    ."});const Te=["","","","","","",""],ne=[{label:"",value:n?n.exhibition_title:""},{label:"",value:y},{label:"",value:`${S}`},{label:"",value:n?n.exhibition_location:""},{label:"",value:A.name},{label:"",value:A.phone},{label:"",value:A.email}];return console.log(n.exhibition_poster),v.jsxs("div",{className:Je.container,children:[v.jsx("div",{className:Je.header,children:v.jsx("h2",{className:Je.title,children:""})}),f===1&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:Je.exhibitionInfo,children:[v.jsx("strong",{children:n.exhibition_title}),v.jsx("p",{children:n.exhibition_organization})]}),v.jsxs("div",{className:Je.calendarContainer,children:[v.jsx("div",{className:Je.calendarHeader,children:v.jsxs("div",{className:Je.monthNavigator,children:[v.jsx("button",{className:Je.monthButton,onClick:z,children:"<"}),v.jsx("span",{className:Je.currentMonth,children:`${P}.${String(L+1).padStart(2,"0")}`}),v.jsx("button",{className:Je.monthButton,onClick:B,children:">"})]})}),v.jsx("div",{className:Je.weekdaysRow,children:Te.map((Q,le)=>v.jsx("div",{className:`${Je.weekdayCell} ${le===0||le===6?Je.weekend:""}`,children:Q},Q))}),v.jsx("div",{className:Je.calendarGrid,children:D().map((Q,le)=>{const fe=Q.day?`${P}-${L}-${Q.day}`:`empty-${le}`;return v.jsx("div",{className:`${Je.dateCell} ${Q.disabled?Je.disabled:""} ${Q.isToday?Je.today:""} ${y&&Q.day&&y===`${P}.${String(L+1).padStart(2,"0")}.${String(Q.day).padStart(2,"0")}`?Je.selected:""}`,onClick:()=>G(Q),children:Q.day},fe)})})]}),v.jsxs("div",{className:Je.visitorCount,children:[v.jsx("span",{className:Je.countLabel,children:""}),v.jsxs("div",{className:Je.countControls,children:[v.jsx("button",{className:Je.countButton,onClick:()=>X(-1),children:"-"}),v.jsxs("span",{className:Je.countDisplay,children:[S,""]}),v.jsx("button",{className:Je.countButton,onClick:()=>X(1),children:"+"})]})]}),v.jsxs("div",{className:Je.reservationInfo,children:[v.jsxs("div",{className:Je.infoRow,children:[v.jsx("span",{className:Je.infoLabel,children:""}),v.jsx("span",{className:Je.infoValue,children:y||""})]}),v.jsxs("div",{className:Je.infoRow,children:[v.jsx("span",{className:Je.infoLabel,children:""}),v.jsxs("span",{className:Je.infoLabel,children:[S,""]})]}),v.jsxs("div",{className:Je.infoRow,children:[v.jsx("span",{className:Je.infoLabel,children:""}),v.jsx("span",{className:Je.infoValue,children:n.exhibition_location})]})]})]}),f===2&&v.jsxs("div",{className:Je.reservationForm,children:[v.jsx("h3",{className:Je.formTitle,children:"  "}),["name","phone","email"].map(Q=>v.jsxs("div",{className:Je.formGroup,children:[v.jsx("label",{className:Je.formLabel,children:Q==="name"?"":Q==="phone"?"":""}),v.jsx("input",{className:Je.formInput,type:Q==="email"?"email":Q==="phone"?"tel":"text",name:Q,value:A[Q],onChange:se,placeholder:Q==="name"?" ":Q==="phone"?"010-0000-0000":"example@email.com"})]},Q)),v.jsxs("div",{className:Je.reservationSummary,children:[v.jsx("div",{className:Je.summaryTitle,children:"  "}),[{label:"",value:n?n.exhibition_title:" "},{label:"",value:y},{label:"",value:`${S}`},{label:"",value:n?n.exhibition_location:" "}].map(Q=>v.jsxs("div",{className:Je.summaryRow,children:[v.jsx("span",{className:Je.summaryLabel,children:Q.label}),v.jsx("span",{className:Je.summaryValue,children:Q.value})]},Q.label))]})]}),f===3&&v.jsxs("div",{className:Je.completionScreen,children:[v.jsx("div",{className:Je.completionIcon,children:v.jsx(v2,{})}),v.jsx("div",{className:Je.completionTitle,children:"   "}),v.jsxs("div",{className:Je.completionMessage,children:[A.name,"   ."]}),v.jsxs("div",{className:Je.reservationSummary,children:[v.jsx("img",{className:Je.summaryImage,src:n.exhibition_poster}),ne.map(Q=>v.jsx("div",{className:Je.summaryRow,children:Q.label===""?v.jsx("h2",{className:Je.summaryTitle,children:Q.value}):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:Je.summaryLabel,children:Q.label}),v.jsx("span",{className:Je.summaryValue,children:Q.value})]})},Q.label))]})]}),v.jsx("div",{className:Je.buttonsContainer,children:f===1?v.jsx("button",{className:Je.actionButton,onClick:ae,children:""}):f===2?v.jsxs(v.Fragment,{children:[v.jsx("button",{className:Je.backButton,onClick:ue,children:""}),v.jsx("button",{className:Je.actionButton,onClick:ae,children:""})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{className:Je.backButton,onClick:()=>e("/exhibitions"),children:""}),v.jsx("button",{className:Je.actionButton,onClick:Oe,children:" "})]})})]})}const tU="_actionContainer_t9yqm_1",nU="_actionButton_t9yqm_19",iU="_actionButtonActive_t9yqm_129",rU="_actionButtonInactive_t9yqm_139",Cp={actionContainer:tU,actionButton:nU,actionButtonActive:iU,actionButtonInactive:rU};function sU({tabList:t,activeTab:e,onTabChange:n}){return v.jsx("nav",{className:Cp.actionContainer,children:t.map(i=>v.jsx("button",{onClick:()=>n(i),className:`${Cp.actionButton} ${e===i?Cp.actionButtonActive:Cp.actionButtonInactive}`,children:i},i))})}function aU(t){return On({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function S2(t){return On({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function oU(t){return On({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function lU(t="",e=""){const[n,i]=F.useState(!1),[r,s]=F.useState(t||e),l=F.useRef(null);return F.useEffect(()=>{const _=S=>{l.current&&!l.current.contains(S.target)&&i(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),{isOpen:n,selectedValue:r,dropdownRef:l,handleOptionClick:(_,S)=>{s(_.name),S(_.value),i(!1)},toggleDropdown:()=>{i(!n)},closeDropdown:()=>{i(!1)},openDropdown:()=>{i(!0)},setSelectedValue:s}}const cU="_dropdownWrapper_1dzyt_3",uU="_inputContainer_1dzyt_13",dU="_dropdownTrigger_1dzyt_37",fU="_dropdownList_1dzyt_51",hU="_dropdownItem_1dzyt_81",pU="_dropdownItemActive_1dzyt_121",mU="_inputField_1dzyt_161",gU="_chevron_1dzyt_223",xU="_chevronOpen_1dzyt_275",Us={dropdownWrapper:cU,inputContainer:uU,dropdownTrigger:dU,dropdownList:fU,dropdownItem:hU,dropdownItemActive:pU,inputField:mU,chevron:gU,chevronOpen:xU};function Cl({value:t,onChange:e,placeholder:n=" ",isInput:i=!1,options:r=[],title:s=" "}){var _;const{isOpen:l,dropdownRef:d,handleOptionClick:f,toggleDropdown:p}=lU(t,n),y=((_=r.find(S=>S.value===t))==null?void 0:_.name)||t||n;return i?v.jsx("div",{className:Us.inputContainer,children:v.jsx("input",{type:"text",value:t,onChange:S=>e(S.target.value),placeholder:n,className:Us.inputField})}):v.jsx("div",{className:Us.dropdownWrapper,children:v.jsxs("div",{className:Us.inputContainer,ref:d,children:[v.jsxs("div",{className:Us.dropdownTrigger,onClick:p,children:[v.jsx("span",{className:Us.inputField,children:y}),v.jsx(aU,{className:`${Us.chevron} ${l?Us.chevronOpen:""}`})]}),l&&v.jsx("div",{className:Us.dropdownList,children:r.map(S=>v.jsx("div",{className:`${Us.dropdownItem} ${t===S.value?Us.dropdownItemActive:""}`,onClick:()=>f(S,e),children:S.name},S.id))})]})})}const yU="_countText_1ceqk_3",vU={countText:yU};function Sl({count:t}){return v.jsxs("span",{className:vU.countText,children:[" ",t,""]})}const bU="_registerButton_1esip_3",wU={registerButton:bU};function El({buttonText:t,onButtonClick:e}){return v.jsx("button",{onClick:e,className:wU.registerButton,children:t})}const _U="_container_1oiix_3",CU="_message_1oiix_33",SU="_buttonText_1oiix_57",EU="_instruction_1oiix_67",tf={container:_U,message:CU,buttonText:SU,instruction:EU};function ym({message:t,buttonText:e}){return v.jsxs("div",{className:tf.container,children:[v.jsx("p",{className:tf.message,children:t}),v.jsx("p",{className:tf.buttonText,children:e}),v.jsx("p",{className:tf.instruction,children:" "}),v.jsx("p",{className:tf.instruction,children:"  ."})]})}const AU="_spinnerContainer_1uyaq_3",TU="_spinner_1uyaq_3",FC={spinnerContainer:AU,spinner:TU};function vm(){return v.jsx("div",{className:FC.spinnerContainer,children:v.jsx("div",{className:FC.spinner})})}function R4({onSearch:t,onEmptySearch:e,onSearchValueChange:n,onClearSearch:i,minLength:r=2,delay:s=500}){const[l,d]=F.useState(""),f=F.useRef(null),p=_=>{if(d(_),n&&n(_),f.current&&clearTimeout(f.current),!_.trim()){e&&e();return}_.trim().length<r||(f.current=setTimeout(()=>{t(_)},s))},y=()=>{p(""),i&&i()};return F.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]),{searchValue:l,handleSearchChange:p,clearSearch:y}}const NU="_contentContainer_10wsc_3",MU="_emptyStateContainer_10wsc_15",RU="_searchContainer_10wsc_23",OU="_galleryCard_10wsc_31",IU="_cardContent_10wsc_41",kU="_cardInfo_10wsc_51",DU="_cardHeader_10wsc_63",BU="_cardFooter_10wsc_75",LU="_countAndButtonContainer_10wsc_121",jU="_errorMessage_10wsc_137",PU="_galleryImage_10wsc_161",FU="_deleteButton_10wsc_183",zU="_galleryAddress_10wsc_193",HU="_galleryTitle_10wsc_259",UU="_galleryClosedDay_10wsc_295",VU="_galleryTime_10wsc_305",$U="_separator_10wsc_325",ci={contentContainer:NU,emptyStateContainer:MU,searchContainer:RU,galleryCard:OU,cardContent:IU,cardInfo:kU,cardHeader:DU,cardFooter:BU,countAndButtonContainer:LU,errorMessage:jU,galleryImage:PU,deleteButton:FU,galleryAddress:zU,galleryTitle:HU,galleryClosedDay:UU,galleryTime:VU,separator:$U};function GU({galleryList:t,onDelete:e,loadGalleries:n,isLoading:i,isSearching:r,error:s}){const l=on(),{searchValue:d,handleSearchChange:f}=R4({onSearch:n,onEmptySearch:()=>n(""),minLength:2,delay:500}),p=Array.isArray(t)?t:[],y=_=>{window.confirm("   ?")&&e(_,"gallery")};return i?v.jsx("div",{className:ci.contentContainer,children:v.jsx(vm,{})}):s?v.jsx("div",{className:ci.contentContainer,children:v.jsxs("div",{className:ci.errorMessage,children:[" : ",s]})}):p.length>0?v.jsxs("div",{className:ci.contentContainer,children:[v.jsx(Cl,{value:d,onChange:f,placeholder:" ",isInput:!0}),v.jsxs("div",{className:ci.countAndButtonContainer,children:[v.jsx(Sl,{count:p.length}),v.jsx(El,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),v.jsx("section",{className:ci.contentContainer,children:p.map(_=>v.jsxs("div",{className:ci.galleryCard,onClick:()=>l(`/console/galleries/${_.id}`),children:[v.jsxs("div",{className:ci.cardContent,children:[v.jsx("img",{src:_.image,alt:_.name,className:ci.galleryImage}),v.jsxs("div",{className:ci.cardInfo,children:[v.jsxs("div",{className:ci.cardHeader,children:[v.jsx("h3",{className:ci.galleryTitle,children:_.name}),v.jsx("button",{onClick:()=>y(_.id),className:ci.deleteButton,children:v.jsx(S2,{size:18})})]}),v.jsx("p",{className:ci.galleryAddress,children:_.address}),v.jsxs("p",{className:ci.galleryClosedDay,children:[" | ",_.closedDay]}),v.jsx("p",{className:ci.galleryTime,children:_.time})]})]}),v.jsxs("div",{className:ci.cardFooter,children:[v.jsxs("span",{children:["  ",_.registered,""]}),v.jsx("span",{className:ci.separator,children:"|"}),v.jsxs("span",{children:[" ",_.liked,""]})]})]},_.id))})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:ci.searchContainer,children:v.jsx(Cl,{value:d,onChange:f,placeholder:" ",isInput:!0})}),v.jsxs("div",{className:ci.countAndButtonContainer,children:[v.jsx(Sl,{count:0}),v.jsx(El,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),v.jsx("section",{className:ci.emptyStateContainer,children:v.jsx(ym,{message:"  .",buttonText:"+ "})})]})}const qU="_contentContainer_saw3c_3",WU="_emptyStateContainer_saw3c_15",XU="_searchContainer_saw3c_23",YU="_galleryCard_saw3c_31",KU="_cardContent_saw3c_39",ZU="_cardInfo_saw3c_49",QU="_cardHeader_saw3c_61",JU="_galleryImage_saw3c_121",eV="_deleteButton_saw3c_143",tV="_galleryAddress_saw3c_153",nV="_galleryFloor_saw3c_161",iV="_galleryTitle_saw3c_197",rV="_countAndButtonContainer_saw3c_339",sV="_errorMessage_saw3c_365",Pi={contentContainer:qU,emptyStateContainer:WU,searchContainer:XU,galleryCard:YU,cardContent:KU,cardInfo:ZU,cardHeader:QU,galleryImage:JU,deleteButton:eV,galleryAddress:tV,galleryFloor:nV,galleryTitle:iV,countAndButtonContainer:rV,errorMessage:sV};function aV({exhibitionList:t,selectedGallery:e,onGalleryChange:n,onDelete:i,loadExhibitions:r,isLoading:s,error:l,galleryList:d}){const f=on(),p=A=>{window.confirm("   ?")&&i(A,"exhibition")},y=F.useCallback(A=>{if(A===" ")return" ";const O=d.find(k=>k.name===A);return O?O.id:" "},[d]);F.useEffect(()=>{if(d.length>0&&e){const A=y(e);r(A)}else d.length>0&&r(" ")},[e,d]);const _=F.useMemo(()=>y(e),[e,d,y]),S=t.filter(A=>e===" "?!0:A.gallery_id&&_?String(A.gallery_id)===String(_):A.gallery_name===e),T=F.useMemo(()=>{const A=[{id:"all",name:" ",value:" "}],O=new Set(t.map(L=>L.gallery_id).filter(Boolean)),k=new Set(t.map(L=>L.gallery_name).filter(Boolean));return d.forEach(L=>{(O.has(L.id)||k.has(L.name))&&A.push({id:L.id,name:L.name,value:L.name})}),A},[d,t]);return s?v.jsx("div",{className:Pi.contentContainer,children:v.jsx(vm,{})}):l?v.jsx("div",{className:Pi.contentContainer,children:v.jsxs("div",{className:Pi.errorMessage,children:[" : ",l]})}):S.length>0?v.jsxs("section",{className:Pi.contentContainer,children:[v.jsx(Cl,{value:e,onChange:n,options:T}),v.jsxs("div",{className:Pi.countAndButtonContainer,children:[v.jsx(Sl,{count:S.length}),v.jsx(El,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),v.jsx("section",{className:Pi.contentContainer,children:S.map(A=>v.jsx("div",{className:Pi.galleryCard,onClick:()=>f(`/console/exhibitions/${A.id}`),children:v.jsxs("div",{className:Pi.cardContent,children:[v.jsx("img",{src:A.image,alt:A.title,className:Pi.galleryImage}),v.jsxs("div",{className:Pi.cardInfo,children:[v.jsxs("div",{className:Pi.cardHeader,children:[v.jsx("h3",{className:Pi.galleryTitle,children:A.title}),v.jsx("button",{onClick:()=>p(A.id),className:Pi.deleteButton,children:v.jsx(S2,{size:18})})]}),v.jsx("p",{className:Pi.galleryAddress,children:A.period}),v.jsx("p",{className:Pi.galleryFloor,children:A.gallery_name})]})]})},A.id))})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:Pi.searchContainer,children:v.jsx(Cl,{value:e,onChange:n,options:T})}),v.jsxs("div",{className:Pi.countAndButtonContainer,children:[v.jsx(Sl,{count:0}),v.jsx(El,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),v.jsx("section",{className:Pi.emptyStateContainer,children:v.jsx(ym,{message:"  .",buttonText:"+ "})})]})}const oV="_contentContainer_1tvi0_3",lV="_emptyStateContainer_1tvi0_15",cV="_searchContainer_1tvi0_23",uV="_artworkCard_1tvi0_31",dV="_artworkContent_1tvi0_39",fV="_artworkInfo_1tvi0_51",hV="_artworkImage_1tvi0_111",pV="_deleteButton_1tvi0_123",mV="_artworkTitle_1tvi0_161",gV="_artworkArtist_1tvi0_171",xV="_countAndButtonContainer_1tvi0_283",yV="_errorMessage_1tvi0_325",or={contentContainer:oV,emptyStateContainer:lV,searchContainer:cV,artworkCard:uV,artworkContent:dV,artworkInfo:fV,artworkImage:hV,deleteButton:pV,artworkTitle:mV,artworkArtist:gV,countAndButtonContainer:xV,errorMessage:yV};function vV({artworkList:t,selectedGallery:e,onGalleryChange:n,onDelete:i,loadArtworks:r,isLoading:s,error:l,galleryList:d}){const f=on(),p=A=>{window.confirm("   ?")&&i(A,"artwork")},y=F.useCallback(A=>{if(A===" ")return" ";const O=d.find(k=>k.name===A);return O?O.id:" "},[d]);F.useEffect(()=>{if(d.length>0&&e){const A=y(e);r(A)}else d.length>0&&r(" ")},[e,d]);const _=F.useMemo(()=>y(e),[e,d,y]),S=t.filter(A=>e===" "?!0:A.gallery_id&&_?String(A.gallery_id)===String(_):A.gallery_name===e),T=F.useMemo(()=>{const A=[{id:"all",name:" ",value:" "}],O=new Set(t.map(L=>L.gallery_id).filter(Boolean)),k=new Set(t.map(L=>L.gallery_name).filter(Boolean));return d.forEach(L=>{(O.has(L.id)||k.has(L.name))&&A.push({id:L.id,name:L.name,value:L.name})}),A},[d,t]);return s?v.jsx("div",{className:or.contentContainer,children:v.jsx(vm,{})}):l?v.jsx("div",{className:or.contentContainer,children:v.jsxs("div",{className:or.errorMessage,children:[" : ",l]})}):S.length>0?v.jsxs("section",{className:or.contentContainer,children:[v.jsx(Cl,{value:e,onChange:n,options:T}),v.jsxs("div",{className:or.countAndButtonContainer,children:[v.jsx(Sl,{count:S.length}),v.jsx(El,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),v.jsx("section",{className:or.contentContainer,children:S.map(A=>v.jsx("div",{className:or.artworkCard,onClick:()=>f(`/console/artworks/${A.id}`),children:v.jsxs("div",{className:or.artworkContent,children:[v.jsx("img",{src:A.image,alt:A.title,className:or.artworkImage}),v.jsxs("div",{className:or.artworkInfo,children:[v.jsxs("div",{children:[v.jsx("h3",{className:or.artworkTitle,children:A.title}),v.jsx("p",{className:or.artworkArtist,children:A.artist})]}),v.jsx("button",{onClick:()=>p(A.id),className:or.deleteButton,children:v.jsx(S2,{size:18})})]})]})},A.id))})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:or.searchContainer,children:v.jsx(Cl,{value:e,onChange:n,options:T})}),v.jsxs("div",{className:or.countAndButtonContainer,children:[v.jsx(Sl,{count:0}),v.jsx(El,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),v.jsx("section",{className:or.emptyStateContainer,children:v.jsx(ym,{message:"  .",buttonText:"+ "})})]})}const bV="_overlay_1vrfn_3",wV="_modal_1vrfn_15",_V="_header_1vrfn_23",CV="_countBadge_1vrfn_35",SV="_label_1vrfn_43",EV="_buttonContainer_1vrfn_51",AV="_closeButton_1vrfn_113",TV="_headerSpacer_1vrfn_121",NV="_formGroup_1vrfn_137",MV="_input_1vrfn_153",RV="_textarea_1vrfn_177",OV="_sendButton_1vrfn_205",IV="_title_1vrfn_285",vr={overlay:bV,modal:wV,header:_V,countBadge:CV,label:SV,buttonContainer:EV,closeButton:AV,headerSpacer:TV,formGroup:NV,input:MV,textarea:RV,sendButton:OV,title:IV};function zC({isOpen:t,onClose:e,selectedUsersCount:n,onSendAlarm:i}){const[r,s]=F.useState(""),[l,d]=F.useState(""),f=()=>{s(""),d(""),e()};if(!t)return null;const p=()=>{if(!r.trim()){alert(" .");return}if(!l.trim()){alert("  .");return}if(n===0){alert("  .  .");return}window.confirm("     ?  ,   .")&&(i(),s(""),d(""))};return v.jsx("div",{className:vr.overlay,children:v.jsxs("div",{className:vr.modal,children:[v.jsxs("header",{className:vr.header,children:[v.jsx("button",{onClick:f,className:vr.closeButton,children:v.jsx(oU,{size:24})}),v.jsx("h2",{className:vr.title,children:" "}),v.jsx("div",{className:vr.headerSpacer})]}),v.jsx("div",{className:vr.countBadge,children:v.jsxs("span",{children:["  :  ",n,""]})}),v.jsxs("div",{className:vr.formGroup,children:[v.jsx("label",{className:vr.label,children:""}),v.jsx("input",{type:"text",className:vr.input,placeholder:" ",value:r,onChange:y=>s(y.target.value)})]}),v.jsxs("div",{className:vr.formGroup,children:[v.jsx("label",{className:vr.label,children:" ( 80)"}),v.jsx("textarea",{className:vr.textarea,placeholder:"  ",maxLength:80,value:l,onChange:y=>d(y.target.value)})]}),v.jsx("div",{className:vr.buttonContainer,children:v.jsx("button",{onClick:p,className:vr.sendButton,children:""})})]})})}const kV="_tableContainer_4szxc_3",DV="_tableFilters_4szxc_19",BV="_table_4szxc_3",LV="_tableHeader_4szxc_55",jV="_tableRow_4szxc_63",PV="_tableCell_4szxc_71",FV="_filterButton_4szxc_121",zV="_tableHeaderCell_4szxc_159",HV="_tableHeaderCellCheckbox_4szxc_171",UV="_filterButtonActive_4szxc_249",VV="_tableCellGray_4szxc_319",Gn={tableContainer:kV,tableFilters:DV,table:BV,tableHeader:LV,tableRow:jV,tableCell:PV,filterButton:FV,tableHeaderCell:zV,tableHeaderCellCheckbox:HV,filterButtonActive:UV,tableCellGray:VV};function $V({interestedUserList:t,selectedUserList:e,onUserSelect:n,onSelectAll:i,isAllSelected:r,activeTab:s,onTabChange:l}){const d=p=>{l(p)},f=()=>{i(t)};return v.jsxs("div",{className:Gn.tableContainer,children:[v.jsxs("div",{className:Gn.tableFilters,children:[v.jsx("button",{className:`${Gn.filterButton} ${s==="all"?Gn.filterButtonActive:""}`,onClick:()=>d("all"),children:""}),v.jsx("button",{className:`${Gn.filterButton} ${s==="gallery"?Gn.filterButtonActive:""}`,onClick:()=>d("gallery"),children:""}),v.jsx("button",{className:`${Gn.filterButton} ${s==="exhibition"?Gn.filterButtonActive:""}`,onClick:()=>d("exhibition"),children:""}),v.jsx("button",{className:`${Gn.filterButton} ${s==="art"?Gn.filterButtonActive:""}`,onClick:()=>d("art"),children:""})]}),v.jsxs("table",{className:Gn.table,children:[v.jsx("thead",{className:Gn.tableHeader,children:v.jsxs("tr",{children:[v.jsx("th",{className:`${Gn.tableHeaderCell} ${Gn.tableHeaderCellCheckbox}`,children:v.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:r(t),onChange:f})}),v.jsx("th",{className:Gn.tableHeaderCell,children:""}),v.jsx("th",{className:Gn.tableHeaderCell,children:""}),v.jsx("th",{className:Gn.tableHeaderCell,children:""})]})}),v.jsx("tbody",{children:t.map(p=>v.jsxs("tr",{className:Gn.tableRow,children:[v.jsx("td",{className:Gn.tableCell,children:v.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:e.includes(p.id),onChange:()=>n(p.id)})}),v.jsx("td",{className:Gn.tableCell,children:p.category}),v.jsx("td",{className:Gn.tableCell,children:p.name}),v.jsx("td",{className:`${Gn.tableCell} ${Gn.tableCellGray}`,children:p.date})]},p.id))})]})]})}function GV(){const[t,e]=F.useState([]);return{selectedUserList:t,handleUserSelect:l=>{e(d=>d.includes(l)?d.filter(f=>f!==l):[...d,l])},handleSelectAll:l=>{if(l.length>0&&l.every(f=>t.includes(f.id))){const f=t.filter(p=>!l.some(y=>y.id===p));e(f)}else{const p=l.filter(y=>!t.includes(y.id)).map(y=>y.id);e(y=>[...y,...p])}},clearSelection:()=>{e([])},isAllSelected:l=>l.length>0&&l.every(d=>t.includes(d.id))}}function qV(){const[t,e]=F.useState([]),[n,i]=F.useState(!1),[r,s]=F.useState(!1),[l,d]=F.useState(null),[f,p]=F.useState("all"),y=async(k="gallery",L="")=>{var $,P;try{i(!0);const R=localStorage.getItem("ACCESS_TOKEN"),D=await vt.get(`/api/users/console/likes?liked_type=${k}${L?`&search=${L}`:""}`,{headers:{Authorization:`Bearer ${R}`}});console.log(" API :",D.data);const B=Array.isArray(D.data)?D.data.map(z=>{var G,X,se,ae,ue,Oe,Te,ne;return{id:z.id,name:((G=z.user)==null?void 0:G.user_name)||"  ",category:((X=z.gallery)==null?void 0:X.gallery_name)||((se=z.exhibition)==null?void 0:se.exhibition_title)||((ae=z.art)==null?void 0:ae.art_title)||" ",date:z.create_dtm?new Date(z.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ue=z.user)==null?void 0:ue.user_name)||"  ",galleryName:((Oe=z.gallery)==null?void 0:Oe.gallery_name)||"  ",exhibitionName:((Te=z.exhibition)==null?void 0:Te.exhibition_title)||"  ",artworkName:((ne=z.art)==null?void 0:ne.art_title)||"  ",type:k}}):[];console.log("  :",B),e(B)}catch(R){d(R.message),console.error("   :",R),console.error(" :",($=R.response)==null?void 0:$.data),console.error(" :",(P=R.response)==null?void 0:P.status),e([])}finally{i(!1)}};[...t].sort((k,L)=>{const $=new Date(k.date.replace(/\./g,"-"));return new Date(L.date.replace(/\./g,"-"))-$});const _=async k=>{if(p(k),k==="all")try{i(!0);const[L,$,P]=await Promise.all([vt.get("/api/users/console/likes?liked_type=gallery"),vt.get("/api/users/console/likes?liked_type=exhibition"),vt.get("/api/users/console/likes?liked_type=art")]),R=[...Array.isArray(L.data)?L.data.map(D=>{var B,z,G,X;return{id:D.id,name:((B=D.user)==null?void 0:B.user_name)||"  ",category:((z=D.gallery)==null?void 0:z.gallery_name)||" ",date:D.create_dtm?new Date(D.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((G=D.user)==null?void 0:G.user_name)||"  ",galleryName:((X=D.gallery)==null?void 0:X.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}):[],...Array.isArray($.data)?$.data.map(D=>{var B,z,G,X;return{id:D.id,name:((B=D.user)==null?void 0:B.user_name)||"  ",category:((z=D.exhibition)==null?void 0:z.exhibition_title)||" ",date:D.create_dtm?new Date(D.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((G=D.user)==null?void 0:G.user_name)||"  ",galleryName:"  ",exhibitionName:((X=D.exhibition)==null?void 0:X.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}):[],...Array.isArray(P.data)?P.data.map(D=>{var B,z,G,X;return{id:D.id,name:((B=D.user)==null?void 0:B.user_name)||"  ",category:((z=D.art)==null?void 0:z.art_title)||" ",date:D.create_dtm?new Date(D.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((G=D.user)==null?void 0:G.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((X=D.art)==null?void 0:X.art_title)||"  ",type:"art"}}):[]];e(R)}catch(L){d(L.message),console.error("    :",L),e([])}finally{i(!1)}else await y(k)},S=async k=>{if(s(!0),f==="all")try{i(!0);const[L,$,P]=await Promise.all([vt.get(`/api/users/console/likes?liked_type=gallery&search=${k}`),vt.get(`/api/users/console/likes?liked_type=exhibition&search=${k}`),vt.get(`/api/users/console/likes?liked_type=art&search=${k}`)]),R=[...Array.isArray(L.data)?L.data.map(D=>{var B,z,G,X;return{id:D.id,name:((B=D.user)==null?void 0:B.user_name)||"  ",category:((z=D.gallery)==null?void 0:z.gallery_name)||" ",date:D.create_dtm?new Date(D.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((G=D.user)==null?void 0:G.user_name)||"  ",galleryName:((X=D.gallery)==null?void 0:X.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}):[],...Array.isArray($.data)?$.data.map(D=>{var B,z,G,X;return{id:D.id,name:((B=D.user)==null?void 0:B.user_name)||"  ",category:((z=D.exhibition)==null?void 0:z.exhibition_title)||" ",date:D.create_dtm?new Date(D.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((G=D.user)==null?void 0:G.user_name)||"  ",galleryName:"  ",exhibitionName:((X=D.exhibition)==null?void 0:X.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}):[],...Array.isArray(P.data)?P.data.map(D=>{var B,z,G,X;return{id:D.id,name:((B=D.user)==null?void 0:B.user_name)||"  ",category:((z=D.art)==null?void 0:z.art_title)||" ",date:D.create_dtm?new Date(D.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((G=D.user)==null?void 0:G.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((X=D.art)==null?void 0:X.art_title)||"  ",type:"art"}}):[]];e(R)}catch(L){d(L.message),console.error(" :",L),e([])}finally{i(!1),s(!1)}else try{i(!0),await y(f,k)}finally{s(!1)}},{searchValue:T,handleSearchChange:A,clearSearch:O}=R4({onSearch:S,onEmptySearch:()=>_(f),onClearSearch:async()=>{f==="all"?await _("all"):await y(f,"")},minLength:2,delay:500});return F.useEffect(()=>{_("all")},[]),{interestedUserList:t,setInterestedUserList:e,searchQuery:T,isLoading:n,isSearching:r,error:l,activeTab:f,loadInterestedUsers:y,handleSearchChange:A,clearSearch:O,handleTabChange:_}}const WV="_contentContainer_1mn9m_3",XV="_emptyStateContainer_1mn9m_29",YV="_searchContainer_1mn9m_63",KV="_countAndButtonContainer_1mn9m_73",ZV="_errorMessage_1mn9m_113",el={contentContainer:WV,emptyStateContainer:XV,searchContainer:YV,countAndButtonContainer:KV,errorMessage:ZV};function QV(){const[t,e]=F.useState(!1),{selectedUserList:n,handleUserSelect:i,handleSelectAll:r,clearSelection:s,isAllSelected:l}=GV(),{interestedUserList:d,searchQuery:f,isLoading:p,error:y,activeTab:_,handleSearchChange:S,handleTabChange:T}=qV(),A=()=>{n.length!==0&&(alert(`${n.length}    .`),e(!1),s())};return p?v.jsx("div",{className:el.contentContainer,children:v.jsx(vm,{})}):y?v.jsx("div",{className:el.contentContainer,children:v.jsxs("div",{className:el.errorMessage,children:[" : ",y]})}):d.length>0?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:el.contentContainer,children:[v.jsx(Cl,{value:f,onChange:S,placeholder:", , ,  ",isInput:!0}),v.jsxs("div",{className:el.countAndButtonContainer,children:[v.jsx(Sl,{count:d.length}),v.jsx(El,{buttonText:" ",onButtonClick:()=>e(!0)})]}),v.jsx($V,{interestedUserList:d,selectedUserList:n,onUserSelect:i,onSelectAll:r,isAllSelected:l,activeTab:_,onTabChange:T})]}),v.jsx(zC,{isOpen:t,onClose:()=>e(!1),selectedUsersCount:n.length,onSendAlarm:A})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:el.searchContainer,children:v.jsx(Cl,{value:f,onChange:S,placeholder:", , ,  ",isInput:!0})}),v.jsxs("div",{className:el.countAndButtonContainer,children:[v.jsx(Sl,{count:0}),v.jsx(El,{buttonText:" ",onButtonClick:()=>alert(" ")})]}),v.jsx("section",{className:el.emptyStateContainer,children:v.jsx(ym,{message:" .",buttonText:" "})}),v.jsx(zC,{isOpen:t,onClose:()=>e(!1),selectedUsersCount:n.length,onSendAlarm:A})]})}function JV(){const[t,e]=F.useState([]),[n,i]=F.useState([]),[r,s]=F.useState([]),[l,d]=F.useState(!1),[f,p]=F.useState(!1),[y,_]=F.useState(null),S=F.useCallback(async(k="")=>{var L,$,P;try{d(!0),k.trim()&&p(!0);const R=new URLSearchParams;k&&R.append("search",k);const D=`/api/galleries${R.toString()?`?${R.toString()}`:""}`,B=await vt.get(D),z=Array.isArray(B.data)?B.data.map(G=>({id:G.id,name:G.gallery_name,address:G.gallery_address,closedDay:G.gallery_closed_day,time:`${G.gallery_start_time} - ${G.gallery_end_time}`,registered:G.exhibitions?G.exhibitions.length:0,liked:G.like_count,image:G.gallery_image})):[];e(z)}catch(R){_(R.message),console.error("   :",R),console.error(" :",(L=R.response)==null?void 0:L.data),console.error(" :",($=R.response)==null?void 0:$.status),console.error(" :",(P=R.response)==null?void 0:P.headers),e([])}finally{d(!1),p(!1)}},[]),T=F.useCallback(async(k="")=>{try{d(!0);let $="/api/exhibitions";k&&k!==" "&&($+=`?gallery_id=${k}`);const P=await vt.get($),R=Array.isArray(P.data)?P.data.map(D=>{var B,z;return{id:D.id,title:D.exhibition_title,period:`${D.exhibition_start_date} - ${D.exhibition_end_date}`,image:D.exhibition_poster||null,gallery_name:((B=D.exhibition_organization)==null?void 0:B.name)||"  ",gallery_id:D.gallery_id||null,value:((z=D.exhibition_organization)==null?void 0:z.name)||"  "}}):[];i(R)}catch(L){_(L.message),console.error("   :",L),i([])}finally{d(!1)}},[]),A=F.useCallback(async(k="")=>{try{d(!0);const L=new URLSearchParams;k&&k!==" "&&L.append("gallery_id",k);const $=`/api/arts${L.toString()?`?${L.toString()}`:""}`,P=await vt.get($),R=Array.isArray(P.data)?P.data.map(D=>{var X,se,ae;const B=D.exhibitions&&D.exhibitions.length>0?D.exhibitions[0]:null,z=((X=B==null?void 0:B.gallery)==null?void 0:X.gallery_name)||"  ",G=(B==null?void 0:B.gallery_id)||((se=B==null?void 0:B.gallery)==null?void 0:se.id)||null;return{id:D.id,title:D.art_title,artist:((ae=D.artist)==null?void 0:ae.artist_name)||"  ",image:D.art_image||null,gallery_name:z,gallery_id:G,value:z}}):[];s(R)}catch(L){_(L.message),console.error("   :",L),s([])}finally{d(!1)}},[]);return F.useEffect(()=>{S()},[]),{galleryList:t,exhibitionList:n,artworkList:r,handleDelete:async(k,L)=>{try{L==="gallery"?(await vt.delete(`/api/galleries/${k}`),e($=>$.filter(P=>P.id!==k))):L==="exhibition"?(await vt.delete(`/api/exhibitions/${k}`),i($=>$.filter(P=>P.id!==k))):L==="artwork"&&(await vt.delete(`/api/arts/${k}`),s($=>$.filter(P=>P.id!==k)))}catch($){_($.message),console.error(" :",$),alert(" .  .")}},loadGalleries:S,loadExhibitions:T,loadArtworks:A,isLoading:l,isSearching:f,error:y}}const e$="_layout_11ovy_3",t$="_tabSection_11ovy_17",n$="_content_11ovy_35",px={layout:e$,tabSection:t$,content:n$};function i$(){const t=Ii(),[e,n]=F.useState(""),[i,r]=F.useState(" ");F.useEffect(()=>{var L;(L=t.state)!=null&&L.activeTab&&n(t.state.activeTab)},[t.state]);const s=L=>{n(L),r(" ")},l=["","","",""],{galleryList:d,exhibitionList:f,artworkList:p,handleDelete:y,loadGalleries:_,loadExhibitions:S,loadArtworks:T,isLoading:A,isSearching:O,error:k}=JV();return v.jsxs("div",{className:px.layout,children:[v.jsx("div",{className:px.tabSection,children:v.jsx(sU,{tabList:l,activeTab:e,onTabChange:s})}),v.jsxs("div",{className:px.content,children:[e===""&&v.jsx(GU,{galleryList:d,onDelete:y,loadGalleries:_,isLoading:A,isSearching:O,error:k}),e===""&&v.jsx(aV,{exhibitionList:f,selectedGallery:i,onGalleryChange:r,onDelete:y,loadExhibitions:S,isLoading:A,error:k,galleryList:d}),e===""&&v.jsx(vV,{artworkList:p,selectedGallery:i,onGalleryChange:r,onDelete:y,loadArtworks:T,isLoading:A,error:k,galleryList:d}),e===""&&v.jsx(QV,{})]})]})}function r$(){return v.jsxs(v.Fragment,{children:[v.jsx(bE,{}),v.jsx(KE,{}),v.jsx("div",{style:{flex:1},children:v.jsx(u2,{})}),v.jsx(ZE,{})]})}const s$="_layout_gwo49_1",a$="_header_gwo49_9",o$="_title_gwo49_35",l$="_backButton_gwo49_45",c$="_content_gwo49_63",u$="_adminTabNav_gwo49_77",d$="_adminTabButton_gwo49_103",f$="_descriptionParagraph_gwo49_147",h$="_addButton_gwo49_193",p$="_emptyContent_gwo49_265",Vs={layout:s$,header:a$,title:o$,backButton:l$,content:c$,adminTabNav:u$,adminTabButton:d$,descriptionParagraph:f$,addButton:h$,emptyContent:p$},m$="_tabsLayout_1o5b4_1",g$="_tabNav_1o5b4_13",x$="_tabContent_1o5b4_39",y$="_tabButton_1o5b4_63",v$="_activeTab_1o5b4_93",nf={tabsLayout:m$,tabNav:g$,tabContent:x$,tabButton:y$,activeTab:v$};function O4({tabs:t,activeTab:e,setActiveTab:n,children:i}){return v.jsxs("div",{className:nf.tabsLayout,children:[v.jsx("nav",{className:nf.tabNav,children:t.map(({key:r,label:s})=>v.jsx("button",{className:`${nf.tabButton} ${e===r&&nf.activeTab}`,onClick:()=>n(r),children:s},r))}),v.jsx("section",{className:nf.tabContent,children:i})]})}var Su={},mx,HC;function I4(){return HC||(HC=1,mx={L:1,M:0,Q:3,H:2}),mx}var gx,UC;function k4(){return UC||(UC=1,gx={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),gx}var xx,VC;function b$(){if(VC)return xx;VC=1;var t=k4();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var i=0;i<this.data.length;i++)n.put(this.data.charCodeAt(i),8)}},xx=e,xx}var yx,$C;function w$(){if($C)return yx;$C=1;var t=I4();function e(n,i){this.totalCount=n,this.dataCount=i}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,i){var r=e.getRsBlockTable(n,i);if(r==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+i);for(var s=r.length/3,l=new Array,d=0;d<s;d++)for(var f=r[d*3+0],p=r[d*3+1],y=r[d*3+2],_=0;_<f;_++)l.push(new e(p,y));return l},e.getRsBlockTable=function(n,i){switch(i){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},yx=e,yx}var vx,GC;function _$(){if(GC)return vx;GC=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var i=0;i<n;i++)this.putBit((e>>>n-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},vx=t,vx}var bx,qC;function D4(){if(qC)return bx;qC=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return bx=t,bx}var wx,WC;function B4(){if(WC)return wx;WC=1;var t=D4();function e(n,i){if(n.length==null)throw new Error(n.length+"/"+i);for(var r=0;r<n.length&&n[r]==0;)r++;this.num=new Array(n.length-r+i);for(var s=0;s<n.length-r;s++)this.num[s]=n[s+r]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var i=new Array(this.getLength()+n.getLength()-1),r=0;r<this.getLength();r++)for(var s=0;s<n.getLength();s++)i[r+s]^=t.gexp(t.glog(this.get(r))+t.glog(n.get(s)));return new e(i,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var i=t.glog(this.get(0))-t.glog(n.get(0)),r=new Array(this.getLength()),s=0;s<this.getLength();s++)r[s]=this.get(s);for(var s=0;s<n.getLength();s++)r[s]^=t.gexp(t.glog(n.get(s))+i);return new e(r,0).mod(n)}},wx=e,wx}var _x,XC;function C$(){if(XC)return _x;XC=1;var t=k4(),e=B4(),n=D4(),i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},r={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var l=s<<10;r.getBCHDigit(l)-r.getBCHDigit(r.G15)>=0;)l^=r.G15<<r.getBCHDigit(l)-r.getBCHDigit(r.G15);return(s<<10|l)^r.G15_MASK},getBCHTypeNumber:function(s){for(var l=s<<12;r.getBCHDigit(l)-r.getBCHDigit(r.G18)>=0;)l^=r.G18<<r.getBCHDigit(l)-r.getBCHDigit(r.G18);return s<<12|l},getBCHDigit:function(s){for(var l=0;s!=0;)l++,s>>>=1;return l},getPatternPosition:function(s){return r.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,l,d){switch(s){case i.PATTERN000:return(l+d)%2==0;case i.PATTERN001:return l%2==0;case i.PATTERN010:return d%3==0;case i.PATTERN011:return(l+d)%3==0;case i.PATTERN100:return(Math.floor(l/2)+Math.floor(d/3))%2==0;case i.PATTERN101:return l*d%2+l*d%3==0;case i.PATTERN110:return(l*d%2+l*d%3)%2==0;case i.PATTERN111:return(l*d%3+(l+d)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var l=new e([1],0),d=0;d<s;d++)l=l.multiply(new e([1,n.gexp(d)],0));return l},getLengthInBits:function(s,l){if(1<=l&&l<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(l<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(l<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+l)},getLostPoint:function(s){for(var l=s.getModuleCount(),d=0,f=0;f<l;f++)for(var p=0;p<l;p++){for(var y=0,_=s.isDark(f,p),S=-1;S<=1;S++)if(!(f+S<0||l<=f+S))for(var T=-1;T<=1;T++)p+T<0||l<=p+T||S==0&&T==0||_==s.isDark(f+S,p+T)&&y++;y>5&&(d+=3+y-5)}for(var f=0;f<l-1;f++)for(var p=0;p<l-1;p++){var A=0;s.isDark(f,p)&&A++,s.isDark(f+1,p)&&A++,s.isDark(f,p+1)&&A++,s.isDark(f+1,p+1)&&A++,(A==0||A==4)&&(d+=3)}for(var f=0;f<l;f++)for(var p=0;p<l-6;p++)s.isDark(f,p)&&!s.isDark(f,p+1)&&s.isDark(f,p+2)&&s.isDark(f,p+3)&&s.isDark(f,p+4)&&!s.isDark(f,p+5)&&s.isDark(f,p+6)&&(d+=40);for(var p=0;p<l;p++)for(var f=0;f<l-6;f++)s.isDark(f,p)&&!s.isDark(f+1,p)&&s.isDark(f+2,p)&&s.isDark(f+3,p)&&s.isDark(f+4,p)&&!s.isDark(f+5,p)&&s.isDark(f+6,p)&&(d+=40);for(var O=0,p=0;p<l;p++)for(var f=0;f<l;f++)s.isDark(f,p)&&O++;var k=Math.abs(100*O/l/l-50)/5;return d+=k*10,d}};return _x=r,_x}var Cx,YC;function S$(){if(YC)return Cx;YC=1;var t=b$(),e=w$(),n=_$(),i=C$(),r=B4();function s(d,f){this.typeNumber=d,this.errorCorrectLevel=f,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=s.prototype;return l.addData=function(d){var f=new t(d);this.dataList.push(f),this.dataCache=null},l.isDark=function(d,f){if(d<0||this.moduleCount<=d||f<0||this.moduleCount<=f)throw new Error(d+","+f);return this.modules[d][f]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var d=1;for(d=1;d<40;d++){for(var f=e.getRSBlocks(d,this.errorCorrectLevel),p=new n,y=0,_=0;_<f.length;_++)y+=f[_].dataCount;for(var _=0;_<this.dataList.length;_++){var S=this.dataList[_];p.put(S.mode,4),p.put(S.getLength(),i.getLengthInBits(S.mode,d)),S.write(p)}if(p.getLengthInBits()<=y*8)break}this.typeNumber=d}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(d,f){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var p=0;p<this.moduleCount;p++){this.modules[p]=new Array(this.moduleCount);for(var y=0;y<this.moduleCount;y++)this.modules[p][y]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(d,f),this.typeNumber>=7&&this.setupTypeNumber(d),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,f)},l.setupPositionProbePattern=function(d,f){for(var p=-1;p<=7;p++)if(!(d+p<=-1||this.moduleCount<=d+p))for(var y=-1;y<=7;y++)f+y<=-1||this.moduleCount<=f+y||(0<=p&&p<=6&&(y==0||y==6)||0<=y&&y<=6&&(p==0||p==6)||2<=p&&p<=4&&2<=y&&y<=4?this.modules[d+p][f+y]=!0:this.modules[d+p][f+y]=!1)},l.getBestMaskPattern=function(){for(var d=0,f=0,p=0;p<8;p++){this.makeImpl(!0,p);var y=i.getLostPoint(this);(p==0||d>y)&&(d=y,f=p)}return f},l.createMovieClip=function(d,f,p){var y=d.createEmptyMovieClip(f,p),_=1;this.make();for(var S=0;S<this.modules.length;S++)for(var T=S*_,A=0;A<this.modules[S].length;A++){var O=A*_,k=this.modules[S][A];k&&(y.beginFill(0,100),y.moveTo(O,T),y.lineTo(O+_,T),y.lineTo(O+_,T+_),y.lineTo(O,T+_),y.endFill())}return y},l.setupTimingPattern=function(){for(var d=8;d<this.moduleCount-8;d++)this.modules[d][6]==null&&(this.modules[d][6]=d%2==0);for(var f=8;f<this.moduleCount-8;f++)this.modules[6][f]==null&&(this.modules[6][f]=f%2==0)},l.setupPositionAdjustPattern=function(){for(var d=i.getPatternPosition(this.typeNumber),f=0;f<d.length;f++)for(var p=0;p<d.length;p++){var y=d[f],_=d[p];if(this.modules[y][_]==null)for(var S=-2;S<=2;S++)for(var T=-2;T<=2;T++)S==-2||S==2||T==-2||T==2||S==0&&T==0?this.modules[y+S][_+T]=!0:this.modules[y+S][_+T]=!1}},l.setupTypeNumber=function(d){for(var f=i.getBCHTypeNumber(this.typeNumber),p=0;p<18;p++){var y=!d&&(f>>p&1)==1;this.modules[Math.floor(p/3)][p%3+this.moduleCount-8-3]=y}for(var p=0;p<18;p++){var y=!d&&(f>>p&1)==1;this.modules[p%3+this.moduleCount-8-3][Math.floor(p/3)]=y}},l.setupTypeInfo=function(d,f){for(var p=this.errorCorrectLevel<<3|f,y=i.getBCHTypeInfo(p),_=0;_<15;_++){var S=!d&&(y>>_&1)==1;_<6?this.modules[_][8]=S:_<8?this.modules[_+1][8]=S:this.modules[this.moduleCount-15+_][8]=S}for(var _=0;_<15;_++){var S=!d&&(y>>_&1)==1;_<8?this.modules[8][this.moduleCount-_-1]=S:_<9?this.modules[8][15-_-1+1]=S:this.modules[8][15-_-1]=S}this.modules[this.moduleCount-8][8]=!d},l.mapData=function(d,f){for(var p=-1,y=this.moduleCount-1,_=7,S=0,T=this.moduleCount-1;T>0;T-=2)for(T==6&&T--;;){for(var A=0;A<2;A++)if(this.modules[y][T-A]==null){var O=!1;S<d.length&&(O=(d[S]>>>_&1)==1);var k=i.getMask(f,y,T-A);k&&(O=!O),this.modules[y][T-A]=O,_--,_==-1&&(S++,_=7)}if(y+=p,y<0||this.moduleCount<=y){y-=p,p=-p;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(d,f,p){for(var y=e.getRSBlocks(d,f),_=new n,S=0;S<p.length;S++){var T=p[S];_.put(T.mode,4),_.put(T.getLength(),i.getLengthInBits(T.mode,d)),T.write(_)}for(var A=0,S=0;S<y.length;S++)A+=y[S].dataCount;if(_.getLengthInBits()>A*8)throw new Error("code length overflow. ("+_.getLengthInBits()+">"+A*8+")");for(_.getLengthInBits()+4<=A*8&&_.put(0,4);_.getLengthInBits()%8!=0;)_.putBit(!1);for(;!(_.getLengthInBits()>=A*8||(_.put(s.PAD0,8),_.getLengthInBits()>=A*8));)_.put(s.PAD1,8);return s.createBytes(_,y)},s.createBytes=function(d,f){for(var p=0,y=0,_=0,S=new Array(f.length),T=new Array(f.length),A=0;A<f.length;A++){var O=f[A].dataCount,k=f[A].totalCount-O;y=Math.max(y,O),_=Math.max(_,k),S[A]=new Array(O);for(var L=0;L<S[A].length;L++)S[A][L]=255&d.buffer[L+p];p+=O;var $=i.getErrorCorrectPolynomial(k),P=new r(S[A],$.getLength()-1),R=P.mod($);T[A]=new Array($.getLength()-1);for(var L=0;L<T[A].length;L++){var D=L+R.getLength()-T[A].length;T[A][L]=D>=0?R.get(D):0}}for(var B=0,L=0;L<f.length;L++)B+=f[L].totalCount;for(var z=new Array(B),G=0,L=0;L<y;L++)for(var A=0;A<f.length;A++)L<S[A].length&&(z[G++]=S[A][L]);for(var L=0;L<_;L++)for(var A=0;A<f.length;A++)L<T[A].length&&(z[G++]=T[A][L]);return z},Cx=s,Cx}var Sp={},KC;function E$(){if(KC)return Sp;KC=1,Object.defineProperty(Sp,"__esModule",{value:!0});var t=Object.assign||function(p){for(var y=1;y<arguments.length;y++){var _=arguments[y];for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(p[S]=_[S])}return p},e=h2(),n=s(e),i=Mc(),r=s(i);function s(p){return p&&p.__esModule?p:{default:p}}function l(p,y){var _={};for(var S in p)y.indexOf(S)>=0||Object.prototype.hasOwnProperty.call(p,S)&&(_[S]=p[S]);return _}var d={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},f=(0,i.forwardRef)(function(p,y){var _=p.bgColor,S=p.bgD,T=p.fgD,A=p.fgColor,O=p.size,k=p.title,L=p.viewBoxSize,$=p.xmlns,P=$===void 0?"http://www.w3.org/2000/svg":$,R=l(p,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return r.default.createElement("svg",t({},R,{height:O,ref:y,viewBox:"0 0 "+L+" "+L,width:O,xmlns:P}),k?r.default.createElement("title",null,k):null,r.default.createElement("path",{d:S,fill:_}),r.default.createElement("path",{d:T,fill:A}))});return f.displayName="QRCodeSvg",f.propTypes=d,Sp.default=f,Sp}var ZC;function A$(){if(ZC)return Su;ZC=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.QRCode=void 0;var t=Object.assign||function(O){for(var k=1;k<arguments.length;k++){var L=arguments[k];for(var $ in L)Object.prototype.hasOwnProperty.call(L,$)&&(O[$]=L[$])}return O},e=h2(),n=_(e),i=I4(),r=_(i),s=S$(),l=_(s),d=Mc(),f=_(d),p=E$(),y=_(p);function _(O){return O&&O.__esModule?O:{default:O}}function S(O,k){var L={};for(var $ in O)k.indexOf($)>=0||Object.prototype.hasOwnProperty.call(O,$)&&(L[$]=O[$]);return L}var T={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},A=(0,d.forwardRef)(function(O,k){var L=O.bgColor,$=L===void 0?"#FFFFFF":L,P=O.fgColor,R=P===void 0?"#000000":P,D=O.level,B=D===void 0?"L":D,z=O.size,G=z===void 0?256:z,X=O.value,se=S(O,["bgColor","fgColor","level","size","value"]),ae=new l.default(-1,r.default[B]);ae.addData(X),ae.make();var ue=ae.modules;return f.default.createElement(y.default,t({},se,{bgColor:$,bgD:ue.map(function(Oe,Te){return Oe.map(function(ne,Q){return ne?"":"M "+Q+" "+Te+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:R,fgD:ue.map(function(Oe,Te){return Oe.map(function(ne,Q){return ne?"M "+Q+" "+Te+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:k,size:G,viewBoxSize:ue.length}))});return Su.QRCode=A,A.displayName="QRCode",A.propTypes=T,Su.default=A,Su}var T$=A$();const N$=Nl(T$);function M$(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(r),e&&(i.href=e),r.href=t,r.href}const R$=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function xl(t){const e=[];for(let n=0,i=t.length;n<i;n++)e.push(t[n]);return e}let Eu=null;function L4(t={}){return Eu||(t.includeStyleProperties?(Eu=t.includeStyleProperties,Eu):(Eu=xl(window.getComputedStyle(document.documentElement)),Eu))}function p1(t,e){const i=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return i?parseFloat(i.replace("px","")):0}function O$(t){const e=p1(t,"border-left-width"),n=p1(t,"border-right-width");return t.clientWidth+e+n}function I$(t){const e=p1(t,"border-top-width"),n=p1(t,"border-bottom-width");return t.clientHeight+e+n}function j4(t,e={}){const n=e.width||O$(t),i=e.height||I$(t);return{width:n,height:i}}function k$(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const es=16384;function D$(t){(t.width>es||t.height>es)&&(t.width>es&&t.height>es?t.width>t.height?(t.height*=es/t.width,t.width=es):(t.width*=es/t.height,t.height=es):t.width>es?(t.height*=es/t.width,t.width=es):(t.width*=es/t.height,t.height=es))}function m1(t){return new Promise((e,n)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>e(i))})},i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=t})}async function B$(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function L$(t,e,n){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${e}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),r.appendChild(s),s.appendChild(t),B$(r)}const Pr=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||Pr(n,e)};function j$(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function P$(t,e){return L4(e).map(n=>{const i=t.getPropertyValue(n),r=t.getPropertyPriority(n);return`${n}: ${i}${r?" !important":""};`}).join(" ")}function F$(t,e,n,i){const r=`.${t}:${e}`,s=n.cssText?j$(n):P$(n,i);return document.createTextNode(`${r}{${s}}`)}function QC(t,e,n,i){const r=window.getComputedStyle(t,n),s=r.getPropertyValue("content");if(s===""||s==="none")return;const l=R$();try{e.className=`${e.className} ${l}`}catch{return}const d=document.createElement("style");d.appendChild(F$(l,n,r,i)),e.appendChild(d)}function z$(t,e,n){QC(t,e,":before",n),QC(t,e,":after",n)}const JC="application/font-woff",e3="image/jpeg",H$={woff:JC,woff2:JC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:e3,jpeg:e3,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function U$(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function E2(t){const e=U$(t).toLowerCase();return H$[e]||""}function V$(t){return t.split(/,/)[1]}function by(t){return t.search(/^(data:)/)!==-1}function $$(t,e){return`data:${e};base64,${t}`}async function P4(t,e,n){const i=await fetch(t,e);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const r=await i.blob();return new Promise((s,l)=>{const d=new FileReader;d.onerror=l,d.onloadend=()=>{try{s(n({res:i,result:d.result}))}catch(f){l(f)}},d.readAsDataURL(r)})}const Sx={};function G$(t,e,n){let i=t.replace(/\?.*/,"");return n&&(i=t),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),e?`[${e}]${i}`:i}async function A2(t,e,n){const i=G$(t,e,n.includeQueryParams);if(Sx[i]!=null)return Sx[i];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let r;try{const s=await P4(t,n.fetchRequestInit,({res:l,result:d})=>(e||(e=l.headers.get("Content-Type")||""),V$(d)));r=$$(s,e)}catch(s){r=n.imagePlaceholder||"";let l=`Failed to fetch resource: ${t}`;s&&(l=typeof s=="string"?s:s.message),l&&console.warn(l)}return Sx[i]=r,r}async function q$(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):m1(e)}async function W$(t,e){if(t.currentSrc){const s=document.createElement("canvas"),l=s.getContext("2d");s.width=t.clientWidth,s.height=t.clientHeight,l==null||l.drawImage(t,0,0,s.width,s.height);const d=s.toDataURL();return m1(d)}const n=t.poster,i=E2(n),r=await A2(n,i,e);return m1(r)}async function X$(t,e){var n;try{if(!((n=t==null?void 0:t.contentDocument)===null||n===void 0)&&n.body)return await bm(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function Y$(t,e){return Pr(t,HTMLCanvasElement)?q$(t):Pr(t,HTMLVideoElement)?W$(t,e):Pr(t,HTMLIFrameElement)?X$(t,e):t.cloneNode(F4(t))}const K$=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",F4=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function Z$(t,e,n){var i,r;if(F4(e))return e;let s=[];return K$(t)&&t.assignedNodes?s=xl(t.assignedNodes()):Pr(t,HTMLIFrameElement)&&(!((i=t.contentDocument)===null||i===void 0)&&i.body)?s=xl(t.contentDocument.body.childNodes):s=xl(((r=t.shadowRoot)!==null&&r!==void 0?r:t).childNodes),s.length===0||Pr(t,HTMLVideoElement)||await s.reduce((l,d)=>l.then(()=>bm(d,n)).then(f=>{f&&e.appendChild(f)}),Promise.resolve()),e}function Q$(t,e,n){const i=e.style;if(!i)return;const r=window.getComputedStyle(t);r.cssText?(i.cssText=r.cssText,i.transformOrigin=r.transformOrigin):L4(n).forEach(s=>{let l=r.getPropertyValue(s);s==="font-size"&&l.endsWith("px")&&(l=`${Math.floor(parseFloat(l.substring(0,l.length-2)))-.1}px`),Pr(t,HTMLIFrameElement)&&s==="display"&&l==="inline"&&(l="block"),s==="d"&&e.getAttribute("d")&&(l=`path(${e.getAttribute("d")})`),i.setProperty(s,l,r.getPropertyPriority(s))})}function J$(t,e){Pr(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),Pr(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function eG(t,e){if(Pr(t,HTMLSelectElement)){const n=e,i=Array.from(n.children).find(r=>t.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}function tG(t,e,n){return Pr(e,Element)&&(Q$(t,e,n),z$(t,e,n),J$(t,e),eG(t,e)),e}async function nG(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const i={};for(let s=0;s<n.length;s++){const d=n[s].getAttribute("xlink:href");if(d){const f=t.querySelector(d),p=document.querySelector(d);!f&&p&&!i[d]&&(i[d]=await bm(p,e,!0))}}const r=Object.values(i);if(r.length){const s="http://www.w3.org/1999/xhtml",l=document.createElementNS(s,"svg");l.setAttribute("xmlns",s),l.style.position="absolute",l.style.width="0",l.style.height="0",l.style.overflow="hidden",l.style.display="none";const d=document.createElementNS(s,"defs");l.appendChild(d);for(let f=0;f<r.length;f++)d.appendChild(r[f]);t.appendChild(l)}return t}async function bm(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(i=>Y$(i,e)).then(i=>Z$(t,i,e)).then(i=>tG(t,i,e)).then(i=>nG(i,e))}const z4=/url\((['"]?)([^'"]+?)\1\)/g,iG=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,rG=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function sG(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function aG(t){const e=[];return t.replace(z4,(n,i,r)=>(e.push(r),n)),e.filter(n=>!by(n))}async function oG(t,e,n,i,r){try{const s=n?M$(e,n):e,l=E2(e);let d;return r||(d=await A2(s,l,i)),t.replace(sG(e),`$1${d}$3`)}catch{}return t}function lG(t,{preferredFontFormat:e}){return e?t.replace(rG,n=>{for(;;){const[i,,r]=iG.exec(n)||[];if(!r)return"";if(r===e)return`src: ${i};`}}):t}function H4(t){return t.search(z4)!==-1}async function U4(t,e,n){if(!H4(t))return t;const i=lG(t,n);return aG(i).reduce((s,l)=>s.then(d=>oG(d,l,e,n)),Promise.resolve(i))}async function Au(t,e,n){var i;const r=(i=e.style)===null||i===void 0?void 0:i.getPropertyValue(t);if(r){const s=await U4(r,null,n);return e.style.setProperty(t,s,e.style.getPropertyPriority(t)),!0}return!1}async function cG(t,e){await Au("background",t,e)||await Au("background-image",t,e),await Au("mask",t,e)||await Au("-webkit-mask",t,e)||await Au("mask-image",t,e)||await Au("-webkit-mask-image",t,e)}async function uG(t,e){const n=Pr(t,HTMLImageElement);if(!(n&&!by(t.src))&&!(Pr(t,SVGImageElement)&&!by(t.href.baseVal)))return;const i=n?t.src:t.href.baseVal,r=await A2(i,E2(i),e);await new Promise((s,l)=>{t.onload=s,t.onerror=e.onImageErrorHandler?(...f)=>{try{s(e.onImageErrorHandler(...f))}catch(p){l(p)}}:l;const d=t;d.decode&&(d.decode=s),d.loading==="lazy"&&(d.loading="eager"),n?(t.srcset="",t.src=r):t.href.baseVal=r})}async function dG(t,e){const i=xl(t.childNodes).map(r=>V4(r,e));await Promise.all(i).then(()=>t)}async function V4(t,e){Pr(t,Element)&&(await cG(t,e),await uG(t,e),await dG(t,e))}function fG(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const i=e.style;return i!=null&&Object.keys(i).forEach(r=>{n[r]=i[r]}),t}const t3={};async function n3(t){let e=t3[t];if(e!=null)return e;const i=await(await fetch(t)).text();return e={url:t,cssText:i},t3[t]=e,e}async function i3(t,e){let n=t.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async l=>{let d=l.replace(i,"$1");return d.startsWith("https://")||(d=new URL(d,t.url).href),P4(d,e.fetchRequestInit,({result:f})=>(n=n.replace(l,`url(${f})`),[l,f]))});return Promise.all(s).then(()=>n)}function r3(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=t.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const f=r.exec(i);if(f===null)break;e.push(f[0])}i=i.replace(r,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",d=new RegExp(l,"gi");for(;;){let f=s.exec(i);if(f===null){if(f=d.exec(i),f===null)break;s.lastIndex=d.lastIndex}else d.lastIndex=s.lastIndex;e.push(f[0])}return e}async function hG(t,e){const n=[],i=[];return t.forEach(r=>{if("cssRules"in r)try{xl(r.cssRules||[]).forEach((s,l)=>{if(s.type===CSSRule.IMPORT_RULE){let d=l+1;const f=s.href,p=n3(f).then(y=>i3(y,e)).then(y=>r3(y).forEach(_=>{try{r.insertRule(_,_.startsWith("@import")?d+=1:r.cssRules.length)}catch(S){console.error("Error inserting rule from remote css",{rule:_,error:S})}})).catch(y=>{console.error("Error loading remote css",y.toString())});i.push(p)}})}catch(s){const l=t.find(d=>d.href==null)||document.styleSheets[0];r.href!=null&&i.push(n3(r.href).then(d=>i3(d,e)).then(d=>r3(d).forEach(f=>{l.insertRule(f,l.cssRules.length)})).catch(d=>{console.error("Error loading remote stylesheet",d)})),console.error("Error inlining remote css file",s)}}),Promise.all(i).then(()=>(t.forEach(r=>{if("cssRules"in r)try{xl(r.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${r.href}`,s)}}),n))}function pG(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>H4(e.style.getPropertyValue("src")))}async function mG(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=xl(t.ownerDocument.styleSheets),i=await hG(n,e);return pG(i)}function $4(t){return t.trim().replace(/["']/g,"")}function gG(t){const e=new Set;function n(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(s=>{e.add($4(s))}),Array.from(i.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(t),e}async function xG(t,e){const n=await mG(t,e),i=gG(t);return(await Promise.all(n.filter(s=>i.has($4(s.style.fontFamily))).map(s=>{const l=s.parentStyleSheet?s.parentStyleSheet.href:null;return U4(s.cssText,l,e)}))).join(`
`)}async function yG(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await xG(t,e);if(n){const i=document.createElement("style"),r=document.createTextNode(n);i.appendChild(r),t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)}}async function vG(t,e={}){const{width:n,height:i}=j4(t,e),r=await bm(t,e,!0);return await yG(r,e),await V4(r,e),fG(r,e),await L$(r,n,i)}async function bG(t,e={}){const{width:n,height:i}=j4(t,e),r=await vG(t,e),s=await m1(r),l=document.createElement("canvas"),d=l.getContext("2d"),f=e.pixelRatio||k$(),p=e.canvasWidth||n,y=e.canvasHeight||i;return l.width=p*f,l.height=y*f,e.skipAutoScale||D$(l),l.style.width=`${p}`,l.style.height=`${y}`,e.backgroundColor&&(d.fillStyle=e.backgroundColor,d.fillRect(0,0,l.width,l.height)),d.drawImage(s,0,0,l.width,l.height),l}async function wG(t,e={}){return(await bG(t,e)).toDataURL()}const _G="_modalOverlay_ujdot_1",CG="_modalContent_ujdot_27",SG="_header_ujdot_43",EG="_title_ujdot_59",AG="_closeButton_ujdot_71",TG="_body_ujdot_87",NG="_qrDownloadArea_ujdot_103",MG="_galleryInfo_ujdot_115",RG="_galleryName_ujdot_131",OG="_galleryNameEn_ujdot_141",IG="_qrCodeWrapper_ujdot_151",kG="_downloadButton_ujdot_163",DG="_noLeaflet_ujdot_193",BG="_noLeafletMessage_ujdot_201",lr={modalOverlay:_G,modalContent:CG,header:SG,title:EG,closeButton:AG,body:TG,qrDownloadArea:NG,galleryInfo:MG,galleryName:RG,galleryNameEn:OG,qrCodeWrapper:IG,downloadButton:kG,noLeaflet:DG,noLeafletMessage:BG};function LG({data:t,onClose:e}){const n=t&&t.leafletUrl,i=F.useRef(null),r=()=>{i.current!==null&&wG(i.current,{cacheBust:!0,backgroundColor:"#ffffff"}).then(s=>{const l=document.createElement("a");l.download=`${t.gallery_name||"gallery"}-qr-code.png`,l.href=s,l.click()}).catch(s=>{console.error("  .",s),alert("  .  .")})};return v.jsx("div",{className:lr.modalOverlay,onClick:e,children:v.jsxs("div",{className:lr.modalContent,onClick:s=>s.stopPropagation(),children:[v.jsxs("header",{className:lr.header,children:[v.jsx("h2",{className:lr.title,children:"QR : /"}),v.jsx("button",{className:lr.closeButton,onClick:e,children:""})]}),v.jsx("div",{className:lr.body,children:n?v.jsxs(v.Fragment,{children:[v.jsxs("div",{ref:i,className:lr.qrDownloadArea,children:[v.jsxs("div",{className:lr.galleryInfo,children:[v.jsx("p",{className:lr.galleryName,children:t.gallery_name||" "}),v.jsx("p",{className:lr.galleryNameEn,children:t.gallery_name_en||"Gallery Name"})]}),v.jsx("div",{className:lr.qrCodeWrapper,children:v.jsx(N$,{value:t.leafletUrl,size:200,bgColor:"#FFFFFF",fgColor:"#000000",level:"L",style:{height:"auto",maxWidth:"100%",width:"100%"}})})]}),v.jsx("button",{className:lr.downloadButton,onClick:r,children:""})]}):v.jsxs("div",{className:lr.noLeaflet,children:[v.jsx("p",{className:lr.galleryName,children:t.gallery_name||" "}),v.jsx("p",{className:lr.galleryNameEn,children:t.gallery_name_en||"Gallery Name"}),v.jsx("p",{className:lr.noLeafletMessage,children:"   ."})]})})]})})}const jG="_layout_5ly8g_1",PG="_breadcrumb_5ly8g_21",FG="_breadcrumbBack_5ly8g_35",zG="_card_5ly8g_45",HG="_titleSection_5ly8g_63",UG="_galleryTitle_5ly8g_73",VG="_gallerySubTitle_5ly8g_87",$G="_galleryImage_5ly8g_99",GG="_btnLayout_5ly8g_117",qG="_likeButton_5ly8g_129",WG="_icon_5ly8g_153",XG="_likedIcon_5ly8g_161",YG="_tagContainer_5ly8g_183",KG="_tag_5ly8g_183",ZG="_infoList_5ly8g_219",QG="_infoRow_5ly8g_233",JG="_infoLabel_5ly8g_243",eq="_infoContent_5ly8g_255",tq="_homepageButton_5ly8g_275",nq="_descriptionParagraph_5ly8g_333",iq="_inlineSns_5ly8g_379",rq="_snsLink_5ly8g_393",sq="_snsIcon_5ly8g_403",aq="_emptyContent_5ly8g_423",oq="_backButton_5ly8g_449",lq="_emptyInfo_5ly8g_483",cq="_modalOverlay_5ly8g_491",uq="_mapModalBox_5ly8g_511",dq="_mapModalTitle_5ly8g_527",fq="_mapModalSubTitle_5ly8g_539",hq="_mapModalMap_5ly8g_553",pq="_mapModalClose_5ly8g_567",mq="_likeModalBox_5ly8g_593",gq="_likeModalStar_5ly8g_611",xq="_likeModalTitle_5ly8g_623",yq="_likeModalSub_5ly8g_633",vq="_likeModalButton_5ly8g_647",At={layout:jG,breadcrumb:PG,breadcrumbBack:FG,card:zG,titleSection:HG,galleryTitle:UG,gallerySubTitle:VG,galleryImage:$G,btnLayout:GG,likeButton:qG,icon:WG,likedIcon:XG,tagContainer:YG,tag:KG,infoList:ZG,infoRow:QG,infoLabel:JG,infoContent:eq,homepageButton:tq,descriptionParagraph:nq,inlineSns:iq,snsLink:rq,snsIcon:sq,emptyContent:aq,backButton:oq,emptyInfo:lq,modalOverlay:cq,mapModalBox:uq,mapModalTitle:dq,mapModalSubTitle:fq,mapModalMap:hq,mapModalClose:pq,likeModalBox:mq,likeModalStar:gq,likeModalTitle:xq,likeModalSub:yq,likeModalButton:vq},bq="_exhibitionList_i0wxs_1",wq="_exhibitionCard_i0wxs_17",_q="_imageContainer_i0wxs_49",Cq="_exhibitionImage_i0wxs_63",Sq="_statusTag_i0wxs_77",Eq="_statusOn_i0wxs_101",Aq="_statusScheduled_i0wxs_107",Tq="_statusDone_i0wxs_113",Nq="_statusDefault_i0wxs_119",Mq="_infoContainer_i0wxs_127",Rq="_title_i0wxs_147",Oq="_location_i0wxs_165",Iq="_date_i0wxs_175",kq="_emptyContent_i0wxs_185",Dr={exhibitionList:bq,exhibitionCard:wq,imageContainer:_q,exhibitionImage:Cq,statusTag:Sq,statusOn:Eq,statusScheduled:Aq,statusDone:Tq,statusDefault:Nq,infoContainer:Mq,title:Rq,location:Oq,date:Iq,emptyContent:kq},s3={exhibited:{text:"",className:Dr.statusOn},scheduled:{text:"",className:Dr.statusScheduled},ended:{text:"",className:Dr.statusDone},default:{text:"",className:Dr.statusDefault}};function G4({exhibitions:t}){const n=Ii().pathname.includes("/console");return console.log(" ",t),!t||t.length===0?v.jsx("p",{className:Dr.emptyContent,children:"   ."}):v.jsx("section",{className:Dr.exhibitionList,children:t.map(({exhibition_id:i,exhibition_poster:r,exhibition_title:s,exhibition_status:l,exhibition_location:d,exhibition_start_date:f,exhibition_end_date:p})=>{const y=s3[l]||s3.default,_=n?`/console/exhibitions/${i}`:`/exhibitions/${i}`;return v.jsxs(En,{className:Dr.exhibitionCard,to:_,children:[v.jsxs("div",{className:Dr.imageContainer,children:[v.jsx("img",{className:Dr.exhibitionImage,src:r,alt:"  "}),v.jsx("span",{className:`${Dr.statusTag} ${y.className}`,children:y.text})]}),v.jsxs("div",{className:Dr.infoContainer,children:[v.jsx("h4",{className:Dr.title,children:s}),v.jsx("p",{className:Dr.location,children:d}),v.jsx("p",{className:Dr.date,children:`${f} ~ ${p}`})]})]},i)})})}const Dq="_artworkGrid_1kwuv_1",Bq="_artworkCard_1kwuv_45",Lq="_artworkImage_1kwuv_83",jq="_artworkInfo_1kwuv_97",Pq="_title_1kwuv_111",Fq="_materials_1kwuv_123",zq="_details_1kwuv_133",Hq="_emptyContent_1kwuv_145",tl={artworkGrid:Dq,artworkCard:Bq,artworkImage:Lq,artworkInfo:jq,title:Pq,materials:Fq,details:zq,emptyContent:Hq};function T2({artworks:t}){const n=Ii().pathname.includes("/console");return console.log(t),!t||t.length===0?v.jsx("p",{className:tl.emptyContent,children:"   ."}):v.jsx("section",{className:tl.artworkGrid,children:t.map(({id:i,image_url:r,title:s,materials:l,size:d,year:f})=>{const p=n?`/console/artworks/${i}`:`/artworks/${i}`;return v.jsxs(En,{className:tl.artworkCard,to:p,children:[v.jsx("img",{className:tl.artworkImage,src:r,alt:s}),v.jsxs("div",{className:tl.artworkInfo,children:[v.jsx("h4",{className:tl.title,children:s}),v.jsx("p",{className:tl.materials,children:l}),v.jsx("p",{className:tl.details,children:`${d}, ${f}`})]})]},i)})})}function Uq({lat:t,lng:e,title:n,address:i,mapId:r,onClose:s}){return w2({lat:t,lng:e,id:r,title:n,location:i}),console.log("MapModalSimple !",r),F.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),v.jsx("div",{className:At.modalOverlay,children:v.jsxs("div",{className:At.mapModalBox,children:[v.jsx("h3",{className:At.mapModalTitle,children:n}),v.jsx("p",{className:At.mapModalSubTitle,children:i}),v.jsx("div",{id:r,className:At.mapModalMap}),v.jsx("button",{className:At.mapModalClose,onClick:s,children:""})]})})}function Vq({onClose:t}){return v.jsx("div",{className:At.modalOverlay,children:v.jsxs("div",{className:At.likeModalBox,children:[v.jsx(y4,{className:At.likeModalStar}),v.jsx("h3",{className:At.likeModalTitle,children:"   !"}),v.jsx("p",{className:At.likeModalSub,children:"      ."}),v.jsx("button",{className:At.likeModalButton,onClick:t,children:""})]})})}function $q(t,e){const n=F.useRef(null),[i,r]=F.useState(!1),s=F.useCallback(()=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{r(!0)},e)},[e]),l=F.useCallback(()=>{n.current&&clearTimeout(n.current),n.current=null},[]),d=F.useCallback(()=>{t()},[t]);return{start:s,clear:l,done:d,isExiting:i}}const Gq="_toastContainer_wle1e_1",qq="_toast_wle1e_1",Wq="_exiting_wle1e_45",Xq="_title_wle1e_53",Yq="_message_wle1e_65",df={toastContainer:Gq,toast:qq,exiting:Wq,title:Xq,message:Yq};function Kq({id:t,title:e,message:n,duration:i,removeToast:r}){const{start:s,clear:l,done:d,isExiting:f}=$q(()=>{r(t)},i),p=()=>l(),y=()=>s();F.useEffect(()=>{s()},[s]);const _=`${df.toast} ${f?df.exiting:""}`,S=()=>{f&&d()};return v.jsxs("div",{className:_,onMouseEnter:p,onMouseLeave:y,onAnimationEnd:S,children:[v.jsx("div",{className:df.title,children:e}),n&&v.jsx("div",{className:df.message,children:n})]})}const q4=F.createContext(),W4=()=>F.useContext(q4);function Zq({children:t}){const[e,n]=F.useState(null),i=F.useCallback((s,l=1e3)=>{let d,f;typeof s=="string"?(d=s,f=null):(d=s.title,f=s.message);const p=Date.now();n({id:p,title:d,message:f,duration:l})},[]),r=F.useCallback(s=>{n(l=>l&&l.id===s?null:l)},[]);return v.jsxs(q4.Provider,{value:{addToast:i},children:[t,v.jsx("div",{className:df.toastContainer,children:e&&v.jsx(Kq,{id:e.id,title:e.title,message:e.message,duration:e.duration,removeToast:r},e.id)})]})}function X4({showUserActions:t=!0,id:e}){const{galleryId:n}=ks(),i=e||n,r=on(),{addToast:s}=W4(),[l,d]=F.useState(null),[f,p]=F.useState(!1),[y,_]=F.useState(!1),[S,T]=F.useState("info"),[A,O]=F.useState(!1),k=async()=>{if(i)try{const Ie=await vt.get(`/api/galleries/${i}`),{data:et}=Ie;d(et),typeof et.is_liked=="boolean"&&p(et.is_liked)}catch(Ie){console.error("   :",Ie)}};if(F.useEffect(()=>{k()},[i]),F.useEffect(()=>{l&&typeof l.is_liked=="boolean"&&p(l.is_liked)},[l]),!l)return v.jsx("div",{children:" ..."});const L=async()=>{if(!localStorage.getItem("ACCESS_TOKEN")){r("/login");return}try{const Ie={liked_id:i,liked_type:"gallery"};if(f){await vt.delete("/api/likes",{data:Ie}),p(!1);return}else await vt.post("/api/likes",{liked_id:i,liked_type:"gallery"}),s({title:"   !",message:"      ."});await vt.post("/api/likes",Ie),p(!0),_(!0)}catch(Ie){console.error("  :",Ie)}},$=()=>{const Ie=l.gallery_name,et=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${Ie}`,text:`${Ie}   !`,url:et}).catch(Se=>console.error(" :",Se));else{const Se=document.createElement("textarea");Se.value=et,document.body.appendChild(Se),Se.select();try{document.execCommand("copy"),alert("  .")}catch(Ln){console.error("  :",Ln),alert("  .")}finally{document.body.removeChild(Se)}}},P={instagram:d9,twitter:f9,facebook:u9,youtube:h9,default:m9},{exhibitions:R=[],artworks:D=[],gallery_address:B="",gallery_category:z="",gallery_closed_day:G="",gallery_description:X="",gallery_end_time:se="",gallery_start_time:ae="",gallery_image:ue="",gallery_name:Oe="",gallery_eng_name:Te="",gallery_phone:ne="",gallery_email:Q="",gallery_homepage:le="",gallery_sns:fe=[],gallery_latitude:Be,gallery_longitude:Z}=l,be=[{label:"",content:ae&&se?`${ae.slice(0,5)} - ${se.slice(0,5)}`:" "},{label:"",content:G||" "},{label:"",content:ne||" "},{label:"",content:B||" "},{label:"",content:Q?v.jsx("a",{href:`mailto:${Q}`,children:Q}):" "},{label:"SNS",content:Array.isArray(fe)&&fe.length>0?v.jsx("div",{className:At.inlineSns,children:fe.map(({type:Ie,url:et})=>{const Se=P[Ie==null?void 0:Ie.toLowerCase()]||P.default;return v.jsx("a",{href:et||"#",target:"_blank",rel:"noopener noreferrer",className:At.snsLink,children:v.jsx(Se,{className:At.snsIcon})},`${Ie}-${et}`)})}):" "}],Re=[{key:"info",label:""},{key:"artworks",label:`(${D.length||0})`},{key:"exhibitions",label:`(${R.length||0})`}],Le=`gallery-${i}-map`;return console.log("lat:",Be,"lng:",Z),console.log("showMapModal:",A),v.jsxs("div",{className:At.layout,children:[t&&v.jsxs("div",{className:At.breadcrumb,children:[v.jsx("span",{className:At.breadcrumbBack,onClick:()=>r("/galleries"),children:""})," ","> ",Oe]}),v.jsxs("section",{className:At.titleSection,children:[v.jsx("h1",{className:At.galleryTitle,children:Oe}),v.jsx("p",{className:At.gallerySubTitle,children:Te||"Gallery"})]}),v.jsxs("div",{className:At.card,children:[v.jsx("img",{className:At.galleryImage,src:ue,alt:"  "}),t&&v.jsxs("div",{className:At.btnLayout,children:[v.jsxs("button",{className:At.likeButton,onClick:L,children:[v.jsx(y4,{className:f?At.likedIcon:At.icon}),""]}),v.jsxs("button",{className:At.likeButton,onClick:()=>O(!0),children:[v.jsx(g9,{className:At.icon}),""]}),v.jsxs("button",{className:At.likeButton,onClick:$,children:[v.jsx(x9,{className:At.icon}),""]})]}),v.jsx("div",{className:At.tagContainer,children:z&&z.split(",").map(Ie=>v.jsx("span",{className:At.tag,children:Ie.trim()},Ie))}),v.jsxs("section",{className:At.infoList,children:[be.map(({label:Ie,content:et})=>{const Se=!et||typeof et=="string"&&et.trim()===" ";return v.jsxs("div",{className:At.infoRow,children:[v.jsx("span",{className:At.infoLabel,children:Ie}),v.jsx("div",{className:`${At.infoContent} ${Se?At.emptyInfo:""}`,children:et})]},Ie)}),v.jsx("button",{disabled:!le,className:At.homepageButton,onClick:()=>window.open(le,"_blank"),children:le?"":"  "})]})]}),v.jsxs(O4,{tabs:Re,activeTab:S,setActiveTab:T,children:[S==="info"&&(X?v.jsx("div",{className:At.descriptionParagraph,dangerouslySetInnerHTML:{__html:X}}):v.jsx("p",{className:At.emptyContent,children:"   ."})),S==="artworks"&&(D.length>0?v.jsx(T2,{artworks:D}):v.jsx("p",{className:At.emptyContent,children:"  ."})),S==="exhibitions"&&(R.length>0?v.jsx(G4,{exhibitions:R}):v.jsx("p",{className:At.emptyContent,children:"  ."}))]}),t&&v.jsx("button",{className:At.backButton,onClick:()=>r("/galleries"),children:" "}),A&&v.jsx(Uq,{lat:Be,lng:Z,title:Oe,address:B,mapId:Le,onClose:()=>O(!1)}),y&&v.jsx(Vq,{onClose:()=>_(!1)})]})}const Qq="_layout_15hz5_1",Jq="_card_15hz5_17",eW="_profileCard_15hz5_43",tW="_infoCard_15hz5_57",nW="_tabCard_15hz5_59",iW="_exhibitionImage_15hz5_69",rW="_titleSection_15hz5_91",sW="_title_15hz5_91",aW="_actionButtonContainer_15hz5_115",oW="_actionButton_15hz5_115",lW="_actionIcon_15hz5_157",cW="_isClicked_15hz5_165",uW="_infoList_15hz5_175",dW="_infoRow_15hz5_187",fW="_infoLabel_15hz5_197",hW="_infoContent_15hz5_211",pW="_descriptionParagraph_15hz5_237",mW="_sectionTitle_15hz5_265",gW="_emptyContent_15hz5_277",xW="_backButton_15hz5_291",kn={layout:Qq,card:Jq,profileCard:eW,infoCard:tW,tabCard:nW,exhibitionImage:iW,titleSection:rW,title:sW,actionButtonContainer:aW,actionButton:oW,actionIcon:lW,isClicked:cW,infoList:uW,infoRow:dW,infoLabel:fW,infoContent:hW,descriptionParagraph:pW,sectionTitle:mW,emptyContent:gW,backButton:xW},yW="_relatedSection_1t574_1",vW="_list_1t574_17",bW="_card_1t574_31",wW="_imageWrapper_1t574_59",_W="_image_1t574_59",CW="_info_1t574_97",SW="_title_1t574_111",EW="_meta_1t574_123",AW="_date_1t574_133",TW="_locButton_1t574_143",NW="_emptyContent_1t574_163",$s={relatedSection:yW,list:vW,card:bW,imageWrapper:wW,image:_W,info:CW,title:SW,meta:EW,date:AW,locButton:TW,emptyContent:NW};function MW({exhibitions:t}){const e=on(),[n,i]=F.useState(!1),r=t.related_exhibitions;if(console.log(r),!r||r.length===0)return v.jsx("p",{className:$s.emptyContent,children:"  ."});const s=()=>{i(l=>!l),document.body.style.overflow="hidden"};return console.log(t),v.jsx("section",{className:$s.relatedSection,children:v.jsx("div",{className:$s.list,children:r.map(({id:l,title:d,poster:f,start_date:p,end_date:y,location:_})=>v.jsxs("div",{className:$s.card,onClick:()=>e(`/exhibitions/${l}`),children:[v.jsx("div",{className:$s.imageWrapper,children:v.jsx("img",{src:f,alt:d,className:$s.image})}),v.jsxs("div",{className:$s.info,children:[v.jsx("h4",{className:$s.title,children:d}),v.jsx("button",{className:$s.locButton,onClick:S=>{S.preventDefault(),S.stopPropagation(),s()},children:v.jsx(w4,{})}),v.jsxs("p",{className:$s.meta,children:[t.organization||""," | ",_||""]}),v.jsxs("p",{className:$s.date,children:[p," ~ ",y]})]})]},l))})})}function Y4({showUserActions:t=!0,id:e}){const{exhibitionId:n}=ks(),i=e||n,r=on(),[s,l]=F.useState(null),[d,f]=F.useState(!1),{addToast:p}=W4(),y=async()=>{try{const fe=await vt.get(`/api/exhibitions/${i}`);l(fe.data),console.log("",fe.data)}catch(fe){console.error("  :",fe)}},_=async()=>{if(localStorage.getItem("ACCESS_TOKEN"))try{const Z=((await vt.get("/api/users/me/likes")).data.like_exhibitions||[]).some(be=>be.id===Number(i));f(Z)}catch(fe){console.error("   :",fe)}};F.useEffect(()=>{i&&(y(),_())},[i]);const S=async()=>{if(!localStorage.getItem("ACCESS_TOKEN")){r("/login");return}try{d?await vt.delete("/api/likes",{data:{liked_id:i,liked_type:"exhibition"}}):(await vt.post("/api/likes",{liked_id:i,liked_type:"exhibition"}),p({title:"   !",message:"     ."})),f(!d),await y()}catch(fe){console.error(fe)}},T=()=>{const{exhibition_name:fe}=s,Be=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${fe}`,text:`${fe}   !`,url:Be}).catch(Z=>console.error(" :",Z));else{const Z=document.createElement("textarea");Z.value=Be,document.body.appendChild(Z),Z.focus(),Z.select();try{document.execCommand("copy"),alert("  .")}catch(be){console.error("  :",be),alert("  .")}document.body.removeChild(Z)}};if(!s)return v.jsx("div",{children:" ..."});const{exhibition_title:A,exhibition_poster:O,exhibition_start_date:k,exhibition_end_date:L,exhibition_start_time:$,exhibition_end_time:P,exhibition_location:R,exhibition_price:D,exhibition_organization:B,exhibition_closed_day:z,exhibition_description:G,related_exhibitions:X,artworks:se,exhibition_phone:ae,exhibition_category:ue,artists:Oe,is_liked:Te,gallery:ne}=s,Q=[{label:"",content:`${k} ~ ${L}`},{label:"",content:ne.gallery_name},{label:"",content:`${$} ~ ${P}`},{label:"",content:z},{label:"",content:`${D} ()`},{label:"",content:ae||" "},{label:"",content:R},{label:"",content:Array.isArray(Oe)?Oe.join(", "):" "}],le=[{label:"",icon:v.jsx(xm,{className:`${kn.actionIcon} ${Te&&kn.isClicked}`}),action:S},{label:"",icon:v.jsx(p9,{className:kn.actionIcon}),action:()=>r("/scan")},{label:"",icon:v.jsx(b2,{className:kn.actionIcon}),action:T}];return v.jsxs("div",{className:kn.layout,children:[v.jsxs("div",{className:`${kn.card} ${kn.profileCard}`,children:[v.jsx("img",{className:kn.exhibitionImage,src:O,alt:" "}),v.jsx("div",{className:kn.titleSection,children:v.jsx("h1",{className:kn.title,children:A})}),t&&v.jsx("div",{className:kn.actionButtonContainer,children:le.map(({label:fe,icon:Be,action:Z})=>v.jsxs("button",{className:kn.actionButton,onClick:Z,children:[Be,fe]},fe))})]}),v.jsx("div",{className:`${kn.card} ${kn.infoCard}`,children:v.jsx("section",{className:kn.infoList,children:Q.map(({label:fe,content:Be})=>v.jsxs("div",{className:kn.infoRow,children:[v.jsx("span",{className:kn.infoLabel,children:fe}),v.jsx("div",{className:kn.infoContent,children:Be})]},fe))})}),t&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:`${kn.card} ${kn.tabCard}`,children:[v.jsx("h3",{className:kn.sectionTitle,children:" "}),G?v.jsx("div",{className:kn.descriptionParagraph,dangerouslySetInnerHTML:{__html:G}}):v.jsx("p",{className:kn.emptyContent,children:"    ."}),v.jsx("h3",{className:kn.sectionTitle,children:" "}),v.jsx(MW,{exhibitions:s||[]})]}),v.jsx(En,{className:kn.backButton,to:"/exhibitions",children:" "})]})]})}const RW={galleries:{title:"",Component:X4,fetchUrl:t=>`/api/galleries/${t}`,tabs:["","QR","/"]},exhibitions:{title:"",Component:Y4,fetchUrl:t=>`/api/exhibitions/${t}`,tabs:["","QR","/"]},artworks:{title:"",Component:M4,fetchUrl:t=>`/api/arts/${t}`,tabs:["","QR",""]}};function Ep({type:t}){var k,L;const{id:e}=ks(),n=on(),[i,r]=F.useState(null),[s,l]=F.useState("info"),[d,f]=F.useState(!1),p=RW[t],{title:y,Component:_,fetchUrl:S,tabs:T}=p||{};F.useEffect(()=>{if(!S||!e)return;(async()=>{try{const P=await vt.get(S(e));r(P.data)}catch(P){console.error("  :",P)}})(),l("info")},[e,t]);const A=$=>{switch($){case"":n(`/console/${t}/edit/${e}`);break;case"QR":f(!0);break;default:n(`/console/leaflet/${e}`);break}},O=[{key:"info",label:""},{key:"artworks",label:`(${((k=i==null?void 0:i.artworks)==null?void 0:k.length)||0})`},{key:"exhibitions",label:`(${((L=i==null?void 0:i.exhibitions)==null?void 0:L.length)||0})`}];return i?v.jsxs("div",{className:Vs.layout,children:[v.jsxs("header",{className:Vs.header,children:[v.jsx("button",{className:Vs.backButton,onClick:()=>n("/console/main",{state:{activeTab:`${y}`}}),children:"<"}),v.jsx("h1",{className:Vs.title,children:y})]}),v.jsx("nav",{className:Vs.adminTabNav,children:T.map($=>v.jsx("button",{className:Vs.adminTabButton,onClick:()=>A($),children:$},$))}),v.jsxs("main",{className:Vs.content,children:[v.jsx(_,{showUserActions:!1,id:e}),t!=="artworks"&&t!=="galleries"&&v.jsxs(O4,{tabs:O,activeTab:s,setActiveTab:l,children:[s==="info"&&(i.gallery_description?v.jsx("div",{className:Vs.descriptionParagraph,dangerouslySetInnerHTML:{__html:i.gallery_description}}):v.jsx("p",{className:Vs.emptyContent,children:"   ."})),s==="artworks"&&v.jsxs(v.Fragment,{children:[v.jsx(T2,{artworks:i.artworks}),v.jsx("button",{className:Vs.addButton,children:"+  "})]}),s==="exhibitions"&&v.jsxs(v.Fragment,{children:[v.jsx(G4,{exhibitions:i.exhibitions}),v.jsx("button",{className:Vs.addButton,children:"+  "})]})]})]}),d&&v.jsx(LG,{data:i,onClose:()=>f(!1)})]}):v.jsx("div",{children:"  ..."})}const OW="_layout_meb6i_1",IW="_infoSection_meb6i_19",kW="_artistImage_meb6i_37",DW="_artistTitle_meb6i_53",BW="_subSpan_meb6i_65",LW="_icon_meb6i_75",jW="_icHeart_meb6i_85",PW="_buttonContainer_meb6i_93",FW="_subButton_meb6i_103",zW="_backButton_meb6i_117",Cs={layout:OW,infoSection:IW,artistImage:kW,artistTitle:DW,subSpan:BW,icon:LW,icHeart:jW,buttonContainer:PW,subButton:FW,backButton:zW},HW="_activitySection_9ev0z_1",UW="_activityTypeContainer_9ev0z_17",VW="_activedActivityTypeBox_9ev0z_25",$W="_activityTypeBox_9ev0z_27",GW="_artworkImage_9ev0z_55",qW="_activityItemList_9ev0z_65",WW="_activityImage_9ev0z_83",XW="_activityItemInfoBox_9ev0z_97",YW="_descriptionParagraph_9ev0z_105",KW="_activityItemTitle_9ev0z_115",ZW="_activityItemSpan_9ev0z_127",Fi={activitySection:HW,activityTypeContainer:UW,activedActivityTypeBox:VW,activityTypeBox:$W,artworkImage:GW,activityItemList:qW,activityImage:WW,activityItemInfoBox:XW,descriptionParagraph:YW,activityItemTitle:KW,activityItemSpan:ZW};function QW({description:t,artworks:e,exhibitions:n}){const[i,r]=F.useState("profile"),s=l=>{r(l)};return v.jsxs("section",{className:Fi.activitySection,children:[v.jsxs("div",{className:Fi.activityTypeContainer,children:[v.jsx("button",{className:i==="profile"?Fi.activedActivityTypeBox:Fi.activityTypeBox,onClick:()=>{s("profile")},children:""}),v.jsx("button",{className:i==="exhibitions"?Fi.activedActivityTypeBox:Fi.activityTypeBox,onClick:()=>{s("exhibitions")},children:""}),v.jsx("button",{className:i==="artworks"?Fi.activedActivityTypeBox:Fi.activityTypeBox,onClick:()=>{s("artworks")},children:""})]}),v.jsx("div",{className:Fi.activityItemList,children:i==="profile"?v.jsx("div",{children:v.jsx("p",{className:Fi.descriptionParagraph,children:t})}):i==="artworks"?e&&e.length===0?v.jsx("div",{children:"  "}):e==null?void 0:e.map(({id:l,imageUrl:d,title:f})=>v.jsxs("div",{className:Fi.activityItemContainer,children:[v.jsx("img",{className:Fi.artworkImage,src:d}),v.jsx("h3",{className:Fi.activityItemTitle,children:f})]},l)):n&&n.length===0?v.jsx("div",{children:"   "}):n==null?void 0:n.map(({id:l,exhibition_poster:d,exhibition_title:f,exhibition_start_date:p,exhibition_end_date:y})=>v.jsxs(En,{className:Fi.activityItemContainer,to:`/exhibitions/${l}`,children:[v.jsx("img",{className:Fi.activityImage,src:d,alt:" "}),v.jsxs("div",{className:Fi.activityItemInfoBox,children:[v.jsx("h3",{className:Fi.activityItemTitle,children:f}),v.jsxs("span",{className:Fi.activityItemSpan,children:["| ",p," ~ ",y]})]})]},l))})]})}function JW(){const{artistId:t}=ks(),[e,n]=F.useState([]),i=on(),r=async()=>{try{const d=await xi.get(`/api/artists/${t}`);n(d.data)}catch(d){throw new Error(d)}};F.useEffect(()=>{r()},[]);const s=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&i("/login");try{e.is_liked===!0?await vt.delete("/api/likes",{data:{liked_id:t,liked_type:"artist"}}):await vt.post("/api/likes",{liked_id:t,liked_type:"artist"}),await r()}catch(d){console.error(d)}},l=[{label:" ",icon:v.jsx(xm,{className:`${Cs.icon} ${e.is_liked===!0&&Cs.icHeart}`}),action:s},{label:"",icon:v.jsx(pD,{className:Cs.icon}),action:()=>{alert("  .")}},{label:"",icon:v.jsx(b2,{className:Cs.icon}),action:()=>{alert("  .")}}];return v.jsxs("div",{className:Cs.layout,children:[v.jsxs("section",{className:Cs.infoSection,children:[v.jsx("img",{className:Cs.artistImage,src:e.artist_image,alt:"  "}),v.jsx("h3",{className:Cs.artistTitle,children:e.artist_name}),v.jsxs("span",{className:Cs.subSpan,children:[e.artist_nation," | ",e.artist_category]})]}),v.jsx("div",{className:Cs.buttonContainer,children:l.map(({label:d,icon:f,action:p})=>v.jsxs("button",{className:Cs.subButton,onClick:p,children:[f,v.jsx("span",{children:d})]},d))}),v.jsx(QW,{description:e.artist_description,artworks:e==null?void 0:e.artworks,exhibitions:e==null?void 0:e.exhibitions}),v.jsx(En,{className:Cs.backButton,to:"/artists",children:" "})]})}const eX="_layout_1u2kc_1",tX="_loginTitle_1u2kc_19",nX="_subParagraph_1u2kc_31",iX="_contentContainer_1u2kc_41",rX="_submitButton_1u2kc_61",sX="_loginForm_1u2kc_111",Tu={layout:eX,loginTitle:tX,subParagraph:nX,contentContainer:iX,submitButton:rX,loginForm:sX},aX="_layout_2bvox_1",oX="_navigateLink_2bvox_19",lX="_termParagraph_2bvox_59",cX="_termLink_2bvox_77",uX="_registerButton_2bvox_85",rf={layout:aX,navigateLink:oX,termParagraph:lX,termLink:cX,registerButton:uX};function dX(){return v.jsxs("section",{className:rf.layout,children:[v.jsx(En,{className:rf.navigateLink,to:"/find",children:" /  "}),v.jsxs("p",{className:rf.termParagraph,children:["    ,",v.jsx("br",{})," "," ",v.jsx(En,{className:rf.termLink,children:"  "}),"",v.jsx("br",{}),"  ."]}),v.jsx(En,{className:rf.registerButton,to:"/register",children:" "})]})}function fX(){var d;const{data:t,handleChange:e}=u1({login_id:"",login_pwd:""}),n=on(),r=(d=Ii().state)==null?void 0:d.from,{login:s}=F.useContext(Wf),l=async()=>{try{const f=await xi.post("/api/auth/login",t);s(f.data.data,f.data.jwt),console.log(f.data),n(r==="/register"?"/":-2)}catch(f){console.log(f),f.status===401?alert("   "):alert("  .    .")}};return v.jsxs("div",{className:Tu.layout,children:[v.jsx("h1",{className:Tu.loginTitle,children:""}),v.jsx("p",{className:Tu.subParagraph,children:"  "}),v.jsxs("div",{className:Tu.contentContainer,children:[v.jsxs("form",{className:Tu.loginForm,action:l,children:[v.jsx(_a,{placeholder:"ID (6 ~ 20 , )",name:"login_id",onChange:e,value:t.login_id}),v.jsx(_a,{placeholder:"Password (8 ~ 16 ++)",name:"login_pwd",onChange:e,value:t.login_pwd}),v.jsx("button",{className:Tu.submitButton,children:" "})]}),v.jsx(dX,{})]})]})}const hX="_layout_74o0f_1",pX="_logo_74o0f_17",mX="_loginParagraph_74o0f_41",gX="_loginButton_74o0f_61",xX="_registerLink_74o0f_99",sf={layout:hX,logo:pX,loginParagraph:mX,loginButton:gX,registerLink:xX},yX="/assets/kakaobutton-Cwa8W2QI.svg";function vX(){const t=on(),e=()=>{t("/login-detail")};return v.jsxs("div",{className:sf.layout,children:[v.jsx("h1",{className:sf.logo,children:"ARTLY"}),v.jsx("p",{className:sf.loginParagraph,children:"  "}),v.jsx("button",{children:v.jsx("img",{src:yX})}),v.jsx("button",{className:sf.loginButton,onClick:e,children:"  "}),v.jsx(En,{className:sf.registerLink,to:"/register",children:" "})]})}const bX="_layout_1el1w_1",wX="_header_1el1w_15",_X="_title_1el1w_41",CX="_backButton_1el1w_51",SX="_formContainer_1el1w_69",EX="_bottomButtonContainer_1el1w_83",AX="_button_1el1w_105",TX="_cancelButton_1el1w_125",NX="_saveButton_1el1w_135",ga={layout:bX,header:wX,title:_X,backButton:CX,formContainer:SX,bottomButtonContainer:EX,button:AX,cancelButton:TX,saveButton:NX},MX="_card_1408r_1",RX="_input_1408r_17",OX="_tagInputField_1408r_19",IX="_timeInput_1408r_21",kX="_galleryNameInput_1408r_53",DX="_gallerySubNameInput_1408r_69",BX="_imageUploadBox_1408r_93",LX="_previewImage_1408r_121",jX="_previewImageDesc_1408r_133",PX="_inputGroup_1408r_141",FX="_label_1408r_155",zX="_tagInputContainer_1408r_167",HX="_tagItem_1408r_187",UX="_removeTagBtn_1408r_207",VX="_timeInputContainer_1408r_247",$X="_checkboxGroup_1408r_267",GX="_snsCard_1408r_291",qX="_snsInputGroup_1408r_299",WX="_tiptap_1408r_313",XX="_emptyContent_1408r_331",YX="_artistSelectRow_1408r_373",KX="_selectButton_1408r_385",ZX="_textarea_1408r_453",Ce={card:MX,input:RX,tagInputField:OX,timeInput:IX,galleryNameInput:kX,gallerySubNameInput:DX,imageUploadBox:BX,previewImage:LX,previewImageDesc:jX,inputGroup:PX,label:FX,tagInputContainer:zX,tagItem:HX,removeTagBtn:UX,timeInputContainer:VX,checkboxGroup:$X,snsCard:GX,snsInputGroup:qX,tiptap:WX,emptyContent:XX,artistSelectRow:YX,selectButton:KX,textarea:ZX};var Ex={exports:{}},Ax={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3;function QX(){if(a3)return Ax;a3=1;var t=Mc();function e(_,S){return _===S&&(_!==0||1/_===1/S)||_!==_&&S!==S}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function d(_,S){var T=S(),A=i({inst:{value:T,getSnapshot:S}}),O=A[0].inst,k=A[1];return s(function(){O.value=T,O.getSnapshot=S,f(O)&&k({inst:O})},[_,T,S]),r(function(){return f(O)&&k({inst:O}),_(function(){f(O)&&k({inst:O})})},[_]),l(T),T}function f(_){var S=_.getSnapshot;_=_.value;try{var T=S();return!n(_,T)}catch{return!0}}function p(_,S){return S()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return Ax.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Ax}var o3;function K4(){return o3||(o3=1,Ex.exports=QX()),Ex.exports}var Z4=K4();function Ki(t){this.content=t}Ki.prototype={constructor:Ki,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,r=i.find(t),s=i.content.slice();return r==-1?s.push(n||t,e):(s[r+1]=e,n&&(s[r]=n)),new Ki(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ki(n)},addToStart:function(t,e){return new Ki([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ki(n)},addBefore:function(t,e,n){var i=this.remove(e),r=i.content.slice(),s=i.find(t);return r.splice(s==-1?r.length:s,0,e,n),new Ki(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ki.from(t),t.size?new Ki(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ki.from(t),t.size?new Ki(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ki.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ki.from=function(t){if(t instanceof Ki)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ki(e)};function Q4(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(i),s=e.child(i);if(r==s){n+=r.nodeSize;continue}if(!r.sameMarkup(s))return n;if(r.isText&&r.text!=s.text){for(let l=0;r.text[l]==s.text[l];l++)n++;return n}if(r.content.size||s.content.size){let l=Q4(r.content,s.content,n+1);if(l!=null)return l}n+=r.nodeSize}}function J4(t,e,n,i){for(let r=t.childCount,s=e.childCount;;){if(r==0||s==0)return r==s?null:{a:n,b:i};let l=t.child(--r),d=e.child(--s),f=l.nodeSize;if(l==d){n-=f,i-=f;continue}if(!l.sameMarkup(d))return{a:n,b:i};if(l.isText&&l.text!=d.text){let p=0,y=Math.min(l.text.length,d.text.length);for(;p<y&&l.text[l.text.length-p-1]==d.text[d.text.length-p-1];)p++,n--,i--;return{a:n,b:i}}if(l.content.size||d.content.size){let p=J4(l.content,d.content,n-1,i-1);if(p)return p}n-=f,i-=f}}class Pe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,r=0,s){for(let l=0,d=0;d<n;l++){let f=this.content[l],p=d+f.nodeSize;if(p>e&&i(f,r+d,s||null,l)!==!1&&f.content.size){let y=d+1;f.nodesBetween(Math.max(0,e-y),Math.min(f.content.size,n-y),i,r+y)}d=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,r){let s="",l=!0;return this.nodesBetween(e,n,(d,f)=>{let p=d.isText?d.text.slice(Math.max(e,f)-f,n-f):d.isLeaf?r?typeof r=="function"?r(d):r:d.type.spec.leafText?d.type.spec.leafText(d):"":"";d.isBlock&&(d.isLeaf&&p||d.isTextblock)&&i&&(l?l=!1:s+=i),s+=p},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,r=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(i)&&(r[r.length-1]=n.withText(n.text+i.text),s=1);s<e.content.length;s++)r.push(e.content[s]);return new Pe(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],r=0;if(n>e)for(let s=0,l=0;l<n;s++){let d=this.content[s],f=l+d.nodeSize;f>e&&((l<e||f>n)&&(d.isText?d=d.cut(Math.max(0,e-l),Math.min(d.text.length,n-l)):d=d.cut(Math.max(0,e-l-1),Math.min(d.content.size,n-l-1))),i.push(d),r+=d.nodeSize),l=f}return new Pe(i,r)}cutByIndex(e,n){return e==n?Pe.empty:e==0&&n==this.content.length?this:new Pe(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let r=this.content.slice(),s=this.size+n.nodeSize-i.nodeSize;return r[e]=n,new Pe(r,s)}addToStart(e){return new Pe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Pe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let r=this.content[n];e(r,i,n),i+=r.nodeSize}}findDiffStart(e,n=0){return Q4(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return J4(this,e,n,i)}findIndex(e){if(e==0)return Ap(0,e);if(e==this.size)return Ap(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let r=this.child(n),s=i+r.nodeSize;if(s>=e)return s==e?Ap(n+1,s):Ap(n,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Pe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Pe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Pe.empty;let n,i=0;for(let r=0;r<e.length;r++){let s=e[r];i+=s.nodeSize,r&&s.isText&&e[r-1].sameMarkup(s)?(n||(n=e.slice(0,r)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Pe(n||e,i)}static from(e){if(!e)return Pe.empty;if(e instanceof Pe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Pe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Pe.empty=new Pe([],0);const Tx={index:0,offset:0};function Ap(t,e){return Tx.index=t,Tx.offset=e,Tx}function g1(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!g1(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!g1(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let Nn=class wy{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let r=0;r<e.length;r++){let s=e[r];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,r));else{if(s.type.excludes(this.type))return e;!i&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),i=!0),n&&n.push(s)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&g1(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=i.create(n.attrs);return i.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return wy.none;if(e instanceof wy)return[e];let n=e.slice();return n.sort((i,r)=>i.type.rank-r.type.rank),n}};Nn.none=[];class x1 extends Error{}class We{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=tA(this.content,e+this.openStart,n);return i&&new We(i,this.openStart,this.openEnd)}removeBetween(e,n){return new We(eA(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return We.empty;let i=n.openStart||0,r=n.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new We(Pe.fromJSON(e,n.content),i,r)}static maxOpen(e,n=!0){let i=0,r=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)i++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)r++;return new We(e,i,r)}}We.empty=new We(Pe.empty,0,0);function eA(t,e,n){let{index:i,offset:r}=t.findIndex(e),s=t.maybeChild(i),{index:l,offset:d}=t.findIndex(n);if(r==e||s.isText){if(d!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(eA(s.content,e-r-1,n-r-1)))}function tA(t,e,n,i){let{index:r,offset:s}=t.findIndex(e),l=t.maybeChild(r);if(s==e||l.isText)return i&&!i.canReplace(r,r,n)?null:t.cut(0,e).append(n).append(t.cut(e));let d=tA(l.content,e-s-1,n,l);return d&&t.replaceChild(r,l.copy(d))}function JX(t,e,n){if(n.openStart>t.depth)throw new x1("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new x1("Inconsistent open depths");return nA(t,e,n,0)}function nA(t,e,n,i){let r=t.index(i),s=t.node(i);if(r==e.index(i)&&i<t.depth-n.openStart){let l=nA(t,e,n,i+1);return s.copy(s.content.replaceChild(r,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let l=t.parent,d=l.content;return yc(l,d.cut(0,t.parentOffset).append(n.content).append(d.cut(e.parentOffset)))}else{let{start:l,end:d}=eY(n,t);return yc(s,rA(t,l,d,e,i))}else return yc(s,y1(t,e,i))}function iA(t,e){if(!e.type.compatibleContent(t.type))throw new x1("Cannot join "+e.type.name+" onto "+t.type.name)}function _y(t,e,n){let i=t.node(n);return iA(i,e.node(n)),i}function xc(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function yf(t,e,n,i){let r=(e||t).node(n),s=0,l=e?e.index(n):r.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(xc(t.nodeAfter,i),s++));for(let d=s;d<l;d++)xc(r.child(d),i);e&&e.depth==n&&e.textOffset&&xc(e.nodeBefore,i)}function yc(t,e){return t.type.checkContent(e),t.copy(e)}function rA(t,e,n,i,r){let s=t.depth>r&&_y(t,e,r+1),l=i.depth>r&&_y(n,i,r+1),d=[];return yf(null,t,r,d),s&&l&&e.index(r)==n.index(r)?(iA(s,l),xc(yc(s,rA(t,e,n,i,r+1)),d)):(s&&xc(yc(s,y1(t,e,r+1)),d),yf(e,n,r,d),l&&xc(yc(l,y1(n,i,r+1)),d)),yf(i,null,r,d),new Pe(d)}function y1(t,e,n){let i=[];if(yf(null,t,n,i),t.depth>n){let r=_y(t,e,n+1);xc(yc(r,y1(t,e,n+1)),i)}return yf(e,null,n,i),new Pe(i)}function eY(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)r=e.node(s).copy(Pe.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class Mf{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=e.child(n);return i?e.child(n).cut(i):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)r+=i.child(s).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Nn.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),r=e.maybeChild(n);if(!i){let d=i;i=r,r=d}let s=i.marks;for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!r||!s[l].isInSet(r.marks))&&(s=s[l--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,r=e.parent.maybeChild(e.index());for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!r||!i[s].isInSet(r.marks))&&(i=i[s--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new v1(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],r=0,s=n;for(let l=e;;){let{index:d,offset:f}=l.content.findIndex(s),p=s-f;if(i.push(l,d,r+f),!p||(l=l.child(d),l.isText))break;s=p-1,r+=f+1}return new Mf(n,i,s)}static resolveCached(e,n){let i=l3.get(e);if(i)for(let s=0;s<i.elts.length;s++){let l=i.elts[s];if(l.pos==n)return l}else l3.set(e,i=new tY);let r=i.elts[i.i]=Mf.resolve(e,n);return i.i=(i.i+1)%nY,r}}class tY{constructor(){this.elts=[],this.i=0}}const nY=12,l3=new WeakMap;class v1{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const iY=Object.create(null);class Ws{constructor(e,n,i,r=Nn.none){this.type=e,this.attrs=n,this.marks=r,this.content=i||Pe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,r=0){this.content.nodesBetween(e,n,i,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,r){return this.content.textBetween(e,n,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&g1(this.attrs,n||e.defaultAttrs||iY)&&Nn.sameSet(this.marks,i||Nn.none)}copy(e=null){return e==this.content?this:new Ws(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ws(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return We.empty;let r=this.resolve(e),s=this.resolve(n),l=i?0:r.sharedDepth(n),d=r.start(l),p=r.node(l).content.cut(r.pos-d,s.pos-d);return new We(p,r.depth-l,s.depth-l)}replace(e,n,i){return JX(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let r=this.content.child(n-1);return{node:r,index:n-1,offset:i-r.nodeSize}}resolve(e){return Mf.resolveCached(this,e)}resolveNoCache(e){return Mf.resolve(this,e)}rangeHasMark(e,n,i){let r=!1;return n>e&&this.nodesBetween(e,n,s=>(i.isInSet(s.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),sA(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=Pe.empty,r=0,s=i.childCount){let l=this.contentMatchAt(e).matchFragment(i,r,s),d=l&&l.matchFragment(this.content,n);if(!d||!d.validEnd)return!1;for(let f=r;f<s;f++)if(!this.type.allowsMarks(i.child(f).marks))return!1;return!0}canReplaceWith(e,n,i,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(e).matchType(i),l=s&&s.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Nn.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!Nn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let r=Pe.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,r,i);return s.type.checkAttrs(s.attrs),s}}Ws.prototype.text=void 0;class b1 extends Ws{constructor(e,n,i,r){if(super(e,n,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):sA(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new b1(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new b1(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function sA(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Sc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new rY(e,n);if(i.next==null)return Sc.empty;let r=aA(i);i.next&&i.err("Unexpected trailing text");let s=dY(uY(r));return fY(s,i),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let r=this;for(let s=n;r&&s<i;s++)r=r.matchType(e.child(s).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let r=[this];function s(l,d){let f=l.matchFragment(e,i);if(f&&(!n||f.validEnd))return Pe.from(d.map(p=>p.createAndFill()));for(let p=0;p<l.next.length;p++){let{type:y,next:_}=l.next[p];if(!(y.isText||y.hasRequiredAttrs())&&r.indexOf(_)==-1){r.push(_);let S=s(_,d.concat(y));if(S)return S}}return null}return s(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),s=r.match;if(s.matchType(e)){let l=[];for(let d=r;d.type;d=d.via)l.push(d.type);return l.reverse()}for(let l=0;l<s.next.length;l++){let{type:d,next:f}=s.next[l];!d.isLeaf&&!d.hasRequiredAttrs()&&!(d.name in n)&&(!r.type||f.validEnd)&&(i.push({match:d.contentMatch,type:d,via:r}),n[d.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let r=0;r<i.next.length;r++)e.indexOf(i.next[r].next)==-1&&n(i.next[r].next)}return n(this),e.map((i,r)=>{let s=r+(i.validEnd?"*":" ")+" ";for(let l=0;l<i.next.length;l++)s+=(l?", ":"")+i.next[l].type.name+"->"+e.indexOf(i.next[l].next);return s}).join(`
`)}}Sc.empty=new Sc(!0);class rY{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function aA(t){let e=[];do e.push(sY(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function sY(t){let e=[];do e.push(aY(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function aY(t){let e=cY(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=oY(t,e);else break;return e}function c3(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function oY(t,e){let n=c3(t),i=n;return t.eat(",")&&(t.next!="}"?i=c3(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function lY(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let r=[];for(let s in n){let l=n[s];l.isInGroup(e)&&r.push(l)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function cY(t){if(t.eat("(")){let e=aA(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=lY(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function uY(t){let e=[[]];return r(s(t,0),n()),e;function n(){return e.push([])-1}function i(l,d,f){let p={term:f,to:d};return e[l].push(p),p}function r(l,d){l.forEach(f=>f.to=d)}function s(l,d){if(l.type=="choice")return l.exprs.reduce((f,p)=>f.concat(s(p,d)),[]);if(l.type=="seq")for(let f=0;;f++){let p=s(l.exprs[f],d);if(f==l.exprs.length-1)return p;r(p,d=n())}else if(l.type=="star"){let f=n();return i(d,f),r(s(l.expr,f),f),[i(f)]}else if(l.type=="plus"){let f=n();return r(s(l.expr,d),f),r(s(l.expr,f),f),[i(f)]}else{if(l.type=="opt")return[i(d)].concat(s(l.expr,d));if(l.type=="range"){let f=d;for(let p=0;p<l.min;p++){let y=n();r(s(l.expr,f),y),f=y}if(l.max==-1)r(s(l.expr,f),f);else for(let p=l.min;p<l.max;p++){let y=n();i(f,y),r(s(l.expr,f),y),f=y}return[i(f)]}else{if(l.type=="name")return[i(d,void 0,l.value)];throw new Error("Unknown expr type")}}}}function oA(t,e){return e-t}function u3(t,e){let n=[];return i(e),n.sort(oA);function i(r){let s=t[r];if(s.length==1&&!s[0].term)return i(s[0].to);n.push(r);for(let l=0;l<s.length;l++){let{term:d,to:f}=s[l];!d&&n.indexOf(f)==-1&&i(f)}}}function dY(t){let e=Object.create(null);return n(u3(t,0));function n(i){let r=[];i.forEach(l=>{t[l].forEach(({term:d,to:f})=>{if(!d)return;let p;for(let y=0;y<r.length;y++)r[y][0]==d&&(p=r[y][1]);u3(t,f).forEach(y=>{p||r.push([d,p=[]]),p.indexOf(y)==-1&&p.push(y)})})});let s=e[i.join(",")]=new Sc(i.indexOf(t.length-1)>-1);for(let l=0;l<r.length;l++){let d=r[l][1].sort(oA);s.next.push({type:r[l][0],next:e[d.join(",")]||n(d)})}return s}}function fY(t,e){for(let n=0,i=[t];n<i.length;n++){let r=i[n],s=!r.validEnd,l=[];for(let d=0;d<r.next.length;d++){let{type:f,next:p}=r.next[d];l.push(f.name),s&&!(f.isText||f.hasRequiredAttrs())&&(s=!1),i.indexOf(p)==-1&&i.push(p)}s&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function lA(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function cA(t,e){let n=Object.create(null);for(let i in t){let r=e&&e[i];if(r===void 0){let s=t[i];if(s.hasDefault)r=s.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=r}return n}function uA(t,e,n,i){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let s=t[r];s.validate&&s.validate(e[r])}}function dA(t,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new pY(t,i,e[i]);return n}let d3=class fA{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=dA(e,i.attrs),this.defaultAttrs=lA(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Sc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:cA(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ws(this,this.computeAttrs(e),Pe.from(n),Nn.setFrom(i))}createChecked(e=null,n,i){return n=Pe.from(n),this.checkContent(n),new Ws(this,this.computeAttrs(e),n,Nn.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=Pe.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let r=this.contentMatch.matchFragment(n),s=r&&r.fillBefore(Pe.empty,!0);return s?new Ws(this,e,n.append(s),Nn.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){uA(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:Nn.none:e}static compile(e,n){let i=Object.create(null);e.forEach((s,l)=>i[s]=new fA(s,n,l));let r=n.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let s in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function hY(t,e,n){let i=n.split("|");return r=>{let s=r===null?"null":typeof r;if(i.indexOf(s)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${s}`)}}class pY{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?hY(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class wm{constructor(e,n,i,r){this.name=e,this.rank=n,this.schema=i,this.spec=r,this.attrs=dA(e,r.attrs),this.excluded=null;let s=lA(this.attrs);this.instance=s?new Nn(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Nn(this,cA(this.attrs,e))}static compile(e,n){let i=Object.create(null),r=0;return e.forEach((s,l)=>i[s]=new wm(s,r++,n,l)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){uA(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class hA{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=Ki.from(e.nodes),n.marks=Ki.from(e.marks||{}),this.nodes=d3.compile(this.spec.nodes,this),this.marks=wm.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],l=s.spec.content||"",d=s.spec.marks;if(s.contentMatch=i[l]||(i[l]=Sc.parse(l,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=d=="_"?null:d?f3(this,d.split(" ")):d==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],l=s.spec.excludes;s.excluded=l==null?[s]:l==""?[]:f3(this,l.split(" "))}this.nodeFromJSON=r=>Ws.fromJSON(this,r),this.markFromJSON=r=>Nn.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof d3){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,r)}text(e,n){let i=this.nodes.text;return new b1(i,i.defaultAttrs,e,Nn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function f3(t,e){let n=[];for(let i=0;i<e.length;i++){let r=e[i],s=t.marks[r],l=s;if(s)n.push(s);else for(let d in t.marks){let f=t.marks[d];(r=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(r)>-1)&&n.push(l=f)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function mY(t){return t.tag!=null}function gY(t){return t.style!=null}class yl{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(r=>{if(mY(r))this.tags.push(r);else if(gY(r)){let s=/[^=]*/.exec(r.style)[0];i.indexOf(s)<0&&i.push(s),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let i=new p3(this,n,!1);return i.addAll(e,Nn.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new p3(this,n,!0);return i.addAll(e,Nn.none,n.from,n.to),We.maxOpen(i.finish())}matchTag(e,n,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let s=this.tags[r];if(vY(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}matchStyle(e,n,i,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let l=this.styles[s],d=l.style;if(!(d.indexOf(e)!=0||l.context&&!i.matchesContext(l.context)||d.length>e.length&&(d.charCodeAt(e.length)!=61||d.slice(e.length+1)!=n))){if(l.getAttrs){let f=l.getAttrs(n);if(f===!1)continue;l.attrs=f||void 0}return l}}}static schemaRules(e){let n=[];function i(r){let s=r.priority==null?50:r.priority,l=0;for(;l<n.length;l++){let d=n[l];if((d.priority==null?50:d.priority)<s)break}n.splice(l,0,r)}for(let r in e.marks){let s=e.marks[r].spec.parseDOM;s&&s.forEach(l=>{i(l=m3(l)),l.mark||l.ignore||l.clearMark||(l.mark=r)})}for(let r in e.nodes){let s=e.nodes[r].spec.parseDOM;s&&s.forEach(l=>{i(l=m3(l)),l.node||l.ignore||l.mark||(l.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new yl(e,yl.schemaRules(e)))}}const pA={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},xY={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},mA={ol:!0,ul:!0},Rf=1,Cy=2,qp=4;function h3(t,e,n){return e!=null?(e?Rf:0)|(e==="full"?Cy:0):t&&t.whitespace=="pre"?Rf|Cy:n&-5}class Tp{constructor(e,n,i,r,s,l){this.type=e,this.attrs=n,this.marks=i,this.solid=r,this.options=l,this.content=[],this.activeMarks=Nn.none,this.match=s||(l&qp?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Pe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(e.type))?(this.match=i,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Rf)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let s=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-r[0].length))}}let n=Pe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Pe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!pA.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class p3{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let r=n.topNode,s,l=h3(null,n.preserveWhitespace,0)|(i?qp:0);r?s=new Tp(r.type,r.attrs,Nn.none,!0,n.topMatch||r.type.contentMatch,l):i?s=new Tp(null,null,Nn.none,!0,null,l):s=new Tp(e.schema.topNodeType,null,Nn.none,!0,null,l),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,r=this.top,s=r.options&Cy?"full":this.localPreserveWS||(r.options&Rf)>0;if(s==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(s)s!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let l=r.content[r.content.length-1],d=e.previousSibling;(!l||d&&d.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let r=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),d;mA.hasOwnProperty(l)&&this.parser.normalizeLists&&yY(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(d=this.parser.matchTag(e,this,i));e:if(f?f.ignore:xY.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let p,y=this.needsBlock;if(pA.hasOwnProperty(l))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),p=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let _=f&&f.skip?n:this.readStyles(e,n);_&&this.addAll(e,_),p&&this.sync(s),this.needsBlock=y}else{let p=this.readStyles(e,n);p&&this.addElementByRule(e,f,p,f.consuming===!1?d:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let s=this.parser.matchedStyles[r],l=i.getPropertyValue(s);if(l)for(let d=void 0;;){let f=this.parser.matchStyle(s,l,this,d);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(p=>!f.clearMark(p)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)d=f;else break}}return n}addElementByRule(e,n,i,r){let s,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let f=this.enter(l,n.attrs||null,i,n.preserveWhitespace);f&&(s=!0,i=f)}else{let f=this.parser.schema.marks[n.mark];i=i.concat(f.create(n.attrs))}let d=this.top;if(l&&l.isLeaf)this.findInside(e);else if(r)this.addElement(e,i,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,i,!1));else{let f=e;typeof n.contentElement=="string"?f=e.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(e):n.contentElement&&(f=n.contentElement),this.findAround(e,f,!0),this.addAll(f,i),this.findAround(e,f,!1)}s&&this.sync(d)&&this.open--}addAll(e,n,i,r){let s=i||0;for(let l=i?e.childNodes[i]:e.firstChild,d=r==null?null:e.childNodes[r];l!=d;l=l.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(l,n);this.findAtPoint(e,s)}findPlace(e,n,i){let r,s;for(let l=this.open,d=0;l>=0;l--){let f=this.nodes[l],p=f.findWrapping(e);if(p&&(!r||r.length>p.length+d)&&(r=p,s=f,!p.length))break;if(f.solid){if(i)break;d+=2}}if(!r)return null;this.sync(s);for(let l=0;l<r.length;l++)n=this.enterInner(r[l],null,n,!1);return n}insertNode(e,n,i){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let r=this.findPlace(e,n,i);if(r){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let l=Nn.none;for(let d of r.concat(e.marks))(s.type?s.type.allowsMarkType(d.type):g3(d.type,e.type))&&(l=d.addToSet(l));return s.content.push(e.mark(l)),!0}return!1}enter(e,n,i,r){let s=this.findPlace(e.create(n),i,!1);return s&&(s=this.enterInner(e,n,i,!0,r)),s}enterInner(e,n,i,r=!1,s){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let d=h3(e,s,l.options);l.options&qp&&l.content.length==0&&(d|=qp);let f=Nn.none;return i=i.filter(p=>(l.type?l.type.allowsMarkType(p.type):g3(p.type,e))?(f=p.addToSet(f),!1):!0),this.nodes.push(new Tp(e,n,f,r,null,d)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Rf)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let r=i.length-1;r>=0;r--)e+=i[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),s=-(i?i.depth+1:0)+(r?0:1),l=(d,f)=>{for(;d>=0;d--){let p=n[d];if(p==""){if(d==n.length-1||d==0)continue;for(;f>=s;f--)if(l(d-1,f))return!0;return!1}else{let y=f>0||f==0&&r?this.nodes[f].type:i&&f>=s?i.node(f-s).type:null;if(!y||y.name!=p&&!y.isInGroup(p))return!1;f--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function yY(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&mA.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function vY(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function m3(t){let e={};for(let n in t)e[n]=t[n];return e}function g3(t,e){let n=e.schema.nodes;for(let i in n){let r=n[i];if(!r.allowsMarkType(t))continue;let s=[],l=d=>{s.push(d);for(let f=0;f<d.edgeCount;f++){let{type:p,next:y}=d.edge(f);if(p==e||s.indexOf(y)<0&&l(y))return!0}};if(l(r.contentMatch))return!0}}class Ic{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=Nx(n).createDocumentFragment());let r=i,s=[];return e.forEach(l=>{if(s.length||l.marks.length){let d=0,f=0;for(;d<s.length&&f<l.marks.length;){let p=l.marks[f];if(!this.marks[p.type.name]){f++;continue}if(!p.eq(s[d][0])||p.type.spec.spanning===!1)break;d++,f++}for(;d<s.length;)r=s.pop()[1];for(;f<l.marks.length;){let p=l.marks[f++],y=this.serializeMark(p,l.isInline,n);y&&(s.push([p,r]),r.appendChild(y.dom),r=y.contentDOM||y.dom)}}r.appendChild(this.serializeNodeInner(l,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:r}=Wp(Nx(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let s=this.serializeMark(e.marks[r],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(i),i=s.dom)}return i}serializeMark(e,n,i={}){let r=this.marks[e.type.name];return r&&Wp(Nx(i),r(e,n),null,e.attrs)}static renderSpec(e,n,i=null,r){return Wp(e,n,i,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ic(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=x3(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return x3(e.marks)}}function x3(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function Nx(t){return t.document||window.document}const y3=new WeakMap;function bY(t){let e=y3.get(t);return e===void 0&&y3.set(t,e=wY(t)),e}function wY(t){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let r=0;r<i.length;r++)n(i[r]);else for(let r in i)n(i[r])}return n(t),e}function Wp(t,e,n,i){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],s;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(s=bY(i))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=r.indexOf(" ");l>0&&(n=r.slice(0,l),r=r.slice(l+1));let d,f=n?t.createElementNS(n,r):t.createElement(r),p=e[1],y=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){y=2;for(let _ in p)if(p[_]!=null){let S=_.indexOf(" ");S>0?f.setAttributeNS(_.slice(0,S),_.slice(S+1),p[_]):_=="style"&&f.style?f.style.cssText=p[_]:f.setAttribute(_,p[_])}}for(let _=y;_<e.length;_++){let S=e[_];if(S===0){if(_<e.length-1||_>y)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:T,contentDOM:A}=Wp(t,S,n,i);if(f.appendChild(T),A){if(d)throw new RangeError("Multiple content holes");d=A}}}return{dom:f,contentDOM:d}}const gA=65535,xA=Math.pow(2,16);function _Y(t,e){return t+e*xA}function v3(t){return t&gA}function CY(t){return(t-(t&gA))/xA}const yA=1,vA=2,Xp=4,bA=8;class Sy{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&bA)>0}get deletedBefore(){return(this.delInfo&(yA|Xp))>0}get deletedAfter(){return(this.delInfo&(vA|Xp))>0}get deletedAcross(){return(this.delInfo&Xp)>0}}class as{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&as.empty)return as.empty}recover(e){let n=0,i=v3(e);if(!this.inverted)for(let r=0;r<i;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+n+CY(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let r=0,s=this.inverted?2:1,l=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let f=this.ranges[d]-(this.inverted?r:0);if(f>e)break;let p=this.ranges[d+s],y=this.ranges[d+l],_=f+p;if(e<=_){let S=p?e==f?-1:e==_?1:n:n,T=f+r+(S<0?0:y);if(i)return T;let A=e==(n<0?f:_)?null:_Y(d/3,e-f),O=e==f?vA:e==_?yA:Xp;return(n<0?e!=f:e!=_)&&(O|=bA),new Sy(T,O,A)}r+=y-p}return i?e+r:new Sy(e+r,0,null)}touches(e,n){let i=0,r=v3(n),s=this.inverted?2:1,l=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let f=this.ranges[d]-(this.inverted?i:0);if(f>e)break;let p=this.ranges[d+s],y=f+p;if(e<=y&&d==r*3)return!0;i+=this.ranges[d+l]-p}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let l=this.ranges[r],d=l-(this.inverted?s:0),f=l+(this.inverted?0:s),p=this.ranges[r+n],y=this.ranges[r+i];e(d,d+p,f,f+y),s+=y-p}}invert(){return new as(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?as.empty:new as(e<0?[0,-e,0]:[0,0,e])}}as.empty=new as([]);class Of{constructor(e,n,i=0,r=e?e.length:0){this.mirror=n,this.from=i,this.to=r,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Of(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,i=this._maps.length;n<e._maps.length;n++){let r=e.getMirror(n);this.appendMap(e._maps[n],r!=null&&r<n?i+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this._maps.length+e._maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e._maps[n].invert(),r!=null&&r>n?i-r-1:void 0)}}invert(){let e=new Of;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let r=0;for(let s=this.from;s<this.to;s++){let l=this._maps[s],d=l.mapResult(e,n);if(d.recover!=null){let f=this.getMirror(s);if(f!=null&&f>s&&f<this.to){s=f,e=this._maps[f].recover(d.recover);continue}}r|=d.delInfo,e=d.pos}return i?e:new Sy(e,r,null)}}const Mx=Object.create(null);class fr{getMap(){return as.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Mx[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Mx)throw new RangeError("Duplicate use of step JSON ID "+e);return Mx[e]=n,n.prototype.jsonID=e,n}}class gi{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new gi(e,null)}static fail(e){return new gi(null,e)}static fromReplace(e,n,i,r){try{return gi.ok(e.replace(n,i,r))}catch(s){if(s instanceof x1)return gi.fail(s.message);throw s}}}function N2(t,e,n){let i=[];for(let r=0;r<t.childCount;r++){let s=t.child(r);s.content.size&&(s=s.copy(N2(s.content,e,s))),s.isInline&&(s=e(s,n,r)),i.push(s)}return Pe.fromArray(i)}class pl extends fr{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),r=i.node(i.sharedDepth(this.to)),s=new We(N2(n.content,(l,d)=>!l.isAtom||!d.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),r),n.openStart,n.openEnd);return gi.fromReplace(e,this.from,this.to,s)}invert(){return new qs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new pl(n.pos,i.pos,this.mark)}merge(e){return e instanceof pl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new pl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new pl(n.from,n.to,e.markFromJSON(n.mark))}}fr.jsonID("addMark",pl);class qs extends fr{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new We(N2(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return gi.fromReplace(e,this.from,this.to,i)}invert(){return new pl(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new qs(n.pos,i.pos,this.mark)}merge(e){return e instanceof qs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new qs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new qs(n.from,n.to,e.markFromJSON(n.mark))}}fr.jsonID("removeMark",qs);class ml extends fr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return gi.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return gi.fromReplace(e,this.pos,this.pos+1,new We(Pe.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(i))return new ml(this.pos,n.marks[r]);return new ml(this.pos,this.mark)}}return new Ec(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ml(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ml(n.pos,e.markFromJSON(n.mark))}}fr.jsonID("addNodeMark",ml);class Ec extends fr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return gi.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return gi.fromReplace(e,this.pos,this.pos+1,new We(Pe.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ml(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ec(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ec(n.pos,e.markFromJSON(n.mark))}}fr.jsonID("removeNodeMark",Ec);class zi extends fr{constructor(e,n,i,r=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=r}apply(e){return this.structure&&Ey(e,this.from,this.to)?gi.fail("Structure replace would overwrite content"):gi.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new as([this.from,this.to-this.from,this.slice.size])}invert(e){return new zi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new zi(n.pos,Math.max(n.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof zi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?We.empty:new We(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new zi(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?We.empty:new We(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new zi(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new zi(n.from,n.to,We.fromJSON(e,n.slice),!!n.structure)}}fr.jsonID("replace",zi);class Hi extends fr{constructor(e,n,i,r,s,l,d=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=r,this.slice=s,this.insert=l,this.structure=d}apply(e){if(this.structure&&(Ey(e,this.from,this.gapFrom)||Ey(e,this.gapTo,this.to)))return gi.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return gi.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?gi.fromReplace(e,this.from,this.to,i):gi.fail("Content does not fit in gap")}getMap(){return new as([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Hi(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||r<n.pos||s>i.pos?null:new Hi(n.pos,i.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Hi(n.from,n.to,n.gapFrom,n.gapTo,We.fromJSON(e,n.slice),n.insert,!!n.structure)}}fr.jsonID("replaceAround",Hi);function Ey(t,e,n){let i=t.resolve(e),r=n-e,s=i.depth;for(;r>0&&s>0&&i.indexAfter(s)==i.node(s).childCount;)s--,r--;if(r>0){let l=i.node(s).maybeChild(i.indexAfter(s));for(;r>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,r--}}return!1}function SY(t,e,n,i){let r=[],s=[],l,d;t.doc.nodesBetween(e,n,(f,p,y)=>{if(!f.isInline)return;let _=f.marks;if(!i.isInSet(_)&&y.type.allowsMarkType(i.type)){let S=Math.max(p,e),T=Math.min(p+f.nodeSize,n),A=i.addToSet(_);for(let O=0;O<_.length;O++)_[O].isInSet(A)||(l&&l.to==S&&l.mark.eq(_[O])?l.to=T:r.push(l=new qs(S,T,_[O])));d&&d.to==S?d.to=T:s.push(d=new pl(S,T,i))}}),r.forEach(f=>t.step(f)),s.forEach(f=>t.step(f))}function EY(t,e,n,i){let r=[],s=0;t.doc.nodesBetween(e,n,(l,d)=>{if(!l.isInline)return;s++;let f=null;if(i instanceof wm){let p=l.marks,y;for(;y=i.isInSet(p);)(f||(f=[])).push(y),p=y.removeFromSet(p)}else i?i.isInSet(l.marks)&&(f=[i]):f=l.marks;if(f&&f.length){let p=Math.min(d+l.nodeSize,n);for(let y=0;y<f.length;y++){let _=f[y],S;for(let T=0;T<r.length;T++){let A=r[T];A.step==s-1&&_.eq(r[T].style)&&(S=A)}S?(S.to=p,S.step=s):r.push({style:_,from:Math.max(d,e),to:p,step:s})}}}),r.forEach(l=>t.step(new qs(l.from,l.to,l.style)))}function M2(t,e,n,i=n.contentMatch,r=!0){let s=t.doc.nodeAt(e),l=[],d=e+1;for(let f=0;f<s.childCount;f++){let p=s.child(f),y=d+p.nodeSize,_=i.matchType(p.type);if(!_)l.push(new zi(d,y,We.empty));else{i=_;for(let S=0;S<p.marks.length;S++)n.allowsMarkType(p.marks[S].type)||t.step(new qs(d,y,p.marks[S]));if(r&&p.isText&&n.whitespace!="pre"){let S,T=/\r?\n|\r/g,A;for(;S=T.exec(p.text);)A||(A=new We(Pe.from(n.schema.text(" ",n.allowedMarks(p.marks))),0,0)),l.push(new zi(d+S.index,d+S.index+S[0].length,A))}}d=y}if(!i.validEnd){let f=i.fillBefore(Pe.empty,!0);t.replace(d,d,new We(f,0,0))}for(let f=l.length-1;f>=0;f--)t.step(l[f])}function AY(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ed(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth;;--i){let r=t.$from.node(i),s=t.$from.index(i),l=t.$to.indexAfter(i);if(i<t.depth&&r.canReplace(s,l,n))return i;if(i==0||r.type.spec.isolating||!AY(r,s,l))break}return null}function TY(t,e,n){let{$from:i,$to:r,depth:s}=e,l=i.before(s+1),d=r.after(s+1),f=l,p=d,y=Pe.empty,_=0;for(let A=s,O=!1;A>n;A--)O||i.index(A)>0?(O=!0,y=Pe.from(i.node(A).copy(y)),_++):f--;let S=Pe.empty,T=0;for(let A=s,O=!1;A>n;A--)O||r.after(A+1)<r.end(A)?(O=!0,S=Pe.from(r.node(A).copy(S)),T++):p++;t.step(new Hi(f,p,l,d,new We(y.append(S),_,T),y.size-_,!0))}function R2(t,e,n=null,i=t){let r=NY(t,e),s=r&&MY(i,e);return s?r.map(b3).concat({type:e,attrs:n}).concat(s.map(b3)):null}function b3(t){return{type:t,attrs:null}}function NY(t,e){let{parent:n,startIndex:i,endIndex:r}=t,s=n.contentMatchAt(i).findWrapping(e);if(!s)return null;let l=s.length?s[0]:e;return n.canReplaceWith(i,r,l)?s:null}function MY(t,e){let{parent:n,startIndex:i,endIndex:r}=t,s=n.child(i),l=e.contentMatch.findWrapping(s.type);if(!l)return null;let f=(l.length?l[l.length-1]:e).contentMatch;for(let p=i;f&&p<r;p++)f=f.matchType(n.child(p).type);return!f||!f.validEnd?null:l}function RY(t,e,n){let i=Pe.empty;for(let l=n.length-1;l>=0;l--){if(i.size){let d=n[l].type.contentMatch.matchFragment(i);if(!d||!d.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=Pe.from(n[l].type.create(n[l].attrs,i))}let r=e.start,s=e.end;t.step(new Hi(r,s,r,s,new We(i,0,0),n.length,!0))}function OY(t,e,n,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(l,d)=>{let f=typeof r=="function"?r(l):r;if(l.isTextblock&&!l.hasMarkup(i,f)&&IY(t.doc,t.mapping.slice(s).map(d),i)){let p=null;if(i.schema.linebreakReplacement){let T=i.whitespace=="pre",A=!!i.contentMatch.matchType(i.schema.linebreakReplacement);T&&!A?p=!1:!T&&A&&(p=!0)}p===!1&&_A(t,l,d,s),M2(t,t.mapping.slice(s).map(d,1),i,void 0,p===null);let y=t.mapping.slice(s),_=y.map(d,1),S=y.map(d+l.nodeSize,1);return t.step(new Hi(_,S,_+1,S-1,new We(Pe.from(i.create(f,null,l.marks)),0,0),1,!0)),p===!0&&wA(t,l,d,s),!1}})}function wA(t,e,n,i){e.forEach((r,s)=>{if(r.isText){let l,d=/\r?\n|\r/g;for(;l=d.exec(r.text);){let f=t.mapping.slice(i).map(n+1+s+l.index);t.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function _A(t,e,n,i){e.forEach((r,s)=>{if(r.type==r.type.schema.linebreakReplacement){let l=t.mapping.slice(i).map(n+1+s);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function IY(t,e,n){let i=t.resolve(e),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}function kY(t,e,n,i,r){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let l=n.create(i,null,r||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,l);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Hi(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new We(Pe.from(l),0,0),1,!0))}function mo(t,e,n=1,i){let r=t.resolve(e),s=r.depth-n,l=i&&i[i.length-1]||r.parent;if(s<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!l.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let p=r.depth-1,y=n-2;p>s;p--,y--){let _=r.node(p),S=r.index(p);if(_.type.spec.isolating)return!1;let T=_.content.cutByIndex(S,_.childCount),A=i&&i[y+1];A&&(T=T.replaceChild(0,A.type.create(A.attrs)));let O=i&&i[y]||_;if(!_.canReplace(S+1,_.childCount)||!O.type.validContent(T))return!1}let d=r.indexAfter(s),f=i&&i[0];return r.node(s).canReplaceWith(d,d,f?f.type:r.node(s+1).type)}function DY(t,e,n=1,i){let r=t.doc.resolve(e),s=Pe.empty,l=Pe.empty;for(let d=r.depth,f=r.depth-n,p=n-1;d>f;d--,p--){s=Pe.from(r.node(d).copy(s));let y=i&&i[p];l=Pe.from(y?y.type.create(y.attrs,l):r.node(d).copy(l))}t.step(new zi(e,e,new We(s.append(l),n,n),!0))}function Rl(t,e){let n=t.resolve(e),i=n.index();return CA(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function BY(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let r=0;r<e.childCount;r++){let s=e.child(r),l=s.type==i?t.type.schema.nodes.text:s.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function CA(t,e){return!!(t&&e&&!t.isLeaf&&BY(t,e))}function _m(t,e,n=-1){let i=t.resolve(e);for(let r=i.depth;;r--){let s,l,d=i.index(r);if(r==i.depth?(s=i.nodeBefore,l=i.nodeAfter):n>0?(s=i.node(r+1),d++,l=i.node(r).maybeChild(d)):(s=i.node(r).maybeChild(d-1),l=i.node(r+1)),s&&!s.isTextblock&&CA(s,l)&&i.node(r).canReplace(d,d+1))return e;if(r==0)break;e=n<0?i.before(r):i.after(r)}}function LY(t,e,n){let i=null,{linebreakReplacement:r}=t.doc.type.schema,s=t.doc.resolve(e-n),l=s.node().type;if(r&&l.inlineContent){let y=l.whitespace=="pre",_=!!l.contentMatch.matchType(r);y&&!_?i=!1:!y&&_&&(i=!0)}let d=t.steps.length;if(i===!1){let y=t.doc.resolve(e+n);_A(t,y.node(),y.before(),d)}l.inlineContent&&M2(t,e+n-1,l,s.node().contentMatchAt(s.index()),i==null);let f=t.mapping.slice(d),p=f.map(e-n);if(t.step(new zi(p,f.map(e+n,-1),We.empty,!0)),i===!0){let y=t.doc.resolve(p);wA(t,y.node(),y.before(),t.steps.length)}return t}function jY(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let s=i.index(r);if(i.node(r).canReplaceWith(s,s,n))return i.before(r+1);if(s>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let s=i.indexAfter(r);if(i.node(r).canReplaceWith(s,s,n))return i.after(r+1);if(s<i.node(r).childCount)return null}return null}function SA(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let s=0;s<n.openStart;s++)r=r.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let l=i.depth;l>=0;l--){let d=l==i.depth?0:i.pos<=(i.start(l+1)+i.end(l+1))/2?-1:1,f=i.index(l)+(d>0?1:0),p=i.node(l),y=!1;if(s==1)y=p.canReplace(f,f,r);else{let _=p.contentMatchAt(f).findWrapping(r.firstChild.type);y=_&&p.canReplaceWith(f,f,_[0])}if(y)return d==0?i.pos:d<0?i.before(l+1):i.after(l+1)}return null}function Cm(t,e,n=e,i=We.empty){if(e==n&&!i.size)return null;let r=t.resolve(e),s=t.resolve(n);return EA(r,s,i)?new zi(e,n,i):new PY(r,s,i).fit()}function EA(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class PY{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=Pe.empty;for(let r=0;r<=e.depth;r++){let s=e.node(r);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=Pe.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(e<0?this.$to:i.doc.resolve(e));if(!r)return null;let s=this.placed,l=i.depth,d=r.depth;for(;l&&d&&s.childCount==1;)s=s.firstChild.content,l--,d--;let f=new We(s,l,d);return e>-1?new Hi(i.pos,e,this.$to.pos,this.$to.end(),f,n):f.size||i.pos!=this.$to.pos?new zi(i.pos,r.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<e;i++){let s=n.firstChild;if(n.childCount>1&&(r=0),s.type.spec.isolating&&r<=i){e=i;break}n=s.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let r,s=null;i?(s=Rx(this.unplaced.content,i-1).firstChild,r=s.content):r=this.unplaced.content;let l=r.firstChild;for(let d=this.depth;d>=0;d--){let{type:f,match:p}=this.frontier[d],y,_=null;if(n==1&&(l?p.matchType(l.type)||(_=p.fillBefore(Pe.from(l),!1)):s&&f.compatibleContent(s.type)))return{sliceDepth:i,frontierDepth:d,parent:s,inject:_};if(n==2&&l&&(y=p.findWrapping(l.type)))return{sliceDepth:i,frontierDepth:d,parent:s,wrap:y};if(s&&p.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=Rx(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new We(e,n+1,Math.max(i,r.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=Rx(e,n);if(r.childCount<=1&&n>0){let s=e.size-n<=n+r.size;this.unplaced=new We(ff(e,n-1,1),n-1,s?n-1:i)}else this.unplaced=new We(ff(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:r,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let O=0;O<s.length;O++)this.openFrontierNode(s[O]);let l=this.unplaced,d=i?i.content:l.content,f=l.openStart-e,p=0,y=[],{match:_,type:S}=this.frontier[n];if(r){for(let O=0;O<r.childCount;O++)y.push(r.child(O));_=_.matchFragment(r)}let T=d.size+e-(l.content.size-l.openEnd);for(;p<d.childCount;){let O=d.child(p),k=_.matchType(O.type);if(!k)break;p++,(p>1||f==0||O.content.size)&&(_=k,y.push(AA(O.mark(S.allowedMarks(O.marks)),p==1?f:0,p==d.childCount?T:-1)))}let A=p==d.childCount;A||(T=-1),this.placed=hf(this.placed,n,Pe.from(y)),this.frontier[n].match=_,A&&T<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let O=0,k=d;O<T;O++){let L=k.lastChild;this.frontier.push({type:L.type,match:L.contentMatchAt(L.childCount)}),k=L.content}this.unplaced=A?e==0?We.empty:new We(ff(l.content,e-1,1),e-1,T<0?l.openEnd:e-1):new We(ff(l.content,e,p),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Ox(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:r}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=Ox(e,n,r,i,s);if(l){for(let d=n-1;d>=0;d--){let{match:f,type:p}=this.frontier[d],y=Ox(e,d,p,f,!0);if(!y||y.childCount)continue e}return{depth:n,fit:l,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=hf(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let r=e.node(i),s=r.type.contentMatch.fillBefore(r.content,!0,e.index(i));this.openFrontierNode(r.type,r.attrs,s)}return e}openFrontierNode(e,n=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=hf(this.placed,this.depth,Pe.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Pe.empty,!0);n.childCount&&(this.placed=hf(this.placed,this.frontier.length,n))}}function ff(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ff(t.firstChild.content,e-1,n)))}function hf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(hf(t.lastChild.content,e-1,n)))}function Rx(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function AA(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,AA(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(Pe.empty,!0)))),t.copy(i)}function Ox(t,e,n,i,r){let s=t.node(e),l=r?t.indexAfter(e):t.index(e);if(l==s.childCount&&!n.compatibleContent(s.type))return null;let d=i.fillBefore(s.content,!0,l);return d&&!FY(n,s.content,l)?d:null}function FY(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function zY(t){return t.spec.defining||t.spec.definingForContent}function HY(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),s=t.doc.resolve(n);if(EA(r,s,i))return t.step(new zi(e,n,i));let l=NA(r,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let d=-(r.depth+1);l.unshift(d);for(let S=r.depth,T=r.pos-1;S>0;S--,T--){let A=r.node(S).type.spec;if(A.defining||A.definingAsContext||A.isolating)break;l.indexOf(S)>-1?d=S:r.before(S)==T&&l.splice(1,0,-S)}let f=l.indexOf(d),p=[],y=i.openStart;for(let S=i.content,T=0;;T++){let A=S.firstChild;if(p.push(A),T==i.openStart)break;S=A.content}for(let S=y-1;S>=0;S--){let T=p[S],A=zY(T.type);if(A&&!T.sameMarkup(r.node(Math.abs(d)-1)))y=S;else if(A||!T.type.isTextblock)break}for(let S=i.openStart;S>=0;S--){let T=(S+y+1)%(i.openStart+1),A=p[T];if(A)for(let O=0;O<l.length;O++){let k=l[(O+f)%l.length],L=!0;k<0&&(L=!1,k=-k);let $=r.node(k-1),P=r.index(k-1);if($.canReplaceWith(P,P,A.type,A.marks))return t.replace(r.before(k),L?s.after(k):n,new We(TA(i.content,0,i.openStart,T),T,i.openEnd))}}let _=t.steps.length;for(let S=l.length-1;S>=0&&(t.replace(e,n,i),!(t.steps.length>_));S--){let T=l[S];T<0||(e=r.before(T),n=s.after(T))}}function TA(t,e,n,i,r){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(TA(s.content,e+1,n,i,s)))}if(e>i){let s=r.contentMatchAt(0),l=s.fillBefore(t).append(t);t=l.append(s.matchFragment(l).fillBefore(Pe.empty,!0))}return t}function UY(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=jY(t.doc,e,i.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new We(Pe.from(i),0,0))}function VY(t,e,n){let i=t.doc.resolve(e),r=t.doc.resolve(n),s=NA(i,r);for(let l=0;l<s.length;l++){let d=s[l],f=l==s.length-1;if(f&&d==0||i.node(d).type.contentMatch.validEnd)return t.delete(i.start(d),r.end(d));if(d>0&&(f||i.node(d-1).canReplace(i.index(d-1),r.indexAfter(d-1))))return t.delete(i.before(d),r.after(d))}for(let l=1;l<=i.depth&&l<=r.depth;l++)if(e-i.start(l)==i.depth-l&&n>i.end(l)&&r.end(l)-n!=r.depth-l&&i.start(l-1)==r.start(l-1)&&i.node(l-1).canReplace(i.index(l-1),r.index(l-1)))return t.delete(i.before(l),n);t.delete(e,n)}function NA(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let r=i;r>=0;r--){let s=t.start(r);if(s<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(s==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==s-1)&&n.push(r)}return n}class Fu extends fr{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return gi.fail("No node at attribute step's position");let i=Object.create(null);for(let s in n.attrs)i[s]=n.attrs[s];i[this.attr]=this.value;let r=n.type.create(i,null,n.marks);return gi.fromReplace(e,this.pos,this.pos+1,new We(Pe.from(r),0,n.isLeaf?0:1))}getMap(){return as.empty}invert(e){return new Fu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Fu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Fu(n.pos,n.attr,n.value)}}fr.jsonID("attr",Fu);class If extends fr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return gi.ok(i)}getMap(){return as.empty}invert(e){return new If(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new If(n.attr,n.value)}}fr.jsonID("docAttr",If);let Uu=class extends Error{};Uu=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Uu.prototype=Object.create(Error.prototype);Uu.prototype.constructor=Uu;Uu.prototype.name="TransformError";class MA{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Of}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Uu(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=We.empty){let r=Cm(this.doc,e,n,i);return r&&this.step(r),this}replaceWith(e,n,i){return this.replace(e,n,new We(Pe.from(i),0,0))}delete(e,n){return this.replace(e,n,We.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return HY(this,e,n,i),this}replaceRangeWith(e,n,i){return UY(this,e,n,i),this}deleteRange(e,n){return VY(this,e,n),this}lift(e,n){return TY(this,e,n),this}join(e,n=1){return LY(this,e,n),this}wrap(e,n){return RY(this,e,n),this}setBlockType(e,n=e,i,r=null){return OY(this,e,n,i,r),this}setNodeMarkup(e,n,i=null,r){return kY(this,e,n,i,r),this}setNodeAttribute(e,n,i){return this.step(new Fu(e,n,i)),this}setDocAttribute(e,n){return this.step(new If(e,n)),this}addNodeMark(e,n){return this.step(new ml(e,n)),this}removeNodeMark(e,n){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n instanceof Nn)n.isInSet(i.marks)&&this.step(new Ec(e,n));else{let r=i.marks,s,l=[];for(;s=n.isInSet(r);)l.push(new Ec(e,s)),r=s.removeFromSet(r);for(let d=l.length-1;d>=0;d--)this.step(l[d])}return this}split(e,n=1,i){return DY(this,e,n,i),this}addMark(e,n,i){return SY(this,e,n,i),this}removeMark(e,n,i){return EY(this,e,n,i),this}clearIncompatible(e,n,i){return M2(this,e,n,i),this}}const Ix=Object.create(null);class jt{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new $Y(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=We.empty){let i=n.content.lastChild,r=null;for(let d=0;d<n.openEnd;d++)r=i,i=i.lastChild;let s=e.steps.length,l=this.ranges;for(let d=0;d<l.length;d++){let{$from:f,$to:p}=l[d],y=e.mapping.slice(s);e.replaceRange(y.map(f.pos),y.map(p.pos),d?We.empty:n),d==0&&C3(e,s,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:l,$to:d}=r[s],f=e.mapping.slice(i),p=f.map(l.pos),y=f.map(d.pos);s?e.deleteRange(p,y):(e.replaceRangeWith(p,y,n),C3(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let r=e.parent.inlineContent?new wt(e):Ou(e.node(0),e.parent,e.pos,e.index(),n,i);if(r)return r;for(let s=e.depth-1;s>=0;s--){let l=n<0?Ou(e.node(0),e.node(s),e.before(s+1),e.index(s),n,i):Ou(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,i);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new ls(e.node(0))}static atStart(e){return Ou(e,e,0,0,1)||new ls(e)}static atEnd(e){return Ou(e,e,e.content.size,e.childCount,-1)||new ls(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=Ix[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Ix)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ix[e]=n,n.prototype.jsonID=e,n}getBookmark(){return wt.between(this.$anchor,this.$head).getBookmark()}}jt.prototype.visible=!0;class $Y{constructor(e,n){this.$from=e,this.$to=n}}let w3=!1;function _3(t){!w3&&!t.parent.inlineContent&&(w3=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class wt extends jt{constructor(e,n=e){_3(e),_3(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return jt.near(i);let r=e.resolve(n.map(this.anchor));return new wt(r.parent.inlineContent?r:i,i)}replace(e,n=We.empty){if(super.replace(e,n),n==We.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof wt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Sm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new wt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let r=e.resolve(n);return new this(r,i==n?r:e.resolve(i))}static between(e,n,i){let r=e.pos-n.pos;if((!i||r)&&(i=r>=0?1:-1),!n.parent.inlineContent){let s=jt.findFrom(n,i,!0)||jt.findFrom(n,-i,!0);if(s)n=s.$head;else return jt.near(n,i)}return e.parent.inlineContent||(r==0?e=n:(e=(jt.findFrom(e,-i,!0)||jt.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new wt(e,n)}}jt.jsonID("text",wt);class Sm{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Sm(e.map(this.anchor),e.map(this.head))}resolve(e){return wt.between(e.resolve(this.anchor),e.resolve(this.head))}}class ht extends jt{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:r}=n.mapResult(this.anchor),s=e.resolve(r);return i?jt.near(s):new ht(s)}content(){return new We(Pe.from(this.node),0,0)}eq(e){return e instanceof ht&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new O2(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ht(e.resolve(n.anchor))}static create(e,n){return new ht(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ht.prototype.visible=!1;jt.jsonID("node",ht);class O2{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new Sm(i,i):new O2(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&ht.isSelectable(i)?new ht(n):jt.near(n)}}class ls extends jt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=We.empty){if(n==We.empty){e.delete(0,e.doc.content.size);let i=jt.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new ls(e)}map(e){return new ls(e)}eq(e){return e instanceof ls}getBookmark(){return GY}}jt.jsonID("all",ls);const GY={map(){return this},resolve(t){return new ls(t)}};function Ou(t,e,n,i,r,s=!1){if(e.inlineContent)return wt.create(t,n);for(let l=i-(r>0?0:1);r>0?l<e.childCount:l>=0;l+=r){let d=e.child(l);if(d.isAtom){if(!s&&ht.isSelectable(d))return ht.create(t,n-(r<0?d.nodeSize:0))}else{let f=Ou(t,d,n+r,r<0?d.childCount:0,r,s);if(f)return f}n+=d.nodeSize*r}return null}function C3(t,e,n){let i=t.steps.length-1;if(i<e)return;let r=t.steps[i];if(!(r instanceof zi||r instanceof Hi))return;let s=t.mapping.maps[i],l;s.forEach((d,f,p,y)=>{l==null&&(l=y)}),t.setSelection(jt.near(t.doc.resolve(l),n))}const S3=1,E3=2,A3=4;class qY extends MA{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|S3)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&S3)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=E3,this}ensureMarks(e){return Nn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&E3)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||Nn.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!e)return this.deleteRange(n,i);let s=this.storedMarks;if(!s){let l=this.doc.resolve(n);s=i==n?l.marks():l.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,r.text(e,s)),this.selection.empty||this.setSelection(jt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=A3,this}get scrolledIntoView(){return(this.updated&A3)>0}}function T3(t,e){return!e||!t?t:t.bind(e)}class pf{constructor(e,n,i){this.name=e,this.init=T3(n.init,i),this.apply=T3(n.apply,i)}}const WY=[new pf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new pf("selection",{init(t,e){return t.selection||jt.atStart(e.doc)},apply(t){return t.selection}}),new pf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new pf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class kx{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=WY.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new pf(i.key,i.spec.state,i))})}}class Lu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),r=null;for(;;){let s=!1;for(let l=0;l<this.config.plugins.length;l++){let d=this.config.plugins[l];if(d.spec.appendTransaction){let f=r?r[l].n:0,p=r?r[l].state:this,y=f<n.length&&d.spec.appendTransaction.call(d,f?n.slice(f):n,p,i);if(y&&i.filterTransaction(y,l)){if(y.setMeta("appendedTransaction",e),!r){r=[];for(let _=0;_<this.config.plugins.length;_++)r.push(_<l?{state:i,n:n.length}:{state:this,n:0})}n.push(y),i=i.applyInner(y),s=!0}r&&(r[l]={state:i,n:n.length})}}if(!s)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Lu(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let s=i[r];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new qY(this)}static create(e){let n=new kx(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new Lu(n);for(let r=0;r<n.fields.length;r++)i[n.fields[r].name]=n.fields[r].init(e,i);return i}reconfigure(e){let n=new kx(this.schema,e.plugins),i=n.fields,r=new Lu(n);for(let s=0;s<i.length;s++){let l=i[s].name;r[l]=this.hasOwnProperty(l)?this[l]:i[s].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[i],s=r.spec.state;s&&s.toJSON&&(n[i]=s.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new kx(e.schema,e.plugins),s=new Lu(r);return r.fields.forEach(l=>{if(l.name=="doc")s.doc=Ws.fromJSON(e.schema,n.doc);else if(l.name=="selection")s.selection=jt.fromJSON(s.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let d in i){let f=i[d],p=f.spec.state;if(f.key==l.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(n,d)){s[l.name]=p.fromJSON.call(f,e,n[d],s);return}}s[l.name]=l.init(e,s)}}),s}}function RA(t,e,n){for(let i in t){let r=t[i];r instanceof Function?r=r.bind(e):i=="handleDOMEvents"&&(r=RA(r,e,{})),n[i]=r}return n}class ni{constructor(e){this.spec=e,this.props={},e.props&&RA(e.props,this,this.props),this.key=e.key?e.key.key:OA("plugin")}getState(e){return e[this.key]}}const Dx=Object.create(null);function OA(t){return t in Dx?t+"$"+ ++Dx[t]:(Dx[t]=0,t+"$")}class Vi{constructor(e="key"){this.key=OA(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Zi=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Vu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Ay=null;const fo=function(t,e,n){let i=Ay||(Ay=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},XY=function(){Ay=null},Ac=function(t,e,n,i){return n&&(N3(t,e,n,i,-1)||N3(t,e,n,i,1))},YY=/^(img|br|input|textarea|hr)$/i;function N3(t,e,n,i,r){for(var s;;){if(t==n&&e==i)return!0;if(e==(r<0?0:Ns(t))){let l=t.parentNode;if(!l||l.nodeType!=1||Zf(t)||YY.test(t.nodeName)||t.contentEditable=="false")return!1;e=Zi(t)+(r<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(r<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((s=l.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=r;else return!1;else t=l,e=r<0?Ns(t):0}else return!1}}function Ns(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function KY(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ns(t)}else if(t.parentNode&&!Zf(t))e=Zi(t),t=t.parentNode;else return null}}function ZY(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Zf(t))e=Zi(t)+1,t=t.parentNode;else return null}}function QY(t,e,n){for(let i=e==0,r=e==Ns(t);i||r;){if(t==n)return!0;let s=Zi(t);if(t=t.parentNode,!t)return!1;i=i&&s==0,r=r&&s==Ns(t)}}function Zf(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Em=function(t){return t.focusNode&&Ac(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function lc(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function JY(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function eK(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(Ns(i.offsetNode),i.offset)}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(Ns(i.startContainer),i.startOffset)}}}const Ea=typeof navigator<"u"?navigator:null,M3=typeof document<"u"?document:null,Ol=Ea&&Ea.userAgent||"",Ty=/Edge\/(\d+)/.exec(Ol),IA=/MSIE \d/.exec(Ol),Ny=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ol),Fr=!!(IA||Ny||Ty),vl=IA?document.documentMode:Ny?+Ny[1]:Ty?+Ty[1]:0,Ms=!Fr&&/gecko\/(\d+)/i.test(Ol);Ms&&+(/Firefox\/(\d+)/.exec(Ol)||[0,0])[1];const My=!Fr&&/Chrome\/(\d+)/.exec(Ol),dr=!!My,kA=My?+My[1]:0,Cr=!Fr&&!!Ea&&/Apple Computer/.test(Ea.vendor),$u=Cr&&(/Mobile\/\w+/.test(Ol)||!!Ea&&Ea.maxTouchPoints>2),Ts=$u||(Ea?/Mac/.test(Ea.platform):!1),tK=Ea?/Win/.test(Ea.platform):!1,po=/Android \d/.test(Ol),Qf=!!M3&&"webkitFontSmoothing"in M3.documentElement.style,nK=Qf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function iK(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function to(t,e){return typeof t=="number"?t:t[e]}function rK(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function R3(t,e,n){let i=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=Vu(l);continue}let d=l,f=d==s.body,p=f?iK(s):rK(d),y=0,_=0;if(e.top<p.top+to(i,"top")?_=-(p.top-e.top+to(r,"top")):e.bottom>p.bottom-to(i,"bottom")&&(_=e.bottom-e.top>p.bottom-p.top?e.top+to(r,"top")-p.top:e.bottom-p.bottom+to(r,"bottom")),e.left<p.left+to(i,"left")?y=-(p.left-e.left+to(r,"left")):e.right>p.right-to(i,"right")&&(y=e.right-p.right+to(r,"right")),y||_)if(f)s.defaultView.scrollBy(y,_);else{let T=d.scrollLeft,A=d.scrollTop;_&&(d.scrollTop+=_),y&&(d.scrollLeft+=y);let O=d.scrollLeft-T,k=d.scrollTop-A;e={left:e.left-O,top:e.top-k,right:e.right-O,bottom:e.bottom-k}}let S=f?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(S))break;l=S=="absolute"?l.offsetParent:Vu(l)}}function sK(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,r;for(let s=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let d=t.root.elementFromPoint(s,l);if(!d||d==t.dom||!t.dom.contains(d))continue;let f=d.getBoundingClientRect();if(f.top>=n-20){i=d,r=f.top;break}}return{refDOM:i,refTop:r,stack:DA(t.dom)}}function DA(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=Vu(i));return e}function aK({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;BA(n,i==0?0:i-e)}function BA(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:r,left:s}=t[n];i.scrollTop!=r+e&&(i.scrollTop=r+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}let Nu=null;function oK(t){if(t.setActive)return t.setActive();if(Nu)return t.focus(Nu);let e=DA(t);t.focus(Nu==null?{get preventScroll(){return Nu={preventScroll:!0},!0}}:void 0),Nu||(Nu=!1,BA(e,0))}function LA(t,e){let n,i=2e8,r,s=0,l=e.top,d=e.top,f,p;for(let y=t.firstChild,_=0;y;y=y.nextSibling,_++){let S;if(y.nodeType==1)S=y.getClientRects();else if(y.nodeType==3)S=fo(y).getClientRects();else continue;for(let T=0;T<S.length;T++){let A=S[T];if(A.top<=l&&A.bottom>=d){l=Math.max(A.bottom,l),d=Math.min(A.top,d);let O=A.left>e.left?A.left-e.left:A.right<e.left?e.left-A.right:0;if(O<i){n=y,i=O,r=O&&n.nodeType==3?{left:A.right<e.left?A.right:A.left,top:e.top}:e,y.nodeType==1&&O&&(s=_+(e.left>=(A.left+A.right)/2?1:0));continue}}else A.top>e.top&&!f&&A.left<=e.left&&A.right>=e.left&&(f=y,p={left:Math.max(A.left,Math.min(A.right,e.left)),top:A.top});!n&&(e.left>=A.right&&e.top>=A.top||e.left>=A.left&&e.top>=A.bottom)&&(s=_+1)}}return!n&&f&&(n=f,r=p,i=0),n&&n.nodeType==3?lK(n,r):!n||i&&n.nodeType==1?{node:t,offset:s}:LA(n,r)}function lK(t,e){let n=t.nodeValue.length,i=document.createRange();for(let r=0;r<n;r++){i.setEnd(t,r+1),i.setStart(t,r);let s=sl(i,1);if(s.top!=s.bottom&&I2(e,s))return{node:t,offset:r+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function I2(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function cK(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function uK(t,e,n){let{node:i,offset:r}=LA(e,n),s=-1;if(i.nodeType==1&&!i.firstChild){let l=i.getBoundingClientRect();s=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(i,r,s)}function dK(t,e,n,i){let r=-1;for(let s=e,l=!1;s!=t.dom;){let d=t.docView.nearestDesc(s,!0),f;if(!d)return null;if(d.dom.nodeType==1&&(d.node.isBlock&&d.parent||!d.contentDOM)&&((f=d.dom.getBoundingClientRect()).width||f.height)&&(d.node.isBlock&&d.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(d.dom.nodeName)&&(!l&&f.left>i.left||f.top>i.top?r=d.posBefore:(!l&&f.right<i.left||f.bottom<i.top)&&(r=d.posAfter),l=!0),!d.contentDOM&&r<0&&!d.node.isText))return(d.node.isBlock?i.top<(f.top+f.bottom)/2:i.left<(f.left+f.right)/2)?d.posBefore:d.posAfter;s=d.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function jA(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),s=r;;){let l=t.childNodes[s];if(l.nodeType==1){let d=l.getClientRects();for(let f=0;f<d.length;f++){let p=d[f];if(I2(e,p))return jA(l,e,p)}}if((s=(s+1)%i)==r)break}return t}function fK(t,e){let n=t.dom.ownerDocument,i,r=0,s=eK(n,e.left,e.top);s&&({node:i,offset:r}=s);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),d;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let p=t.dom.getBoundingClientRect();if(!I2(e,p)||(l=jA(t.dom,e,p),!l))return null}if(Cr)for(let p=l;i&&p;p=Vu(p))p.draggable&&(i=void 0);if(l=cK(l,e),i){if(Ms&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let y=i.childNodes[r],_;y.nodeName=="IMG"&&(_=y.getBoundingClientRect()).right<=e.left&&_.bottom>e.top&&r++}let p;Qf&&r&&i.nodeType==1&&(p=i.childNodes[r-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&r--,i==t.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?d=t.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(d=dK(t,i,r,e))}d==null&&(d=uK(t,l,e));let f=t.docView.nearestDesc(l,!0);return{pos:d,inside:f?f.posAtStart-f.border:-1}}function O3(t){return t.top<t.bottom||t.left<t.right}function sl(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(O3(i))return i}return Array.prototype.find.call(n,O3)||t.getBoundingClientRect()}const hK=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function PA(t,e,n){let{node:i,offset:r,atom:s}=t.docView.domFromPos(e,n<0?-1:1),l=Qf||Ms;if(i.nodeType==3)if(l&&(hK.test(i.nodeValue)||(n<0?!r:r==i.nodeValue.length))){let f=sl(fo(i,r,r),n);if(Ms&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let p=sl(fo(i,r-1,r-1),-1);if(p.top==f.top){let y=sl(fo(i,r,r+1),-1);if(y.top!=f.top)return af(y,y.left<p.left)}}return f}else{let f=r,p=r,y=n<0?1:-1;return n<0&&!r?(p++,y=-1):n>=0&&r==i.nodeValue.length?(f--,y=1):n<0?f--:p++,af(sl(fo(i,f,p),y),y<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&r&&(n<0||r==Ns(i))){let f=i.childNodes[r-1];if(f.nodeType==1)return Bx(f.getBoundingClientRect(),!1)}if(s==null&&r<Ns(i)){let f=i.childNodes[r];if(f.nodeType==1)return Bx(f.getBoundingClientRect(),!0)}return Bx(i.getBoundingClientRect(),n>=0)}if(s==null&&r&&(n<0||r==Ns(i))){let f=i.childNodes[r-1],p=f.nodeType==3?fo(f,Ns(f)-(l?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(p)return af(sl(p,1),!1)}if(s==null&&r<Ns(i)){let f=i.childNodes[r];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let p=f?f.nodeType==3?fo(f,0,l?0:1):f.nodeType==1?f:null:null;if(p)return af(sl(p,-1),!0)}return af(sl(i.nodeType==3?fo(i):i,-n),n>=0)}function af(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Bx(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function FA(t,e,n){let i=t.state,r=t.root.activeElement;i!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),r!=t.dom&&r&&r.focus()}}function pK(t,e,n){let i=e.selection,r=n=="up"?i.$from:i.$to;return FA(t,e,()=>{let{node:s}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let d=t.docView.nearestDesc(s,!0);if(!d)break;if(d.node.isBlock){s=d.contentDOM||d.dom;break}s=d.dom.parentNode}let l=PA(t,r.pos,1);for(let d=s.firstChild;d;d=d.nextSibling){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=fo(d,0,d.nodeValue.length).getClientRects();else continue;for(let p=0;p<f.length;p++){let y=f[p];if(y.bottom>y.top+1&&(n=="up"?l.top-y.top>(y.bottom-l.top)*2:y.bottom-l.bottom>(l.bottom-y.top)*2))return!1}}return!0})}const mK=/[\u0590-\u08ac]/;function gK(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,s=!r,l=r==i.parent.content.size,d=t.domSelection();return d?!mK.test(i.parent.textContent)||!d.modify?n=="left"||n=="backward"?s:l:FA(t,e,()=>{let{focusNode:f,focusOffset:p,anchorNode:y,anchorOffset:_}=t.domSelectionRange(),S=d.caretBidiLevel;d.modify("move",n,"character");let T=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:A,focusOffset:O}=t.domSelectionRange(),k=A&&!T.contains(A.nodeType==1?A:A.parentNode)||f==A&&p==O;try{d.collapse(y,_),f&&(f!=y||p!=_)&&d.extend&&d.extend(f,p)}catch{}return S!=null&&(d.caretBidiLevel=S),k}):i.pos==i.start()||i.pos==i.end()}let I3=null,k3=null,D3=!1;function xK(t,e,n){return I3==e&&k3==n?D3:(I3=e,k3=n,D3=n=="up"||n=="down"?pK(t,e,n):gK(t,e,n))}const Rs=0,B3=1,fc=2,Aa=3;class Jf{constructor(e,n,i,r){this.parent=e,this.children=n,this.dom=i,this.contentDOM=r,this.dirty=Rs,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let r=this.children[n];if(r==e)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let s,l;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(l)+l.size:this.posAtStart}else{let s,l;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(l):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>Zi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!1;break}if(s.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!0;break}if(s.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,r=e;r;r=r.parentNode){let s=this.getDesc(r),l;if(s&&(!n||s.node))if(i&&(l=s.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))i=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let r=e;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let r=this.children[n],s=i+r.size;if(i==e&&s!=i){for(;!r.border&&r.children.length;)for(let l=0;l<r.children.length;l++){let d=r.children[l];if(d.size){r=d;break}}return r}if(e<s)return r.descAt(e-i-r.border);i=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,r=0;for(let s=0;i<this.children.length;i++){let l=this.children[i],d=s+l.size;if(d>e||l instanceof HA){r=e-s;break}s=d}if(r)return this.children[i].domFromPos(r-this.children[i].border,n);for(let s;i&&!(s=this.children[i-1]).size&&s instanceof zA&&s.side>=0;i--);if(n<=0){let s,l=!0;for(;s=i?this.children[i-1]:null,!(!s||s.dom.parentNode==this.contentDOM);i--,l=!1);return s&&n&&l&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Zi(s.dom)+1:0}}else{let s,l=!0;for(;s=i<this.children.length?this.children[i]:null,!(!s||s.dom.parentNode==this.contentDOM);i++,l=!1);return s&&l&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Zi(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let l=i,d=0;;d++){let f=this.children[d],p=l+f.size;if(r==-1&&e<=p){let y=l+f.border;if(e>=y&&n<=p-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,n,y);e=l;for(let _=d;_>0;_--){let S=this.children[_-1];if(S.size&&S.dom.parentNode==this.contentDOM&&!S.emptyChildAt(1)){r=Zi(S.dom)+1;break}e-=S.size}r==-1&&(r=0)}if(r>-1&&(p>n||d==this.children.length-1)){n=p;for(let y=d+1;y<this.children.length;y++){let _=this.children[y];if(_.size&&_.dom.parentNode==this.contentDOM&&!_.emptyChildAt(-1)){s=Zi(_.dom);break}n+=_.size}s==-1&&(s=this.contentDOM.childNodes.length);break}l=p}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,r=!1){let s=Math.min(e,n),l=Math.max(e,n);for(let T=0,A=0;T<this.children.length;T++){let O=this.children[T],k=A+O.size;if(s>A&&l<k)return O.setSelection(e-A-O.border,n-A-O.border,i,r);A=k}let d=this.domFromPos(e,e?-1:1),f=n==e?d:this.domFromPos(n,n?-1:1),p=i.root.getSelection(),y=i.domSelectionRange(),_=!1;if((Ms||Cr)&&e==n){let{node:T,offset:A}=d;if(T.nodeType==3){if(_=!!(A&&T.nodeValue[A-1]==`
`),_&&A==T.nodeValue.length)for(let O=T,k;O;O=O.parentNode){if(k=O.nextSibling){k.nodeName=="BR"&&(d=f={node:k.parentNode,offset:Zi(k)+1});break}let L=O.pmViewDesc;if(L&&L.node&&L.node.isBlock)break}}else{let O=T.childNodes[A-1];_=O&&(O.nodeName=="BR"||O.contentEditable=="false")}}if(Ms&&y.focusNode&&y.focusNode!=f.node&&y.focusNode.nodeType==1){let T=y.focusNode.childNodes[y.focusOffset];T&&T.contentEditable=="false"&&(r=!0)}if(!(r||_&&Cr)&&Ac(d.node,d.offset,y.anchorNode,y.anchorOffset)&&Ac(f.node,f.offset,y.focusNode,y.focusOffset))return;let S=!1;if((p.extend||e==n)&&!(_&&Ms)){p.collapse(d.node,d.offset);try{e!=n&&p.extend(f.node,f.offset),S=!0}catch{}}if(!S){if(e>n){let A=d;d=f,f=A}let T=document.createRange();T.setEnd(f.node,f.offset),T.setStart(d.node,d.offset),p.removeAllRanges(),p.addRange(T)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,r=0;r<this.children.length;r++){let s=this.children[r],l=i+s.size;if(i==l?e<=l&&n>=i:e<l&&n>i){let d=i+s.border,f=l-s.border;if(e>=d&&n<=f){this.dirty=e==i||n==l?fc:B3,e==d&&n==f&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Aa:s.markDirty(e-d,n-d);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?fc:Aa}i=l}this.dirty=fc}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?fc:B3;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class zA extends Jf{constructor(e,n,i,r){let s,l=n.type.toDOM;if(typeof l=="function"&&(l=l(i,()=>{if(!s)return r;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(l.nodeType!=1){let d=document.createElement("span");d.appendChild(l),l=d}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Rs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class yK extends Jf{constructor(e,n,i,r){super(e,[],n,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Tc extends Jf{constructor(e,n,i,r,s){super(e,[],i,r),this.mark=n,this.spec=s}static create(e,n,i,r){let s=r.nodeViews[n.type.name],l=s&&s(n,r,i);return(!l||!l.dom)&&(l=Ic.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new Tc(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Aa||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Aa&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Rs){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Rs}}slice(e,n,i){let r=Tc.create(this.parent,this.mark,!0,i),s=this.children,l=this.size;n<l&&(s=Oy(s,n,l,i)),e>0&&(s=Oy(s,0,e,i));for(let d=0;d<s.length;d++)s[d].parent=r;return r.children=s,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class bl extends Jf{constructor(e,n,i,r,s,l,d,f,p){super(e,[],s,l),this.node=n,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=d}static create(e,n,i,r,s,l){let d=s.nodeViews[n.type.name],f,p=d&&d(n,s,()=>{if(!f)return l;if(f.parent)return f.parent.posBeforeChild(f)},i,r),y=p&&p.dom,_=p&&p.contentDOM;if(n.isText){if(!y)y=document.createTextNode(n.text);else if(y.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else y||({dom:y,contentDOM:_}=Ic.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!_&&!n.isText&&y.nodeName!="BR"&&(y.hasAttribute("contenteditable")||(y.contentEditable="false"),n.type.spec.draggable&&(y.draggable=!0));let S=y;return y=$A(y,i,n),p?f=new vK(e,n,i,r,y,_||null,S,p,s,l+1):n.isText?new Am(e,n,i,r,y,S,s):new bl(e,n,i,r,y,_||null,S,s,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Pe.empty)}return e}matchesNode(e,n,i){return this.dirty==Rs&&e.eq(this.node)&&w1(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,r=n,s=e.composing?this.localCompositionInfo(e,n):null,l=s&&s.pos>-1?s:null,d=s&&s.pos<0,f=new wK(this,l&&l.node,e);SK(this.node,this.innerDeco,(p,y,_)=>{p.spec.marks?f.syncToMarks(p.spec.marks,i,e):p.type.side>=0&&!_&&f.syncToMarks(y==this.node.childCount?Nn.none:this.node.child(y).marks,i,e),f.placeWidget(p,e,r)},(p,y,_,S)=>{f.syncToMarks(p.marks,i,e);let T;f.findNodeMatch(p,y,_,S)||d&&e.state.selection.from>r&&e.state.selection.to<r+p.nodeSize&&(T=f.findIndexWithChild(s.node))>-1&&f.updateNodeAt(p,y,_,T,e)||f.updateNextNode(p,y,_,e,S,r)||f.addNode(p,y,_,e,r),r+=p.nodeSize}),f.syncToMarks([],i,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==fc)&&(l&&this.protectLocalComposition(e,l),UA(this.contentDOM,this.children,e),$u&&EK(this.dom))}localCompositionInfo(e,n){let{from:i,to:r}=e.state.selection;if(!(e.state.selection instanceof wt)||i<n||r>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,d=AK(this.node.content,l,i-n,r-n);return d<0?null:{node:s,pos:d,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:r}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let l=new yK(this,s,n,r);e.input.compositionNodes.push(l),this.children=Oy(this.children,i,i+r.length,e,l)}update(e,n,i,r){return this.dirty==Aa||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,r),!0)}updateInner(e,n,i,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Rs}updateOuterDeco(e){if(w1(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=VA(this.dom,this.nodeDOM,Ry(this.outerDeco,this.node,n),Ry(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function L3(t,e,n,i,r){$A(i,e,t);let s=new bl(void 0,t,e,n,i,i,i,r,0);return s.contentDOM&&s.updateChildren(r,0),s}class Am extends bl{constructor(e,n,i,r,s,l,d){super(e,n,i,r,s,null,l,d,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,r){return this.dirty==Aa||this.dirty!=Rs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Rs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=Rs,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let r=this.node.cut(e,n),s=document.createTextNode(r.text);return new Am(this.parent,r,this.outerDeco,this.innerDeco,s,s,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Aa)}get domAtom(){return!1}isText(e){return this.node.text==e}}class HA extends Jf{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Rs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class vK extends bl{constructor(e,n,i,r,s,l,d,f,p,y){super(e,n,i,r,s,l,d,p,y),this.spec=f}update(e,n,i,r){if(this.dirty==Aa)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,i);return s&&this.updateInner(e,n,i,r),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,r){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function UA(t,e,n){let i=t.firstChild,r=!1;for(let s=0;s<e.length;s++){let l=e[s],d=l.dom;if(d.parentNode==t){for(;d!=i;)i=j3(i),r=!0;i=i.nextSibling}else r=!0,t.insertBefore(d,i);if(l instanceof Tc){let f=i?i.previousSibling:t.lastChild;UA(l.contentDOM,l.children,n),i=f?f.nextSibling:t.firstChild}}for(;i;)i=j3(i),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const vf=function(t){t&&(this.nodeName=t)};vf.prototype=Object.create(null);const hc=[new vf];function Ry(t,e,n){if(t.length==0)return hc;let i=n?hc[0]:new vf,r=[i];for(let s=0;s<t.length;s++){let l=t[s].type.attrs;if(l){l.nodeName&&r.push(i=new vf(l.nodeName));for(let d in l){let f=l[d];f!=null&&(n&&r.length==1&&r.push(i=new vf(e.isInline?"span":"div")),d=="class"?i.class=(i.class?i.class+" ":"")+f:d=="style"?i.style=(i.style?i.style+";":"")+f:d!="nodeName"&&(i[d]=f))}}}return r}function VA(t,e,n,i){if(n==hc&&i==hc)return e;let r=e;for(let s=0;s<i.length;s++){let l=i[s],d=n[s];if(s){let f;d&&d.nodeName==l.nodeName&&r!=t&&(f=r.parentNode)&&f.nodeName.toLowerCase()==l.nodeName||(f=document.createElement(l.nodeName),f.pmIsDeco=!0,f.appendChild(r),d=hc[0]),r=f}bK(r,d||hc[0],l)}return r}function bK(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.remove(i[s]);for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.add(r[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function $A(t,e,n){return VA(t,t,hc,Ry(e,n,t.nodeType!=1))}function w1(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function j3(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class wK{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=_K(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i){let r=0,s=this.stack.length>>1,l=Math.min(s,e.length);for(;r<l&&(r==s-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<s;)this.destroyRest(),this.top.dirty=Rs,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let d=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let p=this.top.children[f];if(p.matchesMark(e[s])&&!this.isLocked(p.dom)){d=f;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let f=Tc.create(this.top,e[s],n,i);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,i,r){let s=-1,l;if(r>=this.preMatch.index&&(l=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,i))s=this.top.children.indexOf(l,this.index);else for(let d=this.index,f=Math.min(this.top.children.length,d+5);d<f;d++){let p=this.top.children[d];if(p.matchesNode(e,n,i)&&!this.preMatch.matched.has(p)){s=d;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,i,r,s){let l=this.top.children[r];return l.dirty==Aa&&l.dom==l.contentDOM&&(l.dirty=fc),l.update(e,n,i,s)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}e=n}}updateNextNode(e,n,i,r,s,l){for(let d=this.index;d<this.top.children.length;d++){let f=this.top.children[d];if(f instanceof bl){let p=this.preMatch.matched.get(f);if(p!=null&&p!=s)return!1;let y=f.dom,_,S=this.isLocked(y)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=Aa&&w1(n,f.outerDeco));if(!S&&f.update(e,n,i,r))return this.destroyBetween(this.index,d),f.dom!=y&&(this.changed=!0),this.index++,!0;if(!S&&(_=this.recreateWrapper(f,e,n,i,r,l)))return this.destroyBetween(this.index,d),this.top.children[this.index]=_,_.contentDOM&&(_.dirty=fc,_.updateChildren(r,l+1),_.dirty=Rs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,r,s,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!w1(i,e.outerDeco)||!r.eq(e.innerDeco))return null;let d=bl.create(this.top,n,i,r,s,l);if(d.contentDOM){d.children=e.children,e.children=[];for(let f of d.children)f.parent=d}return e.destroy(),d}addNode(e,n,i,r,s){let l=bl.create(this.top,e,n,i,r,s);l.contentDOM&&l.updateChildren(r,s+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let s=new zA(this.top,e,n,i);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Tc;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Am)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Cr||dr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new HA(this.top,[],i,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function _K(t,e){let n=e,i=n.children.length,r=t.childCount,s=new Map,l=[];e:for(;r>0;){let d;for(;;)if(i){let p=n.children[i-1];if(p instanceof Tc)n=p,i=p.children.length;else{d=p,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let f=d.node;if(f){if(f!=t.child(r-1))break;--r,s.set(d,r),l.push(d)}}return{index:r,matched:s,matches:l.reverse()}}function CK(t,e){return t.type.side-e.type.side}function SK(t,e,n,i){let r=e.locals(t),s=0;if(r.length==0){for(let p=0;p<t.childCount;p++){let y=t.child(p);i(y,r,e.forChild(s,y),p),s+=y.nodeSize}return}let l=0,d=[],f=null;for(let p=0;;){let y,_;for(;l<r.length&&r[l].to==s;){let k=r[l++];k.widget&&(y?(_||(_=[y])).push(k):y=k)}if(y)if(_){_.sort(CK);for(let k=0;k<_.length;k++)n(_[k],p,!!f)}else n(y,p,!!f);let S,T;if(f)T=-1,S=f,f=null;else if(p<t.childCount)T=p,S=t.child(p++);else break;for(let k=0;k<d.length;k++)d[k].to<=s&&d.splice(k--,1);for(;l<r.length&&r[l].from<=s&&r[l].to>s;)d.push(r[l++]);let A=s+S.nodeSize;if(S.isText){let k=A;l<r.length&&r[l].from<k&&(k=r[l].from);for(let L=0;L<d.length;L++)d[L].to<k&&(k=d[L].to);k<A&&(f=S.cut(k-s),S=S.cut(0,k-s),A=k,T=-1)}else for(;l<r.length&&r[l].to<A;)l++;let O=S.isInline&&!S.isLeaf?d.filter(k=>!k.inline):d.slice();i(S,O,e.forChild(s,S),T),s=A}}function EK(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function AK(t,e,n,i){for(let r=0,s=0;r<t.childCount&&s<=i;){let l=t.child(r++),d=s;if(s+=l.nodeSize,!l.isText)continue;let f=l.text;for(;r<t.childCount;){let p=t.child(r++);if(s+=p.nodeSize,!p.isText)break;f+=p.text}if(s>=n){if(s>=i&&f.slice(i-e.length-d,i-d)==e)return i-e.length;let p=d<i?f.lastIndexOf(e,i-d-1):-1;if(p>=0&&p+e.length+d>=n)return d+p;if(n==i&&f.length>=i+e.length-d&&f.slice(i-d,i-d+e.length)==e)return i}}return-1}function Oy(t,e,n,i,r){let s=[];for(let l=0,d=0;l<t.length;l++){let f=t[l],p=d,y=d+=f.size;p>=n||y<=e?s.push(f):(p<e&&s.push(f.slice(0,e-p,i)),r&&(s.push(r),r=void 0),y>n&&s.push(f.slice(n-p,f.size,i)))}return s}function k2(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),s=r&&r.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let d=i.resolve(l),f,p;if(Em(n)){for(f=l;r&&!r.node;)r=r.parent;let _=r.node;if(r&&_.isAtom&&ht.isSelectable(_)&&r.parent&&!(_.isInline&&QY(n.focusNode,n.focusOffset,r.dom))){let S=r.posBefore;p=new ht(l==S?d:i.resolve(S))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let _=l,S=l;for(let T=0;T<n.rangeCount;T++){let A=n.getRangeAt(T);_=Math.min(_,t.docView.posFromDOM(A.startContainer,A.startOffset,1)),S=Math.max(S,t.docView.posFromDOM(A.endContainer,A.endOffset,-1))}if(_<0)return null;[f,l]=S==t.state.selection.anchor?[S,_]:[_,S],d=i.resolve(l)}else f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let y=i.resolve(f);if(!p){let _=e=="pointer"||t.state.selection.head<d.pos&&!s?1:-1;p=D2(t,y,d,_)}return p}function GA(t){return t.editable?t.hasFocus():WA(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function go(t,e=!1){let n=t.state.selection;if(qA(t,n),!!GA(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&dr){let i=t.domSelectionRange(),r=t.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&Ac(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)NK(t);else{let{anchor:i,head:r}=n,s,l;P3&&!(n instanceof wt)&&(n.$from.parent.inlineContent||(s=F3(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=F3(t,n.to))),t.docView.setSelection(i,r,t,e),P3&&(s&&z3(s),l&&z3(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&TK(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const P3=Cr||dr&&kA<63;function F3(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),r=i<n.childNodes.length?n.childNodes[i]:null,s=i?n.childNodes[i-1]:null;if(Cr&&r&&r.contentEditable=="false")return Lx(r);if((!r||r.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(r)return Lx(r);if(s)return Lx(s)}}function Lx(t){return t.contentEditable="true",Cr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function z3(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function TK(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!GA(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function NK(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?e.collapse(n.parentNode,Zi(n)+1):e.collapse(n,0),!i&&!t.state.selection.visible&&Fr&&vl<=11&&(n.disabled=!0,n.disabled=!1)}function qA(t,e){if(e instanceof ht){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(H3(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else H3(t)}function H3(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function D2(t,e,n,i){return t.someProp("createSelectionBetween",r=>r(t,e,n))||wt.between(e,n,i)}function U3(t){return t.editable&&!t.hasFocus()?!1:WA(t)}function WA(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function MK(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Ac(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Iy(t,e){let{$anchor:n,$head:i}=t.selection,r=e>0?n.max(i):n.min(i),s=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return s&&jt.findFrom(s,e)}function al(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function V3(t,e,n){let i=t.state.selection;if(i instanceof wt)if(n.indexOf("s")>-1){let{$head:r}=i,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let l=t.state.doc.resolve(r.pos+s.nodeSize*(e<0?-1:1));return al(t,new wt(i.$anchor,l))}else if(i.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=Iy(t.state,e);return r&&r instanceof ht?al(t,r):!1}else if(!(Ts&&n.indexOf("m")>-1)){let r=i.$head,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,l;if(!s||s.isText)return!1;let d=e<0?r.pos-s.nodeSize:r.pos;return s.isAtom||(l=t.docView.descAt(d))&&!l.contentDOM?ht.isSelectable(s)?al(t,new ht(e<0?t.state.doc.resolve(r.pos-s.nodeSize):r)):Qf?al(t,new wt(t.state.doc.resolve(e<0?d:d+s.nodeSize))):!1:!1}}else return!1;else{if(i instanceof ht&&i.node.isInline)return al(t,new wt(e>0?i.$to:i.$from));{let r=Iy(t.state,e);return r?al(t,r):!1}}}function _1(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function bf(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Mu(t,e){return e<0?RK(t):OK(t)}function RK(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r,s,l=!1;for(Ms&&n.nodeType==1&&i<_1(n)&&bf(n.childNodes[i],-1)&&(l=!0);;)if(i>0){if(n.nodeType!=1)break;{let d=n.childNodes[i-1];if(bf(d,-1))r=n,s=--i;else if(d.nodeType==3)n=d,i=n.nodeValue.length;else break}}else{if(XA(n))break;{let d=n.previousSibling;for(;d&&bf(d,-1);)r=n.parentNode,s=Zi(d),d=d.previousSibling;if(d)n=d,i=_1(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}l?ky(t,n,i):r&&ky(t,r,s)}function OK(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r=_1(n),s,l;for(;;)if(i<r){if(n.nodeType!=1)break;let d=n.childNodes[i];if(bf(d,1))s=n,l=++i;else break}else{if(XA(n))break;{let d=n.nextSibling;for(;d&&bf(d,1);)s=d.parentNode,l=Zi(d)+1,d=d.nextSibling;if(d)n=d,i=0,r=_1(n);else{if(n=n.parentNode,n==t.dom)break;i=r=0}}}s&&ky(t,s,l)}function XA(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function IK(t,e){for(;t&&e==t.childNodes.length&&!Zf(t);)e=Zi(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function kK(t,e){for(;t&&!e&&!Zf(t);)e=Zi(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function ky(t,e,n){if(e.nodeType!=3){let s,l;(l=IK(e,n))?(e=l,n=0):(s=kK(e,n))&&(e=s,n=s.nodeValue.length)}let i=t.domSelection();if(!i)return;if(Em(i)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),i.removeAllRanges(),i.addRange(s)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&go(t)},50)}function $3(t,e){let n=t.state.doc.resolve(e);if(!(dr||tK)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),l=(s.top+s.bottom)/2;if(l>r.top&&l<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),l=(s.top+s.bottom)/2;if(l>r.top&&l<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function G3(t,e,n){let i=t.state.selection;if(i instanceof wt&&!i.empty||n.indexOf("s")>-1||Ts&&n.indexOf("m")>-1)return!1;let{$from:r,$to:s}=i;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=Iy(t.state,e);if(l&&l instanceof ht)return al(t,l)}if(!r.parent.inlineContent){let l=e<0?r:s,d=i instanceof ls?jt.near(l,e):jt.findFrom(l,e);return d?al(t,d):!1}return!1}function q3(t,e){if(!(t.state.selection instanceof wt))return!0;let{$head:n,$anchor:i,empty:r}=t.state.selection;if(!n.sameParent(i))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let l=t.state.tr;return e<0?l.delete(n.pos-s.nodeSize,n.pos):l.delete(n.pos,n.pos+s.nodeSize),t.dispatch(l),!0}return!1}function W3(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function DK(t){if(!Cr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;W3(t,i,"true"),setTimeout(()=>W3(t,i,"false"),20)}return!1}function BK(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function LK(t,e){let n=e.keyCode,i=BK(e);if(n==8||Ts&&n==72&&i=="c")return q3(t,-1)||Mu(t,-1);if(n==46&&!e.shiftKey||Ts&&n==68&&i=="c")return q3(t,1)||Mu(t,1);if(n==13||n==27)return!0;if(n==37||Ts&&n==66&&i=="c"){let r=n==37?$3(t,t.state.selection.from)=="ltr"?-1:1:-1;return V3(t,r,i)||Mu(t,r)}else if(n==39||Ts&&n==70&&i=="c"){let r=n==39?$3(t,t.state.selection.from)=="ltr"?1:-1:1;return V3(t,r,i)||Mu(t,r)}else{if(n==38||Ts&&n==80&&i=="c")return G3(t,-1,i)||Mu(t,-1);if(n==40||Ts&&n==78&&i=="c")return DK(t)||G3(t,1,i)||Mu(t,1);if(i==(Ts?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function B2(t,e){t.someProp("transformCopied",T=>{e=T(e,t)});let n=[],{content:i,openStart:r,openEnd:s}=e;for(;r>1&&s>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,s--;let T=i.firstChild;n.push(T.type.name,T.attrs!=T.type.defaultAttrs?T.attrs:null),i=T.content}let l=t.someProp("clipboardSerializer")||Ic.fromSchema(t.state.schema),d=eT(),f=d.createElement("div");f.appendChild(l.serializeFragment(i,{document:d}));let p=f.firstChild,y,_=0;for(;p&&p.nodeType==1&&(y=JA[p.nodeName.toLowerCase()]);){for(let T=y.length-1;T>=0;T--){let A=d.createElement(y[T]);for(;f.firstChild;)A.appendChild(f.firstChild);f.appendChild(A),_++}p=f.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${r} ${s}${_?` -${_}`:""} ${JSON.stringify(n)}`);let S=t.someProp("clipboardTextSerializer",T=>T(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:S,slice:e}}function YA(t,e,n,i,r){let s=r.parent.type.spec.code,l,d;if(!n&&!e)return null;let f=!!e&&(i||s||!n);if(f){if(t.someProp("transformPastedText",S=>{e=S(e,s||i,t)}),s)return d=new We(Pe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",S=>{d=S(d,t,!0)}),d;let _=t.someProp("clipboardTextParser",S=>S(e,r,i,t));if(_)d=_;else{let S=r.marks(),{schema:T}=t.state,A=Ic.fromSchema(T);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(O=>{let k=l.appendChild(document.createElement("p"));O&&k.appendChild(A.serializeNode(T.text(O,S)))})}}else t.someProp("transformPastedHTML",_=>{n=_(n,t)}),l=zK(n),Qf&&HK(l);let p=l&&l.querySelector("[data-pm-slice]"),y=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(y&&y[3])for(let _=+y[3];_>0;_--){let S=l.firstChild;for(;S&&S.nodeType!=1;)S=S.nextSibling;if(!S)break;l=S}if(d||(d=(t.someProp("clipboardParser")||t.someProp("domParser")||yl.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(f||y),context:r,ruleFromNode(S){return S.nodeName=="BR"&&!S.nextSibling&&S.parentNode&&!jK.test(S.parentNode.nodeName)?{ignore:!0}:null}})),y)d=UK(X3(d,+y[1],+y[2]),y[4]);else if(d=We.maxOpen(PK(d.content,r),!0),d.openStart||d.openEnd){let _=0,S=0;for(let T=d.content.firstChild;_<d.openStart&&!T.type.spec.isolating;_++,T=T.firstChild);for(let T=d.content.lastChild;S<d.openEnd&&!T.type.spec.isolating;S++,T=T.lastChild);d=X3(d,_,S)}return t.someProp("transformPasted",_=>{d=_(d,t,f)}),d}const jK=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function PK(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),s,l=[];if(t.forEach(d=>{if(!l)return;let f=r.findWrapping(d.type),p;if(!f)return l=null;if(p=l.length&&s.length&&ZA(f,s,d,l[l.length-1],0))l[l.length-1]=p;else{l.length&&(l[l.length-1]=QA(l[l.length-1],s.length));let y=KA(d,f);l.push(y),r=r.matchType(y.type),s=f}}),l)return Pe.from(l)}return t}function KA(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,Pe.from(t));return t}function ZA(t,e,n,i,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let s=ZA(t,e,n,i.lastChild,r+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));if(i.contentMatchAt(i.childCount).matchType(r==t.length-1?n.type:t[r+1]))return i.copy(i.content.append(Pe.from(KA(n,t,r+1))))}}function QA(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,QA(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(Pe.empty,!0);return t.copy(n.append(i))}function Dy(t,e,n,i,r,s){let l=e<0?t.firstChild:t.lastChild,d=l.content;return t.childCount>1&&(s=0),r<i-1&&(d=Dy(d,e,n,i,r+1,s)),r>=n&&(d=e<0?l.contentMatchAt(0).fillBefore(d,s<=r).append(d):d.append(l.contentMatchAt(l.childCount).fillBefore(Pe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(d))}function X3(t,e,n){return e<t.openStart&&(t=new We(Dy(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new We(Dy(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const JA={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Y3=null;function eT(){return Y3||(Y3=document.implementation.createHTMLDocument("title"))}let jx=null;function FK(t){let e=window.trustedTypes;return e?(jx||(jx=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),jx.createHTML(t)):t}function zK(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=eT().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),r;if((r=i&&JA[i[1].toLowerCase()])&&(t=r.map(s=>"<"+s+">").join("")+t+r.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=FK(t),r)for(let s=0;s<r.length;s++)n=n.querySelector(r[s])||n;return n}function HK(t){let e=t.querySelectorAll(dr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function UK(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:r,openStart:s,openEnd:l}=t;for(let d=i.length-2;d>=0;d-=2){let f=n.nodes[i[d]];if(!f||f.hasRequiredAttrs())break;r=Pe.from(f.create(i[d+1],r)),s++,l++}return new We(r,s,l)}const Sr={},Er={},VK={touchstart:!0,touchmove:!0};class $K{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function GK(t){for(let e in Sr){let n=Sr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{WK(t,i)&&!L2(t,i)&&(t.editable||!(i.type in Er))&&n(t,i)},VK[e]?{passive:!0}:void 0)}Cr&&t.dom.addEventListener("input",()=>null),By(t)}function gl(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function qK(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function By(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>L2(t,i))})}function L2(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function WK(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function XK(t,e){!L2(t,e)&&Sr[e.type]&&(t.editable||!(e.type in Er))&&Sr[e.type](t,e)}Er.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!nT(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(po&&dr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),$u&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",r=>r(t,lc(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||LK(t,n)?n.preventDefault():gl(t,"key")};Er.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Er.keypress=(t,e)=>{let n=e;if(nT(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ts&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof wt)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",l=>l(t,i.$from.pos,i.$to.pos,r,s))&&t.dispatch(s()),n.preventDefault()}};function Tm(t){return{left:t.clientX,top:t.clientY}}function YK(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function j2(t,e,n,i,r){if(i==-1)return!1;let s=t.state.doc.resolve(i);for(let l=s.depth+1;l>0;l--)if(t.someProp(e,d=>l>s.depth?d(t,n,s.nodeAfter,s.before(l),r,!0):d(t,n,s.node(l),s.before(l),r,!1)))return!0;return!1}function zu(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let i=t.state.tr.setSelection(e);i.setMeta("pointer",!0),t.dispatch(i)}function KK(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&ht.isSelectable(i)?(zu(t,new ht(n)),!0):!1}function ZK(t,e){if(e==-1)return!1;let n=t.state.selection,i,r;n instanceof ht&&(i=n.node);let s=t.state.doc.resolve(e);for(let l=s.depth+1;l>0;l--){let d=l>s.depth?s.nodeAfter:s.node(l);if(ht.isSelectable(d)){i&&n.$from.depth>0&&l>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?r=s.before(n.$from.depth):r=s.before(l);break}}return r!=null?(zu(t,ht.create(t.state.doc,r)),!0):!1}function QK(t,e,n,i,r){return j2(t,"handleClickOn",e,n,i)||t.someProp("handleClick",s=>s(t,e,i))||(r?ZK(t,n):KK(t,n))}function JK(t,e,n,i){return j2(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",r=>r(t,e,i))}function eZ(t,e,n,i){return j2(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",r=>r(t,e,i))||tZ(t,n,i)}function tZ(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(zu(t,wt.create(i,0,i.content.size)),!0):!1;let r=i.resolve(e);for(let s=r.depth+1;s>0;s--){let l=s>r.depth?r.nodeAfter:r.node(s),d=r.before(s);if(l.inlineContent)zu(t,wt.create(i,d+1,d+1+l.content.size));else if(ht.isSelectable(l))zu(t,ht.create(i,d));else continue;return!0}}function P2(t){return C1(t)}const tT=Ts?"metaKey":"ctrlKey";Sr.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=P2(t),r=Date.now(),s="singleClick";r-t.input.lastClick.time<500&&YK(n,t.input.lastClick)&&!n[tT]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:s,button:n.button};let l=t.posAtCoords(Tm(n));l&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new nZ(t,l,n,!!i)):(s=="doubleClick"?JK:eZ)(t,l.pos,l.inside,n)?n.preventDefault():gl(t,"pointer"))};class nZ{constructor(e,n,i,r){this.view=e,this.pos=n,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[tT],this.allowDefault=i.shiftKey;let s,l;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),l=n.inside;else{let y=e.state.doc.resolve(n.pos);s=y.parent,l=y.depth?y.before():0}const d=r?null:i.target,f=d?e.docView.nearestDesc(d,!0):null;this.target=f&&f.nodeDOM.nodeType==1?f.nodeDOM:null;let{selection:p}=e.state;(i.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||p instanceof ht&&p.from<=l&&p.to>l)&&(this.mightDrag={node:s,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ms&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),gl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>go(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Tm(e))),this.updateAllowDefault(e),this.allowDefault||!n?gl(this.view,"pointer"):QK(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Cr&&this.mightDrag&&!this.mightDrag.node.isAtom||dr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(zu(this.view,jt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):gl(this.view,"pointer")}move(e){this.updateAllowDefault(e),gl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Sr.touchstart=t=>{t.input.lastTouch=Date.now(),P2(t),gl(t,"pointer")};Sr.touchmove=t=>{t.input.lastTouch=Date.now(),gl(t,"pointer")};Sr.contextmenu=t=>P2(t);function nT(t,e){return t.composing?!0:Cr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const iZ=po?5e3:-1;Er.compositionstart=Er.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof wt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),C1(t,!0),t.markCursor=null;else if(C1(t,!e.selection.empty),Ms&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let r=i.focusNode,s=i.focusOffset;r&&r.nodeType==1&&s!=0;){let l=s<0?r.lastChild:r.childNodes[s-1];if(!l)break;if(l.nodeType==3){let d=t.domSelection();d&&d.collapse(l,l.nodeValue.length);break}else r=l,s=-1}}t.input.composing=!0}iT(t,iZ)};Er.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,iT(t,20))};function iT(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>C1(t),e))}function rT(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=sZ());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function rZ(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=KY(e.focusNode,e.focusOffset),i=ZY(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let r=i.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||i==s)return s;if(!r||!r.isText(i.nodeValue))return i;if(t.input.compositionNode==i){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return i}}return n||i}function sZ(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function C1(t,e=!1){if(!(po&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),rT(t),e||t.docView&&t.docView.dirty){let n=k2(t),i=t.state.selection;return n&&!n.eq(i)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function aZ(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const kf=Fr&&vl<15||$u&&nK<604;Sr.copy=Er.cut=(t,e)=>{let n=e,i=t.state.selection,r=n.type=="cut";if(i.empty)return;let s=kf?null:n.clipboardData,l=i.content(),{dom:d,text:f}=B2(t,l);s?(n.preventDefault(),s.clearData(),s.setData("text/html",d.innerHTML),s.setData("text/plain",f)):aZ(t,d),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function oZ(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function lZ(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?Df(t,i.value,null,r,e):Df(t,i.textContent,i.innerHTML,r,e)},50)}function Df(t,e,n,i,r){let s=YA(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",f=>f(t,r,s||We.empty)))return!0;if(!s)return!1;let l=oZ(s),d=l?t.state.tr.replaceSelectionWith(l,i):t.state.tr.replaceSelection(s);return t.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function sT(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Er.paste=(t,e)=>{let n=e;if(t.composing&&!po)return;let i=kf?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&Df(t,sT(i),i.getData("text/html"),r,n)?n.preventDefault():lZ(t,n)};class aT{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const cZ=Ts?"altKey":"ctrlKey";function oT(t,e){let n=t.someProp("dragCopies",i=>!i(e));return n??!e[cZ]}Sr.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let r=t.state.selection,s=r.empty?null:t.posAtCoords(Tm(n)),l;if(!(s&&s.pos>=r.from&&s.pos<=(r instanceof ht?r.to-1:r.to))){if(i&&i.mightDrag)l=ht.create(t.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let _=t.docView.nearestDesc(n.target,!0);_&&_.node.type.spec.draggable&&_!=t.docView&&(l=ht.create(t.state.doc,_.posBefore))}}let d=(l||t.state.selection).content(),{dom:f,text:p,slice:y}=B2(t,d);(!n.dataTransfer.files.length||!dr||kA>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(kf?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",kf||n.dataTransfer.setData("text/plain",p),t.dragging=new aT(y,oT(t,n),l)};Sr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Er.dragover=Er.dragenter=(t,e)=>e.preventDefault();Er.drop=(t,e)=>{let n=e,i=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords(Tm(n));if(!r)return;let s=t.state.doc.resolve(r.pos),l=i&&i.slice;l?t.someProp("transformPasted",A=>{l=A(l,t,!1)}):l=YA(t,sT(n.dataTransfer),kf?null:n.dataTransfer.getData("text/html"),!1,s);let d=!!(i&&oT(t,n));if(t.someProp("handleDrop",A=>A(t,n,l||We.empty,d))){n.preventDefault();return}if(!l)return;n.preventDefault();let f=l?SA(t.state.doc,s.pos,l):s.pos;f==null&&(f=s.pos);let p=t.state.tr;if(d){let{node:A}=i;A?A.replace(p):p.deleteSelection()}let y=p.mapping.map(f),_=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,S=p.doc;if(_?p.replaceRangeWith(y,y,l.content.firstChild):p.replaceRange(y,y,l),p.doc.eq(S))return;let T=p.doc.resolve(y);if(_&&ht.isSelectable(l.content.firstChild)&&T.nodeAfter&&T.nodeAfter.sameMarkup(l.content.firstChild))p.setSelection(new ht(T));else{let A=p.mapping.map(f);p.mapping.maps[p.mapping.maps.length-1].forEach((O,k,L,$)=>A=$),p.setSelection(D2(t,T,p.doc.resolve(A)))}t.focus(),t.dispatch(p.setMeta("uiEvent","drop"))};Sr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&go(t)},20))};Sr.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Sr.beforeinput=(t,e)=>{if(dr&&po&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,lc(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in Er)Sr[t]=Er[t];function Bf(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class S1{constructor(e,n){this.toDOM=e,this.spec=n||vc,this.side=this.spec.side||0}map(e,n,i,r){let{pos:s,deleted:l}=e.mapResult(n.from+r,this.side<0?-1:1);return l?null:new _r(s-i,s-i,this)}valid(){return!0}eq(e){return this==e||e instanceof S1&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Bf(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class wl{constructor(e,n){this.attrs=e,this.spec=n||vc}map(e,n,i,r){let s=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-i,l=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-i;return s>=l?null:new _r(s,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof wl&&Bf(this.attrs,e.attrs)&&Bf(this.spec,e.spec)}static is(e){return e.type instanceof wl}destroy(){}}class F2{constructor(e,n){this.attrs=e,this.spec=n||vc}map(e,n,i,r){let s=e.mapResult(n.from+r,1);if(s.deleted)return null;let l=e.mapResult(n.to+r,-1);return l.deleted||l.pos<=s.pos?null:new _r(s.pos-i,l.pos-i,this)}valid(e,n){let{index:i,offset:r}=e.content.findIndex(n.from),s;return r==n.from&&!(s=e.child(i)).isText&&r+s.nodeSize==n.to}eq(e){return this==e||e instanceof F2&&Bf(this.attrs,e.attrs)&&Bf(this.spec,e.spec)}destroy(){}}class _r{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new _r(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new _r(e,e,new S1(n,i))}static inline(e,n,i,r){return new _r(e,n,new wl(i,r))}static node(e,n,i,r){return new _r(e,n,new F2(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof wl}get widget(){return this.type instanceof S1}}const Iu=[],vc={};class Wn{constructor(e,n){this.local=e.length?e:Iu,this.children=n.length?n:Iu}static create(e,n){return n.length?E1(n,e,0,vc):cr}find(e,n,i){let r=[];return this.findInner(e??0,n??1e9,r,0,i),r}findInner(e,n,i,r,s){for(let l=0;l<this.local.length;l++){let d=this.local[l];d.from<=n&&d.to>=e&&(!s||s(d.spec))&&i.push(d.copy(d.from+r,d.to+r))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let d=this.children[l]+1;this.children[l+2].findInner(e-d,n-d,i,r+d,s)}}map(e,n,i){return this==cr||e.maps.length==0?this:this.mapInner(e,n,0,0,i||vc)}mapInner(e,n,i,r,s){let l;for(let d=0;d<this.local.length;d++){let f=this.local[d].map(e,i,r);f&&f.type.valid(n,f)?(l||(l=[])).push(f):s.onRemove&&s.onRemove(this.local[d].spec)}return this.children.length?uZ(this.children,l||[],e,n,i,r,s):l?new Wn(l.sort(bc),Iu):cr}add(e,n){return n.length?this==cr?Wn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let r,s=0;e.forEach((d,f)=>{let p=f+i,y;if(y=cT(n,d,p)){for(r||(r=this.children.slice());s<r.length&&r[s]<f;)s+=3;r[s]==f?r[s+2]=r[s+2].addInner(d,y,p+1):r.splice(s,0,f,f+d.nodeSize,E1(y,d,p+1,vc)),s+=3}});let l=lT(s?uT(n):n,-i);for(let d=0;d<l.length;d++)l[d].type.valid(e,l[d])||l.splice(d--,1);return new Wn(l.length?this.local.concat(l).sort(bc):this.local,r||this.children)}remove(e){return e.length==0||this==cr?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,r=this.local;for(let s=0;s<i.length;s+=3){let l,d=i[s]+n,f=i[s+1]+n;for(let y=0,_;y<e.length;y++)(_=e[y])&&_.from>d&&_.to<f&&(e[y]=null,(l||(l=[])).push(_));if(!l)continue;i==this.children&&(i=this.children.slice());let p=i[s+2].removeInner(l,d+1);p!=cr?i[s+2]=p:(i.splice(s,3),s-=3)}if(r.length){for(let s=0,l;s<e.length;s++)if(l=e[s])for(let d=0;d<r.length;d++)r[d].eq(l,n)&&(r==this.local&&(r=this.local.slice()),r.splice(d--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new Wn(r,i):cr}forChild(e,n){if(this==cr)return this;if(n.isLeaf)return Wn.empty;let i,r;for(let d=0;d<this.children.length;d+=3)if(this.children[d]>=e){this.children[d]==e&&(i=this.children[d+2]);break}let s=e+1,l=s+n.content.size;for(let d=0;d<this.local.length;d++){let f=this.local[d];if(f.from<l&&f.to>s&&f.type instanceof wl){let p=Math.max(s,f.from)-s,y=Math.min(l,f.to)-s;p<y&&(r||(r=[])).push(f.copy(p,y))}}if(r){let d=new Wn(r.sort(bc),Iu);return i?new ul([d,i]):d}return i||cr}eq(e){if(this==e)return!0;if(!(e instanceof Wn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return z2(this.localsInner(e))}localsInner(e){if(this==cr)return Iu;if(e.inlineContent||!this.local.some(wl.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof wl||n.push(this.local[i]);return n}forEachSet(e){e(this)}}Wn.empty=new Wn([],[]);Wn.removeOverlap=z2;const cr=Wn.empty;class ul{constructor(e){this.members=e}map(e,n){const i=this.members.map(r=>r.map(e,n,vc));return ul.from(i)}forChild(e,n){if(n.isLeaf)return Wn.empty;let i=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(e,n);s!=cr&&(s instanceof ul?i=i.concat(s.members):i.push(s))}return ul.from(i)}eq(e){if(!(e instanceof ul)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(e);if(s.length)if(!n)n=s;else{i&&(n=n.slice(),i=!1);for(let l=0;l<s.length;l++)n.push(s[l])}}return n?z2(i?n:n.sort(bc)):Iu}static from(e){switch(e.length){case 0:return cr;case 1:return e[0];default:return new ul(e.every(n=>n instanceof Wn)?e:e.reduce((n,i)=>n.concat(i instanceof Wn?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function uZ(t,e,n,i,r,s,l){let d=t.slice();for(let p=0,y=s;p<n.maps.length;p++){let _=0;n.maps[p].forEach((S,T,A,O)=>{let k=O-A-(T-S);for(let L=0;L<d.length;L+=3){let $=d[L+1];if($<0||S>$+y-_)continue;let P=d[L]+y-_;T>=P?d[L+1]=S<=P?-2:-1:S>=y&&k&&(d[L]+=k,d[L+1]+=k)}_+=k}),y=n.maps[p].map(y,-1)}let f=!1;for(let p=0;p<d.length;p+=3)if(d[p+1]<0){if(d[p+1]==-2){f=!0,d[p+1]=-1;continue}let y=n.map(t[p]+s),_=y-r;if(_<0||_>=i.content.size){f=!0;continue}let S=n.map(t[p+1]+s,-1),T=S-r,{index:A,offset:O}=i.content.findIndex(_),k=i.maybeChild(A);if(k&&O==_&&O+k.nodeSize==T){let L=d[p+2].mapInner(n,k,y+1,t[p]+s+1,l);L!=cr?(d[p]=_,d[p+1]=T,d[p+2]=L):(d[p+1]=-2,f=!0)}else f=!0}if(f){let p=dZ(d,t,e,n,r,s,l),y=E1(p,i,0,l);e=y.local;for(let _=0;_<d.length;_+=3)d[_+1]<0&&(d.splice(_,3),_-=3);for(let _=0,S=0;_<y.children.length;_+=3){let T=y.children[_];for(;S<d.length&&d[S]<T;)S+=3;d.splice(S,0,y.children[_],y.children[_+1],y.children[_+2])}}return new Wn(e.sort(bc),d)}function lT(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let r=t[i];n.push(new _r(r.from+e,r.to+e,r.type))}return n}function dZ(t,e,n,i,r,s,l){function d(f,p){for(let y=0;y<f.local.length;y++){let _=f.local[y].map(i,r,p);_?n.push(_):l.onRemove&&l.onRemove(f.local[y].spec)}for(let y=0;y<f.children.length;y+=3)d(f.children[y+2],f.children[y]+p+1)}for(let f=0;f<t.length;f+=3)t[f+1]==-1&&d(t[f+2],e[f]+s+1);return n}function cT(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,r=null;for(let s=0,l;s<t.length;s++)(l=t[s])&&l.from>n&&l.to<i&&((r||(r=[])).push(l),t[s]=null);return r}function uT(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function E1(t,e,n,i){let r=[],s=!1;e.forEach((d,f)=>{let p=cT(t,d,f+n);if(p){s=!0;let y=E1(p,d,n+f+1,i);y!=cr&&r.push(f,f+d.nodeSize,y)}});let l=lT(s?uT(t):t,-n).sort(bc);for(let d=0;d<l.length;d++)l[d].type.valid(e,l[d])||(i.onRemove&&i.onRemove(l[d].spec),l.splice(d--,1));return l.length||r.length?new Wn(l,r):cr}function bc(t,e){return t.from-e.from||t.to-e.to}function z2(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let r=n+1;r<e.length;r++){let s=e[r];if(s.from==i.from){s.to!=i.to&&(e==t&&(e=t.slice()),e[r]=s.copy(s.from,i.to),K3(e,r+1,s.copy(i.to,s.to)));continue}else{s.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,s.from),K3(e,r,i.copy(s.from,i.to)));break}}}return e}function K3(t,e,n){for(;e<t.length&&bc(n,t[e])>0;)e++;t.splice(e,0,n)}function Px(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=cr&&e.push(i)}),t.cursorWrapper&&e.push(Wn.create(t.state.doc,[t.cursorWrapper.deco])),ul.from(e)}const fZ={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},hZ=Fr&&vl<=11;class pZ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class mZ{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new pZ,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);Fr&&vl<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),hZ&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,fZ)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(U3(this.view)){if(this.suppressingSelectionUpdates)return go(this.view);if(Fr&&vl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ac(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let s=e.focusNode;s;s=Vu(s))n.add(s);for(let s=e.anchorNode;s;s=Vu(s))if(n.has(s)){i=s;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&U3(e)&&!this.ignoreSelectionChange(i),s=-1,l=-1,d=!1,f=[];if(e.editable)for(let y=0;y<n.length;y++){let _=this.registerMutation(n[y],f);_&&(s=s<0?_.from:Math.min(_.from,s),l=l<0?_.to:Math.max(_.to,l),_.typeOver&&(d=!0))}if(Ms&&f.length){let y=f.filter(_=>_.nodeName=="BR");if(y.length==2){let[_,S]=y;_.parentNode&&_.parentNode.parentNode==S.parentNode?S.remove():_.remove()}else{let{focusNode:_}=this.currentSelection;for(let S of y){let T=S.parentNode;T&&T.nodeName=="LI"&&(!_||yZ(e,_)!=T)&&S.remove()}}}let p=null;s<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Em(i)&&(p=k2(e))&&p.eq(jt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,go(e),this.currentSelection.set(i),e.scrollToSelection()):(s>-1||r)&&(s>-1&&(e.docView.markDirty(s,l),gZ(e)),this.handleDOMChange(s,l,d,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||go(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let y=0;y<e.addedNodes.length;y++){let _=e.addedNodes[y];n.push(_),_.nodeType==3&&(this.lastChangedTextNode=_)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let r=e.previousSibling,s=e.nextSibling;if(Fr&&vl<=11&&e.addedNodes.length)for(let y=0;y<e.addedNodes.length;y++){let{previousSibling:_,nextSibling:S}=e.addedNodes[y];(!_||Array.prototype.indexOf.call(e.addedNodes,_)<0)&&(r=_),(!S||Array.prototype.indexOf.call(e.addedNodes,S)<0)&&(s=S)}let l=r&&r.parentNode==e.target?Zi(r)+1:0,d=i.localPosFromDOM(e.target,l,-1),f=s&&s.parentNode==e.target?Zi(s):e.target.childNodes.length,p=i.localPosFromDOM(e.target,f,1);return{from:d,to:p}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Z3=new WeakMap,Q3=!1;function gZ(t){if(!Z3.has(t)&&(Z3.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Ms,Q3)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Q3=!0}}function J3(t,e){let n=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Ac(l.node,l.offset,r,s)&&([n,i,r,s]=[r,s,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}}function xZ(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return J3(t,r)}let n;function i(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?J3(t,n):null}function yZ(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let i=t.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function vZ(t,e,n){let{node:i,fromOffset:r,toOffset:s,from:l,to:d}=t.docView.parseRange(e,n),f=t.domSelectionRange(),p,y=f.anchorNode;if(y&&t.dom.contains(y.nodeType==1?y:y.parentNode)&&(p=[{node:y,offset:f.anchorOffset}],Em(f)||p.push({node:f.focusNode,offset:f.focusOffset})),dr&&t.input.lastKeyCode===8)for(let k=s;k>r;k--){let L=i.childNodes[k-1],$=L.pmViewDesc;if(L.nodeName=="BR"&&!$){s=k;break}if(!$||$.size)break}let _=t.state.doc,S=t.someProp("domParser")||yl.fromSchema(t.state.schema),T=_.resolve(l),A=null,O=S.parse(i,{topNode:T.parent,topMatch:T.parent.contentMatchAt(T.index()),topOpen:!0,from:r,to:s,preserveWhitespace:T.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:bZ,context:T});if(p&&p[0].pos!=null){let k=p[0].pos,L=p[1]&&p[1].pos;L==null&&(L=k),A={anchor:k+l,head:L+l}}return{doc:O,sel:A,from:l,to:d}}function bZ(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Cr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Cr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const wZ=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function _Z(t,e,n,i,r){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let z=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,G=k2(t,z);if(G&&!t.state.selection.eq(G)){if(dr&&po&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",se=>se(t,lc(13,"Enter"))))return;let X=t.state.tr.setSelection(G);z=="pointer"?X.setMeta("pointer",!0):z=="key"&&X.scrollIntoView(),s&&X.setMeta("composition",s),t.dispatch(X)}return}let l=t.state.doc.resolve(e),d=l.sharedDepth(n);e=l.before(d+1),n=t.state.doc.resolve(n).after(d+1);let f=t.state.selection,p=vZ(t,e,n),y=t.state.doc,_=y.slice(p.from,p.to),S,T;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(S=t.state.selection.to,T="end"):(S=t.state.selection.from,T="start"),t.input.lastKeyCode=null;let A=EZ(_.content,p.doc.content,p.from,S,T);if(A&&t.input.domChangeCount++,($u&&t.input.lastIOSEnter>Date.now()-225||po)&&r.some(z=>z.nodeType==1&&!wZ.test(z.nodeName))&&(!A||A.endA>=A.endB)&&t.someProp("handleKeyDown",z=>z(t,lc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!A)if(i&&f instanceof wt&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))A={start:f.from,endA:f.to,endB:f.to};else{if(p.sel){let z=eS(t,t.state.doc,p.sel);if(z&&!z.eq(t.state.selection)){let G=t.state.tr.setSelection(z);s&&G.setMeta("composition",s),t.dispatch(G)}}return}t.state.selection.from<t.state.selection.to&&A.start==A.endB&&t.state.selection instanceof wt&&(A.start>t.state.selection.from&&A.start<=t.state.selection.from+2&&t.state.selection.from>=p.from?A.start=t.state.selection.from:A.endA<t.state.selection.to&&A.endA>=t.state.selection.to-2&&t.state.selection.to<=p.to&&(A.endB+=t.state.selection.to-A.endA,A.endA=t.state.selection.to)),Fr&&vl<=11&&A.endB==A.start+1&&A.endA==A.start&&A.start>p.from&&p.doc.textBetween(A.start-p.from-1,A.start-p.from+1)==" "&&(A.start--,A.endA--,A.endB--);let O=p.doc.resolveNoCache(A.start-p.from),k=p.doc.resolveNoCache(A.endB-p.from),L=y.resolve(A.start),$=O.sameParent(k)&&O.parent.inlineContent&&L.end()>=A.endA;if(($u&&t.input.lastIOSEnter>Date.now()-225&&(!$||r.some(z=>z.nodeName=="DIV"||z.nodeName=="P"))||!$&&O.pos<p.doc.content.size&&(!O.sameParent(k)||!O.parent.inlineContent)&&O.pos<k.pos&&!/\S/.test(p.doc.textBetween(O.pos,k.pos,"","")))&&t.someProp("handleKeyDown",z=>z(t,lc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>A.start&&SZ(y,A.start,A.endA,O,k)&&t.someProp("handleKeyDown",z=>z(t,lc(8,"Backspace")))){po&&dr&&t.domObserver.suppressSelectionUpdates();return}dr&&A.endB==A.start&&(t.input.lastChromeDelete=Date.now()),po&&!$&&O.start()!=k.start()&&k.parentOffset==0&&O.depth==k.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==A.endA&&(A.endB-=2,k=p.doc.resolveNoCache(A.endB-p.from),setTimeout(()=>{t.someProp("handleKeyDown",function(z){return z(t,lc(13,"Enter"))})},20));let P=A.start,R=A.endA,D=z=>{let G=z||t.state.tr.replace(P,R,p.doc.slice(A.start-p.from,A.endB-p.from));if(p.sel){let X=eS(t,G.doc,p.sel);X&&!(dr&&t.composing&&X.empty&&(A.start!=A.endB||t.input.lastChromeDelete<Date.now()-100)&&(X.head==P||X.head==G.mapping.map(R)-1)||Fr&&X.empty&&X.head==P)&&G.setSelection(X)}return s&&G.setMeta("composition",s),G.scrollIntoView()},B;if($){if(O.pos==k.pos){Fr&&vl<=11&&O.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>go(t),20));let z=D(t.state.tr.delete(P,R)),G=y.resolve(A.start).marksAcross(y.resolve(A.endA));G&&z.ensureMarks(G),t.dispatch(z)}else if(A.endA==A.endB&&(B=CZ(O.parent.content.cut(O.parentOffset,k.parentOffset),L.parent.content.cut(L.parentOffset,A.endA-L.start())))){let z=D(t.state.tr);B.type=="add"?z.addMark(P,R,B.mark):z.removeMark(P,R,B.mark),t.dispatch(z)}else if(O.parent.child(O.index()).isText&&O.index()==k.index()-(k.textOffset?0:1)){let z=O.parent.textBetween(O.parentOffset,k.parentOffset),G=()=>D(t.state.tr.insertText(z,P,R));t.someProp("handleTextInput",X=>X(t,P,R,z,G))||t.dispatch(G())}}else t.dispatch(D())}function eS(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:D2(t,e.resolve(n.anchor),e.resolve(n.head))}function CZ(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,r=n,s=i,l,d,f;for(let y=0;y<i.length;y++)r=i[y].removeFromSet(r);for(let y=0;y<n.length;y++)s=n[y].removeFromSet(s);if(r.length==1&&s.length==0)d=r[0],l="add",f=y=>y.mark(d.addToSet(y.marks));else if(r.length==0&&s.length==1)d=s[0],l="remove",f=y=>y.mark(d.removeFromSet(y.marks));else return null;let p=[];for(let y=0;y<e.childCount;y++)p.push(f(e.child(y)));if(Pe.from(p).eq(t))return{mark:d,type:l}}function SZ(t,e,n,i,r){if(n-e<=r.pos-i.pos||Fx(i,!0,!1)<r.pos)return!1;let s=t.resolve(e);if(!i.parent.isTextblock){let d=s.nodeAfter;return d!=null&&n==e+d.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let l=t.resolve(Fx(s,!0,!0));return!l.parent.isTextblock||l.pos>n||Fx(l,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(l.parent.content)}function Fx(t,e,n){let i=t.depth,r=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,r++,e=!1;if(n){let s=t.node(i).maybeChild(t.indexAfter(i));for(;s&&!s.isLeaf;)s=s.firstChild,r++}return r}function EZ(t,e,n,i,r){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:l,b:d}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let f=Math.max(0,s-Math.min(l,d));i-=l+f-s}if(l<s&&t.size<e.size){let f=i<=s&&i>=l?s-i:0;s-=f,s&&s<e.size&&tS(e.textBetween(s-1,s+1))&&(s+=f?1:-1),d=s+(d-l),l=s}else if(d<s){let f=i<=s&&i>=d?s-i:0;s-=f,s&&s<t.size&&tS(t.textBetween(s-1,s+1))&&(s+=f?1:-1),l=s+(l-d),d=s}return{start:s,endA:l,endB:d}}function tS(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class dT{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new $K,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(aS),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=rS(this),iS(this),this.nodeViews=sS(this),this.docView=L3(this.state.doc,nS(this),Px(this),this.dom,this),this.domObserver=new mZ(this,(i,r,s,l)=>_Z(this,i,r,s,l)),this.domObserver.start(),GK(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&By(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(aS),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let r=this.state,s=!1,l=!1;e.storedMarks&&this.composing&&(rT(this),l=!0),this.state=e;let d=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(d||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let T=sS(this);TZ(T,this.nodeViews)&&(this.nodeViews=T,s=!0)}(d||n.handleDOMEvents!=this._props.handleDOMEvents)&&By(this),this.editable=rS(this),iS(this);let f=Px(this),p=nS(this),y=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",_=s||!this.docView.matchesNode(e.doc,p,f);(_||!e.selection.eq(r.selection))&&(l=!0);let S=y=="preserve"&&l&&this.dom.style.overflowAnchor==null&&sK(this);if(l){this.domObserver.stop();let T=_&&(Fr||dr)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&AZ(r.selection,e.selection);if(_){let A=dr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=rZ(this)),(s||!this.docView.update(e.doc,p,f,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=L3(e.doc,p,f,this.dom,this)),A&&!this.trackWrites&&(T=!0)}T||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&MK(this))?go(this,T):(qA(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((i=this.dragging)===null||i===void 0)&&i.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),y=="reset"?this.dom.scrollTop=0:y=="to selection"?this.scrollToSelection():S&&aK(S)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ht){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&R3(this,n.getBoundingClientRect(),e)}else R3(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,r=-1;if(this.state.doc.nodeAt(i.from)==i.node)r=i.from;else{let s=i.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==i.node&&(r=s)}this.dragging=new aT(e.slice,e.move,r<0?void 0:ht.create(this.state.doc,r))}someProp(e,n){let i=this._props&&this._props[e],r;if(i!=null&&(r=n?n(i):i))return r;for(let l=0;l<this.directPlugins.length;l++){let d=this.directPlugins[l].props[e];if(d!=null&&(r=n?n(d):d))return r}let s=this.state.plugins;if(s)for(let l=0;l<s.length;l++){let d=s[l].props[e];if(d!=null&&(r=n?n(d):d))return r}}hasFocus(){if(Fr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&oK(this.dom),go(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return fK(this,e)}coordsAtPos(e,n=1){return PA(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let r=this.docView.posFromDOM(e,n,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return xK(this,n||this.state,e)}pasteHTML(e,n){return Df(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Df(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return B2(this,e)}destroy(){this.docView&&(qK(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Px(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,XY())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return XK(this,e)}domSelectionRange(){let e=this.domSelection();return e?Cr&&this.root.nodeType===11&&JY(this.dom.ownerDocument)==this.dom&&xZ(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}dT.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function nS(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[_r.node(0,t.state.doc.content.size,e)]}function iS(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:_r.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function rS(t){return!t.someProp("editable",e=>e(t.state)===!1)}function AZ(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function sS(t){let e=Object.create(null);function n(i){for(let r in i)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=i[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function TZ(t,e){let n=0,i=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)i++;return n!=i}function aS(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Al={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},A1={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},NZ=typeof navigator<"u"&&/Mac/.test(navigator.platform),MZ=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Qi=0;Qi<10;Qi++)Al[48+Qi]=Al[96+Qi]=String(Qi);for(var Qi=1;Qi<=24;Qi++)Al[Qi+111]="F"+Qi;for(var Qi=65;Qi<=90;Qi++)Al[Qi]=String.fromCharCode(Qi+32),A1[Qi]=String.fromCharCode(Qi);for(var zx in Al)A1.hasOwnProperty(zx)||(A1[zx]=Al[zx]);function RZ(t){var e=NZ&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||MZ&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?A1:Al)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const OZ=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),IZ=typeof navigator<"u"&&/Win/.test(navigator.platform);function kZ(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,r,s,l;for(let d=0;d<e.length-1;d++){let f=e[d];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))r=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))OZ?l=!0:r=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(n="Alt-"+n),r&&(n="Ctrl-"+n),l&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function DZ(t){let e=Object.create(null);for(let n in t)e[kZ(n)]=t[n];return e}function Hx(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function BZ(t){return new ni({props:{handleKeyDown:fT(t)}})}function fT(t){let e=DZ(t);return function(n,i){let r=RZ(i),s,l=e[Hx(r,i)];if(l&&l(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let d=e[Hx(r,i,!1)];if(d&&d(n.state,n.dispatch,n))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(IZ&&i.ctrlKey&&i.altKey)&&(s=Al[i.keyCode])&&s!=r){let d=e[Hx(s,i)];if(d&&d(n.state,n.dispatch,n))return!0}}return!1}}const H2=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function hT(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const pT=(t,e,n)=>{let i=hT(t,n);if(!i)return!1;let r=U2(i);if(!r){let l=i.blockRange(),d=l&&ed(l);return d==null?!1:(e&&e(t.tr.lift(l,d).scrollIntoView()),!0)}let s=r.nodeBefore;if(CT(t,r,e,-1))return!0;if(i.parent.content.size==0&&(Gu(s,"end")||ht.isSelectable(s)))for(let l=i.depth;;l--){let d=Cm(t.doc,i.before(l),i.after(l),We.empty);if(d&&d.slice.size<d.to-d.from){if(e){let f=t.tr.step(d);f.setSelection(Gu(s,"end")?jt.findFrom(f.doc.resolve(f.mapping.map(r.pos,-1)),-1):ht.create(f.doc,r.pos-s.nodeSize)),e(f.scrollIntoView())}return!0}if(l==1||i.node(l-1).childCount>1)break}return s.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0):!1},LZ=(t,e,n)=>{let i=hT(t,n);if(!i)return!1;let r=U2(i);return r?mT(t,r,e):!1},jZ=(t,e,n)=>{let i=xT(t,n);if(!i)return!1;let r=V2(i);return r?mT(t,r,e):!1};function mT(t,e,n){let i=e.nodeBefore,r=i,s=e.pos-1;for(;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;let y=r.lastChild;if(!y)return!1;r=y}let l=e.nodeAfter,d=l,f=e.pos+1;for(;!d.isTextblock;f++){if(d.type.spec.isolating)return!1;let y=d.firstChild;if(!y)return!1;d=y}let p=Cm(t.doc,s,f,We.empty);if(!p||p.from!=s||p instanceof zi&&p.slice.size>=f-s)return!1;if(n){let y=t.tr.step(p);y.setSelection(wt.create(y.doc,s)),n(y.scrollIntoView())}return!0}function Gu(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const gT=(t,e,n)=>{let{$head:i,empty:r}=t.selection,s=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;s=U2(i)}let l=s&&s.nodeBefore;return!l||!ht.isSelectable(l)?!1:(e&&e(t.tr.setSelection(ht.create(t.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)};function U2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function xT(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const yT=(t,e,n)=>{let i=xT(t,n);if(!i)return!1;let r=V2(i);if(!r)return!1;let s=r.nodeAfter;if(CT(t,r,e,1))return!0;if(i.parent.content.size==0&&(Gu(s,"start")||ht.isSelectable(s))){let l=Cm(t.doc,i.before(),i.after(),We.empty);if(l&&l.slice.size<l.to-l.from){if(e){let d=t.tr.step(l);d.setSelection(Gu(s,"start")?jt.findFrom(d.doc.resolve(d.mapping.map(r.pos)),1):ht.create(d.doc,d.mapping.map(r.pos))),e(d.scrollIntoView())}return!0}}return s.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0):!1},vT=(t,e,n)=>{let{$head:i,empty:r}=t.selection,s=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;s=V2(i)}let l=s&&s.nodeAfter;return!l||!ht.isSelectable(l)?!1:(e&&e(t.tr.setSelection(ht.create(t.doc,s.pos)).scrollIntoView()),!0)};function V2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const PZ=(t,e)=>{let n=t.selection,i=n instanceof ht,r;if(i){if(n.node.isTextblock||!Rl(t.doc,n.from))return!1;r=n.from}else if(r=_m(t.doc,n.from,-1),r==null)return!1;if(e){let s=t.tr.join(r);i&&s.setSelection(ht.create(s.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},FZ=(t,e)=>{let n=t.selection,i;if(n instanceof ht){if(n.node.isTextblock||!Rl(t.doc,n.to))return!1;i=n.to}else if(i=_m(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},zZ=(t,e)=>{let{$from:n,$to:i}=t.selection,r=n.blockRange(i),s=r&&ed(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},bT=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function $2(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const HZ=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let r=n.node(-1),s=n.indexAfter(-1),l=$2(r.contentMatchAt(s));if(!l||!r.canReplaceWith(s,s,l))return!1;if(e){let d=n.after(),f=t.tr.replaceWith(d,d,l.createAndFill());f.setSelection(jt.near(f.doc.resolve(d),1)),e(f.scrollIntoView())}return!0},wT=(t,e)=>{let n=t.selection,{$from:i,$to:r}=n;if(n instanceof ls||i.parent.inlineContent||r.parent.inlineContent)return!1;let s=$2(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let l=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,d=t.tr.insert(l,s.createAndFill());d.setSelection(wt.create(d.doc,l+1)),e(d.scrollIntoView())}return!0},_T=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(mo(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let i=n.blockRange(),r=i&&ed(i);return r==null?!1:(e&&e(t.tr.lift(i,r).scrollIntoView()),!0)};function UZ(t){return(e,n)=>{let{$from:i,$to:r}=e.selection;if(e.selection instanceof ht&&e.selection.node.isBlock)return!i.parentOffset||!mo(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let s=[],l,d,f=!1,p=!1;for(let T=i.depth;;T--)if(i.node(T).isBlock){f=i.end(T)==i.pos+(i.depth-T),p=i.start(T)==i.pos-(i.depth-T),d=$2(i.node(T-1).contentMatchAt(i.indexAfter(T-1))),s.unshift(f&&d?{type:d}:null),l=T;break}else{if(T==1)return!1;s.unshift(null)}let y=e.tr;(e.selection instanceof wt||e.selection instanceof ls)&&y.deleteSelection();let _=y.mapping.map(i.pos),S=mo(y.doc,_,s.length,s);if(S||(s[0]=d?{type:d}:null,S=mo(y.doc,_,s.length,s)),!S)return!1;if(y.split(_,s.length,s),!f&&p&&i.node(l).type!=d){let T=y.mapping.map(i.before(l)),A=y.doc.resolve(T);d&&i.node(l-1).canReplaceWith(A.index(),A.index()+1,d)&&y.setNodeMarkup(y.mapping.map(i.before(l)),d)}return n&&n(y.scrollIntoView()),!0}}const VZ=UZ(),$Z=(t,e)=>{let{$from:n,to:i}=t.selection,r,s=n.sharedDepth(i);return s==0?!1:(r=n.before(s),e&&e(t.tr.setSelection(ht.create(t.doc,r))),!0)};function GZ(t,e,n){let i=e.nodeBefore,r=e.nodeAfter,s=e.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(r.isTextblock||Rl(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function CT(t,e,n,i){let r=e.nodeBefore,s=e.nodeAfter,l,d,f=r.type.spec.isolating||s.type.spec.isolating;if(!f&&GZ(t,e,n))return!0;let p=!f&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(l=(d=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&d.matchType(l[0]||s.type).validEnd){if(n){let T=e.pos+s.nodeSize,A=Pe.empty;for(let L=l.length-1;L>=0;L--)A=Pe.from(l[L].create(null,A));A=Pe.from(r.copy(A));let O=t.tr.step(new Hi(e.pos-1,T,e.pos,T,new We(A,1,0),l.length,!0)),k=O.doc.resolve(T+2*l.length);k.nodeAfter&&k.nodeAfter.type==r.type&&Rl(O.doc,k.pos)&&O.join(k.pos),n(O.scrollIntoView())}return!0}let y=s.type.spec.isolating||i>0&&f?null:jt.findFrom(e,1),_=y&&y.$from.blockRange(y.$to),S=_&&ed(_);if(S!=null&&S>=e.depth)return n&&n(t.tr.lift(_,S).scrollIntoView()),!0;if(p&&Gu(s,"start",!0)&&Gu(r,"end")){let T=r,A=[];for(;A.push(T),!T.isTextblock;)T=T.lastChild;let O=s,k=1;for(;!O.isTextblock;O=O.firstChild)k++;if(T.canReplace(T.childCount,T.childCount,O.content)){if(n){let L=Pe.empty;for(let P=A.length-1;P>=0;P--)L=Pe.from(A[P].copy(L));let $=t.tr.step(new Hi(e.pos-A.length,e.pos+s.nodeSize,e.pos+k,e.pos+s.nodeSize-k,new We(L,A.length,0),0,!0));n($.scrollIntoView())}return!0}}return!1}function ST(t){return function(e,n){let i=e.selection,r=t<0?i.$from:i.$to,s=r.depth;for(;r.node(s).isInline;){if(!s)return!1;s--}return r.node(s).isTextblock?(n&&n(e.tr.setSelection(wt.create(e.doc,t<0?r.start(s):r.end(s)))),!0):!1}}const qZ=ST(-1),WZ=ST(1);function XZ(t,e=null){return function(n,i){let{$from:r,$to:s}=n.selection,l=r.blockRange(s),d=l&&R2(l,t,e);return d?(i&&i(n.tr.wrap(l,d).scrollIntoView()),!0):!1}}function oS(t,e=null){return function(n,i){let r=!1;for(let s=0;s<n.selection.ranges.length&&!r;s++){let{$from:{pos:l},$to:{pos:d}}=n.selection.ranges[s];n.doc.nodesBetween(l,d,(f,p)=>{if(r)return!1;if(!(!f.isTextblock||f.hasMarkup(t,e)))if(f.type==t)r=!0;else{let y=n.doc.resolve(p),_=y.index();r=y.parent.canReplaceWith(_,_+1,t)}})}if(!r)return!1;if(i){let s=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:d},$to:{pos:f}}=n.selection.ranges[l];s.setBlockType(d,f,t,e)}i(s.scrollIntoView())}return!0}}function G2(...t){return function(e,n,i){for(let r=0;r<t.length;r++)if(t[r](e,n,i))return!0;return!1}}G2(H2,pT,gT);G2(H2,yT,vT);G2(bT,wT,_T,VZ);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function YZ(t,e=null){return function(n,i){let{$from:r,$to:s}=n.selection,l=r.blockRange(s);if(!l)return!1;let d=i?n.tr:null;return KZ(d,l,t,e)?(i&&i(d.scrollIntoView()),!0):!1}}function KZ(t,e,n,i=null){let r=!1,s=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=l.resolve(e.start-2);s=new v1(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new v1(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let d=R2(s,n,i,e);return d?(t&&ZZ(t,e,d,r,n),!0):!1}function ZZ(t,e,n,i,r){let s=Pe.empty;for(let y=n.length-1;y>=0;y--)s=Pe.from(n[y].type.create(n[y].attrs,s));t.step(new Hi(e.start-(i?2:0),e.end,e.start,e.end,new We(s,0,0),n.length,!0));let l=0;for(let y=0;y<n.length;y++)n[y].type==r&&(l=y+1);let d=n.length-l,f=e.start+n.length-(i?2:0),p=e.parent;for(let y=e.startIndex,_=e.endIndex,S=!0;y<_;y++,S=!1)!S&&mo(t.doc,f,d)&&(t.split(f,d),f+=2*d),f+=p.child(y).nodeSize;return t}function QZ(t){return function(e,n){let{$from:i,$to:r}=e.selection,s=i.blockRange(r,l=>l.childCount>0&&l.firstChild.type==t);return s?n?i.node(s.depth-1).type==t?JZ(e,n,t,s):eQ(e,n,s):!0:!1}}function JZ(t,e,n,i){let r=t.tr,s=i.end,l=i.$to.end(i.depth);s<l&&(r.step(new Hi(s-1,l,s,l,new We(Pe.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new v1(r.doc.resolve(i.$from.pos),r.doc.resolve(l),i.depth));const d=ed(i);if(d==null)return!1;r.lift(i,d);let f=r.doc.resolve(r.mapping.map(s,-1)-1);return Rl(r.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&r.join(f.pos),e(r.scrollIntoView()),!0}function eQ(t,e,n){let i=t.tr,r=n.parent;for(let T=n.end,A=n.endIndex-1,O=n.startIndex;A>O;A--)T-=r.child(A).nodeSize,i.delete(T-1,T+1);let s=i.doc.resolve(n.start),l=s.nodeAfter;if(i.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let d=n.startIndex==0,f=n.endIndex==r.childCount,p=s.node(-1),y=s.index(-1);if(!p.canReplace(y+(d?0:1),y+1,l.content.append(f?Pe.empty:Pe.from(r))))return!1;let _=s.pos,S=_+l.nodeSize;return i.step(new Hi(_-(d?1:0),S+(f?1:0),_+1,S-1,new We((d?Pe.empty:Pe.from(r.copy(Pe.empty))).append(f?Pe.empty:Pe.from(r.copy(Pe.empty))),d?0:1,f?0:1),d?0:1)),e(i.scrollIntoView()),!0}function tQ(t){return function(e,n){let{$from:i,$to:r}=e.selection,s=i.blockRange(r,p=>p.childCount>0&&p.firstChild.type==t);if(!s)return!1;let l=s.startIndex;if(l==0)return!1;let d=s.parent,f=d.child(l-1);if(f.type!=t)return!1;if(n){let p=f.lastChild&&f.lastChild.type==d.type,y=Pe.from(p?t.create():null),_=new We(Pe.from(t.create(null,Pe.from(d.type.create(null,y)))),p?3:1,0),S=s.start,T=s.end;n(e.tr.step(new Hi(S-(p?3:1),T,S,T,_,1,!0)).scrollIntoView())}return!0}}var nQ=Object.defineProperty,ET=(t,e)=>{for(var n in e)nQ(t,n,{get:e[n],enumerable:!0})};function Nm(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:r}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return i},get doc(){return r},get tr(){return i=n.selection,r=n.doc,s=n.storedMarks,n}}}var Mm=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:i}=e,{tr:r}=n,s=this.buildProps(r);return Object.fromEntries(Object.entries(t).map(([l,d])=>[l,(...p)=>{const y=d(...p)(s);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(r),y}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:i,state:r}=this,{view:s}=i,l=[],d=!!t,f=t||r.tr,p=()=>(!d&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(f),l.every(_=>_===!0)),y={...Object.fromEntries(Object.entries(n).map(([_,S])=>[_,(...A)=>{const O=this.buildProps(f,e),k=S(...A)(O);return l.push(k),y}])),run:p};return y}createCan(t){const{rawCommands:e,state:n}=this,i=!1,r=t||n.tr,s=this.buildProps(r,i);return{...Object.fromEntries(Object.entries(e).map(([d,f])=>[d,(...p)=>f(...p)({...s,dispatch:void 0})])),chain:()=>this.createChain(r,i)}}buildProps(t,e=!0){const{rawCommands:n,editor:i,state:r}=this,{view:s}=i,l={tr:t,editor:i,view:s,state:Nm({state:r,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...p)=>f(...p)(l)]))}};return l}},iQ=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(i=>i.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(i=>i!==e):delete this.callbacks[t]),this}once(t,e){const n=(...i)=>{this.off(t,n),e.apply(this,i)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function AT(t,e){const n=new MA(t);return e.forEach(i=>{i.steps.forEach(r=>{n.step(r)})}),n}var TT=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):i.nodeType===1&&TT(i)}return t};function Np(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return TT(n)}function Lf(t,e,n){if(t instanceof Ws||t instanceof Pe)return t;n={slice:!0,parseOptions:{},...n};const i=typeof t=="object"&&t!==null,r=typeof t=="string";if(i)try{if(Array.isArray(t)&&t.length>0)return Pe.fromArray(t.map(d=>e.nodeFromJSON(d)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Lf("",e,n)}if(r){if(n.errorOnInvalidContent){let l=!1,d="";const f=new hA({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(l=!0,d=typeof p=="string"?p:p.outerHTML,null)}]}})});if(n.slice?yl.fromSchema(f).parseSlice(Np(t),n.parseOptions):yl.fromSchema(f).parse(Np(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${d}`)})}const s=yl.fromSchema(e);return n.slice?s.parseSlice(Np(t),n.parseOptions).content:s.parse(Np(t),n.parseOptions)}return Lf("",e,n)}function Ly(t,e,n={},i={}){return Lf(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}function rQ(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function sQ(t,e,n){const i=[];return t.nodesBetween(e.from,e.to,(r,s)=>{n(r)&&i.push({node:r,pos:s})}),i}function aQ(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function Rm(t){return e=>aQ(e.$from,t)}function ft(t,e,n){return t.config[e]===void 0&&t.parent?ft(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ft(t.parent,e,n):null}):t.config[e]}function q2(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},i=ft(e,"addExtensions",n);return i?[e,...q2(i())]:e}).flat(10)}function W2(t,e){const n=Ic.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function NT(t){return typeof t=="function"}function vn(t,e=void 0,...n){return NT(t)?e?t.bind(e)(...n):t(...n):t}function oQ(t={}){return Object.keys(t).length===0&&t.constructor===Object}function jf(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),i=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function MT(t){const e=[],{nodeExtensions:n,markExtensions:i}=jf(t),r=[...n,...i],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const d={name:l.name,options:l.options,storage:l.storage,extensions:r},f=ft(l,"addGlobalAttributes",d);if(!f)return;f().forEach(y=>{y.types.forEach(_=>{Object.entries(y.attributes).forEach(([S,T])=>{e.push({type:_,name:S,attribute:{...s,...T}})})})})}),r.forEach(l=>{const d={name:l.name,options:l.options,storage:l.storage},f=ft(l,"addAttributes",d);if(!f)return;const p=f();Object.entries(p).forEach(([y,_])=>{const S={...s,..._};typeof(S==null?void 0:S.default)=="function"&&(S.default=S.default()),S!=null&&S.isRequired&&(S==null?void 0:S.default)===void 0&&delete S.default,e.push({type:l.name,name:y,attribute:S})})}),e}function di(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([r,s])=>{if(!i[r]){i[r]=s;return}if(r==="class"){const d=s?String(s).split(" "):[],f=i[r]?i[r].split(" "):[],p=d.filter(y=>!f.includes(y));i[r]=[...f,...p].join(" ")}else if(r==="style"){const d=s?s.split(";").map(y=>y.trim()).filter(Boolean):[],f=i[r]?i[r].split(";").map(y=>y.trim()).filter(Boolean):[],p=new Map;f.forEach(y=>{const[_,S]=y.split(":").map(T=>T.trim());p.set(_,S)}),d.forEach(y=>{const[_,S]=y.split(":").map(T=>T.trim());p.set(_,S)}),i[r]=Array.from(p.entries()).map(([y,_])=>`${y}: ${_}`).join("; ")}else i[r]=s}),i},{})}function T1(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>di(n,i),{})}function lQ(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function lS(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const r=e.reduce((s,l)=>{const d=l.attribute.parseHTML?l.attribute.parseHTML(n):lQ(n.getAttribute(l.name));return d==null?s:{...s,[l.name]:d}},{});return{...i,...r}}}}function cS(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&oQ(n)?!1:n!=null))}function cQ(t,e){var n;const i=MT(t),{nodeExtensions:r,markExtensions:s}=jf(t),l=(n=r.find(p=>ft(p,"topNode")))==null?void 0:n.name,d=Object.fromEntries(r.map(p=>{const y=i.filter(L=>L.type===p.name),_={name:p.name,options:p.options,storage:p.storage,editor:e},S=t.reduce((L,$)=>{const P=ft($,"extendNodeSchema",_);return{...L,...P?P(p):{}}},{}),T=cS({...S,content:vn(ft(p,"content",_)),marks:vn(ft(p,"marks",_)),group:vn(ft(p,"group",_)),inline:vn(ft(p,"inline",_)),atom:vn(ft(p,"atom",_)),selectable:vn(ft(p,"selectable",_)),draggable:vn(ft(p,"draggable",_)),code:vn(ft(p,"code",_)),whitespace:vn(ft(p,"whitespace",_)),linebreakReplacement:vn(ft(p,"linebreakReplacement",_)),defining:vn(ft(p,"defining",_)),isolating:vn(ft(p,"isolating",_)),attrs:Object.fromEntries(y.map(L=>{var $,P;return[L.name,{default:($=L==null?void 0:L.attribute)==null?void 0:$.default,validate:(P=L==null?void 0:L.attribute)==null?void 0:P.validate}]}))}),A=vn(ft(p,"parseHTML",_));A&&(T.parseDOM=A.map(L=>lS(L,y)));const O=ft(p,"renderHTML",_);O&&(T.toDOM=L=>O({node:L,HTMLAttributes:T1(L,y)}));const k=ft(p,"renderText",_);return k&&(T.toText=k),[p.name,T]})),f=Object.fromEntries(s.map(p=>{const y=i.filter(k=>k.type===p.name),_={name:p.name,options:p.options,storage:p.storage,editor:e},S=t.reduce((k,L)=>{const $=ft(L,"extendMarkSchema",_);return{...k,...$?$(p):{}}},{}),T=cS({...S,inclusive:vn(ft(p,"inclusive",_)),excludes:vn(ft(p,"excludes",_)),group:vn(ft(p,"group",_)),spanning:vn(ft(p,"spanning",_)),code:vn(ft(p,"code",_)),attrs:Object.fromEntries(y.map(k=>{var L,$;return[k.name,{default:(L=k==null?void 0:k.attribute)==null?void 0:L.default,validate:($=k==null?void 0:k.attribute)==null?void 0:$.validate}]}))}),A=vn(ft(p,"parseHTML",_));A&&(T.parseDOM=A.map(k=>lS(k,y)));const O=ft(p,"renderHTML",_);return O&&(T.toDOM=k=>O({mark:k,HTMLAttributes:T1(k,y)})),[p.name,T]}));return new hA({topNode:l,nodes:d,marks:f})}function uQ(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return Array.from(new Set(e))}function X2(t){return t.sort((n,i)=>{const r=ft(n,"priority")||100,s=ft(i,"priority")||100;return r>s?-1:r<s?1:0})}function RT(t){const e=X2(q2(t)),n=uQ(e.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),e}function OT(t,e,n){const{from:i,to:r}=e,{blockSeparator:s=`

`,textSerializers:l={}}=n||{};let d="";return t.nodesBetween(i,r,(f,p,y,_)=>{var S;f.isBlock&&p>i&&(d+=s);const T=l==null?void 0:l[f.type.name];if(T)return y&&(d+=T({node:f,pos:p,parent:y,index:_,range:e})),!1;f.isText&&(d+=(S=f==null?void 0:f.text)==null?void 0:S.slice(Math.max(i,p)-p,r-p))}),d}function dQ(t,e){const n={from:0,to:t.content.size};return OT(t,n,e)}function IT(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function yo(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function kT(t,e){const n=yo(e,t.schema),{from:i,to:r,empty:s}=t.selection,l=[];s?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,r,f=>{l.push(...f.marks)});const d=l.find(f=>f.type.name===n.name);return d?{...d.attrs}:{}}function yi(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function fQ(t,e){const n=yi(e,t.schema),{from:i,to:r}=t.selection,s=[];t.doc.nodesBetween(i,r,d=>{s.push(d)});const l=s.reverse().find(d=>d.type.name===n.name);return l?{...l.attrs}:{}}function Om(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function DT(t,e){const n=Om(typeof e=="string"?e:e.name,t.schema);return n==="node"?fQ(t,e):n==="mark"?kT(t,e):{}}function hQ(t,e=JSON.stringify){const n={};return t.filter(i=>{const r=e(i);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function pQ(t){const e=hQ(t);return e.length===1?e:e.filter((n,i)=>!e.filter((s,l)=>l!==i).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function BT(t){const{mapping:e,steps:n}=t,i=[];return e.maps.forEach((r,s)=>{const l=[];if(r.ranges.length)r.forEach((d,f)=>{l.push({from:d,to:f})});else{const{from:d,to:f}=n[s];if(d===void 0||f===void 0)return;l.push({from:d,to:f})}l.forEach(({from:d,to:f})=>{const p=e.slice(s).map(d,-1),y=e.slice(s).map(f),_=e.invert().map(p,-1),S=e.invert().map(y);i.push({oldRange:{from:_,to:S},newRange:{from:p,to:y}})})}),pQ(i)}function Y2(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function N1(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(r=>n.strict?e[r]===t[r]:Y2(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function LT(t,e,n={}){return t.find(i=>i.type===e&&N1(Object.fromEntries(Object.keys(n).map(r=>[r,i.attrs[r]])),n))}function uS(t,e,n={}){return!!LT(t,e,n)}function K2(t,e,n){var i;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(y=>y.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(y=>y.type===e)||(n=n||((i=r.node.marks[0])==null?void 0:i.attrs),!LT([...r.node.marks],e,n)))return;let l=r.index,d=t.start()+r.offset,f=l+1,p=d+r.node.nodeSize;for(;l>0&&uS([...t.parent.child(l-1).marks],e,n);)l-=1,d-=t.parent.child(l).nodeSize;for(;f<t.parent.childCount&&uS([...t.parent.child(f).marks],e,n);)p+=t.parent.child(f).nodeSize,f+=1;return{from:d,to:p}}function Z2(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(r=>{const s=n.resolve(t),l=K2(s,r.type);l&&i.push({mark:r,...l})}):n.nodesBetween(t,e,(r,s)=>{!r||(r==null?void 0:r.nodeSize)===void 0||i.push(...r.marks.map(l=>({from:s,to:s+r.nodeSize,mark:l})))}),i}var mQ=(t,e,n,i=20)=>{const r=t.doc.resolve(n);let s=i,l=null;for(;s>0&&l===null;){const d=r.node(s);(d==null?void 0:d.type.name)===e?l=d:s-=1}return[l,s]};function Ux(t,e){return e.nodes[t]||e.marks[t]||null}function Yp(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const r=t.find(s=>s.type===e&&s.name===i);return r?r.attribute.keepOnSplit:!1}))}var gQ=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(r,s,l,d)=>{var f,p;const y=((p=(f=r.type.spec).toText)==null?void 0:p.call(f,{node:r,pos:s,parent:l,index:d}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?y:y.slice(0,Math.max(0,i-s))}),n};function jy(t,e,n={}){const{empty:i,ranges:r}=t.selection,s=e?yo(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(_=>s?s.name===_.type.name:!0).find(_=>N1(_.attrs,n,{strict:!1}));let l=0;const d=[];if(r.forEach(({$from:_,$to:S})=>{const T=_.pos,A=S.pos;t.doc.nodesBetween(T,A,(O,k)=>{if(!O.isText&&!O.marks.length)return;const L=Math.max(T,k),$=Math.min(A,k+O.nodeSize),P=$-L;l+=P,d.push(...O.marks.map(R=>({mark:R,from:L,to:$})))})}),l===0)return!1;const f=d.filter(_=>s?s.name===_.mark.type.name:!0).filter(_=>N1(_.mark.attrs,n,{strict:!1})).reduce((_,S)=>_+S.to-S.from,0),p=d.filter(_=>s?_.mark.type!==s&&_.mark.type.excludes(s):!0).reduce((_,S)=>_+S.to-S.from,0);return(f>0?f+p:f)>=l}function Tl(t,e,n={}){const{from:i,to:r,empty:s}=t.selection,l=e?yi(e,t.schema):null,d=[];t.doc.nodesBetween(i,r,(_,S)=>{if(_.isText)return;const T=Math.max(i,S),A=Math.min(r,S+_.nodeSize);d.push({node:_,from:T,to:A})});const f=r-i,p=d.filter(_=>l?l.name===_.node.type.name:!0).filter(_=>N1(_.node.attrs,n,{strict:!1}));return s?!!p.length:p.reduce((_,S)=>_+S.to-S.from,0)>=f}function xQ(t,e,n={}){if(!e)return Tl(t,null,n)||jy(t,null,n);const i=Om(e,t.schema);return i==="node"?Tl(t,e,n):i==="mark"?jy(t,e,n):!1}var yQ=(t,e)=>{const{$from:n,$to:i,$anchor:r}=t.selection;if(e){const s=Rm(d=>d.type.name===e)(t.selection);if(!s)return!1;const l=t.doc.resolve(s.pos+1);return r.pos+1===l.end()}return!(i.parentOffset<i.parent.nodeSize-2||n.pos!==i.pos)},vQ=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function dS(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function fS(t,e){const{nodeExtensions:n}=jf(e),i=n.find(l=>l.name===t);if(!i)return!1;const r={name:i.name,options:i.options,storage:i.storage},s=vn(ft(i,"group",r));return typeof s!="string"?!1:s.split(" ").includes("list")}function Im(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((i=t.text)!=null?i:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(s=>{r!==!1&&(Im(s,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function jT(t){return t instanceof ht}function PT(t){return t instanceof wt}function pc(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function FT(t,e=null){if(!e)return null;const n=jt.atStart(t),i=jt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const r=n.from,s=i.to;return e==="all"?wt.create(t,pc(0,r,s),pc(t.content.size,r,s)):wt.create(t,pc(e,r,s),pc(e,r,s))}function bQ(t,e,n){const i=t.steps.length-1;if(i<e)return;const r=t.steps[i];if(!(r instanceof zi||r instanceof Hi))return;const s=t.mapping.maps[i];let l=0;s.forEach((d,f,p,y)=>{l===0&&(l=y)}),t.setSelection(jt.near(t.doc.resolve(l),n))}var km=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},wQ=(t,e)=>{if(Y2(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function Mp(t){var e;const{editor:n,from:i,to:r,text:s,rules:l,plugin:d}=t,{view:f}=n;if(f.composing)return!1;const p=f.state.doc.resolve(i);if(p.parent.type.spec.code||(e=p.nodeBefore||p.nodeAfter)!=null&&e.marks.find(S=>S.type.spec.code))return!1;let y=!1;const _=gQ(p)+s;return l.forEach(S=>{if(y)return;const T=wQ(_,S.find);if(!T)return;const A=f.state.tr,O=Nm({state:f.state,transaction:A}),k={from:i-(T[0].length-s.length),to:r},{commands:L,chain:$,can:P}=new Mm({editor:n,state:O});S.handler({state:O,range:k,match:T,commands:L,chain:$,can:P})===null||!A.steps.length||(S.undoable&&A.setMeta(d,{transform:A,from:i,to:r,text:s}),f.dispatch(A),y=!0)}),y}function _Q(t){const{editor:e,rules:n}=t,i=new ni({state:{init(){return null},apply(r,s,l){const d=r.getMeta(i);if(d)return d;const f=r.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:y}=f;typeof y=="string"?y=y:y=W2(Pe.from(y),l.schema);const{from:_}=f,S=_+y.length;Mp({editor:e,from:_,to:S,text:y,rules:n,plugin:i})}),r.selectionSet||r.docChanged?null:s}},props:{handleTextInput(r,s,l,d){return Mp({editor:e,from:s,to:l,text:d,rules:n,plugin:i})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:s}=r.state.selection;s&&Mp({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(r,s){if(s.key!=="Enter")return!1;const{$cursor:l}=r.state.selection;return l?Mp({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function CQ(t){return Object.prototype.toString.call(t).slice(8,-1)}function Rp(t){return CQ(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function zT(t,e){const n={...t};return Rp(t)&&Rp(e)&&Object.keys(e).forEach(i=>{Rp(e[i])&&Rp(t[i])?n[i]=zT(t[i],e[i]):n[i]=e[i]}),n}var Q2=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...vn(ft(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...vn(ft(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>zT(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},kc=class HT extends Q2{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new HT(n)}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const l=r.marks();if(!!!l.find(p=>(p==null?void 0:p.type.name)===n.name))return!1;const f=l.find(p=>(p==null?void 0:p.type.name)===n.name);return f&&i.removeStoredMark(f),i.insertText(" ",r.pos),e.view.dispatch(i),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function SQ(t){return typeof t=="number"}var EQ=class{constructor(t){this.find=t.find,this.handler=t.handler}},AQ=(t,e,n)=>{if(Y2(e))return[...t.matchAll(e)];const i=e(t,n);return i?i.map(r=>{const s=[r.text];return s.index=r.index,s.input=t,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function TQ(t){const{editor:e,state:n,from:i,to:r,rule:s,pasteEvent:l,dropEvent:d}=t,{commands:f,chain:p,can:y}=new Mm({editor:e,state:n}),_=[];return n.doc.nodesBetween(i,r,(T,A)=>{var O,k,L,$,P;if((k=(O=T.type)==null?void 0:O.spec)!=null&&k.code||!(T.isText||T.isTextblock||T.isInline))return;const R=(P=($=(L=T.content)==null?void 0:L.size)!=null?$:T.nodeSize)!=null?P:0,D=Math.max(i,A),B=Math.min(r,A+R);if(D>=B)return;const z=T.isText?T.text||"":T.textBetween(D-A,B-A,void 0,"");AQ(z,s.find,l).forEach(X=>{if(X.index===void 0)return;const se=D+X.index+1,ae=se+X[0].length,ue={from:n.tr.mapping.map(se),to:n.tr.mapping.map(ae)},Oe=s.handler({state:n,range:ue,match:X,commands:f,chain:p,can:y,pasteEvent:l,dropEvent:d});_.push(Oe)})}),_.every(T=>T!==null)}var Op=null,NQ=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function MQ(t){const{editor:e,rules:n}=t;let i=null,r=!1,s=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,d;try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}const f=({state:y,from:_,to:S,rule:T,pasteEvt:A})=>{const O=y.tr,k=Nm({state:y,transaction:O});if(!(!TQ({editor:e,state:k,from:Math.max(_-1,0),to:S.b-1,rule:T,pasteEvent:A,dropEvent:d})||!O.steps.length)){try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,O}};return n.map(y=>new ni({view(_){const S=A=>{var O;i=(O=_.dom.parentElement)!=null&&O.contains(A.target)?_.dom.parentElement:null,i&&(Op=e)},T=()=>{Op&&(Op=null)};return window.addEventListener("dragstart",S),window.addEventListener("dragend",T),{destroy(){window.removeEventListener("dragstart",S),window.removeEventListener("dragend",T)}}},props:{handleDOMEvents:{drop:(_,S)=>{if(s=i===_.dom.parentElement,d=S,!s){const T=Op;T!=null&&T.isEditable&&setTimeout(()=>{const A=T.state.selection;A&&T.commands.deleteRange({from:A.from,to:A.to})},10)}return!1},paste:(_,S)=>{var T;const A=(T=S.clipboardData)==null?void 0:T.getData("text/html");return l=S,r=!!(A!=null&&A.includes("data-pm-slice")),!1}}},appendTransaction:(_,S,T)=>{const A=_[0],O=A.getMeta("uiEvent")==="paste"&&!r,k=A.getMeta("uiEvent")==="drop"&&!s,L=A.getMeta("applyPasteRules"),$=!!L;if(!O&&!k&&!$)return;if($){let{text:D}=L;typeof D=="string"?D=D:D=W2(Pe.from(D),T.schema);const{from:B}=L,z=B+D.length,G=NQ(D);return f({rule:y,state:T,from:B,to:{b:z},pasteEvt:G})}const P=S.doc.content.findDiffStart(T.doc.content),R=S.doc.content.findDiffEnd(T.doc.content);if(!(!SQ(P)||!R||P===R.b))return f({rule:y,state:T,from:P,to:R,pasteEvt:l})}}))}var Dm=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=RT(t),this.schema=cQ(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ux(e.name,this.schema)},i=ft(e,"addCommands",n);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this;return X2([...this.extensions].reverse()).flatMap(i=>{const r={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:t,type:Ux(i.name,this.schema)},s=[],l=ft(i,"addKeyboardShortcuts",r);let d={};if(i.type==="mark"&&ft(i,"exitable",r)&&(d.ArrowRight=()=>kc.handleExit({editor:t,mark:i})),l){const S=Object.fromEntries(Object.entries(l()).map(([T,A])=>[T,()=>A({editor:t})]));d={...d,...S}}const f=BZ(d);s.push(f);const p=ft(i,"addInputRules",r);if(dS(i,t.options.enableInputRules)&&p){const S=p();if(S&&S.length){const T=_Q({editor:t,rules:S}),A=Array.isArray(T)?T:[T];s.push(...A)}}const y=ft(i,"addPasteRules",r);if(dS(i,t.options.enablePasteRules)&&y){const S=y();if(S&&S.length){const T=MQ({editor:t,rules:S});s.push(...T)}}const _=ft(i,"addProseMirrorPlugins",r);if(_){const S=_();s.push(...S)}return s})}get attributes(){return MT(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=jf(this.extensions);return Object.fromEntries(e.filter(n=>!!ft(n,"addNodeView")).map(n=>{const i=this.attributes.filter(d=>d.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:yi(n.name,this.schema)},s=ft(n,"addNodeView",r);if(!s)return[];const l=(d,f,p,y,_)=>{const S=T1(d,i);return s()({node:d,view:f,getPos:p,decorations:y,innerDecorations:_,editor:t,extension:n,HTMLAttributes:S})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=jf(this.extensions);return Object.fromEntries(e.filter(n=>!!ft(n,"addMarkView")).map(n=>{const i=this.attributes.filter(d=>d.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:yo(n.name,this.schema)},s=ft(n,"addMarkView",r);if(!s)return[];const l=(d,f,p)=>{const y=T1(d,i);return s()({mark:d,view:f,inline:p,editor:t,extension:n,HTMLAttributes:y,updateAttributes:_=>{$J(d,t,_)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const i={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ux(e.name,this.schema)};e.type==="mark"&&((n=vn(ft(e,"keepOnSplit",i)))==null||n)&&this.splittableMarks.push(e.name);const r=ft(e,"onBeforeCreate",i),s=ft(e,"onCreate",i),l=ft(e,"onUpdate",i),d=ft(e,"onSelectionUpdate",i),f=ft(e,"onTransaction",i),p=ft(e,"onFocus",i),y=ft(e,"onBlur",i),_=ft(e,"onDestroy",i);r&&this.editor.on("beforeCreate",r),s&&this.editor.on("create",s),l&&this.editor.on("update",l),d&&this.editor.on("selectionUpdate",d),f&&this.editor.on("transaction",f),p&&this.editor.on("focus",p),y&&this.editor.on("blur",y),_&&this.editor.on("destroy",_)})}};Dm.resolve=RT;Dm.sort=X2;Dm.flatten=q2;var RQ={};ET(RQ,{ClipboardTextSerializer:()=>VT,Commands:()=>qT,Delete:()=>WT,Drop:()=>XT,Editable:()=>YT,FocusEvents:()=>ZT,Keymap:()=>QT,Paste:()=>JT,Tabindex:()=>e8,focusEventsPluginKey:()=>KT});var vi=class UT extends Q2{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new UT(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},VT=vi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ni({key:new Vi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:r}=e,{ranges:s}=r,l=Math.min(...s.map(y=>y.$from.pos)),d=Math.max(...s.map(y=>y.$to.pos)),f=IT(n);return OT(i,{from:l,to:d},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),$T={};ET($T,{blur:()=>OQ,clearContent:()=>IQ,clearNodes:()=>kQ,command:()=>DQ,createParagraphNear:()=>BQ,cut:()=>LQ,deleteCurrentNode:()=>jQ,deleteNode:()=>PQ,deleteRange:()=>FQ,deleteSelection:()=>zQ,enter:()=>HQ,exitCode:()=>UQ,extendMarkRange:()=>VQ,first:()=>$Q,focus:()=>qQ,forEach:()=>WQ,insertContent:()=>XQ,insertContentAt:()=>KQ,joinBackward:()=>JQ,joinDown:()=>QQ,joinForward:()=>eJ,joinItemBackward:()=>tJ,joinItemForward:()=>nJ,joinTextblockBackward:()=>iJ,joinTextblockForward:()=>rJ,joinUp:()=>ZQ,keyboardShortcut:()=>aJ,lift:()=>oJ,liftEmptyBlock:()=>lJ,liftListItem:()=>cJ,newlineInCode:()=>uJ,resetAttributes:()=>dJ,scrollIntoView:()=>fJ,selectAll:()=>hJ,selectNodeBackward:()=>pJ,selectNodeForward:()=>mJ,selectParentNode:()=>gJ,selectTextblockEnd:()=>xJ,selectTextblockStart:()=>yJ,setContent:()=>vJ,setMark:()=>wJ,setMeta:()=>_J,setNode:()=>CJ,setNodeSelection:()=>SJ,setTextSelection:()=>EJ,sinkListItem:()=>AJ,splitBlock:()=>TJ,splitListItem:()=>NJ,toggleList:()=>MJ,toggleMark:()=>RJ,toggleNode:()=>OJ,toggleWrap:()=>IJ,undoInputRule:()=>kJ,unsetAllMarks:()=>DJ,unsetMark:()=>BJ,updateAttributes:()=>LJ,wrapIn:()=>jJ,wrapInList:()=>PJ});var OQ=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),IQ=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),kQ=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:r}=i;return n&&r.forEach(({$from:s,$to:l})=>{t.doc.nodesBetween(s.pos,l.pos,(d,f)=>{if(d.type.isText)return;const{doc:p,mapping:y}=e,_=p.resolve(y.map(f)),S=p.resolve(y.map(f+d.nodeSize)),T=_.blockRange(S);if(!T)return;const A=ed(T);if(d.type.isTextblock){const{defaultType:O}=_.parent.contentMatchAt(_.index());e.setNodeMarkup(T.start,O)}(A||A===0)&&e.lift(T,A)})}),!0},DQ=t=>e=>t(e),BQ=()=>({state:t,dispatch:e})=>wT(t,e),LQ=(t,e)=>({editor:n,tr:i})=>{const{state:r}=n,s=r.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const l=i.mapping.map(e);return i.insert(l,s.content),i.setSelection(new wt(i.doc.resolve(Math.max(l-1,0)))),!0},jQ=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const r=t.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===i.type){if(e){const d=r.before(s),f=r.after(s);t.delete(d,f).scrollIntoView()}return!0}return!1},PQ=t=>({tr:e,state:n,dispatch:i})=>{const r=yi(t,n.schema),s=e.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===r){if(i){const f=s.before(l),p=s.after(l);e.delete(f,p).scrollIntoView()}return!0}return!1},FQ=t=>({tr:e,dispatch:n})=>{const{from:i,to:r}=t;return n&&e.delete(i,r),!0},zQ=()=>({state:t,dispatch:e})=>H2(t,e),HQ=()=>({commands:t})=>t.keyboardShortcut("Enter"),UQ=()=>({state:t,dispatch:e})=>HZ(t,e),VQ=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const s=yo(t,i.schema),{doc:l,selection:d}=n,{$from:f,from:p,to:y}=d;if(r){const _=K2(f,s,e);if(_&&_.from<=p&&_.to>=y){const S=wt.create(l,_.from,_.to);n.setSelection(S)}}return!0},$Q=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function GQ(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function J2(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var qQ=(t=null,e={})=>({editor:n,view:i,tr:r,dispatch:s})=>{e={scrollIntoView:!0,...e};const l=()=>{(J2()||GQ())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!PT(n.state.selection))return l(),!0;const d=FT(r.doc,t)||n.state.selection,f=n.state.selection.eq(d);return s&&(f||r.setSelection(d),f&&r.storedMarks&&r.setStoredMarks(r.storedMarks),l()),!0},WQ=(t,e)=>n=>t.every((i,r)=>e(i,{...n,index:r})),XQ=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),YQ=t=>!("type"in t),KQ=(t,e,n)=>({tr:i,dispatch:r,editor:s})=>{var l;if(r){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let d;const f=k=>{s.emit("contentError",{editor:s,error:k,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Lf(e,s.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(k){f(k)}try{d=Lf(e,s.schema,{parseOptions:p,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:s.options.enableContentCheck})}catch(k){return f(k),!1}let{from:y,to:_}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},S=!0,T=!0;if((YQ(d)?d:[d]).forEach(k=>{k.check(),S=S?k.isText&&k.marks.length===0:!1,T=T?k.isBlock:!1}),y===_&&T){const{parent:k}=i.doc.resolve(y);k.isTextblock&&!k.type.spec.code&&!k.childCount&&(y-=1,_+=1)}let O;if(S){if(Array.isArray(e))O=e.map(k=>k.text||"").join("");else if(e instanceof Pe){let k="";e.forEach(L=>{L.text&&(k+=L.text)}),O=k}else typeof e=="object"&&e&&e.text?O=e.text:O=e;i.insertText(O,y,_)}else{O=d;const k=i.doc.resolve(y),L=k.node(),$=k.parentOffset===0,P=L.isText||L.isTextblock,R=L.content.size>0;$&&P&&R&&(y=Math.max(0,y-1)),i.replaceWith(y,_,O)}n.updateSelection&&bQ(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:y,text:O}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:y,text:O})}return!0},ZQ=()=>({state:t,dispatch:e})=>PZ(t,e),QQ=()=>({state:t,dispatch:e})=>FZ(t,e),JQ=()=>({state:t,dispatch:e})=>pT(t,e),eJ=()=>({state:t,dispatch:e})=>yT(t,e),tJ=()=>({state:t,dispatch:e,tr:n})=>{try{const i=_m(t.doc,t.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},nJ=()=>({state:t,dispatch:e,tr:n})=>{try{const i=_m(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},iJ=()=>({state:t,dispatch:e})=>LZ(t,e),rJ=()=>({state:t,dispatch:e})=>jZ(t,e);function GT(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function sJ(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,r,s,l;for(let d=0;d<e.length-1;d+=1){const f=e[d];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))r=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))J2()||GT()?l=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return i&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var aJ=t=>({editor:e,view:n,tr:i,dispatch:r})=>{const s=sJ(t).split(/-(?!$)/),l=s.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),d=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{n.someProp("handleKeyDown",p=>p(n,d))});return f==null||f.steps.forEach(p=>{const y=p.map(i.mapping);y&&r&&i.maybeStep(y)}),!0},oJ=(t,e={})=>({state:n,dispatch:i})=>{const r=yi(t,n.schema);return Tl(n,r,e)?zZ(n,i):!1},lJ=()=>({state:t,dispatch:e})=>_T(t,e),cJ=t=>({state:e,dispatch:n})=>{const i=yi(t,e.schema);return QZ(i)(e,n)},uJ=()=>({state:t,dispatch:e})=>bT(t,e);function hS(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,r)=>(n.includes(r)||(i[r]=t[r]),i),{})}var dJ=(t,e)=>({tr:n,state:i,dispatch:r})=>{let s=null,l=null;const d=Om(typeof t=="string"?t:t.name,i.schema);return d?(d==="node"&&(s=yi(t,i.schema)),d==="mark"&&(l=yo(t,i.schema)),r&&n.selection.ranges.forEach(f=>{i.doc.nodesBetween(f.$from.pos,f.$to.pos,(p,y)=>{s&&s===p.type&&n.setNodeMarkup(y,void 0,hS(p.attrs,e)),l&&p.marks.length&&p.marks.forEach(_=>{l===_.type&&n.addMark(y,y+p.nodeSize,l.create(hS(_.attrs,e)))})})}),!0):!1},fJ=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),hJ=()=>({tr:t,dispatch:e})=>{if(e){const n=new ls(t.doc);t.setSelection(n)}return!0},pJ=()=>({state:t,dispatch:e})=>gT(t,e),mJ=()=>({state:t,dispatch:e})=>vT(t,e),gJ=()=>({state:t,dispatch:e})=>$Z(t,e),xJ=()=>({state:t,dispatch:e})=>WZ(t,e),yJ=()=>({state:t,dispatch:e})=>qZ(t,e),vJ=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:i={}}={})=>({editor:r,tr:s,dispatch:l,commands:d})=>{const{doc:f}=s;if(i.preserveWhitespace!=="full"){const p=Ly(t,r.schema,i,{errorOnInvalidContent:e??r.options.enableContentCheck});return l&&s.replaceWith(0,f.content.size,p).setMeta("preventUpdate",!n),!0}return l&&s.setMeta("preventUpdate",!n),d.insertContentAt({from:0,to:f.content.size},t,{parseOptions:i,errorOnInvalidContent:e??r.options.enableContentCheck})};function bJ(t,e,n){var i;const{selection:r}=e;let s=null;if(PT(r)&&(s=r.$cursor),s){const d=(i=t.storedMarks)!=null?i:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(d)||!d.some(p=>p.type.excludes(n)))}const{ranges:l}=r;return l.some(({$from:d,$to:f})=>{let p=d.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(d.pos,f.pos,(y,_,S)=>{if(p)return!1;if(y.isInline){const T=!S||S.type.allowsMarkType(n),A=!!n.isInSet(y.marks)||!y.marks.some(O=>O.type.excludes(n));p=T&&A}return!p}),p})}var wJ=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const{selection:s}=n,{empty:l,ranges:d}=s,f=yo(t,i.schema);if(r)if(l){const p=kT(i,f);n.addStoredMark(f.create({...p,...e}))}else d.forEach(p=>{const y=p.$from.pos,_=p.$to.pos;i.doc.nodesBetween(y,_,(S,T)=>{const A=Math.max(T,y),O=Math.min(T+S.nodeSize,_);S.marks.find(L=>L.type===f)?S.marks.forEach(L=>{f===L.type&&n.addMark(A,O,f.create({...L.attrs,...e}))}):n.addMark(A,O,f.create(e))})});return bJ(i,n,f)},_J=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),CJ=(t,e={})=>({state:n,dispatch:i,chain:r})=>{const s=yi(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),s.isTextblock?r().command(({commands:d})=>oS(s,{...l,...e})(n)?!0:d.clearNodes()).command(({state:d})=>oS(s,{...l,...e})(d,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},SJ=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,r=pc(t,0,i.content.size),s=ht.create(i,r);e.setSelection(s)}return!0},EJ=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:r,to:s}=typeof t=="number"?{from:t,to:t}:t,l=wt.atStart(i).from,d=wt.atEnd(i).to,f=pc(r,l,d),p=pc(s,l,d),y=wt.create(i,f,p);e.setSelection(y)}return!0},AJ=t=>({state:e,dispatch:n})=>{const i=yi(t,e.schema);return tQ(i)(e,n)};function pS(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(r=>e==null?void 0:e.includes(r.type.name));t.tr.ensureMarks(i)}}var TJ=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:r})=>{const{selection:s,doc:l}=e,{$from:d,$to:f}=s,p=r.extensionManager.attributes,y=Yp(p,d.node().type.name,d.node().attrs);if(s instanceof ht&&s.node.isBlock)return!d.parentOffset||!mo(l,d.pos)?!1:(i&&(t&&pS(n,r.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const _=f.parentOffset===f.parent.content.size,S=d.depth===0?void 0:rQ(d.node(-1).contentMatchAt(d.indexAfter(-1)));let T=_&&S?[{type:S,attrs:y}]:void 0,A=mo(e.doc,e.mapping.map(d.pos),1,T);if(!T&&!A&&mo(e.doc,e.mapping.map(d.pos),1,S?[{type:S}]:void 0)&&(A=!0,T=S?[{type:S,attrs:y}]:void 0),i){if(A&&(s instanceof wt&&e.deleteSelection(),e.split(e.mapping.map(d.pos),1,T),S&&!_&&!d.parentOffset&&d.parent.type!==S)){const O=e.mapping.map(d.before()),k=e.doc.resolve(O);d.node(-1).canReplaceWith(k.index(),k.index()+1,S)&&e.setNodeMarkup(e.mapping.map(d.before()),S)}t&&pS(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return A},NJ=(t,e={})=>({tr:n,state:i,dispatch:r,editor:s})=>{var l;const d=yi(t,i.schema),{$from:f,$to:p}=i.selection,y=i.selection.node;if(y&&y.isBlock||f.depth<2||!f.sameParent(p))return!1;const _=f.node(-1);if(_.type!==d)return!1;const S=s.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==d||f.index(-2)!==f.node(-2).childCount-1)return!1;if(r){let L=Pe.empty;const $=f.index(-1)?1:f.index(-2)?2:3;for(let G=f.depth-$;G>=f.depth-3;G-=1)L=Pe.from(f.node(G).copy(L));const P=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,R={...Yp(S,f.node().type.name,f.node().attrs),...e},D=((l=d.contentMatch.defaultType)==null?void 0:l.createAndFill(R))||void 0;L=L.append(Pe.from(d.createAndFill(null,D)||void 0));const B=f.before(f.depth-($-1));n.replace(B,f.after(-P),new We(L,4-$,0));let z=-1;n.doc.nodesBetween(B,n.doc.content.size,(G,X)=>{if(z>-1)return!1;G.isTextblock&&G.content.size===0&&(z=X+1)}),z>-1&&n.setSelection(wt.near(n.doc.resolve(z))),n.scrollIntoView()}return!0}const T=p.pos===f.end()?_.contentMatchAt(0).defaultType:null,A={...Yp(S,_.type.name,_.attrs),...e},O={...Yp(S,f.node().type.name,f.node().attrs),...e};n.delete(f.pos,p.pos);const k=T?[{type:d,attrs:A},{type:T,attrs:O}]:[{type:d,attrs:A}];if(!mo(n.doc,f.pos,2))return!1;if(r){const{selection:L,storedMarks:$}=i,{splittableMarks:P}=s.extensionManager,R=$||L.$to.parentOffset&&L.$from.marks();if(n.split(f.pos,2,k).scrollIntoView(),!R||!r)return!0;const D=R.filter(B=>P.includes(B.type.name));n.ensureMarks(D)}return!0},Vx=(t,e)=>{const n=Rm(l=>l.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&Rl(t.doc,n.pos)&&t.join(n.pos),!0},$x=(t,e)=>{const n=Rm(l=>l.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&Rl(t.doc,i)&&t.join(i),!0},MJ=(t,e,n,i={})=>({editor:r,tr:s,state:l,dispatch:d,chain:f,commands:p,can:y})=>{const{extensions:_,splittableMarks:S}=r.extensionManager,T=yi(t,l.schema),A=yi(e,l.schema),{selection:O,storedMarks:k}=l,{$from:L,$to:$}=O,P=L.blockRange($),R=k||O.$to.parentOffset&&O.$from.marks();if(!P)return!1;const D=Rm(B=>fS(B.type.name,_))(O);if(P.depth>=1&&D&&P.depth-D.depth<=1){if(D.node.type===T)return p.liftListItem(A);if(fS(D.node.type.name,_)&&T.validContent(D.node.content)&&d)return f().command(()=>(s.setNodeMarkup(D.pos,T),!0)).command(()=>Vx(s,T)).command(()=>$x(s,T)).run()}return!n||!R||!d?f().command(()=>y().wrapInList(T,i)?!0:p.clearNodes()).wrapInList(T,i).command(()=>Vx(s,T)).command(()=>$x(s,T)).run():f().command(()=>{const B=y().wrapInList(T,i),z=R.filter(G=>S.includes(G.type.name));return s.ensureMarks(z),B?!0:p.clearNodes()}).wrapInList(T,i).command(()=>Vx(s,T)).command(()=>$x(s,T)).run()},RJ=(t,e={},n={})=>({state:i,commands:r})=>{const{extendEmptyMarkRange:s=!1}=n,l=yo(t,i.schema);return jy(i,l,e)?r.unsetMark(l,{extendEmptyMarkRange:s}):r.setMark(l,e)},OJ=(t,e,n={})=>({state:i,commands:r})=>{const s=yi(t,i.schema),l=yi(e,i.schema),d=Tl(i,s,n);let f;return i.selection.$anchor.sameParent(i.selection.$head)&&(f=i.selection.$anchor.parent.attrs),d?r.setNode(l,f):r.setNode(s,{...f,...n})},IJ=(t,e={})=>({state:n,commands:i})=>{const r=yi(t,n.schema);return Tl(n,r,e)?i.lift(r):i.wrapIn(r,e)},kJ=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const r=n[i];let s;if(r.spec.isInputRules&&(s=r.getState(t))){if(e){const l=t.tr,d=s.transform;for(let f=d.steps.length-1;f>=0;f-=1)l.step(d.steps[f].invert(d.docs[f]));if(s.text){const f=l.doc.resolve(s.from).marks();l.replaceWith(s.from,s.to,t.schema.text(s.text,f))}else l.delete(s.from,s.to)}return!0}}return!1},DJ=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:r}=n;return i||e&&r.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},BJ=(t,e={})=>({tr:n,state:i,dispatch:r})=>{var s;const{extendEmptyMarkRange:l=!1}=e,{selection:d}=n,f=yo(t,i.schema),{$from:p,empty:y,ranges:_}=d;if(!r)return!0;if(y&&l){let{from:S,to:T}=d;const A=(s=p.marks().find(k=>k.type===f))==null?void 0:s.attrs,O=K2(p,f,A);O&&(S=O.from,T=O.to),n.removeMark(S,T,f)}else _.forEach(S=>{n.removeMark(S.$from.pos,S.$to.pos,f)});return n.removeStoredMark(f),!0},LJ=(t,e={})=>({tr:n,state:i,dispatch:r})=>{let s=null,l=null;const d=Om(typeof t=="string"?t:t.name,i.schema);return d?(d==="node"&&(s=yi(t,i.schema)),d==="mark"&&(l=yo(t,i.schema)),r&&n.selection.ranges.forEach(f=>{const p=f.$from.pos,y=f.$to.pos;let _,S,T,A;n.selection.empty?i.doc.nodesBetween(p,y,(O,k)=>{s&&s===O.type&&(T=Math.max(k,p),A=Math.min(k+O.nodeSize,y),_=k,S=O)}):i.doc.nodesBetween(p,y,(O,k)=>{k<p&&s&&s===O.type&&(T=Math.max(k,p),A=Math.min(k+O.nodeSize,y),_=k,S=O),k>=p&&k<=y&&(s&&s===O.type&&n.setNodeMarkup(k,void 0,{...O.attrs,...e}),l&&O.marks.length&&O.marks.forEach(L=>{if(l===L.type){const $=Math.max(k,p),P=Math.min(k+O.nodeSize,y);n.addMark($,P,l.create({...L.attrs,...e}))}}))}),S&&(_!==void 0&&n.setNodeMarkup(_,void 0,{...S.attrs,...e}),l&&S.marks.length&&S.marks.forEach(O=>{l===O.type&&n.addMark(T,A,l.create({...O.attrs,...e}))}))}),!0):!1},jJ=(t,e={})=>({state:n,dispatch:i})=>{const r=yi(t,n.schema);return XZ(r,e)(n,i)},PJ=(t,e={})=>({state:n,dispatch:i})=>{const r=yi(t,n.schema);return YZ(r,e)(n,i)},qT=vi.create({name:"commands",addCommands(){return{...$T}}}),WT=vi.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,i,r;const s=()=>{var l,d,f,p;if((p=(f=(d=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:d.filterTransaction)==null?void 0:f.call(d,t))!=null?p:t.getMeta("y-sync$"))return;const y=AT(t.before,[t,...e]);BT(y).forEach(T=>{y.mapping.mapResult(T.oldRange.from).deletedAfter&&y.mapping.mapResult(T.oldRange.to).deletedBefore&&y.before.nodesBetween(T.oldRange.from,T.oldRange.to,(A,O)=>{const k=O+A.nodeSize-2,L=T.oldRange.from<=O&&k<=T.oldRange.to;this.editor.emit("delete",{type:"node",node:A,from:O,to:k,newFrom:y.mapping.map(O),newTo:y.mapping.map(k),deletedRange:T.oldRange,newRange:T.newRange,partial:!L,editor:this.editor,transaction:t,combinedTransform:y})})});const S=y.mapping;y.steps.forEach((T,A)=>{var O,k;if(T instanceof qs){const L=S.slice(A).map(T.from,-1),$=S.slice(A).map(T.to),P=S.invert().map(L,-1),R=S.invert().map($),D=(O=y.doc.nodeAt(L-1))==null?void 0:O.marks.some(z=>z.eq(T.mark)),B=(k=y.doc.nodeAt($))==null?void 0:k.marks.some(z=>z.eq(T.mark));this.editor.emit("delete",{type:"mark",mark:T.mark,from:T.from,to:T.to,deletedRange:{from:P,to:R},newRange:{from:L,to:$},partial:!!(B||D),editor:this.editor,transaction:t,combinedTransform:y})}})};(r=(i=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:i.async)==null||r?setTimeout(s,0):s()}}),XT=vi.create({name:"drop",addProseMirrorPlugins(){return[new ni({key:new Vi("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),YT=vi.create({name:"editable",addProseMirrorPlugins(){return[new ni({key:new Vi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),KT=new Vi("focusEvents"),ZT=vi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new ni({key:KT,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),QT=vi.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:d})=>{const{selection:f,doc:p}=d,{empty:y,$anchor:_}=f,{pos:S,parent:T}=_,A=_.parent.isTextblock&&S>0?d.doc.resolve(S-1):_,O=A.parent.type.spec.isolating,k=_.pos-_.parentOffset,L=O&&A.parent.childCount===1?k===_.pos:jt.atStart(p).from===S;return!y||!T.type.isTextblock||T.textContent.length||!L||L&&_.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...i},s={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return J2()||GT()?s:r},addProseMirrorPlugins(){return[new ni({key:new Vi("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(O=>O.getMeta("composition")))return;const i=t.some(O=>O.docChanged)&&!e.doc.eq(n.doc),r=t.some(O=>O.getMeta("preventClearDocument"));if(!i||r)return;const{empty:s,from:l,to:d}=e.selection,f=jt.atStart(e.doc).from,p=jt.atEnd(e.doc).to;if(s||!(l===f&&d===p)||!Im(n.doc))return;const S=n.tr,T=Nm({state:n,transaction:S}),{commands:A}=new Mm({editor:this.editor,state:T});if(A.clearNodes(),!!S.steps.length)return S}})]}}),JT=vi.create({name:"paste",addProseMirrorPlugins(){return[new ni({key:new Vi("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),e8=vi.create({name:"tabindex",addProseMirrorPlugins(){return[new ni({key:new Vi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),FJ=class ku{constructor(e,n,i=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new ku(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ku(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ku(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const r=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,l=this.pos+i+(s?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(l);if(!r&&d.depth<=this.depth)return;const f=new ku(d,this.editor,r,r?n:null);r&&(f.actualDepth=this.depth+1),e.push(new ku(d,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,r=this.parent;for(;r&&!i;){if(r.node.type.name===e)if(Object.keys(n).length>0){const s=r.node.attrs,l=Object.keys(n);for(let d=0;d<l.length;d+=1){const f=l[d];if(s[f]!==n[f])break}}else i=r;r=r.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let r=[];if(!this.children||this.children.length===0)return r;const s=Object.keys(n);return this.children.forEach(l=>{i&&r.length>0||(l.node.type.name===e&&s.every(f=>n[f]===l.node.attrs[f])&&r.push(l),!(i&&r.length>0)&&(r=r.concat(l.querySelectorAll(e,n,i))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},zJ=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function HJ(t,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}var UJ=class extends iQ{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:r,moved:s})=>this.options.onDrop(i,r,s)),this.on("paste",({event:i,slice:r})=>this.options.onPaste(i,r)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=FT(e,this.options.autofocus);this.editorState=Lu.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=HJ(zJ,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=NT(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(r=>{const s=typeof r=="string"?`${r}$`:r.key;n=n.filter(l=>!l.key.startsWith(s))}),e.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var t,e;const i=[...this.options.enableCoreExtensions?[YT,VT.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),qT,ZT,QT,e8,XT,JT,WT].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Dm(i,this)}createCommandManager(){this.commandManager=new Mm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Ly(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Ly(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new dT(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(p=>{var y;return(y=this.capturedTransaction)==null?void 0:y.step(p)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),i=!this.state.selection.eq(e.selection),r=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!r)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:t});const l=n.findLast(p=>p.getMeta("focus")||p.getMeta("blur")),d=l==null?void 0:l.getMeta("focus"),f=l==null?void 0:l.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:l}),f&&this.emit("blur",{editor:this,event:f.event,transaction:l}),!(t.getMeta("preventUpdate")||!n.some(p=>p.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return DT(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,i=typeof t=="string"?e:t;return xQ(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return W2(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return dQ(this.state.doc,{blockSeparator:e,textSerializers:{...IT(this.schema),...n}})}get isEmpty(){return Im(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new FJ(e,this)}get $doc(){return this.$pos(0)}};function qu(t){return new km({find:t.find,handler:({state:e,range:n,match:i})=>{const r=vn(t.getAttributes,void 0,i);if(r===!1||r===null)return null;const{tr:s}=e,l=i[i.length-1],d=i[0];if(l){const f=d.search(/\S/),p=n.from+d.indexOf(l),y=p+l.length;if(Z2(n.from,n.to,e.doc).filter(T=>T.mark.type.excluded.find(O=>O===t.type&&O!==T.mark.type)).filter(T=>T.to>p).length)return null;y<n.to&&s.delete(y,n.to),p>n.from&&s.delete(n.from+f,p);const S=n.from+f+l.length;s.addMark(n.from+f,S,t.type.create(r||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function t8(t){return new km({find:t.find,handler:({state:e,range:n,match:i})=>{const r=vn(t.getAttributes,void 0,i)||{},{tr:s}=e,l=n.from;let d=n.to;const f=t.type.create(r);if(i[1]){const p=i[0].lastIndexOf(i[1]);let y=l+p;y>d?y=d:d=y+i[1].length;const _=i[0][i[0].length-1];s.insertText(_,l+i[0].length-1),s.replaceWith(y,d,f)}else if(i[0]){const p=t.type.isInline?l:l-1;s.insert(p,t.type.create(r)).delete(s.mapping.map(l),s.mapping.map(d))}s.scrollIntoView()},undoable:t.undoable})}function Py(t){return new km({find:t.find,handler:({state:e,range:n,match:i})=>{const r=e.doc.resolve(n.from),s=vn(t.getAttributes,void 0,i)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Wu(t){return new km({find:t.find,handler:({state:e,range:n,match:i,chain:r})=>{const s=vn(t.getAttributes,void 0,i)||{},l=e.tr.delete(n.from,n.to),f=l.doc.resolve(n.from).blockRange(),p=f&&R2(f,t.type,s);if(!p)return null;if(l.wrap(f,p),t.keepMarks&&t.editor){const{selection:_,storedMarks:S}=e,{splittableMarks:T}=t.editor.extensionManager,A=S||_.$to.parentOffset&&_.$from.marks();if(A){const O=A.filter(k=>T.includes(k.type.name));l.ensureMarks(O)}}if(t.keepAttributes){const _=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(_,s).run()}const y=l.doc.resolve(n.from-1).nodeBefore;y&&y.type===t.type&&Rl(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,y))&&l.join(n.from-1)},undoable:t.undoable})}function VJ(t,e){const{selection:n}=t,{$from:i}=n;if(n instanceof ht){const s=i.index();return i.parent.canReplaceWith(s,s+1,e)}let r=i.depth;for(;r>=0;){const s=i.index(r);if(i.node(r).contentMatchAt(s).matchType(e))return!0;r-=1}return!1}function $J(t,e,n={}){const{state:i}=e,{doc:r,tr:s}=i,l=t;r.descendants((d,f)=>{const p=s.mapping.map(f),y=s.mapping.map(f)+d.nodeSize;let _=null;if(d.marks.forEach(T=>{if(T!==l)return!1;_=T}),!_)return;let S=!1;if(Object.keys(n).forEach(T=>{n[T]!==_.attrs[T]&&(S=!0)}),S){const T=t.type.create({...t.attrs,...n});s.removeMark(p,y,t.type),s.addMark(p,y,T)}}),s.docChanged&&e.view.dispatch(s)}var zr=class n8 extends Q2{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new n8(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Nc(t){return new EQ({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:r})=>{const s=vn(t.getAttributes,void 0,i,r);if(s===!1||s===null)return null;const{tr:l}=e,d=i[i.length-1],f=i[0];let p=n.to;if(d){const y=f.search(/\S/),_=n.from+f.indexOf(d),S=_+d.length;if(Z2(n.from,n.to,e.doc).filter(A=>A.mark.type.excluded.find(k=>k===t.type&&k!==A.mark.type)).filter(A=>A.to>_).length)return null;S<n.to&&l.delete(S,n.to),_>n.from&&l.delete(n.from+y,_),p=n.from+y+d.length,l.addMark(n.from+y,p,t.type.create(s||{})),l.removeStoredMark(t.type)}}})}var Gx,mS;function GJ(){return mS||(mS=1,Gx=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(r of e.entries())if(!n.has(r[0]))return!1;for(r of e.entries())if(!t(r[1],n.get(r[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(r of e.entries())if(!n.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(e[r]!==n[r])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(n).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=i;r--!==0;){var l=s[r];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),Gx}var qJ=GJ();const WJ=Nl(qJ);var qx={exports:{}},Wx={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function XJ(){if(gS)return Wx;gS=1;var t=Mc(),e=K4();function n(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,d=t.useMemo,f=t.useDebugValue;return Wx.useSyncExternalStoreWithSelector=function(p,y,_,S,T){var A=s(null);if(A.current===null){var O={hasValue:!1,value:null};A.current=O}else O=A.current;A=d(function(){function L(B){if(!$){if($=!0,P=B,B=S(B),T!==void 0&&O.hasValue){var z=O.value;if(T(z,B))return R=z}return R=B}if(z=R,i(P,B))return z;var G=S(B);return T!==void 0&&T(z,G)?(P=B,z):(P=B,R=G)}var $=!1,P,R,D=_===void 0?null:_;return[function(){return L(y())},D===null?void 0:function(){return L(D())}]},[y,_,S,T]);var k=r(p,A[0],A[1]);return l(function(){O.hasValue=!0,O.value=k},[k]),f(k),k},Wx}var xS;function YJ(){return xS||(xS=1,qx.exports=XJ()),qx.exports}var KJ=YJ(),ZJ=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},QJ=({contentComponent:t})=>{const e=Z4.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return v.jsx(v.Fragment,{children:Object.values(e)})};function JJ(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,i){e={...e,[n]:CM.createPortal(i.reactElement,i.element,n)},t.forEach(r=>r())},removeRenderer(n){const i={...e};delete i[n],e=i,t.forEach(r=>r())}}}var eee=class extends Vt.Component{constructor(t){var e;super(t),this.editorContentRef=Vt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=JJ(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:ZJ(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&v.jsx(QJ,{contentComponent:t.contentComponent})]})}},tee=F.forwardRef((t,e)=>{const n=Vt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Vt.createElement(eee,{key:n,innerRef:e,...t})}),nee=Vt.memo(tee),iee=typeof window<"u"?F.useLayoutEffect:F.useEffect,ree=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function see(t){var e;const[n]=F.useState(()=>new ree(t.editor)),i=KJ.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:WJ);return iee(()=>n.watch(t.editor),[t.editor,n]),F.useDebugValue(i),i}var aee=!1,Fy=typeof window>"u",oee=Fy||!!(typeof window<"u"&&window.next),lee=class i8{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Fy||oee?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var r,s;return(s=(r=this.options.current).onBeforeCreate)==null?void 0:s.call(r,...i)},onBlur:(...i)=>{var r,s;return(s=(r=this.options.current).onBlur)==null?void 0:s.call(r,...i)},onCreate:(...i)=>{var r,s;return(s=(r=this.options.current).onCreate)==null?void 0:s.call(r,...i)},onDestroy:(...i)=>{var r,s;return(s=(r=this.options.current).onDestroy)==null?void 0:s.call(r,...i)},onFocus:(...i)=>{var r,s;return(s=(r=this.options.current).onFocus)==null?void 0:s.call(r,...i)},onSelectionUpdate:(...i)=>{var r,s;return(s=(r=this.options.current).onSelectionUpdate)==null?void 0:s.call(r,...i)},onTransaction:(...i)=>{var r,s;return(s=(r=this.options.current).onTransaction)==null?void 0:s.call(r,...i)},onUpdate:(...i)=>{var r,s;return(s=(r=this.options.current).onUpdate)==null?void 0:s.call(r,...i)},onContentError:(...i)=>{var r,s;return(s=(r=this.options.current).onContentError)==null?void 0:s.call(r,...i)},onDrop:(...i)=>{var r,s;return(s=(r=this.options.current).onDrop)==null?void 0:s.call(r,...i)},onPaste:(...i)=>{var r,s;return(s=(r=this.options.current).onPaste)==null?void 0:s.call(r,...i)},onDelete:(...i)=>{var r,s;return(s=(r=this.options.current).onDelete)==null?void 0:s.call(r,...i)}};return new UJ(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((r,s)=>{var l;return r===((l=n.extensions)==null?void 0:l[s])}):e[i]===n[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?i8.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,r)=>i===e[r]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function cee(t={},e=[]){const n=F.useRef(t);n.current=t;const[i]=F.useState(()=>new lee(n)),r=Z4.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return F.useDebugValue(r),F.useEffect(i.onRender(e)),see({editor:r,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),r}var uee=F.createContext({editor:null});uee.Consumer;var dee=F.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),fee=()=>F.useContext(dee);Vt.forwardRef((t,e)=>{const{onDragStart:n}=fee(),i=t.as||"div";return v.jsx(i,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Vt.createContext({markViewContentRef:()=>{}});var M1=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...i}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,i,n]},hee=/^\s*>\s$/,pee=zr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return M1("blockquote",{...di(this.options.HTMLAttributes,t),children:M1("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Wu({find:hee,type:this.type})]}}),mee=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,gee=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,xee=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,yee=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,vee=kc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return M1("strong",{...di(this.options.HTMLAttributes,t),children:M1("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[qu({find:mee,type:this.type}),qu({find:xee,type:this.type})]},addPasteRules(){return[Nc({find:gee,type:this.type}),Nc({find:yee,type:this.type})]}}),bee=/(^|[^`])`([^`]+)`(?!`)$/,wee=/(^|[^`])`([^`]+)`(?!`)/g,_ee=kc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",di(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[qu({find:bee,type:this.type})]},addPasteRules(){return[Nc({find:wee,type:this.type})]}}),Xx=4,Cee=/^```([a-z]+)?[\s\n]$/,See=/^~~~([a-z]+)?[\s\n]$/,Eee=zr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Xx,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",di(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Xx,{state:i}=t,{selection:r}=i,{$from:s,empty:l}=r;if(s.parent.type!==this.type)return!1;const d=" ".repeat(n);return l?t.commands.insertContent(d):t.commands.command(({tr:f})=>{const{from:p,to:y}=r,T=i.doc.textBetween(p,y,`
`,`
`).split(`
`).map(A=>d+A).join(`
`);return f.replaceWith(p,y,i.schema.text(T)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Xx,{state:i}=t,{selection:r}=i,{$from:s,empty:l}=r;return s.parent.type!==this.type?!1:l?t.commands.command(({tr:d})=>{var f;const{pos:p}=s,y=s.start(),_=s.end(),T=i.doc.textBetween(y,_,`
`,`
`).split(`
`);let A=0,O=0;const k=p-y;for(let B=0;B<T.length;B+=1){if(O+T[B].length>=k){A=B;break}O+=T[B].length+1}const $=((f=T[A].match(/^ */))==null?void 0:f[0])||"",P=Math.min($.length,n);if(P===0)return!0;let R=y;for(let B=0;B<A;B+=1)R+=T[B].length+1;return d.delete(R,R+P),p-R<=P&&d.setSelection(wt.create(d.doc,R)),!0}):t.commands.command(({tr:d})=>{const{from:f,to:p}=r,S=i.doc.textBetween(f,p,`
`,`
`).split(`
`).map(T=>{var A;const O=((A=T.match(/^ */))==null?void 0:A[0])||"",k=Math.min(O.length,n);return T.slice(k)}).join(`
`);return d.replaceWith(f,p,i.schema.text(S)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:r}=n;if(!r||i.parent.type!==this.type)return!1;const s=i.parentOffset===i.parent.nodeSize-2,l=i.parent.textContent.endsWith(`

`);return!s||!l?!1:t.chain().command(({tr:d})=>(d.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const d=r.after();return d===void 0?!1:i.nodeAt(d)?t.commands.command(({tr:p})=>(p.setSelection(jt.near(i.resolve(d))),!0)):t.commands.exitCode()}}},addInputRules(){return[Py({find:Cee,type:this.type,getAttributes:t=>({language:t[1]})}),Py({find:See,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new ni({key:new Vi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),r=i?JSON.parse(i):void 0,s=r==null?void 0:r.mode;if(!n||!s)return!1;const{tr:l,schema:d}=t.state,f=d.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:s},f)),l.selection.$from.parent.type!==this.type&&l.setSelection(wt.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),Aee=zr.create({name:"doc",topNode:!0,content:"block+"}),Tee=zr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",di(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:s}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:d}=i.extensionManager,f=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:y})=>{if(y&&f&&l){const _=f.filter(S=>d.includes(S.type.name));p.ensureMarks(_)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Nee=zr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,di(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Py({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),Mee=zr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",di(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!VJ(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:i}=n,r=t();return jT(n)?r.insertContentAt(i.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({state:s,tr:l,dispatch:d})=>{if(d){const{$to:f}=l.selection,p=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?l.setSelection(wt.create(l.doc,f.pos+1)):f.nodeAfter.isBlock?l.setSelection(ht.create(l.doc,f.pos)):l.setSelection(wt.create(l.doc,f.pos));else{const y=s.schema.nodes[this.options.nextNodeType]||f.parent.type.contentMatch.defaultType,_=y==null?void 0:y.create();_&&(l.insert(p,_),l.setSelection(wt.create(l.doc,p+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[t8({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Ree=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Oee=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Iee=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,kee=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Dee=kc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",di(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[qu({find:Ree,type:this.type}),qu({find:Iee,type:this.type})]},addPasteRules(){return[Nc({find:Oee,type:this.type}),Nc({find:kee,type:this.type})]}});const Bee="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Lee="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",zy="numeric",Hy="ascii",Uy="alpha",wf="asciinumeric",mf="alphanumeric",Vy="domain",r8="emoji",jee="scheme",Pee="slashscheme",Yx="whitespace";function Fee(t,e){return t in e||(e[t]=[]),e[t]}function mc(t,e,n){e[zy]&&(e[wf]=!0,e[mf]=!0),e[Hy]&&(e[wf]=!0,e[Uy]=!0),e[wf]&&(e[mf]=!0),e[Uy]&&(e[mf]=!0),e[mf]&&(e[Vy]=!0),e[r8]&&(e[Vy]=!0);for(const i in e){const r=Fee(i,n);r.indexOf(t)<0&&r.push(t)}}function zee(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function Br(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Br.groups={};Br.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const r=e.jr[i][0],s=e.jr[i][1];if(s&&r.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,i)},tr(t,e,n,i){i=i||Br.groups;let r;return e&&e.j?r=e:(r=new Br(e),n&&i&&mc(e,n,i)),this.jr.push([t,r]),r},ts(t,e,n,i){let r=this;const s=t.length;if(!s)return r;for(let l=0;l<s-1;l++)r=r.tt(t[l]);return r.tt(t[s-1],e,n,i)},tt(t,e,n,i){i=i||Br.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const s=e;let l,d=r.go(t);if(d?(l=new Br,Object.assign(l.j,d.j),l.jr.push.apply(l.jr,d.jr),l.jd=d.jd,l.t=d.t):l=new Br,s){if(i)if(l.t&&typeof l.t=="string"){const f=Object.assign(zee(l.t,i),n);mc(s,f,i)}else n&&mc(s,n,i);l.t=s}return r.j[t]=l,l}};const Lt=(t,e,n,i,r)=>t.ta(e,n,i,r),Jn=(t,e,n,i,r)=>t.tr(e,n,i,r),yS=(t,e,n,i,r)=>t.ts(e,n,i,r),Ve=(t,e,n,i,r)=>t.tt(e,n,i,r),uo="WORD",$y="UWORD",s8="ASCIINUMERICAL",a8="ALPHANUMERICAL",Pf="LOCALHOST",Gy="TLD",qy="UTLD",Kp="SCHEME",Du="SLASH_SCHEME",ev="NUM",Wy="WS",tv="NL",_f="OPENBRACE",Cf="CLOSEBRACE",R1="OPENBRACKET",O1="CLOSEBRACKET",I1="OPENPAREN",k1="CLOSEPAREN",D1="OPENANGLEBRACKET",B1="CLOSEANGLEBRACKET",L1="FULLWIDTHLEFTPAREN",j1="FULLWIDTHRIGHTPAREN",P1="LEFTCORNERBRACKET",F1="RIGHTCORNERBRACKET",z1="LEFTWHITECORNERBRACKET",H1="RIGHTWHITECORNERBRACKET",U1="FULLWIDTHLESSTHAN",V1="FULLWIDTHGREATERTHAN",$1="AMPERSAND",G1="APOSTROPHE",q1="ASTERISK",ol="AT",W1="BACKSLASH",X1="BACKTICK",Y1="CARET",dl="COLON",nv="COMMA",K1="DOLLAR",ya="DOT",Z1="EQUALS",iv="EXCLAMATION",Es="HYPHEN",Sf="PERCENT",Q1="PIPE",J1="PLUS",em="POUND",Ef="QUERY",rv="QUOTE",o8="FULLWIDTHMIDDLEDOT",sv="SEMI",va="SLASH",Af="TILDE",tm="UNDERSCORE",l8="EMOJI",nm="SYM";var c8=Object.freeze({__proto__:null,ALPHANUMERICAL:a8,AMPERSAND:$1,APOSTROPHE:G1,ASCIINUMERICAL:s8,ASTERISK:q1,AT:ol,BACKSLASH:W1,BACKTICK:X1,CARET:Y1,CLOSEANGLEBRACKET:B1,CLOSEBRACE:Cf,CLOSEBRACKET:O1,CLOSEPAREN:k1,COLON:dl,COMMA:nv,DOLLAR:K1,DOT:ya,EMOJI:l8,EQUALS:Z1,EXCLAMATION:iv,FULLWIDTHGREATERTHAN:V1,FULLWIDTHLEFTPAREN:L1,FULLWIDTHLESSTHAN:U1,FULLWIDTHMIDDLEDOT:o8,FULLWIDTHRIGHTPAREN:j1,HYPHEN:Es,LEFTCORNERBRACKET:P1,LEFTWHITECORNERBRACKET:z1,LOCALHOST:Pf,NL:tv,NUM:ev,OPENANGLEBRACKET:D1,OPENBRACE:_f,OPENBRACKET:R1,OPENPAREN:I1,PERCENT:Sf,PIPE:Q1,PLUS:J1,POUND:em,QUERY:Ef,QUOTE:rv,RIGHTCORNERBRACKET:F1,RIGHTWHITECORNERBRACKET:H1,SCHEME:Kp,SEMI:sv,SLASH:va,SLASH_SCHEME:Du,SYM:nm,TILDE:Af,TLD:Gy,UNDERSCORE:tm,UTLD:qy,UWORD:$y,WORD:uo,WS:Wy});const no=/[a-z]/,of=new RegExp("\\p{L}","u"),Kx=new RegExp("\\p{Emoji}","u"),io=/\d/,Zx=/\s/,vS="\r",Qx=`
`,Hee="",Uee="",Jx="";let Ip=null,kp=null;function Vee(t=[]){const e={};Br.groups=e;const n=new Br;Ip==null&&(Ip=bS(Bee)),kp==null&&(kp=bS(Lee)),Ve(n,"'",G1),Ve(n,"{",_f),Ve(n,"}",Cf),Ve(n,"[",R1),Ve(n,"]",O1),Ve(n,"(",I1),Ve(n,")",k1),Ve(n,"<",D1),Ve(n,">",B1),Ve(n,"",L1),Ve(n,"",j1),Ve(n,"",P1),Ve(n,"",F1),Ve(n,"",z1),Ve(n,"",H1),Ve(n,"",U1),Ve(n,"",V1),Ve(n,"&",$1),Ve(n,"*",q1),Ve(n,"@",ol),Ve(n,"`",X1),Ve(n,"^",Y1),Ve(n,":",dl),Ve(n,",",nv),Ve(n,"$",K1),Ve(n,".",ya),Ve(n,"=",Z1),Ve(n,"!",iv),Ve(n,"-",Es),Ve(n,"%",Sf),Ve(n,"|",Q1),Ve(n,"+",J1),Ve(n,"#",em),Ve(n,"?",Ef),Ve(n,'"',rv),Ve(n,"/",va),Ve(n,";",sv),Ve(n,"~",Af),Ve(n,"_",tm),Ve(n,"\\",W1),Ve(n,"",o8);const i=Jn(n,io,ev,{[zy]:!0});Jn(i,io,i);const r=Jn(i,no,s8,{[wf]:!0}),s=Jn(i,of,a8,{[mf]:!0}),l=Jn(n,no,uo,{[Hy]:!0});Jn(l,io,r),Jn(l,no,l),Jn(r,io,r),Jn(r,no,r);const d=Jn(n,of,$y,{[Uy]:!0});Jn(d,no),Jn(d,io,s),Jn(d,of,d),Jn(s,io,s),Jn(s,no),Jn(s,of,s);const f=Ve(n,Qx,tv,{[Yx]:!0}),p=Ve(n,vS,Wy,{[Yx]:!0}),y=Jn(n,Zx,Wy,{[Yx]:!0});Ve(n,Jx,y),Ve(p,Qx,f),Ve(p,Jx,y),Jn(p,Zx,y),Ve(y,vS),Ve(y,Qx),Jn(y,Zx,y),Ve(y,Jx,y);const _=Jn(n,Kx,l8,{[r8]:!0});Ve(_,"#"),Jn(_,Kx,_),Ve(_,Hee,_);const S=Ve(_,Uee);Ve(S,"#"),Jn(S,Kx,_);const T=[[no,l],[io,r]],A=[[no,null],[of,d],[io,s]];for(let O=0;O<Ip.length;O++)nl(n,Ip[O],Gy,uo,T);for(let O=0;O<kp.length;O++)nl(n,kp[O],qy,$y,A);mc(Gy,{tld:!0,ascii:!0},e),mc(qy,{utld:!0,alpha:!0},e),nl(n,"file",Kp,uo,T),nl(n,"mailto",Kp,uo,T),nl(n,"http",Du,uo,T),nl(n,"https",Du,uo,T),nl(n,"ftp",Du,uo,T),nl(n,"ftps",Du,uo,T),mc(Kp,{scheme:!0,ascii:!0},e),mc(Du,{slashscheme:!0,ascii:!0},e),t=t.sort((O,k)=>O[0]>k[0]?1:-1);for(let O=0;O<t.length;O++){const k=t[O][0],$=t[O][1]?{[jee]:!0}:{[Pee]:!0};k.indexOf("-")>=0?$[Vy]=!0:no.test(k)?io.test(k)?$[wf]=!0:$[Hy]=!0:$[zy]=!0,yS(n,k,k,$)}return yS(n,"localhost",Pf,{ascii:!0}),n.jd=new Br(nm),{start:n,tokens:Object.assign({groups:e},c8)}}function u8(t,e){const n=$ee(e.replace(/[A-Z]/g,d=>d.toLowerCase())),i=n.length,r=[];let s=0,l=0;for(;l<i;){let d=t,f=null,p=0,y=null,_=-1,S=-1;for(;l<i&&(f=d.go(n[l]));)d=f,d.accepts()?(_=0,S=0,y=d):_>=0&&(_+=n[l].length,S++),p+=n[l].length,s+=n[l].length,l++;s-=_,l-=S,p-=_,r.push({t:y.t,v:e.slice(s-p,s),s:s-p,e:s})}return r}function $ee(t){const e=[],n=t.length;let i=0;for(;i<n;){let r=t.charCodeAt(i),s,l=r<55296||r>56319||i+1===n||(s=t.charCodeAt(i+1))<56320||s>57343?t[i]:t.slice(i,i+2);e.push(l),i+=l.length}return e}function nl(t,e,n,i,r){let s;const l=e.length;for(let d=0;d<l-1;d++){const f=e[d];t.j[f]?s=t.j[f]:(s=new Br(i),s.jr=r.slice(),t.j[f]=s),t=s}return s=new Br(n),s.jr=r.slice(),t.j[e[l-1]]=s,s}function bS(t){const e=[],n=[];let i=0,r="0123456789";for(;i<t.length;){let s=0;for(;r.indexOf(t[i+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let l=parseInt(t.substring(i,i+s),10);l>0;l--)n.pop();i+=s}else n.push(t[i]),i++}return e}const Ff={defaultProtocol:"http",events:null,format:wS,formatHref:wS,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function av(t,e=null){let n=Object.assign({},Ff);t&&(n=Object.assign(n,t instanceof av?t.o:t));const i=n.ignoreTags,r=[];for(let s=0;s<i.length;s++)r.push(i[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}av.prototype={o:Ff,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:Ff[t],typeof r=="function"&&i&&(r=r(e,n))):typeof r=="function"&&i&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function wS(t){return t}function d8(t,e){this.t="token",this.v=t,this.tk=e}d8.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Ff.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),r=t.get("tagName",n,e),s=this.toFormattedString(t),l={},d=t.get("className",n,e),f=t.get("target",n,e),p=t.get("rel",n,e),y=t.getObj("attributes",n,e),_=t.getObj("events",n,e);return l.href=i,d&&(l.class=d),f&&(l.target=f),p&&(l.rel=p),y&&Object.assign(l,y),{tagName:r,attributes:l,content:s,eventListeners:_}}};function Bm(t,e){class n extends d8{constructor(r,s){super(r,s),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const _S=Bm("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),CS=Bm("text"),Gee=Bm("nl"),Dp=Bm("url",{isLink:!0,toHref(t=Ff.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Pf&&t[1].t===dl}}),Ss=t=>new Br(t);function qee({groups:t}){const e=t.domain.concat([$1,q1,ol,W1,X1,Y1,K1,Z1,Es,ev,Sf,Q1,J1,em,va,nm,Af,tm]),n=[G1,dl,nv,ya,iv,Sf,Ef,rv,sv,D1,B1,_f,Cf,O1,R1,I1,k1,L1,j1,P1,F1,z1,H1,U1,V1],i=[$1,G1,q1,W1,X1,Y1,K1,Z1,Es,_f,Cf,Sf,Q1,J1,em,Ef,va,nm,Af,tm],r=Ss(),s=Ve(r,Af);Lt(s,i,s),Lt(s,t.domain,s);const l=Ss(),d=Ss(),f=Ss();Lt(r,t.domain,l),Lt(r,t.scheme,d),Lt(r,t.slashscheme,f),Lt(l,i,s),Lt(l,t.domain,l);const p=Ve(l,ol);Ve(s,ol,p),Ve(d,ol,p),Ve(f,ol,p);const y=Ve(s,ya);Lt(y,i,s),Lt(y,t.domain,s);const _=Ss();Lt(p,t.domain,_),Lt(_,t.domain,_);const S=Ve(_,ya);Lt(S,t.domain,_);const T=Ss(_S);Lt(S,t.tld,T),Lt(S,t.utld,T),Ve(p,Pf,T);const A=Ve(_,Es);Ve(A,Es,A),Lt(A,t.domain,_),Lt(T,t.domain,_),Ve(T,ya,S),Ve(T,Es,A);const O=Ve(T,dl);Lt(O,t.numeric,_S);const k=Ve(l,Es),L=Ve(l,ya);Ve(k,Es,k),Lt(k,t.domain,l),Lt(L,i,s),Lt(L,t.domain,l);const $=Ss(Dp);Lt(L,t.tld,$),Lt(L,t.utld,$),Lt($,t.domain,l),Lt($,i,s),Ve($,ya,L),Ve($,Es,k),Ve($,ol,p);const P=Ve($,dl),R=Ss(Dp);Lt(P,t.numeric,R);const D=Ss(Dp),B=Ss();Lt(D,e,D),Lt(D,n,B),Lt(B,e,D),Lt(B,n,B),Ve($,va,D),Ve(R,va,D);const z=Ve(d,dl),G=Ve(f,dl),X=Ve(G,va),se=Ve(X,va);Lt(d,t.domain,l),Ve(d,ya,L),Ve(d,Es,k),Lt(f,t.domain,l),Ve(f,ya,L),Ve(f,Es,k),Lt(z,t.domain,D),Ve(z,va,D),Ve(z,Ef,D),Lt(se,t.domain,D),Lt(se,e,D),Ve(se,va,D);const ae=[[_f,Cf],[R1,O1],[I1,k1],[D1,B1],[L1,j1],[P1,F1],[z1,H1],[U1,V1]];for(let ue=0;ue<ae.length;ue++){const[Oe,Te]=ae[ue],ne=Ve(D,Oe);Ve(B,Oe,ne),Ve(ne,Te,D);const Q=Ss(Dp);Lt(ne,e,Q);const le=Ss();Lt(ne,n),Lt(Q,e,Q),Lt(Q,n,le),Lt(le,e,Q),Lt(le,n,le),Ve(Q,Te,D),Ve(le,Te,D)}return Ve(r,Pf,$),Ve(r,tv,Gee),{start:r,tokens:c8}}function Wee(t,e,n){let i=n.length,r=0,s=[],l=[];for(;r<i;){let d=t,f=null,p=null,y=0,_=null,S=-1;for(;r<i&&!(f=d.go(n[r].t));)l.push(n[r++]);for(;r<i&&(p=f||d.go(n[r].t));)f=null,d=p,d.accepts()?(S=0,_=d):S>=0&&S++,r++,y++;if(S<0)r-=y,r<i&&(l.push(n[r]),r++);else{l.length>0&&(s.push(ey(CS,e,l)),l=[]),r-=S,y-=S;const T=_.t,A=n.slice(r-y,r);s.push(ey(T,e,A))}}return l.length>0&&s.push(ey(CS,e,l)),s}function ey(t,e,n){const i=n[0].s,r=n[n.length-1].e,s=e.slice(i,r);return new t(s,n)}const Xee=typeof console<"u"&&console&&console.warn||(()=>{}),Yee="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Bn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Kee(){return Br.groups={},Bn.scanner=null,Bn.parser=null,Bn.tokenQueue=[],Bn.pluginQueue=[],Bn.customSchemes=[],Bn.initialized=!1,Bn}function SS(t,e=!1){if(Bn.initialized&&Xee(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Yee}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Bn.customSchemes.push([t,e])}function Zee(){Bn.scanner=Vee(Bn.customSchemes);for(let t=0;t<Bn.tokenQueue.length;t++)Bn.tokenQueue[t][1]({scanner:Bn.scanner});Bn.parser=qee(Bn.scanner.tokens);for(let t=0;t<Bn.pluginQueue.length;t++)Bn.pluginQueue[t][1]({scanner:Bn.scanner,parser:Bn.parser});return Bn.initialized=!0,Bn}function ov(t){return Bn.initialized||Zee(),Wee(Bn.parser.start,t,u8(Bn.scanner.start,t))}ov.scan=u8;function f8(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const i=new av(n),r=ov(t),s=[];for(let l=0;l<r.length;l++){const d=r[l];d.isLink&&(!e||d.t===e)&&i.check(d)&&s.push(d.toFormattedObject(i))}return s}var lv="[\0- -\u2029]",Qee=new RegExp(lv),Jee=new RegExp(`${lv}$`),ete=new RegExp(lv,"g");function tte(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function nte(t){return new ni({key:new Vi("autolink"),appendTransaction:(e,n,i)=>{const r=e.some(p=>p.docChanged)&&!n.doc.eq(i.doc),s=e.some(p=>p.getMeta("preventAutolink"));if(!r||s)return;const{tr:l}=i,d=AT(n.doc,[...e]);if(BT(d).forEach(({newRange:p})=>{const y=sQ(i.doc,p,T=>T.isTextblock);let _,S;if(y.length>1)_=y[0],S=i.doc.textBetween(_.pos,_.pos+_.node.nodeSize,void 0," ");else if(y.length){const T=i.doc.textBetween(p.from,p.to," "," ");if(!Jee.test(T))return;_=y[0],S=i.doc.textBetween(_.pos,p.to,void 0," ")}if(_&&S){const T=S.split(Qee).filter(Boolean);if(T.length<=0)return!1;const A=T[T.length-1],O=_.pos+S.lastIndexOf(A);if(!A)return!1;const k=ov(A).map(L=>L.toObject(t.defaultProtocol));if(!tte(k))return!1;k.filter(L=>L.isLink).map(L=>({...L,from:O+L.start+1,to:O+L.end+1})).filter(L=>i.schema.marks.code?!i.doc.rangeHasMark(L.from,L.to,i.schema.marks.code):!0).filter(L=>t.validate(L.value)).filter(L=>t.shouldAutoLink(L.value)).forEach(L=>{Z2(L.from,L.to,i.doc).some($=>$.mark.type===t.type)||l.addMark(L.from,L.to,t.type.create({href:L.href}))})}}),!!l.steps.length)return l}})}function ite(t){return new ni({key:new Vi("handleClickLink"),props:{handleClick:(e,n,i)=>{var r,s;if(i.button!==0||!e.editable)return!1;let l=null;if(i.target instanceof HTMLAnchorElement)l=i.target;else{let y=i.target;const _=[];for(;y.nodeName!=="DIV";)_.push(y),y=y.parentNode;l=_.find(S=>S.nodeName==="A")}if(!l)return!1;const d=DT(e.state,t.type.name),f=(r=l==null?void 0:l.href)!=null?r:d.href,p=(s=l==null?void 0:l.target)!=null?s:d.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),l&&f?(window.open(f,p),!0):!1}}})}function rte(t){return new ni({key:new Vi("handlePasteLink"),props:{handlePaste:(e,n,i)=>{const{state:r}=e,{selection:s}=r,{empty:l}=s;if(l)return!1;let d="";i.content.forEach(p=>{d+=p.textContent});const f=f8(d,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===d);return!d||!f?!1:t.editor.commands.setMark(t.type,{href:f.href})}}})}function ac(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(i=>{const r=typeof i=="string"?i:i.scheme;r&&n.push(r)}),!t||t.replace(ete,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var ste=kc.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){SS(t);return}SS(t.scheme,t.optionalSlashes)})},onDestroy(){Kee()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!ac(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!ac(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!ac(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",di(this.options.HTMLAttributes,t),0]:["a",di(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:i=>!!ac(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:i=>!!ac(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Nc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:i}=this.options,r=f8(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:l=>!!ac(l,n),protocols:n,defaultProtocol:i}));r.length&&r.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(nte({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:i=>this.options.isAllowedUri(i,{defaultValidate:r=>!!ac(r,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(ite({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(rte({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),ate=Object.defineProperty,ote=(t,e)=>{for(var n in e)ate(t,n,{get:e[n],enumerable:!0})},lte="listItem",ES="textStyle",AS=/^\s*([-+*])\s$/,h8=zr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",di(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(lte,this.editor.getAttributes(ES)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Wu({find:AS,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Wu({find:AS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(ES),editor:this.editor})),[t]}}),p8=zr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",di(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),cte={};ote(cte,{findListItemPos:()=>eh,getNextListDepth:()=>cv,handleBackspace:()=>Xy,handleDelete:()=>Yy,hasListBefore:()=>m8,hasListItemAfter:()=>ute,hasListItemBefore:()=>g8,listItemHasSubList:()=>x8,nextListIsDeeper:()=>y8,nextListIsHigher:()=>v8});var eh=(t,e)=>{const{$from:n}=e.selection,i=yi(t,e.schema);let r=null,s=n.depth,l=n.pos,d=null;for(;s>0&&d===null;)r=n.node(s),r.type===i?d=s:(s-=1,l-=1);return d===null?null:{$pos:e.doc.resolve(l),depth:d}},cv=(t,e)=>{const n=eh(t,e);if(!n)return!1;const[,i]=mQ(e,t,n.$pos.pos+4);return i},m8=(t,e,n)=>{const{$anchor:i}=t.selection,r=Math.max(0,i.pos-2),s=t.doc.resolve(r).node();return!(!s||!n.includes(s.type.name))},g8=(t,e)=>{var n;const{$anchor:i}=e.selection,r=e.doc.resolve(i.pos-2);return!(r.index()===0||((n=r.nodeBefore)==null?void 0:n.type.name)!==t)},x8=(t,e,n)=>{if(!n)return!1;const i=yi(t,e.schema);let r=!1;return n.descendants(s=>{s.type===i&&(r=!0)}),r},Xy=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Tl(t.state,e)&&m8(t.state,e,n)){const{$anchor:d}=t.state.selection,f=t.state.doc.resolve(d.before()-1),p=[];f.node().descendants((S,T)=>{S.type.name===e&&p.push({node:S,pos:T})});const y=p.at(-1);if(!y)return!1;const _=t.state.doc.resolve(f.start()+y.pos+1);return t.chain().cut({from:d.start()-1,to:d.end()+1},_.end()).joinForward().run()}if(!Tl(t.state,e)||!vQ(t.state))return!1;const i=eh(e,t.state);if(!i)return!1;const s=t.state.doc.resolve(i.$pos.pos-2).node(i.depth),l=x8(e,t.state,s);return g8(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},y8=(t,e)=>{const n=cv(t,e),i=eh(t,e);return!i||!n?!1:n>i.depth},v8=(t,e)=>{const n=cv(t,e),i=eh(t,e);return!i||!n?!1:n<i.depth},Yy=(t,e)=>{if(!Tl(t.state,e)||!yQ(t.state,e))return!1;const{selection:n}=t.state,{$from:i,$to:r}=n;return!n.empty&&i.sameParent(r)?!1:y8(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():v8(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},ute=(t,e)=>{var n;const{$anchor:i}=e.selection,r=e.doc.resolve(i.pos-i.parentOffset-2);return!(r.index()===r.parent.childCount-1||((n=r.nodeAfter)==null?void 0:n.type.name)!==t)},b8=vi.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Yy(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Yy(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&Xy(t,n,i)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&Xy(t,n,i)&&(e=!0)}),e}}}}),dte="listItem",TS="textStyle",NS=/^(\d+)\.\s$/,w8=zr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",di(this.options.HTMLAttributes,n),0]:["ol",di(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(dte,this.editor.getAttributes(TS)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Wu({find:NS,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Wu({find:NS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(TS)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),fte=/^\s*(\[([( |x])?\])\s$/,hte=zr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",di(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:i})=>{const r=document.createElement("li"),s=document.createElement("label"),l=document.createElement("span"),d=document.createElement("input"),f=document.createElement("div"),p=y=>{var _,S;d.ariaLabel=((S=(_=this.options.a11y)==null?void 0:_.checkboxLabel)==null?void 0:S.call(_,y,d.checked))||`Task item checkbox for ${y.textContent||"empty task item"}`};return p(t),s.contentEditable="false",d.type="checkbox",d.addEventListener("mousedown",y=>y.preventDefault()),d.addEventListener("change",y=>{if(!i.isEditable&&!this.options.onReadOnlyChecked){d.checked=!d.checked;return}const{checked:_}=y.target;i.isEditable&&typeof n=="function"&&i.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:S})=>{const T=n();if(typeof T!="number")return!1;const A=S.doc.nodeAt(T);return S.setNodeMarkup(T,void 0,{...A==null?void 0:A.attrs,checked:_}),!0}).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,_)||(d.checked=!d.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([y,_])=>{r.setAttribute(y,_)}),r.dataset.checked=t.attrs.checked,d.checked=t.attrs.checked,s.append(d,l),r.append(s,f),Object.entries(e).forEach(([y,_])=>{r.setAttribute(y,_)}),{dom:r,contentDOM:f,update:y=>y.type!==this.type?!1:(r.dataset.checked=y.attrs.checked,d.checked=y.attrs.checked,p(y),!0)}}},addInputRules(){return[Wu({find:fte,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),pte=zr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",di(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});vi.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(h8.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(p8.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(b8.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(w8.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(hte.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(pte.configure(this.options.taskList)),t}});var mte=zr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",di(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),gte=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,xte=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,yte=kc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",di(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[qu({find:gte,type:this.type})]},addPasteRules(){return[Nc({find:xte,type:this.type})]}}),vte=zr.create({name:"text",group:"inline"}),bte=kc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",di(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function wte(t={}){return new ni({view(e){return new _te(e,t)}})}class _te{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=l=>{this[r](l)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i,r=this.editorView.dom,s=r.getBoundingClientRect(),l=s.width/r.offsetWidth,d=s.height/r.offsetHeight;if(n){let _=e.nodeBefore,S=e.nodeAfter;if(_||S){let T=this.editorView.nodeDOM(this.cursorPos-(_?_.nodeSize:0));if(T){let A=T.getBoundingClientRect(),O=_?A.bottom:A.top;_&&S&&(O=(O+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let k=this.width/2*d;i={left:A.left,right:A.right,top:O-k,bottom:O+k}}}}if(!i){let _=this.editorView.coordsAtPos(this.cursorPos),S=this.width/2*l;i={left:_.left-S,right:_.left+S,top:_.top,bottom:_.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let p,y;if(!f||f==document.body&&getComputedStyle(f).position=="static")p=-pageXOffset,y=-pageYOffset;else{let _=f.getBoundingClientRect(),S=_.width/f.offsetWidth,T=_.height/f.offsetHeight;p=_.left-f.scrollLeft*S,y=_.top-f.scrollTop*T}this.element.style.left=(i.left-p)/l+"px",this.element.style.top=(i.top-y)/d+"px",this.element.style.width=(i.right-i.left)/l+"px",this.element.style.height=(i.bottom-i.top)/d+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=i&&i.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!s){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let d=SA(this.editorView.state.doc,l,this.editorView.dragging.slice);d!=null&&(l=d)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ti extends jt{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return ti.valid(i)?new ti(i):jt.near(i)}content(){return We.empty}eq(e){return e instanceof ti&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ti(e.resolve(n.pos))}getBookmark(){return new uv(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Cte(e)||!Ste(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&ti.valid(e))return e;let r=e.pos,s=null;for(let l=e.depth;;l--){let d=e.node(l);if(n>0?e.indexAfter(l)<d.childCount:e.index(l)>0){s=d.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;r+=n;let f=e.doc.resolve(r);if(ti.valid(f))return f}for(;;){let l=n>0?s.firstChild:s.lastChild;if(!l){if(s.isAtom&&!s.isText&&!ht.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*n),i=!1;continue e}break}s=l,r+=n;let d=e.doc.resolve(r);if(ti.valid(d))return d}return null}}}ti.prototype.visible=!1;ti.findFrom=ti.findGapCursorFrom;jt.jsonID("gapcursor",ti);class uv{constructor(e){this.pos=e}map(e){return new uv(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ti.valid(n)?new ti(n):jt.near(n)}}function Cte(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function Ste(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function Ete(){return new ni({props:{decorations:Mte,createSelectionBetween(t,e,n){return e.pos==n.pos&&ti.valid(n)?new ti(n):null},handleClick:Tte,handleKeyDown:Ate,handleDOMEvents:{beforeinput:Nte}}})}const Ate=fT({ArrowLeft:Bp("horiz",-1),ArrowRight:Bp("horiz",1),ArrowUp:Bp("vert",-1),ArrowDown:Bp("vert",1)});function Bp(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,r,s){let l=i.selection,d=e>0?l.$to:l.$from,f=l.empty;if(l instanceof wt){if(!s.endOfTextblock(n)||d.depth==0)return!1;f=!1,d=i.doc.resolve(e>0?d.after():d.before())}let p=ti.findGapCursorFrom(d,e,f);return p?(r&&r(i.tr.setSelection(new ti(p))),!0):!1}}function Tte(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!ti.valid(i))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&ht.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ti(i))),!0)}function Nte(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ti))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let r=Pe.empty;for(let l=i.length-1;l>=0;l--)r=Pe.from(i[l].createAndFill(null,r));let s=t.state.tr.replace(n.pos,n.pos,new We(r,0,0));return s.setSelection(wt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function Mte(t){if(!(t.selection instanceof ti))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Wn.create(t.doc,[_r.widget(t.selection.head,e,{key:"gapcursor"})])}var im=200,Ui=function(){};Ui.prototype.append=function(e){return e.length?(e=Ui.from(e),!this.length&&e||e.length<im&&this.leafAppend(e)||this.length<im&&e.leafPrepend(this)||this.appendInner(e)):this};Ui.prototype.prepend=function(e){return e.length?Ui.from(e).append(this):this};Ui.prototype.appendInner=function(e){return new Rte(this,e)};Ui.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ui.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ui.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ui.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)};Ui.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var r=[];return this.forEach(function(s,l){return r.push(e(s,l))},n,i),r};Ui.from=function(e){return e instanceof Ui?e:e&&e.length?new _8(e):Ui.empty};var _8=function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,l,d){for(var f=s;f<l;f++)if(r(this.values[f],d+f)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,l,d){for(var f=s-1;f>=l;f--)if(r(this.values[f],d+f)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=im)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=im)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ui);Ui.empty=new _8([]);var Rte=function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,r,s,l){var d=this.left.length;if(r<d&&this.left.forEachInner(i,r,Math.min(s,d),l)===!1||s>d&&this.right.forEachInner(i,Math.max(r-d,0),Math.min(this.length,s)-d,l+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,r,s,l){var d=this.left.length;if(r>d&&this.right.forEachInvertedInner(i,r-d,Math.max(s,d)-d,l+d)===!1||s<d&&this.left.forEachInvertedInner(i,Math.min(r,d),s,l)===!1)return!1},e.prototype.sliceInner=function(i,r){if(i==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(i,r):i>=s?this.right.slice(i-s,r-s):this.left.slice(i,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(i){var r=this.right.leafAppend(i);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(i){var r=this.left.leafPrepend(i);if(r)return new e(r,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(Ui);const Ote=500;class Gs{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let r,s;n&&(r=this.remapping(i,this.items.length),s=r.maps.length);let l=e.tr,d,f,p=[],y=[];return this.items.forEach((_,S)=>{if(!_.step){r||(r=this.remapping(i,S+1),s=r.maps.length),s--,y.push(_);return}if(r){y.push(new ba(_.map));let T=_.step.map(r.slice(s)),A;T&&l.maybeStep(T).doc&&(A=l.mapping.maps[l.mapping.maps.length-1],p.push(new ba(A,void 0,void 0,p.length+y.length))),s--,A&&r.appendMap(A,s)}else l.maybeStep(_.step);if(_.selection)return d=r?_.selection.map(r.slice(s)):_.selection,f=new Gs(this.items.slice(0,i).append(y.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:l,selection:d}}addTransform(e,n,i,r){let s=[],l=this.eventCount,d=this.items,f=!r&&d.length?d.get(d.length-1):null;for(let y=0;y<e.steps.length;y++){let _=e.steps[y].invert(e.docs[y]),S=new ba(e.mapping.maps[y],_,n),T;(T=f&&f.merge(S))&&(S=T,y?s.pop():d=d.slice(0,d.length-1)),s.push(S),n&&(l++,n=void 0),r||(f=S)}let p=l-i.depth;return p>kte&&(d=Ite(d,p),l-=p),new Gs(d.append(s),l)}remapping(e,n){let i=new Of;return this.items.forEach((r,s)=>{let l=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?i.maps.length-r.mirrorOffset:void 0;i.appendMap(r.map,l)},e,n),i}addMaps(e){return this.eventCount==0?this:new Gs(this.items.append(e.map(n=>new ba(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],r=Math.max(0,this.items.length-n),s=e.mapping,l=e.steps.length,d=this.eventCount;this.items.forEach(S=>{S.selection&&d--},r);let f=n;this.items.forEach(S=>{let T=s.getMirror(--f);if(T==null)return;l=Math.min(l,T);let A=s.maps[T];if(S.step){let O=e.steps[T].invert(e.docs[T]),k=S.selection&&S.selection.map(s.slice(f+1,T));k&&d++,i.push(new ba(A,O,k))}else i.push(new ba(A))},r);let p=[];for(let S=n;S<l;S++)p.push(new ba(s.maps[S]));let y=this.items.slice(0,r).append(p).append(i),_=new Gs(y,d);return _.emptyItemCount()>Ote&&(_=_.compress(this.items.length-i.length)),_}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,r=[],s=0;return this.items.forEach((l,d)=>{if(d>=e)r.push(l),l.selection&&s++;else if(l.step){let f=l.step.map(n.slice(i)),p=f&&f.getMap();if(i--,p&&n.appendMap(p,i),f){let y=l.selection&&l.selection.map(n.slice(i));y&&s++;let _=new ba(p.invert(),f,y),S,T=r.length-1;(S=r.length&&r[T].merge(_))?r[T]=S:r.push(_)}}else l.map&&i--},this.items.length,0),new Gs(Ui.from(r.reverse()),s)}}Gs.empty=new Gs(Ui.empty,0);function Ite(t,e){let n;return t.forEach((i,r)=>{if(i.selection&&e--==0)return n=r,!1}),t.slice(n)}class ba{constructor(e,n,i,r){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ba(n.getMap().invert(),n,this.selection)}}}class ll{constructor(e,n,i,r,s){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=r,this.prevComposition=s}}const kte=20;function Dte(t,e,n,i){let r=n.getMeta(wc),s;if(r)return r.historyState;n.getMeta(jte)&&(t=new ll(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(wc))return l.getMeta(wc).redo?new ll(t.done.addTransform(n,void 0,i,Zp(e)),t.undone,MS(n.mapping.maps),t.prevTime,t.prevComposition):new ll(t.done,t.undone.addTransform(n,void 0,i,Zp(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let d=n.getMeta("composition"),f=t.prevTime==0||!l&&t.prevComposition!=d&&(t.prevTime<(n.time||0)-i.newGroupDelay||!Bte(n,t.prevRanges)),p=l?ty(t.prevRanges,n.mapping):MS(n.mapping.maps);return new ll(t.done.addTransform(n,f?e.selection.getBookmark():void 0,i,Zp(e)),Gs.empty,p,n.time,d??t.prevComposition)}else return(s=n.getMeta("rebased"))?new ll(t.done.rebased(n,s),t.undone.rebased(n,s),ty(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ll(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),ty(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Bte(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,r)=>{for(let s=0;s<e.length;s+=2)i<=e[s+1]&&r>=e[s]&&(n=!0)}),n}function MS(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((i,r,s,l)=>e.push(s,l));return e}function ty(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let r=e.map(t[i],1),s=e.map(t[i+1],-1);r<=s&&n.push(r,s)}return n}function Lte(t,e,n){let i=Zp(e),r=wc.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,i);if(!s)return null;let l=s.selection.resolve(s.transform.doc),d=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),r,i),f=new ll(n?d:s.remaining,n?s.remaining:d,null,0,-1);return s.transform.setSelection(l).setMeta(wc,{redo:n,historyState:f})}let ny=!1,RS=null;function Zp(t){let e=t.plugins;if(RS!=e){ny=!1,RS=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ny=!0;break}}return ny}const wc=new Vi("history"),jte=new Vi("closeHistory");function Pte(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new ni({key:wc,state:{init(){return new ll(Gs.empty,Gs.empty,null,0,-1)},apply(e,n,i){return Dte(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,r=i=="historyUndo"?S8:i=="historyRedo"?E8:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function C8(t,e){return(n,i)=>{let r=wc.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(i){let s=Lte(r,n,t);s&&i(e?s.scrollIntoView():s)}return!0}}const S8=C8(!1,!0),E8=C8(!0,!0);vi.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const i=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(i)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new ni({key:new Vi("characterCount"),appendTransaction:(e,n,i)=>{if(t)return;const r=this.options.limit;if(r==null||r===0){t=!0;return}const s=this.storage.characters({node:i.doc});if(s>r){const l=s-r,d=0,f=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${r} characters. Content was automatically trimmed.`);const p=i.tr.deleteRange(d,f);return t=!0,p}t=!0},filterTransaction:(e,n)=>{const i=this.options.limit;if(!e.docChanged||i===0||i===null||i===void 0)return!0;const r=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=i||r>i&&s>i&&s<=r)return!0;if(r>i&&s>i&&s>r||!e.getMeta("paste"))return!1;const d=e.selection.$head.pos,f=s-i,p=d-f,y=d;return e.deleteRange(p,y),!(this.storage.characters({node:e.doc})>i)}})]}});var Fte=vi.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[wte(this.options)]}});vi.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new ni({key:new Vi("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:i}=this.editor,{anchor:r}=e,s=[];if(!n||!i)return Wn.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((f,p)=>{if(f.isText)return;if(!(r>=p&&r<=p+f.nodeSize-1))return!1;l+=1});let d=0;return t.descendants((f,p)=>{if(f.isText||!(r>=p&&r<=p+f.nodeSize-1))return!1;if(d+=1,this.options.mode==="deepest"&&l-d>0||this.options.mode==="shallowest"&&d>1)return this.options.mode==="deepest";s.push(_r.node(p,p+f.nodeSize,{class:this.options.className}))}),Wn.create(t,s)}}})]}});var zte=vi.create({name:"gapCursor",addProseMirrorPlugins(){return[Ete()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=vn(ft(t,"allowGapCursor",n)))!=null?e:null}}});vi.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ni({key:new Vi("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,r=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((l,d)=>{const f=i>=d&&i<=d+l.nodeSize,p=!l.isLeaf&&Im(l);if((f||!this.options.showOnlyCurrent)&&p){const y=[this.options.emptyNodeClass];s&&y.push(this.options.emptyEditorClass);const _=_r.node(d,d+l.nodeSize,{class:y.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:d,hasAnchor:f}):this.options.placeholder});r.push(_)}return this.options.includeChildren}),Wn.create(t,r)}}})]}});vi.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new ni({key:new Vi("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||jT(n.selection)||t.view.dragging?null:Wn.create(n.doc,[_r.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function OS({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var Hte=vi.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Vi(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new ni({key:t,appendTransaction:(n,i,r)=>{const{doc:s,tr:l,schema:d}=r,f=t.getState(r),p=s.content.size,y=d.nodes[this.options.node];if(f)return l.insert(p,y.create())},state:{init:(n,i)=>{const r=i.tr.doc.lastChild;return!OS({node:r,types:e})},apply:(n,i)=>{if(!n.docChanged)return i;const r=n.doc.lastChild;return!OS({node:r,types:e})}}})]}}),Ute=vi.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>S8(t,e),redo:()=>({state:t,dispatch:e})=>E8(t,e)}},addProseMirrorPlugins(){return[Pte(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Vte=vi.create({name:"starterKit",addExtensions(){var t,e,n,i;const r=[];return this.options.bold!==!1&&r.push(vee.configure(this.options.bold)),this.options.blockquote!==!1&&r.push(pee.configure(this.options.blockquote)),this.options.bulletList!==!1&&r.push(h8.configure(this.options.bulletList)),this.options.code!==!1&&r.push(_ee.configure(this.options.code)),this.options.codeBlock!==!1&&r.push(Eee.configure(this.options.codeBlock)),this.options.document!==!1&&r.push(Aee.configure(this.options.document)),this.options.dropcursor!==!1&&r.push(Fte.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&r.push(zte.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&r.push(Tee.configure(this.options.hardBreak)),this.options.heading!==!1&&r.push(Nee.configure(this.options.heading)),this.options.undoRedo!==!1&&r.push(Ute.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&r.push(Mee.configure(this.options.horizontalRule)),this.options.italic!==!1&&r.push(Dee.configure(this.options.italic)),this.options.listItem!==!1&&r.push(p8.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(b8.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&r.push(ste.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&r.push(w8.configure(this.options.orderedList)),this.options.paragraph!==!1&&r.push(mte.configure(this.options.paragraph)),this.options.strike!==!1&&r.push(yte.configure(this.options.strike)),this.options.text!==!1&&r.push(vte.configure(this.options.text)),this.options.underline!==!1&&r.push(bte.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&r.push(Hte.configure((i=this.options)==null?void 0:i.trailingNode)),r}}),$te=Vte,Gte=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,qte=zr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",di(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[t8({find:Gte,type:this.type,getAttributes:t=>{const[,,e,n,i]=t;return{src:n,alt:e,title:i}}})]}}),Wte=qte;const Xte="_editorWrapper_1qbzy_1",Yte="_menuBar_1qbzy_15",Kte="_isActive_1qbzy_67",Zte="_divider_1qbzy_77",Qte="_editorContent_1qbzy_91",ho={editorWrapper:Xte,menuBar:Yte,isActive:Kte,divider:Zte,editorContent:Qte};async function Jte(t){try{const e=new FormData;return e.append("image",t),(await vt.post("/api/upload/image",e,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(e){return console.error("  :",e),alert("    ."),null}}function ene({editor:t}){const e=F.useRef(null);if(!t)return null;const n=async i=>{const r=Array.from(i.target.files);if(r.length!==0){i.target.value="",t.chain().focus();for(const s of r){const l=await Jte(s);l&&t.chain().setImage({src:l}).run()}}};return v.jsxs("div",{className:ho.menuBar,children:[v.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?ho.isActive:"",children:v.jsx("b",{children:"B"})}),v.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?ho.isActive:"",children:v.jsx("i",{children:"I"})}),v.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),className:t.isActive("strike")?ho.isActive:"",children:v.jsx("s",{children:"S"})}),v.jsx("div",{className:ho.divider}),[1,2,3].map(i=>v.jsxs("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:i}).run(),className:t.isActive("heading",{level:i})?ho.isActive:"",children:["H",i]},i)),v.jsx("div",{className:ho.divider}),v.jsx("button",{type:"button",onClick:()=>e.current.click(),children:" "}),v.jsx("input",{type:"file",ref:e,onChange:n,style:{display:"none"},accept:"image/*",multiple:!0})]})}function dv({content:t,onChange:e}){const n=F.useRef(!0),i=cee({extensions:[$te.configure({heading:{levels:[1,2,3]}}),Wte.configure({allowBase64:!0})],content:t||"",onUpdate:({editor:r})=>{n.current||e(r.getHTML())},editorProps:{attributes:{class:ho.editorContent}}});return F.useEffect(()=>{i&&(n.current&&(n.current=!1),!(!t||i.getHTML()===t)&&i.commands.setContent(t,{emitUpdate:!1}))},[t,i]),v.jsxs("div",{className:ho.editorWrapper,children:[v.jsx(ene,{editor:i}),v.jsx(nee,{editor:i})]})}function tne({data:t,setData:e,onFileChange:n}){var R,D;const[i,r]=F.useState(""),[s,l]=F.useState(!1),[d,f]=F.useState(null),p=F.useRef(null),y=B=>{B.type==="compositionstart"&&l(!0),B.type==="compositionend"&&l(!1)},_=B=>{if(!s&&B.key==="Enter"&&i.trim()!==""){B.preventDefault();const z=i.trim(),G=t.gallery_category?t.gallery_category.split(",").map(X=>X.trim()):[];if(!G.includes(z)){const X=[...G,z].join(", ");e(se=>({...se,gallery_category:X}))}r("")}},S=B=>{const G=t.gallery_category.split(",").map(X=>X.trim()).filter(X=>X!==B).join(", ");e(X=>({...X,gallery_category:G}))},T=B=>{const{name:z,value:G}=B.target;e(X=>({...X,[z]:G}))},A=["","","","","","",""],O=B=>{const{value:z,checked:G}=B.target,X=t.gallery_closed_day?t.gallery_closed_day.split(",").map(ue=>ue.trim()):[];let se;G?se=[...new Set([...X,z])]:se=X.filter(ue=>ue!==z);const ae=A;se.sort((ue,Oe)=>ae.indexOf(ue)-ae.indexOf(Oe)),e(ue=>({...ue,gallery_closed_day:se.join(", ")}))},k=(B,z)=>{e(G=>{const X=G.gallery_sns?[...G.gallery_sns]:[],se=X.findIndex(ae=>ae.type===B);return se!==-1?X[se].url=z:X.push({type:B,url:z}),{...G,gallery_sns:X}})},L=B=>{e(z=>({...z,gallery_description:B}))},$=t.gallery_category?t.gallery_category.split(",").map(B=>B.trim()):[],P=B=>{const z=B.target.files[0];if(z){n(z);const G=URL.createObjectURL(z);f(G)}B.target.value=""};return F.useEffect(()=>{t.gallery_image&&typeof t.gallery_image=="string"&&f(t.gallery_image)},[t.gallery_image]),v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:Ce.card,children:[v.jsx("input",{className:`${Ce.input} ${Ce.galleryNameInput}`,name:"gallery_name",value:t.gallery_name||"",onChange:T,placeholder:" "}),v.jsx("input",{className:`${Ce.input} ${Ce.gallerySubNameInput}`,name:"gallery_eng_name",value:t.gallery_eng_name||"",onChange:T,placeholder:" "}),v.jsx("input",{type:"file",ref:p,onChange:P,accept:"image/*",style:{display:"none"}}),v.jsx("div",{className:Ce.imageUploadBox,onClick:()=>p.current.click(),children:d?v.jsx("img",{src:d,alt:"  ",className:Ce.previewImage}):v.jsx("p",{className:Ce.previewImageDesc,children:"+    "})}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsxs("div",{className:Ce.tagInputContainer,children:[$.map(B=>v.jsxs("div",{className:Ce.tagItem,children:[B,v.jsx("button",{type:"button",className:Ce.removeTagBtn,onClick:()=>S(B),children:""})]},B)),v.jsx("input",{type:"text",className:Ce.tagInputField,value:i,onChange:B=>r(B.target.value),onKeyDown:_,onCompositionStart:y,onCompositionEnd:y,placeholder:" "})]})]}),v.jsxs("div",{className:Ce.formGrid,children:[v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsxs("div",{className:Ce.timeInputContainer,children:[v.jsx("input",{type:"time",className:Ce.timeInput,name:"gallery_start_time",value:((R=t.gallery_start_time)==null?void 0:R.slice(0,5))||"",onChange:T}),v.jsx("span",{children:"~"}),v.jsx("input",{type:"time",className:Ce.timeInput,name:"gallery_end_time",value:((D=t.gallery_end_time)==null?void 0:D.slice(0,5))||"",onChange:T})]})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("div",{className:Ce.checkboxGroup,children:A.map(B=>{var z;return v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"closedDays",value:B,checked:(z=t.gallery_closed_day)==null?void 0:z.includes(B),onChange:O})," ",B]},B)})})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("input",{className:Ce.input,name:"gallery_phone",value:t.gallery_phone||"",onChange:T})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("input",{className:Ce.input,name:"gallery_address",value:t.gallery_address||"",onChange:T})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("input",{className:Ce.input,type:"email",name:"gallery_email",value:t.gallery_email||"",onChange:T})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("input",{className:Ce.input,type:"url",name:"gallery_homepage",value:t.gallery_homepage||"",onChange:T})]})]})]}),v.jsxs("div",{className:`${Ce.card} ${Ce.snsCard}`,children:[v.jsx("label",{className:Ce.label,children:"SNS"}),v.jsx("div",{className:Ce.snsInputGroup,children:[{type:"instagram",placeholder:"Instagram "},{type:"twitter",placeholder:"Twitter "},{type:"facebook",placeholder:"Facebook "},{type:"youtube",placeholder:"YouTube "}].map(({type:B,placeholder:z})=>{var X,se;const G=((se=(X=t.gallery_sns)==null?void 0:X.find(ae=>ae.type===B))==null?void 0:se.url)||"";return v.jsx("input",{className:Ce.input,placeholder:z,value:G,onChange:ae=>k(B,ae.target.value)},B)})})]}),v.jsxs("div",{className:`${Ce.card} ${Ce.tiptap}`,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx(dv,{content:t.gallery_description||"",onChange:L})]})]})}function nne({data:t,setData:e,onFileChange:n}){var T,A,O,k;const[i,r]=F.useState("info"),[s,l]=F.useState(null),d=F.useRef(null),f=L=>{const{name:$,value:P}=L.target;e(R=>({...R,[$]:P}))},p=L=>{e($=>({...$,exhibition_description:L}))},y=L=>{const $=L.target.files[0];$&&(n($),l(URL.createObjectURL($)),e(P=>({...P,exhibition_poster_url:""}))),L.target.value=""};F.useEffect(()=>{t.exhibition_poster_url?l(t.exhibition_poster_url):t.exhibition_poster&&l(t.exhibition_poster)},[t.exhibition_poster,t.exhibition_poster_url]);const _=["","","","","","",""],S=L=>{const{value:$,checked:P}=L.target,R=t.exhibition_closed_day?t.exhibition_closed_day.split(",").map(B=>B.trim()):[],D=P?[...new Set([...R,$])]:R.filter(B=>B!==$);e(B=>({...B,exhibition_closed_day:D.join(", ")}))};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:Ce.card,children:[v.jsx("input",{className:`${Ce.input} ${Ce.galleryNameInput}`,name:"exhibition_title",value:t.exhibition_title||"",onChange:f,placeholder:" "}),v.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:y,style:{display:"none"}}),v.jsx("div",{className:Ce.imageUploadBox,onClick:()=>d.current.click(),children:s?v.jsx("img",{src:s,className:Ce.previewImage}):v.jsx("p",{className:Ce.previewImageDesc,children:"+   "})}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:" URL"}),v.jsx("input",{className:Ce.input,name:"exhibition_poster_url",value:t.exhibition_poster_url||"",onChange:f,placeholder:"https://example.com/poster.jpg"})]}),v.jsxs("div",{className:Ce.formGrid,children:[v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsxs("div",{className:Ce.timeInputContainer,children:[v.jsx("input",{type:"date",name:"exhibition_start_date",value:t.exhibition_start_date||"",onChange:f,className:Ce.timeInput}),v.jsx("span",{children:"~"}),v.jsx("input",{type:"date",name:"exhibition_end_date",value:t.exhibition_end_date||"",onChange:f,className:Ce.timeInput})]})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("input",{className:Ce.input,name:"exhibition_location",value:t.exhibition_location||"",onChange:f})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsxs("div",{className:Ce.timeInputContainer,children:[v.jsx("input",{type:"time",className:Ce.timeInput,name:"exhibition_start_time",value:((T=t.exhibition_start_time)==null?void 0:T.slice(0,5))||"",onChange:f}),v.jsx("span",{children:"~"}),v.jsx("input",{type:"time",className:Ce.timeInput,name:"exhibition_end_time",value:((A=t.exhibition_end_time)==null?void 0:A.slice(0,5))||"",onChange:f})]})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("div",{className:Ce.checkboxGroup,children:_.map(L=>{var $;return v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",value:L,checked:($=t.exhibition_closed_day)==null?void 0:$.includes(L),onChange:S}),L]},L)})})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("input",{type:"text",className:Ce.input,name:"exhibition_price",value:t.exhibition_price||"",onChange:f,placeholder:":   5000,  4000 ..."})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("input",{className:Ce.input,name:"exhibition_phone",value:t.exhibition_phone||"",onChange:f})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("input",{className:Ce.input,name:"exhibition_address",value:t.exhibition_address||"",onChange:f})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("input",{className:Ce.input,name:"exhibition_artist",value:t.exhibition_artist||"",onChange:f})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("input",{type:"url",className:Ce.input,name:"exhibition_homepage",value:t.exhibition_homepage||"",onChange:f})]})]})]}),v.jsxs("div",{className:Ce.tabContainer,children:[v.jsxs("nav",{className:Ce.tabNav,children:[v.jsx("button",{className:`${Ce.tabButton} ${i==="info"&&Ce.activeTab}`,onClick:()=>r("info"),children:""}),v.jsxs("button",{className:`${Ce.tabButton} ${i==="artworks"&&Ce.activeTab}`,onClick:()=>r("artworks"),children:["(",((O=t.artworks)==null?void 0:O.length)||0,")"]})]}),v.jsxs("div",{className:Ce.tabContent,children:[i==="info"&&v.jsx(dv,{content:t.exhibition_description||"",onChange:p}),i==="artworks"&&(((k=t.artworks)==null?void 0:k.length)>0?v.jsx(T2,{artworks:t.artworks}):v.jsx("p",{className:Ce.emptyContent,children:"  ."}))]})]})]})}const ine="_overlay_b6afx_3",rne="_modal_b6afx_45",sne="_header_b6afx_97",ane="_closeBtn_b6afx_123",one="_searchBox_b6afx_153",lne="_searchInput_b6afx_167",cne="_searchBtn_b6afx_197",une="_artistList_b6afx_229",dne="_artistItem_b6afx_249",fne="_artistInfo_b6afx_283",hne="_artistAvatar_b6afx_295",pne="_artistName_b6afx_313",mne="_artistCategory_b6afx_325",gne="_selectBtn_b6afx_337",xne="_noResultBox_b6afx_369",yne="_addBox_b6afx_391",vne="_addIcon_b6afx_407",bne="_addInput_b6afx_417",wne="_addBtn_b6afx_445",_ne="_noResult_b6afx_369",mi={overlay:ine,modal:rne,header:sne,closeBtn:ane,searchBox:one,searchInput:lne,searchBtn:cne,artistList:une,artistItem:dne,artistInfo:fne,artistAvatar:hne,artistName:pne,artistCategory:mne,selectBtn:gne,noResultBox:xne,addBox:yne,addIcon:vne,addInput:bne,addBtn:wne,noResult:_ne};function Cne({onClose:t,onSelect:e,setData:n}){const[i,r]=F.useState(""),[s,l]=F.useState([]),[d,f]=F.useState([]),[p,y]=F.useState("");F.useEffect(()=>{(async()=>{try{const O=await vt.get("/api/artists");l(O.data||[]),f(O.data||[])}catch(O){console.error("   :",O)}})()},[]);const _=async()=>{const A=i.trim();if(A===""){f(s);return}try{const O=await vt.get("/api/artists",{params:{search:A}});O.data&&O.data.length>0?f(O.data):f([])}catch(O){console.error("  :",O),f([])}},S=A=>{n(O=>({...O,artist_name:A.artist_name,artist_id:A.id,artist_image:A.artist_image})),e(A),t()},T=async()=>{if(p.trim())try{const O=(await vt.post("/api/artists",{artist_name:p.trim()})).data;l(k=>[...k,O]),f(k=>[...k,O]),n(k=>({...k,artist_name:O.artist_name,artist_id:O.id})),e(O),t()}catch(A){console.error("  :",A),alert("  .")}};return v.jsx("div",{className:mi.overlay,children:v.jsxs("div",{className:mi.modal,children:[v.jsxs("div",{className:mi.header,children:[v.jsx("p",{children:""}),v.jsx("button",{className:mi.closeBtn,onClick:t,children:""})]}),v.jsxs("div",{className:mi.searchBox,children:[v.jsx("input",{className:mi.searchInput,placeholder:" ",value:i,onChange:A=>r(A.target.value),onKeyDown:A=>A.key==="Enter"&&_()}),v.jsx("button",{className:mi.searchBtn,onClick:_,children:""})]}),d.length>0?v.jsx("div",{className:mi.artistList,children:d.map(A=>v.jsxs("div",{className:mi.artistItem,children:[v.jsxs("div",{className:mi.artistInfo,children:[v.jsx("img",{src:A.artist_image||"/default-profile.png",alt:A.artist_name,className:mi.artistAvatar}),v.jsxs("div",{children:[v.jsx("p",{className:mi.artistName,children:A.artist_name}),v.jsxs("p",{className:mi.artistCategory,children:[A.artist_category,"  ",A.artist_nation]})]})]}),v.jsx("button",{className:mi.selectBtn,onClick:()=>S(A),children:""})]},A.id))}):v.jsxs("div",{className:mi.noResultBox,children:[v.jsx("p",{className:mi.noResult,children:" .  ."}),v.jsxs("div",{className:mi.addBox,children:[v.jsx("div",{className:mi.addIcon,children:""}),v.jsx("input",{className:mi.addInput,placeholder:"",value:p,onChange:A=>y(A.target.value)}),v.jsx("button",{className:mi.addBtn,onClick:T,children:" "})]})]})]})})}function Sne({data:t,setData:e,onFileChange:n}){var _;const[i,r]=F.useState(null),[s,l]=F.useState(!1),d=F.useRef(null),f=S=>{const T=S.target.files[0];if(T){n(T);const A=URL.createObjectURL(T);r(A)}},p=S=>{const{name:T,value:A}=S.target;e(O=>({...O,[T]:A}))},y=S=>{e(T=>({...T,art_description:S}))};return F.useEffect(()=>{t.art_image&&typeof t.art_image=="string"&&r(t.art_image)},[t.art_image]),v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:Ce.card,children:[v.jsxs("div",{className:Ce.imageSection,children:[v.jsx("input",{type:"file",ref:d,onChange:f,accept:"image/*",style:{display:"none"}}),v.jsx("div",{className:Ce.imageUploadBox,onClick:()=>d.current.click(),children:i?v.jsx("img",{src:i,alt:" ",className:Ce.previewImage}):v.jsx("p",{className:Ce.previewImageDesc,children:"+   "})})]}),v.jsx("input",{className:Ce.input,name:"art_title",value:t.art_title||"",onChange:p,placeholder:" "}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsxs("select",{className:Ce.input,name:"exhibition_id",value:t.exhibition_id||"",onChange:p,children:[v.jsx("option",{value:"",children:" "}),(_=t.exhibitions)==null?void 0:_.map(S=>v.jsx("option",{value:S.id,children:S.exhibition_title},S.id))]})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsxs("div",{className:Ce.artistSelectRow,children:[v.jsx("input",{className:Ce.input,name:"artist_name",value:t.artist_name||"",placeholder:" ",readOnly:!0}),v.jsx("button",{type:"button",className:Ce.selectButton,onClick:()=>l(!0),children:" "})]})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("input",{type:"number",className:Ce.input,name:"art_year",value:t.art_year||"",onChange:p,placeholder:": 2023"})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("input",{className:Ce.input,name:"art_material",value:t.art_material||"",onChange:p,placeholder:": ,  "})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("input",{className:Ce.input,name:"art_size",value:t.art_size||"",onChange:p,placeholder:": 100x150cm"})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:""}),v.jsx("div",{className:Ce.priceInputContainer,children:v.jsx("input",{type:"number",className:Ce.input,name:"art_price",value:t.art_price||"",onChange:p,placeholder:": 2000000"})})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:" "}),v.jsx(dv,{content:t.art_description||"",onChange:y})]}),v.jsxs("div",{className:Ce.inputGroup,children:[v.jsx("label",{className:Ce.label,children:"AI "}),v.jsx("textarea",{className:Ce.textarea,name:"art_docent",value:t.art_docent||"",onChange:p,placeholder:"AI   ."})]})]}),s&&v.jsx(Cne,{onClose:()=>l(!1),onSelect:S=>e(T=>({...T,artist_name:S.name,artist_id:S.id})),setData:e})]})}const Ene={galleries:{title:" ",apiUrl:t=>`/api/galleries/${t}`,formImageField:"gallery_image_file"},exhibitions:{title:" ",apiUrl:t=>`/api/exhibitions/${t}`,formImageField:"exhibition_poster_file"},artworks:{title:" ",apiUrl:t=>`/api/arts/${t}`,formImageField:"art_image_file"}},Ane={galleries:tne,exhibitions:nne,artworks:Sne};function iy({type:t}){const{id:e}=ks(),n=on(),[i,r]=F.useState(null),[s,l]=F.useState(null),[d,f]=F.useState(!1),p=Ene[t],y=Ane[t];F.useEffect(()=>{p&&(async()=>{try{const O=await vt.get(p.apiUrl(e)),k=typeof O.data=="string"?JSON.parse(O.data):O.data;r(k),console.log(" :",O.data)}catch(O){console.error("  :",O),r({})}})()},[e,p]);const _=()=>{window.confirm(" ?")&&n(`/console/${t}/${e}`)},S=async()=>{if(d||!i)return;f(!0);const A=new FormData;A.append("_method","PATCH"),Object.entries(i).forEach(([k,L])=>{L!=null&&(typeof L=="object"&&!(L instanceof File)?A.append(k,JSON.stringify(L)):A.append(k,L))});const O=p.formImageField;s&&A.append(O,s);try{const k=await vt.post(p.apiUrl(e),A,{headers:{"Content-Type":"multipart/form-data"}});console.log(" :",k.data),alert("."),n(`/console/${t}/${e}`)}catch(k){console.error("  :",k),alert(" .  .")}finally{f(!1)}},T=A=>{l(A)};return i?v.jsxs("div",{className:ga.layout,children:[v.jsxs("header",{className:ga.header,children:[v.jsx("button",{className:ga.backButton,onClick:_,children:"<"}),v.jsx("h1",{className:ga.title,children:p.title})]}),v.jsx("main",{className:ga.formContainer,children:y&&v.jsx(y,{data:i,setData:r,onFileChange:T})}),v.jsxs("div",{className:ga.bottomButtonContainer,children:[v.jsx("button",{className:`${ga.button} ${ga.saveButton}`,onClick:S,children:d?" ...":""}),v.jsx("button",{className:`${ga.button} ${ga.cancelButton}`,onClick:_,disabled:d,children:""})]})]}):v.jsx("div",{children:"  ..."})}let Tne={data:""},Nne=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||Tne},Mne=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Rne=/\/\*[^]*?\*\/|  +/g,IS=/\n+/g,fl=(t,e)=>{let n="",i="",r="";for(let s in t){let l=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+l+";":i+=s[1]=="f"?fl(l,s):s+"{"+fl(l,s[1]=="k"?"":e)+"}":typeof l=="object"?i+=fl(l,e?e.replace(/([^,])+/g,d=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):s):l!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=fl.p?fl.p(s,l):s+":"+l+";")}return n+(e&&r?e+"{"+r+"}":r)+i},ro={},A8=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+A8(t[n]);return e}return t},One=(t,e,n,i,r)=>{let s=A8(t),l=ro[s]||(ro[s]=(f=>{let p=0,y=11;for(;p<f.length;)y=101*y+f.charCodeAt(p++)>>>0;return"go"+y})(s));if(!ro[l]){let f=s!==t?t:(p=>{let y,_,S=[{}];for(;y=Mne.exec(p.replace(Rne,""));)y[4]?S.shift():y[3]?(_=y[3].replace(IS," ").trim(),S.unshift(S[0][_]=S[0][_]||{})):S[0][y[1]]=y[2].replace(IS," ").trim();return S[0]})(t);ro[l]=fl(r?{["@keyframes "+l]:f}:f,n?"":"."+l)}let d=n&&ro.g?ro.g:null;return n&&(ro.g=ro[l]),((f,p,y,_)=>{_?p.data=p.data.replace(_,f):p.data.indexOf(f)===-1&&(p.data=y?f+p.data:p.data+f)})(ro[l],e,i,d),l},Ine=(t,e,n)=>t.reduce((i,r,s)=>{let l=e[s];if(l&&l.call){let d=l(n),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;l=f?"."+f:d&&typeof d=="object"?d.props?"":fl(d,""):d===!1?"":d}return i+r+(l??"")},"");function Lm(t){let e=this||{},n=t.call?t(e.p):t;return One(n.unshift?n.raw?Ine(n,[].slice.call(arguments,1),e.p):n.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):n,Nne(e.target),e.g,e.o,e.k)}let T8,Ky,Zy;Lm.bind({g:1});let xo=Lm.bind({k:1});function kne(t,e,n,i){fl.p=e,T8=t,Ky=n,Zy=i}function Il(t,e){let n=this||{};return function(){let i=arguments;function r(s,l){let d=Object.assign({},s),f=d.className||r.className;n.p=Object.assign({theme:Ky&&Ky()},d),n.o=/ *go\d+/.test(f),d.className=Lm.apply(n,i)+(f?" "+f:"");let p=t;return t[0]&&(p=d.as||t,delete d.as),Zy&&p[0]&&Zy(d),T8(p,d)}return r}}var Dne=t=>typeof t=="function",rm=(t,e)=>Dne(t)?t(e):t,Bne=(()=>{let t=0;return()=>(++t).toString()})(),N8=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Lne=20,fv="default",M8=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:i}=e;return M8(t,{type:t.toasts.find(l=>l.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+s}))}}},Qp=[],R8={toasts:[],pausedAt:void 0,settings:{toastLimit:Lne}},Ca={},O8=(t,e=fv)=>{Ca[e]=M8(Ca[e]||R8,t),Qp.forEach(([n,i])=>{n===e&&i(Ca[e])})},I8=t=>Object.keys(Ca).forEach(e=>O8(t,e)),jne=t=>Object.keys(Ca).find(e=>Ca[e].toasts.some(n=>n.id===t)),jm=(t=fv)=>e=>{O8(e,t)},Pne={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Fne=(t={},e=fv)=>{let[n,i]=F.useState(Ca[e]||R8),r=F.useRef(Ca[e]);F.useEffect(()=>(r.current!==Ca[e]&&i(Ca[e]),Qp.push([e,i]),()=>{let l=Qp.findIndex(([d])=>d===e);l>-1&&Qp.splice(l,1)}),[e]);let s=n.toasts.map(l=>{var d,f,p;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((d=t[l.type])==null?void 0:d.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((f=t[l.type])==null?void 0:f.duration)||(t==null?void 0:t.duration)||Pne[l.type],style:{...t.style,...(p=t[l.type])==null?void 0:p.style,...l.style}}});return{...n,toasts:s}},zne=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Bne()}),th=t=>(e,n)=>{let i=zne(e,t,n);return jm(i.toasterId||jne(i.id))({type:2,toast:i}),i.id},Oi=(t,e)=>th("blank")(t,e);Oi.error=th("error");Oi.success=th("success");Oi.loading=th("loading");Oi.custom=th("custom");Oi.dismiss=(t,e)=>{let n={type:3,toastId:t};e?jm(e)(n):I8(n)};Oi.dismissAll=t=>Oi.dismiss(void 0,t);Oi.remove=(t,e)=>{let n={type:4,toastId:t};e?jm(e)(n):I8(n)};Oi.removeAll=t=>Oi.remove(void 0,t);Oi.promise=(t,e,n)=>{let i=Oi.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let s=e.success?rm(e.success,r):void 0;return s?Oi.success(s,{id:i,...n,...n==null?void 0:n.success}):Oi.dismiss(i),r}).catch(r=>{let s=e.error?rm(e.error,r):void 0;s?Oi.error(s,{id:i,...n,...n==null?void 0:n.error}):Oi.dismiss(i)}),t};var Hne=1e3,Une=(t,e="default")=>{let{toasts:n,pausedAt:i}=Fne(t,e),r=F.useRef(new Map).current,s=F.useCallback((_,S=Hne)=>{if(r.has(_))return;let T=setTimeout(()=>{r.delete(_),l({type:4,toastId:_})},S);r.set(_,T)},[]);F.useEffect(()=>{if(i)return;let _=Date.now(),S=n.map(T=>{if(T.duration===1/0)return;let A=(T.duration||0)+T.pauseDuration-(_-T.createdAt);if(A<0){T.visible&&Oi.dismiss(T.id);return}return setTimeout(()=>Oi.dismiss(T.id,e),A)});return()=>{S.forEach(T=>T&&clearTimeout(T))}},[n,i,e]);let l=F.useCallback(jm(e),[e]),d=F.useCallback(()=>{l({type:5,time:Date.now()})},[l]),f=F.useCallback((_,S)=>{l({type:1,toast:{id:_,height:S}})},[l]),p=F.useCallback(()=>{i&&l({type:6,time:Date.now()})},[i,l]),y=F.useCallback((_,S)=>{let{reverseOrder:T=!1,gutter:A=8,defaultPosition:O}=S||{},k=n.filter(P=>(P.position||O)===(_.position||O)&&P.height),L=k.findIndex(P=>P.id===_.id),$=k.filter((P,R)=>R<L&&P.visible).length;return k.filter(P=>P.visible).slice(...T?[$+1]:[0,$]).reduce((P,R)=>P+(R.height||0)+A,0)},[n]);return F.useEffect(()=>{n.forEach(_=>{if(_.dismissed)s(_.id,_.removeDelay);else{let S=r.get(_.id);S&&(clearTimeout(S),r.delete(_.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:f,startPause:d,endPause:p,calculateOffset:y}}},Vne=xo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$ne=xo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gne=xo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,qne=Il("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Vne} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$ne} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Gne} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Wne=xo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Xne=Il("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Wne} 1s linear infinite;
`,Yne=xo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Kne=xo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Zne=Il("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Yne} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Kne} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Qne=Il("div")`
  position: absolute;
`,Jne=Il("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,eie=xo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tie=Il("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${eie} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,nie=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?F.createElement(tie,null,e):e:n==="blank"?null:F.createElement(Jne,null,F.createElement(Xne,{...i}),n!=="loading"&&F.createElement(Qne,null,n==="error"?F.createElement(qne,{...i}):F.createElement(Zne,{...i})))},iie=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,rie=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,sie="0%{opacity:0;} 100%{opacity:1;}",aie="0%{opacity:1;} 100%{opacity:0;}",oie=Il("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,lie=Il("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,cie=(t,e)=>{let n=t.includes("top")?1:-1,[i,r]=N8()?[sie,aie]:[iie(n),rie(n)];return{animation:e?`${xo(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xo(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},uie=F.memo(({toast:t,position:e,style:n,children:i})=>{let r=t.height?cie(t.position||e||"top-center",t.visible):{opacity:0},s=F.createElement(nie,{toast:t}),l=F.createElement(lie,{...t.ariaProps},rm(t.message,t));return F.createElement(oie,{className:t.className,style:{...r,...n,...t.style}},typeof i=="function"?i({icon:s,message:l}):F.createElement(F.Fragment,null,s,l))});kne(F.createElement);var die=({id:t,className:e,style:n,onHeightUpdate:i,children:r})=>{let s=F.useCallback(l=>{if(l){let d=()=>{let f=l.getBoundingClientRect().height;i(t,f)};d(),new MutationObserver(d).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return F.createElement("div",{ref:s,className:e,style:n},r)},fie=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:N8()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...r}},hie=Lm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Lp=16,pie=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:r,toasterId:s,containerStyle:l,containerClassName:d})=>{let{toasts:f,handlers:p}=Une(n,s);return F.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Lp,left:Lp,right:Lp,bottom:Lp,pointerEvents:"none",...l},className:d,onMouseEnter:p.startPause,onMouseLeave:p.endPause},f.map(y=>{let _=y.position||e,S=p.calculateOffset(y,{reverseOrder:t,gutter:i,defaultPosition:e}),T=fie(_,S);return F.createElement(die,{id:y.id,key:y.id,onHeightUpdate:p.updateHeight,className:y.visible?hie:"",style:T},y.type==="custom"?rm(y.message,y):r?r(y):F.createElement(uie,{toast:y,position:_}))}))};const mie="_layout_10u0v_3",gie="_mainContentContainer_10u0v_35",xie="_panelHeaderBox_10u0v_73",yie="_panelHeaderParagraph_10u0v_81",vie="_combinedButtonBox_10u0v_617",bie="_leftButton_10u0v_657",wie="_rightButton_10u0v_659",_ie="_dividerBox_10u0v_733",il={layout:mie,mainContentContainer:gie,panelHeaderBox:xie,panelHeaderParagraph:yie,combinedButtonBox:vie,leftButton:bie,rightButton:wie,dividerBox:_ie},Cie="_coverSectionBox_1nnz6_3",Sie="_coverLabelSpan_1nnz6_11",Eie="_coverAreaBox_1nnz6_25",Aie="_coverPlaceholderBox_1nnz6_61",Tie="_plusIconSpan_1nnz6_81",Nie="_coverImageContainerBox_1nnz6_93",Mie="_coverImage_1nnz6_93",Rie="_removeCoverButton_1nnz6_119",Oie="_dragActive_1nnz6_259",so={coverSectionBox:Cie,coverLabelSpan:Sie,coverAreaBox:Eie,coverPlaceholderBox:Aie,plusIconSpan:Tie,coverImageContainerBox:Nie,coverImage:Mie,removeCoverButton:Rie,dragActive:Oie};function Iie({coverImage:t,setCoverImage:e,openFileDialogForCover:n,coverDropzone:i}){return v.jsxs("div",{className:so.coverSectionBox,children:[v.jsx("div",{className:so.coverLabelSpan,children:""}),v.jsx("div",{className:so.coverAreaBox,children:t?v.jsxs("div",{className:so.coverImageContainerBox,children:[v.jsx("img",{src:t.url,alt:"",className:so.coverImage}),v.jsx("button",{className:so.removeCoverButton,onClick:()=>e(null),children:""})]}):v.jsxs("div",{...i.getRootProps(),className:`${so.coverPlaceholderBox} ${i.isDragActive?so.dragActive:""}`,onClick:r=>{r.stopPropagation(),n()},children:[v.jsx("input",{...i.getInputProps()}),v.jsx("span",{className:so.plusIconSpan,children:"+"})]})})]})}const kie="_innerPagesSectionBox_1htly_3",Die="_innerPagesLabelSpan_1htly_11",Bie="_innerPagesGridContainer_1htly_25",Lie="_innerPageItemBox_1htly_39",jie="_innerPageImage_1htly_59",Pie="_removeInnerPageButton_1htly_71",Fie="_addInnerPageButton_1htly_107",zie="_plusIconSpan_1htly_143",Hie="_dragActive_1htly_281",ao={innerPagesSectionBox:kie,innerPagesLabelSpan:Die,innerPagesGridContainer:Bie,innerPageItemBox:Lie,innerPageImage:jie,removeInnerPageButton:Pie,addInnerPageButton:Fie,plusIconSpan:zie,dragActive:Hie};function Uie({imageList:t,setImageList:e,handleImageChange:n,handleRemoveImage:i,openFileDialogForInner:r,innerDropzone:s}){return v.jsxs("div",{className:ao.innerPagesSectionBox,children:[v.jsxs("div",{className:ao.innerPagesLabelSpan,children:["  ",t.length,""]}),v.jsxs("div",{...s.getRootProps(),className:`${ao.innerPagesGridContainer} ${s.isDragActive?ao.dragActive:""}`,children:[v.jsx("input",{...s.getInputProps()}),t.map((l,d)=>v.jsxs("div",{className:ao.innerPageItemBox,children:[v.jsx("img",{src:l.url,alt:l.name,className:ao.innerPageImage}),v.jsx("button",{className:ao.removeInnerPageButton,onClick:f=>{f.stopPropagation(),i(d)},children:""})]},d)),v.jsx("div",{className:ao.addInnerPageButton,onClick:l=>{l.stopPropagation(),r()},children:v.jsx("span",{className:ao.plusIconSpan,children:"+"})})]})]})}var gf={exports:{}},Vie=gf.exports,kS;function $ie(){return kS||(kS=1,function(t,e){(function(n,i){i(e)})(Vie,function(n){class i{constructor(R,D){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=D,this.nowDrawingDensity=this.createdDensity,this.render=R}setDensity(R){this.createdDensity=R,this.nowDrawingDensity=R}setDrawingDensity(R){this.nowDrawingDensity=R}setPosition(R){this.state.position=R}setAngle(R){this.state.angle=R}setArea(R){this.state.area=R}setHardDrawingAngle(R){this.state.hardDrawingAngle=R}setHardAngle(R){this.state.hardAngle=R,this.state.hardDrawingAngle=R}setOrientation(R){this.orientation=R}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class r extends i{constructor(R,D,B){super(R,B),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=D}draw(R){const D=this.render.getContext(),B=this.render.convertToGlobal(this.state.position),z=this.render.getRect().pageWidth,G=this.render.getRect().height;D.save(),D.translate(B.x,B.y),D.beginPath();for(let X of this.state.area)X!==null&&(X=this.render.convertToGlobal(X),D.lineTo(X.x-B.x,X.y-B.y));D.rotate(this.state.angle),D.clip(),this.isLoad?D.drawImage(this.image,0,0,z,G):this.drawLoader(D,{x:0,y:0},z,G),D.restore()}simpleDraw(R){const D=this.render.getRect(),B=this.render.getContext(),z=D.pageWidth,G=D.height,X=R===1?D.left+D.pageWidth:D.left,se=D.top;this.isLoad?B.drawImage(this.image,X,se,z,G):this.drawLoader(B,{x:X,y:se},z,G)}drawLoader(R,D,B,z){R.beginPath(),R.strokeStyle="rgb(200, 200, 200)",R.fillStyle="rgb(255, 255, 255)",R.lineWidth=1,R.rect(D.x+1,D.y+1,B-1,z-1),R.stroke(),R.fill();const G={x:D.x+B/2,y:D.y+z/2};R.beginPath(),R.lineWidth=10,R.arc(G.x,G.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),R.stroke(),R.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class s{constructor(R,D){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=D,this.app=R,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let D=0;D<this.pages.length;D++)this.portraitSpread.push([D]);let R=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([R]),R++);for(let D=R;D<this.pages.length;D+=2)D<this.pages.length-1?this.landscapeSpread.push([D,D+1]):(this.landscapeSpread.push([D]),this.pages[D].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(R){const D=this.getSpread();for(let B=0;B<D.length;B++)if(R===D[B][0]||R===D[B][1])return B;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(R){if(R>=0&&R<this.pages.length)return this.pages[R];throw new Error("Invalid page number")}nextBy(R){const D=this.pages.indexOf(R);return D<this.pages.length-1?this.pages[D+1]:null}prevBy(R){const D=this.pages.indexOf(R);return D>0?this.pages[D-1]:null}getFlippingPage(R){const D=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return R===0?this.pages[D].newTemporaryCopy():this.pages[D-1];{const B=R===0?this.getSpread()[D+1]:this.getSpread()[D-1];return B.length===1||R===0?this.pages[B[0]]:this.pages[B[1]]}}getBottomPage(R){const D=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return R===0?this.pages[D+1]:this.pages[D-1];{const B=R===0?this.getSpread()[D+1]:this.getSpread()[D-1];return B.length===1?this.pages[B[0]]:R===0?this.pages[B[1]]:this.pages[B[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(R=null){if(R===null&&(R=this.currentPageIndex),R<0||R>=this.pages.length)return;const D=this.getSpreadIndexByPage(R);D!==null&&(this.currentSpreadIndex=D,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(R){if(!(R>=0&&R<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=R}showSpread(){const R=this.getSpread()[this.currentSpreadIndex];R.length===2?(this.render.setLeftPage(this.pages[R[0]]),this.render.setRightPage(this.pages[R[1]])):this.render.getOrientation()==="landscape"&&R[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[R[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[R[0]])),this.currentPageIndex=R[0],this.app.updatePageIndex(this.currentPageIndex)}}class l extends s{constructor(R,D,B){super(R,D),this.imagesHref=B}load(){for(const R of this.imagesHref){const D=new r(this.render,R,"soft");D.load(),this.pages.push(D)}this.createSpread()}}class d{static GetDistanceBetweenTwoPoint(R,D){return R===null||D===null?1/0:Math.sqrt(Math.pow(D.x-R.x,2)+Math.pow(D.y-R.y,2))}static GetSegmentLength(R){return d.GetDistanceBetweenTwoPoint(R[0],R[1])}static GetAngleBetweenTwoLine(R,D){const B=R[0].y-R[1].y,z=D[0].y-D[1].y,G=R[1].x-R[0].x,X=D[1].x-D[0].x;return Math.acos((B*z+G*X)/(Math.sqrt(B*B+G*G)*Math.sqrt(z*z+X*X)))}static PointInRect(R,D){return D===null?null:D.x>=R.left&&D.x<=R.width+R.left&&D.y>=R.top&&D.y<=R.top+R.height?D:null}static GetRotatedPoint(R,D,B){return{x:R.x*Math.cos(B)+R.y*Math.sin(B)+D.x,y:R.y*Math.cos(B)-R.x*Math.sin(B)+D.y}}static LimitPointToCircle(R,D,B){if(d.GetDistanceBetweenTwoPoint(R,B)<=D)return B;const z=R.x,G=R.y,X=B.x,se=B.y;let ae=Math.sqrt(Math.pow(D,2)*Math.pow(z-X,2)/(Math.pow(z-X,2)+Math.pow(G-se,2)))+z;B.x<0&&(ae*=-1);let ue=(ae-z)*(G-se)/(z-X)+G;return z-X+G===0&&(ue=D),{x:ae,y:ue}}static GetIntersectBetweenTwoSegment(R,D,B){return d.PointInRect(R,d.GetIntersectBeetwenTwoLine(D,B))}static GetIntersectBeetwenTwoLine(R,D){const B=R[0].y-R[1].y,z=D[0].y-D[1].y,G=R[1].x-R[0].x,X=D[1].x-D[0].x,se=R[0].x*R[1].y-R[1].x*R[0].y,ae=D[0].x*D[1].y-D[1].x*D[0].y,ue=B*ae-z*se,Oe=G*ae-X*se,Te=-(se*X-ae*G)/(B*X-z*G),ne=-(B*ae-z*se)/(B*X-z*G);if(isFinite(Te)&&isFinite(ne))return{x:Te,y:ne};if(Math.abs(ue-Oe)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(R,D){const B=Math.abs(R.x-D.x),z=Math.abs(R.y-D.y),G=Math.max(B,z),X=[R];function se(ae,ue,Oe,Te,ne){return ue>ae?ae+ne*(Oe/Te):ue<ae?ae-ne*(Oe/Te):ae}for(let ae=1;ae<=G;ae+=1)X.push({x:se(R.x,D.x,B,G,ae),y:se(R.y,D.y,z,G,ae)});return X}}class f extends i{constructor(R,D,B){super(R,B),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=D,this.element.classList.add("stf__item"),this.element.classList.add("--"+B)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new f(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(R){const D=R||this.nowDrawingDensity,B=this.render.convertToGlobal(this.state.position),z=this.render.getRect().pageWidth,G=this.render.getRect().height;this.element.classList.remove("--simple");const X=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${z}px;
            height: ${G}px;
        `;D==="hard"?this.drawHard(X):this.drawSoft(B,X)}drawHard(R=""){const D=this.render.getRect().left+this.render.getRect().width/2,B=this.state.hardDrawingAngle,z=R+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${B}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${D}px, 0, 0) rotateY(${B}deg);`);this.element.style.cssText=z}drawSoft(R,D=""){let B="polygon( ";for(const G of this.state.area)if(G!==null){let X=this.render.getDirection()===1?{x:-G.x+this.state.position.x,y:G.y-this.state.position.y}:{x:G.x-this.state.position.x,y:G.y-this.state.position.y};X=d.GetRotatedPoint(X,{x:0,y:0},this.state.angle),B+=X.x+"px "+X.y+"px, "}B=B.slice(0,-2),B+=")";const z=D+`transform-origin: 0 0; clip-path: ${B}; -webkit-clip-path: ${B};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${R.x}px, ${R.y}px);`:`transform: translate3d(${R.x}px, ${R.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=z}simpleDraw(R){const D=this.render.getRect(),B=D.pageWidth,z=D.height,G=R===1?D.left+D.pageWidth:D.left,X=D.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${z}px; 
            left: ${G}px; 
            top: ${X}px; 
            width: ${B}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(R){super.setOrientation(R),this.element.classList.remove("--left","--right"),this.element.classList.add(R===1?"--right":"--left")}setDrawingDensity(R){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+R),super.setDrawingDensity(R)}}class p extends s{constructor(R,D,B,z){super(R,D),this.element=B,this.pagesElement=z}load(){for(const R of this.pagesElement){const D=new f(this.render,R,R.dataset.density==="hard"?"hard":"soft");D.load(),this.pages.push(D)}this.createSpread()}}class y{constructor(R,D,B,z){this.direction=R,this.corner=D,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(B,10),this.pageHeight=parseInt(z,10)}calc(R){try{return this.position=this.calcAngleAndPosition(R),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const R=[];let D=!1;return R.push(this.rect.topLeft),R.push(this.topIntersectPoint),this.sideIntersectPoint===null?D=!0:(R.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(D=!1)),R.push(this.bottomIntersectPoint),(D||this.corner==="bottom")&&R.push(this.rect.bottomLeft),R}getBottomClipArea(){const R=[];return R.push(this.topIntersectPoint),this.corner==="top"?R.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&R.push({x:this.pageWidth,y:0}),R.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&R.push(this.sideIntersectPoint):this.corner==="top"&&R.push({x:this.pageWidth,y:this.pageHeight}),R.push(this.bottomIntersectPoint),R.push(this.topIntersectPoint),R}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const R=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?R:Math.PI-R}calcAngleAndPosition(R){let D=R;if(this.updateAngleAndGeometry(D),D=this.corner==="top"?this.checkPositionAtCenterLine(D,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(D,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(D.x-this.pageWidth)<1&&Math.abs(D.y)<1)throw new Error("Point is too small");return D}updateAngleAndGeometry(R){this.angle=this.calculateAngle(R),this.rect=this.getPageRect(R)}calculateAngle(R){const D=this.pageWidth-R.x+1,B=this.corner==="bottom"?this.pageHeight-R.y:R.y;let z=2*Math.acos(D/Math.sqrt(B*B+D*D));B<0&&(z=-z);const G=Math.PI-z;if(!isFinite(z)||G>=0&&G<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(z=-z),z}getPageRect(R){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],R):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],R)}getRectFromBasePoint(R,D){return{topLeft:this.getRotatedPoint(R[0],D),topRight:this.getRotatedPoint(R[1],D),bottomLeft:this.getRotatedPoint(R[2],D),bottomRight:this.getRotatedPoint(R[3],D)}}getRotatedPoint(R,D){return{x:R.x*Math.cos(this.angle)+R.y*Math.sin(this.angle)+D.x,y:R.y*Math.cos(this.angle)-R.x*Math.sin(this.angle)+D.y}}calculateIntersectPoint(R){const D={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[R,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[R,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[R,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(R,D,B){let z=R;const G=d.LimitPointToCircle(D,this.pageWidth,z);z!==G&&(z=G,this.updateAngleAndGeometry(z));const X=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let se=this.rect.bottomRight,ae=this.rect.topLeft;if(this.corner==="bottom"&&(se=this.rect.topRight,ae=this.rect.bottomLeft),se.x<=0){const ue=d.LimitPointToCircle(B,X,ae);ue!==z&&(z=ue,this.updateAngleAndGeometry(z))}return z}getSegmentToShadowLine(){const R=this.getShadowStartPoint();return[R,R!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class _{constructor(R,D){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=R,this.app=D}fold(R){this.setState("user_fold"),this.calc===null&&this.start(R),this.do(this.render.convertToPage(R))}flip(R){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(R)||(this.calc!==null&&this.render.finishAnimation(),!this.start(R)))return;const D=this.getBoundsRect();this.setState("flipping");const B=D.height/10,z=this.calc.getCorner()==="bottom"?D.height-B:B,G=this.calc.getCorner()==="bottom"?D.height:0;this.calc.calc({x:D.pageWidth-B,y:z}),this.animateFlippingTo({x:D.pageWidth-B,y:z},{x:-D.pageWidth,y:G},!0)}start(R){this.reset();const D=this.render.convertToBook(R),B=this.getBoundsRect(),z=this.getDirectionByPoint(D),G=D.y>=B.height/2?"bottom":"top";if(!this.checkDirection(z))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(z),this.bottomPage=this.app.getPageCollection().getBottomPage(z),this.render.getOrientation()==="landscape")if(z===1){const X=this.app.getPageCollection().nextBy(this.flippingPage);X!==null&&this.flippingPage.getDensity()!==X.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),X.setDrawingDensity("hard"))}else{const X=this.app.getPageCollection().prevBy(this.flippingPage);X!==null&&this.flippingPage.getDensity()!==X.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),X.setDrawingDensity("hard"))}return this.render.setDirection(z),this.calc=new y(z,G,B.pageWidth.toString(10),B.height.toString(10)),!0}catch{return!1}}do(R){if(this.calc!==null&&this.calc.calc(R)){const D=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*D)/100):this.flippingPage.setHardAngle(-90*(200-2*D)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),D,this.calc.getDirection())}}flipToPage(R,D){const B=this.app.getPageCollection().getCurrentSpreadIndex(),z=this.app.getPageCollection().getSpreadIndexByPage(R);try{z>B&&(this.app.getPageCollection().setCurrentSpreadIndex(z-1),this.flipNext(D)),z<B&&(this.app.getPageCollection().setCurrentSpreadIndex(z+1),this.flipPrev(D))}catch{}}flipNext(R){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:R==="top"?1:this.render.getRect().height-2})}flipPrev(R){this.flip({x:10,y:R==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const R=this.calc.getPosition(),D=this.getBoundsRect(),B=this.calc.getCorner()==="bottom"?D.height:0;R.x<=0?this.animateFlippingTo(R,{x:-D.pageWidth,y:B},!0):this.animateFlippingTo(R,{x:D.pageWidth,y:B},!1)}showCorner(R){if(!this.checkState("read","fold_corner"))return;const D=this.getBoundsRect(),B=D.pageWidth;if(this.isPointOnCorners(R))if(this.calc===null){if(!this.start(R))return;this.setState("fold_corner"),this.calc.calc({x:B-1,y:1});const z=50,G=this.calc.getCorner()==="bottom"?D.height-1:1,X=this.calc.getCorner()==="bottom"?D.height-z:z;this.animateFlippingTo({x:B-1,y:G},{x:B-z,y:X},!1,!1)}else this.do(this.render.convertToPage(R));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(R,D,B,z=!0){const G=d.GetCordsFromTwoPoint(R,D),X=[];for(const ae of G)X.push(()=>this.do(ae));const se=this.getAnimationDuration(G.length);this.render.startAnimation(X,se,()=>{this.calc&&(B&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),z&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(R){this.state!==R&&(this.app.updateState(R),this.state=R)}getDirectionByPoint(R){const D=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(R.x-D.pageWidth<=D.width/5)return 1}else if(R.x<D.width/2)return 1;return 0}getAnimationDuration(R){const D=this.app.getSettings().flippingTime;return R>=1e3?D:R/1e3*D}checkDirection(R){return R===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...R){for(const D of R)if(this.state===D)return!0;return!1}isPointOnCorners(R){const D=this.getBoundsRect(),B=D.pageWidth,z=Math.sqrt(Math.pow(B,2)+Math.pow(D.height,2))/5,G=this.render.convertToBook(R);return G.x>0&&G.y>0&&G.x<D.width&&G.y<D.height&&(G.x<z||G.x>D.width-z)&&(G.y<z||G.y>D.height-z)}}class S{constructor(R,D){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=D,this.app=R;const B=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=B.exec(window.navigator.userAgent)!==null}render(R){if(this.animation!==null){const D=Math.round((R-this.animation.startedAt)/this.animation.durationFrame);D<this.animation.frames.length?this.animation.frames[D]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=R,this.drawFrame()}start(){this.update();const R=D=>{this.render(D),requestAnimationFrame(R)};requestAnimationFrame(R)}startAnimation(R,D,B){this.finishAnimation(),this.animation={frames:R,duration:D,durationFrame:D/R.length,onAnimateEnd:B,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const R=this.calculateBoundsRect();this.orientation!==R&&(this.orientation=R,this.app.updateOrientation(R))}calculateBoundsRect(){let R="landscape";const D=this.getBlockWidth(),B=D/2,z=this.getBlockHeight()/2,G=this.setting.width/this.setting.height;let X=this.setting.width,se=this.setting.height,ae=B-X;return this.setting.size==="stretch"?(D<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(R="portrait"),X=R==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,X>this.setting.maxWidth&&(X=this.setting.maxWidth),se=X/G,se>this.getBlockHeight()&&(se=this.getBlockHeight(),X=se*G),ae=R==="portrait"?B-X/2-X:B-X):D<2*X&&this.app.getSettings().usePortrait&&(R="portrait",ae=B-X/2-X),this.boundsRect={left:ae,top:z-se/2,width:2*X,height:se,pageWidth:X},R}setShadowData(R,D,B,z){if(!this.app.getSettings().drawShadow)return;const G=100*this.getSettings().maxShadowOpacity;this.shadow={pos:R,angle:D,width:3*this.getRect().pageWidth/4*B/100,opacity:(100-B)*G/100/100,direction:z,progress:2*B}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(R){this.pageRect=R}setDirection(R){this.direction=R}setRightPage(R){R!==null&&R.setOrientation(1),this.rightPage=R}setLeftPage(R){R!==null&&R.setOrientation(0),this.leftPage=R}setBottomPage(R){R!==null&&R.setOrientation(this.direction===1?0:1),this.bottomPage=R}setFlippingPage(R){R!==null&&R.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=R}convertToBook(R){const D=this.getRect();return{x:R.x-D.left,y:R.y-D.top}}isSafari(){return this.safari}convertToPage(R,D){D||(D=this.direction);const B=this.getRect();return{x:D===0?R.x-B.left-B.width/2:B.width/2-R.x+B.left,y:R.y-B.top}}convertToGlobal(R,D){if(D||(D=this.direction),R==null)return null;const B=this.getRect();return{x:D===0?R.x+B.left+B.width/2:B.width/2-R.x+B.left,y:R.y+B.top}}convertRectToGlobal(R,D){return D||(D=this.direction),{topLeft:this.convertToGlobal(R.topLeft,D),topRight:this.convertToGlobal(R.topRight,D),bottomLeft:this.convertToGlobal(R.bottomLeft,D),bottomRight:this.convertToGlobal(R.bottomRight,D)}}}class T extends S{constructor(R,D,B){super(R,D),this.canvas=B,this.ctx=B.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const R=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(R.left+R.pageWidth,R.top,R.width,R.height),this.ctx.clip())}drawBookShadow(){const R=this.getRect();this.ctx.save(),this.ctx.beginPath();const D=R.width/20;this.ctx.rect(R.left,R.top,R.width,R.height);const B={x:R.left+R.width/2-D/2,y:0};this.ctx.translate(B.x,B.y);const z=this.ctx.createLinearGradient(0,0,D,0);z.addColorStop(0,"rgba(0, 0, 0, 0)"),z.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),z.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),z.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),z.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),z.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=z,this.ctx.fillRect(0,0,D,2*R.height),this.ctx.restore()}drawOuterShadow(){const R=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(R.left,R.top,R.width,R.height);const D=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(D.x,D.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const B=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),B.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),B.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),B.addColorStop(0,"rgba(0, 0, 0, 0)"),B.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=B,this.ctx.fillRect(0,0,this.shadow.width,2*R.height),this.ctx.restore()}drawInnerShadow(){const R=this.getRect();this.ctx.save(),this.ctx.beginPath();const D=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),B=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(B.topLeft.x,B.topLeft.y),this.ctx.lineTo(B.topRight.x,B.topRight.y),this.ctx.lineTo(B.bottomRight.x,B.bottomRight.y),this.ctx.lineTo(B.bottomLeft.x,B.bottomLeft.y),this.ctx.translate(D.x,D.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const z=3*this.shadow.width/4,G=this.ctx.createLinearGradient(0,0,z,0);this.shadow.direction===0?(this.ctx.translate(-z,-100),G.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),G.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),G.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),G.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),G.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),G.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),G.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),G.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=G,this.ctx.fillRect(0,0,z,2*R.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class A{constructor(R,D,B){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=G=>{if(this.checkTarget(G.target)){const X=this.getMousePos(G.clientX,G.clientY);this.app.startUserTouch(X),G.preventDefault()}},this.onTouchStart=G=>{if(this.checkTarget(G.target)&&G.changedTouches.length>0){const X=G.changedTouches[0],se=this.getMousePos(X.clientX,X.clientY);this.touchPoint={point:se,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(se)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||G.preventDefault()}},this.onMouseUp=G=>{const X=this.getMousePos(G.clientX,G.clientY);this.app.userStop(X)},this.onMouseMove=G=>{const X=this.getMousePos(G.clientX,G.clientY);this.app.userMove(X,!1)},this.onTouchMove=G=>{if(G.changedTouches.length>0){const X=G.changedTouches[0],se=this.getMousePos(X.clientX,X.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-se.x)>10||this.app.getState()!=="read")&&G.cancelable&&this.app.userMove(se,!0),this.app.getState()!=="read"&&G.preventDefault()):this.app.userMove(se,!0)}},this.onTouchEnd=G=>{if(G.changedTouches.length>0){const X=G.changedTouches[0],se=this.getMousePos(X.clientX,X.clientY);let ae=!1;if(this.touchPoint!==null){const ue=se.x-this.touchPoint.point.x,Oe=Math.abs(se.y-this.touchPoint.point.y);Math.abs(ue)>this.swipeDistance&&Oe<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(ue>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),ae=!0),this.touchPoint=null}this.app.userStop(se,ae)}},this.parentElement=R,R.classList.add("stf__parent"),R.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=R.querySelector(".stf__wrapper"),this.app=D;const z=this.app.getSettings().usePortrait?1:2;R.style.minWidth=B.minWidth*z+"px",R.style.minHeight=B.minHeight+"px",B.size==="fixed"&&(R.style.minWidth=B.width*z+"px",R.style.minHeight=B.height+"px"),B.autoSize&&(R.style.width="100%",R.style.maxWidth=2*B.maxWidth+"px"),R.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=B.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(R){this.wrapper.classList.remove("--portrait","--landscape"),R==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(R,D){const B=this.distElement.getBoundingClientRect();return{x:R-B.left,y:D-B.top}}checkTarget(R){return!this.app.getSettings().clickEventForward||!["a","button"].includes(R.tagName.toLowerCase())}}class O extends A{constructor(R,D,B,z){super(R,D,B),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=R.querySelector(".stf__block"),this.items=z;for(const G of z)this.distElement.appendChild(G);this.setHandlers()}clear(){for(const R of this.items)this.parentElement.appendChild(R)}updateItems(R){this.removeHandlers(),this.distElement.innerHTML="";for(const D of R)this.distElement.appendChild(D);this.items=R,this.setHandlers()}update(){this.app.getRender().update()}}class k extends A{constructor(R,D,B){super(R,D,B),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=R.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const R=getComputedStyle(this.canvas),D=parseInt(R.getPropertyValue("width"),10),B=parseInt(R.getPropertyValue("height"),10);this.canvas.width=D,this.canvas.height=B}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class L extends S{constructor(R,D,B){super(R,D),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=B,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const R=this.getRect(),D=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let B=(100-D)*(2.5*R.pageWidth)/100+20;B>R.pageWidth&&(B=R.pageWidth);let z=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${B}px;
            height: ${R.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*D/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${R.left+R.width/2}px;
            transform-origin: 0 0;
        `;z+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=z}drawHardOuterShadow(){const R=this.getRect();let D=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*R.pageWidth)/100+20;D>R.pageWidth&&(D=R.pageWidth);let B=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${D}px;
            height: ${R.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${R.left+R.width/2}px;
            transform-origin: 0 0;
        `;B+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=B}drawInnerShadow(){const R=this.getRect(),D=3*this.shadow.width/4,B=this.getDirection()===0?D:0,z=this.getDirection()===0?"to left":"to right",G=this.convertToGlobal(this.shadow.pos),X=this.shadow.angle+3*Math.PI/2,se=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let ae="polygon( ";for(const Oe of se){let Te=this.getDirection()===1?{x:-Oe.x+this.shadow.pos.x,y:Oe.y-this.shadow.pos.y}:{x:Oe.x-this.shadow.pos.x,y:Oe.y-this.shadow.pos.y};Te=d.GetRotatedPoint(Te,{x:B,y:100},X),ae+=Te.x+"px "+Te.y+"px, "}ae=ae.slice(0,-2),ae+=")";const ue=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${D}px;
            height: ${2*R.height}px;
            background: linear-gradient(${z},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${B}px 100px;
            transform: translate3d(${G.x-B}px, ${G.y-100}px, 0) rotate(${X}rad);
            clip-path: ${ae};
            -webkit-clip-path: ${ae};
        `;this.innerShadow.style.cssText=ue}drawOuterShadow(){const R=this.getRect(),D=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),B=this.shadow.angle+3*Math.PI/2,z=this.getDirection()===1?this.shadow.width:0,G=this.getDirection()===0?"to right":"to left",X=[{x:0,y:0},{x:R.pageWidth,y:0},{x:R.pageWidth,y:R.height},{x:0,y:R.height}];let se="polygon( ";for(const ue of X)if(ue!==null){let Oe=this.getDirection()===1?{x:-ue.x+this.shadow.pos.x,y:ue.y-this.shadow.pos.y}:{x:ue.x-this.shadow.pos.x,y:ue.y-this.shadow.pos.y};Oe=d.GetRotatedPoint(Oe,{x:z,y:100},B),se+=Oe.x+"px "+Oe.y+"px, "}se=se.slice(0,-2),se+=")";const ae=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*R.height}px;
            background: linear-gradient(${G}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${z}px 100px;
            transform: translate3d(${D.x-z}px, ${D.y-100}px, 0) rotate(${B}rad);
            clip-path: ${se};
            -webkit-clip-path: ${se};
        `;this.outerShadow.style.cssText=ae}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const R=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(R))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const R of this.app.getPageCollection().getPages())R!==this.leftPage&&R!==this.rightPage&&R!==this.flippingPage&&R!==this.bottomPage&&(R.getElement().style.cssText="display: none"),R.getTemporaryCopy()!==this.flippingPage&&R.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class ${constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(R){const D=this._default;if(Object.assign(D,R),D.size!=="stretch"&&D.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(D.width<=0||D.height<=0)throw new Error("Invalid width or height");if(D.flippingTime<=0)throw new Error("Invalid flipping time");return D.size==="stretch"?(D.minWidth<=0&&(D.minWidth=100),D.maxWidth<D.minWidth&&(D.maxWidth=2e3),D.minHeight<=0&&(D.minHeight=100),D.maxHeight<D.minHeight&&(D.maxHeight=2e3)):(D.minWidth=D.width,D.maxWidth=D.width,D.minHeight=D.height,D.maxHeight=D.height),D}}(function(P,R){R===void 0&&(R={});var D=R.insertAt;if(typeof document<"u"){var B=document.head||document.getElementsByTagName("head")[0],z=document.createElement("style");z.type="text/css",D==="top"&&B.firstChild?B.insertBefore(z,B.firstChild):B.appendChild(z),z.styleSheet?z.styleSheet.cssText=P:z.appendChild(document.createTextNode(P))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(P,R){return this.events.has(P)?this.events.get(P).push(R):this.events.set(P,[R]),this}off(P){this.events.delete(P)}trigger(P,R,D=null){if(this.events.has(P))for(const B of this.events.get(P))B({data:D,object:R})}}{constructor(P,R){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new $().getSettings(R),this.block=P}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(P){this.ui=new k(this.block,this,this.setting);const R=this.ui.getCanvas();this.render=new T(this,this.setting,R),this.flipController=new _(this.render,this),this.pages=new l(this,this.render,P),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(P){this.ui=new O(this.block,this,this.setting,P),this.render=new L(this,this.setting,this.ui.getDistElement()),this.flipController=new _(this.render,this),this.pages=new p(this,this.render,this.ui.getDistElement(),P),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(P){const R=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new l(this,this.render,P),this.pages.load(),this.pages.show(R),this.trigger("update",this,{page:R,mode:this.render.getOrientation()})}updateFromHtml(P){const R=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new p(this,this.render,this.ui.getDistElement(),P),this.pages.load(),this.ui.updateItems(P),this.render.reload(),this.pages.show(R),this.trigger("update",this,{page:R,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(P){this.pages.show(P)}flipNext(P="top"){this.flipController.flipNext(P)}flipPrev(P="top"){this.flipController.flipPrev(P)}flip(P,R="top"){this.flipController.flipToPage(P,R)}updateState(P){this.trigger("changeState",this,P)}updatePageIndex(P){this.trigger("flip",this,P)}updateOrientation(P){this.ui.setOrientationStyle(P),this.update(),this.trigger("changeOrientation",this,P)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(P){return this.pages.getPage(P)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(P){this.mousePosition=P,this.isUserTouch=!0,this.isUserMove=!1}userMove(P,R){this.isUserTouch||R||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,P)>5&&(this.isUserMove=!0,this.flipController.fold(P)):this.flipController.showCorner(P)}userStop(P,R=!1){this.isUserTouch&&(this.isUserTouch=!1,R||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(P)))}},Object.defineProperty(n,"__esModule",{value:!0})})}(gf,gf.exports)),gf.exports}var Gie=$ie();const qie=Vt.forwardRef((t,e)=>{const n=F.useRef(null),i=F.useRef([]),r=F.useRef(),[s,l]=F.useState([]);F.useImperativeHandle(e,()=>({pageFlip:()=>r.current}));const d=F.useCallback(()=>{r.current&&r.current.clear()},[]),f=F.useCallback(()=>{const p=r.current;p&&(p.off("flip"),p.off("changeOrientation"),p.off("changeState"),p.off("init"),p.off("update"))},[]);return F.useEffect(()=>{if(i.current=[],t.children){const p=Vt.Children.map(t.children,y=>Vt.cloneElement(y,{ref:_=>{_&&i.current.push(_)}}));(!t.renderOnlyPageLengthChange||s.length!==p.length)&&(p.length<s.length&&d(),l(p))}},[t.children]),F.useEffect(()=>{const p=()=>{const y=r.current;y&&(t.onFlip&&y.on("flip",_=>t.onFlip(_)),t.onChangeOrientation&&y.on("changeOrientation",_=>t.onChangeOrientation(_)),t.onChangeState&&y.on("changeState",_=>t.onChangeState(_)),t.onInit&&y.on("init",_=>t.onInit(_)),t.onUpdate&&y.on("update",_=>t.onUpdate(_)))};s.length>0&&i.current.length>0&&(f(),n.current&&!r.current&&(r.current=new Gie.PageFlip(n.current,t)),r.current.getFlipController()?r.current.updateFromHtml(i.current):r.current.loadFromHTML(i.current),p())},[s]),Vt.createElement("div",{ref:n,className:t.className,style:t.style},s)}),Wie=Vt.memo(qie),Xie="_overlayBox_19ufe_3",Yie="_bookletContainerBox_19ufe_33",Kie="_closeButton_19ufe_67",Zie="_flipBook_19ufe_177",Qie="_pageBox_19ufe_189",Jie="_pageImage_19ufe_209",ere="_pageNumberSpan_19ufe_229",oo={overlayBox:Xie,bookletContainerBox:Yie,closeButton:Kie,flipBook:Zie,pageBox:Qie,pageImage:Jie,pageNumberSpan:ere},ry=1.414;function tre({isOpen:t,onClose:e,coverImage:n,imageList:i}){const r=F.useRef(null),[s,l]=F.useState(0),[d,f]=F.useState(!1);F.useEffect(()=>{const A=()=>{f(window.innerWidth>767)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const p=(n?1:0)+i.length;F.useEffect(()=>{t&&l(0)},[t]),F.useEffect(()=>{p>0&&s>=p&&l(Math.max(0,p-1))},[p,s]);const y={desktop:{width:500},mobile:{width:300}},S=(d?y.desktop:y.mobile).width,T=Math.round(S*ry);return F.useEffect(()=>{const A=O=>{if(!(!t||!r.current))switch(O.key){case"ArrowLeft":r.current.pageFlip().flipPrev();break;case"ArrowRight":r.current.pageFlip().flipNext();break;case"Escape":e();break}};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[t,e]),!t||p===0?null:v.jsxs("div",{className:oo.overlayBox,onClick:e,children:[v.jsxs("div",{className:oo.bookletContainerBox,onClick:A=>A.stopPropagation(),children:[v.jsx("button",{className:oo.closeButton,onClick:e,children:""}),v.jsxs(Wie,{ref:r,width:S,height:T,minWidth:280,maxWidth:d?600:350,minHeight:Math.round(280*ry),maxHeight:Math.round((d?600:350)*ry),size:"fixed",showCover:!0,mobileScrollSupport:!0,className:oo.flipBook,onFlip:A=>{const O=A.data;O>=0&&O<p&&l(O)},showPageCorners:!0,usePortrait:!d,useMouseEvents:!0,swipeDistance:50,clickEventForward:!0,disableFlipByClick:!1,startPage:0,drawShadow:!0,flippingTime:800,usePageShadow:!0,autoSize:!1,maxShadowOpacity:.3,startZIndex:1,children:[n&&v.jsx("div",{className:oo.pageBox,children:v.jsx("img",{src:n.url,alt:"",className:oo.pageImage})}),i.map((A,O)=>v.jsx("div",{className:oo.pageBox,children:v.jsx("img",{src:A.url,alt:` ${O+1}`,className:oo.pageImage})},O))]})]}),v.jsxs("div",{className:oo.pageNumberSpan,children:[s+1," / ",p]})]})}function Dc(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(y){try{p(i.next(y))}catch(_){l(_)}}function f(y){try{p(i.throw(y))}catch(_){l(_)}}function p(y){y.done?s(y.value):r(y.value).then(d,f)}p((i=i.apply(t,e||[])).next())})}const nre=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Xu(t,e,n){const i=ire(t),{webkitRelativePath:r}=t,s=typeof e=="string"?e:typeof r=="string"&&r.length>0?r:`./${t.name}`;return typeof i.path!="string"&&DS(i,"path",s),DS(i,"relativePath",s),i}function ire(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const i=e.split(".").pop().toLowerCase(),r=nre.get(i);r&&Object.defineProperty(t,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return t}function DS(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const rre=[".DS_Store","Thumbs.db"];function sre(t){return Dc(this,void 0,void 0,function*(){return sm(t)&&are(t.dataTransfer)?ure(t.dataTransfer,t.type):ore(t)?lre(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?cre(t):[]})}function are(t){return sm(t)}function ore(t){return sm(t)&&sm(t.target)}function sm(t){return typeof t=="object"&&t!==null}function lre(t){return Qy(t.target.files).map(e=>Xu(e))}function cre(t){return Dc(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Xu(n))})}function ure(t,e){return Dc(this,void 0,void 0,function*(){if(t.items){const n=Qy(t.items).filter(r=>r.kind==="file");if(e!=="drop")return n;const i=yield Promise.all(n.map(dre));return BS(k8(i))}return BS(Qy(t.files).map(n=>Xu(n)))})}function BS(t){return t.filter(e=>rre.indexOf(e.name)===-1)}function Qy(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const i=t[n];e.push(i)}return e}function dre(t){if(typeof t.webkitGetAsEntry!="function")return LS(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?D8(e):LS(t,e)}function k8(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?k8(n):[n]],[])}function LS(t,e){return Dc(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const l=yield s.getFile();return l.handle=s,Xu(l)}}const i=t.getAsFile();if(!i)throw new Error(`${t} is not a File`);return Xu(i,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function fre(t){return Dc(this,void 0,void 0,function*(){return t.isDirectory?D8(t):hre(t)})}function D8(t){const e=t.createReader();return new Promise((n,i)=>{const r=[];function s(){e.readEntries(l=>Dc(this,void 0,void 0,function*(){if(l.length){const d=Promise.all(l.map(fre));r.push(d),s()}else try{const d=yield Promise.all(r);n(d)}catch(d){i(d)}}),l=>{i(l)})}s()})}function hre(t){return Dc(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(i=>{const r=Xu(i,t.fullPath);e(r)},i=>{n(i)})})})}var jp={},jS;function pre(){return jS||(jS=1,jp.__esModule=!0,jp.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var i=t.name||"",r=(t.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return n.some(function(l){var d=l.trim().toLowerCase();return d.charAt(0)==="."?i.toLowerCase().endsWith(d):d.endsWith("/*")?s===d.replace(/\/.*$/,""):r===d})}return!0}),jp}var mre=pre();const sy=Nl(mre);function PS(t){return yre(t)||xre(t)||L8(t)||gre()}function gre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yre(t){if(Array.isArray(t))return Jy(t)}function FS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function zS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(n),!0).forEach(function(i){B8(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function B8(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zf(t,e){return wre(t)||bre(t,e)||L8(t,e)||vre()}function vre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L8(t,e){if(t){if(typeof t=="string")return Jy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jy(t,e)}}function Jy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function bre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,l,d;try{for(n=n.call(t);!(r=(l=n.next()).done)&&(i.push(l.value),!(e&&i.length===e));r=!0);}catch(f){s=!0,d=f}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw d}}return i}}function wre(t){if(Array.isArray(t))return t}var _re=typeof sy=="function"?sy:sy.default,Cre="file-invalid-type",Sre="file-too-large",Ere="file-too-small",Are="too-many-files",Tre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:Cre,message:"File type must be ".concat(i)}},HS=function(e){return{code:Sre,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},US=function(e){return{code:Ere,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Nre={code:Are,message:"Too many files"};function j8(t,e){var n=t.type==="application/x-moz-file"||_re(t,e);return[n,n?null:Tre(e)]}function P8(t,e,n){if(cc(t.size))if(cc(e)&&cc(n)){if(t.size>n)return[!1,HS(n)];if(t.size<e)return[!1,US(e)]}else{if(cc(e)&&t.size<e)return[!1,US(e)];if(cc(n)&&t.size>n)return[!1,HS(n)]}return[!0,null]}function cc(t){return t!=null}function Mre(t){var e=t.files,n=t.accept,i=t.minSize,r=t.maxSize,s=t.multiple,l=t.maxFiles,d=t.validator;return!s&&e.length>1||s&&l>=1&&e.length>l?!1:e.every(function(f){var p=j8(f,n),y=zf(p,1),_=y[0],S=P8(f,i,r),T=zf(S,1),A=T[0],O=d?d(f):null;return _&&A&&!O})}function am(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Pp(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function VS(t){t.preventDefault()}function Rre(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Ore(t){return t.indexOf("Edge/")!==-1}function Ire(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Rre(t)||Ore(t)}function xa(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return e.some(function(d){return!am(i)&&d&&d.apply(void 0,[i].concat(s)),am(i)})}}function kre(){return"showOpenFilePicker"in window}function Dre(t){if(cc(t)){var e=Object.entries(t).filter(function(n){var i=zf(n,2),r=i[0],s=i[1],l=!0;return F8(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(s)||!s.every(z8))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(n,i){var r=zf(i,2),s=r[0],l=r[1];return zS(zS({},n),{},B8({},s,l))},{});return[{description:"Files",accept:e}]}return t}function Bre(t){if(cc(t))return Object.entries(t).reduce(function(e,n){var i=zf(n,2),r=i[0],s=i[1];return[].concat(PS(e),[r],PS(s))},[]).filter(function(e){return F8(e)||z8(e)}).join(",")}function Lre(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function jre(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function F8(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function z8(t){return/^.*\.[\w]+$/.test(t)}var Pre=["children"],Fre=["open"],zre=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Hre=["refKey","onChange","onClick"];function Ure(t){return Gre(t)||$re(t)||H8(t)||Vre()}function Vre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $re(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gre(t){if(Array.isArray(t))return e2(t)}function ay(t,e){return Xre(t)||Wre(t,e)||H8(t,e)||qre()}function qre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H8(t,e){if(t){if(typeof t=="string")return e2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e2(t,e)}}function e2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Wre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,l,d;try{for(n=n.call(t);!(r=(l=n.next()).done)&&(i.push(l.value),!(e&&i.length===e));r=!0);}catch(f){s=!0,d=f}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw d}}return i}}function Xre(t){if(Array.isArray(t))return t}function $S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(n),!0).forEach(function(i){t2(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function t2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function om(t,e){if(t==null)return{};var n=Yre(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Yre(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var hv=F.forwardRef(function(t,e){var n=t.children,i=om(t,Pre),r=i2(i),s=r.open,l=om(r,Fre);return F.useImperativeHandle(e,function(){return{open:s}},[s]),Vt.createElement(F.Fragment,null,n(qn(qn({},l),{},{open:s})))});hv.displayName="Dropzone";var U8={disabled:!1,getFilesFromEvent:sre,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};hv.defaultProps=U8;hv.propTypes={children:ot.func,accept:ot.objectOf(ot.arrayOf(ot.string)),multiple:ot.bool,preventDropOnDocument:ot.bool,noClick:ot.bool,noKeyboard:ot.bool,noDrag:ot.bool,noDragEventsBubbling:ot.bool,minSize:ot.number,maxSize:ot.number,maxFiles:ot.number,disabled:ot.bool,getFilesFromEvent:ot.func,onFileDialogCancel:ot.func,onFileDialogOpen:ot.func,useFsAccessApi:ot.bool,autoFocus:ot.bool,onDragEnter:ot.func,onDragLeave:ot.func,onDragOver:ot.func,onDrop:ot.func,onDropAccepted:ot.func,onDropRejected:ot.func,onError:ot.func,validator:ot.func};var n2={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function i2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=qn(qn({},U8),t),n=e.accept,i=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,l=e.minSize,d=e.multiple,f=e.maxFiles,p=e.onDragEnter,y=e.onDragLeave,_=e.onDragOver,S=e.onDrop,T=e.onDropAccepted,A=e.onDropRejected,O=e.onFileDialogCancel,k=e.onFileDialogOpen,L=e.useFsAccessApi,$=e.autoFocus,P=e.preventDropOnDocument,R=e.noClick,D=e.noKeyboard,B=e.noDrag,z=e.noDragEventsBubbling,G=e.onError,X=e.validator,se=F.useMemo(function(){return Bre(n)},[n]),ae=F.useMemo(function(){return Dre(n)},[n]),ue=F.useMemo(function(){return typeof k=="function"?k:GS},[k]),Oe=F.useMemo(function(){return typeof O=="function"?O:GS},[O]),Te=F.useRef(null),ne=F.useRef(null),Q=F.useReducer(Kre,n2),le=ay(Q,2),fe=le[0],Be=le[1],Z=fe.isFocused,be=fe.isFileDialogActive,Re=F.useRef(typeof window<"u"&&window.isSecureContext&&L&&kre()),Le=function(){!Re.current&&be&&setTimeout(function(){if(ne.current){var at=ne.current.files;at.length||(Be({type:"closeDialog"}),Oe())}},300)};F.useEffect(function(){return window.addEventListener("focus",Le,!1),function(){window.removeEventListener("focus",Le,!1)}},[ne,be,Oe,Re]);var Ie=F.useRef([]),et=function(at){Te.current&&Te.current.contains(at.target)||(at.preventDefault(),Ie.current=[])};F.useEffect(function(){return P&&(document.addEventListener("dragover",VS,!1),document.addEventListener("drop",et,!1)),function(){P&&(document.removeEventListener("dragover",VS),document.removeEventListener("drop",et))}},[Te,P]),F.useEffect(function(){return!i&&$&&Te.current&&Te.current.focus(),function(){}},[Te,$,i]);var Se=F.useCallback(function($e){G?G($e):console.error($e)},[G]),Ln=F.useCallback(function($e){$e.preventDefault(),$e.persist(),Tr($e),Ie.current=[].concat(Ure(Ie.current),[$e.target]),Pp($e)&&Promise.resolve(r($e)).then(function(at){if(!(am($e)&&!z)){var bt=at.length,_t=bt>0&&Mre({files:at,accept:se,minSize:l,maxSize:s,multiple:d,maxFiles:f,validator:X}),tn=bt>0&&!_t;Be({isDragAccept:_t,isDragReject:tn,isDragActive:!0,type:"setDraggedFiles"}),p&&p($e)}}).catch(function(at){return Se(at)})},[r,p,Se,z,se,l,s,d,f,X]),xt=F.useCallback(function($e){$e.preventDefault(),$e.persist(),Tr($e);var at=Pp($e);if(at&&$e.dataTransfer)try{$e.dataTransfer.dropEffect="copy"}catch{}return at&&_&&_($e),!1},[_,z]),bi=F.useCallback(function($e){$e.preventDefault(),$e.persist(),Tr($e);var at=Ie.current.filter(function(_t){return Te.current&&Te.current.contains(_t)}),bt=at.indexOf($e.target);bt!==-1&&at.splice(bt,1),Ie.current=at,!(at.length>0)&&(Be({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Pp($e)&&y&&y($e))},[Te,y,z]),un=F.useCallback(function($e,at){var bt=[],_t=[];$e.forEach(function(tn){var Pt=j8(tn,se),Ur=ay(Pt,2),wi=Ur[0],Ks=Ur[1],sn=P8(tn,l,s),Ue=ay(sn,2),rn=Ue[0],Ft=Ue[1],Xt=X?X(tn):null;if(wi&&rn&&!Xt)bt.push(tn);else{var Nr=[Ks,Ft];Xt&&(Nr=Nr.concat(Xt)),_t.push({file:tn,errors:Nr.filter(function(us){return us})})}}),(!d&&bt.length>1||d&&f>=1&&bt.length>f)&&(bt.forEach(function(tn){_t.push({file:tn,errors:[Nre]})}),bt.splice(0)),Be({acceptedFiles:bt,fileRejections:_t,isDragReject:_t.length>0,type:"setFiles"}),S&&S(bt,_t,at),_t.length>0&&A&&A(_t,at),bt.length>0&&T&&T(bt,at)},[Be,d,se,l,s,f,S,T,A,X]),ln=F.useCallback(function($e){$e.preventDefault(),$e.persist(),Tr($e),Ie.current=[],Pp($e)&&Promise.resolve(r($e)).then(function(at){am($e)&&!z||un(at,$e)}).catch(function(at){return Se(at)}),Be({type:"reset"})},[r,un,Se,z]),ki=F.useCallback(function(){if(Re.current){Be({type:"openDialog"}),ue();var $e={multiple:d,types:ae};window.showOpenFilePicker($e).then(function(at){return r(at)}).then(function(at){un(at,null),Be({type:"closeDialog"})}).catch(function(at){Lre(at)?(Oe(at),Be({type:"closeDialog"})):jre(at)?(Re.current=!1,ne.current?(ne.current.value=null,ne.current.click()):Se(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Se(at)});return}ne.current&&(Be({type:"openDialog"}),ue(),ne.current.value=null,ne.current.click())},[Be,ue,Oe,L,un,Se,ae,d]),kt=F.useCallback(function($e){!Te.current||!Te.current.isEqualNode($e.target)||($e.key===" "||$e.key==="Enter"||$e.keyCode===32||$e.keyCode===13)&&($e.preventDefault(),ki())},[Te,ki]),ii=F.useCallback(function(){Be({type:"focus"})},[]),$i=F.useCallback(function(){Be({type:"blur"})},[]),cs=F.useCallback(function(){R||(Ire()?setTimeout(ki,0):ki())},[R,ki]),$t=function(at){return i?null:at},en=function(at){return D?null:$t(at)},Tt=function(at){return B?null:$t(at)},Tr=function(at){z&&at.stopPropagation()},qe=F.useMemo(function(){return function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=$e.refKey,bt=at===void 0?"ref":at,_t=$e.role,tn=$e.onKeyDown,Pt=$e.onFocus,Ur=$e.onBlur,wi=$e.onClick,Ks=$e.onDragEnter,sn=$e.onDragOver,Ue=$e.onDragLeave,rn=$e.onDrop,Ft=om($e,zre);return qn(qn(t2({onKeyDown:en(xa(tn,kt)),onFocus:en(xa(Pt,ii)),onBlur:en(xa(Ur,$i)),onClick:$t(xa(wi,cs)),onDragEnter:Tt(xa(Ks,Ln)),onDragOver:Tt(xa(sn,xt)),onDragLeave:Tt(xa(Ue,bi)),onDrop:Tt(xa(rn,ln)),role:typeof _t=="string"&&_t!==""?_t:"presentation"},bt,Te),!i&&!D?{tabIndex:0}:{}),Ft)}},[Te,kt,ii,$i,cs,Ln,xt,bi,ln,D,B,i]),Ji=F.useCallback(function($e){$e.stopPropagation()},[]),Hr=F.useMemo(function(){return function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=$e.refKey,bt=at===void 0?"ref":at,_t=$e.onChange,tn=$e.onClick,Pt=om($e,Hre),Ur=t2({accept:se,multiple:d,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:$t(xa(_t,ln)),onClick:$t(xa(tn,Ji)),tabIndex:-1},bt,ne);return qn(qn({},Ur),Pt)}},[ne,n,d,ln,i]);return qn(qn({},fe),{},{isFocused:Z&&!i,getRootProps:qe,getInputProps:Hr,rootRef:Te,inputRef:ne,open:$t(ki)})}function Kre(t,e){switch(e.type){case"focus":return qn(qn({},t),{},{isFocused:!0});case"blur":return qn(qn({},t),{},{isFocused:!1});case"openDialog":return qn(qn({},n2),{},{isFileDialogActive:!0});case"closeDialog":return qn(qn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return qn(qn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return qn(qn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return qn({},n2);default:return t}}function GS(){}function Zre(){const[t,e]=F.useState([]),[n,i]=F.useState(null),r=S=>{const A=Array.from(S.target.files).map(O=>new Promise(k=>{const L=new FileReader;L.onload=$=>{k({file:O,url:$.target.result,name:O.name})},L.readAsDataURL(O)}));Promise.all(A).then(O=>{e(k=>[...k,...O]),S.target.value=""})},s=S=>{e(T=>T.filter((A,O)=>O!==S))},l=S=>{const T=new FileReader;T.onload=A=>{i({file:S,url:A.target.result,name:S.name})},T.readAsDataURL(S)},d=()=>{const S=document.createElement("input");S.type="file",S.accept="image/*",S.onchange=T=>{const A=T.target.files[0];A&&l(A)},S.click()},f=()=>{const S=document.createElement("input");S.type="file",S.accept="image/*",S.multiple=!0,S.onchange=r,S.click()},p=(S,T="inner")=>{const A=S.map(O=>new Promise(k=>{const L=new FileReader;L.onload=$=>{k({file:O,url:$.target.result,name:O.name})},L.readAsDataURL(O)}));Promise.all(A).then(O=>{T==="cover"?O.length>0&&i(O[0]):e(k=>[...k,...O])})},y=i2({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!1,onDrop:S=>p(S,"cover"),onDropRejected:S=>{console.log("   :",S)}}),_=i2({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!0,onDrop:S=>p(S,"inner"),onDropRejected:S=>{console.log("   :",S)}});return{imageList:t,setImageList:e,coverImage:n,setCoverImage:i,handleImageChange:r,handleRemoveImage:s,openFileDialogForCover:d,openFileDialogForInner:f,coverDropzone:y,innerDropzone:_,handleDrop:p}}function qS(){const[t,e]=F.useState(!1),{imageList:n,setImageList:i,coverImage:r,setCoverImage:s,handleImageChange:l,handleRemoveImage:d,openFileDialogForCover:f,openFileDialogForInner:p,coverDropzone:y,innerDropzone:_}=Zre(),S=()=>{if(!r){Oi.error("   !",{position:"top-center",duration:3e3});return}e(!0)};return v.jsxs("div",{className:il.layout,children:[v.jsx(pie,{}),v.jsxs("div",{className:il.mainContentContainer,children:[v.jsx("div",{className:il.panelHeaderBox,children:v.jsxs("p",{className:il.panelHeaderParagraph,children:["/   .",v.jsx("br",{}),"     ."]})}),v.jsx(Iie,{coverImage:r,setCoverImage:s,openFileDialogForCover:f,coverDropzone:y}),v.jsx(Uie,{imageList:n,setImageList:i,handleImageChange:l,handleRemoveImage:d,openFileDialogForInner:p,innerDropzone:_}),v.jsxs("div",{className:il.combinedButtonBox,children:[v.jsx("button",{className:il.leftButton,onClick:S,disabled:!r&&n.length===0,children:""}),v.jsx("div",{className:il.dividerBox}),v.jsx("button",{className:il.rightButton,children:"QR"})]})]}),v.jsx(tre,{isOpen:t,onClose:()=>e(!1),coverImage:r,imageList:n})]})}const Qre="_page_1qmmv_1",Jre="_title_1qmmv_15",ese="_formArea_1qmmv_31",tse="_label_1qmmv_47",nse="_input_1qmmv_61",ise="_textarea_1qmmv_63",rse="_tagContainer_1qmmv_107",sse="_tagButton_1qmmv_119",ase="_submitButton_1qmmv_151",ose="_resultArea_1qmmv_197",lse="_resultCard_1qmmv_211",cse="_cardHeader_1qmmv_231",use="_refineButton_1qmmv_257",dse="_placeholder_1qmmv_291",br={page:Qre,title:Jre,formArea:ese,label:tse,input:nse,textarea:ise,tagContainer:rse,tagButton:sse,submitButton:ase,resultArea:ose,resultCard:lse,cardHeader:cse,refineButton:use,placeholder:dse};function fse(){const[t,e]=F.useState(""),[n,i]=F.useState(""),[r,s]=F.useState([]),[l,d]=F.useState(!1);new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});const f=async()=>{var y,_;if(s([]),d(!0),!t.trim()){s(["  ."]),d(!1);return}try{const T=(await vt.post("/api/console/invitation/create",{eventTopic:t,userRequirements:n||""})).data;T&&typeof T=="string"?s([T]):Array.isArray(T)?s(T):T.invitations&&Array.isArray(T.invitations)?s(T.invitations):s([" ."])}catch(S){console.error("API  :",S),((y=S.response)==null?void 0:y.status)===401?s([" .  ."]):((_=S.response)==null?void 0:_.status)===403?s([" ."]):s([`API  : ${S.message}`])}finally{d(!1)}},p=async(y,_)=>{var S,T;if(y.trim())try{const O=(await vt.post("/api/console/invitation/refine",{selectedInvitation:y,eventTopic:t,userRequirements:"   "})).data;s(k=>k.map((L,$)=>$===_&&typeof O=="string"?O:L))}catch(A){console.error(" API  :",A),((S=A.response)==null?void 0:S.status)===401?alert(" .  ."):((T=A.response)==null?void 0:T.status)===403?alert(" ."):alert("  .")}};return v.jsxs("div",{className:br.page,children:[v.jsx("h1",{className:br.title,children:"  "}),v.jsxs("div",{className:br.formArea,children:[v.jsx("label",{className:br.label,children:" "}),v.jsx("input",{type:"text",value:t,onChange:y=>e(y.target.value),placeholder:":  ,  ",className:br.input}),v.jsx("label",{className:br.label,children:""}),v.jsx("textarea",{value:n,onChange:y=>i(y.target.value),placeholder:":   ,   ",className:br.textarea}),v.jsx("div",{className:br.tagContainer,children:["#","#","#","#","#","#"].map(y=>v.jsx("button",{type:"button",className:br.tagButton,onClick:()=>i(_=>_.includes(y)?_:_?`${_}, ${y}`:y),children:y},y))}),v.jsx("button",{onClick:f,className:br.submitButton,disabled:l,children:l?" ...":" "})]}),v.jsx("div",{className:br.resultArea,children:r.length>0?r.map((y,_)=>v.jsxs("div",{className:br.resultCard,children:[v.jsxs("div",{className:br.cardHeader,children:[v.jsxs("h3",{children:[" ",_+1]}),v.jsx("button",{className:br.refineButton,onClick:()=>p(y,_),children:""})]}),v.jsx("p",{children:y})]},_)):v.jsx("div",{className:br.placeholder,children:"    ."})})]})}const hse="_container_244h0_3",pse="_image_244h0_27",mse="_info_244h0_41",gse="_productName_244h0_49",xse="_artist_244h0_59",yse="_guide_244h0_71",vse="_textArea_244h0_87",bse="_buttonRow_244h0_113",wse="_saveBtn_244h0_127",_se="_cancelBtn_244h0_129",ts={container:hse,image:pse,info:mse,productName:gse,artist:xse,guide:yse,textArea:vse,buttonRow:bse,saveBtn:wse,cancelBtn:_se};function Cse({autoGenerate:t=!1}){var $;const{id:e}=ks(),[n,i]=F.useState(null),[r,s]=F.useState(""),[l,d]=F.useState(!1),[f,p]=F.useState(!1),[y,_]=F.useState(""),S=(n==null?void 0:n.art_title)||"",T=(n==null?void 0:n.artist_name)||(($=n==null?void 0:n.artist)==null?void 0:$.artist_name)||"",A=(n==null?void 0:n.art_image)||"https://images.unsplash.com/photo-1570393080660-de4e4a15a247?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OTF8fEFydHxlbnwwfHwwfHx8MA%3D%3D",O=async P=>{var R,D,B;d(!0),_("");try{const z=await vt.get(`/api/arts/${P}`),G=((R=z.data)==null?void 0:R.data)??z.data;if(!G){_("    ."),i(null),s("");return}i(G),s((G==null?void 0:G.art_docent)||"")}catch(z){_(((B=(D=z.response)==null?void 0:D.data)==null?void 0:B.message)||"     ."),i(null),s("")}finally{d(!1)}};F.useEffect(()=>{e&&O(e)},[e]);const k=async()=>{var P,R,D;if(!e)return alert("  ID .");if(!r.trim())return alert("  .");if(!n)return alert("   .    .");try{p(!0);const B=new FormData;B.append("_method","PATCH"),n.art_title&&B.append("art_title",n.art_title),n.art_description&&B.append("art_description",n.art_description),n.artist_id&&B.append("artist_id",n.artist_id),n.artist_name&&B.append("artist_name",n.artist_name),n.art_material&&B.append("art_material",n.art_material),n.art_size&&B.append("art_size",n.art_size),n.art_year&&B.append("art_year",n.art_year),n.art_price&&B.append("art_price",n.art_price),B.append("art_docent",r),n.art_image&&typeof n.art_image=="string"&&B.append("art_image",n.art_image),n.art_images&&B.append("art_images",n.art_images),n.art_image_mime&&B.append("art_image_mime",n.art_image_mime),n.art_image_name&&B.append("art_image_name",n.art_image_name),n.art_image_size&&B.append("art_image_size",n.art_image_size);const z=await vt.post(`/api/arts/${e}`,B,{headers:{"Content-Type":void 0}});alert(((P=z.data)==null?void 0:P.message)||" ."),await O(e)}catch(B){alert(((D=(R=B.response)==null?void 0:R.data)==null?void 0:D.message)||"    .")}finally{p(!1)}},L=()=>s((n==null?void 0:n.art_docent)||"");return e?v.jsx("div",{className:ts.container,children:l?v.jsx("div",{className:ts.guide,children:"   ..."}):v.jsxs(v.Fragment,{children:[v.jsx("img",{src:A,alt:S,className:ts.image}),v.jsxs("div",{className:ts.info,children:[v.jsx("div",{className:ts.productName,children:S}),v.jsx("div",{className:ts.artist,children:T})]}),y&&v.jsx("div",{className:ts.guide,style:{color:"#ef4444"},children:y}),v.jsx("p",{className:ts.guide,children:"    ."}),v.jsx("textarea",{className:ts.textArea,value:r,onChange:P=>s(P.target.value),placeholder:"  .",disabled:l}),v.jsxs("div",{className:ts.buttonRow,children:[v.jsx("button",{className:ts.saveBtn,onClick:k,disabled:f||!!y||l,children:f?" ...":""}),v.jsx("button",{className:ts.cancelBtn,onClick:L,disabled:f||l,children:""})]})]})}):v.jsx("div",{className:ts.container,children:"  ID ."})}function Sse(){return null}const Ese=fM([{path:"/",element:v.jsx(MI,{}),children:[{path:"/",element:v.jsx(J7,{})},{path:"/exhibitions",element:v.jsx(b9,{})},{path:"/galleries",element:v.jsx(F9,{})},{path:"/artists",element:v.jsx(N9,{})},{path:"/artworks",element:v.jsx(gP,{})},{path:"/search",element:v.jsx(JL,{})},{path:"/notices",element:v.jsx(Nj,{})},{path:"/exhibitions/:exhibitionId",element:v.jsx(Y4,{})},{path:"/galleries/:galleryId",element:v.jsx(X4,{})},{path:"/artists/:artistId",element:v.jsx(JW,{})},{path:"/notices/:noticeId",element:v.jsx(Hj,{})},{path:"/artworks/:artworkId",element:v.jsx(M4,{})},{path:"/art/:artId",element:v.jsx(lP,{})},{path:"/catalog/:catalogId",element:v.jsx(UP,{})},{path:"/nearby-galleries",element:v.jsx(GF,{})},{path:"/login",element:v.jsx(vX,{})},{path:"/login-detail",element:v.jsx(fX,{})},{path:"/register",element:v.jsx(eB,{})},{path:"/find",element:v.jsx(Az,{})},{path:"/announcement",element:v.jsx(Pz,{})},{path:"/termspolicy",element:v.jsx(Wz,{})},{path:"/reservation/:exhibitionId",element:v.jsx(eU,{})},{path:"/invitation",element:v.jsx(fse,{})},{path:"/reservationconfirm/:reservationId",element:v.jsx(aH,{})},{element:v.jsx(RI,{}),children:[{path:"/mypage",element:v.jsx(rL,{})},{path:"/mypage/edit",element:v.jsx(PL,{})},{path:"/purchase/:reservationId",element:v.jsx(gj,{})}]},{path:"*",element:v.jsx(Sse,{})}]},{path:"/console",element:v.jsx(r$,{}),children:[{path:"/console/main",element:v.jsx(i$,{})},{path:"/console/leaflet/:id",element:v.jsx(qS,{})},{path:"/console/detail",element:v.jsx(Ep,{})},{path:"/console/exhibitions/:id",element:v.jsx(Ep,{type:"exhibitions"})},{path:"/console/galleries/:id",element:v.jsx(Ep,{type:"galleries"})},{path:"/console/artworks/:id",element:v.jsx(Ep,{type:"artworks"})},{path:"/console/galleries/edit/:id",element:v.jsx(iy,{type:"galleries"})},{path:"/console/exhibitions/edit/:id",element:v.jsx(iy,{type:"exhibitions"})},{path:"/console/artworks/edit/:id",element:v.jsx(iy,{type:"artworks"})},{path:"/console/artworks/docent/:id",element:v.jsx(Cse,{})},{path:"/console/leaflet",element:v.jsx(qS,{})}]},{path:"/scan/:id?",element:v.jsx(IF,{})}]);function Ase(){return v.jsx("div",{children:v.jsx("div",{children:""})})}function Tse(){return v.jsx(m6,{fallback:v.jsx("div",{children:""}),children:v.jsx(F.Suspense,{fallback:v.jsx(Ase,{}),children:v.jsx(FO,{children:v.jsx(Zq,{children:v.jsx(SM,{router:Ese})})})})})}h6.createRoot(document.getElementById("root")).render(v.jsx(Tse,{}));
