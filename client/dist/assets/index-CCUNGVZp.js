function $I(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cx={exports:{}},wf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function VI(){if(OC)return wf;OC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var l=null;if(s!==void 0&&(l=""+s),r.key!==void 0&&(l=""+r.key),"key"in r){s={};for(var d in r)d!=="key"&&(s[d]=r[d])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:l,ref:r!==void 0?r:null,props:s}}return wf.Fragment=e,wf.jsx=n,wf.jsxs=n,wf}var RC;function GI(){return RC||(RC=1,Cx.exports=VI()),Cx.exports}var x=GI(),Sx={exports:{}},_f={},Ex={exports:{}},Ax={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC;function qI(){return DC||(DC=1,function(t){function e(Q,le){var xe=Q.length;Q.push(le);e:for(;0<xe;){var Be=xe-1>>>1,K=Q[Be];if(0<r(K,le))Q[Be]=le,Q[xe]=K,xe=Be;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var le=Q[0],xe=Q.pop();if(xe!==le){Q[0]=xe;e:for(var Be=0,K=Q.length,ue=K>>>1;Be<ue;){var Ee=2*(Be+1)-1,Oe=Q[Ee],He=Ee+1,qe=Q[He];if(0>r(Oe,xe))He<K&&0>r(qe,Oe)?(Q[Be]=qe,Q[He]=xe,Be=He):(Q[Be]=Oe,Q[Ee]=xe,Be=Ee);else if(He<K&&0>r(qe,xe))Q[Be]=qe,Q[He]=xe,Be=He;else break e}}return le}function r(Q,le){var xe=Q.sortIndex-le.sortIndex;return xe!==0?xe:Q.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],p=[],b=1,w=null,S=3,E=!1,T=!1,M=!1,R=!1,B=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function k(Q){for(var le=n(p);le!==null;){if(le.callback===null)i(p);else if(le.startTime<=Q)i(p),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(p)}}function D(Q){if(M=!1,k(Q),!T)if(n(f)!==null)T=!0,P||(P=!0,oe());else{var le=n(p);le!==null&&te(D,le.startTime-Q)}}var P=!1,z=-1,U=5,X=-1;function ne(){return R?!0:!(t.unstable_now()-X<U)}function ee(){if(R=!1,P){var Q=t.unstable_now();X=Q;var le=!0;try{e:{T=!1,M&&(M=!1,G(z),z=-1),E=!0;var xe=S;try{t:{for(k(Q),w=n(f);w!==null&&!(w.expirationTime>Q&&ne());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,S=w.priorityLevel;var K=Be(w.expirationTime<=Q);if(Q=t.unstable_now(),typeof K=="function"){w.callback=K,k(Q),le=!0;break t}w===n(f)&&i(f),k(Q)}else i(f);w=n(f)}if(w!==null)le=!0;else{var ue=n(p);ue!==null&&te(D,ue.startTime-Q),le=!1}}break e}finally{w=null,S=xe,E=!1}le=void 0}}finally{le?oe():P=!1}}}var oe;if(typeof L=="function")oe=function(){L(ee)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Se=Ce.port2;Ce.port1.onmessage=ee,oe=function(){Se.postMessage(null)}}else oe=function(){B(ee,0)};function te(Q,le){z=B(function(){Q(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var xe=S;S=le;try{return Q()}finally{S=xe}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var xe=S;S=Q;try{return le()}finally{S=xe}},t.unstable_scheduleCallback=function(Q,le,xe){var Be=t.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Be+xe:Be):xe=Be,Q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=xe+K,Q={id:b++,callback:le,priorityLevel:Q,startTime:xe,expirationTime:K,sortIndex:-1},xe>Be?(Q.sortIndex=xe,e(p,Q),n(f)===null&&Q===n(p)&&(M?(G(z),z=-1):M=!0,te(D,xe-Be))):(Q.sortIndex=K,e(f,Q),T||E||(T=!0,P||(P=!0,oe()))),Q},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(Q){var le=S;return function(){var xe=S;S=le;try{return Q.apply(this,arguments)}finally{S=xe}}}}(Ax)),Ax}var BC;function WI(){return BC||(BC=1,Ex.exports=qI()),Ex.exports}var Tx={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC;function XI(){if(LC)return Mt;LC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator;function S(K){return K===null||typeof K!="object"?null:(K=w&&K[w]||K["@@iterator"],typeof K=="function"?K:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,M={};function R(K,ue,Ee){this.props=K,this.context=ue,this.refs=M,this.updater=Ee||E}R.prototype.isReactComponent={},R.prototype.setState=function(K,ue){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ue,"setState")},R.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function B(){}B.prototype=R.prototype;function G(K,ue,Ee){this.props=K,this.context=ue,this.refs=M,this.updater=Ee||E}var L=G.prototype=new B;L.constructor=G,T(L,R.prototype),L.isPureReactComponent=!0;var k=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function z(K,ue,Ee,Oe,He,qe){return Ee=qe.ref,{$$typeof:t,type:K,key:ue,ref:Ee!==void 0?Ee:null,props:qe}}function U(K,ue){return z(K.type,ue,void 0,void 0,void 0,K.props)}function X(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function ne(K){var ue={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Ee){return ue[Ee]})}var ee=/\/+/g;function oe(K,ue){return typeof K=="object"&&K!==null&&K.key!=null?ne(""+K.key):ue.toString(36)}function Ce(){}function Se(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(Ce,Ce):(K.status="pending",K.then(function(ue){K.status==="pending"&&(K.status="fulfilled",K.value=ue)},function(ue){K.status==="pending"&&(K.status="rejected",K.reason=ue)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function te(K,ue,Ee,Oe,He){var qe=typeof K;(qe==="undefined"||qe==="boolean")&&(K=null);var Ae=!1;if(K===null)Ae=!0;else switch(qe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(K.$$typeof){case t:case e:Ae=!0;break;case b:return Ae=K._init,te(Ae(K._payload),ue,Ee,Oe,He)}}if(Ae)return He=He(K),Ae=Oe===""?"."+oe(K,0):Oe,k(He)?(Ee="",Ae!=null&&(Ee=Ae.replace(ee,"$&/")+"/"),te(He,ue,Ee,"",function(oi){return oi})):He!=null&&(X(He)&&(He=U(He,Ee+(He.key==null||K&&K.key===He.key?"":(""+He.key).replace(ee,"$&/")+"/")+Ae)),ue.push(He)),1;Ae=0;var en=Oe===""?".":Oe+":";if(k(K))for(var gt=0;gt<K.length;gt++)Oe=K[gt],qe=en+oe(Oe,gt),Ae+=te(Oe,ue,Ee,qe,He);else if(gt=S(K),typeof gt=="function")for(K=gt.call(K),gt=0;!(Oe=K.next()).done;)Oe=Oe.value,qe=en+oe(Oe,gt++),Ae+=te(Oe,ue,Ee,qe,He);else if(qe==="object"){if(typeof K.then=="function")return te(Se(K),ue,Ee,Oe,He);throw ue=String(K),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Q(K,ue,Ee){if(K==null)return K;var Oe=[],He=0;return te(K,Oe,"","",function(qe){return ue.call(Ee,qe,He++)}),Oe}function le(K){if(K._status===-1){var ue=K._result;ue=ue(),ue.then(function(Ee){(K._status===0||K._status===-1)&&(K._status=1,K._result=Ee)},function(Ee){(K._status===0||K._status===-1)&&(K._status=2,K._result=Ee)}),K._status===-1&&(K._status=0,K._result=ue)}if(K._status===1)return K._result.default;throw K._result}var xe=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function Be(){}return Mt.Children={map:Q,forEach:function(K,ue,Ee){Q(K,function(){ue.apply(this,arguments)},Ee)},count:function(K){var ue=0;return Q(K,function(){ue++}),ue},toArray:function(K){return Q(K,function(ue){return ue})||[]},only:function(K){if(!X(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Mt.Component=R,Mt.Fragment=n,Mt.Profiler=r,Mt.PureComponent=G,Mt.StrictMode=i,Mt.Suspense=f,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(K){return D.H.useMemoCache(K)}},Mt.cache=function(K){return function(){return K.apply(null,arguments)}},Mt.cloneElement=function(K,ue,Ee){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Oe=T({},K.props),He=K.key,qe=void 0;if(ue!=null)for(Ae in ue.ref!==void 0&&(qe=void 0),ue.key!==void 0&&(He=""+ue.key),ue)!P.call(ue,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ue.ref===void 0||(Oe[Ae]=ue[Ae]);var Ae=arguments.length-2;if(Ae===1)Oe.children=Ee;else if(1<Ae){for(var en=Array(Ae),gt=0;gt<Ae;gt++)en[gt]=arguments[gt+2];Oe.children=en}return z(K.type,He,void 0,void 0,qe,Oe)},Mt.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},Mt.createElement=function(K,ue,Ee){var Oe,He={},qe=null;if(ue!=null)for(Oe in ue.key!==void 0&&(qe=""+ue.key),ue)P.call(ue,Oe)&&Oe!=="key"&&Oe!=="__self"&&Oe!=="__source"&&(He[Oe]=ue[Oe]);var Ae=arguments.length-2;if(Ae===1)He.children=Ee;else if(1<Ae){for(var en=Array(Ae),gt=0;gt<Ae;gt++)en[gt]=arguments[gt+2];He.children=en}if(K&&K.defaultProps)for(Oe in Ae=K.defaultProps,Ae)He[Oe]===void 0&&(He[Oe]=Ae[Oe]);return z(K,qe,void 0,void 0,null,He)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(K){return{$$typeof:d,render:K}},Mt.isValidElement=X,Mt.lazy=function(K){return{$$typeof:b,_payload:{_status:-1,_result:K},_init:le}},Mt.memo=function(K,ue){return{$$typeof:p,type:K,compare:ue===void 0?null:ue}},Mt.startTransition=function(K){var ue=D.T,Ee={};D.T=Ee;try{var Oe=K(),He=D.S;He!==null&&He(Ee,Oe),typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function"&&Oe.then(Be,xe)}catch(qe){xe(qe)}finally{D.T=ue}},Mt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Mt.use=function(K){return D.H.use(K)},Mt.useActionState=function(K,ue,Ee){return D.H.useActionState(K,ue,Ee)},Mt.useCallback=function(K,ue){return D.H.useCallback(K,ue)},Mt.useContext=function(K){return D.H.useContext(K)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(K,ue){return D.H.useDeferredValue(K,ue)},Mt.useEffect=function(K,ue,Ee){var Oe=D.H;if(typeof Ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Oe.useEffect(K,ue)},Mt.useId=function(){return D.H.useId()},Mt.useImperativeHandle=function(K,ue,Ee){return D.H.useImperativeHandle(K,ue,Ee)},Mt.useInsertionEffect=function(K,ue){return D.H.useInsertionEffect(K,ue)},Mt.useLayoutEffect=function(K,ue){return D.H.useLayoutEffect(K,ue)},Mt.useMemo=function(K,ue){return D.H.useMemo(K,ue)},Mt.useOptimistic=function(K,ue){return D.H.useOptimistic(K,ue)},Mt.useReducer=function(K,ue,Ee){return D.H.useReducer(K,ue,Ee)},Mt.useRef=function(K){return D.H.useRef(K)},Mt.useState=function(K){return D.H.useState(K)},Mt.useSyncExternalStore=function(K,ue,Ee){return D.H.useSyncExternalStore(K,ue,Ee)},Mt.useTransition=function(){return D.H.useTransition()},Mt.version="19.1.0",Mt}var jC;function Jc(){return jC||(jC=1,Tx.exports=XI()),Tx.exports}var Nx={exports:{}},or={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC;function YI(){if(PC)return or;PC=1;var t=Jc();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(f,p,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:w==null?null:""+w,children:f,containerInfo:p,implementation:b}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,or.createPortal=function(f,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return s(f,p,null,b)},or.flushSync=function(f){var p=l.T,b=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=p,i.p=b,i.d.f()}},or.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},or.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},or.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var b=p.as,w=d(b,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:E}):b==="script"&&i.d.X(f,{crossOrigin:w,integrity:S,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},or.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=d(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},or.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,w=d(b,p.crossOrigin);i.d.L(f,b,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},or.preloadModule=function(f,p){if(typeof f=="string")if(p){var b=d(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},or.requestFormReset=function(f){i.d.r(f)},or.unstable_batchedUpdates=function(f,p){return f(p)},or.useFormState=function(f,p,b){return l.H.useFormState(f,p,b)},or.useFormStatus=function(){return l.H.useHostTransitionStatus()},or.version="19.1.0",or}var FC;function U4(){if(FC)return Nx.exports;FC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nx.exports=YI(),Nx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC;function KI(){if(zC)return _f;zC=1;var t=WI(),e=Jc(),n=U4();function i(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,m=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(m=c.return),a=c.return;while(a)}return c.tag===3?m:null}function l(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(i(188))}function f(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(i(188));return c!==a?null:a}for(var m=a,v=c;;){var A=m.return;if(A===null)break;var I=A.alternate;if(I===null){if(v=A.return,v!==null){m=v;continue}break}if(A.child===I.child){for(I=A.child;I;){if(I===m)return d(A),a;if(I===v)return d(A),c;I=I.sibling}throw Error(i(188))}if(m.return!==v.return)m=A,v=I;else{for(var H=!1,W=A.child;W;){if(W===m){H=!0,m=A,v=I;break}if(W===v){H=!0,v=A,m=I;break}W=W.sibling}if(!H){for(W=I.child;W;){if(W===m){H=!0,m=I,v=A;break}if(W===v){H=!0,v=I,m=A;break}W=W.sibling}if(!H)throw Error(i(189))}}if(m.alternate!==v)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?a:c}function p(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=p(a),c!==null)return c;a=a.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),L=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function oe(a){return a===null||typeof a!="object"?null:(a=ee&&a[ee]||a["@@iterator"],typeof a=="function"?a:null)}var Ce=Symbol.for("react.client.reference");function Se(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Ce?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case R:return"Profiler";case M:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case X:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case L:return(a.displayName||"Context")+".Provider";case G:return(a._context.displayName||"Context")+".Consumer";case k:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return c=a.displayName||null,c!==null?c:Se(a.type)||"Memo";case U:c=a._payload,a=a._init;try{return Se(a(c))}catch{}}return null}var te=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Be=[],K=-1;function ue(a){return{current:a}}function Ee(a){0>K||(a.current=Be[K],Be[K]=null,K--)}function Oe(a,c){K++,Be[K]=a.current,a.current=c}var He=ue(null),qe=ue(null),Ae=ue(null),en=ue(null);function gt(a,c){switch(Oe(Ae,c),Oe(qe,a),Oe(He,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?aC(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=aC(c),a=oC(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Ee(He),Oe(He,a)}function oi(){Ee(He),Ee(qe),Ee(Ae)}function dn(a){a.memoizedState!==null&&Oe(en,a);var c=He.current,m=oC(c,a.type);c!==m&&(Oe(qe,a),Oe(He,m))}function cn(a){qe.current===a&&(Ee(He),Ee(qe)),en.current===a&&(Ee(en),gf._currentValue=xe)}var Bi=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,li=t.unstable_cancelCallback,qi=t.unstable_shouldYield,xs=t.unstable_requestPaint,$t=t.unstable_now,tn=t.unstable_getCurrentPriorityLevel,At=t.unstable_ImmediatePriority,Or=t.unstable_UserBlockingPriority,We=t.unstable_NormalPriority,tr=t.unstable_LowPriority,Xr=t.unstable_IdlePriority,Ve=t.log,ot=t.unstable_setDisableYieldValue,vt=null,_t=null;function nn(a){if(typeof Ve=="function"&&ot(a),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(vt,a)}catch{}}var Lt=Math.clz32?Math.clz32:ra,Yr=Math.log,Ei=Math.LN2;function ra(a){return a>>>=0,a===0?32:31-(Yr(a)/Ei|0)|0}var on=256,Ue=4194304;function an(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function jt(a,c,m){var v=a.pendingLanes;if(v===0)return 0;var A=0,I=a.suspendedLanes,H=a.pingedLanes;a=a.warmLanes;var W=v&134217727;return W!==0?(v=W&~I,v!==0?A=an(v):(H&=W,H!==0?A=an(H):m||(m=W&~a,m!==0&&(A=an(m))))):(W=v&~I,W!==0?A=an(W):H!==0?A=an(H):m||(m=v&~a,m!==0&&(A=an(m)))),A===0?0:c!==0&&c!==A&&(c&I)===0&&(I=A&-A,m=c&-c,I>=m||I===32&&(m&4194048)!==0)?c:A}function Wt(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function Rr(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ys(){var a=on;return on<<=1,(on&4194048)===0&&(on=256),a}function Ql(){var a=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),a}function Vt(a){for(var c=[],m=0;31>m;m++)c.push(a);return c}function gr(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Jl(a,c,m,v,A,I){var H=a.pendingLanes;a.pendingLanes=m,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=m,a.entangledLanes&=m,a.errorRecoveryDisabledLanes&=m,a.shellSuspendCounter=0;var W=a.entanglements,J=a.expirationTimes,me=a.hiddenUpdates;for(m=H&~m;0<m;){var Ne=31-Lt(m),De=1<<Ne;W[Ne]=0,J[Ne]=-1;var ye=me[Ne];if(ye!==null)for(me[Ne]=null,Ne=0;Ne<ye.length;Ne++){var ve=ye[Ne];ve!==null&&(ve.lane&=-536870913)}m&=~De}v!==0&&sa(a,v,0),I!==0&&A===0&&a.tag!==0&&(a.suspendedLanes|=I&~(H&~c))}function sa(a,c,m){a.pendingLanes|=c,a.suspendedLanes&=~c;var v=31-Lt(c);a.entangledLanes|=c,a.entanglements[v]=a.entanglements[v]|1073741824|m&4194090}function Ai(a,c){var m=a.entangledLanes|=c;for(a=a.entanglements;m;){var v=31-Lt(m),A=1<<v;A&c|a[v]&c&&(a[v]|=c),m&=~A}}function Fa(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Qn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function re(){var a=le.p;return a!==0?a:(a=window.event,a===void 0?32:AC(a.type))}function de(a,c){var m=le.p;try{return le.p=a,c()}finally{le.p=m}}var ge=Math.random().toString(36).slice(2),Re="__reactFiber$"+ge,Fe="__reactProps$"+ge,Ze="__reactContainer$"+ge,Qe="__reactEvents$"+ge,Ge="__reactListeners$"+ge,Ye="__reactHandles$"+ge,Te="__reactResources$"+ge,dt="__reactMarker$"+ge;function nt(a){delete a[Re],delete a[Fe],delete a[Qe],delete a[Ge],delete a[Ye]}function tt(a){var c=a[Re];if(c)return c;for(var m=a.parentNode;m;){if(c=m[Ze]||m[Re]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(a=dC(a);a!==null;){if(m=a[Re])return m;a=dC(a)}return c}a=m,m=a.parentNode}return null}function Rt(a){if(a=a[Re]||a[Ze]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function fn(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(i(33))}function Cn(a){var c=a[Te];return c||(c=a[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Tt(a){a[dt]=!0}var Xt=new Set,aa={};function Mn(a,c){Sn(a,c),Sn(a+"Capture",c)}function Sn(a,c){for(aa[a]=c,a=0;a<c.length;a++)Xt.add(c[a])}var Pt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Us={},Wi={};function za(a){return Bi.call(Wi,a)?!0:Bi.call(Us,a)?!1:Pt.test(a)?Wi[a]=!0:(Us[a]=!0,!1)}function Ie(a,c,m){if(za(c))if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+m)}}function $s(a,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+m)}}function it(a,c,m,v){if(v===null)a.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(m);return}a.setAttributeNS(c,m,""+v)}}var Vn,Kr;function Nt(a){if(Vn===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);Vn=c&&c[1]||"",Kr=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vn+a+Kr}var Ft=!1;function rt(a,c){if(!a||Ft)return"";Ft=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var De=function(){throw Error()};if(Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(ve){var ye=ve}Reflect.construct(a,[],De)}else{try{De.call()}catch(ve){ye=ve}a.call(De.prototype)}}else{try{throw Error()}catch(ve){ye=ve}(De=a())&&typeof De.catch=="function"&&De.catch(function(){})}}catch(ve){if(ve&&ye&&typeof ve.stack=="string")return[ve.stack,ye.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=v.DetermineComponentFrameRoot(),H=I[0],W=I[1];if(H&&W){var J=H.split(`
`),me=W.split(`
`);for(A=v=0;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;for(;A<me.length&&!me[A].includes("DetermineComponentFrameRoot");)A++;if(v===J.length||A===me.length)for(v=J.length-1,A=me.length-1;1<=v&&0<=A&&J[v]!==me[A];)A--;for(;1<=v&&0<=A;v--,A--)if(J[v]!==me[A]){if(v!==1||A!==1)do if(v--,A--,0>A||J[v]!==me[A]){var Ne=`
`+J[v].replace(" at new "," at ");return a.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",a.displayName)),Ne}while(1<=v&&0<=A);break}}}finally{Ft=!1,Error.prepareStackTrace=m}return(m=a?a.displayName||a.name:"")?Nt(m):""}function bs(a){switch(a.tag){case 26:case 27:case 5:return Nt(a.type);case 16:return Nt("Lazy");case 13:return Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return rt(a.type,!1);case 11:return rt(a.type.render,!1);case 1:return rt(a.type,!0);case 31:return Nt("Activity");default:return""}}function Ha(a){try{var c="";do c+=bs(a),a=a.return;while(a);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Li(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Jn(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function oa(a){var c=Jn(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),v=""+a[c];if(!a.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var A=m.get,I=m.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return A.call(this)},set:function(H){v=""+H,I.call(this,H)}}),Object.defineProperty(a,c,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(H){v=""+H},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function au(a){a._valueTracker||(a._valueTracker=oa(a))}function Pn(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var m=c.getValue(),v="";return a&&(v=Jn(a)?a.checked?"true":"false":a.value),a=v,a!==m?(c.setValue(a),!0):!1}function Zr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var I0=/[\n"\\]/g;function Ti(a){return a.replace(I0,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function hn(a,c,m,v,A,I,H,W){a.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.type=H:a.removeAttribute("type"),c!=null?H==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Li(c)):a.value!==""+Li(c)&&(a.value=""+Li(c)):H!=="submit"&&H!=="reset"||a.removeAttribute("value"),c!=null?he(a,H,Li(c)):m!=null?he(a,H,Li(m)):v!=null&&a.removeAttribute("value"),A==null&&I!=null&&(a.defaultChecked=!!I),A!=null&&(a.checked=A&&typeof A!="function"&&typeof A!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?a.name=""+Li(W):a.removeAttribute("name")}function Ni(a,c,m,v,A,I,H,W){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.type=I),c!=null||m!=null){if(!(I!=="submit"&&I!=="reset"||c!=null))return;m=m!=null?""+Li(m):"",c=c!=null?""+Li(c):m,W||c===a.value||(a.value=c),a.defaultValue=c}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,a.checked=W?a.checked:!!v,a.defaultChecked=!!v,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(a.name=H)}function he(a,c,m){c==="number"&&Zr(a.ownerDocument)===a||a.defaultValue===""+m||(a.defaultValue=""+m)}function Y(a,c,m,v){if(a=a.options,c){c={};for(var A=0;A<m.length;A++)c["$"+m[A]]=!0;for(m=0;m<a.length;m++)A=c.hasOwnProperty("$"+a[m].value),a[m].selected!==A&&(a[m].selected=A),A&&v&&(a[m].defaultSelected=!0)}else{for(m=""+Li(m),c=null,A=0;A<a.length;A++){if(a[A].value===m){a[A].selected=!0,v&&(a[A].defaultSelected=!0);return}c!==null||a[A].disabled||(c=a[A])}c!==null&&(c.selected=!0)}}function st(a,c,m){if(c!=null&&(c=""+Li(c),c!==a.value&&(a.value=c),m==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=m!=null?""+Li(m):""}function ci(a,c,m,v){if(c==null){if(v!=null){if(m!=null)throw Error(i(92));if(te(v)){if(1<v.length)throw Error(i(93));v=v[0]}m=v}m==null&&(m=""),c=m}m=Li(c),a.defaultValue=m,v=a.textContent,v===m&&v!==""&&v!==null&&(a.value=v)}function Ii(a,c){if(c){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=c;return}}a.textContent=c}var k0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ou(a,c,m){var v=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":v?a.setProperty(c,m):typeof m!="number"||m===0||k0.has(c)?c==="float"?a.cssFloat=m:a[c]=(""+m).trim():a[c]=m+"px"}function xr(a,c,m){if(c!=null&&typeof c!="object")throw Error(i(62));if(a=a.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?a.setProperty(v,""):v==="float"?a.cssFloat="":a[v]="");for(var A in c)v=c[A],c.hasOwnProperty(A)&&m[A]!==v&&ou(a,A,v)}else for(var I in c)c.hasOwnProperty(I)&&ou(a,I,c[I])}function ct(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lu(a){return Ph.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ec=null;function Fo(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var la=null,zo=null;function ui(a){var c=Rt(a);if(c&&(a=c.stateNode)){var m=a[Fe]||null;e:switch(a=c.stateNode,c.type){case"input":if(hn(a,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Ti(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var v=m[c];if(v!==a&&v.form===a.form){var A=v[Fe]||null;if(!A)throw Error(i(90));hn(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<m.length;c++)v=m[c],v.form===a.form&&Pn(v)}break e;case"textarea":st(a,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Y(a,!!m.multiple,c,!1)}}}var Ua=!1;function Vs(a,c,m){if(Ua)return a(c,m);Ua=!0;try{var v=a(c);return v}finally{if(Ua=!1,(la!==null||zo!==null)&&(Cp(),la&&(c=la,a=zo,zo=la=null,ui(c),a)))for(c=0;c<a.length;c++)ui(a[c])}}function ft(a,c){var m=a.stateNode;if(m===null)return null;var v=m[Fe]||null;if(v===null)return null;m=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(i(231,c,typeof m));return m}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),St=!1;if(Gs)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){St=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{St=!1}var ca=null,tc=null,nc=null;function ua(){if(nc)return nc;var a,c=tc,m=c.length,v,A="value"in ca?ca.value:ca.textContent,I=A.length;for(a=0;a<m&&c[a]===A[a];a++);var H=m-a;for(v=1;v<=H&&c[m-v]===A[I-v];v++);return nc=A.slice(a,1<v?1-v:void 0)}function cu(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function da(){return!0}function Ho(){return!1}function bi(a){function c(m,v,A,I,H){this._reactName=m,this._targetInst=A,this.type=v,this.nativeEvent=I,this.target=H,this.currentTarget=null;for(var W in a)a.hasOwnProperty(W)&&(m=a[W],this[W]=m?m(I):I[W]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?da:Ho,this.isPropagationStopped=Ho,this}return b(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=da)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=da)},persist:function(){},isPersistent:da}),c}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=bi(fa),qs=b({},fa,{view:0,detail:0}),nr=bi(qs),uu,du,Uo,fu=b({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Uo&&(Uo&&a.type==="mousemove"?(uu=a.screenX-Uo.screenX,du=a.screenY-Uo.screenY):du=uu=0,Uo=a),uu)},movementY:function(a){return"movementY"in a?a.movementY:du}}),Fh=bi(fu),M0=b({},fu,{dataTransfer:0}),pn=bi(M0),zh=b({},qs,{relatedTarget:0}),$o=bi(zh),pa=b({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),O0=bi(pa),we=b({},fa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),kt=bi(we),ki=b({},fa,{data:0}),ic=bi(ki),Hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B0(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=D0[a])?!!c[a]:!1}function rc(){return B0}var di=b({},qs,{key:function(a){if(a.key){var c=Hh[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=cu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?R0[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(a){return a.type==="keypress"?cu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?cu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Md=bi(di),Fn=b({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sc=bi(Fn),$a=b({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),xn=bi($a),mt=b({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),L0=bi(mt),Nn=b({},fu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=bi(Nn),Vo=b({},fa,{newState:0,oldState:0}),j0=bi(Vo),vs=[9,13,27,32],ac=Gs&&"CompositionEvent"in window,Go=null;Gs&&"documentMode"in document&&(Go=document.documentMode);var Od=Gs&&"TextEvent"in window&&!Go,Rd=Gs&&(!ac||Go&&8<Go&&11>=Go),Dd=" ",Uh=!1;function Ga(a,c){switch(a){case"keyup":return vs.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var qo=!1;function oc(a,c){switch(a){case"compositionend":return hu(c);case"keypress":return c.which!==32?null:(Uh=!0,Dd);case"textInput":return a=c.data,a===Dd&&Uh?null:a;default:return null}}function P0(a,c){if(qo)return a==="compositionend"||!ac&&Ga(a,c)?(a=ua(),nc=tc=ca=null,qo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Rd&&c.locale!=="ko"?null:c.data;default:return null}}var ma={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lc(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!ma[a.type]:c==="textarea"}function yr(a,c,m,v){la?zo?zo.push(v):zo=[v]:la=v,c=Ip(c,"onChange"),0<c.length&&(m=new ha("onChange","change",null,m,v),a.push({event:m,listeners:c}))}var Wo=null,ir=null;function F0(a){tC(a,0)}function Xo(a){var c=fn(a);if(Pn(c))return a}function $h(a,c){if(a==="change")return c}var Bd=!1;if(Gs){var Dr;if(Gs){var Ld="oninput"in document;if(!Ld){var pu=document.createElement("div");pu.setAttribute("oninput","return;"),Ld=typeof pu.oninput=="function"}Dr=Ld}else Dr=!1;Bd=Dr&&(!document.documentMode||9<document.documentMode)}function Yo(){Wo&&(Wo.detachEvent("onpropertychange",Qt),ir=Wo=null)}function Qt(a){if(a.propertyName==="value"&&Xo(ir)){var c=[];yr(c,ir,a,Fo(a)),Vs(F0,c)}}function mu(a,c,m){a==="focusin"?(Yo(),Wo=c,ir=m,Wo.attachEvent("onpropertychange",Qt)):a==="focusout"&&Yo()}function $(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Xo(ir)}function o(a,c){if(a==="click")return Xo(c)}function u(a,c){if(a==="input"||a==="change")return Xo(c)}function h(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var g=typeof Object.is=="function"?Object.is:h;function y(a,c){if(g(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var m=Object.keys(a),v=Object.keys(c);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var A=m[v];if(!Bi.call(c,A)||!g(a[A],c[A]))return!1}return!0}function _(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function C(a,c){var m=_(a);a=0;for(var v;m;){if(m.nodeType===3){if(v=a+m.textContent.length,a<=c&&v>=c)return{node:m,offset:c-a};a=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=_(m)}}function N(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?N(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function O(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=Zr(a.document);c instanceof a.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)a=c.contentWindow;else break;c=Zr(a.document)}return c}function F(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var V=Gs&&"documentMode"in document&&11>=document.documentMode,q=null,Z=null,ie=null,se=!1;function fe(a,c,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;se||q==null||q!==Zr(v)||(v=q,"selectionStart"in v&&F(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),ie&&y(ie,v)||(ie=v,v=Ip(Z,"onSelect"),0<v.length&&(c=new ha("onSelect","select",null,c,m),a.push({event:c,listeners:v}),c.target=q)))}function be(a,c){var m={};return m[a.toLowerCase()]=c.toLowerCase(),m["Webkit"+a]="webkit"+c,m["Moz"+a]="moz"+c,m}var Pe={animationend:be("Animation","AnimationEnd"),animationiteration:be("Animation","AnimationIteration"),animationstart:be("Animation","AnimationStart"),transitionrun:be("Transition","TransitionRun"),transitionstart:be("Transition","TransitionStart"),transitioncancel:be("Transition","TransitionCancel"),transitionend:be("Transition","TransitionEnd")},ze={},Le={};Gs&&(Le=document.createElement("div").style,"AnimationEvent"in window||(delete Pe.animationend.animation,delete Pe.animationiteration.animation,delete Pe.animationstart.animation),"TransitionEvent"in window||delete Pe.transitionend.transition);function Et(a){if(ze[a])return ze[a];if(!Pe[a])return a;var c=Pe[a],m;for(m in c)if(c.hasOwnProperty(m)&&m in Le)return ze[a]=c[m];return a}var Ct=Et("animationend"),Xi=Et("animationiteration"),Br=Et("animationstart"),rr=Et("transitionrun"),yn=Et("transitionstart"),Mi=Et("transitioncancel"),sr=Et("transitionend"),qa=new Map,ga="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ga.push("scrollEnd");function Qr(a,c){qa.set(a,c),Mn(c,[a])}var Vh=new WeakMap;function ws(a,c){if(typeof a=="object"&&a!==null){var m=Vh.get(a);return m!==void 0?m:(c={value:a,source:c,stack:Ha(c)},Vh.set(a,c),c)}return{value:a,source:c,stack:Ha(c)}}var _s=[],gu=0,z0=0;function Gh(){for(var a=gu,c=z0=gu=0;c<a;){var m=_s[c];_s[c++]=null;var v=_s[c];_s[c++]=null;var A=_s[c];_s[c++]=null;var I=_s[c];if(_s[c++]=null,v!==null&&A!==null){var H=v.pending;H===null?A.next=A:(A.next=H.next,H.next=A),v.pending=A}I!==0&&Fv(m,A,I)}}function qh(a,c,m,v){_s[gu++]=a,_s[gu++]=c,_s[gu++]=m,_s[gu++]=v,z0|=v,a.lanes|=v,a=a.alternate,a!==null&&(a.lanes|=v)}function H0(a,c,m,v){return qh(a,c,m,v),Wh(a)}function xu(a,c){return qh(a,null,null,c),Wh(a)}function Fv(a,c,m){a.lanes|=m;var v=a.alternate;v!==null&&(v.lanes|=m);for(var A=!1,I=a.return;I!==null;)I.childLanes|=m,v=I.alternate,v!==null&&(v.childLanes|=m),I.tag===22&&(a=I.stateNode,a===null||a._visibility&1||(A=!0)),a=I,I=I.return;return a.tag===3?(I=a.stateNode,A&&c!==null&&(A=31-Lt(m),a=I.hiddenUpdates,v=a[A],v===null?a[A]=[c]:v.push(c),c.lane=m|536870912),I):null}function Wh(a){if(50<lf)throw lf=0,Wg=null,Error(i(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var yu={};function N5(a,c,m,v){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(a,c,m,v){return new N5(a,c,m,v)}function U0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Wa(a,c){var m=a.alternate;return m===null?(m=Jr(a.tag,c,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=c,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&65011712,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,c=a.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m.refCleanup=a.refCleanup,m}function zv(a,c){a.flags&=65011714;var m=a.alternate;return m===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=m.childLanes,a.lanes=m.lanes,a.child=m.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=m.memoizedProps,a.memoizedState=m.memoizedState,a.updateQueue=m.updateQueue,a.type=m.type,c=m.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function Xh(a,c,m,v,A,I){var H=0;if(v=a,typeof a=="function")U0(a)&&(H=1);else if(typeof a=="string")H=kI(a,m,He.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case X:return a=Jr(31,m,c,A),a.elementType=X,a.lanes=I,a;case T:return cc(m.children,A,I,c);case M:H=8,A|=24;break;case R:return a=Jr(12,m,c,A|2),a.elementType=R,a.lanes=I,a;case D:return a=Jr(13,m,c,A),a.elementType=D,a.lanes=I,a;case P:return a=Jr(19,m,c,A),a.elementType=P,a.lanes=I,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B:case L:H=10;break e;case G:H=9;break e;case k:H=11;break e;case z:H=14;break e;case U:H=16,v=null;break e}H=29,m=Error(i(130,a===null?"null":typeof a,"")),v=null}return c=Jr(H,m,c,A),c.elementType=a,c.type=v,c.lanes=I,c}function cc(a,c,m,v){return a=Jr(7,a,v,c),a.lanes=m,a}function $0(a,c,m){return a=Jr(6,a,null,c),a.lanes=m,a}function V0(a,c,m){return c=Jr(4,a.children!==null?a.children:[],a.key,c),c.lanes=m,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var bu=[],vu=0,Yh=null,Kh=0,Cs=[],Ss=0,uc=null,Xa=1,Ya="";function dc(a,c){bu[vu++]=Kh,bu[vu++]=Yh,Yh=a,Kh=c}function Hv(a,c,m){Cs[Ss++]=Xa,Cs[Ss++]=Ya,Cs[Ss++]=uc,uc=a;var v=Xa;a=Ya;var A=32-Lt(v)-1;v&=~(1<<A),m+=1;var I=32-Lt(c)+A;if(30<I){var H=A-A%5;I=(v&(1<<H)-1).toString(32),v>>=H,A-=H,Xa=1<<32-Lt(c)+A|m<<A|v,Ya=I+a}else Xa=1<<I|m<<A|v,Ya=a}function G0(a){a.return!==null&&(dc(a,1),Hv(a,1,0))}function q0(a){for(;a===Yh;)Yh=bu[--vu],bu[vu]=null,Kh=bu[--vu],bu[vu]=null;for(;a===uc;)uc=Cs[--Ss],Cs[Ss]=null,Ya=Cs[--Ss],Cs[Ss]=null,Xa=Cs[--Ss],Cs[Ss]=null}var br=null,ei=null,un=!1,fc=null,xa=!1,W0=Error(i(519));function hc(a){var c=Error(i(418,""));throw Fd(ws(c,a)),W0}function Uv(a){var c=a.stateNode,m=a.type,v=a.memoizedProps;switch(c[Re]=a,c[Fe]=v,m){case"dialog":Kt("cancel",c),Kt("close",c);break;case"iframe":case"object":case"embed":Kt("load",c);break;case"video":case"audio":for(m=0;m<uf.length;m++)Kt(uf[m],c);break;case"source":Kt("error",c);break;case"img":case"image":case"link":Kt("error",c),Kt("load",c);break;case"details":Kt("toggle",c);break;case"input":Kt("invalid",c),Ni(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),au(c);break;case"select":Kt("invalid",c);break;case"textarea":Kt("invalid",c),ci(c,v.value,v.defaultValue,v.children),au(c)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||v.suppressHydrationWarning===!0||sC(c.textContent,m)?(v.popover!=null&&(Kt("beforetoggle",c),Kt("toggle",c)),v.onScroll!=null&&Kt("scroll",c),v.onScrollEnd!=null&&Kt("scrollend",c),v.onClick!=null&&(c.onclick=kp),c=!0):c=!1,c||hc(a)}function $v(a){for(br=a.return;br;)switch(br.tag){case 5:case 13:xa=!1;return;case 27:case 3:xa=!0;return;default:br=br.return}}function jd(a){if(a!==br)return!1;if(!un)return $v(a),un=!0,!1;var c=a.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=a.type,m=!(m!=="form"&&m!=="button")||cx(a.type,a.memoizedProps)),m=!m),m&&ei&&hc(a),$v(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(m=a.data,m==="/$"){if(c===0){ei=Xs(a.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++;a=a.nextSibling}ei=null}}else c===27?(c=ei,dl(a.type)?(a=hx,hx=null,ei=a):ei=c):ei=br?Xs(a.stateNode.nextSibling):null;return!0}function Pd(){ei=br=null,un=!1}function Vv(){var a=fc;return a!==null&&(Pr===null?Pr=a:Pr.push.apply(Pr,a),fc=null),a}function Fd(a){fc===null?fc=[a]:fc.push(a)}var X0=ue(null),pc=null,Ka=null;function Ko(a,c,m){Oe(X0,c._currentValue),c._currentValue=m}function Za(a){a._currentValue=X0.current,Ee(X0)}function Y0(a,c,m){for(;a!==null;){var v=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),a===m)break;a=a.return}}function K0(a,c,m,v){var A=a.child;for(A!==null&&(A.return=a);A!==null;){var I=A.dependencies;if(I!==null){var H=A.child;I=I.firstContext;e:for(;I!==null;){var W=I;I=A;for(var J=0;J<c.length;J++)if(W.context===c[J]){I.lanes|=m,W=I.alternate,W!==null&&(W.lanes|=m),Y0(I.return,m,a),v||(H=null);break e}I=W.next}}else if(A.tag===18){if(H=A.return,H===null)throw Error(i(341));H.lanes|=m,I=H.alternate,I!==null&&(I.lanes|=m),Y0(H,m,a),H=null}else H=A.child;if(H!==null)H.return=A;else for(H=A;H!==null;){if(H===a){H=null;break}if(A=H.sibling,A!==null){A.return=H.return,H=A;break}H=H.return}A=H}}function zd(a,c,m,v){a=null;for(var A=c,I=!1;A!==null;){if(!I){if((A.flags&524288)!==0)I=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var H=A.alternate;if(H===null)throw Error(i(387));if(H=H.memoizedProps,H!==null){var W=A.type;g(A.pendingProps.value,H.value)||(a!==null?a.push(W):a=[W])}}else if(A===en.current){if(H=A.alternate,H===null)throw Error(i(387));H.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(a!==null?a.push(gf):a=[gf])}A=A.return}a!==null&&K0(c,a,m,v),c.flags|=262144}function Zh(a){for(a=a.firstContext;a!==null;){if(!g(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function mc(a){pc=a,Ka=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ar(a){return Gv(pc,a)}function Qh(a,c){return pc===null&&mc(a),Gv(a,c)}function Gv(a,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Ka===null){if(a===null)throw Error(i(308));Ka=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else Ka=Ka.next=c;return m}var I5=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(m,v){a.push(v)}};this.abort=function(){c.aborted=!0,a.forEach(function(m){return m()})}},k5=t.unstable_scheduleCallback,M5=t.unstable_NormalPriority,Oi={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Z0(){return{controller:new I5,data:new Map,refCount:0}}function Hd(a){a.refCount--,a.refCount===0&&k5(M5,function(){a.controller.abort()})}var Ud=null,Q0=0,wu=0,_u=null;function O5(a,c){if(Ud===null){var m=Ud=[];Q0=0,wu=ex(),_u={status:"pending",value:void 0,then:function(v){m.push(v)}}}return Q0++,c.then(qv,qv),c}function qv(){if(--Q0===0&&Ud!==null){_u!==null&&(_u.status="fulfilled");var a=Ud;Ud=null,wu=0,_u=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function R5(a,c){var m=[],v={status:"pending",value:null,reason:null,then:function(A){m.push(A)}};return a.then(function(){v.status="fulfilled",v.value=c;for(var A=0;A<m.length;A++)(0,m[A])(c)},function(A){for(v.status="rejected",v.reason=A,A=0;A<m.length;A++)(0,m[A])(void 0)}),v}var Wv=Q.S;Q.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&O5(a,c),Wv!==null&&Wv(a,c)};var gc=ue(null);function J0(){var a=gc.current;return a!==null?a:On.pooledCache}function Jh(a,c){c===null?Oe(gc,gc.current):Oe(gc,c.pool)}function Xv(){var a=J0();return a===null?null:{parent:Oi._currentValue,pool:a}}var $d=Error(i(460)),Yv=Error(i(474)),ep=Error(i(542)),eg={then:function(){}};function Kv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function tp(){}function Zv(a,c,m){switch(m=a[m],m===void 0?a.push(c):m!==c&&(c.then(tp,tp),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Jv(a),a;default:if(typeof c.status=="string")c.then(tp,tp);else{if(a=On,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=c,a.status="pending",a.then(function(v){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=v}},function(v){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Jv(a),a}throw Vd=c,$d}}var Vd=null;function Qv(){if(Vd===null)throw Error(i(459));var a=Vd;return Vd=null,a}function Jv(a){if(a===$d||a===ep)throw Error(i(483))}var Zo=!1;function tg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ng(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Qo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Jo(a,c,m){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(bn&2)!==0){var A=v.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),v.pending=c,c=Wh(a),Fv(a,null,m),c}return qh(a,v,c,m),Wh(a)}function Gd(a,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var v=c.lanes;v&=a.pendingLanes,m|=v,c.lanes=m,Ai(a,m)}}function ig(a,c){var m=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var A=null,I=null;if(m=m.firstBaseUpdate,m!==null){do{var H={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};I===null?A=I=H:I=I.next=H,m=m.next}while(m!==null);I===null?A=I=c:I=I.next=c}else A=I=c;m={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:I,shared:v.shared,callbacks:v.callbacks},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=c}var rg=!1;function qd(){if(rg){var a=_u;if(a!==null)throw a}}function Wd(a,c,m,v){rg=!1;var A=a.updateQueue;Zo=!1;var I=A.firstBaseUpdate,H=A.lastBaseUpdate,W=A.shared.pending;if(W!==null){A.shared.pending=null;var J=W,me=J.next;J.next=null,H===null?I=me:H.next=me,H=J;var Ne=a.alternate;Ne!==null&&(Ne=Ne.updateQueue,W=Ne.lastBaseUpdate,W!==H&&(W===null?Ne.firstBaseUpdate=me:W.next=me,Ne.lastBaseUpdate=J))}if(I!==null){var De=A.baseState;H=0,Ne=me=J=null,W=I;do{var ye=W.lane&-536870913,ve=ye!==W.lane;if(ve?(rn&ye)===ye:(v&ye)===ye){ye!==0&&ye===wu&&(rg=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var bt=a,xt=W;ye=c;var Tn=m;switch(xt.tag){case 1:if(bt=xt.payload,typeof bt=="function"){De=bt.call(Tn,De,ye);break e}De=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=xt.payload,ye=typeof bt=="function"?bt.call(Tn,De,ye):bt,ye==null)break e;De=b({},De,ye);break e;case 2:Zo=!0}}ye=W.callback,ye!==null&&(a.flags|=64,ve&&(a.flags|=8192),ve=A.callbacks,ve===null?A.callbacks=[ye]:ve.push(ye))}else ve={lane:ye,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Ne===null?(me=Ne=ve,J=De):Ne=Ne.next=ve,H|=ye;if(W=W.next,W===null){if(W=A.shared.pending,W===null)break;ve=W,W=ve.next,ve.next=null,A.lastBaseUpdate=ve,A.shared.pending=null}}while(!0);Ne===null&&(J=De),A.baseState=J,A.firstBaseUpdate=me,A.lastBaseUpdate=Ne,I===null&&(A.shared.lanes=0),ol|=H,a.lanes=H,a.memoizedState=De}}function ew(a,c){if(typeof a!="function")throw Error(i(191,a));a.call(c)}function tw(a,c){var m=a.callbacks;if(m!==null)for(a.callbacks=null,a=0;a<m.length;a++)ew(m[a],c)}var Cu=ue(null),np=ue(0);function nw(a,c){a=ro,Oe(np,a),Oe(Cu,c),ro=a|c.baseLanes}function sg(){Oe(np,ro),Oe(Cu,Cu.current)}function ag(){ro=np.current,Ee(Cu),Ee(np)}var el=0,zt=null,En=null,vi=null,ip=!1,Su=!1,xc=!1,rp=0,Xd=0,Eu=null,D5=0;function fi(){throw Error(i(321))}function og(a,c){if(c===null)return!1;for(var m=0;m<c.length&&m<a.length;m++)if(!g(a[m],c[m]))return!1;return!0}function lg(a,c,m,v,A,I){return el=I,zt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Q.H=a===null||a.memoizedState===null?Fw:zw,xc=!1,I=m(v,A),xc=!1,Su&&(I=rw(c,m,v,A)),iw(a),I}function iw(a){Q.H=up;var c=En!==null&&En.next!==null;if(el=0,vi=En=zt=null,ip=!1,Xd=0,Eu=null,c)throw Error(i(300));a===null||ji||(a=a.dependencies,a!==null&&Zh(a)&&(ji=!0))}function rw(a,c,m,v){zt=a;var A=0;do{if(Su&&(Eu=null),Xd=0,Su=!1,25<=A)throw Error(i(301));if(A+=1,vi=En=null,a.updateQueue!=null){var I=a.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}Q.H=H5,I=c(m,v)}while(Su);return I}function B5(){var a=Q.H,c=a.useState()[0];return c=typeof c.then=="function"?Yd(c):c,a=a.useState()[0],(En!==null?En.memoizedState:null)!==a&&(zt.flags|=1024),c}function cg(){var a=rp!==0;return rp=0,a}function ug(a,c,m){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~m}function dg(a){if(ip){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}ip=!1}el=0,vi=En=zt=null,Su=!1,Xd=rp=0,Eu=null}function Lr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?zt.memoizedState=vi=a:vi=vi.next=a,vi}function wi(){if(En===null){var a=zt.alternate;a=a!==null?a.memoizedState:null}else a=En.next;var c=vi===null?zt.memoizedState:vi.next;if(c!==null)vi=c,En=a;else{if(a===null)throw zt.alternate===null?Error(i(467)):Error(i(310));En=a,a={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},vi===null?zt.memoizedState=vi=a:vi=vi.next=a}return vi}function fg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yd(a){var c=Xd;return Xd+=1,Eu===null&&(Eu=[]),a=Zv(Eu,a,c),c=zt,(vi===null?c.memoizedState:vi.next)===null&&(c=c.alternate,Q.H=c===null||c.memoizedState===null?Fw:zw),a}function sp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Yd(a);if(a.$$typeof===L)return ar(a)}throw Error(i(438,String(a)))}function hg(a){var c=null,m=zt.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var v=zt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=fg(),zt.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(a),v=0;v<a;v++)m[v]=ne;return c.index++,m}function Qa(a,c){return typeof c=="function"?c(a):c}function ap(a){var c=wi();return pg(c,En,a)}function pg(a,c,m){var v=a.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=m;var A=a.baseQueue,I=v.pending;if(I!==null){if(A!==null){var H=A.next;A.next=I.next,I.next=H}c.baseQueue=A=I,v.pending=null}if(I=a.baseState,A===null)a.memoizedState=I;else{c=A.next;var W=H=null,J=null,me=c,Ne=!1;do{var De=me.lane&-536870913;if(De!==me.lane?(rn&De)===De:(el&De)===De){var ye=me.revertLane;if(ye===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),De===wu&&(Ne=!0);else if((el&ye)===ye){me=me.next,ye===wu&&(Ne=!0);continue}else De={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},J===null?(W=J=De,H=I):J=J.next=De,zt.lanes|=ye,ol|=ye;De=me.action,xc&&m(I,De),I=me.hasEagerState?me.eagerState:m(I,De)}else ye={lane:De,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},J===null?(W=J=ye,H=I):J=J.next=ye,zt.lanes|=De,ol|=De;me=me.next}while(me!==null&&me!==c);if(J===null?H=I:J.next=W,!g(I,a.memoizedState)&&(ji=!0,Ne&&(m=_u,m!==null)))throw m;a.memoizedState=I,a.baseState=H,a.baseQueue=J,v.lastRenderedState=I}return A===null&&(v.lanes=0),[a.memoizedState,v.dispatch]}function mg(a){var c=wi(),m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=a;var v=m.dispatch,A=m.pending,I=c.memoizedState;if(A!==null){m.pending=null;var H=A=A.next;do I=a(I,H.action),H=H.next;while(H!==A);g(I,c.memoizedState)||(ji=!0),c.memoizedState=I,c.baseQueue===null&&(c.baseState=I),m.lastRenderedState=I}return[I,v]}function sw(a,c,m){var v=zt,A=wi(),I=un;if(I){if(m===void 0)throw Error(i(407));m=m()}else m=c();var H=!g((En||A).memoizedState,m);H&&(A.memoizedState=m,ji=!0),A=A.queue;var W=lw.bind(null,v,A,a);if(Kd(2048,8,W,[a]),A.getSnapshot!==c||H||vi!==null&&vi.memoizedState.tag&1){if(v.flags|=2048,Au(9,op(),ow.bind(null,v,A,m,c),null),On===null)throw Error(i(349));I||(el&124)!==0||aw(v,c,m)}return m}function aw(a,c,m){a.flags|=16384,a={getSnapshot:c,value:m},c=zt.updateQueue,c===null?(c=fg(),zt.updateQueue=c,c.stores=[a]):(m=c.stores,m===null?c.stores=[a]:m.push(a))}function ow(a,c,m,v){c.value=m,c.getSnapshot=v,cw(c)&&uw(a)}function lw(a,c,m){return m(function(){cw(c)&&uw(a)})}function cw(a){var c=a.getSnapshot;a=a.value;try{var m=c();return!g(a,m)}catch{return!0}}function uw(a){var c=xu(a,2);c!==null&&rs(c,a,2)}function gg(a){var c=Lr();if(typeof a=="function"){var m=a;if(a=m(),xc){nn(!0);try{m()}finally{nn(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:a},c}function dw(a,c,m,v){return a.baseState=m,pg(a,En,typeof v=="function"?v:Qa)}function L5(a,c,m,v,A){if(cp(a))throw Error(i(485));if(a=c.action,a!==null){var I={payload:A,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){I.listeners.push(H)}};Q.T!==null?m(!0):I.isTransition=!1,v(I),m=c.pending,m===null?(I.next=c.pending=I,fw(c,I)):(I.next=m.next,c.pending=m.next=I)}}function fw(a,c){var m=c.action,v=c.payload,A=a.state;if(c.isTransition){var I=Q.T,H={};Q.T=H;try{var W=m(A,v),J=Q.S;J!==null&&J(H,W),hw(a,c,W)}catch(me){xg(a,c,me)}finally{Q.T=I}}else try{I=m(A,v),hw(a,c,I)}catch(me){xg(a,c,me)}}function hw(a,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){pw(a,c,v)},function(v){return xg(a,c,v)}):pw(a,c,m)}function pw(a,c,m){c.status="fulfilled",c.value=m,mw(c),a.state=m,c=a.pending,c!==null&&(m=c.next,m===c?a.pending=null:(m=m.next,c.next=m,fw(a,m)))}function xg(a,c,m){var v=a.pending;if(a.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=m,mw(c),c=c.next;while(c!==v)}a.action=null}function mw(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function gw(a,c){return c}function xw(a,c){if(un){var m=On.formState;if(m!==null){e:{var v=zt;if(un){if(ei){t:{for(var A=ei,I=xa;A.nodeType!==8;){if(!I){A=null;break t}if(A=Xs(A.nextSibling),A===null){A=null;break t}}I=A.data,A=I==="F!"||I==="F"?A:null}if(A){ei=Xs(A.nextSibling),v=A.data==="F!";break e}}hc(v)}v=!1}v&&(c=m[0])}}return m=Lr(),m.memoizedState=m.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gw,lastRenderedState:c},m.queue=v,m=Lw.bind(null,zt,v),v.dispatch=m,v=gg(!1),I=_g.bind(null,zt,!1,v.queue),v=Lr(),A={state:c,dispatch:null,action:a,pending:null},v.queue=A,m=L5.bind(null,zt,A,I,m),A.dispatch=m,v.memoizedState=a,[c,m,!1]}function yw(a){var c=wi();return bw(c,En,a)}function bw(a,c,m){if(c=pg(a,c,gw)[0],a=ap(Qa)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=Yd(c)}catch(H){throw H===$d?ep:H}else v=c;c=wi();var A=c.queue,I=A.dispatch;return m!==c.memoizedState&&(zt.flags|=2048,Au(9,op(),j5.bind(null,A,m),null)),[v,I,a]}function j5(a,c){a.action=c}function vw(a){var c=wi(),m=En;if(m!==null)return bw(c,m,a);wi(),c=c.memoizedState,m=wi();var v=m.queue.dispatch;return m.memoizedState=a,[c,v,!1]}function Au(a,c,m,v){return a={tag:a,create:m,deps:v,inst:c,next:null},c=zt.updateQueue,c===null&&(c=fg(),zt.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=a.next=a:(v=m.next,m.next=a,a.next=v,c.lastEffect=a),a}function op(){return{destroy:void 0,resource:void 0}}function ww(){return wi().memoizedState}function lp(a,c,m,v){var A=Lr();v=v===void 0?null:v,zt.flags|=a,A.memoizedState=Au(1|c,op(),m,v)}function Kd(a,c,m,v){var A=wi();v=v===void 0?null:v;var I=A.memoizedState.inst;En!==null&&v!==null&&og(v,En.memoizedState.deps)?A.memoizedState=Au(c,I,m,v):(zt.flags|=a,A.memoizedState=Au(1|c,I,m,v))}function _w(a,c){lp(8390656,8,a,c)}function Cw(a,c){Kd(2048,8,a,c)}function Sw(a,c){return Kd(4,2,a,c)}function Ew(a,c){return Kd(4,4,a,c)}function Aw(a,c){if(typeof c=="function"){a=a();var m=c(a);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function Tw(a,c,m){m=m!=null?m.concat([a]):null,Kd(4,4,Aw.bind(null,c,a),m)}function yg(){}function Nw(a,c){var m=wi();c=c===void 0?null:c;var v=m.memoizedState;return c!==null&&og(c,v[1])?v[0]:(m.memoizedState=[a,c],a)}function Iw(a,c){var m=wi();c=c===void 0?null:c;var v=m.memoizedState;if(c!==null&&og(c,v[1]))return v[0];if(v=a(),xc){nn(!0);try{a()}finally{nn(!1)}}return m.memoizedState=[v,c],v}function bg(a,c,m){return m===void 0||(el&1073741824)!==0?a.memoizedState=c:(a.memoizedState=m,a=O_(),zt.lanes|=a,ol|=a,m)}function kw(a,c,m,v){return g(m,c)?m:Cu.current!==null?(a=bg(a,m,v),g(a,c)||(ji=!0),a):(el&42)===0?(ji=!0,a.memoizedState=m):(a=O_(),zt.lanes|=a,ol|=a,c)}function Mw(a,c,m,v,A){var I=le.p;le.p=I!==0&&8>I?I:8;var H=Q.T,W={};Q.T=W,_g(a,!1,c,m);try{var J=A(),me=Q.S;if(me!==null&&me(W,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Ne=R5(J,v);Zd(a,c,Ne,is(a))}else Zd(a,c,v,is(a))}catch(De){Zd(a,c,{then:function(){},status:"rejected",reason:De},is())}finally{le.p=I,Q.T=H}}function P5(){}function vg(a,c,m,v){if(a.tag!==5)throw Error(i(476));var A=Ow(a).queue;Mw(a,A,c,xe,m===null?P5:function(){return Rw(a),m(v)})}function Ow(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:xe},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:m},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function Rw(a){var c=Ow(a).next.queue;Zd(a,c,{},is())}function wg(){return ar(gf)}function Dw(){return wi().memoizedState}function Bw(){return wi().memoizedState}function F5(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var m=is();a=Qo(m);var v=Jo(c,a,m);v!==null&&(rs(v,c,m),Gd(v,c,m)),c={cache:Z0()},a.payload=c;return}c=c.return}}function z5(a,c,m){var v=is();m={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},cp(a)?jw(c,m):(m=H0(a,c,m,v),m!==null&&(rs(m,a,v),Pw(m,c,v)))}function Lw(a,c,m){var v=is();Zd(a,c,m,v)}function Zd(a,c,m,v){var A={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(cp(a))jw(c,A);else{var I=a.alternate;if(a.lanes===0&&(I===null||I.lanes===0)&&(I=c.lastRenderedReducer,I!==null))try{var H=c.lastRenderedState,W=I(H,m);if(A.hasEagerState=!0,A.eagerState=W,g(W,H))return qh(a,c,A,0),On===null&&Gh(),!1}catch{}finally{}if(m=H0(a,c,A,v),m!==null)return rs(m,a,v),Pw(m,c,v),!0}return!1}function _g(a,c,m,v){if(v={lane:2,revertLane:ex(),action:v,hasEagerState:!1,eagerState:null,next:null},cp(a)){if(c)throw Error(i(479))}else c=H0(a,m,v,2),c!==null&&rs(c,a,2)}function cp(a){var c=a.alternate;return a===zt||c!==null&&c===zt}function jw(a,c){Su=ip=!0;var m=a.pending;m===null?c.next=c:(c.next=m.next,m.next=c),a.pending=c}function Pw(a,c,m){if((m&4194048)!==0){var v=c.lanes;v&=a.pendingLanes,m|=v,c.lanes=m,Ai(a,m)}}var up={readContext:ar,use:sp,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useLayoutEffect:fi,useInsertionEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useSyncExternalStore:fi,useId:fi,useHostTransitionStatus:fi,useFormState:fi,useActionState:fi,useOptimistic:fi,useMemoCache:fi,useCacheRefresh:fi},Fw={readContext:ar,use:sp,useCallback:function(a,c){return Lr().memoizedState=[a,c===void 0?null:c],a},useContext:ar,useEffect:_w,useImperativeHandle:function(a,c,m){m=m!=null?m.concat([a]):null,lp(4194308,4,Aw.bind(null,c,a),m)},useLayoutEffect:function(a,c){return lp(4194308,4,a,c)},useInsertionEffect:function(a,c){lp(4,2,a,c)},useMemo:function(a,c){var m=Lr();c=c===void 0?null:c;var v=a();if(xc){nn(!0);try{a()}finally{nn(!1)}}return m.memoizedState=[v,c],v},useReducer:function(a,c,m){var v=Lr();if(m!==void 0){var A=m(c);if(xc){nn(!0);try{m(c)}finally{nn(!1)}}}else A=c;return v.memoizedState=v.baseState=A,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:A},v.queue=a,a=a.dispatch=z5.bind(null,zt,a),[v.memoizedState,a]},useRef:function(a){var c=Lr();return a={current:a},c.memoizedState=a},useState:function(a){a=gg(a);var c=a.queue,m=Lw.bind(null,zt,c);return c.dispatch=m,[a.memoizedState,m]},useDebugValue:yg,useDeferredValue:function(a,c){var m=Lr();return bg(m,a,c)},useTransition:function(){var a=gg(!1);return a=Mw.bind(null,zt,a.queue,!0,!1),Lr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,m){var v=zt,A=Lr();if(un){if(m===void 0)throw Error(i(407));m=m()}else{if(m=c(),On===null)throw Error(i(349));(rn&124)!==0||aw(v,c,m)}A.memoizedState=m;var I={value:m,getSnapshot:c};return A.queue=I,_w(lw.bind(null,v,I,a),[a]),v.flags|=2048,Au(9,op(),ow.bind(null,v,I,m,c),null),m},useId:function(){var a=Lr(),c=On.identifierPrefix;if(un){var m=Ya,v=Xa;m=(v&~(1<<32-Lt(v)-1)).toString(32)+m,c=""+c+"R"+m,m=rp++,0<m&&(c+="H"+m.toString(32)),c+=""}else m=D5++,c=""+c+"r"+m.toString(32)+"";return a.memoizedState=c},useHostTransitionStatus:wg,useFormState:xw,useActionState:xw,useOptimistic:function(a){var c=Lr();c.memoizedState=c.baseState=a;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=_g.bind(null,zt,!0,m),m.dispatch=c,[a,c]},useMemoCache:hg,useCacheRefresh:function(){return Lr().memoizedState=F5.bind(null,zt)}},zw={readContext:ar,use:sp,useCallback:Nw,useContext:ar,useEffect:Cw,useImperativeHandle:Tw,useInsertionEffect:Sw,useLayoutEffect:Ew,useMemo:Iw,useReducer:ap,useRef:ww,useState:function(){return ap(Qa)},useDebugValue:yg,useDeferredValue:function(a,c){var m=wi();return kw(m,En.memoizedState,a,c)},useTransition:function(){var a=ap(Qa)[0],c=wi().memoizedState;return[typeof a=="boolean"?a:Yd(a),c]},useSyncExternalStore:sw,useId:Dw,useHostTransitionStatus:wg,useFormState:yw,useActionState:yw,useOptimistic:function(a,c){var m=wi();return dw(m,En,a,c)},useMemoCache:hg,useCacheRefresh:Bw},H5={readContext:ar,use:sp,useCallback:Nw,useContext:ar,useEffect:Cw,useImperativeHandle:Tw,useInsertionEffect:Sw,useLayoutEffect:Ew,useMemo:Iw,useReducer:mg,useRef:ww,useState:function(){return mg(Qa)},useDebugValue:yg,useDeferredValue:function(a,c){var m=wi();return En===null?bg(m,a,c):kw(m,En.memoizedState,a,c)},useTransition:function(){var a=mg(Qa)[0],c=wi().memoizedState;return[typeof a=="boolean"?a:Yd(a),c]},useSyncExternalStore:sw,useId:Dw,useHostTransitionStatus:wg,useFormState:vw,useActionState:vw,useOptimistic:function(a,c){var m=wi();return En!==null?dw(m,En,a,c):(m.baseState=a,[a,m.queue.dispatch])},useMemoCache:hg,useCacheRefresh:Bw},Tu=null,Qd=0;function dp(a){var c=Qd;return Qd+=1,Tu===null&&(Tu=[]),Zv(Tu,a,c)}function Jd(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function fp(a,c){throw c.$$typeof===w?Error(i(525)):(a=Object.prototype.toString.call(c),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function Hw(a){var c=a._init;return c(a._payload)}function Uw(a){function c(ce,ae){if(a){var pe=ce.deletions;pe===null?(ce.deletions=[ae],ce.flags|=16):pe.push(ae)}}function m(ce,ae){if(!a)return null;for(;ae!==null;)c(ce,ae),ae=ae.sibling;return null}function v(ce){for(var ae=new Map;ce!==null;)ce.key!==null?ae.set(ce.key,ce):ae.set(ce.index,ce),ce=ce.sibling;return ae}function A(ce,ae){return ce=Wa(ce,ae),ce.index=0,ce.sibling=null,ce}function I(ce,ae,pe){return ce.index=pe,a?(pe=ce.alternate,pe!==null?(pe=pe.index,pe<ae?(ce.flags|=67108866,ae):pe):(ce.flags|=67108866,ae)):(ce.flags|=1048576,ae)}function H(ce){return a&&ce.alternate===null&&(ce.flags|=67108866),ce}function W(ce,ae,pe,Me){return ae===null||ae.tag!==6?(ae=$0(pe,ce.mode,Me),ae.return=ce,ae):(ae=A(ae,pe),ae.return=ce,ae)}function J(ce,ae,pe,Me){var Je=pe.type;return Je===T?Ne(ce,ae,pe.props.children,Me,pe.key):ae!==null&&(ae.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===U&&Hw(Je)===ae.type)?(ae=A(ae,pe.props),Jd(ae,pe),ae.return=ce,ae):(ae=Xh(pe.type,pe.key,pe.props,null,ce.mode,Me),Jd(ae,pe),ae.return=ce,ae)}function me(ce,ae,pe,Me){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==pe.containerInfo||ae.stateNode.implementation!==pe.implementation?(ae=V0(pe,ce.mode,Me),ae.return=ce,ae):(ae=A(ae,pe.children||[]),ae.return=ce,ae)}function Ne(ce,ae,pe,Me,Je){return ae===null||ae.tag!==7?(ae=cc(pe,ce.mode,Me,Je),ae.return=ce,ae):(ae=A(ae,pe),ae.return=ce,ae)}function De(ce,ae,pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=$0(""+ae,ce.mode,pe),ae.return=ce,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case S:return pe=Xh(ae.type,ae.key,ae.props,null,ce.mode,pe),Jd(pe,ae),pe.return=ce,pe;case E:return ae=V0(ae,ce.mode,pe),ae.return=ce,ae;case U:var Me=ae._init;return ae=Me(ae._payload),De(ce,ae,pe)}if(te(ae)||oe(ae))return ae=cc(ae,ce.mode,pe,null),ae.return=ce,ae;if(typeof ae.then=="function")return De(ce,dp(ae),pe);if(ae.$$typeof===L)return De(ce,Qh(ce,ae),pe);fp(ce,ae)}return null}function ye(ce,ae,pe,Me){var Je=ae!==null?ae.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Je!==null?null:W(ce,ae,""+pe,Me);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:return pe.key===Je?J(ce,ae,pe,Me):null;case E:return pe.key===Je?me(ce,ae,pe,Me):null;case U:return Je=pe._init,pe=Je(pe._payload),ye(ce,ae,pe,Me)}if(te(pe)||oe(pe))return Je!==null?null:Ne(ce,ae,pe,Me,null);if(typeof pe.then=="function")return ye(ce,ae,dp(pe),Me);if(pe.$$typeof===L)return ye(ce,ae,Qh(ce,pe),Me);fp(ce,pe)}return null}function ve(ce,ae,pe,Me,Je){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return ce=ce.get(pe)||null,W(ae,ce,""+Me,Je);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case S:return ce=ce.get(Me.key===null?pe:Me.key)||null,J(ae,ce,Me,Je);case E:return ce=ce.get(Me.key===null?pe:Me.key)||null,me(ae,ce,Me,Je);case U:var Gt=Me._init;return Me=Gt(Me._payload),ve(ce,ae,pe,Me,Je)}if(te(Me)||oe(Me))return ce=ce.get(pe)||null,Ne(ae,ce,Me,Je,null);if(typeof Me.then=="function")return ve(ce,ae,pe,dp(Me),Je);if(Me.$$typeof===L)return ve(ce,ae,pe,Qh(ae,Me),Je);fp(ae,Me)}return null}function bt(ce,ae,pe,Me){for(var Je=null,Gt=null,ut=ae,yt=ae=0,Fi=null;ut!==null&&yt<pe.length;yt++){ut.index>yt?(Fi=ut,ut=null):Fi=ut.sibling;var ln=ye(ce,ut,pe[yt],Me);if(ln===null){ut===null&&(ut=Fi);break}a&&ut&&ln.alternate===null&&c(ce,ut),ae=I(ln,ae,yt),Gt===null?Je=ln:Gt.sibling=ln,Gt=ln,ut=Fi}if(yt===pe.length)return m(ce,ut),un&&dc(ce,yt),Je;if(ut===null){for(;yt<pe.length;yt++)ut=De(ce,pe[yt],Me),ut!==null&&(ae=I(ut,ae,yt),Gt===null?Je=ut:Gt.sibling=ut,Gt=ut);return un&&dc(ce,yt),Je}for(ut=v(ut);yt<pe.length;yt++)Fi=ve(ut,ce,yt,pe[yt],Me),Fi!==null&&(a&&Fi.alternate!==null&&ut.delete(Fi.key===null?yt:Fi.key),ae=I(Fi,ae,yt),Gt===null?Je=Fi:Gt.sibling=Fi,Gt=Fi);return a&&ut.forEach(function(gl){return c(ce,gl)}),un&&dc(ce,yt),Je}function xt(ce,ae,pe,Me){if(pe==null)throw Error(i(151));for(var Je=null,Gt=null,ut=ae,yt=ae=0,Fi=null,ln=pe.next();ut!==null&&!ln.done;yt++,ln=pe.next()){ut.index>yt?(Fi=ut,ut=null):Fi=ut.sibling;var gl=ye(ce,ut,ln.value,Me);if(gl===null){ut===null&&(ut=Fi);break}a&&ut&&gl.alternate===null&&c(ce,ut),ae=I(gl,ae,yt),Gt===null?Je=gl:Gt.sibling=gl,Gt=gl,ut=Fi}if(ln.done)return m(ce,ut),un&&dc(ce,yt),Je;if(ut===null){for(;!ln.done;yt++,ln=pe.next())ln=De(ce,ln.value,Me),ln!==null&&(ae=I(ln,ae,yt),Gt===null?Je=ln:Gt.sibling=ln,Gt=ln);return un&&dc(ce,yt),Je}for(ut=v(ut);!ln.done;yt++,ln=pe.next())ln=ve(ut,ce,yt,ln.value,Me),ln!==null&&(a&&ln.alternate!==null&&ut.delete(ln.key===null?yt:ln.key),ae=I(ln,ae,yt),Gt===null?Je=ln:Gt.sibling=ln,Gt=ln);return a&&ut.forEach(function(UI){return c(ce,UI)}),un&&dc(ce,yt),Je}function Tn(ce,ae,pe,Me){if(typeof pe=="object"&&pe!==null&&pe.type===T&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:e:{for(var Je=pe.key;ae!==null;){if(ae.key===Je){if(Je=pe.type,Je===T){if(ae.tag===7){m(ce,ae.sibling),Me=A(ae,pe.props.children),Me.return=ce,ce=Me;break e}}else if(ae.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===U&&Hw(Je)===ae.type){m(ce,ae.sibling),Me=A(ae,pe.props),Jd(Me,pe),Me.return=ce,ce=Me;break e}m(ce,ae);break}else c(ce,ae);ae=ae.sibling}pe.type===T?(Me=cc(pe.props.children,ce.mode,Me,pe.key),Me.return=ce,ce=Me):(Me=Xh(pe.type,pe.key,pe.props,null,ce.mode,Me),Jd(Me,pe),Me.return=ce,ce=Me)}return H(ce);case E:e:{for(Je=pe.key;ae!==null;){if(ae.key===Je)if(ae.tag===4&&ae.stateNode.containerInfo===pe.containerInfo&&ae.stateNode.implementation===pe.implementation){m(ce,ae.sibling),Me=A(ae,pe.children||[]),Me.return=ce,ce=Me;break e}else{m(ce,ae);break}else c(ce,ae);ae=ae.sibling}Me=V0(pe,ce.mode,Me),Me.return=ce,ce=Me}return H(ce);case U:return Je=pe._init,pe=Je(pe._payload),Tn(ce,ae,pe,Me)}if(te(pe))return bt(ce,ae,pe,Me);if(oe(pe)){if(Je=oe(pe),typeof Je!="function")throw Error(i(150));return pe=Je.call(pe),xt(ce,ae,pe,Me)}if(typeof pe.then=="function")return Tn(ce,ae,dp(pe),Me);if(pe.$$typeof===L)return Tn(ce,ae,Qh(ce,pe),Me);fp(ce,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ae!==null&&ae.tag===6?(m(ce,ae.sibling),Me=A(ae,pe),Me.return=ce,ce=Me):(m(ce,ae),Me=$0(pe,ce.mode,Me),Me.return=ce,ce=Me),H(ce)):m(ce,ae)}return function(ce,ae,pe,Me){try{Qd=0;var Je=Tn(ce,ae,pe,Me);return Tu=null,Je}catch(ut){if(ut===$d||ut===ep)throw ut;var Gt=Jr(29,ut,null,ce.mode);return Gt.lanes=Me,Gt.return=ce,Gt}finally{}}}var Nu=Uw(!0),$w=Uw(!1),Es=ue(null),ya=null;function tl(a){var c=a.alternate;Oe(Ri,Ri.current&1),Oe(Es,a),ya===null&&(c===null||Cu.current!==null||c.memoizedState!==null)&&(ya=a)}function Vw(a){if(a.tag===22){if(Oe(Ri,Ri.current),Oe(Es,a),ya===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(ya=a)}}else nl()}function nl(){Oe(Ri,Ri.current),Oe(Es,Es.current)}function Ja(a){Ee(Es),ya===a&&(ya=null),Ee(Ri)}var Ri=ue(0);function hp(a){for(var c=a;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||fx(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function Cg(a,c,m,v){c=a.memoizedState,m=m(v,c),m=m==null?c:b({},c,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var Sg={enqueueSetState:function(a,c,m){a=a._reactInternals;var v=is(),A=Qo(v);A.payload=c,m!=null&&(A.callback=m),c=Jo(a,A,v),c!==null&&(rs(c,a,v),Gd(c,a,v))},enqueueReplaceState:function(a,c,m){a=a._reactInternals;var v=is(),A=Qo(v);A.tag=1,A.payload=c,m!=null&&(A.callback=m),c=Jo(a,A,v),c!==null&&(rs(c,a,v),Gd(c,a,v))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var m=is(),v=Qo(m);v.tag=2,c!=null&&(v.callback=c),c=Jo(a,v,m),c!==null&&(rs(c,a,m),Gd(c,a,m))}};function Gw(a,c,m,v,A,I,H){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,I,H):c.prototype&&c.prototype.isPureReactComponent?!y(m,v)||!y(A,I):!0}function qw(a,c,m,v){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,v),c.state!==a&&Sg.enqueueReplaceState(c,c.state,null)}function yc(a,c){var m=c;if("ref"in c){m={};for(var v in c)v!=="ref"&&(m[v]=c[v])}if(a=a.defaultProps){m===c&&(m=b({},m));for(var A in a)m[A]===void 0&&(m[A]=a[A])}return m}var pp=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Ww(a){pp(a)}function Xw(a){console.error(a)}function Yw(a){pp(a)}function mp(a,c){try{var m=a.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function Kw(a,c,m){try{var v=a.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Eg(a,c,m){return m=Qo(m),m.tag=3,m.payload={element:null},m.callback=function(){mp(a,c)},m}function Zw(a){return a=Qo(a),a.tag=3,a}function Qw(a,c,m,v){var A=m.type.getDerivedStateFromError;if(typeof A=="function"){var I=v.value;a.payload=function(){return A(I)},a.callback=function(){Kw(c,m,v)}}var H=m.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(a.callback=function(){Kw(c,m,v),typeof A!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var W=v.stack;this.componentDidCatch(v.value,{componentStack:W!==null?W:""})})}function U5(a,c,m,v,A){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=m.alternate,c!==null&&zd(c,m,A,!0),m=Es.current,m!==null){switch(m.tag){case 13:return ya===null?Yg():m.alternate===null&&ti===0&&(ti=3),m.flags&=-257,m.flags|=65536,m.lanes=A,v===eg?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([v]):c.add(v),Zg(a,v,A)),!1;case 22:return m.flags|=65536,v===eg?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([v]):m.add(v)),Zg(a,v,A)),!1}throw Error(i(435,m.tag))}return Zg(a,v,A),Yg(),!1}if(un)return c=Es.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,v!==W0&&(a=Error(i(422),{cause:v}),Fd(ws(a,m)))):(v!==W0&&(c=Error(i(423),{cause:v}),Fd(ws(c,m))),a=a.current.alternate,a.flags|=65536,A&=-A,a.lanes|=A,v=ws(v,m),A=Eg(a.stateNode,v,A),ig(a,A),ti!==4&&(ti=2)),!1;var I=Error(i(520),{cause:v});if(I=ws(I,m),of===null?of=[I]:of.push(I),ti!==4&&(ti=2),c===null)return!0;v=ws(v,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,a=A&-A,m.lanes|=a,a=Eg(m.stateNode,v,a),ig(m,a),!1;case 1:if(c=m.type,I=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(ll===null||!ll.has(I))))return m.flags|=65536,A&=-A,m.lanes|=A,A=Zw(A),Qw(A,a,m,v),ig(m,A),!1}m=m.return}while(m!==null);return!1}var Jw=Error(i(461)),ji=!1;function Yi(a,c,m,v){c.child=a===null?$w(c,null,m,v):Nu(c,a.child,m,v)}function e_(a,c,m,v,A){m=m.render;var I=c.ref;if("ref"in v){var H={};for(var W in v)W!=="ref"&&(H[W]=v[W])}else H=v;return mc(c),v=lg(a,c,m,H,I,A),W=cg(),a!==null&&!ji?(ug(a,c,A),eo(a,c,A)):(un&&W&&G0(c),c.flags|=1,Yi(a,c,v,A),c.child)}function t_(a,c,m,v,A){if(a===null){var I=m.type;return typeof I=="function"&&!U0(I)&&I.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=I,n_(a,c,I,v,A)):(a=Xh(m.type,null,v,c,c.mode,A),a.ref=c.ref,a.return=c,c.child=a)}if(I=a.child,!Rg(a,A)){var H=I.memoizedProps;if(m=m.compare,m=m!==null?m:y,m(H,v)&&a.ref===c.ref)return eo(a,c,A)}return c.flags|=1,a=Wa(I,v),a.ref=c.ref,a.return=c,c.child=a}function n_(a,c,m,v,A){if(a!==null){var I=a.memoizedProps;if(y(I,v)&&a.ref===c.ref)if(ji=!1,c.pendingProps=v=I,Rg(a,A))(a.flags&131072)!==0&&(ji=!0);else return c.lanes=a.lanes,eo(a,c,A)}return Ag(a,c,m,v,A)}function i_(a,c,m){var v=c.pendingProps,A=v.children,I=a!==null?a.memoizedState:null;if(v.mode==="hidden"){if((c.flags&128)!==0){if(v=I!==null?I.baseLanes|m:m,a!==null){for(A=c.child=a.child,I=0;A!==null;)I=I|A.lanes|A.childLanes,A=A.sibling;c.childLanes=I&~v}else c.childLanes=0,c.child=null;return r_(a,c,v,m)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&Jh(c,I!==null?I.cachePool:null),I!==null?nw(c,I):sg(),Vw(c);else return c.lanes=c.childLanes=536870912,r_(a,c,I!==null?I.baseLanes|m:m,m)}else I!==null?(Jh(c,I.cachePool),nw(c,I),nl(),c.memoizedState=null):(a!==null&&Jh(c,null),sg(),nl());return Yi(a,c,A,m),c.child}function r_(a,c,m,v){var A=J0();return A=A===null?null:{parent:Oi._currentValue,pool:A},c.memoizedState={baseLanes:m,cachePool:A},a!==null&&Jh(c,null),sg(),Vw(c),a!==null&&zd(a,c,v,!0),null}function gp(a,c){var m=c.ref;if(m===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(a===null||a.ref!==m)&&(c.flags|=4194816)}}function Ag(a,c,m,v,A){return mc(c),m=lg(a,c,m,v,void 0,A),v=cg(),a!==null&&!ji?(ug(a,c,A),eo(a,c,A)):(un&&v&&G0(c),c.flags|=1,Yi(a,c,m,A),c.child)}function s_(a,c,m,v,A,I){return mc(c),c.updateQueue=null,m=rw(c,v,m,A),iw(a),v=cg(),a!==null&&!ji?(ug(a,c,I),eo(a,c,I)):(un&&v&&G0(c),c.flags|=1,Yi(a,c,m,I),c.child)}function a_(a,c,m,v,A){if(mc(c),c.stateNode===null){var I=yu,H=m.contextType;typeof H=="object"&&H!==null&&(I=ar(H)),I=new m(v,I),c.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=Sg,c.stateNode=I,I._reactInternals=c,I=c.stateNode,I.props=v,I.state=c.memoizedState,I.refs={},tg(c),H=m.contextType,I.context=typeof H=="object"&&H!==null?ar(H):yu,I.state=c.memoizedState,H=m.getDerivedStateFromProps,typeof H=="function"&&(Cg(c,m,H,v),I.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(H=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),H!==I.state&&Sg.enqueueReplaceState(I,I.state,null),Wd(c,v,I,A),qd(),I.state=c.memoizedState),typeof I.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(a===null){I=c.stateNode;var W=c.memoizedProps,J=yc(m,W);I.props=J;var me=I.context,Ne=m.contextType;H=yu,typeof Ne=="object"&&Ne!==null&&(H=ar(Ne));var De=m.getDerivedStateFromProps;Ne=typeof De=="function"||typeof I.getSnapshotBeforeUpdate=="function",W=c.pendingProps!==W,Ne||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(W||me!==H)&&qw(c,I,v,H),Zo=!1;var ye=c.memoizedState;I.state=ye,Wd(c,v,I,A),qd(),me=c.memoizedState,W||ye!==me||Zo?(typeof De=="function"&&(Cg(c,m,De,v),me=c.memoizedState),(J=Zo||Gw(c,m,J,v,ye,me,H))?(Ne||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=me),I.props=v,I.state=me,I.context=H,v=J):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{I=c.stateNode,ng(a,c),H=c.memoizedProps,Ne=yc(m,H),I.props=Ne,De=c.pendingProps,ye=I.context,me=m.contextType,J=yu,typeof me=="object"&&me!==null&&(J=ar(me)),W=m.getDerivedStateFromProps,(me=typeof W=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(H!==De||ye!==J)&&qw(c,I,v,J),Zo=!1,ye=c.memoizedState,I.state=ye,Wd(c,v,I,A),qd();var ve=c.memoizedState;H!==De||ye!==ve||Zo||a!==null&&a.dependencies!==null&&Zh(a.dependencies)?(typeof W=="function"&&(Cg(c,m,W,v),ve=c.memoizedState),(Ne=Zo||Gw(c,m,Ne,v,ye,ve,J)||a!==null&&a.dependencies!==null&&Zh(a.dependencies))?(me||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,ve,J),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,ve,J)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||H===a.memoizedProps&&ye===a.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&ye===a.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=ve),I.props=v,I.state=ve,I.context=J,v=Ne):(typeof I.componentDidUpdate!="function"||H===a.memoizedProps&&ye===a.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&ye===a.memoizedState||(c.flags|=1024),v=!1)}return I=v,gp(a,c),v=(c.flags&128)!==0,I||v?(I=c.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:I.render(),c.flags|=1,a!==null&&v?(c.child=Nu(c,a.child,null,A),c.child=Nu(c,null,m,A)):Yi(a,c,m,A),c.memoizedState=I.state,a=c.child):a=eo(a,c,A),a}function o_(a,c,m,v){return Pd(),c.flags|=256,Yi(a,c,m,v),c.child}var Tg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ng(a){return{baseLanes:a,cachePool:Xv()}}function Ig(a,c,m){return a=a!==null?a.childLanes&~m:0,c&&(a|=As),a}function l_(a,c,m){var v=c.pendingProps,A=!1,I=(c.flags&128)!==0,H;if((H=I)||(H=a!==null&&a.memoizedState===null?!1:(Ri.current&2)!==0),H&&(A=!0,c.flags&=-129),H=(c.flags&32)!==0,c.flags&=-33,a===null){if(un){if(A?tl(c):nl(),un){var W=ei,J;if(J=W){e:{for(J=W,W=xa;J.nodeType!==8;){if(!W){W=null;break e}if(J=Xs(J.nextSibling),J===null){W=null;break e}}W=J}W!==null?(c.memoizedState={dehydrated:W,treeContext:uc!==null?{id:Xa,overflow:Ya}:null,retryLane:536870912,hydrationErrors:null},J=Jr(18,null,null,0),J.stateNode=W,J.return=c,c.child=J,br=c,ei=null,J=!0):J=!1}J||hc(c)}if(W=c.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return fx(W)?c.lanes=32:c.lanes=536870912,null;Ja(c)}return W=v.children,v=v.fallback,A?(nl(),A=c.mode,W=xp({mode:"hidden",children:W},A),v=cc(v,A,m,null),W.return=c,v.return=c,W.sibling=v,c.child=W,A=c.child,A.memoizedState=Ng(m),A.childLanes=Ig(a,H,m),c.memoizedState=Tg,v):(tl(c),kg(c,W))}if(J=a.memoizedState,J!==null&&(W=J.dehydrated,W!==null)){if(I)c.flags&256?(tl(c),c.flags&=-257,c=Mg(a,c,m)):c.memoizedState!==null?(nl(),c.child=a.child,c.flags|=128,c=null):(nl(),A=v.fallback,W=c.mode,v=xp({mode:"visible",children:v.children},W),A=cc(A,W,m,null),A.flags|=2,v.return=c,A.return=c,v.sibling=A,c.child=v,Nu(c,a.child,null,m),v=c.child,v.memoizedState=Ng(m),v.childLanes=Ig(a,H,m),c.memoizedState=Tg,c=A);else if(tl(c),fx(W)){if(H=W.nextSibling&&W.nextSibling.dataset,H)var me=H.dgst;H=me,v=Error(i(419)),v.stack="",v.digest=H,Fd({value:v,source:null,stack:null}),c=Mg(a,c,m)}else if(ji||zd(a,c,m,!1),H=(m&a.childLanes)!==0,ji||H){if(H=On,H!==null&&(v=m&-m,v=(v&42)!==0?1:Fa(v),v=(v&(H.suspendedLanes|m))!==0?0:v,v!==0&&v!==J.retryLane))throw J.retryLane=v,xu(a,v),rs(H,a,v),Jw;W.data==="$?"||Yg(),c=Mg(a,c,m)}else W.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=J.treeContext,ei=Xs(W.nextSibling),br=c,un=!0,fc=null,xa=!1,a!==null&&(Cs[Ss++]=Xa,Cs[Ss++]=Ya,Cs[Ss++]=uc,Xa=a.id,Ya=a.overflow,uc=c),c=kg(c,v.children),c.flags|=4096);return c}return A?(nl(),A=v.fallback,W=c.mode,J=a.child,me=J.sibling,v=Wa(J,{mode:"hidden",children:v.children}),v.subtreeFlags=J.subtreeFlags&65011712,me!==null?A=Wa(me,A):(A=cc(A,W,m,null),A.flags|=2),A.return=c,v.return=c,v.sibling=A,c.child=v,v=A,A=c.child,W=a.child.memoizedState,W===null?W=Ng(m):(J=W.cachePool,J!==null?(me=Oi._currentValue,J=J.parent!==me?{parent:me,pool:me}:J):J=Xv(),W={baseLanes:W.baseLanes|m,cachePool:J}),A.memoizedState=W,A.childLanes=Ig(a,H,m),c.memoizedState=Tg,v):(tl(c),m=a.child,a=m.sibling,m=Wa(m,{mode:"visible",children:v.children}),m.return=c,m.sibling=null,a!==null&&(H=c.deletions,H===null?(c.deletions=[a],c.flags|=16):H.push(a)),c.child=m,c.memoizedState=null,m)}function kg(a,c){return c=xp({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function xp(a,c){return a=Jr(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Mg(a,c,m){return Nu(c,a.child,null,m),a=kg(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function c_(a,c,m){a.lanes|=c;var v=a.alternate;v!==null&&(v.lanes|=c),Y0(a.return,c,m)}function Og(a,c,m,v,A){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:A}:(I.isBackwards=c,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=m,I.tailMode=A)}function u_(a,c,m){var v=c.pendingProps,A=v.revealOrder,I=v.tail;if(Yi(a,c,v.children,m),v=Ri.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&c_(a,m,c);else if(a.tag===19)c_(a,m,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}switch(Oe(Ri,v),A){case"forwards":for(m=c.child,A=null;m!==null;)a=m.alternate,a!==null&&hp(a)===null&&(A=m),m=m.sibling;m=A,m===null?(A=c.child,c.child=null):(A=m.sibling,m.sibling=null),Og(c,!1,A,m,I);break;case"backwards":for(m=null,A=c.child,c.child=null;A!==null;){if(a=A.alternate,a!==null&&hp(a)===null){c.child=A;break}a=A.sibling,A.sibling=m,m=A,A=a}Og(c,!0,m,null,I);break;case"together":Og(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function eo(a,c,m){if(a!==null&&(c.dependencies=a.dependencies),ol|=c.lanes,(m&c.childLanes)===0)if(a!==null){if(zd(a,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(i(153));if(c.child!==null){for(a=c.child,m=Wa(a,a.pendingProps),c.child=m,m.return=c;a.sibling!==null;)a=a.sibling,m=m.sibling=Wa(a,a.pendingProps),m.return=c;m.sibling=null}return c.child}function Rg(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&Zh(a)))}function $5(a,c,m){switch(c.tag){case 3:gt(c,c.stateNode.containerInfo),Ko(c,Oi,a.memoizedState.cache),Pd();break;case 27:case 5:dn(c);break;case 4:gt(c,c.stateNode.containerInfo);break;case 10:Ko(c,c.type,c.memoizedProps.value);break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(tl(c),c.flags|=128,null):(m&c.child.childLanes)!==0?l_(a,c,m):(tl(c),a=eo(a,c,m),a!==null?a.sibling:null);tl(c);break;case 19:var A=(a.flags&128)!==0;if(v=(m&c.childLanes)!==0,v||(zd(a,c,m,!1),v=(m&c.childLanes)!==0),A){if(v)return u_(a,c,m);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Oe(Ri,Ri.current),v)break;return null;case 22:case 23:return c.lanes=0,i_(a,c,m);case 24:Ko(c,Oi,a.memoizedState.cache)}return eo(a,c,m)}function d_(a,c,m){if(a!==null)if(a.memoizedProps!==c.pendingProps)ji=!0;else{if(!Rg(a,m)&&(c.flags&128)===0)return ji=!1,$5(a,c,m);ji=(a.flags&131072)!==0}else ji=!1,un&&(c.flags&1048576)!==0&&Hv(c,Kh,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var v=c.elementType,A=v._init;if(v=A(v._payload),c.type=v,typeof v=="function")U0(v)?(a=yc(v,a),c.tag=1,c=a_(null,c,v,a,m)):(c.tag=0,c=Ag(null,c,v,a,m));else{if(v!=null){if(A=v.$$typeof,A===k){c.tag=11,c=e_(null,c,v,a,m);break e}else if(A===z){c.tag=14,c=t_(null,c,v,a,m);break e}}throw c=Se(v)||v,Error(i(306,c,""))}}return c;case 0:return Ag(a,c,c.type,c.pendingProps,m);case 1:return v=c.type,A=yc(v,c.pendingProps),a_(a,c,v,A,m);case 3:e:{if(gt(c,c.stateNode.containerInfo),a===null)throw Error(i(387));v=c.pendingProps;var I=c.memoizedState;A=I.element,ng(a,c),Wd(c,v,null,m);var H=c.memoizedState;if(v=H.cache,Ko(c,Oi,v),v!==I.cache&&K0(c,[Oi],m,!0),qd(),v=H.element,I.isDehydrated)if(I={element:v,isDehydrated:!1,cache:H.cache},c.updateQueue.baseState=I,c.memoizedState=I,c.flags&256){c=o_(a,c,v,m);break e}else if(v!==A){A=ws(Error(i(424)),c),Fd(A),c=o_(a,c,v,m);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ei=Xs(a.firstChild),br=c,un=!0,fc=null,xa=!0,m=$w(c,null,v,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Pd(),v===A){c=eo(a,c,m);break e}Yi(a,c,v,m)}c=c.child}return c;case 26:return gp(a,c),a===null?(m=mC(c.type,null,c.pendingProps,null))?c.memoizedState=m:un||(m=c.type,a=c.pendingProps,v=Mp(Ae.current).createElement(m),v[Re]=c,v[Fe]=a,Zi(v,m,a),Tt(v),c.stateNode=v):c.memoizedState=mC(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return dn(c),a===null&&un&&(v=c.stateNode=fC(c.type,c.pendingProps,Ae.current),br=c,xa=!0,A=ei,dl(c.type)?(hx=A,ei=Xs(v.firstChild)):ei=A),Yi(a,c,c.pendingProps.children,m),gp(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&un&&((A=v=ei)&&(v=xI(v,c.type,c.pendingProps,xa),v!==null?(c.stateNode=v,br=c,ei=Xs(v.firstChild),xa=!1,A=!0):A=!1),A||hc(c)),dn(c),A=c.type,I=c.pendingProps,H=a!==null?a.memoizedProps:null,v=I.children,cx(A,I)?v=null:H!==null&&cx(A,H)&&(c.flags|=32),c.memoizedState!==null&&(A=lg(a,c,B5,null,null,m),gf._currentValue=A),gp(a,c),Yi(a,c,v,m),c.child;case 6:return a===null&&un&&((a=m=ei)&&(m=yI(m,c.pendingProps,xa),m!==null?(c.stateNode=m,br=c,ei=null,a=!0):a=!1),a||hc(c)),null;case 13:return l_(a,c,m);case 4:return gt(c,c.stateNode.containerInfo),v=c.pendingProps,a===null?c.child=Nu(c,null,v,m):Yi(a,c,v,m),c.child;case 11:return e_(a,c,c.type,c.pendingProps,m);case 7:return Yi(a,c,c.pendingProps,m),c.child;case 8:return Yi(a,c,c.pendingProps.children,m),c.child;case 12:return Yi(a,c,c.pendingProps.children,m),c.child;case 10:return v=c.pendingProps,Ko(c,c.type,v.value),Yi(a,c,v.children,m),c.child;case 9:return A=c.type._context,v=c.pendingProps.children,mc(c),A=ar(A),v=v(A),c.flags|=1,Yi(a,c,v,m),c.child;case 14:return t_(a,c,c.type,c.pendingProps,m);case 15:return n_(a,c,c.type,c.pendingProps,m);case 19:return u_(a,c,m);case 31:return v=c.pendingProps,m=c.mode,v={mode:v.mode,children:v.children},a===null?(m=xp(v,m),m.ref=c.ref,c.child=m,m.return=c,c=m):(m=Wa(a.child,v),m.ref=c.ref,c.child=m,m.return=c,c=m),c;case 22:return i_(a,c,m);case 24:return mc(c),v=ar(Oi),a===null?(A=J0(),A===null&&(A=On,I=Z0(),A.pooledCache=I,I.refCount++,I!==null&&(A.pooledCacheLanes|=m),A=I),c.memoizedState={parent:v,cache:A},tg(c),Ko(c,Oi,A)):((a.lanes&m)!==0&&(ng(a,c),Wd(c,null,null,m),qd()),A=a.memoizedState,I=c.memoizedState,A.parent!==v?(A={parent:v,cache:v},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),Ko(c,Oi,v)):(v=I.cache,Ko(c,Oi,v),v!==A.cache&&K0(c,[Oi],m,!0))),Yi(a,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function to(a){a.flags|=4}function f_(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!vC(c)){if(c=Es.current,c!==null&&((rn&4194048)===rn?ya!==null:(rn&62914560)!==rn&&(rn&536870912)===0||c!==ya))throw Vd=eg,Yv;a.flags|=8192}}function yp(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?Ql():536870912,a.lanes|=c,Ou|=c)}function ef(a,c){if(!un)switch(a.tailMode){case"hidden":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function qn(a){var c=a.alternate!==null&&a.alternate.child===a.child,m=0,v=0;if(c)for(var A=a.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=a,A=A.sibling;else for(A=a.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=a,A=A.sibling;return a.subtreeFlags|=v,a.childLanes=m,c}function V5(a,c,m){var v=c.pendingProps;switch(q0(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(c),null;case 1:return qn(c),null;case 3:return m=c.stateNode,v=null,a!==null&&(v=a.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),Za(Oi),oi(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(jd(c)?to(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Vv())),qn(c),null;case 26:return m=c.memoizedState,a===null?(to(c),m!==null?(qn(c),f_(c,m)):(qn(c),c.flags&=-16777217)):m?m!==a.memoizedState?(to(c),qn(c),f_(c,m)):(qn(c),c.flags&=-16777217):(a.memoizedProps!==v&&to(c),qn(c),c.flags&=-16777217),null;case 27:cn(c),m=Ae.current;var A=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==v&&to(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return qn(c),null}a=He.current,jd(c)?Uv(c):(a=fC(A,v,m),c.stateNode=a,to(c))}return qn(c),null;case 5:if(cn(c),m=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==v&&to(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return qn(c),null}if(a=He.current,jd(c))Uv(c);else{switch(A=Mp(Ae.current),a){case 1:a=A.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:a=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":a=A.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":a=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof v.is=="string"?A.createElement("select",{is:v.is}):A.createElement("select"),v.multiple?a.multiple=!0:v.size&&(a.size=v.size);break;default:a=typeof v.is=="string"?A.createElement(m,{is:v.is}):A.createElement(m)}}a[Re]=c,a[Fe]=v;e:for(A=c.child;A!==null;){if(A.tag===5||A.tag===6)a.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}c.stateNode=a;e:switch(Zi(a,m,v),m){case"button":case"input":case"select":case"textarea":a=!!v.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&to(c)}}return qn(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==v&&to(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(i(166));if(a=Ae.current,jd(c)){if(a=c.stateNode,m=c.memoizedProps,v=null,A=br,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}a[Re]=c,a=!!(a.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||sC(a.nodeValue,m)),a||hc(c)}else a=Mp(a).createTextNode(v),a[Re]=c,c.stateNode=a}return qn(c),null;case 13:if(v=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(A=jd(c),v!==null&&v.dehydrated!==null){if(a===null){if(!A)throw Error(i(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));A[Re]=c}else Pd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;qn(c),A=!1}else A=Vv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(Ja(c),c):(Ja(c),null)}if(Ja(c),(c.flags&128)!==0)return c.lanes=m,c;if(m=v!==null,a=a!==null&&a.memoizedState!==null,m){v=c.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool);var I=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(I=v.memoizedState.cachePool.pool),I!==A&&(v.flags|=2048)}return m!==a&&m&&(c.child.flags|=8192),yp(c,c.updateQueue),qn(c),null;case 4:return oi(),a===null&&rx(c.stateNode.containerInfo),qn(c),null;case 10:return Za(c.type),qn(c),null;case 19:if(Ee(Ri),A=c.memoizedState,A===null)return qn(c),null;if(v=(c.flags&128)!==0,I=A.rendering,I===null)if(v)ef(A,!1);else{if(ti!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(I=hp(a),I!==null){for(c.flags|=128,ef(A,!1),a=I.updateQueue,c.updateQueue=a,yp(c,a),c.subtreeFlags=0,a=m,m=c.child;m!==null;)zv(m,a),m=m.sibling;return Oe(Ri,Ri.current&1|2),c.child}a=a.sibling}A.tail!==null&&$t()>wp&&(c.flags|=128,v=!0,ef(A,!1),c.lanes=4194304)}else{if(!v)if(a=hp(I),a!==null){if(c.flags|=128,v=!0,a=a.updateQueue,c.updateQueue=a,yp(c,a),ef(A,!0),A.tail===null&&A.tailMode==="hidden"&&!I.alternate&&!un)return qn(c),null}else 2*$t()-A.renderingStartTime>wp&&m!==536870912&&(c.flags|=128,v=!0,ef(A,!1),c.lanes=4194304);A.isBackwards?(I.sibling=c.child,c.child=I):(a=A.last,a!==null?a.sibling=I:c.child=I,A.last=I)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=$t(),c.sibling=null,a=Ri.current,Oe(Ri,v?a&1|2:a&1),c):(qn(c),null);case 22:case 23:return Ja(c),ag(),v=c.memoizedState!==null,a!==null?a.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(m&536870912)!==0&&(c.flags&128)===0&&(qn(c),c.subtreeFlags&6&&(c.flags|=8192)):qn(c),m=c.updateQueue,m!==null&&yp(c,m.retryQueue),m=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048),a!==null&&Ee(gc),null;case 24:return m=null,a!==null&&(m=a.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Za(Oi),qn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function G5(a,c){switch(q0(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Za(Oi),oi(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return cn(c),null;case 13:if(Ja(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Pd()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Ee(Ri),null;case 4:return oi(),null;case 10:return Za(c.type),null;case 22:case 23:return Ja(c),ag(),a!==null&&Ee(gc),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return Za(Oi),null;case 25:return null;default:return null}}function h_(a,c){switch(q0(c),c.tag){case 3:Za(Oi),oi();break;case 26:case 27:case 5:cn(c);break;case 4:oi();break;case 13:Ja(c);break;case 19:Ee(Ri);break;case 10:Za(c.type);break;case 22:case 23:Ja(c),ag(),a!==null&&Ee(gc);break;case 24:Za(Oi)}}function tf(a,c){try{var m=c.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var A=v.next;m=A;do{if((m.tag&a)===a){v=void 0;var I=m.create,H=m.inst;v=I(),H.destroy=v}m=m.next}while(m!==A)}}catch(W){In(c,c.return,W)}}function il(a,c,m){try{var v=c.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var I=A.next;v=I;do{if((v.tag&a)===a){var H=v.inst,W=H.destroy;if(W!==void 0){H.destroy=void 0,A=c;var J=m,me=W;try{me()}catch(Ne){In(A,J,Ne)}}}v=v.next}while(v!==I)}}catch(Ne){In(c,c.return,Ne)}}function p_(a){var c=a.updateQueue;if(c!==null){var m=a.stateNode;try{tw(c,m)}catch(v){In(a,a.return,v)}}}function m_(a,c,m){m.props=yc(a.type,a.memoizedProps),m.state=a.memoizedState;try{m.componentWillUnmount()}catch(v){In(a,c,v)}}function nf(a,c){try{var m=a.ref;if(m!==null){switch(a.tag){case 26:case 27:case 5:var v=a.stateNode;break;case 30:v=a.stateNode;break;default:v=a.stateNode}typeof m=="function"?a.refCleanup=m(v):m.current=v}}catch(A){In(a,c,A)}}function ba(a,c){var m=a.ref,v=a.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(A){In(a,c,A)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(A){In(a,c,A)}else m.current=null}function g_(a){var c=a.type,m=a.memoizedProps,v=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(A){In(a,a.return,A)}}function Dg(a,c,m){try{var v=a.stateNode;fI(v,a.type,m,c),v[Fe]=c}catch(A){In(a,a.return,A)}}function x_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&dl(a.type)||a.tag===4}function Bg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||x_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&dl(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Lg(a,c,m){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(a,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(a),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=kp));else if(v!==4&&(v===27&&dl(a.type)&&(m=a.stateNode,c=null),a=a.child,a!==null))for(Lg(a,c,m),a=a.sibling;a!==null;)Lg(a,c,m),a=a.sibling}function bp(a,c,m){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?m.insertBefore(a,c):m.appendChild(a);else if(v!==4&&(v===27&&dl(a.type)&&(m=a.stateNode),a=a.child,a!==null))for(bp(a,c,m),a=a.sibling;a!==null;)bp(a,c,m),a=a.sibling}function y_(a){var c=a.stateNode,m=a.memoizedProps;try{for(var v=a.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);Zi(c,v,m),c[Re]=a,c[Fe]=m}catch(I){In(a,a.return,I)}}var no=!1,hi=!1,jg=!1,b_=typeof WeakSet=="function"?WeakSet:Set,Pi=null;function q5(a,c){if(a=a.containerInfo,ox=jp,a=O(a),F(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var A=v.anchorOffset,I=v.focusNode;v=v.focusOffset;try{m.nodeType,I.nodeType}catch{m=null;break e}var H=0,W=-1,J=-1,me=0,Ne=0,De=a,ye=null;t:for(;;){for(var ve;De!==m||A!==0&&De.nodeType!==3||(W=H+A),De!==I||v!==0&&De.nodeType!==3||(J=H+v),De.nodeType===3&&(H+=De.nodeValue.length),(ve=De.firstChild)!==null;)ye=De,De=ve;for(;;){if(De===a)break t;if(ye===m&&++me===A&&(W=H),ye===I&&++Ne===v&&(J=H),(ve=De.nextSibling)!==null)break;De=ye,ye=De.parentNode}De=ve}m=W===-1||J===-1?null:{start:W,end:J}}else m=null}m=m||{start:0,end:0}}else m=null;for(lx={focusedElem:a,selectionRange:m},jp=!1,Pi=c;Pi!==null;)if(c=Pi,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,Pi=a;else for(;Pi!==null;){switch(c=Pi,I=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&I!==null){a=void 0,m=c,A=I.memoizedProps,I=I.memoizedState,v=m.stateNode;try{var bt=yc(m.type,A,m.elementType===m.type);a=v.getSnapshotBeforeUpdate(bt,I),v.__reactInternalSnapshotBeforeUpdate=a}catch(xt){In(m,m.return,xt)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,m=a.nodeType,m===9)dx(a);else if(m===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":dx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=c.sibling,a!==null){a.return=c.return,Pi=a;break}Pi=c.return}}function v_(a,c,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:rl(a,m),v&4&&tf(5,m);break;case 1:if(rl(a,m),v&4)if(a=m.stateNode,c===null)try{a.componentDidMount()}catch(H){In(m,m.return,H)}else{var A=yc(m.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(A,c,a.__reactInternalSnapshotBeforeUpdate)}catch(H){In(m,m.return,H)}}v&64&&p_(m),v&512&&nf(m,m.return);break;case 3:if(rl(a,m),v&64&&(a=m.updateQueue,a!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{tw(a,c)}catch(H){In(m,m.return,H)}}break;case 27:c===null&&v&4&&y_(m);case 26:case 5:rl(a,m),c===null&&v&4&&g_(m),v&512&&nf(m,m.return);break;case 12:rl(a,m);break;case 13:rl(a,m),v&4&&C_(a,m),v&64&&(a=m.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(m=tI.bind(null,m),bI(a,m))));break;case 22:if(v=m.memoizedState!==null||no,!v){c=c!==null&&c.memoizedState!==null||hi,A=no;var I=hi;no=v,(hi=c)&&!I?sl(a,m,(m.subtreeFlags&8772)!==0):rl(a,m),no=A,hi=I}break;case 30:break;default:rl(a,m)}}function w_(a){var c=a.alternate;c!==null&&(a.alternate=null,w_(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&nt(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var zn=null,jr=!1;function io(a,c,m){for(m=m.child;m!==null;)__(a,c,m),m=m.sibling}function __(a,c,m){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(vt,m)}catch{}switch(m.tag){case 26:hi||ba(m,c),io(a,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:hi||ba(m,c);var v=zn,A=jr;dl(m.type)&&(zn=m.stateNode,jr=!1),io(a,c,m),ff(m.stateNode),zn=v,jr=A;break;case 5:hi||ba(m,c);case 6:if(v=zn,A=jr,zn=null,io(a,c,m),zn=v,jr=A,zn!==null)if(jr)try{(zn.nodeType===9?zn.body:zn.nodeName==="HTML"?zn.ownerDocument.body:zn).removeChild(m.stateNode)}catch(I){In(m,c,I)}else try{zn.removeChild(m.stateNode)}catch(I){In(m,c,I)}break;case 18:zn!==null&&(jr?(a=zn,uC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,m.stateNode),vf(a)):uC(zn,m.stateNode));break;case 4:v=zn,A=jr,zn=m.stateNode.containerInfo,jr=!0,io(a,c,m),zn=v,jr=A;break;case 0:case 11:case 14:case 15:hi||il(2,m,c),hi||il(4,m,c),io(a,c,m);break;case 1:hi||(ba(m,c),v=m.stateNode,typeof v.componentWillUnmount=="function"&&m_(m,c,v)),io(a,c,m);break;case 21:io(a,c,m);break;case 22:hi=(v=hi)||m.memoizedState!==null,io(a,c,m),hi=v;break;default:io(a,c,m)}}function C_(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{vf(a)}catch(m){In(c,c.return,m)}}function W5(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new b_),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new b_),c;default:throw Error(i(435,a.tag))}}function Pg(a,c){var m=W5(a);c.forEach(function(v){var A=nI.bind(null,a,v);m.has(v)||(m.add(v),v.then(A,A))})}function es(a,c){var m=c.deletions;if(m!==null)for(var v=0;v<m.length;v++){var A=m[v],I=a,H=c,W=H;e:for(;W!==null;){switch(W.tag){case 27:if(dl(W.type)){zn=W.stateNode,jr=!1;break e}break;case 5:zn=W.stateNode,jr=!1;break e;case 3:case 4:zn=W.stateNode.containerInfo,jr=!0;break e}W=W.return}if(zn===null)throw Error(i(160));__(I,H,A),zn=null,jr=!1,I=A.alternate,I!==null&&(I.return=null),A.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)S_(c,a),c=c.sibling}var Ws=null;function S_(a,c){var m=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:es(c,a),ts(a),v&4&&(il(3,a,a.return),tf(3,a),il(5,a,a.return));break;case 1:es(c,a),ts(a),v&512&&(hi||m===null||ba(m,m.return)),v&64&&no&&(a=a.updateQueue,a!==null&&(v=a.callbacks,v!==null&&(m=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var A=Ws;if(es(c,a),ts(a),v&512&&(hi||m===null||ba(m,m.return)),v&4){var I=m!==null?m.memoizedState:null;if(v=a.memoizedState,m===null)if(v===null)if(a.stateNode===null){e:{v=a.type,m=a.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":I=A.getElementsByTagName("title")[0],(!I||I[dt]||I[Re]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=A.createElement(v),A.head.insertBefore(I,A.querySelector("head > title"))),Zi(I,v,m),I[Re]=a,Tt(I),v=I;break e;case"link":var H=yC("link","href",A).get(v+(m.href||""));if(H){for(var W=0;W<H.length;W++)if(I=H[W],I.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&I.getAttribute("rel")===(m.rel==null?null:m.rel)&&I.getAttribute("title")===(m.title==null?null:m.title)&&I.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){H.splice(W,1);break t}}I=A.createElement(v),Zi(I,v,m),A.head.appendChild(I);break;case"meta":if(H=yC("meta","content",A).get(v+(m.content||""))){for(W=0;W<H.length;W++)if(I=H[W],I.getAttribute("content")===(m.content==null?null:""+m.content)&&I.getAttribute("name")===(m.name==null?null:m.name)&&I.getAttribute("property")===(m.property==null?null:m.property)&&I.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&I.getAttribute("charset")===(m.charSet==null?null:m.charSet)){H.splice(W,1);break t}}I=A.createElement(v),Zi(I,v,m),A.head.appendChild(I);break;default:throw Error(i(468,v))}I[Re]=a,Tt(I),v=I}a.stateNode=v}else bC(A,a.type,a.stateNode);else a.stateNode=xC(A,v,a.memoizedProps);else I!==v?(I===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):I.count--,v===null?bC(A,a.type,a.stateNode):xC(A,v,a.memoizedProps)):v===null&&a.stateNode!==null&&Dg(a,a.memoizedProps,m.memoizedProps)}break;case 27:es(c,a),ts(a),v&512&&(hi||m===null||ba(m,m.return)),m!==null&&v&4&&Dg(a,a.memoizedProps,m.memoizedProps);break;case 5:if(es(c,a),ts(a),v&512&&(hi||m===null||ba(m,m.return)),a.flags&32){A=a.stateNode;try{Ii(A,"")}catch(ve){In(a,a.return,ve)}}v&4&&a.stateNode!=null&&(A=a.memoizedProps,Dg(a,A,m!==null?m.memoizedProps:A)),v&1024&&(jg=!0);break;case 6:if(es(c,a),ts(a),v&4){if(a.stateNode===null)throw Error(i(162));v=a.memoizedProps,m=a.stateNode;try{m.nodeValue=v}catch(ve){In(a,a.return,ve)}}break;case 3:if(Dp=null,A=Ws,Ws=Op(c.containerInfo),es(c,a),Ws=A,ts(a),v&4&&m!==null&&m.memoizedState.isDehydrated)try{vf(c.containerInfo)}catch(ve){In(a,a.return,ve)}jg&&(jg=!1,E_(a));break;case 4:v=Ws,Ws=Op(a.stateNode.containerInfo),es(c,a),ts(a),Ws=v;break;case 12:es(c,a),ts(a);break;case 13:es(c,a),ts(a),a.child.flags&8192&&a.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Vg=$t()),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Pg(a,v)));break;case 22:A=a.memoizedState!==null;var J=m!==null&&m.memoizedState!==null,me=no,Ne=hi;if(no=me||A,hi=Ne||J,es(c,a),hi=Ne,no=me,ts(a),v&8192)e:for(c=a.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(m===null||J||no||hi||bc(a)),m=null,c=a;;){if(c.tag===5||c.tag===26){if(m===null){J=m=c;try{if(I=J.stateNode,A)H=I.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{W=J.stateNode;var De=J.memoizedProps.style,ye=De!=null&&De.hasOwnProperty("display")?De.display:null;W.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(ve){In(J,J.return,ve)}}}else if(c.tag===6){if(m===null){J=c;try{J.stateNode.nodeValue=A?"":J.memoizedProps}catch(ve){In(J,J.return,ve)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=a.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,Pg(a,m))));break;case 19:es(c,a),ts(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Pg(a,v)));break;case 30:break;case 21:break;default:es(c,a),ts(a)}}function ts(a){var c=a.flags;if(c&2){try{for(var m,v=a.return;v!==null;){if(x_(v)){m=v;break}v=v.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var A=m.stateNode,I=Bg(a);bp(a,I,A);break;case 5:var H=m.stateNode;m.flags&32&&(Ii(H,""),m.flags&=-33);var W=Bg(a);bp(a,W,H);break;case 3:case 4:var J=m.stateNode.containerInfo,me=Bg(a);Lg(a,me,J);break;default:throw Error(i(161))}}catch(Ne){In(a,a.return,Ne)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function E_(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;E_(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function rl(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)v_(a,c.alternate,c),c=c.sibling}function bc(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:il(4,c,c.return),bc(c);break;case 1:ba(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&m_(c,c.return,m),bc(c);break;case 27:ff(c.stateNode);case 26:case 5:ba(c,c.return),bc(c);break;case 22:c.memoizedState===null&&bc(c);break;case 30:bc(c);break;default:bc(c)}a=a.sibling}}function sl(a,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,A=a,I=c,H=I.flags;switch(I.tag){case 0:case 11:case 15:sl(A,I,m),tf(4,I);break;case 1:if(sl(A,I,m),v=I,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(me){In(v,v.return,me)}if(v=I,A=v.updateQueue,A!==null){var W=v.stateNode;try{var J=A.shared.hiddenCallbacks;if(J!==null)for(A.shared.hiddenCallbacks=null,A=0;A<J.length;A++)ew(J[A],W)}catch(me){In(v,v.return,me)}}m&&H&64&&p_(I),nf(I,I.return);break;case 27:y_(I);case 26:case 5:sl(A,I,m),m&&v===null&&H&4&&g_(I),nf(I,I.return);break;case 12:sl(A,I,m);break;case 13:sl(A,I,m),m&&H&4&&C_(A,I);break;case 22:I.memoizedState===null&&sl(A,I,m),nf(I,I.return);break;case 30:break;default:sl(A,I,m)}c=c.sibling}}function Fg(a,c){var m=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==m&&(a!=null&&a.refCount++,m!=null&&Hd(m))}function zg(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Hd(a))}function va(a,c,m,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)A_(a,c,m,v),c=c.sibling}function A_(a,c,m,v){var A=c.flags;switch(c.tag){case 0:case 11:case 15:va(a,c,m,v),A&2048&&tf(9,c);break;case 1:va(a,c,m,v);break;case 3:va(a,c,m,v),A&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&Hd(a)));break;case 12:if(A&2048){va(a,c,m,v),a=c.stateNode;try{var I=c.memoizedProps,H=I.id,W=I.onPostCommit;typeof W=="function"&&W(H,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){In(c,c.return,J)}}else va(a,c,m,v);break;case 13:va(a,c,m,v);break;case 23:break;case 22:I=c.stateNode,H=c.alternate,c.memoizedState!==null?I._visibility&2?va(a,c,m,v):rf(a,c):I._visibility&2?va(a,c,m,v):(I._visibility|=2,Iu(a,c,m,v,(c.subtreeFlags&10256)!==0)),A&2048&&Fg(H,c);break;case 24:va(a,c,m,v),A&2048&&zg(c.alternate,c);break;default:va(a,c,m,v)}}function Iu(a,c,m,v,A){for(A=A&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var I=a,H=c,W=m,J=v,me=H.flags;switch(H.tag){case 0:case 11:case 15:Iu(I,H,W,J,A),tf(8,H);break;case 23:break;case 22:var Ne=H.stateNode;H.memoizedState!==null?Ne._visibility&2?Iu(I,H,W,J,A):rf(I,H):(Ne._visibility|=2,Iu(I,H,W,J,A)),A&&me&2048&&Fg(H.alternate,H);break;case 24:Iu(I,H,W,J,A),A&&me&2048&&zg(H.alternate,H);break;default:Iu(I,H,W,J,A)}c=c.sibling}}function rf(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=a,v=c,A=v.flags;switch(v.tag){case 22:rf(m,v),A&2048&&Fg(v.alternate,v);break;case 24:rf(m,v),A&2048&&zg(v.alternate,v);break;default:rf(m,v)}c=c.sibling}}var sf=8192;function ku(a){if(a.subtreeFlags&sf)for(a=a.child;a!==null;)T_(a),a=a.sibling}function T_(a){switch(a.tag){case 26:ku(a),a.flags&sf&&a.memoizedState!==null&&OI(Ws,a.memoizedState,a.memoizedProps);break;case 5:ku(a);break;case 3:case 4:var c=Ws;Ws=Op(a.stateNode.containerInfo),ku(a),Ws=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=sf,sf=16777216,ku(a),sf=c):ku(a));break;default:ku(a)}}function N_(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function af(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];Pi=v,k_(v,a)}N_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)I_(a),a=a.sibling}function I_(a){switch(a.tag){case 0:case 11:case 15:af(a),a.flags&2048&&il(9,a,a.return);break;case 3:af(a);break;case 12:af(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,vp(a)):af(a);break;default:af(a)}}function vp(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];Pi=v,k_(v,a)}N_(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:il(8,c,c.return),vp(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,vp(c));break;default:vp(c)}a=a.sibling}}function k_(a,c){for(;Pi!==null;){var m=Pi;switch(m.tag){case 0:case 11:case 15:il(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Hd(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,Pi=v;else e:for(m=a;Pi!==null;){v=Pi;var A=v.sibling,I=v.return;if(w_(v),v===m){Pi=null;break e}if(A!==null){A.return=I,Pi=A;break e}Pi=I}}}var X5={getCacheForType:function(a){var c=ar(Oi),m=c.data.get(a);return m===void 0&&(m=a(),c.data.set(a,m)),m}},Y5=typeof WeakMap=="function"?WeakMap:Map,bn=0,On=null,Yt=null,rn=0,vn=0,ns=null,al=!1,Mu=!1,Hg=!1,ro=0,ti=0,ol=0,vc=0,Ug=0,As=0,Ou=0,of=null,Pr=null,$g=!1,Vg=0,wp=1/0,_p=null,ll=null,Ki=0,cl=null,Ru=null,Du=0,Gg=0,qg=null,M_=null,lf=0,Wg=null;function is(){if((bn&2)!==0&&rn!==0)return rn&-rn;if(Q.T!==null){var a=wu;return a!==0?a:ex()}return re()}function O_(){As===0&&(As=(rn&536870912)===0||un?ys():536870912);var a=Es.current;return a!==null&&(a.flags|=32),As}function rs(a,c,m){(a===On&&(vn===2||vn===9)||a.cancelPendingCommit!==null)&&(Bu(a,0),ul(a,rn,As,!1)),gr(a,m),((bn&2)===0||a!==On)&&(a===On&&((bn&2)===0&&(vc|=m),ti===4&&ul(a,rn,As,!1)),wa(a))}function R_(a,c,m){if((bn&6)!==0)throw Error(i(327));var v=!m&&(c&124)===0&&(c&a.expiredLanes)===0||Wt(a,c),A=v?Q5(a,c):Kg(a,c,!0),I=v;do{if(A===0){Mu&&!v&&ul(a,c,0,!1);break}else{if(m=a.current.alternate,I&&!K5(m)){A=Kg(a,c,!1),I=!1;continue}if(A===2){if(I=c,a.errorRecoveryDisabledLanes&I)var H=0;else H=a.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){c=H;e:{var W=a;A=of;var J=W.current.memoizedState.isDehydrated;if(J&&(Bu(W,H).flags|=256),H=Kg(W,H,!1),H!==2){if(Hg&&!J){W.errorRecoveryDisabledLanes|=I,vc|=I,A=4;break e}I=Pr,Pr=A,I!==null&&(Pr===null?Pr=I:Pr.push.apply(Pr,I))}A=H}if(I=!1,A!==2)continue}}if(A===1){Bu(a,0),ul(a,c,0,!0);break}e:{switch(v=a,I=A,I){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:ul(v,c,As,!al);break e;case 2:Pr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(A=Vg+300-$t(),10<A)){if(ul(v,c,As,!al),jt(v,0,!0)!==0)break e;v.timeoutHandle=lC(D_.bind(null,v,m,Pr,_p,$g,c,As,vc,Ou,al,I,2,-0,0),A);break e}D_(v,m,Pr,_p,$g,c,As,vc,Ou,al,I,0,-0,0)}}break}while(!0);wa(a)}function D_(a,c,m,v,A,I,H,W,J,me,Ne,De,ye,ve){if(a.timeoutHandle=-1,De=c.subtreeFlags,(De&8192||(De&16785408)===16785408)&&(mf={stylesheets:null,count:0,unsuspend:MI},T_(c),De=RI(),De!==null)){a.cancelPendingCommit=De(H_.bind(null,a,c,I,m,v,A,H,W,J,Ne,1,ye,ve)),ul(a,I,H,!me);return}H_(a,c,I,m,v,A,H,W,J)}function K5(a){for(var c=a;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var A=m[v],I=A.getSnapshot;A=A.value;try{if(!g(I(),A))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ul(a,c,m,v){c&=~Ug,c&=~vc,a.suspendedLanes|=c,a.pingedLanes&=~c,v&&(a.warmLanes|=c),v=a.expirationTimes;for(var A=c;0<A;){var I=31-Lt(A),H=1<<I;v[I]=-1,A&=~H}m!==0&&sa(a,m,c)}function Cp(){return(bn&6)===0?(cf(0),!1):!0}function Xg(){if(Yt!==null){if(vn===0)var a=Yt.return;else a=Yt,Ka=pc=null,dg(a),Tu=null,Qd=0,a=Yt;for(;a!==null;)h_(a.alternate,a),a=a.return;Yt=null}}function Bu(a,c){var m=a.timeoutHandle;m!==-1&&(a.timeoutHandle=-1,pI(m)),m=a.cancelPendingCommit,m!==null&&(a.cancelPendingCommit=null,m()),Xg(),On=a,Yt=m=Wa(a.current,null),rn=c,vn=0,ns=null,al=!1,Mu=Wt(a,c),Hg=!1,Ou=As=Ug=vc=ol=ti=0,Pr=of=null,$g=!1,(c&8)!==0&&(c|=c&32);var v=a.entangledLanes;if(v!==0)for(a=a.entanglements,v&=c;0<v;){var A=31-Lt(v),I=1<<A;c|=a[A],v&=~I}return ro=c,Gh(),m}function B_(a,c){zt=null,Q.H=up,c===$d||c===ep?(c=Qv(),vn=3):c===Yv?(c=Qv(),vn=4):vn=c===Jw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ns=c,Yt===null&&(ti=1,mp(a,ws(c,a.current)))}function L_(){var a=Q.H;return Q.H=up,a===null?up:a}function j_(){var a=Q.A;return Q.A=X5,a}function Yg(){ti=4,al||(rn&4194048)!==rn&&Es.current!==null||(Mu=!0),(ol&134217727)===0&&(vc&134217727)===0||On===null||ul(On,rn,As,!1)}function Kg(a,c,m){var v=bn;bn|=2;var A=L_(),I=j_();(On!==a||rn!==c)&&(_p=null,Bu(a,c)),c=!1;var H=ti;e:do try{if(vn!==0&&Yt!==null){var W=Yt,J=ns;switch(vn){case 8:Xg(),H=6;break e;case 3:case 2:case 9:case 6:Es.current===null&&(c=!0);var me=vn;if(vn=0,ns=null,Lu(a,W,J,me),m&&Mu){H=0;break e}break;default:me=vn,vn=0,ns=null,Lu(a,W,J,me)}}Z5(),H=ti;break}catch(Ne){B_(a,Ne)}while(!0);return c&&a.shellSuspendCounter++,Ka=pc=null,bn=v,Q.H=A,Q.A=I,Yt===null&&(On=null,rn=0,Gh()),H}function Z5(){for(;Yt!==null;)P_(Yt)}function Q5(a,c){var m=bn;bn|=2;var v=L_(),A=j_();On!==a||rn!==c?(_p=null,wp=$t()+500,Bu(a,c)):Mu=Wt(a,c);e:do try{if(vn!==0&&Yt!==null){c=Yt;var I=ns;t:switch(vn){case 1:vn=0,ns=null,Lu(a,c,I,1);break;case 2:case 9:if(Kv(I)){vn=0,ns=null,F_(c);break}c=function(){vn!==2&&vn!==9||On!==a||(vn=7),wa(a)},I.then(c,c);break e;case 3:vn=7;break e;case 4:vn=5;break e;case 7:Kv(I)?(vn=0,ns=null,F_(c)):(vn=0,ns=null,Lu(a,c,I,7));break;case 5:var H=null;switch(Yt.tag){case 26:H=Yt.memoizedState;case 5:case 27:var W=Yt;if(!H||vC(H)){vn=0,ns=null;var J=W.sibling;if(J!==null)Yt=J;else{var me=W.return;me!==null?(Yt=me,Sp(me)):Yt=null}break t}}vn=0,ns=null,Lu(a,c,I,5);break;case 6:vn=0,ns=null,Lu(a,c,I,6);break;case 8:Xg(),ti=6;break e;default:throw Error(i(462))}}J5();break}catch(Ne){B_(a,Ne)}while(!0);return Ka=pc=null,Q.H=v,Q.A=A,bn=m,Yt!==null?0:(On=null,rn=0,Gh(),ti)}function J5(){for(;Yt!==null&&!qi();)P_(Yt)}function P_(a){var c=d_(a.alternate,a,ro);a.memoizedProps=a.pendingProps,c===null?Sp(a):Yt=c}function F_(a){var c=a,m=c.alternate;switch(c.tag){case 15:case 0:c=s_(m,c,c.pendingProps,c.type,void 0,rn);break;case 11:c=s_(m,c,c.pendingProps,c.type.render,c.ref,rn);break;case 5:dg(c);default:h_(m,c),c=Yt=zv(c,ro),c=d_(m,c,ro)}a.memoizedProps=a.pendingProps,c===null?Sp(a):Yt=c}function Lu(a,c,m,v){Ka=pc=null,dg(c),Tu=null,Qd=0;var A=c.return;try{if(U5(a,A,c,m,rn)){ti=1,mp(a,ws(m,a.current)),Yt=null;return}}catch(I){if(A!==null)throw Yt=A,I;ti=1,mp(a,ws(m,a.current)),Yt=null;return}c.flags&32768?(un||v===1?a=!0:Mu||(rn&536870912)!==0?a=!1:(al=a=!0,(v===2||v===9||v===3||v===6)&&(v=Es.current,v!==null&&v.tag===13&&(v.flags|=16384))),z_(c,a)):Sp(c)}function Sp(a){var c=a;do{if((c.flags&32768)!==0){z_(c,al);return}a=c.return;var m=V5(c.alternate,c,ro);if(m!==null){Yt=m;return}if(c=c.sibling,c!==null){Yt=c;return}Yt=c=a}while(c!==null);ti===0&&(ti=5)}function z_(a,c){do{var m=G5(a.alternate,a);if(m!==null){m.flags&=32767,Yt=m;return}if(m=a.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(a=a.sibling,a!==null)){Yt=a;return}Yt=a=m}while(a!==null);ti=6,Yt=null}function H_(a,c,m,v,A,I,H,W,J){a.cancelPendingCommit=null;do Ep();while(Ki!==0);if((bn&6)!==0)throw Error(i(327));if(c!==null){if(c===a.current)throw Error(i(177));if(I=c.lanes|c.childLanes,I|=z0,Jl(a,m,I,H,W,J),a===On&&(Yt=On=null,rn=0),Ru=c,cl=a,Du=m,Gg=I,qg=A,M_=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,iI(We,function(){return q_(),null})):(a.callbackNode=null,a.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=Q.T,Q.T=null,A=le.p,le.p=2,H=bn,bn|=4;try{q5(a,c,m)}finally{bn=H,le.p=A,Q.T=v}}Ki=1,U_(),$_(),V_()}}function U_(){if(Ki===1){Ki=0;var a=cl,c=Ru,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=Q.T,Q.T=null;var v=le.p;le.p=2;var A=bn;bn|=4;try{S_(c,a);var I=lx,H=O(a.containerInfo),W=I.focusedElem,J=I.selectionRange;if(H!==W&&W&&W.ownerDocument&&N(W.ownerDocument.documentElement,W)){if(J!==null&&F(W)){var me=J.start,Ne=J.end;if(Ne===void 0&&(Ne=me),"selectionStart"in W)W.selectionStart=me,W.selectionEnd=Math.min(Ne,W.value.length);else{var De=W.ownerDocument||document,ye=De&&De.defaultView||window;if(ye.getSelection){var ve=ye.getSelection(),bt=W.textContent.length,xt=Math.min(J.start,bt),Tn=J.end===void 0?xt:Math.min(J.end,bt);!ve.extend&&xt>Tn&&(H=Tn,Tn=xt,xt=H);var ce=C(W,xt),ae=C(W,Tn);if(ce&&ae&&(ve.rangeCount!==1||ve.anchorNode!==ce.node||ve.anchorOffset!==ce.offset||ve.focusNode!==ae.node||ve.focusOffset!==ae.offset)){var pe=De.createRange();pe.setStart(ce.node,ce.offset),ve.removeAllRanges(),xt>Tn?(ve.addRange(pe),ve.extend(ae.node,ae.offset)):(pe.setEnd(ae.node,ae.offset),ve.addRange(pe))}}}}for(De=[],ve=W;ve=ve.parentNode;)ve.nodeType===1&&De.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<De.length;W++){var Me=De[W];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}jp=!!ox,lx=ox=null}finally{bn=A,le.p=v,Q.T=m}}a.current=c,Ki=2}}function $_(){if(Ki===2){Ki=0;var a=cl,c=Ru,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=Q.T,Q.T=null;var v=le.p;le.p=2;var A=bn;bn|=4;try{v_(a,c.alternate,c)}finally{bn=A,le.p=v,Q.T=m}}Ki=3}}function V_(){if(Ki===4||Ki===3){Ki=0,xs();var a=cl,c=Ru,m=Du,v=M_;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ki=5:(Ki=0,Ru=cl=null,G_(a,a.pendingLanes));var A=a.pendingLanes;if(A===0&&(ll=null),Qn(m),c=c.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(vt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=Q.T,A=le.p,le.p=2,Q.T=null;try{for(var I=a.onRecoverableError,H=0;H<v.length;H++){var W=v[H];I(W.value,{componentStack:W.stack})}}finally{Q.T=c,le.p=A}}(Du&3)!==0&&Ep(),wa(a),A=a.pendingLanes,(m&4194090)!==0&&(A&42)!==0?a===Wg?lf++:(lf=0,Wg=a):lf=0,cf(0)}}function G_(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,Hd(c)))}function Ep(a){return U_(),$_(),V_(),q_()}function q_(){if(Ki!==5)return!1;var a=cl,c=Gg;Gg=0;var m=Qn(Du),v=Q.T,A=le.p;try{le.p=32>m?32:m,Q.T=null,m=qg,qg=null;var I=cl,H=Du;if(Ki=0,Ru=cl=null,Du=0,(bn&6)!==0)throw Error(i(331));var W=bn;if(bn|=4,I_(I.current),A_(I,I.current,H,m),bn=W,cf(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(vt,I)}catch{}return!0}finally{le.p=A,Q.T=v,G_(a,c)}}function W_(a,c,m){c=ws(m,c),c=Eg(a.stateNode,c,2),a=Jo(a,c,2),a!==null&&(gr(a,2),wa(a))}function In(a,c,m){if(a.tag===3)W_(a,a,m);else for(;c!==null;){if(c.tag===3){W_(c,a,m);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ll===null||!ll.has(v))){a=ws(m,a),m=Zw(2),v=Jo(c,m,2),v!==null&&(Qw(m,v,c,a),gr(v,2),wa(v));break}}c=c.return}}function Zg(a,c,m){var v=a.pingCache;if(v===null){v=a.pingCache=new Y5;var A=new Set;v.set(c,A)}else A=v.get(c),A===void 0&&(A=new Set,v.set(c,A));A.has(m)||(Hg=!0,A.add(m),a=eI.bind(null,a,c,m),c.then(a,a))}function eI(a,c,m){var v=a.pingCache;v!==null&&v.delete(c),a.pingedLanes|=a.suspendedLanes&m,a.warmLanes&=~m,On===a&&(rn&m)===m&&(ti===4||ti===3&&(rn&62914560)===rn&&300>$t()-Vg?(bn&2)===0&&Bu(a,0):Ug|=m,Ou===rn&&(Ou=0)),wa(a)}function X_(a,c){c===0&&(c=Ql()),a=xu(a,c),a!==null&&(gr(a,c),wa(a))}function tI(a){var c=a.memoizedState,m=0;c!==null&&(m=c.retryLane),X_(a,m)}function nI(a,c){var m=0;switch(a.tag){case 13:var v=a.stateNode,A=a.memoizedState;A!==null&&(m=A.retryLane);break;case 19:v=a.stateNode;break;case 22:v=a.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(c),X_(a,m)}function iI(a,c){return Ot(a,c)}var Ap=null,ju=null,Qg=!1,Tp=!1,Jg=!1,wc=0;function wa(a){a!==ju&&a.next===null&&(ju===null?Ap=ju=a:ju=ju.next=a),Tp=!0,Qg||(Qg=!0,sI())}function cf(a,c){if(!Jg&&Tp){Jg=!0;do for(var m=!1,v=Ap;v!==null;){if(a!==0){var A=v.pendingLanes;if(A===0)var I=0;else{var H=v.suspendedLanes,W=v.pingedLanes;I=(1<<31-Lt(42|a)+1)-1,I&=A&~(H&~W),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(m=!0,Q_(v,I))}else I=rn,I=jt(v,v===On?I:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(I&3)===0||Wt(v,I)||(m=!0,Q_(v,I));v=v.next}while(m);Jg=!1}}function rI(){Y_()}function Y_(){Tp=Qg=!1;var a=0;wc!==0&&(hI()&&(a=wc),wc=0);for(var c=$t(),m=null,v=Ap;v!==null;){var A=v.next,I=K_(v,c);I===0?(v.next=null,m===null?Ap=A:m.next=A,A===null&&(ju=m)):(m=v,(a!==0||(I&3)!==0)&&(Tp=!0)),v=A}cf(a)}function K_(a,c){for(var m=a.suspendedLanes,v=a.pingedLanes,A=a.expirationTimes,I=a.pendingLanes&-62914561;0<I;){var H=31-Lt(I),W=1<<H,J=A[H];J===-1?((W&m)===0||(W&v)!==0)&&(A[H]=Rr(W,c)):J<=c&&(a.expiredLanes|=W),I&=~W}if(c=On,m=rn,m=jt(a,a===c?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v=a.callbackNode,m===0||a===c&&(vn===2||vn===9)||a.cancelPendingCommit!==null)return v!==null&&v!==null&&li(v),a.callbackNode=null,a.callbackPriority=0;if((m&3)===0||Wt(a,m)){if(c=m&-m,c===a.callbackPriority)return c;switch(v!==null&&li(v),Qn(m)){case 2:case 8:m=Or;break;case 32:m=We;break;case 268435456:m=Xr;break;default:m=We}return v=Z_.bind(null,a),m=Ot(m,v),a.callbackPriority=c,a.callbackNode=m,c}return v!==null&&v!==null&&li(v),a.callbackPriority=2,a.callbackNode=null,2}function Z_(a,c){if(Ki!==0&&Ki!==5)return a.callbackNode=null,a.callbackPriority=0,null;var m=a.callbackNode;if(Ep()&&a.callbackNode!==m)return null;var v=rn;return v=jt(a,a===On?v:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v===0?null:(R_(a,v,c),K_(a,$t()),a.callbackNode!=null&&a.callbackNode===m?Z_.bind(null,a):null)}function Q_(a,c){if(Ep())return null;R_(a,c,!0)}function sI(){mI(function(){(bn&6)!==0?Ot(At,rI):Y_()})}function ex(){return wc===0&&(wc=ys()),wc}function J_(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:lu(""+a)}function eC(a,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,a.id&&m.setAttribute("form",a.id),c.parentNode.insertBefore(m,c),a=new FormData(a),m.parentNode.removeChild(m),a}function aI(a,c,m,v,A){if(c==="submit"&&m&&m.stateNode===A){var I=J_((A[Fe]||null).action),H=v.submitter;H&&(c=(c=H[Fe]||null)?J_(c.formAction):H.getAttribute("formAction"),c!==null&&(I=c,H=null));var W=new ha("action","action",null,v,A);a.push({event:W,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(wc!==0){var J=H?eC(A,H):new FormData(A);vg(m,{pending:!0,data:J,method:A.method,action:I},null,J)}}else typeof I=="function"&&(W.preventDefault(),J=H?eC(A,H):new FormData(A),vg(m,{pending:!0,data:J,method:A.method,action:I},I,J))},currentTarget:A}]})}}for(var tx=0;tx<ga.length;tx++){var nx=ga[tx],oI=nx.toLowerCase(),lI=nx[0].toUpperCase()+nx.slice(1);Qr(oI,"on"+lI)}Qr(Ct,"onAnimationEnd"),Qr(Xi,"onAnimationIteration"),Qr(Br,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(rr,"onTransitionRun"),Qr(yn,"onTransitionStart"),Qr(Mi,"onTransitionCancel"),Qr(sr,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uf));function tC(a,c){c=(c&4)!==0;for(var m=0;m<a.length;m++){var v=a[m],A=v.event;v=v.listeners;e:{var I=void 0;if(c)for(var H=v.length-1;0<=H;H--){var W=v[H],J=W.instance,me=W.currentTarget;if(W=W.listener,J!==I&&A.isPropagationStopped())break e;I=W,A.currentTarget=me;try{I(A)}catch(Ne){pp(Ne)}A.currentTarget=null,I=J}else for(H=0;H<v.length;H++){if(W=v[H],J=W.instance,me=W.currentTarget,W=W.listener,J!==I&&A.isPropagationStopped())break e;I=W,A.currentTarget=me;try{I(A)}catch(Ne){pp(Ne)}A.currentTarget=null,I=J}}}}function Kt(a,c){var m=c[Qe];m===void 0&&(m=c[Qe]=new Set);var v=a+"__bubble";m.has(v)||(nC(c,a,2,!1),m.add(v))}function ix(a,c,m){var v=0;c&&(v|=4),nC(m,a,v,c)}var Np="_reactListening"+Math.random().toString(36).slice(2);function rx(a){if(!a[Np]){a[Np]=!0,Xt.forEach(function(m){m!=="selectionchange"&&(cI.has(m)||ix(m,!1,a),ix(m,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Np]||(c[Np]=!0,ix("selectionchange",!1,c))}}function nC(a,c,m,v){switch(AC(c)){case 2:var A=LI;break;case 8:A=jI;break;default:A=yx}m=A.bind(null,c,m,a),A=void 0,!St||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),v?A!==void 0?a.addEventListener(c,m,{capture:!0,passive:A}):a.addEventListener(c,m,!0):A!==void 0?a.addEventListener(c,m,{passive:A}):a.addEventListener(c,m,!1)}function sx(a,c,m,v,A){var I=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var H=v.tag;if(H===3||H===4){var W=v.stateNode.containerInfo;if(W===A)break;if(H===4)for(H=v.return;H!==null;){var J=H.tag;if((J===3||J===4)&&H.stateNode.containerInfo===A)return;H=H.return}for(;W!==null;){if(H=tt(W),H===null)return;if(J=H.tag,J===5||J===6||J===26||J===27){v=I=H;continue e}W=W.parentNode}}v=v.return}Vs(function(){var me=I,Ne=Fo(m),De=[];e:{var ye=qa.get(a);if(ye!==void 0){var ve=ha,bt=a;switch(a){case"keypress":if(cu(m)===0)break e;case"keydown":case"keyup":ve=Md;break;case"focusin":bt="focus",ve=$o;break;case"focusout":bt="blur",ve=$o;break;case"beforeblur":case"afterblur":ve=$o;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=xn;break;case Ct:case Xi:case Br:ve=O0;break;case sr:ve=L0;break;case"scroll":case"scrollend":ve=nr;break;case"wheel":ve=Va;break;case"copy":case"cut":case"paste":ve=kt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=sc;break;case"toggle":case"beforetoggle":ve=j0}var xt=(c&4)!==0,Tn=!xt&&(a==="scroll"||a==="scrollend"),ce=xt?ye!==null?ye+"Capture":null:ye;xt=[];for(var ae=me,pe;ae!==null;){var Me=ae;if(pe=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||pe===null||ce===null||(Me=ft(ae,ce),Me!=null&&xt.push(df(ae,Me,pe))),Tn)break;ae=ae.return}0<xt.length&&(ye=new ve(ye,bt,null,m,Ne),De.push({event:ye,listeners:xt}))}}if((c&7)===0){e:{if(ye=a==="mouseover"||a==="pointerover",ve=a==="mouseout"||a==="pointerout",ye&&m!==ec&&(bt=m.relatedTarget||m.fromElement)&&(tt(bt)||bt[Ze]))break e;if((ve||ye)&&(ye=Ne.window===Ne?Ne:(ye=Ne.ownerDocument)?ye.defaultView||ye.parentWindow:window,ve?(bt=m.relatedTarget||m.toElement,ve=me,bt=bt?tt(bt):null,bt!==null&&(Tn=s(bt),xt=bt.tag,bt!==Tn||xt!==5&&xt!==27&&xt!==6)&&(bt=null)):(ve=null,bt=me),ve!==bt)){if(xt=Fh,Me="onMouseLeave",ce="onMouseEnter",ae="mouse",(a==="pointerout"||a==="pointerover")&&(xt=sc,Me="onPointerLeave",ce="onPointerEnter",ae="pointer"),Tn=ve==null?ye:fn(ve),pe=bt==null?ye:fn(bt),ye=new xt(Me,ae+"leave",ve,m,Ne),ye.target=Tn,ye.relatedTarget=pe,Me=null,tt(Ne)===me&&(xt=new xt(ce,ae+"enter",bt,m,Ne),xt.target=pe,xt.relatedTarget=Tn,Me=xt),Tn=Me,ve&&bt)t:{for(xt=ve,ce=bt,ae=0,pe=xt;pe;pe=Pu(pe))ae++;for(pe=0,Me=ce;Me;Me=Pu(Me))pe++;for(;0<ae-pe;)xt=Pu(xt),ae--;for(;0<pe-ae;)ce=Pu(ce),pe--;for(;ae--;){if(xt===ce||ce!==null&&xt===ce.alternate)break t;xt=Pu(xt),ce=Pu(ce)}xt=null}else xt=null;ve!==null&&iC(De,ye,ve,xt,!1),bt!==null&&Tn!==null&&iC(De,Tn,bt,xt,!0)}}e:{if(ye=me?fn(me):window,ve=ye.nodeName&&ye.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ye.type==="file")var Je=$h;else if(lc(ye))if(Bd)Je=u;else{Je=$;var Gt=mu}else ve=ye.nodeName,!ve||ve.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?me&&ct(me.elementType)&&(Je=$h):Je=o;if(Je&&(Je=Je(a,me))){yr(De,Je,m,Ne);break e}Gt&&Gt(a,ye,me),a==="focusout"&&me&&ye.type==="number"&&me.memoizedProps.value!=null&&he(ye,"number",ye.value)}switch(Gt=me?fn(me):window,a){case"focusin":(lc(Gt)||Gt.contentEditable==="true")&&(q=Gt,Z=me,ie=null);break;case"focusout":ie=Z=q=null;break;case"mousedown":se=!0;break;case"contextmenu":case"mouseup":case"dragend":se=!1,fe(De,m,Ne);break;case"selectionchange":if(V)break;case"keydown":case"keyup":fe(De,m,Ne)}var ut;if(ac)e:{switch(a){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else qo?Ga(a,m)&&(yt="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(yt="onCompositionStart");yt&&(Rd&&m.locale!=="ko"&&(qo||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&qo&&(ut=ua()):(ca=Ne,tc="value"in ca?ca.value:ca.textContent,qo=!0)),Gt=Ip(me,yt),0<Gt.length&&(yt=new ic(yt,a,null,m,Ne),De.push({event:yt,listeners:Gt}),ut?yt.data=ut:(ut=hu(m),ut!==null&&(yt.data=ut)))),(ut=Od?oc(a,m):P0(a,m))&&(yt=Ip(me,"onBeforeInput"),0<yt.length&&(Gt=new ic("onBeforeInput","beforeinput",null,m,Ne),De.push({event:Gt,listeners:yt}),Gt.data=ut)),aI(De,a,me,m,Ne)}tC(De,c)})}function df(a,c,m){return{instance:a,listener:c,currentTarget:m}}function Ip(a,c){for(var m=c+"Capture",v=[];a!==null;){var A=a,I=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||I===null||(A=ft(a,m),A!=null&&v.unshift(df(a,A,I)),A=ft(a,c),A!=null&&v.push(df(a,A,I))),a.tag===3)return v;a=a.return}return[]}function Pu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function iC(a,c,m,v,A){for(var I=c._reactName,H=[];m!==null&&m!==v;){var W=m,J=W.alternate,me=W.stateNode;if(W=W.tag,J!==null&&J===v)break;W!==5&&W!==26&&W!==27||me===null||(J=me,A?(me=ft(m,I),me!=null&&H.unshift(df(m,me,J))):A||(me=ft(m,I),me!=null&&H.push(df(m,me,J)))),m=m.return}H.length!==0&&a.push({event:c,listeners:H})}var uI=/\r\n?/g,dI=/\u0000|\uFFFD/g;function rC(a){return(typeof a=="string"?a:""+a).replace(uI,`
`).replace(dI,"")}function sC(a,c){return c=rC(c),rC(a)===c}function kp(){}function An(a,c,m,v,A,I){switch(m){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Ii(a,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Ii(a,""+v);break;case"className":$s(a,"class",v);break;case"tabIndex":$s(a,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":$s(a,m,v);break;case"style":xr(a,v,I);break;case"data":if(c!=="object"){$s(a,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||m!=="href")){a.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(m);break}v=lu(""+v),a.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){a.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(m==="formAction"?(c!=="input"&&An(a,c,"name",A.name,A,null),An(a,c,"formEncType",A.formEncType,A,null),An(a,c,"formMethod",A.formMethod,A,null),An(a,c,"formTarget",A.formTarget,A,null)):(An(a,c,"encType",A.encType,A,null),An(a,c,"method",A.method,A,null),An(a,c,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(m);break}v=lu(""+v),a.setAttribute(m,v);break;case"onClick":v!=null&&(a.onclick=kp);break;case"onScroll":v!=null&&Kt("scroll",a);break;case"onScrollEnd":v!=null&&Kt("scrollend",a);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(m=v.__html,m!=null){if(A.children!=null)throw Error(i(60));a.innerHTML=m}}break;case"multiple":a.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":a.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){a.removeAttribute("xlink:href");break}m=lu(""+v),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(m,""+v):a.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(m,""):a.removeAttribute(m);break;case"capture":case"download":v===!0?a.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(m,v):a.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?a.setAttribute(m,v):a.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?a.removeAttribute(m):a.setAttribute(m,v);break;case"popover":Kt("beforetoggle",a),Kt("toggle",a),Ie(a,"popover",v);break;case"xlinkActuate":it(a,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":it(a,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":it(a,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":it(a,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":it(a,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":it(a,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":it(a,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":it(a,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":it(a,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Ie(a,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Dn.get(m)||m,Ie(a,m,v))}}function ax(a,c,m,v,A,I){switch(m){case"style":xr(a,v,I);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(m=v.__html,m!=null){if(A.children!=null)throw Error(i(60));a.innerHTML=m}}break;case"children":typeof v=="string"?Ii(a,v):(typeof v=="number"||typeof v=="bigint")&&Ii(a,""+v);break;case"onScroll":v!=null&&Kt("scroll",a);break;case"onScrollEnd":v!=null&&Kt("scrollend",a);break;case"onClick":v!=null&&(a.onclick=kp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(A=m.endsWith("Capture"),c=m.slice(2,A?m.length-7:void 0),I=a[Fe]||null,I=I!=null?I[m]:null,typeof I=="function"&&a.removeEventListener(c,I,A),typeof v=="function")){typeof I!="function"&&I!==null&&(m in a?a[m]=null:a.hasAttribute(m)&&a.removeAttribute(m)),a.addEventListener(c,v,A);break e}m in a?a[m]=v:v===!0?a.setAttribute(m,""):Ie(a,m,v)}}}function Zi(a,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",a),Kt("load",a);var v=!1,A=!1,I;for(I in m)if(m.hasOwnProperty(I)){var H=m[I];if(H!=null)switch(I){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:An(a,c,I,H,m,null)}}A&&An(a,c,"srcSet",m.srcSet,m,null),v&&An(a,c,"src",m.src,m,null);return;case"input":Kt("invalid",a);var W=I=H=A=null,J=null,me=null;for(v in m)if(m.hasOwnProperty(v)){var Ne=m[v];if(Ne!=null)switch(v){case"name":A=Ne;break;case"type":H=Ne;break;case"checked":J=Ne;break;case"defaultChecked":me=Ne;break;case"value":I=Ne;break;case"defaultValue":W=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(i(137,c));break;default:An(a,c,v,Ne,m,null)}}Ni(a,I,W,J,me,H,A,!1),au(a);return;case"select":Kt("invalid",a),v=H=I=null;for(A in m)if(m.hasOwnProperty(A)&&(W=m[A],W!=null))switch(A){case"value":I=W;break;case"defaultValue":H=W;break;case"multiple":v=W;default:An(a,c,A,W,m,null)}c=I,m=H,a.multiple=!!v,c!=null?Y(a,!!v,c,!1):m!=null&&Y(a,!!v,m,!0);return;case"textarea":Kt("invalid",a),I=A=v=null;for(H in m)if(m.hasOwnProperty(H)&&(W=m[H],W!=null))switch(H){case"value":v=W;break;case"defaultValue":A=W;break;case"children":I=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(91));break;default:An(a,c,H,W,m,null)}ci(a,v,A,I),au(a);return;case"option":for(J in m)if(m.hasOwnProperty(J)&&(v=m[J],v!=null))switch(J){case"selected":a.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:An(a,c,J,v,m,null)}return;case"dialog":Kt("beforetoggle",a),Kt("toggle",a),Kt("cancel",a),Kt("close",a);break;case"iframe":case"object":Kt("load",a);break;case"video":case"audio":for(v=0;v<uf.length;v++)Kt(uf[v],a);break;case"image":Kt("error",a),Kt("load",a);break;case"details":Kt("toggle",a);break;case"embed":case"source":case"link":Kt("error",a),Kt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in m)if(m.hasOwnProperty(me)&&(v=m[me],v!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:An(a,c,me,v,m,null)}return;default:if(ct(c)){for(Ne in m)m.hasOwnProperty(Ne)&&(v=m[Ne],v!==void 0&&ax(a,c,Ne,v,m,void 0));return}}for(W in m)m.hasOwnProperty(W)&&(v=m[W],v!=null&&An(a,c,W,v,m,null))}function fI(a,c,m,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,I=null,H=null,W=null,J=null,me=null,Ne=null;for(ve in m){var De=m[ve];if(m.hasOwnProperty(ve)&&De!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":J=De;default:v.hasOwnProperty(ve)||An(a,c,ve,null,v,De)}}for(var ye in v){var ve=v[ye];if(De=m[ye],v.hasOwnProperty(ye)&&(ve!=null||De!=null))switch(ye){case"type":I=ve;break;case"name":A=ve;break;case"checked":me=ve;break;case"defaultChecked":Ne=ve;break;case"value":H=ve;break;case"defaultValue":W=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,c));break;default:ve!==De&&An(a,c,ye,ve,v,De)}}hn(a,H,W,J,me,Ne,I,A);return;case"select":ve=H=W=ye=null;for(I in m)if(J=m[I],m.hasOwnProperty(I)&&J!=null)switch(I){case"value":break;case"multiple":ve=J;default:v.hasOwnProperty(I)||An(a,c,I,null,v,J)}for(A in v)if(I=v[A],J=m[A],v.hasOwnProperty(A)&&(I!=null||J!=null))switch(A){case"value":ye=I;break;case"defaultValue":W=I;break;case"multiple":H=I;default:I!==J&&An(a,c,A,I,v,J)}c=W,m=H,v=ve,ye!=null?Y(a,!!m,ye,!1):!!v!=!!m&&(c!=null?Y(a,!!m,c,!0):Y(a,!!m,m?[]:"",!1));return;case"textarea":ve=ye=null;for(W in m)if(A=m[W],m.hasOwnProperty(W)&&A!=null&&!v.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:An(a,c,W,null,v,A)}for(H in v)if(A=v[H],I=m[H],v.hasOwnProperty(H)&&(A!=null||I!=null))switch(H){case"value":ye=A;break;case"defaultValue":ve=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:A!==I&&An(a,c,H,A,v,I)}st(a,ye,ve);return;case"option":for(var bt in m)if(ye=m[bt],m.hasOwnProperty(bt)&&ye!=null&&!v.hasOwnProperty(bt))switch(bt){case"selected":a.selected=!1;break;default:An(a,c,bt,null,v,ye)}for(J in v)if(ye=v[J],ve=m[J],v.hasOwnProperty(J)&&ye!==ve&&(ye!=null||ve!=null))switch(J){case"selected":a.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:An(a,c,J,ye,v,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in m)ye=m[xt],m.hasOwnProperty(xt)&&ye!=null&&!v.hasOwnProperty(xt)&&An(a,c,xt,null,v,ye);for(me in v)if(ye=v[me],ve=m[me],v.hasOwnProperty(me)&&ye!==ve&&(ye!=null||ve!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,c));break;default:An(a,c,me,ye,v,ve)}return;default:if(ct(c)){for(var Tn in m)ye=m[Tn],m.hasOwnProperty(Tn)&&ye!==void 0&&!v.hasOwnProperty(Tn)&&ax(a,c,Tn,void 0,v,ye);for(Ne in v)ye=v[Ne],ve=m[Ne],!v.hasOwnProperty(Ne)||ye===ve||ye===void 0&&ve===void 0||ax(a,c,Ne,ye,v,ve);return}}for(var ce in m)ye=m[ce],m.hasOwnProperty(ce)&&ye!=null&&!v.hasOwnProperty(ce)&&An(a,c,ce,null,v,ye);for(De in v)ye=v[De],ve=m[De],!v.hasOwnProperty(De)||ye===ve||ye==null&&ve==null||An(a,c,De,ye,v,ve)}var ox=null,lx=null;function Mp(a){return a.nodeType===9?a:a.ownerDocument}function aC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oC(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function cx(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var ux=null;function hI(){var a=window.event;return a&&a.type==="popstate"?a===ux?!1:(ux=a,!0):(ux=null,!1)}var lC=typeof setTimeout=="function"?setTimeout:void 0,pI=typeof clearTimeout=="function"?clearTimeout:void 0,cC=typeof Promise=="function"?Promise:void 0,mI=typeof queueMicrotask=="function"?queueMicrotask:typeof cC<"u"?function(a){return cC.resolve(null).then(a).catch(gI)}:lC;function gI(a){setTimeout(function(){throw a})}function dl(a){return a==="head"}function uC(a,c){var m=c,v=0,A=0;do{var I=m.nextSibling;if(a.removeChild(m),I&&I.nodeType===8)if(m=I.data,m==="/$"){if(0<v&&8>v){m=v;var H=a.ownerDocument;if(m&1&&ff(H.documentElement),m&2&&ff(H.body),m&4)for(m=H.head,ff(m),H=m.firstChild;H;){var W=H.nextSibling,J=H.nodeName;H[dt]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&H.rel.toLowerCase()==="stylesheet"||m.removeChild(H),H=W}}if(A===0){a.removeChild(I),vf(c);return}A--}else m==="$"||m==="$?"||m==="$!"?A++:v=m.charCodeAt(0)-48;else v=0;m=I}while(m);vf(c)}function dx(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":dx(m),nt(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}a.removeChild(m)}}function xI(a,c,m,v){for(;a.nodeType===1;){var A=m;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(v){if(!a[dt])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(I=a.getAttribute("rel"),I==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(I!==A.rel||a.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||a.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||a.getAttribute("title")!==(A.title==null?null:A.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(I=a.getAttribute("src"),(I!==(A.src==null?null:A.src)||a.getAttribute("type")!==(A.type==null?null:A.type)||a.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&I&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var I=A.name==null?null:""+A.name;if(A.type==="hidden"&&a.getAttribute("name")===I)return a}else return a;if(a=Xs(a.nextSibling),a===null)break}return null}function yI(a,c,m){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!m||(a=Xs(a.nextSibling),a===null))return null;return a}function fx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function bI(a,c){var m=a.ownerDocument;if(a.data!=="$?"||m.readyState==="complete")c();else{var v=function(){c(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),a._reactRetry=v}}function Xs(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var hx=null;function dC(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return a;c--}else m==="/$"&&c++}a=a.previousSibling}return null}function fC(a,c,m){switch(c=Mp(m),a){case"html":if(a=c.documentElement,!a)throw Error(i(452));return a;case"head":if(a=c.head,!a)throw Error(i(453));return a;case"body":if(a=c.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function ff(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);nt(a)}var Ts=new Map,hC=new Set;function Op(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var so=le.d;le.d={f:vI,r:wI,D:_I,C:CI,L:SI,m:EI,X:TI,S:AI,M:NI};function vI(){var a=so.f(),c=Cp();return a||c}function wI(a){var c=Rt(a);c!==null&&c.tag===5&&c.type==="form"?Rw(c):so.r(a)}var Fu=typeof document>"u"?null:document;function pC(a,c,m){var v=Fu;if(v&&typeof c=="string"&&c){var A=Ti(c);A='link[rel="'+a+'"][href="'+A+'"]',typeof m=="string"&&(A+='[crossorigin="'+m+'"]'),hC.has(A)||(hC.add(A),a={rel:a,crossOrigin:m,href:c},v.querySelector(A)===null&&(c=v.createElement("link"),Zi(c,"link",a),Tt(c),v.head.appendChild(c)))}}function _I(a){so.D(a),pC("dns-prefetch",a,null)}function CI(a,c){so.C(a,c),pC("preconnect",a,c)}function SI(a,c,m){so.L(a,c,m);var v=Fu;if(v&&a&&c){var A='link[rel="preload"][as="'+Ti(c)+'"]';c==="image"&&m&&m.imageSrcSet?(A+='[imagesrcset="'+Ti(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(A+='[imagesizes="'+Ti(m.imageSizes)+'"]')):A+='[href="'+Ti(a)+'"]';var I=A;switch(c){case"style":I=zu(a);break;case"script":I=Hu(a)}Ts.has(I)||(a=b({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:a,as:c},m),Ts.set(I,a),v.querySelector(A)!==null||c==="style"&&v.querySelector(hf(I))||c==="script"&&v.querySelector(pf(I))||(c=v.createElement("link"),Zi(c,"link",a),Tt(c),v.head.appendChild(c)))}}function EI(a,c){so.m(a,c);var m=Fu;if(m&&a){var v=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+Ti(v)+'"][href="'+Ti(a)+'"]',I=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=Hu(a)}if(!Ts.has(I)&&(a=b({rel:"modulepreload",href:a},c),Ts.set(I,a),m.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(pf(I)))return}v=m.createElement("link"),Zi(v,"link",a),Tt(v),m.head.appendChild(v)}}}function AI(a,c,m){so.S(a,c,m);var v=Fu;if(v&&a){var A=Cn(v).hoistableStyles,I=zu(a);c=c||"default";var H=A.get(I);if(!H){var W={loading:0,preload:null};if(H=v.querySelector(hf(I)))W.loading=5;else{a=b({rel:"stylesheet",href:a,"data-precedence":c},m),(m=Ts.get(I))&&px(a,m);var J=H=v.createElement("link");Tt(J),Zi(J,"link",a),J._p=new Promise(function(me,Ne){J.onload=me,J.onerror=Ne}),J.addEventListener("load",function(){W.loading|=1}),J.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Rp(H,c,v)}H={type:"stylesheet",instance:H,count:1,state:W},A.set(I,H)}}}function TI(a,c){so.X(a,c);var m=Fu;if(m&&a){var v=Cn(m).hoistableScripts,A=Hu(a),I=v.get(A);I||(I=m.querySelector(pf(A)),I||(a=b({src:a,async:!0},c),(c=Ts.get(A))&&mx(a,c),I=m.createElement("script"),Tt(I),Zi(I,"link",a),m.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(A,I))}}function NI(a,c){so.M(a,c);var m=Fu;if(m&&a){var v=Cn(m).hoistableScripts,A=Hu(a),I=v.get(A);I||(I=m.querySelector(pf(A)),I||(a=b({src:a,async:!0,type:"module"},c),(c=Ts.get(A))&&mx(a,c),I=m.createElement("script"),Tt(I),Zi(I,"link",a),m.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(A,I))}}function mC(a,c,m,v){var A=(A=Ae.current)?Op(A):null;if(!A)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=zu(m.href),m=Cn(A).hoistableStyles,v=m.get(c),v||(v={type:"style",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){a=zu(m.href);var I=Cn(A).hoistableStyles,H=I.get(a);if(H||(A=A.ownerDocument||A,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(a,H),(I=A.querySelector(hf(a)))&&!I._p&&(H.instance=I,H.state.loading=5),Ts.has(a)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Ts.set(a,m),I||II(A,a,m,H.state))),c&&v===null)throw Error(i(528,""));return H}if(c&&v!==null)throw Error(i(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Hu(m),m=Cn(A).hoistableScripts,v=m.get(c),v||(v={type:"script",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function zu(a){return'href="'+Ti(a)+'"'}function hf(a){return'link[rel="stylesheet"]['+a+"]"}function gC(a){return b({},a,{"data-precedence":a.precedence,precedence:null})}function II(a,c,m,v){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=a.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),Zi(c,"link",m),Tt(c),a.head.appendChild(c))}function Hu(a){return'[src="'+Ti(a)+'"]'}function pf(a){return"script[async]"+a}function xC(a,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var v=a.querySelector('style[data-href~="'+Ti(m.href)+'"]');if(v)return c.instance=v,Tt(v),v;var A=b({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(a.ownerDocument||a).createElement("style"),Tt(v),Zi(v,"style",A),Rp(v,m.precedence,a),c.instance=v;case"stylesheet":A=zu(m.href);var I=a.querySelector(hf(A));if(I)return c.state.loading|=4,c.instance=I,Tt(I),I;v=gC(m),(A=Ts.get(A))&&px(v,A),I=(a.ownerDocument||a).createElement("link"),Tt(I);var H=I;return H._p=new Promise(function(W,J){H.onload=W,H.onerror=J}),Zi(I,"link",v),c.state.loading|=4,Rp(I,m.precedence,a),c.instance=I;case"script":return I=Hu(m.src),(A=a.querySelector(pf(I)))?(c.instance=A,Tt(A),A):(v=m,(A=Ts.get(I))&&(v=b({},m),mx(v,A)),a=a.ownerDocument||a,A=a.createElement("script"),Tt(A),Zi(A,"link",v),a.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,Rp(v,m.precedence,a));return c.instance}function Rp(a,c,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,I=A,H=0;H<v.length;H++){var W=v[H];if(W.dataset.precedence===c)I=W;else if(I!==A)break}I?I.parentNode.insertBefore(a,I.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(a,c.firstChild))}function px(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function mx(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Dp=null;function yC(a,c,m){if(Dp===null){var v=new Map,A=Dp=new Map;A.set(m,v)}else A=Dp,v=A.get(m),v||(v=new Map,A.set(m,v));if(v.has(a))return v;for(v.set(a,null),m=m.getElementsByTagName(a),A=0;A<m.length;A++){var I=m[A];if(!(I[dt]||I[Re]||a==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var H=I.getAttribute(c)||"";H=a+H;var W=v.get(H);W?W.push(I):v.set(H,[I])}}return v}function bC(a,c,m){a=a.ownerDocument||a,a.head.insertBefore(m,c==="title"?a.querySelector("head > title"):null)}function kI(a,c,m){if(m===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function vC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var mf=null;function MI(){}function OI(a,c,m){if(mf===null)throw Error(i(475));var v=mf;if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var A=zu(m.href),I=a.querySelector(hf(A));if(I){a=I._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(v.count++,v=Bp.bind(v),a.then(v,v)),c.state.loading|=4,c.instance=I,Tt(I);return}I=a.ownerDocument||a,m=gC(m),(A=Ts.get(A))&&px(m,A),I=I.createElement("link"),Tt(I);var H=I;H._p=new Promise(function(W,J){H.onload=W,H.onerror=J}),Zi(I,"link",m),c.instance=I}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(v.count++,c=Bp.bind(v),a.addEventListener("load",c),a.addEventListener("error",c))}}function RI(){if(mf===null)throw Error(i(475));var a=mf;return a.stylesheets&&a.count===0&&gx(a,a.stylesheets),0<a.count?function(c){var m=setTimeout(function(){if(a.stylesheets&&gx(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m)}}:null}function Bp(){if(this.count--,this.count===0){if(this.stylesheets)gx(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Lp=null;function gx(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Lp=new Map,c.forEach(DI,a),Lp=null,Bp.call(a))}function DI(a,c){if(!(c.state.loading&4)){var m=Lp.get(a);if(m)var v=m.get(null);else{m=new Map,Lp.set(a,m);for(var A=a.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<A.length;I++){var H=A[I];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(m.set(H.dataset.precedence,H),v=H)}v&&m.set(null,v)}A=c.instance,H=A.getAttribute("data-precedence"),I=m.get(H)||v,I===v&&m.set(null,A),m.set(H,A),this.count++,v=Bp.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),I?I.parentNode.insertBefore(A,I.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(A,a.firstChild)),c.state.loading|=4}}var gf={$$typeof:L,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function BI(a,c,m,v,A,I,H,W){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=I,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function wC(a,c,m,v,A,I,H,W,J,me,Ne,De){return a=new BI(a,c,m,H,W,J,me,De),c=1,I===!0&&(c|=24),I=Jr(3,null,null,c),a.current=I,I.stateNode=a,c=Z0(),c.refCount++,a.pooledCache=c,c.refCount++,I.memoizedState={element:v,isDehydrated:m,cache:c},tg(I),a}function _C(a){return a?(a=yu,a):yu}function CC(a,c,m,v,A,I){A=_C(A),v.context===null?v.context=A:v.pendingContext=A,v=Qo(c),v.payload={element:m},I=I===void 0?null:I,I!==null&&(v.callback=I),m=Jo(a,v,c),m!==null&&(rs(m,a,c),Gd(m,a,c))}function SC(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<c?m:c}}function xx(a,c){SC(a,c),(a=a.alternate)&&SC(a,c)}function EC(a){if(a.tag===13){var c=xu(a,67108864);c!==null&&rs(c,a,67108864),xx(a,67108864)}}var jp=!0;function LI(a,c,m,v){var A=Q.T;Q.T=null;var I=le.p;try{le.p=2,yx(a,c,m,v)}finally{le.p=I,Q.T=A}}function jI(a,c,m,v){var A=Q.T;Q.T=null;var I=le.p;try{le.p=8,yx(a,c,m,v)}finally{le.p=I,Q.T=A}}function yx(a,c,m,v){if(jp){var A=bx(v);if(A===null)sx(a,c,v,Pp,m),TC(a,v);else if(FI(A,a,c,m,v))v.stopPropagation();else if(TC(a,v),c&4&&-1<PI.indexOf(a)){for(;A!==null;){var I=Rt(A);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var H=an(I.pendingLanes);if(H!==0){var W=I;for(W.pendingLanes|=2,W.entangledLanes|=2;H;){var J=1<<31-Lt(H);W.entanglements[1]|=J,H&=~J}wa(I),(bn&6)===0&&(wp=$t()+500,cf(0))}}break;case 13:W=xu(I,2),W!==null&&rs(W,I,2),Cp(),xx(I,2)}if(I=bx(v),I===null&&sx(a,c,v,Pp,m),I===A)break;A=I}A!==null&&v.stopPropagation()}else sx(a,c,v,null,m)}}function bx(a){return a=Fo(a),vx(a)}var Pp=null;function vx(a){if(Pp=null,a=tt(a),a!==null){var c=s(a);if(c===null)a=null;else{var m=c.tag;if(m===13){if(a=l(c),a!==null)return a;a=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Pp=a,null}function AC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tn()){case At:return 2;case Or:return 8;case We:case tr:return 32;case Xr:return 268435456;default:return 32}default:return 32}}var wx=!1,fl=null,hl=null,pl=null,xf=new Map,yf=new Map,ml=[],PI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TC(a,c){switch(a){case"focusin":case"focusout":fl=null;break;case"dragenter":case"dragleave":hl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":xf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(c.pointerId)}}function bf(a,c,m,v,A,I){return a===null||a.nativeEvent!==I?(a={blockedOn:c,domEventName:m,eventSystemFlags:v,nativeEvent:I,targetContainers:[A]},c!==null&&(c=Rt(c),c!==null&&EC(c)),a):(a.eventSystemFlags|=v,c=a.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),a)}function FI(a,c,m,v,A){switch(c){case"focusin":return fl=bf(fl,a,c,m,v,A),!0;case"dragenter":return hl=bf(hl,a,c,m,v,A),!0;case"mouseover":return pl=bf(pl,a,c,m,v,A),!0;case"pointerover":var I=A.pointerId;return xf.set(I,bf(xf.get(I)||null,a,c,m,v,A)),!0;case"gotpointercapture":return I=A.pointerId,yf.set(I,bf(yf.get(I)||null,a,c,m,v,A)),!0}return!1}function NC(a){var c=tt(a.target);if(c!==null){var m=s(c);if(m!==null){if(c=m.tag,c===13){if(c=l(m),c!==null){a.blockedOn=c,de(a.priority,function(){if(m.tag===13){var v=is();v=Fa(v);var A=xu(m,v);A!==null&&rs(A,m,v),xx(m,v)}});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Fp(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var m=bx(a.nativeEvent);if(m===null){m=a.nativeEvent;var v=new m.constructor(m.type,m);ec=v,m.target.dispatchEvent(v),ec=null}else return c=Rt(m),c!==null&&EC(c),a.blockedOn=m,!1;c.shift()}return!0}function IC(a,c,m){Fp(a)&&m.delete(c)}function zI(){wx=!1,fl!==null&&Fp(fl)&&(fl=null),hl!==null&&Fp(hl)&&(hl=null),pl!==null&&Fp(pl)&&(pl=null),xf.forEach(IC),yf.forEach(IC)}function zp(a,c){a.blockedOn===c&&(a.blockedOn=null,wx||(wx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zI)))}var Hp=null;function kC(a){Hp!==a&&(Hp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hp===a&&(Hp=null);for(var c=0;c<a.length;c+=3){var m=a[c],v=a[c+1],A=a[c+2];if(typeof v!="function"){if(vx(v||m)===null)continue;break}var I=Rt(m);I!==null&&(a.splice(c,3),c-=3,vg(I,{pending:!0,data:A,method:m.method,action:v},v,A))}}))}function vf(a){function c(J){return zp(J,a)}fl!==null&&zp(fl,a),hl!==null&&zp(hl,a),pl!==null&&zp(pl,a),xf.forEach(c),yf.forEach(c);for(var m=0;m<ml.length;m++){var v=ml[m];v.blockedOn===a&&(v.blockedOn=null)}for(;0<ml.length&&(m=ml[0],m.blockedOn===null);)NC(m),m.blockedOn===null&&ml.shift();if(m=(a.ownerDocument||a).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var A=m[v],I=m[v+1],H=A[Fe]||null;if(typeof I=="function")H||kC(m);else if(H){var W=null;if(I&&I.hasAttribute("formAction")){if(A=I,H=I[Fe]||null)W=H.formAction;else if(vx(A)!==null)continue}else W=H.action;typeof W=="function"?m[v+1]=W:(m.splice(v,3),v-=3),kC(m)}}}function _x(a){this._internalRoot=a}Up.prototype.render=_x.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(i(409));var m=c.current,v=is();CC(m,v,a,c,null,null)},Up.prototype.unmount=_x.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;CC(a.current,2,null,a,null,null),Cp(),c[Ze]=null}};function Up(a){this._internalRoot=a}Up.prototype.unstable_scheduleHydration=function(a){if(a){var c=re();a={blockedOn:null,target:a,priority:c};for(var m=0;m<ml.length&&c!==0&&c<ml[m].priority;m++);ml.splice(m,0,a),m===0&&NC(a)}};var MC=e.version;if(MC!=="19.1.0")throw Error(i(527,MC,"19.1.0"));le.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=f(c),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var HI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$p.isDisabled&&$p.supportsFiber)try{vt=$p.inject(HI),_t=$p}catch{}}return _f.createRoot=function(a,c){if(!r(a))throw Error(i(299));var m=!1,v="",A=Ww,I=Xw,H=Yw,W=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(H=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(W=c.unstable_transitionCallbacks)),c=wC(a,1,!1,null,null,m,v,A,I,H,W,null),a[Ze]=c.current,rx(a),new _x(c)},_f.hydrateRoot=function(a,c,m){if(!r(a))throw Error(i(299));var v=!1,A="",I=Ww,H=Xw,W=Yw,J=null,me=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onUncaughtError!==void 0&&(I=m.onUncaughtError),m.onCaughtError!==void 0&&(H=m.onCaughtError),m.onRecoverableError!==void 0&&(W=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(J=m.unstable_transitionCallbacks),m.formState!==void 0&&(me=m.formState)),c=wC(a,1,!0,c,m??null,v,A,I,H,W,J,me),c.context=_C(null),m=c.current,v=is(),v=Fa(v),A=Qo(v),A.callback=null,Jo(m,A,v),m=v,c.current.lanes=m,gr(c,m),wa(c),a[Ze]=c.current,rx(a),new Up(c)},_f.version="19.1.0",_f}var HC;function ZI(){if(HC)return Sx.exports;HC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sx.exports=KI(),Sx.exports}var $4=ZI();const QI=jo($4);var j=Jc();const Ut=jo(j),JI=j.createContext(null),Ix={didCatch:!1,error:null};class ek extends j.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Ix}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var n,i,r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];(n=(i=this.props).onReset)===null||n===void 0||n.call(i,{args:s,reason:"imperative-api"}),this.setState(Ix)}}componentDidCatch(e,n){var i,r;(i=(r=this.props).onError)===null||i===void 0||i.call(r,e,n)}componentDidUpdate(e,n){const{didCatch:i}=this.state,{resetKeys:r}=this.props;if(i&&n.error!==null&&tk(e.resetKeys,r)){var s,l;(s=(l=this.props).onReset)===null||s===void 0||s.call(l,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(Ix)}}render(){const{children:e,fallbackRender:n,FallbackComponent:i,fallback:r}=this.props,{didCatch:s,error:l}=this.state;let d=e;if(s){const f={error:l,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")d=n(f);else if(i)d=j.createElement(i,f);else if(r!==void 0)d=r;else throw l}return j.createElement(JI.Provider,{value:{didCatch:s,error:l,resetErrorBoundary:this.resetErrorBoundary}},d)}}function tk(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((n,i)=>!Object.is(n,e[i]))}var Cf={},UC;function nk(){if(UC)return Cf;UC=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.parse=l,Cf.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function l(S,E){const T=new s,M=S.length;if(M<2)return T;const R=(E==null?void 0:E.decode)||b;let B=0;do{const G=S.indexOf("=",B);if(G===-1)break;const L=S.indexOf(";",B),k=L===-1?M:L;if(G>k){B=S.lastIndexOf(";",G-1)+1;continue}const D=d(S,B,G),P=f(S,G,D),z=S.slice(D,P);if(T[z]===void 0){let U=d(S,G+1,k),X=f(S,k,U);const ne=R(S.slice(U,X));T[z]=ne}B=k+1}while(B<M);return T}function d(S,E,T){do{const M=S.charCodeAt(E);if(M!==32&&M!==9)return E}while(++E<T);return T}function f(S,E,T){for(;E>T;){const M=S.charCodeAt(--E);if(M!==32&&M!==9)return E+1}return T}function p(S,E,T){const M=(T==null?void 0:T.encode)||encodeURIComponent;if(!t.test(S))throw new TypeError(`argument name is invalid: ${S}`);const R=M(E);if(!e.test(R))throw new TypeError(`argument val is invalid: ${E}`);let B=S+"="+R;if(!T)return B;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);B+="; Max-Age="+T.maxAge}if(T.domain){if(!n.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);B+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);B+="; Path="+T.path}if(T.expires){if(!w(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);B+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(B+="; HttpOnly"),T.secure&&(B+="; Secure"),T.partitioned&&(B+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return B}function b(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return r.call(S)==="[object Date]"}return Cf}nk();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var V4=t=>{throw TypeError(t)},ik=(t,e,n)=>e.has(t)||V4("Cannot "+n),kx=(t,e,n)=>(ik(t,e,"read from private field"),n?n.call(t):e.get(t)),rk=(t,e,n)=>e.has(t)?V4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),$C="popstate";function sk(t={}){function e(i,r){let{pathname:s,search:l,hash:d}=i.location;return rh("",{pathname:s,search:l,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Hl(r)}return ok(e,n,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function si(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ak(){return Math.random().toString(36).substring(2,10)}function VC(t,e){return{usr:t.state,key:t.key,idx:e}}function rh(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wl(e):e,state:n,key:e&&e.key||i||ak()}}function Hl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function ok(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,l=r.history,d="POP",f=null,p=b();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function b(){return(l.state||{idx:null}).idx}function w(){d="POP";let R=b(),B=R==null?null:R-p;p=R,f&&f({action:d,location:M.location,delta:B})}function S(R,B){d="PUSH";let G=rh(M.location,R,B);p=b()+1;let L=VC(G,p),k=M.createHref(G);try{l.pushState(L,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(k)}s&&f&&f({action:d,location:M.location,delta:1})}function E(R,B){d="REPLACE";let G=rh(M.location,R,B);p=b();let L=VC(G,p),k=M.createHref(G);l.replaceState(L,"",k),s&&f&&f({action:d,location:M.location,delta:0})}function T(R){return G4(R)}let M={get action(){return d},get location(){return t(r,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener($C,w),f=R,()=>{r.removeEventListener($C,w),f=null}},createHref(R){return e(r,R)},createURL:T,encodeLocation(R){let B=T(R);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:S,replace:E,go(R){return l.go(R)}};return M}function G4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Hl(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var Ff,GC=class{constructor(t){if(rk(this,Ff,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(kx(this,Ff).has(t))return kx(this,Ff).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){kx(this,Ff).set(t,e)}};Ff=new WeakMap;var lk=new Set(["lazy","caseSensitive","path","id","index","children"]);function ck(t){return lk.has(t)}var uk=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function dk(t){return uk.has(t)}function fk(t){return t.index===!0}function j1(t,e,n=[],i={}){return t.map((r,s)=>{let l=[...n,String(s)],d=typeof r.id=="string"?r.id:l.join("-");if(qt(r.index!==!0||!r.children,"Cannot specify children on an index route"),qt(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),fk(r)){let f={...r,...e(r),id:d};return i[d]=f,f}else{let f={...r,...e(r),id:d,children:void 0};return i[d]=f,r.children&&(f.children=j1(r.children,e,l,i)),f}})}function Tl(t,e,n="/"){return C1(t,e,n,!1)}function C1(t,e,n,i){let r=typeof e=="string"?Wl(e):e,s=Fs(r.pathname||"/",n);if(s==null)return null;let l=q4(t);pk(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let p=Ek(s);d=Ck(l[f],p,i)}return d}function hk(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],handle:n.handle}}function q4(t,e=[],n=[],i=""){let r=(s,l,d)=>{let f={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};f.relativePath.startsWith("/")&&(qt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=Da([i,f.relativePath]),b=n.concat(f);s.children&&s.children.length>0&&(qt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),q4(s.children,e,b,p)),!(s.path==null&&!s.index)&&e.push({path:p,score:wk(p,s.index),routesMeta:b})};return t.forEach((s,l)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))r(s,l);else for(let f of W4(s.path))r(s,l,f)}),e}function W4(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let l=W4(i.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),r&&d.push(...l),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function pk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_k(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var mk=/^:[\w-]+$/,gk=3,xk=2,yk=1,bk=10,vk=-2,qC=t=>t==="*";function wk(t,e){let n=t.split("/"),i=n.length;return n.some(qC)&&(i+=vk),e&&(i+=xk),n.filter(r=>!qC(r)).reduce((r,s)=>r+(mk.test(s)?gk:s===""?yk:bk),i)}function _k(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function Ck(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",l=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,b=s==="/"?e:e.slice(s.length)||"/",w=P1({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},b),S=f.route;if(!w&&p&&n&&!i[i.length-1].route.index&&(w=P1({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},b)),!w)return null;Object.assign(r,w.params),l.push({params:r,pathname:Da([s,w.pathname]),pathnameBase:Nk(Da([s,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(s=Da([s,w.pathnameBase]))}return l}function P1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Sk(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],l=s.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:i.reduce((p,{paramName:b,isOptional:w},S)=>{if(b==="*"){let T=d[S]||"";l=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const E=d[S];return w&&!E?p[b]=void 0:p[b]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:l,pattern:t}}function Sk(t,e=!1,n=!0){si(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Ek(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Ak(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Wl(t):t;return{pathname:n?n.startsWith("/")?n:Tk(n,e):e,search:Ik(i),hash:kk(r)}}function Tk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Mx(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Km(t){let e=X4(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Zm(t,e,n,i=!1){let r;typeof t=="string"?r=Wl(t):(r={...t},qt(!r.pathname||!r.pathname.includes("?"),Mx("?","pathname","search",r)),qt(!r.pathname||!r.pathname.includes("#"),Mx("#","pathname","hash",r)),qt(!r.search||!r.search.includes("#"),Mx("#","search","hash",r)));let s=t===""||r.pathname==="",l=s?"/":r.pathname,d;if(l==null)d=n;else{let w=e.length-1;if(!i&&l.startsWith("..")){let S=l.split("/");for(;S[0]==="..";)S.shift(),w-=1;r.pathname=S.join("/")}d=w>=0?e[w]:"/"}let f=Ak(r,d),p=l&&l!=="/"&&l.endsWith("/"),b=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||b)&&(f.pathname+="/"),f}var Da=t=>t.join("/").replace(/\/\/+/g,"/"),Nk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ik=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,F1=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function sh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Y4=["POST","PUT","PATCH","DELETE"],Mk=new Set(Y4),Ok=["GET",...Y4],Rk=new Set(Ok),Dk=new Set([301,302,303,307,308]),Bk=new Set([307,308]),Ox={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},yb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jk=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),K4="remix-router-transitions",Z4=Symbol("ResetLoaderData");function Pk(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";qt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.hydrationRouteProperties||[],r=t.mapRouteProperties||jk,s={},l=j1(t.routes,r,void 0,s),d,f=t.basename||"/",p=t.dataStrategy||$k,b={unstable_middleware:!1,...t.future},w=null,S=new Set,E=null,T=null,M=null,R=t.hydrationData!=null,B=Tl(l,t.history.location,f),G=!1,L=null,k;if(B==null&&!t.patchRoutesOnNavigation){let re=Ds(404,{pathname:t.history.location.pathname}),{matches:de,route:ge}=r3(l);k=!0,B=de,L={[ge.id]:re}}else if(B&&!t.hydrationData&&sa(B,l,t.history.location.pathname).active&&(B=null),B)if(B.some(re=>re.route.lazy))k=!1;else if(!B.some(re=>re.route.loader))k=!0;else{let re=t.hydrationData?t.hydrationData.loaderData:null,de=t.hydrationData?t.hydrationData.errors:null;if(de){let ge=B.findIndex(Re=>de[Re.route.id]!==void 0);k=B.slice(0,ge+1).every(Re=>!h2(Re.route,re,de))}else k=B.every(ge=>!h2(ge.route,re,de))}else{k=!1,B=[];let re=sa(null,l,t.history.location.pathname);re.active&&re.matches&&(G=!0,B=re.matches)}let D,P={historyAction:t.history.action,location:t.history.location,matches:B,initialized:k,navigation:Ox,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||L,fetchers:new Map,blockers:new Map},z="POP",U=!1,X,ne=!1,ee=new Map,oe=null,Ce=!1,Se=!1,te=new Set,Q=new Map,le=0,xe=-1,Be=new Map,K=new Set,ue=new Map,Ee=new Map,Oe=new Set,He=new Map,qe,Ae=null;function en(){if(w=t.history.listen(({action:re,location:de,delta:ge})=>{if(qe){qe(),qe=void 0;return}si(He.size===0||ge!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Re=Rr({currentLocation:P.location,nextLocation:de,historyAction:re});if(Re&&ge!=null){let Fe=new Promise(Ze=>{qe=Ze});t.history.go(ge*-1),Wt(Re,{state:"blocked",location:de,proceed(){Wt(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),Fe.then(()=>t.history.go(ge))},reset(){let Ze=new Map(P.blockers);Ze.set(Re,Sf),dn({blockers:Ze})}});return}return li(re,de)}),n){eM(e,ee);let re=()=>tM(e,ee);e.addEventListener("pagehide",re),oe=()=>e.removeEventListener("pagehide",re)}return P.initialized||li("POP",P.location,{initialHydration:!0}),D}function gt(){w&&w(),oe&&oe(),S.clear(),X&&X.abort(),P.fetchers.forEach((re,de)=>Lt(de)),P.blockers.forEach((re,de)=>jt(de))}function oi(re){return S.add(re),()=>S.delete(re)}function dn(re,de={}){P={...P,...re};let ge=[],Re=[];P.fetchers.forEach((Fe,Ze)=>{Fe.state==="idle"&&(Oe.has(Ze)?ge.push(Ze):Re.push(Ze))}),Oe.forEach(Fe=>{!P.fetchers.has(Fe)&&!Q.has(Fe)&&ge.push(Fe)}),[...S].forEach(Fe=>Fe(P,{deletedFetchers:ge,viewTransitionOpts:de.viewTransitionOpts,flushSync:de.flushSync===!0})),ge.forEach(Fe=>Lt(Fe)),Re.forEach(Fe=>P.fetchers.delete(Fe))}function cn(re,de,{flushSync:ge}={}){var Te,dt;let Re=P.actionData!=null&&P.navigation.formMethod!=null&&fs(P.navigation.formMethod)&&P.navigation.state==="loading"&&((Te=re.state)==null?void 0:Te._isRedirect)!==!0,Fe;de.actionData?Object.keys(de.actionData).length>0?Fe=de.actionData:Fe=null:Re?Fe=P.actionData:Fe=null;let Ze=de.loaderData?n3(P.loaderData,de.loaderData,de.matches||[],de.errors):P.loaderData,Qe=P.blockers;Qe.size>0&&(Qe=new Map(Qe),Qe.forEach((nt,tt)=>Qe.set(tt,Sf)));let Ge=U===!0||P.navigation.formMethod!=null&&fs(P.navigation.formMethod)&&((dt=re.state)==null?void 0:dt._isRedirect)!==!0;d&&(l=d,d=void 0),Ce||z==="POP"||(z==="PUSH"?t.history.push(re,re.state):z==="REPLACE"&&t.history.replace(re,re.state));let Ye;if(z==="POP"){let nt=ee.get(P.location.pathname);nt&&nt.has(re.pathname)?Ye={currentLocation:P.location,nextLocation:re}:ee.has(re.pathname)&&(Ye={currentLocation:re,nextLocation:P.location})}else if(ne){let nt=ee.get(P.location.pathname);nt?nt.add(re.pathname):(nt=new Set([re.pathname]),ee.set(P.location.pathname,nt)),Ye={currentLocation:P.location,nextLocation:re}}dn({...de,actionData:Fe,loaderData:Ze,historyAction:z,location:re,initialized:!0,navigation:Ox,revalidation:"idle",restoreScrollPosition:Jl(re,de.matches||P.matches),preventScrollReset:Ge,blockers:Qe},{viewTransitionOpts:Ye,flushSync:ge===!0}),z="POP",U=!1,ne=!1,Ce=!1,Se=!1,Ae==null||Ae.resolve(),Ae=null}async function Bi(re,de){if(typeof re=="number"){t.history.go(re);return}let ge=f2(P.location,P.matches,f,re,de==null?void 0:de.fromRouteId,de==null?void 0:de.relative),{path:Re,submission:Fe,error:Ze}=WC(!1,ge,de),Qe=P.location,Ge=rh(P.location,Re,de&&de.state);Ge={...Ge,...t.history.encodeLocation(Ge)};let Ye=de&&de.replace!=null?de.replace:void 0,Te="PUSH";Ye===!0?Te="REPLACE":Ye===!1||Fe!=null&&fs(Fe.formMethod)&&Fe.formAction===P.location.pathname+P.location.search&&(Te="REPLACE");let dt=de&&"preventScrollReset"in de?de.preventScrollReset===!0:void 0,nt=(de&&de.flushSync)===!0,tt=Rr({currentLocation:Qe,nextLocation:Ge,historyAction:Te});if(tt){Wt(tt,{state:"blocked",location:Ge,proceed(){Wt(tt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ge}),Bi(re,de)},reset(){let Rt=new Map(P.blockers);Rt.set(tt,Sf),dn({blockers:Rt})}});return}await li(Te,Ge,{submission:Fe,pendingError:Ze,preventScrollReset:dt,replace:de&&de.replace,enableViewTransition:de&&de.viewTransition,flushSync:nt})}function Ot(){Ae||(Ae=nM()),ot(),dn({revalidation:"loading"});let re=Ae.promise;return P.navigation.state==="submitting"?re:P.navigation.state==="idle"?(li(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),re):(li(z||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:ne===!0}),re)}async function li(re,de,ge){X&&X.abort(),X=null,z=re,Ce=(ge&&ge.startUninterruptedRevalidation)===!0,gr(P.location,P.matches),U=(ge&&ge.preventScrollReset)===!0,ne=(ge&&ge.enableViewTransition)===!0;let Re=d||l,Fe=ge&&ge.overrideNavigation,Ze=ge!=null&&ge.initialHydration&&P.matches&&P.matches.length>0&&!G?P.matches:Tl(Re,de,f),Qe=(ge&&ge.flushSync)===!0;if(Ze&&P.initialized&&!Se&&Yk(P.location,de)&&!(ge&&ge.submission&&fs(ge.submission.formMethod))){cn(de,{matches:Ze},{flushSync:Qe});return}let Ge=sa(Ze,Re,de.pathname);if(Ge.active&&Ge.matches&&(Ze=Ge.matches),!Ze){let{error:Cn,notFoundMatches:Tt,route:Xt}=ys(de.pathname);cn(de,{matches:Tt,loaderData:{},errors:{[Xt.id]:Cn}},{flushSync:Qe});return}X=new AbortController;let Ye=id(t.history,de,X.signal,ge&&ge.submission),Te=new GC(t.unstable_getContext?await t.unstable_getContext():void 0),dt;if(ge&&ge.pendingError)dt=[Nc(Ze).route.id,{type:"error",error:ge.pendingError}];else if(ge&&ge.submission&&fs(ge.submission.formMethod)){let Cn=await qi(Ye,de,ge.submission,Ze,Te,Ge.active,ge&&ge.initialHydration===!0,{replace:ge.replace,flushSync:Qe});if(Cn.shortCircuited)return;if(Cn.pendingActionResult){let[Tt,Xt]=Cn.pendingActionResult;if(ds(Xt)&&sh(Xt.error)&&Xt.error.status===404){X=null,cn(de,{matches:Cn.matches,loaderData:{},errors:{[Tt]:Xt.error}});return}}Ze=Cn.matches||Ze,dt=Cn.pendingActionResult,Fe=Rx(de,ge.submission),Qe=!1,Ge.active=!1,Ye=id(t.history,Ye.url,Ye.signal)}let{shortCircuited:nt,matches:tt,loaderData:Rt,errors:fn}=await xs(Ye,de,Ze,Te,Ge.active,Fe,ge&&ge.submission,ge&&ge.fetcherSubmission,ge&&ge.replace,ge&&ge.initialHydration===!0,Qe,dt);nt||(X=null,cn(de,{matches:tt||Ze,...i3(dt),loaderData:Rt,errors:fn}))}async function qi(re,de,ge,Re,Fe,Ze,Qe,Ge={}){ot();let Ye=Qk(de,ge);if(dn({navigation:Ye},{flushSync:Ge.flushSync===!0}),Ze){let nt=await Ai(Re,de.pathname,re.signal);if(nt.type==="aborted")return{shortCircuited:!0};if(nt.type==="error"){let tt=Nc(nt.partialMatches).route.id;return{matches:nt.partialMatches,pendingActionResult:[tt,{type:"error",error:nt.error}]}}else if(nt.matches)Re=nt.matches;else{let{notFoundMatches:tt,error:Rt,route:fn}=ys(de.pathname);return{matches:tt,pendingActionResult:[fn.id,{type:"error",error:Rt}]}}}let Te,dt=zf(Re,de);if(!dt.route.action&&!dt.route.lazy)Te={type:"error",error:Ds(405,{method:re.method,pathname:de.pathname,routeId:dt.route.id})};else{let nt=dd(r,s,re,Re,dt,Qe?[]:i,Fe),tt=await Xr(re,nt,Fe,null);if(Te=tt[dt.route.id],!Te){for(let Rt of Re)if(tt[Rt.route.id]){Te=tt[Rt.route.id];break}}if(re.signal.aborted)return{shortCircuited:!0}}if(Mc(Te)){let nt;return Ge&&Ge.replace!=null?nt=Ge.replace:nt=JC(Te.response.headers.get("Location"),new URL(re.url),f)===P.location.pathname+P.location.search,await tr(re,Te,!0,{submission:ge,replace:nt}),{shortCircuited:!0}}if(ds(Te)){let nt=Nc(Re,dt.route.id);return(Ge&&Ge.replace)!==!0&&(z="PUSH"),{matches:Re,pendingActionResult:[nt.route.id,Te,dt.route.id]}}return{matches:Re,pendingActionResult:[dt.route.id,Te]}}async function xs(re,de,ge,Re,Fe,Ze,Qe,Ge,Ye,Te,dt,nt){let tt=Ze||Rx(de,Qe),Rt=Qe||Ge||a3(tt),fn=!Ce&&!Te;if(Fe){if(fn){let Vn=$t(nt);dn({navigation:tt,...Vn!==void 0?{actionData:Vn}:{}},{flushSync:dt})}let it=await Ai(ge,de.pathname,re.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){let Vn=Nc(it.partialMatches).route.id;return{matches:it.partialMatches,loaderData:{},errors:{[Vn]:it.error}}}else if(it.matches)ge=it.matches;else{let{error:Vn,notFoundMatches:Kr,route:Nt}=ys(de.pathname);return{matches:Kr,loaderData:{},errors:{[Nt.id]:Vn}}}}let Cn=d||l,{dsMatches:Tt,revalidatingFetchers:Xt}=XC(re,Re,r,s,t.history,P,ge,Rt,de,Te?[]:i,Te===!0,Se,te,Oe,ue,K,Cn,f,t.patchRoutesOnNavigation!=null,nt);if(xe=++le,!t.dataStrategy&&!Tt.some(it=>it.shouldLoad)&&Xt.length===0){let it=on();return cn(de,{matches:ge,loaderData:{},errors:nt&&ds(nt[1])?{[nt[0]]:nt[1].error}:null,...i3(nt),...it?{fetchers:new Map(P.fetchers)}:{}},{flushSync:dt}),{shortCircuited:!0}}if(fn){let it={};if(!Fe){it.navigation=tt;let Vn=$t(nt);Vn!==void 0&&(it.actionData=Vn)}Xt.length>0&&(it.fetchers=tn(Xt)),dn(it,{flushSync:dt})}Xt.forEach(it=>{Ei(it.key),it.controller&&Q.set(it.key,it.controller)});let aa=()=>Xt.forEach(it=>Ei(it.key));X&&X.signal.addEventListener("abort",aa);let{loaderResults:Mn,fetcherResults:Sn}=await Ve(Tt,Xt,re,Re);if(re.signal.aborted)return{shortCircuited:!0};X&&X.signal.removeEventListener("abort",aa),Xt.forEach(it=>Q.delete(it.key));let Pt=Gp(Mn);if(Pt)return await tr(re,Pt.result,!0,{replace:Ye}),{shortCircuited:!0};if(Pt=Gp(Sn),Pt)return K.add(Pt.key),await tr(re,Pt.result,!0,{replace:Ye}),{shortCircuited:!0};let{loaderData:Us,errors:Wi}=t3(P,ge,Mn,nt,Xt,Sn);Te&&P.errors&&(Wi={...P.errors,...Wi});let za=on(),Ie=Ue(xe),$s=za||Ie||Xt.length>0;return{matches:ge,loaderData:Us,errors:Wi,...$s?{fetchers:new Map(P.fetchers)}:{}}}function $t(re){if(re&&!ds(re[1]))return{[re[0]]:re[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function tn(re){return re.forEach(de=>{let ge=P.fetchers.get(de.key),Re=Ef(void 0,ge?ge.data:void 0);P.fetchers.set(de.key,Re)}),new Map(P.fetchers)}async function At(re,de,ge,Re){Ei(re);let Fe=(Re&&Re.flushSync)===!0,Ze=d||l,Qe=f2(P.location,P.matches,f,ge,de,Re==null?void 0:Re.relative),Ge=Tl(Ze,Qe,f),Ye=sa(Ge,Ze,Qe);if(Ye.active&&Ye.matches&&(Ge=Ye.matches),!Ge){_t(re,de,Ds(404,{pathname:Qe}),{flushSync:Fe});return}let{path:Te,submission:dt,error:nt}=WC(!0,Qe,Re);if(nt){_t(re,de,nt,{flushSync:Fe});return}let tt=zf(Ge,Te),Rt=new GC(t.unstable_getContext?await t.unstable_getContext():void 0),fn=(Re&&Re.preventScrollReset)===!0;if(dt&&fs(dt.formMethod)){await Or(re,de,Te,tt,Ge,Rt,Ye.active,Fe,fn,dt);return}ue.set(re,{routeId:de,path:Te}),await We(re,de,Te,tt,Ge,Rt,Ye.active,Fe,fn,dt)}async function Or(re,de,ge,Re,Fe,Ze,Qe,Ge,Ye,Te){ot(),ue.delete(re);function dt(rt){if(!rt.route.action&&!rt.route.lazy){let bs=Ds(405,{method:Te.formMethod,pathname:ge,routeId:de});return _t(re,de,bs,{flushSync:Ge}),!0}return!1}if(!Qe&&dt(Re))return;let nt=P.fetchers.get(re);vt(re,Jk(Te,nt),{flushSync:Ge});let tt=new AbortController,Rt=id(t.history,ge,tt.signal,Te);if(Qe){let rt=await Ai(Fe,ge,Rt.signal,re);if(rt.type==="aborted")return;if(rt.type==="error"){_t(re,de,rt.error,{flushSync:Ge});return}else if(rt.matches){if(Fe=rt.matches,Re=zf(Fe,ge),dt(Re))return}else{_t(re,de,Ds(404,{pathname:ge}),{flushSync:Ge});return}}Q.set(re,tt);let fn=le,Cn=dd(r,s,Rt,Fe,Re,i,Ze),Xt=(await Xr(Rt,Cn,Ze,re))[Re.route.id];if(Rt.signal.aborted){Q.get(re)===tt&&Q.delete(re);return}if(Oe.has(re)){if(Mc(Xt)||ds(Xt)){vt(re,_l(void 0));return}}else{if(Mc(Xt))if(Q.delete(re),xe>fn){vt(re,_l(void 0));return}else return K.add(re),vt(re,Ef(Te)),tr(Rt,Xt,!1,{fetcherSubmission:Te,preventScrollReset:Ye});if(ds(Xt)){_t(re,de,Xt.error);return}}let aa=P.navigation.location||P.location,Mn=id(t.history,aa,tt.signal),Sn=d||l,Pt=P.navigation.state!=="idle"?Tl(Sn,P.navigation.location,f):P.matches;qt(Pt,"Didn't find any matches after fetcher action");let Us=++le;Be.set(re,Us);let Wi=Ef(Te,Xt.data);P.fetchers.set(re,Wi);let{dsMatches:za,revalidatingFetchers:Ie}=XC(Mn,Ze,r,s,t.history,P,Pt,Te,aa,i,!1,Se,te,Oe,ue,K,Sn,f,t.patchRoutesOnNavigation!=null,[Re.route.id,Xt]);Ie.filter(rt=>rt.key!==re).forEach(rt=>{let bs=rt.key,Ha=P.fetchers.get(bs),Li=Ef(void 0,Ha?Ha.data:void 0);P.fetchers.set(bs,Li),Ei(bs),rt.controller&&Q.set(bs,rt.controller)}),dn({fetchers:new Map(P.fetchers)});let $s=()=>Ie.forEach(rt=>Ei(rt.key));tt.signal.addEventListener("abort",$s);let{loaderResults:it,fetcherResults:Vn}=await Ve(za,Ie,Mn,Ze);if(tt.signal.aborted)return;if(tt.signal.removeEventListener("abort",$s),Be.delete(re),Q.delete(re),Ie.forEach(rt=>Q.delete(rt.key)),P.fetchers.has(re)){let rt=_l(Xt.data);P.fetchers.set(re,rt)}let Kr=Gp(it);if(Kr)return tr(Mn,Kr.result,!1,{preventScrollReset:Ye});if(Kr=Gp(Vn),Kr)return K.add(Kr.key),tr(Mn,Kr.result,!1,{preventScrollReset:Ye});let{loaderData:Nt,errors:Ft}=t3(P,Pt,it,void 0,Ie,Vn);Ue(Us),P.navigation.state==="loading"&&Us>xe?(qt(z,"Expected pending action"),X&&X.abort(),cn(P.navigation.location,{matches:Pt,loaderData:Nt,errors:Ft,fetchers:new Map(P.fetchers)})):(dn({errors:Ft,loaderData:n3(P.loaderData,Nt,Pt,Ft),fetchers:new Map(P.fetchers)}),Se=!1)}async function We(re,de,ge,Re,Fe,Ze,Qe,Ge,Ye,Te){let dt=P.fetchers.get(re);vt(re,Ef(Te,dt?dt.data:void 0),{flushSync:Ge});let nt=new AbortController,tt=id(t.history,ge,nt.signal);if(Qe){let Xt=await Ai(Fe,ge,tt.signal,re);if(Xt.type==="aborted")return;if(Xt.type==="error"){_t(re,de,Xt.error,{flushSync:Ge});return}else if(Xt.matches)Fe=Xt.matches,Re=zf(Fe,ge);else{_t(re,de,Ds(404,{pathname:ge}),{flushSync:Ge});return}}Q.set(re,nt);let Rt=le,fn=dd(r,s,tt,Fe,Re,i,Ze),Tt=(await Xr(tt,fn,Ze,re))[Re.route.id];if(Q.get(re)===nt&&Q.delete(re),!tt.signal.aborted){if(Oe.has(re)){vt(re,_l(void 0));return}if(Mc(Tt))if(xe>Rt){vt(re,_l(void 0));return}else{K.add(re),await tr(tt,Tt,!1,{preventScrollReset:Ye});return}if(ds(Tt)){_t(re,de,Tt.error);return}vt(re,_l(Tt.data))}}async function tr(re,de,ge,{submission:Re,fetcherSubmission:Fe,preventScrollReset:Ze,replace:Qe}={}){de.response.headers.has("X-Remix-Revalidate")&&(Se=!0);let Ge=de.response.headers.get("Location");qt(Ge,"Expected a Location header on the redirect Response"),Ge=JC(Ge,new URL(re.url),f);let Ye=rh(P.location,Ge,{_isRedirect:!0});if(n){let fn=!1;if(de.response.headers.has("X-Remix-Reload-Document"))fn=!0;else if(yb.test(Ge)){const Cn=G4(Ge,!0);fn=Cn.origin!==e.location.origin||Fs(Cn.pathname,f)==null}if(fn){Qe?e.location.replace(Ge):e.location.assign(Ge);return}}X=null;let Te=Qe===!0||de.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:dt,formAction:nt,formEncType:tt}=P.navigation;!Re&&!Fe&&dt&&nt&&tt&&(Re=a3(P.navigation));let Rt=Re||Fe;if(Bk.has(de.response.status)&&Rt&&fs(Rt.formMethod))await li(Te,Ye,{submission:{...Rt,formAction:Ge},preventScrollReset:Ze||U,enableViewTransition:ge?ne:void 0});else{let fn=Rx(Ye,Re);await li(Te,Ye,{overrideNavigation:fn,fetcherSubmission:Fe,preventScrollReset:Ze||U,enableViewTransition:ge?ne:void 0})}}async function Xr(re,de,ge,Re){let Fe,Ze={};try{Fe=await Vk(p,re,de,Re,ge,!1)}catch(Qe){return de.filter(Ge=>Ge.shouldLoad).forEach(Ge=>{Ze[Ge.route.id]={type:"error",error:Qe}}),Ze}if(re.signal.aborted)return Ze;for(let[Qe,Ge]of Object.entries(Fe))if(Kk(Ge)){let Ye=Ge.result;Ze[Qe]={type:"redirect",response:Wk(Ye,re,Qe,de,f)}}else Ze[Qe]=await qk(Ge);return Ze}async function Ve(re,de,ge,Re){let Fe=Xr(ge,re,Re,null),Ze=Promise.all(de.map(async Ye=>{if(Ye.matches&&Ye.match&&Ye.request&&Ye.controller){let dt=(await Xr(Ye.request,Ye.matches,Re,Ye.key))[Ye.match.route.id];return{[Ye.key]:dt}}else return Promise.resolve({[Ye.key]:{type:"error",error:Ds(404,{pathname:Ye.path})}})})),Qe=await Fe,Ge=(await Ze).reduce((Ye,Te)=>Object.assign(Ye,Te),{});return{loaderResults:Qe,fetcherResults:Ge}}function ot(){Se=!0,ue.forEach((re,de)=>{Q.has(de)&&te.add(de),Ei(de)})}function vt(re,de,ge={}){P.fetchers.set(re,de),dn({fetchers:new Map(P.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function _t(re,de,ge,Re={}){let Fe=Nc(P.matches,de);Lt(re),dn({errors:{[Fe.route.id]:ge},fetchers:new Map(P.fetchers)},{flushSync:(Re&&Re.flushSync)===!0})}function nn(re){return Ee.set(re,(Ee.get(re)||0)+1),Oe.has(re)&&Oe.delete(re),P.fetchers.get(re)||Lk}function Lt(re){let de=P.fetchers.get(re);Q.has(re)&&!(de&&de.state==="loading"&&Be.has(re))&&Ei(re),ue.delete(re),Be.delete(re),K.delete(re),Oe.delete(re),te.delete(re),P.fetchers.delete(re)}function Yr(re){let de=(Ee.get(re)||0)-1;de<=0?(Ee.delete(re),Oe.add(re)):Ee.set(re,de),dn({fetchers:new Map(P.fetchers)})}function Ei(re){let de=Q.get(re);de&&(de.abort(),Q.delete(re))}function ra(re){for(let de of re){let ge=nn(de),Re=_l(ge.data);P.fetchers.set(de,Re)}}function on(){let re=[],de=!1;for(let ge of K){let Re=P.fetchers.get(ge);qt(Re,`Expected fetcher: ${ge}`),Re.state==="loading"&&(K.delete(ge),re.push(ge),de=!0)}return ra(re),de}function Ue(re){let de=[];for(let[ge,Re]of Be)if(Re<re){let Fe=P.fetchers.get(ge);qt(Fe,`Expected fetcher: ${ge}`),Fe.state==="loading"&&(Ei(ge),Be.delete(ge),de.push(ge))}return ra(de),de.length>0}function an(re,de){let ge=P.blockers.get(re)||Sf;return He.get(re)!==de&&He.set(re,de),ge}function jt(re){P.blockers.delete(re),He.delete(re)}function Wt(re,de){let ge=P.blockers.get(re)||Sf;qt(ge.state==="unblocked"&&de.state==="blocked"||ge.state==="blocked"&&de.state==="blocked"||ge.state==="blocked"&&de.state==="proceeding"||ge.state==="blocked"&&de.state==="unblocked"||ge.state==="proceeding"&&de.state==="unblocked",`Invalid blocker state transition: ${ge.state} -> ${de.state}`);let Re=new Map(P.blockers);Re.set(re,de),dn({blockers:Re})}function Rr({currentLocation:re,nextLocation:de,historyAction:ge}){if(He.size===0)return;He.size>1&&si(!1,"A router only supports one blocker at a time");let Re=Array.from(He.entries()),[Fe,Ze]=Re[Re.length-1],Qe=P.blockers.get(Fe);if(!(Qe&&Qe.state==="proceeding")&&Ze({currentLocation:re,nextLocation:de,historyAction:ge}))return Fe}function ys(re){let de=Ds(404,{pathname:re}),ge=d||l,{matches:Re,route:Fe}=r3(ge);return{notFoundMatches:Re,route:Fe,error:de}}function Ql(re,de,ge){if(E=re,M=de,T=ge||null,!R&&P.navigation===Ox){R=!0;let Re=Jl(P.location,P.matches);Re!=null&&dn({restoreScrollPosition:Re})}return()=>{E=null,M=null,T=null}}function Vt(re,de){return T&&T(re,de.map(Re=>hk(Re,P.loaderData)))||re.key}function gr(re,de){if(E&&M){let ge=Vt(re,de);E[ge]=M()}}function Jl(re,de){if(E){let ge=Vt(re,de),Re=E[ge];if(typeof Re=="number")return Re}return null}function sa(re,de,ge){if(t.patchRoutesOnNavigation)if(re){if(Object.keys(re[0].params).length>0)return{active:!0,matches:C1(de,ge,f,!0)}}else return{active:!0,matches:C1(de,ge,f,!0)||[]};return{active:!1,matches:null}}async function Ai(re,de,ge,Re){if(!t.patchRoutesOnNavigation)return{type:"success",matches:re};let Fe=re;for(;;){let Ze=d==null,Qe=d||l,Ge=s;try{await t.patchRoutesOnNavigation({signal:ge,path:de,matches:Fe,fetcherKey:Re,patch:(dt,nt)=>{ge.aborted||YC(dt,nt,Qe,Ge,r)}})}catch(dt){return{type:"error",error:dt,partialMatches:Fe}}finally{Ze&&!ge.aborted&&(l=[...l])}if(ge.aborted)return{type:"aborted"};let Ye=Tl(Qe,de,f);if(Ye)return{type:"success",matches:Ye};let Te=C1(Qe,de,f,!0);if(!Te||Fe.length===Te.length&&Fe.every((dt,nt)=>dt.route.id===Te[nt].route.id))return{type:"success",matches:null};Fe=Te}}function Fa(re){s={},d=j1(re,r,void 0,s)}function Qn(re,de){let ge=d==null;YC(re,de,d||l,s,r),ge&&(l=[...l],dn({}))}return D={get basename(){return f},get future(){return b},get state(){return P},get routes(){return l},get window(){return e},initialize:en,subscribe:oi,enableScrollRestoration:Ql,navigate:Bi,fetch:At,revalidate:Ot,createHref:re=>t.history.createHref(re),encodeLocation:re=>t.history.encodeLocation(re),getFetcher:nn,deleteFetcher:Yr,dispose:gt,getBlocker:an,deleteBlocker:jt,patchRoutes:Qn,_internalFetchControllers:Q,_internalSetRoutes:Fa},D}function Fk(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function f2(t,e,n,i,r,s){let l,d;if(r){l=[];for(let p of e)if(l.push(p),p.route.id===r){d=p;break}}else l=e,d=e[e.length-1];let f=Zm(i||".",Km(l),Fs(t.pathname,n)||t.pathname,s==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&d){let p=bb(f.search);if(d.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let b=new URLSearchParams(f.search),w=b.getAll("index");b.delete("index"),w.filter(E=>E).forEach(E=>b.append("index",E));let S=b.toString();f.search=S?`?${S}`:""}}return n!=="/"&&(f.pathname=f.pathname==="/"?n:Da([n,f.pathname])),Hl(f)}function WC(t,e,n){if(!n||!Fk(n))return{path:e};if(n.formMethod&&!Zk(n.formMethod))return{path:e,error:Ds(405,{method:n.formMethod})};let i=()=>({path:e,error:Ds(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),l=iA(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!fs(s))return i();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((S,[E,T])=>`${S}${E}=${T}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!fs(s))return i();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:l,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return i()}}}qt(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=m2(n.formData),f=n.formData;else if(n.body instanceof FormData)d=m2(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=e3(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=e3(d)}catch{return i()}let p={formMethod:s,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(fs(p.formMethod))return{path:e,submission:p};let b=Wl(e);return t&&b.search&&bb(b.search)&&d.append("index",""),b.search=`?${d}`,{path:Hl(b),submission:p}}function XC(t,e,n,i,r,s,l,d,f,p,b,w,S,E,T,M,R,B,G,L){var Ce;let k=L?ds(L[1])?L[1].error:L[1].data:void 0,D=r.createURL(s.location),P=r.createURL(f),z;if(b&&s.errors){let Se=Object.keys(s.errors)[0];z=l.findIndex(te=>te.route.id===Se)}else if(L&&ds(L[1])){let Se=L[0];z=l.findIndex(te=>te.route.id===Se)-1}let U=L?L[1].statusCode:void 0,X=U&&U>=400,ne={currentUrl:D,currentParams:((Ce=s.matches[0])==null?void 0:Ce.params)||{},nextUrl:P,nextParams:l[0].params,...d,actionResult:k,actionStatus:U},ee=l.map((Se,te)=>{let{route:Q}=Se,le=null;if(z!=null&&te>z?le=!1:Q.lazy?le=!0:Q.loader==null?le=!1:b?le=h2(Q,s.loaderData,s.errors):zk(s.loaderData,s.matches[te],Se)&&(le=!0),le!==null)return p2(n,i,t,Se,p,e,le);let xe=X?!1:w||D.pathname+D.search===P.pathname+P.search||D.search!==P.search||Hk(s.matches[te],Se),Be={...ne,defaultShouldRevalidate:xe},K=z1(Se,Be);return p2(n,i,t,Se,p,e,K,Be)}),oe=[];return T.forEach((Se,te)=>{if(b||!l.some(Oe=>Oe.route.id===Se.routeId)||E.has(te))return;let Q=s.fetchers.get(te),le=Q&&Q.state!=="idle"&&Q.data===void 0,xe=Tl(R,Se.path,B);if(!xe){if(G&&le)return;oe.push({key:te,routeId:Se.routeId,path:Se.path,matches:null,match:null,request:null,controller:null});return}if(M.has(te))return;let Be=zf(xe,Se.path),K=new AbortController,ue=id(r,Se.path,K.signal),Ee=null;if(S.has(te))S.delete(te),Ee=dd(n,i,ue,xe,Be,p,e);else if(le)w&&(Ee=dd(n,i,ue,xe,Be,p,e));else{let Oe={...ne,defaultShouldRevalidate:X?!1:w};z1(Be,Oe)&&(Ee=dd(n,i,ue,xe,Be,p,e,Oe))}Ee&&oe.push({key:te,routeId:Se.routeId,path:Se.path,matches:Ee,match:Be,request:ue,controller:K})}),{dsMatches:ee,revalidatingFetchers:oe}}function h2(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&t.id in e,r=n!=null&&n[t.id]!==void 0;return!i&&r?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!r}function zk(t,e,n){let i=!e||n.route.id!==e.route.id,r=!t.hasOwnProperty(n.route.id);return i||r}function Hk(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function z1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function YC(t,e,n,i,r){let s;if(t){let f=i[t];qt(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),s=f.children}else s=n;let l=e.filter(f=>!s.some(p=>Q4(f,p))),d=j1(l,r,[t||"_","patch",String((s==null?void 0:s.length)||"0")],i);s.push(...d)}function Q4(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var r;return(r=e.children)==null?void 0:r.some(s=>Q4(n,s))}):!1}var KC=new WeakMap,J4=({key:t,route:e,manifest:n,mapRouteProperties:i})=>{let r=n[e.id];if(qt(r,"No route found in manifest"),!r.lazy||typeof r.lazy!="object")return;let s=r.lazy[t];if(!s)return;let l=KC.get(r);l||(l={},KC.set(r,l));let d=l[t];if(d)return d;let f=(async()=>{let p=ck(t),w=r[t]!==void 0&&t!=="hasErrorBoundary";if(p)si(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(w)si(!1,`Route "${r.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let S=await s();S!=null&&(Object.assign(r,{[t]:S}),Object.assign(r,i(r)))}typeof r.lazy=="object"&&(r.lazy[t]=void 0,Object.values(r.lazy).every(S=>S===void 0)&&(r.lazy=void 0))})();return l[t]=f,f},ZC=new WeakMap;function Uk(t,e,n,i,r){let s=n[t.id];if(qt(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let b=ZC.get(s);if(b)return{lazyRoutePromise:b,lazyHandlerPromise:b};let w=(async()=>{qt(typeof t.lazy=="function","No lazy route function found");let S=await t.lazy(),E={};for(let T in S){let M=S[T];if(M===void 0)continue;let R=dk(T),G=s[T]!==void 0&&T!=="hasErrorBoundary";R?si(!R,"Route property "+T+" is not a supported property to be returned from a lazy route function. This property will be ignored."):G?si(!G,`Route "${s.id}" has a static property "${T}" defined but its lazy function is also returning a value for this property. The lazy route property "${T}" will be ignored.`):E[T]=M}Object.assign(s,E),Object.assign(s,{...i(s),lazy:void 0})})();return ZC.set(s,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let l=Object.keys(t.lazy),d=[],f;for(let b of l){if(r&&r.includes(b))continue;let w=J4({key:b,route:t,manifest:n,mapRouteProperties:i});w&&(d.push(w),b===e&&(f=w))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p==null||p.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function QC(t){let e=t.matches.filter(r=>r.shouldLoad),n={};return(await Promise.all(e.map(r=>r.resolve()))).forEach((r,s)=>{n[e[s].route.id]=r}),n}async function $k(t){return t.matches.some(e=>e.route.unstable_middleware)?eA(t,!1,()=>QC(t),(e,n)=>({[n]:{type:"error",result:e}})):QC(t)}async function eA(t,e,n,i){let{matches:r,request:s,params:l,context:d}=t,f={handlerResult:void 0};try{let p=r.flatMap(w=>w.route.unstable_middleware?w.route.unstable_middleware.map(S=>[w.route.id,S]):[]),b=await tA({request:s,params:l,context:d},p,e,f,n);return e?b:f.handlerResult}catch(p){if(!f.middlewareError)throw p;let b=await i(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,b):b}}async function tA(t,e,n,i,r,s=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let d=e[s];if(!d)return i.handlerResult=await r(),i.handlerResult;let[f,p]=d,b=!1,w,S=async()=>{if(b)throw new Error("You may only call `next()` once per middleware");b=!0,await tA(t,e,n,i,r,s+1)};try{let E=await p({request:t.request,params:t.params,context:t.context},S);return b?E===void 0?w:E:S()}catch(E){throw i.middlewareError?i.middlewareError.error!==E&&(i.middlewareError={routeId:f,error:E}):i.middlewareError={routeId:f,error:E},E}}function nA(t,e,n,i,r){let s=J4({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:t}),l=Uk(i.route,fs(n.method)?"action":"loader",e,t,r);return{middleware:s,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function p2(t,e,n,i,r,s,l,d=null){let f=!1,p=nA(t,e,n,i,r);return{...i,_lazyPromises:p,shouldLoad:l,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(b){return f=!0,d?typeof b=="boolean"?z1(i,{...d,defaultShouldRevalidate:b}):z1(i,d):l},resolve(b){return f||l||b&&n.method==="GET"&&(i.route.lazy||i.route.loader)?Gk({request:n,match:i,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:b,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function dd(t,e,n,i,r,s,l,d=null){return i.map(f=>f.route.id!==r.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:nA(t,e,n,f,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:p2(t,e,n,f,s,l,!0,d))}async function Vk(t,e,n,i,r,s){n.some(p=>{var b;return(b=p._lazyPromises)==null?void 0:b.middleware})&&await Promise.all(n.map(p=>{var b;return(b=p._lazyPromises)==null?void 0:b.middleware}));let l={request:e,params:n[0].params,context:r,matches:n},f=await t({...l,fetcherKey:i,unstable_runClientMiddleware:p=>{let b=l;return eA(b,!1,()=>p({...b,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(w,S)=>({[S]:{type:"error",result:w}}))}});try{await Promise.all(n.flatMap(p=>{var b,w;return[(b=p._lazyPromises)==null?void 0:b.handler,(w=p._lazyPromises)==null?void 0:w.route]}))}catch{}return f}async function Gk({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:r,scopedContext:s}){let l,d,f=fs(t.method),p=f?"action":"loader",b=w=>{let S,E=new Promise((R,B)=>S=B);d=()=>S(),t.signal.addEventListener("abort",d);let T=R=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):w({request:t,params:e.params,context:s},...R!==void 0?[R]:[]),M=(async()=>{try{return{type:"data",result:await(r?r(B=>T(B)):T())}}catch(R){return{type:"error",result:R}}})();return Promise.race([M,E])};try{let w=f?e.route.action:e.route.loader;if(n||i)if(w){let S,[E]=await Promise.all([b(w).catch(T=>{S=T}),n,i]);if(S!==void 0)throw S;l=E}else{await n;let S=f?e.route.action:e.route.loader;if(S)[l]=await Promise.all([b(S),i]);else if(p==="action"){let E=new URL(t.url),T=E.pathname+E.search;throw Ds(405,{method:t.method,pathname:T,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(w)l=await b(w);else{let S=new URL(t.url),E=S.pathname+S.search;throw Ds(404,{pathname:E})}}catch(w){return{type:"error",result:w}}finally{d&&t.signal.removeEventListener("abort",d)}return l}async function qk(t){var i,r,s,l,d,f;let{result:e,type:n}=t;if(rA(e)){let p;try{let b=e.headers.get("Content-Type");b&&/\bapplication\/json\b/.test(b)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(b){return{type:"error",error:b}}return n==="error"?{type:"error",error:new F1(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return n==="error"?s3(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(r=e.init)!=null&&r.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new F1(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:sh(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:sh(e)?e.status:void 0}:s3(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Wk(t,e,n,i,r){let s=t.headers.get("Location");if(qt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!yb.test(s)){let l=i.slice(0,i.findIndex(d=>d.route.id===n)+1);s=f2(new URL(e.url),l,r,s),t.headers.set("Location",s)}return t}function JC(t,e,n){if(yb.test(t)){let i=t,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=Fs(r.pathname,n)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return t}function id(t,e,n,i){let r=t.createURL(iA(e)).toString(),s={signal:n};if(i&&fs(i.formMethod)){let{formMethod:l,formEncType:d}=i;s.method=l.toUpperCase(),d==="application/json"?(s.headers=new Headers({"Content-Type":d}),s.body=JSON.stringify(i.json)):d==="text/plain"?s.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?s.body=m2(i.formData):s.body=i.formData}return new Request(r,s)}function m2(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function e3(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function Xk(t,e,n,i=!1,r=!1){let s={},l=null,d,f=!1,p={},b=n&&ds(n[1])?n[1].error:void 0;return t.forEach(w=>{if(!(w.route.id in e))return;let S=w.route.id,E=e[S];if(qt(!Mc(E),"Cannot handle redirect results in processLoaderData"),ds(E)){let T=E.error;if(b!==void 0&&(T=b,b=void 0),l=l||{},r)l[S]=T;else{let M=Nc(t,S);l[M.route.id]==null&&(l[M.route.id]=T)}i||(s[S]=Z4),f||(f=!0,d=sh(E.error)?E.error.status:500),E.headers&&(p[S]=E.headers)}else s[S]=E.data,E.statusCode&&E.statusCode!==200&&!f&&(d=E.statusCode),E.headers&&(p[S]=E.headers)}),b!==void 0&&n&&(l={[n[0]]:b},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:l,statusCode:d||200,loaderHeaders:p}}function t3(t,e,n,i,r,s){let{loaderData:l,errors:d}=Xk(e,n,i);return r.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:b,controller:w}=f,S=s[p];if(qt(S,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(ds(S)){let E=Nc(t.matches,b==null?void 0:b.route.id);d&&d[E.route.id]||(d={...d,[E.route.id]:S.error}),t.fetchers.delete(p)}else if(Mc(S))qt(!1,"Unhandled fetcher revalidation redirect");else{let E=_l(S.data);t.fetchers.set(p,E)}}),{loaderData:l,errors:d}}function n3(t,e,n,i){let r=Object.entries(e).filter(([,s])=>s!==Z4).reduce((s,[l,d])=>(s[l]=d,s),{});for(let s of n){let l=s.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&s.route.loader&&(r[l]=t[l]),i&&i.hasOwnProperty(l))break}return r}function i3(t){return t?ds(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Nc(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function r3(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ds(t,{pathname:e,routeId:n,method:i,type:r,message:s}={}){let l="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&e&&n?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:r==="invalid-body"&&(d="Unable to encode submission body")):t===403?(l="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",d=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",i&&e&&n?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new F1(t||500,l,new Error(d),!0)}function Gp(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,r]=e[n];if(Mc(r))return{key:i,result:r}}}function iA(t){let e=typeof t=="string"?Wl(t):t;return Hl({...e,hash:""})}function Yk(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Kk(t){return rA(t.result)&&Dk.has(t.result.status)}function ds(t){return t.type==="error"}function Mc(t){return(t&&t.type)==="redirect"}function s3(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function rA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Zk(t){return Rk.has(t.toUpperCase())}function fs(t){return Mk.has(t.toUpperCase())}function bb(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function zf(t,e){let n=typeof e=="string"?Wl(e).search:e.search;if(t[t.length-1].route.index&&bb(n||""))return t[t.length-1];let i=X4(t);return i[i.length-1]}function a3(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:s,json:l}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:l,text:void 0}}}function Rx(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Qk(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ef(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Jk(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function _l(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function eM(t,e){try{let n=t.sessionStorage.getItem(K4);if(n){let i=JSON.parse(n);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function tM(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(K4,JSON.stringify(n))}catch(i){si(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function nM(){let t,e,n=new Promise((i,r)=>{t=async s=>{i(s);try{await n}catch{}},e=async s=>{r(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var eu=j.createContext(null);eu.displayName="DataRouter";var wh=j.createContext(null);wh.displayName="DataRouterState";var vb=j.createContext({isTransitioning:!1});vb.displayName="ViewTransition";var sA=j.createContext(new Map);sA.displayName="Fetchers";var iM=j.createContext(null);iM.displayName="Await";var ta=j.createContext(null);ta.displayName="Navigation";var Qm=j.createContext(null);Qm.displayName="Location";var zs=j.createContext({outlet:null,matches:[],isDataRoute:!1});zs.displayName="Route";var wb=j.createContext(null);wb.displayName="RouteError";function rM(t,{relative:e}={}){qt(Sd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(ta),{hash:r,pathname:s,search:l}=_h(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:Da([n,s])),i.createHref({pathname:d,search:l,hash:r})}function Sd(){return j.useContext(Qm)!=null}function yi(){return qt(Sd(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Qm).location}var aA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oA(t){j.useContext(ta).static||j.useLayoutEffect(t)}function Jt(){let{isDataRoute:t}=j.useContext(zs);return t?bM():sM()}function sM(){qt(Sd(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(eu),{basename:e,navigator:n}=j.useContext(ta),{matches:i}=j.useContext(zs),{pathname:r}=yi(),s=JSON.stringify(Km(i)),l=j.useRef(!1);return oA(()=>{l.current=!0}),j.useCallback((f,p={})=>{if(si(l.current,aA),!l.current)return;if(typeof f=="number"){n.go(f);return}let b=Zm(f,JSON.parse(s),r,p.relative==="path");t==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Da([e,b.pathname])),(p.replace?n.replace:n.push)(b,p.state,p)},[e,n,s,r,t])}var aM=j.createContext(null);function oM(t){let e=j.useContext(zs).outlet;return e&&j.createElement(aM.Provider,{value:t},e)}function Hs(){let{matches:t}=j.useContext(zs),e=t[t.length-1];return e?e.params:{}}function _h(t,{relative:e}={}){let{matches:n}=j.useContext(zs),{pathname:i}=yi(),r=JSON.stringify(Km(n));return j.useMemo(()=>Zm(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function lM(t,e,n,i){qt(Sd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=j.useContext(ta),{matches:s}=j.useContext(zs),l=s[s.length-1],d=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",b=l&&l.route;{let B=b&&b.path||"";lA(f,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=yi(),S;S=w;let E=S.pathname||"/",T=E;if(p!=="/"){let B=p.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(B.length).join("/")}let M=Tl(t,{pathname:T});return si(b||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),si(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),hM(M&&M.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:Da([p,r.encodeLocation?r.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:Da([p,r.encodeLocation?r.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),s,n,i)}function cM(){let t=yM(),e=sh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:r},n):null,l)}var uM=j.createElement(cM,null),dM=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?j.createElement(zs.Provider,{value:this.props.routeContext},j.createElement(wb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fM({routeContext:t,match:e,children:n}){let i=j.useContext(eu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(zs.Provider,{value:t},n)}function hM(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,s=n==null?void 0:n.errors;if(s!=null){let f=r.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);qt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let l=!1,d=-1;if(n)for(let f=0;f<r.length;f++){let p=r[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:b,errors:w}=n,S=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||S){l=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((f,p,b)=>{let w,S=!1,E=null,T=null;n&&(w=s&&p.route.id?s[p.route.id]:void 0,E=p.route.errorElement||uM,l&&(d<0&&b===0?(lA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):d===b&&(S=!0,T=p.route.hydrateFallbackElement||null)));let M=e.concat(r.slice(0,b+1)),R=()=>{let B;return w?B=E:S?B=T:p.route.Component?B=j.createElement(p.route.Component,null):p.route.element?B=p.route.element:B=f,j.createElement(fM,{match:p,routeContext:{outlet:f,matches:M,isDataRoute:n!=null},children:B})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?j.createElement(dM,{location:n.location,revalidation:n.revalidation,component:E,error:w,children:R(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):R()},null)}function _b(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pM(t){let e=j.useContext(eu);return qt(e,_b(t)),e}function mM(t){let e=j.useContext(wh);return qt(e,_b(t)),e}function gM(t){let e=j.useContext(zs);return qt(e,_b(t)),e}function Cb(t){let e=gM(t),n=e.matches[e.matches.length-1];return qt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xM(){return Cb("useRouteId")}function yM(){var i;let t=j.useContext(wb),e=mM("useRouteError"),n=Cb("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function bM(){let{router:t}=pM("useNavigate"),e=Cb("useNavigate"),n=j.useRef(!1);return oA(()=>{n.current=!0}),j.useCallback(async(r,s={})=>{si(n.current,aA),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var o3={};function lA(t,e,n){!e&&!o3[t]&&(o3[t]=!0,si(!1,n))}var l3={};function c3(t,e){!t&&!l3[e]&&(l3[e]=!0,console.warn(e))}function vM(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&si(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:j.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&si(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:j.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&si(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:j.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var wM=["HydrateFallback","hydrateFallbackElement"],_M=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function CM({router:t,flushSync:e}){let[n,i]=j.useState(t.state),[r,s]=j.useState(),[l,d]=j.useState({isTransitioning:!1}),[f,p]=j.useState(),[b,w]=j.useState(),[S,E]=j.useState(),T=j.useRef(new Map),M=j.useCallback((L,{deletedFetchers:k,flushSync:D,viewTransitionOpts:P})=>{L.fetchers.forEach((U,X)=>{U.data!==void 0&&T.current.set(X,U.data)}),k.forEach(U=>T.current.delete(U)),c3(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let z=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(c3(P==null||z,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!z){e&&D?e(()=>i(L)):j.startTransition(()=>i(L));return}if(e&&D){e(()=>{b&&(f&&f.resolve(),b.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let U=t.window.document.startViewTransition(()=>{e(()=>i(L))});U.finished.finally(()=>{e(()=>{p(void 0),w(void 0),s(void 0),d({isTransitioning:!1})})}),e(()=>w(U));return}b?(f&&f.resolve(),b.skipTransition(),E({state:L,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(s(L),d({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[t.window,e,b,f]);j.useLayoutEffect(()=>t.subscribe(M),[t,M]),j.useEffect(()=>{l.isTransitioning&&!l.flushSync&&p(new _M)},[l]),j.useEffect(()=>{if(f&&r&&t.window){let L=r,k=f.promise,D=t.window.document.startViewTransition(async()=>{j.startTransition(()=>i(L)),await k});D.finished.finally(()=>{p(void 0),w(void 0),s(void 0),d({isTransitioning:!1})}),w(D)}},[r,f,t.window]),j.useEffect(()=>{f&&r&&n.location.key===r.location.key&&f.resolve()},[f,b,n.location,r]),j.useEffect(()=>{!l.isTransitioning&&S&&(s(S.state),d({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),E(void 0))},[l.isTransitioning,S]);let R=j.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:L=>t.navigate(L),push:(L,k,D)=>t.navigate(L,{state:k,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(L,k,D)=>t.navigate(L,{replace:!0,state:k,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[t]),B=t.basename||"/",G=j.useMemo(()=>({router:t,navigator:R,static:!1,basename:B}),[t,R,B]);return j.createElement(j.Fragment,null,j.createElement(eu.Provider,{value:G},j.createElement(wh.Provider,{value:n},j.createElement(sA.Provider,{value:T.current},j.createElement(vb.Provider,{value:l},j.createElement(TM,{basename:B,location:n.location,navigationType:n.historyAction,navigator:R},j.createElement(SM,{routes:t.routes,future:t.future,state:n})))))),null)}var SM=j.memo(EM);function EM({routes:t,future:e,state:n}){return lM(t,void 0,n,e)}function AM({to:t,replace:e,state:n,relative:i}){qt(Sd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=j.useContext(ta);si(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=j.useContext(zs),{pathname:l}=yi(),d=Jt(),f=Zm(t,Km(s),l,i==="path"),p=JSON.stringify(f);return j.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function Sb(t){return oM(t.context)}function TM({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){qt(!Sd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:l,navigator:r,static:s,future:{}}),[l,r,s]);typeof n=="string"&&(n=Wl(n));let{pathname:f="/",search:p="",hash:b="",state:w=null,key:S="default"}=n,E=j.useMemo(()=>{let T=Fs(f,l);return T==null?null:{location:{pathname:T,search:p,hash:b,state:w,key:S},navigationType:i}},[l,f,p,b,w,S,i]);return si(E!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${b}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:j.createElement(ta.Provider,{value:d},j.createElement(Qm.Provider,{children:e,value:E}))}var S1="get",E1="application/x-www-form-urlencoded";function Jm(t){return t!=null&&typeof t.tagName=="string"}function NM(t){return Jm(t)&&t.tagName.toLowerCase()==="button"}function IM(t){return Jm(t)&&t.tagName.toLowerCase()==="form"}function kM(t){return Jm(t)&&t.tagName.toLowerCase()==="input"}function MM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OM(t,e){return t.button===0&&(!e||e==="_self")&&!MM(t)}function g2(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(r=>[n,r]):[[n,i]])},[]))}function RM(t,e){let n=g2(t);return e&&e.forEach((i,r)=>{n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)})}),n}var qp=null;function DM(){if(qp===null)try{new FormData(document.createElement("form"),0),qp=!1}catch{qp=!0}return qp}var BM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dx(t){return t!=null&&!BM.has(t)?(si(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${E1}"`),null):t}function LM(t,e){let n,i,r,s,l;if(IM(t)){let d=t.getAttribute("action");i=d?Fs(d,e):null,n=t.getAttribute("method")||S1,r=Dx(t.getAttribute("enctype"))||E1,s=new FormData(t)}else if(NM(t)||kM(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?Fs(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||S1,r=Dx(t.getAttribute("formenctype"))||Dx(d.getAttribute("enctype"))||E1,s=new FormData(d,t),!DM()){let{name:p,type:b,value:w}=t;if(b==="image"){let S=p?`${p}.`:"";s.append(`${S}x`,"0"),s.append(`${S}y`,"0")}else p&&s.append(p,w)}}else{if(Jm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=S1,i=null,r=E1,l=t}return s&&r==="text/plain"&&(l=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:l}}function Eb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function jM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function FM(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let l=await jM(s,n);return l.links?l.links():[]}return[]}));return $M(i.flat(1).filter(PM).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function u3(t,e,n,i,r,s){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var b;return n[p].pathname!==f.pathname||((b=n[p].route.path)==null?void 0:b.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,p)=>l(f,p)||d(f,p)):s==="data"?e.filter((f,p)=>{var w;let b=i.routes[f.route.id];if(!b||!b.hasLoader)return!1;if(l(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let S=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function zM(t,e,{includeHydrateFallback:n}={}){return HM(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function HM(t){return[...new Set(t)]}function UM(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function $M(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(UM(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VM=new Set([100,101,204,205]);function GM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Fs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function cA(){let t=j.useContext(eu);return Eb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function qM(){let t=j.useContext(wh);return Eb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ab=j.createContext(void 0);Ab.displayName="FrameworkContext";function uA(){let t=j.useContext(Ab);return Eb(t,"You must render this element inside a <HydratedRouter> element"),t}function WM(t,e){let n=j.useContext(Ab),[i,r]=j.useState(!1),[s,l]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:b,onTouchStart:w}=e,S=j.useRef(null);j.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let M=B=>{B.forEach(G=>{l(G.isIntersecting)})},R=new IntersectionObserver(M,{threshold:.5});return S.current&&R.observe(S.current),()=>{R.disconnect()}}},[t]),j.useEffect(()=>{if(i){let M=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(M)}}},[i]);let E=()=>{r(!0)},T=()=>{r(!1),l(!1)};return n?t!=="intent"?[s,S,{}]:[s,S,{onFocus:Af(d,E),onBlur:Af(f,T),onMouseEnter:Af(p,E),onMouseLeave:Af(b,T),onTouchStart:Af(w,E)}]:[!1,S,{}]}function Af(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function XM({page:t,...e}){let{router:n}=cA(),i=j.useMemo(()=>Tl(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?j.createElement(KM,{page:t,matches:i,...e}):null}function YM(t){let{manifest:e,routeModules:n}=uA(),[i,r]=j.useState([]);return j.useEffect(()=>{let s=!1;return FM(t,e,n).then(l=>{s||r(l)}),()=>{s=!0}},[t,e,n]),i}function KM({page:t,matches:e,...n}){let i=yi(),{manifest:r,routeModules:s}=uA(),{basename:l}=cA(),{loaderData:d,matches:f}=qM(),p=j.useMemo(()=>u3(t,e,f,r,i,"data"),[t,e,f,r,i]),b=j.useMemo(()=>u3(t,e,f,r,i,"assets"),[t,e,f,r,i]),w=j.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let T=new Set,M=!1;if(e.forEach(B=>{var L;let G=r.routes[B.route.id];!G||!G.hasLoader||(!p.some(k=>k.route.id===B.route.id)&&B.route.id in d&&((L=s[B.route.id])!=null&&L.shouldRevalidate)||G.hasClientLoader?M=!0:T.add(B.route.id))}),T.size===0)return[];let R=GM(t,l);return M&&T.size>0&&R.searchParams.set("_routes",e.filter(B=>T.has(B.route.id)).map(B=>B.route.id).join(",")),[R.pathname+R.search]},[l,d,i,r,p,e,t,s]),S=j.useMemo(()=>zM(b,r),[b,r]),E=YM(b);return j.createElement(j.Fragment,null,w.map(T=>j.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),S.map(T=>j.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),E.map(({key:T,link:M})=>j.createElement("link",{key:T,...M})))}function ZM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dA&&(window.__reactRouterVersion="7.6.1")}catch{}function QM(t,e){return Pk({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:sk({window:e==null?void 0:e.window}),hydrationData:JM(),routes:t,mapRouteProperties:vM,hydrationRouteProperties:wM,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function JM(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:eO(t.errors)}),t}function eO(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new F1(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let l=new s(r.message);l.stack="",n[i]=l}catch{}}if(n[i]==null){let s=new Error(r.message);s.stack="",n[i]=s}}else n[i]=r;return n}var fA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=j.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:l,state:d,target:f,to:p,preventScrollReset:b,viewTransition:w,...S},E){let{basename:T}=j.useContext(ta),M=typeof p=="string"&&fA.test(p),R,B=!1;if(typeof p=="string"&&M&&(R=p,dA))try{let X=new URL(window.location.href),ne=p.startsWith("//")?new URL(X.protocol+p):new URL(p),ee=Fs(ne.pathname,T);ne.origin===X.origin&&ee!=null?p=ee+ne.search+ne.hash:B=!0}catch{si(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=rM(p,{relative:r}),[L,k,D]=WM(i,S),P=iO(p,{replace:l,state:d,target:f,preventScrollReset:b,relative:r,viewTransition:w});function z(X){e&&e(X),X.defaultPrevented||P(X)}let U=j.createElement("a",{...S,...D,href:R||G,onClick:B||s?e:z,ref:ZM(E,k),target:f,"data-discover":!M&&n==="render"?"true":void 0});return L&&!M?j.createElement(j.Fragment,null,U,j.createElement(XM,{page:G})):U});Rn.displayName="Link";var hA=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:l,viewTransition:d,children:f,...p},b){let w=_h(l,{relative:p.relative}),S=yi(),E=j.useContext(wh),{navigator:T,basename:M}=j.useContext(ta),R=E!=null&&cO(w)&&d===!0,B=T.encodeLocation?T.encodeLocation(w).pathname:w.pathname,G=S.pathname,L=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(G=G.toLowerCase(),L=L?L.toLowerCase():null,B=B.toLowerCase()),L&&M&&(L=Fs(L,M)||L);const k=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let D=G===B||!r&&G.startsWith(B)&&G.charAt(k)==="/",P=L!=null&&(L===B||!r&&L.startsWith(B)&&L.charAt(B.length)==="/"),z={isActive:D,isPending:P,isTransitioning:R},U=D?e:void 0,X;typeof i=="function"?X=i(z):X=[i,D?"active":null,P?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ne=typeof s=="function"?s(z):s;return j.createElement(Rn,{...p,"aria-current":U,className:X,ref:b,style:ne,to:l,viewTransition:d},typeof f=="function"?f(z):f)});hA.displayName="NavLink";var tO=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:l=S1,action:d,onSubmit:f,relative:p,preventScrollReset:b,viewTransition:w,...S},E)=>{let T=oO(),M=lO(d,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&fA.test(d),G=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let k=L.nativeEvent.submitter,D=(k==null?void 0:k.getAttribute("formmethod"))||l;T(k||L.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:r,state:s,relative:p,preventScrollReset:b,viewTransition:w})};return j.createElement("form",{ref:E,method:R,action:M,onSubmit:i?f:G,...S,"data-discover":!B&&t==="render"?"true":void 0})});tO.displayName="Form";function nO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pA(t){let e=j.useContext(eu);return qt(e,nO(t)),e}function iO(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:l}={}){let d=Jt(),f=yi(),p=_h(t,{relative:s});return j.useCallback(b=>{if(OM(b,e)){b.preventDefault();let w=n!==void 0?n:Hl(f)===Hl(p);d(t,{replace:w,state:i,preventScrollReset:r,relative:s,viewTransition:l})}},[f,d,p,n,i,e,t,r,s,l])}function rO(t){si(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(g2(t)),n=j.useRef(!1),i=yi(),r=j.useMemo(()=>RM(i.search,n.current?null:e.current),[i.search]),s=Jt(),l=j.useCallback((d,f)=>{const p=g2(typeof d=="function"?d(r):d);n.current=!0,s("?"+p,f)},[s,r]);return[r,l]}var sO=0,aO=()=>`__${String(++sO)}__`;function oO(){let{router:t}=pA("useSubmit"),{basename:e}=j.useContext(ta),n=xM();return j.useCallback(async(i,r={})=>{let{action:s,method:l,encType:d,formData:f,body:p}=LM(i,e);if(r.navigate===!1){let b=r.fetcherKey||aO();await t.fetch(b,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||l,formEncType:r.encType||d,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||l,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function lO(t,{relative:e}={}){let{basename:n}=j.useContext(ta),i=j.useContext(zs);qt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={..._h(t||".",{relative:e})},l=yi();if(t==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(b=>b==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let b=d.toString();s.search=b?`?${b}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Da([n,s.pathname])),Hl(s)}function cO(t,e={}){let n=j.useContext(vb);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pA("useViewTransitionState"),r=_h(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Fs(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Fs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return P1(r.pathname,l)!=null||P1(r.pathname,s)!=null}[...VM];var mA=U4();const uO=jo(mA);/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dO(t){return j.createElement(CM,{flushSync:mA.flushSync,...t})}function gA(){const{pathname:t}=yi();return j.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const fO="_headerLayout_1wv7b_1",hO="_logoSpan_1wv7b_37",pO="_rightSection_1wv7b_75",mO="_notificationButton_1wv7b_99",Wp={headerLayout:fO,logoSpan:hO,rightSection:pO,notificationButton:mO};var Xp={},d3;function gO(){if(d3)return Xp;d3=1,Xp.match=s,Xp.parse=l;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,r=/(dpi|dpcm|dppx)?$/;function s(b,w){return l(b).some(function(S){var E=S.inverse,T=S.type==="all"||w.type===S.type;if(T&&E||!(T||E))return!1;var M=S.expressions.every(function(R){var B=R.feature,G=R.modifier,L=R.value,k=w[B];if(!k)return!1;switch(B){case"orientation":case"scan":return k.toLowerCase()===L.toLowerCase();case"width":case"height":case"device-width":case"device-height":L=p(L),k=p(k);break;case"resolution":L=f(L),k=f(k);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":L=d(L),k=d(k);break;case"grid":case"color":case"color-index":case"monochrome":L=parseInt(L,10)||1,k=parseInt(k,10)||0;break}switch(G){case"min":return k>=L;case"max":return k<=L;default:return k===L}});return M&&!E||!M&&E})}function l(b){return b.split(",").map(function(w){w=w.trim();var S=w.match(t),E=S[1],T=S[2],M=S[3]||"",R={};return R.inverse=!!E&&E.toLowerCase()==="not",R.type=T?T.toLowerCase():"all",M=M.match(/\([^\)]+\)/g)||[],R.expressions=M.map(function(B){var G=B.match(e),L=G[1].toLowerCase().match(n);return{modifier:L[1],feature:L[2],value:G[2]}}),R})}function d(b){var w=Number(b),S;return w||(S=b.match(/^(\d+)\s*\/\s*(\d+)$/),w=S[1]/S[2]),w}function f(b){var w=parseFloat(b),S=String(b).match(r)[1];switch(S){case"dpcm":return w/2.54;case"dppx":return w*96;default:return w}}function p(b){var w=parseFloat(b),S=String(b).match(i)[1];switch(S){case"em":return w*16;case"rem":return w*16;case"cm":return w*96/2.54;case"mm":return w*96/2.54/10;case"in":return w*96;case"pt":return w*72;case"pc":return w*72/12;default:return w}}return Xp}var Bx,f3;function xO(){if(f3)return Bx;f3=1;var t=gO().match,e=typeof window<"u"?window.matchMedia:null;function n(r,s,l){var d=this,f;e&&!l&&(f=e.call(window,r)),f?(this.matches=f.matches,this.media=f.media,f.addListener(w)):(this.matches=t(r,s),this.media=r),this.addListener=p,this.removeListener=b,this.dispose=S;function p(E){f&&f.addListener(E)}function b(E){f&&f.removeListener(E)}function w(E){d.matches=E.matches,d.media=E.media}function S(){f&&f.removeListener(w)}}function i(r,s,l){return new n(r,s,l)}return Bx=i,Bx}var yO=xO();const bO=jo(yO);var vO=/[A-Z]/g,wO=/^ms-/,Lx={};function _O(t){return"-"+t.toLowerCase()}function xA(t){if(Lx.hasOwnProperty(t))return Lx[t];var e=t.replace(vO,_O);return Lx[t]=wO.test(e)?"-"+e:e}function CO(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),i=Object.keys(e),r=n.length;if(i.length!==r)return!1;for(let s=0;s<r;s++){const l=n[s];if(t[l]!==e[l]||!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0}var jx={exports:{}},Px,h3;function SO(){if(h3)return Px;h3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Px=t,Px}var Fx,p3;function EO(){if(p3)return Fx;p3=1;var t=SO();function e(){}function n(){}return n.resetWarningCache=e,Fx=function(){function i(l,d,f,p,b,w){if(w!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Fx}var m3;function Tb(){return m3||(m3=1,jx.exports=EO()()),jx.exports}var AO=Tb();const lt=jo(AO),Er=lt.oneOfType([lt.string,lt.number]),yA={all:lt.bool,grid:lt.bool,aural:lt.bool,braille:lt.bool,handheld:lt.bool,print:lt.bool,projection:lt.bool,screen:lt.bool,tty:lt.bool,tv:lt.bool,embossed:lt.bool},TO={orientation:lt.oneOf(["portrait","landscape"]),scan:lt.oneOf(["progressive","interlace"]),aspectRatio:lt.string,deviceAspectRatio:lt.string,height:Er,deviceHeight:Er,width:Er,deviceWidth:Er,color:lt.bool,colorIndex:lt.bool,monochrome:lt.bool,resolution:Er,type:Object.keys(yA)},{type:bpe,...NO}=TO,IO={minAspectRatio:lt.string,maxAspectRatio:lt.string,minDeviceAspectRatio:lt.string,maxDeviceAspectRatio:lt.string,minHeight:Er,maxHeight:Er,minDeviceHeight:Er,maxDeviceHeight:Er,minWidth:Er,maxWidth:Er,minDeviceWidth:Er,maxDeviceWidth:Er,minColor:lt.number,maxColor:lt.number,minColorIndex:lt.number,maxColorIndex:lt.number,minMonochrome:lt.number,maxMonochrome:lt.number,minResolution:Er,maxResolution:Er,...NO},kO={...yA,...IO};var MO={all:kO};const OO=t=>`not ${t}`,RO=(t,e)=>{const n=xA(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?OO(n):`(${n}: ${e})`},DO=t=>t.join(" and "),BO=t=>{const e=[];return Object.keys(MO.all).forEach(n=>{const i=t[n];i!=null&&e.push(RO(n,i))}),DO(e)},LO=j.createContext(void 0),jO=t=>t.query||BO(t),g3=t=>t?Object.keys(t).reduce((n,i)=>(n[xA(i)]=t[i],n),{}):void 0,bA=()=>{const t=j.useRef(!1);return j.useEffect(()=>{t.current=!0},[]),t.current},PO=t=>{const e=j.useContext(LO),n=()=>g3(t)||g3(e),[i,r]=j.useState(n);return j.useEffect(()=>{const s=n();CO(i,s)||r(s)},[t,e]),i},FO=t=>{const e=()=>jO(t),[n,i]=j.useState(e);return j.useEffect(()=>{const r=e();n!==r&&i(r)},[t]),n},zO=(t,e)=>{const n=()=>bO(t,e||{},!!e),[i,r]=j.useState(n),s=bA();return j.useEffect(()=>{if(s){const l=n();return r(l),()=>{l&&l.dispose()}}},[t,e]),i},HO=t=>{const[e,n]=j.useState(t.matches);return j.useEffect(()=>{const i=r=>{n(r.matches)};return t.addListener(i),n(t.matches),()=>{t.removeListener(i)}},[t]),e},zx=(t,e,n)=>{const i=PO(e),r=FO(t);if(!r)throw new Error("Invalid or missing MediaQuery!");const s=zO(r,i),l=HO(s);return bA(),j.useEffect(()=>{},[l]),j.useEffect(()=>()=>{s&&s.dispose()},[]),l},vA=()=>{const t=zx({maxWidth:767}),e=zx({minWidth:768,maxWidth:1024}),n=zx({minWidth:1025});return{isMobile:t,isTablet:e,isDesktop:n}},UO="_overlay_ry9nc_1",$O="_menuLayout_ry9nc_33",VO="_menuVisible_ry9nc_75",GO="_menuHidden_ry9nc_83",qO="_closeContainer_ry9nc_91",WO="_closeButton_ry9nc_125",XO="_menuSection_ry9nc_183",YO="_userNickname_ry9nc_199",KO="_menuSpan_ry9nc_215",ZO="_divider_ry9nc_247",Hn={overlay:UO,menuLayout:$O,menuVisible:VO,menuHidden:GO,closeContainer:qO,closeButton:WO,menuSection:XO,userNickname:YO,menuSpan:KO,divider:ZO};function wA(t,e){return function(){return t.apply(e,arguments)}}const{toString:QO}=Object.prototype,{getPrototypeOf:Nb}=Object,{iterator:e0,toStringTag:_A}=Symbol,t0=(t=>e=>{const n=QO.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),na=t=>(t=t.toLowerCase(),e=>t0(e)===t),n0=t=>e=>typeof e===t,{isArray:Ed}=Array,gd=n0("undefined");function Ch(t){return t!==null&&!gd(t)&&t.constructor!==null&&!gd(t.constructor)&&$r(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const CA=na("ArrayBuffer");function JO(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&CA(t.buffer),e}const eR=n0("string"),$r=n0("function"),SA=n0("number"),Sh=t=>t!==null&&typeof t=="object",tR=t=>t===!0||t===!1,A1=t=>{if(t0(t)!=="object")return!1;const e=Nb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_A in t)&&!(e0 in t)},nR=t=>{if(!Sh(t)||Ch(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},iR=na("Date"),rR=na("File"),sR=na("Blob"),aR=na("FileList"),oR=t=>Sh(t)&&$r(t.pipe),lR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||$r(t.append)&&((e=t0(t))==="formdata"||e==="object"&&$r(t.toString)&&t.toString()==="[object FormData]"))},cR=na("URLSearchParams"),[uR,dR,fR,hR]=["ReadableStream","Request","Response","Headers"].map(na),pR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Eh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Ed(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{if(Ch(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),l=s.length;let d;for(i=0;i<l;i++)d=s[i],e.call(null,t[d],d,t)}}function EA(t,e){if(Ch(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Oc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,AA=t=>!gd(t)&&t!==Oc;function x2(){const{caseless:t,skipUndefined:e}=AA(this)&&this||{},n={},i=(r,s)=>{const l=t&&EA(n,s)||s;A1(n[l])&&A1(r)?n[l]=x2(n[l],r):A1(r)?n[l]=x2({},r):Ed(r)?n[l]=r.slice():(!e||!gd(r))&&(n[l]=r)};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Eh(arguments[r],i);return n}const mR=(t,e,n,{allOwnKeys:i}={})=>(Eh(e,(r,s)=>{n&&$r(r)?t[s]=wA(r,n):t[s]=r},{allOwnKeys:i}),t),gR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),xR=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},yR=(t,e,n,i)=>{let r,s,l;const d={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)l=r[s],(!i||i(l,t,e))&&!d[l]&&(e[l]=t[l],d[l]=!0);t=n!==!1&&Nb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},bR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},vR=t=>{if(!t)return null;if(Ed(t))return t;let e=t.length;if(!SA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},wR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Nb(Uint8Array)),_R=(t,e)=>{const i=(t&&t[e0]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},CR=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},SR=na("HTMLFormElement"),ER=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),x3=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),AR=na("RegExp"),TA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Eh(n,(r,s)=>{let l;(l=e(r,s,t))!==!1&&(i[s]=l||r)}),Object.defineProperties(t,i)},TR=t=>{TA(t,(e,n)=>{if($r(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if($r(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},NR=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return Ed(t)?i(t):i(String(t).split(e)),n},IR=()=>{},kR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function MR(t){return!!(t&&$r(t.append)&&t[_A]==="FormData"&&t[e0])}const OR=t=>{const e=new Array(10),n=(i,r)=>{if(Sh(i)){if(e.indexOf(i)>=0)return;if(Ch(i))return i;if(!("toJSON"in i)){e[r]=i;const s=Ed(i)?[]:{};return Eh(i,(l,d)=>{const f=n(l,r+1);!gd(f)&&(s[d]=f)}),e[r]=void 0,s}}return i};return n(t,0)},RR=na("AsyncFunction"),DR=t=>t&&(Sh(t)||$r(t))&&$r(t.then)&&$r(t.catch),NA=((t,e)=>t?setImmediate:e?((n,i)=>(Oc.addEventListener("message",({source:r,data:s})=>{r===Oc&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Oc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",$r(Oc.postMessage)),BR=typeof queueMicrotask<"u"?queueMicrotask.bind(Oc):typeof process<"u"&&process.nextTick||NA,LR=t=>t!=null&&$r(t[e0]),_e={isArray:Ed,isArrayBuffer:CA,isBuffer:Ch,isFormData:lR,isArrayBufferView:JO,isString:eR,isNumber:SA,isBoolean:tR,isObject:Sh,isPlainObject:A1,isEmptyObject:nR,isReadableStream:uR,isRequest:dR,isResponse:fR,isHeaders:hR,isUndefined:gd,isDate:iR,isFile:rR,isBlob:sR,isRegExp:AR,isFunction:$r,isStream:oR,isURLSearchParams:cR,isTypedArray:wR,isFileList:aR,forEach:Eh,merge:x2,extend:mR,trim:pR,stripBOM:gR,inherits:xR,toFlatObject:yR,kindOf:t0,kindOfTest:na,endsWith:bR,toArray:vR,forEachEntry:_R,matchAll:CR,isHTMLForm:SR,hasOwnProperty:x3,hasOwnProp:x3,reduceDescriptors:TA,freezeMethods:TR,toObjectSet:NR,toCamelCase:ER,noop:IR,toFiniteNumber:kR,findKey:EA,global:Oc,isContextDefined:AA,isSpecCompliantForm:MR,toJSONObject:OR,isAsyncFn:RR,isThenable:DR,setImmediate:NA,asap:BR,isIterable:LR};function It(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}_e.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const IA=It.prototype,kA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{kA[t]={value:t}});Object.defineProperties(It,kA);Object.defineProperty(IA,"isAxiosError",{value:!0});It.from=(t,e,n,i,r,s)=>{const l=Object.create(IA);_e.toFlatObject(t,l,function(b){return b!==Error.prototype},p=>p!=="isAxiosError");const d=t&&t.message?t.message:"Error",f=e==null&&t?t.code:e;return It.call(l,d,f,n,i,r),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",s&&Object.assign(l,s),l};const jR=null;function y2(t){return _e.isPlainObject(t)||_e.isArray(t)}function MA(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function y3(t,e,n){return t?t.concat(e).map(function(r,s){return r=MA(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function PR(t){return _e.isArray(t)&&!t.some(y2)}const FR=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});function i0(t,e,n){if(!_e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,R){return!_e.isUndefined(R[M])});const i=n.metaTokens,r=n.visitor||b,s=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(e);if(!_e.isFunction(r))throw new TypeError("visitor must be a function");function p(T){if(T===null)return"";if(_e.isDate(T))return T.toISOString();if(_e.isBoolean(T))return T.toString();if(!f&&_e.isBlob(T))throw new It("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(T)||_e.isTypedArray(T)?f&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function b(T,M,R){let B=T;if(T&&!R&&typeof T=="object"){if(_e.endsWith(M,"{}"))M=i?M:M.slice(0,-2),T=JSON.stringify(T);else if(_e.isArray(T)&&PR(T)||(_e.isFileList(T)||_e.endsWith(M,"[]"))&&(B=_e.toArray(T)))return M=MA(M),B.forEach(function(L,k){!(_e.isUndefined(L)||L===null)&&e.append(l===!0?y3([M],k,s):l===null?M:M+"[]",p(L))}),!1}return y2(T)?!0:(e.append(y3(R,M,s),p(T)),!1)}const w=[],S=Object.assign(FR,{defaultVisitor:b,convertValue:p,isVisitable:y2});function E(T,M){if(!_e.isUndefined(T)){if(w.indexOf(T)!==-1)throw Error("Circular reference detected in "+M.join("."));w.push(T),_e.forEach(T,function(B,G){(!(_e.isUndefined(B)||B===null)&&r.call(e,B,_e.isString(G)?G.trim():G,M,S))===!0&&E(B,M?M.concat(G):[G])}),w.pop()}}if(!_e.isObject(t))throw new TypeError("data must be an object");return E(t),e}function b3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Ib(t,e){this._pairs=[],t&&i0(t,this,e)}const OA=Ib.prototype;OA.append=function(e,n){this._pairs.push([e,n])};OA.toString=function(e){const n=e?function(i){return e.call(this,i,b3)}:b3;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function zR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function RA(t,e,n){if(!e)return t;const i=n&&n.encode||zR;_e.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=_e.isURLSearchParams(e)?e.toString():new Ib(e,n).toString(i),s){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class v3{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_e.forEach(this.handlers,function(i){i!==null&&e(i)})}}const DA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HR=typeof URLSearchParams<"u"?URLSearchParams:Ib,UR=typeof FormData<"u"?FormData:null,$R=typeof Blob<"u"?Blob:null,VR={isBrowser:!0,classes:{URLSearchParams:HR,FormData:UR,Blob:$R},protocols:["http","https","file","blob","url","data"]},kb=typeof window<"u"&&typeof document<"u",b2=typeof navigator=="object"&&navigator||void 0,GR=kb&&(!b2||["ReactNative","NativeScript","NS"].indexOf(b2.product)<0),qR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",WR=kb&&window.location.href||"http://localhost",XR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kb,hasStandardBrowserEnv:GR,hasStandardBrowserWebWorkerEnv:qR,navigator:b2,origin:WR},Symbol.toStringTag,{value:"Module"})),fr={...XR,...VR};function YR(t,e){return i0(t,new fr.classes.URLSearchParams,{visitor:function(n,i,r,s){return fr.isNode&&_e.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function KR(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ZR(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function BA(t){function e(n,i,r,s){let l=n[s++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),f=s>=n.length;return l=!l&&_e.isArray(r)?r.length:l,f?(_e.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!d):((!r[l]||!_e.isObject(r[l]))&&(r[l]=[]),e(n,i,r[l],s)&&_e.isArray(r[l])&&(r[l]=ZR(r[l])),!d)}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const n={};return _e.forEachEntry(t,(i,r)=>{e(KR(i),r,n,0)}),n}return null}function QR(t,e,n){if(_e.isString(t))try{return(e||JSON.parse)(t),_e.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Ah={transitional:DA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=_e.isObject(e);if(s&&_e.isHTMLForm(e)&&(e=new FormData(e)),_e.isFormData(e))return r?JSON.stringify(BA(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return YR(e,this.formSerializer).toString();if((d=_e.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return i0(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),QR(e)):e}],transformResponse:[function(e){const n=this.transitional||Ah.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(i&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(d){if(l)throw d.name==="SyntaxError"?It.from(d,It.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fr.classes.FormData,Blob:fr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],t=>{Ah.headers[t]={}});const JR=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e7=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!n||e[n]&&JR[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},w3=Symbol("internals");function Tf(t){return t&&String(t).trim().toLowerCase()}function T1(t){return t===!1||t==null?t:_e.isArray(t)?t.map(T1):String(t)}function t7(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const n7=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Hx(t,e,n,i,r){if(_e.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!_e.isString(e)){if(_e.isString(i))return e.indexOf(i)!==-1;if(_e.isRegExp(i))return i.test(e)}}function i7(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function r7(t,e){const n=_e.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,l){return this[i].call(this,e,r,s,l)},configurable:!0})})}let Vr=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(d,f,p){const b=Tf(f);if(!b)throw new Error("header name must be a non-empty string");const w=_e.findKey(r,b);(!w||r[w]===void 0||p===!0||p===void 0&&r[w]!==!1)&&(r[w||f]=T1(d))}const l=(d,f)=>_e.forEach(d,(p,b)=>s(p,b,f));if(_e.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(_e.isString(e)&&(e=e.trim())&&!n7(e))l(e7(e),n);else if(_e.isObject(e)&&_e.isIterable(e)){let d={},f,p;for(const b of e){if(!_e.isArray(b))throw TypeError("Object iterator must return a key-value pair");d[p=b[0]]=(f=d[p])?_e.isArray(f)?[...f,b[1]]:[f,b[1]]:b[1]}l(d,n)}else e!=null&&s(n,e,i);return this}get(e,n){if(e=Tf(e),e){const i=_e.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return t7(r);if(_e.isFunction(n))return n.call(this,r,i);if(_e.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Tf(e),e){const i=_e.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Hx(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(l){if(l=Tf(l),l){const d=_e.findKey(i,l);d&&(!n||Hx(i,i[d],d,n))&&(delete i[d],r=!0)}}return _e.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||Hx(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return _e.forEach(this,(r,s)=>{const l=_e.findKey(i,s);if(l){n[l]=T1(r),delete n[s];return}const d=e?i7(s):String(s).trim();d!==s&&delete n[s],n[d]=T1(r),i[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return _e.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&_e.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[w3]=this[w3]={accessors:{}}).accessors,r=this.prototype;function s(l){const d=Tf(l);i[d]||(r7(r,l),i[d]=!0)}return _e.isArray(e)?e.forEach(s):s(e),this}};Vr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(Vr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});_e.freezeMethods(Vr);function Ux(t,e){const n=this||Ah,i=e||n,r=Vr.from(i.headers);let s=i.data;return _e.forEach(t,function(d){s=d.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function LA(t){return!!(t&&t.__CANCEL__)}function Ad(t,e,n){It.call(this,t??"canceled",It.ERR_CANCELED,e,n),this.name="CanceledError"}_e.inherits(Ad,It,{__CANCEL__:!0});function jA(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new It("Request failed with status code "+n.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function s7(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function a7(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,l;return e=e!==void 0?e:1e3,function(f){const p=Date.now(),b=i[s];l||(l=p),n[r]=f,i[r]=p;let w=s,S=0;for(;w!==r;)S+=n[w++],w=w%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),p-l<e)return;const E=b&&p-b;return E?Math.round(S*1e3/E):void 0}}function o7(t,e){let n=0,i=1e3/e,r,s;const l=(p,b=Date.now())=>{n=b,r=null,s&&(clearTimeout(s),s=null),t(...p)};return[(...p)=>{const b=Date.now(),w=b-n;w>=i?l(p,b):(r=p,s||(s=setTimeout(()=>{s=null,l(r)},i-w)))},()=>r&&l(r)]}const H1=(t,e,n=3)=>{let i=0;const r=a7(50,250);return o7(s=>{const l=s.loaded,d=s.lengthComputable?s.total:void 0,f=l-i,p=r(f),b=l<=d;i=l;const w={loaded:l,total:d,progress:d?l/d:void 0,bytes:f,rate:p||void 0,estimated:p&&d&&b?(d-l)/p:void 0,event:s,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(w)},n)},_3=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},C3=t=>(...e)=>_e.asap(()=>t(...e)),l7=fr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,fr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(fr.origin),fr.navigator&&/(msie|trident)/i.test(fr.navigator.userAgent)):()=>!0,c7=fr.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const l=[t+"="+encodeURIComponent(e)];_e.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),_e.isString(i)&&l.push("path="+i),_e.isString(r)&&l.push("domain="+r),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function u7(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function d7(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function PA(t,e,n){let i=!u7(e);return t&&(i||n==!1)?d7(t,e):e}const S3=t=>t instanceof Vr?{...t}:t;function Vc(t,e){e=e||{};const n={};function i(p,b,w,S){return _e.isPlainObject(p)&&_e.isPlainObject(b)?_e.merge.call({caseless:S},p,b):_e.isPlainObject(b)?_e.merge({},b):_e.isArray(b)?b.slice():b}function r(p,b,w,S){if(_e.isUndefined(b)){if(!_e.isUndefined(p))return i(void 0,p,w,S)}else return i(p,b,w,S)}function s(p,b){if(!_e.isUndefined(b))return i(void 0,b)}function l(p,b){if(_e.isUndefined(b)){if(!_e.isUndefined(p))return i(void 0,p)}else return i(void 0,b)}function d(p,b,w){if(w in e)return i(p,b);if(w in t)return i(void 0,p)}const f={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(p,b,w)=>r(S3(p),S3(b),w,!0)};return _e.forEach(Object.keys({...t,...e}),function(b){const w=f[b]||r,S=w(t[b],e[b],b);_e.isUndefined(S)&&w!==d||(n[b]=S)}),n}const FA=t=>{const e=Vc({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:l,auth:d}=e;if(e.headers=l=Vr.from(l),e.url=RA(PA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),_e.isFormData(n)){if(fr.hasStandardBrowserEnv||fr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(_e.isFunction(n.getHeaders)){const f=n.getHeaders(),p=["content-type","content-length"];Object.entries(f).forEach(([b,w])=>{p.includes(b.toLowerCase())&&l.set(b,w)})}}if(fr.hasStandardBrowserEnv&&(i&&_e.isFunction(i)&&(i=i(e)),i||i!==!1&&l7(e.url))){const f=r&&s&&c7.read(s);f&&l.set(r,f)}return e},f7=typeof XMLHttpRequest<"u",h7=f7&&function(t){return new Promise(function(n,i){const r=FA(t);let s=r.data;const l=Vr.from(r.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:p}=r,b,w,S,E,T;function M(){E&&E(),T&&T(),r.cancelToken&&r.cancelToken.unsubscribe(b),r.signal&&r.signal.removeEventListener("abort",b)}let R=new XMLHttpRequest;R.open(r.method.toUpperCase(),r.url,!0),R.timeout=r.timeout;function B(){if(!R)return;const L=Vr.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),D={data:!d||d==="text"||d==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:L,config:t,request:R};jA(function(z){n(z),M()},function(z){i(z),M()},D),R=null}"onloadend"in R?R.onloadend=B:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(B)},R.onabort=function(){R&&(i(new It("Request aborted",It.ECONNABORTED,t,R)),R=null)},R.onerror=function(k){const D=k&&k.message?k.message:"Network Error",P=new It(D,It.ERR_NETWORK,t,R);P.event=k||null,i(P),R=null},R.ontimeout=function(){let k=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const D=r.transitional||DA;r.timeoutErrorMessage&&(k=r.timeoutErrorMessage),i(new It(k,D.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,t,R)),R=null},s===void 0&&l.setContentType(null),"setRequestHeader"in R&&_e.forEach(l.toJSON(),function(k,D){R.setRequestHeader(D,k)}),_e.isUndefined(r.withCredentials)||(R.withCredentials=!!r.withCredentials),d&&d!=="json"&&(R.responseType=r.responseType),p&&([S,T]=H1(p,!0),R.addEventListener("progress",S)),f&&R.upload&&([w,E]=H1(f),R.upload.addEventListener("progress",w),R.upload.addEventListener("loadend",E)),(r.cancelToken||r.signal)&&(b=L=>{R&&(i(!L||L.type?new Ad(null,t,R):L),R.abort(),R=null)},r.cancelToken&&r.cancelToken.subscribe(b),r.signal&&(r.signal.aborted?b():r.signal.addEventListener("abort",b)));const G=s7(r.url);if(G&&fr.protocols.indexOf(G)===-1){i(new It("Unsupported protocol "+G+":",It.ERR_BAD_REQUEST,t));return}R.send(s||null)})},p7=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(p){if(!r){r=!0,d();const b=p instanceof Error?p:this.reason;i.abort(b instanceof It?b:new Ad(b instanceof Error?b.message:b))}};let l=e&&setTimeout(()=>{l=null,s(new It(`timeout ${e} of ms exceeded`,It.ETIMEDOUT))},e);const d=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(s):p.removeEventListener("abort",s)}),t=null)};t.forEach(p=>p.addEventListener("abort",s));const{signal:f}=i;return f.unsubscribe=()=>_e.asap(d),f}},m7=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},g7=async function*(t,e){for await(const n of x7(t))yield*m7(n,e)},x7=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},E3=(t,e,n,i)=>{const r=g7(t,e);let s=0,l,d=f=>{l||(l=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:p,value:b}=await r.next();if(p){d(),f.close();return}let w=b.byteLength;if(n){let S=s+=w;n(S)}f.enqueue(new Uint8Array(b))}catch(p){throw d(p),p}},cancel(f){return d(f),r.return()}},{highWaterMark:2})},A3=64*1024,{isFunction:Yp}=_e,y7=(({Request:t,Response:e})=>({Request:t,Response:e}))(_e.global),{ReadableStream:T3,TextEncoder:N3}=_e.global,I3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},b7=t=>{t=_e.merge.call({skipUndefined:!0},y7,t);const{fetch:e,Request:n,Response:i}=t,r=e?Yp(e):typeof fetch=="function",s=Yp(n),l=Yp(i);if(!r)return!1;const d=r&&Yp(T3),f=r&&(typeof N3=="function"?(T=>M=>T.encode(M))(new N3):async T=>new Uint8Array(await new n(T).arrayBuffer())),p=s&&d&&I3(()=>{let T=!1;const M=new n(fr.origin,{body:new T3,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!M}),b=l&&d&&I3(()=>_e.isReadableStream(new i("").body)),w={stream:b&&(T=>T.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!w[T]&&(w[T]=(M,R)=>{let B=M&&M[T];if(B)return B.call(M);throw new It(`Response type '${T}' is not supported`,It.ERR_NOT_SUPPORT,R)})});const S=async T=>{if(T==null)return 0;if(_e.isBlob(T))return T.size;if(_e.isSpecCompliantForm(T))return(await new n(fr.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(T)||_e.isArrayBuffer(T))return T.byteLength;if(_e.isURLSearchParams(T)&&(T=T+""),_e.isString(T))return(await f(T)).byteLength},E=async(T,M)=>{const R=_e.toFiniteNumber(T.getContentLength());return R??S(M)};return async T=>{let{url:M,method:R,data:B,signal:G,cancelToken:L,timeout:k,onDownloadProgress:D,onUploadProgress:P,responseType:z,headers:U,withCredentials:X="same-origin",fetchOptions:ne}=FA(T),ee=e||fetch;z=z?(z+"").toLowerCase():"text";let oe=p7([G,L&&L.toAbortSignal()],k),Ce=null;const Se=oe&&oe.unsubscribe&&(()=>{oe.unsubscribe()});let te;try{if(P&&p&&R!=="get"&&R!=="head"&&(te=await E(U,B))!==0){let ue=new n(M,{method:"POST",body:B,duplex:"half"}),Ee;if(_e.isFormData(B)&&(Ee=ue.headers.get("content-type"))&&U.setContentType(Ee),ue.body){const[Oe,He]=_3(te,H1(C3(P)));B=E3(ue.body,A3,Oe,He)}}_e.isString(X)||(X=X?"include":"omit");const Q=s&&"credentials"in n.prototype,le={...ne,signal:oe,method:R.toUpperCase(),headers:U.normalize().toJSON(),body:B,duplex:"half",credentials:Q?X:void 0};Ce=s&&new n(M,le);let xe=await(s?ee(Ce,ne):ee(M,le));const Be=b&&(z==="stream"||z==="response");if(b&&(D||Be&&Se)){const ue={};["status","statusText","headers"].forEach(qe=>{ue[qe]=xe[qe]});const Ee=_e.toFiniteNumber(xe.headers.get("content-length")),[Oe,He]=D&&_3(Ee,H1(C3(D),!0))||[];xe=new i(E3(xe.body,A3,Oe,()=>{He&&He(),Se&&Se()}),ue)}z=z||"text";let K=await w[_e.findKey(w,z)||"text"](xe,T);return!Be&&Se&&Se(),await new Promise((ue,Ee)=>{jA(ue,Ee,{data:K,headers:Vr.from(xe.headers),status:xe.status,statusText:xe.statusText,config:T,request:Ce})})}catch(Q){throw Se&&Se(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new It("Network Error",It.ERR_NETWORK,T,Ce),{cause:Q.cause||Q}):It.from(Q,Q&&Q.code,T,Ce)}}},v7=new Map,zA=t=>{let e=t?t.env:{};const{fetch:n,Request:i,Response:r}=e,s=[i,r,n];let l=s.length,d=l,f,p,b=v7;for(;d--;)f=s[d],p=b.get(f),p===void 0&&b.set(f,p=d?new Map:b7(e)),b=p;return p};zA();const v2={http:jR,xhr:h7,fetch:{get:zA}};_e.forEach(v2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const k3=t=>`- ${t}`,w7=t=>_e.isFunction(t)||t===null||t===!1,HA={getAdapter:(t,e)=>{t=_e.isArray(t)?t:[t];const{length:n}=t;let i,r;const s={};for(let l=0;l<n;l++){i=t[l];let d;if(r=i,!w7(i)&&(r=v2[(d=String(i)).toLowerCase()],r===void 0))throw new It(`Unknown adapter '${d}'`);if(r&&(_e.isFunction(r)||(r=r.get(e))))break;s[d||"#"+l]=r}if(!r){const l=Object.entries(s).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=n?l.length>1?`since :
`+l.map(k3).join(`
`):" "+k3(l[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:v2};function $x(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ad(null,t)}function M3(t){return $x(t),t.headers=Vr.from(t.headers),t.data=Ux.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),HA.getAdapter(t.adapter||Ah.adapter,t)(t).then(function(i){return $x(t),i.data=Ux.call(t,t.transformResponse,i),i.headers=Vr.from(i.headers),i},function(i){return LA(i)||($x(t),i&&i.response&&(i.response.data=Ux.call(t,t.transformResponse,i.response),i.response.headers=Vr.from(i.response.headers))),Promise.reject(i)})}const UA="1.12.2",r0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{r0[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const O3={};r0.transitional=function(e,n,i){function r(s,l){return"[Axios v"+UA+"] Transitional option '"+s+"'"+l+(i?". "+i:"")}return(s,l,d)=>{if(e===!1)throw new It(r(l," has been removed"+(n?" in "+n:"")),It.ERR_DEPRECATED);return n&&!O3[l]&&(O3[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,l,d):!0}};r0.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function _7(t,e,n){if(typeof t!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],l=e[s];if(l){const d=t[s],f=d===void 0||l(d,s,t);if(f!==!0)throw new It("option "+s+" must be "+f,It.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new It("Unknown option "+s,It.ERR_BAD_OPTION)}}const N1={assertOptions:_7,validators:r0},_a=N1.validators;let Pc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new v3,response:new v3}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Vc(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&N1.assertOptions(i,{silentJSONParsing:_a.transitional(_a.boolean),forcedJSONParsing:_a.transitional(_a.boolean),clarifyTimeoutError:_a.transitional(_a.boolean)},!1),r!=null&&(_e.isFunction(r)?n.paramsSerializer={serialize:r}:N1.assertOptions(r,{encode:_a.function,serialize:_a.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),N1.assertOptions(n,{baseUrl:_a.spelling("baseURL"),withXsrfToken:_a.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=s&&_e.merge(s.common,s[n.method]);s&&_e.forEach(["delete","get","head","post","put","patch","common"],T=>{delete s[T]}),n.headers=Vr.concat(l,s);const d=[];let f=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(n)===!1||(f=f&&M.synchronous,d.unshift(M.fulfilled,M.rejected))});const p=[];this.interceptors.response.forEach(function(M){p.push(M.fulfilled,M.rejected)});let b,w=0,S;if(!f){const T=[M3.bind(this),void 0];for(T.unshift(...d),T.push(...p),S=T.length,b=Promise.resolve(n);w<S;)b=b.then(T[w++],T[w++]);return b}S=d.length;let E=n;for(;w<S;){const T=d[w++],M=d[w++];try{E=T(E)}catch(R){M.call(this,R);break}}try{b=M3.call(this,E)}catch(T){return Promise.reject(T)}for(w=0,S=p.length;w<S;)b=b.then(p[w++],p[w++]);return b}getUri(e){e=Vc(this.defaults,e);const n=PA(e.baseURL,e.url,e.allowAbsoluteUrls);return RA(n,e.params,e.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(e){Pc.prototype[e]=function(n,i){return this.request(Vc(i||{},{method:e,url:n,data:(i||{}).data}))}});_e.forEach(["post","put","patch"],function(e){function n(i){return function(s,l,d){return this.request(Vc(d||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Pc.prototype[e]=n(),Pc.prototype[e+"Form"]=n(!0)});let C7=class $A{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const l=new Promise(d=>{i.subscribe(d),s=d}).then(r);return l.cancel=function(){i.unsubscribe(s)},l},e(function(s,l,d){i.reason||(i.reason=new Ad(s,l,d),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new $A(function(r){e=r}),cancel:e}}};function S7(t){return function(n){return t.apply(null,n)}}function E7(t){return _e.isObject(t)&&t.isAxiosError===!0}const w2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(w2).forEach(([t,e])=>{w2[e]=t});function VA(t){const e=new Pc(t),n=wA(Pc.prototype.request,e);return _e.extend(n,Pc.prototype,e,{allOwnKeys:!0}),_e.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return VA(Vc(t,r))},n}const Zn=VA(Ah);Zn.Axios=Pc;Zn.CanceledError=Ad;Zn.CancelToken=C7;Zn.isCancel=LA;Zn.VERSION=UA;Zn.toFormData=i0;Zn.AxiosError=It;Zn.Cancel=Zn.CanceledError;Zn.all=function(e){return Promise.all(e)};Zn.spread=S7;Zn.isAxiosError=E7;Zn.mergeConfig=Vc;Zn.AxiosHeaders=Vr;Zn.formToJSON=t=>BA(_e.isHTMLForm(t)?new FormData(t):t);Zn.getAdapter=HA.getAdapter;Zn.HttpStatusCode=w2;Zn.default=Zn;const{Axios:_pe,AxiosError:Cpe,CanceledError:Spe,isCancel:Epe,CancelToken:Ape,VERSION:Tpe,all:Npe,Cancel:Ipe,isAxiosError:kpe,spread:Mpe,toFormData:Ope,AxiosHeaders:Rpe,HttpStatusCode:Dpe,formToJSON:Bpe,getAdapter:Lpe,mergeConfig:jpe}=Zn;/*! js-cookie v3.0.5 | MIT */function Kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}var A7={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function _2(t,e){function n(r,s,l){if(!(typeof document>"u")){l=Kp({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var f in l)l[f]&&(d+="; "+f,l[f]!==!0&&(d+="="+l[f].split(";")[0]));return document.cookie=r+"="+t.write(s,r)+d}}function i(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var s=document.cookie?document.cookie.split("; "):[],l={},d=0;d<s.length;d++){var f=s[d].split("="),p=f.slice(1).join("=");try{var b=decodeURIComponent(f[0]);if(l[b]=t.read(p,b),r===b)break}catch{}}return r?l[r]:l}}return Object.create({set:n,get:i,remove:function(r,s){n(r,"",Kp({},s,{expires:-1}))},withAttributes:function(r){return _2(this.converter,Kp({},this.attributes,r))},withConverter:function(r){return _2(Kp({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var ld=_2(A7,{path:"/"});const T7="ACCESS_TOKEN",gi=Zn.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0}),N7=Zn.create({baseURL:"",headers:{Accept:"application/json","x-ncp-apigw-api-key-id	":"ak7qbqrl2h","x-ncp-apigw-api-key":"ipf8w7WvX8OtkuGa9bWtbOCgneVoahiaOcmB7m7g"},withCredentials:!0}),at=Zn.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0});at.interceptors.request.use(t=>{const e=ld.get(T7);return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const Xl=j.createContext(),Zp="ACCESS_TOKEN";function I7({children:t}){const[e,n]=j.useState(null),[i,r]=j.useState(null),[s,l]=j.useState(!0);j.useEffect(()=>{(async()=>{const w=ld.get(Zp);if(w){r(w);try{const S=await at.get("/api/users/me");n(S.data)}catch{ld.remove(Zp,{path:"/"}),r(null),n(null)}}l(!1)})()},[]);const p={user:e,setUser:n,token:i,login:(b,w)=>{n(b),r(w),ld.set(Zp,w,{expires:1,path:"/",secure:!0,sameSite:"Strict"})},logout:()=>{n(null),r(null),ld.remove(Zp,{path:"/"})},isLoading:s};return x.jsx(Xl.Provider,{value:p,children:t})}const ia=()=>j.useContext(Xl),GA=[{label:"",path:"/exhibitions"},{label:"",path:"/galleries"},{label:"",path:"/artworks"},{label:"",path:"/artists"},{label:"",path:"/notices"},{}];function k7({onOpen:t,isOpen:e}){const n=Jt(),{user:i,logout:r}=j.useContext(Xl),s=()=>{r(),t(),n("/")},l=d=>{t(),n(d)};return console.log(i),x.jsx("div",{className:Hn.overlay,onClick:t,children:x.jsxs("div",{className:`${Hn.menuLayout} ${e?Hn.menuVisible:Hn.menuHidden}`,onClick:d=>d.stopPropagation(),children:[x.jsx("div",{className:Hn.closeContainer,children:x.jsx("button",{className:Hn.closeButton,onClick:t})}),x.jsxs("section",{className:Hn.menuSection,children:[x.jsx("h3",{className:Hn.userNickname,children:i?`${i.user_name} `:" "}),i&&i.admin_flag==="1"&&x.jsx("div",{className:Hn.sidebarMenu,children:x.jsx("span",{className:Hn.menuSpan,onClick:()=>l("/console/main"),children:" "})})]}),x.jsx("hr",{className:Hn.divider}),x.jsx("section",{className:Hn.menuSection,children:GA.map(({name:d,label:f,path:p})=>x.jsx("span",{className:Hn.menuSpan,onClick:()=>l(p),children:f},d))}),x.jsx("hr",{className:Hn.divider}),x.jsxs("section",{className:Hn.menuSection,children:[x.jsx("span",{className:Hn.menuSpan,onClick:()=>l("/scan"),children:" "}),x.jsx("span",{className:Hn.menuSpan,onClick:()=>{localStorage.setItem("showMyCatalogTab","true"),l("/mypage")},children:" "}),x.jsx("span",{className:Hn.menuSpan,onClick:()=>l("/nearby-galleries"),children:" "})]}),x.jsx("hr",{className:Hn.divider}),x.jsxs("section",{className:Hn.menuSection,children:[x.jsx("span",{className:Hn.menuSpan,onClick:()=>l("/mypage"),children:""}),x.jsx("span",{className:Hn.menuSpan,onClick:()=>l("/announcement"),children:" & FAQ"}),i?x.jsx("span",{className:Hn.menuSpan,onClick:s,children:""}):x.jsx("span",{className:Hn.menuSpan,onClick:()=>l("/login"),children:""})]})]})})}const M7="_navbarNavigation_12t0r_1",O7="_menuList_12t0r_39",R7="_menuItem_12t0r_61",D7="_defaultLink_12t0r_81",B7="_activeLink_12t0r_83",Uu={navbarNavigation:M7,menuList:O7,menuItem:R7,defaultLink:D7,activeLink:B7};function L7(){const{pathname:t}=yi();return x.jsx("nav",{className:Uu.navbarNavigation,children:x.jsx("ul",{className:Uu.menuList,children:GA.map(({label:e,path:n,index:i})=>x.jsx("li",{className:`${Uu.menuItem} ${t===n&&Uu.currentMenu}`,children:x.jsx(hA,{to:n,className:({isActive:r})=>r?Uu.activeLink:Uu.defaultLink,children:e})},`${e}-${i}`))})})}const j7=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[x.jsx("path",{d:"M2 12H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M2 4H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M2 20H22",stroke:"black",strokeWidth:"2",strokeLinecap:"round"})]}),P7=()=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",children:x.jsx("path",{d:"M12.0597 20.5674H7.94025M16.1791 7.17917C16.1791 5.54035 15.5282 3.96866 14.3694 2.80984C13.2105 1.65102 11.6388 1 9.99998 1C8.36116 1 6.78949 1.65102 5.63067 2.80984C4.47185 3.96866 3.82083 5.54035 3.82083 7.17917C3.82083 10.3616 3.01802 12.5406 2.12121 13.9818C1.36474 15.1976 0.986506 15.8054 1.00037 15.975C1.01573 16.1628 1.05551 16.2343 1.2068 16.3466C1.34346 16.4479 1.95945 16.4479 3.19143 16.4479H16.8086C18.0405 16.4479 18.6566 16.4479 18.7931 16.3466C18.9445 16.2343 18.9843 16.1628 18.9996 15.975C19.0135 15.8054 18.6353 15.1976 17.8788 13.9818C16.9819 12.5406 16.1791 10.3616 16.1791 7.17917Z",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});function qA(){const[t,e]=j.useState(!1),{isDesktop:n}=vA(),i=Jt(),{user:r}=j.useContext(Xl),s=()=>{e(!0),document.body.style.overflow="hidden"},l=()=>{e(!1),document.body.style.overflow="unset"},d=()=>{l(),i("/")},f=()=>{l(),r&&r.admin_flag==="1"?i("/console/notification"):i("/notifications")};return x.jsxs("header",{className:Wp.headerLayout,children:[x.jsx("span",{className:Wp.logoSpan,onClick:d,children:"ARTLY"}),n&&x.jsx(L7,{}),x.jsxs("div",{className:Wp.rightSection,children:[x.jsx("button",{className:Wp.notificationButton,onClick:f,"aria-label":"",children:x.jsx(P7,{})}),x.jsx("button",{onClick:t?l:s,children:x.jsx(j7,{})})]}),t&&x.jsx(k7,{onOpen:l,isOpen:t})]})}const F7="_chatbotContainer_9wobd_1",z7="_chatbotOverlay_9wobd_15",H7="_chatbotButton_9wobd_37",U7="_popupContainer_9wobd_71",$7="_headerContainer_9wobd_133",V7="_headerTitle_9wobd_153",G7="_closeButton_9wobd_163",q7="_chatContainer_9wobd_181",W7="_botMessageContainer_9wobd_201",X7="_userMessageContainer_9wobd_219",Y7="_botContent_9wobd_235",K7="_botName_9wobd_247",Z7="_botProfile_9wobd_263",Q7="_botBubble_9wobd_299",J7="_userBubble_9wobd_301",eD="_inputContainer_9wobd_355",tD="_input_9wobd_355",nD="_sendButton_9wobd_399",Un={chatbotContainer:F7,chatbotOverlay:z7,chatbotButton:H7,popupContainer:U7,headerContainer:$7,headerTitle:V7,closeButton:G7,chatContainer:q7,botMessageContainer:W7,userMessageContainer:X7,botContent:Y7,botName:K7,botProfile:Z7,botBubble:Q7,userBubble:J7,inputContainer:eD,input:tD,sendButton:nD};var WA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},R3=Ut.createContext&&Ut.createContext(WA),iD=["attr","size","title"];function rD(t,e){if(t==null)return{};var n=sD(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function sD(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},U1.apply(this,arguments)}function D3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function $1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(n),!0).forEach(function(i){aD(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D3(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function aD(t,e,n){return e=oD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oD(t){var e=lD(t,"string");return typeof e=="symbol"?e:e+""}function lD(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XA(t){return t&&t.map((e,n)=>Ut.createElement(e.tag,$1({key:n},e.attr),XA(e.child)))}function gn(t){return e=>Ut.createElement(cD,U1({attr:$1({},t.attr)},e),XA(t.child))}function cD(t){var e=n=>{var{attr:i,size:r,title:s}=t,l=rD(t,iD),d=r||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Ut.createElement("svg",U1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:f,style:$1($1({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),s&&Ut.createElement("title",null,s),t.children)};return R3!==void 0?Ut.createElement(R3.Consumer,null,n=>e(n)):e(WA)}function uD(t){return gn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9 9 0 0 0 8 15"},child:[]}]})(t)}function dD(t){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(t)}function YA(t){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M407.94 52.22S321.3 160 240 160H80a16 16 0 0 0-16 16v96a16 16 0 0 0 16 16h160c81.3 0 167.94 108.23 167.94 108.23 6.06 8 24.06 2.52 24.06-9.83V62c0-12.31-17-18.82-24.06-9.78zM64 256s-16-6-16-32 16-32 16-32m384 54s16-4.33 16-22-16-22-16-22m-192-42v128M112 160v128"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M144 288v168a8 8 0 0 0 8 8h53a16 16 0 0 0 15.29-20.73C211.91 416.39 192 386.08 192 336h16a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-16"},child:[]}]})(t)}const fD=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[x.jsx("path",{d:"M3.3475 14.2855C3.47725 14.4157 3.57667 14.573 3.63868 14.746C3.70069 14.9191 3.72376 15.1037 3.70625 15.2867C3.6184 16.1337 3.45185 16.9706 3.20875 17.7867C4.9525 17.383 6.0175 16.9155 6.50125 16.6705C6.77563 16.5315 7.09161 16.4986 7.38875 16.578C8.24054 16.8051 9.11846 16.9194 10 16.918C14.995 16.918 18.75 13.4092 18.75 9.41797C18.75 5.42797 14.995 1.91797 10 1.91797C5.005 1.91797 1.25 5.42797 1.25 9.41797C1.25 11.253 2.02125 12.9555 3.3475 14.2855ZM2.73125 19.1667C2.43509 19.2254 2.13796 19.2792 1.84 19.328C1.59 19.368 1.4 19.108 1.49875 18.8755C1.60974 18.6137 1.71147 18.3481 1.80375 18.0792L1.8075 18.0667C2.1175 17.1667 2.37 16.1317 2.4625 15.168C0.92875 13.6305 0 11.618 0 9.41797C0 4.58547 4.4775 0.667969 10 0.667969C15.5225 0.667969 20 4.58547 20 9.41797C20 14.2505 15.5225 18.168 10 18.168C9.00956 18.1693 8.02323 18.0407 7.06625 17.7855C6.41625 18.1142 5.0175 18.713 2.73125 19.1667Z",fill:"#BDBDBD"}),x.jsx("path",{d:"M5 6.29297C5 6.12721 5.06585 5.96824 5.18306 5.85103C5.30027 5.73382 5.45924 5.66797 5.625 5.66797H14.375C14.5408 5.66797 14.6997 5.73382 14.8169 5.85103C14.9342 5.96824 15 6.12721 15 6.29297C15 6.45873 14.9342 6.6177 14.8169 6.73491C14.6997 6.85212 14.5408 6.91797 14.375 6.91797H5.625C5.45924 6.91797 5.30027 6.85212 5.18306 6.73491C5.06585 6.6177 5 6.45873 5 6.29297ZM5 9.41797C5 9.25221 5.06585 9.09324 5.18306 8.97603C5.30027 8.85882 5.45924 8.79297 5.625 8.79297H14.375C14.5408 8.79297 14.6997 8.85882 14.8169 8.97603C14.9342 9.09324 15 9.25221 15 9.41797C15 9.58373 14.9342 9.7427 14.8169 9.85991C14.6997 9.97712 14.5408 10.043 14.375 10.043H5.625C5.45924 10.043 5.30027 9.97712 5.18306 9.85991C5.06585 9.7427 5 9.58373 5 9.41797ZM5 12.543C5 12.3772 5.06585 12.2182 5.18306 12.101C5.30027 11.9838 5.45924 11.918 5.625 11.918H10.625C10.7908 11.918 10.9497 11.9838 11.0669 12.101C11.1842 12.2182 11.25 12.3772 11.25 12.543C11.25 12.7087 11.1842 12.8677 11.0669 12.9849C10.9497 13.1021 10.7908 13.168 10.625 13.168H5.625C5.45924 13.168 5.30027 13.1021 5.18306 12.9849C5.06585 12.8677 5 12.7087 5 12.543Z",fill:"#BDBDBD"})]});function hD(){const{user:t}=ia(),[e,n]=j.useState(!1),[i,r]=j.useState([{id:0,sender:"bot",text:"!   Artlas :)  ?"}]),[s,l]=j.useState(""),[d,f]=j.useState(!1),p=j.useRef(null),b=t?at:gi;j.useRef(null);const w=()=>i[i.length-1].id+1;j.useEffect(()=>{p.current!==null&&p.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[p.current,i]);const S=()=>{n(L=>!L),e?document.body.style.overflow="unset":document.body.style.overflow="hidden"},E=L=>{l(L.target.value)},T=async L=>{const k={id:w(),sender:"user",text:L};r(z=>[...z,k]),console.log(`messages:
`,i);const D={text:L},P={id:w(),sender:"bot",text:"An error occured. Please report this to the service team."};try{f(!0);const z=await b.post("/api/chats",D);let U=z.data;console.log(`GPT Response:
`,z.data),P.text=U}catch(z){console.error("Error occurred while querying GPT:",z)}finally{f(!1)}r(z=>[...z,P]),console.log(`Updated messages:
`,i)},M=L=>L.split(/(\*\*[^\*]+\*\*)/g).map((D,P)=>D.startsWith("**")&&D.endsWith("**")?x.jsx("b",{children:D.slice(2,-2)},P):D),R=L=>{L.key==="Enter"&&B()},B=()=>{const L=s.trim();if(!L)return alert(" !");T(L),l("")},G=L=>{setTimeout(()=>{L.target.scrollIntoView({behavior:"smooth",block:"nearest"})},300)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:Un.chatbotContainer,children:x.jsx("button",{className:Un.chatbotButton,onClick:S,children:x.jsx(uD,{})})}),e&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:Un.chatbotOverlay}),x.jsxs("div",{className:Un.popupContainer,children:[x.jsxs("div",{className:Un.headerContainer,children:[x.jsx("h3",{className:Un.headerTitle,children:"Artly "}),x.jsx("button",{className:Un.closeButton,onClick:S,children:x.jsx(dD,{})})]}),x.jsxs("div",{className:Un.chatContainer,children:[i.map(L=>x.jsx("div",{className:L.sender==="bot"?Un.botMessageContainer:Un.userMessageContainer,ref:p,children:L.sender==="bot"?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:Un.botProfile,children:"A"}),x.jsxs("div",{className:Un.botContent,children:[x.jsx("p",{className:Un.botName,children:" "}),x.jsx("div",{className:Un.botBubble,children:x.jsx("p",{children:M(L.text)})})]})]}):x.jsx("div",{className:Un.userMessageContainer,children:x.jsx("div",{className:Un.userBubble,children:x.jsx("p",{children:L.text})})})},L.id)),d&&x.jsxs("div",{className:Un.botMessageContainer,ref:p,children:[x.jsx("div",{className:Un.botProfile,children:"A"}),x.jsxs("div",{className:Un.botContent,children:[x.jsx("p",{className:Un.botName,children:" "}),x.jsx("div",{className:Un.botBubble,children:x.jsx("p",{children:"   .  "})})]})]})]}),x.jsxs("div",{className:Un.inputContainer,children:[x.jsx("input",{className:Un.input,type:"text",value:s,onChange:E,onKeyPress:R,onFocus:G,placeholder:"  "}),x.jsx("button",{className:Un.sendButton,onClick:B,children:x.jsx(fD,{})})]})]})]})]})}function pD(){const t=yi(),n=!["/login","/register","/mypage","/mypage/edit"].some(i=>t.pathname.startsWith(i));return x.jsxs(x.Fragment,{children:[x.jsx(gA,{}),x.jsx(qA,{}),x.jsx("div",{style:{display:"flex",flexDirection:"column",flex:1},children:x.jsx(Sb,{})}),n&&x.jsx(hD,{})]})}const mD="_footerLayout_16zxr_1",gD="_linkContainer_16zxr_27",xD="_link_16zxr_27",yD="_divideSpan_16zxr_61",bD="_infoContainer_16zxr_71",$u={footerLayout:mD,linkContainer:gD,link:xD,divideSpan:yD,infoContainer:bD};function KA(){return x.jsxs("footer",{className:$u.footerLayout,children:[x.jsxs("div",{className:$u.linkContainer,children:[x.jsx(Rn,{to:"/announcement",className:$u.link,children:"&FAQ"}),x.jsx("span",{className:$u.divideSpan,children:"|"}),x.jsx(Rn,{to:"/termspolicy",className:$u.link,children:"  "})]}),x.jsxs("div",{className:$u.infoContainer,children:[x.jsx("p",{children:"()"}),x.jsx("p",{children:" : 477-88-01191"}),x.jsx("p",{children:"contact us : oddlemon@oddlemon.co.kr"})]}),x.jsxs("p",{children:[" All rights reserved by"," ",x.jsx("a",{href:"https://oddlemon.co.kr/",target:"_blank",rel:"noreferrer",children:"ODDLEMON Origin Inc."})]})]})}function vD(){const{user:t,isLoading:e}=j.useContext(Xl),n=yi();if(e)return x.jsx("div",{children:" ..."});if(!t||!t.id)return x.jsx(AM,{to:"/login",replace:!0});const i=n.pathname!=="/notifications";return x.jsxs(x.Fragment,{children:[x.jsx(Sb,{}),i&&x.jsx(KA,{})]})}const wD="_mainLayout_yo4qg_1",_D="_carouselContainer_yo4qg_25",B3={mainLayout:wD,carouselContainer:_D},CD="_carouselContainer_1avyq_1",SD="_sliderWrapper_1avyq_19",ED="_slider_1avyq_19",AD="_carouselItem_1avyq_43",TD="_carouselImage_1avyq_55",ND="_captionBox_1avyq_71",ID="_title_1avyq_89",kD="_location_1avyq_99",MD="_detailButton_1avyq_111",OD="_arrowButton_1avyq_141",RD="_left_1avyq_177",DD="_right_1avyq_185",BD="_dots_1avyq_193",LD="_dot_1avyq_193",jD="_active_1avyq_235",lr={carouselContainer:CD,sliderWrapper:SD,slider:ED,carouselItem:AD,carouselImage:TD,captionBox:ND,title:ID,location:kD,detailButton:MD,arrowButton:OD,left:RD,right:DD,dots:BD,dot:LD,active:jD};function PD(){const[t,e]=j.useState(0),[n,i]=j.useState([]),r=j.useRef(null),s=Jt();j.useEffect(()=>(l(),()=>clearTimeout(r.current)),[t,n]);const l=()=>{clearTimeout(r.current),!(!n||n.length<=1)&&(r.current=setTimeout(()=>{e(b=>(b+1)%n.length)},5e3))},d=()=>{e(b=>(b-1+n.length)%n.length)},f=()=>{e(b=>(b+1)%n.length)},p=b=>e(b);return j.useEffect(()=>{(async()=>{try{const S=(await gi.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:E,exhibition_poster:T,exhibition_title:M,exhibition_category:R,exhibition_status:B,exhibition_start_date:G,exhibition_end_date:L,exhibition_organization:k})=>({id:E,image:T,title:M,category:R,status:B,startDate:G,endDate:L,organization:k}));i(S)}catch(w){console.error("     :",w)}})()},[]),x.jsxs("div",{className:lr.carouselContainer,children:[x.jsx("button",{className:`${lr.arrowButton} ${lr.left}`,onClick:d,children:""}),x.jsx("div",{className:lr.sliderWrapper,children:x.jsx("div",{className:lr.slider,style:{transform:`translateX(-${t*100}%)`},children:n.map(b=>x.jsxs("div",{className:lr.carouselItem,children:[x.jsx("img",{src:b==null?void 0:b.image,alt:(b==null?void 0:b.title)||(b==null?void 0:b.name),className:lr.carouselImage,onClick:()=>{s(`/exhibitions/${b==null?void 0:b.id}`)}}),x.jsxs("div",{className:lr.captionBox,children:[x.jsx("h3",{className:lr.title,children:b==null?void 0:b.title}),x.jsxs("p",{className:lr.location,children:[b==null?void 0:b.organization.name,""," ",(b==null?void 0:b.period)||`${b==null?void 0:b.startDate} ~ ${b==null?void 0:b.endDate}`]}),x.jsx("button",{className:lr.detailButton,onClick:()=>{s(`/exhibitions/${b==null?void 0:b.id}`)},children:" "})]})]},b==null?void 0:b.id))})}),x.jsx("button",{className:`${lr.arrowButton} ${lr.right}`,onClick:f,children:""}),x.jsx("div",{className:lr.dots,children:n.map((b,w)=>x.jsx("button",{onClick:()=>p(w),className:`${lr.dot} ${w===t?lr.active:""}`},b==null?void 0:b.id))})]})}const FD="_carouselWrapper_dgj9x_1",zD="_titleContainer_dgj9x_19",HD="_carouselTitle_dgj9x_35",UD="_moreButton_dgj9x_47",$D="_carouselViewport_dgj9x_85",VD="_carouselTrack_dgj9x_97",GD="_carouselSlide_dgj9x_117",qD="_artistImage_dgj9x_149",WD="_artistText_dgj9x_165",XD="_name_dgj9x_175",YD="_field_dgj9x_185",KD="_prevButton_dgj9x_195",ZD="_nextButton_dgj9x_197",ss={carouselWrapper:FD,titleContainer:zD,carouselTitle:HD,moreButton:UD,carouselViewport:$D,carouselTrack:VD,carouselSlide:GD,artistImage:qD,artistText:WD,name:XD,field:YD,prevButton:KD,nextButton:ZD};function QD({title:t}){const[e,n]=j.useState([]),[i,r]=j.useState(1),[s,l]=j.useState(1),[d,f]=j.useState(!1),p=j.useRef(null),b=j.useRef(0),w=j.useRef(0),S=()=>{l(4)};j.useEffect(()=>{(async()=>{try{const D=(await gi.get("/api/artist",{params:{}})).data.map(({id:P,artist_name:z,artist_category:U,artist_image:X})=>({id:P,artist_name:z,artist_category:U,artist_image:X})).slice(0,10);n(D)}catch(k){console.error("     :",k)}})(),S()},[]);const E=L=>{if(d)return;f(!0);const k=p.current.offsetWidth/s;p.current.style.transition="transform 0.4s ease-in-out",p.current.style.transform=`translateX(-${k*L}px)`,r(L)},T=()=>E(i+1),M=()=>E(i-1);j.useEffect(()=>{const L=p.current.offsetWidth/s;p.current.style.transition="none",p.current.style.transform=`translateX(-${L}px)`},[s]),j.useEffect(()=>{const L=()=>{const D=p.current.offsetWidth/s;if(p.current.style.transition="none",i>=e.length-s)p.current.style.transform=`translateX(-${D}px)`,r(1);else if(i===0){const P=e.length-s-1;p.current.style.transform=`translateX(-${D*P}px)`,r(P)}f(!1)},k=p.current;return k.addEventListener("transitionend",L),()=>k.removeEventListener("transitionend",L)},[i,e.length,s]);const R=L=>{b.current=L.touches[0].clientX},B=L=>{w.current=L.touches[0].clientX},G=()=>{const L=b.current-w.current;Math.abs(L)>50&&(L>0?T():M())};return x.jsxs("div",{className:ss.carouselWrapper,children:[x.jsxs("div",{className:ss.titleContainer,children:[x.jsx("h2",{className:ss.carouselTitle,children:t}),x.jsx(Rn,{to:"/artists",className:ss.moreButton,children:""})]}),x.jsx("div",{className:ss.carouselViewport,onTouchStart:R,onTouchMove:B,onTouchEnd:G,children:x.jsx("div",{className:ss.carouselTrack,ref:p,children:e.map(L=>x.jsxs(Rn,{to:`/artists/${L==null?void 0:L.id}`,className:ss.carouselSlide,children:[x.jsx("img",{src:(L==null?void 0:L.artist_image)||"/default.jpg",alt:L!=null&&L.artist_name?`${L.artist_name} `:" ",className:ss.artistImage}),x.jsxs("div",{className:ss.artistText,children:[x.jsx("h3",{className:ss.name,children:L!=null&&L.artist_name&&L.artist_name.trim()!==""?L.artist_name:" "}),x.jsx("p",{className:ss.field,children:L!=null&&L.artist_category&&L.artist_category.trim()!==""?L.artist_category:" "})]})]},`${L==null?void 0:L.artist_name}-${L==null?void 0:L.id}`))})}),x.jsx("button",{className:ss.prevButton,onClick:()=>!d&&M(),children:""}),x.jsx("button",{className:ss.nextButton,onClick:()=>!d&&T(),children:""})]})}function L3(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Mb(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:L3(e[i])&&L3(t[i])&&Object.keys(e[i]).length>0&&Mb(t[i],e[i])})}const ZA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function tu(){const t=typeof document<"u"?document:{};return Mb(t,ZA),t}const JD={document:ZA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Mr(){const t=typeof window<"u"?window:{};return Mb(t,JD),t}function e9(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function t9(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function QA(t,e=0){return setTimeout(t,e)}function V1(){return Date.now()}function n9(t){const e=Mr();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function i9(t,e="x"){const n=Mr();let i,r,s;const l=n9(t);return n.WebKitCSSMatrix?(r=l.transform||l.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(d=>d.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function Qp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function r9(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function hs(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let i=1;i<t.length;i+=1){const r=t[i];if(r!=null&&!r9(r)){const s=Object.keys(Object(r)).filter(l=>n.indexOf(l)<0);for(let l=0,d=s.length;l<d;l+=1){const f=s[l],p=Object.getOwnPropertyDescriptor(r,f);p!==void 0&&p.enumerable&&(Qp(e[f])&&Qp(r[f])?r[f].__swiper__?e[f]=r[f]:hs(e[f],r[f]):!Qp(e[f])&&Qp(r[f])?(e[f]={},r[f].__swiper__?e[f]=r[f]:hs(e[f],r[f])):e[f]=r[f])}}}return e}function Jp(t,e,n){t.style.setProperty(e,n)}function JA({swiper:t,targetPosition:e,side:n}){const i=Mr(),r=-t.translate;let s=null,l;const d=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const f=e>r?"next":"prev",p=(w,S)=>f==="next"&&w>=S||f==="prev"&&w<=S,b=()=>{l=new Date().getTime(),s===null&&(s=l);const w=Math.max(Math.min((l-s)/d,1),0),S=.5-Math.cos(w*Math.PI)/2;let E=r+S*(e-r);if(p(E,e)&&(E=e),t.wrapperEl.scrollTo({[n]:E}),p(E,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:E})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(b)};b()}function Ma(t,e=""){const n=Mr(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(r=>r.matches(e)):i}function s9(t,e){const n=[e];for(;n.length>0;){const i=n.shift();if(t===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function a9(t,e){const n=Mr();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=s9(t,e))),i}function G1(t){try{console.warn(t);return}catch{}}function q1(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:e9(e)),n}function o9(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function l9(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function Ml(t,e){return Mr().getComputedStyle(t,null).getPropertyValue(e)}function j3(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function c9(t,e){const n=[];let i=t.parentElement;for(;i;)n.push(i),i=i.parentElement;return n}function P3(t,e,n){const i=Mr();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function ao(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function C2(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Vx;function u9(){const t=Mr(),e=tu();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function eT(){return Vx||(Vx=u9()),Vx}let Gx;function d9({userAgent:t}={}){const e=eT(),n=Mr(),i=n.navigator.platform,r=t||n.navigator.userAgent,s={ios:!1,android:!1},l=n.screen.width,d=n.screen.height,f=r.match(/(Android);?[\s\/]+([\d.]+)?/);let p=r.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const b=r.match(/(iPod)(.*OS\s([\d_]+))?/),w=!p&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),S=i==="Win32";let E=i==="MacIntel";const T=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&E&&e.touch&&T.indexOf(`${l}x${d}`)>=0&&(p=r.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),E=!1),f&&!S&&(s.os="android",s.android=!0),(p||w||b)&&(s.os="ios",s.ios=!0),s}function tT(t={}){return Gx||(Gx=d9(t)),Gx}let qx;function f9(){const t=Mr(),e=tT();let n=!1;function i(){const d=t.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(i()){const d=String(t.navigator.userAgent);if(d.includes("Version/")){const[f,p]=d.split("Version/")[1].split(" ")[0].split(".").map(b=>Number(b));n=f<16||f===16&&p<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=i(),l=s||r&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:l,isWebView:r}}function nT(){return qx||(qx=f9()),qx}function h9({swiper:t,on:e,emit:n}){const i=Mr();let r=null,s=null;const l=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},d=()=>{!t||t.destroyed||!t.initialized||(r=new ResizeObserver(b=>{s=i.requestAnimationFrame(()=>{const{width:w,height:S}=t;let E=w,T=S;b.forEach(({contentBoxSize:M,contentRect:R,target:B})=>{B&&B!==t.el||(E=R?R.width:(M[0]||M).inlineSize,T=R?R.height:(M[0]||M).blockSize)}),(E!==w||T!==S)&&l()})}),r.observe(t.el))},f=()=>{s&&i.cancelAnimationFrame(s),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null)},p=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){d();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",p)}),e("destroy",()=>{f(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",p)})}function p9({swiper:t,extendParams:e,on:n,emit:i}){const r=[],s=Mr(),l=(p,b={})=>{const w=s.MutationObserver||s.WebkitMutationObserver,S=new w(E=>{if(t.__preventObserver__)return;if(E.length===1){i("observerUpdate",E[0]);return}const T=function(){i("observerUpdate",E[0])};s.requestAnimationFrame?s.requestAnimationFrame(T):s.setTimeout(T,0)});S.observe(p,{attributes:typeof b.attributes>"u"?!0:b.attributes,childList:t.isElement||(typeof b.childList>"u"?!0:b).childList,characterData:typeof b.characterData>"u"?!0:b.characterData}),r.push(S)},d=()=>{if(t.params.observer){if(t.params.observeParents){const p=c9(t.hostEl);for(let b=0;b<p.length;b+=1)l(p[b])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},f=()=>{r.forEach(p=>{p.disconnect()}),r.splice(0,r.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",d),n("destroy",f)}var m9={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(...s){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy,e.apply(i,s)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,i,r;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],i=t.slice(1,t.length),r=e):(n=t[0].events,i=t[0].data,r=t[0].context||e),i.unshift(r),(Array.isArray(n)?n:n.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(d=>{d.apply(r,[l,...i])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(d=>{d.apply(r,i)})}),e}};function g9(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Ml(i,"padding-left")||0,10)-parseInt(Ml(i,"padding-right")||0,10),n=n-parseInt(Ml(i,"padding-top")||0,10)-parseInt(Ml(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function x9(){const t=this;function e(ne,ee){return parseFloat(ne.getPropertyValue(t.getDirectionLabel(ee))||0)}const n=t.params,{wrapperEl:i,slidesEl:r,rtlTranslate:s,wrongRTL:l}=t,d=t.virtual&&n.virtual.enabled,f=d?t.virtual.slides.length:t.slides.length,p=Ma(r,`.${t.params.slideClass}, swiper-slide`),b=d?t.virtual.slides.length:p.length;let w=[];const S=[],E=[];let T=n.slidesOffsetBefore;typeof T=="function"&&(T=n.slidesOffsetBefore.call(t));let M=n.slidesOffsetAfter;typeof M=="function"&&(M=n.slidesOffsetAfter.call(t));const R=t.snapGrid.length,B=t.slidesGrid.length,G=t.size-T-M;let L=n.spaceBetween,k=-T,D=0,P=0;if(typeof G>"u")return;typeof L=="string"&&L.indexOf("%")>=0?L=parseFloat(L.replace("%",""))/100*G:typeof L=="string"&&(L=parseFloat(L)),t.virtualSize=-L-T-M,p.forEach(ne=>{s?ne.style.marginLeft="":ne.style.marginRight="",ne.style.marginBottom="",ne.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Jp(i,"--swiper-centered-offset-before",""),Jp(i,"--swiper-centered-offset-after",""));const z=n.grid&&n.grid.rows>1&&t.grid;z?t.grid.initSlides(p):t.grid&&t.grid.unsetSlides();let U;const X=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(ne=>typeof n.breakpoints[ne].slidesPerView<"u").length>0;for(let ne=0;ne<b;ne+=1){U=0;const ee=p[ne];if(!(ee&&(z&&t.grid.updateSlide(ne,ee,p),Ml(ee,"display")==="none"))){if(d&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(U=n.virtual.slidesPerViewAutoSlideSize),U&&ee&&(n.roundLengths&&(U=Math.floor(U)),ee.style[t.getDirectionLabel("width")]=`${U}px`);else if(n.slidesPerView==="auto"){X&&(ee.style[t.getDirectionLabel("width")]="");const oe=getComputedStyle(ee),Ce=ee.style.transform,Se=ee.style.webkitTransform;if(Ce&&(ee.style.transform="none"),Se&&(ee.style.webkitTransform="none"),n.roundLengths)U=t.isHorizontal()?P3(ee,"width"):P3(ee,"height");else{const te=e(oe,"width"),Q=e(oe,"padding-left"),le=e(oe,"padding-right"),xe=e(oe,"margin-left"),Be=e(oe,"margin-right"),K=oe.getPropertyValue("box-sizing");if(K&&K==="border-box")U=te+xe+Be;else{const{clientWidth:ue,offsetWidth:Ee}=ee;U=te+Q+le+xe+Be+(Ee-ue)}}Ce&&(ee.style.transform=Ce),Se&&(ee.style.webkitTransform=Se),n.roundLengths&&(U=Math.floor(U))}else U=(G-(n.slidesPerView-1)*L)/n.slidesPerView,n.roundLengths&&(U=Math.floor(U)),ee&&(ee.style[t.getDirectionLabel("width")]=`${U}px`);ee&&(ee.swiperSlideSize=U),E.push(U),n.centeredSlides?(k=k+U/2+D/2+L,D===0&&ne!==0&&(k=k-G/2-L),ne===0&&(k=k-G/2-L),Math.abs(k)<1/1e3&&(k=0),n.roundLengths&&(k=Math.floor(k)),P%n.slidesPerGroup===0&&w.push(k),S.push(k)):(n.roundLengths&&(k=Math.floor(k)),(P-Math.min(t.params.slidesPerGroupSkip,P))%t.params.slidesPerGroup===0&&w.push(k),S.push(k),k=k+U+L),t.virtualSize+=U+L,D=U,P+=1}}if(t.virtualSize=Math.max(t.virtualSize,G)+M,s&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+L}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+L}px`),z&&t.grid.updateWrapperSize(U,w),!n.centeredSlides){const ne=[];for(let ee=0;ee<w.length;ee+=1){let oe=w[ee];n.roundLengths&&(oe=Math.floor(oe)),w[ee]<=t.virtualSize-G&&ne.push(oe)}w=ne,Math.floor(t.virtualSize-G)-Math.floor(w[w.length-1])>1&&w.push(t.virtualSize-G)}if(d&&n.loop){const ne=E[0]+L;if(n.slidesPerGroup>1){const ee=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),oe=ne*n.slidesPerGroup;for(let Ce=0;Ce<ee;Ce+=1)w.push(w[w.length-1]+oe)}for(let ee=0;ee<t.virtual.slidesBefore+t.virtual.slidesAfter;ee+=1)n.slidesPerGroup===1&&w.push(w[w.length-1]+ne),S.push(S[S.length-1]+ne),t.virtualSize+=ne}if(w.length===0&&(w=[0]),L!==0){const ne=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");p.filter((ee,oe)=>!n.cssMode||n.loop?!0:oe!==p.length-1).forEach(ee=>{ee.style[ne]=`${L}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let ne=0;E.forEach(oe=>{ne+=oe+(L||0)}),ne-=L;const ee=ne>G?ne-G:0;w=w.map(oe=>oe<=0?-T:oe>ee?ee+M:oe)}if(n.centerInsufficientSlides){let ne=0;E.forEach(oe=>{ne+=oe+(L||0)}),ne-=L;const ee=(T||0)+(M||0);if(ne+ee<G){const oe=(G-ne-ee)/2;w.forEach((Ce,Se)=>{w[Se]=Ce-oe}),S.forEach((Ce,Se)=>{S[Se]=Ce+oe})}}if(Object.assign(t,{slides:p,snapGrid:w,slidesGrid:S,slidesSizesGrid:E}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Jp(i,"--swiper-centered-offset-before",`${-w[0]}px`),Jp(i,"--swiper-centered-offset-after",`${t.size/2-E[E.length-1]/2}px`);const ne=-t.snapGrid[0],ee=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(oe=>oe+ne),t.slidesGrid=t.slidesGrid.map(oe=>oe+ee)}if(b!==f&&t.emit("slidesLengthChange"),w.length!==R&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),S.length!==B&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!d&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const ne=`${n.containerModifierClass}backface-hidden`,ee=t.el.classList.contains(ne);b<=n.maxBackfaceHiddenSlides?ee||t.el.classList.add(ne):ee&&t.el.classList.remove(ne)}}function y9(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const l=d=>i?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{n.push(d)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const d=e.activeIndex+s;if(d>e.slides.length&&!i)break;n.push(l(d))}else n.push(l(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const d=n[s].offsetHeight;r=d>r?d:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function b9(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const F3=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function v9(t=this&&this.translate||0){const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-t;r&&(l=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=n.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let f=0;f<i.length;f+=1){const p=i[f];let b=p.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(b-=i[0].swiperSlideOffset);const w=(l+(n.centeredSlides?e.minTranslate():0)-b)/(p.swiperSlideSize+d),S=(l-s[0]+(n.centeredSlides?e.minTranslate():0)-b)/(p.swiperSlideSize+d),E=-(l-b),T=E+e.slidesSizesGrid[f],M=E>=0&&E<=e.size-e.slidesSizesGrid[f],R=E>=0&&E<e.size-1||T>1&&T<=e.size||E<=0&&T>=e.size;R&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(f)),F3(p,R,n.slideVisibleClass),F3(p,M,n.slideFullyVisibleClass),p.progress=r?-w:w,p.originalProgress=r?-S:S}}function w9(t){const e=this;if(typeof t>"u"){const b=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*b||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:l,progressLoop:d}=e;const f=s,p=l;if(i===0)r=0,s=!0,l=!0;else{r=(t-e.minTranslate())/i;const b=Math.abs(t-e.minTranslate())<1,w=Math.abs(t-e.maxTranslate())<1;s=b||r<=0,l=w||r>=1,b&&(r=0),w&&(r=1)}if(n.loop){const b=e.getSlideIndexByData(0),w=e.getSlideIndexByData(e.slides.length-1),S=e.slidesGrid[b],E=e.slidesGrid[w],T=e.slidesGrid[e.slidesGrid.length-1],M=Math.abs(t);M>=S?d=(M-S)/T:d=(M+T-E)/T,d>1&&(d-=1)}Object.assign(e,{progress:r,progressLoop:d,isBeginning:s,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!f&&e.emit("reachBeginning toEdge"),l&&!p&&e.emit("reachEnd toEdge"),(f&&!s||p&&!l)&&e.emit("fromEdge"),e.emit("progress",r)}const Wx=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function _9(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,l=t.grid&&n.grid&&n.grid.rows>1,d=w=>Ma(i,`.${n.slideClass}${w}, swiper-slide${w}`)[0];let f,p,b;if(s)if(n.loop){let w=r-t.virtual.slidesBefore;w<0&&(w=t.virtual.slides.length+w),w>=t.virtual.slides.length&&(w-=t.virtual.slides.length),f=d(`[data-swiper-slide-index="${w}"]`)}else f=d(`[data-swiper-slide-index="${r}"]`);else l?(f=e.find(w=>w.column===r),b=e.find(w=>w.column===r+1),p=e.find(w=>w.column===r-1)):f=e[r];f&&(l||(b=l9(f,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!b&&(b=e[0]),p=o9(f,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(w=>{Wx(w,w===f,n.slideActiveClass),Wx(w,w===b,n.slideNextClass),Wx(w,w===p,n.slidePrevClass)}),t.emitSlidesClasses()}const I1=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},Xx=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},S2=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const l=r,d=[l-e];d.push(...Array.from({length:e}).map((f,p)=>l+i+p)),t.slides.forEach((f,p)=>{d.includes(f.column)&&Xx(t,p)});return}const s=r+i-1;if(t.params.rewind||t.params.loop)for(let l=r-e;l<=s+e;l+=1){const d=(l%n+n)%n;(d<r||d>s)&&Xx(t,d)}else for(let l=Math.max(r-e,0);l<=Math.min(s+e,n-1);l+=1)l!==r&&(l>s||l<r)&&Xx(t,l)};function C9(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function S9(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:l,snapIndex:d}=e;let f=t,p;const b=E=>{let T=E-e.virtual.slidesBefore;return T<0&&(T=e.virtual.slides.length+T),T>=e.virtual.slides.length&&(T-=e.virtual.slides.length),T};if(typeof f>"u"&&(f=C9(e)),i.indexOf(n)>=0)p=i.indexOf(n);else{const E=Math.min(r.slidesPerGroupSkip,f);p=E+Math.floor((f-E)/r.slidesPerGroup)}if(p>=i.length&&(p=i.length-1),f===s&&!e.params.loop){p!==d&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(f===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=b(f);return}const w=e.grid&&r.grid&&r.grid.rows>1;let S;if(e.virtual&&r.virtual.enabled&&r.loop)S=b(f);else if(w){const E=e.slides.find(M=>M.column===f);let T=parseInt(E.getAttribute("data-swiper-slide-index"),10);Number.isNaN(T)&&(T=Math.max(e.slides.indexOf(E),0)),S=Math.floor(T/r.grid.rows)}else if(e.slides[f]){const E=e.slides[f].getAttribute("data-swiper-slide-index");E?S=parseInt(E,10):S=f}else S=f;Object.assign(e,{previousSnapIndex:d,snapIndex:p,previousRealIndex:l,realIndex:S,previousIndex:s,activeIndex:f}),e.initialized&&S2(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==S&&e.emit("realIndexChange"),e.emit("slideChange"))}function E9(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(d=>{!r&&d.matches&&d.matches(`.${i.slideClass}, swiper-slide`)&&(r=d)});let s=!1,l;if(r){for(let d=0;d<n.slides.length;d+=1)if(n.slides[d]===r){s=!0,l=d;break}}if(r&&s)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=l;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var A9={updateSize:g9,updateSlides:x9,updateAutoHeight:y9,updateSlidesOffset:b9,updateSlidesProgress:v9,updateProgress:w9,updateSlidesClasses:_9,updateActiveIndex:S9,updateClickedSlide:E9};function T9(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let l=i9(s,t);return l+=e.cssOverflowAdjustment(),i&&(l=-l),l||0}function N9(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:l}=n;let d=0,f=0;const p=0;n.isHorizontal()?d=i?-t:t:f=t,r.roundLengths&&(d=Math.floor(d),f=Math.floor(f)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?d:f,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-d:-f:r.virtualTranslate||(n.isHorizontal()?d-=n.cssOverflowAdjustment():f-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${d}px, ${f}px, ${p}px)`);let b;const w=n.maxTranslate()-n.minTranslate();w===0?b=0:b=(t-n.minTranslate())/w,b!==l&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function I9(){return-this.snapGrid[0]}function k9(){return-this.snapGrid[this.snapGrid.length-1]}function M9(t=0,e=this.params.speed,n=!0,i=!0,r){const s=this,{params:l,wrapperEl:d}=s;if(s.animating&&l.preventInteractionOnTransition)return!1;const f=s.minTranslate(),p=s.maxTranslate();let b;if(i&&t>f?b=f:i&&t<p?b=p:b=t,s.updateProgress(b),l.cssMode){const w=s.isHorizontal();if(e===0)d[w?"scrollLeft":"scrollTop"]=-b;else{if(!s.support.smoothScroll)return JA({swiper:s,targetPosition:-b,side:w?"left":"top"}),!0;d.scrollTo({[w?"left":"top"]:-b,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(b),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(b),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(S){!s||s.destroyed||S.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var O9={getTranslate:T9,setTranslate:N9,minTranslate:I9,maxTranslate:k9,translateTo:M9};function R9(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function iT({swiper:t,runCallbacks:e,direction:n,step:i}){const{activeIndex:r,previousIndex:s}=t;let l=n;l||(r>s?l="next":r<s?l="prev":l="reset"),t.emit(`transition${i}`),e&&l==="reset"?t.emit(`slideResetTransition${i}`):e&&r!==s&&(t.emit(`slideChangeTransition${i}`),l==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`))}function D9(t=!0,e){const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),iT({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function B9(t=!0,e){const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),iT({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var L9={setTransition:R9,transitionStart:D9,transitionEnd:B9};function j9(t=0,e,n=!0,i,r){typeof t=="string"&&(t=parseInt(t,10));const s=this;let l=t;l<0&&(l=0);const{params:d,snapGrid:f,slidesGrid:p,previousIndex:b,activeIndex:w,rtlTranslate:S,wrapperEl:E,enabled:T}=s;if(!T&&!i&&!r||s.destroyed||s.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const M=Math.min(s.params.slidesPerGroupSkip,l);let R=M+Math.floor((l-M)/s.params.slidesPerGroup);R>=f.length&&(R=f.length-1);const B=-f[R];if(d.normalizeSlideIndex)for(let z=0;z<p.length;z+=1){const U=-Math.floor(B*100),X=Math.floor(p[z]*100),ne=Math.floor(p[z+1]*100);typeof p[z+1]<"u"?U>=X&&U<ne-(ne-X)/2?l=z:U>=X&&U<ne&&(l=z+1):U>=X&&(l=z)}if(s.initialized&&l!==w&&(!s.allowSlideNext&&(S?B>s.translate&&B>s.minTranslate():B<s.translate&&B<s.minTranslate())||!s.allowSlidePrev&&B>s.translate&&B>s.maxTranslate()&&(w||0)!==l))return!1;l!==(b||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(B);let G;l>w?G="next":l<w?G="prev":G="reset";const L=s.virtual&&s.params.virtual.enabled;if(!(L&&r)&&(S&&-B===s.translate||!S&&B===s.translate))return s.updateActiveIndex(l),d.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),d.effect!=="slide"&&s.setTranslate(B),G!=="reset"&&(s.transitionStart(n,G),s.transitionEnd(n,G)),!1;if(d.cssMode){const z=s.isHorizontal(),U=S?B:-B;if(e===0)L&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),L&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{E[z?"scrollLeft":"scrollTop"]=U})):E[z?"scrollLeft":"scrollTop"]=U,L&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return JA({swiper:s,targetPosition:U,side:z?"left":"top"}),!0;E.scrollTo({[z?"left":"top"]:U,behavior:"smooth"})}return!0}const P=nT().isSafari;return L&&!r&&P&&s.isElement&&s.virtual.update(!1,!1,l),s.setTransition(e),s.setTranslate(B),s.updateActiveIndex(l),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,G),e===0?s.transitionEnd(n,G):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(U){!s||s.destroyed||U.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,G))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function P9(t=0,e,n=!0,i){typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let l=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)l=l+r.virtual.slidesBefore;else{let d;if(s){const M=l*r.params.grid.rows;d=r.slides.find(R=>R.getAttribute("data-swiper-slide-index")*1===M).column}else d=r.getSlideIndexByData(l);const f=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:p,slidesOffsetBefore:b,slidesOffsetAfter:w}=r.params,S=p||!!b||!!w;let E=r.params.slidesPerView;E==="auto"?E=r.slidesPerViewDynamic():(E=Math.ceil(parseFloat(r.params.slidesPerView,10)),S&&E%2===0&&(E=E+1));let T=f-d<E;if(S&&(T=T||d<Math.ceil(E/2)),i&&S&&r.params.slidesPerView!=="auto"&&!s&&(T=!1),T){const M=S?d<r.activeIndex?"prev":"next":d-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:M,slideTo:!0,activeSlideIndex:M==="next"?d+1:d-f+1,slideRealIndex:M==="next"?r.realIndex:void 0})}if(s){const M=l*r.params.grid.rows;l=r.slides.find(R=>R.getAttribute("data-swiper-slide-index")*1===M).column}else l=r.getSlideIndexByData(l)}return requestAnimationFrame(()=>{r.slideTo(l,e,n,i)}),r}function F9(t,e=!0,n){const i=this,{enabled:r,params:s,animating:l}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let d=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(d=Math.max(i.slidesPerViewDynamic("current",!0),1));const f=i.activeIndex<s.slidesPerGroupSkip?1:d,p=i.virtual&&s.virtual.enabled;if(s.loop){if(l&&!p&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+f,t,e,n)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+f,t,e,n)}function z9(t,e=!0,n){const i=this,{params:r,snapGrid:s,slidesGrid:l,rtlTranslate:d,enabled:f,animating:p}=i;if(!f||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const b=i.virtual&&r.virtual.enabled;if(r.loop){if(p&&!b&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const w=d?i.translate:-i.translate;function S(G){return G<0?-Math.floor(Math.abs(G)):Math.floor(G)}const E=S(w),T=s.map(G=>S(G)),M=r.freeMode&&r.freeMode.enabled;let R=s[T.indexOf(E)-1];if(typeof R>"u"&&(r.cssMode||M)){let G;s.forEach((L,k)=>{E>=L&&(G=k)}),typeof G<"u"&&(R=M?s[G]:s[G>0?G-1:G])}let B=0;if(typeof R<"u"&&(B=l.indexOf(R),B<0&&(B=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(B=B-i.slidesPerViewDynamic("previous",!0)+1,B=Math.max(B,0))),r.rewind&&i.isBeginning){const G=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(G,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(B,t,e,n)}),!0;return i.slideTo(B,t,e,n)}function H9(t,e=!0,n){const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function U9(t,e=!0,n,i=.5){const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let s=r.activeIndex;const l=Math.min(r.params.slidesPerGroupSkip,s),d=l+Math.floor((s-l)/r.params.slidesPerGroup),f=r.rtlTranslate?r.translate:-r.translate;if(f>=r.snapGrid[d]){const p=r.snapGrid[d],b=r.snapGrid[d+1];f-p>(b-p)*i&&(s+=r.params.slidesPerGroup)}else{const p=r.snapGrid[d-1],b=r.snapGrid[d];f-p<=(b-p)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function $9(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.getSlideIndexWhenGrid(t.clickedIndex),s;const l=t.isElement?"swiper-slide":`.${e.slideClass}`,d=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):r>(d?(t.slides.length-i)/2-(t.params.grid.rows-1):t.slides.length-i)?(t.loopFix(),r=t.getSlideIndex(Ma(n,`${l}[data-swiper-slide-index="${s}"]`)[0]),QA(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var V9={slideTo:j9,slideToLoop:P9,slideNext:F9,slidePrev:z9,slideReset:H9,slideToClosest:U9,slideToClickedSlide:$9};function G9(t,e){const n=this,{params:i,slidesEl:r}=n;if(!i.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Ma(r,`.${i.slideClass}, swiper-slide`).forEach((T,M)=>{T.setAttribute("data-swiper-slide-index",M)})},l=()=>{const E=Ma(r,`.${i.slideBlankClass}`);E.forEach(T=>{T.remove()}),E.length>0&&(n.recalcSlides(),n.updateSlides())},d=n.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||d)&&l();const f=i.slidesPerGroup*(d?i.grid.rows:1),p=n.slides.length%f!==0,b=d&&n.slides.length%i.grid.rows!==0,w=E=>{for(let T=0;T<E;T+=1){const M=n.isElement?q1("swiper-slide",[i.slideBlankClass]):q1("div",[i.slideClass,i.slideBlankClass]);n.slidesEl.append(M)}};if(p){if(i.loopAddBlankSlides){const E=f-n.slides.length%f;w(E),n.recalcSlides(),n.updateSlides()}else G1("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(b){if(i.loopAddBlankSlides){const E=i.grid.rows-n.slides.length%i.grid.rows;w(E),n.recalcSlides(),n.updateSlides()}else G1("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();const S=i.centeredSlides||!!i.slidesOffsetBefore||!!i.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:S?void 0:"next",initial:e})}function q9({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:i,activeSlideIndex:r,initial:s,byController:l,byMousewheel:d}={}){const f=this;if(!f.params.loop)return;f.emit("beforeLoopFix");const{slides:p,allowSlidePrev:b,allowSlideNext:w,slidesEl:S,params:E}=f,{centeredSlides:T,slidesOffsetBefore:M,slidesOffsetAfter:R,initialSlide:B}=E,G=T||!!M||!!R;if(f.allowSlidePrev=!0,f.allowSlideNext=!0,f.virtual&&E.virtual.enabled){e&&(!G&&f.snapIndex===0?f.slideTo(f.virtual.slides.length,0,!1,!0):G&&f.snapIndex<E.slidesPerView?f.slideTo(f.virtual.slides.length+f.snapIndex,0,!1,!0):f.snapIndex===f.snapGrid.length-1&&f.slideTo(f.virtual.slidesBefore,0,!1,!0)),f.allowSlidePrev=b,f.allowSlideNext=w,f.emit("loopFix");return}let L=E.slidesPerView;L==="auto"?L=f.slidesPerViewDynamic():(L=Math.ceil(parseFloat(E.slidesPerView,10)),G&&L%2===0&&(L=L+1));const k=E.slidesPerGroupAuto?L:E.slidesPerGroup;let D=G?Math.max(k,Math.ceil(L/2)):k;D%k!==0&&(D+=k-D%k),D+=E.loopAdditionalSlides,f.loopedSlides=D;const P=f.grid&&E.grid&&E.grid.rows>1;p.length<L+D||f.params.effect==="cards"&&p.length<L+D*2?G1("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):P&&E.grid.fill==="row"&&G1("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const z=[],U=[],X=P?Math.ceil(p.length/E.grid.rows):p.length,ne=s&&X-B<L&&!G;let ee=ne?B:f.activeIndex;typeof r>"u"?r=f.getSlideIndex(p.find(xe=>xe.classList.contains(E.slideActiveClass))):ee=r;const oe=n==="next"||!n,Ce=n==="prev"||!n;let Se=0,te=0;const le=(P?p[r].column:r)+(G&&typeof i>"u"?-L/2+.5:0);if(le<D){Se=Math.max(D-le,k);for(let xe=0;xe<D-le;xe+=1){const Be=xe-Math.floor(xe/X)*X;if(P){const K=X-Be-1;for(let ue=p.length-1;ue>=0;ue-=1)p[ue].column===K&&z.push(ue)}else z.push(X-Be-1)}}else if(le+L>X-D){te=Math.max(le-(X-D*2),k),ne&&(te=Math.max(te,L-X+B+1));for(let xe=0;xe<te;xe+=1){const Be=xe-Math.floor(xe/X)*X;P?p.forEach((K,ue)=>{K.column===Be&&U.push(ue)}):U.push(Be)}}if(f.__preventObserver__=!0,requestAnimationFrame(()=>{f.__preventObserver__=!1}),f.params.effect==="cards"&&p.length<L+D*2&&(U.includes(r)&&U.splice(U.indexOf(r),1),z.includes(r)&&z.splice(z.indexOf(r),1)),Ce&&z.forEach(xe=>{p[xe].swiperLoopMoveDOM=!0,S.prepend(p[xe]),p[xe].swiperLoopMoveDOM=!1}),oe&&U.forEach(xe=>{p[xe].swiperLoopMoveDOM=!0,S.append(p[xe]),p[xe].swiperLoopMoveDOM=!1}),f.recalcSlides(),E.slidesPerView==="auto"?f.updateSlides():P&&(z.length>0&&Ce||U.length>0&&oe)&&f.slides.forEach((xe,Be)=>{f.grid.updateSlide(Be,xe,f.slides)}),E.watchSlidesProgress&&f.updateSlidesOffset(),e){if(z.length>0&&Ce){if(typeof t>"u"){const xe=f.slidesGrid[ee],K=f.slidesGrid[ee+Se]-xe;d?f.setTranslate(f.translate-K):(f.slideTo(ee+Math.ceil(Se),0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-K,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-K))}else if(i){const xe=P?z.length/E.grid.rows:z.length;f.slideTo(f.activeIndex+xe,0,!1,!0),f.touchEventsData.currentTranslate=f.translate}}else if(U.length>0&&oe)if(typeof t>"u"){const xe=f.slidesGrid[ee],K=f.slidesGrid[ee-te]-xe;d?f.setTranslate(f.translate-K):(f.slideTo(ee-te,0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-K,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-K))}else{const xe=P?U.length/E.grid.rows:U.length;f.slideTo(f.activeIndex-xe,0,!1,!0)}}if(f.allowSlidePrev=b,f.allowSlideNext=w,f.controller&&f.controller.control&&!l){const xe={slideRealIndex:t,direction:n,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(f.controller.control)?f.controller.control.forEach(Be=>{!Be.destroyed&&Be.params.loop&&Be.loopFix({...xe,slideTo:Be.params.slidesPerView===E.slidesPerView?e:!1})}):f.controller.control instanceof f.constructor&&f.controller.control.params.loop&&f.controller.control.loopFix({...xe,slideTo:f.controller.control.params.slidesPerView===E.slidesPerView?e:!1})}f.emit("loopFix")}function W9(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var X9={loopCreate:G9,loopFix:q9,loopDestroy:W9};function Y9(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function K9(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Z9={setGrabCursor:Y9,unsetGrabCursor:K9};function Q9(t,e=this){function n(i){if(!i||i===tu()||i===Mr())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function z3(t,e,n){const i=Mr(),{params:r}=t,s=r.edgeSwipeDetection,l=r.edgeSwipeThreshold;return s&&(n<=l||n>=i.innerWidth-l)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function J9(t){const e=this,n=tu();let i=t;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){z3(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:l,enabled:d}=e;if(!d||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let f=i.target;if(s.touchEventsTarget==="wrapper"&&!a9(f,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const p=!!s.noSwipingClass&&s.noSwipingClass!=="",b=i.composedPath?i.composedPath():i.path;p&&i.target&&i.target.shadowRoot&&b&&(f=b[0]);const w=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,S=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(S?Q9(w,f):f.closest(w))){e.allowClick=!0;return}if(s.swipeHandler&&!f.closest(s.swipeHandler))return;l.currentX=i.pageX,l.currentY=i.pageY;const E=l.currentX,T=l.currentY;if(!z3(e,i,E))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=E,l.startY=T,r.touchStartTime=V1(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let M=!0;f.matches(r.focusableElements)&&(M=!1,f.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==f&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!f.matches(r.focusableElements))&&n.activeElement.blur();const R=M&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||R)&&!f.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function eB(t){const e=tu(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:l,enabled:d}=n;if(!d||!r.simulateTouch&&t.pointerType==="mouse")return;let f=t;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(i.touchId!==null||f.pointerId!==i.pointerId))return;let p;if(f.type==="touchmove"){if(p=[...f.changedTouches].find(D=>D.identifier===i.touchId),!p||p.identifier!==i.touchId)return}else p=f;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",f);return}const b=p.pageX,w=p.pageY;if(f.preventedByNestedSwiper){s.startX=b,s.startY=w;return}if(!n.allowTouchMove){f.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:b,startY:w,currentX:b,currentY:w}),i.touchStartTime=V1());return}if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(w<s.startY&&n.translate<=n.maxTranslate()||w>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(l&&(b>s.startX&&-n.translate<=n.maxTranslate()||b<s.startX&&-n.translate>=n.minTranslate()))return;if(!l&&(b<s.startX&&n.translate<=n.maxTranslate()||b>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",f),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=b,s.currentY=w;const S=s.currentX-s.startX,E=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(S**2+E**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let D;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:S*S+E*E>=25&&(D=Math.atan2(Math.abs(E),Math.abs(S))*180/Math.PI,i.isScrolling=n.isHorizontal()?D>r.touchAngle:90-D>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",f),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||f.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&f.cancelable&&f.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&f.stopPropagation();let T=n.isHorizontal()?S:E,M=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(T=Math.abs(T)*(l?1:-1),M=Math.abs(M)*(l?1:-1)),s.diff=T,T*=r.touchRatio,l&&(T=-T,M=-M);const R=n.touchesDirection;n.swipeDirection=T>0?"prev":"next",n.touchesDirection=M>0?"prev":"next";const B=n.params.loop&&!r.cssMode,G=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(B&&G&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const D=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(D)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",f)}if(new Date().getTime(),r._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&R!==n.touchesDirection&&B&&G&&Math.abs(T)>=1){Object.assign(s,{startX:b,startY:w,currentX:b,currentY:w,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",f),i.isMoved=!0,i.currentTranslate=T+i.startTranslate;let L=!0,k=r.resistanceRatio;if(r.touchReleaseOnEdges&&(k=0),T>0?(B&&G&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(L=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+T)**k))):T<0&&(B&&G&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(L=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-T)**k))),L&&(f.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(T)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function tB(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(D=>D.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:l,touches:d,rtlTranslate:f,slidesGrid:p,enabled:b}=e;if(!b||!l.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&l.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}l.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const w=V1(),S=w-n.touchStartTime;if(e.allowClick){const D=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(D&&D[0]||i.target,D),e.emit("tap click",i),S<300&&w-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=V1(),QA(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||d.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let E;if(l.followFinger?E=f?e.translate:-e.translate:E=-n.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:E});return}const T=E>=-e.maxTranslate()&&!e.params.loop;let M=0,R=e.slidesSizesGrid[0];for(let D=0;D<p.length;D+=D<l.slidesPerGroupSkip?1:l.slidesPerGroup){const P=D<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof p[D+P]<"u"?(T||E>=p[D]&&E<p[D+P])&&(M=D,R=p[D+P]-p[D]):(T||E>=p[D])&&(M=D,R=p[p.length-1]-p[p.length-2])}let B=null,G=null;l.rewind&&(e.isBeginning?G=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(B=0));const L=(E-p[M])/R,k=M<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(S>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(L>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?B:M+k):e.slideTo(M)),e.swipeDirection==="prev"&&(L>1-l.longSwipesRatio?e.slideTo(M+k):G!==null&&L<0&&Math.abs(L)>l.longSwipesRatio?e.slideTo(G):e.slideTo(M))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(M+k):e.slideTo(M):(e.swipeDirection==="next"&&e.slideTo(B!==null?B:M+k),e.swipeDirection==="prev"&&e.slideTo(G!==null?G:M))}}function H3(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,l=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const d=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!d?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!l?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function nB(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function iB(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function rB(t){const e=this;I1(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function sB(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const rT=(t,e)=>{const n=tu(),{params:i,el:r,wrapperEl:s,device:l}=t,d=!!i.nested,f=e==="on"?"addEventListener":"removeEventListener",p=e;!r||typeof r=="string"||(n[f]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:d}),r[f]("touchstart",t.onTouchStart,{passive:!1}),r[f]("pointerdown",t.onTouchStart,{passive:!1}),n[f]("touchmove",t.onTouchMove,{passive:!1,capture:d}),n[f]("pointermove",t.onTouchMove,{passive:!1,capture:d}),n[f]("touchend",t.onTouchEnd,{passive:!0}),n[f]("pointerup",t.onTouchEnd,{passive:!0}),n[f]("pointercancel",t.onTouchEnd,{passive:!0}),n[f]("touchcancel",t.onTouchEnd,{passive:!0}),n[f]("pointerout",t.onTouchEnd,{passive:!0}),n[f]("pointerleave",t.onTouchEnd,{passive:!0}),n[f]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[f]("click",t.onClick,!0),i.cssMode&&s[f]("scroll",t.onScroll),i.updateOnWindowResize?t[p](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",H3,!0):t[p]("observerUpdate",H3,!0),r[f]("load",t.onLoad,{capture:!0}))};function aB(){const t=this,{params:e}=t;t.onTouchStart=J9.bind(t),t.onTouchMove=eB.bind(t),t.onTouchEnd=tB.bind(t),t.onDocumentTouchStart=sB.bind(t),e.cssMode&&(t.onScroll=iB.bind(t)),t.onClick=nB.bind(t),t.onLoad=rB.bind(t),rT(t,"on")}function oB(){rT(this,"off")}var lB={attachEvents:aB,detachEvents:oB};const U3=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function cB(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const l=tu(),d=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",f=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:l.querySelector(i.breakpointsBase),p=t.getBreakpoint(s,d,f);if(!p||t.currentBreakpoint===p)return;const w=(p in s?s[p]:void 0)||t.originalParams,S=U3(t,i),E=U3(t,w),T=t.params.grabCursor,M=w.grabCursor,R=i.enabled;S&&!E?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!S&&E&&(r.classList.add(`${i.containerModifierClass}grid`),(w.grid.fill&&w.grid.fill==="column"||!w.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),T&&!M?t.unsetGrabCursor():!T&&M&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(P=>{if(typeof w[P]>"u")return;const z=i[P]&&i[P].enabled,U=w[P]&&w[P].enabled;z&&!U&&t[P].disable(),!z&&U&&t[P].enable()});const B=w.direction&&w.direction!==i.direction,G=i.loop&&(w.slidesPerView!==i.slidesPerView||B),L=i.loop;B&&n&&t.changeDirection(),hs(t.params,w);const k=t.params.enabled,D=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),R&&!k?t.disable():!R&&k&&t.enable(),t.currentBreakpoint=p,t.emit("_beforeBreakpoint",w),n&&(G?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!L&&D?(t.loopCreate(e),t.updateSlides()):L&&!D&&t.loopDestroy()),t.emit("breakpoint",w)}function uB(t,e="window",n){if(!t||e==="container"&&!n)return;let i=!1;const r=Mr(),s=e==="window"?r.innerHeight:n.clientHeight,l=Object.keys(t).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const f=parseFloat(d.substr(1));return{value:s*f,point:d}}return{value:d,point:d}});l.sort((d,f)=>parseInt(d.value,10)-parseInt(f.value,10));for(let d=0;d<l.length;d+=1){const{point:f,value:p}=l[d];e==="window"?r.matchMedia(`(min-width: ${p}px)`).matches&&(i=f):p<=n.clientWidth&&(i=f)}return i||"max"}var dB={setBreakpoint:cB,getBreakpoint:uB};function fB(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function hB(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,l=fB(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...l),r.classList.add(...e),t.emitContainerClasses()}function pB(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var mB={addClasses:hB,removeClasses:pB};function gB(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var xB={checkOverflow:gB},E2={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function yB(t,e){return function(i={}){const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){hs(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in s)){hs(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),hs(e,i)}}const Yx={eventsEmitter:m9,update:A9,translate:O9,transition:L9,slide:V9,loop:X9,grabCursor:Z9,events:lB,breakpoints:dB,checkOverflow:xB,classes:mB},Kx={};let Ob=class So{constructor(...e){let n,i;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?i=e[0]:[n,i]=e,i||(i={}),i=hs({},i),n&&!i.el&&(i.el=n);const r=tu();if(i.el&&typeof i.el=="string"&&r.querySelectorAll(i.el).length>1){const f=[];return r.querySelectorAll(i.el).forEach(p=>{const b=hs({},i,{el:p});f.push(new So(b))}),f}const s=this;s.__swiper__=!0,s.support=eT(),s.device=tT({userAgent:i.userAgent}),s.browser=nT(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],i.modules&&Array.isArray(i.modules)&&s.modules.push(...i.modules);const l={};s.modules.forEach(f=>{f({params:i,swiper:s,extendParams:yB(i,l),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const d=hs({},E2,l);return s.params=hs({},d,Kx,i),s.originalParams=hs({},s.params),s.passedParams=hs({},i),s.params&&s.params.on&&Object.keys(s.params.on).forEach(f=>{s.on(f,s.params.on[f])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=Ma(n,`.${i.slideClass}, swiper-slide`),s=j3(r[0]);return j3(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=Ma(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),l=(i.maxTranslate()-r)*e+r;i.translateTo(l,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const i=this,{params:r,slides:s,slidesGrid:l,slidesSizesGrid:d,size:f,activeIndex:p}=i;let b=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let w=s[p]?Math.ceil(s[p].swiperSlideSize):0,S;for(let E=p+1;E<s.length;E+=1)s[E]&&!S&&(w+=Math.ceil(s[E].swiperSlideSize),b+=1,w>f&&(S=!0));for(let E=p-1;E>=0;E-=1)s[E]&&!S&&(w+=s[E].swiperSlideSize,b+=1,w>f&&(S=!0))}else if(e==="current")for(let w=p+1;w<s.length;w+=1)(n?l[w]+d[w]-l[p]<f:l[w]-l[p]<f)&&(b+=1);else for(let w=p-1;w>=0;w-=1)l[p]-l[w]<f&&(b+=1);return b}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&I1(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const l=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const l=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(l.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Ma(i,r())[0];return!l&&n.params.createElements&&(l=q1("div",n.params.wrapperClass),i.append(l),Ma(i,`.${n.params.slideClass}`).forEach(d=>{l.append(d)})),Object.assign(n,{el:i,wrapperEl:l,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:l,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Ml(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Ml(i,"direction")==="rtl"),wrongRTL:Ml(l,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?I1(n,s):s.addEventListener("load",l=>{I1(n,l.target)})}),S2(n),n.initialized=!0,S2(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const i=this,{params:r,el:s,wrapperEl:l,slides:d}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),l&&l.removeAttribute("style"),d&&d.length&&d.forEach(f=>{f.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(f=>{i.off(f)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),t9(i)),i.destroyed=!0),null}static extendDefaults(e){hs(Kx,e)}static get extendedDefaults(){return Kx}static get defaults(){return E2}static installModule(e){So.prototype.__modules__||(So.prototype.__modules__=[]);const n=So.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>So.installModule(n)),So):(So.installModule(e),So)}};Object.keys(Yx).forEach(t=>{Object.keys(Yx[t]).forEach(e=>{Ob.prototype[e]=Yx[t][e]})});Ob.use([h9,p9]);const sT=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Gc(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function fd(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Gc(e[i])&&Gc(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:fd(t[i],e[i]):t[i]=e[i]})}function aT(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function oT(t={}){return t.pagination&&typeof t.pagination.el>"u"}function lT(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function cT(t=""){const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function bB(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function vB({swiper:t,slides:e,passedParams:n,changedParams:i,nextEl:r,prevEl:s,scrollbarEl:l,paginationEl:d}){const f=i.filter(U=>U!=="children"&&U!=="direction"&&U!=="wrapperClass"),{params:p,pagination:b,navigation:w,scrollbar:S,virtual:E,thumbs:T}=t;let M,R,B,G,L,k,D,P;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&p.thumbs&&(!p.thumbs.swiper||p.thumbs.swiper.destroyed)&&(M=!0),i.includes("controller")&&n.controller&&n.controller.control&&p.controller&&!p.controller.control&&(R=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||d)&&(p.pagination||p.pagination===!1)&&b&&!b.el&&(B=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(p.scrollbar||p.scrollbar===!1)&&S&&!S.el&&(G=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||s)&&(n.navigation.nextEl||r)&&(p.navigation||p.navigation===!1)&&w&&!w.prevEl&&!w.nextEl&&(L=!0);const z=U=>{t[U]&&(t[U].destroy(),U==="navigation"?(t.isElement&&(t[U].prevEl.remove(),t[U].nextEl.remove()),p[U].prevEl=void 0,p[U].nextEl=void 0,t[U].prevEl=void 0,t[U].nextEl=void 0):(t.isElement&&t[U].el.remove(),p[U].el=void 0,t[U].el=void 0))};i.includes("loop")&&t.isElement&&(p.loop&&!n.loop?k=!0:!p.loop&&n.loop?D=!0:P=!0),f.forEach(U=>{if(Gc(p[U])&&Gc(n[U]))Object.assign(p[U],n[U]),(U==="navigation"||U==="pagination"||U==="scrollbar")&&"enabled"in n[U]&&!n[U].enabled&&z(U);else{const X=n[U];(X===!0||X===!1)&&(U==="navigation"||U==="pagination"||U==="scrollbar")?X===!1&&z(U):p[U]=n[U]}}),f.includes("controller")&&!R&&t.controller&&t.controller.control&&p.controller&&p.controller.control&&(t.controller.control=p.controller.control),i.includes("children")&&e&&E&&p.virtual.enabled?(E.slides=e,E.update(!0)):i.includes("virtual")&&E&&p.virtual.enabled&&(e&&(E.slides=e),E.update(!0)),i.includes("children")&&e&&p.loop&&(P=!0),M&&T.init()&&T.update(!0),R&&(t.controller.control=p.controller.control),B&&(t.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),t.el.appendChild(d)),d&&(p.pagination.el=d),b.init(),b.render(),b.update()),G&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(p.scrollbar.el=l),S.init(),S.updateSize(),S.setTranslate()),L&&(t.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),C2(r,t.hostEl.constructor.nextButtonSvg),r.part.add("button-next"),t.el.appendChild(r)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),C2(s,t.hostEl.constructor.prevButtonSvg),s.part.add("button-prev"),t.el.appendChild(s))),r&&(p.navigation.nextEl=r),s&&(p.navigation.prevEl=s),w.init(),w.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&t.changeDirection(n.direction,!1),(k||P)&&t.loopDestroy(),(D||P)&&t.loopCreate(),t.update()}function wB(t={},e=!0){const n={on:{}},i={},r={};fd(n,E2),n._emitClasses=!0,n.init=!1;const s={},l=sT.map(f=>f.replace(/_/,"")),d=Object.assign({},t);return Object.keys(d).forEach(f=>{typeof t[f]>"u"||(l.indexOf(f)>=0?Gc(t[f])?(n[f]={},r[f]={},fd(n[f],t[f]),fd(r[f],t[f])):(n[f]=t[f],r[f]=t[f]):f.search(/on[A-Z]/)===0&&typeof t[f]=="function"?e?i[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:n.on[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:s[f]=t[f])}),["navigation","pagination","scrollbar"].forEach(f=>{n[f]===!0&&(n[f]={}),n[f]===!1&&delete n[f]}),{params:n,passedParams:r,rest:s,events:i}}function _B({el:t,nextEl:e,prevEl:n,paginationEl:i,scrollbarEl:r,swiper:s},l){aT(l)&&e&&n&&(s.params.navigation.nextEl=e,s.originalParams.navigation.nextEl=e,s.params.navigation.prevEl=n,s.originalParams.navigation.prevEl=n),oT(l)&&i&&(s.params.pagination.el=i,s.originalParams.pagination.el=i),lT(l)&&r&&(s.params.scrollbar.el=r,s.originalParams.scrollbar.el=r),s.init(t)}function CB(t,e,n,i,r){const s=[];if(!e)return s;const l=f=>{s.indexOf(f)<0&&s.push(f)};if(n&&i){const f=i.map(r),p=n.map(r);f.join("")!==p.join("")&&l("children"),i.length!==n.length&&l("children")}return sT.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in t&&f in e)if(Gc(t[f])&&Gc(e[f])){const p=Object.keys(t[f]),b=Object.keys(e[f]);p.length!==b.length?l(f):(p.forEach(w=>{t[f][w]!==e[f][w]&&l(f)}),b.forEach(w=>{t[f][w]!==e[f][w]&&l(f)}))}else t[f]!==e[f]&&l(f)}),s}const SB=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},W1.apply(this,arguments)}function uT(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function dT(t){const e=[];return Ut.Children.toArray(t).forEach(n=>{uT(n)?e.push(n):n.props&&n.props.children&&dT(n.props.children).forEach(i=>e.push(i))}),e}function EB(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ut.Children.toArray(t).forEach(i=>{if(uT(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=dT(i.props.children);r.length>0?r.forEach(s=>e.push(s)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function AB(t,e,n){if(!n)return null;const i=b=>{let w=b;return b<0?w=e.length+b:w>=e.length&&(w=w-e.length),w},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:l}=n,d=t.params.loop?-e.length:0,f=t.params.loop?e.length*2:e.length,p=[];for(let b=d;b<f;b+=1)b>=s&&b<=l&&p.push(e[i(b)]);return p.map((b,w)=>Ut.cloneElement(b,{swiper:t,style:r,key:b.props.virtualIndex||b.key||`slide-${w}`}))}function Xf(t,e){return typeof window>"u"?j.useEffect(t,e):j.useLayoutEffect(t,e)}const $3=j.createContext(null),TB=j.createContext(null),fT=j.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:i,onSwiper:r,...s}={},l)=>{let d=!1;const[f,p]=j.useState("swiper"),[b,w]=j.useState(null),[S,E]=j.useState(!1),T=j.useRef(!1),M=j.useRef(null),R=j.useRef(null),B=j.useRef(null),G=j.useRef(null),L=j.useRef(null),k=j.useRef(null),D=j.useRef(null),P=j.useRef(null),{params:z,passedParams:U,rest:X,events:ne}=wB(s),{slides:ee,slots:oe}=EB(i),Ce=()=>{E(!S)};Object.assign(z.on,{_containerClasses(xe,Be){p(Be)}});const Se=()=>{Object.assign(z.on,ne),d=!0;const xe={...z};if(delete xe.wrapperClass,R.current=new Ob(xe),R.current.virtual&&R.current.params.virtual.enabled){R.current.virtual.slides=ee;const Be={cache:!1,slides:ee,renderExternal:w,renderExternalUpdate:!1};fd(R.current.params.virtual,Be),fd(R.current.originalParams.virtual,Be)}};M.current||Se(),R.current&&R.current.on("_beforeBreakpoint",Ce);const te=()=>{d||!ne||!R.current||Object.keys(ne).forEach(xe=>{R.current.on(xe,ne[xe])})},Q=()=>{!ne||!R.current||Object.keys(ne).forEach(xe=>{R.current.off(xe,ne[xe])})};j.useEffect(()=>()=>{R.current&&R.current.off("_beforeBreakpoint",Ce)}),j.useEffect(()=>{!T.current&&R.current&&(R.current.emitSlidesClasses(),T.current=!0)}),Xf(()=>{if(l&&(l.current=M.current),!!M.current)return R.current.destroyed&&Se(),_B({el:M.current,nextEl:L.current,prevEl:k.current,paginationEl:D.current,scrollbarEl:P.current,swiper:R.current},z),r&&!R.current.destroyed&&r(R.current),()=>{R.current&&!R.current.destroyed&&R.current.destroy(!0,!1)}},[]),Xf(()=>{te();const xe=CB(U,B.current,ee,G.current,Be=>Be.key);return B.current=U,G.current=ee,xe.length&&R.current&&!R.current.destroyed&&vB({swiper:R.current,slides:ee,passedParams:U,changedParams:xe,nextEl:L.current,prevEl:k.current,scrollbarEl:P.current,paginationEl:D.current}),()=>{Q()}}),Xf(()=>{SB(R.current)},[b]);function le(){return z.virtual?AB(R.current,ee,b):ee.map((xe,Be)=>Ut.cloneElement(xe,{swiper:R.current,swiperSlideIndex:Be}))}return Ut.createElement(e,W1({ref:M,className:cT(`${f}${t?` ${t}`:""}`)},X),Ut.createElement(TB.Provider,{value:R.current},oe["container-start"],Ut.createElement(n,{className:bB(z.wrapperClass)},oe["wrapper-start"],le(),oe["wrapper-end"]),aT(z)&&Ut.createElement(Ut.Fragment,null,Ut.createElement("div",{ref:k,className:"swiper-button-prev"}),Ut.createElement("div",{ref:L,className:"swiper-button-next"})),lT(z)&&Ut.createElement("div",{ref:P,className:"swiper-scrollbar"}),oT(z)&&Ut.createElement("div",{ref:D,className:"swiper-pagination"}),oe["container-end"]))});fT.displayName="Swiper";const hT=j.forwardRef(({tag:t="div",children:e,className:n="",swiper:i,zoom:r,lazy:s,virtualIndex:l,swiperSlideIndex:d,...f}={},p)=>{const b=j.useRef(null),[w,S]=j.useState("swiper-slide"),[E,T]=j.useState(!1);function M(L,k,D){k===b.current&&S(D)}Xf(()=>{if(typeof d<"u"&&(b.current.swiperSlideIndex=d),p&&(p.current=b.current),!(!b.current||!i)){if(i.destroyed){w!=="swiper-slide"&&S("swiper-slide");return}return i.on("_slideClass",M),()=>{i&&i.off("_slideClass",M)}}}),Xf(()=>{i&&b.current&&!i.destroyed&&S(i.getSlideClasses(b.current))},[i]);const R={isActive:w.indexOf("swiper-slide-active")>=0,isVisible:w.indexOf("swiper-slide-visible")>=0,isPrev:w.indexOf("swiper-slide-prev")>=0,isNext:w.indexOf("swiper-slide-next")>=0},B=()=>typeof e=="function"?e(R):e,G=()=>{T(!0)};return Ut.createElement(t,W1({ref:b,className:cT(`${w}${n?` ${n}`:""}`),"data-swiper-slide-index":l,onLoad:G},f),r&&Ut.createElement($3.Provider,{value:R},Ut.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof r=="number"?r:void 0},B(),s&&!E&&Ut.createElement("div",{className:"swiper-lazy-preloader"}))),!r&&Ut.createElement($3.Provider,{value:R},B(),s&&!E&&Ut.createElement("div",{className:"swiper-lazy-preloader"})))});hT.displayName="SwiperSlide";function NB(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=Ma(t.el,`.${i[r]}`)[0];s||(s=q1("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}const IB='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function kB({swiper:t,extendParams:e,on:n,emit:i}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function r(E){let T;return E&&typeof E=="string"&&t.isElement&&(T=t.el.querySelector(E)||t.hostEl.querySelector(E),T)?T:(E&&(typeof E=="string"&&(T=[...document.querySelectorAll(E)]),t.params.uniqueNavElements&&typeof E=="string"&&T&&T.length>1&&t.el.querySelectorAll(E).length===1?T=t.el.querySelector(E):T&&T.length===1&&(T=T[0])),E&&!T?E:T)}function s(E,T){const M=t.params.navigation;E=ao(E),E.forEach(R=>{R&&(R.classList[T?"add":"remove"](...M.disabledClass.split(" ")),R.tagName==="BUTTON"&&(R.disabled=T),t.params.watchOverflow&&t.enabled&&R.classList[t.isLocked?"add":"remove"](M.lockClass))})}function l(){const{nextEl:E,prevEl:T}=t.navigation;if(t.params.loop){s(T,!1),s(E,!1);return}s(T,t.isBeginning&&!t.params.rewind),s(E,t.isEnd&&!t.params.rewind)}function d(E){E.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function f(E){E.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function p(){const E=t.params.navigation;if(t.params.navigation=NB(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(E.nextEl||E.prevEl))return;let T=r(E.nextEl),M=r(E.prevEl);Object.assign(t.navigation,{nextEl:T,prevEl:M}),T=ao(T),M=ao(M);const R=(B,G)=>{if(B){if(E.addIcons&&B.matches(".swiper-button-next,.swiper-button-prev")&&!B.querySelector("svg")){const L=document.createElement("div");C2(L,IB),B.appendChild(L.querySelector("svg")),L.remove()}B.addEventListener("click",G==="next"?f:d)}!t.enabled&&B&&B.classList.add(...E.lockClass.split(" "))};T.forEach(B=>R(B,"next")),M.forEach(B=>R(B,"prev"))}function b(){let{nextEl:E,prevEl:T}=t.navigation;E=ao(E),T=ao(T);const M=(R,B)=>{R.removeEventListener("click",B==="next"?f:d),R.classList.remove(...t.params.navigation.disabledClass.split(" "))};E.forEach(R=>M(R,"next")),T.forEach(R=>M(R,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?S():(p(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{b()}),n("enable disable",()=>{let{nextEl:E,prevEl:T}=t.navigation;if(E=ao(E),T=ao(T),t.enabled){l();return}[...E,...T].filter(M=>!!M).forEach(M=>M.classList.add(t.params.navigation.lockClass))}),n("click",(E,T)=>{let{nextEl:M,prevEl:R}=t.navigation;M=ao(M),R=ao(R);const B=T.target;let G=R.includes(B)||M.includes(B);if(t.isElement&&!G){const L=T.path||T.composedPath&&T.composedPath();L&&(G=L.find(k=>M.includes(k)||R.includes(k)))}if(t.params.navigation.hideOnClick&&!G){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===B||t.pagination.el.contains(B)))return;let L;M.length?L=M[0].classList.contains(t.params.navigation.hiddenClass):R.length&&(L=R[0].classList.contains(t.params.navigation.hiddenClass)),i(L===!0?"navigationShow":"navigationHide"),[...M,...R].filter(k=>!!k).forEach(k=>k.classList.toggle(t.params.navigation.hiddenClass))}});const w=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),p(),l()},S=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),b()};Object.assign(t.navigation,{enable:w,disable:S,update:l,init:p,destroy:b})}const MB="_carouselWrapper_olv4s_1",OB="_carouselHeader_olv4s_13",RB="_carouselTitle_olv4s_29",DB="_moreButton_olv4s_41",BB="_carouselViewport_olv4s_79",LB="_carouselSlide_olv4s_89",jB="_slideCard_olv4s_113",PB="_carouselImage_olv4s_135",FB="_cardText_olv4s_149",zB="_prevButton_olv4s_203",HB="_nextButton_olv4s_205",UB="_emptyBox_olv4s_235",Ns={carouselWrapper:MB,carouselHeader:OB,carouselTitle:RB,moreButton:DB,carouselViewport:BB,carouselSlide:LB,slideCard:jB,carouselImage:PB,cardText:FB,prevButton:zB,nextButton:HB,emptyBox:UB};function V3({title:t,category:e,value:n}){const[i,r]=j.useState([]),s=j.useRef(null),l=j.useRef(null),d=j.useRef(null);return j.useEffect(()=>{var f;d.current&&s.current&&l.current&&((f=d.current.params)!=null&&f.navigation)&&(d.current.params.navigation.prevEl=s.current,d.current.params.navigation.nextEl=l.current,d.current.navigation.destroy(),d.current.navigation.init(),d.current.navigation.update())},[]),j.useEffect(()=>{(async()=>{try{const b=(await gi.get("/api/exhibitions",{params:{status:"exhibited",[e]:n}})).data.map(({id:w,exhibition_poster:S,exhibition_title:E,exhibition_category:T,exhibition_status:M,exhibition_start_date:R,exhibition_end_date:B,exhibition_organization:G})=>({id:w,image:S,title:E,category:T,status:M,startDate:R,endDate:B,organization:G}));r(b)}catch(p){console.error("     :",p)}})()},[]),x.jsxs("div",{className:Ns.carouselWrapper,children:[x.jsxs("div",{className:Ns.carouselHeader,children:[x.jsx("h2",{className:Ns.carouselTitle,children:t}),x.jsx(Rn,{to:"/exhibitions",className:Ns.moreButton,children:""})]}),i.length>0?x.jsx(fT,{modules:[kB],onSwiper:f=>d.current=f,slidesPerView:"auto",centeredSlides:!0,loop:i.length>2,spaceBetween:20,navigation:{prevEl:s.current,nextEl:l.current},className:Ns.carouselViewport,children:i.map(f=>x.jsx(hT,{className:Ns.carouselSlide,children:x.jsxs(Rn,{to:`/exhibitions/${f.id}`,className:Ns.slideCard,children:[x.jsx("img",{src:f.image,alt:f.title,className:Ns.carouselImage}),x.jsxs("div",{className:Ns.cardText,children:[x.jsxs("h3",{children:["",f.title,""]}),x.jsx("p",{children:f.organization.name}),x.jsxs("p",{children:[f.startDate," ~ ",f.endDate]})]})]})},f.id))}):x.jsx("div",{className:Ns.emptyBox,children:"  ."}),x.jsx("button",{ref:s,className:Ns.prevButton,children:""}),x.jsx("button",{ref:l,className:Ns.nextButton,children:""})]})}function $B(){return x.jsxs("div",{className:B3.mainLayout,children:[x.jsx(PD,{}),x.jsxs("div",{className:B3.carouselContainer,children:[x.jsx(V3,{title:"   "}),x.jsx(V3,{title:" ",category:"sort",value:"popular"}),x.jsx(QD,{title:"  "})]})]})}const VB="_layout_wmgxj_1",GB="_gridContainer_wmgxj_19",qB="_nonDataText_wmgxj_31",Zx={layout:VB,gridContainer:GB,nonDataText:qB},WB="_layout_l5cfi_1",XB="_titleContainer_l5cfi_13",YB="_listTitle_l5cfi_29",KB="_clickedFavButton_l5cfi_49",ZB="_favButton_l5cfi_51",QB="_clickedIcon_l5cfi_99",JB="_searchForm_l5cfi_107",eL="_searchInput_l5cfi_121",tL="_formButton_l5cfi_149",oo={layout:WB,titleContainer:XB,listTitle:YB,clickedFavButton:KB,favButton:ZB,clickedIcon:QB,searchForm:JB,searchInput:eL,formButton:tL};function Rb(t){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function nL(t){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function iL(t){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function rL(t){return gn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function pT(t){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function sL(t){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function aL(t){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function oL(t){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function lL(t){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function cL(t){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function uL(t){return gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function dL(t){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function mT(t){return gn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function fL(t){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const hL=()=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"30",viewBox:"0 0 31 30",fill:"none",children:x.jsx("path",{d:"M26.33 26.25L20.8925 20.8125M23.8301 13.75C23.8301 19.2728 19.3529 23.75 13.8301 23.75C8.30723 23.75 3.83008 19.2728 3.83008 13.75C3.83008 8.22715 8.30723 3.75 13.8301 3.75C19.3529 3.75 23.8301 8.22715 23.8301 13.75Z",stroke:"#222222",strokeWidth:"1.84991",strokeLinecap:"round",strokeLinejoin:"round"})});function Th({title:t,isFav:e,onEvent:n,onFav:i,onSearch:r,value:s,isNews:l=!1,isArtworks:d=!1}){return x.jsxs("div",{className:oo.layout,children:[x.jsxs("div",{className:oo.titleContainer,children:[x.jsx("h1",{className:oo.listTitle,children:t}),!l&&!d&&x.jsxs("button",{className:`${oo.favButton} ${e&&oo.clickedFavButton}`,onClick:i,children:[x.jsx(pT,{className:`${e&&oo.clickedIcon}`}),""]})]}),!d&&x.jsxs("form",{className:oo.searchForm,action:n,children:[x.jsx("input",{className:oo.searchInput,placeholder:"...",onChange:r,value:s}),x.jsx("button",{className:oo.formButton,children:x.jsx(hL,{})})]})]})}const pL="_layout_11xsl_1",mL={layout:pL},gL="_layout_1hm1o_1",xL="_clickedLabel_1hm1o_11",yL="_dropdownButton_1hm1o_19",bL="_clickedButton_1hm1o_63",vL="_undisplay_1hm1o_85",wL="_clickedDropdownList_1hm1o_93",_L="_clickedItem_1hm1o_129",CL="_dropdownItem_1hm1o_131",SL="_rectButton_1hm1o_173",lo={layout:gL,clickedLabel:xL,dropdownButton:yL,clickedButton:bL,undisplay:vL,clickedDropdownList:wL,clickedItem:_L,dropdownItem:CL,rectButton:SL};function EL({title:t,dropdownItems:e,isOpen:n,filterKey:i,onOpen:r,onSetFilter:s,shape:l="round"}){const[d,f]=j.useState(e[0].label),{isMobile:p}=vA(),b=w=>{f(w.label),s(S=>({...S,[i]:w.value})),r()};return x.jsxs("div",{className:lo.layout,children:[x.jsxs("button",{className:`${lo.dropdownButton} ${n&&lo.clickedButton} ${l==="rect"?lo.rectButton:""}`,onClick:r,children:[!p&&`${t} - `,x.jsx("span",{className:`${d!==e[0].label&&lo.clickedLabel}`,children:d})]}),x.jsx("ul",{className:`${n&&lo.clickedDropdownList} ${n&&lo.undisplay}`,children:n&&e.map(w=>x.jsx("li",{className:`${lo.dropdownItem} ${w.label===d&&lo.clickedItem}`,onClick:()=>{b(w)},children:w.label},w.label))})]})}function Nh({labels:t,filterList:e,onSetFilter:n,shape:i="round"}){const[r,s]=j.useState(null),l=d=>{s(r===d?null:d)};return x.jsx("div",{className:mL.layout,children:e.map((d,f)=>x.jsx(EL,{title:d.label,dropdownItems:d.options,filterKey:d.key,isOpen:f===r,onOpen:()=>{l(f)},onSetFilter:n,shape:i},d.key))})}const AL=[{key:"sort",label:"",options:[{label:"",value:"latest"},{label:"",value:"ending"},{label:"",value:"popular"}]},{key:"region",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"category",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"status",label:" ",options:[{label:"",value:"exhibited"},{label:"",value:"ended"},{label:"",value:"scheduled"},{label:"",value:""}]}],TL="_countParagraph_1ppwl_1",NL="_counts_1ppwl_11",G3={countParagraph:TL,counts:NL};function Ih({num:t,label:e}){return x.jsxs("p",{className:G3.countParagraph,children:[" ",x.jsx("strong",{className:G3.counts,children:t})," ",e,"  "]})}const IL="_paginationContainer_7tpp6_1",kL="_sideButtonContainer_7tpp6_11",ML="_pageNumbersContainer_7tpp6_19",OL="_pageButton_7tpp6_33",RL="_active_7tpp6_57",xl={paginationContainer:IL,sideButtonContainer:kL,pageNumbersContainer:ML,pageButton:OL,active:RL};function Td({currentPage:t,onPageChange:e,totalItems:n,itemsPerPage:i=10}){const r=Math.ceil(n/i),s=DL(t,r,5);return x.jsxs("div",{className:xl.paginationContainer,children:[x.jsx("div",{className:xl.sideButtonContainer,children:x.jsx("button",{onClick:()=>e(t-1),className:xl.pageButton,disabled:t===1,children:"<"})}),x.jsx("div",{className:xl.pageNumbersContainer,children:s.map(l=>x.jsx("button",{onClick:()=>e(l),className:`${xl.pageButton} ${t===l?xl.active:""}`,children:l},l))}),x.jsx("div",{className:xl.sideButtonContainer,children:x.jsx("button",{onClick:()=>e(t+1),className:xl.pageButton,disabled:t===r,children:">"})})]})}const DL=(t,e,n)=>{const i=Math.floor(n/2);let r=Math.max(t-i,1),s=Math.min(r+n-1,e);return s-r+1<n&&(r=Math.max(s-n+1,1)),Array.from({length:s-r+1},(l,d)=>r+d)},Nd=(t=10,e)=>{const[n,i]=j.useState(1),r=Array.isArray(e)?e:[],s=(n-1)*t,l=r.slice(s,s+t);return{currentPage:n,setCurrentPage:i,pageItems:l}},BL="_exhibitionCardLayout_kt7rf_1",LL="_statusContainer_kt7rf_37",jL="_ongoing_kt7rf_73",PL="_imageBox_kt7rf_81",FL="_exhibitionImage_kt7rf_89",zL="_favButton_kt7rf_105",HL="_locButton_kt7rf_127",UL="_exhibitionTitle_kt7rf_183",$L="_infoContainer_kt7rf_201",VL="_subParagraph_kt7rf_209",Is={exhibitionCardLayout:BL,statusContainer:LL,ongoing:jL,imageBox:PL,exhibitionImage:FL,favButton:zL,locButton:HL,exhibitionTitle:UL,infoContainer:$L,subParagraph:VL},GL=(t,e)=>{const n=new Date,i=new Date(t),r=new Date(e);return n<i?"upcoming":n>r?"ended":"ongoing"},qL="_layout_cdrx9_1",WL="_container_cdrx9_33",XL="_header_cdrx9_53",YL="_map_cdrx9_69",KL="_title_cdrx9_79",ZL="_closeButton_cdrx9_93",QL="_icon_cdrx9_103",JL="_infoContainer_cdrx9_117",ej="_infoSpan_cdrx9_133",tj="_infoParagraph_cdrx9_147",nj="_buttonField_cdrx9_157",ij="_locateButton_cdrx9_173",rj="_button_cdrx9_157",as={layout:qL,container:WL,header:XL,map:YL,title:KL,closeButton:ZL,icon:QL,infoContainer:JL,infoSpan:ej,infoParagraph:tj,buttonField:nj,locateButton:ij,button:rj};function sj(t){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function aj(t){return gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function oj(t){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zM329 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L329 305z"},child:[]}]})(t)}function lj(t){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 80C149.9 80 62.4 159.4 49.6 262c9.4-3.8 19.6-6 30.4-6c26.5 0 48 21.5 48 48l0 128c0 26.5-21.5 48-48 48c-44.2 0-80-35.8-80-80l0-16 0-48 0-48C0 146.6 114.6 32 256 32s256 114.6 256 256l0 48 0 48 0 16c0 44.2-35.8 80-80 80c-26.5 0-48-21.5-48-48l0-128c0-26.5 21.5-48 48-48c10.8 0 21 2.1 30.4 6C449.6 159.4 362.1 80 256 80z"},child:[]}]})(t)}function cj(t){return gn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"},child:[]}]})(t)}function uj(t){return gn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(t)}function gT(t){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"},child:[]}]})(t)}function Db(t){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M307 34.8c-11.5 5.1-19 16.6-19 29.2l0 64-112 0C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96l96 0 0 64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"},child:[]}]})(t)}function kh(t){return gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(t)}function xT(t){return gn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(t)}const dj="_container_zry8e_1",fj="_infoBox_zry8e_17",q3={container:dj,infoBox:fj},hj="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7983)'%3e%3ccircle%20cx='11.1768'%20cy='11.1768'%20r='10.6768'%20fill='white'%20stroke='%23376AED'/%3e%3cpath%20d='M16.0448%2016.1689H6.31016C5.58257%2016.1689%204.99414%2015.5805%204.99414%2014.8529V9.58881C4.99414%209.12491%205.2383%208.69519%205.63872%208.45835L10.5317%205.06453C10.9492%204.81793%2011.4668%204.81793%2011.8819%205.06697L16.7211%208.45835C17.1167%208.69519%2017.3584%209.12491%2017.3584%209.58637V14.8529C17.3584%2015.5805%2016.77%2016.1689%2016.0424%2016.1689H16.0448Z'%20fill='%23376AED'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7983'%3e%3crect%20width='22.3535'%20height='22.3535'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",pj="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7995)'%3e%3ccircle%20cx='11.5'%20cy='11.5'%20r='11.1768'%20fill='%23376AED'/%3e%3cg%20clip-path='url(%23clip1_18_7995)'%3e%3cpath%20d='M12.9199%208.2959C13.0873%208.81092%2013.5669%209.16015%2014.1084%209.16016H18.7031L14.9854%2011.8604C14.5475%2012.1787%2014.364%2012.7429%2014.5312%2013.2578L15.9512%2017.626L12.2344%2014.9268L12.1504%2014.8701C11.7514%2014.6268%2011.2486%2014.6268%2010.8496%2014.8701L10.7656%2014.9268L7.04785%2017.626L8.46875%2013.2578C8.63604%2012.7429%208.45246%2012.1787%208.01465%2011.8604L4.29688%209.16016H8.8916C9.43313%209.16015%209.91274%208.81092%2010.0801%208.2959L11.5%203.9248L12.9199%208.2959Z'%20fill='white'%20stroke='white'%20stroke-width='1.5'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7995'%3e%3crect%20width='23'%20height='23'%20fill='white'/%3e%3c/clipPath%3e%3cclipPath%20id='clip1_18_7995'%3e%3crect%20width='20'%20height='20'%20fill='white'%20transform='translate(1.5%201.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function mj({title:t,isLike:e=!1}){return x.jsxs("div",{className:q3.container,children:[x.jsx("img",{src:e?pj:hj}),x.jsx("div",{className:q3.infoBox,children:t})]})}const W3=(t,e=!1)=>{const n=document.createElement("div");return QI.createRoot(n).render(x.jsx(mj,{title:t,isLike:e})),n},s0=({lat:t,lng:e,id:n,results:i,zoomLevel:r=15,title:s,location:l})=>{const d=j.useRef(null),f=Jt(),p=j.useRef([]);return j.useEffect(()=>{var S;const b=document.getElementById(n);if(!((S=window.naver)!=null&&S.maps)||!b||t===null||e===null)return;const w=new naver.maps.Map(b,{center:new naver.maps.LatLng(t,e),zoom:r});if(d.current=w,p.current.forEach(E=>E.setMap(null)),p.current=[],s&&l){const E=W3(s,!1);new naver.maps.Marker({position:new naver.maps.LatLng(t,e),map:w,title:s,icon:{content:E}})}else{const E=new naver.maps.Marker({position:new naver.maps.LatLng(t,e),map:d.current,title:" "});p.current.push(E)}return i&&i.length>0&&i.map(({gallery_name:E,gallery_latitude:T,gallery_longitude:M,gallery_address:R,is_liked:B,id:G})=>{const L=W3(E,B),k=new naver.maps.LatLng(T,M),D=new naver.maps.Marker({position:k,map:d.current,title:E,icon:{content:L}});naver.maps.Event.addListener(D,"click",()=>{f(`/galleries/${G}`)}),p.current.push(D)}),()=>{const E=d.current;E&&E.getElement()&&E.destroy(),d.current=null}},[n,t,e,i,f,r,s,l]),d};function gj({item:t,onClose:e}){const{id:n,exhibition_title:i,exhibition_location:r,exhibition_start_date:s,exhibition_end_date:l,exhibition_start_time:d,exhibition_end_time:f,exhibition_organization:p,exhibition_price:b}=t,w=[{key:"location",label:"",content:r},{key:"date",label:"",content:`${s} ~ ${l}`},{key:"time",label:"",content:`${d} ~ ${f}`},{key:"closedDay",label:"",content:p.closed_day},{key:"price",label:"",content:b}];return s0({lat:p.latitude,lng:p.longitude,id:`exhibition-${n}-map`,title:i,location:r}),x.jsx("div",{className:as.layout,children:x.jsxs("div",{className:as.container,children:[x.jsxs("div",{className:as.header,children:[x.jsx("h4",{className:as.title,children:i}),x.jsx("button",{className:as.closeButton,onClick:e,children:x.jsx(xT,{className:as.icon})})]}),x.jsx("div",{className:as.map,id:`exhibition-${n}-map`}),x.jsx("div",{className:as.infoContainer,children:w.map(({key:S,label:E,content:T})=>x.jsxs("div",{children:[x.jsx("span",{className:as.infoSpan,children:E}),x.jsx("p",{className:as.infoParagraph,children:T})]},S))}),x.jsxs("div",{className:as.buttonField,children:[x.jsx("button",{className:as.locateButton,onClick:()=>{alert("  .")},children:""}),x.jsx("button",{className:as.button,onClick:e,children:""})]})]})})}const yT=({color:t="#376AED"})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"59",viewBox:"0 0 52 59",fill:"none",children:[x.jsx("g",{filter:"url(#filter0_d_26_772)",children:x.jsx("path",{d:"M22.3108 11.6219C20.3417 13.591 20.3417 16.7835 22.3108 18.7526L29.9481 26.3899L30.0006 26.3374L30.0532 26.39L37.6906 18.7526C39.6596 16.7835 39.6596 13.5911 37.6906 11.622C35.7215 9.65294 32.529 9.65294 30.56 11.622L30.3543 11.8277C30.159 12.023 29.8424 12.023 29.6472 11.8277L29.4414 11.6219C27.4723 9.65288 24.2798 9.65288 22.3108 11.6219Z",fill:t})}),x.jsx("defs",{children:x.jsxs("filter",{id:"filter0_d_26_772",x:"0.833984",y:"0.145142",width:"58.334",height:"56.2449",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[x.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),x.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),x.jsx("feOffset",{dy:"10"}),x.jsx("feGaussianBlur",{stdDeviation:"10"}),x.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),x.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),x.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_26_772"}),x.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_26_772",result:"shape"})]})})]}),bT=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"59",viewBox:"0 0 52 59",fill:"none",children:[x.jsx("g",{filter:"url(#filter0_d_26_1175)",children:x.jsx("path",{d:"M22.3108 12.6219C20.3417 14.591 20.3417 17.7835 22.3108 19.7526L29.9481 27.3899L30.0006 27.3374L30.0532 27.39L37.6906 19.7526C39.6596 17.7835 39.6596 14.5911 37.6906 12.622C35.7215 10.6529 32.529 10.6529 30.56 12.622L30.3543 12.8277C30.159 13.023 29.8424 13.023 29.6472 12.8277L29.4414 12.6219C27.4723 10.6529 24.2798 10.6529 22.3108 12.6219Z",stroke:"#222",strokeWidth:"1.5",shapeRendering:"crispEdges"})}),x.jsx("defs",{children:x.jsxs("filter",{id:"filter0_d_26_1175",x:"0.0839844",y:"0.395142",width:"59.834",height:"58.0555",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[x.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),x.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),x.jsx("feOffset",{dy:"10"}),x.jsx("feGaussianBlur",{stdDeviation:"10"}),x.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),x.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),x.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_26_1175"}),x.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_26_1175",result:"shape"})]})})]}),xj=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"19",viewBox:"0 0 16 19",fill:"none",children:[x.jsx("path",{d:"M8 17.4785C11.25 14.2785 14.5 11.4132 14.5 7.87852C14.5 4.34389 11.5899 1.47852 8 1.47852C4.41015 1.47852 1.5 4.34389 1.5 7.87852C1.5 11.4132 4.75 14.2785 8 17.4785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M8 10.2785C9.34623 10.2785 10.4375 9.20404 10.4375 7.87852C10.4375 6.55304 9.34623 5.47852 8 5.47852C6.65377 5.47852 5.5625 6.55304 5.5625 7.87852C5.5625 9.20404 6.65377 10.2785 8 10.2785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]});function vT({exhibitionItem:t,onEvent:e}){const{user:n}=ia(),{id:i,exhibition_title:r,exhibition_category:s,exhibition_poster:l,exhibition_location:d,exhibition_start_date:f,exhibition_end_date:p,is_liked:b}=t,[w,S]=j.useState(!1),E=Jt(),T=GL(f,p),M=T==="ongoing"?" ":T==="upcoming"?" ":" ",R=()=>{S(L=>!L),document.body.style.overflow="hidden"},B=()=>{S(L=>!L),document.body.style.overflow="unset"},G=async()=>{!n&&E("/login");try{b===!0?await at.delete("/api/likes",{data:{liked_id:i,liked_type:"exhibition"}}):await at.post("/api/likes",{liked_id:i,liked_type:"exhibition"}),await e()}catch(L){console.error(L)}};return x.jsxs("div",{className:Is.exhibitionCardLayout,children:[w&&x.jsx(gj,{item:t,onClose:B}),x.jsxs(Rn,{className:Is.layout,to:`/exhibitions/${i}`,children:[x.jsx("div",{className:`${Is.statusContainer} ${T==="ongoing"&&Is.ongoing}`,children:M}),x.jsx("div",{className:Is.imageBox,children:x.jsx("img",{className:Is.exhibitionImage,src:l||"/placeholder.jpg",alt:"  "})}),x.jsx("button",{className:Is.favButton,onClick:L=>{L.preventDefault(),L.stopPropagation(),G()},children:b?x.jsx(yT,{}):x.jsx(bT,{})}),x.jsx("button",{className:Is.locButton,onClick:L=>{L.preventDefault(),L.stopPropagation(),R()},children:x.jsx(xj,{})}),x.jsxs("div",{className:Is.infoContainer,children:[x.jsx("h3",{className:Is.exhibitionTitle,children:r}),x.jsxs("p",{className:Is.subParagraph,children:[s," | ",d||" "]}),x.jsxs("p",{className:Is.subParagraph,children:[f," ~ ",p]})]})]})]})}function yj(){const{user:t}=ia(),[e,n]=j.useState([]),[i,r]=j.useState(!1),{currentPage:s,setCurrentPage:l,pageItems:d}=Nd(12,e),[f,p]=j.useState({sort:"latest",region:"",category:"",status:"exhibited",liked_only:0}),b=Jt(),[w,S]=j.useState(""),E=B=>{S(B.target.value)},T=()=>{!t&&b("/login"),p(B=>({...B,liked_only:!B.liked_only}))},M=async()=>{try{r(!0);const B={...f,search:w},G=await at.get("/api/exhibitions",{params:B});n(G.data)}catch(B){console.error("   :",B)}finally{r(!1)}};j.useEffect(()=>{M()},[f]);const R=["","","",""];return x.jsxs("div",{className:Zx.layout,children:[x.jsx(Th,{title:"",isFav:f.liked_only,onEvent:M,onFav:T,onSearch:E,value:w}),x.jsx(Nh,{labels:R,filterList:AL,onSetFilter:p}),x.jsx(Ih,{num:e.length,label:""}),e.length===0&&x.jsx("div",{className:Zx.nonDataText,children:"  ."}),x.jsx("div",{className:Zx.gridContainer,children:d.map(B=>x.jsx(vT,{exhibitionItem:B,onEvent:M},B.id))}),e.length>0&&x.jsx(Td,{currentPage:s,onPageChange:l,totalItems:e.length})]})}const bj="_layout_z091w_1",vj="_gridContainer_z091w_19",wj="_nonDataText_z091w_31",Qx={layout:bj,gridContainer:vj,nonDataText:wj},_j=[{key:"category",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"nation",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],Cj="_layout_u6xg8_1",Sj="_artistImage_u6xg8_39",Ej="_artistNameTitle_u6xg8_57",Aj="_statusContainer_u6xg8_75",Tj="_subParagraph_u6xg8_111",Nj="_favButton_u6xg8_125",_c={layout:Cj,artistImage:Sj,artistNameTitle:Ej,statusContainer:Aj,subParagraph:Tj,favButton:Nj};function wT({artistItem:t,onEvent:e}){const{id:n,artist_name:i,artist_category:r,artist_image:s,artist_nation:l,is_on_exhibition:d,is_liked:f}=t,p=Jt(),b=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&p("/login");try{f===!0?await at.delete("/api/likes",{data:{liked_id:n,liked_type:"artist"}}):await at.post("/api/likes",{liked_id:n,liked_type:"artist"}),await e()}catch(w){console.error(w)}};return x.jsxs(Rn,{className:_c.layout,to:`/artists/${n}`,children:[x.jsx("img",{className:_c.artistImage,src:s,alt:"  "}),x.jsx("h3",{className:_c.artistNameTitle,children:i}),d==="1"&&x.jsx("div",{className:_c.statusContainer,children:""}),x.jsx("button",{className:_c.favButton,onClick:w=>{w.preventDefault(),w.stopPropagation(),b()},children:f==="1"?x.jsx(yT,{}):x.jsx(bT,{})}),x.jsx("p",{className:_c.subParagraph,children:r}),x.jsx("p",{className:_c.subParagraph,children:l})]})}function Ij(){const{user:t}=ia(),[e,n]=j.useState([]),[i,r]=j.useState(!1),{currentPage:s,setCurrentPage:l,pageItems:d}=Nd(12,e),[f,p]=j.useState({category:"",nation:"",birthDecade:"",liked_only:0}),b=Jt(),[w,S]=j.useState(""),E=()=>{!t&&b("/login"),p(R=>({...R,liked_only:!R.liked_only}))},T=R=>{S(R.target.value)},M=async()=>{const R={...f,search:w};try{r(!0);const B=await gi.get("/api/artist",{params:R});n(B.data)}catch(B){throw new Error(B)}finally{r(!1)}};return j.useEffect(()=>{M()},[f]),x.jsxs("div",{className:Qx.layout,children:[x.jsx(Th,{title:"",isFav:f.liked_only,onEvent:M,onFav:E,onSearch:T,value:w}),x.jsx(Nh,{filterList:_j,onSetFilter:p}),x.jsx(Ih,{num:e.length,label:""}),e.length===0&&x.jsx("div",{className:Qx.nonDataText,children:"  ."}),x.jsx("div",{className:Qx.gridContainer,children:d.map(R=>x.jsx(wT,{artistItem:R,onEvent:M},R.id))}),e.length>0&&x.jsx(Td,{currentPage:s,onPageChange:l,totalItems:e.length})]})}const kj="_layout_1tohs_1",Mj="_dropboxContainer_1tohs_19",Oj="_gridContainer_1tohs_31",Rj="_mapButton_1tohs_43",Dj="_nonDataText_1tohs_69",Nf={layout:kj,dropboxContainer:Mj,gridContainer:Oj,mapButton:Rj,nonDataText:Dj},Bj=[{key:"status",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"regions",label:"",options:[{label:"",value:""},{label:"",value:""},{label:" ",value:" "},{label:"  ",value:"  "},{label:" ",value:" "},{label:" ",value:" "},{label:" ",value:" "},{label:"",value:""},{label:"",value:""}]},{key:"type",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],Lj="_layout_1y35u_1",jj="_linkContainer_1y35u_31",Pj="_galleryImage_1y35u_41",Fj="_infoContainer_1y35u_65",zj="_favButton_1y35u_73",Hj="_icon_1y35u_95",Uj="_likedIcon_1y35u_105",$j="_galleryTitle_1y35u_115",Vj="_addressParagraph_1y35u_135",Ca={layout:Lj,linkContainer:jj,galleryImage:Pj,infoContainer:Fj,favButton:zj,icon:Hj,likedIcon:Uj,galleryTitle:$j,addressParagraph:Vj};function Bb({galleryItem:t,onEvent:e}){const{user:n}=ia(),{id:i,gallery_name:r,gallery_image:s,gallery_address:l,gallery_start_time:d,gallery_end_time:f,is_liked:p}=t,b=E=>{if(E)return E.slice(0,5)},w=Jt(),S=async()=>{!n&&w("/login");try{p===!0?await at.delete("/api/likes",{data:{liked_id:i,liked_type:"gallery"}}):await at.post("/api/likes",{liked_id:i,liked_type:"gallery"}),await e()}catch(E){console.error(E)}};return console.log(p),x.jsx("div",{className:Ca.layout,children:x.jsxs(Rn,{className:Ca.linkContainer,to:`/galleries/${i}`,children:[x.jsx("img",{className:Ca.galleryImage,src:s,alt:`${r}  `}),x.jsx("button",{className:Ca.favButton,onClick:E=>{E.preventDefault(),E.stopPropagation(),S()},children:x.jsx(kh,{className:p===!0?Ca.likedIcon:Ca.icon})}),x.jsxs("div",{className:Ca.infoContainer,children:[x.jsx("h3",{className:Ca.galleryTitle,children:r}),x.jsx("p",{className:Ca.addressParagraph,children:l}),x.jsxs("p",{className:Ca.addressParagraph,children:[b(d)," ~ ",b(f)]})]})]})})}const _T=()=>{const[t,e]=j.useState(!1);return{isOpen:t,handleOpenModal:()=>{e(i=>!i)}}},Gj="_modalOverlay_tzg9o_1",qj="_modalContainer_tzg9o_21",Wj="_modalHeader_tzg9o_45",Xj="_modalTitle_tzg9o_59",Yj="_favButton_tzg9o_71",Kj="_clickedFavButton_tzg9o_109",Zj="_clickedIcon_tzg9o_121",Qj="_loadingText_tzg9o_129",Jj="_modalMap_tzg9o_143",eP="_closeButton_tzg9o_159",Sa={modalOverlay:Gj,modalContainer:qj,modalHeader:Wj,modalTitle:Xj,favButton:Yj,clickedFavButton:Kj,clickedIcon:Zj,loadingText:Qj,modalMap:Jj,closeButton:eP},CT=()=>{const[t,e]=j.useState({lat:37.3595704,lng:127.105399}),n=r=>{const s=r.coords.latitude,l=r.coords.longitude;e({lat:s,lng:l})},i=r=>{alert(`(${r.code}): ${r.message}`)};return j.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(n,i):alert("    !")},[]),{coords:t,setCoords:e}};function tP({onOpen:t}){const{coords:e}=CT(),{lat:n,lng:i}=e,[r,s]=j.useState([]),[l,d]=j.useState(!1),[f,p]=j.useState(!1),b=Jt(),w=s0({lat:n,lng:i,id:"gallery-map",results:r,zoomLevel:16});j.useEffect(()=>{var R;const E=w.current;if(!E||!((R=window.naver)!=null&&R.maps))return;const T=async()=>{try{d(!0);const B=E.getBounds(),G=B.getSW(),L=B.getNE(),k={latitude:L.lat(),longitude:L.lng()};f&&(k.liked_only=1);const D=await at.get("/api/galleries",{params:k});s(D.data)}catch(B){console.error("  :",B)}finally{d(!1)}},M=naver.maps.Event.addListener(E,"idle",T);return T(),()=>{M&&naver.maps.Event.removeListener(M)}},[w,f]);const S=()=>{if(!localStorage.getItem("ACCESS_TOKEN")){b("/login");return}p(E=>!E)};return j.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),x.jsx("div",{className:Sa.modalOverlay,children:x.jsxs("div",{className:Sa.modalContainer,children:[x.jsxs("div",{className:Sa.modalHeader,children:[x.jsx("div",{className:Sa.modalTitle,children:"  "}),x.jsxs("button",{className:`${Sa.favButton} ${f&&Sa.clickedFavButton}`,onClick:S,children:[x.jsx(uL,{className:`${f&&Sa.clickedIcon}`})," "]})]}),l&&x.jsx("div",{className:Sa.loadingText,children:"   ..."}),x.jsx("div",{className:Sa.modalMap,id:"gallery-map"}),x.jsx("button",{className:Sa.closeButton,onClick:t,children:""})]})})}function nP(){const{user:t}=ia(),[e,n]=j.useState([]),[i,r]=j.useState(!1),{currentPage:s,setCurrentPage:l,pageItems:d}=Nd(12,e),[f,p]=j.useState({status:"",regions:"",type:"",liked_only:0}),b=Jt(),[w,S]=j.useState(""),{isOpen:E,handleOpenModal:T}=_T(),M=G=>{S(G.target.value)},R=()=>{!t&&b("/login"),p(G=>({...G,liked_only:!G.liked_only}))},B=async()=>{try{r(!0);const G={...f,regions:f.regions.replace(/\s+/g,","),search:w},L=await at.get("/api/galleries",{params:G});n(L.data)}catch(G){throw new Error(G)}finally{r(!1)}};return j.useEffect(()=>{B()},[f]),x.jsxs("div",{className:Nf.layout,children:[E&&x.jsx(tP,{onOpen:T}),x.jsx(Th,{title:"",isFav:f.liked_only,onEvent:B,onFav:R,onSearch:M,value:w}),x.jsxs("div",{className:Nf.dropboxContainer,children:[x.jsx(Nh,{filterList:Bj,onSetFilter:p}),x.jsx("button",{className:Nf.mapButton,onClick:T,children:""})]}),x.jsx(Ih,{num:e.length,label:""}),e.length===0&&x.jsx("div",{className:Nf.nonDataText,children:"  ."}),x.jsx("div",{className:Nf.gridContainer,children:d.map(G=>x.jsx(Bb,{galleryItem:G,onEvent:B},G.id))}),e.length>0&&x.jsx(Td,{currentPage:s,onPageChange:l,totalItems:e.length})]})}const iP="_layout_5tlax_1",rP="_registerTitle_5tlax_13",sP="_subParagraph_5tlax_25",aP="_form_5tlax_35",oP="_submitButton_5tlax_53",If={layout:iP,registerTitle:rP,subParagraph:sP,form:aP,submitButton:oP},X1=t=>{const[e,n]=j.useState(t);return{data:e,handleChange:r=>{n(s=>({...s,[r.target.name]:r.target.value}))},setData:n}},lP="_input_vwmpv_13",cP={input:lP};function Oa({type:t="text",name:e,placeholder:n,value:i,onChange:r}){return x.jsx("input",{className:cP.input,name:e,type:t,placeholder:n,value:i,onChange:r})}const uP="_layout_13jvg_1",dP="_radioLabel_13jvg_11",fP="_radioInput_13jvg_21",Jx={layout:uP,radioLabel:dP,radioInput:fP};function X3({name:t,value:e,label:n,onChange:i}){return x.jsxs("div",{className:Jx.layout,children:[x.jsx("label",{className:Jx.radioLabel,children:n}),x.jsx("input",{className:Jx.radioInput,type:"radio",name:t,value:e,onChange:i})]})}const hP="_layout_3526f_1",pP="_inputTitle_3526f_13",mP="_inputContainer_3526f_25",gP="_errorParagraph_3526f_35",e1={layout:hP,inputTitle:pP,inputContainer:mP,errorParagraph:gP};function kf({children:t,title:e,isValid:n,errorText:i}){return x.jsxs("div",{className:e1.layout,children:[x.jsx("h3",{className:e1.inputTitle,children:e}),x.jsx("div",{className:e1.inputContainer,children:t}),!n&&x.jsx("div",{className:e1.errorParagraph,children:i})]})}function xP(){const{data:t,handleChange:e}=X1({login_id:"",login_pwd:"",user_email:"",user_name:"",admin_flag:0}),n=Jt(),i=yi(),r=p=>/^(?=.*[A-Za-z])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/.test(p),s=p=>/^[A-Za-z0-9]{6,20}$/.test(p),l=p=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.]+\.[A-Za-z]{2,}$/.test(p),d=()=>{const{login_id:p,login_pwd:b,user_email:w,user_name:S,admin_flag:E}=t;return s(p)&&r(b)&&l(w)&&S.trim()!==""&&E!==""},f=async p=>{p.preventDefault();try{await gi.post("/api/auth/register",t),alert(" "),n("/login",{state:{from:i.pathname}})}catch(b){throw new Error(b)}};return x.jsxs("div",{className:If.layout,children:[x.jsx("h1",{className:If.registerTitle,children:""}),x.jsx("p",{className:If.subParagraph,children:"  "}),x.jsxs("form",{className:If.form,onSubmit:f,children:[x.jsx(kf,{title:"",isValid:t.login_id===""?!0:s(t.login_id),errorText:" 6~20     ",children:x.jsx(Oa,{name:"login_id",placeholder:" (6~20 , )",onChange:e,value:t.login_id})}),x.jsx(kf,{title:"",isValid:t.login_pwd===""?!0:r(t.login_pwd),errorText:"8~20 , ,     ",children:x.jsx(Oa,{name:"login_pwd",placeholder:" (8~16 ++)",type:"password",onChange:e,value:t.login_pwd})}),x.jsx(kf,{title:"",children:x.jsx(Oa,{name:"user_name",placeholder:" ",onChange:e,value:t.user_name})}),x.jsx(kf,{title:"",isValid:t.user_email===""?!0:l(t.user_email),errorText:"   ",children:x.jsx(Oa,{name:"user_email",placeholder:" ",onChange:e,value:t.user_email})}),x.jsxs(kf,{title:" ?",children:[x.jsx(X3,{label:"",name:"admin_flag",value:1,onChange:e}),x.jsx(X3,{label:"",name:"admin_flag",value:0,onChange:e})]}),x.jsx("button",{className:If.submitButton,disabled:!d(),children:""})]})]})}const yP="_layout_1wihj_1",bP="_mainTab_1wihj_31",vP="_tabButton_1wihj_49",wP="_active_1wihj_85",t1={layout:yP,mainTab:bP,tabButton:vP,active:wP},_P="_layout_1sugu_1",CP="_pageTitle_1sugu_15",SP="_editLink_1sugu_33",ey={layout:_P,pageTitle:CP,editLink:SP};function EP(){const{user:t}=j.useContext(Xl);return t?x.jsxs("div",{className:ey.layout,children:[x.jsx("h1",{className:ey.pageTitle,children:""}),x.jsxs(Rn,{className:ey.editLink,to:"/mypage/edit",children:[t.user_name," , "]})]}):x.jsx("div",{children:"  "})}const AP="_header_en5wv_1",TP="_countText_en5wv_9",NP="_count_en5wv_9",IP="_tabButtonContainer_en5wv_45",kP="_tabButton_en5wv_45",MP="_active_en5wv_77",OP="_cardListSection_en5wv_87",RP="_cardList_en5wv_87",DP="_emptyText_en5wv_107",co={header:AP,countText:TP,count:NP,tabButtonContainer:IP,tabButton:kP,active:MP,cardListSection:OP,cardList:RP,emptyText:DP},ty=[{label:"",key:"exhibition"},{label:"",key:"gallery"},{label:"",key:"artwork"},{label:"",key:"artist"}];function BP(){var s,l;const[t,e]=j.useState({exhibition:[],gallery:[],artwork:[],artist:[]}),[n,i]=j.useState("exhibition");j.useEffect(()=>{(async()=>{try{const f=await at.get("/api/users/me/likes"),{data:p}=f;e({exhibition:p.like_exhibitions||[],gallery:p.like_galleries||[],artist:p.like_artists||[],artwork:[]})}catch(f){console.log("like fetch err : ",f),e({exhibition:[],gallery:[],artwork:[],artist:[]})}})()},[]);const r=t[n]||[];return x.jsxs("div",{children:[x.jsxs("div",{className:co.header,children:[x.jsxs("p",{className:co.countText,children:["",x.jsx("span",{className:co.count,children:r.length}),""," ",(s=ty.find(d=>d.key===n))==null?void 0:s.label," ."]}),x.jsx("div",{className:co.tabButtonContainer,children:ty.map(d=>x.jsx("button",{className:`${co.tabButton} ${n===d.key?co.active:""}`,onClick:()=>i(d.key),children:d.label},d.key))})]}),x.jsx("section",{className:co.cardListSection,children:x.jsx("div",{className:co.cardList,children:r.length>0?n==="exhibition"?r.map((d,f)=>x.jsx(vT,{exhibitionItem:d},`exhibition-${d.id}-${f}`)):n==="gallery"?r.map((d,f)=>x.jsx(Bb,{galleryItem:d},`gallery-${d.id}-${f}`)):n==="artist"?r.map((d,f)=>x.jsx(wT,{artistItem:d},`artist-${d.id}-${f}`)):null:x.jsxs("p",{className:co.emptyText,children:[" ",(l=ty.find(d=>d.key===n))==null?void 0:l.label," ."]})})})]})}const LP="_cardContainer_18zcp_1",jP="_imgContainer_18zcp_33",PP="_image_18zcp_41",FP="_artistImage_18zcp_53",zP="_contents_18zcp_69",HP="_title_18zcp_83",UP="_info_18zcp_95",$P="_statusContainer_18zcp_109",VP="_statusCompleted_18zcp_123",GP="_statusReserved_18zcp_137",qP="_statusCanceled_18zcp_153",WP="_cancel_18zcp_173",XP="_action_18zcp_205",YP="_btn_18zcp_215",KP="_catalogRegisteredDate_18zcp_247",wn={cardContainer:LP,imgContainer:jP,image:PP,artistImage:FP,contents:zP,title:HP,info:UP,statusContainer:$P,statusCompleted:VP,statusReserved:GP,statusCanceled:qP,cancel:WP,action:XP,btn:YP,catalogRegisteredDate:KP};function ST({item:t,onQR:e,onCancel:n,onGoDetail:i,onReservation:r,type:s}){if(!t)return null;const l=()=>{const{likeType:p}=t;let b="",w="",S="",E=wn.image;if(p==="exhibition")b=t.exhibition_poster,w=t.exhibition_title,S=`${t.exhibition_location}<br />${t.exhibition_start_date} ~ ${t.exhibition_end_date}`;else if(p==="gallery")b=t.gallery_image,w=t.gallery_name,S=t.gallery_address;else if(p==="artist")b=t.artist_image,w=t.artist_name,S=`${t.artist_category} / ${t.artist_nation}`,E=wn.artistImage;else return null;return x.jsxs("div",{onClick:i,className:wn.cardContainer,children:[x.jsx("div",{className:wn.imgContainer,children:x.jsx("img",{src:b,alt:w,className:`${wn.image} ${E}`})}),x.jsxs("div",{className:wn.contents,children:[x.jsx("h3",{className:wn.title,children:w}),x.jsx("p",{className:wn.info,dangerouslySetInnerHTML:{__html:S}})]})]})},d=()=>{var G,L;const{exhibition_poster:p,exhibition_title:b="  ",exhibition_location:w="  ",reservation_status:S="",id:E=" ",reservation_datetime:T}=t,M={reserved:{label:"",className:wn.statusReserved},used:{label:"",className:wn.statusCompleted},canceled:{label:"",className:wn.statusCanceled}},R=((G=M[S])==null?void 0:G.label)||"  ",B=((L=M[S])==null?void 0:L.className)||"";return x.jsxs("div",{className:wn.cardContainer,onClick:r,children:[x.jsx("div",{className:wn.imgContainer,children:x.jsx("img",{src:p,alt:b,className:wn.image})}),x.jsxs("div",{className:wn.contents,children:[x.jsx("h3",{className:wn.title,children:b}),x.jsxs("p",{className:wn.info,children:[w,x.jsx("br",{}),T.split(" ")[0],x.jsx("br",{}),": ",E]}),x.jsxs("div",{className:wn.statusContainer,children:[x.jsx("span",{className:B,children:R}),x.jsxs("div",{className:wn.action,children:[x.jsxs("button",{className:wn.btn,onClick:k=>{k.stopPropagation(),i()},children:[" ",""]}),S==="reserved"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{className:wn.btn,onClick:k=>{k.stopPropagation(),e(t.exhibition_id)},children:""}),x.jsx("button",{className:wn.cancel,onClick:k=>{k.stopPropagation(),n()},children:""})]})]})]})]})]})},f=()=>{const{bookDetail:p,book_poster:b,create_dtm:w=""}=t,{book:{book_title:S="  "}={},exhibition:{exhibition_location:E="   "}={},gallery:{gallery_name:T="  "}={},exhibition:{exhibition_start_date:M=""}={},exhibition:{exhibition_end_date:R=""}={}}=(p==null?void 0:p.book)||{},B=M&&R?`${M} ~ ${R}`:"",G=w?new Date(w).toISOString().slice(0,10):"";return x.jsxs("div",{onClick:i,className:wn.cardContainer,children:[x.jsx("div",{className:wn.imgContainer,children:x.jsx("img",{src:b,alt:S,className:wn.image})}),x.jsxs("div",{className:wn.contents,children:[x.jsx("h3",{className:wn.title,children:S}),x.jsxs("p",{className:wn.info,children:[T," / ",E,x.jsx("br",{}),B]}),x.jsxs("p",{className:wn.catalogRegisteredDate,children:[": ",G]})]})]})};switch(s){case"like":return l();case"reservation":return d();case"catalog":return f();default:return null}}const ZP="_header_1tuse_1",QP="_countText_1tuse_15",JP="_count_1tuse_15",eF="_registerCatalogBtn_1tuse_41",tF="_cardList_1tuse_71",nF="_emptyText_1tuse_83",Cc={header:ZP,countText:QP,count:JP,registerCatalogBtn:eF,cardList:tF,emptyText:nF};function iF(){const[t,e]=j.useState([]),n=Jt(),i=()=>{n("/scan")},r=l=>{n(`/catalog/${l}`)},s=()=>{console.log("QR  or ")};return j.useEffect(()=>{async function l(){try{const f=(await at.get("/api/users/me/purchases")).data,p=await Promise.all(f.map(async b=>{try{const w=await at.get(`/api/books/${b.book_id}`);return{...b,bookDetail:w.data}}catch(w){return console.error(`Book ${b.book_id}    : `,w),{...b,bookDetail:null}}}));console.log(p),e(p)}catch(d){console.error("   : ",d),e([])}}l()},[]),x.jsxs("div",{className:Cc.myCatalog,children:[x.jsxs("div",{className:Cc.header,children:[x.jsx("div",{children:x.jsxs("p",{className:Cc.countText,children:["  ",x.jsx("span",{className:Cc.count,children:t.length})]})}),x.jsx("button",{className:Cc.registerCatalogBtn,onClick:i,children:"  "})]}),x.jsx("section",{children:x.jsx("div",{className:Cc.cardList,children:t.length>0?t.map(l=>x.jsx(ST,{item:l,onGoDetail:()=>r(l.id),onQR:s,onCancel:null,type:"catalog"},l.id)):x.jsxs("p",{className:Cc.emptyText,children:["   .",x.jsx("br",{})," QR "]})})})]})}const rF="_cardList_12369_1",sF="_header_12369_13",aF="_countText_12369_27",oF="_count_12369_27",lF="_emptyText_12369_53",Vu={cardList:rF,header:sF,countText:aF,count:oF,emptyText:lF},cF=[{label:"",key:"dateSort",options:[{label:"",value:"latest"},{label:"",value:"oldest"}]},{label:"",key:"statusFilter",options:[{label:"",value:"all"},{label:"",value:"reserved"},{label:"",value:"used"},{label:"",value:"canceled"}]}],uF="_modalOverlay_1kfbz_1",dF="_modalContainer_1kfbz_27",fF="_modalHeader_1kfbz_53",hF="_closeButton_1kfbz_71",pF="_imageContainer_1kfbz_95",mF="_checkIconContainer_1kfbz_127",gF="_confirmText_1kfbz_161",xF="_visitDate_1kfbz_177",yF="_infoButton_1kfbz_191",uo={modalOverlay:uF,modalContainer:dF,modalHeader:fF,closeButton:hF,imageContainer:pF,checkIconContainer:mF,confirmText:gF,visitDate:xF,infoButton:yF},bF=({isOpen:t,onClose:e,exhibitionTitle:n,imageUrl:i,visitDate:r,onViewExhibition:s})=>t?x.jsx("div",{className:uo.modalOverlay,children:x.jsxs("div",{className:uo.modalContainer,children:[x.jsxs("div",{className:uo.modalHeader,children:[x.jsx("button",{className:uo.closeButton,onClick:e,children:x.jsx(mT,{})}),x.jsx("div",{children:n})]}),x.jsx("div",{className:uo.imageContainer,children:x.jsx("img",{src:i,alt:n})}),x.jsx("div",{className:uo.checkIconContainer,children:x.jsx(Rb,{})}),x.jsx("div",{className:uo.confirmText,children:"  "}),x.jsxs("div",{className:uo.visitDate,children:[" : ",r]}),x.jsx("button",{className:uo.infoButton,onClick:s,children:"  "})]})}):null;function vF(){const[t,e]=j.useState([]),[n,i]=j.useState({dateSort:"latest",statusFilter:"all"}),r=Jt(),[s,l]=j.useState(!1),[d,f]=j.useState({id:"",title:"",imageUrl:""});j.useEffect(()=>{if(localStorage.getItem("showAttendanceModal")==="true"){const M=localStorage.getItem("exhibitionInfo");if(M){try{const R=JSON.parse(M);f(R),l(!0)}catch(R){console.error("   :",R),f({id:"",title:" ",imageUrl:"  URL"}),l(!1)}localStorage.removeItem("showAttendanceModal")}else l(!1)}},[]),j.useEffect(()=>{(async()=>{try{const M=await at.get("/api/users/me/exhibitions"),{data:R}=M;e(R)}catch(M){console.error("  :",M)}})()},[]);const p=j.useMemo(()=>{let T=t;return n.statusFilter!=="all"&&(T=T.filter(M=>M.reservation_status===n.statusFilter)),T.sort((M,R)=>{const B=new Date(M.reservation_datetime),G=new Date(R.reservation_datetime);return n.dateSort==="latest"?G-B:B-G}),T},[t,n]);console.log(p);const b=()=>{l(!1),localStorage.removeItem("exhibitionInfo")},w=async T=>{if(window.confirm(" ?"))try{await at.delete(`/api/reservations/${T}`),e(R=>R.map(B=>B.id===T?{...B,reservation_status:"canceled"}:B))}catch(R){console.error("  :",R)}},S=T=>{r(`/exhibitions/${T}`),localStorage.removeItem("exhibitionInfo")},E=T=>{const M={id:T.exhibition_id,title:T.exhibition_title,imageUrl:T.exhibition_poster};localStorage.setItem("exhibitionInfo",JSON.stringify(M)),localStorage.setItem("showAttendanceModal","true"),console.log("   : "),r(`/scan?itemId=${T.id}`)};return x.jsxs("div",{children:[x.jsxs("div",{className:Vu.header,children:[x.jsxs("p",{className:Vu.countText,children:[" "," ",x.jsx("span",{className:Vu.count,children:p.length})]}),x.jsx("div",{className:Vu.filterSection,children:x.jsx(Nh,{filterList:cF,onSetFilter:i,shape:"rect"})})]}),x.jsx("section",{children:x.jsx("div",{className:Vu.cardList,children:p.length>0?p.map(T=>x.jsx(ST,{item:T,status:T.reservation_status==="reserved",onReservation:()=>{r(`/reservationconfirm/${T.id}`)},onGoDetail:()=>S(T.exhibition_id),onCancel:()=>w(T.id),onQR:()=>E(T),type:"reservation"},T.id)):x.jsx("p",{className:Vu.emptyText,children:"  ."})})}),s&&x.jsx(bF,{isOpen:s,onClose:b,exhibitionTitle:d.title,imageUrl:d.imageUrl,visitDate:new Date().toLocaleDateString(),onViewExhibition:()=>S(d.id)})]})}function wF(){const[t,e]=j.useState(""),n=["","MY","MY"];j.useEffect(()=>{const r=localStorage.getItem("showAttendanceModal"),s=localStorage.getItem("fromReservationModal");localStorage.getItem("showMyCatalogTab")==="true"?(e("MY"),localStorage.removeItem("showMyCatalogTab")):(r==="true"||s==="true")&&(e("MY"),localStorage.removeItem("fromReservationModal"))},[]);const i=()=>{switch(t){case"":return x.jsx(BP,{});case"MY":return x.jsx(vF,{});case"MY":return x.jsx(iF,{});default:return null}};return x.jsxs("div",{className:t1.layout,children:[x.jsx(EP,{}),x.jsx("nav",{className:t1.mainTab,children:n.map(r=>x.jsx("button",{className:`${t1.tabButton} ${t===r?t1.active:""}`,onClick:()=>e(r),children:r},r))}),i()]})}const _F="_container_14wg3_1",CF="_pageTitle_14wg3_17",SF="_profileCard_14wg3_29",EF="_infoRow_14wg3_173",AF="_infoLabel_14wg3_193",TF="_infoValue_14wg3_205",NF="_input_14wg3_215",IF="_changeButton_14wg3_231",kF="_profileStatsCard_14wg3_259",MF="_sectionTitle_14wg3_277",OF="_statsRow_14wg3_289",RF="_statsItem_14wg3_305",DF="_profileDetailsCard_14wg3_313",BF="_detailsRow_14wg3_329",LF="_detailsLabel_14wg3_351",jF="_detailsValue_14wg3_359",PF="_changeButtonSmall_14wg3_369",FF="_buttonField_14wg3_397",zF="_backBtn_14wg3_409",Zt={container:_F,pageTitle:CF,profileCard:SF,infoRow:EF,infoLabel:AF,infoValue:TF,input:NF,changeButton:IF,profileStatsCard:kF,sectionTitle:MF,statsRow:OF,statsItem:RF,profileDetailsCard:DF,detailsRow:BF,detailsLabel:LF,detailsValue:jF,changeButtonSmall:PF,buttonField:FF,backBtn:zF},HF="_modalOverlay_1r7h8_1",UF="_modalContainer_1r7h8_27",$F="_modalHeader_1r7h8_51",VF="_closeButton_1r7h8_67",GF="_modalTitle_1r7h8_87",qF="_modalContent_1r7h8_105",WF="_passwordSection_1r7h8_121",XF="_sectionTitle_1r7h8_129",YF="_sectionDescription_1r7h8_141",KF="_form_1r7h8_155",ZF="_formGroup_1r7h8_167",QF="_input_1r7h8_175",JF="_submitButton_1r7h8_209",vr={modalOverlay:HF,modalContainer:UF,modalHeader:$F,closeButton:VF,modalTitle:GF,modalContent:qF,passwordSection:WF,sectionTitle:XF,sectionDescription:YF,form:KF,formGroup:ZF,input:QF,submitButton:JF},ez=({isOpen:t,onClose:e,userInfo:n,onUpdateUserInfo:i})=>{const[r,s]=j.useState(""),[l,d]=j.useState(""),f=async p=>{if(p.preventDefault(),!n)return;const b={...n,login_pwd:l};try{const w=await at.put("/api/users/me",b);alert("  ."),i(w.data),s(""),d(""),e()}catch{alert("  .   ."),s(""),d("");return}};return t?x.jsx("div",{className:vr.modalOverlay,children:x.jsxs("div",{className:vr.modalContainer,children:[x.jsxs("div",{className:vr.modalHeader,children:[x.jsx("button",{className:vr.closeButton,onClick:e,children:x.jsx(mT,{})}),x.jsx("div",{className:vr.modalTitle,children:" "})]}),x.jsx("div",{className:vr.modalContent,children:x.jsxs("div",{className:vr.passwordSection,children:[x.jsx("h3",{className:vr.sectionTitle,children:" "}),x.jsxs("p",{className:vr.sectionDescription,children:["    ",x.jsx("br",{}),"  ."]}),x.jsxs("form",{className:vr.form,onSubmit:f,children:[x.jsx("div",{className:vr.formGroup,children:x.jsx("input",{type:"password",placeholder:" ",className:vr.input,value:r,onChange:p=>s(p.target.value),required:!0})}),x.jsx("div",{className:vr.formGroup,children:x.jsx("input",{type:"password",placeholder:" ",className:vr.input,value:l,onChange:p=>d(p.target.value),required:!0})}),x.jsx("button",{className:vr.submitButton,type:"submit",children:" "})]})]})})]})}):null},tz=()=>{const{user:t,setUser:e}=j.useContext(Xl),[n,i]=j.useState(!1),[r,s]=j.useState(!1),[l,d]=j.useState(!1),[f,p]=j.useState(""),[b,w]=j.useState(""),S=Jt();if(!t)return x.jsx("div",{children:"  "});const E=P=>{e({...t,...P})},T=()=>{i(!0)},M=()=>{i(!1)},R=()=>{s(!0),p(t.user_name)},B=()=>{d(!0),w(t.user_email)},G=P=>{p(P.target.value)},L=P=>{w(P.target.value)},k=async()=>{try{await gi.put("/api/users/me",{...t,user_name:f}),e({...t,user_name:f}),s(!1)}catch(P){console.error("  .",P)}},D=async()=>{try{await gi.put("/api/users/me",{...t,user_email:b}),e({...t,user_email:b}),d(!1)}catch(P){console.error("  .",P)}};return x.jsxs("div",{className:Zt.container,children:[x.jsx("h2",{className:Zt.pageTitle,children:""}),x.jsx("div",{className:Zt.profileCard,children:x.jsxs("div",{className:Zt.profileInfoDetails,children:[x.jsxs("div",{className:Zt.infoRow,children:[x.jsx("span",{className:Zt.infoLabel,children:""}),x.jsx("span",{className:Zt.infoValue,children:t.login_id||""}),x.jsx("button",{className:Zt.changeButtonSmall,onClick:T,children:" "})]}),x.jsxs("div",{className:Zt.infoRow,children:[x.jsx("span",{className:Zt.infoLabel,children:""}),r?x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"text",className:Zt.input,value:f,onChange:G}),x.jsx("button",{className:Zt.changeButton,onClick:k,children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:Zt.infoValue,children:t.user_name||""}),x.jsx("button",{className:Zt.changeButton,onClick:R,children:""})]})]}),x.jsxs("div",{className:Zt.infoRow,children:[x.jsx("span",{className:Zt.infoLabel,children:""}),l?x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"email",className:Zt.input,value:b,onChange:L}),x.jsx("button",{className:Zt.changeButton,onClick:D,children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:Zt.infoValue,children:t.user_email||"email@email.com"}),x.jsx("button",{className:Zt.changeButton,onClick:B,children:""})]})]})]})}),x.jsxs("div",{className:Zt.profileStatsCard,children:[x.jsx("h3",{className:Zt.sectionTitle,children:""}),x.jsx("div",{className:Zt.statsRow,children:x.jsx("span",{className:Zt.statsItem,children:"1:1 "})}),x.jsx("div",{className:Zt.statsRow,children:x.jsx("span",{className:Zt.statsItem,children:" "})})]}),x.jsxs("div",{className:Zt.profileDetailsCard,children:[x.jsx("h3",{className:Zt.sectionTitle,children:""}),x.jsx("div",{className:Zt.detailsRow,children:x.jsx("span",{className:Zt.detailsLabel,children:""})}),x.jsxs("div",{className:Zt.detailsRow,children:[x.jsx("span",{className:Zt.detailsLabel,children:" "}),x.jsx("span",{className:Zt.detailsValue,children:"1.10.24"})]}),x.jsx("div",{className:Zt.detailsRow,children:x.jsx("span",{className:Zt.detailsLabel,children:" "})})]}),x.jsx("div",{className:Zt.buttonField,children:x.jsx("button",{className:Zt.backBtn,onClick:()=>S("/mypage"),children:" "})}),x.jsx(ez,{isOpen:n,onClose:M,userInfo:t,onUpdateUserInfo:E})]})},nz="_layout_11t2z_1",iz="_summaryTitle_11t2z_15",rz="_queryStringSpan_11t2z_25",sz="_resultSection_11t2z_33",n1={layout:nz,summaryTitle:iz,queryStringSpan:rz,resultSection:sz},i1=(t,e)=>{switch(e){case"exhibition":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.exhibition_poster,title:n.exhibition_title}));case"gallery":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.gallery_image,title:n.gallery_name}));case"artist":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.artist_image,title:n.artist_name}));case"notice":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.announcement_poster,title:n.announcement_title}))}},az="_layout_uizu7_1",oz="_titleContainer_uizu7_13",lz="_categoryTitle_uizu7_25",cz="_extraLink_uizu7_33",uz="_resultList_uizu7_45",dz="_emptyBox_uizu7_63",Gu={layout:az,titleContainer:oz,categoryTitle:lz,extraLink:cz,resultList:uz,emptyBox:dz},ny=t=>{switch(t){case"exhibition":return{label:"",link:"exhibitions"};case"gallery":return{label:"",link:"galleries"};case"artist":return{label:"",link:"artists"};case"notice":return{label:"",link:"notices"}}},fz="_layout_i3rj4_1",hz="_itemImage_i3rj4_13",pz="_itemSpan_i3rj4_27",iy={layout:fz,itemImage:hz,itemSpan:pz};function mz({link:t,thumbnail:e,title:n}){return x.jsxs(Rn,{className:iy.layout,to:t,children:[x.jsx("img",{className:iy.itemImage,src:e}),x.jsx("span",{className:iy.itemSpan,children:n})]})}function r1({category:t,results:e}){return x.jsxs("section",{className:Gu.layout,children:[x.jsxs("div",{className:Gu.titleContainer,children:[x.jsx("h2",{className:Gu.categoryTitle,children:ny(t).label}),(e==null?void 0:e.length)===10&&x.jsx(Rn,{className:Gu.extraLink,to:`/${ny(t).link}`,children:""})]}),x.jsx("hr",{}),x.jsx("div",{className:Gu.resultList,children:!e||e.length===0?x.jsx("div",{className:Gu.emptyBox,children:"  "}):e.map(({id:n,thumbnail:i,title:r})=>x.jsx(mz,{link:`/${ny(t).link}/${n}`,thumbnail:i,title:r},n))})]})}function gz(){const t=yi(),n=new URLSearchParams(t.search).get("query"),[i,r]=j.useState({});console.log(n);const s=async()=>{try{const l=await gi.get("/api/search",{params:{search:n}});r(l.data)}catch(l){throw new Error(l)}};return j.useEffect(()=>{s()},[n]),x.jsxs("div",{className:n1.layout,children:[x.jsxs("h1",{className:n1.summaryTitle,children:[x.jsx("span",{className:n1.queryStringSpan,children:`'${n}'`}),"   "]}),x.jsxs("section",{className:n1.resultSection,children:[x.jsx(r1,{category:"exhibition",results:i1(i.exhibitions,"exhibition")}),x.jsx(r1,{category:"gallery",results:i1(i.galleries,"gallery")}),x.jsx(r1,{category:"artist",results:i1(i.artists,"artist")}),x.jsx(r1,{category:"notice",results:i1(i.announcements,"notice")})]})]})}const xz="_layout_1jxus_1",yz="_header_1jxus_11",bz="_backBtn_1jxus_37",vz="_orderSection_1jxus_47",wz="_userInfo_1jxus_61",_z="_productBox_1jxus_71",Cz="_productImage_1jxus_81",Sz="_productInfo_1jxus_95",Ez="_paymentInfo_1jxus_109",Az="_discountInfo_1jxus_111",Tz="_paymentMethod_1jxus_113",Nz="_total_1jxus_129",Iz="_kakao_1jxus_169",kz="_naver_1jxus_177",Mz="_basic_1jxus_183",Oz="_paymentButton_1jxus_191",wr={layout:xz,header:yz,backBtn:bz,orderSection:vz,userInfo:wz,productBox:_z,productImage:Cz,productInfo:Sz,paymentInfo:Ez,discountInfo:Az,paymentMethod:Tz,total:Nz,kakao:Iz,naver:kz,basic:Mz,paymentButton:Oz};function Rz(){const{reservationId:t}=Hs(),{state:e}=yi(),n=Jt(),[i,r]=j.useState(""),{exhibition:s={},date:l="",time:d="",people:{adults:f=0,teens:p=0,children:b=0}={},total:w=0,email:S="test@test.com",phone:E="010-1234-5678",name:T=""}=e||{},M=()=>n(`/reservation/${s.id}`),R=()=>{if(!i){alert("  .");return}alert(`${i}  .`);const P={...e,payment:i};n(`/reservation/complete/${t}`,{state:P})},B=()=>x.jsxs("div",{className:wr.userInfo,children:[x.jsx("h3",{children:" "}),x.jsxs("p",{children:[T," "]}),x.jsx("p",{children:S}),x.jsx("p",{children:E})]}),G=()=>x.jsxs("div",{className:wr.productBox,children:[x.jsx("img",{src:s.imageUrl,alt:" ",className:wr.productImage}),x.jsxs("div",{className:wr.productInfo,children:[x.jsx("h3",{children:s.title}),x.jsxs("p",{children:["-  : ",l]}),x.jsxs("p",{children:["-   : ",d]}),x.jsxs("p",{children:["-  :  ",f,",  ",p,",  ",b]}),x.jsxs("p",{children:["-  : ",w.toLocaleString(),""]})]})]}),L=()=>x.jsxs("div",{className:wr.discountInfo,children:[x.jsx("h3",{children:"   "}),x.jsx("p",{children:"1,000point "}),x.jsx("p",{children:" : 0"})]}),k=()=>x.jsxs("div",{className:wr.paymentInfo,children:[x.jsx("h3",{children:" "}),x.jsxs("p",{children:[" : ",w.toLocaleString(),""]}),x.jsx("p",{children:" : -1,000"}),x.jsxs("p",{className:wr.total,children:["  : ",(w-1e3).toLocaleString(),""]})]}),D=()=>{const P={:"kakao",:"naver"," ":"basic"};return x.jsxs("div",{className:wr.paymentMethod,children:[x.jsx("h3",{children:" "}),Object.entries(P).map(([z,U])=>x.jsxs("label",{children:[x.jsx("input",{type:"radio",name:"payment",value:z,onChange:X=>r(X.target.value)}),x.jsxs("span",{className:wr[U],children:[" ",z]})]},z))]})};return x.jsxs("div",{className:wr.layout,children:[x.jsxs("header",{className:wr.header,children:[x.jsx("button",{className:wr.backBtn,onClick:M,children:""}),x.jsx("span",{className:wr.title,children:"   "})]}),x.jsxs("div",{className:wr.orderSection,children:[B(),G()]}),L(),k(),D(),x.jsx("button",{className:wr.paymentButton,onClick:R,children:""})]})}const Dz="_layout_1czrs_1",Bz="_newsListSection_1czrs_61",Y3={layout:Dz,newsListSection:Bz},Lz=[{label:"",key:"sort",options:[{label:"",value:"latest"},{label:"",value:"ending"}]},{label:"",key:"category",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{label:" ",key:"status",options:[{label:"",value:"ongoing"},{label:"",value:"scheduled"},{label:"",value:"ended"}]}],jz="_card_iircg_1",Pz="_header_iircg_31",Fz="_badge_iircg_45",zz="_title_iircg_99",Hz="_info_iircg_121",Uz="_period_iircg_131",$z="_organizer_iircg_133",fo={card:jz,header:Pz,badge:Fz,:"__iircg_81",:"__iircg_91",title:zz,info:Hz,period:Uz,organizer:$z};function Vz({newsItem:t}){const e=Jt(),{id:n,announcement_title:i,announcement_start_datetime:r,announcement_end_datetime:s,announcement_organizer:l,announcement_category:d,announcement_status:f}=t,p=S=>S==null?void 0:S.split(" ")[0].replace(/-/g,"."),b=S=>{switch(S){case"ongoing":return"";case"scheduled":return"";case"ended":return"";default:return""}},w=()=>{e(`/notices/${n}`)};return x.jsxs("div",{className:fo.card,onClick:w,role:"button",tabIndex:0,children:[x.jsxs("div",{className:fo.header,children:[x.jsx("span",{className:`${fo.badge}`,children:d}),x.jsx("span",{className:`${fo.badge} ${fo[b(f)]}`,children:b(f)})]}),x.jsx("h3",{className:fo.title,children:i}),x.jsxs("div",{className:fo.info,children:[x.jsx("p",{className:fo.period,children:`${p(r)} ~ ${p(s)}`}),x.jsx("p",{className:fo.organizer,children:l})]})]})}function Gz(){const[t,e]=j.useState([]),[n,i]=j.useState(!1),{currentPage:r,setCurrentPage:s,pageItems:l}=Nd(10,t),[d,f]=j.useState({category:"",status:"ongoing",sort:"latest",liked_only:0}),[p,b]=j.useState(""),w=E=>{b(E.target.value)},S=async()=>{try{i(!0);const E={...d,search:p},T=await gi.get("/api/announcements",{params:E});e(T.data)}catch(E){console.error("   :",E)}finally{i(!1)}};return j.useEffect(()=>{S()},[d]),x.jsxs("div",{className:Y3.layout,children:[x.jsx(Th,{title:"",placeholder:" ",onEvent:S,onSearch:w,value:p,isNews:!0}),x.jsx(Nh,{filterList:Lz,onSetFilter:f}),x.jsx(Ih,{num:t.length,label:""}),n&&x.jsx("div",{children:"   .."}),t.length===0&&x.jsx("div",{children:"  ."}),x.jsx("section",{className:Y3.newsListSection,children:l.map(E=>x.jsx(Vz,{newsItem:E},E.id))}),x.jsx(Td,{currentPage:r,onPageChange:s,totalItems:t.length})]})}const qz="_noticeLayout_p2ihj_1",Wz="_categorySpan_p2ihj_25",Xz="_newsTitle_p2ihj_33",Yz="_newsImage_p2ihj_41",Kz="_contentsContainer_p2ihj_55",Zz="_divider_p2ihj_73",Qz="_contentParagraph_p2ihj_87",Jz="_noticeText_p2ihj_99",eH="_backButton_p2ihj_115",Ea={noticeLayout:qz,categorySpan:Wz,newsTitle:Xz,newsImage:Yz,contentsContainer:Kz,divider:Zz,contentParagraph:Qz,noticeText:Jz,backButton:eH},tH="_info_pjhlh_1",nH="_label_pjhlh_41",qu={info:tH,label:nH};function iH({startDate:t,host:e,contact:n,apply:i,attachment:r,site:s}){return x.jsxs("div",{className:qu.info,children:[x.jsxs("p",{children:[x.jsx("strong",{className:qu.label,children:" "})," ",t]}),x.jsxs("p",{children:[x.jsx("strong",{className:qu.label,children:" "})," ",e]}),x.jsxs("p",{children:[x.jsx("strong",{className:qu.label,children:" "})," ",n]}),x.jsxs("p",{children:[x.jsx("strong",{className:qu.label,children:" "})," ",i]}),s&&x.jsxs("p",{children:[x.jsx("strong",{className:qu.label,children:" "})," ",x.jsx("a",{href:s,target:"_blank",rel:"noreferrer",children:s})]}),r&&x.jsxs("p",{children:[x.jsx("strong",{children:":"})," ",x.jsx("a",{href:r.url,target:"_blank",rel:"noreferrer",children:r.name})]})]})}function rH(){const{noticeId:t}=Hs(),[e,n]=j.useState({}),i=async()=>{try{const G=await gi.get(`/api/announcements/${t}`);n(G.data)}catch(G){throw new Error(G)}};if(j.useEffect(()=>{i()},[]),!e)return x.jsx("p",{children:"   ."});const{announcement_title:r,announcement_poster:s,announcement_start_datetime:l,announcement_end_datetime:d,announcement_organizer:f,announcement_contact:p,announcement_support_detail:b,announcement_attachment_url:w,announcement_site_url:S,announcement_content:E,announcement_category:T,created_at:M,views:R}=e,B=(G,L)=>{const k=D=>D==null?void 0:D.split(" ")[0];return`${k(G)} ~ ${k(L)}`};return x.jsxs("section",{className:Ea.noticeLayout,children:[x.jsx("span",{className:Ea.categorySpan,children:T}),x.jsx("h1",{className:Ea.newsTitle,children:r}),x.jsx("hr",{className:Ea.divider}),x.jsxs("div",{className:Ea.contentsContainer,children:[x.jsx("img",{className:Ea.newsImage,src:s,alt:`${r}  `}),x.jsx(iH,{startDate:B(l,d),host:f,contact:p,apply:b,attachment:w,site:S,createdAt:M,views:R}),x.jsx("p",{className:Ea.contentParagraph,children:E}),x.jsx("hr",{className:Ea.divider}),x.jsx("p",{className:Ea.noticeText,children:"*         ."}),x.jsx(Rn,{className:Ea.backButton,to:"/notices",children:" "})]})]})}const sH="_layout_18xb9_1",aH="_mainContent_18xb9_17",oH="_title_18xb9_45",lH="_infoImage_18xb9_65",cH="_textContainer_18xb9_77",uH="_textBox_18xb9_87",Sc={layout:sH,mainContent:aH,title:oH,infoImage:lH,textContainer:cH,textBox:uH},dH="_sectionContainer_yp0fd_1",fH="_controlsContainer_yp0fd_13",hH="_speedContainer_yp0fd_33",pH="_speedButton_yp0fd_67",mH="_clickedSpeedButton_yp0fd_93",gH="_buttonField_yp0fd_103",xH="_optionSpan_yp0fd_113",yH="_optionButton_yp0fd_123",Ys={sectionContainer:dH,controlsContainer:fH,speedContainer:hH,speedButton:pH,clickedSpeedButton:mH,buttonField:gH,optionSpan:xH,optionButton:yH},bH="_audioPlayerWrapper_13cxf_1",vH="_audioButton_13cxf_17",ry={audioPlayerWrapper:bH,audioButton:vH};function wH({script:t,playbackRate:e}){const[n,i]=j.useState(!1),[r,s]=j.useState(!1),[l,d]=j.useState(e),f=j.useRef(null);j.useEffect(()=>{let S=!0;return s(!1),(async()=>{console.log("Fetching audio for script:",`${t.substr(0,50)}...`);const T=await p();if(T&&S){console.log("Audio content fetched successfully");const M=new Audio(`data:audio/mp3;base64,${T}`);M.playbackRate=e,M.onended=()=>i(!1),M.playbackRate=l,f.current=M,s(!0)}})(),()=>{S=!1,f.current&&(f.current.pause(),f.current.currentTime=0)}},[t]),j.useEffect(()=>{d(e),f.current&&(f.current.playbackRate=e)},[e]);const p=async()=>{const E=await(await fetch("https://texttospeech.googleapis.com/v1/text:synthesize?key=AIzaSyDONGKCPP4PLv-LpZQyyCEF_7psIAZ_-vE",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:t},voice:{languageCode:"ko-KR",name:"ko-KR-Chirp3-HD-Kore"},audioConfig:{audioEncoding:"MP3"}})})).json(),{audioContent:T}=E;if(T)return T},b=()=>{r&&(n?(f.current.pause(),i(!1)):(f.current.play(),i(!0)))},w=()=>{f.current&&(f.current.pause(),f.current.currentTime=0,i(!1))};return x.jsxs("div",{className:ry.audioPlayerWrapper,children:[x.jsx("button",{className:ry.audioButton,onClick:b,disabled:!r,children:r?n?x.jsx(sL,{}):x.jsx(aL,{}):" ..."}),x.jsx("button",{className:ry.audioButton,onClick:w,disabled:!r,"aria-label":"",children:r?x.jsx(dL,{}):""})]})}function _H({script:t}){const[e,n]=j.useState(1),{isOpen:i,handleOpenModal:r}=_T(),s=[.5,1,1.25,1.5,2];return console.log(i),x.jsxs("section",{className:Ys.sectionContainer,children:[x.jsx(wH,{script:t,playbackRate:e}),x.jsxs("div",{className:Ys.controlsContainer,children:[i&&x.jsx("div",{className:Ys.speedContainer,children:s.map(l=>x.jsxs("button",{className:`${Ys.speedButton} ${l===e&&Ys.clickedSpeedButton}`,onClick:()=>{n(l),r()},children:[l,"x"]},l))}),x.jsxs("div",{className:Ys.buttonField,children:[x.jsx("span",{className:Ys.optionSpan,children:""}),x.jsxs("button",{className:Ys.optionButton,onClick:r,children:[e,"x"]})]}),x.jsxs("div",{className:Ys.buttonField,children:[x.jsx("span",{className:Ys.optionSpan,children:" "}),x.jsx("button",{className:Ys.optionButton,onClick:()=>{alert("     .")},children:""})]})]})]})}const CH=(t,e=300)=>Array.from({length:Math.ceil((t==null?void 0:t.length)/e)},(n,i)=>t.slice(i*e,(i+1)*e));function SH(){const[t,e]=j.useState([]),{art_image:n,art_title:i,art_description:r,art_docent:s,artist_name:l}=t,{artId:d}=Hs();return CH(s),j.useEffect(()=>{(async()=>{try{const p=await gi.get(`/api/arts/${d}`);e(p.data)}catch(p){console.error(p),alert("    .")}})()},[]),x.jsxs("main",{className:Sc.layout,children:[x.jsx("h2",{className:Sc.title,children:i}),x.jsxs("section",{className:Sc.mainContent,children:[x.jsx("img",{src:n,alt:`${i} `,className:Sc.infoImage}),x.jsx("div",{className:Sc.textContainer,children:x.jsxs("div",{className:Sc.textBox,children:[x.jsx("strong",{children:""}),x.jsx("span",{className:Sc.text,children:l})]})}),x.jsx(_H,{script:s})]})]})}const EH="_layout_16fwn_1",AH="_gridContainer_16fwn_17",TH="_nonDataText_16fwn_41",sy={layout:EH,gridContainer:AH,nonDataText:TH},NH="_layout_1njda_1",IH="_artworkImage_1njda_27",kH="_artworkTitle_1njda_43",MH="_subParagraph_1njda_63",s1={layout:NH,artworkImage:IH,artworkTitle:kH,subParagraph:MH};function OH({artworkItems:t}){const{id:e,art_image:n,art_title:i,art_description:r}=t;return x.jsxs(Rn,{className:s1.layout,to:`/artworks/${e}`,children:[x.jsx("img",{className:s1.artworkImage,src:n,alt:" "}),x.jsx("h3",{className:s1.artworkTitle,children:i}),x.jsx("p",{className:s1.subParagraph,children:r})]})}function RH(){const[t,e]=j.useState([]),[n,i]=j.useState(!1),{currentPage:r,setCurrentPage:s,pageItems:l}=Nd(10,t),[d,f]=j.useState({type:""});return j.useEffect(()=>{(async()=>{try{i(!0);const b=await gi.get("/api/arts");e(b.data)}catch(b){throw new Error(b)}finally{i(!1)}})()},[d]),x.jsxs("div",{className:sy.layout,children:[x.jsx(Th,{title:"",isArtworks:!0}),x.jsx(Ih,{num:t.length,label:""}),t.length===0&&x.jsx("div",{className:sy.nonDataText,children:"  ."}),x.jsx("div",{className:sy.gridContainer,children:l.map(p=>x.jsx(OH,{artworkItems:p},p.id))}),t.length>0&&x.jsx(Td,{currentPage:r,onPageChange:s,totalItems:t.length})]})}const DH="_catalogLayout_1rr2f_1",BH="_bodyContainer_1rr2f_19",LH="_overlay_1rr2f_33",ay={catalogLayout:DH,bodyContainer:BH,overlay:LH},jH="_titleBar_1jvc1_1",PH="_leftButtons_1jvc1_23",FH="_rightButtons_1jvc1_25",zH="_title_1jvc1_1",HH="_button_1jvc1_45",Wu={titleBar:jH,leftButtons:PH,rightButtons:FH,title:zH,button:HH};function UH({onToggleIndex:t}){const e=Jt(),n=()=>{e("/mypage")};return x.jsxs("div",{className:Wu.titleBar,children:[x.jsx("div",{className:Wu.leftButtons,children:x.jsx("button",{className:Wu.button,onClick:t,children:" "})}),x.jsx("h1",{className:Wu.title,children:""}),x.jsx("div",{className:Wu.rightButtons,children:x.jsx("button",{className:Wu.button,onClick:n,children:" "})})]})}const $H="_indexContainer_zrf7c_1",VH="_menuList_zrf7c_37",GH="_active_zrf7c_71",qH="_closeButton_zrf7c_81",a1={indexContainer:$H,menuList:VH,active:GH,closeButton:qH},K3="/assets/mockCatalog-DwV1yhn-.png",ET=[{id:"cover",title:"",image:K3,artist:"",info:"  / 198161cm",script:`
   20                
   20                
   20                
   20                
   20                
  `},{id:"prologue",title:"",image:K3,artist:"",info:"  / 150150cm",script:`
   20                
   20                
   20                
   20                
   20                
  `}];function WH({onSelect:t,currentIndex:e,sectionStarts:n,onClose:i}){const r=j.useRef();return j.useEffect(()=>{const s=d=>{r.current&&!r.current.contains(d.target)&&i()},l=d=>{d.key==="Escape"&&i()};return document.addEventListener("mousedown",s),document.addEventListener("keydown",l),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",l)}},[i]),x.jsxs("aside",{className:a1.indexContainer,ref:r,children:[x.jsx("button",{className:a1.closeButton,onClick:i,children:""}),x.jsx("ul",{className:a1.menuList,children:ET.map((s,l)=>x.jsx("li",{className:l===e?a1.active:"",onClick:()=>t(n[l]),tabIndex:0,children:s.title},s.id))})]})}const XH="_container_c1nh1_1",YH="_page_c1nh1_23",KH="_image_c1nh1_41",ZH="_title_c1nh1_55",QH="_meta_c1nh1_67",JH="_script_c1nh1_79",eU="_arrowLeft_c1nh1_89",tU="_arrowRight_c1nh1_91",nU="_pageCount_c1nh1_155",ho={container:XH,page:YH,image:KH,title:ZH,meta:QH,script:JH,arrowLeft:eU,arrowRight:tU,pageCount:nU};function iU({data:t,pageIndex:e,totalPages:n,onPrev:i,onNext:r,isFirst:s,isLast:l}){return x.jsxs("div",{className:ho.container,children:[!s&&x.jsx("button",{onClick:i,className:ho.arrowLeft,children:""}),!l&&x.jsx("button",{onClick:r,className:ho.arrowRight,children:""}),x.jsxs("div",{className:ho.page,children:[t.image&&x.jsx("img",{src:t.image,alt:t.title,className:ho.image}),x.jsx("h2",{className:ho.title,children:t.title}),x.jsxs("p",{className:ho.meta,children:[t.artist,"  ",t.info]}),x.jsx("p",{className:ho.script,children:t.script}),x.jsxs("p",{className:ho.pageCount,children:[" ",e+1," / ",n]})]})]})}const rU=(t,e=200)=>{const n=t.replace(/\n/g,"").trim();return Array.from({length:Math.ceil(n.length/e)},(i,r)=>n.slice(r*e,(r+1)*e))};function sU(){const[t,e]=j.useState(!1),[n,i]=j.useState(0),{allPages:r,sectionStarts:s}=j.useMemo(()=>{const p=[],b=[];return ET.forEach(w=>{const S=rU(w.script);b.push(p.length),S.forEach(E=>{p.push({...w,script:E})})}),{allPages:p,sectionStarts:b}},[]),l=()=>{i(p=>Math.max(0,p-1))},d=()=>{i(p=>Math.min(r.length-1,p+1))},f=j.useMemo(()=>s.reduce((p,b,w)=>n>=b?w:p,0),[n,s]);return x.jsxs("div",{className:ay.catalogLayout,children:[x.jsx(UH,{onToggleIndex:()=>e(p=>!p)}),x.jsxs("div",{className:ay.bodyContainer,children:[t&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:ay.overlay}),x.jsx(WH,{onSelect:p=>i(p),onClose:()=>e(!1),currentIndex:f,sectionStarts:s})]}),x.jsx(iU,{data:r[n],pageIndex:n,totalPages:r.length,onPrev:l,onNext:d,isFirst:n===0,isLast:n===r.length-1})]})]})}var Ke;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ke||(Ke={}));var Z3=new Map([[Ke.QR_CODE,"QR_CODE"],[Ke.AZTEC,"AZTEC"],[Ke.CODABAR,"CODABAR"],[Ke.CODE_39,"CODE_39"],[Ke.CODE_93,"CODE_93"],[Ke.CODE_128,"CODE_128"],[Ke.DATA_MATRIX,"DATA_MATRIX"],[Ke.MAXICODE,"MAXICODE"],[Ke.ITF,"ITF"],[Ke.EAN_13,"EAN_13"],[Ke.EAN_8,"EAN_8"],[Ke.PDF_417,"PDF_417"],[Ke.RSS_14,"RSS_14"],[Ke.RSS_EXPANDED,"RSS_EXPANDED"],[Ke.UPC_A,"UPC_A"],[Ke.UPC_E,"UPC_E"],[Ke.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Q3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(Q3||(Q3={}));function aU(t){return Object.values(Ke).includes(t)}var Y1;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Y1||(Y1={}));var oU=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Y1.SCAN_TYPE_CAMERA,Y1.SCAN_TYPE_FILE],t}(),AT=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!Z3.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,Z3.get(e))},t}(),J3=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),A2;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(A2||(A2={}));var lU=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:A2.UNKWOWN_ERROR}},t}(),cU=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Eo(t){return typeof t>"u"||t===null}var cd=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),TT=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var i=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var r=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(r),l=Object.keys(e),d=0,f=l;d<f.length;d++){var p=f[d];if(s.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},t}(),Hf={exports:{}},uU=Hf.exports,eS;function dU(){return eS||(eS=1,function(t,e){(function(n,i){i(e)})(uU,function(n){function i($){return $==null}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,o){$.__proto__=o}||function($,o){for(var u in o)o.hasOwnProperty(u)&&($[u]=o[u])};function s($,o){r($,o);function u(){this.constructor=$}$.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}function l($,o){var u=Object.setPrototypeOf;u?u($,o):$.__proto__=o}function d($,o){o===void 0&&(o=$.constructor);var u=Error.captureStackTrace;u&&u($,o)}var f=function($){s(o,$);function o(u){var h=this.constructor,g=$.call(this,u)||this;return Object.defineProperty(g,"name",{value:h.name,enumerable:!1}),l(g,h.prototype),d(g),g}return o}(Error);class p extends f{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}p.kind="Exception";class b extends p{}b.kind="ArgumentException";class w extends p{}w.kind="IllegalArgumentException";class S{constructor(o){if(this.binarizer=o,o===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,u){return this.binarizer.getBlackRow(o,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,u,h,g){const y=this.binarizer.getLuminanceSource().crop(o,u,h,g);return new S(this.binarizer.createBinarizer(y))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends p{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class T{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(o,u,h,g,y){for(;y--;)h[g++]=o[u++]}static currentTimeMillis(){return Date.now()}}class R extends p{}R.kind="IndexOutOfBoundsException";class B extends R{constructor(o=void 0,u=void 0){super(u),this.index=o,this.message=u}}B.kind="ArrayIndexOutOfBoundsException";class G{static fill(o,u){for(let h=0,g=o.length;h<g;h++)o[h]=u}static fillWithin(o,u,h,g){G.rangeCheck(o.length,u,h);for(let y=u;y<h;y++)o[y]=g}static rangeCheck(o,u,h){if(u>h)throw new w("fromIndex("+u+") > toIndex("+h+")");if(u<0)throw new B(u);if(h>o)throw new B(h)}static asList(...o){return o}static create(o,u,h){return Array.from({length:o}).map(y=>Array.from({length:u}).fill(h))}static createInt32Array(o,u,h){return Array.from({length:o}).map(y=>Int32Array.from({length:u}).fill(h))}static equals(o,u){if(!o||!u||!o.length||!u.length||o.length!==u.length)return!1;for(let h=0,g=o.length;h<g;h++)if(o[h]!==u[h])return!1;return!0}static hashCode(o){if(o===null)return 0;let u=1;for(const h of o)u=31*u+h;return u}static fillUint8Array(o,u){for(let h=0;h!==o.length;h++)o[h]=u}static copyOf(o,u){return o.slice(0,u)}static copyOfUint8Array(o,u){if(o.length<=u){const h=new Uint8Array(u);return h.set(o),h}return o.slice(0,u)}static copyOfRange(o,u,h){const g=h-u,y=new Int32Array(g);return M.arraycopy(o,u,y,0,g),y}static binarySearch(o,u,h){h===void 0&&(h=G.numberComparator);let g=0,y=o.length-1;for(;g<=y;){const _=y+g>>1,C=h(u,o[_]);if(C>0)g=_+1;else if(C<0)y=_-1;else return _}return-g-1}static numberComparator(o,u){return o-u}}class L{static numberOfTrailingZeros(o){let u;if(o===0)return 32;let h=31;return u=o<<16,u!==0&&(h-=16,o=u),u=o<<8,u!==0&&(h-=8,o=u),u=o<<4,u!==0&&(h-=4,o=u),u=o<<2,u!==0&&(h-=2,o=u),h-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let u=1;return o>>>16||(u+=16,o<<=16),o>>>24||(u+=8,o<<=8),o>>>28||(u+=4,o<<=4),o>>>30||(u+=2,o<<=2),u-=o>>>31,u}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,u){return Math.trunc(o/u)}static parseInt(o,u=void 0){return parseInt(o,u)}}L.MIN_VALUE_32_BITS=-2147483648,L.MAX_VALUE=Number.MAX_SAFE_INTEGER;class k{constructor(o,u){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,u==null?this.bits=k.makeArray(o):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const u=k.makeArray(o);M.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const u=this.size;if(o>=u)return u;const h=this.bits;let g=Math.floor(o/32),y=h[g];y&=~((1<<(o&31))-1);const _=h.length;for(;y===0;){if(++g===_)return u;y=h[g]}const C=g*32+L.numberOfTrailingZeros(y);return C>u?u:C}getNextUnset(o){const u=this.size;if(o>=u)return u;const h=this.bits;let g=Math.floor(o/32),y=~h[g];y&=~((1<<(o&31))-1);const _=h.length;for(;y===0;){if(++g===_)return u;y=~h[g]}const C=g*32+L.numberOfTrailingZeros(y);return C>u?u:C}setBulk(o,u){this.bits[Math.floor(o/32)]=u}setRange(o,u){if(u<o||o<0||u>this.size)throw new w;if(u===o)return;u--;const h=Math.floor(o/32),g=Math.floor(u/32),y=this.bits;for(let _=h;_<=g;_++){const C=_>h?0:o&31,O=(2<<(_<g?31:u&31))-(1<<C);y[_]|=O}}clear(){const o=this.bits.length,u=this.bits;for(let h=0;h<o;h++)u[h]=0}isRange(o,u,h){if(u<o||o<0||u>this.size)throw new w;if(u===o)return!0;u--;const g=Math.floor(o/32),y=Math.floor(u/32),_=this.bits;for(let C=g;C<=y;C++){const N=C>g?0:o&31,F=(2<<(C<y?31:u&31))-(1<<N)&4294967295;if((_[C]&F)!==(h?F:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,u){if(u<0||u>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let h=u;h>0;h--)this.appendBit((o>>h-1&1)===1)}appendBitArray(o){const u=o.size;this.ensureCapacity(this.size+u);for(let h=0;h<u;h++)this.appendBit(o.get(h))}xor(o){if(this.size!==o.size)throw new w("Sizes don't match");const u=this.bits;for(let h=0,g=u.length;h<g;h++)u[h]^=o.bits[h]}toBytes(o,u,h,g){for(let y=0;y<g;y++){let _=0;for(let C=0;C<8;C++)this.get(o)&&(_|=1<<7-C),o++;u[h+y]=_}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),h=u+1,g=this.bits;for(let y=0;y<h;y++){let _=g[y];_=_>>1&1431655765|(_&1431655765)<<1,_=_>>2&858993459|(_&858993459)<<2,_=_>>4&252645135|(_&252645135)<<4,_=_>>8&16711935|(_&16711935)<<8,_=_>>16&65535|(_&65535)<<16,o[u-y]=_}if(this.size!==h*32){const y=h*32-this.size;let _=o[0]>>>y;for(let C=1;C<h;C++){const N=o[C];_|=N<<32-y,o[C-1]=_,_=N>>>y}o[h-1]=_}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof k))return!1;const u=o;return this.size===u.size&&G.equals(this.bits,u.bits)}hashCode(){return 31*this.size+G.hashCode(this.bits)}toString(){let o="";for(let u=0,h=this.size;u<h;u++)(u&7)===0&&(o+=" "),o+=this.get(u)?"X":".";return o}clone(){return new k(this.size,this.bits.slice())}}var D;(function($){$[$.OTHER=0]="OTHER",$[$.PURE_BARCODE=1]="PURE_BARCODE",$[$.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",$[$.TRY_HARDER=3]="TRY_HARDER",$[$.CHARACTER_SET=4]="CHARACTER_SET",$[$.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",$[$.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",$[$.ASSUME_GS1=7]="ASSUME_GS1",$[$.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",$[$.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",$[$.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(D||(D={}));var P=D;class z extends p{static getFormatInstance(){return new z}}z.kind="FormatException";var U;(function($){$[$.Cp437=0]="Cp437",$[$.ISO8859_1=1]="ISO8859_1",$[$.ISO8859_2=2]="ISO8859_2",$[$.ISO8859_3=3]="ISO8859_3",$[$.ISO8859_4=4]="ISO8859_4",$[$.ISO8859_5=5]="ISO8859_5",$[$.ISO8859_6=6]="ISO8859_6",$[$.ISO8859_7=7]="ISO8859_7",$[$.ISO8859_8=8]="ISO8859_8",$[$.ISO8859_9=9]="ISO8859_9",$[$.ISO8859_10=10]="ISO8859_10",$[$.ISO8859_11=11]="ISO8859_11",$[$.ISO8859_13=12]="ISO8859_13",$[$.ISO8859_14=13]="ISO8859_14",$[$.ISO8859_15=14]="ISO8859_15",$[$.ISO8859_16=15]="ISO8859_16",$[$.SJIS=16]="SJIS",$[$.Cp1250=17]="Cp1250",$[$.Cp1251=18]="Cp1251",$[$.Cp1252=19]="Cp1252",$[$.Cp1256=20]="Cp1256",$[$.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",$[$.UTF8=22]="UTF8",$[$.ASCII=23]="ASCII",$[$.Big5=24]="Big5",$[$.GB18030=25]="GB18030",$[$.EUC_KR=26]="EUC_KR"})(U||(U={}));class X{constructor(o,u,h,...g){this.valueIdentifier=o,this.name=h,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=g,X.VALUE_IDENTIFIER_TO_ECI.set(o,this),X.NAME_TO_ECI.set(h,this);const y=this.values;for(let _=0,C=y.length;_!==C;_++){const N=y[_];X.VALUES_TO_ECI.set(N,this)}for(const _ of g)X.NAME_TO_ECI.set(_,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new z("incorect value");const u=X.VALUES_TO_ECI.get(o);if(u===void 0)throw new z("incorect value");return u}static getCharacterSetECIByName(o){const u=X.NAME_TO_ECI.get(o);if(u===void 0)throw new z("incorect value");return u}equals(o){if(!(o instanceof X))return!1;const u=o;return this.getName()===u.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(U.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(U.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(U.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(U.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(U.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(U.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(U.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(U.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(U.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(U.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(U.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(U.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(U.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(U.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(U.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(U.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(U.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(U.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(U.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(U.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(U.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(U.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(U.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(U.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(U.Big5,28,"Big5"),X.GB18030=new X(U.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(U.EUC_KR,30,"EUC_KR","EUC-KR");class ne extends p{}ne.kind="UnsupportedOperationException";class ee{static decode(o,u){const h=this.encodingName(u);return this.customDecoder?this.customDecoder(o,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(o,h):new TextDecoder(h).decode(o)}static shouldDecodeOnFallback(o){return!ee.isBrowser()&&o==="ISO-8859-1"}static encode(o,u){const h=this.encodingName(u);return this.customEncoder?this.customEncoder(o,h):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof X?o:X.getCharacterSetECIByName(o)}static decodeFallback(o,u){const h=this.encodingCharacterSet(u);if(ee.isDecodeFallbackSupported(h)){let g="";for(let y=0,_=o.length;y<_;y++){let C=o[y].toString(16);C.length<2&&(C="0"+C),g+="%"+C}return decodeURIComponent(g)}if(h.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new ne(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(X.UTF8)||o.equals(X.ISO8859_1)||o.equals(X.ASCII)}static encodeFallback(o){const h=btoa(unescape(encodeURIComponent(o))).split(""),g=[];for(let y=0;y<h.length;y++)g.push(h[y].charCodeAt(0));return new Uint8Array(g)}}class oe{static castAsNonUtf8Char(o,u=null){const h=u?u.getName():this.ISO88591;return ee.decode(new Uint8Array([o]),h)}static guessEncoding(o,u){if(u!=null&&u.get(P.CHARACTER_SET)!==void 0)return u.get(P.CHARACTER_SET).toString();const h=o.length;let g=!0,y=!0,_=!0,C=0,N=0,O=0,F=0,V=0,q=0,Z=0,ie=0,se=0,fe=0,be=0;const Pe=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let ze=0;ze<h&&(g||y||_);ze++){const Le=o[ze]&255;_&&(C>0?(Le&128)===0?_=!1:C--:(Le&128)!==0&&((Le&64)===0?_=!1:(C++,(Le&32)===0?N++:(C++,(Le&16)===0?O++:(C++,(Le&8)===0?F++:_=!1))))),g&&(Le>127&&Le<160?g=!1:Le>159&&(Le<192||Le===215||Le===247)&&be++),y&&(V>0?Le<64||Le===127||Le>252?y=!1:V--:Le===128||Le===160||Le>239?y=!1:Le>160&&Le<224?(q++,ie=0,Z++,Z>se&&(se=Z)):Le>127?(V++,Z=0,ie++,ie>fe&&(fe=ie)):(Z=0,ie=0))}return _&&C>0&&(_=!1),y&&V>0&&(y=!1),_&&(Pe||N+O+F>0)?oe.UTF8:y&&(oe.ASSUME_SHIFT_JIS||se>=3||fe>=3)?oe.SHIFT_JIS:g&&y?se===2&&q===2||be*10>=h?oe.SHIFT_JIS:oe.ISO88591:g?oe.ISO88591:y?oe.SHIFT_JIS:_?oe.UTF8:oe.PLATFORM_DEFAULT_ENCODING}static format(o,...u){let h=-1;function g(_,C,N,O,F,V){if(_==="%%")return"%";if(u[++h]===void 0)return;_=O?parseInt(O.substr(1)):void 0;let q=F?parseInt(F.substr(1)):void 0,Z;switch(V){case"s":Z=u[h];break;case"c":Z=u[h][0];break;case"f":Z=parseFloat(u[h]).toFixed(_);break;case"p":Z=parseFloat(u[h]).toPrecision(_);break;case"e":Z=parseFloat(u[h]).toExponential(_);break;case"x":Z=parseInt(u[h]).toString(q||16);break;case"d":Z=parseFloat(parseInt(u[h],q||10).toPrecision(_)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(q);let ie=parseInt(N),se=N&&N[0]+""=="0"?"0":" ";for(;Z.length<ie;)Z=C!==void 0?Z+se:se+Z;return Z}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(y,g)}static getBytes(o,u){return ee.encode(o,u)}static getCharCode(o,u=0){return o.charCodeAt(u)}static getCharAt(o){return String.fromCharCode(o)}}oe.SHIFT_JIS=X.SJIS.getName(),oe.GB2312="GB2312",oe.ISO88591=X.ISO8859_1.getName(),oe.EUC_JP="EUC_JP",oe.UTF8=X.UTF8.getName(),oe.PLATFORM_DEFAULT_ENCODING=oe.UTF8,oe.ASSUME_SHIFT_JIS=!1;class Ce{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=oe.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,u,h){for(let g=u;u<u+h;g++)this.append(o[g]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+1)}substring(o,u){return this.value.substring(o,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+u.length)}}class Se{constructor(o,u,h,g){if(this.width=o,this.height=u,this.rowSize=h,this.bits=g,u==null&&(u=o),this.height=u,o<1||u<1)throw new w("Both dimensions must be greater than 0");h==null&&(h=Math.floor((o+31)/32)),this.rowSize=h,g==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const u=o.length,h=o[0].length,g=new Se(h,u);for(let y=0;y<u;y++){const _=o[y];for(let C=0;C<h;C++)_[C]&&g.set(C,y)}return g}static parseFromString(o,u,h){if(o===null)throw new w("stringRepresentation cannot be null");const g=new Array(o.length);let y=0,_=0,C=-1,N=0,O=0;for(;O<o.length;)if(o.charAt(O)===`
`||o.charAt(O)==="\r"){if(y>_){if(C===-1)C=y-_;else if(y-_!==C)throw new w("row lengths do not match");_=y,N++}O++}else if(o.substring(O,O+u.length)===u)O+=u.length,g[y]=!0,y++;else if(o.substring(O,O+h.length)===h)O+=h.length,g[y]=!1,y++;else throw new w("illegal character encountered: "+o.substring(O));if(y>_){if(C===-1)C=y-_;else if(y-_!==C)throw new w("row lengths do not match");N++}const F=new Se(C,N);for(let V=0;V<y;V++)g[V]&&F.set(Math.floor(V%C),Math.floor(V/C));return F}get(o,u){const h=u*this.rowSize+Math.floor(o/32);return(this.bits[h]>>>(o&31)&1)!==0}set(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]|=1<<(o&31)&4294967295}unset(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]&=~(1<<(o&31)&4294967295)}flip(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new w("input matrix dimensions do not match");const u=new k(Math.floor(this.width/32)+1),h=this.rowSize,g=this.bits;for(let y=0,_=this.height;y<_;y++){const C=y*h,N=o.getRow(y,u).getBitArray();for(let O=0;O<h;O++)g[C+O]^=N[O]}}clear(){const o=this.bits,u=o.length;for(let h=0;h<u;h++)o[h]=0}setRegion(o,u,h,g){if(u<0||o<0)throw new w("Left and top must be nonnegative");if(g<1||h<1)throw new w("Height and width must be at least 1");const y=o+h,_=u+g;if(_>this.height||y>this.width)throw new w("The region must fit inside the matrix");const C=this.rowSize,N=this.bits;for(let O=u;O<_;O++){const F=O*C;for(let V=o;V<y;V++)N[F+Math.floor(V/32)]|=1<<(V&31)&4294967295}}getRow(o,u){u==null||u.getSize()<this.width?u=new k(this.width):u.clear();const h=this.rowSize,g=this.bits,y=o*h;for(let _=0;_<h;_++)u.setBulk(_*32,g[y+_]);return u}setRow(o,u){M.arraycopy(u.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),u=this.getHeight();let h=new k(o),g=new k(o);for(let y=0,_=Math.floor((u+1)/2);y<_;y++)h=this.getRow(y,h),g=this.getRow(u-1-y,g),h.reverse(),g.reverse(),this.setRow(y,g),this.setRow(u-1-y,h)}getEnclosingRectangle(){const o=this.width,u=this.height,h=this.rowSize,g=this.bits;let y=o,_=u,C=-1,N=-1;for(let O=0;O<u;O++)for(let F=0;F<h;F++){const V=g[O*h+F];if(V!==0){if(O<_&&(_=O),O>N&&(N=O),F*32<y){let q=0;for(;(V<<31-q&4294967295)===0;)q++;F*32+q<y&&(y=F*32+q)}if(F*32+31>C){let q=31;for(;!(V>>>q);)q--;F*32+q>C&&(C=F*32+q)}}}return C<y||N<_?null:Int32Array.from([y,_,C-y+1,N-_+1])}getTopLeftOnBit(){const o=this.rowSize,u=this.bits;let h=0;for(;h<u.length&&u[h]===0;)h++;if(h===u.length)return null;const g=h/o;let y=h%o*32;const _=u[h];let C=0;for(;(_<<31-C&4294967295)===0;)C++;return y+=C,Int32Array.from([y,g])}getBottomRightOnBit(){const o=this.rowSize,u=this.bits;let h=u.length-1;for(;h>=0&&u[h]===0;)h--;if(h<0)return null;const g=Math.floor(h/o);let y=Math.floor(h%o)*32;const _=u[h];let C=31;for(;!(_>>>C);)C--;return y+=C,Int32Array.from([y,g])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof Se))return!1;const u=o;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&G.equals(this.bits,u.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+G.hashCode(this.bits),o}toString(o="X ",u="  ",h=`
`){return this.buildToString(o,u,h)}buildToString(o,u,h){let g=new Ce;for(let y=0,_=this.height;y<_;y++){for(let C=0,N=this.width;C<N;C++)g.append(this.get(C,y)?o:u);g.append(h)}return g.toString()}clone(){return new Se(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends p{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class Q extends T{constructor(o){super(o),this.luminances=Q.EMPTY,this.buckets=new Int32Array(Q.LUMINANCE_BUCKETS)}getBlackRow(o,u){const h=this.getLuminanceSource(),g=h.getWidth();u==null||u.getSize()<g?u=new k(g):u.clear(),this.initArrays(g);const y=h.getRow(o,this.luminances),_=this.buckets;for(let N=0;N<g;N++)_[(y[N]&255)>>Q.LUMINANCE_SHIFT]++;const C=Q.estimateBlackPoint(_);if(g<3)for(let N=0;N<g;N++)(y[N]&255)<C&&u.set(N);else{let N=y[0]&255,O=y[1]&255;for(let F=1;F<g-1;F++){const V=y[F+1]&255;(O*4-N-V)/2<C&&u.set(F),N=O,O=V}}return u}getBlackMatrix(){const o=this.getLuminanceSource(),u=o.getWidth(),h=o.getHeight(),g=new Se(u,h);this.initArrays(u);const y=this.buckets;for(let N=1;N<5;N++){const O=Math.floor(h*N/5),F=o.getRow(O,this.luminances),V=Math.floor(u*4/5);for(let q=Math.floor(u/5);q<V;q++){const Z=F[q]&255;y[Z>>Q.LUMINANCE_SHIFT]++}}const _=Q.estimateBlackPoint(y),C=o.getMatrix();for(let N=0;N<h;N++){const O=N*u;for(let F=0;F<u;F++)(C[O+F]&255)<_&&g.set(F,N)}return g}createBinarizer(o){return new Q(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const u=this.buckets;for(let h=0;h<Q.LUMINANCE_BUCKETS;h++)u[h]=0}static estimateBlackPoint(o){const u=o.length;let h=0,g=0,y=0;for(let F=0;F<u;F++)o[F]>y&&(g=F,y=o[F]),o[F]>h&&(h=o[F]);let _=0,C=0;for(let F=0;F<u;F++){const V=F-g,q=o[F]*V*V;q>C&&(_=F,C=q)}if(g>_){const F=g;g=_,_=F}if(_-g<=u/16)throw new te;let N=_-1,O=-1;for(let F=_-1;F>g;F--){const V=F-g,q=V*V*(_-F)*(h-o[F]);q>O&&(N=F,O=q)}return N<<Q.LUMINANCE_SHIFT}}Q.LUMINANCE_BITS=5,Q.LUMINANCE_SHIFT=8-Q.LUMINANCE_BITS,Q.LUMINANCE_BUCKETS=1<<Q.LUMINANCE_BITS,Q.EMPTY=Uint8ClampedArray.from([0]);class le extends Q{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),u=o.getWidth(),h=o.getHeight();if(u>=le.MINIMUM_DIMENSION&&h>=le.MINIMUM_DIMENSION){const g=o.getMatrix();let y=u>>le.BLOCK_SIZE_POWER;(u&le.BLOCK_SIZE_MASK)!==0&&y++;let _=h>>le.BLOCK_SIZE_POWER;(h&le.BLOCK_SIZE_MASK)!==0&&_++;const C=le.calculateBlackPoints(g,y,_,u,h),N=new Se(u,h);le.calculateThresholdForBlock(g,y,_,u,h,C,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new le(o)}static calculateThresholdForBlock(o,u,h,g,y,_,C){const N=y-le.BLOCK_SIZE,O=g-le.BLOCK_SIZE;for(let F=0;F<h;F++){let V=F<<le.BLOCK_SIZE_POWER;V>N&&(V=N);const q=le.cap(F,2,h-3);for(let Z=0;Z<u;Z++){let ie=Z<<le.BLOCK_SIZE_POWER;ie>O&&(ie=O);const se=le.cap(Z,2,u-3);let fe=0;for(let Pe=-2;Pe<=2;Pe++){const ze=_[q+Pe];fe+=ze[se-2]+ze[se-1]+ze[se]+ze[se+1]+ze[se+2]}const be=fe/25;le.thresholdBlock(o,ie,V,be,g,C)}}}static cap(o,u,h){return o<u?u:o>h?h:o}static thresholdBlock(o,u,h,g,y,_){for(let C=0,N=h*y+u;C<le.BLOCK_SIZE;C++,N+=y)for(let O=0;O<le.BLOCK_SIZE;O++)(o[N+O]&255)<=g&&_.set(u+O,h+C)}static calculateBlackPoints(o,u,h,g,y){const _=y-le.BLOCK_SIZE,C=g-le.BLOCK_SIZE,N=new Array(h);for(let O=0;O<h;O++){N[O]=new Int32Array(u);let F=O<<le.BLOCK_SIZE_POWER;F>_&&(F=_);for(let V=0;V<u;V++){let q=V<<le.BLOCK_SIZE_POWER;q>C&&(q=C);let Z=0,ie=255,se=0;for(let be=0,Pe=F*g+q;be<le.BLOCK_SIZE;be++,Pe+=g){for(let ze=0;ze<le.BLOCK_SIZE;ze++){const Le=o[Pe+ze]&255;Z+=Le,Le<ie&&(ie=Le),Le>se&&(se=Le)}if(se-ie>le.MIN_DYNAMIC_RANGE)for(be++,Pe+=g;be<le.BLOCK_SIZE;be++,Pe+=g)for(let ze=0;ze<le.BLOCK_SIZE;ze++)Z+=o[Pe+ze]&255}let fe=Z>>le.BLOCK_SIZE_POWER*2;if(se-ie<=le.MIN_DYNAMIC_RANGE&&(fe=ie/2,O>0&&V>0)){const be=(N[O-1][V]+2*N[O][V-1]+N[O-1][V-1])/4;ie<be&&(fe=be)}N[O][V]=fe}}return N}}le.BLOCK_SIZE_POWER=3,le.BLOCK_SIZE=1<<le.BLOCK_SIZE_POWER,le.BLOCK_SIZE_MASK=le.BLOCK_SIZE-1,le.MINIMUM_DIMENSION=le.BLOCK_SIZE*5,le.MIN_DYNAMIC_RANGE=24;class xe{constructor(o,u){this.width=o,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,u,h,g){throw new ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ne("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let u=new Ce;for(let h=0;h<this.height;h++){const g=this.getRow(h,o);for(let y=0;y<this.width;y++){const _=g[y]&255;let C;_<64?C="#":_<128?C="+":_<192?C=".":C=" ",u.append(C)}u.append(`
`)}return u.toString()}}class Be extends xe{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,u){const h=this.delegate.getRow(o,u),g=this.getWidth();for(let y=0;y<g;y++)h[y]=255-(h[y]&255);return h}getMatrix(){const o=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(u);for(let g=0;g<u;g++)h[g]=255-(o[g]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(o,u,h,g){return new Be(this.delegate.crop(o,u,h,g))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Be(this.delegate.rotateCounterClockwise45())}}class K extends xe{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=K.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const u=o.getContext("2d").getImageData(0,0,o.width,o.height);return K.toGrayscaleBuffer(u.data,o.width,o.height)}static toGrayscaleBuffer(o,u,h){const g=new Uint8ClampedArray(u*h);for(let y=0,_=0,C=o.length;y<C;y+=4,_++){let N;if(o[y+3]===0)N=255;else{const F=o[y],V=o[y+1],q=o[y+2];N=306*F+601*V+117*q+512>>10}g[_]=N}return g}getRow(o,u){if(o<0||o>=this.getHeight())throw new w("Requested row is outside the image: "+o);const h=this.getWidth(),g=o*h;return u===null?u=this.buffer.slice(g,g+h):(u.length<h&&(u=new Uint8ClampedArray(h)),u.set(this.buffer.slice(g,g+h))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,u,h,g){return super.crop(o,u,h,g),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const u=this.getTempCanvasElement(),h=u.getContext("2d"),g=o*K.DEGREE_TO_RADIANS,y=this.canvas.width,_=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(g))*y+Math.abs(Math.sin(g))*_),N=Math.ceil(Math.abs(Math.sin(g))*y+Math.abs(Math.cos(g))*_);return u.width=C,u.height=N,h.translate(C/2,N/2),h.rotate(g),h.drawImage(this.canvas,y/-2,_/-2),this.buffer=K.makeBufferFromCanvasImageData(u),this}invert(){return new Be(this)}}K.DEGREE_TO_RADIANS=Math.PI/180;class ue{constructor(o,u,h){this.deviceId=o,this.label=u,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ee=(globalThis||Vp||self||window||void 0)&&(globalThis||Vp||self||window||void 0).__awaiter||function($,o,u,h){function g(y){return y instanceof u?y:new u(function(_){_(y)})}return new(u||(u=Promise))(function(y,_){function C(F){try{O(h.next(F))}catch(V){_(V)}}function N(F){try{O(h.throw(F))}catch(V){_(V)}}function O(F){F.done?y(F.value):g(F.value).then(C,N)}O((h=h.apply($,o||[])).next())})};class Oe{constructor(o,u=500,h){this.reader=o,this.timeBetweenScansMillis=u,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Ee(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const h of o){const g=h.kind==="video"?"videoinput":h.kind;if(g!=="videoinput")continue;const y=h.deviceId||h.id,_=h.label||`Video device ${u.length+1}`,C=h.groupId,N={deviceId:y,label:_,kind:g,groupId:C};u.push(N)}return u})}getVideoInputDevices(){return Ee(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new ue(u.deviceId,u.label))})}findDeviceById(o){return Ee(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(h=>h.deviceId===o):null})}decodeFromInputVideoDevice(o,u){return Ee(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,u)})}decodeOnceFromVideoDevice(o,u){return Ee(this,void 0,void 0,function*(){this.reset();let h;o?h={deviceId:{exact:o}}:h={facingMode:"environment"};const g={video:h};return yield this.decodeOnceFromConstraints(g,u)})}decodeOnceFromConstraints(o,u){return Ee(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(h,u)})}decodeOnceFromStream(o,u){return Ee(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(o,u);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(o,u,h){return Ee(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,u,h)})}decodeFromVideoDevice(o,u,h){return Ee(this,void 0,void 0,function*(){let g;o?g={deviceId:{exact:o}}:g={facingMode:"environment"};const y={video:g};return yield this.decodeFromConstraints(y,u,h)})}decodeFromConstraints(o,u,h){return Ee(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(g,u,h)})}decodeFromStream(o,u,h){return Ee(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(o,u);return yield this.decodeContinuously(g,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,u){return Ee(this,void 0,void 0,function*(){const h=this.prepareVideoElement(u);return this.addVideoSource(h,o),this.videoElement=h,this.stream=o,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(o){return new Promise((u,h)=>this.playVideoOnLoad(o,()=>u()))}playVideoOnLoad(o,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",u),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Ee(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,u){const h=document.getElementById(o);if(!h)throw new b(`element with id '${o}' not found`);if(h.nodeName.toLowerCase()!==u.toLowerCase())throw new b(`element with id '${o}' must be an ${u} element`);return h}decodeFromImage(o,u){if(!o&&!u)throw new b("either imageElement with a src set or an url must be provided");return u&&!o?this.decodeFromImageUrl(u):this.decodeFromImageElement(o)}decodeFromVideo(o,u){if(!o&&!u)throw new b("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,u,h){if(o===void 0&&u===void 0)throw new b("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrlContinuously(u,h):this.decodeFromVideoElementContinuously(o,h)}decodeFromImageElement(o){if(!o)throw new b("An image element must be provided.");this.reset();const u=this.prepareImageElement(o);this.imageElement=u;let h;return this.isImageLoaded(u)?h=this.decodeOnce(u,!1,!0):h=this._decodeOnLoadImage(u),h}decodeFromVideoElement(o){const u=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(o,u){const h=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(h,u)}_decodeFromVideoElementSetup(o){if(!o)throw new b("A video element must be provided.");this.reset();const u=this.prepareVideoElement(o);return this.videoElement=u,u}decodeFromImageUrl(o){if(!o)throw new b("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const h=this._decodeOnLoadImage(u);return u.src=o,h}decodeFromVideoUrl(o){if(!o)throw new b("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElement(u);return u.src=o,h}decodeFromVideoUrlContinuously(o,u){if(!o)throw new b("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),g=this.decodeFromVideoElementContinuously(h,u);return h.src=o,g}_decodeOnLoadImage(o){return new Promise((u,h)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(u,h),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Ee(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,u){return Ee(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,u)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let u;return typeof o>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(u=o),u}prepareVideoElement(o){let u;return!o&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(u=o),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(o,u=!0,h=!0){this._stopAsyncDecode=!1;const g=(y,_)=>{if(this._stopAsyncDecode){_(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const C=this.decode(o);y(C)}catch(C){const N=u&&C instanceof te,F=(C instanceof E||C instanceof z)&&h;if(N||F)return setTimeout(g,this._timeBetweenDecodingAttempts,y,_);_(C)}};return new Promise((y,_)=>g(y,_))}decodeContinuously(o,u){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const g=this.decode(o);u(g,null),setTimeout(h,this.timeBetweenScansMillis)}catch(g){u(null,g);const y=g instanceof E||g instanceof z,_=g instanceof te;(y||_)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(o){const u=this.createBinaryBitmap(o);return this.decodeBitmap(u)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,u,h){u||(u={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(o,u,h=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const u=this.getCaptureCanvas(o),h=new K(u),g=new le(h);return new S(g)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const u=this.createCaptureCanvas(o);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let h,g;return typeof o<"u"&&(o instanceof HTMLVideoElement?(h=o.videoWidth,g=o.videoHeight):o instanceof HTMLImageElement&&(h=o.naturalWidth||o.width,g=o.naturalHeight||o.height)),u.style.width=h+"px",u.style.height=g+"px",u.width=h,u.height=g,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,u){try{o.srcObject=u}catch{o.src=URL.createObjectURL(u)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class He{constructor(o,u,h=u==null?0:8*u.length,g,y,_=M.currentTimeMillis()){this.text=o,this.rawBytes=u,this.numBits=h,this.resultPoints=g,this.format=y,this.timestamp=_,this.text=o,this.rawBytes=u,h==null?this.numBits=u==null?0:8*u.length:this.numBits=h,this.resultPoints=g,this.format=y,this.resultMetadata=null,_==null?this.timestamp=M.currentTimeMillis():this.timestamp=_}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,u)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const u=this.resultPoints;if(u===null)this.resultPoints=o;else if(o!==null&&o.length>0){const h=new Array(u.length+o.length);M.arraycopy(u,0,h,0,u.length),M.arraycopy(o,0,h,u.length,o.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var qe;(function($){$[$.AZTEC=0]="AZTEC",$[$.CODABAR=1]="CODABAR",$[$.CODE_39=2]="CODE_39",$[$.CODE_93=3]="CODE_93",$[$.CODE_128=4]="CODE_128",$[$.DATA_MATRIX=5]="DATA_MATRIX",$[$.EAN_8=6]="EAN_8",$[$.EAN_13=7]="EAN_13",$[$.ITF=8]="ITF",$[$.MAXICODE=9]="MAXICODE",$[$.PDF_417=10]="PDF_417",$[$.QR_CODE=11]="QR_CODE",$[$.RSS_14=12]="RSS_14",$[$.RSS_EXPANDED=13]="RSS_EXPANDED",$[$.UPC_A=14]="UPC_A",$[$.UPC_E=15]="UPC_E",$[$.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(qe||(qe={}));var Ae=qe,en;(function($){$[$.OTHER=0]="OTHER",$[$.ORIENTATION=1]="ORIENTATION",$[$.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",$[$.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",$[$.ISSUE_NUMBER=4]="ISSUE_NUMBER",$[$.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",$[$.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",$[$.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",$[$.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",$[$.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",$[$.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(en||(en={}));var gt=en;class oi{constructor(o,u,h,g,y=-1,_=-1){this.rawBytes=o,this.text=u,this.byteSegments=h,this.ecLevel=g,this.structuredAppendSequenceNumber=y,this.structuredAppendParity=_,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class dn{exp(o){return this.expTable[o]}log(o){if(o===0)throw new w;return this.logTable[o]}static addOrSubtract(o,u){return o^u}}class cn{constructor(o,u){if(u.length===0)throw new w;this.field=o;const h=u.length;if(h>1&&u[0]===0){let g=1;for(;g<h&&u[g]===0;)g++;g===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-g),M.arraycopy(u,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const u=this.coefficients;let h;if(o===1){h=0;for(let _=0,C=u.length;_!==C;_++){const N=u[_];h=dn.addOrSubtract(h,N)}return h}h=u[0];const g=u.length,y=this.field;for(let _=1;_<g;_++)h=dn.addOrSubtract(y.multiply(o,h),u[_]);return h}addOrSubtract(o){if(!this.field.equals(o.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,h=o.coefficients;if(u.length>h.length){const _=u;u=h,h=_}let g=new Int32Array(h.length);const y=h.length-u.length;M.arraycopy(h,0,g,0,y);for(let _=y;_<h.length;_++)g[_]=dn.addOrSubtract(u[_-y],h[_]);return new cn(this.field,g)}multiply(o){if(!this.field.equals(o.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const u=this.coefficients,h=u.length,g=o.coefficients,y=g.length,_=new Int32Array(h+y-1),C=this.field;for(let N=0;N<h;N++){const O=u[N];for(let F=0;F<y;F++)_[N+F]=dn.addOrSubtract(_[N+F],C.multiply(O,g[F]))}return new cn(C,_)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const u=this.coefficients.length,h=this.field,g=new Int32Array(u),y=this.coefficients;for(let _=0;_<u;_++)g[_]=h.multiply(y[_],o);return new cn(h,g)}multiplyByMonomial(o,u){if(o<0)throw new w;if(u===0)return this.field.getZero();const h=this.coefficients,g=h.length,y=new Int32Array(g+o),_=this.field;for(let C=0;C<g;C++)y[C]=_.multiply(h[C],u);return new cn(_,y)}divide(o){if(!this.field.equals(o.field))throw new w("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new w("Divide by 0");const u=this.field;let h=u.getZero(),g=this;const y=o.getCoefficient(o.getDegree()),_=u.inverse(y);for(;g.getDegree()>=o.getDegree()&&!g.isZero();){const C=g.getDegree()-o.getDegree(),N=u.multiply(g.getCoefficient(g.getDegree()),_),O=o.multiplyByMonomial(C,N),F=u.buildMonomial(C,N);h=h.addOrSubtract(F),g=g.addOrSubtract(O)}return[h,g]}toString(){let o="";for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);if(h!==0){if(h<0?(o+=" - ",h=-h):o.length>0&&(o+=" + "),u===0||h!==1){const g=this.field.log(h);g===0?o+="1":g===1?o+="a":(o+="a^",o+=g)}u!==0&&(u===1?o+="x":(o+="x^",o+=u))}}return o}}class Bi extends p{}Bi.kind="ArithmeticException";class Ot extends dn{constructor(o,u,h){super(),this.primitive=o,this.size=u,this.generatorBase=h;const g=new Int32Array(u);let y=1;for(let C=0;C<u;C++)g[C]=y,y*=2,y>=u&&(y^=o,y&=u-1);this.expTable=g;const _=new Int32Array(u);for(let C=0;C<u-1;C++)_[g[C]]=C;this.logTable=_,this.zero=new cn(this,Int32Array.from([0])),this.one=new cn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new w;if(u===0)return this.zero;const h=new Int32Array(o+1);return h[0]=u,new cn(this,h)}inverse(o){if(o===0)throw new Bi;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+L.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}Ot.AZTEC_DATA_12=new Ot(4201,4096,1),Ot.AZTEC_DATA_10=new Ot(1033,1024,1),Ot.AZTEC_DATA_6=new Ot(67,64,1),Ot.AZTEC_PARAM=new Ot(19,16,1),Ot.QR_CODE_FIELD_256=new Ot(285,256,0),Ot.DATA_MATRIX_FIELD_256=new Ot(301,256,1),Ot.AZTEC_DATA_8=Ot.DATA_MATRIX_FIELD_256,Ot.MAXICODE_FIELD_64=Ot.AZTEC_DATA_6;class li extends p{}li.kind="ReedSolomonException";class qi extends p{}qi.kind="IllegalStateException";class xs{constructor(o){this.field=o}decode(o,u){const h=this.field,g=new cn(h,o),y=new Int32Array(u);let _=!0;for(let Z=0;Z<u;Z++){const ie=g.evaluateAt(h.exp(Z+h.getGeneratorBase()));y[y.length-1-Z]=ie,ie!==0&&(_=!1)}if(_)return;const C=new cn(h,y),N=this.runEuclideanAlgorithm(h.buildMonomial(u,1),C,u),O=N[0],F=N[1],V=this.findErrorLocations(O),q=this.findErrorMagnitudes(F,V);for(let Z=0;Z<V.length;Z++){const ie=o.length-1-h.log(V[Z]);if(ie<0)throw new li("Bad error location");o[ie]=Ot.addOrSubtract(o[ie],q[Z])}}runEuclideanAlgorithm(o,u,h){if(o.getDegree()<u.getDegree()){const Z=o;o=u,u=Z}const g=this.field;let y=o,_=u,C=g.getZero(),N=g.getOne();for(;_.getDegree()>=(h/2|0);){let Z=y,ie=C;if(y=_,C=N,y.isZero())throw new li("r_{i-1} was zero");_=Z;let se=g.getZero();const fe=y.getCoefficient(y.getDegree()),be=g.inverse(fe);for(;_.getDegree()>=y.getDegree()&&!_.isZero();){const Pe=_.getDegree()-y.getDegree(),ze=g.multiply(_.getCoefficient(_.getDegree()),be);se=se.addOrSubtract(g.buildMonomial(Pe,ze)),_=_.addOrSubtract(y.multiplyByMonomial(Pe,ze))}if(N=se.multiply(C).addOrSubtract(ie),_.getDegree()>=y.getDegree())throw new qi("Division algorithm failed to reduce polynomial?")}const O=N.getCoefficient(0);if(O===0)throw new li("sigmaTilde(0) was zero");const F=g.inverse(O),V=N.multiplyScalar(F),q=_.multiplyScalar(F);return[V,q]}findErrorLocations(o){const u=o.getDegree();if(u===1)return Int32Array.from([o.getCoefficient(1)]);const h=new Int32Array(u);let g=0;const y=this.field;for(let _=1;_<y.getSize()&&g<u;_++)o.evaluateAt(_)===0&&(h[g]=y.inverse(_),g++);if(g!==u)throw new li("Error locator degree does not match number of roots");return h}findErrorMagnitudes(o,u){const h=u.length,g=new Int32Array(h),y=this.field;for(let _=0;_<h;_++){const C=y.inverse(u[_]);let N=1;for(let O=0;O<h;O++)if(_!==O){const F=y.multiply(u[O],C),V=(F&1)===0?F|1:F&-2;N=y.multiply(N,V)}g[_]=y.multiply(o.evaluateAt(C),y.inverse(N)),y.getGeneratorBase()!==0&&(g[_]=y.multiply(g[_],C))}return g}}var $t;(function($){$[$.UPPER=0]="UPPER",$[$.LOWER=1]="LOWER",$[$.MIXED=2]="MIXED",$[$.DIGIT=3]="DIGIT",$[$.PUNCT=4]="PUNCT",$[$.BINARY=5]="BINARY"})($t||($t={}));class tn{decode(o){this.ddata=o;let u=o.getBits(),h=this.extractBits(u),g=this.correctBits(h),y=tn.convertBoolArrayToByteArray(g),_=tn.getEncodedData(g),C=new oi(y,_,null,null);return C.setNumBits(g.length),C}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let u=o.length,h=$t.UPPER,g=$t.UPPER,y="",_=0;for(;_<u;)if(g===$t.BINARY){if(u-_<5)break;let C=tn.readCode(o,_,5);if(_+=5,C===0){if(u-_<11)break;C=tn.readCode(o,_,11)+31,_+=11}for(let N=0;N<C;N++){if(u-_<8){_=u;break}const O=tn.readCode(o,_,8);y+=oe.castAsNonUtf8Char(O),_+=8}g=h}else{let C=g===$t.DIGIT?4:5;if(u-_<C)break;let N=tn.readCode(o,_,C);_+=C;let O=tn.getCharacter(g,N);O.startsWith("CTRL_")?(h=g,g=tn.getTable(O.charAt(5)),O.charAt(6)==="L"&&(h=g)):(y+=O,g=h)}return y}static getTable(o){switch(o){case"L":return $t.LOWER;case"P":return $t.PUNCT;case"M":return $t.MIXED;case"D":return $t.DIGIT;case"B":return $t.BINARY;case"U":default:return $t.UPPER}}static getCharacter(o,u){switch(o){case $t.UPPER:return tn.UPPER_TABLE[u];case $t.LOWER:return tn.LOWER_TABLE[u];case $t.MIXED:return tn.MIXED_TABLE[u];case $t.PUNCT:return tn.PUNCT_TABLE[u];case $t.DIGIT:return tn.DIGIT_TABLE[u];default:throw new qi("Bad table")}}correctBits(o){let u,h;this.ddata.getNbLayers()<=2?(h=6,u=Ot.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,u=Ot.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,u=Ot.AZTEC_DATA_10):(h=12,u=Ot.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),y=o.length/h;if(y<g)throw new z;let _=o.length%h,C=new Int32Array(y);for(let q=0;q<y;q++,_+=h)C[q]=tn.readCode(o,_,h);try{new xs(u).decode(C,y-g)}catch(q){throw new z(q)}let N=(1<<h)-1,O=0;for(let q=0;q<g;q++){let Z=C[q];if(Z===0||Z===N)throw new z;(Z===1||Z===N-1)&&O++}let F=new Array(g*h-O),V=0;for(let q=0;q<g;q++){let Z=C[q];if(Z===1||Z===N-1)F.fill(Z>1,V,V+h-1),V+=h-1;else for(let ie=h-1;ie>=0;--ie)F[V++]=(Z&1<<ie)!==0}return F}extractBits(o){let u=this.ddata.isCompact(),h=this.ddata.getNbLayers(),g=(u?11:14)+h*4,y=new Int32Array(g),_=new Array(this.totalBitsInLayer(h,u));if(u)for(let C=0;C<y.length;C++)y[C]=C;else{let C=g+1+2*L.truncDivision(L.truncDivision(g,2)-1,15),N=g/2,O=L.truncDivision(C,2);for(let F=0;F<N;F++){let V=F+L.truncDivision(F,15);y[N-F-1]=O-V-1,y[N+F]=O+V+1}}for(let C=0,N=0;C<h;C++){let O=(h-C)*4+(u?9:12),F=C*2,V=g-1-F;for(let q=0;q<O;q++){let Z=q*2;for(let ie=0;ie<2;ie++)_[N+Z+ie]=o.get(y[F+ie],y[F+q]),_[N+2*O+Z+ie]=o.get(y[F+q],y[V-ie]),_[N+4*O+Z+ie]=o.get(y[V-ie],y[V-q]),_[N+6*O+Z+ie]=o.get(y[V-q],y[F+ie])}N+=O*8}return _}static readCode(o,u,h){let g=0;for(let y=u;y<u+h;y++)g<<=1,o[y]&&(g|=1);return g}static readByte(o,u){let h=o.length-u;return h>=8?tn.readCode(o,u,8):tn.readCode(o,u,h)<<8-h}static convertBoolArrayToByteArray(o){let u=new Uint8Array((o.length+7)/8);for(let h=0;h<u.length;h++)u[h]=tn.readByte(o,8*h);return u}totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}tn.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],tn.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],tn.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],tn.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],tn.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class At{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,u,h,g){const y=o-h,_=u-g;return Math.sqrt(y*y+_*_)}static sum(o){let u=0;for(let h=0,g=o.length;h!==g;h++){const y=o[h];u+=y}return u}}class Or{static floatToIntBits(o){return o}}Or.MAX_VALUE=Number.MAX_SAFE_INTEGER;class We{constructor(o,u){this.x=o,this.y=u}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof We){const u=o;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*Or.floatToIntBits(this.x)+Or.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const u=this.distance(o[0],o[1]),h=this.distance(o[1],o[2]),g=this.distance(o[0],o[2]);let y,_,C;if(h>=u&&h>=g?(_=o[0],y=o[1],C=o[2]):g>=h&&g>=u?(_=o[1],y=o[0],C=o[2]):(_=o[2],y=o[0],C=o[1]),this.crossProductZ(y,_,C)<0){const N=y;y=C,C=N}o[0]=y,o[1]=_,o[2]=C}static distance(o,u){return At.distance(o.x,o.y,u.x,u.y)}static crossProductZ(o,u,h){const g=u.x,y=u.y;return(h.x-g)*(o.y-y)-(h.y-y)*(o.x-g)}}class tr{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class Xr extends tr{constructor(o,u,h,g,y){super(o,u),this.compact=h,this.nbDatablocks=g,this.nbLayers=y}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ve{constructor(o,u,h,g){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),u==null&&(u=Ve.INIT_SIZE),h==null&&(h=o.getWidth()/2|0),g==null&&(g=o.getHeight()/2|0);const y=u/2|0;if(this.leftInit=h-y,this.rightInit=h+y,this.upInit=g-y,this.downInit=g+y,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let o=this.leftInit,u=this.rightInit,h=this.upInit,g=this.downInit,y=!1,_=!0,C=!1,N=!1,O=!1,F=!1,V=!1;const q=this.width,Z=this.height;for(;_;){_=!1;let ie=!0;for(;(ie||!N)&&u<q;)ie=this.containsBlackPoint(h,g,u,!1),ie?(u++,_=!0,N=!0):N||u++;if(u>=q){y=!0;break}let se=!0;for(;(se||!O)&&g<Z;)se=this.containsBlackPoint(o,u,g,!0),se?(g++,_=!0,O=!0):O||g++;if(g>=Z){y=!0;break}let fe=!0;for(;(fe||!F)&&o>=0;)fe=this.containsBlackPoint(h,g,o,!1),fe?(o--,_=!0,F=!0):F||o--;if(o<0){y=!0;break}let be=!0;for(;(be||!V)&&h>=0;)be=this.containsBlackPoint(o,u,h,!0),be?(h--,_=!0,V=!0):V||h--;if(h<0){y=!0;break}_&&(C=!0)}if(!y&&C){const ie=u-o;let se=null;for(let ze=1;se===null&&ze<ie;ze++)se=this.getBlackPointOnSegment(o,g-ze,o+ze,g);if(se==null)throw new te;let fe=null;for(let ze=1;fe===null&&ze<ie;ze++)fe=this.getBlackPointOnSegment(o,h+ze,o+ze,h);if(fe==null)throw new te;let be=null;for(let ze=1;be===null&&ze<ie;ze++)be=this.getBlackPointOnSegment(u,h+ze,u-ze,h);if(be==null)throw new te;let Pe=null;for(let ze=1;Pe===null&&ze<ie;ze++)Pe=this.getBlackPointOnSegment(u,g-ze,u-ze,g);if(Pe==null)throw new te;return this.centerEdges(Pe,se,be,fe)}else throw new te}getBlackPointOnSegment(o,u,h,g){const y=At.round(At.distance(o,u,h,g)),_=(h-o)/y,C=(g-u)/y,N=this.image;for(let O=0;O<y;O++){const F=At.round(o+O*_),V=At.round(u+O*C);if(N.get(F,V))return new We(F,V)}return null}centerEdges(o,u,h,g){const y=o.getX(),_=o.getY(),C=u.getX(),N=u.getY(),O=h.getX(),F=h.getY(),V=g.getX(),q=g.getY(),Z=Ve.CORR;return y<this.width/2?[new We(V-Z,q+Z),new We(C+Z,N+Z),new We(O-Z,F-Z),new We(y+Z,_-Z)]:[new We(V+Z,q+Z),new We(C+Z,N-Z),new We(O-Z,F+Z),new We(y-Z,_-Z)]}containsBlackPoint(o,u,h,g){const y=this.image;if(g){for(let _=o;_<=u;_++)if(y.get(_,h))return!0}else for(let _=o;_<=u;_++)if(y.get(h,_))return!0;return!1}}Ve.INIT_SIZE=10,Ve.CORR=1;class ot{static checkAndNudgePoints(o,u){const h=o.getWidth(),g=o.getHeight();let y=!0;for(let _=0;_<u.length&&y;_+=2){const C=Math.floor(u[_]),N=Math.floor(u[_+1]);if(C<-1||C>h||N<-1||N>g)throw new te;y=!1,C===-1?(u[_]=0,y=!0):C===h&&(u[_]=h-1,y=!0),N===-1?(u[_+1]=0,y=!0):N===g&&(u[_+1]=g-1,y=!0)}y=!0;for(let _=u.length-2;_>=0&&y;_-=2){const C=Math.floor(u[_]),N=Math.floor(u[_+1]);if(C<-1||C>h||N<-1||N>g)throw new te;y=!1,C===-1?(u[_]=0,y=!0):C===h&&(u[_]=h-1,y=!0),N===-1?(u[_+1]=0,y=!0):N===g&&(u[_+1]=g-1,y=!0)}}}class vt{constructor(o,u,h,g,y,_,C,N,O){this.a11=o,this.a21=u,this.a31=h,this.a12=g,this.a22=y,this.a32=_,this.a13=C,this.a23=N,this.a33=O}static quadrilateralToQuadrilateral(o,u,h,g,y,_,C,N,O,F,V,q,Z,ie,se,fe){const be=vt.quadrilateralToSquare(o,u,h,g,y,_,C,N);return vt.squareToQuadrilateral(O,F,V,q,Z,ie,se,fe).times(be)}transformPoints(o){const u=o.length,h=this.a11,g=this.a12,y=this.a13,_=this.a21,C=this.a22,N=this.a23,O=this.a31,F=this.a32,V=this.a33;for(let q=0;q<u;q+=2){const Z=o[q],ie=o[q+1],se=y*Z+N*ie+V;o[q]=(h*Z+_*ie+O)/se,o[q+1]=(g*Z+C*ie+F)/se}}transformPointsWithValues(o,u){const h=this.a11,g=this.a12,y=this.a13,_=this.a21,C=this.a22,N=this.a23,O=this.a31,F=this.a32,V=this.a33,q=o.length;for(let Z=0;Z<q;Z++){const ie=o[Z],se=u[Z],fe=y*ie+N*se+V;o[Z]=(h*ie+_*se+O)/fe,u[Z]=(g*ie+C*se+F)/fe}}static squareToQuadrilateral(o,u,h,g,y,_,C,N){const O=o-h+y-C,F=u-g+_-N;if(O===0&&F===0)return new vt(h-o,y-h,o,g-u,_-g,u,0,0,1);{const V=h-y,q=C-y,Z=g-_,ie=N-_,se=V*ie-q*Z,fe=(O*ie-q*F)/se,be=(V*F-O*Z)/se;return new vt(h-o+fe*h,C-o+be*C,o,g-u+fe*g,N-u+be*N,u,fe,be,1)}}static quadrilateralToSquare(o,u,h,g,y,_,C,N){return vt.squareToQuadrilateral(o,u,h,g,y,_,C,N).buildAdjoint()}buildAdjoint(){return new vt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new vt(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class _t extends ot{sampleGrid(o,u,h,g,y,_,C,N,O,F,V,q,Z,ie,se,fe,be,Pe,ze){const Le=vt.quadrilateralToQuadrilateral(g,y,_,C,N,O,F,V,q,Z,ie,se,fe,be,Pe,ze);return this.sampleGridWithTransform(o,u,h,Le)}sampleGridWithTransform(o,u,h,g){if(u<=0||h<=0)throw new te;const y=new Se(u,h),_=new Float32Array(2*u);for(let C=0;C<h;C++){const N=_.length,O=C+.5;for(let F=0;F<N;F+=2)_[F]=F/2+.5,_[F+1]=O;g.transformPoints(_),ot.checkAndNudgePoints(o,_);try{for(let F=0;F<N;F+=2)o.get(Math.floor(_[F]),Math.floor(_[F+1]))&&y.set(F/2,C)}catch{throw new te}}return y}}class nn{static setGridSampler(o){nn.gridSampler=o}static getInstance(){return nn.gridSampler}}nn.gridSampler=new _t;class Lt{constructor(o,u){this.x=o,this.y=u}toResultPoint(){return new We(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Yr{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let u=this.getMatrixCenter(),h=this.getBullsEyeCorners(u);if(o){let _=h[0];h[0]=h[2],h[2]=_}this.extractParameters(h);let g=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),y=this.getMatrixCornerPoints(h);return new Xr(g,y,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new te;let u=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(o[0],o[1],u),this.sampleLine(o[1],o[2],u),this.sampleLine(o[2],o[3],u),this.sampleLine(o[3],o[0],u)]);this.shift=this.getRotation(h,u);let g=0;for(let _=0;_<4;_++){let C=h[(this.shift+_)%4];this.compact?(g<<=7,g+=C>>1&127):(g<<=10,g+=(C>>2&992)+(C>>1&31))}let y=this.getCorrectedParameterData(g,this.compact);this.compact?(this.nbLayers=(y>>6)+1,this.nbDataBlocks=(y&63)+1):(this.nbLayers=(y>>11)+1,this.nbDataBlocks=(y&2047)+1)}getRotation(o,u){let h=0;o.forEach((g,y,_)=>{let C=(g>>u-2<<1)+(g&1);h=(h<<3)+C}),h=((h&1)<<11)+(h>>1);for(let g=0;g<4;g++)if(L.bitCount(h^this.EXPECTED_CORNER_BITS[g])<=2)return g;throw new te}getCorrectedParameterData(o,u){let h,g;u?(h=7,g=2):(h=10,g=4);let y=h-g,_=new Int32Array(h);for(let N=h-1;N>=0;--N)_[N]=o&15,o>>=4;try{new xs(Ot.AZTEC_PARAM).decode(_,y)}catch{throw new te}let C=0;for(let N=0;N<g;N++)C=(C<<4)+_[N];return C}getBullsEyeCorners(o){let u=o,h=o,g=o,y=o,_=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let V=this.getFirstDifferent(u,_,1,-1),q=this.getFirstDifferent(h,_,1,1),Z=this.getFirstDifferent(g,_,-1,1),ie=this.getFirstDifferent(y,_,-1,-1);if(this.nbCenterLayers>2){let se=this.distancePoint(ie,V)*this.nbCenterLayers/(this.distancePoint(y,u)*(this.nbCenterLayers+2));if(se<.75||se>1.25||!this.isWhiteOrBlackRectangle(V,q,Z,ie))break}u=V,h=q,g=Z,y=ie,_=!_}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let C=new We(u.getX()+.5,u.getY()-.5),N=new We(h.getX()+.5,h.getY()+.5),O=new We(g.getX()-.5,g.getY()+.5),F=new We(y.getX()-.5,y.getY()-.5);return this.expandSquare([C,N,O,F],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,u,h,g;try{let C=new Ve(this.image).detect();o=C[0],u=C[1],h=C[2],g=C[3]}catch{let N=this.image.getWidth()/2,O=this.image.getHeight()/2;o=this.getFirstDifferent(new Lt(N+7,O-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new Lt(N+7,O+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Lt(N-7,O+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Lt(N-7,O-7),!1,-1,-1).toResultPoint()}let y=At.round((o.getX()+g.getX()+u.getX()+h.getX())/4),_=At.round((o.getY()+g.getY()+u.getY()+h.getY())/4);try{let C=new Ve(this.image,15,y,_).detect();o=C[0],u=C[1],h=C[2],g=C[3]}catch{o=this.getFirstDifferent(new Lt(y+7,_-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new Lt(y+7,_+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Lt(y-7,_+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Lt(y-7,_-7),!1,-1,-1).toResultPoint()}return y=At.round((o.getX()+g.getX()+u.getX()+h.getX())/4),_=At.round((o.getY()+g.getY()+u.getY()+h.getY())/4),new Lt(y,_)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,u,h,g,y){let _=nn.getInstance(),C=this.getDimension(),N=C/2-this.nbCenterLayers,O=C/2+this.nbCenterLayers;return _.sampleGrid(o,C,C,N,N,O,N,O,O,N,O,u.getX(),u.getY(),h.getX(),h.getY(),g.getX(),g.getY(),y.getX(),y.getY())}sampleLine(o,u,h){let g=0,y=this.distanceResultPoint(o,u),_=y/h,C=o.getX(),N=o.getY(),O=_*(u.getX()-o.getX())/y,F=_*(u.getY()-o.getY())/y;for(let V=0;V<h;V++)this.image.get(At.round(C+V*O),At.round(N+V*F))&&(g|=1<<h-V-1);return g}isWhiteOrBlackRectangle(o,u,h,g){let y=3;o=new Lt(o.getX()-y,o.getY()+y),u=new Lt(u.getX()-y,u.getY()-y),h=new Lt(h.getX()+y,h.getY()-y),g=new Lt(g.getX()+y,g.getY()+y);let _=this.getColor(g,o);if(_===0)return!1;let C=this.getColor(o,u);return C!==_||(C=this.getColor(u,h),C!==_)?!1:(C=this.getColor(h,g),C===_)}getColor(o,u){let h=this.distancePoint(o,u),g=(u.getX()-o.getX())/h,y=(u.getY()-o.getY())/h,_=0,C=o.getX(),N=o.getY(),O=this.image.get(o.getX(),o.getY()),F=Math.ceil(h);for(let q=0;q<F;q++)C+=g,N+=y,this.image.get(At.round(C),At.round(N))!==O&&_++;let V=_/h;return V>.1&&V<.9?0:V<=.1===O?1:-1}getFirstDifferent(o,u,h,g){let y=o.getX()+h,_=o.getY()+g;for(;this.isValid(y,_)&&this.image.get(y,_)===u;)y+=h,_+=g;for(y-=h,_-=g;this.isValid(y,_)&&this.image.get(y,_)===u;)y+=h;for(y-=h;this.isValid(y,_)&&this.image.get(y,_)===u;)_+=g;return _-=g,new Lt(y,_)}expandSquare(o,u,h){let g=h/(2*u),y=o[0].getX()-o[2].getX(),_=o[0].getY()-o[2].getY(),C=(o[0].getX()+o[2].getX())/2,N=(o[0].getY()+o[2].getY())/2,O=new We(C+g*y,N+g*_),F=new We(C-g*y,N-g*_);y=o[1].getX()-o[3].getX(),_=o[1].getY()-o[3].getY(),C=(o[1].getX()+o[3].getX())/2,N=(o[1].getY()+o[3].getY())/2;let V=new We(C+g*y,N+g*_),q=new We(C-g*y,N-g*_);return[O,V,F,q]}isValid(o,u){return o>=0&&o<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(o){let u=At.round(o.getX()),h=At.round(o.getY());return this.isValid(u,h)}distancePoint(o,u){return At.distance(o.getX(),o.getY(),u.getX(),u.getY())}distanceResultPoint(o,u){return At.distance(o.getX(),o.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(L.truncDivision(this.nbLayers-4,8)+1)+15}}class Ei{decode(o,u=null){let h=null,g=new Yr(o.getBlackMatrix()),y=null,_=null;try{let F=g.detectMirror(!1);y=F.getPoints(),this.reportFoundResultPoints(u,y),_=new tn().decode(F)}catch(F){h=F}if(_==null)try{let F=g.detectMirror(!0);y=F.getPoints(),this.reportFoundResultPoints(u,y),_=new tn().decode(F)}catch(F){throw h??F}let C=new He(_.getText(),_.getRawBytes(),_.getNumBits(),y,Ae.AZTEC,M.currentTimeMillis()),N=_.getByteSegments();N!=null&&C.putMetadata(gt.BYTE_SEGMENTS,N);let O=_.getECLevel();return O!=null&&C.putMetadata(gt.ERROR_CORRECTION_LEVEL,O),C}reportFoundResultPoints(o,u){if(o!=null){let h=o.get(P.NEED_RESULT_POINT_CALLBACK);h!=null&&u.forEach((g,y,_)=>{h.foundPossibleResultPoint(g)})}}reset(){}}class ra extends Oe{constructor(o=500){super(new Ei,o)}}class on{decode(o,u){try{return this.doDecode(o,u)}catch{if(u&&u.get(P.TRY_HARDER)===!0&&o.isRotateSupported()){const y=o.rotateCounterClockwise(),_=this.doDecode(y,u),C=_.getResultMetadata();let N=270;C!==null&&C.get(gt.ORIENTATION)===!0&&(N=N+C.get(gt.ORIENTATION)%360),_.putMetadata(gt.ORIENTATION,N);const O=_.getResultPoints();if(O!==null){const F=y.getHeight();for(let V=0;V<O.length;V++)O[V]=new We(F-O[V].getY()-1,O[V].getX())}return _}else throw new te}}reset(){}doDecode(o,u){const h=o.getWidth(),g=o.getHeight();let y=new k(h);const _=u&&u.get(P.TRY_HARDER)===!0,C=Math.max(1,g>>(_?8:5));let N;_?N=g:N=15;const O=Math.trunc(g/2);for(let F=0;F<N;F++){const V=Math.trunc((F+1)/2),q=(F&1)===0,Z=O+C*(q?V:-V);if(Z<0||Z>=g)break;try{y=o.getBlackRow(Z,y)}catch{continue}for(let ie=0;ie<2;ie++){if(ie===1&&(y.reverse(),u&&u.get(P.NEED_RESULT_POINT_CALLBACK)===!0)){const se=new Map;u.forEach((fe,be)=>se.set(be,fe)),se.delete(P.NEED_RESULT_POINT_CALLBACK),u=se}try{const se=this.decodeRow(Z,y,u);if(ie===1){se.putMetadata(gt.ORIENTATION,180);const fe=se.getResultPoints();fe!==null&&(fe[0]=new We(h-fe[0].getX()-1,fe[0].getY()),fe[1]=new We(h-fe[1].getX()-1,fe[1].getY()))}return se}catch{}}}throw new te}static recordPattern(o,u,h){const g=h.length;for(let O=0;O<g;O++)h[O]=0;const y=o.getSize();if(u>=y)throw new te;let _=!o.get(u),C=0,N=u;for(;N<y;){if(o.get(N)!==_)h[C]++;else{if(++C===g)break;h[C]=1,_=!_}N++}if(!(C===g||C===g-1&&N===y))throw new te}static recordPatternInReverse(o,u,h){let g=h.length,y=o.get(u);for(;u>0&&g>=0;)o.get(--u)!==y&&(g--,y=!y);if(g>=0)throw new te;on.recordPattern(o,u+1,h)}static patternMatchVariance(o,u,h){const g=o.length;let y=0,_=0;for(let O=0;O<g;O++)y+=o[O],_+=u[O];if(y<_)return Number.POSITIVE_INFINITY;const C=y/_;h*=C;let N=0;for(let O=0;O<g;O++){const F=o[O],V=u[O]*C,q=F>V?F-V:V-F;if(q>h)return Number.POSITIVE_INFINITY;N+=q}return N/y}}class Ue extends on{static findStartPattern(o){const u=o.getSize(),h=o.getNextSet(0);let g=0,y=Int32Array.from([0,0,0,0,0,0]),_=h,C=!1;const N=6;for(let O=h;O<u;O++)if(o.get(O)!==C)y[g]++;else{if(g===N-1){let F=Ue.MAX_AVG_VARIANCE,V=-1;for(let q=Ue.CODE_START_A;q<=Ue.CODE_START_C;q++){const Z=on.patternMatchVariance(y,Ue.CODE_PATTERNS[q],Ue.MAX_INDIVIDUAL_VARIANCE);Z<F&&(F=Z,V=q)}if(V>=0&&o.isRange(Math.max(0,_-(O-_)/2),_,!1))return Int32Array.from([_,O,V]);_+=y[0]+y[1],y=y.slice(2,y.length-1),y[g-1]=0,y[g]=0,g--}else g++;y[g]=1,C=!C}throw new te}static decodeCode(o,u,h){on.recordPattern(o,h,u);let g=Ue.MAX_AVG_VARIANCE,y=-1;for(let _=0;_<Ue.CODE_PATTERNS.length;_++){const C=Ue.CODE_PATTERNS[_],N=this.patternMatchVariance(u,C,Ue.MAX_INDIVIDUAL_VARIANCE);N<g&&(g=N,y=_)}if(y>=0)return y;throw new te}decodeRow(o,u,h){const g=h&&h.get(P.ASSUME_GS1)===!0,y=Ue.findStartPattern(u),_=y[2];let C=0;const N=new Uint8Array(20);N[C++]=_;let O;switch(_){case Ue.CODE_START_A:O=Ue.CODE_CODE_A;break;case Ue.CODE_START_B:O=Ue.CODE_CODE_B;break;case Ue.CODE_START_C:O=Ue.CODE_CODE_C;break;default:throw new z}let F=!1,V=!1,q="",Z=y[0],ie=y[1];const se=Int32Array.from([0,0,0,0,0,0]);let fe=0,be=0,Pe=_,ze=0,Le=!0,Et=!1,Ct=!1;for(;!F;){const ga=V;switch(V=!1,fe=be,be=Ue.decodeCode(u,se,ie),N[C++]=be,be!==Ue.CODE_STOP&&(Le=!0),be!==Ue.CODE_STOP&&(ze++,Pe+=ze*be),Z=ie,ie+=se.reduce((Qr,Vh)=>Qr+Vh,0),be){case Ue.CODE_START_A:case Ue.CODE_START_B:case Ue.CODE_START_C:throw new z}switch(O){case Ue.CODE_CODE_A:if(be<64)Ct===Et?q+=String.fromCharCode(32+be):q+=String.fromCharCode(32+be+128),Ct=!1;else if(be<96)Ct===Et?q+=String.fromCharCode(be-64):q+=String.fromCharCode(be+64),Ct=!1;else switch(be!==Ue.CODE_STOP&&(Le=!1),be){case Ue.CODE_FNC_1:g&&(q.length===0?q+="]C1":q+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_A:!Et&&Ct?(Et=!0,Ct=!1):Et&&Ct?(Et=!1,Ct=!1):Ct=!0;break;case Ue.CODE_SHIFT:V=!0,O=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_B:O=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_C:O=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:F=!0;break}break;case Ue.CODE_CODE_B:if(be<96)Ct===Et?q+=String.fromCharCode(32+be):q+=String.fromCharCode(32+be+128),Ct=!1;else switch(be!==Ue.CODE_STOP&&(Le=!1),be){case Ue.CODE_FNC_1:g&&(q.length===0?q+="]C1":q+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_B:!Et&&Ct?(Et=!0,Ct=!1):Et&&Ct?(Et=!1,Ct=!1):Ct=!0;break;case Ue.CODE_SHIFT:V=!0,O=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_A:O=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_C:O=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:F=!0;break}break;case Ue.CODE_CODE_C:if(be<100)be<10&&(q+="0"),q+=be;else switch(be!==Ue.CODE_STOP&&(Le=!1),be){case Ue.CODE_FNC_1:g&&(q.length===0?q+="]C1":q+="");break;case Ue.CODE_CODE_A:O=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_B:O=Ue.CODE_CODE_B;break;case Ue.CODE_STOP:F=!0;break}break}ga&&(O=O===Ue.CODE_CODE_A?Ue.CODE_CODE_B:Ue.CODE_CODE_A)}const Xi=ie-Z;if(ie=u.getNextUnset(ie),!u.isRange(ie,Math.min(u.getSize(),ie+(ie-Z)/2),!1))throw new te;if(Pe-=ze*fe,Pe%103!==fe)throw new E;const Br=q.length;if(Br===0)throw new te;Br>0&&Le&&(O===Ue.CODE_CODE_C?q=q.substring(0,Br-2):q=q.substring(0,Br-1));const rr=(y[1]+y[0])/2,yn=Z+Xi/2,Mi=N.length,sr=new Uint8Array(Mi);for(let ga=0;ga<Mi;ga++)sr[ga]=N[ga];const qa=[new We(rr,o),new We(yn,o)];return new He(q,sr,0,qa,Ae.CODE_128,new Date().getTime())}}Ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ue.MAX_AVG_VARIANCE=.25,Ue.MAX_INDIVIDUAL_VARIANCE=.7,Ue.CODE_SHIFT=98,Ue.CODE_CODE_C=99,Ue.CODE_CODE_B=100,Ue.CODE_CODE_A=101,Ue.CODE_FNC_1=102,Ue.CODE_FNC_2=97,Ue.CODE_FNC_3=96,Ue.CODE_FNC_4_A=101,Ue.CODE_FNC_4_B=100,Ue.CODE_START_A=103,Ue.CODE_START_B=104,Ue.CODE_START_C=105,Ue.CODE_STOP=106;class an extends on{constructor(o=!1,u=!1){super(),this.usingCheckDigit=o,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,u,h){let g=this.counters;g.fill(0),this.decodeRowResult="";let y=an.findAsteriskPattern(u,g),_=u.getNextSet(y[1]),C=u.getSize(),N,O;do{an.recordPattern(u,_,g);let se=an.toNarrowWidePattern(g);if(se<0)throw new te;N=an.patternToChar(se),this.decodeRowResult+=N,O=_;for(let fe of g)_+=fe;_=u.getNextSet(_)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let F=0;for(let se of g)F+=se;let V=_-O-F;if(_!==C&&V*2<F)throw new te;if(this.usingCheckDigit){let se=this.decodeRowResult.length-1,fe=0;for(let be=0;be<se;be++)fe+=an.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(be));if(this.decodeRowResult.charAt(se)!==an.ALPHABET_STRING.charAt(fe%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,se)}if(this.decodeRowResult.length===0)throw new te;let q;this.extendedMode?q=an.decodeExtended(this.decodeRowResult):q=this.decodeRowResult;let Z=(y[1]+y[0])/2,ie=O+F/2;return new He(q,null,0,[new We(Z,o),new We(ie,o)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(o,u){let h=o.getSize(),g=o.getNextSet(0),y=0,_=g,C=!1,N=u.length;for(let O=g;O<h;O++)if(o.get(O)!==C)u[y]++;else{if(y===N-1){if(this.toNarrowWidePattern(u)===an.ASTERISK_ENCODING&&o.isRange(Math.max(0,_-Math.floor((O-_)/2)),_,!1))return[_,O];_+=u[0]+u[1],u.copyWithin(0,2,2+y-1),u[y-1]=0,u[y]=0,y--}else y++;u[y]=1,C=!C}throw new te}static toNarrowWidePattern(o){let u=o.length,h=0,g;do{let y=2147483647;for(let N of o)N<y&&N>h&&(y=N);h=y,g=0;let _=0,C=0;for(let N=0;N<u;N++){let O=o[N];O>h&&(C|=1<<u-1-N,g++,_+=O)}if(g===3){for(let N=0;N<u&&g>0;N++){let O=o[N];if(O>h&&(g--,O*2>=_))return-1}return C}}while(g>3);return-1}static patternToChar(o){for(let u=0;u<an.CHARACTER_ENCODINGS.length;u++)if(an.CHARACTER_ENCODINGS[u]===o)return an.ALPHABET_STRING.charAt(u);if(o===an.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(o){let u=o.length,h="";for(let g=0;g<u;g++){let y=o.charAt(g);if(y==="+"||y==="$"||y==="%"||y==="/"){let _=o.charAt(g+1),C="\0";switch(y){case"+":if(_>="A"&&_<="Z")C=String.fromCharCode(_.charCodeAt(0)+32);else throw new z;break;case"$":if(_>="A"&&_<="Z")C=String.fromCharCode(_.charCodeAt(0)-64);else throw new z;break;case"%":if(_>="A"&&_<="E")C=String.fromCharCode(_.charCodeAt(0)-38);else if(_>="F"&&_<="J")C=String.fromCharCode(_.charCodeAt(0)-11);else if(_>="K"&&_<="O")C=String.fromCharCode(_.charCodeAt(0)+16);else if(_>="P"&&_<="T")C=String.fromCharCode(_.charCodeAt(0)+43);else if(_==="U")C="\0";else if(_==="V")C="@";else if(_==="W")C="`";else if(_==="X"||_==="Y"||_==="Z")C="";else throw new z;break;case"/":if(_>="A"&&_<="O")C=String.fromCharCode(_.charCodeAt(0)-32);else if(_==="Z")C=":";else throw new z;break}h+=C,g++}else h+=y}return h}}an.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",an.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],an.ASTERISK_ENCODING=148;class jt extends on{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,u,h){let g=this.decodeStart(u),y=this.decodeEnd(u),_=new Ce;jt.decodeMiddle(u,g[1],y[0],_);let C=_.toString(),N=null;h!=null&&(N=h.get(P.ALLOWED_LENGTHS)),N==null&&(N=jt.DEFAULT_ALLOWED_LENGTHS);let O=C.length,F=!1,V=0;for(let ie of N){if(O===ie){F=!0;break}ie>V&&(V=ie)}if(!F&&O>V&&(F=!0),!F)throw new z;const q=[new We(g[1],o),new We(y[0],o)];return new He(C,null,0,q,Ae.ITF,new Date().getTime())}static decodeMiddle(o,u,h,g){let y=new Int32Array(10),_=new Int32Array(5),C=new Int32Array(5);for(y.fill(0),_.fill(0),C.fill(0);u<h;){on.recordPattern(o,u,y);for(let O=0;O<5;O++){let F=2*O;_[O]=y[F],C[O]=y[F+1]}let N=jt.decodeDigit(_);g.append(N.toString()),N=this.decodeDigit(C),g.append(N.toString()),y.forEach(function(O){u+=O})}}decodeStart(o){let u=jt.skipWhiteSpace(o),h=jt.findGuardPattern(o,u,jt.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(o,h[0]),h}validateQuietZone(o,u){let h=this.narrowLineWidth*10;h=h<u?h:u;for(let g=u-1;h>0&&g>=0&&!o.get(g);g--)h--;if(h!==0)throw new te}static skipWhiteSpace(o){const u=o.getSize(),h=o.getNextSet(0);if(h===u)throw new te;return h}decodeEnd(o){o.reverse();try{let u=jt.skipWhiteSpace(o),h;try{h=jt.findGuardPattern(o,u,jt.END_PATTERN_REVERSED[0])}catch(y){y instanceof te&&(h=jt.findGuardPattern(o,u,jt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,h[0]);let g=h[0];return h[0]=o.getSize()-h[1],h[1]=o.getSize()-g,h}finally{o.reverse()}}static findGuardPattern(o,u,h){let g=h.length,y=new Int32Array(g),_=o.getSize(),C=!1,N=0,O=u;y.fill(0);for(let F=u;F<_;F++)if(o.get(F)!==C)y[N]++;else{if(N===g-1){if(on.patternMatchVariance(y,h,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return[O,F];O+=y[0]+y[1],M.arraycopy(y,2,y,0,N-1),y[N-1]=0,y[N]=0,N--}else N++;y[N]=1,C=!C}throw new te}static decodeDigit(o){let u=jt.MAX_AVG_VARIANCE,h=-1,g=jt.PATTERNS.length;for(let y=0;y<g;y++){let _=jt.PATTERNS[y],C=on.patternMatchVariance(o,_,jt.MAX_INDIVIDUAL_VARIANCE);C<u?(u=C,h=y):C===u&&(h=-1)}if(h>=0)return h%10;throw new te}}jt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],jt.MAX_AVG_VARIANCE=.38,jt.MAX_INDIVIDUAL_VARIANCE=.5,jt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],jt.START_PATTERN=Int32Array.from([1,1,1,1]),jt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Wt extends on{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let u=!1,h,g=0,y=Int32Array.from([0,0,0]);for(;!u;){y=Int32Array.from([0,0,0]),h=Wt.findGuardPattern(o,g,!1,this.START_END_PATTERN,y);let _=h[0];g=h[1];let C=_-(g-_);C>=0&&(u=o.isRange(C,_,!1))}return h}static checkChecksum(o){return Wt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let h=parseInt(o.charAt(u-1),10);return Wt.getStandardUPCEANChecksum(o.substring(0,u-1))===h}static getStandardUPCEANChecksum(o){let u=o.length,h=0;for(let g=u-1;g>=0;g-=2){let y=o.charAt(g).charCodeAt(0)-48;if(y<0||y>9)throw new z;h+=y}h*=3;for(let g=u-2;g>=0;g-=2){let y=o.charAt(g).charCodeAt(0)-48;if(y<0||y>9)throw new z;h+=y}return(1e3-h)%10}static decodeEnd(o,u){return Wt.findGuardPattern(o,u,!1,Wt.START_END_PATTERN,new Int32Array(Wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,u,h,g){return this.findGuardPattern(o,u,h,g,new Int32Array(g.length))}static findGuardPattern(o,u,h,g,y){let _=o.getSize();u=h?o.getNextUnset(u):o.getNextSet(u);let C=0,N=u,O=g.length,F=h;for(let V=u;V<_;V++)if(o.get(V)!==F)y[C]++;else{if(C===O-1){if(on.patternMatchVariance(y,g,Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE)return Int32Array.from([N,V]);N+=y[0]+y[1];let q=y.slice(2,y.length-1);for(let Z=0;Z<C-1;Z++)y[Z]=q[Z];y[C-1]=0,y[C]=0,C--}else C++;y[C]=1,F=!F}throw new te}static decodeDigit(o,u,h,g){this.recordPattern(o,h,u);let y=this.MAX_AVG_VARIANCE,_=-1,C=g.length;for(let N=0;N<C;N++){let O=g[N],F=on.patternMatchVariance(u,O,Wt.MAX_INDIVIDUAL_VARIANCE);F<y&&(y=F,_=N)}if(_>=0)return _;throw new te}}Wt.MAX_AVG_VARIANCE=.48,Wt.MAX_INDIVIDUAL_VARIANCE=.7,Wt.START_END_PATTERN=Int32Array.from([1,1,1]),Wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Rr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,h){let g=this.decodeRowStringBuffer,y=this.decodeMiddle(u,h,g),_=g.toString(),C=Rr.parseExtensionString(_),N=[new We((h[0]+h[1])/2,o),new We(y,o)],O=new He(_,null,0,N,Ae.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&O.putAllMetadata(C),O}decodeMiddle(o,u,h){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let y=o.getSize(),_=u[1],C=0;for(let O=0;O<5&&_<y;O++){let F=Wt.decodeDigit(o,g,_,Wt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+F%10);for(let V of g)_+=V;F>=10&&(C|=1<<4-O),O!==4&&(_=o.getNextSet(_),_=o.getNextUnset(_))}if(h.length!==5)throw new te;let N=this.determineCheckDigit(C);if(Rr.extensionChecksum(h.toString())!==N)throw new te;return _}static extensionChecksum(o){let u=o.length,h=0;for(let g=u-2;g>=0;g-=2)h+=o.charAt(g).charCodeAt(0)-48;h*=3;for(let g=u-1;g>=0;g-=2)h+=o.charAt(g).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(o){for(let u=0;u<10;u++)if(o===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new te}static parseExtensionString(o){if(o.length!==5)return null;let u=Rr.parseExtension5String(o);return u==null?null:new Map([[gt.SUGGESTED_PRICE,u]])}static parseExtension5String(o){let u;switch(o.charAt(0)){case"0":u="";break;case"5":u="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let h=parseInt(o.substring(1)),g=(h/100).toString(),y=h%100,_=y<10?"0"+y:y.toString();return u+g+"."+_}}class ys{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,h){let g=this.decodeRowStringBuffer,y=this.decodeMiddle(u,h,g),_=g.toString(),C=ys.parseExtensionString(_),N=[new We((h[0]+h[1])/2,o),new We(y,o)],O=new He(_,null,0,N,Ae.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&O.putAllMetadata(C),O}decodeMiddle(o,u,h){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let y=o.getSize(),_=u[1],C=0;for(let N=0;N<2&&_<y;N++){let O=Wt.decodeDigit(o,g,_,Wt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+O%10);for(let F of g)_+=F;O>=10&&(C|=1<<1-N),N!==1&&(_=o.getNextSet(_),_=o.getNextUnset(_))}if(h.length!==2)throw new te;if(parseInt(h.toString())%4!==C)throw new te;return _}static parseExtensionString(o){return o.length!==2?null:new Map([[gt.ISSUE_NUMBER,parseInt(o)]])}}class Ql{static decodeRow(o,u,h){let g=Wt.findGuardPattern(u,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Rr().decodeRow(o,u,g)}catch{return new ys().decodeRow(o,u,g)}}}Ql.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Vt extends Wt{constructor(){super(),this.decodeRowStringBuffer="",Vt.L_AND_G_PATTERNS=Vt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let u=Vt.L_PATTERNS[o-10],h=new Int32Array(u.length);for(let g=0;g<u.length;g++)h[g]=u[u.length-g-1];Vt.L_AND_G_PATTERNS[o]=h}}decodeRow(o,u,h){let g=Vt.findStartGuardPattern(u),y=h==null?null:h.get(P.NEED_RESULT_POINT_CALLBACK);if(y!=null){const Le=new We((g[0]+g[1])/2,o);y.foundPossibleResultPoint(Le)}let _=this.decodeMiddle(u,g,this.decodeRowStringBuffer),C=_.rowOffset,N=_.resultString;if(y!=null){const Le=new We(C,o);y.foundPossibleResultPoint(Le)}let O=this.decodeEnd(u,C);if(y!=null){const Le=new We((O[0]+O[1])/2,o);y.foundPossibleResultPoint(Le)}let F=O[1],V=F+(F-O[0]);if(V>=u.getSize()||!u.isRange(F,V,!1))throw new te;let q=N.toString();if(q.length<8)throw new z;if(!Vt.checkChecksum(q))throw new E;let Z=(g[1]+g[0])/2,ie=(O[1]+O[0])/2,se=this.getBarcodeFormat(),fe=[new We(Z,o),new We(ie,o)],be=new He(q,null,0,fe,se,new Date().getTime()),Pe=0;try{let Le=Ql.decodeRow(o,u,O[1]);be.putMetadata(gt.UPC_EAN_EXTENSION,Le.getText()),be.putAllMetadata(Le.getResultMetadata()),be.addResultPoints(Le.getResultPoints()),Pe=Le.getText().length}catch{}let ze=h==null?null:h.get(P.ALLOWED_EAN_EXTENSIONS);if(ze!=null){let Le=!1;for(let Et in ze)if(Pe.toString()===Et){Le=!0;break}if(!Le)throw new te}return be}decodeEnd(o,u){return Vt.findGuardPattern(o,u,!1,Vt.START_END_PATTERN,new Int32Array(Vt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return Vt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let h=parseInt(o.charAt(u-1),10);return Vt.getStandardUPCEANChecksum(o.substring(0,u-1))===h}static getStandardUPCEANChecksum(o){let u=o.length,h=0;for(let g=u-1;g>=0;g-=2){let y=o.charAt(g).charCodeAt(0)-48;if(y<0||y>9)throw new z;h+=y}h*=3;for(let g=u-2;g>=0;g-=2){let y=o.charAt(g).charCodeAt(0)-48;if(y<0||y>9)throw new z;h+=y}return(1e3-h)%10}}class gr extends Vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,h){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let y=o.getSize(),_=u[1],C=0;for(let O=0;O<6&&_<y;O++){let F=Vt.decodeDigit(o,g,_,Vt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+F%10);for(let V of g)_+=V;F>=10&&(C|=1<<5-O)}h=gr.determineFirstDigit(h,C),_=Vt.findGuardPattern(o,_,!0,Vt.MIDDLE_PATTERN,new Int32Array(Vt.MIDDLE_PATTERN.length).fill(0))[1];for(let O=0;O<6&&_<y;O++){let F=Vt.decodeDigit(o,g,_,Vt.L_PATTERNS);h+=String.fromCharCode(48+F);for(let V of g)_+=V}return{rowOffset:_,resultString:h}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(o,u){for(let h=0;h<10;h++)if(u===this.FIRST_DIGIT_ENCODINGS[h])return o=String.fromCharCode(48+h)+o,o;throw new te}}gr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Jl extends Vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,h){const g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let y=o.getSize(),_=u[1];for(let N=0;N<4&&_<y;N++){let O=Vt.decodeDigit(o,g,_,Vt.L_PATTERNS);h+=String.fromCharCode(48+O);for(let F of g)_+=F}_=Vt.findGuardPattern(o,_,!0,Vt.MIDDLE_PATTERN,new Int32Array(Vt.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&_<y;N++){let O=Vt.decodeDigit(o,g,_,Vt.L_PATTERNS);h+=String.fromCharCode(48+O);for(let F of g)_+=F}return{rowOffset:_,resultString:h}}getBarcodeFormat(){return Ae.EAN_8}}class sa extends Vt{constructor(){super(...arguments),this.ean13Reader=new gr}getBarcodeFormat(){return Ae.UPC_A}decode(o,u){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,u,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,u,h))}decodeMiddle(o,u,h){return this.ean13Reader.decodeMiddle(o,u,h)}maybeReturnResult(o){let u=o.getText();if(u.charAt(0)==="0"){let h=new He(u.substring(1),null,null,o.getResultPoints(),Ae.UPC_A);return o.getResultMetadata()!=null&&h.putAllMetadata(o.getResultMetadata()),h}else throw new te}reset(){this.ean13Reader.reset()}}class Ai extends Vt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,u,h){const g=this.decodeMiddleCounters.map(O=>O);g[0]=0,g[1]=0,g[2]=0,g[3]=0;const y=o.getSize();let _=u[1],C=0;for(let O=0;O<6&&_<y;O++){const F=Ai.decodeDigit(o,g,_,Ai.L_AND_G_PATTERNS);h+=String.fromCharCode(48+F%10);for(let V of g)_+=V;F>=10&&(C|=1<<5-O)}let N=Ai.determineNumSysAndCheckDigit(h,C);return{rowOffset:_,resultString:N}}decodeEnd(o,u){return Ai.findGuardPatternWithoutCounters(o,u,!0,Ai.MIDDLE_END_PATTERN)}checkChecksum(o){return Vt.checkChecksum(Ai.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,u){for(let h=0;h<=1;h++)for(let g=0;g<10;g++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][g]){let y=String.fromCharCode(48+h),_=String.fromCharCode(48+g);return y+o+_}throw te.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(o){const u=o.slice(1,7).split("").map(y=>y.charCodeAt(0)),h=new Ce;h.append(o.charAt(0));let g=u[5];switch(g){case 0:case 1:case 2:h.appendChars(u,0,2),h.append(g),h.append("0000"),h.appendChars(u,2,3);break;case 3:h.appendChars(u,0,3),h.append("00000"),h.appendChars(u,3,2);break;case 4:h.appendChars(u,0,4),h.append("00000"),h.append(u[4]);break;default:h.appendChars(u,0,5),h.append("0000"),h.append(g);break}return o.length>=8&&h.append(o.charAt(7)),h.toString()}}Ai.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ai.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Fa extends on{constructor(o){super();let u=o==null?null:o.get(P.POSSIBLE_FORMATS),h=[];i(u)?(h.push(new gr),h.push(new sa),h.push(new Jl),h.push(new Ai)):(u.indexOf(Ae.EAN_13)>-1&&h.push(new gr),u.indexOf(Ae.UPC_A)>-1&&h.push(new sa),u.indexOf(Ae.EAN_8)>-1&&h.push(new Jl),u.indexOf(Ae.UPC_E)>-1&&h.push(new Ai)),this.readers=h}decodeRow(o,u,h){for(let g of this.readers)try{const y=g.decodeRow(o,u,h),_=y.getBarcodeFormat()===Ae.EAN_13&&y.getText().charAt(0)==="0",C=h==null?null:h.get(P.POSSIBLE_FORMATS),N=C==null||C.includes(Ae.UPC_A);if(_&&N){const O=y.getRawBytes(),F=new He(y.getText().substring(1),O,O?O.length:null,y.getResultPoints(),Ae.UPC_A);return F.putAllMetadata(y.getResultMetadata()),F}return y}catch{}throw new te}reset(){for(let o of this.readers)o.reset()}}class Qn extends on{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,u){for(let h=0;h<u.length;h++)if(on.patternMatchVariance(o,u[h],Qn.MAX_INDIVIDUAL_VARIANCE)<Qn.MAX_AVG_VARIANCE)return h;throw new te}static count(o){return At.sum(new Int32Array(o))}static increment(o,u){let h=0,g=u[0];for(let y=1;y<o.length;y++)u[y]>g&&(g=u[y],h=y);o[h]++}static decrement(o,u){let h=0,g=u[0];for(let y=1;y<o.length;y++)u[y]<g&&(g=u[y],h=y);o[h]--}static isFinderPattern(o){let u=o[0]+o[1],h=u+o[2]+o[3],g=u/h;if(g>=Qn.MIN_FINDER_PATTERN_RATIO&&g<=Qn.MAX_FINDER_PATTERN_RATIO){let y=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER;for(let C of o)C>_&&(_=C),C<y&&(y=C);return _<10*y}return!1}}Qn.MAX_AVG_VARIANCE=.2,Qn.MAX_INDIVIDUAL_VARIANCE=.45,Qn.MIN_FINDER_PATTERN_RATIO=9.5/12,Qn.MAX_FINDER_PATTERN_RATIO=12.5/14;class re{constructor(o,u){this.value=o,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof re))return!1;const u=o;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class de{constructor(o,u,h,g,y){this.value=o,this.startEnd=u,this.value=o,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new We(h,y)),this.resultPoints.push(new We(g,y))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof de))return!1;const u=o;return this.value===u.value}hashCode(){return this.value}}class ge{constructor(){}static getRSSvalue(o,u,h){let g=0;for(let N of o)g+=N;let y=0,_=0,C=o.length;for(let N=0;N<C-1;N++){let O;for(O=1,_|=1<<N;O<o[N];O++,_&=~(1<<N)){let F=ge.combins(g-O-1,C-N-2);if(h&&_===0&&g-O-(C-N-1)>=C-N-1&&(F-=ge.combins(g-O-(C-N),C-N-2)),C-N-1>1){let V=0;for(let q=g-O-(C-N-2);q>u;q--)V+=ge.combins(g-O-q-1,C-N-3);F-=V*(C-1-N)}else g-O>u&&F--;y+=F}g-=O}return y}static combins(o,u){let h,g;o-u>u?(g=u,h=o-u):(g=o-u,h=u);let y=1,_=1;for(let C=o;C>h;C--)y*=C,_<=g&&(y/=_,_++);for(;_<=g;)y/=_,_++;return y}}class Re{static buildBitArray(o){let u=o.length*2-1;o[o.length-1].getRightChar()==null&&(u-=1);let h=12*u,g=new k(h),y=0,C=o[0].getRightChar().getValue();for(let N=11;N>=0;--N)(C&1<<N)!=0&&g.set(y),y++;for(let N=1;N<o.length;++N){let O=o[N],F=O.getLeftChar().getValue();for(let V=11;V>=0;--V)(F&1<<V)!=0&&g.set(y),y++;if(O.getRightChar()!=null){let V=O.getRightChar().getValue();for(let q=11;q>=0;--q)(V&1<<q)!=0&&g.set(y),y++}}return g}}class Fe{constructor(o,u){u?this.decodedInformation=null:(this.finished=o,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ze{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Qe extends Ze{constructor(o,u){super(o),this.value=u}getValue(){return this.value}isFNC1(){return this.value===Qe.FNC1}}Qe.FNC1="$";class Ge extends Ze{constructor(o,u,h){super(o),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ye extends Ze{constructor(o,u,h){if(super(o),u<0||u>10||h<0||h>10)throw new z;this.firstDigit=u,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ye.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ye.FNC1}isAnyFNC1(){return this.firstDigit===Ye.FNC1||this.secondDigit===Ye.FNC1}}Ye.FNC1=10;class Te{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new te;let u=o.substring(0,2);for(let y of Te.TWO_DIGIT_DATA_LENGTH)if(y[0]===u)return y[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(2,y[2],o):Te.processFixedAI(2,y[1],o);if(o.length<3)throw new te;let h=o.substring(0,3);for(let y of Te.THREE_DIGIT_DATA_LENGTH)if(y[0]===h)return y[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(3,y[2],o):Te.processFixedAI(3,y[1],o);for(let y of Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(y[0]===h)return y[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,y[2],o):Te.processFixedAI(4,y[1],o);if(o.length<4)throw new te;let g=o.substring(0,4);for(let y of Te.FOUR_DIGIT_DATA_LENGTH)if(y[0]===g)return y[1]===Te.VARIABLE_LENGTH?Te.processVariableAI(4,y[2],o):Te.processFixedAI(4,y[1],o);throw new te}static processFixedAI(o,u,h){if(h.length<o)throw new te;let g=h.substring(0,o);if(h.length<o+u)throw new te;let y=h.substring(o,o+u),_=h.substring(o+u),C="("+g+")"+y,N=Te.parseFieldsInGeneralPurpose(_);return N==null?C:C+N}static processVariableAI(o,u,h){let g=h.substring(0,o),y;h.length<o+u?y=h.length:y=o+u;let _=h.substring(o,y),C=h.substring(y),N="("+g+")"+_,O=Te.parseFieldsInGeneralPurpose(C);return O==null?N:N+O}}Te.VARIABLE_LENGTH=[],Te.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Te.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Te.VARIABLE_LENGTH,20],["22",Te.VARIABLE_LENGTH,29],["30",Te.VARIABLE_LENGTH,8],["37",Te.VARIABLE_LENGTH,8],["90",Te.VARIABLE_LENGTH,30],["91",Te.VARIABLE_LENGTH,30],["92",Te.VARIABLE_LENGTH,30],["93",Te.VARIABLE_LENGTH,30],["94",Te.VARIABLE_LENGTH,30],["95",Te.VARIABLE_LENGTH,30],["96",Te.VARIABLE_LENGTH,30],["97",Te.VARIABLE_LENGTH,3],["98",Te.VARIABLE_LENGTH,30],["99",Te.VARIABLE_LENGTH,30]],Te.THREE_DIGIT_DATA_LENGTH=[["240",Te.VARIABLE_LENGTH,30],["241",Te.VARIABLE_LENGTH,30],["242",Te.VARIABLE_LENGTH,6],["250",Te.VARIABLE_LENGTH,30],["251",Te.VARIABLE_LENGTH,30],["253",Te.VARIABLE_LENGTH,17],["254",Te.VARIABLE_LENGTH,20],["400",Te.VARIABLE_LENGTH,30],["401",Te.VARIABLE_LENGTH,30],["402",17],["403",Te.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Te.VARIABLE_LENGTH,20],["421",Te.VARIABLE_LENGTH,15],["422",3],["423",Te.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Te.VARIABLE_LENGTH,15],["391",Te.VARIABLE_LENGTH,18],["392",Te.VARIABLE_LENGTH,15],["393",Te.VARIABLE_LENGTH,18],["703",Te.VARIABLE_LENGTH,30]],Te.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Te.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Te.VARIABLE_LENGTH,20],["8003",Te.VARIABLE_LENGTH,30],["8004",Te.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Te.VARIABLE_LENGTH,30],["8008",Te.VARIABLE_LENGTH,12],["8018",18],["8020",Te.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Te.VARIABLE_LENGTH,70],["8200",Te.VARIABLE_LENGTH,70]];class dt{constructor(o){this.buffer=new Ce,this.information=o}decodeAllCodes(o,u){let h=u,g=null;do{let y=this.decodeGeneralPurposeField(h,g),_=Te.parseFieldsInGeneralPurpose(y.getNewString());if(_!=null&&o.append(_),y.isRemaining()?g=""+y.getRemainingValue():g=null,h===y.getNewPosition())break;h=y.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let u=o;u<o+3;++u)if(this.information.get(u))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let y=this.extractNumericValueFromBitArray(o,4);return y===0?new Ye(this.information.getSize(),Ye.FNC1,Ye.FNC1):new Ye(this.information.getSize(),y-1,Ye.FNC1)}let u=this.extractNumericValueFromBitArray(o,7),h=(u-8)/11,g=(u-8)%11;return new Ye(o+7,h,g)}extractNumericValueFromBitArray(o,u){return dt.extractNumericValueFromBitArray(this.information,o,u)}static extractNumericValueFromBitArray(o,u,h){let g=0;for(let y=0;y<h;++y)o.get(u+y)&&(g|=1<<h-y-1);return g}decodeGeneralPurposeField(o,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(o);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new Ge(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new Ge(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,u;do{let h=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),o=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),o=u.isFinished()):(u=this.parseNumericBlock(),o=u.isFinished()),!(h!==this.current.getPosition())&&!o)break}while(!o);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let u;return o.isSecondDigitFNC1()?u=new Ge(this.current.getPosition(),this.buffer.toString()):u=new Ge(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new Fe(!0,u)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let u=new Ge(this.current.getPosition(),this.buffer.toString());return new Fe(!0,u)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Fe(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new Ge(this.current.getPosition(),this.buffer.toString());return new Fe(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Fe(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new Ge(this.current.getPosition(),this.buffer.toString());return new Fe(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Fe(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<116)return!0;if(o+8>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(o,8);return g>=232&&g<253}decodeIsoIec646(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Qe(o+5,Qe.FNC1);if(u>=5&&u<15)return new Qe(o+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<90)return new Qe(o+7,""+(h+1));if(h>=90&&h<116)return new Qe(o+7,""+(h+7));let g=this.extractNumericValueFromBitArray(o,8),y;switch(g){case 232:y="!";break;case 233:y='"';break;case 234:y="%";break;case 235:y="&";break;case 236:y="'";break;case 237:y="(";break;case 238:y=")";break;case 239:y="*";break;case 240:y="+";break;case 241:y=",";break;case 242:y="-";break;case 243:y=".";break;case 244:y="/";break;case 245:y=":";break;case 246:y=";";break;case 247:y="<";break;case 248:y="=";break;case 249:y=">";break;case 250:y="?";break;case 251:y="_";break;case 252:y=" ";break;default:throw new z}return new Qe(o+8,y)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,6);return h>=16&&h<63}decodeAlphanumeric(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new Qe(o+5,Qe.FNC1);if(u>=5&&u<15)return new Qe(o+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(o,6);if(h>=32&&h<58)return new Qe(o+6,""+(h+33));let g;switch(h){case 58:g="*";break;case 59:g=",";break;case 60:g="-";break;case 61:g=".";break;case 62:g="/";break;default:throw new qi("Decoding invalid alphanumeric value: "+h)}return new Qe(o+6,g)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<5&&u+o<this.information.getSize();++u)if(u===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+u))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let u=o;u<o+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<4&&u+o<this.information.getSize();++u)if(this.information.get(o+u))return!1;return!0}}class nt{constructor(o){this.information=o,this.generalDecoder=new dt(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class tt extends nt{constructor(o){super(o)}encodeCompressedGtin(o,u){o.append("(01)");let h=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,u,h)}encodeCompressedGtinWithoutAI(o,u,h){for(let g=0;g<4;++g){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*g,10);y/100===0&&o.append("0"),y/10===0&&o.append("0"),o.append(y)}tt.appendCheckDigit(o,h)}static appendCheckDigit(o,u){let h=0;for(let g=0;g<13;g++){let y=o.charAt(g+u).charCodeAt(0)-48;h+=(g&1)===0?3*y:y}h=10-h%10,h===10&&(h=0),o.append(h)}}tt.GTIN_SIZE=40;class Rt extends tt{constructor(o){super(o)}parseInformation(){let o=new Ce;o.append("(01)");let u=o.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(Rt.HEADER_SIZE,4);return o.append(h),this.encodeCompressedGtinWithoutAI(o,Rt.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(o,Rt.HEADER_SIZE+44)}}Rt.HEADER_SIZE=4;class fn extends nt{constructor(o){super(o)}parseInformation(){let o=new Ce;return this.getGeneralDecoder().decodeAllCodes(o,fn.HEADER_SIZE)}}fn.HEADER_SIZE=5;class Cn extends tt{constructor(o){super(o)}encodeCompressedWeight(o,u,h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(u,h);this.addWeightCode(o,g);let y=this.checkWeight(g),_=1e5;for(let C=0;C<5;++C)y/_===0&&o.append("0"),_/=10;o.append(y)}}class Tt extends Cn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Tt.HEADER_SIZE+Cn.GTIN_SIZE+Tt.WEIGHT_SIZE)throw new te;let o=new Ce;return this.encodeCompressedGtin(o,Tt.HEADER_SIZE),this.encodeCompressedWeight(o,Tt.HEADER_SIZE+Cn.GTIN_SIZE,Tt.WEIGHT_SIZE),o.toString()}}Tt.HEADER_SIZE=5,Tt.WEIGHT_SIZE=15;class Xt extends Tt{constructor(o){super(o)}addWeightCode(o,u){o.append("(3103)")}checkWeight(o){return o}}class aa extends Tt{constructor(o){super(o)}addWeightCode(o,u){u<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class Mn extends tt{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Mn.HEADER_SIZE+tt.GTIN_SIZE)throw new te;let o=new Ce;this.encodeCompressedGtin(o,Mn.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Mn.HEADER_SIZE+tt.GTIN_SIZE,Mn.LAST_DIGIT_SIZE);o.append("(392"),o.append(u),o.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(Mn.HEADER_SIZE+tt.GTIN_SIZE+Mn.LAST_DIGIT_SIZE,null);return o.append(h.getNewString()),o.toString()}}Mn.HEADER_SIZE=8,Mn.LAST_DIGIT_SIZE=2;class Sn extends tt{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Sn.HEADER_SIZE+tt.GTIN_SIZE)throw new te;let o=new Ce;this.encodeCompressedGtin(o,Sn.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+tt.GTIN_SIZE,Sn.LAST_DIGIT_SIZE);o.append("(393"),o.append(u),o.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+tt.GTIN_SIZE+Sn.LAST_DIGIT_SIZE,Sn.FIRST_THREE_DIGITS_SIZE);h/100==0&&o.append("0"),h/10==0&&o.append("0"),o.append(h);let g=this.getGeneralDecoder().decodeGeneralPurposeField(Sn.HEADER_SIZE+tt.GTIN_SIZE+Sn.LAST_DIGIT_SIZE+Sn.FIRST_THREE_DIGITS_SIZE,null);return o.append(g.getNewString()),o.toString()}}Sn.HEADER_SIZE=8,Sn.LAST_DIGIT_SIZE=2,Sn.FIRST_THREE_DIGITS_SIZE=10;class Pt extends Cn{constructor(o,u,h){super(o),this.dateCode=h,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=Pt.HEADER_SIZE+Pt.GTIN_SIZE+Pt.WEIGHT_SIZE+Pt.DATE_SIZE)throw new te;let o=new Ce;return this.encodeCompressedGtin(o,Pt.HEADER_SIZE),this.encodeCompressedWeight(o,Pt.HEADER_SIZE+Pt.GTIN_SIZE,Pt.WEIGHT_SIZE),this.encodeCompressedDate(o,Pt.HEADER_SIZE+Pt.GTIN_SIZE+Pt.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(u,Pt.DATE_SIZE);if(h==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let g=h%32;h/=32;let y=h%12+1;h/=12;let _=h;_/10==0&&o.append("0"),o.append(_),y/10==0&&o.append("0"),o.append(y),g/10==0&&o.append("0"),o.append(g)}addWeightCode(o,u){o.append("("),o.append(this.firstAIdigits),o.append(u/1e5),o.append(")")}checkWeight(o){return o%1e5}}Pt.HEADER_SIZE=8,Pt.WEIGHT_SIZE=20,Pt.DATE_SIZE=16;function Us($){try{if($.get(1))return new Rt($);if(!$.get(2))return new fn($);switch(dt.extractNumericValueFromBitArray($,1,4)){case 4:return new Xt($);case 5:return new aa($)}switch(dt.extractNumericValueFromBitArray($,1,5)){case 12:return new Mn($);case 13:return new Sn($)}switch(dt.extractNumericValueFromBitArray($,1,7)){case 56:return new Pt($,"310","11");case 57:return new Pt($,"320","11");case 58:return new Pt($,"310","13");case 59:return new Pt($,"320","13");case 60:return new Pt($,"310","15");case 61:return new Pt($,"320","15");case 62:return new Pt($,"310","17");case 63:return new Pt($,"320","17")}}catch(o){throw console.log(o),new qi("unknown decoder: "+$)}}class Wi{constructor(o,u,h,g){this.leftchar=o,this.rightchar=u,this.finderpattern=h,this.maybeLast=g}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,u){return o instanceof Wi?Wi.equalsOrNull(o.leftchar,u.leftchar)&&Wi.equalsOrNull(o.rightchar,u.rightchar)&&Wi.equalsOrNull(o.finderpattern,u.finderpattern):!1}static equalsOrNull(o,u){return o===null?u===null:Wi.equals(o,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class za{constructor(o,u,h){this.pairs=o,this.rowNumber=u,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,u){return o instanceof za?this.checkEqualitity(o,u)&&o.wasReversed===u.wasReversed:!1}checkEqualitity(o,u){if(!o||!u)return;let h;return o.forEach((g,y)=>{u.forEach(_=>{g.getLeftChar().getValue()===_.getLeftChar().getValue()&&g.getRightChar().getValue()===_.getRightChar().getValue()&&g.getFinderPatter().getValue()===_.getFinderPatter().getValue()&&(h=!0)})}),h}}class Ie extends Qn{constructor(o){super(...arguments),this.pairs=new Array(Ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,u,h){this.pairs.length=0,this.startFromEven=!1;try{return Ie.constructResult(this.decodeRow2pairs(o,u))}catch(g){this.verbose&&console.log(g)}return this.pairs.length=0,this.startFromEven=!0,Ie.constructResult(this.decodeRow2pairs(o,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,u){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,o))}catch(y){if(y instanceof te){if(!this.pairs.length)throw new te;h=!0}}if(this.checkChecksum())return this.pairs;let g;if(this.rows.length?g=!0:g=!1,this.storeRow(o,!1),g){let y=this.checkRowsBoolean(!1);if(y!=null||(y=this.checkRowsBoolean(!0),y!=null))return y}throw new te}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return o&&(this.rows=this.rows.reverse()),u}checkRows(o,u){for(let h=u;h<this.rows.length;h++){let g=this.rows[h];this.pairs.length=0;for(let _ of o)this.pairs.push(_.getPairs());if(this.pairs.push(g.getPairs()),!Ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let y=new Array(o);y.push(g);try{return this.checkRows(y,h+1)}catch(_){this.verbose&&console.log(_)}}throw new te}static isValidSequence(o){for(let u of Ie.FINDER_PATTERN_SEQUENCES){if(o.length>u.length)continue;let h=!0;for(let g=0;g<o.length;g++)if(o[g].getFinderPattern().getValue()!=u[g]){h=!1;break}if(h)return!0}return!1}storeRow(o,u){let h=0,g=!1,y=!1;for(;h<this.rows.length;){let _=this.rows[h];if(_.getRowNumber()>o){y=_.isEquivalent(this.pairs);break}g=_.isEquivalent(this.pairs),h++}y||g||Ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new za(this.pairs,o,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,u){for(let h of u)if(h.getPairs().length!==o.length){for(let g of h.getPairs())for(let y of o)if(Wi.equals(g,y))break}}static isPartialRow(o,u){for(let h of u){let g=!0;for(let y of o){let _=!1;for(let C of h.getPairs())if(y.equals(C)){_=!0;break}if(!_){g=!1;break}}if(g)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=Re.buildBitArray(o),g=Us(u).parseInformation(),y=o[0].getFinderPattern().getResultPoints(),_=o[o.length-1].getFinderPattern().getResultPoints(),C=[y[0],y[1],_[0],_[1]];return new He(g,null,null,C,Ae.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),u=o.getLeftChar(),h=o.getRightChar();if(h==null)return!1;let g=h.getChecksumPortion(),y=2;for(let C=1;C<this.pairs.size();++C){let N=this.pairs.get(C);g+=N.getLeftChar().getChecksumPortion(),y++;let O=N.getRightChar();O!=null&&(g+=O.getChecksumPortion(),y++)}return g%=211,211*(y-4)+g==u.getValue()}static getNextSecondBar(o,u){let h;return o.get(u)?(h=o.getNextUnset(u),h=o.getNextSet(h)):(h=o.getNextSet(u),h=o.getNextUnset(h)),h}retrieveNextPair(o,u,h){let g=u.length%2==0;this.startFromEven&&(g=!g);let y,_=!0,C=-1;do this.findNextPair(o,u,C),y=this.parseFoundFinderPattern(o,h,g),y==null?C=Ie.getNextSecondBar(o,this.startEnd[0]):_=!1;while(_);let N=this.decodeDataCharacter(o,y,g,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new te;let O;try{O=this.decodeDataCharacter(o,y,g,!1)}catch(F){O=null,this.verbose&&console.log(F)}return new Wi(N,O,y,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,u,h){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let y=o.getSize(),_;h>=0?_=h:this.isEmptyPair(u)?_=0:_=u[u.length-1].getFinderPattern().getStartEnd()[1];let C=u.length%2!=0;this.startFromEven&&(C=!C);let N=!1;for(;_<y&&(N=!o.get(_),!!N);)_++;let O=0,F=_;for(let V=_;V<y;V++)if(o.get(V)!=N)g[O]++;else{if(O==3){if(C&&Ie.reverseCounters(g),Ie.isFinderPattern(g)){this.startEnd[0]=F,this.startEnd[1]=V;return}C&&Ie.reverseCounters(g),F+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,O--}else O++;g[O]=1,N=!N}throw new te}static reverseCounters(o){let u=o.length;for(let h=0;h<u/2;++h){let g=o[h];o[h]=o[u-h-1],o[u-h-1]=g}}parseFoundFinderPattern(o,u,h){let g,y,_;if(h){let O=this.startEnd[0]-1;for(;O>=0&&!o.get(O);)O--;O++,g=this.startEnd[0]-O,y=O,_=this.startEnd[1]}else y=this.startEnd[0],_=o.getNextUnset(this.startEnd[1]+1),g=_-this.startEnd[1];let C=this.getDecodeFinderCounters();M.arraycopy(C,0,C,1,C.length-1),C[0]=g;let N;try{N=this.parseFinderValue(C,Ie.FINDER_PATTERNS)}catch{return null}return new de(N,[y,_],y,_,u)}decodeDataCharacter(o,u,h,g){let y=this.getDataCharacterCounters();for(let yn=0;yn<y.length;yn++)y[yn]=0;if(g)Ie.recordPatternInReverse(o,u.getStartEnd()[0],y);else{Ie.recordPattern(o,u.getStartEnd()[1],y);for(let yn=0,Mi=y.length-1;yn<Mi;yn++,Mi--){let sr=y[yn];y[yn]=y[Mi],y[Mi]=sr}}let _=17,C=At.sum(new Int32Array(y))/_,N=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(C-N)/N>.3)throw new te;let O=this.getOddCounts(),F=this.getEvenCounts(),V=this.getOddRoundingErrors(),q=this.getEvenRoundingErrors();for(let yn=0;yn<y.length;yn++){let Mi=1*y[yn]/C,sr=Mi+.5;if(sr<1){if(Mi<.3)throw new te;sr=1}else if(sr>8){if(Mi>8.7)throw new te;sr=8}let qa=yn/2;(yn&1)==0?(O[qa]=sr,V[qa]=Mi-sr):(F[qa]=sr,q[qa]=Mi-sr)}this.adjustOddEvenCounts(_);let Z=4*u.getValue()+(h?0:2)+(g?0:1)-1,ie=0,se=0;for(let yn=O.length-1;yn>=0;yn--){if(Ie.isNotA1left(u,h,g)){let Mi=Ie.WEIGHTS[Z][2*yn];se+=O[yn]*Mi}ie+=O[yn]}let fe=0;for(let yn=F.length-1;yn>=0;yn--)if(Ie.isNotA1left(u,h,g)){let Mi=Ie.WEIGHTS[Z][2*yn+1];fe+=F[yn]*Mi}let be=se+fe;if((ie&1)!=0||ie>13||ie<4)throw new te;let Pe=(13-ie)/2,ze=Ie.SYMBOL_WIDEST[Pe],Le=9-ze,Et=ge.getRSSvalue(O,ze,!0),Ct=ge.getRSSvalue(F,Le,!1),Xi=Ie.EVEN_TOTAL_SUBSET[Pe],Br=Ie.GSUM[Pe],rr=Et*Xi+Ct+Br;return new re(rr,be)}static isNotA1left(o,u,h){return!(o.getValue()==0&&u&&h)}adjustOddEvenCounts(o){let u=At.sum(new Int32Array(this.getOddCounts())),h=At.sum(new Int32Array(this.getEvenCounts())),g=!1,y=!1;u>13?y=!0:u<4&&(g=!0);let _=!1,C=!1;h>13?C=!0:h<4&&(_=!0);let N=u+h-o,O=(u&1)==1,F=(h&1)==0;if(N==1)if(O){if(F)throw new te;y=!0}else{if(!F)throw new te;C=!0}else if(N==-1)if(O){if(F)throw new te;g=!0}else{if(!F)throw new te;_=!0}else if(N==0){if(O){if(!F)throw new te;u<h?(g=!0,C=!0):(y=!0,_=!0)}else if(F)throw new te}else throw new te;if(g){if(y)throw new te;Ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&Ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(C)throw new te;Ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ie.SYMBOL_WIDEST=[7,5,4,3,1],Ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ie.GSUM=[0,348,1388,2948,3988],Ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ie.FINDER_PAT_A=0,Ie.FINDER_PAT_B=1,Ie.FINDER_PAT_C=2,Ie.FINDER_PAT_D=3,Ie.FINDER_PAT_E=4,Ie.FINDER_PAT_F=5,Ie.FINDER_PATTERN_SEQUENCES=[[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_C,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_C],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F]],Ie.MAX_PAIRS=11;class $s extends re{constructor(o,u,h){super(o,u),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class it extends Qn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,u,h){const g=this.decodePair(u,!1,o,h);it.addOrTally(this.possibleLeftPairs,g),u.reverse();let y=this.decodePair(u,!0,o,h);it.addOrTally(this.possibleRightPairs,y),u.reverse();for(let _ of this.possibleLeftPairs)if(_.getCount()>1){for(let C of this.possibleRightPairs)if(C.getCount()>1&&it.checkChecksum(_,C))return it.constructResult(_,C)}throw new te}static addOrTally(o,u){if(u==null)return;let h=!1;for(let g of o)if(g.getValue()===u.getValue()){g.incrementCount(),h=!0;break}h||o.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,u){let h=4537077*o.getValue()+u.getValue(),g=new String(h).toString(),y=new Ce;for(let O=13-g.length;O>0;O--)y.append("0");y.append(g);let _=0;for(let O=0;O<13;O++){let F=y.charAt(O).charCodeAt(0)-48;_+=(O&1)===0?3*F:F}_=10-_%10,_===10&&(_=0),y.append(_.toString());let C=o.getFinderPattern().getResultPoints(),N=u.getFinderPattern().getResultPoints();return new He(y.toString(),null,0,[C[0],C[1],N[0],N[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(o,u){let h=(o.getChecksumPortion()+16*u.getChecksumPortion())%79,g=9*o.getFinderPattern().getValue()+u.getFinderPattern().getValue();return g>72&&g--,g>8&&g--,h===g}decodePair(o,u,h,g){try{let y=this.findFinderPattern(o,u),_=this.parseFoundFinderPattern(o,h,u,y),C=g==null?null:g.get(P.NEED_RESULT_POINT_CALLBACK);if(C!=null){let F=(y[0]+y[1])/2;u&&(F=o.getSize()-1-F),C.foundPossibleResultPoint(new We(F,h))}let N=this.decodeDataCharacter(o,_,!0),O=this.decodeDataCharacter(o,_,!1);return new $s(1597*N.getValue()+O.getValue(),N.getChecksumPortion()+4*O.getChecksumPortion(),_)}catch{return null}}decodeDataCharacter(o,u,h){let g=this.getDataCharacterCounters();for(let fe=0;fe<g.length;fe++)g[fe]=0;if(h)on.recordPatternInReverse(o,u.getStartEnd()[0],g);else{on.recordPattern(o,u.getStartEnd()[1]+1,g);for(let fe=0,be=g.length-1;fe<be;fe++,be--){let Pe=g[fe];g[fe]=g[be],g[be]=Pe}}let y=h?16:15,_=At.sum(new Int32Array(g))/y,C=this.getOddCounts(),N=this.getEvenCounts(),O=this.getOddRoundingErrors(),F=this.getEvenRoundingErrors();for(let fe=0;fe<g.length;fe++){let be=g[fe]/_,Pe=Math.floor(be+.5);Pe<1?Pe=1:Pe>8&&(Pe=8);let ze=Math.floor(fe/2);(fe&1)===0?(C[ze]=Pe,O[ze]=be-Pe):(N[ze]=Pe,F[ze]=be-Pe)}this.adjustOddEvenCounts(h,y);let V=0,q=0;for(let fe=C.length-1;fe>=0;fe--)q*=9,q+=C[fe],V+=C[fe];let Z=0,ie=0;for(let fe=N.length-1;fe>=0;fe--)Z*=9,Z+=N[fe],ie+=N[fe];let se=q+3*Z;if(h){if((V&1)!==0||V>12||V<4)throw new te;let fe=(12-V)/2,be=it.OUTSIDE_ODD_WIDEST[fe],Pe=9-be,ze=ge.getRSSvalue(C,be,!1),Le=ge.getRSSvalue(N,Pe,!0),Et=it.OUTSIDE_EVEN_TOTAL_SUBSET[fe],Ct=it.OUTSIDE_GSUM[fe];return new re(ze*Et+Le+Ct,se)}else{if((ie&1)!==0||ie>10||ie<4)throw new te;let fe=(10-ie)/2,be=it.INSIDE_ODD_WIDEST[fe],Pe=9-be,ze=ge.getRSSvalue(C,be,!0),Le=ge.getRSSvalue(N,Pe,!1),Et=it.INSIDE_ODD_TOTAL_SUBSET[fe],Ct=it.INSIDE_GSUM[fe];return new re(Le*Et+ze+Ct,se)}}findFinderPattern(o,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=o.getSize(),y=!1,_=0;for(;_<g&&(y=!o.get(_),u!==y);)_++;let C=0,N=_;for(let O=_;O<g;O++)if(o.get(O)!==y)h[C]++;else{if(C===3){if(Qn.isFinderPattern(h))return[N,O];N+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,C--}else C++;h[C]=1,y=!y}throw new te}parseFoundFinderPattern(o,u,h,g){let y=o.get(g[0]),_=g[0]-1;for(;_>=0&&y!==o.get(_);)_--;_++;const C=g[0]-_,N=this.getDecodeFinderCounters(),O=new Int32Array(N.length);M.arraycopy(N,0,O,1,N.length-1),O[0]=C;const F=this.parseFinderValue(O,it.FINDER_PATTERNS);let V=_,q=g[1];return h&&(V=o.getSize()-1-V,q=o.getSize()-1-q),new de(F,[_,g[1]],V,q,u)}adjustOddEvenCounts(o,u){let h=At.sum(new Int32Array(this.getOddCounts())),g=At.sum(new Int32Array(this.getEvenCounts())),y=!1,_=!1,C=!1,N=!1;o?(h>12?_=!0:h<4&&(y=!0),g>12?N=!0:g<4&&(C=!0)):(h>11?_=!0:h<5&&(y=!0),g>10?N=!0:g<4&&(C=!0));let O=h+g-u,F=(h&1)===(o?1:0),V=(g&1)===1;if(O===1)if(F){if(V)throw new te;_=!0}else{if(!V)throw new te;N=!0}else if(O===-1)if(F){if(V)throw new te;y=!0}else{if(!V)throw new te;C=!0}else if(O===0){if(F){if(!V)throw new te;h<g?(y=!0,N=!0):(_=!0,C=!0)}else if(V)throw new te}else throw new te;if(y){if(_)throw new te;Qn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(_&&Qn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(N)throw new te;Qn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&Qn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],it.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],it.OUTSIDE_GSUM=[0,161,961,2015,2715],it.INSIDE_GSUM=[0,336,1036,1516],it.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],it.INSIDE_ODD_WIDEST=[2,4,6,8],it.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Vn extends on{constructor(o,u){super(),this.readers=[],this.verbose=u===!0;const h=o?o.get(P.POSSIBLE_FORMATS):null,g=o&&o.get(P.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(Ae.EAN_13)||h.includes(Ae.UPC_A)||h.includes(Ae.EAN_8)||h.includes(Ae.UPC_E))&&this.readers.push(new Fa(o)),h.includes(Ae.CODE_39)&&this.readers.push(new an(g)),h.includes(Ae.CODE_128)&&this.readers.push(new Ue),h.includes(Ae.ITF)&&this.readers.push(new jt),h.includes(Ae.RSS_14)&&this.readers.push(new it),h.includes(Ae.RSS_EXPANDED)&&this.readers.push(new Ie(this.verbose))):(this.readers.push(new Fa(o)),this.readers.push(new an),this.readers.push(new Fa(o)),this.readers.push(new Ue),this.readers.push(new jt),this.readers.push(new it),this.readers.push(new Ie(this.verbose)))}decodeRow(o,u,h){for(let g=0;g<this.readers.length;g++)try{return this.readers[g].decodeRow(o,u,h)}catch{}throw new te}reset(){this.readers.forEach(o=>o.reset())}}class Kr extends Oe{constructor(o=500,u){super(new Vn(u),o,u)}}class Nt{constructor(o,u,h){this.ecCodewords=o,this.ecBlocks=[u],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ft{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(o,u,h,g,y,_){this.versionNumber=o,this.symbolSizeRows=u,this.symbolSizeColumns=h,this.dataRegionSizeRows=g,this.dataRegionSizeColumns=y,this.ecBlocks=_;let C=0;const N=_.getECCodewords(),O=_.getECBlocks();for(let F of O)C+=F.getCount()*(F.getDataCodewords()+N);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,u){if((o&1)!==0||(u&1)!==0)throw new z;for(let h of rt.VERSIONS)if(h.symbolSizeRows===o&&h.symbolSizeColumns===u)return h;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new rt(1,10,10,8,8,new Nt(5,new Ft(1,3))),new rt(2,12,12,10,10,new Nt(7,new Ft(1,5))),new rt(3,14,14,12,12,new Nt(10,new Ft(1,8))),new rt(4,16,16,14,14,new Nt(12,new Ft(1,12))),new rt(5,18,18,16,16,new Nt(14,new Ft(1,18))),new rt(6,20,20,18,18,new Nt(18,new Ft(1,22))),new rt(7,22,22,20,20,new Nt(20,new Ft(1,30))),new rt(8,24,24,22,22,new Nt(24,new Ft(1,36))),new rt(9,26,26,24,24,new Nt(28,new Ft(1,44))),new rt(10,32,32,14,14,new Nt(36,new Ft(1,62))),new rt(11,36,36,16,16,new Nt(42,new Ft(1,86))),new rt(12,40,40,18,18,new Nt(48,new Ft(1,114))),new rt(13,44,44,20,20,new Nt(56,new Ft(1,144))),new rt(14,48,48,22,22,new Nt(68,new Ft(1,174))),new rt(15,52,52,24,24,new Nt(42,new Ft(2,102))),new rt(16,64,64,14,14,new Nt(56,new Ft(2,140))),new rt(17,72,72,16,16,new Nt(36,new Ft(4,92))),new rt(18,80,80,18,18,new Nt(48,new Ft(4,114))),new rt(19,88,88,20,20,new Nt(56,new Ft(4,144))),new rt(20,96,96,22,22,new Nt(68,new Ft(4,174))),new rt(21,104,104,24,24,new Nt(56,new Ft(6,136))),new rt(22,120,120,18,18,new Nt(68,new Ft(6,175))),new rt(23,132,132,20,20,new Nt(62,new Ft(8,163))),new rt(24,144,144,22,22,new Nt(62,new Ft(8,156),new Ft(2,155))),new rt(25,8,18,6,16,new Nt(7,new Ft(1,5))),new rt(26,8,32,6,14,new Nt(11,new Ft(1,10))),new rt(27,12,26,10,24,new Nt(14,new Ft(1,16))),new rt(28,12,36,10,16,new Nt(18,new Ft(1,22))),new rt(29,16,36,14,16,new Nt(24,new Ft(1,32))),new rt(30,16,48,14,22,new Nt(28,new Ft(1,49)))]}}rt.VERSIONS=rt.buildVersions();class bs{constructor(o){const u=o.getHeight();if(u<8||u>144||(u&1)!==0)throw new z;this.version=bs.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new Se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const u=o.getHeight(),h=o.getWidth();return rt.getVersionForDimensions(u,h)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let u=0,h=4,g=0;const y=this.mappingBitMatrix.getHeight(),_=this.mappingBitMatrix.getWidth();let C=!1,N=!1,O=!1,F=!1;do if(h===y&&g===0&&!C)o[u++]=this.readCorner1(y,_)&255,h-=2,g+=2,C=!0;else if(h===y-2&&g===0&&(_&3)!==0&&!N)o[u++]=this.readCorner2(y,_)&255,h-=2,g+=2,N=!0;else if(h===y+4&&g===2&&(_&7)===0&&!O)o[u++]=this.readCorner3(y,_)&255,h-=2,g+=2,O=!0;else if(h===y-2&&g===0&&(_&7)===4&&!F)o[u++]=this.readCorner4(y,_)&255,h-=2,g+=2,F=!0;else{do h<y&&g>=0&&!this.readMappingMatrix.get(g,h)&&(o[u++]=this.readUtah(h,g,y,_)&255),h-=2,g+=2;while(h>=0&&g<_);h+=1,g+=3;do h>=0&&g<_&&!this.readMappingMatrix.get(g,h)&&(o[u++]=this.readUtah(h,g,y,_)&255),h+=2,g-=2;while(h<y&&g>=0);h+=3,g+=1}while(h<y||g<_);if(u!==this.version.getTotalCodewords())throw new z;return o}readModule(o,u,h,g){return o<0&&(o+=h,u+=4-(h+4&7)),u<0&&(u+=g,o+=4-(g+4&7)),this.readMappingMatrix.set(u,o),this.mappingBitMatrix.get(u,o)}readUtah(o,u,h,g){let y=0;return this.readModule(o-2,u-2,h,g)&&(y|=1),y<<=1,this.readModule(o-2,u-1,h,g)&&(y|=1),y<<=1,this.readModule(o-1,u-2,h,g)&&(y|=1),y<<=1,this.readModule(o-1,u-1,h,g)&&(y|=1),y<<=1,this.readModule(o-1,u,h,g)&&(y|=1),y<<=1,this.readModule(o,u-2,h,g)&&(y|=1),y<<=1,this.readModule(o,u-1,h,g)&&(y|=1),y<<=1,this.readModule(o,u,h,g)&&(y|=1),y}readCorner1(o,u){let h=0;return this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,1,o,u)&&(h|=1),h<<=1,this.readModule(o-1,2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(2,u-1,o,u)&&(h|=1),h<<=1,this.readModule(3,u-1,o,u)&&(h|=1),h}readCorner2(o,u){let h=0;return this.readModule(o-3,0,o,u)&&(h|=1),h<<=1,this.readModule(o-2,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(0,u-4,o,u)&&(h|=1),h<<=1,this.readModule(0,u-3,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h}readCorner3(o,u){let h=0;return this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(0,u-3,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-3,o,u)&&(h|=1),h<<=1,this.readModule(1,u-2,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h}readCorner4(o,u){let h=0;return this.readModule(o-3,0,o,u)&&(h|=1),h<<=1,this.readModule(o-2,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(2,u-1,o,u)&&(h|=1),h<<=1,this.readModule(3,u-1,o,u)&&(h|=1),h}extractDataRegion(o){const u=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(o.getHeight()!==u)throw new w("Dimension of bitMatrix must match the version size");const g=this.version.getDataRegionSizeRows(),y=this.version.getDataRegionSizeColumns(),_=u/g|0,C=h/y|0,N=_*g,O=C*y,F=new Se(O,N);for(let V=0;V<_;++V){const q=V*g;for(let Z=0;Z<C;++Z){const ie=Z*y;for(let se=0;se<g;++se){const fe=V*(g+2)+1+se,be=q+se;for(let Pe=0;Pe<y;++Pe){const ze=Z*(y+2)+1+Pe;if(o.get(ze,fe)){const Le=ie+Pe;F.set(Le,be)}}}}}return F}}class Ha{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u){const h=u.getECBlocks();let g=0;const y=h.getECBlocks();for(let se of y)g+=se.getCount();const _=new Array(g);let C=0;for(let se of y)for(let fe=0;fe<se.getCount();fe++){const be=se.getDataCodewords(),Pe=h.getECCodewords()+be;_[C++]=new Ha(be,new Uint8Array(Pe))}const O=_[0].codewords.length-h.getECCodewords(),F=O-1;let V=0;for(let se=0;se<F;se++)for(let fe=0;fe<C;fe++)_[fe].codewords[se]=o[V++];const q=u.getVersionNumber()===24,Z=q?8:C;for(let se=0;se<Z;se++)_[se].codewords[O-1]=o[V++];const ie=_[0].codewords.length;for(let se=O;se<ie;se++)for(let fe=0;fe<C;fe++){const be=q?(fe+8)%C:fe,Pe=q&&be>7?se-1:se;_[be].codewords[Pe]=o[V++]}if(V!==o.length)throw new w;return _}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Li{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new w(""+o);let u=0,h=this.bitOffset,g=this.byteOffset;const y=this.bytes;if(h>0){const _=8-h,C=o<_?o:_,N=_-C,O=255>>8-C<<N;u=(y[g]&O)>>N,o-=C,h+=C,h===8&&(h=0,g++)}if(o>0){for(;o>=8;)u=u<<8|y[g]&255,g++,o-=8;if(o>0){const _=8-o,C=255>>_<<_;u=u<<o|(y[g]&C)>>_,h+=o}}return this.bitOffset=h,this.byteOffset=g,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Jn;(function($){$[$.PAD_ENCODE=0]="PAD_ENCODE",$[$.ASCII_ENCODE=1]="ASCII_ENCODE",$[$.C40_ENCODE=2]="C40_ENCODE",$[$.TEXT_ENCODE=3]="TEXT_ENCODE",$[$.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",$[$.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",$[$.BASE256_ENCODE=6]="BASE256_ENCODE"})(Jn||(Jn={}));class oa{static decode(o){const u=new Li(o),h=new Ce,g=new Ce,y=new Array;let _=Jn.ASCII_ENCODE;do if(_===Jn.ASCII_ENCODE)_=this.decodeAsciiSegment(u,h,g);else{switch(_){case Jn.C40_ENCODE:this.decodeC40Segment(u,h);break;case Jn.TEXT_ENCODE:this.decodeTextSegment(u,h);break;case Jn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,h);break;case Jn.EDIFACT_ENCODE:this.decodeEdifactSegment(u,h);break;case Jn.BASE256_ENCODE:this.decodeBase256Segment(u,h,y);break;default:throw new z}_=Jn.ASCII_ENCODE}while(_!==Jn.PAD_ENCODE&&u.available()>0);return g.length()>0&&h.append(g.toString()),new oi(o,h.toString(),y.length===0?null:y,null)}static decodeAsciiSegment(o,u,h){let g=!1;do{let y=o.readBits(8);if(y===0)throw new z;if(y<=128)return g&&(y+=128),u.append(String.fromCharCode(y-1)),Jn.ASCII_ENCODE;if(y===129)return Jn.PAD_ENCODE;if(y<=229){const _=y-130;_<10&&u.append("0"),u.append(""+_)}else switch(y){case 230:return Jn.C40_ENCODE;case 231:return Jn.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:g=!0;break;case 236:u.append("[)>05"),h.insert(0,"");break;case 237:u.append("[)>06"),h.insert(0,"");break;case 238:return Jn.ANSIX12_ENCODE;case 239:return Jn.TEXT_ENCODE;case 240:return Jn.EDIFACT_ENCODE;case 241:break;default:if(y!==254||o.available()!==0)throw new z;break}}while(o.available()>0);return Jn.ASCII_ENCODE}static decodeC40Segment(o,u){let h=!1;const g=[];let y=0;do{if(o.available()===8)return;const _=o.readBits(8);if(_===254)return;this.parseTwoBytes(_,o.readBits(8),g);for(let C=0;C<3;C++){const N=g[C];switch(y){case 0:if(N<3)y=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const O=this.C40_BASIC_SET_CHARS[N];h?(u.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):u.append(O)}else throw new z;break;case 1:h?(u.append(String.fromCharCode(N+128)),h=!1):u.append(String.fromCharCode(N)),y=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const O=this.C40_SHIFT2_SET_CHARS[N];h?(u.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):u.append(O)}else switch(N){case 27:u.append("");break;case 30:h=!0;break;default:throw new z}y=0;break;case 3:h?(u.append(String.fromCharCode(N+224)),h=!1):u.append(String.fromCharCode(N+96)),y=0;break;default:throw new z}}}while(o.available()>0)}static decodeTextSegment(o,u){let h=!1,g=[],y=0;do{if(o.available()===8)return;const _=o.readBits(8);if(_===254)return;this.parseTwoBytes(_,o.readBits(8),g);for(let C=0;C<3;C++){const N=g[C];switch(y){case 0:if(N<3)y=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const O=this.TEXT_BASIC_SET_CHARS[N];h?(u.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):u.append(O)}else throw new z;break;case 1:h?(u.append(String.fromCharCode(N+128)),h=!1):u.append(String.fromCharCode(N)),y=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const O=this.TEXT_SHIFT2_SET_CHARS[N];h?(u.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):u.append(O)}else switch(N){case 27:u.append("");break;case 30:h=!0;break;default:throw new z}y=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const O=this.TEXT_SHIFT3_SET_CHARS[N];h?(u.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):u.append(O),y=0}else throw new z;break;default:throw new z}}}while(o.available()>0)}static decodeAnsiX12Segment(o,u){const h=[];do{if(o.available()===8)return;const g=o.readBits(8);if(g===254)return;this.parseTwoBytes(g,o.readBits(8),h);for(let y=0;y<3;y++){const _=h[y];switch(_){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(_<14)u.append(String.fromCharCode(_+44));else if(_<40)u.append(String.fromCharCode(_+51));else throw new z;break}}}while(o.available()>0)}static parseTwoBytes(o,u,h){let g=(o<<8)+u-1,y=Math.floor(g/1600);h[0]=y,g-=y*1600,y=Math.floor(g/40),h[1]=y,h[2]=g-y*40}static decodeEdifactSegment(o,u){do{if(o.available()<=16)return;for(let h=0;h<4;h++){let g=o.readBits(6);if(g===31){const y=8-o.getBitOffset();y!==8&&o.readBits(y);return}(g&32)===0&&(g|=64),u.append(String.fromCharCode(g))}}while(o.available()>0)}static decodeBase256Segment(o,u,h){let g=1+o.getByteOffset();const y=this.unrandomize255State(o.readBits(8),g++);let _;if(y===0?_=o.available()/8|0:y<250?_=y:_=250*(y-249)+this.unrandomize255State(o.readBits(8),g++),_<0)throw new z;const C=new Uint8Array(_);for(let N=0;N<_;N++){if(o.available()<8)throw new z;C[N]=this.unrandomize255State(o.readBits(8),g++)}h.push(C);try{u.append(ee.decode(C,oe.ISO88591))}catch(N){throw new qi("Platform does not support required encoding: "+N.message)}}static unrandomize255State(o,u){const h=149*u%255+1,g=o-h;return g>=0?g:g+256}}oa.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],oa.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],oa.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],oa.TEXT_SHIFT2_SET_CHARS=oa.C40_SHIFT2_SET_CHARS,oa.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class au{constructor(){this.rsDecoder=new xs(Ot.DATA_MATRIX_FIELD_256)}decode(o){const u=new bs(o),h=u.getVersion(),g=u.readCodewords(),y=Ha.getDataBlocks(g,h);let _=0;for(let O of y)_+=O.getNumDataCodewords();const C=new Uint8Array(_),N=y.length;for(let O=0;O<N;O++){const F=y[O],V=F.getCodewords(),q=F.getNumDataCodewords();this.correctErrors(V,q);for(let Z=0;Z<q;Z++)C[Z*N+O]=V[Z]}return oa.decode(C)}correctErrors(o,u){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-u)}catch{throw new E}for(let g=0;g<u;g++)o[g]=h[g]}}class Pn{constructor(o){this.image=o,this.rectangleDetector=new Ve(this.image)}detect(){const o=this.rectangleDetector.detect();let u=this.detectSolid1(o);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new te;u=this.shiftToModuleCenter(u);const h=u[0],g=u[1],y=u[2],_=u[3];let C=this.transitionsBetween(h,_)+1,N=this.transitionsBetween(y,_)+1;(C&1)===1&&(C+=1),(N&1)===1&&(N+=1),4*C<7*N&&4*N<7*C&&(C=N=Math.max(C,N));let O=Pn.sampleGrid(this.image,h,g,y,_,C,N);return new tr(O,[h,g,y,_])}static shiftPoint(o,u,h){let g=(u.getX()-o.getX())/(h+1),y=(u.getY()-o.getY())/(h+1);return new We(o.getX()+g,o.getY()+y)}static moveAway(o,u,h){let g=o.getX(),y=o.getY();return g<u?g-=1:g+=1,y<h?y-=1:y+=1,new We(g,y)}detectSolid1(o){let u=o[0],h=o[1],g=o[3],y=o[2],_=this.transitionsBetween(u,h),C=this.transitionsBetween(h,g),N=this.transitionsBetween(g,y),O=this.transitionsBetween(y,u),F=_,V=[y,u,h,g];return F>C&&(F=C,V[0]=u,V[1]=h,V[2]=g,V[3]=y),F>N&&(F=N,V[0]=h,V[1]=g,V[2]=y,V[3]=u),F>O&&(V[0]=g,V[1]=y,V[2]=u,V[3]=h),V}detectSolid2(o){let u=o[0],h=o[1],g=o[2],y=o[3],_=this.transitionsBetween(u,y),C=Pn.shiftPoint(h,g,(_+1)*4),N=Pn.shiftPoint(g,h,(_+1)*4),O=this.transitionsBetween(C,u),F=this.transitionsBetween(N,y);return O<F?(o[0]=u,o[1]=h,o[2]=g,o[3]=y):(o[0]=h,o[1]=g,o[2]=y,o[3]=u),o}correctTopRight(o){let u=o[0],h=o[1],g=o[2],y=o[3],_=this.transitionsBetween(u,y),C=this.transitionsBetween(h,y),N=Pn.shiftPoint(u,h,(C+1)*4),O=Pn.shiftPoint(g,h,(_+1)*4);_=this.transitionsBetween(N,y),C=this.transitionsBetween(O,y);let F=new We(y.getX()+(g.getX()-h.getX())/(_+1),y.getY()+(g.getY()-h.getY())/(_+1)),V=new We(y.getX()+(u.getX()-h.getX())/(C+1),y.getY()+(u.getY()-h.getY())/(C+1));if(!this.isValid(F))return this.isValid(V)?V:null;if(!this.isValid(V))return F;let q=this.transitionsBetween(N,F)+this.transitionsBetween(O,F),Z=this.transitionsBetween(N,V)+this.transitionsBetween(O,V);return q>Z?F:V}shiftToModuleCenter(o){let u=o[0],h=o[1],g=o[2],y=o[3],_=this.transitionsBetween(u,y)+1,C=this.transitionsBetween(g,y)+1,N=Pn.shiftPoint(u,h,C*4),O=Pn.shiftPoint(g,h,_*4);_=this.transitionsBetween(N,y)+1,C=this.transitionsBetween(O,y)+1,(_&1)===1&&(_+=1),(C&1)===1&&(C+=1);let F=(u.getX()+h.getX()+g.getX()+y.getX())/4,V=(u.getY()+h.getY()+g.getY()+y.getY())/4;u=Pn.moveAway(u,F,V),h=Pn.moveAway(h,F,V),g=Pn.moveAway(g,F,V),y=Pn.moveAway(y,F,V);let q,Z;return N=Pn.shiftPoint(u,h,C*4),N=Pn.shiftPoint(N,y,_*4),q=Pn.shiftPoint(h,u,C*4),q=Pn.shiftPoint(q,g,_*4),O=Pn.shiftPoint(g,y,C*4),O=Pn.shiftPoint(O,h,_*4),Z=Pn.shiftPoint(y,g,C*4),Z=Pn.shiftPoint(Z,u,_*4),[N,q,O,Z]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,u,h,g,y,_,C){return nn.getInstance().sampleGrid(o,_,C,.5,.5,_-.5,.5,_-.5,C-.5,.5,C-.5,u.getX(),u.getY(),y.getX(),y.getY(),g.getX(),g.getY(),h.getX(),h.getY())}transitionsBetween(o,u){let h=Math.trunc(o.getX()),g=Math.trunc(o.getY()),y=Math.trunc(u.getX()),_=Math.trunc(u.getY()),C=Math.abs(_-g)>Math.abs(y-h);if(C){let se=h;h=g,g=se,se=y,y=_,_=se}let N=Math.abs(y-h),O=Math.abs(_-g),F=-N/2,V=g<_?1:-1,q=h<y?1:-1,Z=0,ie=this.image.get(C?g:h,C?h:g);for(let se=h,fe=g;se!==y;se+=q){let be=this.image.get(C?fe:se,C?se:fe);if(be!==ie&&(Z++,ie=be),F+=O,F>0){if(fe===_)break;fe+=V,F-=N}}return Z}}class Zr{constructor(){this.decoder=new au}decode(o,u=null){let h,g;if(u!=null&&u.has(P.PURE_BARCODE)){const O=Zr.extractPureBits(o.getBlackMatrix());h=this.decoder.decode(O),g=Zr.NO_POINTS}else{const O=new Pn(o.getBlackMatrix()).detect();h=this.decoder.decode(O.getBits()),g=O.getPoints()}const y=h.getRawBytes(),_=new He(h.getText(),y,8*y.length,g,Ae.DATA_MATRIX,M.currentTimeMillis()),C=h.getByteSegments();C!=null&&_.putMetadata(gt.BYTE_SEGMENTS,C);const N=h.getECLevel();return N!=null&&_.putMetadata(gt.ERROR_CORRECTION_LEVEL,N),_}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(u==null||h==null)throw new te;const g=this.moduleSize(u,o);let y=u[1];const _=h[1];let C=u[0];const O=(h[0]-C+1)/g,F=(_-y+1)/g;if(O<=0||F<=0)throw new te;const V=g/2;y+=V,C+=V;const q=new Se(O,F);for(let Z=0;Z<F;Z++){const ie=y+Z*g;for(let se=0;se<O;se++)o.get(C+se*g,ie)&&q.set(se,Z)}return q}static moduleSize(o,u){const h=u.getWidth();let g=o[0];const y=o[1];for(;g<h&&u.get(g,y);)g++;if(g===h)throw new te;const _=g-o[0];if(_===0)throw new te;return _}}Zr.NO_POINTS=[];class I0 extends Oe{constructor(o=500){super(new Zr,o)}}var Ti;(function($){$[$.L=0]="L",$[$.M=1]="M",$[$.Q=2]="Q",$[$.H=3]="H"})(Ti||(Ti={}));class hn{constructor(o,u,h){this.value=o,this.stringValue=u,this.bits=h,hn.FOR_BITS.set(h,this),hn.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return hn.L;case"M":return hn.M;case"Q":return hn.Q;case"H":return hn.H;default:throw new b(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof hn))return!1;const u=o;return this.value===u.value}static forBits(o){if(o<0||o>=hn.FOR_BITS.size)throw new w;return hn.FOR_BITS.get(o)}}hn.FOR_BITS=new Map,hn.FOR_VALUE=new Map,hn.L=new hn(Ti.L,"L",1),hn.M=new hn(Ti.M,"M",0),hn.Q=new hn(Ti.Q,"Q",3),hn.H=new hn(Ti.H,"H",2);class Ni{constructor(o){this.errorCorrectionLevel=hn.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,u){return L.bitCount(o^u)}static decodeFormatInformation(o,u){const h=Ni.doDecodeFormatInformation(o,u);return h!==null?h:Ni.doDecodeFormatInformation(o^Ni.FORMAT_INFO_MASK_QR,u^Ni.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,u){let h=Number.MAX_SAFE_INTEGER,g=0;for(const y of Ni.FORMAT_INFO_DECODE_LOOKUP){const _=y[0];if(_===o||_===u)return new Ni(y[1]);let C=Ni.numBitsDiffering(o,_);C<h&&(g=y[1],h=C),o!==u&&(C=Ni.numBitsDiffering(u,_),C<h&&(g=y[1],h=C))}return h<=3?new Ni(g):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof Ni))return!1;const u=o;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}Ni.FORMAT_INFO_MASK_QR=21522,Ni.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class he{constructor(o,...u){this.ecCodewordsPerBlock=o,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const u=this.ecBlocks;for(const h of u)o+=h.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Y{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class st{constructor(o,u,...h){this.versionNumber=o,this.alignmentPatternCenters=u,this.ecBlocks=h;let g=0;const y=h[0].getECCodewordsPerBlock(),_=h[0].getECBlocks();for(const C of _)g+=C.getCount()*(C.getDataCodewords()+y);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new z;try{return this.getVersionForNumber((o-17)/4)}catch{throw new z}}static getVersionForNumber(o){if(o<1||o>40)throw new w;return st.VERSIONS[o-1]}static decodeVersionInformation(o){let u=Number.MAX_SAFE_INTEGER,h=0;for(let g=0;g<st.VERSION_DECODE_INFO.length;g++){const y=st.VERSION_DECODE_INFO[g];if(y===o)return st.getVersionForNumber(g+7);const _=Ni.numBitsDiffering(o,y);_<u&&(h=g+7,u=_)}return u<=3?st.getVersionForNumber(h):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),u=new Se(o);u.setRegion(0,0,9,9),u.setRegion(o-8,0,8,9),u.setRegion(0,o-8,9,8);const h=this.alignmentPatternCenters.length;for(let g=0;g<h;g++){const y=this.alignmentPatternCenters[g]-2;for(let _=0;_<h;_++)g===0&&(_===0||_===h-1)||g===h-1&&_===0||u.setRegion(this.alignmentPatternCenters[_]-2,y,5,5)}return u.setRegion(6,9,1,o-17),u.setRegion(9,6,o-17,1),this.versionNumber>6&&(u.setRegion(o-11,0,3,6),u.setRegion(0,o-11,6,3)),u}toString(){return""+this.versionNumber}}st.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),st.VERSIONS=[new st(1,new Int32Array(0),new he(7,new Y(1,19)),new he(10,new Y(1,16)),new he(13,new Y(1,13)),new he(17,new Y(1,9))),new st(2,Int32Array.from([6,18]),new he(10,new Y(1,34)),new he(16,new Y(1,28)),new he(22,new Y(1,22)),new he(28,new Y(1,16))),new st(3,Int32Array.from([6,22]),new he(15,new Y(1,55)),new he(26,new Y(1,44)),new he(18,new Y(2,17)),new he(22,new Y(2,13))),new st(4,Int32Array.from([6,26]),new he(20,new Y(1,80)),new he(18,new Y(2,32)),new he(26,new Y(2,24)),new he(16,new Y(4,9))),new st(5,Int32Array.from([6,30]),new he(26,new Y(1,108)),new he(24,new Y(2,43)),new he(18,new Y(2,15),new Y(2,16)),new he(22,new Y(2,11),new Y(2,12))),new st(6,Int32Array.from([6,34]),new he(18,new Y(2,68)),new he(16,new Y(4,27)),new he(24,new Y(4,19)),new he(28,new Y(4,15))),new st(7,Int32Array.from([6,22,38]),new he(20,new Y(2,78)),new he(18,new Y(4,31)),new he(18,new Y(2,14),new Y(4,15)),new he(26,new Y(4,13),new Y(1,14))),new st(8,Int32Array.from([6,24,42]),new he(24,new Y(2,97)),new he(22,new Y(2,38),new Y(2,39)),new he(22,new Y(4,18),new Y(2,19)),new he(26,new Y(4,14),new Y(2,15))),new st(9,Int32Array.from([6,26,46]),new he(30,new Y(2,116)),new he(22,new Y(3,36),new Y(2,37)),new he(20,new Y(4,16),new Y(4,17)),new he(24,new Y(4,12),new Y(4,13))),new st(10,Int32Array.from([6,28,50]),new he(18,new Y(2,68),new Y(2,69)),new he(26,new Y(4,43),new Y(1,44)),new he(24,new Y(6,19),new Y(2,20)),new he(28,new Y(6,15),new Y(2,16))),new st(11,Int32Array.from([6,30,54]),new he(20,new Y(4,81)),new he(30,new Y(1,50),new Y(4,51)),new he(28,new Y(4,22),new Y(4,23)),new he(24,new Y(3,12),new Y(8,13))),new st(12,Int32Array.from([6,32,58]),new he(24,new Y(2,92),new Y(2,93)),new he(22,new Y(6,36),new Y(2,37)),new he(26,new Y(4,20),new Y(6,21)),new he(28,new Y(7,14),new Y(4,15))),new st(13,Int32Array.from([6,34,62]),new he(26,new Y(4,107)),new he(22,new Y(8,37),new Y(1,38)),new he(24,new Y(8,20),new Y(4,21)),new he(22,new Y(12,11),new Y(4,12))),new st(14,Int32Array.from([6,26,46,66]),new he(30,new Y(3,115),new Y(1,116)),new he(24,new Y(4,40),new Y(5,41)),new he(20,new Y(11,16),new Y(5,17)),new he(24,new Y(11,12),new Y(5,13))),new st(15,Int32Array.from([6,26,48,70]),new he(22,new Y(5,87),new Y(1,88)),new he(24,new Y(5,41),new Y(5,42)),new he(30,new Y(5,24),new Y(7,25)),new he(24,new Y(11,12),new Y(7,13))),new st(16,Int32Array.from([6,26,50,74]),new he(24,new Y(5,98),new Y(1,99)),new he(28,new Y(7,45),new Y(3,46)),new he(24,new Y(15,19),new Y(2,20)),new he(30,new Y(3,15),new Y(13,16))),new st(17,Int32Array.from([6,30,54,78]),new he(28,new Y(1,107),new Y(5,108)),new he(28,new Y(10,46),new Y(1,47)),new he(28,new Y(1,22),new Y(15,23)),new he(28,new Y(2,14),new Y(17,15))),new st(18,Int32Array.from([6,30,56,82]),new he(30,new Y(5,120),new Y(1,121)),new he(26,new Y(9,43),new Y(4,44)),new he(28,new Y(17,22),new Y(1,23)),new he(28,new Y(2,14),new Y(19,15))),new st(19,Int32Array.from([6,30,58,86]),new he(28,new Y(3,113),new Y(4,114)),new he(26,new Y(3,44),new Y(11,45)),new he(26,new Y(17,21),new Y(4,22)),new he(26,new Y(9,13),new Y(16,14))),new st(20,Int32Array.from([6,34,62,90]),new he(28,new Y(3,107),new Y(5,108)),new he(26,new Y(3,41),new Y(13,42)),new he(30,new Y(15,24),new Y(5,25)),new he(28,new Y(15,15),new Y(10,16))),new st(21,Int32Array.from([6,28,50,72,94]),new he(28,new Y(4,116),new Y(4,117)),new he(26,new Y(17,42)),new he(28,new Y(17,22),new Y(6,23)),new he(30,new Y(19,16),new Y(6,17))),new st(22,Int32Array.from([6,26,50,74,98]),new he(28,new Y(2,111),new Y(7,112)),new he(28,new Y(17,46)),new he(30,new Y(7,24),new Y(16,25)),new he(24,new Y(34,13))),new st(23,Int32Array.from([6,30,54,78,102]),new he(30,new Y(4,121),new Y(5,122)),new he(28,new Y(4,47),new Y(14,48)),new he(30,new Y(11,24),new Y(14,25)),new he(30,new Y(16,15),new Y(14,16))),new st(24,Int32Array.from([6,28,54,80,106]),new he(30,new Y(6,117),new Y(4,118)),new he(28,new Y(6,45),new Y(14,46)),new he(30,new Y(11,24),new Y(16,25)),new he(30,new Y(30,16),new Y(2,17))),new st(25,Int32Array.from([6,32,58,84,110]),new he(26,new Y(8,106),new Y(4,107)),new he(28,new Y(8,47),new Y(13,48)),new he(30,new Y(7,24),new Y(22,25)),new he(30,new Y(22,15),new Y(13,16))),new st(26,Int32Array.from([6,30,58,86,114]),new he(28,new Y(10,114),new Y(2,115)),new he(28,new Y(19,46),new Y(4,47)),new he(28,new Y(28,22),new Y(6,23)),new he(30,new Y(33,16),new Y(4,17))),new st(27,Int32Array.from([6,34,62,90,118]),new he(30,new Y(8,122),new Y(4,123)),new he(28,new Y(22,45),new Y(3,46)),new he(30,new Y(8,23),new Y(26,24)),new he(30,new Y(12,15),new Y(28,16))),new st(28,Int32Array.from([6,26,50,74,98,122]),new he(30,new Y(3,117),new Y(10,118)),new he(28,new Y(3,45),new Y(23,46)),new he(30,new Y(4,24),new Y(31,25)),new he(30,new Y(11,15),new Y(31,16))),new st(29,Int32Array.from([6,30,54,78,102,126]),new he(30,new Y(7,116),new Y(7,117)),new he(28,new Y(21,45),new Y(7,46)),new he(30,new Y(1,23),new Y(37,24)),new he(30,new Y(19,15),new Y(26,16))),new st(30,Int32Array.from([6,26,52,78,104,130]),new he(30,new Y(5,115),new Y(10,116)),new he(28,new Y(19,47),new Y(10,48)),new he(30,new Y(15,24),new Y(25,25)),new he(30,new Y(23,15),new Y(25,16))),new st(31,Int32Array.from([6,30,56,82,108,134]),new he(30,new Y(13,115),new Y(3,116)),new he(28,new Y(2,46),new Y(29,47)),new he(30,new Y(42,24),new Y(1,25)),new he(30,new Y(23,15),new Y(28,16))),new st(32,Int32Array.from([6,34,60,86,112,138]),new he(30,new Y(17,115)),new he(28,new Y(10,46),new Y(23,47)),new he(30,new Y(10,24),new Y(35,25)),new he(30,new Y(19,15),new Y(35,16))),new st(33,Int32Array.from([6,30,58,86,114,142]),new he(30,new Y(17,115),new Y(1,116)),new he(28,new Y(14,46),new Y(21,47)),new he(30,new Y(29,24),new Y(19,25)),new he(30,new Y(11,15),new Y(46,16))),new st(34,Int32Array.from([6,34,62,90,118,146]),new he(30,new Y(13,115),new Y(6,116)),new he(28,new Y(14,46),new Y(23,47)),new he(30,new Y(44,24),new Y(7,25)),new he(30,new Y(59,16),new Y(1,17))),new st(35,Int32Array.from([6,30,54,78,102,126,150]),new he(30,new Y(12,121),new Y(7,122)),new he(28,new Y(12,47),new Y(26,48)),new he(30,new Y(39,24),new Y(14,25)),new he(30,new Y(22,15),new Y(41,16))),new st(36,Int32Array.from([6,24,50,76,102,128,154]),new he(30,new Y(6,121),new Y(14,122)),new he(28,new Y(6,47),new Y(34,48)),new he(30,new Y(46,24),new Y(10,25)),new he(30,new Y(2,15),new Y(64,16))),new st(37,Int32Array.from([6,28,54,80,106,132,158]),new he(30,new Y(17,122),new Y(4,123)),new he(28,new Y(29,46),new Y(14,47)),new he(30,new Y(49,24),new Y(10,25)),new he(30,new Y(24,15),new Y(46,16))),new st(38,Int32Array.from([6,32,58,84,110,136,162]),new he(30,new Y(4,122),new Y(18,123)),new he(28,new Y(13,46),new Y(32,47)),new he(30,new Y(48,24),new Y(14,25)),new he(30,new Y(42,15),new Y(32,16))),new st(39,Int32Array.from([6,26,54,82,110,138,166]),new he(30,new Y(20,117),new Y(4,118)),new he(28,new Y(40,47),new Y(7,48)),new he(30,new Y(43,24),new Y(22,25)),new he(30,new Y(10,15),new Y(67,16))),new st(40,Int32Array.from([6,30,58,86,114,142,170]),new he(30,new Y(19,118),new Y(6,119)),new he(28,new Y(18,47),new Y(31,48)),new he(30,new Y(34,24),new Y(34,25)),new he(30,new Y(20,15),new Y(61,16)))];var ci;(function($){$[$.DATA_MASK_000=0]="DATA_MASK_000",$[$.DATA_MASK_001=1]="DATA_MASK_001",$[$.DATA_MASK_010=2]="DATA_MASK_010",$[$.DATA_MASK_011=3]="DATA_MASK_011",$[$.DATA_MASK_100=4]="DATA_MASK_100",$[$.DATA_MASK_101=5]="DATA_MASK_101",$[$.DATA_MASK_110=6]="DATA_MASK_110",$[$.DATA_MASK_111=7]="DATA_MASK_111"})(ci||(ci={}));class Ii{constructor(o,u){this.value=o,this.isMasked=u}unmaskBitMatrix(o,u){for(let h=0;h<u;h++)for(let g=0;g<u;g++)this.isMasked(h,g)&&o.flip(g,h)}}Ii.values=new Map([[ci.DATA_MASK_000,new Ii(ci.DATA_MASK_000,($,o)=>($+o&1)===0)],[ci.DATA_MASK_001,new Ii(ci.DATA_MASK_001,($,o)=>($&1)===0)],[ci.DATA_MASK_010,new Ii(ci.DATA_MASK_010,($,o)=>o%3===0)],[ci.DATA_MASK_011,new Ii(ci.DATA_MASK_011,($,o)=>($+o)%3===0)],[ci.DATA_MASK_100,new Ii(ci.DATA_MASK_100,($,o)=>(Math.floor($/2)+Math.floor(o/3)&1)===0)],[ci.DATA_MASK_101,new Ii(ci.DATA_MASK_101,($,o)=>$*o%6===0)],[ci.DATA_MASK_110,new Ii(ci.DATA_MASK_110,($,o)=>$*o%6<3)],[ci.DATA_MASK_111,new Ii(ci.DATA_MASK_111,($,o)=>($+o+$*o%3&1)===0)]]);class k0{constructor(o){const u=o.getHeight();if(u<21||(u&3)!==1)throw new z;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let y=0;y<6;y++)o=this.copyBit(y,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let y=5;y>=0;y--)o=this.copyBit(8,y,o);const u=this.bitMatrix.getHeight();let h=0;const g=u-7;for(let y=u-1;y>=g;y--)h=this.copyBit(8,y,h);for(let y=u-8;y<u;y++)h=this.copyBit(y,8,h);if(this.parsedFormatInfo=Ni.decodeFormatInformation(o,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),u=Math.floor((o-17)/4);if(u<=6)return st.getVersionForNumber(u);let h=0;const g=o-11;for(let _=5;_>=0;_--)for(let C=o-9;C>=g;C--)h=this.copyBit(C,_,h);let y=st.decodeVersionInformation(h);if(y!==null&&y.getDimensionForVersion()===o)return this.parsedVersion=y,y;h=0;for(let _=5;_>=0;_--)for(let C=o-9;C>=g;C--)h=this.copyBit(_,C,h);if(y=st.decodeVersionInformation(h),y!==null&&y.getDimensionForVersion()===o)return this.parsedVersion=y,y;throw new z}copyBit(o,u,h){return(this.isMirror?this.bitMatrix.get(u,o):this.bitMatrix.get(o,u))?h<<1|1:h<<1}readCodewords(){const o=this.readFormatInformation(),u=this.readVersion(),h=Ii.values.get(o.getDataMask()),g=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,g);const y=u.buildFunctionPattern();let _=!0;const C=new Uint8Array(u.getTotalCodewords());let N=0,O=0,F=0;for(let V=g-1;V>0;V-=2){V===6&&V--;for(let q=0;q<g;q++){const Z=_?g-1-q:q;for(let ie=0;ie<2;ie++)y.get(V-ie,Z)||(F++,O<<=1,this.bitMatrix.get(V-ie,Z)&&(O|=1),F===8&&(C[N++]=O,F=0,O=0))}_=!_}if(N!==u.getTotalCodewords())throw new z;return C}remask(){if(this.parsedFormatInfo===null)return;const o=Ii.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let u=0,h=o.getWidth();u<h;u++)for(let g=u+1,y=o.getHeight();g<y;g++)o.get(u,g)!==o.get(g,u)&&(o.flip(g,u),o.flip(u,g))}}class ou{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u,h){if(o.length!==u.getTotalCodewords())throw new w;const g=u.getECBlocksForLevel(h);let y=0;const _=g.getECBlocks();for(const ie of _)y+=ie.getCount();const C=new Array(y);let N=0;for(const ie of _)for(let se=0;se<ie.getCount();se++){const fe=ie.getDataCodewords(),be=g.getECCodewordsPerBlock()+fe;C[N++]=new ou(fe,new Uint8Array(be))}const O=C[0].codewords.length;let F=C.length-1;for(;F>=0&&C[F].codewords.length!==O;)F--;F++;const V=O-g.getECCodewordsPerBlock();let q=0;for(let ie=0;ie<V;ie++)for(let se=0;se<N;se++)C[se].codewords[ie]=o[q++];for(let ie=F;ie<N;ie++)C[ie].codewords[V]=o[q++];const Z=C[0].codewords.length;for(let ie=V;ie<Z;ie++)for(let se=0;se<N;se++){const fe=se<F?ie:ie+1;C[se].codewords[fe]=o[q++]}return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var xr;(function($){$[$.TERMINATOR=0]="TERMINATOR",$[$.NUMERIC=1]="NUMERIC",$[$.ALPHANUMERIC=2]="ALPHANUMERIC",$[$.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",$[$.BYTE=4]="BYTE",$[$.ECI=5]="ECI",$[$.KANJI=6]="KANJI",$[$.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",$[$.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",$[$.HANZI=9]="HANZI"})(xr||(xr={}));class ct{constructor(o,u,h,g){this.value=o,this.stringValue=u,this.characterCountBitsForVersions=h,this.bits=g,ct.FOR_BITS.set(g,this),ct.FOR_VALUE.set(o,this)}static forBits(o){const u=ct.FOR_BITS.get(o);if(u===void 0)throw new w;return u}getCharacterCountBits(o){const u=o.getVersionNumber();let h;return u<=9?h=0:u<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof ct))return!1;const u=o;return this.value===u.value}toString(){return this.stringValue}}ct.FOR_BITS=new Map,ct.FOR_VALUE=new Map,ct.TERMINATOR=new ct(xr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ct.NUMERIC=new ct(xr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ct.ALPHANUMERIC=new ct(xr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ct.STRUCTURED_APPEND=new ct(xr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ct.BYTE=new ct(xr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ct.ECI=new ct(xr.ECI,"ECI",Int32Array.from([0,0,0]),7),ct.KANJI=new ct(xr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ct.FNC1_FIRST_POSITION=new ct(xr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ct.FNC1_SECOND_POSITION=new ct(xr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ct.HANZI=new ct(xr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Dn{static decode(o,u,h,g){const y=new Li(o);let _=new Ce;const C=new Array;let N=-1,O=-1;try{let F=null,V=!1,q;do{if(y.available()<4)q=ct.TERMINATOR;else{const Z=y.readBits(4);q=ct.forBits(Z)}switch(q){case ct.TERMINATOR:break;case ct.FNC1_FIRST_POSITION:case ct.FNC1_SECOND_POSITION:V=!0;break;case ct.STRUCTURED_APPEND:if(y.available()<16)throw new z;N=y.readBits(8),O=y.readBits(8);break;case ct.ECI:const Z=Dn.parseECIValue(y);if(F=X.getCharacterSetECIByValue(Z),F===null)throw new z;break;case ct.HANZI:const ie=y.readBits(4),se=y.readBits(q.getCharacterCountBits(u));ie===Dn.GB2312_SUBSET&&Dn.decodeHanziSegment(y,_,se);break;default:const fe=y.readBits(q.getCharacterCountBits(u));switch(q){case ct.NUMERIC:Dn.decodeNumericSegment(y,_,fe);break;case ct.ALPHANUMERIC:Dn.decodeAlphanumericSegment(y,_,fe,V);break;case ct.BYTE:Dn.decodeByteSegment(y,_,fe,F,C,g);break;case ct.KANJI:Dn.decodeKanjiSegment(y,_,fe);break;default:throw new z}break}}while(q!==ct.TERMINATOR)}catch{throw new z}return new oi(o,_.toString(),C.length===0?null:C,h===null?null:h.toString(),N,O)}static decodeHanziSegment(o,u,h){if(h*13>o.available())throw new z;const g=new Uint8Array(2*h);let y=0;for(;h>0;){const _=o.readBits(13);let C=_/96<<8&4294967295|_%96;C<959?C+=41377:C+=42657,g[y]=C>>8&255,g[y+1]=C&255,y+=2,h--}try{u.append(ee.decode(g,oe.GB2312))}catch(_){throw new z(_)}}static decodeKanjiSegment(o,u,h){if(h*13>o.available())throw new z;const g=new Uint8Array(2*h);let y=0;for(;h>0;){const _=o.readBits(13);let C=_/192<<8&4294967295|_%192;C<7936?C+=33088:C+=49472,g[y]=C>>8,g[y+1]=C,y+=2,h--}try{u.append(ee.decode(g,oe.SHIFT_JIS))}catch(_){throw new z(_)}}static decodeByteSegment(o,u,h,g,y,_){if(8*h>o.available())throw new z;const C=new Uint8Array(h);for(let O=0;O<h;O++)C[O]=o.readBits(8);let N;g===null?N=oe.guessEncoding(C,_):N=g.getName();try{u.append(ee.decode(C,N))}catch(O){throw new z(O)}y.push(C)}static toAlphaNumericChar(o){if(o>=Dn.ALPHANUMERIC_CHARS.length)throw new z;return Dn.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,u,h,g){const y=u.length();for(;h>1;){if(o.available()<11)throw new z;const _=o.readBits(11);u.append(Dn.toAlphaNumericChar(Math.floor(_/45))),u.append(Dn.toAlphaNumericChar(_%45)),h-=2}if(h===1){if(o.available()<6)throw new z;u.append(Dn.toAlphaNumericChar(o.readBits(6)))}if(g)for(let _=y;_<u.length();_++)u.charAt(_)==="%"&&(_<u.length()-1&&u.charAt(_+1)==="%"?u.deleteCharAt(_+1):u.setCharAt(_,""))}static decodeNumericSegment(o,u,h){for(;h>=3;){if(o.available()<10)throw new z;const g=o.readBits(10);if(g>=1e3)throw new z;u.append(Dn.toAlphaNumericChar(Math.floor(g/100))),u.append(Dn.toAlphaNumericChar(Math.floor(g/10)%10)),u.append(Dn.toAlphaNumericChar(g%10)),h-=3}if(h===2){if(o.available()<7)throw new z;const g=o.readBits(7);if(g>=100)throw new z;u.append(Dn.toAlphaNumericChar(Math.floor(g/10))),u.append(Dn.toAlphaNumericChar(g%10))}else if(h===1){if(o.available()<4)throw new z;const g=o.readBits(4);if(g>=10)throw new z;u.append(Dn.toAlphaNumericChar(g))}}static parseECIValue(o){const u=o.readBits(8);if((u&128)===0)return u&127;if((u&192)===128){const h=o.readBits(8);return(u&63)<<8&4294967295|h}if((u&224)===192){const h=o.readBits(16);return(u&31)<<16&4294967295|h}throw new z}}Dn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Dn.GB2312_SUBSET=1;class Ph{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const u=o[0];o[0]=o[2],o[2]=u}}class lu{constructor(){this.rsDecoder=new xs(Ot.QR_CODE_FIELD_256)}decodeBooleanArray(o,u){return this.decodeBitMatrix(Se.parseFromBooleanArray(o),u)}decodeBitMatrix(o,u){const h=new k0(o);let g=null;try{return this.decodeBitMatrixParser(h,u)}catch(y){g=y}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const y=this.decodeBitMatrixParser(h,u);return y.setOther(new Ph(!0)),y}catch(y){throw g!==null?g:y}}decodeBitMatrixParser(o,u){const h=o.readVersion(),g=o.readFormatInformation().getErrorCorrectionLevel(),y=o.readCodewords(),_=ou.getDataBlocks(y,h,g);let C=0;for(const F of _)C+=F.getNumDataCodewords();const N=new Uint8Array(C);let O=0;for(const F of _){const V=F.getCodewords(),q=F.getNumDataCodewords();this.correctErrors(V,q);for(let Z=0;Z<q;Z++)N[O++]=V[Z]}return Dn.decode(N,h,g,u)}correctErrors(o,u){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-u)}catch{throw new E}for(let g=0;g<u;g++)o[g]=h[g]}}class ec extends We{constructor(o,u,h){super(o,u),this.estimatedModuleSize=h}aboutEquals(o,u,h){if(Math.abs(u-this.getY())<=o&&Math.abs(h-this.getX())<=o){const g=Math.abs(o-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(o,u,h){const g=(this.getX()+u)/2,y=(this.getY()+o)/2,_=(this.estimatedModuleSize+h)/2;return new ec(g,y,_)}}class Fo{constructor(o,u,h,g,y,_,C){this.image=o,this.startX=u,this.startY=h,this.width=g,this.height=y,this.moduleSize=_,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,u=this.height,h=this.width,g=o+h,y=this.startY+u/2,_=new Int32Array(3),C=this.image;for(let N=0;N<u;N++){const O=y+((N&1)===0?Math.floor((N+1)/2):-Math.floor((N+1)/2));_[0]=0,_[1]=0,_[2]=0;let F=o;for(;F<g&&!C.get(F,O);)F++;let V=0;for(;F<g;){if(C.get(F,O))if(V===1)_[1]++;else if(V===2){if(this.foundPatternCross(_)){const q=this.handlePossibleCenter(_,O,F);if(q!==null)return q}_[0]=_[2],_[1]=1,_[2]=0,V=1}else _[++V]++;else V===1&&V++,_[V]++;F++}if(this.foundPatternCross(_)){const q=this.handlePossibleCenter(_,O,g);if(q!==null)return q}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(o,u){return u-o[2]-o[1]/2}foundPatternCross(o){const u=this.moduleSize,h=u/2;for(let g=0;g<3;g++)if(Math.abs(u-o[g])>=h)return!1;return!0}crossCheckVertical(o,u,h,g){const y=this.image,_=y.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let N=o;for(;N>=0&&y.get(u,N)&&C[1]<=h;)C[1]++,N--;if(N<0||C[1]>h)return NaN;for(;N>=0&&!y.get(u,N)&&C[0]<=h;)C[0]++,N--;if(C[0]>h)return NaN;for(N=o+1;N<_&&y.get(u,N)&&C[1]<=h;)C[1]++,N++;if(N===_||C[1]>h)return NaN;for(;N<_&&!y.get(u,N)&&C[2]<=h;)C[2]++,N++;if(C[2]>h)return NaN;const O=C[0]+C[1]+C[2];return 5*Math.abs(O-g)>=2*g?NaN:this.foundPatternCross(C)?Fo.centerFromEnd(C,N):NaN}handlePossibleCenter(o,u,h){const g=o[0]+o[1]+o[2],y=Fo.centerFromEnd(o,h),_=this.crossCheckVertical(u,y,2*o[1],g);if(!isNaN(_)){const C=(o[0]+o[1]+o[2])/3;for(const O of this.possibleCenters)if(O.aboutEquals(C,_,y))return O.combineEstimate(_,y,C);const N=new ec(y,_,C);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class la extends We{constructor(o,u,h,g){super(o,u),this.estimatedModuleSize=h,this.count=g,g===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,u,h){if(Math.abs(u-this.getY())<=o&&Math.abs(h-this.getX())<=o){const g=Math.abs(o-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(o,u,h){const g=this.count+1,y=(this.count*this.getX()+u)/g,_=(this.count*this.getY()+o)/g,C=(this.count*this.estimatedModuleSize+h)/g;return new la(y,_,C,g)}}class zo{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ui{constructor(o,u){this.image=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const u=o!=null&&o.get(P.TRY_HARDER)!==void 0,h=o!=null&&o.get(P.PURE_BARCODE)!==void 0,g=this.image,y=g.getHeight(),_=g.getWidth();let C=Math.floor(3*y/(4*ui.MAX_MODULES));(C<ui.MIN_SKIP||u)&&(C=ui.MIN_SKIP);let N=!1;const O=new Int32Array(5);for(let V=C-1;V<y&&!N;V+=C){O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0;let q=0;for(let Z=0;Z<_;Z++)if(g.get(Z,V))(q&1)===1&&q++,O[q]++;else if((q&1)===0)if(q===4)if(ui.foundPatternCross(O)){if(this.handlePossibleCenter(O,V,Z,h)===!0)if(C=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const se=this.findRowSkip();se>O[2]&&(V+=se-O[2]-C,Z=_-1)}else{O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,q=3;continue}q=0,O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0}else O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,q=3;else O[++q]++;else O[q]++;ui.foundPatternCross(O)&&this.handlePossibleCenter(O,V,_,h)===!0&&(C=O[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const F=this.selectBestPatterns();return We.orderBestPatterns(F),new zo(F)}static centerFromEnd(o,u){return u-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let u=0;for(let y=0;y<5;y++){const _=o[y];if(_===0)return!1;u+=_}if(u<7)return!1;const h=u/7,g=h/2;return Math.abs(h-o[0])<g&&Math.abs(h-o[1])<g&&Math.abs(3*h-o[2])<3*g&&Math.abs(h-o[3])<g&&Math.abs(h-o[4])<g}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,u,h,g){const y=this.getCrossCheckStateCount();let _=0;const C=this.image;for(;o>=_&&u>=_&&C.get(u-_,o-_);)y[2]++,_++;if(o<_||u<_)return!1;for(;o>=_&&u>=_&&!C.get(u-_,o-_)&&y[1]<=h;)y[1]++,_++;if(o<_||u<_||y[1]>h)return!1;for(;o>=_&&u>=_&&C.get(u-_,o-_)&&y[0]<=h;)y[0]++,_++;if(y[0]>h)return!1;const N=C.getHeight(),O=C.getWidth();for(_=1;o+_<N&&u+_<O&&C.get(u+_,o+_);)y[2]++,_++;if(o+_>=N||u+_>=O)return!1;for(;o+_<N&&u+_<O&&!C.get(u+_,o+_)&&y[3]<h;)y[3]++,_++;if(o+_>=N||u+_>=O||y[3]>=h)return!1;for(;o+_<N&&u+_<O&&C.get(u+_,o+_)&&y[4]<h;)y[4]++,_++;if(y[4]>=h)return!1;const F=y[0]+y[1]+y[2]+y[3]+y[4];return Math.abs(F-g)<2*g&&ui.foundPatternCross(y)}crossCheckVertical(o,u,h,g){const y=this.image,_=y.getHeight(),C=this.getCrossCheckStateCount();let N=o;for(;N>=0&&y.get(u,N);)C[2]++,N--;if(N<0)return NaN;for(;N>=0&&!y.get(u,N)&&C[1]<=h;)C[1]++,N--;if(N<0||C[1]>h)return NaN;for(;N>=0&&y.get(u,N)&&C[0]<=h;)C[0]++,N--;if(C[0]>h)return NaN;for(N=o+1;N<_&&y.get(u,N);)C[2]++,N++;if(N===_)return NaN;for(;N<_&&!y.get(u,N)&&C[3]<h;)C[3]++,N++;if(N===_||C[3]>=h)return NaN;for(;N<_&&y.get(u,N)&&C[4]<h;)C[4]++,N++;if(C[4]>=h)return NaN;const O=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(O-g)>=2*g?NaN:ui.foundPatternCross(C)?ui.centerFromEnd(C,N):NaN}crossCheckHorizontal(o,u,h,g){const y=this.image,_=y.getWidth(),C=this.getCrossCheckStateCount();let N=o;for(;N>=0&&y.get(N,u);)C[2]++,N--;if(N<0)return NaN;for(;N>=0&&!y.get(N,u)&&C[1]<=h;)C[1]++,N--;if(N<0||C[1]>h)return NaN;for(;N>=0&&y.get(N,u)&&C[0]<=h;)C[0]++,N--;if(C[0]>h)return NaN;for(N=o+1;N<_&&y.get(N,u);)C[2]++,N++;if(N===_)return NaN;for(;N<_&&!y.get(N,u)&&C[3]<h;)C[3]++,N++;if(N===_||C[3]>=h)return NaN;for(;N<_&&y.get(N,u)&&C[4]<h;)C[4]++,N++;if(C[4]>=h)return NaN;const O=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(O-g)>=g?NaN:ui.foundPatternCross(C)?ui.centerFromEnd(C,N):NaN}handlePossibleCenter(o,u,h,g){const y=o[0]+o[1]+o[2]+o[3]+o[4];let _=ui.centerFromEnd(o,h),C=this.crossCheckVertical(u,Math.floor(_),o[2],y);if(!isNaN(C)&&(_=this.crossCheckHorizontal(Math.floor(_),Math.floor(C),o[2],y),!isNaN(_)&&(!g||this.crossCheckDiagonal(Math.floor(C),Math.floor(_),o[2],y)))){const N=y/7;let O=!1;const F=this.possibleCenters;for(let V=0,q=F.length;V<q;V++){const Z=F[V];if(Z.aboutEquals(N,C,_)){F[V]=Z.combineEstimate(C,_,N),O=!0;break}}if(!O){const V=new la(_,C,N);F.push(V),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(V)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const h of this.possibleCenters)if(h.getCount()>=ui.CENTER_QUORUM)if(u==null)u=h;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-h.getX())-Math.abs(u.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,u=0;const h=this.possibleCenters.length;for(const _ of this.possibleCenters)_.getCount()>=ui.CENTER_QUORUM&&(o++,u+=_.getEstimatedModuleSize());if(o<3)return!1;const g=u/h;let y=0;for(const _ of this.possibleCenters)y+=Math.abs(_.getEstimatedModuleSize()-g);return y<=.05*u}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new te;const u=this.possibleCenters;let h;if(o>3){let g=0,y=0;for(const N of this.possibleCenters){const O=N.getEstimatedModuleSize();g+=O,y+=O*O}h=g/o;let _=Math.sqrt(y/o-h*h);u.sort((N,O)=>{const F=Math.abs(O.getEstimatedModuleSize()-h),V=Math.abs(N.getEstimatedModuleSize()-h);return F<V?-1:F>V?1:0});const C=Math.max(.2*h,_);for(let N=0;N<u.length&&u.length>3;N++){const O=u[N];Math.abs(O.getEstimatedModuleSize()-h)>C&&(u.splice(N,1),N--)}}if(u.length>3){let g=0;for(const y of u)g+=y.getEstimatedModuleSize();h=g/u.length,u.sort((y,_)=>{if(_.getCount()===y.getCount()){const C=Math.abs(_.getEstimatedModuleSize()-h),N=Math.abs(y.getEstimatedModuleSize()-h);return C<N?1:C>N?-1:0}else return _.getCount()-y.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}ui.CENTER_QUORUM=2,ui.MIN_SKIP=3,ui.MAX_MODULES=57;class Ua{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(P.NEED_RESULT_POINT_CALLBACK);const h=new ui(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(h)}processFinderPatternInfo(o){const u=o.getTopLeft(),h=o.getTopRight(),g=o.getBottomLeft(),y=this.calculateModuleSize(u,h,g);if(y<1)throw new te("No pattern found in proccess finder.");const _=Ua.computeDimension(u,h,g,y),C=st.getProvisionalVersionForDimension(_),N=C.getDimensionForVersion()-7;let O=null;if(C.getAlignmentPatternCenters().length>0){const Z=h.getX()-u.getX()+g.getX(),ie=h.getY()-u.getY()+g.getY(),se=1-3/N,fe=Math.floor(u.getX()+se*(Z-u.getX())),be=Math.floor(u.getY()+se*(ie-u.getY()));for(let Pe=4;Pe<=16;Pe<<=1)try{O=this.findAlignmentInRegion(y,fe,be,Pe);break}catch(ze){if(!(ze instanceof te))throw ze}}const F=Ua.createTransform(u,h,g,O,_),V=Ua.sampleGrid(this.image,F,_);let q;return O===null?q=[g,u,h]:q=[g,u,h,O],new tr(V,q)}static createTransform(o,u,h,g,y){const _=y-3.5;let C,N,O,F;return g!==null?(C=g.getX(),N=g.getY(),O=_-3,F=O):(C=u.getX()-o.getX()+h.getX(),N=u.getY()-o.getY()+h.getY(),O=_,F=_),vt.quadrilateralToQuadrilateral(3.5,3.5,_,3.5,O,F,3.5,_,o.getX(),o.getY(),u.getX(),u.getY(),C,N,h.getX(),h.getY())}static sampleGrid(o,u,h){return nn.getInstance().sampleGridWithTransform(o,h,h,u)}static computeDimension(o,u,h,g){const y=At.round(We.distance(o,u)/g),_=At.round(We.distance(o,h)/g);let C=Math.floor((y+_)/2)+7;switch(C&3){case 0:C++;break;case 2:C--;break;case 3:throw new te("Dimensions could be not found.")}return C}calculateModuleSize(o,u,h){return(this.calculateModuleSizeOneWay(o,u)+this.calculateModuleSizeOneWay(o,h))/2}calculateModuleSizeOneWay(o,u){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(u.getX()),Math.floor(u.getY())),g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(h)?g/7:isNaN(g)?h/7:(h+g)/14}sizeOfBlackWhiteBlackRunBothWays(o,u,h,g){let y=this.sizeOfBlackWhiteBlackRun(o,u,h,g),_=1,C=o-(h-o);C<0?(_=o/(o-C),C=0):C>=this.image.getWidth()&&(_=(this.image.getWidth()-1-o)/(C-o),C=this.image.getWidth()-1);let N=Math.floor(u-(g-u)*_);return _=1,N<0?(_=u/(u-N),N=0):N>=this.image.getHeight()&&(_=(this.image.getHeight()-1-u)/(N-u),N=this.image.getHeight()-1),C=Math.floor(o+(C-o)*_),y+=this.sizeOfBlackWhiteBlackRun(o,u,C,N),y-1}sizeOfBlackWhiteBlackRun(o,u,h,g){const y=Math.abs(g-u)>Math.abs(h-o);if(y){let Z=o;o=u,u=Z,Z=h,h=g,g=Z}const _=Math.abs(h-o),C=Math.abs(g-u);let N=-_/2;const O=o<h?1:-1,F=u<g?1:-1;let V=0;const q=h+O;for(let Z=o,ie=u;Z!==q;Z+=O){const se=y?ie:Z,fe=y?Z:ie;if(V===1===this.image.get(se,fe)){if(V===2)return At.distance(Z,ie,o,u);V++}if(N+=C,N>0){if(ie===g)break;ie+=F,N-=_}}return V===2?At.distance(h+O,g,o,u):NaN}findAlignmentInRegion(o,u,h,g){const y=Math.floor(g*o),_=Math.max(0,u-y),C=Math.min(this.image.getWidth()-1,u+y);if(C-_<o*3)throw new te("Alignment top exceeds estimated module size.");const N=Math.max(0,h-y),O=Math.min(this.image.getHeight()-1,h+y);if(O-N<o*3)throw new te("Alignment bottom exceeds estimated module size.");return new Fo(this.image,_,N,C-_,O-N,o,this.resultPointCallback).find()}}class Vs{constructor(){this.decoder=new lu}getDecoder(){return this.decoder}decode(o,u){let h,g;if(u!=null&&u.get(P.PURE_BARCODE)!==void 0){const N=Vs.extractPureBits(o.getBlackMatrix());h=this.decoder.decodeBitMatrix(N,u),g=Vs.NO_POINTS}else{const N=new Ua(o.getBlackMatrix()).detect(u);h=this.decoder.decodeBitMatrix(N.getBits(),u),g=N.getPoints()}h.getOther()instanceof Ph&&h.getOther().applyMirroredCorrection(g);const y=new He(h.getText(),h.getRawBytes(),void 0,g,Ae.QR_CODE,void 0),_=h.getByteSegments();_!==null&&y.putMetadata(gt.BYTE_SEGMENTS,_);const C=h.getECLevel();return C!==null&&y.putMetadata(gt.ERROR_CORRECTION_LEVEL,C),h.hasStructuredAppend()&&(y.putMetadata(gt.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),y.putMetadata(gt.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),y}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(u===null||h===null)throw new te;const g=this.moduleSize(u,o);let y=u[1],_=h[1],C=u[0],N=h[0];if(C>=N||y>=_)throw new te;if(_-y!==N-C&&(N=C+(_-y),N>=o.getWidth()))throw new te;const O=Math.round((N-C+1)/g),F=Math.round((_-y+1)/g);if(O<=0||F<=0)throw new te;if(F!==O)throw new te;const V=Math.floor(g/2);y+=V,C+=V;const q=C+Math.floor((O-1)*g)-N;if(q>0){if(q>V)throw new te;C-=q}const Z=y+Math.floor((F-1)*g)-_;if(Z>0){if(Z>V)throw new te;y-=Z}const ie=new Se(O,F);for(let se=0;se<F;se++){const fe=y+Math.floor(se*g);for(let be=0;be<O;be++)o.get(C+Math.floor(be*g),fe)&&ie.set(be,se)}return ie}static moduleSize(o,u){const h=u.getHeight(),g=u.getWidth();let y=o[0],_=o[1],C=!0,N=0;for(;y<g&&_<h;){if(C!==u.get(y,_)){if(++N===5)break;C=!C}y++,_++}if(y===g||_===h)throw new te;return(y-o[0])/7}}Vs.NO_POINTS=new Array;class ft{PDF417Common(){}static getBitCountSum(o){return At.sum(o)}static toIntArray(o){if(o==null||!o.length)return ft.EMPTY_INT_ARRAY;const u=new Int32Array(o.length);let h=0;for(const g of o)u[h++]=g;return u}static getCodeword(o){const u=G.binarySearch(ft.SYMBOL_TABLE,o&262143);return u<0?-1:(ft.CODEWORD_TABLE[u]-1)%ft.NUMBER_OF_CODEWORDS}}ft.NUMBER_OF_CODEWORDS=929,ft.MAX_CODEWORDS_IN_BARCODE=ft.NUMBER_OF_CODEWORDS-1,ft.MIN_ROWS_IN_BARCODE=3,ft.MAX_ROWS_IN_BARCODE=90,ft.MODULES_IN_CODEWORD=17,ft.MODULES_IN_STOP_PATTERN=18,ft.BARS_IN_MODULE=8,ft.EMPTY_INT_ARRAY=new Int32Array([]),ft.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ft.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Gs{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class St{static detectMultiple(o,u,h){let g=o.getBlackMatrix(),y=St.detect(h,g);return y.length||(g=g.clone(),g.rotate180(),y=St.detect(h,g)),new Gs(g,y)}static detect(o,u){const h=new Array;let g=0,y=0,_=!1;for(;g<u.getHeight();){const C=St.findVertices(u,g,y);if(C[0]==null&&C[3]==null){if(!_)break;_=!1,y=0;for(const N of h)N[1]!=null&&(g=Math.trunc(Math.max(g,N[1].getY()))),N[3]!=null&&(g=Math.max(g,Math.trunc(N[3].getY())));g+=St.ROW_STEP;continue}if(_=!0,h.push(C),!o)break;C[2]!=null?(y=Math.trunc(C[2].getX()),g=Math.trunc(C[2].getY())):(y=Math.trunc(C[4].getX()),g=Math.trunc(C[4].getY()))}return h}static findVertices(o,u,h){const g=o.getHeight(),y=o.getWidth(),_=new Array(8);return St.copyToResult(_,St.findRowsWithPattern(o,g,y,u,h,St.START_PATTERN),St.INDEXES_START_PATTERN),_[4]!=null&&(h=Math.trunc(_[4].getX()),u=Math.trunc(_[4].getY())),St.copyToResult(_,St.findRowsWithPattern(o,g,y,u,h,St.STOP_PATTERN),St.INDEXES_STOP_PATTERN),_}static copyToResult(o,u,h){for(let g=0;g<h.length;g++)o[h[g]]=u[g]}static findRowsWithPattern(o,u,h,g,y,_){const C=new Array(4);let N=!1;const O=new Int32Array(_.length);for(;g<u;g+=St.ROW_STEP){let V=St.findGuardPattern(o,y,g,h,!1,_,O);if(V!=null){for(;g>0;){const q=St.findGuardPattern(o,y,--g,h,!1,_,O);if(q!=null)V=q;else{g++;break}}C[0]=new We(V[0],g),C[1]=new We(V[1],g),N=!0;break}}let F=g+1;if(N){let V=0,q=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;F<u;F++){const Z=St.findGuardPattern(o,q[0],F,h,!1,_,O);if(Z!=null&&Math.abs(q[0]-Z[0])<St.MAX_PATTERN_DRIFT&&Math.abs(q[1]-Z[1])<St.MAX_PATTERN_DRIFT)q=Z,V=0;else{if(V>St.SKIPPED_ROW_COUNT_MAX)break;V++}}F-=V+1,C[2]=new We(q[0],F),C[3]=new We(q[1],F)}return F-g<St.BARCODE_MIN_HEIGHT&&G.fill(C,null),C}static findGuardPattern(o,u,h,g,y,_,C){G.fillWithin(C,0,C.length,0);let N=u,O=0;for(;o.get(N,h)&&N>0&&O++<St.MAX_PIXEL_DRIFT;)N--;let F=N,V=0,q=_.length;for(let Z=y;F<g;F++)if(o.get(F,h)!==Z)C[V]++;else{if(V===q-1){if(St.patternMatchVariance(C,_,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE)return new Int32Array([N,F]);N+=C[0]+C[1],M.arraycopy(C,2,C,0,V-1),C[V-1]=0,C[V]=0,V--}else V++;C[V]=1,Z=!Z}return V===q-1&&St.patternMatchVariance(C,_,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE?new Int32Array([N,F-1]):null}static patternMatchVariance(o,u,h){let g=o.length,y=0,_=0;for(let O=0;O<g;O++)y+=o[O],_+=u[O];if(y<_)return 1/0;let C=y/_;h*=C;let N=0;for(let O=0;O<g;O++){let F=o[O],V=u[O]*C,q=F>V?F-V:V-F;if(q>h)return 1/0;N+=q}return N/y}}St.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),St.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),St.MAX_AVG_VARIANCE=.42,St.MAX_INDIVIDUAL_VARIANCE=.8,St.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),St.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),St.MAX_PIXEL_DRIFT=3,St.MAX_PATTERN_DRIFT=5,St.SKIPPED_ROW_COUNT_MAX=25,St.ROW_STEP=5,St.BARCODE_MIN_HEIGHT=10;class Gn{constructor(o,u){if(u.length===0)throw new w;this.field=o;let h=u.length;if(h>1&&u[0]===0){let g=1;for(;g<h&&u[g]===0;)g++;g===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-g),M.arraycopy(u,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let g=0;for(let y of this.coefficients)g=this.field.add(g,y);return g}let u=this.coefficients[0],h=this.coefficients.length;for(let g=1;g<h;g++)u=this.field.add(this.field.multiply(o,u),this.coefficients[g]);return u}add(o){if(!this.field.equals(o.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,h=o.coefficients;if(u.length>h.length){let _=u;u=h,h=_}let g=new Int32Array(h.length),y=h.length-u.length;M.arraycopy(h,0,g,0,y);for(let _=y;_<h.length;_++)g[_]=this.field.add(u[_-y],h[_]);return new Gn(this.field,g)}subtract(o){if(!this.field.equals(o.field))throw new w("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Gn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Gn(this.field,new Int32Array([0]));let u=this.coefficients,h=u.length,g=o.coefficients,y=g.length,_=new Int32Array(h+y-1);for(let C=0;C<h;C++){let N=u[C];for(let O=0;O<y;O++)_[C+O]=this.field.add(_[C+O],this.field.multiply(N,g[O]))}return new Gn(this.field,_)}negative(){let o=this.coefficients.length,u=new Int32Array(o);for(let h=0;h<o;h++)u[h]=this.field.subtract(0,this.coefficients[h]);return new Gn(this.field,u)}multiplyScalar(o){if(o===0)return new Gn(this.field,new Int32Array([0]));if(o===1)return this;let u=this.coefficients.length,h=new Int32Array(u);for(let g=0;g<u;g++)h[g]=this.field.multiply(this.coefficients[g],o);return new Gn(this.field,h)}multiplyByMonomial(o,u){if(o<0)throw new w;if(u===0)return new Gn(this.field,new Int32Array([0]));let h=this.coefficients.length,g=new Int32Array(h+o);for(let y=0;y<h;y++)g[y]=this.field.multiply(this.coefficients[y],u);return new Gn(this.field,g)}toString(){let o=new Ce;for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);h!==0&&(h<0?(o.append(" - "),h=-h):o.length()>0&&o.append(" + "),(u===0||h!==1)&&o.append(h),u!==0&&(u===1?o.append("x"):(o.append("x^"),o.append(u))))}return o.toString()}}class ca{add(o,u){return(o+u)%this.modulus}subtract(o,u){return(this.modulus+o-u)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new w;return this.logTable[o]}inverse(o){if(o===0)throw new Bi;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class tc extends ca{constructor(o,u){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let h=1;for(let g=0;g<o;g++)this.expTable[g]=h,h=h*u%o;for(let g=0;g<o-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new Gn(this,new Int32Array([0])),this.one=new Gn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new w;if(u===0)return this.zero;let h=new Int32Array(o+1);return h[0]=u,new Gn(this,h)}}tc.PDF417_GF=new tc(ft.NUMBER_OF_CODEWORDS,3);class nc{constructor(){this.field=tc.PDF417_GF}decode(o,u,h){let g=new Gn(this.field,o),y=new Int32Array(u),_=!1;for(let ie=u;ie>0;ie--){let se=g.evaluateAt(this.field.exp(ie));y[u-ie]=se,se!==0&&(_=!0)}if(!_)return 0;let C=this.field.getOne();if(h!=null)for(const ie of h){let se=this.field.exp(o.length-1-ie),fe=new Gn(this.field,new Int32Array([this.field.subtract(0,se),1]));C=C.multiply(fe)}let N=new Gn(this.field,y),O=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),N,u),F=O[0],V=O[1],q=this.findErrorLocations(F),Z=this.findErrorMagnitudes(V,F,q);for(let ie=0;ie<q.length;ie++){let se=o.length-1-this.field.log(q[ie]);if(se<0)throw E.getChecksumInstance();o[se]=this.field.subtract(o[se],Z[ie])}return q.length}runEuclideanAlgorithm(o,u,h){if(o.getDegree()<u.getDegree()){let q=o;o=u,u=q}let g=o,y=u,_=this.field.getZero(),C=this.field.getOne();for(;y.getDegree()>=Math.round(h/2);){let q=g,Z=_;if(g=y,_=C,g.isZero())throw E.getChecksumInstance();y=q;let ie=this.field.getZero(),se=g.getCoefficient(g.getDegree()),fe=this.field.inverse(se);for(;y.getDegree()>=g.getDegree()&&!y.isZero();){let be=y.getDegree()-g.getDegree(),Pe=this.field.multiply(y.getCoefficient(y.getDegree()),fe);ie=ie.add(this.field.buildMonomial(be,Pe)),y=y.subtract(g.multiplyByMonomial(be,Pe))}C=ie.multiply(_).subtract(Z).negative()}let N=C.getCoefficient(0);if(N===0)throw E.getChecksumInstance();let O=this.field.inverse(N),F=C.multiply(O),V=y.multiply(O);return[F,V]}findErrorLocations(o){let u=o.getDegree(),h=new Int32Array(u),g=0;for(let y=1;y<this.field.getSize()&&g<u;y++)o.evaluateAt(y)===0&&(h[g]=this.field.inverse(y),g++);if(g!==u)throw E.getChecksumInstance();return h}findErrorMagnitudes(o,u,h){let g=u.getDegree(),y=new Int32Array(g);for(let O=1;O<=g;O++)y[g-O]=this.field.multiply(O,u.getCoefficient(O));let _=new Gn(this.field,y),C=h.length,N=new Int32Array(C);for(let O=0;O<C;O++){let F=this.field.inverse(h[O]),V=this.field.subtract(0,o.evaluateAt(F)),q=this.field.inverse(_.evaluateAt(F));N[O]=this.field.multiply(V,q)}return N}}class ua{constructor(o,u,h,g,y){o instanceof ua?this.constructor_2(o):this.constructor_1(o,u,h,g,y)}constructor_1(o,u,h,g,y){const _=u==null||h==null,C=g==null||y==null;if(_&&C)throw new te;_?(u=new We(0,g.getY()),h=new We(0,y.getY())):C&&(g=new We(o.getWidth()-1,u.getY()),y=new We(o.getWidth()-1,h.getY())),this.image=o,this.topLeft=u,this.bottomLeft=h,this.topRight=g,this.bottomRight=y,this.minX=Math.trunc(Math.min(u.getX(),h.getX())),this.maxX=Math.trunc(Math.max(g.getX(),y.getX())),this.minY=Math.trunc(Math.min(u.getY(),g.getY())),this.maxY=Math.trunc(Math.max(h.getY(),y.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,u){return o==null?u:u==null?o:new ua(o.image,o.topLeft,o.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(o,u,h){let g=this.topLeft,y=this.bottomLeft,_=this.topRight,C=this.bottomRight;if(o>0){let N=h?this.topLeft:this.topRight,O=Math.trunc(N.getY()-o);O<0&&(O=0);let F=new We(N.getX(),O);h?g=F:_=F}if(u>0){let N=h?this.bottomLeft:this.bottomRight,O=Math.trunc(N.getY()+u);O>=this.image.getHeight()&&(O=this.image.getHeight()-1);let F=new We(N.getX(),O);h?y=F:C=F}return new ua(this.image,g,y,_,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class cu{constructor(o,u,h,g){this.columnCount=o,this.errorCorrectionLevel=g,this.rowCountUpperPart=u,this.rowCountLowerPart=h,this.rowCount=u+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class da{constructor(){this.buffer=""}static form(o,u){let h=-1;function g(_,C,N,O,F,V){if(_==="%%")return"%";if(u[++h]===void 0)return;_=O?parseInt(O.substr(1)):void 0;let q=F?parseInt(F.substr(1)):void 0,Z;switch(V){case"s":Z=u[h];break;case"c":Z=u[h][0];break;case"f":Z=parseFloat(u[h]).toFixed(_);break;case"p":Z=parseFloat(u[h]).toPrecision(_);break;case"e":Z=parseFloat(u[h]).toExponential(_);break;case"x":Z=parseInt(u[h]).toString(q||16);break;case"d":Z=parseFloat(parseInt(u[h],q||10).toPrecision(_)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(q);let ie=parseInt(N),se=N&&N[0]+""=="0"?"0":" ";for(;Z.length<ie;)Z=C!==void 0?Z+se:se+Z;return Z}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(y,g)}format(o,...u){this.buffer+=da.form(o,u)}toString(){return this.buffer}}class Ho{constructor(o){this.boundingBox=new ua(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let u=this.getCodeword(o);if(u!=null)return u;for(let h=1;h<Ho.MAX_NEARBY_DISTANCE;h++){let g=this.imageRowToCodewordIndex(o)-h;if(g>=0&&(u=this.codewords[g],u!=null)||(g=this.imageRowToCodewordIndex(o)+h,g<this.codewords.length&&(u=this.codewords[g],u!=null)))return u}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,u){this.codewords[this.imageRowToCodewordIndex(o)]=u}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new da;let u=0;for(const h of this.codewords){if(h==null){o.format("%3d:    |   %n",u++);continue}o.format("%3d: %3d|%3d%n",u++,h.getRowNumber(),h.getValue())}return o.toString()}}Ho.MAX_NEARBY_DISTANCE=5;class bi{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let u=this.values.get(o);u==null&&(u=0),u++,this.values.set(o,u)}getValue(){let o=-1,u=new Array;for(const[h,g]of this.values.entries()){const y={getKey:()=>h,getValue:()=>g};y.getValue()>o?(o=y.getValue(),u=[],u.push(y.getKey())):y.getValue()===o&&u.push(y.getKey())}return ft.toIntArray(u)}getConfidence(o){return this.values.get(o)}}class fa extends Ho{constructor(o,u){super(o),this._isLeft=u}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,o);let h=this.getBoundingBox(),g=this._isLeft?h.getTopLeft():h.getTopRight(),y=this._isLeft?h.getBottomLeft():h.getBottomRight(),_=this.imageRowToCodewordIndex(Math.trunc(g.getY())),C=this.imageRowToCodewordIndex(Math.trunc(y.getY())),N=-1,O=1,F=0;for(let V=_;V<C;V++){if(u[V]==null)continue;let q=u[V],Z=q.getRowNumber()-N;if(Z===0)F++;else if(Z===1)O=Math.max(O,F),F=1,N=q.getRowNumber();else if(Z<0||q.getRowNumber()>=o.getRowCount()||Z>V)u[V]=null;else{let ie;O>2?ie=(O-2)*Z:ie=Z;let se=ie>=V;for(let fe=1;fe<=ie&&!se;fe++)se=u[V-fe]!=null;se?u[V]=null:(N=q.getRowNumber(),F=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let u=new Int32Array(o.getRowCount());for(let h of this.getCodewords())if(h!=null){let g=h.getRowNumber();if(g>=u.length)continue;u[g]++}return u}adjustIncompleteIndicatorColumnRowNumbers(o){let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),_=this.imageRowToCodewordIndex(Math.trunc(g.getY())),C=this.getCodewords(),N=-1;for(let O=y;O<_;O++){if(C[O]==null)continue;let F=C[O];F.setRowNumberAsRowIndicatorColumn();let V=F.getRowNumber()-N;V===0||(V===1?N=F.getRowNumber():F.getRowNumber()>=o.getRowCount()?C[O]=null:N=F.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),u=new bi,h=new bi,g=new bi,y=new bi;for(let C of o){if(C==null)continue;C.setRowNumberAsRowIndicatorColumn();let N=C.getValue()%30,O=C.getRowNumber();switch(this._isLeft||(O+=2),O%3){case 0:h.setValue(N*3+1);break;case 1:y.setValue(N/3),g.setValue(N%3);break;case 2:u.setValue(N+1);break}}if(u.getValue().length===0||h.getValue().length===0||g.getValue().length===0||y.getValue().length===0||u.getValue()[0]<1||h.getValue()[0]+g.getValue()[0]<ft.MIN_ROWS_IN_BARCODE||h.getValue()[0]+g.getValue()[0]>ft.MAX_ROWS_IN_BARCODE)return null;let _=new cu(u.getValue()[0],h.getValue()[0],g.getValue()[0],y.getValue()[0]);return this.removeIncorrectCodewords(o,_),_}removeIncorrectCodewords(o,u){for(let h=0;h<o.length;h++){let g=o[h];if(o[h]==null)continue;let y=g.getValue()%30,_=g.getRowNumber();if(_>u.getRowCount()){o[h]=null;continue}switch(this._isLeft||(_+=2),_%3){case 0:y*3+1!==u.getRowCountUpperPart()&&(o[h]=null);break;case 1:(Math.trunc(y/3)!==u.getErrorCorrectionLevel()||y%3!==u.getRowCountLowerPart())&&(o[h]=null);break;case 2:y+1!==u.getColumnCount()&&(o[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ha{constructor(o,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=ft.MAX_CODEWORDS_IN_BARCODE,u;do u=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let h=this.detectionResultColumns[u].getCodewords();for(let g=0;g<h.length;g++)h[g]!=null&&(h[g].hasValidRowNumber()||this.adjustRowNumbers(u,g,h))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<o.length;h++)if(o[h]!=null&&u[h]!=null&&o[h].getRowNumber()===u[h].getRowNumber())for(let g=1;g<=this.barcodeColumnCount;g++){let y=this.detectionResultColumns[g].getCodewords()[h];y!=null&&(y.setRowNumber(o[h].getRowNumber()),y.hasValidRowNumber()||(this.detectionResultColumns[g].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let g=u[h].getRowNumber(),y=0;for(let _=this.barcodeColumnCount+1;_>0&&y<this.ADJUST_ROW_NUMBER_SKIP;_--){let C=this.detectionResultColumns[_].getCodewords()[h];C!=null&&(y=ha.adjustRowNumberIfValid(g,y,C),C.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,u=this.detectionResultColumns[0].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let g=u[h].getRowNumber(),y=0;for(let _=1;_<this.barcodeColumnCount+1&&y<this.ADJUST_ROW_NUMBER_SKIP;_++){let C=this.detectionResultColumns[_].getCodewords()[h];C!=null&&(y=ha.adjustRowNumberIfValid(g,y,C),C.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,u,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(o)?(h.setRowNumber(o),u=0):++u),u}adjustRowNumbers(o,u,h){if(!this.detectionResultColumns[o-1])return;let g=h[u],y=this.detectionResultColumns[o-1].getCodewords(),_=y;this.detectionResultColumns[o+1]!=null&&(_=this.detectionResultColumns[o+1].getCodewords());let C=new Array(14);C[2]=y[u],C[3]=_[u],u>0&&(C[0]=h[u-1],C[4]=y[u-1],C[5]=_[u-1]),u>1&&(C[8]=h[u-2],C[10]=y[u-2],C[11]=_[u-2]),u<h.length-1&&(C[1]=h[u+1],C[6]=y[u+1],C[7]=_[u+1]),u<h.length-2&&(C[9]=h[u+2],C[12]=y[u+2],C[13]=_[u+2]);for(let N of C)if(ha.adjustRowNumber(g,N))return}static adjustRowNumber(o,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===o.getBucket()?(o.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,u){this.detectionResultColumns[o]=u}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new da;for(let h=0;h<o.getCodewords().length;h++){u.format("CW %3d:",h);for(let g=0;g<this.barcodeColumnCount+2;g++){if(this.detectionResultColumns[g]==null){u.format("    |   ");continue}let y=this.detectionResultColumns[g].getCodewords()[h];if(y==null){u.format("    |   ");continue}u.format(" %3d|%3d",y.getRowNumber(),y.getValue())}u.format("%n")}return u.toString()}}class qs{constructor(o,u,h,g){this.rowNumber=qs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(u),this.bucket=Math.trunc(h),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==qs.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}qs.BARCODE_ROW_UNKNOWN=-1;class nr{static initialize(){for(let o=0;o<ft.SYMBOL_TABLE.length;o++){let u=ft.SYMBOL_TABLE[o],h=u&1;for(let g=0;g<ft.BARS_IN_MODULE;g++){let y=0;for(;(u&1)===h;)y+=1,u>>=1;h=u&1,nr.RATIOS_TABLE[o]||(nr.RATIOS_TABLE[o]=new Array(ft.BARS_IN_MODULE)),nr.RATIOS_TABLE[o][ft.BARS_IN_MODULE-g-1]=Math.fround(y/ft.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let u=nr.getDecodedCodewordValue(nr.sampleBitCounts(o));return u!==-1?u:nr.getClosestDecodedValue(o)}static sampleBitCounts(o){let u=At.sum(o),h=new Int32Array(ft.BARS_IN_MODULE),g=0,y=0;for(let _=0;_<ft.MODULES_IN_CODEWORD;_++){let C=u/(2*ft.MODULES_IN_CODEWORD)+_*u/ft.MODULES_IN_CODEWORD;y+o[g]<=C&&(y+=o[g],g++),h[g]++}return h}static getDecodedCodewordValue(o){let u=nr.getBitValue(o);return ft.getCodeword(u)===-1?-1:u}static getBitValue(o){let u=0;for(let h=0;h<o.length;h++)for(let g=0;g<o[h];g++)u=u<<1|(h%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(o){let u=At.sum(o),h=new Array(ft.BARS_IN_MODULE);if(u>1)for(let _=0;_<h.length;_++)h[_]=Math.fround(o[_]/u);let g=Or.MAX_VALUE,y=-1;this.bSymbolTableReady||nr.initialize();for(let _=0;_<nr.RATIOS_TABLE.length;_++){let C=0,N=nr.RATIOS_TABLE[_];for(let O=0;O<ft.BARS_IN_MODULE;O++){let F=Math.fround(N[O]-h[O]);if(C+=Math.fround(F*F),C>=g)break}C<g&&(g=C,y=ft.SYMBOL_TABLE[_])}return y}}nr.bSymbolTableReady=!1,nr.RATIOS_TABLE=new Array(ft.SYMBOL_TABLE.length).map($=>new Array(ft.BARS_IN_MODULE));class uu{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class du{static parseLong(o,u=void 0){return parseInt(o,u)}}class Uo extends p{}Uo.kind="NullPointerException";class fu{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,u,h){if(o==null)throw new Uo;if(u<0||u>o.length||h<0||u+h>o.length||u+h<0)throw new R;if(h===0)return;for(let g=0;g<h;g++)this.write(o[u+g])}flush(){}close(){}}class Fh extends p{}class M0 extends fu{constructor(o=32){if(super(),this.count=0,o<0)throw new w("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let h=this.buf.length<<1;if(h-o<0&&(h=o),h<0){if(o<0)throw new Fh;h=L.MAX_VALUE}this.buf=G.copyOfUint8Array(this.buf,h)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,u,h){if(u<0||u>o.length||h<0||u+h-o.length>0)throw new R;this.ensureCapacity(this.count+h),M.arraycopy(o,u,this.buf,this.count,h),this.count+=h}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return G.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var pn;(function($){$[$.ALPHA=0]="ALPHA",$[$.LOWER=1]="LOWER",$[$.MIXED=2]="MIXED",$[$.PUNCT=3]="PUNCT",$[$.ALPHA_SHIFT=4]="ALPHA_SHIFT",$[$.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(pn||(pn={}));function zh(){if(typeof window<"u")return window.BigInt||null;if(typeof Vp<"u")return Vp.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let $o;function pa($){if(typeof $o>"u"&&($o=zh()),$o===null)throw new Error("BigInt is not supported!");return $o($)}function O0(){let $=[];$[0]=pa(1);let o=pa(900);$[1]=o;for(let u=2;u<16;u++)$[u]=$[u-1]*o;return $}class we{static decode(o,u){let h=new Ce(""),g=X.ISO8859_1;h.enableDecoding(g);let y=1,_=o[y++],C=new uu;for(;y<o[0];){switch(_){case we.TEXT_COMPACTION_MODE_LATCH:y=we.textCompaction(o,y,h);break;case we.BYTE_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:y=we.byteCompaction(_,o,g,y,h);break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[y++]);break;case we.NUMERIC_COMPACTION_MODE_LATCH:y=we.numericCompaction(o,y,h);break;case we.ECI_CHARSET:X.getCharacterSetECIByValue(o[y++]);break;case we.ECI_GENERAL_PURPOSE:y+=2;break;case we.ECI_USER_DEFINED:y++;break;case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:y=we.decodeMacroBlock(o,y,C);break;case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:throw new z;default:y--,y=we.textCompaction(o,y,h);break}if(y<o.length)_=o[y++];else throw z.getFormatInstance()}if(h.length()===0)throw z.getFormatInstance();let N=new oi(null,h.toString(),null,u);return N.setOther(C),N}static decodeMacroBlock(o,u,h){if(u+we.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw z.getFormatInstance();let g=new Int32Array(we.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<we.NUMBER_OF_SEQUENCE_CODEWORDS;C++,u++)g[C]=o[u];h.setSegmentIndex(L.parseInt(we.decodeBase900toBase10(g,we.NUMBER_OF_SEQUENCE_CODEWORDS)));let y=new Ce;u=we.textCompaction(o,u,y),h.setFileId(y.toString());let _=-1;for(o[u]===we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(_=u+1);u<o[0];)switch(o[u]){case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,o[u]){case we.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new Ce;u=we.textCompaction(o,u+1,C),h.setFileName(C.toString());break;case we.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new Ce;u=we.textCompaction(o,u+1,N),h.setSender(N.toString());break;case we.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let O=new Ce;u=we.textCompaction(o,u+1,O),h.setAddressee(O.toString());break;case we.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let F=new Ce;u=we.numericCompaction(o,u+1,F),h.setSegmentCount(L.parseInt(F.toString()));break;case we.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let V=new Ce;u=we.numericCompaction(o,u+1,V),h.setTimestamp(du.parseLong(V.toString()));break;case we.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let q=new Ce;u=we.numericCompaction(o,u+1,q),h.setChecksum(L.parseInt(q.toString()));break;case we.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Z=new Ce;u=we.numericCompaction(o,u+1,Z),h.setFileSize(du.parseLong(Z.toString()));break;default:throw z.getFormatInstance()}break;case we.MACRO_PDF417_TERMINATOR:u++,h.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(_!==-1){let C=u-_;h.isLastSegment()&&C--,h.setOptionalData(G.copyOfRange(o,_,_+C))}return u}static textCompaction(o,u,h){let g=new Int32Array((o[0]-u)*2),y=new Int32Array((o[0]-u)*2),_=0,C=!1;for(;u<o[0]&&!C;){let N=o[u++];if(N<we.TEXT_COMPACTION_MODE_LATCH)g[_]=N/30,g[_+1]=N%30,_+=2;else switch(N){case we.TEXT_COMPACTION_MODE_LATCH:g[_++]=we.TEXT_COMPACTION_MODE_LATCH;break;case we.BYTE_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.NUMERIC_COMPACTION_MODE_LATCH:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:u--,C=!0;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g[_]=we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=o[u++],y[_]=N,_++;break}}return we.decodeTextCompaction(g,y,_,h),u}static decodeTextCompaction(o,u,h,g){let y=pn.ALPHA,_=pn.ALPHA,C=0;for(;C<h;){let N=o[C],O="";switch(y){case pn.ALPHA:if(N<26)O=String.fromCharCode(65+N);else switch(N){case 26:O=" ";break;case we.LL:y=pn.LOWER;break;case we.ML:y=pn.MIXED;break;case we.PS:_=y,y=pn.PUNCT_SHIFT;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:y=pn.ALPHA;break}break;case pn.LOWER:if(N<26)O=String.fromCharCode(97+N);else switch(N){case 26:O=" ";break;case we.AS:_=y,y=pn.ALPHA_SHIFT;break;case we.ML:y=pn.MIXED;break;case we.PS:_=y,y=pn.PUNCT_SHIFT;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:y=pn.ALPHA;break}break;case pn.MIXED:if(N<we.PL)O=we.MIXED_CHARS[N];else switch(N){case we.PL:y=pn.PUNCT;break;case 26:O=" ";break;case we.LL:y=pn.LOWER;break;case we.AL:y=pn.ALPHA;break;case we.PS:_=y,y=pn.PUNCT_SHIFT;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:y=pn.ALPHA;break}break;case pn.PUNCT:if(N<we.PAL)O=we.PUNCT_CHARS[N];else switch(N){case we.PAL:y=pn.ALPHA;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:y=pn.ALPHA;break}break;case pn.ALPHA_SHIFT:if(y=_,N<26)O=String.fromCharCode(65+N);else switch(N){case 26:O=" ";break;case we.TEXT_COMPACTION_MODE_LATCH:y=pn.ALPHA;break}break;case pn.PUNCT_SHIFT:if(y=_,N<we.PAL)O=we.PUNCT_CHARS[N];else switch(N){case we.PAL:y=pn.ALPHA;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(u[C]);break;case we.TEXT_COMPACTION_MODE_LATCH:y=pn.ALPHA;break}break}O!==""&&g.append(O),C++}}static byteCompaction(o,u,h,g,y){let _=new M0,C=0,N=0,O=!1;switch(o){case we.BYTE_COMPACTION_MODE_LATCH:let F=new Int32Array(6),V=u[g++];for(;g<u[0]&&!O;)switch(F[C++]=V,N=900*N+V,V=u[g++],V){case we.TEXT_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH:case we.NUMERIC_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:g--,O=!0;break;default:if(C%5===0&&C>0){for(let q=0;q<6;++q)_.write(Number(pa(N)>>pa(8*(5-q))));N=0,C=0}break}g===u[0]&&V<we.TEXT_COMPACTION_MODE_LATCH&&(F[C++]=V);for(let q=0;q<C;q++)_.write(F[q]);break;case we.BYTE_COMPACTION_MODE_LATCH_6:for(;g<u[0]&&!O;){let q=u[g++];if(q<we.TEXT_COMPACTION_MODE_LATCH)C++,N=900*N+q;else switch(q){case we.TEXT_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH:case we.NUMERIC_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:g--,O=!0;break}if(C%5===0&&C>0){for(let Z=0;Z<6;++Z)_.write(Number(pa(N)>>pa(8*(5-Z))));N=0,C=0}}break}return y.append(ee.decode(_.toByteArray(),h)),g}static numericCompaction(o,u,h){let g=0,y=!1,_=new Int32Array(we.MAX_NUMERIC_CODEWORDS);for(;u<o[0]&&!y;){let C=o[u++];if(u===o[0]&&(y=!0),C<we.TEXT_COMPACTION_MODE_LATCH)_[g]=C,g++;else switch(C){case we.TEXT_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:u--,y=!0;break}(g%we.MAX_NUMERIC_CODEWORDS===0||C===we.NUMERIC_COMPACTION_MODE_LATCH||y)&&g>0&&(h.append(we.decodeBase900toBase10(_,g)),g=0)}return u}static decodeBase900toBase10(o,u){let h=pa(0);for(let y=0;y<u;y++)h+=we.EXP900[u-y-1]*pa(o[y]);let g=h.toString();if(g.charAt(0)!=="1")throw new z;return g.substring(1)}}we.TEXT_COMPACTION_MODE_LATCH=900,we.BYTE_COMPACTION_MODE_LATCH=901,we.NUMERIC_COMPACTION_MODE_LATCH=902,we.BYTE_COMPACTION_MODE_LATCH_6=924,we.ECI_USER_DEFINED=925,we.ECI_GENERAL_PURPOSE=926,we.ECI_CHARSET=927,we.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,we.MACRO_PDF417_TERMINATOR=922,we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,we.MAX_NUMERIC_CODEWORDS=15,we.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,we.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,we.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,we.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,we.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,we.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,we.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,we.PL=25,we.LL=27,we.AS=27,we.ML=28,we.AL=28,we.PS=29,we.PAL=29,we.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,we.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",we.EXP900=zh()?O0():[],we.NUMBER_OF_SEQUENCE_CODEWORDS=2;class kt{constructor(){}static decode(o,u,h,g,y,_,C){let N=new ua(o,u,h,g,y),O=null,F=null,V;for(let ie=!0;;ie=!1){if(u!=null&&(O=kt.getRowIndicatorColumn(o,N,u,!0,_,C)),g!=null&&(F=kt.getRowIndicatorColumn(o,N,g,!1,_,C)),V=kt.merge(O,F),V==null)throw te.getNotFoundInstance();let se=V.getBoundingBox();if(ie&&se!=null&&(se.getMinY()<N.getMinY()||se.getMaxY()>N.getMaxY()))N=se;else break}V.setBoundingBox(N);let q=V.getBarcodeColumnCount()+1;V.setDetectionResultColumn(0,O),V.setDetectionResultColumn(q,F);let Z=O!=null;for(let ie=1;ie<=q;ie++){let se=Z?ie:q-ie;if(V.getDetectionResultColumn(se)!==void 0)continue;let fe;se===0||se===q?fe=new fa(N,se===0):fe=new Ho(N),V.setDetectionResultColumn(se,fe);let be=-1,Pe=be;for(let ze=N.getMinY();ze<=N.getMaxY();ze++){if(be=kt.getStartColumn(V,se,ze,Z),be<0||be>N.getMaxX()){if(Pe===-1)continue;be=Pe}let Le=kt.detectCodeword(o,N.getMinX(),N.getMaxX(),Z,be,ze,_,C);Le!=null&&(fe.setCodeword(ze,Le),Pe=be,_=Math.min(_,Le.getWidth()),C=Math.max(C,Le.getWidth()))}}return kt.createDecoderResult(V)}static merge(o,u){if(o==null&&u==null)return null;let h=kt.getBarcodeMetadata(o,u);if(h==null)return null;let g=ua.merge(kt.adjustBoundingBox(o),kt.adjustBoundingBox(u));return new ha(h,g)}static adjustBoundingBox(o){if(o==null)return null;let u=o.getRowHeights();if(u==null)return null;let h=kt.getMax(u),g=0;for(let C of u)if(g+=h-C,C>0)break;let y=o.getCodewords();for(let C=0;g>0&&y[C]==null;C++)g--;let _=0;for(let C=u.length-1;C>=0&&(_+=h-u[C],!(u[C]>0));C--);for(let C=y.length-1;_>0&&y[C]==null;C--)_--;return o.getBoundingBox().addMissingRows(g,_,o.isLeft())}static getMax(o){let u=-1;for(let h of o)u=Math.max(u,h);return u}static getBarcodeMetadata(o,u){let h;if(o==null||(h=o.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let g;return u==null||(g=u.getBarcodeMetadata())==null?h:h.getColumnCount()!==g.getColumnCount()&&h.getErrorCorrectionLevel()!==g.getErrorCorrectionLevel()&&h.getRowCount()!==g.getRowCount()?null:h}static getRowIndicatorColumn(o,u,h,g,y,_){let C=new fa(u,g);for(let N=0;N<2;N++){let O=N===0?1:-1,F=Math.trunc(Math.trunc(h.getX()));for(let V=Math.trunc(Math.trunc(h.getY()));V<=u.getMaxY()&&V>=u.getMinY();V+=O){let q=kt.detectCodeword(o,0,o.getWidth(),g,F,V,y,_);q!=null&&(C.setCodeword(V,q),g?F=q.getStartX():F=q.getEndX())}}return C}static adjustCodewordCount(o,u){let h=u[0][1],g=h.getValue(),y=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-kt.getNumberOfECCodeWords(o.getBarcodeECLevel());if(g.length===0){if(y<1||y>ft.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();h.setValue(y)}else g[0]!==y&&h.setValue(y)}static createDecoderResult(o){let u=kt.createBarcodeMatrix(o);kt.adjustCodewordCount(o,u);let h=new Array,g=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),y=[],_=new Array;for(let N=0;N<o.getBarcodeRowCount();N++)for(let O=0;O<o.getBarcodeColumnCount();O++){let F=u[N][O+1].getValue(),V=N*o.getBarcodeColumnCount()+O;F.length===0?h.push(V):F.length===1?g[V]=F[0]:(_.push(V),y.push(F))}let C=new Array(y.length);for(let N=0;N<C.length;N++)C[N]=y[N];return kt.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),g,ft.toIntArray(h),ft.toIntArray(_),C)}static createDecoderResultFromAmbiguousValues(o,u,h,g,y){let _=new Int32Array(g.length),C=100;for(;C-- >0;){for(let N=0;N<_.length;N++)u[g[N]]=y[N][_[N]];try{return kt.decodeCodewords(u,o,h)}catch(N){if(!(N instanceof E))throw N}if(_.length===0)throw E.getChecksumInstance();for(let N=0;N<_.length;N++)if(_[N]<y[N].length-1){_[N]++;break}else if(_[N]=0,N===_.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(o){let u=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let g=0;g<u.length;g++)for(let y=0;y<u[g].length;y++)u[g][y]=new bi;let h=0;for(let g of o.getDetectionResultColumns()){if(g!=null){for(let y of g.getCodewords())if(y!=null){let _=y.getRowNumber();if(_>=0){if(_>=u.length)continue;u[_][h].setValue(y.getValue())}}}h++}return u}static isValidBarcodeColumn(o,u){return u>=0&&u<=o.getBarcodeColumnCount()+1}static getStartColumn(o,u,h,g){let y=g?1:-1,_=null;if(kt.isValidBarcodeColumn(o,u-y)&&(_=o.getDetectionResultColumn(u-y).getCodeword(h)),_!=null)return g?_.getEndX():_.getStartX();if(_=o.getDetectionResultColumn(u).getCodewordNearby(h),_!=null)return g?_.getStartX():_.getEndX();if(kt.isValidBarcodeColumn(o,u-y)&&(_=o.getDetectionResultColumn(u-y).getCodewordNearby(h)),_!=null)return g?_.getEndX():_.getStartX();let C=0;for(;kt.isValidBarcodeColumn(o,u-y);){u-=y;for(let N of o.getDetectionResultColumn(u).getCodewords())if(N!=null)return(g?N.getEndX():N.getStartX())+y*C*(N.getEndX()-N.getStartX());C++}return g?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,u,h,g,y,_,C,N){y=kt.adjustCodewordStartColumn(o,u,h,g,y,_);let O=kt.getModuleBitCount(o,u,h,g,y,_);if(O==null)return null;let F,V=At.sum(O);if(g)F=y+V;else{for(let ie=0;ie<O.length/2;ie++){let se=O[ie];O[ie]=O[O.length-1-ie],O[O.length-1-ie]=se}F=y,y=F-V}if(!kt.checkCodewordSkew(V,C,N))return null;let q=nr.getDecodedValue(O),Z=ft.getCodeword(q);return Z===-1?null:new qs(y,F,kt.getCodewordBucketNumber(q),Z)}static getModuleBitCount(o,u,h,g,y,_){let C=y,N=new Int32Array(8),O=0,F=g?1:-1,V=g;for(;(g?C<h:C>=u)&&O<N.length;)o.get(C,_)===V?(N[O]++,C+=F):(O++,V=!V);return O===N.length||C===(g?h:u)&&O===N.length-1?N:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,u,h,g,y,_){let C=y,N=g?-1:1;for(let O=0;O<2;O++){for(;(g?C>=u:C<h)&&g===o.get(C,_);){if(Math.abs(y-C)>kt.CODEWORD_SKEW_SIZE)return y;C+=N}N=-N,g=!g}return C}static checkCodewordSkew(o,u,h){return u-kt.CODEWORD_SKEW_SIZE<=o&&o<=h+kt.CODEWORD_SKEW_SIZE}static decodeCodewords(o,u,h){if(o.length===0)throw z.getFormatInstance();let g=1<<u+1,y=kt.correctErrors(o,h,g);kt.verifyCodewordCount(o,g);let _=we.decode(o,""+u);return _.setErrorsCorrected(y),_.setErasures(h.length),_}static correctErrors(o,u,h){if(u!=null&&u.length>h/2+kt.MAX_ERRORS||h<0||h>kt.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return kt.errorCorrection.decode(o,h,u)}static verifyCodewordCount(o,u){if(o.length<4)throw z.getFormatInstance();let h=o[0];if(h>o.length)throw z.getFormatInstance();if(h===0)if(u<o.length)o[0]=o.length-u;else throw z.getFormatInstance()}static getBitCountForCodeword(o){let u=new Int32Array(8),h=0,g=u.length-1;for(;!((o&1)!==h&&(h=o&1,g--,g<0));)u[g]++,o>>=1;return u}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return kt.getCodewordBucketNumber(kt.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let u=new da;for(let h=0;h<o.length;h++){u.format("Row %2d: ",h);for(let g=0;g<o[h].length;g++){let y=o[h][g];y.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",y.getValue()[0],y.getConfidence(y.getValue()[0]))}u.format("%n")}return u.toString()}}kt.CODEWORD_SKEW_SIZE=2,kt.MAX_ERRORS=3,kt.MAX_EC_CODEWORDS=512,kt.errorCorrection=new nc;class ki{decode(o,u=null){let h=ki.decode(o,u,!1);if(h==null||h.length===0||h[0]==null)throw te.getNotFoundInstance();return h[0]}decodeMultiple(o,u=null){try{return ki.decode(o,u,!0)}catch(h){throw h instanceof z||h instanceof E?te.getNotFoundInstance():h}}static decode(o,u,h){const g=new Array,y=St.detectMultiple(o,u,h);for(const _ of y.getPoints()){const C=kt.decode(y.getBits(),_[4],_[5],_[6],_[7],ki.getMinCodewordWidth(_),ki.getMaxCodewordWidth(_)),N=new He(C.getText(),C.getRawBytes(),void 0,_,Ae.PDF_417);N.putMetadata(gt.ERROR_CORRECTION_LEVEL,C.getECLevel());const O=C.getOther();O!=null&&N.putMetadata(gt.PDF417_EXTRA_METADATA,O),g.push(N)}return g.map(_=>_)}static getMaxWidth(o,u){return o==null||u==null?0:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMinWidth(o,u){return o==null||u==null?L.MAX_VALUE:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(ki.getMaxWidth(o[0],o[4]),ki.getMaxWidth(o[6],o[2])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN),Math.max(ki.getMaxWidth(o[1],o[5]),ki.getMaxWidth(o[7],o[3])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(ki.getMinWidth(o[0],o[4]),ki.getMinWidth(o[6],o[2])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN),Math.min(ki.getMinWidth(o[1],o[5]),ki.getMinWidth(o[7],o[3])*ft.MODULES_IN_CODEWORD/ft.MODULES_IN_STOP_PATTERN)))}reset(){}}class ic extends p{}ic.kind="ReaderException";class Hh{constructor(o,u){this.verbose=o===!0,u&&this.setHints(u)}decode(o,u){return u&&this.setHints(u),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const u=!i(o)&&o.get(P.TRY_HARDER)===!0,h=i(o)?null:o.get(P.POSSIBLE_FORMATS),g=new Array;if(!i(h)){const y=h.some(_=>_===Ae.UPC_A||_===Ae.UPC_E||_===Ae.EAN_13||_===Ae.EAN_8||_===Ae.CODABAR||_===Ae.CODE_39||_===Ae.CODE_93||_===Ae.CODE_128||_===Ae.ITF||_===Ae.RSS_14||_===Ae.RSS_EXPANDED);y&&!u&&g.push(new Vn(o,this.verbose)),h.includes(Ae.QR_CODE)&&g.push(new Vs),h.includes(Ae.DATA_MATRIX)&&g.push(new Zr),h.includes(Ae.AZTEC)&&g.push(new Ei),h.includes(Ae.PDF_417)&&g.push(new ki),y&&u&&g.push(new Vn(o,this.verbose))}g.length===0&&(u||g.push(new Vn(o,this.verbose)),g.push(new Vs),g.push(new Zr),g.push(new Ei),g.push(new ki),u&&g.push(new Vn(o,this.verbose))),this.readers=g}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new ic("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(o,this.hints)}catch(h){if(h instanceof ic)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class R0 extends Oe{constructor(o=null,u=500){const h=new Hh;h.setHints(o),super(h,u)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class D0 extends Oe{constructor(o=500){super(new ki,o)}}class B0 extends Oe{constructor(o=500){super(new Vs,o)}}var rc;(function($){$[$.ERROR_CORRECTION=0]="ERROR_CORRECTION",$[$.CHARACTER_SET=1]="CHARACTER_SET",$[$.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",$[$.MIN_SIZE=3]="MIN_SIZE",$[$.MAX_SIZE=4]="MAX_SIZE",$[$.MARGIN=5]="MARGIN",$[$.PDF417_COMPACT=6]="PDF417_COMPACT",$[$.PDF417_COMPACTION=7]="PDF417_COMPACTION",$[$.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",$[$.AZTEC_LAYERS=9]="AZTEC_LAYERS",$[$.QR_VERSION=10]="QR_VERSION"})(rc||(rc={}));var di=rc;class Md{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new cn(o,Int32Array.from([1])))}buildGenerator(o){const u=this.cachedGenerators;if(o>=u.length){let h=u[u.length-1];const g=this.field;for(let y=u.length;y<=o;y++){const _=h.multiply(new cn(g,Int32Array.from([1,g.exp(y-1+g.getGeneratorBase())])));u.push(_),h=_}}return u[o]}encode(o,u){if(u===0)throw new w("No error correction bytes");const h=o.length-u;if(h<=0)throw new w("No data bytes provided");const g=this.buildGenerator(u),y=new Int32Array(h);M.arraycopy(o,0,y,0,h);let _=new cn(this.field,y);_=_.multiplyByMonomial(u,1);const N=_.divide(g)[1].getCoefficients(),O=u-N.length;for(let F=0;F<O;F++)o[h+F]=0;M.arraycopy(N,0,o,h+O,N.length)}}class Fn{constructor(){}static applyMaskPenaltyRule1(o){return Fn.applyMaskPenaltyRule1Internal(o,!0)+Fn.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let u=0;const h=o.getArray(),g=o.getWidth(),y=o.getHeight();for(let _=0;_<y-1;_++){const C=h[_];for(let N=0;N<g-1;N++){const O=C[N];O===C[N+1]&&O===h[_+1][N]&&O===h[_+1][N+1]&&u++}}return Fn.N2*u}static applyMaskPenaltyRule3(o){let u=0;const h=o.getArray(),g=o.getWidth(),y=o.getHeight();for(let _=0;_<y;_++)for(let C=0;C<g;C++){const N=h[_];C+6<g&&N[C]===1&&N[C+1]===0&&N[C+2]===1&&N[C+3]===1&&N[C+4]===1&&N[C+5]===0&&N[C+6]===1&&(Fn.isWhiteHorizontal(N,C-4,C)||Fn.isWhiteHorizontal(N,C+7,C+11))&&u++,_+6<y&&h[_][C]===1&&h[_+1][C]===0&&h[_+2][C]===1&&h[_+3][C]===1&&h[_+4][C]===1&&h[_+5][C]===0&&h[_+6][C]===1&&(Fn.isWhiteVertical(h,C,_-4,_)||Fn.isWhiteVertical(h,C,_+7,_+11))&&u++}return u*Fn.N3}static isWhiteHorizontal(o,u,h){u=Math.max(u,0),h=Math.min(h,o.length);for(let g=u;g<h;g++)if(o[g]===1)return!1;return!0}static isWhiteVertical(o,u,h,g){h=Math.max(h,0),g=Math.min(g,o.length);for(let y=h;y<g;y++)if(o[y][u]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let u=0;const h=o.getArray(),g=o.getWidth(),y=o.getHeight();for(let N=0;N<y;N++){const O=h[N];for(let F=0;F<g;F++)O[F]===1&&u++}const _=o.getHeight()*o.getWidth();return Math.floor(Math.abs(u*2-_)*10/_)*Fn.N4}static getDataMaskBit(o,u,h){let g,y;switch(o){case 0:g=h+u&1;break;case 1:g=h&1;break;case 2:g=u%3;break;case 3:g=(h+u)%3;break;case 4:g=Math.floor(h/2)+Math.floor(u/3)&1;break;case 5:y=h*u,g=(y&1)+y%3;break;case 6:y=h*u,g=(y&1)+y%3&1;break;case 7:y=h*u,g=y%3+(h+u&1)&1;break;default:throw new w("Invalid mask pattern: "+o)}return g===0}static applyMaskPenaltyRule1Internal(o,u){let h=0;const g=u?o.getHeight():o.getWidth(),y=u?o.getWidth():o.getHeight(),_=o.getArray();for(let C=0;C<g;C++){let N=0,O=-1;for(let F=0;F<y;F++){const V=u?_[C][F]:_[F][C];V===O?N++:(N>=5&&(h+=Fn.N1+(N-5)),N=1,O=V)}N>=5&&(h+=Fn.N1+(N-5))}return h}}Fn.N1=3,Fn.N2=3,Fn.N3=40,Fn.N4=10;class sc{constructor(o,u){this.width=o,this.height=u;const h=new Array(u);for(let g=0;g!==u;g++)h[g]=new Uint8Array(o);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(o,u){return this.bytes[u][o]}getArray(){return this.bytes}setNumber(o,u,h){this.bytes[u][o]=h}setBoolean(o,u,h){this.bytes[u][o]=h?1:0}clear(o){for(const u of this.bytes)G.fill(u,o)}equals(o){if(!(o instanceof sc))return!1;const u=o;if(this.width!==u.width||this.height!==u.height)return!1;for(let h=0,g=this.height;h<g;++h){const y=this.bytes[h],_=u.bytes[h];for(let C=0,N=this.width;C<N;++C)if(y[C]!==_[C])return!1}return!0}toString(){const o=new Ce;for(let u=0,h=this.height;u<h;++u){const g=this.bytes[u];for(let y=0,_=this.width;y<_;++y)switch(g[y]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class $a{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new Ce;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<$a.NUM_MASK_PATTERNS}}$a.NUM_MASK_PATTERNS=8;class xn extends p{}xn.kind="WriterException";class mt{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,u,h,g,y){mt.clearMatrix(y),mt.embedBasicPatterns(h,y),mt.embedTypeInfo(u,g,y),mt.maybeEmbedVersionInfo(h,y),mt.embedDataBits(o,g,y)}static embedBasicPatterns(o,u){mt.embedPositionDetectionPatternsAndSeparators(u),mt.embedDarkDotAtLeftBottomCorner(u),mt.maybeEmbedPositionAdjustmentPatterns(o,u),mt.embedTimingPatterns(u)}static embedTypeInfo(o,u,h){const g=new k;mt.makeTypeInfoBits(o,u,g);for(let y=0,_=g.getSize();y<_;++y){const C=g.get(g.getSize()-1-y),N=mt.TYPE_INFO_COORDINATES[y],O=N[0],F=N[1];if(h.setBoolean(O,F,C),y<8){const V=h.getWidth()-y-1;h.setBoolean(V,8,C)}else{const q=h.getHeight()-7+(y-8);h.setBoolean(8,q,C)}}}static maybeEmbedVersionInfo(o,u){if(o.getVersionNumber()<7)return;const h=new k;mt.makeVersionInfoBits(o,h);let g=6*3-1;for(let y=0;y<6;++y)for(let _=0;_<3;++_){const C=h.get(g);g--,u.setBoolean(y,u.getHeight()-11+_,C),u.setBoolean(u.getHeight()-11+_,y,C)}}static embedDataBits(o,u,h){let g=0,y=-1,_=h.getWidth()-1,C=h.getHeight()-1;for(;_>0;){for(_===6&&(_-=1);C>=0&&C<h.getHeight();){for(let N=0;N<2;++N){const O=_-N;if(!mt.isEmpty(h.get(O,C)))continue;let F;g<o.getSize()?(F=o.get(g),++g):F=!1,u!==255&&Fn.getDataMaskBit(u,O,C)&&(F=!F),h.setBoolean(O,C,F)}C+=y}y=-y,C+=y,_-=2}if(g!==o.getSize())throw new xn("Not all bits consumed: "+g+"/"+o.getSize())}static findMSBSet(o){return 32-L.numberOfLeadingZeros(o)}static calculateBCHCode(o,u){if(u===0)throw new w("0 polynomial");const h=mt.findMSBSet(u);for(o<<=h-1;mt.findMSBSet(o)>=h;)o^=u<<mt.findMSBSet(o)-h;return o}static makeTypeInfoBits(o,u,h){if(!$a.isValidMaskPattern(u))throw new xn("Invalid mask pattern");const g=o.getBits()<<3|u;h.appendBits(g,5);const y=mt.calculateBCHCode(g,mt.TYPE_INFO_POLY);h.appendBits(y,10);const _=new k;if(_.appendBits(mt.TYPE_INFO_MASK_PATTERN,15),h.xor(_),h.getSize()!==15)throw new xn("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(o,u){u.appendBits(o.getVersionNumber(),6);const h=mt.calculateBCHCode(o.getVersionNumber(),mt.VERSION_INFO_POLY);if(u.appendBits(h,12),u.getSize()!==18)throw new xn("should not happen but we got: "+u.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let u=8;u<o.getWidth()-8;++u){const h=(u+1)%2;mt.isEmpty(o.get(u,6))&&o.setNumber(u,6,h),mt.isEmpty(o.get(6,u))&&o.setNumber(6,u,h)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new xn;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,u,h){for(let g=0;g<8;++g){if(!mt.isEmpty(h.get(o+g,u)))throw new xn;h.setNumber(o+g,u,0)}}static embedVerticalSeparationPattern(o,u,h){for(let g=0;g<7;++g){if(!mt.isEmpty(h.get(o,u+g)))throw new xn;h.setNumber(o,u+g,0)}}static embedPositionAdjustmentPattern(o,u,h){for(let g=0;g<5;++g){const y=mt.POSITION_ADJUSTMENT_PATTERN[g];for(let _=0;_<5;++_)h.setNumber(o+_,u+g,y[_])}}static embedPositionDetectionPattern(o,u,h){for(let g=0;g<7;++g){const y=mt.POSITION_DETECTION_PATTERN[g];for(let _=0;_<7;++_)h.setNumber(o+_,u+g,y[_])}}static embedPositionDetectionPatternsAndSeparators(o){const u=mt.POSITION_DETECTION_PATTERN[0].length;mt.embedPositionDetectionPattern(0,0,o),mt.embedPositionDetectionPattern(o.getWidth()-u,0,o),mt.embedPositionDetectionPattern(0,o.getWidth()-u,o);const h=8;mt.embedHorizontalSeparationPattern(0,h-1,o),mt.embedHorizontalSeparationPattern(o.getWidth()-h,h-1,o),mt.embedHorizontalSeparationPattern(0,o.getWidth()-h,o);const g=7;mt.embedVerticalSeparationPattern(g,0,o),mt.embedVerticalSeparationPattern(o.getHeight()-g-1,0,o),mt.embedVerticalSeparationPattern(g,o.getHeight()-g,o)}static maybeEmbedPositionAdjustmentPatterns(o,u){if(o.getVersionNumber()<2)return;const h=o.getVersionNumber()-1,g=mt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let y=0,_=g.length;y!==_;y++){const C=g[y];if(C>=0)for(let N=0;N!==_;N++){const O=g[N];O>=0&&mt.isEmpty(u.get(O,C))&&mt.embedPositionAdjustmentPattern(O-2,C-2,u)}}}}mt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),mt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),mt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),mt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),mt.VERSION_INFO_POLY=7973,mt.TYPE_INFO_POLY=1335,mt.TYPE_INFO_MASK_PATTERN=21522;class L0{constructor(o,u){this.dataBytes=o,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Nn{constructor(){}static calculateMaskPenalty(o){return Fn.applyMaskPenaltyRule1(o)+Fn.applyMaskPenaltyRule2(o)+Fn.applyMaskPenaltyRule3(o)+Fn.applyMaskPenaltyRule4(o)}static encode(o,u,h=null){let g=Nn.DEFAULT_BYTE_MODE_ENCODING;const y=h!==null&&h.get(di.CHARACTER_SET)!==void 0;y&&(g=h.get(di.CHARACTER_SET).toString());const _=this.chooseMode(o,g),C=new k;if(_===ct.BYTE&&(y||Nn.DEFAULT_BYTE_MODE_ENCODING!==g)){const ze=X.getCharacterSetECIByName(g);ze!==void 0&&this.appendECI(ze,C)}this.appendModeInfo(_,C);const N=new k;this.appendBytes(o,_,N,g);let O;if(h!==null&&h.get(di.QR_VERSION)!==void 0){const ze=Number.parseInt(h.get(di.QR_VERSION).toString(),10);O=st.getVersionForNumber(ze);const Le=this.calculateBitsNeeded(_,C,N,O);if(!this.willFit(Le,O,u))throw new xn("Data too big for requested version")}else O=this.recommendVersion(u,_,C,N);const F=new k;F.appendBitArray(C);const V=_===ct.BYTE?N.getSizeInBytes():o.length;this.appendLengthInfo(V,O,_,F),F.appendBitArray(N);const q=O.getECBlocksForLevel(u),Z=O.getTotalCodewords()-q.getTotalECCodewords();this.terminateBits(Z,F);const ie=this.interleaveWithECBytes(F,O.getTotalCodewords(),Z,q.getNumBlocks()),se=new $a;se.setECLevel(u),se.setMode(_),se.setVersion(O);const fe=O.getDimensionForVersion(),be=new sc(fe,fe),Pe=this.chooseMaskPattern(ie,u,O,be);return se.setMaskPattern(Pe),mt.buildMatrix(ie,u,O,Pe,be),se.setMatrix(be),se}static recommendVersion(o,u,h,g){const y=this.calculateBitsNeeded(u,h,g,st.getVersionForNumber(1)),_=this.chooseVersion(y,o),C=this.calculateBitsNeeded(u,h,g,_);return this.chooseVersion(C,o)}static calculateBitsNeeded(o,u,h,g){return u.getSize()+o.getCharacterCountBits(g)+h.getSize()}static getAlphanumericCode(o){return o<Nn.ALPHANUMERIC_TABLE.length?Nn.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,u=null){if(X.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(o))return ct.KANJI;let h=!1,g=!1;for(let y=0,_=o.length;y<_;++y){const C=o.charAt(y);if(Nn.isDigit(C))h=!0;else if(this.getAlphanumericCode(C.charCodeAt(0))!==-1)g=!0;else return ct.BYTE}return g?ct.ALPHANUMERIC:h?ct.NUMERIC:ct.BYTE}static isOnlyDoubleByteKanji(o){let u;try{u=ee.encode(o,X.SJIS)}catch{return!1}const h=u.length;if(h%2!==0)return!1;for(let g=0;g<h;g+=2){const y=u[g]&255;if((y<129||y>159)&&(y<224||y>235))return!1}return!0}static chooseMaskPattern(o,u,h,g){let y=Number.MAX_SAFE_INTEGER,_=-1;for(let C=0;C<$a.NUM_MASK_PATTERNS;C++){mt.buildMatrix(o,u,h,C,g);let N=this.calculateMaskPenalty(g);N<y&&(y=N,_=C)}return _}static chooseVersion(o,u){for(let h=1;h<=40;h++){const g=st.getVersionForNumber(h);if(Nn.willFit(o,g,u))return g}throw new xn("Data too big")}static willFit(o,u,h){const g=u.getTotalCodewords(),_=u.getECBlocksForLevel(h).getTotalECCodewords(),C=g-_,N=(o+7)/8;return C>=N}static terminateBits(o,u){const h=o*8;if(u.getSize()>h)throw new xn("data bits cannot fit in the QR Code"+u.getSize()+" > "+h);for(let _=0;_<4&&u.getSize()<h;++_)u.appendBit(!1);const g=u.getSize()&7;if(g>0)for(let _=g;_<8;_++)u.appendBit(!1);const y=o-u.getSizeInBytes();for(let _=0;_<y;++_)u.appendBits((_&1)===0?236:17,8);if(u.getSize()!==h)throw new xn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,u,h,g,y,_){if(g>=h)throw new xn("Block ID too large");const C=o%h,N=h-C,O=Math.floor(o/h),F=O+1,V=Math.floor(u/h),q=V+1,Z=O-V,ie=F-q;if(Z!==ie)throw new xn("EC bytes mismatch");if(h!==N+C)throw new xn("RS blocks mismatch");if(o!==(V+Z)*N+(q+ie)*C)throw new xn("Total bytes mismatch");g<N?(y[0]=V,_[0]=Z):(y[0]=q,_[0]=ie)}static interleaveWithECBytes(o,u,h,g){if(o.getSizeInBytes()!==h)throw new xn("Number of bits and data bytes does not match");let y=0,_=0,C=0;const N=new Array;for(let F=0;F<g;++F){const V=new Int32Array(1),q=new Int32Array(1);Nn.getNumDataBytesAndNumECBytesForBlockID(u,h,g,F,V,q);const Z=V[0],ie=new Uint8Array(Z);o.toBytes(8*y,ie,0,Z);const se=Nn.generateECBytes(ie,q[0]);N.push(new L0(ie,se)),_=Math.max(_,Z),C=Math.max(C,se.length),y+=V[0]}if(h!==y)throw new xn("Data bytes does not match offset");const O=new k;for(let F=0;F<_;++F)for(const V of N){const q=V.getDataBytes();F<q.length&&O.appendBits(q[F],8)}for(let F=0;F<C;++F)for(const V of N){const q=V.getErrorCorrectionBytes();F<q.length&&O.appendBits(q[F],8)}if(u!==O.getSizeInBytes())throw new xn("Interleaving error: "+u+" and "+O.getSizeInBytes()+" differ.");return O}static generateECBytes(o,u){const h=o.length,g=new Int32Array(h+u);for(let _=0;_<h;_++)g[_]=o[_]&255;new Md(Ot.QR_CODE_FIELD_256).encode(g,u);const y=new Uint8Array(u);for(let _=0;_<u;_++)y[_]=g[h+_];return y}static appendModeInfo(o,u){u.appendBits(o.getBits(),4)}static appendLengthInfo(o,u,h,g){const y=h.getCharacterCountBits(u);if(o>=1<<y)throw new xn(o+" is bigger than "+((1<<y)-1));g.appendBits(o,y)}static appendBytes(o,u,h,g){switch(u){case ct.NUMERIC:Nn.appendNumericBytes(o,h);break;case ct.ALPHANUMERIC:Nn.appendAlphanumericBytes(o,h);break;case ct.BYTE:Nn.append8BitBytes(o,h,g);break;case ct.KANJI:Nn.appendKanjiBytes(o,h);break;default:throw new xn("Invalid mode: "+u)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const u=Nn.getDigit(o);return u>=0&&u<=9}static appendNumericBytes(o,u){const h=o.length;let g=0;for(;g<h;){const y=Nn.getDigit(o.charAt(g));if(g+2<h){const _=Nn.getDigit(o.charAt(g+1)),C=Nn.getDigit(o.charAt(g+2));u.appendBits(y*100+_*10+C,10),g+=3}else if(g+1<h){const _=Nn.getDigit(o.charAt(g+1));u.appendBits(y*10+_,7),g+=2}else u.appendBits(y,4),g++}}static appendAlphanumericBytes(o,u){const h=o.length;let g=0;for(;g<h;){const y=Nn.getAlphanumericCode(o.charCodeAt(g));if(y===-1)throw new xn;if(g+1<h){const _=Nn.getAlphanumericCode(o.charCodeAt(g+1));if(_===-1)throw new xn;u.appendBits(y*45+_,11),g+=2}else u.appendBits(y,6),g++}}static append8BitBytes(o,u,h){let g;try{g=ee.encode(o,h)}catch(y){throw new xn(y)}for(let y=0,_=g.length;y!==_;y++){const C=g[y];u.appendBits(C,8)}}static appendKanjiBytes(o,u){let h;try{h=ee.encode(o,X.SJIS)}catch(y){throw new xn(y)}const g=h.length;for(let y=0;y<g;y+=2){const _=h[y]&255,C=h[y+1]&255,N=_<<8&4294967295|C;let O=-1;if(N>=33088&&N<=40956?O=N-33088:N>=57408&&N<=60351&&(O=N-49472),O===-1)throw new xn("Invalid byte sequence");const F=(O>>8)*192+(O&255);u.appendBits(F,13)}}static appendECI(o,u){u.appendBits(ct.ECI.getBits(),4),u.appendBits(o.getValue(),8)}}Nn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Nn.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class Va{write(o,u,h,g=null){if(o.length===0)throw new w("Found empty contents");if(u<0||h<0)throw new w("Requested dimensions are too small: "+u+"x"+h);let y=hn.L,_=Va.QUIET_ZONE_SIZE;g!==null&&(g.get(di.ERROR_CORRECTION)!==void 0&&(y=hn.fromString(g.get(di.ERROR_CORRECTION).toString())),g.get(di.MARGIN)!==void 0&&(_=Number.parseInt(g.get(di.MARGIN).toString(),10)));const C=Nn.encode(o,y,g);return this.renderResult(C,u,h,_)}writeToDom(o,u,h,g,y=null){typeof o=="string"&&(o=document.querySelector(o));const _=this.write(u,h,g,y);o&&o.appendChild(_)}renderResult(o,u,h,g){const y=o.getMatrix();if(y===null)throw new qi;const _=y.getWidth(),C=y.getHeight(),N=_+g*2,O=C+g*2,F=Math.max(u,N),V=Math.max(h,O),q=Math.min(Math.floor(F/N),Math.floor(V/O)),Z=Math.floor((F-_*q)/2),ie=Math.floor((V-C*q)/2),se=this.createSVGElement(F,V);for(let fe=0,be=ie;fe<C;fe++,be+=q)for(let Pe=0,ze=Z;Pe<_;Pe++,ze+=q)if(y.get(Pe,fe)===1){const Le=this.createSvgRectElement(ze,be,q,q);se.appendChild(Le)}return se}createSVGElement(o,u){const h=document.createElementNS(Va.SVG_NS,"svg");return h.setAttributeNS(null,"height",o.toString()),h.setAttributeNS(null,"width",u.toString()),h}createSvgRectElement(o,u,h,g){const y=document.createElementNS(Va.SVG_NS,"rect");return y.setAttributeNS(null,"x",o.toString()),y.setAttributeNS(null,"y",u.toString()),y.setAttributeNS(null,"height",h.toString()),y.setAttributeNS(null,"width",g.toString()),y.setAttributeNS(null,"fill","#000000"),y}}Va.QUIET_ZONE_SIZE=4,Va.SVG_NS="http://www.w3.org/2000/svg";class Vo{encode(o,u,h,g,y){if(o.length===0)throw new w("Found empty contents");if(u!==Ae.QR_CODE)throw new w("Can only encode QR_CODE, but got "+u);if(h<0||g<0)throw new w(`Requested dimensions are too small: ${h}x${g}`);let _=hn.L,C=Vo.QUIET_ZONE_SIZE;y!==null&&(y.get(di.ERROR_CORRECTION)!==void 0&&(_=hn.fromString(y.get(di.ERROR_CORRECTION).toString())),y.get(di.MARGIN)!==void 0&&(C=Number.parseInt(y.get(di.MARGIN).toString(),10)));const N=Nn.encode(o,_,y);return Vo.renderResult(N,h,g,C)}static renderResult(o,u,h,g){const y=o.getMatrix();if(y===null)throw new qi;const _=y.getWidth(),C=y.getHeight(),N=_+g*2,O=C+g*2,F=Math.max(u,N),V=Math.max(h,O),q=Math.min(Math.floor(F/N),Math.floor(V/O)),Z=Math.floor((F-_*q)/2),ie=Math.floor((V-C*q)/2),se=new Se(F,V);for(let fe=0,be=ie;fe<C;fe++,be+=q)for(let Pe=0,ze=Z;Pe<_;Pe++,ze+=q)y.get(Pe,fe)===1&&se.setRegion(ze,be,q,q);return se}}Vo.QUIET_ZONE_SIZE=4;class j0{encode(o,u,h,g,y){let _;switch(u){case Ae.QR_CODE:_=new Vo;break;default:throw new w("No encoder available for format "+u)}return _.encode(o,u,h,g,y)}}class vs extends xe{constructor(o,u,h,g,y,_,C,N){if(super(_,C),this.yuvData=o,this.dataWidth=u,this.dataHeight=h,this.left=g,this.top=y,g+_>u||y+C>h)throw new w("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(_,C)}getRow(o,u){if(o<0||o>=this.getHeight())throw new w("Requested row is outside the image: "+o);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const g=(o+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,g,u,0,h),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.yuvData;const h=o*u,g=new Uint8ClampedArray(h);let y=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return M.arraycopy(this.yuvData,y,g,0,h),g;for(let _=0;_<u;_++){const C=_*o;M.arraycopy(this.yuvData,y,g,C,o),y+=this.dataWidth}return g}isCropSupported(){return!0}crop(o,u,h,g){return new vs(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+u,h,g,!1)}renderThumbnail(){const o=this.getWidth()/vs.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/vs.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(o*u),g=this.yuvData;let y=this.top*this.dataWidth+this.left;for(let _=0;_<u;_++){const C=_*o;for(let N=0;N<o;N++){const O=g[y+N*vs.THUMBNAIL_SCALE_FACTOR]&255;h[C+N]=4278190080|O*65793}y+=this.dataWidth*vs.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/vs.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/vs.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,u){const h=this.yuvData;for(let g=0,y=this.top*this.dataWidth+this.left;g<u;g++,y+=this.dataWidth){const _=y+o/2;for(let C=y,N=y+o-1;C<_;C++,N--){const O=h[C];h[C]=h[N],h[N]=O}}}invert(){return new Be(this)}}vs.THUMBNAIL_SCALE_FACTOR=2;class ac extends xe{constructor(o,u,h,g,y,_,C){if(super(u,h),this.dataWidth=g,this.dataHeight=y,this.left=_,this.top=C,o.BYTES_PER_ELEMENT===4){const N=u*h,O=new Uint8ClampedArray(N);for(let F=0;F<N;F++){const V=o[F],q=V>>16&255,Z=V>>7&510,ie=V&255;O[F]=(q+Z+ie)/4&255}this.luminances=O}else this.luminances=o;if(g===void 0&&(this.dataWidth=u),y===void 0&&(this.dataHeight=h),_===void 0&&(this.left=0),C===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+h>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(o,u){if(o<0||o>=this.getHeight())throw new w("Requested row is outside the image: "+o);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const g=(o+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,g,u,0,h),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.luminances;const h=o*u,g=new Uint8ClampedArray(h);let y=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return M.arraycopy(this.luminances,y,g,0,h),g;for(let _=0;_<u;_++){const C=_*o;M.arraycopy(this.luminances,y,g,C,o),y+=this.dataWidth}return g}isCropSupported(){return!0}crop(o,u,h,g){return new ac(this.luminances,h,g,this.dataWidth,this.dataHeight,this.left+o,this.top+u)}invert(){return new Be(this)}}class Go extends X{static forName(o){return this.getCharacterSetECIByName(o)}}class Od{}Od.ISO_8859_1=X.ISO8859_1;class Rd{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class Dd{static singletonList(o){return[o]}static min(o,u){return o.sort(u)[0]}}class Uh{constructor(o){this.previous=o}getPrevious(){return this.previous}}class Ga extends Uh{constructor(o,u,h){super(o),this.value=u,this.bitCount=h}appendTo(o,u){o.appendBits(this.value,this.bitCount)}add(o,u){return new Ga(this,o,u)}addBinaryShift(o,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ga(this,o,u)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+L.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class hu extends Ga{constructor(o,u,h){super(o,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=h}appendTo(o,u){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):h===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(u[this.binaryShiftStart+h],8)}addBinaryShift(o,u){return new hu(this,o,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function qo($,o,u){return new hu($,o,u)}function oc($,o,u){return new Ga($,o,u)}const P0=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ma=0,lc=1,yr=2,Wo=3,ir=4,F0=new Ga(null,0,0),Xo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function $h($){for(let o of $)G.fill(o,-1);return $[ma][ir]=0,$[lc][ir]=0,$[lc][ma]=28,$[Wo][ir]=0,$[yr][ir]=0,$[yr][ma]=15,$}const Bd=$h(G.createInt32Array(6,6));class Dr{constructor(o,u,h,g){this.token=o,this.mode=u,this.binaryShiftByteCount=h,this.bitCount=g}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,u){let h=this.bitCount,g=this.token;if(o!==this.mode){let _=Xo[this.mode][o];g=oc(g,_&65535,_>>16),h+=_>>16}let y=o===yr?4:5;return g=oc(g,u,y),new Dr(g,o,0,h+y)}shiftAndAppend(o,u){let h=this.token,g=this.mode===yr?4:5;return h=oc(h,Bd[this.mode][o],g),h=oc(h,u,5),new Dr(h,this.mode,0,this.bitCount+g+5)}addBinaryShiftChar(o){let u=this.token,h=this.mode,g=this.bitCount;if(this.mode===ir||this.mode===yr){let C=Xo[h][ma];u=oc(u,C&65535,C>>16),g+=C>>16,h=ma}let y=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,_=new Dr(u,h,this.binaryShiftByteCount+1,g+y);return _.binaryShiftByteCount===2078&&(_=_.endBinaryShift(o+1)),_}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=qo(u,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new Dr(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let u=this.bitCount+(Xo[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?u+=Dr.calculateBinaryShiftCost(o)-Dr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(u+=10),u<=o.bitCount}toBitArray(o){let u=[];for(let g=this.endBinaryShift(o.length).token;g!==null;g=g.getPrevious())u.unshift(g);let h=new k;for(const g of u)g.appendTo(h,o);return h}toString(){return oe.format("%s bits=%d bytes=%d",P0[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}Dr.INITIAL_STATE=new Dr(F0,ma,0,0);function Ld($){const o=oe.getCharCode(" "),u=oe.getCharCode("."),h=oe.getCharCode(",");$[ma][o]=1;const g=oe.getCharCode("Z"),y=oe.getCharCode("A");for(let q=y;q<=g;q++)$[ma][q]=q-y+2;$[lc][o]=1;const _=oe.getCharCode("z"),C=oe.getCharCode("a");for(let q=C;q<=_;q++)$[lc][q]=q-C+2;$[yr][o]=1;const N=oe.getCharCode("9"),O=oe.getCharCode("0");for(let q=O;q<=N;q++)$[yr][q]=q-O+2;$[yr][h]=12,$[yr][u]=13;const F=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let q=0;q<F.length;q++)$[Wo][oe.getCharCode(F[q])]=q;const V=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let q=0;q<V.length;q++)oe.getCharCode(V[q])>0&&($[ir][oe.getCharCode(V[q])]=q);return $}const pu=Ld(G.createInt32Array(5,256));class Yo{constructor(o){this.text=o}encode(){const o=oe.getCharCode(" "),u=oe.getCharCode(`
`);let h=Dd.singletonList(Dr.INITIAL_STATE);for(let y=0;y<this.text.length;y++){let _,C=y+1<this.text.length?this.text[y+1]:0;switch(this.text[y]){case oe.getCharCode("\r"):_=C===u?2:0;break;case oe.getCharCode("."):_=C===o?3:0;break;case oe.getCharCode(","):_=C===o?4:0;break;case oe.getCharCode(":"):_=C===o?5:0;break;default:_=0}_>0?(h=Yo.updateStateListForPair(h,y,_),y++):h=this.updateStateListForChar(h,y)}return Dd.min(h,(y,_)=>y.getBitCount()-_.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,u){const h=[];for(let g of o)this.updateStateForChar(g,u,h);return Yo.simplifyStates(h)}updateStateForChar(o,u,h){let g=this.text[u]&255,y=pu[o.getMode()][g]>0,_=null;for(let C=0;C<=ir;C++){let N=pu[C][g];if(N>0){if(_==null&&(_=o.endBinaryShift(u)),!y||C===o.getMode()||C===yr){const O=_.latchAndAppend(C,N);h.push(O)}if(!y&&Bd[o.getMode()][C]>=0){const O=_.shiftAndAppend(C,N);h.push(O)}}}if(o.getBinaryShiftByteCount()>0||pu[o.getMode()][g]===0){let C=o.addBinaryShiftChar(u);h.push(C)}}static updateStateListForPair(o,u,h){const g=[];for(let y of o)this.updateStateForPair(y,u,h,g);return this.simplifyStates(g)}static updateStateForPair(o,u,h,g){let y=o.endBinaryShift(u);if(g.push(y.latchAndAppend(ir,h)),o.getMode()!==ir&&g.push(y.shiftAndAppend(ir,h)),h===3||h===4){let _=y.latchAndAppend(yr,16-h).latchAndAppend(yr,1);g.push(_)}if(o.getBinaryShiftByteCount()>0){let _=o.addBinaryShiftChar(u).addBinaryShiftChar(u+1);g.push(_)}}static simplifyStates(o){let u=[];for(const h of o){let g=!0;for(const y of u){if(y.isBetterThanOrEqualTo(h)){g=!1;break}h.isBetterThanOrEqualTo(y)&&(u=u.filter(_=>_!==y))}g&&u.push(h)}return u}}class Qt{constructor(){}static encodeBytes(o){return Qt.encode(o,Qt.DEFAULT_EC_PERCENT,Qt.DEFAULT_AZTEC_LAYERS)}static encode(o,u,h){let g=new Yo(o).encode(),y=L.truncDivision(g.getSize()*u,100)+11,_=g.getSize()+y,C,N,O,F,V;if(h!==Qt.DEFAULT_AZTEC_LAYERS){if(C=h<0,N=Math.abs(h),N>(C?Qt.MAX_NB_BITS_COMPACT:Qt.MAX_NB_BITS))throw new w(oe.format("Illegal value %s for layers",h));O=Qt.totalBitsInLayer(N,C),F=Qt.WORD_SIZE[N];let Le=O-O%F;if(V=Qt.stuffBits(g,F),V.getSize()+y>Le)throw new w("Data to large for user specified layer");if(C&&V.getSize()>F*64)throw new w("Data to large for user specified layer")}else{F=0,V=null;for(let Le=0;;Le++){if(Le>Qt.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(C=Le<=3,N=C?Le+1:Le,O=Qt.totalBitsInLayer(N,C),_>O)continue;(V==null||F!==Qt.WORD_SIZE[N])&&(F=Qt.WORD_SIZE[N],V=Qt.stuffBits(g,F));let Et=O-O%F;if(!(C&&V.getSize()>F*64)&&V.getSize()+y<=Et)break}}let q=Qt.generateCheckWords(V,O,F),Z=V.getSize()/F,ie=Qt.generateModeMessage(C,N,Z),se=(C?11:14)+N*4,fe=new Int32Array(se),be;if(C){be=se;for(let Le=0;Le<fe.length;Le++)fe[Le]=Le}else{be=se+1+2*L.truncDivision(L.truncDivision(se,2)-1,15);let Le=L.truncDivision(se,2),Et=L.truncDivision(be,2);for(let Ct=0;Ct<Le;Ct++){let Xi=Ct+L.truncDivision(Ct,15);fe[Le-Ct-1]=Et-Xi-1,fe[Le+Ct]=Et+Xi+1}}let Pe=new Se(be);for(let Le=0,Et=0;Le<N;Le++){let Ct=(N-Le)*4+(C?9:12);for(let Xi=0;Xi<Ct;Xi++){let Br=Xi*2;for(let rr=0;rr<2;rr++)q.get(Et+Br+rr)&&Pe.set(fe[Le*2+rr],fe[Le*2+Xi]),q.get(Et+Ct*2+Br+rr)&&Pe.set(fe[Le*2+Xi],fe[se-1-Le*2-rr]),q.get(Et+Ct*4+Br+rr)&&Pe.set(fe[se-1-Le*2-rr],fe[se-1-Le*2-Xi]),q.get(Et+Ct*6+Br+rr)&&Pe.set(fe[se-1-Le*2-Xi],fe[Le*2+rr])}Et+=Ct*8}if(Qt.drawModeMessage(Pe,C,be,ie),C)Qt.drawBullsEye(Pe,L.truncDivision(be,2),5);else{Qt.drawBullsEye(Pe,L.truncDivision(be,2),7);for(let Le=0,Et=0;Le<L.truncDivision(se,2)-1;Le+=15,Et+=16)for(let Ct=L.truncDivision(be,2)&1;Ct<be;Ct+=2)Pe.set(L.truncDivision(be,2)-Et,Ct),Pe.set(L.truncDivision(be,2)+Et,Ct),Pe.set(Ct,L.truncDivision(be,2)-Et),Pe.set(Ct,L.truncDivision(be,2)+Et)}let ze=new Rd;return ze.setCompact(C),ze.setSize(be),ze.setLayers(N),ze.setCodeWords(Z),ze.setMatrix(Pe),ze}static drawBullsEye(o,u,h){for(let g=0;g<h;g+=2)for(let y=u-g;y<=u+g;y++)o.set(y,u-g),o.set(y,u+g),o.set(u-g,y),o.set(u+g,y);o.set(u-h,u-h),o.set(u-h+1,u-h),o.set(u-h,u-h+1),o.set(u+h,u-h),o.set(u+h,u-h+1),o.set(u+h,u+h-1)}static generateModeMessage(o,u,h){let g=new k;return o?(g.appendBits(u-1,2),g.appendBits(h-1,6),g=Qt.generateCheckWords(g,28,4)):(g.appendBits(u-1,5),g.appendBits(h-1,11),g=Qt.generateCheckWords(g,40,4)),g}static drawModeMessage(o,u,h,g){let y=L.truncDivision(h,2);if(u)for(let _=0;_<7;_++){let C=y-3+_;g.get(_)&&o.set(C,y-5),g.get(_+7)&&o.set(y+5,C),g.get(20-_)&&o.set(C,y+5),g.get(27-_)&&o.set(y-5,C)}else for(let _=0;_<10;_++){let C=y-5+_+L.truncDivision(_,5);g.get(_)&&o.set(C,y-7),g.get(_+10)&&o.set(y+7,C),g.get(29-_)&&o.set(C,y+7),g.get(39-_)&&o.set(y-7,C)}}static generateCheckWords(o,u,h){let g=o.getSize()/h,y=new Md(Qt.getGF(h)),_=L.truncDivision(u,h),C=Qt.bitsToWords(o,h,_);y.encode(C,_-g);let N=u%h,O=new k;O.appendBits(0,N);for(const F of Array.from(C))O.appendBits(F,h);return O}static bitsToWords(o,u,h){let g=new Int32Array(h),y,_;for(y=0,_=o.getSize()/u;y<_;y++){let C=0;for(let N=0;N<u;N++)C|=o.get(y*u+N)?1<<u-N-1:0;g[y]=C}return g}static getGF(o){switch(o){case 4:return Ot.AZTEC_PARAM;case 6:return Ot.AZTEC_DATA_6;case 8:return Ot.AZTEC_DATA_8;case 10:return Ot.AZTEC_DATA_10;case 12:return Ot.AZTEC_DATA_12;default:throw new w("Unsupported word size "+o)}}static stuffBits(o,u){let h=new k,g=o.getSize(),y=(1<<u)-2;for(let _=0;_<g;_+=u){let C=0;for(let N=0;N<u;N++)(_+N>=g||o.get(_+N))&&(C|=1<<u-1-N);(C&y)===y?(h.appendBits(C&y,u),_--):(C&y)===0?(h.appendBits(C|1,u),_--):h.appendBits(C,u)}return h}static totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Qt.DEFAULT_EC_PERCENT=33,Qt.DEFAULT_AZTEC_LAYERS=0,Qt.MAX_NB_BITS=32,Qt.MAX_NB_BITS_COMPACT=4,Qt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class mu{encode(o,u,h,g){return this.encodeWithHints(o,u,h,g,null)}encodeWithHints(o,u,h,g,y){let _=Od.ISO_8859_1,C=Qt.DEFAULT_EC_PERCENT,N=Qt.DEFAULT_AZTEC_LAYERS;return y!=null&&(y.has(di.CHARACTER_SET)&&(_=Go.forName(y.get(di.CHARACTER_SET).toString())),y.has(di.ERROR_CORRECTION)&&(C=L.parseInt(y.get(di.ERROR_CORRECTION).toString())),y.has(di.AZTEC_LAYERS)&&(N=L.parseInt(y.get(di.AZTEC_LAYERS).toString()))),mu.encodeLayers(o,u,h,g,_,C,N)}static encodeLayers(o,u,h,g,y,_,C){if(u!==Ae.AZTEC)throw new w("Can only encode AZTEC, but got "+u);let N=Qt.encode(oe.getBytes(o,y),_,C);return mu.renderResult(N,h,g)}static renderResult(o,u,h){let g=o.getMatrix();if(g==null)throw new qi;let y=g.getWidth(),_=g.getHeight(),C=Math.max(u,y),N=Math.max(h,_),O=Math.min(C/y,N/_),F=(C-y*O)/2,V=(N-_*O)/2,q=new Se(C,N);for(let Z=0,ie=V;Z<_;Z++,ie+=O)for(let se=0,fe=F;se<y;se++,fe+=O)g.get(se,Z)&&q.setRegion(fe,ie,O,O);return q}}n.AbstractExpandedDecoder=nt,n.ArgumentException=b,n.ArithmeticException=Bi,n.AztecCode=Rd,n.AztecCodeReader=Ei,n.AztecCodeWriter=mu,n.AztecDecoder=tn,n.AztecDetector=Yr,n.AztecDetectorResult=Xr,n.AztecEncoder=Qt,n.AztecHighLevelEncoder=Yo,n.AztecPoint=Lt,n.BarcodeFormat=Ae,n.Binarizer=T,n.BinaryBitmap=S,n.BitArray=k,n.BitMatrix=Se,n.BitSource=Li,n.BrowserAztecCodeReader=ra,n.BrowserBarcodeReader=Kr,n.BrowserCodeReader=Oe,n.BrowserDatamatrixCodeReader=I0,n.BrowserMultiFormatReader=R0,n.BrowserPDF417Reader=D0,n.BrowserQRCodeReader=B0,n.BrowserQRCodeSvgWriter=Va,n.CharacterSetECI=X,n.ChecksumException=E,n.Code128Reader=Ue,n.Code39Reader=an,n.DataMatrixDecodedBitStreamParser=oa,n.DataMatrixReader=Zr,n.DecodeHintType=P,n.DecoderResult=oi,n.DefaultGridSampler=_t,n.DetectorResult=tr,n.EAN13Reader=gr,n.EncodeHintType=di,n.Exception=p,n.FormatException=z,n.GenericGF=Ot,n.GenericGFPoly=cn,n.GlobalHistogramBinarizer=Q,n.GridSampler=ot,n.GridSamplerInstance=nn,n.HTMLCanvasElementLuminanceSource=K,n.HybridBinarizer=le,n.ITFReader=jt,n.IllegalArgumentException=w,n.IllegalStateException=qi,n.InvertedLuminanceSource=Be,n.LuminanceSource=xe,n.MathUtils=At,n.MultiFormatOneDReader=Vn,n.MultiFormatReader=Hh,n.MultiFormatWriter=j0,n.NotFoundException=te,n.OneDReader=on,n.PDF417DecodedBitStreamParser=we,n.PDF417DecoderErrorCorrection=nc,n.PDF417Reader=ki,n.PDF417ResultMetadata=uu,n.PerspectiveTransform=vt,n.PlanarYUVLuminanceSource=vs,n.QRCodeByteMatrix=sc,n.QRCodeDataMask=Ii,n.QRCodeDecodedBitStreamParser=Dn,n.QRCodeDecoderErrorCorrectionLevel=hn,n.QRCodeDecoderFormatInformation=Ni,n.QRCodeEncoder=Nn,n.QRCodeEncoderQRCode=$a,n.QRCodeMaskUtil=Fn,n.QRCodeMatrixUtil=mt,n.QRCodeMode=ct,n.QRCodeReader=Vs,n.QRCodeVersion=st,n.QRCodeWriter=Vo,n.RGBLuminanceSource=ac,n.RSS14Reader=it,n.RSSExpandedReader=Ie,n.ReaderException=ic,n.ReedSolomonDecoder=xs,n.ReedSolomonEncoder=Md,n.ReedSolomonException=li,n.Result=He,n.ResultMetadataType=gt,n.ResultPoint=We,n.StringUtils=oe,n.UnsupportedOperationException=ne,n.VideoInputDevice=ue,n.WhiteRectangleDetector=Ve,n.WriterException=xn,n.ZXingArrays=G,n.ZXingCharset=Go,n.ZXingInteger=L,n.ZXingStandardCharsets=Od,n.ZXingStringBuilder=Ce,n.ZXingStringEncoding=ee,n.ZXingSystem=M,n.createAbstractExpandedDecoder=Us,Object.defineProperty(n,"__esModule",{value:!0})})}(Hf,Hf.exports)),Hf.exports}var Bn=dU();const fU=jo(Bn),hU=$I({__proto__:null,default:fU},[Bn]);var tS=function(){function t(e,n,i){if(this.formatMap=new Map([[Ke.QR_CODE,Bn.BarcodeFormat.QR_CODE],[Ke.AZTEC,Bn.BarcodeFormat.AZTEC],[Ke.CODABAR,Bn.BarcodeFormat.CODABAR],[Ke.CODE_39,Bn.BarcodeFormat.CODE_39],[Ke.CODE_93,Bn.BarcodeFormat.CODE_93],[Ke.CODE_128,Bn.BarcodeFormat.CODE_128],[Ke.DATA_MATRIX,Bn.BarcodeFormat.DATA_MATRIX],[Ke.MAXICODE,Bn.BarcodeFormat.MAXICODE],[Ke.ITF,Bn.BarcodeFormat.ITF],[Ke.EAN_13,Bn.BarcodeFormat.EAN_13],[Ke.EAN_8,Bn.BarcodeFormat.EAN_8],[Ke.PDF_417,Bn.BarcodeFormat.PDF_417],[Ke.RSS_14,Bn.BarcodeFormat.RSS_14],[Ke.RSS_EXPANDED,Bn.BarcodeFormat.RSS_EXPANDED],[Ke.UPC_A,Bn.BarcodeFormat.UPC_A],[Ke.UPC_E,Bn.BarcodeFormat.UPC_E],[Ke.UPC_EAN_EXTENSION,Bn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!hU)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var r=this.createZXingFormats(e),s=new Map;s.set(Bn.DecodeHintType.POSSIBLE_FORMATS,r),s.set(Bn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(i,r){try{i(n.decode(e))}catch(s){r(s)}})},t.prototype.decode=function(e){var n=new Bn.MultiFormatReader(this.verbose,this.hints),i=new Bn.HTMLCanvasElementLuminanceSource(e),r=new Bn.BinaryBitmap(new Bn.HybridBinarizer(i)),s=n.decode(r);return{text:s.text,format:AT.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,i,r){e.set(n,i)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],i=0,r=e;i<r.length;i++){var s=r[i];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),pU=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(b){try{p(i.next(b))}catch(w){l(w)}}function f(b){try{p(i.throw(b))}catch(w){l(w)}}function p(b){b.done?s(b.value):r(b.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},mU=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(b){return f([p,b])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(b){p=[6,b],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},nS=function(){function t(e,n,i){if(this.formatMap=new Map([[Ke.QR_CODE,"qr_code"],[Ke.AZTEC,"aztec"],[Ke.CODABAR,"codabar"],[Ke.CODE_39,"code_39"],[Ke.CODE_93,"code_93"],[Ke.CODE_128,"code_128"],[Ke.DATA_MATRIX,"data_matrix"],[Ke.ITF,"itf"],[Ke.EAN_13,"ean_13"],[Ke.EAN_8,"ean_8"],[Ke.PDF_417,"pdf417"],[Ke.UPC_A,"upc_a"],[Ke.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var r=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(r),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return pU(this,void 0,void 0,function(){var n,i;return mU(this,function(r){switch(r.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=r.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:AT.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,i=0,r=0,s=e;r<s.length;r++){var l=s[r],d=l.boundingBox.width*l.boundingBox.height;d>i&&(i=d,n=l)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],i=0,r=e;i<r.length;i++){var s=r[i];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,i,r){e.set(n,i)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),iS=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(b){try{p(i.next(b))}catch(w){l(w)}}function f(b){try{p(i.throw(b))}catch(w){l(w)}}function p(b){b.done?s(b.value):r(b.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},rS=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(b){return f([p,b])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(b){p=[6,b],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},gU=function(){function t(e,n,i,r){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&nS.isSupported()?(this.primaryDecoder=new nS(e,i,r),this.secondaryDecoder=new tS(e,i,r)):this.primaryDecoder=new tS(e,i,r)}return t.prototype.decodeAsync=function(e){return iS(this,void 0,void 0,function(){var n;return rS(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return iS(this,void 0,void 0,function(){var n,i;return rS(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,r.sent()];case 3:if(i=r.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,i=this.executionResults;n<i.length;n++){var r=i[n];e+=r}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),Lb=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),K1=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(b){try{p(i.next(b))}catch(w){l(w)}}function f(b){try{p(i.throw(b))}catch(w){l(w)}}function p(b){b.done?s(b.value):r(b.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},Z1=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(b){return f([p,b])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(b){p=[6,b],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},NT=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),xU=function(t){Lb(e,t);function e(n,i){return t.call(this,n,i)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var i={};i[this.name]=n;var r={advanced:[i]};return this.track.applyConstraints(r)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(NT),yU=function(t){Lb(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(xU),bU=function(t){Lb(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(NT),vU=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new yU(this.track)},t.prototype.torchFeature=function(){return new bU(this.track)},t}(),wU=function(){function t(e,n,i){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=e.surface.clientWidth,r=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(i,r),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,i,r){return K1(this,void 0,void 0,function(){var s,l;return Z1(this,function(d){switch(d.label){case 0:return s=new t(e,n,r),i.aspectRatio?(l={aspectRatio:i.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:d.sent(),d.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,i=function(){setTimeout(e,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return K1(this,void 0,void 0,function(){return Z1(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,i){var r=e.mediaStream.getVideoTracks(),s=r.length,l=0;e.mediaStream.getVideoTracks().forEach(function(d){e.mediaStream.removeTrack(d),d.stop(),++l,l>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new vU(this.getFirstTrackOrFail())},t}(),_U=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,i){return K1(this,void 0,void 0,function(){return Z1(this,function(r){return[2,wU.create(e,this.mediaStream,n,i)]})})},t.create=function(e){return K1(this,void 0,void 0,function(){var n,i;return Z1(this,function(r){switch(r.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=r.sent(),[2,new t(i)]}})})},t}(),sS=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(b){try{p(i.next(b))}catch(w){l(w)}}function f(b){try{p(i.throw(b))}catch(w){l(w)}}function p(b){b.done?s(b.value):r(b.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},aS=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(b){return f([p,b])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(b){p=[6,b],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},CU=function(){function t(){}return t.failIfNotSupported=function(){return sS(this,void 0,void 0,function(){return aS(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return sS(this,void 0,void 0,function(){return aS(this,function(n){return[2,_U.create(e)]})})},t}(),SU=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(b){try{p(i.next(b))}catch(w){l(w)}}function f(b){try{p(i.throw(b))}catch(w){l(w)}}function p(b){b.done?s(b.value):r(b.value).then(d,f)}p((i=i.apply(t,e||[])).next())})},EU=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(b){return f([p,b])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(i=1,r&&(s=p[0]&2?r.return:p[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,p[1])).done)return s;switch(r=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,r=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(b){p=[6,b],r=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},AU=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=cd.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=cd.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return SU(this,void 0,void 0,function(){var e,n,i,r,s,l,d;return EU(this,function(f){switch(f.label){case 0:return e=function(p){for(var b=p.getVideoTracks(),w=0,S=b;w<S.length;w++){var E=S[w];E.enabled=!1,E.stop(),p.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=f.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=f.sent(),r=[],s=0,l=i;s<l.length;s++)d=l[s],d.kind==="videoinput"&&r.push({id:d.deviceId,label:d.label});return e(n),[2,r]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var i=function(s){for(var l=[],d=0,f=s;d<f.length;d++){var p=f[d];p.kind==="video"&&l.push({id:p.id,label:p.label})}e(l)},r=MediaStreamTrack;r.getSources(i)})},t}(),ii;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(ii||(ii={}));var TU=function(){function t(){this.state=ii.NOT_STARTED,this.onGoingTransactionNewState=ii.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===ii.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ii.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===ii.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ii.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ii.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case ii.UNKNOWN:throw"Transition from unknown is not allowed";case ii.NOT_STARTED:this.failIfNewStateIs(e,[ii.PAUSED]);break;case ii.SCANNING:break;case ii.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),NU=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===ii.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==ii.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ii.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===ii.PAUSED},t}(),IU=function(){function t(){}return t.create=function(){return new NU(new TU)},t}(),kU=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),us=function(t){kU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(oU),MU=function(){function t(e,n){this.logger=n,this.fps=us.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=us.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?TT.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Eo(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),OU=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new cU(this.verbose),this.qrcode=new gU(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=IU.create()}return t.prototype.start=function(e,n,i,r){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;r?l=r:l=this.verbose?this.logger.log:function(){};var d=MU.create(n,this.logger);this.clearElement();var f=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?f=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=f,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:us.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var w=this,S=this.stateManagerProxy.startTransition(ii.SCANNING);return new Promise(function(E,T){var M=p?d.videoConstraints:w.createVideoConstraints(e);if(!M){S.cancel(),T("videoConstraints should be defined");return}var R={};(!p||d.aspectRatio)&&(R.aspectRatio=d.aspectRatio);var B={onRenderSurfaceReady:function(G,L){w.setupUi(G,L,d),w.isScanning=!0,w.foreverScan(d,i,l)}};CU.failIfNotSupported().then(function(G){G.create(M).then(function(L){return L.render(s.element,R,B).then(function(k){w.renderedCamera=k,S.execute(),E(null)}).catch(function(k){S.cancel(),T(k)})}).catch(function(L){S.cancel(),T(cd.errorGettingUserMedia(L))})}).catch(function(G){S.cancel(),T(cd.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ii.PAUSED),this.showPausedState(),(Eo(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(ii.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(ii.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(e.element){var s=document.getElementById(us.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},r=this;return this.renderedCamera.close().then(function(){return r.renderedCamera=null,r.element&&(r.element.removeChild(r.canvasElement),r.canvasElement=null),i(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),n.execute(),r.hidePausedState(),r.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(i){return i.decodedText})},t.prototype.scanFileV2=function(e,n){var i=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Eo(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(r,s){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(e);var l=new Image;l.onload=function(){var d=l.width,f=l.height,p=document.getElementById(i.elementId),b=p.clientWidth?p.clientWidth:us.DEFAULT_WIDTH,w=Math.max(p.clientHeight?p.clientHeight:f,us.FILE_SCAN_MIN_HEIGHT),S=i.computeCanvasDrawConfig(d,f,b,w);if(n){var E=i.createCanvasElement(b,w,"qr-canvas-visible");E.style.display="inline-block",p.appendChild(E);var T=E.getContext("2d");if(!T)throw"Unable to get 2d context from canvas";T.canvas.width=b,T.canvas.height=w,T.drawImage(l,0,0,d,f,S.x,S.y,S.width,S.height)}var M=us.FILE_SCAN_HIDDEN_CANVAS_PADDING,R=Math.max(l.width,S.width),B=Math.max(l.height,S.height),G=R+2*M,L=B+2*M,k=i.createCanvasElement(G,L);p.appendChild(k);var D=k.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=G,D.canvas.height=L,D.drawImage(l,0,0,d,f,M,M,R,B);try{i.qrcode.decodeRobustlyAsync(k).then(function(P){r(J3.createFromQrcodeResult(P))}).catch(s)}catch(P){s("QR code parse error, error = ".concat(P))}},l.onerror=s,l.onabort=s,l.onstalled=s,l.onsuspend=s,l.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return AU.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!TT.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Ke.QR_CODE,Ke.AZTEC,Ke.CODABAR,Ke.CODE_39,Ke.CODE_93,Ke.CODE_128,Ke.DATA_MATRIX,Ke.MAXICODE,Ke.ITF,Ke.EAN_13,Ke.EAN_8,Ke.PDF_417,Ke.RSS_14,Ke.RSS_EXPANDED,Ke.UPC_A,Ke.UPC_E,Ke.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],r=0,s=e.formatsToSupport;r<s.length;r++){var l=s[r];aU(l)?i.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Eo(e))return!0;if(!Eo(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Eo(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Eo(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,i){var r=this,s=i.qrbox;this.validateQrboxConfig(s);var l=this.toQrdimensions(e,n,s),d=function(p){if(p<us.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(us.MIN_QR_BOX_SIZE,"px.")},f=function(p){return p>e&&(r.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=e),p};d(l.width),d(l.height),l.width=f(l.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(e,n)}catch(r){throw new Error("qrbox config was passed as a function but it failed with unknown error"+r)}return i},t.prototype.setupUi=function(e,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,i);var r=Eo(i.qrbox)?{width:e,height:n}:i.qrbox;this.validateQrboxConfig(r);var s=this.toQrdimensions(e,n,r);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=i.isShadedBoxEnabled()&&s.height<=n,d={x:0,y:0,width:e,height:n},f=l?this.getShadedRegionBounds(e,n,s):d,p=this.createCanvasElement(f.width,f.height),b={willReadFrequently:!0},w=p.getContext("2d",b);w.canvas.width=f.width,w.canvas.height=f.height,this.element.append(p),l&&this.possiblyInsertShadingElement(this.element,e,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=f,this.context=w,this.canvasElement=p},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=cd.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(r){return e(r.text,J3.createFromQrcodeResult(r)),i.possiblyUpdateShaders(!0),!0}).catch(function(r){i.possiblyUpdateShaders(!1);var s=cd.codeParseError(r);return n(s,lU.createFrom(s)),!1})},t.prototype.foreverScan=function(e,n,i){var r=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),l=s.videoWidth/s.clientWidth,d=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var f=this.qrRegion.width*l,p=this.qrRegion.height*d,b=this.qrRegion.x*l,w=this.qrRegion.y*d;this.context.drawImage(s,b,w,f,p,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){r.foreverScanTimeout=setTimeout(function(){r.foreverScan(e,n,i)},r.getTimeoutFps(e.fps))};this.scanContext(n,i).then(function(E){!E&&e.disableFlip!==!0?(r.context.translate(r.context.canvas.width,0),r.context.scale(-1,1),r.scanContext(n,i).finally(function(){S()})):S()}).catch(function(E){r.logger.logError("Error happend while scanning context",E),S()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",i="deviceId",r={user:!0,environment:!0},s="exact",l=function(T){if(T in r)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(T,"'")},d=Object.keys(e);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var f=Object.keys(e)[0];if(f!==n&&f!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(f===n){var p=e.facingMode;if(typeof p=="string"){if(l(p))return{facingMode:p}}else if(typeof p=="object")if(s in p){if(l(p["".concat(s)]))return{facingMode:{exact:p["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var b=typeof p;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var w=e.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(s in w)return{deviceId:{exact:w["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var S=typeof w;throw"Invalid type of 'deviceId' = ".concat(S)}}}var E=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},t.prototype.computeCanvasDrawConfig=function(e,n,i,r){if(e<=i&&n<=r){var s=(i-e)/2,l=(r-n)/2;return{x:s,y:l,width:e,height:n}}else{var d=e,f=n;return e>i&&(n=i/e*n,e=i),n>r&&(e=r/n*e,n=r),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(f)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,i,r)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?us.BORDER_SHADER_MATCH_COLOR:us.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,i){var r=e,s=n,l=document.createElement("canvas");return l.style.width="".concat(r,"px"),l.style.height="".concat(s,"px"),l.style.display="none",l.id=Eo(i)?"qr-canvas":i,l},t.prototype.getShadedRegionBounds=function(e,n,i){if(i.width>e||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},t.prototype.possiblyInsertShadingElement=function(e,n,i,r){if(!(n-r.width<1||i-r.height<1)){var s=document.createElement("div");s.style.position="absolute";var l=(n-r.width)/2,d=(i-r.height)/2;if(s.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(us.SHADED_REGION_ELEMENT_ID),n-r.width<11||i-r.height<11)this.hasBorderShaders=!1;else{var f=5,p=40;this.insertShaderBorders(s,p,f,-f,null,0,!0),this.insertShaderBorders(s,p,f,-f,null,0,!1),this.insertShaderBorders(s,p,f,null,-f,0,!0),this.insertShaderBorders(s,p,f,null,-f,0,!1),this.insertShaderBorders(s,f,p+f,-f,null,-f,!0),this.insertShaderBorders(s,f,p+f,null,-f,-f,!0),this.insertShaderBorders(s,f,p+f,-f,null,-f,!1),this.insertShaderBorders(s,f,p+f,null,-f,-f,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,n,i,r,s,l,d){var f=document.createElement("div");f.style.position="absolute",f.style.backgroundColor=us.BORDER_SHADER_DEFAULT_COLOR,f.style.width="".concat(n,"px"),f.style.height="".concat(i,"px"),r!==null&&(f.style.top="".concat(r,"px")),s!==null&&(f.style.bottom="".concat(s,"px")),d?f.style.left="".concat(l,"px"):f.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(f),e.appendChild(f)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),oS;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(oS||(oS={}));const RU="_scannerContainer_yftsj_1",DU="_header_yftsj_25",BU="_closeButton_yftsj_37",LU="_title_yftsj_59",jU="_scannerArea_yftsj_79",PU="_qrScannerWrapper_yftsj_91",FU="_scannerOverlay_yftsj_135",zU="_corner_yftsj_153",HU="_topLeft_yftsj_167",UU="_topRight_yftsj_183",$U="_bottomLeft_yftsj_199",VU="_bottomRight_yftsj_215",GU="_instructionBox_yftsj_229",qU="_qrIconButton_yftsj_253",WU="_errorMessage_yftsj_293",XU="_test_yftsj_319",Di={scannerContainer:RU,header:DU,closeButton:BU,title:LU,scannerArea:jU,qrScannerWrapper:PU,scannerOverlay:FU,corner:zU,topLeft:HU,topRight:UU,bottomLeft:$U,bottomRight:VU,instructionBox:GU,qrIconButton:qU,errorMessage:WU,test:XU};function YU(){const t=Jt(),e="html5qr-code-full-region",n=j.useRef(null),[i,r]=j.useState(null),[s,l]=j.useState(!1),d=yi(),f=async()=>{const b=new URLSearchParams(d.search).get("itemId");if(b)try{await gi.patch(`/api/reservations/${b}`,{reservation_status:"used"}),localStorage.setItem("showAttendanceModal","true"),t("/mypage")}catch(w){console.error("  :",w),alert("     .")}};j.useEffect(()=>{const b={fps:10,qrbox:250,aspectRatio:1,disableFlip:!1};return n.current=new OU(e),n.current.start({facingMode:"environment"},b,w=>{n.current.stop().then(()=>{t(`/art/${w}`)}).catch(S=>{console.error("Failed to stop scanner:",S)})},()=>{}).catch(w=>{r("   ."),console.error("QR  :",w)}),async()=>{const w=n.current;if(w)try{w.isScanning&&await w.stop(),w.clear()}catch(S){console.error("Cleanup :",S)}}},[t]);const p=()=>{localStorage.removeItem("showAttendanceModal"),localStorage.removeItem("exhibitionInfo"),t(-1)};return j.useEffect(()=>{new URLSearchParams(d.search).get("itemId")&&l(!0)},[d]),x.jsxs("div",{className:Di.scannerContainer,children:[x.jsxs("div",{className:Di.header,children:[x.jsx("button",{className:Di.closeButton,onClick:p,children:""}),x.jsx("h2",{className:Di.title,children:"Artly QR Reader"})]}),x.jsxs("div",{className:Di.scannerArea,children:[x.jsx("div",{id:e,className:Di.qrScannerWrapper}),x.jsxs("div",{className:Di.scannerOverlay,children:[x.jsx("div",{className:`${Di.corner} ${Di.topLeft}`}),x.jsx("div",{className:`${Di.corner} ${Di.topRight}`}),x.jsx("div",{className:`${Di.corner} ${Di.bottomLeft}`}),x.jsx("div",{className:`${Di.corner} ${Di.bottomRight}`})]}),i&&x.jsx("div",{className:Di.errorMessage,children:i})]}),x.jsx("button",{className:Di.qrIconButton,children:x.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("path",{d:"M3 11H11V3H3V11ZM5 5H9V9H5V5Z",fill:"black"}),x.jsx("path",{d:"M3 21H11V13H3V21ZM5 15H9V19H5V15Z",fill:"black"}),x.jsx("path",{d:"M13 3V11H21V3H13ZM19 9H15V5H19V9Z",fill:"black"}),x.jsx("path",{d:"M21 19H19V21H21V19Z",fill:"black"}),x.jsx("path",{d:"M15 13H13V15H15V13Z",fill:"black"}),x.jsx("path",{d:"M17 15H15V17H17V15Z",fill:"black"}),x.jsx("path",{d:"M15 17H13V19H15V17Z",fill:"black"}),x.jsx("path",{d:"M17 19H15V21H17V19Z",fill:"black"}),x.jsx("path",{d:"M19 17H17V19H19V17Z",fill:"black"}),x.jsx("path",{d:"M19 13H17V15H19V13Z",fill:"black"}),x.jsx("path",{d:"M21 15H19V17H21V15Z",fill:"black"})]})}),x.jsxs("div",{className:Di.instructionBox,children:[x.jsx("p",{children:"QR   ."}),s&&x.jsx("button",{onClick:f,className:Di.test,children:"  QR "})]})]})}const KU="_layout_jvhsh_1",ZU="_title_jvhsh_23",QU="_galleryWrapper_jvhsh_33",JU="_searchForm_jvhsh_45",e$="_searchInput_jvhsh_59",Mf={layout:KU,title:ZU,galleryWrapper:QU,searchForm:JU,searchInput:e$},t$="_layout_1log3_1",n$="_searchTitle_1log3_15",i$="_resultNumParagraph_1log3_25",r$="_highlightSpan_1log3_33",s$="_paginationRow_1log3_53",Of={layout:t$,searchTitle:n$,resultNumParagraph:i$,highlightSpan:r$,paginationRow:s$};function a$({results:t}){const{currentPage:e,setCurrentPage:n,pageItems:i}=Nd(10,t);return x.jsxs("section",{className:Of.layout,children:[x.jsxs("div",{children:[x.jsx("h2",{className:Of.searchTitle,children:"   "}),x.jsxs("p",{className:Of.resultNumParagraph,children:[" ",x.jsx("span",{className:Of.highlightSpan,children:t.length}),"  "]})]}),t.length===0&&x.jsx("div",{children:"  ."}),i.map(r=>x.jsx(Bb,{galleryItem:r},r.id)),x.jsx("div",{className:Of.paginationRow,children:x.jsx(Td,{currentPage:e,onPageChange:n,totalItems:t.length})})]})}function o$(){const{coords:t,setCoords:e}=CT(),[n,i]=j.useState([]),[r,s]=j.useState(!1),{lat:l,lng:d}=t,[f,p]=j.useState(""),b=S=>{p(S.target.value)};s0({lat:l,lng:d,id:"nearby-map",results:n,zoomLevel:12});const w=async S=>{S.preventDefault();try{const E=await N7.get("/v2/geocode",{params:{query:f}}),T=E.data.addresses[0].x,M=E.data.addresses[0].y;e({lat:M,lng:T})}catch(E){console.error(E),alert("  ")}};return j.useEffect(()=>{(async()=>{try{s(!0);const E=await gi.get("/api/galleries",{params:{latitude:l,longitude:d,distance:5e3}});i(E.data)}catch(E){console.error(E),alert("   ")}finally{s(!1)}})()},[l,d]),x.jsxs("div",{className:Mf.layout,children:[x.jsx("h1",{className:Mf.title,children:"  "}),x.jsx("form",{className:Mf.searchForm,onSubmit:w,children:x.jsx("input",{className:Mf.searchInput,value:f,onChange:b,placeholder:" "})}),x.jsx("div",{id:"nearby-map",className:Mf.galleryWrapper}),r&&x.jsx("div",{children:"   .."}),x.jsx(a$,{results:n})]})}const l$="_layout_1eg2n_1",c$="_breadcrumb_1eg2n_21",u$="_breadcrumbBack_1eg2n_33",d$="_card_1eg2n_43",f$="_mainImage_1eg2n_61",h$="_titleSection_1eg2n_81",p$="_artworkTitle_1eg2n_89",m$="_artworkMaterial_1eg2n_101",g$="_btnLayout_1eg2n_113",x$="_divider_1eg2n_127",y$="_actionButton_1eg2n_141",b$="_icon_1eg2n_163",v$="_likedIcon_1eg2n_169",w$="_artistSection_1eg2n_179",_$="_artistImage_1eg2n_191",C$="_artistName_1eg2n_205",S$="_infoList_1eg2n_217",E$="_infoRow_1eg2n_229",A$="_infoLabel_1eg2n_237",T$="_infoContent_1eg2n_249",N$="_descriptionParagraph_1eg2n_257",I$="_docentBox_1eg2n_273",k$="_docentLabel_1eg2n_287",M$="_docentVideoWrapper_1eg2n_313",O$="_docentVideo_1eg2n_313",R$="_recommendSection_1eg2n_343",D$="_sectionTitle_1eg2n_349",B$="_relatedGrid_1eg2n_361",L$="_relatedCard_1eg2n_371",j$="_relatedImage_1eg2n_393",P$="_relatedInfo_1eg2n_403",F$="_relatedTitle_1eg2n_409",z$="_emptyContent_1eg2n_423",H$="_emptyInfo_1eg2n_435",U$="_backButton_1eg2n_445",Ht={layout:l$,breadcrumb:c$,breadcrumbBack:u$,card:d$,mainImage:f$,titleSection:h$,artworkTitle:p$,artworkMaterial:m$,btnLayout:g$,divider:x$,actionButton:y$,icon:b$,likedIcon:v$,artistSection:w$,artistImage:_$,artistName:C$,infoList:S$,infoRow:E$,infoLabel:A$,infoContent:T$,descriptionParagraph:N$,docentBox:I$,docentLabel:k$,docentVideoWrapper:M$,docentVideo:O$,recommendSection:R$,sectionTitle:D$,relatedGrid:B$,relatedCard:L$,relatedImage:j$,relatedInfo:P$,relatedTitle:F$,emptyContent:z$,emptyInfo:H$,backButton:U$},$$="_modalOverlay_1ae8l_1",V$="_likeModalBox_1ae8l_21",G$="_likeModalStar_1ae8l_63",q$="_likeModalTitle_1ae8l_75",W$="_likeModalSub_1ae8l_85",X$="_likeModalButton_1ae8l_99",Xu={modalOverlay:$$,likeModalBox:V$,likeModalStar:G$,likeModalTitle:q$,likeModalSub:W$,likeModalButton:X$};function jb({onClose:t,type:e}){const i={galleries:"",exhibitions:"",artworks:""}[e]||"";return x.jsx("div",{className:Xu.modalOverlay,children:x.jsxs("div",{className:Xu.likeModalBox,children:[x.jsx(kh,{className:Xu.likeModalStar}),x.jsxs("h3",{className:Xu.likeModalTitle,children:[" ",i,"  !"]}),x.jsx("p",{className:Xu.likeModalSub,children:"      ."}),x.jsx("button",{className:Xu.likeModalButton,onClick:t,children:""})]})})}function Y$(t,e){const n=j.useRef(null),[i,r]=j.useState(!1),s=j.useCallback(()=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{r(!0)},e)},[e]),l=j.useCallback(()=>{n.current&&clearTimeout(n.current),n.current=null},[]),d=j.useCallback(()=>{t()},[t]);return{start:s,clear:l,done:d,isExiting:i}}const K$="_toastContainer_wle1e_1",Z$="_toast_wle1e_1",Q$="_exiting_wle1e_45",J$="_title_wle1e_53",eV="_message_wle1e_65",Uf={toastContainer:K$,toast:Z$,exiting:Q$,title:J$,message:eV};function tV({id:t,title:e,message:n,duration:i,removeToast:r}){const{start:s,clear:l,done:d,isExiting:f}=Y$(()=>{r(t)},i),p=()=>l(),b=()=>s();j.useEffect(()=>{s()},[s]);const w=`${Uf.toast} ${f?Uf.exiting:""}`,S=()=>{f&&d()};return x.jsxs("div",{className:w,onMouseEnter:p,onMouseLeave:b,onAnimationEnd:S,children:[x.jsx("div",{className:Uf.title,children:e}),n&&x.jsx("div",{className:Uf.message,children:n})]})}const IT=j.createContext(),nV=()=>j.useContext(IT);function iV({children:t}){const[e,n]=j.useState(null),i=j.useCallback((s,l=1e3)=>{let d,f;typeof s=="string"?(d=s,f=null):(d=s.title,f=s.message);const p=Date.now();n({id:p,title:d,message:f,duration:l})},[]),r=j.useCallback(s=>{n(l=>l&&l.id===s?null:l)},[]);return x.jsxs(IT.Provider,{value:{addToast:i},children:[t,x.jsx("div",{className:Uf.toastContainer,children:e&&x.jsx(tV,{id:e.id,title:e.title,message:e.message,duration:e.duration,removeToast:r},e.id)})]})}const rV="_modalOverlay_18m8e_1",sV="_modalBox_18m8e_27",aV="_closeButton_18m8e_73",oV="_modalIconBox_18m8e_103",lV="_modalIcon_18m8e_103",cV="_modalTitle_18m8e_135",uV="_modalDesc_18m8e_149",dV="_phoneInfo_18m8e_163",fV="_phoneNumber_18m8e_175",hV="_callButton_18m8e_191",pV="_pcInfo_18m8e_225",mV="_errorText_18m8e_237",ls={modalOverlay:rV,modalBox:sV,closeButton:aV,modalIconBox:oV,modalIcon:lV,modalTitle:cV,modalDesc:uV,phoneInfo:dV,phoneNumber:fV,callButton:hV,pcInfo:pV,errorText:mV};function gV({phoneNumber:t,onClose:e}){const n=()=>{t&&(window.location.href=`tel:${t}`)};return x.jsx("div",{className:ls.modalOverlay,onClick:e,children:x.jsxs("div",{className:ls.modalBox,onClick:i=>i.stopPropagation(),children:[x.jsx("button",{className:ls.closeButton,onClick:e,children:x.jsx(xT,{})}),x.jsxs("div",{className:ls.modalContent,children:[x.jsx("div",{className:ls.modalIconBox,children:x.jsx(gT,{className:ls.modalIcon})}),x.jsx("h3",{className:ls.modalTitle,children:" "}),x.jsxs("p",{className:ls.modalDesc,children:["   ?",x.jsx("br",{}),"     ."]}),t?x.jsxs("div",{className:ls.phoneInfo,children:[x.jsx("span",{className:ls.phoneNumber,children:t}),x.jsx("button",{className:ls.callButton,onClick:n,children:" "}),x.jsx("p",{className:ls.pcInfo,children:"*     ."})]}):x.jsx("p",{className:ls.errorText,children:"   ."})]})]})})}function kT({showUserActions:t=!0,id:e,actionButtons:n}){const{artworkId:i}=Hs(),r=e||i,s=Jt(),{addToast:l}=nV(),[d,f]=j.useState(null),[p,b]=j.useState(!1),[w,S]=j.useState(!1),[E,T]=j.useState(!1),M=async()=>{if(r)try{const K=await at.get(`/api/arts/${r}`),{data:ue}=K;f(ue),typeof ue.is_liked=="boolean"&&b(ue.is_liked)}catch(K){console.error("   :",K)}};j.useEffect(()=>{M()},[r]);const R=async()=>{if(!localStorage.getItem("ACCESS_TOKEN")){s("/login");return}try{const K={liked_id:r,liked_type:"art"};p?(await at.delete("/api/likes",{data:K}),b(!1)):(await at.post("/api/likes",K),b(!0),S(!0))}catch(K){console.error("  :",K),l({title:"",message:"  .",type:"error"})}},B=()=>{T(!0)},G=()=>{const K=d==null?void 0:d.art_title,ue=window.location.href;navigator.share?navigator.share({title:`ARTLY: ${K}`,text:`${K}  `,url:ue}).catch(console.error):navigator.clipboard.writeText(ue).then(()=>alert(" ."))};if(!d)return x.jsx("div",{children:" ..."});const{art_title:L,art_description:k,art_image:D,art_year:P,art_material:z,art_size:U,art_docent:X,art_docent_video:ne,gallery_phone:ee,artist:oe={},artist_name:Ce}=d,Se=oe.artist_name||Ce||"Unknown Artist",te=oe.artist_image||"/images/default_profile.png",le=(oe.artworks||[]).filter(K=>String(K.id)!==String(r)),xe=[{label:"",content:P?`${P} `:" "},{label:"",content:z||" "},{label:"",content:U||" "}],Be=[{label:"",icon:x.jsx(kh,{className:p?Ht.likedIcon:Ht.icon}),action:R},{label:"",icon:x.jsx(gT,{className:Ht.icon}),action:B},{label:"",icon:x.jsx(Db,{className:Ht.icon}),action:G}];return x.jsxs("div",{className:Ht.layout,children:[t&&x.jsxs("div",{className:Ht.breadcrumb,children:[x.jsx("span",{className:Ht.breadcrumbBack,onClick:()=>s("/artworks"),children:""})," ","> ",L]}),x.jsxs("div",{className:Ht.card,children:[x.jsx("img",{src:D,alt:L,className:Ht.mainImage}),x.jsxs("section",{className:Ht.titleSection,children:[x.jsx("h1",{className:Ht.artworkTitle,children:L}),x.jsx("p",{className:Ht.artworkMaterial,children:z||"Mixed Media"})]}),t&&x.jsx("div",{className:Ht.btnLayout,children:Be.map(({label:K,icon:ue,action:Ee})=>x.jsxs("button",{className:Ht.actionButton,onClick:Ee,children:[ue,K]},K))}),x.jsx("hr",{className:Ht.divider}),x.jsxs("div",{className:Ht.artistSection,children:[x.jsx("img",{src:te,alt:Se,className:Ht.artistImage,onError:K=>K.target.src="https://via.placeholder.com/100?text=Artist"}),x.jsx("span",{className:Ht.artistName,children:Se})]}),x.jsx("div",{className:Ht.infoList,children:xe.map(({label:K,content:ue})=>x.jsxs("div",{className:Ht.infoRow,children:[x.jsx("span",{className:Ht.infoLabel,children:K}),x.jsx("div",{className:Ht.infoContent,children:ue})]},K))}),x.jsxs("div",{className:Ht.descriptionSection,children:[k?x.jsx("div",{className:Ht.descriptionParagraph,dangerouslySetInnerHTML:{__html:k}}):x.jsx("p",{className:Ht.emptyInfo,children:"  ."}),X&&x.jsxs("div",{className:Ht.docentBox,children:[x.jsx("span",{className:Ht.docentLabel,children:"AI Docent"}),x.jsx("p",{children:X}),ne&&x.jsx("div",{className:Ht.docentVideoWrapper,children:x.jsx("video",{className:Ht.docentVideo,controls:!0,preload:"metadata",src:ne,children:"Your browser does not support the video tag."})})]})]}),n==null?void 0:n.info]}),t&&x.jsxs("div",{className:Ht.recommendSection,children:[x.jsx("h3",{className:Ht.sectionTitle,children:"  "}),le.length>0?x.jsx("div",{className:Ht.relatedGrid,children:le.map(K=>x.jsxs("div",{className:Ht.relatedCard,onClick:()=>{s(`/artworks/${K.id}`),window.scrollTo(0,0)},children:[x.jsx("img",{src:K.art_image,alt:K.art_title,className:Ht.relatedImage}),x.jsx("div",{className:Ht.relatedInfo,children:x.jsx("h4",{className:Ht.relatedTitle,children:K.art_title})})]},K.id))}):x.jsx("div",{className:Ht.card,children:x.jsx("p",{className:Ht.emptyContent,children:"   ."})}),x.jsx("button",{className:Ht.backButton,onClick:()=>s("/artworks"),children:""})]}),w&&x.jsx(jb,{onClose:()=>S(!1),type:"artworks"}),E&&x.jsx(gV,{phoneNumber:ee,onClose:()=>T(!1)})]})}const xV="_layout_ezrs8_1",yV="_findForm_ezrs8_15",bV="_formTitle_ezrs8_33",vV="_submitButton_ezrs8_43",Ec={layout:xV,findForm:yV,formTitle:bV,submitButton:vV};function wV(){const{data:t,handleChange:e}=X1({userName:"",userEmail:""}),{data:n,handleChange:i}=X1({userId:"",userEmail:""}),r=l=>{l.preventDefault(),alert("  ")},s=l=>{l.preventDefault(),alert("  ")};return x.jsxs("div",{className:Ec.layout,children:[x.jsxs("form",{className:Ec.findForm,onSubmit:r,children:[x.jsx("h2",{className:Ec.formTitle,children:" "}),x.jsx(Oa,{name:"userName",placeholder:"",onChange:e,value:t.userName}),x.jsx(Oa,{name:"userEmail",placeholder:"@     ",onChange:e,value:t.userEmail}),x.jsx("button",{className:Ec.submitButton,children:" "})]}),x.jsxs("form",{className:Ec.findForm,onSubmit:s,children:[x.jsx("h2",{className:Ec.formTitle,children:" "}),x.jsx(Oa,{name:"userId",placeholder:"",onChange:i,value:n.userId}),x.jsx(Oa,{name:"userEmail",placeholder:"@     ",onChange:i,value:n.userEmail}),x.jsx("button",{className:Ec.submitButton,children:"  "})]})]})}const _V="_announcementLayout_om46f_1",CV="_heading_om46f_19",SV="_tabWrapper_om46f_31",EV="_tab_om46f_31",AV="_active_om46f_71",TV="_listItem_om46f_99",NV="_buttonField_om46f_107",IV="_contentContainer_om46f_129",yl={announcementLayout:_V,heading:CV,tabWrapper:SV,tab:EV,active:AV,listItem:TV,buttonField:NV,contentContainer:IV},kV=[{id:0,title:"      .",content:`  ,     ?
         .

     ,  ,                 .

 :        
  : []  [   ]  
 :      

       ,  .
     1:1  .`},{id:1,title:"  ",content:"  ."}],MV=[{id:0,title:"   ",content:"        , SNS,        .     ,          ."}],OV=["","FAQ"];function RV(){const[t,e]=j.useState(""),[n,i]=j.useState({}),r=t===""?kV:MV,s=d=>{if(n[d]){i(p=>({...p,[d]:!1}));return}i(p=>({...p,[d]:!0}))},l=d=>{e(d),i({})};return x.jsxs("div",{className:yl.announcementLayout,children:[x.jsx("h1",{className:yl.heading,children:"&FAQ"}),x.jsx("div",{className:yl.tabWrapper,children:OV.map(d=>x.jsx("button",{className:`${yl.tab} ${t===d?yl.active:""}`,onClick:()=>l(d),children:d},d))}),x.jsx("ul",{children:r.map((d,f)=>x.jsxs("li",{className:yl.listItem,onClick:()=>{s(f)},children:[x.jsxs("div",{className:yl.buttonField,children:[d.title,x.jsx("span",{children:n[f]?x.jsx(iL,{}):x.jsx(nL,{})})]}),n[f]&&x.jsx("div",{className:yl.contentContainer,children:d.content})]},d.id))})]})}const DV="_termsLayout_135gr_1",BV="_mainTitle_135gr_19",LV="_tabWrapper_135gr_43",jV="_tab_135gr_43",PV="_active_135gr_83",FV="_contentContainer_135gr_99",Yu={termsLayout:DV,mainTitle:BV,tabWrapper:LV,tab:jV,active:PV,contentContainer:FV},zV={content:`   

1 

1 ()   (  )          , ,  (  )        ,      .

2 ( )        .
1.         .
2.      ,      .
3.           .
4.          , , , (PDA),   .
5.    , , ,  ,        ( , ,  ),     .
6.                  (   , ,  ,   ) .
7.             .
8.                .
9 .                .

        1          ,        .

3 (  )            . ,           .
1.  :  , : 
2.   :     76  311
3. ,  : oddlemon@oddlemon.co.kr
4.   : 477-88-01191
5.   : 2019--1107

4 (   )               .        , , ,  ,        , ,            .
       ,       7         . ,           30      28 1   .              .
              .  2                         ,              .              .
               .
      ,    ,   ,      ,            .

5 (   )      (  .)           ,      .
       . ,              .
1.         
2.            
3.            
4.         
5.      
6.       
7.          
                .
1.    ,     ,    
2.      ,    
3.           

6 (  )              ,   ,  ,     ,       .

7 ()              (  )   .
             .
    4 2  . ,          2   .
1.        
2.       
3.                 

2  

8 (   )            ,           . ,          .
                .
                   .
           .

3   

9 ( )    ,            .
        ( )       .           3     .
                  , ,                    .

10 ( )               .
1.         
2.         (ID, , ,   )   ,    
3.            ,       
4.  /        ,   ID    
5.        
6.      ,      () ,                 
7.   , , , , ,        
8.          ,        
9.     ,        
10.       ,      
11.       ( )                 
12.        ,    ,  ,     ,   ,       
13.           
          ,       .               .
             .         
          ,    .
1.  , , ,     
2.  
3.      
4. , ,        

4    

11 ( )   5            . ,            .
                  .
     , ,          .

12 ( )         .           .
 1              .               . ,            .
1.  ,    ,       
2. ,   ,  ,            
3. , ,             
           .             .
           .               .
                .                ,      .
              .                  .

13 (   )               ,       . ,                     .
      ,  ,                   .    30            28 1   .
 2           25 3  .
 2      30       3           .

14 ( )                      .  ,         .

15 (  )             .    ,         , 3           .
   3 1              . , 10 1                   .
                 (, , ,  )     .
                .        ,              .

16 ( )           .      , (LMS/SMS), (Push Notification)       .        ,         .
                .
 2                 ,    ,         . ,                 .

17 (  )            .
                       (, , , , , 2    .  )        .
                      , ,      (   .)         .
1.    ,       (, , , , , , 2       ,    )
2.            , ,    
          (,   )        ,        .
         10 1                 .
                      .          .
       ,     .

18 (  ,   )                 .
          . , 13 2                   .

19 (   )   10        ,             ,  (, ,  )          .        20 1     .
1.    :      
2.   :       
3.   :       
4.   :       
 1           .
                .
1.        
2.        
3.           
 3   ,               . ,  3       .

20 (   )   19 1        10 1       .
  19 1            . ,         .
1.   
2.     
3.     

21 (    )              14       ,        .
  1    15     ,      . ,           .
         .

5 ,     

22 ()                .                 .
                  .

23 (  )                 7          .
          1     . ,                  .
1.      
2.        
3.             
  2                  ,     (  ,   )               .        2          .
  1  2                    3 ,          30     .
            .                ,     .
 1 4             3   .                   213      .
       ,               ,                 . ,                           .
         ,   ,      .                 .

24 ( )        . ,                     .
        ,     ,       .
         (,   )     .
                 .
             ,      .        3  .

25 (  )               .            .
        ,                            .
 1  2       .
      1      (  )             .    30  ,            .

6    

26 ()                . ,        
                                  .

27 ( )                   .
    , , ,            . ,        .
             . ,        .
        ,             .
               ,       .
             .         .
              .
    , , ,        . ,        .
     ,         3     . ,        .
    ,    , (OS)  ,  ,                  . ,        .
             . ,        .
          . ,        .

28 (  )        , ,    , (LMS/SMS)    .
       7        1    .

29 (  )       .                .

30 (   )

               .         .
               . ,             28 1  .
      3           ,     .
`},HV={content:`[   ]

 1  : 
 2  :  
 3  :  
 4  : 

1  

1 ()
    (  )      ( ' )     ,   ,          .

2 ( )
        .
1.  :  (      )  ""      .
2.  :        
3.  :   , ,     , , ,  ,     
4.  :            , ,       .
5.  :      
 :         

3 (   )
            ,     7              .
1.              .
  2.          ,       .                         .
3.          ,     ,   7              .
4.               ,               .

4 (  )
     ,    ,        .

2  

5 ( )
            3   . ,         ,                .

6 ( )
1.           .
   ID   
    ,   3  
  , 3      
       
     
    

2.              3                    .
3.       ,         .
4.   ,        ,     .

3  

7 ( )
1.     , ,       .     ,   .
2.         3           .             .
3.  14        .

8 (   )
       ,  ,            (  )            ,       .
1. ,    3      
2.      , ,     
3.      
4.  , 3 ,           
5.       
6.   ,   
7.       
8.     

9 ( )
1.           ,          .         .
2.        ,       ,    .    ,                  ,             .
3.   ,         .

10 ( )
          1 24  .         .

11 (  )
  ,  , S/W  ,          ,        ,          .

12 (  )
         .
1.   
2.      
3.        
4.       
5.    
6.     

4  

13 ( )
  ,     ,   ,     .

14 ( )
1.                        .
2.               3                 ,              .

15 ( )
1.  ,                 .
2.    , , ,         .
3.          .
4.                .
5.     , ,  ,       .
6.      3               .

16( )
               .

  
()   2024 9 28 .
`};function UV(){const t=["",""],[e,n]=j.useState(""),i=e===""?zV:HV,r=s=>{n(s)};return x.jsxs("section",{className:Yu.termsLayout,children:[x.jsx("h1",{className:Yu.mainTitle,children:""}),x.jsx("div",{className:Yu.tabWrapper,children:t.map(s=>x.jsx("button",{className:`${Yu.tab} ${e===s?Yu.active:""}`,onClick:()=>r(s),children:s},s))}),x.jsx("div",{className:Yu.contentContainer,children:i.content})]})}const $V="_layout_3y7o4_1",VV="_title_3y7o4_19",GV="_posterImage_3y7o4_31",qV="_completionIcon_3y7o4_43",WV="_completionTitle_3y7o4_67",XV="_reservationSummary_3y7o4_81",YV="_summaryRow_3y7o4_95",KV="_summaryLabel_3y7o4_115",ZV="_summaryValue_3y7o4_125",QV="_buttonField_3y7o4_155",JV="_exhibitionLink_3y7o4_165",eG="_mypageLink_3y7o4_167",ks={layout:$V,title:VV,posterImage:GV,completionIcon:qV,completionTitle:WV,reservationSummary:XV,summaryRow:YV,summaryLabel:KV,summaryValue:ZV,buttonField:QV,exhibitionLink:JV,mypageLink:eG};function tG(){const{reservationId:t}=Hs(),[e,n]=j.useState([]),{exhibition_location:i,exhibition_title:r,exhibition_poster:s,exhibition_id:l,reservation_total_price:d,reservation_number_of_tickets:f,reservation_datetime:p}=e,w=[{label:"",value:e?r:""},{label:"",value:e?i:""},{label:"",value:(S=>{if(S)return S.split(" ")[0]})(p)},{label:"",value:`${f}`},{label:"",value:`${d}`}];return j.useEffect(()=>{(async()=>{try{const E=await at.get("/api/users/me/exhibitions");n(E.data.find(T=>T.id===t))}catch(E){console.error(E)}})()},[]),x.jsxs("div",{className:ks.layout,children:[x.jsx("h1",{className:ks.title,children:"  "}),x.jsx("img",{className:ks.posterImage,src:s,alt:"  "}),x.jsx("div",{className:ks.completionIcon,children:x.jsx(Rb,{})}),x.jsx("div",{className:ks.completionTitle,children:"   "}),x.jsx("div",{className:ks.reservationSummary,children:w.map(S=>x.jsxs("div",{className:ks.summaryRow,children:[x.jsx("span",{className:ks.summaryLabel,children:S.label}),x.jsx("span",{className:ks.summaryValue,children:S.value})]},S.label))}),x.jsxs("div",{className:ks.buttonField,children:[x.jsx(Rn,{className:ks.mypageLink,to:"/mypage",children:""}),x.jsx(Rn,{className:ks.exhibitionLink,to:`/exhibitions/${l}`,children:" "})]})]})}const nG="_container_d64jk_1",iG="_breadcrumb_d64jk_37",rG="_breadcrumbBack_d64jk_51",sG="_loading_d64jk_63",aG="_error_d64jk_65",oG="_empty_d64jk_67",lG="_exhibitionInfo_d64jk_93",cG="_calendarContainer_d64jk_175",uG="_calendarHeader_d64jk_191",dG="_monthNavigator_d64jk_205",fG="_currentMonth_d64jk_217",hG="_monthButton_d64jk_233",pG="_weekdaysRow_d64jk_275",mG="_weekdayCell_d64jk_291",gG="_weekend_d64jk_305",xG="_calendarGrid_d64jk_313",yG="_dateCell_d64jk_325",bG="_disabled_d64jk_355",vG="_selected_d64jk_355",wG="_today_d64jk_393",_G="_visitorCount_d64jk_425",CG="_countLabel_d64jk_447",SG="_countControls_d64jk_459",EG="_countButton_d64jk_471",AG="_countDisplay_d64jk_513",TG="_reservationInfo_d64jk_531",NG="_infoRow_d64jk_545",IG="_infoLabel_d64jk_573",kG="_infoValue_d64jk_583",MG="_reservationForm_d64jk_597",OG="_formTitle_d64jk_605",RG="_formGroup_d64jk_619",DG="_formLabel_d64jk_627",BG="_formInput_d64jk_643",LG="_reservationSummary_d64jk_685",jG="_summaryTitle_d64jk_703",PG="_summaryImage_d64jk_721",FG="_summaryRow_d64jk_735",zG="_summaryLabel_d64jk_757",HG="_summaryValue_d64jk_773",UG="_completionScreen_d64jk_791",$G="_completionIcon_d64jk_825",VG="_completionTitle_d64jk_851",GG="_completionMessage_d64jk_865",qG="_buttonsContainer_d64jk_879",WG="_actionButton_d64jk_895",XG="_backButton_d64jk_897",et={container:nG,breadcrumb:iG,breadcrumbBack:rG,loading:sG,error:aG,empty:oG,exhibitionInfo:lG,calendarContainer:cG,calendarHeader:uG,monthNavigator:dG,currentMonth:fG,monthButton:hG,weekdaysRow:pG,weekdayCell:mG,weekend:gG,calendarGrid:xG,dateCell:yG,disabled:bG,selected:vG,today:wG,visitorCount:_G,countLabel:CG,countControls:SG,countButton:EG,countDisplay:AG,reservationInfo:TG,infoRow:NG,infoLabel:IG,infoValue:kG,reservationForm:MG,formTitle:OG,formGroup:RG,formLabel:DG,formInput:BG,reservationSummary:LG,summaryTitle:jG,summaryImage:PG,summaryRow:FG,summaryLabel:zG,summaryValue:HG,completionScreen:UG,completionIcon:$G,completionTitle:VG,completionMessage:GG,buttonsContainer:qG,actionButton:WG,backButton:XG};function YG(){const{exhibitionId:t}=Hs(),e=Jt(),[n,i]=j.useState(null),[r,s]=j.useState(!0),[l,d]=j.useState(null),[f,p]=j.useState(1),[b,w]=j.useState(""),[S,E]=j.useState(1),[T,M]=j.useState({name:"",phone:"",email:"",date:"",gallery:"",state:""}),R=new Date,[B,G]=j.useState(R.getMonth()),[L,k]=j.useState(R.getFullYear());j.useEffect(()=>{t&&(async()=>{try{const le=await gi.get(`/api/exhibitions/${t}`);i(le.data)}catch{d("     .")}finally{s(!1)}})()},[t]),j.useEffect(()=>{n&&M(Q=>({...Q,gallery:n.exhibition_location}))},[n]),j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[f]);const D=()=>{const Q=new Date(L,B+1,0).getDate(),le=new Date(L,B,1).getDay(),xe=[];return Array.from({length:le}).forEach(()=>{xe.push({day:"",disabled:!0})}),Array.from({length:Q}).forEach((Be,K)=>{const ue=K+1,Ee=new Date(L,B,ue),Oe=Ee.toDateString()===new Date().toDateString(),He=Ee<new Date(new Date().setHours(0,0,0,0));xe.push({day:ue,date:Ee,disabled:He,isToday:Oe})}),xe},P=()=>{G(Q=>Q===11?0:Q+1),B===11&&k(Q=>Q+1)},z=()=>{G(Q=>Q===0?11:Q-1),B===0&&k(Q=>Q-1)},U=Q=>{if(Q.disabled)return;const le=`${L}.${String(B+1).padStart(2,"0")}.${String(Q.day).padStart(2,"0")}`;w(le),M(xe=>({...xe,date:le}))},X=Q=>{const le=S+Q;le>=1&&le<=10&&E(le)},ne=Q=>{const{name:le,value:xe}=Q.target;M(Be=>({...Be,[le]:xe}))},ee=async()=>{if(f===1&&!b){alert(" .");return}if(f===2&&(!T.name||!T.phone||!T.email)){alert("   .");return}if(f===2)try{const Q=await gi.post("/api/reservations",{exhibition_id:Number(t),number_of_tickets:S,reservation_datetime:b,visitor_name:T.name,visitor_phone:T.phone,visitor_email:T.email,payment_method:"",total_price:0});console.log(" :",Q.data)}catch(Q){console.error(" :",Q),alert("    .");return}p(f+1)},oe=()=>{p(f-1)},Ce=()=>{localStorage.setItem("fromReservationModal","true"),e("/mypage")};if(r)return x.jsx("div",{className:et.loading,children:" ..."});if(l)return x.jsx("div",{className:et.error,children:l});if(!n)return x.jsx("div",{className:et.empty,children:"    ."});const Se=["","","","","","",""],te=[{label:"",value:n?n.exhibition_title:""},{label:"",value:b},{label:"",value:`${S}`},{label:"",value:n?n.exhibition_location:""},{label:"",value:T.name},{label:"",value:T.phone},{label:"",value:T.email}];return console.log(n.exhibition_poster),x.jsxs("div",{className:et.container,children:[x.jsxs("div",{className:et.breadcrumb,children:[x.jsx("span",{className:et.breadcrumbBack,onClick:()=>e(`/exhibitions/${t}`),children:""})," ","> "]}),f===1&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:et.exhibitionInfo,children:[x.jsx("strong",{children:n.exhibition_title}),x.jsx("p",{children:n.exhibition_organization})]}),x.jsxs("div",{className:et.calendarContainer,children:[x.jsx("div",{className:et.calendarHeader,children:x.jsxs("div",{className:et.monthNavigator,children:[x.jsx("button",{className:et.monthButton,onClick:z,children:"<"}),x.jsx("span",{className:et.currentMonth,children:`${L}.${String(B+1).padStart(2,"0")}`}),x.jsx("button",{className:et.monthButton,onClick:P,children:">"})]})}),x.jsx("div",{className:et.weekdaysRow,children:Se.map((Q,le)=>x.jsx("div",{className:`${et.weekdayCell} ${le===0||le===6?et.weekend:""}`,children:Q},Q))}),x.jsx("div",{className:et.calendarGrid,children:D().map((Q,le)=>{const xe=Q.day?`${L}-${B}-${Q.day}`:`empty-${le}`;return x.jsx("div",{className:`${et.dateCell} ${Q.disabled?et.disabled:""} ${Q.isToday?et.today:""} ${b&&Q.day&&b===`${L}.${String(B+1).padStart(2,"0")}.${String(Q.day).padStart(2,"0")}`?et.selected:""}`,onClick:()=>U(Q),children:Q.day},xe)})})]}),x.jsxs("div",{className:et.visitorCount,children:[x.jsx("span",{className:et.countLabel,children:""}),x.jsxs("div",{className:et.countControls,children:[x.jsx("button",{className:et.countButton,onClick:()=>X(-1),children:"-"}),x.jsxs("span",{className:et.countDisplay,children:[S,""]}),x.jsx("button",{className:et.countButton,onClick:()=>X(1),children:"+"})]})]}),x.jsxs("div",{className:et.reservationInfo,children:[x.jsxs("div",{className:et.infoRow,children:[x.jsx("span",{className:et.infoLabel,children:""}),x.jsx("span",{className:et.infoValue,children:b||""})]}),x.jsxs("div",{className:et.infoRow,children:[x.jsx("span",{className:et.infoLabel,children:""}),x.jsxs("span",{className:et.infoLabel,children:[S,""]})]}),x.jsxs("div",{className:et.infoRow,children:[x.jsx("span",{className:et.infoLabel,children:""}),x.jsx("span",{className:et.infoValue,children:n.exhibition_location})]})]})]}),f===2&&x.jsxs("div",{className:et.reservationForm,children:[x.jsx("h3",{className:et.formTitle,children:"  "}),["name","phone","email"].map(Q=>x.jsxs("div",{className:et.formGroup,children:[x.jsx("label",{className:et.formLabel,children:Q==="name"?"":Q==="phone"?"":""}),x.jsx("input",{className:et.formInput,type:Q==="email"?"email":Q==="phone"?"tel":"text",name:Q,value:T[Q],onChange:ne,placeholder:Q==="name"?" ":Q==="phone"?"010-0000-0000":"example@email.com"})]},Q)),x.jsxs("div",{className:et.reservationSummary,children:[x.jsx("div",{className:et.summaryTitle,children:"  "}),[{label:"",value:n?n.exhibition_title:" "},{label:"",value:b},{label:"",value:`${S}`},{label:"",value:n?n.exhibition_location:" "}].map(Q=>x.jsxs("div",{className:et.summaryRow,children:[x.jsx("span",{className:et.summaryLabel,children:Q.label}),x.jsx("span",{className:et.summaryValue,children:Q.value})]},Q.label))]})]}),f===3&&x.jsxs("div",{className:et.completionScreen,children:[x.jsx("div",{className:et.completionIcon,children:x.jsx(Rb,{})}),x.jsx("div",{className:et.completionTitle,children:"   "}),x.jsxs("div",{className:et.completionMessage,children:[T.name,"   ."]}),x.jsxs("div",{className:et.reservationSummary,children:[x.jsx("img",{className:et.summaryImage,src:n.exhibition_poster}),te.map(Q=>x.jsx("div",{className:et.summaryRow,children:Q.label===""?x.jsx("h2",{className:et.summaryTitle,children:Q.value}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:et.summaryLabel,children:Q.label}),x.jsx("span",{className:et.summaryValue,children:Q.value})]})},Q.label))]})]}),x.jsx("div",{className:et.buttonsContainer,children:f===1?x.jsx("button",{className:et.actionButton,onClick:ee,children:""}):f===2?x.jsxs(x.Fragment,{children:[x.jsx("button",{className:et.backButton,onClick:oe,children:""}),x.jsx("button",{className:et.actionButton,onClick:ee,children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("button",{className:et.backButton,onClick:()=>e("/exhibitions"),children:""}),x.jsx("button",{className:et.actionButton,onClick:Ce,children:" "})]})})]})}const KG="_actionContainer_1c1fc_1",ZG="_actionButton_1c1fc_19",QG="_actionButtonActive_1c1fc_131",JG="_actionButtonInactive_1c1fc_141",o1={actionContainer:KG,actionButton:ZG,actionButtonActive:QG,actionButtonInactive:JG};function eq({tabList:t,activeTab:e,onTabChange:n}){return x.jsx("nav",{className:o1.actionContainer,children:t.map(i=>x.jsx("button",{onClick:()=>n(i),className:`${o1.actionButton} ${e===i?o1.actionButtonActive:o1.actionButtonInactive}`,children:i},i))})}function tq(t){return gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function Pb(t){return gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function nq(t){return gn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function iq(t="",e=""){const[n,i]=j.useState(!1),[r,s]=j.useState(t||e),l=j.useRef(null);return j.useEffect(()=>{const w=S=>{l.current&&!l.current.contains(S.target)&&i(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]),{isOpen:n,selectedValue:r,dropdownRef:l,handleOptionClick:(w,S)=>{s(w.name),S(w.value),i(!1)},toggleDropdown:()=>{i(!n)},closeDropdown:()=>{i(!1)},openDropdown:()=>{i(!0)},setSelectedValue:s}}const rq="_dropdownWrapper_1dzyt_3",sq="_inputContainer_1dzyt_13",aq="_dropdownTrigger_1dzyt_37",oq="_dropdownList_1dzyt_51",lq="_dropdownItem_1dzyt_81",cq="_dropdownItemActive_1dzyt_121",uq="_inputField_1dzyt_161",dq="_chevron_1dzyt_223",fq="_chevronOpen_1dzyt_275",Ks={dropdownWrapper:rq,inputContainer:sq,dropdownTrigger:aq,dropdownList:oq,dropdownItem:lq,dropdownItemActive:cq,inputField:uq,chevron:dq,chevronOpen:fq};function Ul({value:t,onChange:e,placeholder:n=" ",isInput:i=!1,options:r=[],title:s=" "}){var w;const{isOpen:l,dropdownRef:d,handleOptionClick:f,toggleDropdown:p}=iq(t,n),b=((w=r.find(S=>S.value===t))==null?void 0:w.name)||t||n;return i?x.jsx("div",{className:Ks.inputContainer,children:x.jsx("input",{type:"text",value:t,onChange:S=>e(S.target.value),placeholder:n,className:Ks.inputField})}):x.jsx("div",{className:Ks.dropdownWrapper,children:x.jsxs("div",{className:Ks.inputContainer,ref:d,children:[x.jsxs("div",{className:Ks.dropdownTrigger,onClick:p,children:[x.jsx("span",{className:Ks.inputField,children:b}),x.jsx(tq,{className:`${Ks.chevron} ${l?Ks.chevronOpen:""}`})]}),l&&x.jsx("div",{className:Ks.dropdownList,children:r.map(S=>x.jsx("div",{className:`${Ks.dropdownItem} ${t===S.value?Ks.dropdownItemActive:""}`,onClick:()=>f(S,e),children:S.name},S.id))})]})})}const hq="_countText_1ceqk_3",pq={countText:hq};function $l({count:t}){return x.jsxs("span",{className:pq.countText,children:[" ",t,""]})}const mq="_registerButton_1esip_3",gq={registerButton:mq};function Vl({buttonText:t,onButtonClick:e}){return x.jsx("button",{onClick:e,className:gq.registerButton,children:t})}const xq="_container_1oiix_3",yq="_message_1oiix_33",bq="_buttonText_1oiix_57",vq="_instruction_1oiix_67",Rf={container:xq,message:yq,buttonText:bq,instruction:vq};function a0({message:t,buttonText:e}){return x.jsxs("div",{className:Rf.container,children:[x.jsx("p",{className:Rf.message,children:t}),x.jsx("p",{className:Rf.buttonText,children:e}),x.jsx("p",{className:Rf.instruction,children:" "}),x.jsx("p",{className:Rf.instruction,children:"  ."})]})}const wq="_spinnerContainer_1uyaq_3",_q="_spinner_1uyaq_3",lS={spinnerContainer:wq,spinner:_q};function o0(){return x.jsx("div",{className:lS.spinnerContainer,children:x.jsx("div",{className:lS.spinner})})}function MT({onSearch:t,onEmptySearch:e,onSearchValueChange:n,onClearSearch:i,minLength:r=2,delay:s=500}){const[l,d]=j.useState(""),f=j.useRef(null),p=w=>{if(d(w),n&&n(w),f.current&&clearTimeout(f.current),!w.trim()){e&&e();return}w.trim().length<r||(f.current=setTimeout(()=>{t(w)},s))},b=()=>{p(""),i&&i()};return j.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]),{searchValue:l,handleSearchChange:p,clearSearch:b}}const Cq="_contentContainer_10wsc_3",Sq="_emptyStateContainer_10wsc_15",Eq="_searchContainer_10wsc_23",Aq="_galleryCard_10wsc_31",Tq="_cardContent_10wsc_41",Nq="_cardInfo_10wsc_51",Iq="_cardHeader_10wsc_63",kq="_cardFooter_10wsc_75",Mq="_countAndButtonContainer_10wsc_121",Oq="_errorMessage_10wsc_137",Rq="_galleryImage_10wsc_161",Dq="_deleteButton_10wsc_183",Bq="_galleryAddress_10wsc_193",Lq="_galleryTitle_10wsc_259",jq="_galleryClosedDay_10wsc_295",Pq="_galleryTime_10wsc_305",Fq="_separator_10wsc_325",pi={contentContainer:Cq,emptyStateContainer:Sq,searchContainer:Eq,galleryCard:Aq,cardContent:Tq,cardInfo:Nq,cardHeader:Iq,cardFooter:kq,countAndButtonContainer:Mq,errorMessage:Oq,galleryImage:Rq,deleteButton:Dq,galleryAddress:Bq,galleryTitle:Lq,galleryClosedDay:jq,galleryTime:Pq,separator:Fq};function zq({galleryList:t,onDelete:e,loadGalleries:n,isLoading:i,isSearching:r,error:s}){const l=Jt(),{searchValue:d,handleSearchChange:f}=MT({onSearch:n,onEmptySearch:()=>n(""),minLength:2,delay:500}),p=Array.isArray(t)?t:[],b=w=>{window.confirm("   ?")&&e(w,"gallery")};return i?x.jsx("div",{className:pi.contentContainer,children:x.jsx(o0,{})}):s?x.jsx("div",{className:pi.contentContainer,children:x.jsxs("div",{className:pi.errorMessage,children:[" : ",s]})}):p.length>0?x.jsxs("div",{className:pi.contentContainer,children:[x.jsx(Ul,{value:d,onChange:f,placeholder:" ",isInput:!0}),x.jsxs("div",{className:pi.countAndButtonContainer,children:[x.jsx($l,{count:p.length}),x.jsx(Vl,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),x.jsx("section",{className:pi.contentContainer,children:p.map(w=>x.jsxs("div",{className:pi.galleryCard,onClick:()=>l(`/console/galleries/${w.id}`),children:[x.jsxs("div",{className:pi.cardContent,children:[x.jsx("img",{src:w.image,alt:w.name,className:pi.galleryImage}),x.jsxs("div",{className:pi.cardInfo,children:[x.jsxs("div",{className:pi.cardHeader,children:[x.jsx("h3",{className:pi.galleryTitle,children:w.name}),x.jsx("button",{onClick:()=>b(w.id),className:pi.deleteButton,children:x.jsx(Pb,{size:18})})]}),x.jsx("p",{className:pi.galleryAddress,children:w.address}),x.jsxs("p",{className:pi.galleryClosedDay,children:[" | ",w.closedDay]}),x.jsx("p",{className:pi.galleryTime,children:w.time})]})]}),x.jsxs("div",{className:pi.cardFooter,children:[x.jsxs("span",{children:["  ",w.registered,""]}),x.jsx("span",{className:pi.separator,children:"|"}),x.jsxs("span",{children:[" ",w.liked,""]})]})]},w.id))})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:pi.searchContainer,children:x.jsx(Ul,{value:d,onChange:f,placeholder:" ",isInput:!0})}),x.jsxs("div",{className:pi.countAndButtonContainer,children:[x.jsx($l,{count:0}),x.jsx(Vl,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),x.jsx("section",{className:pi.emptyStateContainer,children:x.jsx(a0,{message:"  .",buttonText:"+ "})})]})}const Hq="_contentContainer_saw3c_3",Uq="_emptyStateContainer_saw3c_15",$q="_searchContainer_saw3c_23",Vq="_galleryCard_saw3c_31",Gq="_cardContent_saw3c_39",qq="_cardInfo_saw3c_49",Wq="_cardHeader_saw3c_61",Xq="_galleryImage_saw3c_121",Yq="_deleteButton_saw3c_143",Kq="_galleryAddress_saw3c_153",Zq="_galleryFloor_saw3c_161",Qq="_galleryTitle_saw3c_197",Jq="_countAndButtonContainer_saw3c_339",eW="_errorMessage_saw3c_365",zi={contentContainer:Hq,emptyStateContainer:Uq,searchContainer:$q,galleryCard:Vq,cardContent:Gq,cardInfo:qq,cardHeader:Wq,galleryImage:Xq,deleteButton:Yq,galleryAddress:Kq,galleryFloor:Zq,galleryTitle:Qq,countAndButtonContainer:Jq,errorMessage:eW};function tW({exhibitionList:t,selectedGallery:e,onGalleryChange:n,onDelete:i,loadExhibitions:r,isLoading:s,error:l,galleryList:d}){const f=Jt(),p=T=>{window.confirm("   ?")&&i(T,"exhibition")},b=j.useCallback(T=>{if(T===" ")return" ";const M=d.find(R=>R.name===T);return M?M.id:" "},[d]);j.useEffect(()=>{if(d.length>0&&e){const T=b(e);r(T)}else d.length>0&&r(" ")},[e,d]);const w=j.useMemo(()=>b(e),[e,d,b]),S=t.filter(T=>e===" "?!0:T.gallery_id&&w?String(T.gallery_id)===String(w):T.gallery_name===e),E=j.useMemo(()=>{const T=[{id:"all",name:" ",value:" "}],M=new Set(t.map(B=>B.gallery_id).filter(Boolean)),R=new Set(t.map(B=>B.gallery_name).filter(Boolean));return d.forEach(B=>{(M.has(B.id)||R.has(B.name))&&T.push({id:B.id,name:B.name,value:B.name})}),T},[d,t]);return s?x.jsx("div",{className:zi.contentContainer,children:x.jsx(o0,{})}):l?x.jsx("div",{className:zi.contentContainer,children:x.jsxs("div",{className:zi.errorMessage,children:[" : ",l]})}):S.length>0?x.jsxs("section",{className:zi.contentContainer,children:[x.jsx(Ul,{value:e,onChange:n,options:E}),x.jsxs("div",{className:zi.countAndButtonContainer,children:[x.jsx($l,{count:S.length}),x.jsx(Vl,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),x.jsx("section",{className:zi.contentContainer,children:S.map(T=>x.jsx("div",{className:zi.galleryCard,onClick:()=>f(`/console/exhibitions/${T.id}`),children:x.jsxs("div",{className:zi.cardContent,children:[x.jsx("img",{src:T.image,alt:T.title,className:zi.galleryImage}),x.jsxs("div",{className:zi.cardInfo,children:[x.jsxs("div",{className:zi.cardHeader,children:[x.jsx("h3",{className:zi.galleryTitle,children:T.title}),x.jsx("button",{onClick:()=>p(T.id),className:zi.deleteButton,children:x.jsx(Pb,{size:18})})]}),x.jsx("p",{className:zi.galleryAddress,children:T.period}),x.jsx("p",{className:zi.galleryFloor,children:T.gallery_name})]})]})},T.id))})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:zi.searchContainer,children:x.jsx(Ul,{value:e,onChange:n,options:E})}),x.jsxs("div",{className:zi.countAndButtonContainer,children:[x.jsx($l,{count:0}),x.jsx(Vl,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),x.jsx("section",{className:zi.emptyStateContainer,children:x.jsx(a0,{message:"  .",buttonText:"+ "})})]})}const nW="_contentContainer_1tvi0_3",iW="_emptyStateContainer_1tvi0_15",rW="_searchContainer_1tvi0_23",sW="_artworkCard_1tvi0_31",aW="_artworkContent_1tvi0_39",oW="_artworkInfo_1tvi0_51",lW="_artworkImage_1tvi0_111",cW="_deleteButton_1tvi0_123",uW="_artworkTitle_1tvi0_161",dW="_artworkArtist_1tvi0_171",fW="_countAndButtonContainer_1tvi0_283",hW="_errorMessage_1tvi0_325",cr={contentContainer:nW,emptyStateContainer:iW,searchContainer:rW,artworkCard:sW,artworkContent:aW,artworkInfo:oW,artworkImage:lW,deleteButton:cW,artworkTitle:uW,artworkArtist:dW,countAndButtonContainer:fW,errorMessage:hW};function pW({artworkList:t,selectedGallery:e,onGalleryChange:n,onDelete:i,loadArtworks:r,isLoading:s,error:l,galleryList:d}){const f=Jt(),p=T=>{window.confirm("   ?")&&i(T,"artwork")},b=j.useCallback(T=>{if(T===" ")return" ";const M=d.find(R=>R.name===T);return M?M.id:" "},[d]);j.useEffect(()=>{if(d.length>0&&e){const T=b(e);r(T)}else d.length>0&&r(" ")},[e,d]);const w=j.useMemo(()=>b(e),[e,d,b]),S=t.filter(T=>e===" "?!0:T.gallery_id&&w?String(T.gallery_id)===String(w):T.gallery_name===e),E=j.useMemo(()=>{const T=[{id:"all",name:" ",value:" "}],M=new Set(t.map(B=>B.gallery_id).filter(Boolean)),R=new Set(t.map(B=>B.gallery_name).filter(Boolean));return d.forEach(B=>{(M.has(B.id)||R.has(B.name))&&T.push({id:B.id,name:B.name,value:B.name})}),T},[d,t]);return s?x.jsx("div",{className:cr.contentContainer,children:x.jsx(o0,{})}):l?x.jsx("div",{className:cr.contentContainer,children:x.jsxs("div",{className:cr.errorMessage,children:[" : ",l]})}):S.length>0?x.jsxs("section",{className:cr.contentContainer,children:[x.jsx(Ul,{value:e,onChange:n,options:E}),x.jsxs("div",{className:cr.countAndButtonContainer,children:[x.jsx($l,{count:S.length}),x.jsx(Vl,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),x.jsx("section",{className:cr.contentContainer,children:S.map(T=>x.jsx("div",{className:cr.artworkCard,onClick:()=>f(`/console/artworks/${T.id}`),children:x.jsxs("div",{className:cr.artworkContent,children:[x.jsx("img",{src:T.image,alt:T.title,className:cr.artworkImage}),x.jsxs("div",{className:cr.artworkInfo,children:[x.jsxs("div",{children:[x.jsx("h3",{className:cr.artworkTitle,children:T.title}),x.jsx("p",{className:cr.artworkArtist,children:T.artist})]}),x.jsx("button",{onClick:()=>p(T.id),className:cr.deleteButton,children:x.jsx(Pb,{size:18})})]})]})},T.id))})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:cr.searchContainer,children:x.jsx(Ul,{value:e,onChange:n,options:E})}),x.jsxs("div",{className:cr.countAndButtonContainer,children:[x.jsx($l,{count:0}),x.jsx(Vl,{buttonText:"+ ",onButtonClick:()=>alert(" ")})]}),x.jsx("section",{className:cr.emptyStateContainer,children:x.jsx(a0,{message:"  .",buttonText:"+ "})})]})}const mW="_overlay_1vrfn_3",gW="_modal_1vrfn_15",xW="_header_1vrfn_23",yW="_countBadge_1vrfn_35",bW="_label_1vrfn_43",vW="_buttonContainer_1vrfn_51",wW="_closeButton_1vrfn_113",_W="_headerSpacer_1vrfn_121",CW="_formGroup_1vrfn_137",SW="_input_1vrfn_153",EW="_textarea_1vrfn_177",AW="_sendButton_1vrfn_205",TW="_title_1vrfn_285",_r={overlay:mW,modal:gW,header:xW,countBadge:yW,label:bW,buttonContainer:vW,closeButton:wW,headerSpacer:_W,formGroup:CW,input:SW,textarea:EW,sendButton:AW,title:TW};function cS({isOpen:t,onClose:e,selectedUsersCount:n,onSendAlarm:i,isSending:r=!1}){const[s,l]=j.useState(""),[d,f]=j.useState(""),p=()=>{l(""),f(""),e()};if(!t)return null;const b=async()=>{if(!s.trim()){alert(" .");return}if(!d.trim()){alert("  .");return}if(n===0){alert("  .  .");return}window.confirm("     ?  ,   .")&&(await i(s.trim(),d.trim()),l(""),f(""))};return x.jsx("div",{className:_r.overlay,children:x.jsxs("div",{className:_r.modal,children:[x.jsxs("header",{className:_r.header,children:[x.jsx("button",{onClick:p,className:_r.closeButton,children:x.jsx(nq,{size:24})}),x.jsx("h2",{className:_r.title,children:" "}),x.jsx("div",{className:_r.headerSpacer})]}),x.jsx("div",{className:_r.countBadge,children:x.jsxs("span",{children:["  :  ",n,""]})}),x.jsxs("div",{className:_r.formGroup,children:[x.jsx("label",{className:_r.label,children:""}),x.jsx("input",{type:"text",className:_r.input,placeholder:" ",value:s,onChange:w=>l(w.target.value)})]}),x.jsxs("div",{className:_r.formGroup,children:[x.jsx("label",{className:_r.label,children:" ( 80)"}),x.jsx("textarea",{className:_r.textarea,placeholder:"  ",maxLength:80,value:d,onChange:w=>f(w.target.value)})]}),x.jsx("div",{className:_r.buttonContainer,children:x.jsx("button",{onClick:b,className:_r.sendButton,disabled:r||n===0,children:r?" ...":""})})]})})}const NW="_tableContainer_4szxc_3",IW="_tableFilters_4szxc_19",kW="_table_4szxc_3",MW="_tableHeader_4szxc_55",OW="_tableRow_4szxc_63",RW="_tableCell_4szxc_71",DW="_filterButton_4szxc_121",BW="_tableHeaderCell_4szxc_159",LW="_tableHeaderCellCheckbox_4szxc_171",jW="_filterButtonActive_4szxc_249",PW="_tableCellGray_4szxc_319",Wn={tableContainer:NW,tableFilters:IW,table:kW,tableHeader:MW,tableRow:OW,tableCell:RW,filterButton:DW,tableHeaderCell:BW,tableHeaderCellCheckbox:LW,filterButtonActive:jW,tableCellGray:PW};function FW({interestedUserList:t,selectedUserList:e,onUserSelect:n,onSelectAll:i,isAllSelected:r,activeTab:s,onTabChange:l}){const d=p=>{l(p)},f=()=>{i(t)};return x.jsxs("div",{className:Wn.tableContainer,children:[x.jsxs("div",{className:Wn.tableFilters,children:[x.jsx("button",{className:`${Wn.filterButton} ${s==="all"?Wn.filterButtonActive:""}`,onClick:()=>d("all"),children:""}),x.jsx("button",{className:`${Wn.filterButton} ${s==="gallery"?Wn.filterButtonActive:""}`,onClick:()=>d("gallery"),children:""}),x.jsx("button",{className:`${Wn.filterButton} ${s==="exhibition"?Wn.filterButtonActive:""}`,onClick:()=>d("exhibition"),children:""}),x.jsx("button",{className:`${Wn.filterButton} ${s==="art"?Wn.filterButtonActive:""}`,onClick:()=>d("art"),children:""})]}),x.jsxs("table",{className:Wn.table,children:[x.jsx("thead",{className:Wn.tableHeader,children:x.jsxs("tr",{children:[x.jsx("th",{className:`${Wn.tableHeaderCell} ${Wn.tableHeaderCellCheckbox}`,children:x.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:r(t),onChange:f})}),x.jsx("th",{className:Wn.tableHeaderCell,children:""}),x.jsx("th",{className:Wn.tableHeaderCell,children:""}),x.jsx("th",{className:Wn.tableHeaderCell,children:""})]})}),x.jsx("tbody",{children:t.map(p=>x.jsxs("tr",{className:Wn.tableRow,children:[x.jsx("td",{className:Wn.tableCell,children:x.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:e.includes(p.id),onChange:()=>n(p.id)})}),x.jsx("td",{className:Wn.tableCell,children:p.category}),x.jsx("td",{className:Wn.tableCell,children:p.name}),x.jsx("td",{className:`${Wn.tableCell} ${Wn.tableCellGray}`,children:p.date})]},`${p.type}-${p.id}`))})]})]})}function zW(){const[t,e]=j.useState([]);return{selectedUserList:t,handleUserSelect:l=>{e(d=>d.includes(l)?d.filter(f=>f!==l):[...d,l])},handleSelectAll:l=>{if(l.length>0&&l.every(f=>t.includes(f.id))){const f=t.filter(p=>!l.some(b=>b.id===p));e(f)}else{const p=l.filter(b=>!t.includes(b.id)).map(b=>b.id);e(b=>[...b,...p])}},clearSelection:()=>{e([])},isAllSelected:l=>l.length>0&&l.every(d=>t.includes(d.id))}}function HW(){const{user:t}=ia(),[e,n]=j.useState([]),[i,r]=j.useState(!1),[s,l]=j.useState(!1),[d,f]=j.useState(null),[p,b]=j.useState("all"),w=async(G="gallery",L="")=>{var k,D;try{r(!0);const P=localStorage.getItem("ACCESS_TOKEN"),z=new URLSearchParams;z.append("liked_type",G),L&&z.append("search",L);const U=await at.get(`/api/users/console/likes?${z.toString()}`,{headers:{Authorization:`Bearer ${P}`}});console.log(" API :",U.data);const X=Array.isArray(U.data)?U.data.map(ne=>{var ee,oe,Ce,Se,te,Q,le,xe,Be;return{id:ne.id,userId:ne.user_id||((ee=ne.user)==null?void 0:ee.id),name:((oe=ne.user)==null?void 0:oe.user_name)||"  ",category:((Ce=ne.gallery)==null?void 0:Ce.gallery_name)||((Se=ne.exhibition)==null?void 0:Se.exhibition_title)||((te=ne.art)==null?void 0:te.art_title)||" ",date:ne.create_dtm?new Date(ne.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((Q=ne.user)==null?void 0:Q.user_name)||"  ",galleryName:((le=ne.gallery)==null?void 0:le.gallery_name)||"  ",exhibitionName:((xe=ne.exhibition)==null?void 0:xe.exhibition_title)||"  ",artworkName:((Be=ne.art)==null?void 0:Be.art_title)||"  ",type:G}}):[];console.log("  :",X),n(X)}catch(P){f(P.message),console.error("   :",P),console.error(" :",(k=P.response)==null?void 0:k.data),console.error(" :",(D=P.response)==null?void 0:D.status),n([])}finally{r(!1)}},S=[...e].sort((G,L)=>{const k=new Date(G.date.replace(/\./g,"-"));return new Date(L.date.replace(/\./g,"-"))-k}),E=async G=>{if(b(G),G==="all")try{r(!0);const L=localStorage.getItem("ACCESS_TOKEN"),[k,D,P]=await Promise.all([at.get("/api/users/console/likes?liked_type=gallery",{headers:{Authorization:`Bearer ${L}`}}),at.get("/api/users/console/likes?liked_type=exhibition",{headers:{Authorization:`Bearer ${L}`}}),at.get("/api/users/console/likes?liked_type=art",{headers:{Authorization:`Bearer ${L}`}})]),z=[...Array.isArray(k.data)?k.data.map(U=>{var X,ne,ee,oe,Ce;return{id:U.id,userId:U.user_id||((X=U.user)==null?void 0:X.id),name:((ne=U.user)==null?void 0:ne.user_name)||"  ",category:((ee=U.gallery)==null?void 0:ee.gallery_name)||" ",date:U.create_dtm?new Date(U.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((oe=U.user)==null?void 0:oe.user_name)||"  ",galleryName:((Ce=U.gallery)==null?void 0:Ce.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}):[],...Array.isArray(D.data)?D.data.map(U=>{var X,ne,ee,oe,Ce;return{id:U.id,userId:U.user_id||((X=U.user)==null?void 0:X.id),name:((ne=U.user)==null?void 0:ne.user_name)||"  ",category:((ee=U.exhibition)==null?void 0:ee.exhibition_title)||" ",date:U.create_dtm?new Date(U.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((oe=U.user)==null?void 0:oe.user_name)||"  ",galleryName:"  ",exhibitionName:((Ce=U.exhibition)==null?void 0:Ce.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}):[],...Array.isArray(P.data)?P.data.map(U=>{var X,ne,ee,oe,Ce;return{id:U.id,userId:U.user_id||((X=U.user)==null?void 0:X.id),name:((ne=U.user)==null?void 0:ne.user_name)||"  ",category:((ee=U.art)==null?void 0:ee.art_title)||" ",date:U.create_dtm?new Date(U.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((oe=U.user)==null?void 0:oe.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((Ce=U.art)==null?void 0:Ce.art_title)||"  ",type:"art"}}):[]];n(z)}catch(L){f(L.message),console.error("    :",L),n([])}finally{r(!1)}else await w(G)},T=async G=>{if(l(!0),p==="all")try{r(!0);const L=localStorage.getItem("ACCESS_TOKEN"),k=new URLSearchParams;k.append("liked_type","gallery"),k.append("search",G);const D=new URLSearchParams;D.append("liked_type","exhibition"),D.append("search",G);const P=new URLSearchParams;P.append("liked_type","art"),P.append("search",G);const[z,U,X]=await Promise.all([at.get(`/api/users/console/likes?${k.toString()}`,{headers:{Authorization:`Bearer ${L}`}}),at.get(`/api/users/console/likes?${D.toString()}`,{headers:{Authorization:`Bearer ${L}`}}),at.get(`/api/users/console/likes?${P.toString()}`,{headers:{Authorization:`Bearer ${L}`}})]),ne=[...Array.isArray(z.data)?z.data.map(ee=>{var oe,Ce,Se,te,Q;return{id:ee.id,userId:ee.user_id||((oe=ee.user)==null?void 0:oe.id),name:((Ce=ee.user)==null?void 0:Ce.user_name)||"  ",category:((Se=ee.gallery)==null?void 0:Se.gallery_name)||" ",date:ee.create_dtm?new Date(ee.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((te=ee.user)==null?void 0:te.user_name)||"  ",galleryName:((Q=ee.gallery)==null?void 0:Q.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}):[],...Array.isArray(U.data)?U.data.map(ee=>{var oe,Ce,Se,te,Q;return{id:ee.id,userId:ee.user_id||((oe=ee.user)==null?void 0:oe.id),name:((Ce=ee.user)==null?void 0:Ce.user_name)||"  ",category:((Se=ee.exhibition)==null?void 0:Se.exhibition_title)||" ",date:ee.create_dtm?new Date(ee.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((te=ee.user)==null?void 0:te.user_name)||"  ",galleryName:"  ",exhibitionName:((Q=ee.exhibition)==null?void 0:Q.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}):[],...Array.isArray(X.data)?X.data.map(ee=>{var oe,Ce,Se,te,Q;return{id:ee.id,userId:ee.user_id||((oe=ee.user)==null?void 0:oe.id),name:((Ce=ee.user)==null?void 0:Ce.user_name)||"  ",category:((Se=ee.art)==null?void 0:Se.art_title)||" ",date:ee.create_dtm?new Date(ee.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((te=ee.user)==null?void 0:te.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((Q=ee.art)==null?void 0:Q.art_title)||"  ",type:"art"}}):[]];n(ne)}catch(L){f(L.message),console.error(" :",L),n([])}finally{r(!1),l(!1)}else try{r(!0),await w(p,G)}finally{l(!1)}},{searchValue:M,handleSearchChange:R,clearSearch:B}=MT({onSearch:T,onEmptySearch:()=>E(p),onClearSearch:async()=>{p==="all"?await E("all"):await w(p,"")},minLength:2,delay:500});return j.useEffect(()=>{E("all")},[]),{interestedUserList:S,setInterestedUserList:n,searchQuery:M,isLoading:i,isSearching:s,error:d,activeTab:p,loadInterestedUsers:w,handleSearchChange:R,clearSearch:B,handleTabChange:E}}const UW="_contentContainer_1mn9m_3",$W="_emptyStateContainer_1mn9m_29",VW="_searchContainer_1mn9m_63",GW="_countAndButtonContainer_1mn9m_73",qW="_errorMessage_1mn9m_113",po={contentContainer:UW,emptyStateContainer:$W,searchContainer:VW,countAndButtonContainer:GW,errorMessage:qW};function WW(){const[t,e]=j.useState(!1),[n,i]=j.useState(!1),[r,s]=j.useState(null),{selectedUserList:l,handleUserSelect:d,handleSelectAll:f,clearSelection:p,isAllSelected:b}=zW(),{interestedUserList:w,searchQuery:S,isLoading:E,isSearching:T,error:M,activeTab:R,handleSearchChange:B,handleTabChange:G}=HW(),L=async(k,D)=>{var P,z;if(!(!l||l.length===0))try{i(!0),s(null);const U=localStorage.getItem("ACCESS_TOKEN"),X=l.map(ee=>{const oe=w.find(Ce=>String(Ce.id)===String(ee));return(oe==null?void 0:oe.userId)??null}).filter(ee=>ee!=null);if(console.log("selectedUserList:",l),console.log(" userIds:",X),X.length===0){alert("  ID   .");return}const ne=await at.post("/api/notification/send",{userIds:X,title:k,message:D},{headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"}});console.log("  :",ne.data),alert(`${X.length}    .`),e(!1),p()}catch(U){console.error("  :",U);const X=((z=(P=U==null?void 0:U.response)==null?void 0:P.data)==null?void 0:z.message)||U.message||"    .";s(X),alert(`  .
${X}`)}finally{i(!1)}};return E||T?x.jsx("div",{className:po.contentContainer,children:x.jsx(o0,{})}):M?x.jsx("div",{className:po.contentContainer,children:x.jsxs("div",{className:po.errorMessage,children:[" : ",M]})}):w.length>0?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:po.contentContainer,children:[x.jsx(Ul,{value:S,onChange:B,placeholder:", , ,  ",isInput:!0}),x.jsxs("div",{className:po.countAndButtonContainer,children:[x.jsx($l,{count:w.length}),x.jsx(Vl,{buttonText:" ",onButtonClick:()=>e(!0),disabled:l.length===0||n})]}),r&&x.jsxs("div",{className:po.errorMessage,children:["    : ",r]}),x.jsx(FW,{interestedUserList:w,selectedUserList:l,onUserSelect:d,onSelectAll:f,isAllSelected:b,activeTab:R,onTabChange:G})]}),x.jsx(cS,{isOpen:t,onClose:()=>e(!1),selectedUsersCount:l.length,onSendAlarm:L,isSending:n})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:po.searchContainer,children:x.jsx(Ul,{value:S,onChange:B,placeholder:", , ,  ",isInput:!0})}),x.jsxs("div",{className:po.countAndButtonContainer,children:[x.jsx($l,{count:0}),x.jsx(Vl,{buttonText:" ",onButtonClick:()=>alert(" ")})]}),x.jsx("section",{className:po.emptyStateContainer,children:x.jsx(a0,{message:" .",buttonText:" "})}),x.jsx(cS,{isOpen:t,onClose:()=>e(!1),selectedUsersCount:l.length,onSendAlarm:L,isSending:n})]})}function XW(){const[t,e]=j.useState([]),[n,i]=j.useState([]),[r,s]=j.useState([]),[l,d]=j.useState(!1),[f,p]=j.useState(!1),[b,w]=j.useState(null),S=j.useCallback(async(R="")=>{var B,G,L;try{d(!0),R.trim()&&p(!0);const k=new URLSearchParams;R&&k.append("search",R);const D=`/api/galleries${k.toString()?`?${k.toString()}`:""}`,P=await at.get(D),z=Array.isArray(P.data)?P.data.map(U=>({id:U.id,name:U.gallery_name,address:U.gallery_address,closedDay:U.gallery_closed_day,time:`${U.gallery_start_time} - ${U.gallery_end_time}`,registered:U.exhibitions?U.exhibitions.length:0,liked:U.like_count,image:U.gallery_image})):[];e(z)}catch(k){w(k.message),console.error("   :",k),console.error(" :",(B=k.response)==null?void 0:B.data),console.error(" :",(G=k.response)==null?void 0:G.status),console.error(" :",(L=k.response)==null?void 0:L.headers),e([])}finally{d(!1),p(!1)}},[]),E=j.useCallback(async(R="")=>{try{d(!0);const B=new URLSearchParams;R&&R!==" "&&B.append("gallery_id",R);const G=`/api/exhibitions${B.toString()?`?${B.toString()}`:""}`,L=await at.get(G),k=Array.isArray(L.data)?L.data.map(D=>{var P,z;return{id:D.id,title:D.exhibition_title,period:`${D.exhibition_start_date} - ${D.exhibition_end_date}`,image:D.exhibition_poster||null,gallery_name:((P=D.exhibition_organization)==null?void 0:P.name)||"  ",gallery_id:D.gallery_id||null,value:((z=D.exhibition_organization)==null?void 0:z.name)||"  "}}):[];i(k)}catch(B){w(B.message),console.error("   :",B),i([])}finally{d(!1)}},[]),T=j.useCallback(async(R="")=>{try{d(!0);const B=new URLSearchParams;R&&R!==" "&&B.append("gallery_id",R);const G=`/api/arts${B.toString()?`?${B.toString()}`:""}`,L=await at.get(G),k=Array.isArray(L.data)?L.data.map(D=>{var X,ne,ee;const P=D.exhibitions&&D.exhibitions.length>0?D.exhibitions[0]:null,z=((X=P==null?void 0:P.gallery)==null?void 0:X.gallery_name)||"  ",U=(P==null?void 0:P.gallery_id)||((ne=P==null?void 0:P.gallery)==null?void 0:ne.id)||null;return{id:D.id,title:D.art_title,artist:((ee=D.artist)==null?void 0:ee.artist_name)||"  ",image:D.art_image||null,gallery_name:z,gallery_id:U,value:z}}):[];s(k)}catch(B){w(B.message),console.error("   :",B),s([])}finally{d(!1)}},[]);return j.useEffect(()=>{S()},[]),{galleryList:t,exhibitionList:n,artworkList:r,handleDelete:async(R,B)=>{try{B==="gallery"?(await at.delete(`/api/galleries/${R}`),e(G=>G.filter(L=>L.id!==R))):B==="exhibition"?(await at.delete(`/api/exhibitions/${R}`),i(G=>G.filter(L=>L.id!==R))):B==="artwork"&&(await at.delete(`/api/arts/${R}`),s(G=>G.filter(L=>L.id!==R)))}catch(G){w(G.message),console.error(" :",G),alert(" .  .")}},loadGalleries:S,loadExhibitions:E,loadArtworks:T,isLoading:l,isSearching:f,error:b}}const YW="_layout_11ovy_3",KW="_tabSection_11ovy_17",ZW="_content_11ovy_35",oy={layout:YW,tabSection:KW,content:ZW};function QW(){const t=yi(),[e,n]=j.useState(""),[i,r]=j.useState(" ");j.useEffect(()=>{var B;(B=t.state)!=null&&B.activeTab&&n(t.state.activeTab)},[t.state]);const s=B=>{n(B),r(" ")},l=["","","",""],{galleryList:d,exhibitionList:f,artworkList:p,handleDelete:b,loadGalleries:w,loadExhibitions:S,loadArtworks:E,isLoading:T,isSearching:M,error:R}=XW();return x.jsxs("div",{className:oy.layout,children:[x.jsx("div",{className:oy.tabSection,children:x.jsx(eq,{tabList:l,activeTab:e,onTabChange:s})}),x.jsxs("div",{className:oy.content,children:[e===""&&x.jsx(zq,{galleryList:d,onDelete:b,loadGalleries:w,isLoading:T,isSearching:M,error:R}),e===""&&x.jsx(tW,{exhibitionList:f,selectedGallery:i,onGalleryChange:r,onDelete:b,loadExhibitions:S,isLoading:T,error:R,galleryList:d}),e===""&&x.jsx(pW,{artworkList:p,selectedGallery:i,onGalleryChange:r,onDelete:b,loadArtworks:E,isLoading:T,error:R,galleryList:d}),e===""&&x.jsx(WW,{})]})]})}function JW(){return x.jsxs(x.Fragment,{children:[x.jsx(gA,{}),x.jsx(qA,{}),x.jsx("div",{style:{flex:1},children:x.jsx(Sb,{})}),x.jsx(KA,{})]})}const eX="_layout_gwo49_1",tX="_header_gwo49_9",nX="_title_gwo49_35",iX="_backButton_gwo49_45",rX="_content_gwo49_63",sX="_adminTabNav_gwo49_77",aX="_adminTabButton_gwo49_103",oX="_addButton_gwo49_193",mo={layout:eX,header:tX,title:nX,backButton:iX,content:rX,adminTabNav:sX,adminTabButton:aX,addButton:oX};var Ku={},ly,uS;function OT(){return uS||(uS=1,ly={L:1,M:0,Q:3,H:2}),ly}var cy,dS;function RT(){return dS||(dS=1,cy={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),cy}var uy,fS;function lX(){if(fS)return uy;fS=1;var t=RT();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var i=0;i<this.data.length;i++)n.put(this.data.charCodeAt(i),8)}},uy=e,uy}var dy,hS;function cX(){if(hS)return dy;hS=1;var t=OT();function e(n,i){this.totalCount=n,this.dataCount=i}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,i){var r=e.getRsBlockTable(n,i);if(r==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+i);for(var s=r.length/3,l=new Array,d=0;d<s;d++)for(var f=r[d*3+0],p=r[d*3+1],b=r[d*3+2],w=0;w<f;w++)l.push(new e(p,b));return l},e.getRsBlockTable=function(n,i){switch(i){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},dy=e,dy}var fy,pS;function uX(){if(pS)return fy;pS=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var i=0;i<n;i++)this.putBit((e>>>n-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},fy=t,fy}var hy,mS;function DT(){if(mS)return hy;mS=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return hy=t,hy}var py,gS;function BT(){if(gS)return py;gS=1;var t=DT();function e(n,i){if(n.length==null)throw new Error(n.length+"/"+i);for(var r=0;r<n.length&&n[r]==0;)r++;this.num=new Array(n.length-r+i);for(var s=0;s<n.length-r;s++)this.num[s]=n[s+r]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var i=new Array(this.getLength()+n.getLength()-1),r=0;r<this.getLength();r++)for(var s=0;s<n.getLength();s++)i[r+s]^=t.gexp(t.glog(this.get(r))+t.glog(n.get(s)));return new e(i,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var i=t.glog(this.get(0))-t.glog(n.get(0)),r=new Array(this.getLength()),s=0;s<this.getLength();s++)r[s]=this.get(s);for(var s=0;s<n.getLength();s++)r[s]^=t.gexp(t.glog(n.get(s))+i);return new e(r,0).mod(n)}},py=e,py}var my,xS;function dX(){if(xS)return my;xS=1;var t=RT(),e=BT(),n=DT(),i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},r={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var l=s<<10;r.getBCHDigit(l)-r.getBCHDigit(r.G15)>=0;)l^=r.G15<<r.getBCHDigit(l)-r.getBCHDigit(r.G15);return(s<<10|l)^r.G15_MASK},getBCHTypeNumber:function(s){for(var l=s<<12;r.getBCHDigit(l)-r.getBCHDigit(r.G18)>=0;)l^=r.G18<<r.getBCHDigit(l)-r.getBCHDigit(r.G18);return s<<12|l},getBCHDigit:function(s){for(var l=0;s!=0;)l++,s>>>=1;return l},getPatternPosition:function(s){return r.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,l,d){switch(s){case i.PATTERN000:return(l+d)%2==0;case i.PATTERN001:return l%2==0;case i.PATTERN010:return d%3==0;case i.PATTERN011:return(l+d)%3==0;case i.PATTERN100:return(Math.floor(l/2)+Math.floor(d/3))%2==0;case i.PATTERN101:return l*d%2+l*d%3==0;case i.PATTERN110:return(l*d%2+l*d%3)%2==0;case i.PATTERN111:return(l*d%3+(l+d)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var l=new e([1],0),d=0;d<s;d++)l=l.multiply(new e([1,n.gexp(d)],0));return l},getLengthInBits:function(s,l){if(1<=l&&l<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(l<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(l<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+l)},getLostPoint:function(s){for(var l=s.getModuleCount(),d=0,f=0;f<l;f++)for(var p=0;p<l;p++){for(var b=0,w=s.isDark(f,p),S=-1;S<=1;S++)if(!(f+S<0||l<=f+S))for(var E=-1;E<=1;E++)p+E<0||l<=p+E||S==0&&E==0||w==s.isDark(f+S,p+E)&&b++;b>5&&(d+=3+b-5)}for(var f=0;f<l-1;f++)for(var p=0;p<l-1;p++){var T=0;s.isDark(f,p)&&T++,s.isDark(f+1,p)&&T++,s.isDark(f,p+1)&&T++,s.isDark(f+1,p+1)&&T++,(T==0||T==4)&&(d+=3)}for(var f=0;f<l;f++)for(var p=0;p<l-6;p++)s.isDark(f,p)&&!s.isDark(f,p+1)&&s.isDark(f,p+2)&&s.isDark(f,p+3)&&s.isDark(f,p+4)&&!s.isDark(f,p+5)&&s.isDark(f,p+6)&&(d+=40);for(var p=0;p<l;p++)for(var f=0;f<l-6;f++)s.isDark(f,p)&&!s.isDark(f+1,p)&&s.isDark(f+2,p)&&s.isDark(f+3,p)&&s.isDark(f+4,p)&&!s.isDark(f+5,p)&&s.isDark(f+6,p)&&(d+=40);for(var M=0,p=0;p<l;p++)for(var f=0;f<l;f++)s.isDark(f,p)&&M++;var R=Math.abs(100*M/l/l-50)/5;return d+=R*10,d}};return my=r,my}var gy,yS;function fX(){if(yS)return gy;yS=1;var t=lX(),e=cX(),n=uX(),i=dX(),r=BT();function s(d,f){this.typeNumber=d,this.errorCorrectLevel=f,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=s.prototype;return l.addData=function(d){var f=new t(d);this.dataList.push(f),this.dataCache=null},l.isDark=function(d,f){if(d<0||this.moduleCount<=d||f<0||this.moduleCount<=f)throw new Error(d+","+f);return this.modules[d][f]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var d=1;for(d=1;d<40;d++){for(var f=e.getRSBlocks(d,this.errorCorrectLevel),p=new n,b=0,w=0;w<f.length;w++)b+=f[w].dataCount;for(var w=0;w<this.dataList.length;w++){var S=this.dataList[w];p.put(S.mode,4),p.put(S.getLength(),i.getLengthInBits(S.mode,d)),S.write(p)}if(p.getLengthInBits()<=b*8)break}this.typeNumber=d}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(d,f){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var p=0;p<this.moduleCount;p++){this.modules[p]=new Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++)this.modules[p][b]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(d,f),this.typeNumber>=7&&this.setupTypeNumber(d),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,f)},l.setupPositionProbePattern=function(d,f){for(var p=-1;p<=7;p++)if(!(d+p<=-1||this.moduleCount<=d+p))for(var b=-1;b<=7;b++)f+b<=-1||this.moduleCount<=f+b||(0<=p&&p<=6&&(b==0||b==6)||0<=b&&b<=6&&(p==0||p==6)||2<=p&&p<=4&&2<=b&&b<=4?this.modules[d+p][f+b]=!0:this.modules[d+p][f+b]=!1)},l.getBestMaskPattern=function(){for(var d=0,f=0,p=0;p<8;p++){this.makeImpl(!0,p);var b=i.getLostPoint(this);(p==0||d>b)&&(d=b,f=p)}return f},l.createMovieClip=function(d,f,p){var b=d.createEmptyMovieClip(f,p),w=1;this.make();for(var S=0;S<this.modules.length;S++)for(var E=S*w,T=0;T<this.modules[S].length;T++){var M=T*w,R=this.modules[S][T];R&&(b.beginFill(0,100),b.moveTo(M,E),b.lineTo(M+w,E),b.lineTo(M+w,E+w),b.lineTo(M,E+w),b.endFill())}return b},l.setupTimingPattern=function(){for(var d=8;d<this.moduleCount-8;d++)this.modules[d][6]==null&&(this.modules[d][6]=d%2==0);for(var f=8;f<this.moduleCount-8;f++)this.modules[6][f]==null&&(this.modules[6][f]=f%2==0)},l.setupPositionAdjustPattern=function(){for(var d=i.getPatternPosition(this.typeNumber),f=0;f<d.length;f++)for(var p=0;p<d.length;p++){var b=d[f],w=d[p];if(this.modules[b][w]==null)for(var S=-2;S<=2;S++)for(var E=-2;E<=2;E++)S==-2||S==2||E==-2||E==2||S==0&&E==0?this.modules[b+S][w+E]=!0:this.modules[b+S][w+E]=!1}},l.setupTypeNumber=function(d){for(var f=i.getBCHTypeNumber(this.typeNumber),p=0;p<18;p++){var b=!d&&(f>>p&1)==1;this.modules[Math.floor(p/3)][p%3+this.moduleCount-8-3]=b}for(var p=0;p<18;p++){var b=!d&&(f>>p&1)==1;this.modules[p%3+this.moduleCount-8-3][Math.floor(p/3)]=b}},l.setupTypeInfo=function(d,f){for(var p=this.errorCorrectLevel<<3|f,b=i.getBCHTypeInfo(p),w=0;w<15;w++){var S=!d&&(b>>w&1)==1;w<6?this.modules[w][8]=S:w<8?this.modules[w+1][8]=S:this.modules[this.moduleCount-15+w][8]=S}for(var w=0;w<15;w++){var S=!d&&(b>>w&1)==1;w<8?this.modules[8][this.moduleCount-w-1]=S:w<9?this.modules[8][15-w-1+1]=S:this.modules[8][15-w-1]=S}this.modules[this.moduleCount-8][8]=!d},l.mapData=function(d,f){for(var p=-1,b=this.moduleCount-1,w=7,S=0,E=this.moduleCount-1;E>0;E-=2)for(E==6&&E--;;){for(var T=0;T<2;T++)if(this.modules[b][E-T]==null){var M=!1;S<d.length&&(M=(d[S]>>>w&1)==1);var R=i.getMask(f,b,E-T);R&&(M=!M),this.modules[b][E-T]=M,w--,w==-1&&(S++,w=7)}if(b+=p,b<0||this.moduleCount<=b){b-=p,p=-p;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(d,f,p){for(var b=e.getRSBlocks(d,f),w=new n,S=0;S<p.length;S++){var E=p[S];w.put(E.mode,4),w.put(E.getLength(),i.getLengthInBits(E.mode,d)),E.write(w)}for(var T=0,S=0;S<b.length;S++)T+=b[S].dataCount;if(w.getLengthInBits()>T*8)throw new Error("code length overflow. ("+w.getLengthInBits()+">"+T*8+")");for(w.getLengthInBits()+4<=T*8&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(!1);for(;!(w.getLengthInBits()>=T*8||(w.put(s.PAD0,8),w.getLengthInBits()>=T*8));)w.put(s.PAD1,8);return s.createBytes(w,b)},s.createBytes=function(d,f){for(var p=0,b=0,w=0,S=new Array(f.length),E=new Array(f.length),T=0;T<f.length;T++){var M=f[T].dataCount,R=f[T].totalCount-M;b=Math.max(b,M),w=Math.max(w,R),S[T]=new Array(M);for(var B=0;B<S[T].length;B++)S[T][B]=255&d.buffer[B+p];p+=M;var G=i.getErrorCorrectPolynomial(R),L=new r(S[T],G.getLength()-1),k=L.mod(G);E[T]=new Array(G.getLength()-1);for(var B=0;B<E[T].length;B++){var D=B+k.getLength()-E[T].length;E[T][B]=D>=0?k.get(D):0}}for(var P=0,B=0;B<f.length;B++)P+=f[B].totalCount;for(var z=new Array(P),U=0,B=0;B<b;B++)for(var T=0;T<f.length;T++)B<S[T].length&&(z[U++]=S[T][B]);for(var B=0;B<w;B++)for(var T=0;T<f.length;T++)B<E[T].length&&(z[U++]=E[T][B]);return z},gy=s,gy}var l1={},bS;function hX(){if(bS)return l1;bS=1,Object.defineProperty(l1,"__esModule",{value:!0});var t=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var w=arguments[b];for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(p[S]=w[S])}return p},e=Tb(),n=s(e),i=Jc(),r=s(i);function s(p){return p&&p.__esModule?p:{default:p}}function l(p,b){var w={};for(var S in p)b.indexOf(S)>=0||Object.prototype.hasOwnProperty.call(p,S)&&(w[S]=p[S]);return w}var d={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},f=(0,i.forwardRef)(function(p,b){var w=p.bgColor,S=p.bgD,E=p.fgD,T=p.fgColor,M=p.size,R=p.title,B=p.viewBoxSize,G=p.xmlns,L=G===void 0?"http://www.w3.org/2000/svg":G,k=l(p,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return r.default.createElement("svg",t({},k,{height:M,ref:b,viewBox:"0 0 "+B+" "+B,width:M,xmlns:L}),R?r.default.createElement("title",null,R):null,r.default.createElement("path",{d:S,fill:w}),r.default.createElement("path",{d:E,fill:T}))});return f.displayName="QRCodeSvg",f.propTypes=d,l1.default=f,l1}var vS;function pX(){if(vS)return Ku;vS=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.QRCode=void 0;var t=Object.assign||function(M){for(var R=1;R<arguments.length;R++){var B=arguments[R];for(var G in B)Object.prototype.hasOwnProperty.call(B,G)&&(M[G]=B[G])}return M},e=Tb(),n=w(e),i=OT(),r=w(i),s=fX(),l=w(s),d=Jc(),f=w(d),p=hX(),b=w(p);function w(M){return M&&M.__esModule?M:{default:M}}function S(M,R){var B={};for(var G in M)R.indexOf(G)>=0||Object.prototype.hasOwnProperty.call(M,G)&&(B[G]=M[G]);return B}var E={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},T=(0,d.forwardRef)(function(M,R){var B=M.bgColor,G=B===void 0?"#FFFFFF":B,L=M.fgColor,k=L===void 0?"#000000":L,D=M.level,P=D===void 0?"L":D,z=M.size,U=z===void 0?256:z,X=M.value,ne=S(M,["bgColor","fgColor","level","size","value"]),ee=new l.default(-1,r.default[P]);ee.addData(X),ee.make();var oe=ee.modules;return f.default.createElement(b.default,t({},ne,{bgColor:G,bgD:oe.map(function(Ce,Se){return Ce.map(function(te,Q){return te?"":"M "+Q+" "+Se+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:k,fgD:oe.map(function(Ce,Se){return Ce.map(function(te,Q){return te?"M "+Q+" "+Se+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:R,size:U,viewBoxSize:oe.length}))});return Ku.QRCode=T,T.displayName="QRCode",T.propTypes=E,Ku.default=T,Ku}var mX=pX();const gX=jo(mX);function xX(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),i=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(r),e&&(i.href=e),r.href=t,r.href}const yX=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function Bl(t){const e=[];for(let n=0,i=t.length;n<i;n++)e.push(t[n]);return e}let Zu=null;function LT(t={}){return Zu||(t.includeStyleProperties?(Zu=t.includeStyleProperties,Zu):(Zu=Bl(window.getComputedStyle(document.documentElement)),Zu))}function Q1(t,e){const i=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return i?parseFloat(i.replace("px","")):0}function bX(t){const e=Q1(t,"border-left-width"),n=Q1(t,"border-right-width");return t.clientWidth+e+n}function vX(t){const e=Q1(t,"border-top-width"),n=Q1(t,"border-bottom-width");return t.clientHeight+e+n}function jT(t,e={}){const n=e.width||bX(t),i=e.height||vX(t);return{width:n,height:i}}function wX(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const cs=16384;function _X(t){(t.width>cs||t.height>cs)&&(t.width>cs&&t.height>cs?t.width>t.height?(t.height*=cs/t.width,t.width=cs):(t.width*=cs/t.height,t.height=cs):t.width>cs?(t.height*=cs/t.width,t.width=cs):(t.width*=cs/t.height,t.height=cs))}function J1(t){return new Promise((e,n)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>e(i))})},i.onerror=n,i.crossOrigin="anonymous",i.decoding="async",i.src=t})}async function CX(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function SX(t,e,n){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${e}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),r.appendChild(s),s.appendChild(t),CX(r)}const Gr=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||Gr(n,e)};function EX(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function AX(t,e){return LT(e).map(n=>{const i=t.getPropertyValue(n),r=t.getPropertyPriority(n);return`${n}: ${i}${r?" !important":""};`}).join(" ")}function TX(t,e,n,i){const r=`.${t}:${e}`,s=n.cssText?EX(n):AX(n,i);return document.createTextNode(`${r}{${s}}`)}function wS(t,e,n,i){const r=window.getComputedStyle(t,n),s=r.getPropertyValue("content");if(s===""||s==="none")return;const l=yX();try{e.className=`${e.className} ${l}`}catch{return}const d=document.createElement("style");d.appendChild(TX(l,n,r,i)),e.appendChild(d)}function NX(t,e,n){wS(t,e,":before",n),wS(t,e,":after",n)}const _S="application/font-woff",CS="image/jpeg",IX={woff:_S,woff2:_S,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:CS,jpeg:CS,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function kX(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function Fb(t){const e=kX(t).toLowerCase();return IX[e]||""}function MX(t){return t.split(/,/)[1]}function T2(t){return t.search(/^(data:)/)!==-1}function OX(t,e){return`data:${e};base64,${t}`}async function PT(t,e,n){const i=await fetch(t,e);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const r=await i.blob();return new Promise((s,l)=>{const d=new FileReader;d.onerror=l,d.onloadend=()=>{try{s(n({res:i,result:d.result}))}catch(f){l(f)}},d.readAsDataURL(r)})}const xy={};function RX(t,e,n){let i=t.replace(/\?.*/,"");return n&&(i=t),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),e?`[${e}]${i}`:i}async function zb(t,e,n){const i=RX(t,e,n.includeQueryParams);if(xy[i]!=null)return xy[i];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let r;try{const s=await PT(t,n.fetchRequestInit,({res:l,result:d})=>(e||(e=l.headers.get("Content-Type")||""),MX(d)));r=OX(s,e)}catch(s){r=n.imagePlaceholder||"";let l=`Failed to fetch resource: ${t}`;s&&(l=typeof s=="string"?s:s.message),l&&console.warn(l)}return xy[i]=r,r}async function DX(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):J1(e)}async function BX(t,e){if(t.currentSrc){const s=document.createElement("canvas"),l=s.getContext("2d");s.width=t.clientWidth,s.height=t.clientHeight,l==null||l.drawImage(t,0,0,s.width,s.height);const d=s.toDataURL();return J1(d)}const n=t.poster,i=Fb(n),r=await zb(n,i,e);return J1(r)}async function LX(t,e){var n;try{if(!((n=t==null?void 0:t.contentDocument)===null||n===void 0)&&n.body)return await l0(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function jX(t,e){return Gr(t,HTMLCanvasElement)?DX(t):Gr(t,HTMLVideoElement)?BX(t,e):Gr(t,HTMLIFrameElement)?LX(t,e):t.cloneNode(FT(t))}const PX=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",FT=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function FX(t,e,n){var i,r;if(FT(e))return e;let s=[];return PX(t)&&t.assignedNodes?s=Bl(t.assignedNodes()):Gr(t,HTMLIFrameElement)&&(!((i=t.contentDocument)===null||i===void 0)&&i.body)?s=Bl(t.contentDocument.body.childNodes):s=Bl(((r=t.shadowRoot)!==null&&r!==void 0?r:t).childNodes),s.length===0||Gr(t,HTMLVideoElement)||await s.reduce((l,d)=>l.then(()=>l0(d,n)).then(f=>{f&&e.appendChild(f)}),Promise.resolve()),e}function zX(t,e,n){const i=e.style;if(!i)return;const r=window.getComputedStyle(t);r.cssText?(i.cssText=r.cssText,i.transformOrigin=r.transformOrigin):LT(n).forEach(s=>{let l=r.getPropertyValue(s);s==="font-size"&&l.endsWith("px")&&(l=`${Math.floor(parseFloat(l.substring(0,l.length-2)))-.1}px`),Gr(t,HTMLIFrameElement)&&s==="display"&&l==="inline"&&(l="block"),s==="d"&&e.getAttribute("d")&&(l=`path(${e.getAttribute("d")})`),i.setProperty(s,l,r.getPropertyPriority(s))})}function HX(t,e){Gr(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),Gr(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function UX(t,e){if(Gr(t,HTMLSelectElement)){const n=e,i=Array.from(n.children).find(r=>t.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}function $X(t,e,n){return Gr(e,Element)&&(zX(t,e,n),NX(t,e,n),HX(t,e),UX(t,e)),e}async function VX(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const i={};for(let s=0;s<n.length;s++){const d=n[s].getAttribute("xlink:href");if(d){const f=t.querySelector(d),p=document.querySelector(d);!f&&p&&!i[d]&&(i[d]=await l0(p,e,!0))}}const r=Object.values(i);if(r.length){const s="http://www.w3.org/1999/xhtml",l=document.createElementNS(s,"svg");l.setAttribute("xmlns",s),l.style.position="absolute",l.style.width="0",l.style.height="0",l.style.overflow="hidden",l.style.display="none";const d=document.createElementNS(s,"defs");l.appendChild(d);for(let f=0;f<r.length;f++)d.appendChild(r[f]);t.appendChild(l)}return t}async function l0(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(i=>jX(i,e)).then(i=>FX(t,i,e)).then(i=>$X(t,i,e)).then(i=>VX(i,e))}const zT=/url\((['"]?)([^'"]+?)\1\)/g,GX=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,qX=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function WX(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function XX(t){const e=[];return t.replace(zT,(n,i,r)=>(e.push(r),n)),e.filter(n=>!T2(n))}async function YX(t,e,n,i,r){try{const s=n?xX(e,n):e,l=Fb(e);let d;return r||(d=await zb(s,l,i)),t.replace(WX(e),`$1${d}$3`)}catch{}return t}function KX(t,{preferredFontFormat:e}){return e?t.replace(qX,n=>{for(;;){const[i,,r]=GX.exec(n)||[];if(!r)return"";if(r===e)return`src: ${i};`}}):t}function HT(t){return t.search(zT)!==-1}async function UT(t,e,n){if(!HT(t))return t;const i=KX(t,n);return XX(i).reduce((s,l)=>s.then(d=>YX(d,l,e,n)),Promise.resolve(i))}async function Qu(t,e,n){var i;const r=(i=e.style)===null||i===void 0?void 0:i.getPropertyValue(t);if(r){const s=await UT(r,null,n);return e.style.setProperty(t,s,e.style.getPropertyPriority(t)),!0}return!1}async function ZX(t,e){await Qu("background",t,e)||await Qu("background-image",t,e),await Qu("mask",t,e)||await Qu("-webkit-mask",t,e)||await Qu("mask-image",t,e)||await Qu("-webkit-mask-image",t,e)}async function QX(t,e){const n=Gr(t,HTMLImageElement);if(!(n&&!T2(t.src))&&!(Gr(t,SVGImageElement)&&!T2(t.href.baseVal)))return;const i=n?t.src:t.href.baseVal,r=await zb(i,Fb(i),e);await new Promise((s,l)=>{t.onload=s,t.onerror=e.onImageErrorHandler?(...f)=>{try{s(e.onImageErrorHandler(...f))}catch(p){l(p)}}:l;const d=t;d.decode&&(d.decode=s),d.loading==="lazy"&&(d.loading="eager"),n?(t.srcset="",t.src=r):t.href.baseVal=r})}async function JX(t,e){const i=Bl(t.childNodes).map(r=>$T(r,e));await Promise.all(i).then(()=>t)}async function $T(t,e){Gr(t,Element)&&(await ZX(t,e),await QX(t,e),await JX(t,e))}function eY(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const i=e.style;return i!=null&&Object.keys(i).forEach(r=>{n[r]=i[r]}),t}const SS={};async function ES(t){let e=SS[t];if(e!=null)return e;const i=await(await fetch(t)).text();return e={url:t,cssText:i},SS[t]=e,e}async function AS(t,e){let n=t.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async l=>{let d=l.replace(i,"$1");return d.startsWith("https://")||(d=new URL(d,t.url).href),PT(d,e.fetchRequestInit,({result:f})=>(n=n.replace(l,`url(${f})`),[l,f]))});return Promise.all(s).then(()=>n)}function TS(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let i=t.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const f=r.exec(i);if(f===null)break;e.push(f[0])}i=i.replace(r,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",d=new RegExp(l,"gi");for(;;){let f=s.exec(i);if(f===null){if(f=d.exec(i),f===null)break;s.lastIndex=d.lastIndex}else d.lastIndex=s.lastIndex;e.push(f[0])}return e}async function tY(t,e){const n=[],i=[];return t.forEach(r=>{if("cssRules"in r)try{Bl(r.cssRules||[]).forEach((s,l)=>{if(s.type===CSSRule.IMPORT_RULE){let d=l+1;const f=s.href,p=ES(f).then(b=>AS(b,e)).then(b=>TS(b).forEach(w=>{try{r.insertRule(w,w.startsWith("@import")?d+=1:r.cssRules.length)}catch(S){console.error("Error inserting rule from remote css",{rule:w,error:S})}})).catch(b=>{console.error("Error loading remote css",b.toString())});i.push(p)}})}catch(s){const l=t.find(d=>d.href==null)||document.styleSheets[0];r.href!=null&&i.push(ES(r.href).then(d=>AS(d,e)).then(d=>TS(d).forEach(f=>{l.insertRule(f,l.cssRules.length)})).catch(d=>{console.error("Error loading remote stylesheet",d)})),console.error("Error inlining remote css file",s)}}),Promise.all(i).then(()=>(t.forEach(r=>{if("cssRules"in r)try{Bl(r.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${r.href}`,s)}}),n))}function nY(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>HT(e.style.getPropertyValue("src")))}async function iY(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Bl(t.ownerDocument.styleSheets),i=await tY(n,e);return nY(i)}function VT(t){return t.trim().replace(/["']/g,"")}function rY(t){const e=new Set;function n(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(s=>{e.add(VT(s))}),Array.from(i.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(t),e}async function sY(t,e){const n=await iY(t,e),i=rY(t);return(await Promise.all(n.filter(s=>i.has(VT(s.style.fontFamily))).map(s=>{const l=s.parentStyleSheet?s.parentStyleSheet.href:null;return UT(s.cssText,l,e)}))).join(`
`)}async function aY(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await sY(t,e);if(n){const i=document.createElement("style"),r=document.createTextNode(n);i.appendChild(r),t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)}}async function oY(t,e={}){const{width:n,height:i}=jT(t,e),r=await l0(t,e,!0);return await aY(r,e),await $T(r,e),eY(r,e),await SX(r,n,i)}async function lY(t,e={}){const{width:n,height:i}=jT(t,e),r=await oY(t,e),s=await J1(r),l=document.createElement("canvas"),d=l.getContext("2d"),f=e.pixelRatio||wX(),p=e.canvasWidth||n,b=e.canvasHeight||i;return l.width=p*f,l.height=b*f,e.skipAutoScale||_X(l),l.style.width=`${p}`,l.style.height=`${b}`,e.backgroundColor&&(d.fillStyle=e.backgroundColor,d.fillRect(0,0,l.width,l.height)),d.drawImage(s,0,0,l.width,l.height),l}async function cY(t,e={}){return(await lY(t,e)).toDataURL()}const uY="_modalOverlay_ujdot_1",dY="_modalContent_ujdot_27",fY="_header_ujdot_43",hY="_title_ujdot_59",pY="_closeButton_ujdot_71",mY="_body_ujdot_87",gY="_qrDownloadArea_ujdot_103",xY="_galleryInfo_ujdot_115",yY="_galleryName_ujdot_131",bY="_galleryNameEn_ujdot_141",vY="_qrCodeWrapper_ujdot_151",wY="_downloadButton_ujdot_163",_Y="_noLeaflet_ujdot_193",CY="_noLeafletMessage_ujdot_201",ur={modalOverlay:uY,modalContent:dY,header:fY,title:hY,closeButton:pY,body:mY,qrDownloadArea:gY,galleryInfo:xY,galleryName:yY,galleryNameEn:bY,qrCodeWrapper:vY,downloadButton:wY,noLeaflet:_Y,noLeafletMessage:CY};function SY({data:t,onClose:e,type:n}){var w;const i=t||{},r=i.leafletUrl,s=j.useRef(null),l=n==="exhibitions",d=l?i.exhibition_title:i.gallery_name,f=l?((w=i.gallery)==null?void 0:w.gallery_name)||i.gallery_name||"":i.gallery_eng_name||"",p=l?i.exhibition_title||"exhibition":i.gallery_name||"gallery",b=()=>{s.current!==null&&cY(s.current,{cacheBust:!0,backgroundColor:"#ffffff"}).then(S=>{const E=document.createElement("a");E.download=`${p}-qr-code.png`,E.href=S,E.click()}).catch(S=>{console.error("  .",S),alert("  .  .")})};return x.jsx("div",{className:ur.modalOverlay,onClick:e,children:x.jsxs("div",{className:ur.modalContent,onClick:S=>S.stopPropagation(),children:[x.jsxs("header",{className:ur.header,children:[x.jsx("h2",{className:ur.title,children:"QR : /"}),x.jsx("button",{className:ur.closeButton,onClick:e,children:""})]}),x.jsx("div",{className:ur.body,children:r?x.jsxs(x.Fragment,{children:[x.jsxs("div",{ref:s,className:ur.qrDownloadArea,children:[x.jsxs("div",{className:ur.galleryInfo,children:[x.jsx("p",{className:ur.galleryName,children:d||"  "}),x.jsx("p",{className:ur.galleryNameEn,children:f})]}),x.jsx("div",{className:ur.qrCodeWrapper,children:x.jsx(gX,{value:i.leafletUrl,size:200,bgColor:"#FFFFFF",fgColor:"#000000",level:"L",style:{height:"auto",maxWidth:"100%",width:"100%"}})})]}),x.jsx("button",{className:ur.downloadButton,onClick:b,children:""})]}):x.jsxs("div",{className:ur.noLeaflet,children:[x.jsx("p",{className:ur.galleryName,children:d||"  "}),x.jsx("p",{className:ur.galleryNameEn,children:f}),x.jsx("p",{className:ur.noLeafletMessage,children:"   ."})]})})]})})}const EY="_layout_zq7j1_1",AY="_breadcrumb_zq7j1_21",TY="_breadcrumbBack_zq7j1_35",NY="_card_zq7j1_45",IY="_titleSection_zq7j1_63",kY="_galleryTitle_zq7j1_73",MY="_gallerySubTitle_zq7j1_87",OY="_galleryImage_zq7j1_99",RY="_btnLayout_zq7j1_117",DY="_likeButton_zq7j1_131",BY="_icon_zq7j1_155",LY="_likedIcon_zq7j1_163",jY="_containerLayout_zq7j1_173",PY="_tagContainer_zq7j1_185",FY="_tag_zq7j1_185",zY="_infoList_zq7j1_221",HY="_infoRow_zq7j1_235",UY="_infoLabel_zq7j1_245",$Y="_infoContent_zq7j1_257",VY="_homepageButton_zq7j1_277",GY="_descriptionParagraph_zq7j1_335",qY="_inlineSns_zq7j1_381",WY="_snsLink_zq7j1_395",XY="_snsIcon_zq7j1_405",YY="_instagram_zq7j1_429",KY="_youtube_zq7j1_437",ZY="_defaultLink_zq7j1_445",QY="_emptyContent_zq7j1_453",JY="_sectionTitle_zq7j1_467",eK="_backButton_zq7j1_479",tK="_emptyInfo_zq7j1_513",sn={layout:EY,breadcrumb:AY,breadcrumbBack:TY,card:NY,titleSection:IY,galleryTitle:kY,gallerySubTitle:MY,galleryImage:OY,btnLayout:RY,likeButton:DY,icon:BY,likedIcon:LY,containerLayout:jY,tagContainer:PY,tag:FY,infoList:zY,infoRow:HY,infoLabel:UY,infoContent:$Y,homepageButton:VY,descriptionParagraph:GY,inlineSns:qY,snsLink:WY,snsIcon:XY,instagram:YY,youtube:KY,defaultLink:ZY,emptyContent:QY,sectionTitle:JY,backButton:eK,emptyInfo:tK},nK="_tabsLayout_1o5b4_1",iK="_tabNav_1o5b4_13",rK="_tabContent_1o5b4_39",sK="_tabButton_1o5b4_63",aK="_activeTab_1o5b4_93",Df={tabsLayout:nK,tabNav:iK,tabContent:rK,tabButton:sK,activeTab:aK};function GT({tabs:t,activeTab:e,setActiveTab:n,children:i}){return x.jsxs("div",{className:Df.tabsLayout,children:[x.jsx("nav",{className:Df.tabNav,children:t.map(({key:r,label:s})=>x.jsx("button",{className:`${Df.tabButton} ${e===r?Df.activeTab:""}`,onClick:()=>n(r),children:s},r))}),x.jsx("section",{className:Df.tabContent,children:i})]})}const oK="_exhibitionList_i0wxs_1",lK="_exhibitionCard_i0wxs_17",cK="_imageContainer_i0wxs_49",uK="_exhibitionImage_i0wxs_63",dK="_statusTag_i0wxs_77",fK="_statusOn_i0wxs_101",hK="_statusScheduled_i0wxs_107",pK="_statusDone_i0wxs_113",mK="_statusDefault_i0wxs_119",gK="_infoContainer_i0wxs_127",xK="_title_i0wxs_147",yK="_location_i0wxs_165",bK="_date_i0wxs_175",vK="_emptyContent_i0wxs_185",Hr={exhibitionList:oK,exhibitionCard:lK,imageContainer:cK,exhibitionImage:uK,statusTag:dK,statusOn:fK,statusScheduled:hK,statusDone:pK,statusDefault:mK,infoContainer:gK,title:xK,location:yK,date:bK,emptyContent:vK},NS={exhibited:{text:"",className:Hr.statusOn},scheduled:{text:"",className:Hr.statusScheduled},ended:{text:"",className:Hr.statusDone},default:{text:"",className:Hr.statusDefault}};function wK({exhibitions:t}){const n=yi().pathname.includes("/console");return console.log(" ",t),!t||t.length===0?x.jsx("p",{className:Hr.emptyContent,children:"   ."}):x.jsx("section",{className:Hr.exhibitionList,children:t.map(({exhibition_id:i,exhibition_poster:r,exhibition_title:s,exhibition_status:l,exhibition_location:d,exhibition_start_date:f,exhibition_end_date:p})=>{const b=NS[l]||NS.default,w=n?`/console/exhibitions/${i}`:`/exhibitions/${i}`;return x.jsxs(Rn,{className:Hr.exhibitionCard,to:w,children:[x.jsxs("div",{className:Hr.imageContainer,children:[x.jsx("img",{className:Hr.exhibitionImage,src:r,alt:"  "}),x.jsx("span",{className:`${Hr.statusTag} ${b.className}`,children:b.text})]}),x.jsxs("div",{className:Hr.infoContainer,children:[x.jsx("h4",{className:Hr.title,children:s}),x.jsx("p",{className:Hr.location,children:d}),x.jsx("p",{className:Hr.date,children:`${f} ~ ${p}`})]})]},i)})})}const _K="_artworkGrid_1kwuv_1",CK="_artworkCard_1kwuv_45",SK="_artworkImage_1kwuv_83",EK="_artworkInfo_1kwuv_97",AK="_title_1kwuv_111",TK="_materials_1kwuv_123",NK="_details_1kwuv_133",IK="_emptyContent_1kwuv_145",bl={artworkGrid:_K,artworkCard:CK,artworkImage:SK,artworkInfo:EK,title:AK,materials:TK,details:NK,emptyContent:IK};function qT({artworks:t}){const n=yi().pathname.includes("/console");return console.log(t),!t||t.length===0?x.jsx("p",{className:bl.emptyContent,children:"   ."}):x.jsx("section",{className:bl.artworkGrid,children:t.map(({id:i,image_url:r,title:s,materials:l,size:d,year:f})=>{const p=n?`/console/artworks/${i}`:`/artworks/${i}`;return x.jsxs(Rn,{className:bl.artworkCard,to:p,children:[x.jsx("img",{className:bl.artworkImage,src:r,alt:s}),x.jsxs("div",{className:bl.artworkInfo,children:[x.jsx("h4",{className:bl.title,children:s}),x.jsx("p",{className:bl.materials,children:l}),x.jsx("p",{className:bl.details,children:`${d}, ${f}`})]})]},i)})})}const kK="_modalOverlay_1ug3w_1",MK="_mapModalBox_1ug3w_21",OK="_mapModalTitle_1ug3w_61",RK="_mapModalSubTitle_1ug3w_73",DK="_mapModalMap_1ug3w_87",BK="_mapModalClose_1ug3w_101",Ju={modalOverlay:kK,mapModalBox:MK,mapModalTitle:OK,mapModalSubTitle:RK,mapModalMap:DK,mapModalClose:BK};function LK({lat:t,lng:e,title:n,address:i,mapId:r,onClose:s}){return s0({lat:t,lng:e,id:r,title:n,location:i}),console.log("MapModalSimple !",r),j.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),x.jsx("div",{className:Ju.modalOverlay,children:x.jsxs("div",{className:Ju.mapModalBox,children:[x.jsx("h3",{className:Ju.mapModalTitle,children:n}),x.jsx("p",{className:Ju.mapModalSubTitle,children:i}),x.jsx("div",{id:r,className:Ju.mapModalMap}),x.jsx("button",{className:Ju.mapModalClose,onClick:s,children:""})]})})}function WT({showUserActions:t=!0,id:e,actionButtons:n}){const{galleryId:i}=Hs(),r=e||i,s=Jt(),{user:l}=ia(),[d,f]=j.useState(null),[p,b]=j.useState(!1),[w,S]=j.useState(!1),[E,T]=j.useState("info"),[M,R]=j.useState(!1),B=async()=>{if(r)try{const qe=await at.get(`/api/galleries/${r}`),{data:Ae}=qe;f(Ae),typeof Ae.is_liked=="boolean"&&b(Ae.is_liked)}catch(qe){console.error("   :",qe)}};if(j.useEffect(()=>{B()},[r]),j.useEffect(()=>{d&&typeof d.is_liked=="boolean"&&b(d.is_liked)},[d]),!d)return x.jsx("div",{children:" ..."});const G=async()=>{if(!l){s("/login");return}try{const qe={liked_id:r,liked_type:"gallery"};if(p){await at.delete("/api/likes",{data:qe}),b(!1);return}else await at.post("/api/likes",{liked_id:r,liked_type:"gallery"});await at.post("/api/likes",qe),b(!0),S(!0)}catch(qe){console.error("  :",qe)}},L=()=>{const qe=d.gallery_name,Ae=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${qe}`,text:`${qe}   !`,url:Ae}).catch(en=>console.error(" :",en));else{const en=document.createElement("textarea");en.value=Ae,document.body.appendChild(en),en.select();try{document.execCommand("copy"),alert("  .")}catch(gt){console.error("  :",gt),alert("  .")}finally{document.body.removeChild(en)}}},k={instagram:sj,youtube:aj,default:cj},{exhibitions:D=[],artworks:P=[],gallery_address:z="",gallery_category:U="",gallery_closed_day:X="",gallery_description:ne="",gallery_end_time:ee="",gallery_start_time:oe="",gallery_image:Ce="",gallery_name:Se="",gallery_eng_name:te="",gallery_phone:Q="",gallery_email:le="",gallery_homepage:xe="",gallery_sns:Be,gallery_longitude:K}=d;let ue=[];try{Array.isArray(Be)?ue=Be:typeof Be=="string"&&(ue=JSON.parse(Be))}catch(qe){console.error("SNS   :",qe),ue=[]}const Ee=[{label:"",content:oe&&ee?`${oe.slice(0,5)} - ${ee.slice(0,5)}`:" "},{label:"",content:X||" "},{label:"",content:Q||" "},{label:"",content:z||" "},{label:"",content:le?x.jsx("a",{href:`mailto:${le}`,children:le}):" "},{label:"SNS",content:Array.isArray(ue)&&ue.length>0?x.jsx("div",{className:sn.inlineSns,children:ue.map(({type:qe,url:Ae})=>{const en=qe==null?void 0:qe.toLowerCase(),gt=k[en]||k.default,oi=sn[en]||sn.defaultLink;return x.jsx("a",{href:Ae||"#",target:"_blank",rel:"noopener noreferrer",className:sn.snsLink,children:x.jsx(gt,{className:`${sn.snsIcon} ${oi}`})},`${qe}-${Ae}`)})}):" "}];console.log(ue);const Oe=[{key:"info",label:""},{key:"artworks",label:`(${P.length||0})`},{key:"exhibitions",label:`(${D.length||0})`}],He=`gallery-${r}-map`;return x.jsxs("div",{className:sn.layout,children:[t&&x.jsxs("div",{className:sn.breadcrumb,children:[x.jsx("span",{className:sn.breadcrumbBack,onClick:()=>s("/galleries"),children:""})," ","> ",Se]}),x.jsxs("section",{className:sn.titleSection,children:[x.jsx("h1",{className:sn.galleryTitle,children:Se}),x.jsx("p",{className:sn.gallerySubTitle,children:te||"Gallery"})]}),x.jsxs("div",{className:sn.card,children:[x.jsx("img",{className:sn.galleryImage,src:Ce,alt:"  "}),t&&x.jsxs("div",{className:sn.btnLayout,children:[x.jsxs("button",{className:sn.likeButton,onClick:G,children:[x.jsx(kh,{className:p?sn.likedIcon:sn.icon}),""]}),x.jsxs("button",{className:sn.likeButton,onClick:()=>R(!0),children:[x.jsx(uj,{className:sn.icon}),""]}),x.jsxs("button",{className:sn.likeButton,onClick:L,children:[x.jsx(Db,{className:sn.icon}),""]})]}),x.jsx("div",{className:sn.tagContainer,children:U&&U.split(",").map(qe=>x.jsx("span",{className:sn.tag,children:qe.trim()},qe))}),x.jsxs("section",{className:sn.infoList,children:[Ee.map(({label:qe,content:Ae})=>{const en=!Ae||typeof Ae=="string"&&Ae.trim()===" ";return x.jsxs("div",{className:sn.infoRow,children:[x.jsx("span",{className:sn.infoLabel,children:qe}),x.jsx("div",{className:`${sn.infoContent} ${en?sn.emptyInfo:""}`,children:Ae})]},qe)}),x.jsx("button",{disabled:!xe,className:sn.homepageButton,onClick:()=>window.open(xe,"_blank"),children:xe?"":"  "})]})]}),x.jsxs(GT,{tabs:Oe,activeTab:E,setActiveTab:T,children:[E==="info"&&(ne?x.jsx("div",{className:sn.descriptionParagraph,dangerouslySetInnerHTML:{__html:ne}}):x.jsx("p",{className:sn.emptyContent,children:"   ."})),E==="artworks"&&x.jsxs(x.Fragment,{children:[P.length>0?x.jsx(qT,{artworks:P}):x.jsx("p",{className:sn.emptyContent,children:"  ."}),n==null?void 0:n.artworks]}),E==="exhibitions"&&x.jsxs(x.Fragment,{children:[D.length>0?x.jsx(wK,{exhibitions:D}):x.jsx("p",{className:sn.emptyContent,children:"  ."}),n==null?void 0:n.exhibitions]})]}),t&&x.jsx("button",{className:sn.backButton,onClick:()=>s("/galleries"),children:" "}),M&&x.jsx(LK,{lat,lng:K,title:Se,address:z,mapId:He,onClose:()=>R(!1)}),w&&x.jsx(jb,{onClose:()=>S(!1)})]})}const jK="_layout_d8p37_1",PK="_breadcrumb_d8p37_21",FK="_breadcrumbBack_d8p37_35",zK="_card_d8p37_45",HK="_titleSection_d8p37_63",UK="_exhibitionTitle_d8p37_73",$K="_posterImage_d8p37_87",VK="_btnLayout_d8p37_111",GK="_likeButton_d8p37_125",qK="_icon_d8p37_149",WK="_likedIcon_d8p37_157",XK="_infoList_d8p37_165",YK="_infoRow_d8p37_181",KK="_infoLabel_d8p37_191",ZK="_infoContent_d8p37_203",QK="_homepageButton_d8p37_223",JK="_descriptionParagraph_d8p37_281",eZ="_emptyContent_d8p37_317",tZ="_emptyInfo_d8p37_331",nZ="_backButton_d8p37_339",mn={layout:jK,breadcrumb:PK,breadcrumbBack:FK,card:zK,titleSection:HK,exhibitionTitle:UK,posterImage:$K,btnLayout:VK,likeButton:GK,icon:qK,likedIcon:WK,infoList:XK,infoRow:YK,infoLabel:KK,infoContent:ZK,homepageButton:QK,descriptionParagraph:JK,emptyContent:eZ,emptyInfo:tZ,backButton:nZ},iZ="_relatedSection_1t574_1",rZ="_list_1t574_17",sZ="_card_1t574_31",aZ="_imageWrapper_1t574_59",oZ="_image_1t574_59",lZ="_info_1t574_97",cZ="_title_1t574_111",uZ="_meta_1t574_123",dZ="_date_1t574_133",go={relatedSection:iZ,list:rZ,card:sZ,imageWrapper:aZ,image:oZ,info:lZ,title:cZ,meta:uZ,date:dZ};function fZ({exhibitions:t}){const e=Jt();return x.jsx("section",{className:go.relatedSection,children:x.jsx("div",{className:go.list,children:t.map(({id:n,title:i,poster:r,start_date:s,end_date:l,location:d})=>x.jsxs("div",{className:go.card,onClick:()=>e(`/exhibitions/${n}`),children:[x.jsx("div",{className:go.imageWrapper,children:x.jsx("img",{src:r,alt:i,className:go.image})}),x.jsxs("div",{className:go.info,children:[x.jsx("h4",{className:go.title,children:i}),x.jsxs("p",{className:go.meta,children:[t.organization||""," | ",d||""]}),x.jsxs("p",{className:go.date,children:[s," ~ ",l]})]})]},n))})})}const hZ="_page_1qmmv_1",pZ="_title_1qmmv_15",mZ="_formArea_1qmmv_31",gZ="_label_1qmmv_47",xZ="_input_1qmmv_61",yZ="_textarea_1qmmv_63",bZ="_tagContainer_1qmmv_107",vZ="_tagButton_1qmmv_119",wZ="_submitButton_1qmmv_151",_Z="_resultArea_1qmmv_197",CZ="_resultCard_1qmmv_211",SZ="_cardHeader_1qmmv_231",EZ="_refineButton_1qmmv_257",AZ="_placeholder_1qmmv_291",Cr={page:hZ,title:pZ,formArea:mZ,label:gZ,input:xZ,textarea:yZ,tagContainer:bZ,tagButton:vZ,submitButton:wZ,resultArea:_Z,resultCard:CZ,cardHeader:SZ,refineButton:EZ,placeholder:AZ};function TZ({initialTheme:t="",initialOthers:e="",showTitle:n=!0}){const[i,r]=j.useState(t),[s,l]=j.useState(e),[d,f]=j.useState([]),[p,b]=j.useState(!1);j.useEffect(()=>{t&&r(t),e!==void 0&&l(e)},[t,e]),new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});const w=async()=>{var E,T;if(f([]),b(!0),!i.trim()){f(["  ."]),b(!1);return}try{const R=(await at.post("/api/console/invitation/create",{eventTopic:i,userRequirements:s||""})).data;R&&typeof R=="string"?f([R]):Array.isArray(R)?f(R):R.invitations&&Array.isArray(R.invitations)?f(R.invitations):f([" ."])}catch(M){console.error("API  :",M),((E=M.response)==null?void 0:E.status)===401?f([" .  ."]):((T=M.response)==null?void 0:T.status)===403?f([" ."]):f([`API  : ${M.message}`])}finally{b(!1)}},S=async(E,T)=>{var M,R;if(E.trim())try{const G=(await at.post("/api/console/invitation/refine",{selectedInvitation:E,eventTopic:i,userRequirements:"   "})).data,L=Array.isArray(G)?G[0]:G;f(k=>k.map((D,P)=>P===T?L:D))}catch(B){console.error(" API  :",B),((M=B.response)==null?void 0:M.status)===401?alert(" .  ."):((R=B.response)==null?void 0:R.status)===403?alert(" ."):alert("  .")}};return x.jsxs("div",{className:Cr.page,children:[n&&x.jsx("h1",{className:Cr.title,children:"  "}),x.jsxs("div",{className:Cr.formArea,children:[x.jsx("label",{className:Cr.label,children:" "}),x.jsx("input",{type:"text",value:i,onChange:E=>r(E.target.value),placeholder:":  ,  ",className:Cr.input}),x.jsx("label",{className:Cr.label,children:""}),x.jsx("textarea",{value:s,onChange:E=>l(E.target.value),placeholder:":   ,   ",className:Cr.textarea}),x.jsx("div",{className:Cr.tagContainer,children:["#","#","#","#","#","#"].map(E=>x.jsx("button",{type:"button",className:Cr.tagButton,onClick:()=>l(T=>T.includes(E)?T:T?`${T}, ${E}`:E),children:E},E))}),x.jsx("button",{onClick:w,className:Cr.submitButton,disabled:p,children:p?" ...":" "})]}),x.jsx("div",{className:Cr.resultArea,children:d.length>0?d.map((E,T)=>x.jsxs("div",{className:Cr.resultCard,children:[x.jsxs("div",{className:Cr.cardHeader,children:[x.jsxs("h3",{children:[" ",T+1]}),x.jsx("button",{className:Cr.refineButton,onClick:()=>S(E,T),children:""})]}),x.jsx("p",{children:E})]},T)):x.jsx("div",{className:Cr.placeholder,children:"    ."})})]})}function XT({showUserActions:t=!0,id:e,actionButtons:n}){const{exhibitionId:i}=Hs(),r=e||i,{user:s}=ia(),l=Jt(),[d,f]=j.useState(null),[p,b]=j.useState(!1),[w,S]=j.useState(!1),[E,T]=j.useState("info"),M=async()=>{if(r)try{const ue=await at.get(`/api/exhibitions/${r}`),{data:Ee}=ue;f(Ee),typeof Ee.is_liked=="boolean"&&b(Ee.is_liked)}catch(ue){console.error("   :",ue)}};j.useEffect(()=>{M()},[r]);const R=async()=>{if(!s){l("/login");return}try{const ue={liked_id:r,liked_type:"exhibition"};p?(await at.delete("/api/likes",{data:ue}),b(!1)):(await at.post("/api/likes",ue),b(!0),S(!0))}catch(ue){console.error("  :",ue)}},B=()=>{const ue=d==null?void 0:d.exhibition_title,Ee=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${ue}`,text:`${ue}   !`,url:Ee}).catch(Oe=>console.error(" :",Oe));else{const Oe=document.createElement("textarea");Oe.value=Ee,document.body.appendChild(Oe),Oe.select();try{document.execCommand("copy"),alert("  .")}catch(He){console.error("  :",He),alert("  .")}finally{document.body.removeChild(Oe)}}},G=()=>{l("/scan")};if(console.log("",d),!d)return x.jsx("div",{children:" ..."});const{exhibition_title:L,exhibition_poster:k,exhibition_start_date:D,exhibition_end_date:P,exhibition_start_time:z,exhibition_end_time:U,exhibition_organization:X,exhibition_location:ne,exhibition_price:ee,exhibition_closed_day:oe,exhibition_description:Ce,related_exhibitions:Se=[],artworks:te=[],exhibition_phone:Q,artists:le=[],exhibition_homepage:xe}=d,Be=[{label:"",content:`${D} ~ ${P}`},{label:"",content:X},{label:"",content:z&&U?`${z.slice(0,5)} - ${U.slice(0,5)}`:" "},{label:"",content:oe||" "},{label:"",content:ee?`${ee.toLocaleString()}`:""},{label:"",content:Q||" "},{label:"",content:ne||" "},{label:"",content:le.join(", ")||" "}],K=[{key:"info",label:""},{key:"artworks",label:`(${te.length})`},{key:"exhibitions",label:`(${Se.length})`}];return x.jsxs("div",{className:mn.layout,children:[t&&x.jsxs("div",{className:mn.breadcrumb,children:[x.jsx("span",{className:mn.breadcrumbBack,onClick:()=>l("/exhibitions"),children:""})," ","> ",L]}),x.jsxs("div",{className:mn.card,children:[x.jsx("img",{className:mn.posterImage,src:k,alt:" "}),x.jsx("section",{className:mn.titleSection,children:x.jsx("h1",{className:mn.exhibitionTitle,children:L})}),t&&x.jsxs("div",{className:mn.btnLayout,children:[x.jsxs("button",{className:mn.likeButton,onClick:R,children:[x.jsx(kh,{className:p?mn.likedIcon:mn.icon}),""]}),x.jsxs("button",{className:mn.likeButton,onClick:()=>l(`/reservation/${r}`),children:[x.jsx(oj,{className:mn.icon}),""]}),x.jsxs("button",{className:mn.likeButton,onClick:G,children:[x.jsx(lj,{className:mn.icon}),""]}),x.jsxs("button",{className:mn.likeButton,onClick:B,children:[x.jsx(Db,{className:mn.icon}),""]})]}),x.jsxs("section",{className:mn.infoList,children:[Be.map(({label:ue,content:Ee})=>{const Oe=!Ee||typeof Ee=="string"&&Ee.trim()===" ";return x.jsxs("div",{className:mn.infoRow,children:[x.jsx("span",{className:mn.infoLabel,children:ue}),x.jsx("div",{className:`${mn.infoContent} ${Oe?mn.emptyInfo:""}`,children:Ee})]},ue)}),x.jsx("button",{disabled:!xe,className:mn.homepageButton,onClick:()=>window.open(xe,"_blank"),children:xe?"  ":"  "})]})]}),x.jsxs(GT,{tabs:K,activeTab:E,setActiveTab:T,children:[E==="info"&&(Ce?x.jsx("div",{className:mn.descriptionParagraph,dangerouslySetInnerHTML:{__html:Ce}}):x.jsx("p",{className:mn.emptyContent,children:"    ."})),E==="artworks"&&x.jsxs(x.Fragment,{children:[te.length>0?x.jsx(qT,{artworks:te}):x.jsx("p",{className:mn.emptyContent,children:"  ."}),n==null?void 0:n.artworks]}),E==="exhibitions"&&x.jsxs(x.Fragment,{children:[Se.length>0?x.jsx(fZ,{exhibitions:Se}):x.jsx("p",{className:mn.emptyContent,children:"  ."}),n==null?void 0:n.exhibitions]})]}),x.jsx("div",{className:`${mn.card} ${mn.tabCard}`,children:x.jsx(TZ,{initialTheme:L,initialOthers:"",showTitle:!0})}),t&&x.jsx("button",{className:mn.backButton,onClick:()=>l("/exhibitions"),children:" "}),w&&x.jsx(jb,{onClose:()=>S(!1)})]})}const NZ={galleries:{title:"",Component:WT,tabs:[{label:""},{label:"QR"},{label:"/"}],fetchUrl:t=>`/api/galleries/${t}`},exhibitions:{title:"",Component:XT,fetchUrl:t=>`/api/exhibitions/${t}`,tabs:["","QR","/"]},artworks:{title:"",Component:kT,fetchUrl:t=>`/api/arts/${t}`,tabs:["","QR",""]}};function c1({type:t}){const{id:e}=Hs(),n=Jt(),[i,r]=j.useState(null),[s,l]=j.useState(!1),d=NZ[t],{title:f,Component:p,fetchUrl:b,tabs:w}=d||{};j.useEffect(()=>{if(!b||!e)return;(async()=>{try{const M=await at.get(b(e));r(M.data)}catch(M){console.error("  :",M)}})()},[e,t,b]);const S=T=>{switch(T){case"":n(`/console/${t}/edit/${e}`);break;case"QR":l(!0);break;case"":n(`/console/artworks/docent/${e}`);break;default:n(`/console/leaflet/${e}`);break}},E={artworks:x.jsx("button",{className:mo.addButton,onClick:()=>n(`/console/artworks/edit/new?exhibition_id=${e}`),children:"+  "}),exhibitions:x.jsx("button",{className:mo.addButton,onClick:()=>n(`/console/exhibitions/edit/new?gallery_id=${e}`),children:"+  "})};return i?x.jsxs("div",{className:mo.layout,children:[x.jsxs("header",{className:mo.header,children:[x.jsx("button",{className:mo.backButton,onClick:()=>n(`/console/${t}`),children:"<"}),x.jsx("h1",{className:mo.title,children:f})]}),x.jsx("nav",{className:mo.adminTabNav,children:w.map(T=>x.jsx("button",{className:mo.adminTabButton,onClick:()=>S(T),children:T},T))}),x.jsx("main",{className:mo.content,children:x.jsx(p,{showUserActions:!1,id:e,actionButtons:E})}),s&&x.jsx(SY,{data:i,onClose:()=>l(!1),type:t})]}):x.jsx("div",{children:"  ..."})}const IZ="_layout_meb6i_1",kZ="_infoSection_meb6i_19",MZ="_artistImage_meb6i_37",OZ="_artistTitle_meb6i_53",RZ="_subSpan_meb6i_65",DZ="_icon_meb6i_75",BZ="_icHeart_meb6i_85",LZ="_buttonContainer_meb6i_93",jZ="_subButton_meb6i_103",PZ="_backButton_meb6i_117",Ms={layout:IZ,infoSection:kZ,artistImage:MZ,artistTitle:OZ,subSpan:RZ,icon:DZ,icHeart:BZ,buttonContainer:LZ,subButton:jZ,backButton:PZ},FZ="_activitySection_9ev0z_1",zZ="_activityTypeContainer_9ev0z_17",HZ="_activedActivityTypeBox_9ev0z_25",UZ="_activityTypeBox_9ev0z_27",$Z="_artworkImage_9ev0z_55",VZ="_activityItemList_9ev0z_65",GZ="_activityImage_9ev0z_83",qZ="_activityItemInfoBox_9ev0z_97",WZ="_descriptionParagraph_9ev0z_105",XZ="_activityItemTitle_9ev0z_115",YZ="_activityItemSpan_9ev0z_127",Hi={activitySection:FZ,activityTypeContainer:zZ,activedActivityTypeBox:HZ,activityTypeBox:UZ,artworkImage:$Z,activityItemList:VZ,activityImage:GZ,activityItemInfoBox:qZ,descriptionParagraph:WZ,activityItemTitle:XZ,activityItemSpan:YZ};function KZ({description:t,artworks:e,exhibitions:n}){const[i,r]=j.useState("profile"),s=l=>{r(l)};return x.jsxs("section",{className:Hi.activitySection,children:[x.jsxs("div",{className:Hi.activityTypeContainer,children:[x.jsx("button",{className:i==="profile"?Hi.activedActivityTypeBox:Hi.activityTypeBox,onClick:()=>{s("profile")},children:""}),x.jsx("button",{className:i==="exhibitions"?Hi.activedActivityTypeBox:Hi.activityTypeBox,onClick:()=>{s("exhibitions")},children:""}),x.jsx("button",{className:i==="artworks"?Hi.activedActivityTypeBox:Hi.activityTypeBox,onClick:()=>{s("artworks")},children:""})]}),x.jsx("div",{className:Hi.activityItemList,children:i==="profile"?x.jsx("div",{children:x.jsx("p",{className:Hi.descriptionParagraph,children:t})}):i==="artworks"?e&&e.length===0?x.jsx("div",{children:"  "}):e==null?void 0:e.map(({id:l,imageUrl:d,title:f})=>x.jsxs("div",{className:Hi.activityItemContainer,children:[x.jsx("img",{className:Hi.artworkImage,src:d}),x.jsx("h3",{className:Hi.activityItemTitle,children:f})]},l)):n&&n.length===0?x.jsx("div",{children:"   "}):n==null?void 0:n.map(({id:l,exhibition_poster:d,exhibition_title:f,exhibition_start_date:p,exhibition_end_date:b})=>x.jsxs(Rn,{className:Hi.activityItemContainer,to:`/exhibitions/${l}`,children:[x.jsx("img",{className:Hi.activityImage,src:d,alt:" "}),x.jsxs("div",{className:Hi.activityItemInfoBox,children:[x.jsx("h3",{className:Hi.activityItemTitle,children:f}),x.jsxs("span",{className:Hi.activityItemSpan,children:["| ",p," ~ ",b]})]})]},l))})]})}function ZZ(){const{user:t}=ia(),{artistId:e}=Hs(),[n,i]=j.useState([]),r=Jt(),s=async()=>{try{const f=await gi.get(`/api/artists/${e}`);i(f.data)}catch(f){throw new Error(f)}};j.useEffect(()=>{s()},[]);const l=async()=>{!t&&r("/login");try{n.is_liked===!0?await at.delete("/api/likes",{data:{liked_id:e,liked_type:"artist"}}):await at.post("/api/likes",{liked_id:e,liked_type:"artist"}),await s()}catch(f){console.error(f)}},d=[{label:" ",icon:x.jsx(pT,{className:`${Ms.icon} ${n.is_liked===!0&&Ms.icHeart}`}),action:l},{label:"",icon:x.jsx(rL,{className:Ms.icon}),action:()=>{alert("  .")}},{label:"",icon:x.jsx(cL,{className:Ms.icon}),action:()=>{alert("  .")}}];return x.jsxs("div",{className:Ms.layout,children:[x.jsxs("section",{className:Ms.infoSection,children:[x.jsx("img",{className:Ms.artistImage,src:n.artist_image,alt:"  "}),x.jsx("h3",{className:Ms.artistTitle,children:n.artist_name}),x.jsxs("span",{className:Ms.subSpan,children:[n.artist_nation," | ",n.artist_category]})]}),x.jsx("div",{className:Ms.buttonContainer,children:d.map(({label:f,icon:p,action:b})=>x.jsxs("button",{className:Ms.subButton,onClick:b,children:[p,x.jsx("span",{children:f})]},f))}),x.jsx(KZ,{description:n.artist_description,artworks:n==null?void 0:n.artworks,exhibitions:n==null?void 0:n.exhibitions}),x.jsx(Rn,{className:Ms.backButton,to:"/artists",children:" "})]})}const QZ="_layout_12g56_1",JZ="_loginTitle_12g56_15",eQ="_subParagraph_12g56_27",tQ="_contentContainer_12g56_37",nQ="_submitButton_12g56_55",iQ="_loginForm_12g56_105",ed={layout:QZ,loginTitle:JZ,subParagraph:eQ,contentContainer:tQ,submitButton:nQ,loginForm:iQ},rQ="_layout_1os45_1",sQ="_navigateLink_1os45_19",aQ="_termParagraph_1os45_59",oQ="_termLink_1os45_77",lQ="_registerButton_1os45_85",Bf={layout:rQ,navigateLink:sQ,termParagraph:aQ,termLink:oQ,registerButton:lQ};function cQ(){return x.jsxs("section",{className:Bf.layout,children:[x.jsx(Rn,{className:Bf.navigateLink,to:"/find",children:" /  "}),x.jsxs("p",{className:Bf.termParagraph,children:["    ,",x.jsx("br",{})," "," ",x.jsx(Rn,{className:Bf.termLink,children:"  "}),"",x.jsx("br",{}),"  ."]}),x.jsx(Rn,{className:Bf.registerButton,to:"/register",children:" "})]})}const uQ=()=>{};var IS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},dQ=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],l=t[n++],d=t[n++],f=((r&7)<<18|(s&63)<<12|(l&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|l&63)}}return e.join("")},KT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],l=r+1<t.length,d=l?t[r+1]:0,f=r+2<t.length,p=f?t[r+2]:0,b=s>>2,w=(s&3)<<4|d>>4;let S=(d&15)<<2|p>>6,E=p&63;f||(E=64,l||(S=64)),i.push(n[b],n[w],n[S],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],d=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const w=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||d==null||p==null||w==null)throw new fQ;const S=s<<2|d>>4;if(i.push(S),p!==64){const E=d<<4&240|p>>2;if(i.push(E),w!==64){const T=p<<6&192|w;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hQ=function(t){const e=YT(t);return KT.encodeByteArray(e,!0)},ZT=function(t){return hQ(t).replace(/\./g,"")},pQ=function(t){try{return KT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ=()=>mQ().__FIREBASE_DEFAULTS__,xQ=()=>{if(typeof process>"u"||typeof IS>"u")return;const t=IS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pQ(t[1]);return e&&JSON.parse(e)},bQ=()=>{try{return uQ()||gQ()||xQ()||yQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QT=()=>{var t;return(t=bQ())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function wQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Hb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ub(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function JT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q="FirebaseError";class nu extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=_Q,Object.setPrototypeOf(this,nu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mh.prototype.create)}}class Mh{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],l=s?CQ(s,i):"Error",d=`${this.serviceName}: ${l} (${r}).`;return new nu(r,d,i)}}function CQ(t,e){return t.replace(SQ,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const SQ=/\{\$([^}]+)}/g;function em(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],l=e[r];if(kS(s)&&kS(l)){if(!em(s,l))return!1}else if(s!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function kS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ=1e3,AQ=2,TQ=4*60*60*1e3,NQ=.5;function MS(t,e=EQ,n=AQ){const i=e*Math.pow(n,t),r=Math.round(NQ*i*(Math.random()-.5)*2);return Math.min(TQ,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){return t&&t._delegate?t._delegate:t}class La{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new vQ;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MQ(e))try{this.getOrInitializeService({instanceIdentifier:Tc})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Tc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tc){return this.instances.has(e)}getOptions(e=Tc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);i===d&&l.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kQ(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Tc){return this.component?this.component.multipleInstances?e:Tc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kQ(t){return t===Tc?void 0:t}function MQ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(jn||(jn={}));const RQ={debug:jn.DEBUG,verbose:jn.VERBOSE,info:jn.INFO,warn:jn.WARN,error:jn.ERROR,silent:jn.SILENT},DQ=jn.INFO,BQ={[jn.DEBUG]:"log",[jn.VERBOSE]:"log",[jn.INFO]:"info",[jn.WARN]:"warn",[jn.ERROR]:"error"},LQ=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=BQ[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eN{constructor(e){this.name=e,this._logLevel=DQ,this._logHandler=LQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jn.DEBUG,...e),this._logHandler(this,jn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jn.VERBOSE,...e),this._logHandler(this,jn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jn.INFO,...e),this._logHandler(this,jn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jn.WARN,...e),this._logHandler(this,jn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jn.ERROR,...e),this._logHandler(this,jn.ERROR,...e)}}const jQ=(t,e)=>e.some(n=>t instanceof n);let OS,RS;function PQ(){return OS||(OS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FQ(){return RS||(RS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tN=new WeakMap,N2=new WeakMap,nN=new WeakMap,yy=new WeakMap,$b=new WeakMap;function zQ(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Mo(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&tN.set(n,t)}).catch(()=>{}),$b.set(e,t),e}function HQ(t){if(N2.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});N2.set(t,e)}let I2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return N2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UQ(t){I2=t(I2)}function $Q(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(by(this),e,...n);return nN.set(i,e.sort?e.sort():[e]),Mo(i)}:FQ().includes(t)?function(...e){return t.apply(by(this),e),Mo(tN.get(this))}:function(...e){return Mo(t.apply(by(this),e))}}function VQ(t){return typeof t=="function"?$Q(t):(t instanceof IDBTransaction&&HQ(t),jQ(t,PQ())?new Proxy(t,I2):t)}function Mo(t){if(t instanceof IDBRequest)return zQ(t);if(yy.has(t))return yy.get(t);const e=VQ(t);return e!==t&&(yy.set(t,e),$b.set(e,t)),e}const by=t=>$b.get(t);function c0(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const l=indexedDB.open(t,e),d=Mo(l);return i&&l.addEventListener("upgradeneeded",f=>{i(Mo(l.result),f.oldVersion,f.newVersion,Mo(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),r&&f.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}function vy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",i=>e(i.oldVersion,i)),Mo(n).then(()=>{})}const GQ=["get","getKey","getAll","getAllKeys","count"],qQ=["put","add","delete","clear"],wy=new Map;function DS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wy.get(e))return wy.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=qQ.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||GQ.includes(n)))return;const s=async function(l,...d){const f=this.transaction(l,r?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),r&&f.done]))[0]};return wy.set(e,s),s}UQ(t=>({...t,get:(e,n,i)=>DS(e,n)||t.get(e,n,i),has:(e,n)=>!!DS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XQ(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function XQ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const k2="@firebase/app",BS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new eN("@firebase/app"),YQ="@firebase/app-compat",KQ="@firebase/analytics-compat",ZQ="@firebase/analytics",QQ="@firebase/app-check-compat",JQ="@firebase/app-check",eJ="@firebase/auth",tJ="@firebase/auth-compat",nJ="@firebase/database",iJ="@firebase/data-connect",rJ="@firebase/database-compat",sJ="@firebase/functions",aJ="@firebase/functions-compat",oJ="@firebase/installations",lJ="@firebase/installations-compat",cJ="@firebase/messaging",uJ="@firebase/messaging-compat",dJ="@firebase/performance",fJ="@firebase/performance-compat",hJ="@firebase/remote-config",pJ="@firebase/remote-config-compat",mJ="@firebase/storage",gJ="@firebase/storage-compat",xJ="@firebase/firestore",yJ="@firebase/ai",bJ="@firebase/firestore-compat",vJ="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="[DEFAULT]",wJ={[k2]:"fire-core",[YQ]:"fire-core-compat",[ZQ]:"fire-analytics",[KQ]:"fire-analytics-compat",[JQ]:"fire-app-check",[QQ]:"fire-app-check-compat",[eJ]:"fire-auth",[tJ]:"fire-auth-compat",[nJ]:"fire-rtdb",[iJ]:"fire-data-connect",[rJ]:"fire-rtdb-compat",[sJ]:"fire-fn",[aJ]:"fire-fn-compat",[oJ]:"fire-iid",[lJ]:"fire-iid-compat",[cJ]:"fire-fcm",[uJ]:"fire-fcm-compat",[dJ]:"fire-perf",[fJ]:"fire-perf-compat",[hJ]:"fire-rc",[pJ]:"fire-rc-compat",[mJ]:"fire-gcs",[gJ]:"fire-gcs-compat",[xJ]:"fire-fst",[bJ]:"fire-fst-compat",[yJ]:"fire-vertex","fire-js":"fire-js",[vJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new Map,_J=new Map,O2=new Map;function LS(t,e){try{t.container.addComponent(e)}catch(n){Do.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bo(t){const e=t.name;if(O2.has(e))return Do.debug(`There were multiple attempts to register component ${e}.`),!1;O2.set(e,t);for(const n of tm.values())LS(n,t);for(const n of _J.values())LS(n,t);return!0}function Oh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ll=new Mh("app","Firebase",CJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SJ{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ll.create("app-deleted",{appName:this._name})}}function iN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:M2,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Ll.create("bad-app-name",{appName:String(r)});if(n||(n=QT()),!n)throw Ll.create("no-options");const s=tm.get(r);if(s){if(em(n,s.options)&&em(i,s.config))return s;throw Ll.create("duplicate-app",{appName:r})}const l=new OQ(r);for(const f of O2.values())l.addComponent(f);const d=new SJ(n,i,l);return tm.set(r,d),d}function rN(t=M2){const e=tm.get(t);if(!e&&t===M2&&QT())return iN();if(!e)throw Ll.create("no-app",{appName:t});return e}function Ba(t,e,n){let i=wJ[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Do.warn(l.join(" "));return}Bo(new La(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EJ="firebase-heartbeat-database",AJ=1,ah="firebase-heartbeat-store";let _y=null;function sN(){return _y||(_y=c0(EJ,AJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ah)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ll.create("idb-open",{originalErrorMessage:t.message})})),_y}async function TJ(t){try{const n=(await sN()).transaction(ah),i=await n.objectStore(ah).get(aN(t));return await n.done,i}catch(e){if(e instanceof nu)Do.warn(e.message);else{const n=Ll.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Do.warn(n.message)}}}async function jS(t,e){try{const i=(await sN()).transaction(ah,"readwrite");await i.objectStore(ah).put(e,aN(t)),await i.done}catch(n){if(n instanceof nu)Do.warn(n.message);else{const i=Ll.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Do.warn(i.message)}}}function aN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NJ=1024,IJ=30;class kJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OJ(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>IJ){const l=RJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Do.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PS(),{heartbeatsToSend:i,unsentEntries:r}=MJ(this._heartbeatsCache.heartbeats),s=ZT(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Do.warn(n),""}}}function PS(){return new Date().toISOString().substring(0,10)}function MJ(t,e=NJ){const n=[];let i=t.slice();for(const r of t){const s=n.find(l=>l.agent===r.agent);if(s){if(s.dates.push(r.date),FS(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),FS(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class OJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hb()?Ub().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TJ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return jS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return jS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function FS(t){return ZT(JSON.stringify({version:2,heartbeats:t})).length}function RJ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DJ(t){Bo(new La("platform-logger",e=>new WQ(e),"PRIVATE")),Bo(new La("heartbeat",e=>new kJ(e),"PRIVATE")),Ba(k2,BS,t),Ba(k2,BS,"esm2020"),Ba("fire-js","")}DJ("");const oN="@firebase/installations",Vb="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=1e4,cN=`w:${Vb}`,uN="FIS_v2",BJ="https://firebaseinstallations.googleapis.com/v1",LJ=60*60*1e3,jJ="installations",PJ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FJ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qc=new Mh(jJ,PJ,FJ);function dN(t){return t instanceof nu&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN({projectId:t}){return`${BJ}/projects/${t}/installations`}function hN(t){return{token:t.token,requestStatus:2,expiresIn:HJ(t.expiresIn),creationTime:Date.now()}}async function pN(t,e){const i=(await e.json()).error;return qc.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function mN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zJ(t,{refreshToken:e}){const n=mN(t);return n.append("Authorization",UJ(e)),n}async function gN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function HJ(t){return Number(t.replace("s","000"))}function UJ(t){return`${uN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $J({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=fN(t),r=mN(t),s=e.getImmediate({optional:!0});if(s){const p=await s.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const l={fid:n,authVersion:uN,appId:t.appId,sdkVersion:cN},d={method:"POST",headers:r,body:JSON.stringify(l)},f=await gN(()=>fetch(i,d));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:hN(p.authToken)}}else throw await pN("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VJ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ=/^[cdef][\w-]{21}$/,R2="";function qJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=WJ(t);return GJ.test(n)?n:R2}catch{return R2}}function WJ(t){return VJ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Map;function bN(t,e){const n=u0(t);vN(n,e),XJ(n,e)}function vN(t,e){const n=yN.get(t);if(n)for(const i of n)i(e)}function XJ(t,e){const n=YJ();n&&n.postMessage({key:t,fid:e}),KJ()}let Rc=null;function YJ(){return!Rc&&"BroadcastChannel"in self&&(Rc=new BroadcastChannel("[Firebase] FID Change"),Rc.onmessage=t=>{vN(t.data.key,t.data.fid)}),Rc}function KJ(){yN.size===0&&Rc&&(Rc.close(),Rc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZJ="firebase-installations-database",QJ=1,Wc="firebase-installations-store";let Cy=null;function Gb(){return Cy||(Cy=c0(ZJ,QJ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wc)}}})),Cy}async function nm(t,e){const n=u0(t),r=(await Gb()).transaction(Wc,"readwrite"),s=r.objectStore(Wc),l=await s.get(n);return await s.put(e,n),await r.done,(!l||l.fid!==e.fid)&&bN(t,e.fid),e}async function wN(t){const e=u0(t),i=(await Gb()).transaction(Wc,"readwrite");await i.objectStore(Wc).delete(e),await i.done}async function d0(t,e){const n=u0(t),r=(await Gb()).transaction(Wc,"readwrite"),s=r.objectStore(Wc),l=await s.get(n),d=e(l);return d===void 0?await s.delete(n):await s.put(d,n),await r.done,d&&(!l||l.fid!==d.fid)&&bN(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(t){let e;const n=await d0(t.appConfig,i=>{const r=JJ(i),s=eee(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===R2?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function JJ(t){const e=t||{fid:qJ(),registrationStatus:0};return _N(e)}function eee(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(qc.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=tee(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nee(t)}:{installationEntry:e}}async function tee(t,e){try{const n=await $J(t,e);return nm(t.appConfig,n)}catch(n){throw dN(n)&&n.customData.serverCode===409?await wN(t.appConfig):await nm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function nee(t){let e=await zS(t.appConfig);for(;e.registrationStatus===1;)await xN(100),e=await zS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await qb(t);return i||n}return e}function zS(t){return d0(t,e=>{if(!e)throw qc.create("installation-not-found");return _N(e)})}function _N(t){return iee(t)?{fid:t.fid,registrationStatus:0}:t}function iee(t){return t.registrationStatus===1&&t.registrationTime+lN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ree({appConfig:t,heartbeatServiceProvider:e},n){const i=see(t,n),r=zJ(t,n),s=e.getImmediate({optional:!0});if(s){const p=await s.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const l={installation:{sdkVersion:cN,appId:t.appId}},d={method:"POST",headers:r,body:JSON.stringify(l)},f=await gN(()=>fetch(i,d));if(f.ok){const p=await f.json();return hN(p)}else throw await pN("Generate Auth Token",f)}function see(t,{fid:e}){return`${fN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(t,e=!1){let n;const i=await d0(t.appConfig,s=>{if(!CN(s))throw qc.create("not-registered");const l=s.authToken;if(!e&&lee(l))return s;if(l.requestStatus===1)return n=aee(t,e),s;{if(!navigator.onLine)throw qc.create("app-offline");const d=uee(s);return n=oee(t,d),d}});return n?await n:i.authToken}async function aee(t,e){let n=await HS(t.appConfig);for(;n.authToken.requestStatus===1;)await xN(100),n=await HS(t.appConfig);const i=n.authToken;return i.requestStatus===0?Wb(t,e):i}function HS(t){return d0(t,e=>{if(!CN(e))throw qc.create("not-registered");const n=e.authToken;return dee(n)?{...e,authToken:{requestStatus:0}}:e})}async function oee(t,e){try{const n=await ree(t,e),i={...e,authToken:n};return await nm(t.appConfig,i),n}catch(n){if(dN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wN(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await nm(t.appConfig,i)}throw n}}function CN(t){return t!==void 0&&t.registrationStatus===2}function lee(t){return t.requestStatus===2&&!cee(t)}function cee(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+LJ}function uee(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function dee(t){return t.requestStatus===1&&t.requestTime+lN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fee(t){const e=t,{installationEntry:n,registrationPromise:i}=await qb(e);return i?i.catch(console.error):Wb(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hee(t,e=!1){const n=t;return await pee(n),(await Wb(n,e)).token}async function pee(t){const{registrationPromise:e}=await qb(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mee(t){if(!t||!t.options)throw Sy("App Configuration");if(!t.name)throw Sy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Sy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Sy(t){return qc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="installations",gee="installations-internal",xee=t=>{const e=t.getProvider("app").getImmediate(),n=mee(e),i=Oh(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},yee=t=>{const e=t.getProvider("app").getImmediate(),n=Oh(e,SN).getImmediate();return{getId:()=>fee(n),getToken:r=>hee(n,r)}};function bee(){Bo(new La(SN,xee,"PUBLIC")),Bo(new La(gee,yee,"PRIVATE"))}bee();Ba(oN,Vb);Ba(oN,Vb,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vee="/firebase-messaging-sw.js",wee="/firebase-cloud-messaging-push-scope",EN="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_ee="https://fcmregistrations.googleapis.com/v1",AN="google.c.a.c_id",Cee="google.c.a.c_l",See="google.c.a.ts",Eee="google.c.a.e",US=1e4;var $S;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})($S||($S={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var oh;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(oh||(oh={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Aee(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="fcm_token_details_db",Tee=5,VS="fcm_token_object_Store";async function Nee(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Ey))return null;let e=null;return(await c0(Ey,Tee,{upgrade:async(i,r,s,l)=>{if(r<2||!i.objectStoreNames.contains(VS))return;const d=l.objectStore(VS),f=await d.index("fcmSenderId").get(t);if(await d.clear(),!!f){if(r===2){const p=f;if(!p.auth||!p.p256dh||!p.endpoint)return;e={token:p.fcmToken,createTime:p.createTime??Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:To(p.vapidKey)}}}else if(r===3){const p=f;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:To(p.auth),p256dh:To(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:To(p.vapidKey)}}}else if(r===4){const p=f;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:To(p.auth),p256dh:To(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:To(p.vapidKey)}}}}}})).close(),await vy(Ey),await vy("fcm_vapid_details_db"),await vy("undefined"),Iee(e)?e:null}function Iee(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kee="firebase-messaging-database",Mee=1,lh="firebase-messaging-store";let Ay=null;function TN(){return Ay||(Ay=c0(kee,Mee,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(lh)}}})),Ay}async function Oee(t){const e=NN(t),i=await(await TN()).transaction(lh).objectStore(lh).get(e);if(i)return i;{const r=await Nee(t.appConfig.senderId);if(r)return await Xb(t,r),r}}async function Xb(t,e){const n=NN(t),r=(await TN()).transaction(lh,"readwrite");return await r.objectStore(lh).put(e,n),await r.done,e}function NN({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},pr=new Mh("messaging","Messaging",Ree);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dee(t,e){const n=await Kb(t),i=IN(e),r={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(Yb(t.appConfig),r)).json()}catch(l){throw pr.create("token-subscribe-failed",{errorInfo:l==null?void 0:l.toString()})}if(s.error){const l=s.error.message;throw pr.create("token-subscribe-failed",{errorInfo:l})}if(!s.token)throw pr.create("token-subscribe-no-token");return s.token}async function Bee(t,e){const n=await Kb(t),i=IN(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(`${Yb(t.appConfig)}/${e.token}`,r)).json()}catch(l){throw pr.create("token-update-failed",{errorInfo:l==null?void 0:l.toString()})}if(s.error){const l=s.error.message;throw pr.create("token-update-failed",{errorInfo:l})}if(!s.token)throw pr.create("token-update-no-token");return s.token}async function Lee(t,e){const i={method:"DELETE",headers:await Kb(t)};try{const s=await(await fetch(`${Yb(t.appConfig)}/${e}`,i)).json();if(s.error){const l=s.error.message;throw pr.create("token-unsubscribe-failed",{errorInfo:l})}}catch(r){throw pr.create("token-unsubscribe-failed",{errorInfo:r==null?void 0:r.toString()})}}function Yb({projectId:t}){return`${_ee}/projects/${t}/registrations`}async function Kb({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function IN({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const r={web:{endpoint:n,auth:e,p256dh:t}};return i!==EN&&(r.web.applicationPubKey=i),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee=7*24*60*60*1e3;async function Pee(t){const e=await zee(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:To(e.getKey("auth")),p256dh:To(e.getKey("p256dh"))},i=await Oee(t.firebaseDependencies);if(i){if(Hee(i.subscriptionOptions,n))return Date.now()>=i.createTime+jee?Fee(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await Lee(t.firebaseDependencies,i.token)}catch(r){console.warn(r)}return GS(t.firebaseDependencies,n)}else return GS(t.firebaseDependencies,n)}async function Fee(t,e){try{const n=await Bee(t.firebaseDependencies,e),i={...e,token:n,createTime:Date.now()};return await Xb(t.firebaseDependencies,i),n}catch(n){throw n}}async function GS(t,e){const i={token:await Dee(t,e),createTime:Date.now(),subscriptionOptions:e};return await Xb(t,i),i.token}async function zee(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Aee(e)})}function Hee(t,e){const n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,r=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&i&&r&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Uee(e,t),$ee(e,t),Vee(e,t),e}function Uee(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const r=e.notification.image;r&&(t.notification.image=r);const s=e.notification.icon;s&&(t.notification.icon=s)}function $ee(t,e){e.data&&(t.data=e.data)}function Vee(t,e){var r,s,l,d;if(!e.fcmOptions&&!((r=e.notification)!=null&&r.click_action))return;t.fcmOptions={};const n=((s=e.fcmOptions)==null?void 0:s.link)??((l=e.notification)==null?void 0:l.click_action);n&&(t.fcmOptions.link=n);const i=(d=e.fcmOptions)==null?void 0:d.analytics_label;i&&(t.fcmOptions.analyticsLabel=i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gee(t){return typeof t=="object"&&!!t&&AN in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qee(t){if(!t||!t.options)throw Ty("App Configuration Object");if(!t.name)throw Ty("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw Ty(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Ty(t){return pr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=qee(e);this.firebaseDependencies={app:e,appConfig:r,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xee(t){try{t.swRegistration=await navigator.serviceWorker.register(vee,{scope:wee}),t.swRegistration.update().catch(()=>{}),await Yee(t.swRegistration)}catch(e){throw pr.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function Yee(t){return new Promise((e,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${US} ms`)),US),r=t.installing||t.waiting;t.active?(clearTimeout(i),e()):r?r.onstatechange=s=>{var l;((l=s.target)==null?void 0:l.state)==="activated"&&(r.onstatechange=null,clearTimeout(i),e())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kee(t,e){if(!e&&!t.swRegistration&&await Xee(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw pr.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zee(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=EN)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t,e){if(!navigator)throw pr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw pr.create("permission-blocked");return await Zee(t,e==null?void 0:e.vapidKey),await Kee(t,e==null?void 0:e.serviceWorkerRegistration),Pee(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qee(t,e,n){const i=Jee(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[AN],message_name:n[Cee],message_time:n[See],message_device_time:Math.floor(Date.now()/1e3)})}function Jee(t){switch(t){case oh.NOTIFICATION_CLICKED:return"notification_open";case oh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ete(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===oh.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(qS(n)):t.onMessageHandler.next(qS(n)));const i=n.data;Gee(i)&&i[Eee]==="1"&&await Qee(t,n.messageType,i)}const WS="@firebase/messaging",XS="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tte=t=>{const e=new Wee(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>ete(e,n)),e},nte=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>kN(e,i)}};function ite(){Bo(new La("messaging",tte,"PUBLIC")),Bo(new La("messaging-internal",nte,"PRIVATE")),Ba(WS,XS),Ba(WS,XS,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rte(){try{await Ub()}catch{return!1}return typeof window<"u"&&Hb()&&JT()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ste(t,e){if(!navigator)throw pr.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ate(t=rN()){return rte().then(e=>{if(!e)throw pr.create("unsupported-browser")},e=>{throw pr.create("indexed-db-unsupported")}),Oh(Id(t),"messaging").getImmediate()}async function ote(t,e){return t=Id(t),kN(t,e)}function lte(t,e){return t=Id(t),ste(t,e)}ite();var cte="firebase",ute="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ba(cte,ute,"app");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="analytics",dte="firebase_id",fte="origin",hte=60*1e3,pte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new eN("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ms=new Mh("analytics","Analytics",mte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gte(t){if(!t.startsWith(Zb)){const e=ms.create("invalid-gtag-resource",{gtagURL:t});return Tr.warn(e.message),""}return t}function MN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function xte(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function yte(t,e){const n=xte("firebase-js-sdk-policy",{createScriptURL:gte}),i=document.createElement("script"),r=`${Zb}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function bte(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function vte(t,e,n,i,r,s){const l=i[r];try{if(l)await e[l];else{const f=(await MN(n)).find(p=>p.measurementId===r);f&&await e[f.appId]}}catch(d){Tr.error(d)}t("config",r,s)}async function wte(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const d=await MN(n);for(const f of l){const p=d.find(w=>w.measurementId===f),b=p&&e[p.appId];if(b)s.push(b);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(s){Tr.error(s)}}function _te(t,e,n,i){async function r(s,...l){try{if(s==="event"){const[d,f]=l;await wte(t,e,n,d,f)}else if(s==="config"){const[d,f]=l;await vte(t,e,n,i,d,f)}else if(s==="consent"){const[d,f]=l;t("consent",d,f)}else if(s==="get"){const[d,f,p]=l;t("get",d,f,p)}else if(s==="set"){const[d]=l;t("set",d)}else t(s,...l)}catch(d){Tr.error(d)}}return r}function Cte(t,e,n,i,r){let s=function(...l){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=_te(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}function Ste(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Zb)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ete=30,Ate=1e3;class Tte{constructor(e={},n=Ate){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ON=new Tte;function Nte(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Ite(t){var l;const{appId:e,apiKey:n}=t,i={method:"GET",headers:Nte(n)},r=pte.replace("{app-id}",e),s=await fetch(r,i);if(s.status!==200&&s.status!==304){let d="";try{const f=await s.json();(l=f.error)!=null&&l.message&&(d=f.error.message)}catch{}throw ms.create("config-fetch-failed",{httpStatus:s.status,responseMessage:d})}return s.json()}async function kte(t,e=ON,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw ms.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw ms.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new Rte;return setTimeout(async()=>{d.abort()},hte),RN({appId:i,apiKey:r,measurementId:s},l,d,e)}async function RN(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=ON){var d;const{appId:s,measurementId:l}=t;try{await Mte(i,e)}catch(f){if(l)return Tr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:l};throw f}try{const f=await Ite(t);return r.deleteThrottleMetadata(s),f}catch(f){const p=f;if(!Ote(p)){if(r.deleteThrottleMetadata(s),l)return Tr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:s,measurementId:l};throw f}const b=Number((d=p==null?void 0:p.customData)==null?void 0:d.httpStatus)===503?MS(n,r.intervalMillis,Ete):MS(n,r.intervalMillis),w={throttleEndTimeMillis:Date.now()+b,backoffCount:n+1};return r.setThrottleMetadata(s,w),Tr.debug(`Calling attemptFetch again in ${b} millis`),RN(t,w,i,r)}}function Mte(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(ms.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ote(t){if(!(t instanceof nu)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Rte{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Dte(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const s=await e,l={...i,send_to:s};t("event",n,l)}}async function Bte(t,e,n,i){if(i&&i.global){const r={};for(const s of Object.keys(n))r[`user_properties.${s}`]=n[s];return t("set",r),Promise.resolve()}else{const r=await e;t("config",r,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lte(){if(Hb())try{await Ub()}catch(t){return Tr.warn(ms.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Tr.warn(ms.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function jte(t,e,n,i,r,s,l){const d=kte(t);d.then(S=>{n[S.measurementId]=S.appId,t.options.measurementId&&S.measurementId!==t.options.measurementId&&Tr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>Tr.error(S)),e.push(d);const f=Lte().then(S=>{if(S)return i.getId()}),[p,b]=await Promise.all([d,f]);Ste(s)||yte(s,p.measurementId),r("js",new Date);const w=(l==null?void 0:l.config)??{};return w[fte]="firebase",w.update=!0,b!=null&&(w[dte]=b),r("config",p.measurementId,w),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(e){this.app=e}_delete(){return delete hd[this.app.options.appId],Promise.resolve()}}let hd={},YS=[];const KS={};let Ny="dataLayer",Fte="gtag",ZS,Qb,QS=!1;function zte(){const t=[];if(wQ()&&t.push("This is a browser extension environment."),JT()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=ms.create("invalid-analytics-context",{errorInfo:e});Tr.warn(n.message)}}function Hte(t,e,n){zte();const i=t.options.appId;if(!i)throw ms.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Tr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ms.create("no-api-key");if(hd[i]!=null)throw ms.create("already-exists",{id:i});if(!QS){bte(Ny);const{wrappedGtag:s,gtagCore:l}=Cte(hd,YS,KS,Ny,Fte);Qb=s,ZS=l,QS=!0}return hd[i]=jte(t,YS,KS,e,ZS,Ny,n),new Pte(t)}function Ute(t=rN()){t=Id(t);const e=Oh(t,im);return e.isInitialized()?e.getImmediate():$te(t)}function $te(t,e={}){const n=Oh(t,im);if(n.isInitialized()){const r=n.getImmediate();if(em(e,n.getOptions()))return r;throw ms.create("already-initialized")}return n.initialize({options:e})}function Vte(t,e,n){t=Id(t),Bte(Qb,hd[t.app.options.appId],e,n).catch(i=>Tr.error(i))}function Gte(t,e,n,i){t=Id(t),Dte(Qb,hd[t.app.options.appId],e,n,i).catch(r=>Tr.error(r))}const JS="@firebase/analytics",eE="0.10.19";function qte(){Bo(new La(im,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return Hte(i,r,n)},"PUBLIC")),Bo(new La("analytics-internal",t,"PRIVATE")),Ba(JS,eE),Ba(JS,eE,"esm2020");function t(e){try{const n=e.getProvider(im).getImmediate();return{logEvent:(i,r,s)=>Gte(n,i,r,s),setUserProperties:(i,r)=>Vte(n,i,r)}}catch(n){throw ms.create("interop-component-reg-failed",{reason:n})}}}qte();const Wte={apiKey:"AIzaSyC6SrC7FmlmnihhlL5v4MS-bTvjO-wpHRI",authDomain:"soundgram-tot.firebaseapp.com",databaseURL:"https://soundgram-tot-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"soundgram-tot",storageBucket:"soundgram-tot.firebasestorage.app",messagingSenderId:"186758434361",appId:"1:186758434361:web:41ef236e0e5e39527e87e8",measurementId:"G-SYHFZP4259"},DN=iN(Wte);Ute(DN);const D2=ate(DN),Xte="BOImd23EYCHck5Cgh3yZ7hTvnpgBr4xbPLymUTkfm-JnIwHY9iQgLN6PFxkrtnXELRNQsAWG8OexmGHpRLrMhzg",Yte="fcm_token",Kte=()=>window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.getFcmToken,Zte=async t=>{if(Kte()){console.log("iOS  "),window.webkit.messageHandlers.setUserId.postMessage(t),window.receiveFcmToken=async function(e){console.log(`iOS FCM  : ${e}`),e&&await Iy(t,e)},window.webkit.messageHandlers.getFcmToken.postMessage(null);return}if(typeof window.Android<"u"){console.log(`WebView  User_Id : ${t}`);const e=window.Android.getFcmToken();return window.Android.setUserId(t),e?(console.log(` FCM Token: ${e}`),await Iy(t,e),e):(console.warn("Android Fcm   ."),"NATIVE_MODE_PENDING")}try{if(console.log("  "),await Notification.requestPermission()==="granted"){console.log("  ");const n=await ote(D2,{vapidKey:Xte});return n?(console.log("FCM  :",n),ld.set(Yte,n,{path:"/"}),await Iy(t,n),n):(console.warn("   ."),null)}else return console.warn("  "),null}catch(e){throw e}},Iy=async(t,e)=>{try{const n=await gi.post("/api/notification/registerToken",{user_id:t,fcm_token:e});return console.log("  ",n.data),n.data}catch(n){throw console.error("   ",n),n}},Qte=t=>D2?lte(D2,e=>{if(console.log(" ",e),e.notification){const{title:n,body:i}=e.notification;Notification.permission==="granted"&&new Notification(n,{body:i,icon:"/logo192.png",data:e.data}),t&&t(e)}}):(console.log("  "),()=>{});function Jte(){var d,f;const{data:t,handleChange:e}=X1({login_id:"",login_pwd:""}),n=Jt(),i=yi(),r=((f=(d=i.state)==null?void 0:d.from)==null?void 0:f.pathname)||"/",{login:s}=j.useContext(Xl),l=async()=>{try{const p=await gi.post("/api/auth/login",t),b=p.data.data,w=p.data.jwt;s(b,w),b&&b.id&&b.admin_flag!=="1"?await Zte(b.id):console.log("  - FCM   "),r==="/register"?n("/",{replace:!0}):r&&r!=="/login"&&r!==i.pathname?n(r,{replace:!0}):n("/",{replace:!0})}catch(p){p.status===401?alert("   "):alert("  .    .")}};return x.jsxs("div",{className:ed.layout,children:[x.jsx("h1",{className:ed.loginTitle,children:""}),x.jsx("p",{className:ed.subParagraph,children:"  "}),x.jsxs("div",{className:ed.contentContainer,children:[x.jsxs("form",{className:ed.loginForm,onSubmit:p=>{p.preventDefault(),l()},children:[x.jsx(Oa,{placeholder:"ID (6 ~ 20 , )",name:"login_id",onChange:e,value:t.login_id}),x.jsx(Oa,{placeholder:"Password (8 ~ 16 ++)",name:"login_pwd",onChange:e,value:t.login_pwd}),x.jsx("button",{type:"submit",className:ed.submitButton,children:" "})]}),x.jsx(cQ,{})]})]})}const ene="_layout_tzlh3_1",tne="_logo_tzlh3_19",nne="_loginParagraph_tzlh3_43",ine="_loginButton_tzlh3_63",rne="_registerLink_tzlh3_101",Lf={layout:ene,logo:tne,loginParagraph:nne,loginButton:ine,registerLink:rne},sne="/assets/kakaobutton-Cwa8W2QI.svg";function ane(){const t=Jt(),e=()=>{t("/login-detail")};return x.jsxs("div",{className:Lf.layout,children:[x.jsx("h1",{className:Lf.logo,children:"ARTLY"}),x.jsx("p",{className:Lf.loginParagraph,children:"  "}),x.jsx("button",{children:x.jsx("img",{src:sne})}),x.jsx("button",{className:Lf.loginButton,onClick:e,children:"  "}),x.jsx(Rn,{className:Lf.registerLink,to:"/register",children:" "})]})}let one={data:""},lne=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||one},cne=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,une=/\/\*[^]*?\*\/|  +/g,tE=/\n+/g,Nl=(t,e)=>{let n="",i="",r="";for(let s in t){let l=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+l+";":i+=s[1]=="f"?Nl(l,s):s+"{"+Nl(l,s[1]=="k"?"":e)+"}":typeof l=="object"?i+=Nl(l,e?e.replace(/([^,])+/g,d=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):s):l!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Nl.p?Nl.p(s,l):s+":"+l+";")}return n+(e&&r?e+"{"+r+"}":r)+i},xo={},BN=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+BN(t[n]);return e}return t},dne=(t,e,n,i,r)=>{let s=BN(t),l=xo[s]||(xo[s]=(f=>{let p=0,b=11;for(;p<f.length;)b=101*b+f.charCodeAt(p++)>>>0;return"go"+b})(s));if(!xo[l]){let f=s!==t?t:(p=>{let b,w,S=[{}];for(;b=cne.exec(p.replace(une,""));)b[4]?S.shift():b[3]?(w=b[3].replace(tE," ").trim(),S.unshift(S[0][w]=S[0][w]||{})):S[0][b[1]]=b[2].replace(tE," ").trim();return S[0]})(t);xo[l]=Nl(r?{["@keyframes "+l]:f}:f,n?"":"."+l)}let d=n&&xo.g?xo.g:null;return n&&(xo.g=xo[l]),((f,p,b,w)=>{w?p.data=p.data.replace(w,f):p.data.indexOf(f)===-1&&(p.data=b?f+p.data:p.data+f)})(xo[l],e,i,d),l},fne=(t,e,n)=>t.reduce((i,r,s)=>{let l=e[s];if(l&&l.call){let d=l(n),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;l=f?"."+f:d&&typeof d=="object"?d.props?"":Nl(d,""):d===!1?"":d}return i+r+(l??"")},"");function f0(t){let e=this||{},n=t.call?t(e.p):t;return dne(n.unshift?n.raw?fne(n,[].slice.call(arguments,1),e.p):n.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):n,lne(e.target),e.g,e.o,e.k)}let LN,B2,L2;f0.bind({g:1});let Lo=f0.bind({k:1});function hne(t,e,n,i){Nl.p=e,LN=t,B2=n,L2=i}function Yl(t,e){let n=this||{};return function(){let i=arguments;function r(s,l){let d=Object.assign({},s),f=d.className||r.className;n.p=Object.assign({theme:B2&&B2()},d),n.o=/ *go\d+/.test(f),d.className=f0.apply(n,i)+(f?" "+f:"");let p=t;return t[0]&&(p=d.as||t,delete d.as),L2&&p[0]&&L2(d),LN(p,d)}return r}}var pne=t=>typeof t=="function",rm=(t,e)=>pne(t)?t(e):t,mne=(()=>{let t=0;return()=>(++t).toString()})(),jN=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),gne=20,Jb="default",PN=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:i}=e;return PN(t,{type:t.toasts.find(l=>l.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+s}))}}},k1=[],FN={toasts:[],pausedAt:void 0,settings:{toastLimit:gne}},Ra={},zN=(t,e=Jb)=>{Ra[e]=PN(Ra[e]||FN,t),k1.forEach(([n,i])=>{n===e&&i(Ra[e])})},HN=t=>Object.keys(Ra).forEach(e=>zN(t,e)),xne=t=>Object.keys(Ra).find(e=>Ra[e].toasts.some(n=>n.id===t)),h0=(t=Jb)=>e=>{zN(e,t)},yne={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},bne=(t={},e=Jb)=>{let[n,i]=j.useState(Ra[e]||FN),r=j.useRef(Ra[e]);j.useEffect(()=>(r.current!==Ra[e]&&i(Ra[e]),k1.push([e,i]),()=>{let l=k1.findIndex(([d])=>d===e);l>-1&&k1.splice(l,1)}),[e]);let s=n.toasts.map(l=>{var d,f,p;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((d=t[l.type])==null?void 0:d.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((f=t[l.type])==null?void 0:f.duration)||(t==null?void 0:t.duration)||yne[l.type],style:{...t.style,...(p=t[l.type])==null?void 0:p.style,...l.style}}});return{...n,toasts:s}},vne=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||mne()}),Rh=t=>(e,n)=>{let i=vne(e,t,n);return h0(i.toasterId||xne(i.id))({type:2,toast:i}),i.id},$n=(t,e)=>Rh("blank")(t,e);$n.error=Rh("error");$n.success=Rh("success");$n.loading=Rh("loading");$n.custom=Rh("custom");$n.dismiss=(t,e)=>{let n={type:3,toastId:t};e?h0(e)(n):HN(n)};$n.dismissAll=t=>$n.dismiss(void 0,t);$n.remove=(t,e)=>{let n={type:4,toastId:t};e?h0(e)(n):HN(n)};$n.removeAll=t=>$n.remove(void 0,t);$n.promise=(t,e,n)=>{let i=$n.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let s=e.success?rm(e.success,r):void 0;return s?$n.success(s,{id:i,...n,...n==null?void 0:n.success}):$n.dismiss(i),r}).catch(r=>{let s=e.error?rm(e.error,r):void 0;s?$n.error(s,{id:i,...n,...n==null?void 0:n.error}):$n.dismiss(i)}),t};var wne=1e3,_ne=(t,e="default")=>{let{toasts:n,pausedAt:i}=bne(t,e),r=j.useRef(new Map).current,s=j.useCallback((w,S=wne)=>{if(r.has(w))return;let E=setTimeout(()=>{r.delete(w),l({type:4,toastId:w})},S);r.set(w,E)},[]);j.useEffect(()=>{if(i)return;let w=Date.now(),S=n.map(E=>{if(E.duration===1/0)return;let T=(E.duration||0)+E.pauseDuration-(w-E.createdAt);if(T<0){E.visible&&$n.dismiss(E.id);return}return setTimeout(()=>$n.dismiss(E.id,e),T)});return()=>{S.forEach(E=>E&&clearTimeout(E))}},[n,i,e]);let l=j.useCallback(h0(e),[e]),d=j.useCallback(()=>{l({type:5,time:Date.now()})},[l]),f=j.useCallback((w,S)=>{l({type:1,toast:{id:w,height:S}})},[l]),p=j.useCallback(()=>{i&&l({type:6,time:Date.now()})},[i,l]),b=j.useCallback((w,S)=>{let{reverseOrder:E=!1,gutter:T=8,defaultPosition:M}=S||{},R=n.filter(L=>(L.position||M)===(w.position||M)&&L.height),B=R.findIndex(L=>L.id===w.id),G=R.filter((L,k)=>k<B&&L.visible).length;return R.filter(L=>L.visible).slice(...E?[G+1]:[0,G]).reduce((L,k)=>L+(k.height||0)+T,0)},[n]);return j.useEffect(()=>{n.forEach(w=>{if(w.dismissed)s(w.id,w.removeDelay);else{let S=r.get(w.id);S&&(clearTimeout(S),r.delete(w.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:f,startPause:d,endPause:p,calculateOffset:b}}},Cne=Lo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Sne=Lo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ene=Lo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ane=Yl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Cne} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Sne} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ene} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Tne=Lo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Nne=Yl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Tne} 1s linear infinite;
`,Ine=Lo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,kne=Lo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Mne=Yl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ine} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${kne} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,One=Yl("div")`
  position: absolute;
`,Rne=Yl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Dne=Lo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bne=Yl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Dne} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Lne=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?j.createElement(Bne,null,e):e:n==="blank"?null:j.createElement(Rne,null,j.createElement(Nne,{...i}),n!=="loading"&&j.createElement(One,null,n==="error"?j.createElement(Ane,{...i}):j.createElement(Mne,{...i})))},jne=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Pne=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Fne="0%{opacity:0;} 100%{opacity:1;}",zne="0%{opacity:1;} 100%{opacity:0;}",Hne=Yl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Une=Yl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$ne=(t,e)=>{let n=t.includes("top")?1:-1,[i,r]=jN()?[Fne,zne]:[jne(n),Pne(n)];return{animation:e?`${Lo(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Lo(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Vne=j.memo(({toast:t,position:e,style:n,children:i})=>{let r=t.height?$ne(t.position||e||"top-center",t.visible):{opacity:0},s=j.createElement(Lne,{toast:t}),l=j.createElement(Une,{...t.ariaProps},rm(t.message,t));return j.createElement(Hne,{className:t.className,style:{...r,...n,...t.style}},typeof i=="function"?i({icon:s,message:l}):j.createElement(j.Fragment,null,s,l))});hne(j.createElement);var Gne=({id:t,className:e,style:n,onHeightUpdate:i,children:r})=>{let s=j.useCallback(l=>{if(l){let d=()=>{let f=l.getBoundingClientRect().height;i(t,f)};d(),new MutationObserver(d).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return j.createElement("div",{ref:s,className:e,style:n},r)},qne=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:jN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...r}},Wne=f0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,u1=16,Xne=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:r,toasterId:s,containerStyle:l,containerClassName:d})=>{let{toasts:f,handlers:p}=_ne(n,s);return j.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:u1,left:u1,right:u1,bottom:u1,pointerEvents:"none",...l},className:d,onMouseEnter:p.startPause,onMouseLeave:p.endPause},f.map(b=>{let w=b.position||e,S=p.calculateOffset(b,{reverseOrder:t,gutter:i,defaultPosition:e}),E=qne(w,S);return j.createElement(Gne,{id:b.id,key:b.id,onHeightUpdate:p.updateHeight,className:b.visible?Wne:"",style:E},b.type==="custom"?rm(b.message,b):r?r(b):j.createElement(Vne,{toast:b,position:w}))}))};const Yne="_layout_10u0v_3",Kne="_mainContentContainer_10u0v_35",Zne="_panelHeaderBox_10u0v_73",Qne="_panelHeaderParagraph_10u0v_81",Jne="_combinedButtonBox_10u0v_617",eie="_leftButton_10u0v_657",tie="_rightButton_10u0v_659",nie="_dividerBox_10u0v_733",vl={layout:Yne,mainContentContainer:Kne,panelHeaderBox:Zne,panelHeaderParagraph:Qne,combinedButtonBox:Jne,leftButton:eie,rightButton:tie,dividerBox:nie},iie="_coverSectionBox_1nnz6_3",rie="_coverLabelSpan_1nnz6_11",sie="_coverAreaBox_1nnz6_25",aie="_coverPlaceholderBox_1nnz6_61",oie="_plusIconSpan_1nnz6_81",lie="_coverImageContainerBox_1nnz6_93",cie="_coverImage_1nnz6_93",uie="_removeCoverButton_1nnz6_119",die="_dragActive_1nnz6_259",yo={coverSectionBox:iie,coverLabelSpan:rie,coverAreaBox:sie,coverPlaceholderBox:aie,plusIconSpan:oie,coverImageContainerBox:lie,coverImage:cie,removeCoverButton:uie,dragActive:die};function fie({coverImage:t,setCoverImage:e,openFileDialogForCover:n,coverDropzone:i}){return x.jsxs("div",{className:yo.coverSectionBox,children:[x.jsx("div",{className:yo.coverLabelSpan,children:""}),x.jsx("div",{className:yo.coverAreaBox,children:t?x.jsxs("div",{className:yo.coverImageContainerBox,children:[x.jsx("img",{src:t.url,alt:"",className:yo.coverImage}),x.jsx("button",{className:yo.removeCoverButton,onClick:()=>e(null),children:""})]}):x.jsxs("div",{...i.getRootProps(),className:`${yo.coverPlaceholderBox} ${i.isDragActive?yo.dragActive:""}`,onClick:r=>{r.stopPropagation(),n()},children:[x.jsx("input",{...i.getInputProps()}),x.jsx("span",{className:yo.plusIconSpan,children:"+"})]})})]})}const hie="_innerPagesSectionBox_1htly_3",pie="_innerPagesLabelSpan_1htly_11",mie="_innerPagesGridContainer_1htly_25",gie="_innerPageItemBox_1htly_39",xie="_innerPageImage_1htly_59",yie="_removeInnerPageButton_1htly_71",bie="_addInnerPageButton_1htly_107",vie="_plusIconSpan_1htly_143",wie="_dragActive_1htly_281",bo={innerPagesSectionBox:hie,innerPagesLabelSpan:pie,innerPagesGridContainer:mie,innerPageItemBox:gie,innerPageImage:xie,removeInnerPageButton:yie,addInnerPageButton:bie,plusIconSpan:vie,dragActive:wie};function _ie({imageList:t,setImageList:e,handleImageChange:n,handleRemoveImage:i,openFileDialogForInner:r,innerDropzone:s}){return x.jsxs("div",{className:bo.innerPagesSectionBox,children:[x.jsxs("div",{className:bo.innerPagesLabelSpan,children:["  ",t.length,""]}),x.jsxs("div",{...s.getRootProps(),className:`${bo.innerPagesGridContainer} ${s.isDragActive?bo.dragActive:""}`,children:[x.jsx("input",{...s.getInputProps()}),t.map((l,d)=>x.jsxs("div",{className:bo.innerPageItemBox,children:[x.jsx("img",{src:l.url,alt:l.name,className:bo.innerPageImage}),x.jsx("button",{className:bo.removeInnerPageButton,onClick:f=>{f.stopPropagation(),i(d)},children:""})]},d)),x.jsx("div",{className:bo.addInnerPageButton,onClick:l=>{l.stopPropagation(),r()},children:x.jsx("span",{className:bo.plusIconSpan,children:"+"})})]})]})}var $f={exports:{}},Cie=$f.exports,nE;function Sie(){return nE||(nE=1,function(t,e){(function(n,i){i(e)})(Cie,function(n){class i{constructor(k,D){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=D,this.nowDrawingDensity=this.createdDensity,this.render=k}setDensity(k){this.createdDensity=k,this.nowDrawingDensity=k}setDrawingDensity(k){this.nowDrawingDensity=k}setPosition(k){this.state.position=k}setAngle(k){this.state.angle=k}setArea(k){this.state.area=k}setHardDrawingAngle(k){this.state.hardDrawingAngle=k}setHardAngle(k){this.state.hardAngle=k,this.state.hardDrawingAngle=k}setOrientation(k){this.orientation=k}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class r extends i{constructor(k,D,P){super(k,P),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=D}draw(k){const D=this.render.getContext(),P=this.render.convertToGlobal(this.state.position),z=this.render.getRect().pageWidth,U=this.render.getRect().height;D.save(),D.translate(P.x,P.y),D.beginPath();for(let X of this.state.area)X!==null&&(X=this.render.convertToGlobal(X),D.lineTo(X.x-P.x,X.y-P.y));D.rotate(this.state.angle),D.clip(),this.isLoad?D.drawImage(this.image,0,0,z,U):this.drawLoader(D,{x:0,y:0},z,U),D.restore()}simpleDraw(k){const D=this.render.getRect(),P=this.render.getContext(),z=D.pageWidth,U=D.height,X=k===1?D.left+D.pageWidth:D.left,ne=D.top;this.isLoad?P.drawImage(this.image,X,ne,z,U):this.drawLoader(P,{x:X,y:ne},z,U)}drawLoader(k,D,P,z){k.beginPath(),k.strokeStyle="rgb(200, 200, 200)",k.fillStyle="rgb(255, 255, 255)",k.lineWidth=1,k.rect(D.x+1,D.y+1,P-1,z-1),k.stroke(),k.fill();const U={x:D.x+P/2,y:D.y+z/2};k.beginPath(),k.lineWidth=10,k.arc(U.x,U.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),k.stroke(),k.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class s{constructor(k,D){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=D,this.app=k,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let D=0;D<this.pages.length;D++)this.portraitSpread.push([D]);let k=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([k]),k++);for(let D=k;D<this.pages.length;D+=2)D<this.pages.length-1?this.landscapeSpread.push([D,D+1]):(this.landscapeSpread.push([D]),this.pages[D].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(k){const D=this.getSpread();for(let P=0;P<D.length;P++)if(k===D[P][0]||k===D[P][1])return P;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(k){if(k>=0&&k<this.pages.length)return this.pages[k];throw new Error("Invalid page number")}nextBy(k){const D=this.pages.indexOf(k);return D<this.pages.length-1?this.pages[D+1]:null}prevBy(k){const D=this.pages.indexOf(k);return D>0?this.pages[D-1]:null}getFlippingPage(k){const D=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return k===0?this.pages[D].newTemporaryCopy():this.pages[D-1];{const P=k===0?this.getSpread()[D+1]:this.getSpread()[D-1];return P.length===1||k===0?this.pages[P[0]]:this.pages[P[1]]}}getBottomPage(k){const D=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return k===0?this.pages[D+1]:this.pages[D-1];{const P=k===0?this.getSpread()[D+1]:this.getSpread()[D-1];return P.length===1?this.pages[P[0]]:k===0?this.pages[P[1]]:this.pages[P[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(k=null){if(k===null&&(k=this.currentPageIndex),k<0||k>=this.pages.length)return;const D=this.getSpreadIndexByPage(k);D!==null&&(this.currentSpreadIndex=D,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(k){if(!(k>=0&&k<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=k}showSpread(){const k=this.getSpread()[this.currentSpreadIndex];k.length===2?(this.render.setLeftPage(this.pages[k[0]]),this.render.setRightPage(this.pages[k[1]])):this.render.getOrientation()==="landscape"&&k[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[k[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[k[0]])),this.currentPageIndex=k[0],this.app.updatePageIndex(this.currentPageIndex)}}class l extends s{constructor(k,D,P){super(k,D),this.imagesHref=P}load(){for(const k of this.imagesHref){const D=new r(this.render,k,"soft");D.load(),this.pages.push(D)}this.createSpread()}}class d{static GetDistanceBetweenTwoPoint(k,D){return k===null||D===null?1/0:Math.sqrt(Math.pow(D.x-k.x,2)+Math.pow(D.y-k.y,2))}static GetSegmentLength(k){return d.GetDistanceBetweenTwoPoint(k[0],k[1])}static GetAngleBetweenTwoLine(k,D){const P=k[0].y-k[1].y,z=D[0].y-D[1].y,U=k[1].x-k[0].x,X=D[1].x-D[0].x;return Math.acos((P*z+U*X)/(Math.sqrt(P*P+U*U)*Math.sqrt(z*z+X*X)))}static PointInRect(k,D){return D===null?null:D.x>=k.left&&D.x<=k.width+k.left&&D.y>=k.top&&D.y<=k.top+k.height?D:null}static GetRotatedPoint(k,D,P){return{x:k.x*Math.cos(P)+k.y*Math.sin(P)+D.x,y:k.y*Math.cos(P)-k.x*Math.sin(P)+D.y}}static LimitPointToCircle(k,D,P){if(d.GetDistanceBetweenTwoPoint(k,P)<=D)return P;const z=k.x,U=k.y,X=P.x,ne=P.y;let ee=Math.sqrt(Math.pow(D,2)*Math.pow(z-X,2)/(Math.pow(z-X,2)+Math.pow(U-ne,2)))+z;P.x<0&&(ee*=-1);let oe=(ee-z)*(U-ne)/(z-X)+U;return z-X+U===0&&(oe=D),{x:ee,y:oe}}static GetIntersectBetweenTwoSegment(k,D,P){return d.PointInRect(k,d.GetIntersectBeetwenTwoLine(D,P))}static GetIntersectBeetwenTwoLine(k,D){const P=k[0].y-k[1].y,z=D[0].y-D[1].y,U=k[1].x-k[0].x,X=D[1].x-D[0].x,ne=k[0].x*k[1].y-k[1].x*k[0].y,ee=D[0].x*D[1].y-D[1].x*D[0].y,oe=P*ee-z*ne,Ce=U*ee-X*ne,Se=-(ne*X-ee*U)/(P*X-z*U),te=-(P*ee-z*ne)/(P*X-z*U);if(isFinite(Se)&&isFinite(te))return{x:Se,y:te};if(Math.abs(oe-Ce)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(k,D){const P=Math.abs(k.x-D.x),z=Math.abs(k.y-D.y),U=Math.max(P,z),X=[k];function ne(ee,oe,Ce,Se,te){return oe>ee?ee+te*(Ce/Se):oe<ee?ee-te*(Ce/Se):ee}for(let ee=1;ee<=U;ee+=1)X.push({x:ne(k.x,D.x,P,U,ee),y:ne(k.y,D.y,z,U,ee)});return X}}class f extends i{constructor(k,D,P){super(k,P),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=D,this.element.classList.add("stf__item"),this.element.classList.add("--"+P)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new f(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(k){const D=k||this.nowDrawingDensity,P=this.render.convertToGlobal(this.state.position),z=this.render.getRect().pageWidth,U=this.render.getRect().height;this.element.classList.remove("--simple");const X=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${z}px;
            height: ${U}px;
        `;D==="hard"?this.drawHard(X):this.drawSoft(P,X)}drawHard(k=""){const D=this.render.getRect().left+this.render.getRect().width/2,P=this.state.hardDrawingAngle,z=k+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${P}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${D}px, 0, 0) rotateY(${P}deg);`);this.element.style.cssText=z}drawSoft(k,D=""){let P="polygon( ";for(const U of this.state.area)if(U!==null){let X=this.render.getDirection()===1?{x:-U.x+this.state.position.x,y:U.y-this.state.position.y}:{x:U.x-this.state.position.x,y:U.y-this.state.position.y};X=d.GetRotatedPoint(X,{x:0,y:0},this.state.angle),P+=X.x+"px "+X.y+"px, "}P=P.slice(0,-2),P+=")";const z=D+`transform-origin: 0 0; clip-path: ${P}; -webkit-clip-path: ${P};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${k.x}px, ${k.y}px);`:`transform: translate3d(${k.x}px, ${k.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=z}simpleDraw(k){const D=this.render.getRect(),P=D.pageWidth,z=D.height,U=k===1?D.left+D.pageWidth:D.left,X=D.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${z}px; 
            left: ${U}px; 
            top: ${X}px; 
            width: ${P}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(k){super.setOrientation(k),this.element.classList.remove("--left","--right"),this.element.classList.add(k===1?"--right":"--left")}setDrawingDensity(k){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+k),super.setDrawingDensity(k)}}class p extends s{constructor(k,D,P,z){super(k,D),this.element=P,this.pagesElement=z}load(){for(const k of this.pagesElement){const D=new f(this.render,k,k.dataset.density==="hard"?"hard":"soft");D.load(),this.pages.push(D)}this.createSpread()}}class b{constructor(k,D,P,z){this.direction=k,this.corner=D,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(P,10),this.pageHeight=parseInt(z,10)}calc(k){try{return this.position=this.calcAngleAndPosition(k),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const k=[];let D=!1;return k.push(this.rect.topLeft),k.push(this.topIntersectPoint),this.sideIntersectPoint===null?D=!0:(k.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(D=!1)),k.push(this.bottomIntersectPoint),(D||this.corner==="bottom")&&k.push(this.rect.bottomLeft),k}getBottomClipArea(){const k=[];return k.push(this.topIntersectPoint),this.corner==="top"?k.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&k.push({x:this.pageWidth,y:0}),k.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&k.push(this.sideIntersectPoint):this.corner==="top"&&k.push({x:this.pageWidth,y:this.pageHeight}),k.push(this.bottomIntersectPoint),k.push(this.topIntersectPoint),k}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const k=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?k:Math.PI-k}calcAngleAndPosition(k){let D=k;if(this.updateAngleAndGeometry(D),D=this.corner==="top"?this.checkPositionAtCenterLine(D,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(D,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(D.x-this.pageWidth)<1&&Math.abs(D.y)<1)throw new Error("Point is too small");return D}updateAngleAndGeometry(k){this.angle=this.calculateAngle(k),this.rect=this.getPageRect(k)}calculateAngle(k){const D=this.pageWidth-k.x+1,P=this.corner==="bottom"?this.pageHeight-k.y:k.y;let z=2*Math.acos(D/Math.sqrt(P*P+D*D));P<0&&(z=-z);const U=Math.PI-z;if(!isFinite(z)||U>=0&&U<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(z=-z),z}getPageRect(k){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],k):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],k)}getRectFromBasePoint(k,D){return{topLeft:this.getRotatedPoint(k[0],D),topRight:this.getRotatedPoint(k[1],D),bottomLeft:this.getRotatedPoint(k[2],D),bottomRight:this.getRotatedPoint(k[3],D)}}getRotatedPoint(k,D){return{x:k.x*Math.cos(this.angle)+k.y*Math.sin(this.angle)+D.x,y:k.y*Math.cos(this.angle)-k.x*Math.sin(this.angle)+D.y}}calculateIntersectPoint(k){const D={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[k,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[k,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[k,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(D,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(k,D,P){let z=k;const U=d.LimitPointToCircle(D,this.pageWidth,z);z!==U&&(z=U,this.updateAngleAndGeometry(z));const X=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let ne=this.rect.bottomRight,ee=this.rect.topLeft;if(this.corner==="bottom"&&(ne=this.rect.topRight,ee=this.rect.bottomLeft),ne.x<=0){const oe=d.LimitPointToCircle(P,X,ee);oe!==z&&(z=oe,this.updateAngleAndGeometry(z))}return z}getSegmentToShadowLine(){const k=this.getShadowStartPoint();return[k,k!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class w{constructor(k,D){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=k,this.app=D}fold(k){this.setState("user_fold"),this.calc===null&&this.start(k),this.do(this.render.convertToPage(k))}flip(k){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(k)||(this.calc!==null&&this.render.finishAnimation(),!this.start(k)))return;const D=this.getBoundsRect();this.setState("flipping");const P=D.height/10,z=this.calc.getCorner()==="bottom"?D.height-P:P,U=this.calc.getCorner()==="bottom"?D.height:0;this.calc.calc({x:D.pageWidth-P,y:z}),this.animateFlippingTo({x:D.pageWidth-P,y:z},{x:-D.pageWidth,y:U},!0)}start(k){this.reset();const D=this.render.convertToBook(k),P=this.getBoundsRect(),z=this.getDirectionByPoint(D),U=D.y>=P.height/2?"bottom":"top";if(!this.checkDirection(z))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(z),this.bottomPage=this.app.getPageCollection().getBottomPage(z),this.render.getOrientation()==="landscape")if(z===1){const X=this.app.getPageCollection().nextBy(this.flippingPage);X!==null&&this.flippingPage.getDensity()!==X.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),X.setDrawingDensity("hard"))}else{const X=this.app.getPageCollection().prevBy(this.flippingPage);X!==null&&this.flippingPage.getDensity()!==X.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),X.setDrawingDensity("hard"))}return this.render.setDirection(z),this.calc=new b(z,U,P.pageWidth.toString(10),P.height.toString(10)),!0}catch{return!1}}do(k){if(this.calc!==null&&this.calc.calc(k)){const D=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*D)/100):this.flippingPage.setHardAngle(-90*(200-2*D)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),D,this.calc.getDirection())}}flipToPage(k,D){const P=this.app.getPageCollection().getCurrentSpreadIndex(),z=this.app.getPageCollection().getSpreadIndexByPage(k);try{z>P&&(this.app.getPageCollection().setCurrentSpreadIndex(z-1),this.flipNext(D)),z<P&&(this.app.getPageCollection().setCurrentSpreadIndex(z+1),this.flipPrev(D))}catch{}}flipNext(k){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:k==="top"?1:this.render.getRect().height-2})}flipPrev(k){this.flip({x:10,y:k==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const k=this.calc.getPosition(),D=this.getBoundsRect(),P=this.calc.getCorner()==="bottom"?D.height:0;k.x<=0?this.animateFlippingTo(k,{x:-D.pageWidth,y:P},!0):this.animateFlippingTo(k,{x:D.pageWidth,y:P},!1)}showCorner(k){if(!this.checkState("read","fold_corner"))return;const D=this.getBoundsRect(),P=D.pageWidth;if(this.isPointOnCorners(k))if(this.calc===null){if(!this.start(k))return;this.setState("fold_corner"),this.calc.calc({x:P-1,y:1});const z=50,U=this.calc.getCorner()==="bottom"?D.height-1:1,X=this.calc.getCorner()==="bottom"?D.height-z:z;this.animateFlippingTo({x:P-1,y:U},{x:P-z,y:X},!1,!1)}else this.do(this.render.convertToPage(k));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(k,D,P,z=!0){const U=d.GetCordsFromTwoPoint(k,D),X=[];for(const ee of U)X.push(()=>this.do(ee));const ne=this.getAnimationDuration(U.length);this.render.startAnimation(X,ne,()=>{this.calc&&(P&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),z&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(k){this.state!==k&&(this.app.updateState(k),this.state=k)}getDirectionByPoint(k){const D=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(k.x-D.pageWidth<=D.width/5)return 1}else if(k.x<D.width/2)return 1;return 0}getAnimationDuration(k){const D=this.app.getSettings().flippingTime;return k>=1e3?D:k/1e3*D}checkDirection(k){return k===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...k){for(const D of k)if(this.state===D)return!0;return!1}isPointOnCorners(k){const D=this.getBoundsRect(),P=D.pageWidth,z=Math.sqrt(Math.pow(P,2)+Math.pow(D.height,2))/5,U=this.render.convertToBook(k);return U.x>0&&U.y>0&&U.x<D.width&&U.y<D.height&&(U.x<z||U.x>D.width-z)&&(U.y<z||U.y>D.height-z)}}class S{constructor(k,D){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=D,this.app=k;const P=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=P.exec(window.navigator.userAgent)!==null}render(k){if(this.animation!==null){const D=Math.round((k-this.animation.startedAt)/this.animation.durationFrame);D<this.animation.frames.length?this.animation.frames[D]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=k,this.drawFrame()}start(){this.update();const k=D=>{this.render(D),requestAnimationFrame(k)};requestAnimationFrame(k)}startAnimation(k,D,P){this.finishAnimation(),this.animation={frames:k,duration:D,durationFrame:D/k.length,onAnimateEnd:P,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const k=this.calculateBoundsRect();this.orientation!==k&&(this.orientation=k,this.app.updateOrientation(k))}calculateBoundsRect(){let k="landscape";const D=this.getBlockWidth(),P=D/2,z=this.getBlockHeight()/2,U=this.setting.width/this.setting.height;let X=this.setting.width,ne=this.setting.height,ee=P-X;return this.setting.size==="stretch"?(D<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(k="portrait"),X=k==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,X>this.setting.maxWidth&&(X=this.setting.maxWidth),ne=X/U,ne>this.getBlockHeight()&&(ne=this.getBlockHeight(),X=ne*U),ee=k==="portrait"?P-X/2-X:P-X):D<2*X&&this.app.getSettings().usePortrait&&(k="portrait",ee=P-X/2-X),this.boundsRect={left:ee,top:z-ne/2,width:2*X,height:ne,pageWidth:X},k}setShadowData(k,D,P,z){if(!this.app.getSettings().drawShadow)return;const U=100*this.getSettings().maxShadowOpacity;this.shadow={pos:k,angle:D,width:3*this.getRect().pageWidth/4*P/100,opacity:(100-P)*U/100/100,direction:z,progress:2*P}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(k){this.pageRect=k}setDirection(k){this.direction=k}setRightPage(k){k!==null&&k.setOrientation(1),this.rightPage=k}setLeftPage(k){k!==null&&k.setOrientation(0),this.leftPage=k}setBottomPage(k){k!==null&&k.setOrientation(this.direction===1?0:1),this.bottomPage=k}setFlippingPage(k){k!==null&&k.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=k}convertToBook(k){const D=this.getRect();return{x:k.x-D.left,y:k.y-D.top}}isSafari(){return this.safari}convertToPage(k,D){D||(D=this.direction);const P=this.getRect();return{x:D===0?k.x-P.left-P.width/2:P.width/2-k.x+P.left,y:k.y-P.top}}convertToGlobal(k,D){if(D||(D=this.direction),k==null)return null;const P=this.getRect();return{x:D===0?k.x+P.left+P.width/2:P.width/2-k.x+P.left,y:k.y+P.top}}convertRectToGlobal(k,D){return D||(D=this.direction),{topLeft:this.convertToGlobal(k.topLeft,D),topRight:this.convertToGlobal(k.topRight,D),bottomLeft:this.convertToGlobal(k.bottomLeft,D),bottomRight:this.convertToGlobal(k.bottomRight,D)}}}class E extends S{constructor(k,D,P){super(k,D),this.canvas=P,this.ctx=P.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const k=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(k.left+k.pageWidth,k.top,k.width,k.height),this.ctx.clip())}drawBookShadow(){const k=this.getRect();this.ctx.save(),this.ctx.beginPath();const D=k.width/20;this.ctx.rect(k.left,k.top,k.width,k.height);const P={x:k.left+k.width/2-D/2,y:0};this.ctx.translate(P.x,P.y);const z=this.ctx.createLinearGradient(0,0,D,0);z.addColorStop(0,"rgba(0, 0, 0, 0)"),z.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),z.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),z.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),z.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),z.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=z,this.ctx.fillRect(0,0,D,2*k.height),this.ctx.restore()}drawOuterShadow(){const k=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(k.left,k.top,k.width,k.height);const D=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(D.x,D.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const P=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),P.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),P.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),P.addColorStop(0,"rgba(0, 0, 0, 0)"),P.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=P,this.ctx.fillRect(0,0,this.shadow.width,2*k.height),this.ctx.restore()}drawInnerShadow(){const k=this.getRect();this.ctx.save(),this.ctx.beginPath();const D=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),P=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(P.topLeft.x,P.topLeft.y),this.ctx.lineTo(P.topRight.x,P.topRight.y),this.ctx.lineTo(P.bottomRight.x,P.bottomRight.y),this.ctx.lineTo(P.bottomLeft.x,P.bottomLeft.y),this.ctx.translate(D.x,D.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const z=3*this.shadow.width/4,U=this.ctx.createLinearGradient(0,0,z,0);this.shadow.direction===0?(this.ctx.translate(-z,-100),U.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),U.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),U.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),U.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),U.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),U.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),U.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),U.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=U,this.ctx.fillRect(0,0,z,2*k.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class T{constructor(k,D,P){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=U=>{if(this.checkTarget(U.target)){const X=this.getMousePos(U.clientX,U.clientY);this.app.startUserTouch(X),U.preventDefault()}},this.onTouchStart=U=>{if(this.checkTarget(U.target)&&U.changedTouches.length>0){const X=U.changedTouches[0],ne=this.getMousePos(X.clientX,X.clientY);this.touchPoint={point:ne,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(ne)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||U.preventDefault()}},this.onMouseUp=U=>{const X=this.getMousePos(U.clientX,U.clientY);this.app.userStop(X)},this.onMouseMove=U=>{const X=this.getMousePos(U.clientX,U.clientY);this.app.userMove(X,!1)},this.onTouchMove=U=>{if(U.changedTouches.length>0){const X=U.changedTouches[0],ne=this.getMousePos(X.clientX,X.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-ne.x)>10||this.app.getState()!=="read")&&U.cancelable&&this.app.userMove(ne,!0),this.app.getState()!=="read"&&U.preventDefault()):this.app.userMove(ne,!0)}},this.onTouchEnd=U=>{if(U.changedTouches.length>0){const X=U.changedTouches[0],ne=this.getMousePos(X.clientX,X.clientY);let ee=!1;if(this.touchPoint!==null){const oe=ne.x-this.touchPoint.point.x,Ce=Math.abs(ne.y-this.touchPoint.point.y);Math.abs(oe)>this.swipeDistance&&Ce<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(oe>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),ee=!0),this.touchPoint=null}this.app.userStop(ne,ee)}},this.parentElement=k,k.classList.add("stf__parent"),k.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=k.querySelector(".stf__wrapper"),this.app=D;const z=this.app.getSettings().usePortrait?1:2;k.style.minWidth=P.minWidth*z+"px",k.style.minHeight=P.minHeight+"px",P.size==="fixed"&&(k.style.minWidth=P.width*z+"px",k.style.minHeight=P.height+"px"),P.autoSize&&(k.style.width="100%",k.style.maxWidth=2*P.maxWidth+"px"),k.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=P.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(k){this.wrapper.classList.remove("--portrait","--landscape"),k==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(k,D){const P=this.distElement.getBoundingClientRect();return{x:k-P.left,y:D-P.top}}checkTarget(k){return!this.app.getSettings().clickEventForward||!["a","button"].includes(k.tagName.toLowerCase())}}class M extends T{constructor(k,D,P,z){super(k,D,P),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=k.querySelector(".stf__block"),this.items=z;for(const U of z)this.distElement.appendChild(U);this.setHandlers()}clear(){for(const k of this.items)this.parentElement.appendChild(k)}updateItems(k){this.removeHandlers(),this.distElement.innerHTML="";for(const D of k)this.distElement.appendChild(D);this.items=k,this.setHandlers()}update(){this.app.getRender().update()}}class R extends T{constructor(k,D,P){super(k,D,P),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=k.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const k=getComputedStyle(this.canvas),D=parseInt(k.getPropertyValue("width"),10),P=parseInt(k.getPropertyValue("height"),10);this.canvas.width=D,this.canvas.height=P}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class B extends S{constructor(k,D,P){super(k,D),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=P,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const k=this.getRect(),D=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let P=(100-D)*(2.5*k.pageWidth)/100+20;P>k.pageWidth&&(P=k.pageWidth);let z=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${P}px;
            height: ${k.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*D/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${k.left+k.width/2}px;
            transform-origin: 0 0;
        `;z+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=z}drawHardOuterShadow(){const k=this.getRect();let D=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*k.pageWidth)/100+20;D>k.pageWidth&&(D=k.pageWidth);let P=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${D}px;
            height: ${k.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${k.left+k.width/2}px;
            transform-origin: 0 0;
        `;P+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=P}drawInnerShadow(){const k=this.getRect(),D=3*this.shadow.width/4,P=this.getDirection()===0?D:0,z=this.getDirection()===0?"to left":"to right",U=this.convertToGlobal(this.shadow.pos),X=this.shadow.angle+3*Math.PI/2,ne=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let ee="polygon( ";for(const Ce of ne){let Se=this.getDirection()===1?{x:-Ce.x+this.shadow.pos.x,y:Ce.y-this.shadow.pos.y}:{x:Ce.x-this.shadow.pos.x,y:Ce.y-this.shadow.pos.y};Se=d.GetRotatedPoint(Se,{x:P,y:100},X),ee+=Se.x+"px "+Se.y+"px, "}ee=ee.slice(0,-2),ee+=")";const oe=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${D}px;
            height: ${2*k.height}px;
            background: linear-gradient(${z},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${P}px 100px;
            transform: translate3d(${U.x-P}px, ${U.y-100}px, 0) rotate(${X}rad);
            clip-path: ${ee};
            -webkit-clip-path: ${ee};
        `;this.innerShadow.style.cssText=oe}drawOuterShadow(){const k=this.getRect(),D=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),P=this.shadow.angle+3*Math.PI/2,z=this.getDirection()===1?this.shadow.width:0,U=this.getDirection()===0?"to right":"to left",X=[{x:0,y:0},{x:k.pageWidth,y:0},{x:k.pageWidth,y:k.height},{x:0,y:k.height}];let ne="polygon( ";for(const oe of X)if(oe!==null){let Ce=this.getDirection()===1?{x:-oe.x+this.shadow.pos.x,y:oe.y-this.shadow.pos.y}:{x:oe.x-this.shadow.pos.x,y:oe.y-this.shadow.pos.y};Ce=d.GetRotatedPoint(Ce,{x:z,y:100},P),ne+=Ce.x+"px "+Ce.y+"px, "}ne=ne.slice(0,-2),ne+=")";const ee=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*k.height}px;
            background: linear-gradient(${U}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${z}px 100px;
            transform: translate3d(${D.x-z}px, ${D.y-100}px, 0) rotate(${P}rad);
            clip-path: ${ne};
            -webkit-clip-path: ${ne};
        `;this.outerShadow.style.cssText=ee}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const k=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(k))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const k of this.app.getPageCollection().getPages())k!==this.leftPage&&k!==this.rightPage&&k!==this.flippingPage&&k!==this.bottomPage&&(k.getElement().style.cssText="display: none"),k.getTemporaryCopy()!==this.flippingPage&&k.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class G{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(k){const D=this._default;if(Object.assign(D,k),D.size!=="stretch"&&D.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(D.width<=0||D.height<=0)throw new Error("Invalid width or height");if(D.flippingTime<=0)throw new Error("Invalid flipping time");return D.size==="stretch"?(D.minWidth<=0&&(D.minWidth=100),D.maxWidth<D.minWidth&&(D.maxWidth=2e3),D.minHeight<=0&&(D.minHeight=100),D.maxHeight<D.minHeight&&(D.maxHeight=2e3)):(D.minWidth=D.width,D.maxWidth=D.width,D.minHeight=D.height,D.maxHeight=D.height),D}}(function(L,k){k===void 0&&(k={});var D=k.insertAt;if(typeof document<"u"){var P=document.head||document.getElementsByTagName("head")[0],z=document.createElement("style");z.type="text/css",D==="top"&&P.firstChild?P.insertBefore(z,P.firstChild):P.appendChild(z),z.styleSheet?z.styleSheet.cssText=L:z.appendChild(document.createTextNode(L))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(L,k){return this.events.has(L)?this.events.get(L).push(k):this.events.set(L,[k]),this}off(L){this.events.delete(L)}trigger(L,k,D=null){if(this.events.has(L))for(const P of this.events.get(L))P({data:D,object:k})}}{constructor(L,k){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new G().getSettings(k),this.block=L}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(L){this.ui=new R(this.block,this,this.setting);const k=this.ui.getCanvas();this.render=new E(this,this.setting,k),this.flipController=new w(this.render,this),this.pages=new l(this,this.render,L),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(L){this.ui=new M(this.block,this,this.setting,L),this.render=new B(this,this.setting,this.ui.getDistElement()),this.flipController=new w(this.render,this),this.pages=new p(this,this.render,this.ui.getDistElement(),L),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(L){const k=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new l(this,this.render,L),this.pages.load(),this.pages.show(k),this.trigger("update",this,{page:k,mode:this.render.getOrientation()})}updateFromHtml(L){const k=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new p(this,this.render,this.ui.getDistElement(),L),this.pages.load(),this.ui.updateItems(L),this.render.reload(),this.pages.show(k),this.trigger("update",this,{page:k,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(L){this.pages.show(L)}flipNext(L="top"){this.flipController.flipNext(L)}flipPrev(L="top"){this.flipController.flipPrev(L)}flip(L,k="top"){this.flipController.flipToPage(L,k)}updateState(L){this.trigger("changeState",this,L)}updatePageIndex(L){this.trigger("flip",this,L)}updateOrientation(L){this.ui.setOrientationStyle(L),this.update(),this.trigger("changeOrientation",this,L)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(L){return this.pages.getPage(L)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(L){this.mousePosition=L,this.isUserTouch=!0,this.isUserMove=!1}userMove(L,k){this.isUserTouch||k||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,L)>5&&(this.isUserMove=!0,this.flipController.fold(L)):this.flipController.showCorner(L)}userStop(L,k=!1){this.isUserTouch&&(this.isUserTouch=!1,k||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(L)))}},Object.defineProperty(n,"__esModule",{value:!0})})}($f,$f.exports)),$f.exports}var Eie=Sie();const Aie=Ut.forwardRef((t,e)=>{const n=j.useRef(null),i=j.useRef([]),r=j.useRef(),[s,l]=j.useState([]);j.useImperativeHandle(e,()=>({pageFlip:()=>r.current}));const d=j.useCallback(()=>{r.current&&r.current.clear()},[]),f=j.useCallback(()=>{const p=r.current;p&&(p.off("flip"),p.off("changeOrientation"),p.off("changeState"),p.off("init"),p.off("update"))},[]);return j.useEffect(()=>{if(i.current=[],t.children){const p=Ut.Children.map(t.children,b=>Ut.cloneElement(b,{ref:w=>{w&&i.current.push(w)}}));(!t.renderOnlyPageLengthChange||s.length!==p.length)&&(p.length<s.length&&d(),l(p))}},[t.children]),j.useEffect(()=>{const p=()=>{const b=r.current;b&&(t.onFlip&&b.on("flip",w=>t.onFlip(w)),t.onChangeOrientation&&b.on("changeOrientation",w=>t.onChangeOrientation(w)),t.onChangeState&&b.on("changeState",w=>t.onChangeState(w)),t.onInit&&b.on("init",w=>t.onInit(w)),t.onUpdate&&b.on("update",w=>t.onUpdate(w)))};s.length>0&&i.current.length>0&&(f(),n.current&&!r.current&&(r.current=new Eie.PageFlip(n.current,t)),r.current.getFlipController()?r.current.updateFromHtml(i.current):r.current.loadFromHTML(i.current),p())},[s]),Ut.createElement("div",{ref:n,className:t.className,style:t.style},s)}),Tie=Ut.memo(Aie),Nie="_overlayBox_19ufe_3",Iie="_bookletContainerBox_19ufe_33",kie="_closeButton_19ufe_67",Mie="_flipBook_19ufe_177",Oie="_pageBox_19ufe_189",Rie="_pageImage_19ufe_209",Die="_pageNumberSpan_19ufe_229",vo={overlayBox:Nie,bookletContainerBox:Iie,closeButton:kie,flipBook:Mie,pageBox:Oie,pageImage:Rie,pageNumberSpan:Die},ky=1.414;function Bie({isOpen:t,onClose:e,coverImage:n,imageList:i}){const r=j.useRef(null),[s,l]=j.useState(0),[d,f]=j.useState(!1);j.useEffect(()=>{const T=()=>{f(window.innerWidth>767)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const p=(n?1:0)+i.length;j.useEffect(()=>{t&&l(0)},[t]),j.useEffect(()=>{p>0&&s>=p&&l(Math.max(0,p-1))},[p,s]);const b={desktop:{width:500},mobile:{width:300}},S=(d?b.desktop:b.mobile).width,E=Math.round(S*ky);return j.useEffect(()=>{const T=M=>{if(!(!t||!r.current))switch(M.key){case"ArrowLeft":r.current.pageFlip().flipPrev();break;case"ArrowRight":r.current.pageFlip().flipNext();break;case"Escape":e();break}};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[t,e]),!t||p===0?null:x.jsxs("div",{className:vo.overlayBox,onClick:e,children:[x.jsxs("div",{className:vo.bookletContainerBox,onClick:T=>T.stopPropagation(),children:[x.jsx("button",{className:vo.closeButton,onClick:e,children:""}),x.jsxs(Tie,{ref:r,width:S,height:E,minWidth:280,maxWidth:d?600:350,minHeight:Math.round(280*ky),maxHeight:Math.round((d?600:350)*ky),size:"fixed",showCover:!0,mobileScrollSupport:!0,className:vo.flipBook,onFlip:T=>{const M=T.data;M>=0&&M<p&&l(M)},showPageCorners:!0,usePortrait:!d,useMouseEvents:!0,swipeDistance:50,clickEventForward:!0,disableFlipByClick:!1,startPage:0,drawShadow:!0,flippingTime:800,usePageShadow:!0,autoSize:!1,maxShadowOpacity:.3,startZIndex:1,children:[n&&x.jsx("div",{className:vo.pageBox,children:x.jsx("img",{src:n.url,alt:"",className:vo.pageImage})}),i.map((T,M)=>x.jsx("div",{className:vo.pageBox,children:x.jsx("img",{src:T.url,alt:` ${M+1}`,className:vo.pageImage})},M))]})]}),x.jsxs("div",{className:vo.pageNumberSpan,children:[s+1," / ",p]})]})}function iu(t,e,n,i){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(b){try{p(i.next(b))}catch(w){l(w)}}function f(b){try{p(i.throw(b))}catch(w){l(w)}}function p(b){b.done?s(b.value):r(b.value).then(d,f)}p((i=i.apply(t,e||[])).next())})}const Lie=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function xd(t,e,n){const i=jie(t),{webkitRelativePath:r}=t,s=typeof e=="string"?e:typeof r=="string"&&r.length>0?r:`./${t.name}`;return typeof i.path!="string"&&iE(i,"path",s),iE(i,"relativePath",s),i}function jie(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const i=e.split(".").pop().toLowerCase(),r=Lie.get(i);r&&Object.defineProperty(t,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return t}function iE(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Pie=[".DS_Store","Thumbs.db"];function Fie(t){return iu(this,void 0,void 0,function*(){return sm(t)&&zie(t.dataTransfer)?Vie(t.dataTransfer,t.type):Hie(t)?Uie(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?$ie(t):[]})}function zie(t){return sm(t)}function Hie(t){return sm(t)&&sm(t.target)}function sm(t){return typeof t=="object"&&t!==null}function Uie(t){return j2(t.target.files).map(e=>xd(e))}function $ie(t){return iu(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>xd(n))})}function Vie(t,e){return iu(this,void 0,void 0,function*(){if(t.items){const n=j2(t.items).filter(r=>r.kind==="file");if(e!=="drop")return n;const i=yield Promise.all(n.map(Gie));return rE(UN(i))}return rE(j2(t.files).map(n=>xd(n)))})}function rE(t){return t.filter(e=>Pie.indexOf(e.name)===-1)}function j2(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const i=t[n];e.push(i)}return e}function Gie(t){if(typeof t.webkitGetAsEntry!="function")return sE(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?$N(e):sE(t,e)}function UN(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?UN(n):[n]],[])}function sE(t,e){return iu(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const l=yield s.getFile();return l.handle=s,xd(l)}}const i=t.getAsFile();if(!i)throw new Error(`${t} is not a File`);return xd(i,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function qie(t){return iu(this,void 0,void 0,function*(){return t.isDirectory?$N(t):Wie(t)})}function $N(t){const e=t.createReader();return new Promise((n,i)=>{const r=[];function s(){e.readEntries(l=>iu(this,void 0,void 0,function*(){if(l.length){const d=Promise.all(l.map(qie));r.push(d),s()}else try{const d=yield Promise.all(r);n(d)}catch(d){i(d)}}),l=>{i(l)})}s()})}function Wie(t){return iu(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(i=>{const r=xd(i,t.fullPath);e(r)},i=>{n(i)})})})}var d1={},aE;function Xie(){return aE||(aE=1,d1.__esModule=!0,d1.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var i=t.name||"",r=(t.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return n.some(function(l){var d=l.trim().toLowerCase();return d.charAt(0)==="."?i.toLowerCase().endsWith(d):d.endsWith("/*")?s===d.replace(/\/.*$/,""):r===d})}return!0}),d1}var Yie=Xie();const My=jo(Yie);function oE(t){return Qie(t)||Zie(t)||GN(t)||Kie()}function Kie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qie(t){if(Array.isArray(t))return P2(t)}function lE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function cE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lE(Object(n),!0).forEach(function(i){VN(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function VN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ch(t,e){return tre(t)||ere(t,e)||GN(t,e)||Jie()}function Jie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GN(t,e){if(t){if(typeof t=="string")return P2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P2(t,e)}}function P2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ere(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,l,d;try{for(n=n.call(t);!(r=(l=n.next()).done)&&(i.push(l.value),!(e&&i.length===e));r=!0);}catch(f){s=!0,d=f}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw d}}return i}}function tre(t){if(Array.isArray(t))return t}var nre=typeof My=="function"?My:My.default,ire="file-invalid-type",rre="file-too-large",sre="file-too-small",are="too-many-files",ore=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),i=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:ire,message:"File type must be ".concat(i)}},uE=function(e){return{code:rre,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},dE=function(e){return{code:sre,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},lre={code:are,message:"Too many files"};function qN(t,e){var n=t.type==="application/x-moz-file"||nre(t,e);return[n,n?null:ore(e)]}function WN(t,e,n){if(Ic(t.size))if(Ic(e)&&Ic(n)){if(t.size>n)return[!1,uE(n)];if(t.size<e)return[!1,dE(e)]}else{if(Ic(e)&&t.size<e)return[!1,dE(e)];if(Ic(n)&&t.size>n)return[!1,uE(n)]}return[!0,null]}function Ic(t){return t!=null}function cre(t){var e=t.files,n=t.accept,i=t.minSize,r=t.maxSize,s=t.multiple,l=t.maxFiles,d=t.validator;return!s&&e.length>1||s&&l>=1&&e.length>l?!1:e.every(function(f){var p=qN(f,n),b=ch(p,1),w=b[0],S=WN(f,i,r),E=ch(S,1),T=E[0],M=d?d(f):null;return w&&T&&!M})}function am(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function f1(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function fE(t){t.preventDefault()}function ure(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function dre(t){return t.indexOf("Edge/")!==-1}function fre(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ure(t)||dre(t)}function Aa(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return e.some(function(d){return!am(i)&&d&&d.apply(void 0,[i].concat(s)),am(i)})}}function hre(){return"showOpenFilePicker"in window}function pre(t){if(Ic(t)){var e=Object.entries(t).filter(function(n){var i=ch(n,2),r=i[0],s=i[1],l=!0;return XN(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(s)||!s.every(YN))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(n,i){var r=ch(i,2),s=r[0],l=r[1];return cE(cE({},n),{},VN({},s,l))},{});return[{description:"Files",accept:e}]}return t}function mre(t){if(Ic(t))return Object.entries(t).reduce(function(e,n){var i=ch(n,2),r=i[0],s=i[1];return[].concat(oE(e),[r],oE(s))},[]).filter(function(e){return XN(e)||YN(e)}).join(",")}function gre(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function xre(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function XN(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function YN(t){return/^.*\.[\w]+$/.test(t)}var yre=["children"],bre=["open"],vre=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],wre=["refKey","onChange","onClick"];function _re(t){return Ere(t)||Sre(t)||KN(t)||Cre()}function Cre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ere(t){if(Array.isArray(t))return F2(t)}function Oy(t,e){return Nre(t)||Tre(t,e)||KN(t,e)||Are()}function Are(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KN(t,e){if(t){if(typeof t=="string")return F2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Tre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,l,d;try{for(n=n.call(t);!(r=(l=n.next()).done)&&(i.push(l.value),!(e&&i.length===e));r=!0);}catch(f){s=!0,d=f}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw d}}return i}}function Nre(t){if(Array.isArray(t))return t}function hE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(n),!0).forEach(function(i){z2(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function z2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function om(t,e){if(t==null)return{};var n=Ire(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Ire(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var ev=j.forwardRef(function(t,e){var n=t.children,i=om(t,yre),r=U2(i),s=r.open,l=om(r,bre);return j.useImperativeHandle(e,function(){return{open:s}},[s]),Ut.createElement(j.Fragment,null,n(Yn(Yn({},l),{},{open:s})))});ev.displayName="Dropzone";var ZN={disabled:!1,getFilesFromEvent:Fie,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};ev.defaultProps=ZN;ev.propTypes={children:lt.func,accept:lt.objectOf(lt.arrayOf(lt.string)),multiple:lt.bool,preventDropOnDocument:lt.bool,noClick:lt.bool,noKeyboard:lt.bool,noDrag:lt.bool,noDragEventsBubbling:lt.bool,minSize:lt.number,maxSize:lt.number,maxFiles:lt.number,disabled:lt.bool,getFilesFromEvent:lt.func,onFileDialogCancel:lt.func,onFileDialogOpen:lt.func,useFsAccessApi:lt.bool,autoFocus:lt.bool,onDragEnter:lt.func,onDragLeave:lt.func,onDragOver:lt.func,onDrop:lt.func,onDropAccepted:lt.func,onDropRejected:lt.func,onError:lt.func,validator:lt.func};var H2={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function U2(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Yn(Yn({},ZN),t),n=e.accept,i=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,l=e.minSize,d=e.multiple,f=e.maxFiles,p=e.onDragEnter,b=e.onDragLeave,w=e.onDragOver,S=e.onDrop,E=e.onDropAccepted,T=e.onDropRejected,M=e.onFileDialogCancel,R=e.onFileDialogOpen,B=e.useFsAccessApi,G=e.autoFocus,L=e.preventDropOnDocument,k=e.noClick,D=e.noKeyboard,P=e.noDrag,z=e.noDragEventsBubbling,U=e.onError,X=e.validator,ne=j.useMemo(function(){return mre(n)},[n]),ee=j.useMemo(function(){return pre(n)},[n]),oe=j.useMemo(function(){return typeof R=="function"?R:pE},[R]),Ce=j.useMemo(function(){return typeof M=="function"?M:pE},[M]),Se=j.useRef(null),te=j.useRef(null),Q=j.useReducer(kre,H2),le=Oy(Q,2),xe=le[0],Be=le[1],K=xe.isFocused,ue=xe.isFileDialogActive,Ee=j.useRef(typeof window<"u"&&window.isSecureContext&&B&&hre()),Oe=function(){!Ee.current&&ue&&setTimeout(function(){if(te.current){var ot=te.current.files;ot.length||(Be({type:"closeDialog"}),Ce())}},300)};j.useEffect(function(){return window.addEventListener("focus",Oe,!1),function(){window.removeEventListener("focus",Oe,!1)}},[te,ue,Ce,Ee]);var He=j.useRef([]),qe=function(ot){Se.current&&Se.current.contains(ot.target)||(ot.preventDefault(),He.current=[])};j.useEffect(function(){return L&&(document.addEventListener("dragover",fE,!1),document.addEventListener("drop",qe,!1)),function(){L&&(document.removeEventListener("dragover",fE),document.removeEventListener("drop",qe))}},[Se,L]),j.useEffect(function(){return!i&&G&&Se.current&&Se.current.focus(),function(){}},[Se,G,i]);var Ae=j.useCallback(function(Ve){U?U(Ve):console.error(Ve)},[U]),en=j.useCallback(function(Ve){Ve.preventDefault(),Ve.persist(),Or(Ve),He.current=[].concat(_re(He.current),[Ve.target]),f1(Ve)&&Promise.resolve(r(Ve)).then(function(ot){if(!(am(Ve)&&!z)){var vt=ot.length,_t=vt>0&&cre({files:ot,accept:ne,minSize:l,maxSize:s,multiple:d,maxFiles:f,validator:X}),nn=vt>0&&!_t;Be({isDragAccept:_t,isDragReject:nn,isDragActive:!0,type:"setDraggedFiles"}),p&&p(Ve)}}).catch(function(ot){return Ae(ot)})},[r,p,Ae,z,ne,l,s,d,f,X]),gt=j.useCallback(function(Ve){Ve.preventDefault(),Ve.persist(),Or(Ve);var ot=f1(Ve);if(ot&&Ve.dataTransfer)try{Ve.dataTransfer.dropEffect="copy"}catch{}return ot&&w&&w(Ve),!1},[w,z]),oi=j.useCallback(function(Ve){Ve.preventDefault(),Ve.persist(),Or(Ve);var ot=He.current.filter(function(_t){return Se.current&&Se.current.contains(_t)}),vt=ot.indexOf(Ve.target);vt!==-1&&ot.splice(vt,1),He.current=ot,!(ot.length>0)&&(Be({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),f1(Ve)&&b&&b(Ve))},[Se,b,z]),dn=j.useCallback(function(Ve,ot){var vt=[],_t=[];Ve.forEach(function(nn){var Lt=qN(nn,ne),Yr=Oy(Lt,2),Ei=Yr[0],ra=Yr[1],on=WN(nn,l,s),Ue=Oy(on,2),an=Ue[0],jt=Ue[1],Wt=X?X(nn):null;if(Ei&&an&&!Wt)vt.push(nn);else{var Rr=[ra,jt];Wt&&(Rr=Rr.concat(Wt)),_t.push({file:nn,errors:Rr.filter(function(ys){return ys})})}}),(!d&&vt.length>1||d&&f>=1&&vt.length>f)&&(vt.forEach(function(nn){_t.push({file:nn,errors:[lre]})}),vt.splice(0)),Be({acceptedFiles:vt,fileRejections:_t,isDragReject:_t.length>0,type:"setFiles"}),S&&S(vt,_t,ot),_t.length>0&&T&&T(_t,ot),vt.length>0&&E&&E(vt,ot)},[Be,d,ne,l,s,f,S,E,T,X]),cn=j.useCallback(function(Ve){Ve.preventDefault(),Ve.persist(),Or(Ve),He.current=[],f1(Ve)&&Promise.resolve(r(Ve)).then(function(ot){am(Ve)&&!z||dn(ot,Ve)}).catch(function(ot){return Ae(ot)}),Be({type:"reset"})},[r,dn,Ae,z]),Bi=j.useCallback(function(){if(Ee.current){Be({type:"openDialog"}),oe();var Ve={multiple:d,types:ee};window.showOpenFilePicker(Ve).then(function(ot){return r(ot)}).then(function(ot){dn(ot,null),Be({type:"closeDialog"})}).catch(function(ot){gre(ot)?(Ce(ot),Be({type:"closeDialog"})):xre(ot)?(Ee.current=!1,te.current?(te.current.value=null,te.current.click()):Ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ae(ot)});return}te.current&&(Be({type:"openDialog"}),oe(),te.current.value=null,te.current.click())},[Be,oe,Ce,B,dn,Ae,ee,d]),Ot=j.useCallback(function(Ve){!Se.current||!Se.current.isEqualNode(Ve.target)||(Ve.key===" "||Ve.key==="Enter"||Ve.keyCode===32||Ve.keyCode===13)&&(Ve.preventDefault(),Bi())},[Se,Bi]),li=j.useCallback(function(){Be({type:"focus"})},[]),qi=j.useCallback(function(){Be({type:"blur"})},[]),xs=j.useCallback(function(){k||(fre()?setTimeout(Bi,0):Bi())},[k,Bi]),$t=function(ot){return i?null:ot},tn=function(ot){return D?null:$t(ot)},At=function(ot){return P?null:$t(ot)},Or=function(ot){z&&ot.stopPropagation()},We=j.useMemo(function(){return function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ot=Ve.refKey,vt=ot===void 0?"ref":ot,_t=Ve.role,nn=Ve.onKeyDown,Lt=Ve.onFocus,Yr=Ve.onBlur,Ei=Ve.onClick,ra=Ve.onDragEnter,on=Ve.onDragOver,Ue=Ve.onDragLeave,an=Ve.onDrop,jt=om(Ve,vre);return Yn(Yn(z2({onKeyDown:tn(Aa(nn,Ot)),onFocus:tn(Aa(Lt,li)),onBlur:tn(Aa(Yr,qi)),onClick:$t(Aa(Ei,xs)),onDragEnter:At(Aa(ra,en)),onDragOver:At(Aa(on,gt)),onDragLeave:At(Aa(Ue,oi)),onDrop:At(Aa(an,cn)),role:typeof _t=="string"&&_t!==""?_t:"presentation"},vt,Se),!i&&!D?{tabIndex:0}:{}),jt)}},[Se,Ot,li,qi,xs,en,gt,oi,cn,D,P,i]),tr=j.useCallback(function(Ve){Ve.stopPropagation()},[]),Xr=j.useMemo(function(){return function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ot=Ve.refKey,vt=ot===void 0?"ref":ot,_t=Ve.onChange,nn=Ve.onClick,Lt=om(Ve,wre),Yr=z2({accept:ne,multiple:d,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:$t(Aa(_t,cn)),onClick:$t(Aa(nn,tr)),tabIndex:-1},vt,te);return Yn(Yn({},Yr),Lt)}},[te,n,d,cn,i]);return Yn(Yn({},xe),{},{isFocused:K&&!i,getRootProps:We,getInputProps:Xr,rootRef:Se,inputRef:te,open:$t(Bi)})}function kre(t,e){switch(e.type){case"focus":return Yn(Yn({},t),{},{isFocused:!0});case"blur":return Yn(Yn({},t),{},{isFocused:!1});case"openDialog":return Yn(Yn({},H2),{},{isFileDialogActive:!0});case"closeDialog":return Yn(Yn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Yn(Yn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Yn(Yn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Yn({},H2);default:return t}}function pE(){}function Mre(){const[t,e]=j.useState([]),[n,i]=j.useState(null),r=S=>{const T=Array.from(S.target.files).map(M=>new Promise(R=>{const B=new FileReader;B.onload=G=>{R({file:M,url:G.target.result,name:M.name})},B.readAsDataURL(M)}));Promise.all(T).then(M=>{e(R=>[...R,...M]),S.target.value=""})},s=S=>{e(E=>E.filter((T,M)=>M!==S))},l=S=>{const E=new FileReader;E.onload=T=>{i({file:S,url:T.target.result,name:S.name})},E.readAsDataURL(S)},d=()=>{const S=document.createElement("input");S.type="file",S.accept="image/*",S.onchange=E=>{const T=E.target.files[0];T&&l(T)},S.click()},f=()=>{const S=document.createElement("input");S.type="file",S.accept="image/*",S.multiple=!0,S.onchange=r,S.click()},p=(S,E="inner")=>{const T=S.map(M=>new Promise(R=>{const B=new FileReader;B.onload=G=>{R({file:M,url:G.target.result,name:M.name})},B.readAsDataURL(M)}));Promise.all(T).then(M=>{E==="cover"?M.length>0&&i(M[0]):e(R=>[...R,...M])})},b=U2({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!1,onDrop:S=>p(S,"cover"),onDropRejected:S=>{console.log("   :",S)}}),w=U2({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!0,onDrop:S=>p(S,"inner"),onDropRejected:S=>{console.log("   :",S)}});return{imageList:t,setImageList:e,coverImage:n,setCoverImage:i,handleImageChange:r,handleRemoveImage:s,openFileDialogForCover:d,openFileDialogForInner:f,coverDropzone:b,innerDropzone:w,handleDrop:p}}function Ore(){const[t,e]=j.useState(!1),{imageList:n,setImageList:i,coverImage:r,setCoverImage:s,handleImageChange:l,handleRemoveImage:d,openFileDialogForCover:f,openFileDialogForInner:p,coverDropzone:b,innerDropzone:w}=Mre(),S=()=>{if(!r){$n.error("   !",{position:"top-center",duration:3e3});return}e(!0)},E=async()=>{if(!r){$n.error(" !");return}if(!r.file){$n.error("   .");return}if(n.some(M=>!M.file)){$n.error("    .");return}try{const M=new FormData;M.append("image",r.file),n.forEach(B=>{M.append("image",B.file)}),M.append("category","LEAFLET");const R=await at.post("/api/upload/image",M,{headers:{"Content-Type":"multipart/form-data"}});console.log(" :",R.data),$n.success("  !",{position:"top-center"})}catch(M){console.error(" :",M),$n.error("    .",{position:"top-center"})}},T=!r&&n.length===0;return x.jsxs("div",{className:vl.layout,children:[x.jsx(Xne,{}),x.jsxs("div",{className:vl.mainContentContainer,children:[x.jsx("div",{className:vl.panelHeaderBox,children:x.jsxs("p",{className:vl.panelHeaderParagraph,children:["/   .",x.jsx("br",{}),"     ."]})}),x.jsx(fie,{coverImage:r,setCoverImage:s,openFileDialogForCover:f,coverDropzone:b}),x.jsx(_ie,{imageList:n,setImageList:i,handleImageChange:l,handleRemoveImage:d,openFileDialogForInner:p,innerDropzone:w}),x.jsxs("div",{className:vl.combinedButtonBox,children:[x.jsx("button",{className:vl.leftButton,onClick:S,disabled:T,children:""}),x.jsx("div",{className:vl.dividerBox}),x.jsx("button",{className:vl.rightButton,onClick:E,disabled:T,children:""})]})]}),x.jsx(Bie,{isOpen:t,onClose:()=>e(!1),coverImage:r,imageList:n})]})}const Rre="_layout_1xtdp_3",Dre="_title_1xtdp_29",Bre="_list_1xtdp_49",Lre="_notificationItem_1xtdp_65",jre="_iconArea_1xtdp_97",Pre="_icon_1xtdp_97",Fre="_contentArea_1xtdp_131",zre="_headerRow_1xtdp_141",Hre="_notiTitle_1xtdp_155",Ure="_timestamp_1xtdp_169",$re="_notiBody_1xtdp_185",Fr={layout:Rre,title:Dre,list:Bre,notificationItem:Lre,iconArea:jre,icon:Pre,contentArea:Fre,headerRow:zre,notiTitle:Hre,timestamp:Ure,notiBody:$re},Vre=t=>t?new Date(t.replace(" ","T")+"+09:00"):new Date,Gre=t=>{const e=Vre(t),i=new Date-e,r=Math.floor(i/(1e3*60)),s=Math.floor(i/(1e3*60*60)),l=Math.floor(i/(1e3*60*60*24));return r<1?" ":r<60?`${r} `:s<24?`${s} `:l<7?`${l} `:e.toLocaleDateString("ko-KR")},qre=()=>x.jsx(YA,{size:22,className:Fr.icon});function Wre(){const[t,e]=j.useState([]),[n,i]=j.useState(!0),[r,s]=j.useState(null),l=async()=>{var d;try{i(!0);const f=localStorage.getItem("ACCESS_TOKEN"),p=await at.get("/api/notification/console",{headers:{Authorization:`Bearer ${f}`}}),w=(Array.isArray((d=p.data)==null?void 0:d.data)?p.data.data:[]).sort((S,E)=>new Date(E.create_dtm).getTime()-new Date(S.create_dtm).getTime());e(w)}catch(f){console.error(f),s("    .")}finally{i(!1)}};return j.useEffect(()=>{l()},[]),j.useEffect(()=>{const d=()=>{console.log(" NEW_NOTIFICATION      "),l()};return window.addEventListener("NEW_NOTIFICATION",d),()=>window.removeEventListener("NEW_NOTIFICATION",d)},[]),n?x.jsx("div",{className:Fr.layout,children:" ..."}):r?x.jsx("div",{className:Fr.layout,children:r}):t.length===0?x.jsx("div",{className:Fr.layout,children:x.jsx("h2",{children:"   ."})}):x.jsxs("div",{className:Fr.layout,children:[x.jsx("h2",{className:Fr.title,children:"  "}),x.jsx("div",{className:Fr.list,children:t.map(d=>x.jsxs("div",{className:Fr.notificationItem,children:[x.jsx("div",{className:Fr.iconArea,children:x.jsx(qre,{})}),x.jsxs("div",{className:Fr.contentArea,children:[x.jsxs("div",{className:Fr.headerRow,children:[x.jsx("span",{className:Fr.notiTitle,children:d.title}),x.jsx("span",{className:Fr.timestamp,children:Gre(d.create_dtm)})]}),x.jsx("p",{className:Fr.notiBody,children:d.body})]})]},d.id))})]})}const Xre="_page_1qmmv_1",Yre="_title_1qmmv_15",Kre="_formArea_1qmmv_31",Zre="_label_1qmmv_47",Qre="_input_1qmmv_61",Jre="_textarea_1qmmv_63",ese="_tagContainer_1qmmv_107",tse="_tagButton_1qmmv_119",nse="_submitButton_1qmmv_151",ise="_resultArea_1qmmv_197",rse="_resultCard_1qmmv_211",sse="_cardHeader_1qmmv_231",ase="_refineButton_1qmmv_257",ose="_placeholder_1qmmv_291",Sr={page:Xre,title:Yre,formArea:Kre,label:Zre,input:Qre,textarea:Jre,tagContainer:ese,tagButton:tse,submitButton:nse,resultArea:ise,resultCard:rse,cardHeader:sse,refineButton:ase,placeholder:ose};function lse(){const[t,e]=j.useState(""),[n,i]=j.useState(""),[r,s]=j.useState([]),[l,d]=j.useState(!1);new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});const f=async()=>{var b,w;if(s([]),d(!0),!t.trim()){s(["  ."]),d(!1);return}try{const E=(await at.post("/api/console/invitation/create",{eventTopic:t,userRequirements:n||""})).data;E&&typeof E=="string"?s([E]):Array.isArray(E)?s(E):E.invitations&&Array.isArray(E.invitations)?s(E.invitations):s([" ."])}catch(S){console.error("API  :",S),((b=S.response)==null?void 0:b.status)===401?s([" .  ."]):((w=S.response)==null?void 0:w.status)===403?s([" ."]):s([`API  : ${S.message}`])}finally{d(!1)}},p=async(b,w)=>{var S,E;if(b.trim())try{const M=(await at.post("/api/console/invitation/refine",{selectedInvitation:b,eventTopic:t,userRequirements:"   "})).data;s(R=>R.map((B,G)=>G===w&&typeof M=="string"?M:B))}catch(T){console.error(" API  :",T),((S=T.response)==null?void 0:S.status)===401?alert(" .  ."):((E=T.response)==null?void 0:E.status)===403?alert(" ."):alert("  .")}};return x.jsxs("div",{className:Sr.page,children:[x.jsx("h1",{className:Sr.title,children:"  "}),x.jsxs("div",{className:Sr.formArea,children:[x.jsx("label",{className:Sr.label,children:" "}),x.jsx("input",{type:"text",value:t,onChange:b=>e(b.target.value),placeholder:":  ,  ",className:Sr.input}),x.jsx("label",{className:Sr.label,children:""}),x.jsx("textarea",{value:n,onChange:b=>i(b.target.value),placeholder:":   ,   ",className:Sr.textarea}),x.jsx("div",{className:Sr.tagContainer,children:["#","#","#","#","#","#"].map(b=>x.jsx("button",{type:"button",className:Sr.tagButton,onClick:()=>i(w=>w.includes(b)?w:w?`${w}, ${b}`:b),children:b},b))}),x.jsx("button",{onClick:f,className:Sr.submitButton,disabled:l,children:l?" ...":" "})]}),x.jsx("div",{className:Sr.resultArea,children:r.length>0?r.map((b,w)=>x.jsxs("div",{className:Sr.resultCard,children:[x.jsxs("div",{className:Sr.cardHeader,children:[x.jsxs("h3",{children:[" ",w+1]}),x.jsx("button",{className:Sr.refineButton,onClick:()=>p(b,w),children:""})]}),x.jsx("p",{children:b})]},w)):x.jsx("div",{className:Sr.placeholder,children:"    ."})})]})}const cse="_container_1m3jp_3",use="_image_1m3jp_27",dse="_info_1m3jp_41",fse="_productName_1m3jp_49",hse="_artist_1m3jp_59",pse="_guide_1m3jp_71",mse="_textArea_1m3jp_87",gse="_checkboxBlock_1m3jp_113",xse="_checkboxLabel_1m3jp_163",yse="_checkbox_1m3jp_113",bse="_checkboxText_1m3jp_191",vse="_expandedContent_1m3jp_203",wse="_expandedActive_1m3jp_225",_se="_expandedTitle_1m3jp_237",Cse="_expandedList_1m3jp_251",Sse="_buttonRow_1m3jp_275",Ese="_saveBtn_1m3jp_289",Ase="_cancelBtn_1m3jp_291",mi={container:cse,image:use,info:dse,productName:fse,artist:hse,guide:pse,textArea:mse,checkboxBlock:gse,checkboxLabel:xse,checkbox:yse,checkboxText:bse,expandedContent:vse,expandedActive:wse,expandedTitle:_se,expandedList:Cse,buttonRow:Sse,saveBtn:Ese,cancelBtn:Ase};function Tse({autoGenerate:t=!1}){var k;const{id:e}=Hs(),[n,i]=j.useState(null),[r,s]=j.useState(""),[l,d]=j.useState(!1),[f,p]=j.useState(!1),[b,w]=j.useState(""),[S,E]=j.useState(!1),T=(n==null?void 0:n.art_title)||"",M=(n==null?void 0:n.artist_name)||((k=n==null?void 0:n.artist)==null?void 0:k.artist_name)||"",R=(n==null?void 0:n.art_image)||"https://images.unsplash.com/photo-1570393080660-de4e4a15a247?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OTF8fEFydHxlbnwwfHwwfHx8MA%3D%3D",B=async D=>{var P,z,U;d(!0),w("");try{const X=await at.get(`/api/arts/${D}`),ne=((P=X.data)==null?void 0:P.data)??X.data;if(!ne){w("    ."),i(null),s("");return}i(ne),s((ne==null?void 0:ne.art_docent)||"")}catch(X){w(((U=(z=X.response)==null?void 0:z.data)==null?void 0:U.message)||"     ."),i(null),s("")}finally{d(!1)}};j.useEffect(()=>{e&&B(e)},[e]);const G=async()=>{var D,P,z;if(!e)return alert("  ID .");if(!r.trim())return alert("  .");if(!n)return alert("   .    .");try{p(!0);const U=new FormData;U.append("_method","PATCH"),n.art_title&&U.append("art_title",n.art_title),n.art_description&&U.append("art_description",n.art_description),n.artist_id&&U.append("artist_id",n.artist_id),n.artist_name&&U.append("artist_name",n.artist_name),n.art_material&&U.append("art_material",n.art_material),n.art_size&&U.append("art_size",n.art_size),n.art_year&&U.append("art_year",n.art_year),n.art_price&&U.append("art_price",n.art_price),U.append("art_docent",r),n.art_image&&typeof n.art_image=="string"&&U.append("art_image",n.art_image),n.art_images&&U.append("art_images",n.art_images),n.art_image_mime&&U.append("art_image_mime",n.art_image_mime),n.art_image_name&&U.append("art_image_name",n.art_image_name),n.art_image_size&&U.append("art_image_size",n.art_image_size);const X=await at.post(`/api/arts/${e}`,U,{headers:{"Content-Type":void 0}});alert(((D=X.data)==null?void 0:D.message)||" ."),await B(e)}catch(U){alert(((z=(P=U.response)==null?void 0:P.data)==null?void 0:z.message)||"    .")}finally{p(!1)}},L=()=>s((n==null?void 0:n.art_docent)||"");return e?x.jsx("div",{className:mi.container,children:l?x.jsx("div",{className:mi.guide,children:"   ..."}):x.jsxs(x.Fragment,{children:[x.jsx("img",{src:R,alt:T,className:mi.image}),x.jsxs("div",{className:mi.info,children:[x.jsx("div",{className:mi.productName,children:T}),x.jsx("div",{className:mi.artist,children:M})]}),b&&x.jsx("div",{className:mi.guide,style:{color:"#ef4444"},children:b}),x.jsx("p",{className:mi.guide,children:"    ."}),x.jsx("textarea",{className:mi.textArea,value:r,onChange:D=>s(D.target.value),placeholder:"  .",disabled:l}),x.jsxs("div",{className:mi.checkboxBlock,children:[x.jsxs("label",{className:mi.checkboxLabel,children:[x.jsx("input",{type:"checkbox",checked:S,onChange:D=>E(D.target.checked),className:mi.checkbox}),x.jsx("span",{className:mi.checkboxText,children:"  ."})]}),x.jsxs("div",{className:`${mi.expandedContent} ${S?mi.expandedActive:""}`,children:[x.jsx("p",{className:mi.expandedTitle,children:"  "}),x.jsxs("ul",{className:mi.expandedList,children:[x.jsx("li",{children:"  ,          ."}),x.jsx("li",{children:"       ."}),x.jsx("li",{children:"     ."})]})]})]}),x.jsxs("div",{className:mi.buttonRow,children:[x.jsx("button",{className:mi.saveBtn,onClick:G,disabled:f||!!b||l,children:f?" ...":""}),x.jsx("button",{className:mi.cancelBtn,onClick:L,disabled:f||l,children:""})]})]})}):x.jsx("div",{className:mi.container,children:"  ID ."})}function Nse(){return null}const Ise="_layout_1el1w_1",kse="_header_1el1w_15",Mse="_title_1el1w_41",Ose="_backButton_1el1w_51",Rse="_formContainer_1el1w_69",Dse="_bottomButtonContainer_1el1w_83",Bse="_button_1el1w_105",Lse="_cancelButton_1el1w_125",jse="_saveButton_1el1w_135",Ta={layout:Ise,header:kse,title:Mse,backButton:Ose,formContainer:Rse,bottomButtonContainer:Dse,button:Bse,cancelButton:Lse,saveButton:jse},Pse="_card_choiv_1",Fse="_input_choiv_17",zse="_tagInputField_choiv_19",Hse="_timeInput_choiv_21",Use="_galleryNameInput_choiv_53",$se="_gallerySubNameInput_choiv_69",Vse="_imageUploadBox_choiv_93",Gse="_previewImage_choiv_123",qse="_previewImageDesc_choiv_135",Wse="_imageDelBtn_choiv_143",Xse="_inputGroup_choiv_179",Yse="_label_choiv_193",Kse="_tagInputContainer_choiv_205",Zse="_tagItem_choiv_225",Qse="_removeTagBtn_choiv_245",Jse="_timeInputContainer_choiv_285",eae="_checkboxGroup_choiv_305",tae="_snsCard_choiv_329",nae="_snsInputGroup_choiv_337",iae="_tiptap_choiv_351",rae="_artistSelectRow_choiv_411",sae="_selectButton_choiv_423",aae="_inputDocent_choiv_491",oae="_docent_choiv_503",lae="_textarea_choiv_515",ke={card:Pse,input:Fse,tagInputField:zse,timeInput:Hse,galleryNameInput:Use,gallerySubNameInput:$se,imageUploadBox:Vse,previewImage:Gse,previewImageDesc:qse,imageDelBtn:Wse,inputGroup:Xse,label:Yse,tagInputContainer:Kse,tagItem:Zse,removeTagBtn:Qse,timeInputContainer:Jse,checkboxGroup:eae,snsCard:tae,snsInputGroup:nae,tiptap:iae,artistSelectRow:rae,selectButton:sae,inputDocent:aae,docent:oae,textarea:lae};var Ry={exports:{}},Dy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function cae(){if(mE)return Dy;mE=1;var t=Jc();function e(w,S){return w===S&&(w!==0||1/w===1/S)||w!==w&&S!==S}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function d(w,S){var E=S(),T=i({inst:{value:E,getSnapshot:S}}),M=T[0].inst,R=T[1];return s(function(){M.value=E,M.getSnapshot=S,f(M)&&R({inst:M})},[w,E,S]),r(function(){return f(M)&&R({inst:M}),w(function(){f(M)&&R({inst:M})})},[w]),l(E),E}function f(w){var S=w.getSnapshot;w=w.value;try{var E=S();return!n(w,E)}catch{return!0}}function p(w,S){return S()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return Dy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:b,Dy}var gE;function QN(){return gE||(gE=1,Ry.exports=cae()),Ry.exports}var JN=QN();function Qi(t){this.content=t}Qi.prototype={constructor:Qi,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,r=i.find(t),s=i.content.slice();return r==-1?s.push(n||t,e):(s[r+1]=e,n&&(s[r]=n)),new Qi(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Qi(n)},addToStart:function(t,e){return new Qi([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Qi(n)},addBefore:function(t,e,n){var i=this.remove(e),r=i.content.slice(),s=i.find(t);return r.splice(s==-1?r.length:s,0,e,n),new Qi(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Qi.from(t),t.size?new Qi(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Qi.from(t),t.size?new Qi(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Qi.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Qi.from=function(t){if(t instanceof Qi)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Qi(e)};function e8(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(i),s=e.child(i);if(r==s){n+=r.nodeSize;continue}if(!r.sameMarkup(s))return n;if(r.isText&&r.text!=s.text){for(let l=0;r.text[l]==s.text[l];l++)n++;return n}if(r.content.size||s.content.size){let l=e8(r.content,s.content,n+1);if(l!=null)return l}n+=r.nodeSize}}function t8(t,e,n,i){for(let r=t.childCount,s=e.childCount;;){if(r==0||s==0)return r==s?null:{a:n,b:i};let l=t.child(--r),d=e.child(--s),f=l.nodeSize;if(l==d){n-=f,i-=f;continue}if(!l.sameMarkup(d))return{a:n,b:i};if(l.isText&&l.text!=d.text){let p=0,b=Math.min(l.text.length,d.text.length);for(;p<b&&l.text[l.text.length-p-1]==d.text[d.text.length-p-1];)p++,n--,i--;return{a:n,b:i}}if(l.content.size||d.content.size){let p=t8(l.content,d.content,n-1,i-1);if(p)return p}n-=f,i-=f}}class je{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,r=0,s){for(let l=0,d=0;d<n;l++){let f=this.content[l],p=d+f.nodeSize;if(p>e&&i(f,r+d,s||null,l)!==!1&&f.content.size){let b=d+1;f.nodesBetween(Math.max(0,e-b),Math.min(f.content.size,n-b),i,r+b)}d=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,r){let s="",l=!0;return this.nodesBetween(e,n,(d,f)=>{let p=d.isText?d.text.slice(Math.max(e,f)-f,n-f):d.isLeaf?r?typeof r=="function"?r(d):r:d.type.spec.leafText?d.type.spec.leafText(d):"":"";d.isBlock&&(d.isLeaf&&p||d.isTextblock)&&i&&(l?l=!1:s+=i),s+=p},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,r=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(i)&&(r[r.length-1]=n.withText(n.text+i.text),s=1);s<e.content.length;s++)r.push(e.content[s]);return new je(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],r=0;if(n>e)for(let s=0,l=0;l<n;s++){let d=this.content[s],f=l+d.nodeSize;f>e&&((l<e||f>n)&&(d.isText?d=d.cut(Math.max(0,e-l),Math.min(d.text.length,n-l)):d=d.cut(Math.max(0,e-l-1),Math.min(d.content.size,n-l-1))),i.push(d),r+=d.nodeSize),l=f}return new je(i,r)}cutByIndex(e,n){return e==n?je.empty:e==0&&n==this.content.length?this:new je(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let r=this.content.slice(),s=this.size+n.nodeSize-i.nodeSize;return r[e]=n,new je(r,s)}addToStart(e){return new je([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new je(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let r=this.content[n];e(r,i,n),i+=r.nodeSize}}findDiffStart(e,n=0){return e8(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return t8(this,e,n,i)}findIndex(e){if(e==0)return h1(0,e);if(e==this.size)return h1(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let r=this.child(n),s=i+r.nodeSize;if(s>=e)return s==e?h1(n+1,s):h1(n,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return je.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new je(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return je.empty;let n,i=0;for(let r=0;r<e.length;r++){let s=e[r];i+=s.nodeSize,r&&s.isText&&e[r-1].sameMarkup(s)?(n||(n=e.slice(0,r)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new je(n||e,i)}static from(e){if(!e)return je.empty;if(e instanceof je)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new je([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}je.empty=new je([],0);const By={index:0,offset:0};function h1(t,e){return By.index=t,By.offset=e,By}function lm(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!lm(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!lm(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let kn=class $2{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let r=0;r<e.length;r++){let s=e[r];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,r));else{if(s.type.excludes(this.type))return e;!i&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),i=!0),n&&n.push(s)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&lm(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=i.create(n.attrs);return i.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return $2.none;if(e instanceof $2)return[e];let n=e.slice();return n.sort((i,r)=>i.type.rank-r.type.rank),n}};kn.none=[];class cm extends Error{}class Xe{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=i8(this.content,e+this.openStart,n);return i&&new Xe(i,this.openStart,this.openEnd)}removeBetween(e,n){return new Xe(n8(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Xe.empty;let i=n.openStart||0,r=n.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Xe(je.fromJSON(e,n.content),i,r)}static maxOpen(e,n=!0){let i=0,r=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)i++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)r++;return new Xe(e,i,r)}}Xe.empty=new Xe(je.empty,0,0);function n8(t,e,n){let{index:i,offset:r}=t.findIndex(e),s=t.maybeChild(i),{index:l,offset:d}=t.findIndex(n);if(r==e||s.isText){if(d!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(n8(s.content,e-r-1,n-r-1)))}function i8(t,e,n,i){let{index:r,offset:s}=t.findIndex(e),l=t.maybeChild(r);if(s==e||l.isText)return i&&!i.canReplace(r,r,n)?null:t.cut(0,e).append(n).append(t.cut(e));let d=i8(l.content,e-s-1,n,l);return d&&t.replaceChild(r,l.copy(d))}function uae(t,e,n){if(n.openStart>t.depth)throw new cm("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new cm("Inconsistent open depths");return r8(t,e,n,0)}function r8(t,e,n,i){let r=t.index(i),s=t.node(i);if(r==e.index(i)&&i<t.depth-n.openStart){let l=r8(t,e,n,i+1);return s.copy(s.content.replaceChild(r,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let l=t.parent,d=l.content;return zc(l,d.cut(0,t.parentOffset).append(n.content).append(d.cut(e.parentOffset)))}else{let{start:l,end:d}=dae(n,t);return zc(s,a8(t,l,d,e,i))}else return zc(s,um(t,e,i))}function s8(t,e){if(!e.type.compatibleContent(t.type))throw new cm("Cannot join "+e.type.name+" onto "+t.type.name)}function V2(t,e,n){let i=t.node(n);return s8(i,e.node(n)),i}function Fc(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Yf(t,e,n,i){let r=(e||t).node(n),s=0,l=e?e.index(n):r.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Fc(t.nodeAfter,i),s++));for(let d=s;d<l;d++)Fc(r.child(d),i);e&&e.depth==n&&e.textOffset&&Fc(e.nodeBefore,i)}function zc(t,e){return t.type.checkContent(e),t.copy(e)}function a8(t,e,n,i,r){let s=t.depth>r&&V2(t,e,r+1),l=i.depth>r&&V2(n,i,r+1),d=[];return Yf(null,t,r,d),s&&l&&e.index(r)==n.index(r)?(s8(s,l),Fc(zc(s,a8(t,e,n,i,r+1)),d)):(s&&Fc(zc(s,um(t,e,r+1)),d),Yf(e,n,r,d),l&&Fc(zc(l,um(n,i,r+1)),d)),Yf(i,null,r,d),new je(d)}function um(t,e,n){let i=[];if(Yf(null,t,n,i),t.depth>n){let r=V2(t,e,n+1);Fc(zc(r,um(t,e,n+1)),i)}return Yf(e,null,n,i),new je(i)}function dae(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)r=e.node(s).copy(je.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class uh{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=e.child(n);return i?e.child(n).cut(i):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)r+=i.child(s).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return kn.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),r=e.maybeChild(n);if(!i){let d=i;i=r,r=d}let s=i.marks;for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!r||!s[l].isInSet(r.marks))&&(s=s[l--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,r=e.parent.maybeChild(e.index());for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!r||!i[s].isInSet(r.marks))&&(i=i[s--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new dm(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],r=0,s=n;for(let l=e;;){let{index:d,offset:f}=l.content.findIndex(s),p=s-f;if(i.push(l,d,r+f),!p||(l=l.child(d),l.isText))break;s=p-1,r+=f+1}return new uh(n,i,s)}static resolveCached(e,n){let i=xE.get(e);if(i)for(let s=0;s<i.elts.length;s++){let l=i.elts[s];if(l.pos==n)return l}else xE.set(e,i=new fae);let r=i.elts[i.i]=uh.resolve(e,n);return i.i=(i.i+1)%hae,r}}class fae{constructor(){this.elts=[],this.i=0}}const hae=12,xE=new WeakMap;class dm{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const pae=Object.create(null);class ea{constructor(e,n,i,r=kn.none){this.type=e,this.attrs=n,this.marks=r,this.content=i||je.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,r=0){this.content.nodesBetween(e,n,i,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,r){return this.content.textBetween(e,n,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&lm(this.attrs,n||e.defaultAttrs||pae)&&kn.sameSet(this.marks,i||kn.none)}copy(e=null){return e==this.content?this:new ea(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ea(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return Xe.empty;let r=this.resolve(e),s=this.resolve(n),l=i?0:r.sharedDepth(n),d=r.start(l),p=r.node(l).content.cut(r.pos-d,s.pos-d);return new Xe(p,r.depth-l,s.depth-l)}replace(e,n,i){return uae(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let r=this.content.child(n-1);return{node:r,index:n-1,offset:i-r.nodeSize}}resolve(e){return uh.resolveCached(this,e)}resolveNoCache(e){return uh.resolve(this,e)}rangeHasMark(e,n,i){let r=!1;return n>e&&this.nodesBetween(e,n,s=>(i.isInSet(s.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),o8(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=je.empty,r=0,s=i.childCount){let l=this.contentMatchAt(e).matchFragment(i,r,s),d=l&&l.matchFragment(this.content,n);if(!d||!d.validEnd)return!1;for(let f=r;f<s;f++)if(!this.type.allowsMarks(i.child(f).marks))return!1;return!0}canReplaceWith(e,n,i,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(e).matchType(i),l=s&&s.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=kn.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!kn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let r=je.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,r,i);return s.type.checkAttrs(s.attrs),s}}ea.prototype.text=void 0;class fm extends ea{constructor(e,n,i,r){if(super(e,n,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):o8(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new fm(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new fm(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function o8(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Xc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new mae(e,n);if(i.next==null)return Xc.empty;let r=l8(i);i.next&&i.err("Unexpected trailing text");let s=_ae(wae(r));return Cae(s,i),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let r=this;for(let s=n;r&&s<i;s++)r=r.matchType(e.child(s).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let r=[this];function s(l,d){let f=l.matchFragment(e,i);if(f&&(!n||f.validEnd))return je.from(d.map(p=>p.createAndFill()));for(let p=0;p<l.next.length;p++){let{type:b,next:w}=l.next[p];if(!(b.isText||b.hasRequiredAttrs())&&r.indexOf(w)==-1){r.push(w);let S=s(w,d.concat(b));if(S)return S}}return null}return s(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),s=r.match;if(s.matchType(e)){let l=[];for(let d=r;d.type;d=d.via)l.push(d.type);return l.reverse()}for(let l=0;l<s.next.length;l++){let{type:d,next:f}=s.next[l];!d.isLeaf&&!d.hasRequiredAttrs()&&!(d.name in n)&&(!r.type||f.validEnd)&&(i.push({match:d.contentMatch,type:d,via:r}),n[d.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let r=0;r<i.next.length;r++)e.indexOf(i.next[r].next)==-1&&n(i.next[r].next)}return n(this),e.map((i,r)=>{let s=r+(i.validEnd?"*":" ")+" ";for(let l=0;l<i.next.length;l++)s+=(l?", ":"")+i.next[l].type.name+"->"+e.indexOf(i.next[l].next);return s}).join(`
`)}}Xc.empty=new Xc(!0);class mae{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function l8(t){let e=[];do e.push(gae(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function gae(t){let e=[];do e.push(xae(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function xae(t){let e=vae(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=yae(t,e);else break;return e}function yE(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function yae(t,e){let n=yE(t),i=n;return t.eat(",")&&(t.next!="}"?i=yE(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function bae(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let r=[];for(let s in n){let l=n[s];l.isInGroup(e)&&r.push(l)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function vae(t){if(t.eat("(")){let e=l8(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=bae(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function wae(t){let e=[[]];return r(s(t,0),n()),e;function n(){return e.push([])-1}function i(l,d,f){let p={term:f,to:d};return e[l].push(p),p}function r(l,d){l.forEach(f=>f.to=d)}function s(l,d){if(l.type=="choice")return l.exprs.reduce((f,p)=>f.concat(s(p,d)),[]);if(l.type=="seq")for(let f=0;;f++){let p=s(l.exprs[f],d);if(f==l.exprs.length-1)return p;r(p,d=n())}else if(l.type=="star"){let f=n();return i(d,f),r(s(l.expr,f),f),[i(f)]}else if(l.type=="plus"){let f=n();return r(s(l.expr,d),f),r(s(l.expr,f),f),[i(f)]}else{if(l.type=="opt")return[i(d)].concat(s(l.expr,d));if(l.type=="range"){let f=d;for(let p=0;p<l.min;p++){let b=n();r(s(l.expr,f),b),f=b}if(l.max==-1)r(s(l.expr,f),f);else for(let p=l.min;p<l.max;p++){let b=n();i(f,b),r(s(l.expr,f),b),f=b}return[i(f)]}else{if(l.type=="name")return[i(d,void 0,l.value)];throw new Error("Unknown expr type")}}}}function c8(t,e){return e-t}function bE(t,e){let n=[];return i(e),n.sort(c8);function i(r){let s=t[r];if(s.length==1&&!s[0].term)return i(s[0].to);n.push(r);for(let l=0;l<s.length;l++){let{term:d,to:f}=s[l];!d&&n.indexOf(f)==-1&&i(f)}}}function _ae(t){let e=Object.create(null);return n(bE(t,0));function n(i){let r=[];i.forEach(l=>{t[l].forEach(({term:d,to:f})=>{if(!d)return;let p;for(let b=0;b<r.length;b++)r[b][0]==d&&(p=r[b][1]);bE(t,f).forEach(b=>{p||r.push([d,p=[]]),p.indexOf(b)==-1&&p.push(b)})})});let s=e[i.join(",")]=new Xc(i.indexOf(t.length-1)>-1);for(let l=0;l<r.length;l++){let d=r[l][1].sort(c8);s.next.push({type:r[l][0],next:e[d.join(",")]||n(d)})}return s}}function Cae(t,e){for(let n=0,i=[t];n<i.length;n++){let r=i[n],s=!r.validEnd,l=[];for(let d=0;d<r.next.length;d++){let{type:f,next:p}=r.next[d];l.push(f.name),s&&!(f.isText||f.hasRequiredAttrs())&&(s=!1),i.indexOf(p)==-1&&i.push(p)}s&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function u8(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function d8(t,e){let n=Object.create(null);for(let i in t){let r=e&&e[i];if(r===void 0){let s=t[i];if(s.hasDefault)r=s.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=r}return n}function f8(t,e,n,i){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let s=t[r];s.validate&&s.validate(e[r])}}function h8(t,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new Eae(t,i,e[i]);return n}let vE=class p8{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=h8(e,i.attrs),this.defaultAttrs=u8(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:d8(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ea(this,this.computeAttrs(e),je.from(n),kn.setFrom(i))}createChecked(e=null,n,i){return n=je.from(n),this.checkContent(n),new ea(this,this.computeAttrs(e),n,kn.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=je.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let r=this.contentMatch.matchFragment(n),s=r&&r.fillBefore(je.empty,!0);return s?new ea(this,e,n.append(s),kn.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){f8(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:kn.none:e}static compile(e,n){let i=Object.create(null);e.forEach((s,l)=>i[s]=new p8(s,n,l));let r=n.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let s in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function Sae(t,e,n){let i=n.split("|");return r=>{let s=r===null?"null":typeof r;if(i.indexOf(s)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${s}`)}}class Eae{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?Sae(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class p0{constructor(e,n,i,r){this.name=e,this.rank=n,this.schema=i,this.spec=r,this.attrs=h8(e,r.attrs),this.excluded=null;let s=u8(this.attrs);this.instance=s?new kn(this,s):null}create(e=null){return!e&&this.instance?this.instance:new kn(this,d8(this.attrs,e))}static compile(e,n){let i=Object.create(null),r=0;return e.forEach((s,l)=>i[s]=new p0(s,r++,n,l)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){f8(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class m8{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=Qi.from(e.nodes),n.marks=Qi.from(e.marks||{}),this.nodes=vE.compile(this.spec.nodes,this),this.marks=p0.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],l=s.spec.content||"",d=s.spec.marks;if(s.contentMatch=i[l]||(i[l]=Xc.parse(l,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=d=="_"?null:d?wE(this,d.split(" ")):d==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],l=s.spec.excludes;s.excluded=l==null?[s]:l==""?[]:wE(this,l.split(" "))}this.nodeFromJSON=r=>ea.fromJSON(this,r),this.markFromJSON=r=>kn.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof vE){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,r)}text(e,n){let i=this.nodes.text;return new fm(i,i.defaultAttrs,e,kn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function wE(t,e){let n=[];for(let i=0;i<e.length;i++){let r=e[i],s=t.marks[r],l=s;if(s)n.push(s);else for(let d in t.marks){let f=t.marks[d];(r=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(r)>-1)&&n.push(l=f)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function Aae(t){return t.tag!=null}function Tae(t){return t.style!=null}class jl{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(r=>{if(Aae(r))this.tags.push(r);else if(Tae(r)){let s=/[^=]*/.exec(r.style)[0];i.indexOf(s)<0&&i.push(s),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let i=new CE(this,n,!1);return i.addAll(e,kn.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new CE(this,n,!0);return i.addAll(e,kn.none,n.from,n.to),Xe.maxOpen(i.finish())}matchTag(e,n,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let s=this.tags[r];if(kae(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}matchStyle(e,n,i,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let l=this.styles[s],d=l.style;if(!(d.indexOf(e)!=0||l.context&&!i.matchesContext(l.context)||d.length>e.length&&(d.charCodeAt(e.length)!=61||d.slice(e.length+1)!=n))){if(l.getAttrs){let f=l.getAttrs(n);if(f===!1)continue;l.attrs=f||void 0}return l}}}static schemaRules(e){let n=[];function i(r){let s=r.priority==null?50:r.priority,l=0;for(;l<n.length;l++){let d=n[l];if((d.priority==null?50:d.priority)<s)break}n.splice(l,0,r)}for(let r in e.marks){let s=e.marks[r].spec.parseDOM;s&&s.forEach(l=>{i(l=SE(l)),l.mark||l.ignore||l.clearMark||(l.mark=r)})}for(let r in e.nodes){let s=e.nodes[r].spec.parseDOM;s&&s.forEach(l=>{i(l=SE(l)),l.node||l.ignore||l.mark||(l.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new jl(e,jl.schemaRules(e)))}}const g8={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Nae={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},x8={ol:!0,ul:!0},dh=1,G2=2,M1=4;function _E(t,e,n){return e!=null?(e?dh:0)|(e==="full"?G2:0):t&&t.whitespace=="pre"?dh|G2:n&-5}class p1{constructor(e,n,i,r,s,l){this.type=e,this.attrs=n,this.marks=i,this.solid=r,this.options=l,this.content=[],this.activeMarks=kn.none,this.match=s||(l&M1?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(je.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(e.type))?(this.match=i,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&dh)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let s=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-r[0].length))}}let n=je.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(je.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!g8.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class CE{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let r=n.topNode,s,l=_E(null,n.preserveWhitespace,0)|(i?M1:0);r?s=new p1(r.type,r.attrs,kn.none,!0,n.topMatch||r.type.contentMatch,l):i?s=new p1(null,null,kn.none,!0,null,l):s=new p1(e.schema.topNodeType,null,kn.none,!0,null,l),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,r=this.top,s=r.options&G2?"full":this.localPreserveWS||(r.options&dh)>0;if(s==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(s)s!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let l=r.content[r.content.length-1],d=e.previousSibling;(!l||d&&d.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let r=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),d;x8.hasOwnProperty(l)&&this.parser.normalizeLists&&Iae(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(d=this.parser.matchTag(e,this,i));e:if(f?f.ignore:Nae.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let p,b=this.needsBlock;if(g8.hasOwnProperty(l))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),p=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let w=f&&f.skip?n:this.readStyles(e,n);w&&this.addAll(e,w),p&&this.sync(s),this.needsBlock=b}else{let p=this.readStyles(e,n);p&&this.addElementByRule(e,f,p,f.consuming===!1?d:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let s=this.parser.matchedStyles[r],l=i.getPropertyValue(s);if(l)for(let d=void 0;;){let f=this.parser.matchStyle(s,l,this,d);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(p=>!f.clearMark(p)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)d=f;else break}}return n}addElementByRule(e,n,i,r){let s,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let f=this.enter(l,n.attrs||null,i,n.preserveWhitespace);f&&(s=!0,i=f)}else{let f=this.parser.schema.marks[n.mark];i=i.concat(f.create(n.attrs))}let d=this.top;if(l&&l.isLeaf)this.findInside(e);else if(r)this.addElement(e,i,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,i,!1));else{let f=e;typeof n.contentElement=="string"?f=e.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(e):n.contentElement&&(f=n.contentElement),this.findAround(e,f,!0),this.addAll(f,i),this.findAround(e,f,!1)}s&&this.sync(d)&&this.open--}addAll(e,n,i,r){let s=i||0;for(let l=i?e.childNodes[i]:e.firstChild,d=r==null?null:e.childNodes[r];l!=d;l=l.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(l,n);this.findAtPoint(e,s)}findPlace(e,n,i){let r,s;for(let l=this.open,d=0;l>=0;l--){let f=this.nodes[l],p=f.findWrapping(e);if(p&&(!r||r.length>p.length+d)&&(r=p,s=f,!p.length))break;if(f.solid){if(i)break;d+=2}}if(!r)return null;this.sync(s);for(let l=0;l<r.length;l++)n=this.enterInner(r[l],null,n,!1);return n}insertNode(e,n,i){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let r=this.findPlace(e,n,i);if(r){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let l=kn.none;for(let d of r.concat(e.marks))(s.type?s.type.allowsMarkType(d.type):EE(d.type,e.type))&&(l=d.addToSet(l));return s.content.push(e.mark(l)),!0}return!1}enter(e,n,i,r){let s=this.findPlace(e.create(n),i,!1);return s&&(s=this.enterInner(e,n,i,!0,r)),s}enterInner(e,n,i,r=!1,s){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let d=_E(e,s,l.options);l.options&M1&&l.content.length==0&&(d|=M1);let f=kn.none;return i=i.filter(p=>(l.type?l.type.allowsMarkType(p.type):EE(p.type,e))?(f=p.addToSet(f),!1):!0),this.nodes.push(new p1(e,n,f,r,null,d)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=dh)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let r=i.length-1;r>=0;r--)e+=i[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),s=-(i?i.depth+1:0)+(r?0:1),l=(d,f)=>{for(;d>=0;d--){let p=n[d];if(p==""){if(d==n.length-1||d==0)continue;for(;f>=s;f--)if(l(d-1,f))return!0;return!1}else{let b=f>0||f==0&&r?this.nodes[f].type:i&&f>=s?i.node(f-s).type:null;if(!b||b.name!=p&&!b.isInGroup(p))return!1;f--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function Iae(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&x8.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function kae(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function SE(t){let e={};for(let n in t)e[n]=t[n];return e}function EE(t,e){let n=e.schema.nodes;for(let i in n){let r=n[i];if(!r.allowsMarkType(t))continue;let s=[],l=d=>{s.push(d);for(let f=0;f<d.edgeCount;f++){let{type:p,next:b}=d.edge(f);if(p==e||s.indexOf(b)<0&&l(b))return!0}};if(l(r.contentMatch))return!0}}class ru{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=Ly(n).createDocumentFragment());let r=i,s=[];return e.forEach(l=>{if(s.length||l.marks.length){let d=0,f=0;for(;d<s.length&&f<l.marks.length;){let p=l.marks[f];if(!this.marks[p.type.name]){f++;continue}if(!p.eq(s[d][0])||p.type.spec.spanning===!1)break;d++,f++}for(;d<s.length;)r=s.pop()[1];for(;f<l.marks.length;){let p=l.marks[f++],b=this.serializeMark(p,l.isInline,n);b&&(s.push([p,r]),r.appendChild(b.dom),r=b.contentDOM||b.dom)}}r.appendChild(this.serializeNodeInner(l,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:r}=O1(Ly(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let s=this.serializeMark(e.marks[r],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(i),i=s.dom)}return i}serializeMark(e,n,i={}){let r=this.marks[e.type.name];return r&&O1(Ly(i),r(e,n),null,e.attrs)}static renderSpec(e,n,i=null,r){return O1(e,n,i,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ru(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=AE(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return AE(e.marks)}}function AE(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function Ly(t){return t.document||window.document}const TE=new WeakMap;function Mae(t){let e=TE.get(t);return e===void 0&&TE.set(t,e=Oae(t)),e}function Oae(t){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let r=0;r<i.length;r++)n(i[r]);else for(let r in i)n(i[r])}return n(t),e}function O1(t,e,n,i){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],s;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(s=Mae(i))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=r.indexOf(" ");l>0&&(n=r.slice(0,l),r=r.slice(l+1));let d,f=n?t.createElementNS(n,r):t.createElement(r),p=e[1],b=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){b=2;for(let w in p)if(p[w]!=null){let S=w.indexOf(" ");S>0?f.setAttributeNS(w.slice(0,S),w.slice(S+1),p[w]):w=="style"&&f.style?f.style.cssText=p[w]:f.setAttribute(w,p[w])}}for(let w=b;w<e.length;w++){let S=e[w];if(S===0){if(w<e.length-1||w>b)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:E,contentDOM:T}=O1(t,S,n,i);if(f.appendChild(E),T){if(d)throw new RangeError("Multiple content holes");d=T}}}return{dom:f,contentDOM:d}}const y8=65535,b8=Math.pow(2,16);function Rae(t,e){return t+e*b8}function NE(t){return t&y8}function Dae(t){return(t-(t&y8))/b8}const v8=1,w8=2,R1=4,_8=8;class q2{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&_8)>0}get deletedBefore(){return(this.delInfo&(v8|R1))>0}get deletedAfter(){return(this.delInfo&(w8|R1))>0}get deletedAcross(){return(this.delInfo&R1)>0}}class ps{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ps.empty)return ps.empty}recover(e){let n=0,i=NE(e);if(!this.inverted)for(let r=0;r<i;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+n+Dae(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let r=0,s=this.inverted?2:1,l=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let f=this.ranges[d]-(this.inverted?r:0);if(f>e)break;let p=this.ranges[d+s],b=this.ranges[d+l],w=f+p;if(e<=w){let S=p?e==f?-1:e==w?1:n:n,E=f+r+(S<0?0:b);if(i)return E;let T=e==(n<0?f:w)?null:Rae(d/3,e-f),M=e==f?w8:e==w?v8:R1;return(n<0?e!=f:e!=w)&&(M|=_8),new q2(E,M,T)}r+=b-p}return i?e+r:new q2(e+r,0,null)}touches(e,n){let i=0,r=NE(n),s=this.inverted?2:1,l=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let f=this.ranges[d]-(this.inverted?i:0);if(f>e)break;let p=this.ranges[d+s],b=f+p;if(e<=b&&d==r*3)return!0;i+=this.ranges[d+l]-p}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let l=this.ranges[r],d=l-(this.inverted?s:0),f=l+(this.inverted?0:s),p=this.ranges[r+n],b=this.ranges[r+i];e(d,d+p,f,f+b),s+=b-p}}invert(){return new ps(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ps.empty:new ps(e<0?[0,-e,0]:[0,0,e])}}ps.empty=new ps([]);class fh{constructor(e,n,i=0,r=e?e.length:0){this.mirror=n,this.from=i,this.to=r,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new fh(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,i=this._maps.length;n<e._maps.length;n++){let r=e.getMirror(n);this.appendMap(e._maps[n],r!=null&&r<n?i+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this._maps.length+e._maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e._maps[n].invert(),r!=null&&r>n?i-r-1:void 0)}}invert(){let e=new fh;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let r=0;for(let s=this.from;s<this.to;s++){let l=this._maps[s],d=l.mapResult(e,n);if(d.recover!=null){let f=this.getMirror(s);if(f!=null&&f>s&&f<this.to){s=f,e=this._maps[f].recover(d.recover);continue}}r|=d.delInfo,e=d.pos}return i?e:new q2(e,r,null)}}const jy=Object.create(null);class mr{getMap(){return ps.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=jy[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in jy)throw new RangeError("Duplicate use of step JSON ID "+e);return jy[e]=n,n.prototype.jsonID=e,n}}class _i{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new _i(e,null)}static fail(e){return new _i(null,e)}static fromReplace(e,n,i,r){try{return _i.ok(e.replace(n,i,r))}catch(s){if(s instanceof cm)return _i.fail(s.message);throw s}}}function tv(t,e,n){let i=[];for(let r=0;r<t.childCount;r++){let s=t.child(r);s.content.size&&(s=s.copy(tv(s.content,e,s))),s.isInline&&(s=e(s,n,r)),i.push(s)}return je.fromArray(i)}class Ol extends mr{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),r=i.node(i.sharedDepth(this.to)),s=new Xe(tv(n.content,(l,d)=>!l.isAtom||!d.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),r),n.openStart,n.openEnd);return _i.fromReplace(e,this.from,this.to,s)}invert(){return new Js(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Ol(n.pos,i.pos,this.mark)}merge(e){return e instanceof Ol&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ol(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ol(n.from,n.to,e.markFromJSON(n.mark))}}mr.jsonID("addMark",Ol);class Js extends mr{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new Xe(tv(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return _i.fromReplace(e,this.from,this.to,i)}invert(){return new Ol(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Js(n.pos,i.pos,this.mark)}merge(e){return e instanceof Js&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Js(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Js(n.from,n.to,e.markFromJSON(n.mark))}}mr.jsonID("removeMark",Js);class Rl extends mr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return _i.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return _i.fromReplace(e,this.pos,this.pos+1,new Xe(je.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(i))return new Rl(this.pos,n.marks[r]);return new Rl(this.pos,this.mark)}}return new Yc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Rl(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Rl(n.pos,e.markFromJSON(n.mark))}}mr.jsonID("addNodeMark",Rl);class Yc extends mr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return _i.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return _i.fromReplace(e,this.pos,this.pos+1,new Xe(je.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Rl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Yc(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Yc(n.pos,e.markFromJSON(n.mark))}}mr.jsonID("removeNodeMark",Yc);class Ui extends mr{constructor(e,n,i,r=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=r}apply(e){return this.structure&&W2(e,this.from,this.to)?_i.fail("Structure replace would overwrite content"):_i.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ps([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ui(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new Ui(n.pos,Math.max(n.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ui)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Xe.empty:new Xe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ui(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Xe.empty:new Xe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ui(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ui(n.from,n.to,Xe.fromJSON(e,n.slice),!!n.structure)}}mr.jsonID("replace",Ui);class $i extends mr{constructor(e,n,i,r,s,l,d=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=r,this.slice=s,this.insert=l,this.structure=d}apply(e){if(this.structure&&(W2(e,this.from,this.gapFrom)||W2(e,this.gapTo,this.to)))return _i.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return _i.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?_i.fromReplace(e,this.from,this.to,i):_i.fail("Content does not fit in gap")}getMap(){return new ps([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new $i(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||r<n.pos||s>i.pos?null:new $i(n.pos,i.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new $i(n.from,n.to,n.gapFrom,n.gapTo,Xe.fromJSON(e,n.slice),n.insert,!!n.structure)}}mr.jsonID("replaceAround",$i);function W2(t,e,n){let i=t.resolve(e),r=n-e,s=i.depth;for(;r>0&&s>0&&i.indexAfter(s)==i.node(s).childCount;)s--,r--;if(r>0){let l=i.node(s).maybeChild(i.indexAfter(s));for(;r>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,r--}}return!1}function Bae(t,e,n,i){let r=[],s=[],l,d;t.doc.nodesBetween(e,n,(f,p,b)=>{if(!f.isInline)return;let w=f.marks;if(!i.isInSet(w)&&b.type.allowsMarkType(i.type)){let S=Math.max(p,e),E=Math.min(p+f.nodeSize,n),T=i.addToSet(w);for(let M=0;M<w.length;M++)w[M].isInSet(T)||(l&&l.to==S&&l.mark.eq(w[M])?l.to=E:r.push(l=new Js(S,E,w[M])));d&&d.to==S?d.to=E:s.push(d=new Ol(S,E,i))}}),r.forEach(f=>t.step(f)),s.forEach(f=>t.step(f))}function Lae(t,e,n,i){let r=[],s=0;t.doc.nodesBetween(e,n,(l,d)=>{if(!l.isInline)return;s++;let f=null;if(i instanceof p0){let p=l.marks,b;for(;b=i.isInSet(p);)(f||(f=[])).push(b),p=b.removeFromSet(p)}else i?i.isInSet(l.marks)&&(f=[i]):f=l.marks;if(f&&f.length){let p=Math.min(d+l.nodeSize,n);for(let b=0;b<f.length;b++){let w=f[b],S;for(let E=0;E<r.length;E++){let T=r[E];T.step==s-1&&w.eq(r[E].style)&&(S=T)}S?(S.to=p,S.step=s):r.push({style:w,from:Math.max(d,e),to:p,step:s})}}}),r.forEach(l=>t.step(new Js(l.from,l.to,l.style)))}function nv(t,e,n,i=n.contentMatch,r=!0){let s=t.doc.nodeAt(e),l=[],d=e+1;for(let f=0;f<s.childCount;f++){let p=s.child(f),b=d+p.nodeSize,w=i.matchType(p.type);if(!w)l.push(new Ui(d,b,Xe.empty));else{i=w;for(let S=0;S<p.marks.length;S++)n.allowsMarkType(p.marks[S].type)||t.step(new Js(d,b,p.marks[S]));if(r&&p.isText&&n.whitespace!="pre"){let S,E=/\r?\n|\r/g,T;for(;S=E.exec(p.text);)T||(T=new Xe(je.from(n.schema.text(" ",n.allowedMarks(p.marks))),0,0)),l.push(new Ui(d+S.index,d+S.index+S[0].length,T))}}d=b}if(!i.validEnd){let f=i.fillBefore(je.empty,!0);t.replace(d,d,new Xe(f,0,0))}for(let f=l.length-1;f>=0;f--)t.step(l[f])}function jae(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function kd(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth;;--i){let r=t.$from.node(i),s=t.$from.index(i),l=t.$to.indexAfter(i);if(i<t.depth&&r.canReplace(s,l,n))return i;if(i==0||r.type.spec.isolating||!jae(r,s,l))break}return null}function Pae(t,e,n){let{$from:i,$to:r,depth:s}=e,l=i.before(s+1),d=r.after(s+1),f=l,p=d,b=je.empty,w=0;for(let T=s,M=!1;T>n;T--)M||i.index(T)>0?(M=!0,b=je.from(i.node(T).copy(b)),w++):f--;let S=je.empty,E=0;for(let T=s,M=!1;T>n;T--)M||r.after(T+1)<r.end(T)?(M=!0,S=je.from(r.node(T).copy(S)),E++):p++;t.step(new $i(f,p,l,d,new Xe(b.append(S),w,E),b.size-w,!0))}function iv(t,e,n=null,i=t){let r=Fae(t,e),s=r&&zae(i,e);return s?r.map(IE).concat({type:e,attrs:n}).concat(s.map(IE)):null}function IE(t){return{type:t,attrs:null}}function Fae(t,e){let{parent:n,startIndex:i,endIndex:r}=t,s=n.contentMatchAt(i).findWrapping(e);if(!s)return null;let l=s.length?s[0]:e;return n.canReplaceWith(i,r,l)?s:null}function zae(t,e){let{parent:n,startIndex:i,endIndex:r}=t,s=n.child(i),l=e.contentMatch.findWrapping(s.type);if(!l)return null;let f=(l.length?l[l.length-1]:e).contentMatch;for(let p=i;f&&p<r;p++)f=f.matchType(n.child(p).type);return!f||!f.validEnd?null:l}function Hae(t,e,n){let i=je.empty;for(let l=n.length-1;l>=0;l--){if(i.size){let d=n[l].type.contentMatch.matchFragment(i);if(!d||!d.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=je.from(n[l].type.create(n[l].attrs,i))}let r=e.start,s=e.end;t.step(new $i(r,s,r,s,new Xe(i,0,0),n.length,!0))}function Uae(t,e,n,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(l,d)=>{let f=typeof r=="function"?r(l):r;if(l.isTextblock&&!l.hasMarkup(i,f)&&$ae(t.doc,t.mapping.slice(s).map(d),i)){let p=null;if(i.schema.linebreakReplacement){let E=i.whitespace=="pre",T=!!i.contentMatch.matchType(i.schema.linebreakReplacement);E&&!T?p=!1:!E&&T&&(p=!0)}p===!1&&S8(t,l,d,s),nv(t,t.mapping.slice(s).map(d,1),i,void 0,p===null);let b=t.mapping.slice(s),w=b.map(d,1),S=b.map(d+l.nodeSize,1);return t.step(new $i(w,S,w+1,S-1,new Xe(je.from(i.create(f,null,l.marks)),0,0),1,!0)),p===!0&&C8(t,l,d,s),!1}})}function C8(t,e,n,i){e.forEach((r,s)=>{if(r.isText){let l,d=/\r?\n|\r/g;for(;l=d.exec(r.text);){let f=t.mapping.slice(i).map(n+1+s+l.index);t.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function S8(t,e,n,i){e.forEach((r,s)=>{if(r.type==r.type.schema.linebreakReplacement){let l=t.mapping.slice(i).map(n+1+s);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function $ae(t,e,n){let i=t.resolve(e),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}function Vae(t,e,n,i,r){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let l=n.create(i,null,r||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,l);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new $i(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Xe(je.from(l),0,0),1,!0))}function Oo(t,e,n=1,i){let r=t.resolve(e),s=r.depth-n,l=i&&i[i.length-1]||r.parent;if(s<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!l.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let p=r.depth-1,b=n-2;p>s;p--,b--){let w=r.node(p),S=r.index(p);if(w.type.spec.isolating)return!1;let E=w.content.cutByIndex(S,w.childCount),T=i&&i[b+1];T&&(E=E.replaceChild(0,T.type.create(T.attrs)));let M=i&&i[b]||w;if(!w.canReplace(S+1,w.childCount)||!M.type.validContent(E))return!1}let d=r.indexAfter(s),f=i&&i[0];return r.node(s).canReplaceWith(d,d,f?f.type:r.node(s+1).type)}function Gae(t,e,n=1,i){let r=t.doc.resolve(e),s=je.empty,l=je.empty;for(let d=r.depth,f=r.depth-n,p=n-1;d>f;d--,p--){s=je.from(r.node(d).copy(s));let b=i&&i[p];l=je.from(b?b.type.create(b.attrs,l):r.node(d).copy(l))}t.step(new Ui(e,e,new Xe(s.append(l),n,n),!0))}function Kl(t,e){let n=t.resolve(e),i=n.index();return E8(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function qae(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let r=0;r<e.childCount;r++){let s=e.child(r),l=s.type==i?t.type.schema.nodes.text:s.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function E8(t,e){return!!(t&&e&&!t.isLeaf&&qae(t,e))}function m0(t,e,n=-1){let i=t.resolve(e);for(let r=i.depth;;r--){let s,l,d=i.index(r);if(r==i.depth?(s=i.nodeBefore,l=i.nodeAfter):n>0?(s=i.node(r+1),d++,l=i.node(r).maybeChild(d)):(s=i.node(r).maybeChild(d-1),l=i.node(r+1)),s&&!s.isTextblock&&E8(s,l)&&i.node(r).canReplace(d,d+1))return e;if(r==0)break;e=n<0?i.before(r):i.after(r)}}function Wae(t,e,n){let i=null,{linebreakReplacement:r}=t.doc.type.schema,s=t.doc.resolve(e-n),l=s.node().type;if(r&&l.inlineContent){let b=l.whitespace=="pre",w=!!l.contentMatch.matchType(r);b&&!w?i=!1:!b&&w&&(i=!0)}let d=t.steps.length;if(i===!1){let b=t.doc.resolve(e+n);S8(t,b.node(),b.before(),d)}l.inlineContent&&nv(t,e+n-1,l,s.node().contentMatchAt(s.index()),i==null);let f=t.mapping.slice(d),p=f.map(e-n);if(t.step(new Ui(p,f.map(e+n,-1),Xe.empty,!0)),i===!0){let b=t.doc.resolve(p);C8(t,b.node(),b.before(),t.steps.length)}return t}function Xae(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let s=i.index(r);if(i.node(r).canReplaceWith(s,s,n))return i.before(r+1);if(s>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let s=i.indexAfter(r);if(i.node(r).canReplaceWith(s,s,n))return i.after(r+1);if(s<i.node(r).childCount)return null}return null}function A8(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let s=0;s<n.openStart;s++)r=r.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let l=i.depth;l>=0;l--){let d=l==i.depth?0:i.pos<=(i.start(l+1)+i.end(l+1))/2?-1:1,f=i.index(l)+(d>0?1:0),p=i.node(l),b=!1;if(s==1)b=p.canReplace(f,f,r);else{let w=p.contentMatchAt(f).findWrapping(r.firstChild.type);b=w&&p.canReplaceWith(f,f,w[0])}if(b)return d==0?i.pos:d<0?i.before(l+1):i.after(l+1)}return null}function g0(t,e,n=e,i=Xe.empty){if(e==n&&!i.size)return null;let r=t.resolve(e),s=t.resolve(n);return T8(r,s,i)?new Ui(e,n,i):new Yae(r,s,i).fit()}function T8(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Yae{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=je.empty;for(let r=0;r<=e.depth;r++){let s=e.node(r);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=je.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(e<0?this.$to:i.doc.resolve(e));if(!r)return null;let s=this.placed,l=i.depth,d=r.depth;for(;l&&d&&s.childCount==1;)s=s.firstChild.content,l--,d--;let f=new Xe(s,l,d);return e>-1?new $i(i.pos,e,this.$to.pos,this.$to.end(),f,n):f.size||i.pos!=this.$to.pos?new Ui(i.pos,r.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<e;i++){let s=n.firstChild;if(n.childCount>1&&(r=0),s.type.spec.isolating&&r<=i){e=i;break}n=s.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let r,s=null;i?(s=Py(this.unplaced.content,i-1).firstChild,r=s.content):r=this.unplaced.content;let l=r.firstChild;for(let d=this.depth;d>=0;d--){let{type:f,match:p}=this.frontier[d],b,w=null;if(n==1&&(l?p.matchType(l.type)||(w=p.fillBefore(je.from(l),!1)):s&&f.compatibleContent(s.type)))return{sliceDepth:i,frontierDepth:d,parent:s,inject:w};if(n==2&&l&&(b=p.findWrapping(l.type)))return{sliceDepth:i,frontierDepth:d,parent:s,wrap:b};if(s&&p.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=Py(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new Xe(e,n+1,Math.max(i,r.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=Py(e,n);if(r.childCount<=1&&n>0){let s=e.size-n<=n+r.size;this.unplaced=new Xe(Vf(e,n-1,1),n-1,s?n-1:i)}else this.unplaced=new Xe(Vf(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:r,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let M=0;M<s.length;M++)this.openFrontierNode(s[M]);let l=this.unplaced,d=i?i.content:l.content,f=l.openStart-e,p=0,b=[],{match:w,type:S}=this.frontier[n];if(r){for(let M=0;M<r.childCount;M++)b.push(r.child(M));w=w.matchFragment(r)}let E=d.size+e-(l.content.size-l.openEnd);for(;p<d.childCount;){let M=d.child(p),R=w.matchType(M.type);if(!R)break;p++,(p>1||f==0||M.content.size)&&(w=R,b.push(N8(M.mark(S.allowedMarks(M.marks)),p==1?f:0,p==d.childCount?E:-1)))}let T=p==d.childCount;T||(E=-1),this.placed=Gf(this.placed,n,je.from(b)),this.frontier[n].match=w,T&&E<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let M=0,R=d;M<E;M++){let B=R.lastChild;this.frontier.push({type:B.type,match:B.contentMatchAt(B.childCount)}),R=B.content}this.unplaced=T?e==0?Xe.empty:new Xe(Vf(l.content,e-1,1),e-1,E<0?l.openEnd:e-1):new Xe(Vf(l.content,e,p),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Fy(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:r}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=Fy(e,n,r,i,s);if(l){for(let d=n-1;d>=0;d--){let{match:f,type:p}=this.frontier[d],b=Fy(e,d,p,f,!0);if(!b||b.childCount)continue e}return{depth:n,fit:l,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Gf(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let r=e.node(i),s=r.type.contentMatch.fillBefore(r.content,!0,e.index(i));this.openFrontierNode(r.type,r.attrs,s)}return e}openFrontierNode(e,n=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Gf(this.placed,this.depth,je.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(je.empty,!0);n.childCount&&(this.placed=Gf(this.placed,this.frontier.length,n))}}function Vf(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Vf(t.firstChild.content,e-1,n)))}function Gf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Gf(t.lastChild.content,e-1,n)))}function Py(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function N8(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,N8(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(je.empty,!0)))),t.copy(i)}function Fy(t,e,n,i,r){let s=t.node(e),l=r?t.indexAfter(e):t.index(e);if(l==s.childCount&&!n.compatibleContent(s.type))return null;let d=i.fillBefore(s.content,!0,l);return d&&!Kae(n,s.content,l)?d:null}function Kae(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function Zae(t){return t.spec.defining||t.spec.definingForContent}function Qae(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),s=t.doc.resolve(n);if(T8(r,s,i))return t.step(new Ui(e,n,i));let l=k8(r,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let d=-(r.depth+1);l.unshift(d);for(let S=r.depth,E=r.pos-1;S>0;S--,E--){let T=r.node(S).type.spec;if(T.defining||T.definingAsContext||T.isolating)break;l.indexOf(S)>-1?d=S:r.before(S)==E&&l.splice(1,0,-S)}let f=l.indexOf(d),p=[],b=i.openStart;for(let S=i.content,E=0;;E++){let T=S.firstChild;if(p.push(T),E==i.openStart)break;S=T.content}for(let S=b-1;S>=0;S--){let E=p[S],T=Zae(E.type);if(T&&!E.sameMarkup(r.node(Math.abs(d)-1)))b=S;else if(T||!E.type.isTextblock)break}for(let S=i.openStart;S>=0;S--){let E=(S+b+1)%(i.openStart+1),T=p[E];if(T)for(let M=0;M<l.length;M++){let R=l[(M+f)%l.length],B=!0;R<0&&(B=!1,R=-R);let G=r.node(R-1),L=r.index(R-1);if(G.canReplaceWith(L,L,T.type,T.marks))return t.replace(r.before(R),B?s.after(R):n,new Xe(I8(i.content,0,i.openStart,E),E,i.openEnd))}}let w=t.steps.length;for(let S=l.length-1;S>=0&&(t.replace(e,n,i),!(t.steps.length>w));S--){let E=l[S];E<0||(e=r.before(E),n=s.after(E))}}function I8(t,e,n,i,r){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(I8(s.content,e+1,n,i,s)))}if(e>i){let s=r.contentMatchAt(0),l=s.fillBefore(t).append(t);t=l.append(s.matchFragment(l).fillBefore(je.empty,!0))}return t}function Jae(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=Xae(t.doc,e,i.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new Xe(je.from(i),0,0))}function eoe(t,e,n){let i=t.doc.resolve(e),r=t.doc.resolve(n),s=k8(i,r);for(let l=0;l<s.length;l++){let d=s[l],f=l==s.length-1;if(f&&d==0||i.node(d).type.contentMatch.validEnd)return t.delete(i.start(d),r.end(d));if(d>0&&(f||i.node(d-1).canReplace(i.index(d-1),r.indexAfter(d-1))))return t.delete(i.before(d),r.after(d))}for(let l=1;l<=i.depth&&l<=r.depth;l++)if(e-i.start(l)==i.depth-l&&n>i.end(l)&&r.end(l)-n!=r.depth-l&&i.start(l-1)==r.start(l-1)&&i.node(l-1).canReplace(i.index(l-1),r.index(l-1)))return t.delete(i.before(l),n);t.delete(e,n)}function k8(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let r=i;r>=0;r--){let s=t.start(r);if(s<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(s==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==s-1)&&n.push(r)}return n}class pd extends mr{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return _i.fail("No node at attribute step's position");let i=Object.create(null);for(let s in n.attrs)i[s]=n.attrs[s];i[this.attr]=this.value;let r=n.type.create(i,null,n.marks);return _i.fromReplace(e,this.pos,this.pos+1,new Xe(je.from(r),0,n.isLeaf?0:1))}getMap(){return ps.empty}invert(e){return new pd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new pd(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new pd(n.pos,n.attr,n.value)}}mr.jsonID("attr",pd);class hh extends mr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return _i.ok(i)}getMap(){return ps.empty}invert(e){return new hh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new hh(n.attr,n.value)}}mr.jsonID("docAttr",hh);let yd=class extends Error{};yd=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};yd.prototype=Object.create(Error.prototype);yd.prototype.constructor=yd;yd.prototype.name="TransformError";class M8{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new fh}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new yd(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=Xe.empty){let r=g0(this.doc,e,n,i);return r&&this.step(r),this}replaceWith(e,n,i){return this.replace(e,n,new Xe(je.from(i),0,0))}delete(e,n){return this.replace(e,n,Xe.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return Qae(this,e,n,i),this}replaceRangeWith(e,n,i){return Jae(this,e,n,i),this}deleteRange(e,n){return eoe(this,e,n),this}lift(e,n){return Pae(this,e,n),this}join(e,n=1){return Wae(this,e,n),this}wrap(e,n){return Hae(this,e,n),this}setBlockType(e,n=e,i,r=null){return Uae(this,e,n,i,r),this}setNodeMarkup(e,n,i=null,r){return Vae(this,e,n,i,r),this}setNodeAttribute(e,n,i){return this.step(new pd(e,n,i)),this}setDocAttribute(e,n){return this.step(new hh(e,n)),this}addNodeMark(e,n){return this.step(new Rl(e,n)),this}removeNodeMark(e,n){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n instanceof kn)n.isInSet(i.marks)&&this.step(new Yc(e,n));else{let r=i.marks,s,l=[];for(;s=n.isInSet(r);)l.push(new Yc(e,s)),r=s.removeFromSet(r);for(let d=l.length-1;d>=0;d--)this.step(l[d])}return this}split(e,n=1,i){return Gae(this,e,n,i),this}addMark(e,n,i){return Bae(this,e,n,i),this}removeMark(e,n,i){return Lae(this,e,n,i),this}clearIncompatible(e,n,i){return nv(this,e,n,i),this}}const zy=Object.create(null);class Bt{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new toe(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Xe.empty){let i=n.content.lastChild,r=null;for(let d=0;d<n.openEnd;d++)r=i,i=i.lastChild;let s=e.steps.length,l=this.ranges;for(let d=0;d<l.length;d++){let{$from:f,$to:p}=l[d],b=e.mapping.slice(s);e.replaceRange(b.map(f.pos),b.map(p.pos),d?Xe.empty:n),d==0&&OE(e,s,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:l,$to:d}=r[s],f=e.mapping.slice(i),p=f.map(l.pos),b=f.map(d.pos);s?e.deleteRange(p,b):(e.replaceRangeWith(p,b,n),OE(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let r=e.parent.inlineContent?new wt(e):rd(e.node(0),e.parent,e.pos,e.index(),n,i);if(r)return r;for(let s=e.depth-1;s>=0;s--){let l=n<0?rd(e.node(0),e.node(s),e.before(s+1),e.index(s),n,i):rd(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,i);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new gs(e.node(0))}static atStart(e){return rd(e,e,0,0,1)||new gs(e)}static atEnd(e){return rd(e,e,e.content.size,e.childCount,-1)||new gs(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=zy[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in zy)throw new RangeError("Duplicate use of selection JSON ID "+e);return zy[e]=n,n.prototype.jsonID=e,n}getBookmark(){return wt.between(this.$anchor,this.$head).getBookmark()}}Bt.prototype.visible=!0;class toe{constructor(e,n){this.$from=e,this.$to=n}}let kE=!1;function ME(t){!kE&&!t.parent.inlineContent&&(kE=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class wt extends Bt{constructor(e,n=e){ME(e),ME(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return Bt.near(i);let r=e.resolve(n.map(this.anchor));return new wt(r.parent.inlineContent?r:i,i)}replace(e,n=Xe.empty){if(super.replace(e,n),n==Xe.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof wt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new x0(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new wt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let r=e.resolve(n);return new this(r,i==n?r:e.resolve(i))}static between(e,n,i){let r=e.pos-n.pos;if((!i||r)&&(i=r>=0?1:-1),!n.parent.inlineContent){let s=Bt.findFrom(n,i,!0)||Bt.findFrom(n,-i,!0);if(s)n=s.$head;else return Bt.near(n,i)}return e.parent.inlineContent||(r==0?e=n:(e=(Bt.findFrom(e,-i,!0)||Bt.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new wt(e,n)}}Bt.jsonID("text",wt);class x0{constructor(e,n){this.anchor=e,this.head=n}map(e){return new x0(e.map(this.anchor),e.map(this.head))}resolve(e){return wt.between(e.resolve(this.anchor),e.resolve(this.head))}}class pt extends Bt{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:r}=n.mapResult(this.anchor),s=e.resolve(r);return i?Bt.near(s):new pt(s)}content(){return new Xe(je.from(this.node),0,0)}eq(e){return e instanceof pt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new rv(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pt(e.resolve(n.anchor))}static create(e,n){return new pt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}pt.prototype.visible=!1;Bt.jsonID("node",pt);class rv{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new x0(i,i):new rv(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&pt.isSelectable(i)?new pt(n):Bt.near(n)}}class gs extends Bt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Xe.empty){if(n==Xe.empty){e.delete(0,e.doc.content.size);let i=Bt.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new gs(e)}map(e){return new gs(e)}eq(e){return e instanceof gs}getBookmark(){return noe}}Bt.jsonID("all",gs);const noe={map(){return this},resolve(t){return new gs(t)}};function rd(t,e,n,i,r,s=!1){if(e.inlineContent)return wt.create(t,n);for(let l=i-(r>0?0:1);r>0?l<e.childCount:l>=0;l+=r){let d=e.child(l);if(d.isAtom){if(!s&&pt.isSelectable(d))return pt.create(t,n-(r<0?d.nodeSize:0))}else{let f=rd(t,d,n+r,r<0?d.childCount:0,r,s);if(f)return f}n+=d.nodeSize*r}return null}function OE(t,e,n){let i=t.steps.length-1;if(i<e)return;let r=t.steps[i];if(!(r instanceof Ui||r instanceof $i))return;let s=t.mapping.maps[i],l;s.forEach((d,f,p,b)=>{l==null&&(l=b)}),t.setSelection(Bt.near(t.doc.resolve(l),n))}const RE=1,DE=2,BE=4;class ioe extends M8{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|RE)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&RE)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=DE,this}ensureMarks(e){return kn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&DE)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||kn.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!e)return this.deleteRange(n,i);let s=this.storedMarks;if(!s){let l=this.doc.resolve(n);s=i==n?l.marks():l.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,r.text(e,s)),this.selection.empty||this.setSelection(Bt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=BE,this}get scrolledIntoView(){return(this.updated&BE)>0}}function LE(t,e){return!e||!t?t:t.bind(e)}class qf{constructor(e,n,i){this.name=e,this.init=LE(n.init,i),this.apply=LE(n.apply,i)}}const roe=[new qf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new qf("selection",{init(t,e){return t.selection||Bt.atStart(e.doc)},apply(t){return t.selection}}),new qf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new qf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Hy{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=roe.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new qf(i.key,i.spec.state,i))})}}class ud{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),r=null;for(;;){let s=!1;for(let l=0;l<this.config.plugins.length;l++){let d=this.config.plugins[l];if(d.spec.appendTransaction){let f=r?r[l].n:0,p=r?r[l].state:this,b=f<n.length&&d.spec.appendTransaction.call(d,f?n.slice(f):n,p,i);if(b&&i.filterTransaction(b,l)){if(b.setMeta("appendedTransaction",e),!r){r=[];for(let w=0;w<this.config.plugins.length;w++)r.push(w<l?{state:i,n:n.length}:{state:this,n:0})}n.push(b),i=i.applyInner(b),s=!0}r&&(r[l]={state:i,n:n.length})}}if(!s)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ud(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let s=i[r];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new ioe(this)}static create(e){let n=new Hy(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new ud(n);for(let r=0;r<n.fields.length;r++)i[n.fields[r].name]=n.fields[r].init(e,i);return i}reconfigure(e){let n=new Hy(this.schema,e.plugins),i=n.fields,r=new ud(n);for(let s=0;s<i.length;s++){let l=i[s].name;r[l]=this.hasOwnProperty(l)?this[l]:i[s].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[i],s=r.spec.state;s&&s.toJSON&&(n[i]=s.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Hy(e.schema,e.plugins),s=new ud(r);return r.fields.forEach(l=>{if(l.name=="doc")s.doc=ea.fromJSON(e.schema,n.doc);else if(l.name=="selection")s.selection=Bt.fromJSON(s.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let d in i){let f=i[d],p=f.spec.state;if(f.key==l.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(n,d)){s[l.name]=p.fromJSON.call(f,e,n[d],s);return}}s[l.name]=l.init(e,s)}}),s}}function O8(t,e,n){for(let i in t){let r=t[i];r instanceof Function?r=r.bind(e):i=="handleDOMEvents"&&(r=O8(r,e,{})),n[i]=r}return n}class ai{constructor(e){this.spec=e,this.props={},e.props&&O8(e.props,this,this.props),this.key=e.key?e.key.key:R8("plugin")}getState(e){return e[this.key]}}const Uy=Object.create(null);function R8(t){return t in Uy?t+"$"+ ++Uy[t]:(Uy[t]=0,t+"$")}class Gi{constructor(e="key"){this.key=R8(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ji=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},bd=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let X2=null;const No=function(t,e,n){let i=X2||(X2=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},soe=function(){X2=null},Kc=function(t,e,n,i){return n&&(jE(t,e,n,i,-1)||jE(t,e,n,i,1))},aoe=/^(img|br|input|textarea|hr)$/i;function jE(t,e,n,i,r){for(var s;;){if(t==n&&e==i)return!0;if(e==(r<0?0:Ls(t))){let l=t.parentNode;if(!l||l.nodeType!=1||Dh(t)||aoe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ji(t)+(r<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(r<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((s=l.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=r;else return!1;else t=l,e=r<0?Ls(t):0}else return!1}}function Ls(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ooe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ls(t)}else if(t.parentNode&&!Dh(t))e=Ji(t),t=t.parentNode;else return null}}function loe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Dh(t))e=Ji(t)+1,t=t.parentNode;else return null}}function coe(t,e,n){for(let i=e==0,r=e==Ls(t);i||r;){if(t==n)return!0;let s=Ji(t);if(t=t.parentNode,!t)return!1;i=i&&s==0,r=r&&s==Ls(t)}}function Dh(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const y0=function(t){return t.focusNode&&Kc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function kc(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function uoe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function doe(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(Ls(i.offsetNode),i.offset)}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(Ls(i.startContainer),i.startOffset)}}}const ja=typeof navigator<"u"?navigator:null,PE=typeof document<"u"?document:null,Zl=ja&&ja.userAgent||"",Y2=/Edge\/(\d+)/.exec(Zl),D8=/MSIE \d/.exec(Zl),K2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Zl),qr=!!(D8||K2||Y2),Pl=D8?document.documentMode:K2?+K2[1]:Y2?+Y2[1]:0,js=!qr&&/gecko\/(\d+)/i.test(Zl);js&&+(/Firefox\/(\d+)/.exec(Zl)||[0,0])[1];const Z2=!qr&&/Chrome\/(\d+)/.exec(Zl),hr=!!Z2,B8=Z2?+Z2[1]:0,Nr=!qr&&!!ja&&/Apple Computer/.test(ja.vendor),vd=Nr&&(/Mobile\/\w+/.test(Zl)||!!ja&&ja.maxTouchPoints>2),Bs=vd||(ja?/Mac/.test(ja.platform):!1),foe=ja?/Win/.test(ja.platform):!1,ko=/Android \d/.test(Zl),Bh=!!PE&&"webkitFontSmoothing"in PE.documentElement.style,hoe=Bh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function poe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function wo(t,e){return typeof t=="number"?t:t[e]}function moe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function FE(t,e,n){let i=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=bd(l);continue}let d=l,f=d==s.body,p=f?poe(s):moe(d),b=0,w=0;if(e.top<p.top+wo(i,"top")?w=-(p.top-e.top+wo(r,"top")):e.bottom>p.bottom-wo(i,"bottom")&&(w=e.bottom-e.top>p.bottom-p.top?e.top+wo(r,"top")-p.top:e.bottom-p.bottom+wo(r,"bottom")),e.left<p.left+wo(i,"left")?b=-(p.left-e.left+wo(r,"left")):e.right>p.right-wo(i,"right")&&(b=e.right-p.right+wo(r,"right")),b||w)if(f)s.defaultView.scrollBy(b,w);else{let E=d.scrollLeft,T=d.scrollTop;w&&(d.scrollTop+=w),b&&(d.scrollLeft+=b);let M=d.scrollLeft-E,R=d.scrollTop-T;e={left:e.left-M,top:e.top-R,right:e.right-M,bottom:e.bottom-R}}let S=f?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(S))break;l=S=="absolute"?l.offsetParent:bd(l)}}function goe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,r;for(let s=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let d=t.root.elementFromPoint(s,l);if(!d||d==t.dom||!t.dom.contains(d))continue;let f=d.getBoundingClientRect();if(f.top>=n-20){i=d,r=f.top;break}}return{refDOM:i,refTop:r,stack:L8(t.dom)}}function L8(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=bd(i));return e}function xoe({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;j8(n,i==0?0:i-e)}function j8(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:r,left:s}=t[n];i.scrollTop!=r+e&&(i.scrollTop=r+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}let td=null;function yoe(t){if(t.setActive)return t.setActive();if(td)return t.focus(td);let e=L8(t);t.focus(td==null?{get preventScroll(){return td={preventScroll:!0},!0}}:void 0),td||(td=!1,j8(e,0))}function P8(t,e){let n,i=2e8,r,s=0,l=e.top,d=e.top,f,p;for(let b=t.firstChild,w=0;b;b=b.nextSibling,w++){let S;if(b.nodeType==1)S=b.getClientRects();else if(b.nodeType==3)S=No(b).getClientRects();else continue;for(let E=0;E<S.length;E++){let T=S[E];if(T.top<=l&&T.bottom>=d){l=Math.max(T.bottom,l),d=Math.min(T.top,d);let M=T.left>e.left?T.left-e.left:T.right<e.left?e.left-T.right:0;if(M<i){n=b,i=M,r=M&&n.nodeType==3?{left:T.right<e.left?T.right:T.left,top:e.top}:e,b.nodeType==1&&M&&(s=w+(e.left>=(T.left+T.right)/2?1:0));continue}}else T.top>e.top&&!f&&T.left<=e.left&&T.right>=e.left&&(f=b,p={left:Math.max(T.left,Math.min(T.right,e.left)),top:T.top});!n&&(e.left>=T.right&&e.top>=T.top||e.left>=T.left&&e.top>=T.bottom)&&(s=w+1)}}return!n&&f&&(n=f,r=p,i=0),n&&n.nodeType==3?boe(n,r):!n||i&&n.nodeType==1?{node:t,offset:s}:P8(n,r)}function boe(t,e){let n=t.nodeValue.length,i=document.createRange();for(let r=0;r<n;r++){i.setEnd(t,r+1),i.setStart(t,r);let s=Cl(i,1);if(s.top!=s.bottom&&sv(e,s))return{node:t,offset:r+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function sv(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function voe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function woe(t,e,n){let{node:i,offset:r}=P8(e,n),s=-1;if(i.nodeType==1&&!i.firstChild){let l=i.getBoundingClientRect();s=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(i,r,s)}function _oe(t,e,n,i){let r=-1;for(let s=e,l=!1;s!=t.dom;){let d=t.docView.nearestDesc(s,!0),f;if(!d)return null;if(d.dom.nodeType==1&&(d.node.isBlock&&d.parent||!d.contentDOM)&&((f=d.dom.getBoundingClientRect()).width||f.height)&&(d.node.isBlock&&d.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(d.dom.nodeName)&&(!l&&f.left>i.left||f.top>i.top?r=d.posBefore:(!l&&f.right<i.left||f.bottom<i.top)&&(r=d.posAfter),l=!0),!d.contentDOM&&r<0&&!d.node.isText))return(d.node.isBlock?i.top<(f.top+f.bottom)/2:i.left<(f.left+f.right)/2)?d.posBefore:d.posAfter;s=d.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function F8(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),s=r;;){let l=t.childNodes[s];if(l.nodeType==1){let d=l.getClientRects();for(let f=0;f<d.length;f++){let p=d[f];if(sv(e,p))return F8(l,e,p)}}if((s=(s+1)%i)==r)break}return t}function Coe(t,e){let n=t.dom.ownerDocument,i,r=0,s=doe(n,e.left,e.top);s&&({node:i,offset:r}=s);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),d;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let p=t.dom.getBoundingClientRect();if(!sv(e,p)||(l=F8(t.dom,e,p),!l))return null}if(Nr)for(let p=l;i&&p;p=bd(p))p.draggable&&(i=void 0);if(l=voe(l,e),i){if(js&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let b=i.childNodes[r],w;b.nodeName=="IMG"&&(w=b.getBoundingClientRect()).right<=e.left&&w.bottom>e.top&&r++}let p;Bh&&r&&i.nodeType==1&&(p=i.childNodes[r-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&r--,i==t.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?d=t.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(d=_oe(t,i,r,e))}d==null&&(d=woe(t,l,e));let f=t.docView.nearestDesc(l,!0);return{pos:d,inside:f?f.posAtStart-f.border:-1}}function zE(t){return t.top<t.bottom||t.left<t.right}function Cl(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(zE(i))return i}return Array.prototype.find.call(n,zE)||t.getBoundingClientRect()}const Soe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function z8(t,e,n){let{node:i,offset:r,atom:s}=t.docView.domFromPos(e,n<0?-1:1),l=Bh||js;if(i.nodeType==3)if(l&&(Soe.test(i.nodeValue)||(n<0?!r:r==i.nodeValue.length))){let f=Cl(No(i,r,r),n);if(js&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let p=Cl(No(i,r-1,r-1),-1);if(p.top==f.top){let b=Cl(No(i,r,r+1),-1);if(b.top!=f.top)return jf(b,b.left<p.left)}}return f}else{let f=r,p=r,b=n<0?1:-1;return n<0&&!r?(p++,b=-1):n>=0&&r==i.nodeValue.length?(f--,b=1):n<0?f--:p++,jf(Cl(No(i,f,p),b),b<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&r&&(n<0||r==Ls(i))){let f=i.childNodes[r-1];if(f.nodeType==1)return $y(f.getBoundingClientRect(),!1)}if(s==null&&r<Ls(i)){let f=i.childNodes[r];if(f.nodeType==1)return $y(f.getBoundingClientRect(),!0)}return $y(i.getBoundingClientRect(),n>=0)}if(s==null&&r&&(n<0||r==Ls(i))){let f=i.childNodes[r-1],p=f.nodeType==3?No(f,Ls(f)-(l?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(p)return jf(Cl(p,1),!1)}if(s==null&&r<Ls(i)){let f=i.childNodes[r];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let p=f?f.nodeType==3?No(f,0,l?0:1):f.nodeType==1?f:null:null;if(p)return jf(Cl(p,-1),!0)}return jf(Cl(i.nodeType==3?No(i):i,-n),n>=0)}function jf(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function $y(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function H8(t,e,n){let i=t.state,r=t.root.activeElement;i!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),r!=t.dom&&r&&r.focus()}}function Eoe(t,e,n){let i=e.selection,r=n=="up"?i.$from:i.$to;return H8(t,e,()=>{let{node:s}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let d=t.docView.nearestDesc(s,!0);if(!d)break;if(d.node.isBlock){s=d.contentDOM||d.dom;break}s=d.dom.parentNode}let l=z8(t,r.pos,1);for(let d=s.firstChild;d;d=d.nextSibling){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=No(d,0,d.nodeValue.length).getClientRects();else continue;for(let p=0;p<f.length;p++){let b=f[p];if(b.bottom>b.top+1&&(n=="up"?l.top-b.top>(b.bottom-l.top)*2:b.bottom-l.bottom>(l.bottom-b.top)*2))return!1}}return!0})}const Aoe=/[\u0590-\u08ac]/;function Toe(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,s=!r,l=r==i.parent.content.size,d=t.domSelection();return d?!Aoe.test(i.parent.textContent)||!d.modify?n=="left"||n=="backward"?s:l:H8(t,e,()=>{let{focusNode:f,focusOffset:p,anchorNode:b,anchorOffset:w}=t.domSelectionRange(),S=d.caretBidiLevel;d.modify("move",n,"character");let E=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:T,focusOffset:M}=t.domSelectionRange(),R=T&&!E.contains(T.nodeType==1?T:T.parentNode)||f==T&&p==M;try{d.collapse(b,w),f&&(f!=b||p!=w)&&d.extend&&d.extend(f,p)}catch{}return S!=null&&(d.caretBidiLevel=S),R}):i.pos==i.start()||i.pos==i.end()}let HE=null,UE=null,$E=!1;function Noe(t,e,n){return HE==e&&UE==n?$E:(HE=e,UE=n,$E=n=="up"||n=="down"?Eoe(t,e,n):Toe(t,e,n))}const Ps=0,VE=1,Dc=2,Pa=3;class Lh{constructor(e,n,i,r){this.parent=e,this.children=n,this.dom=i,this.contentDOM=r,this.dirty=Ps,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let r=this.children[n];if(r==e)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let s,l;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(l)+l.size:this.posAtStart}else{let s,l;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(l):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>Ji(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!1;break}if(s.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!0;break}if(s.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,r=e;r;r=r.parentNode){let s=this.getDesc(r),l;if(s&&(!n||s.node))if(i&&(l=s.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))i=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let r=e;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let r=this.children[n],s=i+r.size;if(i==e&&s!=i){for(;!r.border&&r.children.length;)for(let l=0;l<r.children.length;l++){let d=r.children[l];if(d.size){r=d;break}}return r}if(e<s)return r.descAt(e-i-r.border);i=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,r=0;for(let s=0;i<this.children.length;i++){let l=this.children[i],d=s+l.size;if(d>e||l instanceof $8){r=e-s;break}s=d}if(r)return this.children[i].domFromPos(r-this.children[i].border,n);for(let s;i&&!(s=this.children[i-1]).size&&s instanceof U8&&s.side>=0;i--);if(n<=0){let s,l=!0;for(;s=i?this.children[i-1]:null,!(!s||s.dom.parentNode==this.contentDOM);i--,l=!1);return s&&n&&l&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Ji(s.dom)+1:0}}else{let s,l=!0;for(;s=i<this.children.length?this.children[i]:null,!(!s||s.dom.parentNode==this.contentDOM);i++,l=!1);return s&&l&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Ji(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let l=i,d=0;;d++){let f=this.children[d],p=l+f.size;if(r==-1&&e<=p){let b=l+f.border;if(e>=b&&n<=p-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,n,b);e=l;for(let w=d;w>0;w--){let S=this.children[w-1];if(S.size&&S.dom.parentNode==this.contentDOM&&!S.emptyChildAt(1)){r=Ji(S.dom)+1;break}e-=S.size}r==-1&&(r=0)}if(r>-1&&(p>n||d==this.children.length-1)){n=p;for(let b=d+1;b<this.children.length;b++){let w=this.children[b];if(w.size&&w.dom.parentNode==this.contentDOM&&!w.emptyChildAt(-1)){s=Ji(w.dom);break}n+=w.size}s==-1&&(s=this.contentDOM.childNodes.length);break}l=p}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,r=!1){let s=Math.min(e,n),l=Math.max(e,n);for(let E=0,T=0;E<this.children.length;E++){let M=this.children[E],R=T+M.size;if(s>T&&l<R)return M.setSelection(e-T-M.border,n-T-M.border,i,r);T=R}let d=this.domFromPos(e,e?-1:1),f=n==e?d:this.domFromPos(n,n?-1:1),p=i.root.getSelection(),b=i.domSelectionRange(),w=!1;if((js||Nr)&&e==n){let{node:E,offset:T}=d;if(E.nodeType==3){if(w=!!(T&&E.nodeValue[T-1]==`
`),w&&T==E.nodeValue.length)for(let M=E,R;M;M=M.parentNode){if(R=M.nextSibling){R.nodeName=="BR"&&(d=f={node:R.parentNode,offset:Ji(R)+1});break}let B=M.pmViewDesc;if(B&&B.node&&B.node.isBlock)break}}else{let M=E.childNodes[T-1];w=M&&(M.nodeName=="BR"||M.contentEditable=="false")}}if(js&&b.focusNode&&b.focusNode!=f.node&&b.focusNode.nodeType==1){let E=b.focusNode.childNodes[b.focusOffset];E&&E.contentEditable=="false"&&(r=!0)}if(!(r||w&&Nr)&&Kc(d.node,d.offset,b.anchorNode,b.anchorOffset)&&Kc(f.node,f.offset,b.focusNode,b.focusOffset))return;let S=!1;if((p.extend||e==n)&&!(w&&js)){p.collapse(d.node,d.offset);try{e!=n&&p.extend(f.node,f.offset),S=!0}catch{}}if(!S){if(e>n){let T=d;d=f,f=T}let E=document.createRange();E.setEnd(f.node,f.offset),E.setStart(d.node,d.offset),p.removeAllRanges(),p.addRange(E)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,r=0;r<this.children.length;r++){let s=this.children[r],l=i+s.size;if(i==l?e<=l&&n>=i:e<l&&n>i){let d=i+s.border,f=l-s.border;if(e>=d&&n<=f){this.dirty=e==i||n==l?Dc:VE,e==d&&n==f&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Pa:s.markDirty(e-d,n-d);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Dc:Pa}i=l}this.dirty=Dc}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?Dc:VE;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class U8 extends Lh{constructor(e,n,i,r){let s,l=n.type.toDOM;if(typeof l=="function"&&(l=l(i,()=>{if(!s)return r;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(l.nodeType!=1){let d=document.createElement("span");d.appendChild(l),l=d}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Ps&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Ioe extends Lh{constructor(e,n,i,r){super(e,[],n,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Zc extends Lh{constructor(e,n,i,r,s){super(e,[],i,r),this.mark=n,this.spec=s}static create(e,n,i,r){let s=r.nodeViews[n.type.name],l=s&&s(n,r,i);return(!l||!l.dom)&&(l=ru.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new Zc(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Pa||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Pa&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ps){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Ps}}slice(e,n,i){let r=Zc.create(this.parent,this.mark,!0,i),s=this.children,l=this.size;n<l&&(s=J2(s,n,l,i)),e>0&&(s=J2(s,0,e,i));for(let d=0;d<s.length;d++)s[d].parent=r;return r.children=s,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Fl extends Lh{constructor(e,n,i,r,s,l,d,f,p){super(e,[],s,l),this.node=n,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=d}static create(e,n,i,r,s,l){let d=s.nodeViews[n.type.name],f,p=d&&d(n,s,()=>{if(!f)return l;if(f.parent)return f.parent.posBeforeChild(f)},i,r),b=p&&p.dom,w=p&&p.contentDOM;if(n.isText){if(!b)b=document.createTextNode(n.text);else if(b.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else b||({dom:b,contentDOM:w}=ru.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!w&&!n.isText&&b.nodeName!="BR"&&(b.hasAttribute("contenteditable")||(b.contentEditable="false"),n.type.spec.draggable&&(b.draggable=!0));let S=b;return b=q8(b,i,n),p?f=new koe(e,n,i,r,b,w||null,S,p,s,l+1):n.isText?new b0(e,n,i,r,b,S,s):new Fl(e,n,i,r,b,w||null,S,s,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>je.empty)}return e}matchesNode(e,n,i){return this.dirty==Ps&&e.eq(this.node)&&hm(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,r=n,s=e.composing?this.localCompositionInfo(e,n):null,l=s&&s.pos>-1?s:null,d=s&&s.pos<0,f=new Ooe(this,l&&l.node,e);Boe(this.node,this.innerDeco,(p,b,w)=>{p.spec.marks?f.syncToMarks(p.spec.marks,i,e):p.type.side>=0&&!w&&f.syncToMarks(b==this.node.childCount?kn.none:this.node.child(b).marks,i,e),f.placeWidget(p,e,r)},(p,b,w,S)=>{f.syncToMarks(p.marks,i,e);let E;f.findNodeMatch(p,b,w,S)||d&&e.state.selection.from>r&&e.state.selection.to<r+p.nodeSize&&(E=f.findIndexWithChild(s.node))>-1&&f.updateNodeAt(p,b,w,E,e)||f.updateNextNode(p,b,w,e,S,r)||f.addNode(p,b,w,e,r),r+=p.nodeSize}),f.syncToMarks([],i,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Dc)&&(l&&this.protectLocalComposition(e,l),V8(this.contentDOM,this.children,e),vd&&Loe(this.dom))}localCompositionInfo(e,n){let{from:i,to:r}=e.state.selection;if(!(e.state.selection instanceof wt)||i<n||r>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,d=joe(this.node.content,l,i-n,r-n);return d<0?null:{node:s,pos:d,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:r}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let l=new Ioe(this,s,n,r);e.input.compositionNodes.push(l),this.children=J2(this.children,i,i+r.length,e,l)}update(e,n,i,r){return this.dirty==Pa||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,r),!0)}updateInner(e,n,i,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Ps}updateOuterDeco(e){if(hm(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=G8(this.dom,this.nodeDOM,Q2(this.outerDeco,this.node,n),Q2(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function GE(t,e,n,i,r){q8(i,e,t);let s=new Fl(void 0,t,e,n,i,i,i,r,0);return s.contentDOM&&s.updateChildren(r,0),s}class b0 extends Fl{constructor(e,n,i,r,s,l,d){super(e,n,i,r,s,null,l,d,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,r){return this.dirty==Pa||this.dirty!=Ps&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ps||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=Ps,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let r=this.node.cut(e,n),s=document.createTextNode(r.text);return new b0(this.parent,r,this.outerDeco,this.innerDeco,s,s,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Pa)}get domAtom(){return!1}isText(e){return this.node.text==e}}class $8 extends Lh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ps&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class koe extends Fl{constructor(e,n,i,r,s,l,d,f,p,b){super(e,n,i,r,s,l,d,p,b),this.spec=f}update(e,n,i,r){if(this.dirty==Pa)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,i);return s&&this.updateInner(e,n,i,r),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,r){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function V8(t,e,n){let i=t.firstChild,r=!1;for(let s=0;s<e.length;s++){let l=e[s],d=l.dom;if(d.parentNode==t){for(;d!=i;)i=qE(i),r=!0;i=i.nextSibling}else r=!0,t.insertBefore(d,i);if(l instanceof Zc){let f=i?i.previousSibling:t.lastChild;V8(l.contentDOM,l.children,n),i=f?f.nextSibling:t.firstChild}}for(;i;)i=qE(i),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const Kf=function(t){t&&(this.nodeName=t)};Kf.prototype=Object.create(null);const Bc=[new Kf];function Q2(t,e,n){if(t.length==0)return Bc;let i=n?Bc[0]:new Kf,r=[i];for(let s=0;s<t.length;s++){let l=t[s].type.attrs;if(l){l.nodeName&&r.push(i=new Kf(l.nodeName));for(let d in l){let f=l[d];f!=null&&(n&&r.length==1&&r.push(i=new Kf(e.isInline?"span":"div")),d=="class"?i.class=(i.class?i.class+" ":"")+f:d=="style"?i.style=(i.style?i.style+";":"")+f:d!="nodeName"&&(i[d]=f))}}}return r}function G8(t,e,n,i){if(n==Bc&&i==Bc)return e;let r=e;for(let s=0;s<i.length;s++){let l=i[s],d=n[s];if(s){let f;d&&d.nodeName==l.nodeName&&r!=t&&(f=r.parentNode)&&f.nodeName.toLowerCase()==l.nodeName||(f=document.createElement(l.nodeName),f.pmIsDeco=!0,f.appendChild(r),d=Bc[0]),r=f}Moe(r,d||Bc[0],l)}return r}function Moe(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.remove(i[s]);for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.add(r[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function q8(t,e,n){return G8(t,t,Bc,Q2(e,n,t.nodeType!=1))}function hm(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function qE(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Ooe{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Roe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i){let r=0,s=this.stack.length>>1,l=Math.min(s,e.length);for(;r<l&&(r==s-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<s;)this.destroyRest(),this.top.dirty=Ps,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let d=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let p=this.top.children[f];if(p.matchesMark(e[s])&&!this.isLocked(p.dom)){d=f;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let f=Zc.create(this.top,e[s],n,i);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,i,r){let s=-1,l;if(r>=this.preMatch.index&&(l=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,i))s=this.top.children.indexOf(l,this.index);else for(let d=this.index,f=Math.min(this.top.children.length,d+5);d<f;d++){let p=this.top.children[d];if(p.matchesNode(e,n,i)&&!this.preMatch.matched.has(p)){s=d;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,i,r,s){let l=this.top.children[r];return l.dirty==Pa&&l.dom==l.contentDOM&&(l.dirty=Dc),l.update(e,n,i,s)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}e=n}}updateNextNode(e,n,i,r,s,l){for(let d=this.index;d<this.top.children.length;d++){let f=this.top.children[d];if(f instanceof Fl){let p=this.preMatch.matched.get(f);if(p!=null&&p!=s)return!1;let b=f.dom,w,S=this.isLocked(b)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=Pa&&hm(n,f.outerDeco));if(!S&&f.update(e,n,i,r))return this.destroyBetween(this.index,d),f.dom!=b&&(this.changed=!0),this.index++,!0;if(!S&&(w=this.recreateWrapper(f,e,n,i,r,l)))return this.destroyBetween(this.index,d),this.top.children[this.index]=w,w.contentDOM&&(w.dirty=Dc,w.updateChildren(r,l+1),w.dirty=Ps),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,r,s,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!hm(i,e.outerDeco)||!r.eq(e.innerDeco))return null;let d=Fl.create(this.top,n,i,r,s,l);if(d.contentDOM){d.children=e.children,e.children=[];for(let f of d.children)f.parent=d}return e.destroy(),d}addNode(e,n,i,r,s){let l=Fl.create(this.top,e,n,i,r,s);l.contentDOM&&l.updateChildren(r,s+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let s=new U8(this.top,e,n,i);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Zc;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof b0)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Nr||hr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new $8(this.top,[],i,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Roe(t,e){let n=e,i=n.children.length,r=t.childCount,s=new Map,l=[];e:for(;r>0;){let d;for(;;)if(i){let p=n.children[i-1];if(p instanceof Zc)n=p,i=p.children.length;else{d=p,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let f=d.node;if(f){if(f!=t.child(r-1))break;--r,s.set(d,r),l.push(d)}}return{index:r,matched:s,matches:l.reverse()}}function Doe(t,e){return t.type.side-e.type.side}function Boe(t,e,n,i){let r=e.locals(t),s=0;if(r.length==0){for(let p=0;p<t.childCount;p++){let b=t.child(p);i(b,r,e.forChild(s,b),p),s+=b.nodeSize}return}let l=0,d=[],f=null;for(let p=0;;){let b,w;for(;l<r.length&&r[l].to==s;){let R=r[l++];R.widget&&(b?(w||(w=[b])).push(R):b=R)}if(b)if(w){w.sort(Doe);for(let R=0;R<w.length;R++)n(w[R],p,!!f)}else n(b,p,!!f);let S,E;if(f)E=-1,S=f,f=null;else if(p<t.childCount)E=p,S=t.child(p++);else break;for(let R=0;R<d.length;R++)d[R].to<=s&&d.splice(R--,1);for(;l<r.length&&r[l].from<=s&&r[l].to>s;)d.push(r[l++]);let T=s+S.nodeSize;if(S.isText){let R=T;l<r.length&&r[l].from<R&&(R=r[l].from);for(let B=0;B<d.length;B++)d[B].to<R&&(R=d[B].to);R<T&&(f=S.cut(R-s),S=S.cut(0,R-s),T=R,E=-1)}else for(;l<r.length&&r[l].to<T;)l++;let M=S.isInline&&!S.isLeaf?d.filter(R=>!R.inline):d.slice();i(S,M,e.forChild(s,S),E),s=T}}function Loe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function joe(t,e,n,i){for(let r=0,s=0;r<t.childCount&&s<=i;){let l=t.child(r++),d=s;if(s+=l.nodeSize,!l.isText)continue;let f=l.text;for(;r<t.childCount;){let p=t.child(r++);if(s+=p.nodeSize,!p.isText)break;f+=p.text}if(s>=n){if(s>=i&&f.slice(i-e.length-d,i-d)==e)return i-e.length;let p=d<i?f.lastIndexOf(e,i-d-1):-1;if(p>=0&&p+e.length+d>=n)return d+p;if(n==i&&f.length>=i+e.length-d&&f.slice(i-d,i-d+e.length)==e)return i}}return-1}function J2(t,e,n,i,r){let s=[];for(let l=0,d=0;l<t.length;l++){let f=t[l],p=d,b=d+=f.size;p>=n||b<=e?s.push(f):(p<e&&s.push(f.slice(0,e-p,i)),r&&(s.push(r),r=void 0),b>n&&s.push(f.slice(n-p,f.size,i)))}return s}function av(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),s=r&&r.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let d=i.resolve(l),f,p;if(y0(n)){for(f=l;r&&!r.node;)r=r.parent;let w=r.node;if(r&&w.isAtom&&pt.isSelectable(w)&&r.parent&&!(w.isInline&&coe(n.focusNode,n.focusOffset,r.dom))){let S=r.posBefore;p=new pt(l==S?d:i.resolve(S))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let w=l,S=l;for(let E=0;E<n.rangeCount;E++){let T=n.getRangeAt(E);w=Math.min(w,t.docView.posFromDOM(T.startContainer,T.startOffset,1)),S=Math.max(S,t.docView.posFromDOM(T.endContainer,T.endOffset,-1))}if(w<0)return null;[f,l]=S==t.state.selection.anchor?[S,w]:[w,S],d=i.resolve(l)}else f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let b=i.resolve(f);if(!p){let w=e=="pointer"||t.state.selection.head<d.pos&&!s?1:-1;p=ov(t,b,d,w)}return p}function W8(t){return t.editable?t.hasFocus():Y8(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ro(t,e=!1){let n=t.state.selection;if(X8(t,n),!!W8(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&hr){let i=t.domSelectionRange(),r=t.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&Kc(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Foe(t);else{let{anchor:i,head:r}=n,s,l;WE&&!(n instanceof wt)&&(n.$from.parent.inlineContent||(s=XE(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=XE(t,n.to))),t.docView.setSelection(i,r,t,e),WE&&(s&&YE(s),l&&YE(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Poe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const WE=Nr||hr&&B8<63;function XE(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),r=i<n.childNodes.length?n.childNodes[i]:null,s=i?n.childNodes[i-1]:null;if(Nr&&r&&r.contentEditable=="false")return Vy(r);if((!r||r.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(r)return Vy(r);if(s)return Vy(s)}}function Vy(t){return t.contentEditable="true",Nr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function YE(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Poe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!W8(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Foe(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?e.collapse(n.parentNode,Ji(n)+1):e.collapse(n,0),!i&&!t.state.selection.visible&&qr&&Pl<=11&&(n.disabled=!0,n.disabled=!1)}function X8(t,e){if(e instanceof pt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(KE(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else KE(t)}function KE(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function ov(t,e,n,i){return t.someProp("createSelectionBetween",r=>r(t,e,n))||wt.between(e,n,i)}function ZE(t){return t.editable&&!t.hasFocus()?!1:Y8(t)}function Y8(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function zoe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Kc(e.node,e.offset,n.anchorNode,n.anchorOffset)}function eb(t,e){let{$anchor:n,$head:i}=t.selection,r=e>0?n.max(i):n.min(i),s=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return s&&Bt.findFrom(s,e)}function Sl(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function QE(t,e,n){let i=t.state.selection;if(i instanceof wt)if(n.indexOf("s")>-1){let{$head:r}=i,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let l=t.state.doc.resolve(r.pos+s.nodeSize*(e<0?-1:1));return Sl(t,new wt(i.$anchor,l))}else if(i.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=eb(t.state,e);return r&&r instanceof pt?Sl(t,r):!1}else if(!(Bs&&n.indexOf("m")>-1)){let r=i.$head,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,l;if(!s||s.isText)return!1;let d=e<0?r.pos-s.nodeSize:r.pos;return s.isAtom||(l=t.docView.descAt(d))&&!l.contentDOM?pt.isSelectable(s)?Sl(t,new pt(e<0?t.state.doc.resolve(r.pos-s.nodeSize):r)):Bh?Sl(t,new wt(t.state.doc.resolve(e<0?d:d+s.nodeSize))):!1:!1}}else return!1;else{if(i instanceof pt&&i.node.isInline)return Sl(t,new wt(e>0?i.$to:i.$from));{let r=eb(t.state,e);return r?Sl(t,r):!1}}}function pm(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Zf(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function nd(t,e){return e<0?Hoe(t):Uoe(t)}function Hoe(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r,s,l=!1;for(js&&n.nodeType==1&&i<pm(n)&&Zf(n.childNodes[i],-1)&&(l=!0);;)if(i>0){if(n.nodeType!=1)break;{let d=n.childNodes[i-1];if(Zf(d,-1))r=n,s=--i;else if(d.nodeType==3)n=d,i=n.nodeValue.length;else break}}else{if(K8(n))break;{let d=n.previousSibling;for(;d&&Zf(d,-1);)r=n.parentNode,s=Ji(d),d=d.previousSibling;if(d)n=d,i=pm(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}l?tb(t,n,i):r&&tb(t,r,s)}function Uoe(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r=pm(n),s,l;for(;;)if(i<r){if(n.nodeType!=1)break;let d=n.childNodes[i];if(Zf(d,1))s=n,l=++i;else break}else{if(K8(n))break;{let d=n.nextSibling;for(;d&&Zf(d,1);)s=d.parentNode,l=Ji(d)+1,d=d.nextSibling;if(d)n=d,i=0,r=pm(n);else{if(n=n.parentNode,n==t.dom)break;i=r=0}}}s&&tb(t,s,l)}function K8(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function $oe(t,e){for(;t&&e==t.childNodes.length&&!Dh(t);)e=Ji(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Voe(t,e){for(;t&&!e&&!Dh(t);)e=Ji(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function tb(t,e,n){if(e.nodeType!=3){let s,l;(l=$oe(e,n))?(e=l,n=0):(s=Voe(e,n))&&(e=s,n=s.nodeValue.length)}let i=t.domSelection();if(!i)return;if(y0(i)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),i.removeAllRanges(),i.addRange(s)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&Ro(t)},50)}function JE(t,e){let n=t.state.doc.resolve(e);if(!(hr||foe)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),l=(s.top+s.bottom)/2;if(l>r.top&&l<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),l=(s.top+s.bottom)/2;if(l>r.top&&l<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function e4(t,e,n){let i=t.state.selection;if(i instanceof wt&&!i.empty||n.indexOf("s")>-1||Bs&&n.indexOf("m")>-1)return!1;let{$from:r,$to:s}=i;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=eb(t.state,e);if(l&&l instanceof pt)return Sl(t,l)}if(!r.parent.inlineContent){let l=e<0?r:s,d=i instanceof gs?Bt.near(l,e):Bt.findFrom(l,e);return d?Sl(t,d):!1}return!1}function t4(t,e){if(!(t.state.selection instanceof wt))return!0;let{$head:n,$anchor:i,empty:r}=t.state.selection;if(!n.sameParent(i))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let l=t.state.tr;return e<0?l.delete(n.pos-s.nodeSize,n.pos):l.delete(n.pos,n.pos+s.nodeSize),t.dispatch(l),!0}return!1}function n4(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Goe(t){if(!Nr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;n4(t,i,"true"),setTimeout(()=>n4(t,i,"false"),20)}return!1}function qoe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Woe(t,e){let n=e.keyCode,i=qoe(e);if(n==8||Bs&&n==72&&i=="c")return t4(t,-1)||nd(t,-1);if(n==46&&!e.shiftKey||Bs&&n==68&&i=="c")return t4(t,1)||nd(t,1);if(n==13||n==27)return!0;if(n==37||Bs&&n==66&&i=="c"){let r=n==37?JE(t,t.state.selection.from)=="ltr"?-1:1:-1;return QE(t,r,i)||nd(t,r)}else if(n==39||Bs&&n==70&&i=="c"){let r=n==39?JE(t,t.state.selection.from)=="ltr"?1:-1:1;return QE(t,r,i)||nd(t,r)}else{if(n==38||Bs&&n==80&&i=="c")return e4(t,-1,i)||nd(t,-1);if(n==40||Bs&&n==78&&i=="c")return Goe(t)||e4(t,1,i)||nd(t,1);if(i==(Bs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function lv(t,e){t.someProp("transformCopied",E=>{e=E(e,t)});let n=[],{content:i,openStart:r,openEnd:s}=e;for(;r>1&&s>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,s--;let E=i.firstChild;n.push(E.type.name,E.attrs!=E.type.defaultAttrs?E.attrs:null),i=E.content}let l=t.someProp("clipboardSerializer")||ru.fromSchema(t.state.schema),d=n6(),f=d.createElement("div");f.appendChild(l.serializeFragment(i,{document:d}));let p=f.firstChild,b,w=0;for(;p&&p.nodeType==1&&(b=t6[p.nodeName.toLowerCase()]);){for(let E=b.length-1;E>=0;E--){let T=d.createElement(b[E]);for(;f.firstChild;)T.appendChild(f.firstChild);f.appendChild(T),w++}p=f.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${r} ${s}${w?` -${w}`:""} ${JSON.stringify(n)}`);let S=t.someProp("clipboardTextSerializer",E=>E(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:S,slice:e}}function Z8(t,e,n,i,r){let s=r.parent.type.spec.code,l,d;if(!n&&!e)return null;let f=!!e&&(i||s||!n);if(f){if(t.someProp("transformPastedText",S=>{e=S(e,s||i,t)}),s)return d=new Xe(je.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",S=>{d=S(d,t,!0)}),d;let w=t.someProp("clipboardTextParser",S=>S(e,r,i,t));if(w)d=w;else{let S=r.marks(),{schema:E}=t.state,T=ru.fromSchema(E);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(M=>{let R=l.appendChild(document.createElement("p"));M&&R.appendChild(T.serializeNode(E.text(M,S)))})}}else t.someProp("transformPastedHTML",w=>{n=w(n,t)}),l=Zoe(n),Bh&&Qoe(l);let p=l&&l.querySelector("[data-pm-slice]"),b=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(b&&b[3])for(let w=+b[3];w>0;w--){let S=l.firstChild;for(;S&&S.nodeType!=1;)S=S.nextSibling;if(!S)break;l=S}if(d||(d=(t.someProp("clipboardParser")||t.someProp("domParser")||jl.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(f||b),context:r,ruleFromNode(S){return S.nodeName=="BR"&&!S.nextSibling&&S.parentNode&&!Xoe.test(S.parentNode.nodeName)?{ignore:!0}:null}})),b)d=Joe(i4(d,+b[1],+b[2]),b[4]);else if(d=Xe.maxOpen(Yoe(d.content,r),!0),d.openStart||d.openEnd){let w=0,S=0;for(let E=d.content.firstChild;w<d.openStart&&!E.type.spec.isolating;w++,E=E.firstChild);for(let E=d.content.lastChild;S<d.openEnd&&!E.type.spec.isolating;S++,E=E.lastChild);d=i4(d,w,S)}return t.someProp("transformPasted",w=>{d=w(d,t,f)}),d}const Xoe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Yoe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),s,l=[];if(t.forEach(d=>{if(!l)return;let f=r.findWrapping(d.type),p;if(!f)return l=null;if(p=l.length&&s.length&&J8(f,s,d,l[l.length-1],0))l[l.length-1]=p;else{l.length&&(l[l.length-1]=e6(l[l.length-1],s.length));let b=Q8(d,f);l.push(b),r=r.matchType(b.type),s=f}}),l)return je.from(l)}return t}function Q8(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,je.from(t));return t}function J8(t,e,n,i,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let s=J8(t,e,n,i.lastChild,r+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));if(i.contentMatchAt(i.childCount).matchType(r==t.length-1?n.type:t[r+1]))return i.copy(i.content.append(je.from(Q8(n,t,r+1))))}}function e6(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,e6(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(je.empty,!0);return t.copy(n.append(i))}function nb(t,e,n,i,r,s){let l=e<0?t.firstChild:t.lastChild,d=l.content;return t.childCount>1&&(s=0),r<i-1&&(d=nb(d,e,n,i,r+1,s)),r>=n&&(d=e<0?l.contentMatchAt(0).fillBefore(d,s<=r).append(d):d.append(l.contentMatchAt(l.childCount).fillBefore(je.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(d))}function i4(t,e,n){return e<t.openStart&&(t=new Xe(nb(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Xe(nb(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const t6={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let r4=null;function n6(){return r4||(r4=document.implementation.createHTMLDocument("title"))}let Gy=null;function Koe(t){let e=window.trustedTypes;return e?(Gy||(Gy=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Gy.createHTML(t)):t}function Zoe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=n6().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),r;if((r=i&&t6[i[1].toLowerCase()])&&(t=r.map(s=>"<"+s+">").join("")+t+r.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=Koe(t),r)for(let s=0;s<r.length;s++)n=n.querySelector(r[s])||n;return n}function Qoe(t){let e=t.querySelectorAll(hr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function Joe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:r,openStart:s,openEnd:l}=t;for(let d=i.length-2;d>=0;d-=2){let f=n.nodes[i[d]];if(!f||f.hasRequiredAttrs())break;r=je.from(f.create(i[d+1],r)),s++,l++}return new Xe(r,s,l)}const Ir={},kr={},ele={touchstart:!0,touchmove:!0};class tle{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function nle(t){for(let e in Ir){let n=Ir[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{rle(t,i)&&!cv(t,i)&&(t.editable||!(i.type in kr))&&n(t,i)},ele[e]?{passive:!0}:void 0)}Nr&&t.dom.addEventListener("input",()=>null),ib(t)}function Dl(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function ile(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ib(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>cv(t,i))})}function cv(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function rle(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function sle(t,e){!cv(t,e)&&Ir[e.type]&&(t.editable||!(e.type in kr))&&Ir[e.type](t,e)}kr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!r6(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ko&&hr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),vd&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",r=>r(t,kc(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||Woe(t,n)?n.preventDefault():Dl(t,"key")};kr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};kr.keypress=(t,e)=>{let n=e;if(r6(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Bs&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof wt)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",l=>l(t,i.$from.pos,i.$to.pos,r,s))&&t.dispatch(s()),n.preventDefault()}};function v0(t){return{left:t.clientX,top:t.clientY}}function ale(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function uv(t,e,n,i,r){if(i==-1)return!1;let s=t.state.doc.resolve(i);for(let l=s.depth+1;l>0;l--)if(t.someProp(e,d=>l>s.depth?d(t,n,s.nodeAfter,s.before(l),r,!0):d(t,n,s.node(l),s.before(l),r,!1)))return!0;return!1}function md(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let i=t.state.tr.setSelection(e);i.setMeta("pointer",!0),t.dispatch(i)}function ole(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&pt.isSelectable(i)?(md(t,new pt(n)),!0):!1}function lle(t,e){if(e==-1)return!1;let n=t.state.selection,i,r;n instanceof pt&&(i=n.node);let s=t.state.doc.resolve(e);for(let l=s.depth+1;l>0;l--){let d=l>s.depth?s.nodeAfter:s.node(l);if(pt.isSelectable(d)){i&&n.$from.depth>0&&l>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?r=s.before(n.$from.depth):r=s.before(l);break}}return r!=null?(md(t,pt.create(t.state.doc,r)),!0):!1}function cle(t,e,n,i,r){return uv(t,"handleClickOn",e,n,i)||t.someProp("handleClick",s=>s(t,e,i))||(r?lle(t,n):ole(t,n))}function ule(t,e,n,i){return uv(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",r=>r(t,e,i))}function dle(t,e,n,i){return uv(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",r=>r(t,e,i))||fle(t,n,i)}function fle(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(md(t,wt.create(i,0,i.content.size)),!0):!1;let r=i.resolve(e);for(let s=r.depth+1;s>0;s--){let l=s>r.depth?r.nodeAfter:r.node(s),d=r.before(s);if(l.inlineContent)md(t,wt.create(i,d+1,d+1+l.content.size));else if(pt.isSelectable(l))md(t,pt.create(i,d));else continue;return!0}}function dv(t){return mm(t)}const i6=Bs?"metaKey":"ctrlKey";Ir.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=dv(t),r=Date.now(),s="singleClick";r-t.input.lastClick.time<500&&ale(n,t.input.lastClick)&&!n[i6]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:s,button:n.button};let l=t.posAtCoords(v0(n));l&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new hle(t,l,n,!!i)):(s=="doubleClick"?ule:dle)(t,l.pos,l.inside,n)?n.preventDefault():Dl(t,"pointer"))};class hle{constructor(e,n,i,r){this.view=e,this.pos=n,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[i6],this.allowDefault=i.shiftKey;let s,l;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),l=n.inside;else{let b=e.state.doc.resolve(n.pos);s=b.parent,l=b.depth?b.before():0}const d=r?null:i.target,f=d?e.docView.nearestDesc(d,!0):null;this.target=f&&f.nodeDOM.nodeType==1?f.nodeDOM:null;let{selection:p}=e.state;(i.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||p instanceof pt&&p.from<=l&&p.to>l)&&(this.mightDrag={node:s,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&js&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Dl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ro(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(v0(e))),this.updateAllowDefault(e),this.allowDefault||!n?Dl(this.view,"pointer"):cle(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Nr&&this.mightDrag&&!this.mightDrag.node.isAtom||hr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(md(this.view,Bt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Dl(this.view,"pointer")}move(e){this.updateAllowDefault(e),Dl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ir.touchstart=t=>{t.input.lastTouch=Date.now(),dv(t),Dl(t,"pointer")};Ir.touchmove=t=>{t.input.lastTouch=Date.now(),Dl(t,"pointer")};Ir.contextmenu=t=>dv(t);function r6(t,e){return t.composing?!0:Nr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const ple=ko?5e3:-1;kr.compositionstart=kr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof wt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),mm(t,!0),t.markCursor=null;else if(mm(t,!e.selection.empty),js&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let r=i.focusNode,s=i.focusOffset;r&&r.nodeType==1&&s!=0;){let l=s<0?r.lastChild:r.childNodes[s-1];if(!l)break;if(l.nodeType==3){let d=t.domSelection();d&&d.collapse(l,l.nodeValue.length);break}else r=l,s=-1}}t.input.composing=!0}s6(t,ple)};kr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,s6(t,20))};function s6(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>mm(t),e))}function a6(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=gle());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function mle(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=ooe(e.focusNode,e.focusOffset),i=loe(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let r=i.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||i==s)return s;if(!r||!r.isText(i.nodeValue))return i;if(t.input.compositionNode==i){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return i}}return n||i}function gle(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function mm(t,e=!1){if(!(ko&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),a6(t),e||t.docView&&t.docView.dirty){let n=av(t),i=t.state.selection;return n&&!n.eq(i)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function xle(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const ph=qr&&Pl<15||vd&&hoe<604;Ir.copy=kr.cut=(t,e)=>{let n=e,i=t.state.selection,r=n.type=="cut";if(i.empty)return;let s=ph?null:n.clipboardData,l=i.content(),{dom:d,text:f}=lv(t,l);s?(n.preventDefault(),s.clearData(),s.setData("text/html",d.innerHTML),s.setData("text/plain",f)):xle(t,d),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function yle(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function ble(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?mh(t,i.value,null,r,e):mh(t,i.textContent,i.innerHTML,r,e)},50)}function mh(t,e,n,i,r){let s=Z8(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",f=>f(t,r,s||Xe.empty)))return!0;if(!s)return!1;let l=yle(s),d=l?t.state.tr.replaceSelectionWith(l,i):t.state.tr.replaceSelection(s);return t.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function o6(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}kr.paste=(t,e)=>{let n=e;if(t.composing&&!ko)return;let i=ph?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&mh(t,o6(i),i.getData("text/html"),r,n)?n.preventDefault():ble(t,n)};class l6{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const vle=Bs?"altKey":"ctrlKey";function c6(t,e){let n=t.someProp("dragCopies",i=>!i(e));return n??!e[vle]}Ir.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let r=t.state.selection,s=r.empty?null:t.posAtCoords(v0(n)),l;if(!(s&&s.pos>=r.from&&s.pos<=(r instanceof pt?r.to-1:r.to))){if(i&&i.mightDrag)l=pt.create(t.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let w=t.docView.nearestDesc(n.target,!0);w&&w.node.type.spec.draggable&&w!=t.docView&&(l=pt.create(t.state.doc,w.posBefore))}}let d=(l||t.state.selection).content(),{dom:f,text:p,slice:b}=lv(t,d);(!n.dataTransfer.files.length||!hr||B8>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ph?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",ph||n.dataTransfer.setData("text/plain",p),t.dragging=new l6(b,c6(t,n),l)};Ir.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};kr.dragover=kr.dragenter=(t,e)=>e.preventDefault();kr.drop=(t,e)=>{let n=e,i=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords(v0(n));if(!r)return;let s=t.state.doc.resolve(r.pos),l=i&&i.slice;l?t.someProp("transformPasted",T=>{l=T(l,t,!1)}):l=Z8(t,o6(n.dataTransfer),ph?null:n.dataTransfer.getData("text/html"),!1,s);let d=!!(i&&c6(t,n));if(t.someProp("handleDrop",T=>T(t,n,l||Xe.empty,d))){n.preventDefault();return}if(!l)return;n.preventDefault();let f=l?A8(t.state.doc,s.pos,l):s.pos;f==null&&(f=s.pos);let p=t.state.tr;if(d){let{node:T}=i;T?T.replace(p):p.deleteSelection()}let b=p.mapping.map(f),w=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,S=p.doc;if(w?p.replaceRangeWith(b,b,l.content.firstChild):p.replaceRange(b,b,l),p.doc.eq(S))return;let E=p.doc.resolve(b);if(w&&pt.isSelectable(l.content.firstChild)&&E.nodeAfter&&E.nodeAfter.sameMarkup(l.content.firstChild))p.setSelection(new pt(E));else{let T=p.mapping.map(f);p.mapping.maps[p.mapping.maps.length-1].forEach((M,R,B,G)=>T=G),p.setSelection(ov(t,E,p.doc.resolve(T)))}t.focus(),t.dispatch(p.setMeta("uiEvent","drop"))};Ir.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ro(t)},20))};Ir.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ir.beforeinput=(t,e)=>{if(hr&&ko&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,kc(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in kr)Ir[t]=kr[t];function gh(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class gm{constructor(e,n){this.toDOM=e,this.spec=n||Hc,this.side=this.spec.side||0}map(e,n,i,r){let{pos:s,deleted:l}=e.mapResult(n.from+r,this.side<0?-1:1);return l?null:new Ar(s-i,s-i,this)}valid(){return!0}eq(e){return this==e||e instanceof gm&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&gh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class zl{constructor(e,n){this.attrs=e,this.spec=n||Hc}map(e,n,i,r){let s=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-i,l=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-i;return s>=l?null:new Ar(s,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof zl&&gh(this.attrs,e.attrs)&&gh(this.spec,e.spec)}static is(e){return e.type instanceof zl}destroy(){}}class fv{constructor(e,n){this.attrs=e,this.spec=n||Hc}map(e,n,i,r){let s=e.mapResult(n.from+r,1);if(s.deleted)return null;let l=e.mapResult(n.to+r,-1);return l.deleted||l.pos<=s.pos?null:new Ar(s.pos-i,l.pos-i,this)}valid(e,n){let{index:i,offset:r}=e.content.findIndex(n.from),s;return r==n.from&&!(s=e.child(i)).isText&&r+s.nodeSize==n.to}eq(e){return this==e||e instanceof fv&&gh(this.attrs,e.attrs)&&gh(this.spec,e.spec)}destroy(){}}class Ar{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new Ar(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new Ar(e,e,new gm(n,i))}static inline(e,n,i,r){return new Ar(e,n,new zl(i,r))}static node(e,n,i,r){return new Ar(e,n,new fv(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof zl}get widget(){return this.type instanceof gm}}const sd=[],Hc={};class Kn{constructor(e,n){this.local=e.length?e:sd,this.children=n.length?n:sd}static create(e,n){return n.length?xm(n,e,0,Hc):dr}find(e,n,i){let r=[];return this.findInner(e??0,n??1e9,r,0,i),r}findInner(e,n,i,r,s){for(let l=0;l<this.local.length;l++){let d=this.local[l];d.from<=n&&d.to>=e&&(!s||s(d.spec))&&i.push(d.copy(d.from+r,d.to+r))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let d=this.children[l]+1;this.children[l+2].findInner(e-d,n-d,i,r+d,s)}}map(e,n,i){return this==dr||e.maps.length==0?this:this.mapInner(e,n,0,0,i||Hc)}mapInner(e,n,i,r,s){let l;for(let d=0;d<this.local.length;d++){let f=this.local[d].map(e,i,r);f&&f.type.valid(n,f)?(l||(l=[])).push(f):s.onRemove&&s.onRemove(this.local[d].spec)}return this.children.length?wle(this.children,l||[],e,n,i,r,s):l?new Kn(l.sort(Uc),sd):dr}add(e,n){return n.length?this==dr?Kn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let r,s=0;e.forEach((d,f)=>{let p=f+i,b;if(b=d6(n,d,p)){for(r||(r=this.children.slice());s<r.length&&r[s]<f;)s+=3;r[s]==f?r[s+2]=r[s+2].addInner(d,b,p+1):r.splice(s,0,f,f+d.nodeSize,xm(b,d,p+1,Hc)),s+=3}});let l=u6(s?f6(n):n,-i);for(let d=0;d<l.length;d++)l[d].type.valid(e,l[d])||l.splice(d--,1);return new Kn(l.length?this.local.concat(l).sort(Uc):this.local,r||this.children)}remove(e){return e.length==0||this==dr?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,r=this.local;for(let s=0;s<i.length;s+=3){let l,d=i[s]+n,f=i[s+1]+n;for(let b=0,w;b<e.length;b++)(w=e[b])&&w.from>d&&w.to<f&&(e[b]=null,(l||(l=[])).push(w));if(!l)continue;i==this.children&&(i=this.children.slice());let p=i[s+2].removeInner(l,d+1);p!=dr?i[s+2]=p:(i.splice(s,3),s-=3)}if(r.length){for(let s=0,l;s<e.length;s++)if(l=e[s])for(let d=0;d<r.length;d++)r[d].eq(l,n)&&(r==this.local&&(r=this.local.slice()),r.splice(d--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new Kn(r,i):dr}forChild(e,n){if(this==dr)return this;if(n.isLeaf)return Kn.empty;let i,r;for(let d=0;d<this.children.length;d+=3)if(this.children[d]>=e){this.children[d]==e&&(i=this.children[d+2]);break}let s=e+1,l=s+n.content.size;for(let d=0;d<this.local.length;d++){let f=this.local[d];if(f.from<l&&f.to>s&&f.type instanceof zl){let p=Math.max(s,f.from)-s,b=Math.min(l,f.to)-s;p<b&&(r||(r=[])).push(f.copy(p,b))}}if(r){let d=new Kn(r.sort(Uc),sd);return i?new Il([d,i]):d}return i||dr}eq(e){if(this==e)return!0;if(!(e instanceof Kn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return hv(this.localsInner(e))}localsInner(e){if(this==dr)return sd;if(e.inlineContent||!this.local.some(zl.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof zl||n.push(this.local[i]);return n}forEachSet(e){e(this)}}Kn.empty=new Kn([],[]);Kn.removeOverlap=hv;const dr=Kn.empty;class Il{constructor(e){this.members=e}map(e,n){const i=this.members.map(r=>r.map(e,n,Hc));return Il.from(i)}forChild(e,n){if(n.isLeaf)return Kn.empty;let i=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(e,n);s!=dr&&(s instanceof Il?i=i.concat(s.members):i.push(s))}return Il.from(i)}eq(e){if(!(e instanceof Il)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(e);if(s.length)if(!n)n=s;else{i&&(n=n.slice(),i=!1);for(let l=0;l<s.length;l++)n.push(s[l])}}return n?hv(i?n:n.sort(Uc)):sd}static from(e){switch(e.length){case 0:return dr;case 1:return e[0];default:return new Il(e.every(n=>n instanceof Kn)?e:e.reduce((n,i)=>n.concat(i instanceof Kn?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function wle(t,e,n,i,r,s,l){let d=t.slice();for(let p=0,b=s;p<n.maps.length;p++){let w=0;n.maps[p].forEach((S,E,T,M)=>{let R=M-T-(E-S);for(let B=0;B<d.length;B+=3){let G=d[B+1];if(G<0||S>G+b-w)continue;let L=d[B]+b-w;E>=L?d[B+1]=S<=L?-2:-1:S>=b&&R&&(d[B]+=R,d[B+1]+=R)}w+=R}),b=n.maps[p].map(b,-1)}let f=!1;for(let p=0;p<d.length;p+=3)if(d[p+1]<0){if(d[p+1]==-2){f=!0,d[p+1]=-1;continue}let b=n.map(t[p]+s),w=b-r;if(w<0||w>=i.content.size){f=!0;continue}let S=n.map(t[p+1]+s,-1),E=S-r,{index:T,offset:M}=i.content.findIndex(w),R=i.maybeChild(T);if(R&&M==w&&M+R.nodeSize==E){let B=d[p+2].mapInner(n,R,b+1,t[p]+s+1,l);B!=dr?(d[p]=w,d[p+1]=E,d[p+2]=B):(d[p+1]=-2,f=!0)}else f=!0}if(f){let p=_le(d,t,e,n,r,s,l),b=xm(p,i,0,l);e=b.local;for(let w=0;w<d.length;w+=3)d[w+1]<0&&(d.splice(w,3),w-=3);for(let w=0,S=0;w<b.children.length;w+=3){let E=b.children[w];for(;S<d.length&&d[S]<E;)S+=3;d.splice(S,0,b.children[w],b.children[w+1],b.children[w+2])}}return new Kn(e.sort(Uc),d)}function u6(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let r=t[i];n.push(new Ar(r.from+e,r.to+e,r.type))}return n}function _le(t,e,n,i,r,s,l){function d(f,p){for(let b=0;b<f.local.length;b++){let w=f.local[b].map(i,r,p);w?n.push(w):l.onRemove&&l.onRemove(f.local[b].spec)}for(let b=0;b<f.children.length;b+=3)d(f.children[b+2],f.children[b]+p+1)}for(let f=0;f<t.length;f+=3)t[f+1]==-1&&d(t[f+2],e[f]+s+1);return n}function d6(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,r=null;for(let s=0,l;s<t.length;s++)(l=t[s])&&l.from>n&&l.to<i&&((r||(r=[])).push(l),t[s]=null);return r}function f6(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function xm(t,e,n,i){let r=[],s=!1;e.forEach((d,f)=>{let p=d6(t,d,f+n);if(p){s=!0;let b=xm(p,d,n+f+1,i);b!=dr&&r.push(f,f+d.nodeSize,b)}});let l=u6(s?f6(t):t,-n).sort(Uc);for(let d=0;d<l.length;d++)l[d].type.valid(e,l[d])||(i.onRemove&&i.onRemove(l[d].spec),l.splice(d--,1));return l.length||r.length?new Kn(l,r):dr}function Uc(t,e){return t.from-e.from||t.to-e.to}function hv(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let r=n+1;r<e.length;r++){let s=e[r];if(s.from==i.from){s.to!=i.to&&(e==t&&(e=t.slice()),e[r]=s.copy(s.from,i.to),s4(e,r+1,s.copy(i.to,s.to)));continue}else{s.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,s.from),s4(e,r,i.copy(s.from,i.to)));break}}}return e}function s4(t,e,n){for(;e<t.length&&Uc(n,t[e])>0;)e++;t.splice(e,0,n)}function qy(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=dr&&e.push(i)}),t.cursorWrapper&&e.push(Kn.create(t.state.doc,[t.cursorWrapper.deco])),Il.from(e)}const Cle={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Sle=qr&&Pl<=11;class Ele{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Ale{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ele,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);qr&&Pl<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),Sle&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Cle)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ZE(this.view)){if(this.suppressingSelectionUpdates)return Ro(this.view);if(qr&&Pl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Kc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let s=e.focusNode;s;s=bd(s))n.add(s);for(let s=e.anchorNode;s;s=bd(s))if(n.has(s)){i=s;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&ZE(e)&&!this.ignoreSelectionChange(i),s=-1,l=-1,d=!1,f=[];if(e.editable)for(let b=0;b<n.length;b++){let w=this.registerMutation(n[b],f);w&&(s=s<0?w.from:Math.min(w.from,s),l=l<0?w.to:Math.max(w.to,l),w.typeOver&&(d=!0))}if(js&&f.length){let b=f.filter(w=>w.nodeName=="BR");if(b.length==2){let[w,S]=b;w.parentNode&&w.parentNode.parentNode==S.parentNode?S.remove():w.remove()}else{let{focusNode:w}=this.currentSelection;for(let S of b){let E=S.parentNode;E&&E.nodeName=="LI"&&(!w||Ile(e,w)!=E)&&S.remove()}}}let p=null;s<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&y0(i)&&(p=av(e))&&p.eq(Bt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ro(e),this.currentSelection.set(i),e.scrollToSelection()):(s>-1||r)&&(s>-1&&(e.docView.markDirty(s,l),Tle(e)),this.handleDOMChange(s,l,d,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||Ro(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let b=0;b<e.addedNodes.length;b++){let w=e.addedNodes[b];n.push(w),w.nodeType==3&&(this.lastChangedTextNode=w)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let r=e.previousSibling,s=e.nextSibling;if(qr&&Pl<=11&&e.addedNodes.length)for(let b=0;b<e.addedNodes.length;b++){let{previousSibling:w,nextSibling:S}=e.addedNodes[b];(!w||Array.prototype.indexOf.call(e.addedNodes,w)<0)&&(r=w),(!S||Array.prototype.indexOf.call(e.addedNodes,S)<0)&&(s=S)}let l=r&&r.parentNode==e.target?Ji(r)+1:0,d=i.localPosFromDOM(e.target,l,-1),f=s&&s.parentNode==e.target?Ji(s):e.target.childNodes.length,p=i.localPosFromDOM(e.target,f,1);return{from:d,to:p}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let a4=new WeakMap,o4=!1;function Tle(t){if(!a4.has(t)&&(a4.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=js,o4)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),o4=!0}}function l4(t,e){let n=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Kc(l.node,l.offset,r,s)&&([n,i,r,s]=[r,s,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}}function Nle(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return l4(t,r)}let n;function i(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?l4(t,n):null}function Ile(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let i=t.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function kle(t,e,n){let{node:i,fromOffset:r,toOffset:s,from:l,to:d}=t.docView.parseRange(e,n),f=t.domSelectionRange(),p,b=f.anchorNode;if(b&&t.dom.contains(b.nodeType==1?b:b.parentNode)&&(p=[{node:b,offset:f.anchorOffset}],y0(f)||p.push({node:f.focusNode,offset:f.focusOffset})),hr&&t.input.lastKeyCode===8)for(let R=s;R>r;R--){let B=i.childNodes[R-1],G=B.pmViewDesc;if(B.nodeName=="BR"&&!G){s=R;break}if(!G||G.size)break}let w=t.state.doc,S=t.someProp("domParser")||jl.fromSchema(t.state.schema),E=w.resolve(l),T=null,M=S.parse(i,{topNode:E.parent,topMatch:E.parent.contentMatchAt(E.index()),topOpen:!0,from:r,to:s,preserveWhitespace:E.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:Mle,context:E});if(p&&p[0].pos!=null){let R=p[0].pos,B=p[1]&&p[1].pos;B==null&&(B=R),T={anchor:R+l,head:B+l}}return{doc:M,sel:T,from:l,to:d}}function Mle(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Nr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Nr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Ole=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Rle(t,e,n,i,r){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let z=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,U=av(t,z);if(U&&!t.state.selection.eq(U)){if(hr&&ko&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ne=>ne(t,kc(13,"Enter"))))return;let X=t.state.tr.setSelection(U);z=="pointer"?X.setMeta("pointer",!0):z=="key"&&X.scrollIntoView(),s&&X.setMeta("composition",s),t.dispatch(X)}return}let l=t.state.doc.resolve(e),d=l.sharedDepth(n);e=l.before(d+1),n=t.state.doc.resolve(n).after(d+1);let f=t.state.selection,p=kle(t,e,n),b=t.state.doc,w=b.slice(p.from,p.to),S,E;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(S=t.state.selection.to,E="end"):(S=t.state.selection.from,E="start"),t.input.lastKeyCode=null;let T=Lle(w.content,p.doc.content,p.from,S,E);if(T&&t.input.domChangeCount++,(vd&&t.input.lastIOSEnter>Date.now()-225||ko)&&r.some(z=>z.nodeType==1&&!Ole.test(z.nodeName))&&(!T||T.endA>=T.endB)&&t.someProp("handleKeyDown",z=>z(t,kc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!T)if(i&&f instanceof wt&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))T={start:f.from,endA:f.to,endB:f.to};else{if(p.sel){let z=c4(t,t.state.doc,p.sel);if(z&&!z.eq(t.state.selection)){let U=t.state.tr.setSelection(z);s&&U.setMeta("composition",s),t.dispatch(U)}}return}t.state.selection.from<t.state.selection.to&&T.start==T.endB&&t.state.selection instanceof wt&&(T.start>t.state.selection.from&&T.start<=t.state.selection.from+2&&t.state.selection.from>=p.from?T.start=t.state.selection.from:T.endA<t.state.selection.to&&T.endA>=t.state.selection.to-2&&t.state.selection.to<=p.to&&(T.endB+=t.state.selection.to-T.endA,T.endA=t.state.selection.to)),qr&&Pl<=11&&T.endB==T.start+1&&T.endA==T.start&&T.start>p.from&&p.doc.textBetween(T.start-p.from-1,T.start-p.from+1)==" "&&(T.start--,T.endA--,T.endB--);let M=p.doc.resolveNoCache(T.start-p.from),R=p.doc.resolveNoCache(T.endB-p.from),B=b.resolve(T.start),G=M.sameParent(R)&&M.parent.inlineContent&&B.end()>=T.endA;if((vd&&t.input.lastIOSEnter>Date.now()-225&&(!G||r.some(z=>z.nodeName=="DIV"||z.nodeName=="P"))||!G&&M.pos<p.doc.content.size&&(!M.sameParent(R)||!M.parent.inlineContent)&&M.pos<R.pos&&!/\S/.test(p.doc.textBetween(M.pos,R.pos,"","")))&&t.someProp("handleKeyDown",z=>z(t,kc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>T.start&&Ble(b,T.start,T.endA,M,R)&&t.someProp("handleKeyDown",z=>z(t,kc(8,"Backspace")))){ko&&hr&&t.domObserver.suppressSelectionUpdates();return}hr&&T.endB==T.start&&(t.input.lastChromeDelete=Date.now()),ko&&!G&&M.start()!=R.start()&&R.parentOffset==0&&M.depth==R.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==T.endA&&(T.endB-=2,R=p.doc.resolveNoCache(T.endB-p.from),setTimeout(()=>{t.someProp("handleKeyDown",function(z){return z(t,kc(13,"Enter"))})},20));let L=T.start,k=T.endA,D=z=>{let U=z||t.state.tr.replace(L,k,p.doc.slice(T.start-p.from,T.endB-p.from));if(p.sel){let X=c4(t,U.doc,p.sel);X&&!(hr&&t.composing&&X.empty&&(T.start!=T.endB||t.input.lastChromeDelete<Date.now()-100)&&(X.head==L||X.head==U.mapping.map(k)-1)||qr&&X.empty&&X.head==L)&&U.setSelection(X)}return s&&U.setMeta("composition",s),U.scrollIntoView()},P;if(G){if(M.pos==R.pos){qr&&Pl<=11&&M.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ro(t),20));let z=D(t.state.tr.delete(L,k)),U=b.resolve(T.start).marksAcross(b.resolve(T.endA));U&&z.ensureMarks(U),t.dispatch(z)}else if(T.endA==T.endB&&(P=Dle(M.parent.content.cut(M.parentOffset,R.parentOffset),B.parent.content.cut(B.parentOffset,T.endA-B.start())))){let z=D(t.state.tr);P.type=="add"?z.addMark(L,k,P.mark):z.removeMark(L,k,P.mark),t.dispatch(z)}else if(M.parent.child(M.index()).isText&&M.index()==R.index()-(R.textOffset?0:1)){let z=M.parent.textBetween(M.parentOffset,R.parentOffset),U=()=>D(t.state.tr.insertText(z,L,k));t.someProp("handleTextInput",X=>X(t,L,k,z,U))||t.dispatch(U())}}else t.dispatch(D())}function c4(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:ov(t,e.resolve(n.anchor),e.resolve(n.head))}function Dle(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,r=n,s=i,l,d,f;for(let b=0;b<i.length;b++)r=i[b].removeFromSet(r);for(let b=0;b<n.length;b++)s=n[b].removeFromSet(s);if(r.length==1&&s.length==0)d=r[0],l="add",f=b=>b.mark(d.addToSet(b.marks));else if(r.length==0&&s.length==1)d=s[0],l="remove",f=b=>b.mark(d.removeFromSet(b.marks));else return null;let p=[];for(let b=0;b<e.childCount;b++)p.push(f(e.child(b)));if(je.from(p).eq(t))return{mark:d,type:l}}function Ble(t,e,n,i,r){if(n-e<=r.pos-i.pos||Wy(i,!0,!1)<r.pos)return!1;let s=t.resolve(e);if(!i.parent.isTextblock){let d=s.nodeAfter;return d!=null&&n==e+d.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let l=t.resolve(Wy(s,!0,!0));return!l.parent.isTextblock||l.pos>n||Wy(l,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(l.parent.content)}function Wy(t,e,n){let i=t.depth,r=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,r++,e=!1;if(n){let s=t.node(i).maybeChild(t.indexAfter(i));for(;s&&!s.isLeaf;)s=s.firstChild,r++}return r}function Lle(t,e,n,i,r){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:l,b:d}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let f=Math.max(0,s-Math.min(l,d));i-=l+f-s}if(l<s&&t.size<e.size){let f=i<=s&&i>=l?s-i:0;s-=f,s&&s<e.size&&u4(e.textBetween(s-1,s+1))&&(s+=f?1:-1),d=s+(d-l),l=s}else if(d<s){let f=i<=s&&i>=d?s-i:0;s-=f,s&&s<t.size&&u4(t.textBetween(s-1,s+1))&&(s+=f?1:-1),l=s+(l-d),d=s}return{start:s,endA:l,endB:d}}function u4(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class h6{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new tle,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(m4),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=h4(this),f4(this),this.nodeViews=p4(this),this.docView=GE(this.state.doc,d4(this),qy(this),this.dom,this),this.domObserver=new Ale(this,(i,r,s,l)=>Rle(this,i,r,s,l)),this.domObserver.start(),nle(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ib(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(m4),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let r=this.state,s=!1,l=!1;e.storedMarks&&this.composing&&(a6(this),l=!0),this.state=e;let d=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(d||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let E=p4(this);Ple(E,this.nodeViews)&&(this.nodeViews=E,s=!0)}(d||n.handleDOMEvents!=this._props.handleDOMEvents)&&ib(this),this.editable=h4(this),f4(this);let f=qy(this),p=d4(this),b=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",w=s||!this.docView.matchesNode(e.doc,p,f);(w||!e.selection.eq(r.selection))&&(l=!0);let S=b=="preserve"&&l&&this.dom.style.overflowAnchor==null&&goe(this);if(l){this.domObserver.stop();let E=w&&(qr||hr)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&jle(r.selection,e.selection);if(w){let T=hr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=mle(this)),(s||!this.docView.update(e.doc,p,f,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=GE(e.doc,p,f,this.dom,this)),T&&!this.trackWrites&&(E=!0)}E||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&zoe(this))?Ro(this,E):(X8(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((i=this.dragging)===null||i===void 0)&&i.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),b=="reset"?this.dom.scrollTop=0:b=="to selection"?this.scrollToSelection():S&&xoe(S)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof pt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&FE(this,n.getBoundingClientRect(),e)}else FE(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,r=-1;if(this.state.doc.nodeAt(i.from)==i.node)r=i.from;else{let s=i.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==i.node&&(r=s)}this.dragging=new l6(e.slice,e.move,r<0?void 0:pt.create(this.state.doc,r))}someProp(e,n){let i=this._props&&this._props[e],r;if(i!=null&&(r=n?n(i):i))return r;for(let l=0;l<this.directPlugins.length;l++){let d=this.directPlugins[l].props[e];if(d!=null&&(r=n?n(d):d))return r}let s=this.state.plugins;if(s)for(let l=0;l<s.length;l++){let d=s[l].props[e];if(d!=null&&(r=n?n(d):d))return r}}hasFocus(){if(qr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&yoe(this.dom),Ro(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Coe(this,e)}coordsAtPos(e,n=1){return z8(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let r=this.docView.posFromDOM(e,n,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return Noe(this,n||this.state,e)}pasteHTML(e,n){return mh(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return mh(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return lv(this,e)}destroy(){this.docView&&(ile(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],qy(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,soe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return sle(this,e)}domSelectionRange(){let e=this.domSelection();return e?Nr&&this.root.nodeType===11&&uoe(this.dom.ownerDocument)==this.dom&&Nle(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}h6.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function d4(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[Ar.node(0,t.state.doc.content.size,e)]}function f4(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Ar.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function h4(t){return!t.someProp("editable",e=>e(t.state)===!1)}function jle(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function p4(t){let e=Object.create(null);function n(i){for(let r in i)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=i[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Ple(t,e){let n=0,i=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)i++;return n!=i}function m4(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Gl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ym={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Fle=typeof navigator<"u"&&/Mac/.test(navigator.platform),zle=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var er=0;er<10;er++)Gl[48+er]=Gl[96+er]=String(er);for(var er=1;er<=24;er++)Gl[er+111]="F"+er;for(var er=65;er<=90;er++)Gl[er]=String.fromCharCode(er+32),ym[er]=String.fromCharCode(er);for(var Xy in Gl)ym.hasOwnProperty(Xy)||(ym[Xy]=Gl[Xy]);function Hle(t){var e=Fle&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||zle&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?ym:Gl)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Ule=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),$le=typeof navigator<"u"&&/Win/.test(navigator.platform);function Vle(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,r,s,l;for(let d=0;d<e.length-1;d++){let f=e[d];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))r=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))Ule?l=!0:r=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(n="Alt-"+n),r&&(n="Ctrl-"+n),l&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Gle(t){let e=Object.create(null);for(let n in t)e[Vle(n)]=t[n];return e}function Yy(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function qle(t){return new ai({props:{handleKeyDown:p6(t)}})}function p6(t){let e=Gle(t);return function(n,i){let r=Hle(i),s,l=e[Yy(r,i)];if(l&&l(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let d=e[Yy(r,i,!1)];if(d&&d(n.state,n.dispatch,n))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!($le&&i.ctrlKey&&i.altKey)&&(s=Gl[i.keyCode])&&s!=r){let d=e[Yy(s,i)];if(d&&d(n.state,n.dispatch,n))return!0}}return!1}}const pv=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function m6(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const g6=(t,e,n)=>{let i=m6(t,n);if(!i)return!1;let r=mv(i);if(!r){let l=i.blockRange(),d=l&&kd(l);return d==null?!1:(e&&e(t.tr.lift(l,d).scrollIntoView()),!0)}let s=r.nodeBefore;if(E6(t,r,e,-1))return!0;if(i.parent.content.size==0&&(wd(s,"end")||pt.isSelectable(s)))for(let l=i.depth;;l--){let d=g0(t.doc,i.before(l),i.after(l),Xe.empty);if(d&&d.slice.size<d.to-d.from){if(e){let f=t.tr.step(d);f.setSelection(wd(s,"end")?Bt.findFrom(f.doc.resolve(f.mapping.map(r.pos,-1)),-1):pt.create(f.doc,r.pos-s.nodeSize)),e(f.scrollIntoView())}return!0}if(l==1||i.node(l-1).childCount>1)break}return s.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0):!1},Wle=(t,e,n)=>{let i=m6(t,n);if(!i)return!1;let r=mv(i);return r?x6(t,r,e):!1},Xle=(t,e,n)=>{let i=b6(t,n);if(!i)return!1;let r=gv(i);return r?x6(t,r,e):!1};function x6(t,e,n){let i=e.nodeBefore,r=i,s=e.pos-1;for(;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;let b=r.lastChild;if(!b)return!1;r=b}let l=e.nodeAfter,d=l,f=e.pos+1;for(;!d.isTextblock;f++){if(d.type.spec.isolating)return!1;let b=d.firstChild;if(!b)return!1;d=b}let p=g0(t.doc,s,f,Xe.empty);if(!p||p.from!=s||p instanceof Ui&&p.slice.size>=f-s)return!1;if(n){let b=t.tr.step(p);b.setSelection(wt.create(b.doc,s)),n(b.scrollIntoView())}return!0}function wd(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const y6=(t,e,n)=>{let{$head:i,empty:r}=t.selection,s=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;s=mv(i)}let l=s&&s.nodeBefore;return!l||!pt.isSelectable(l)?!1:(e&&e(t.tr.setSelection(pt.create(t.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)};function mv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function b6(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const v6=(t,e,n)=>{let i=b6(t,n);if(!i)return!1;let r=gv(i);if(!r)return!1;let s=r.nodeAfter;if(E6(t,r,e,1))return!0;if(i.parent.content.size==0&&(wd(s,"start")||pt.isSelectable(s))){let l=g0(t.doc,i.before(),i.after(),Xe.empty);if(l&&l.slice.size<l.to-l.from){if(e){let d=t.tr.step(l);d.setSelection(wd(s,"start")?Bt.findFrom(d.doc.resolve(d.mapping.map(r.pos)),1):pt.create(d.doc,d.mapping.map(r.pos))),e(d.scrollIntoView())}return!0}}return s.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0):!1},w6=(t,e,n)=>{let{$head:i,empty:r}=t.selection,s=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;s=gv(i)}let l=s&&s.nodeAfter;return!l||!pt.isSelectable(l)?!1:(e&&e(t.tr.setSelection(pt.create(t.doc,s.pos)).scrollIntoView()),!0)};function gv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Yle=(t,e)=>{let n=t.selection,i=n instanceof pt,r;if(i){if(n.node.isTextblock||!Kl(t.doc,n.from))return!1;r=n.from}else if(r=m0(t.doc,n.from,-1),r==null)return!1;if(e){let s=t.tr.join(r);i&&s.setSelection(pt.create(s.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Kle=(t,e)=>{let n=t.selection,i;if(n instanceof pt){if(n.node.isTextblock||!Kl(t.doc,n.to))return!1;i=n.to}else if(i=m0(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},Zle=(t,e)=>{let{$from:n,$to:i}=t.selection,r=n.blockRange(i),s=r&&kd(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},_6=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function xv(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Qle=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let r=n.node(-1),s=n.indexAfter(-1),l=xv(r.contentMatchAt(s));if(!l||!r.canReplaceWith(s,s,l))return!1;if(e){let d=n.after(),f=t.tr.replaceWith(d,d,l.createAndFill());f.setSelection(Bt.near(f.doc.resolve(d),1)),e(f.scrollIntoView())}return!0},C6=(t,e)=>{let n=t.selection,{$from:i,$to:r}=n;if(n instanceof gs||i.parent.inlineContent||r.parent.inlineContent)return!1;let s=xv(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let l=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,d=t.tr.insert(l,s.createAndFill());d.setSelection(wt.create(d.doc,l+1)),e(d.scrollIntoView())}return!0},S6=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Oo(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let i=n.blockRange(),r=i&&kd(i);return r==null?!1:(e&&e(t.tr.lift(i,r).scrollIntoView()),!0)};function Jle(t){return(e,n)=>{let{$from:i,$to:r}=e.selection;if(e.selection instanceof pt&&e.selection.node.isBlock)return!i.parentOffset||!Oo(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let s=[],l,d,f=!1,p=!1;for(let E=i.depth;;E--)if(i.node(E).isBlock){f=i.end(E)==i.pos+(i.depth-E),p=i.start(E)==i.pos-(i.depth-E),d=xv(i.node(E-1).contentMatchAt(i.indexAfter(E-1))),s.unshift(f&&d?{type:d}:null),l=E;break}else{if(E==1)return!1;s.unshift(null)}let b=e.tr;(e.selection instanceof wt||e.selection instanceof gs)&&b.deleteSelection();let w=b.mapping.map(i.pos),S=Oo(b.doc,w,s.length,s);if(S||(s[0]=d?{type:d}:null,S=Oo(b.doc,w,s.length,s)),!S)return!1;if(b.split(w,s.length,s),!f&&p&&i.node(l).type!=d){let E=b.mapping.map(i.before(l)),T=b.doc.resolve(E);d&&i.node(l-1).canReplaceWith(T.index(),T.index()+1,d)&&b.setNodeMarkup(b.mapping.map(i.before(l)),d)}return n&&n(b.scrollIntoView()),!0}}const ece=Jle(),tce=(t,e)=>{let{$from:n,to:i}=t.selection,r,s=n.sharedDepth(i);return s==0?!1:(r=n.before(s),e&&e(t.tr.setSelection(pt.create(t.doc,r))),!0)};function nce(t,e,n){let i=e.nodeBefore,r=e.nodeAfter,s=e.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(r.isTextblock||Kl(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function E6(t,e,n,i){let r=e.nodeBefore,s=e.nodeAfter,l,d,f=r.type.spec.isolating||s.type.spec.isolating;if(!f&&nce(t,e,n))return!0;let p=!f&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(l=(d=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&d.matchType(l[0]||s.type).validEnd){if(n){let E=e.pos+s.nodeSize,T=je.empty;for(let B=l.length-1;B>=0;B--)T=je.from(l[B].create(null,T));T=je.from(r.copy(T));let M=t.tr.step(new $i(e.pos-1,E,e.pos,E,new Xe(T,1,0),l.length,!0)),R=M.doc.resolve(E+2*l.length);R.nodeAfter&&R.nodeAfter.type==r.type&&Kl(M.doc,R.pos)&&M.join(R.pos),n(M.scrollIntoView())}return!0}let b=s.type.spec.isolating||i>0&&f?null:Bt.findFrom(e,1),w=b&&b.$from.blockRange(b.$to),S=w&&kd(w);if(S!=null&&S>=e.depth)return n&&n(t.tr.lift(w,S).scrollIntoView()),!0;if(p&&wd(s,"start",!0)&&wd(r,"end")){let E=r,T=[];for(;T.push(E),!E.isTextblock;)E=E.lastChild;let M=s,R=1;for(;!M.isTextblock;M=M.firstChild)R++;if(E.canReplace(E.childCount,E.childCount,M.content)){if(n){let B=je.empty;for(let L=T.length-1;L>=0;L--)B=je.from(T[L].copy(B));let G=t.tr.step(new $i(e.pos-T.length,e.pos+s.nodeSize,e.pos+R,e.pos+s.nodeSize-R,new Xe(B,T.length,0),0,!0));n(G.scrollIntoView())}return!0}}return!1}function A6(t){return function(e,n){let i=e.selection,r=t<0?i.$from:i.$to,s=r.depth;for(;r.node(s).isInline;){if(!s)return!1;s--}return r.node(s).isTextblock?(n&&n(e.tr.setSelection(wt.create(e.doc,t<0?r.start(s):r.end(s)))),!0):!1}}const ice=A6(-1),rce=A6(1);function sce(t,e=null){return function(n,i){let{$from:r,$to:s}=n.selection,l=r.blockRange(s),d=l&&iv(l,t,e);return d?(i&&i(n.tr.wrap(l,d).scrollIntoView()),!0):!1}}function g4(t,e=null){return function(n,i){let r=!1;for(let s=0;s<n.selection.ranges.length&&!r;s++){let{$from:{pos:l},$to:{pos:d}}=n.selection.ranges[s];n.doc.nodesBetween(l,d,(f,p)=>{if(r)return!1;if(!(!f.isTextblock||f.hasMarkup(t,e)))if(f.type==t)r=!0;else{let b=n.doc.resolve(p),w=b.index();r=b.parent.canReplaceWith(w,w+1,t)}})}if(!r)return!1;if(i){let s=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:d},$to:{pos:f}}=n.selection.ranges[l];s.setBlockType(d,f,t,e)}i(s.scrollIntoView())}return!0}}function yv(...t){return function(e,n,i){for(let r=0;r<t.length;r++)if(t[r](e,n,i))return!0;return!1}}yv(pv,g6,y6);yv(pv,v6,w6);yv(_6,C6,S6,ece);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function ace(t,e=null){return function(n,i){let{$from:r,$to:s}=n.selection,l=r.blockRange(s);if(!l)return!1;let d=i?n.tr:null;return oce(d,l,t,e)?(i&&i(d.scrollIntoView()),!0):!1}}function oce(t,e,n,i=null){let r=!1,s=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=l.resolve(e.start-2);s=new dm(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new dm(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let d=iv(s,n,i,e);return d?(t&&lce(t,e,d,r,n),!0):!1}function lce(t,e,n,i,r){let s=je.empty;for(let b=n.length-1;b>=0;b--)s=je.from(n[b].type.create(n[b].attrs,s));t.step(new $i(e.start-(i?2:0),e.end,e.start,e.end,new Xe(s,0,0),n.length,!0));let l=0;for(let b=0;b<n.length;b++)n[b].type==r&&(l=b+1);let d=n.length-l,f=e.start+n.length-(i?2:0),p=e.parent;for(let b=e.startIndex,w=e.endIndex,S=!0;b<w;b++,S=!1)!S&&Oo(t.doc,f,d)&&(t.split(f,d),f+=2*d),f+=p.child(b).nodeSize;return t}function cce(t){return function(e,n){let{$from:i,$to:r}=e.selection,s=i.blockRange(r,l=>l.childCount>0&&l.firstChild.type==t);return s?n?i.node(s.depth-1).type==t?uce(e,n,t,s):dce(e,n,s):!0:!1}}function uce(t,e,n,i){let r=t.tr,s=i.end,l=i.$to.end(i.depth);s<l&&(r.step(new $i(s-1,l,s,l,new Xe(je.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new dm(r.doc.resolve(i.$from.pos),r.doc.resolve(l),i.depth));const d=kd(i);if(d==null)return!1;r.lift(i,d);let f=r.doc.resolve(r.mapping.map(s,-1)-1);return Kl(r.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&r.join(f.pos),e(r.scrollIntoView()),!0}function dce(t,e,n){let i=t.tr,r=n.parent;for(let E=n.end,T=n.endIndex-1,M=n.startIndex;T>M;T--)E-=r.child(T).nodeSize,i.delete(E-1,E+1);let s=i.doc.resolve(n.start),l=s.nodeAfter;if(i.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let d=n.startIndex==0,f=n.endIndex==r.childCount,p=s.node(-1),b=s.index(-1);if(!p.canReplace(b+(d?0:1),b+1,l.content.append(f?je.empty:je.from(r))))return!1;let w=s.pos,S=w+l.nodeSize;return i.step(new $i(w-(d?1:0),S+(f?1:0),w+1,S-1,new Xe((d?je.empty:je.from(r.copy(je.empty))).append(f?je.empty:je.from(r.copy(je.empty))),d?0:1,f?0:1),d?0:1)),e(i.scrollIntoView()),!0}function fce(t){return function(e,n){let{$from:i,$to:r}=e.selection,s=i.blockRange(r,p=>p.childCount>0&&p.firstChild.type==t);if(!s)return!1;let l=s.startIndex;if(l==0)return!1;let d=s.parent,f=d.child(l-1);if(f.type!=t)return!1;if(n){let p=f.lastChild&&f.lastChild.type==d.type,b=je.from(p?t.create():null),w=new Xe(je.from(t.create(null,je.from(d.type.create(null,b)))),p?3:1,0),S=s.start,E=s.end;n(e.tr.step(new $i(S-(p?3:1),E,S,E,w,1,!0)).scrollIntoView())}return!0}}var hce=Object.defineProperty,T6=(t,e)=>{for(var n in e)hce(t,n,{get:e[n],enumerable:!0})};function w0(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:r}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return i},get doc(){return r},get tr(){return i=n.selection,r=n.doc,s=n.storedMarks,n}}}var _0=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:i}=e,{tr:r}=n,s=this.buildProps(r);return Object.fromEntries(Object.entries(t).map(([l,d])=>[l,(...p)=>{const b=d(...p)(s);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(r),b}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:i,state:r}=this,{view:s}=i,l=[],d=!!t,f=t||r.tr,p=()=>(!d&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(f),l.every(w=>w===!0)),b={...Object.fromEntries(Object.entries(n).map(([w,S])=>[w,(...T)=>{const M=this.buildProps(f,e),R=S(...T)(M);return l.push(R),b}])),run:p};return b}createCan(t){const{rawCommands:e,state:n}=this,i=!1,r=t||n.tr,s=this.buildProps(r,i);return{...Object.fromEntries(Object.entries(e).map(([d,f])=>[d,(...p)=>f(...p)({...s,dispatch:void 0})])),chain:()=>this.createChain(r,i)}}buildProps(t,e=!0){const{rawCommands:n,editor:i,state:r}=this,{view:s}=i,l={tr:t,editor:i,view:s,state:w0({state:r,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...p)=>f(...p)(l)]))}};return l}},pce=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(i=>i.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(i=>i!==e):delete this.callbacks[t]),this}once(t,e){const n=(...i)=>{this.off(t,n),e.apply(this,i)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function N6(t,e){const n=new M8(t);return e.forEach(i=>{i.steps.forEach(r=>{n.step(r)})}),n}var I6=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):i.nodeType===1&&I6(i)}return t};function m1(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return I6(n)}function xh(t,e,n){if(t instanceof ea||t instanceof je)return t;n={slice:!0,parseOptions:{},...n};const i=typeof t=="object"&&t!==null,r=typeof t=="string";if(i)try{if(Array.isArray(t)&&t.length>0)return je.fromArray(t.map(d=>e.nodeFromJSON(d)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),xh("",e,n)}if(r){if(n.errorOnInvalidContent){let l=!1,d="";const f=new m8({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(l=!0,d=typeof p=="string"?p:p.outerHTML,null)}]}})});if(n.slice?jl.fromSchema(f).parseSlice(m1(t),n.parseOptions):jl.fromSchema(f).parse(m1(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${d}`)})}const s=jl.fromSchema(e);return n.slice?s.parseSlice(m1(t),n.parseOptions).content:s.parse(m1(t),n.parseOptions)}return xh("",e,n)}function rb(t,e,n={},i={}){return xh(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}function mce(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function gce(t,e,n){const i=[];return t.nodesBetween(e.from,e.to,(r,s)=>{n(r)&&i.push({node:r,pos:s})}),i}function xce(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function C0(t){return e=>xce(e.$from,t)}function ht(t,e,n){return t.config[e]===void 0&&t.parent?ht(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ht(t.parent,e,n):null}):t.config[e]}function bv(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},i=ht(e,"addExtensions",n);return i?[e,...bv(i())]:e}).flat(10)}function vv(t,e){const n=ru.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function k6(t){return typeof t=="function"}function _n(t,e=void 0,...n){return k6(t)?e?t.bind(e)(...n):t(...n):t}function yce(t={}){return Object.keys(t).length===0&&t.constructor===Object}function yh(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),i=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function M6(t){const e=[],{nodeExtensions:n,markExtensions:i}=yh(t),r=[...n,...i],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const d={name:l.name,options:l.options,storage:l.storage,extensions:r},f=ht(l,"addGlobalAttributes",d);if(!f)return;f().forEach(b=>{b.types.forEach(w=>{Object.entries(b.attributes).forEach(([S,E])=>{e.push({type:w,name:S,attribute:{...s,...E}})})})})}),r.forEach(l=>{const d={name:l.name,options:l.options,storage:l.storage},f=ht(l,"addAttributes",d);if(!f)return;const p=f();Object.entries(p).forEach(([b,w])=>{const S={...s,...w};typeof(S==null?void 0:S.default)=="function"&&(S.default=S.default()),S!=null&&S.isRequired&&(S==null?void 0:S.default)===void 0&&delete S.default,e.push({type:l.name,name:b,attribute:S})})}),e}function xi(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([r,s])=>{if(!i[r]){i[r]=s;return}if(r==="class"){const d=s?String(s).split(" "):[],f=i[r]?i[r].split(" "):[],p=d.filter(b=>!f.includes(b));i[r]=[...f,...p].join(" ")}else if(r==="style"){const d=s?s.split(";").map(b=>b.trim()).filter(Boolean):[],f=i[r]?i[r].split(";").map(b=>b.trim()).filter(Boolean):[],p=new Map;f.forEach(b=>{const[w,S]=b.split(":").map(E=>E.trim());p.set(w,S)}),d.forEach(b=>{const[w,S]=b.split(":").map(E=>E.trim());p.set(w,S)}),i[r]=Array.from(p.entries()).map(([b,w])=>`${b}: ${w}`).join("; ")}else i[r]=s}),i},{})}function bm(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>xi(n,i),{})}function bce(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function x4(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const r=e.reduce((s,l)=>{const d=l.attribute.parseHTML?l.attribute.parseHTML(n):bce(n.getAttribute(l.name));return d==null?s:{...s,[l.name]:d}},{});return{...i,...r}}}}function y4(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&yce(n)?!1:n!=null))}function vce(t,e){var n;const i=M6(t),{nodeExtensions:r,markExtensions:s}=yh(t),l=(n=r.find(p=>ht(p,"topNode")))==null?void 0:n.name,d=Object.fromEntries(r.map(p=>{const b=i.filter(B=>B.type===p.name),w={name:p.name,options:p.options,storage:p.storage,editor:e},S=t.reduce((B,G)=>{const L=ht(G,"extendNodeSchema",w);return{...B,...L?L(p):{}}},{}),E=y4({...S,content:_n(ht(p,"content",w)),marks:_n(ht(p,"marks",w)),group:_n(ht(p,"group",w)),inline:_n(ht(p,"inline",w)),atom:_n(ht(p,"atom",w)),selectable:_n(ht(p,"selectable",w)),draggable:_n(ht(p,"draggable",w)),code:_n(ht(p,"code",w)),whitespace:_n(ht(p,"whitespace",w)),linebreakReplacement:_n(ht(p,"linebreakReplacement",w)),defining:_n(ht(p,"defining",w)),isolating:_n(ht(p,"isolating",w)),attrs:Object.fromEntries(b.map(B=>{var G,L;return[B.name,{default:(G=B==null?void 0:B.attribute)==null?void 0:G.default,validate:(L=B==null?void 0:B.attribute)==null?void 0:L.validate}]}))}),T=_n(ht(p,"parseHTML",w));T&&(E.parseDOM=T.map(B=>x4(B,b)));const M=ht(p,"renderHTML",w);M&&(E.toDOM=B=>M({node:B,HTMLAttributes:bm(B,b)}));const R=ht(p,"renderText",w);return R&&(E.toText=R),[p.name,E]})),f=Object.fromEntries(s.map(p=>{const b=i.filter(R=>R.type===p.name),w={name:p.name,options:p.options,storage:p.storage,editor:e},S=t.reduce((R,B)=>{const G=ht(B,"extendMarkSchema",w);return{...R,...G?G(p):{}}},{}),E=y4({...S,inclusive:_n(ht(p,"inclusive",w)),excludes:_n(ht(p,"excludes",w)),group:_n(ht(p,"group",w)),spanning:_n(ht(p,"spanning",w)),code:_n(ht(p,"code",w)),attrs:Object.fromEntries(b.map(R=>{var B,G;return[R.name,{default:(B=R==null?void 0:R.attribute)==null?void 0:B.default,validate:(G=R==null?void 0:R.attribute)==null?void 0:G.validate}]}))}),T=_n(ht(p,"parseHTML",w));T&&(E.parseDOM=T.map(R=>x4(R,b)));const M=ht(p,"renderHTML",w);return M&&(E.toDOM=R=>M({mark:R,HTMLAttributes:bm(R,b)})),[p.name,E]}));return new m8({topNode:l,nodes:d,marks:f})}function wce(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return Array.from(new Set(e))}function wv(t){return t.sort((n,i)=>{const r=ht(n,"priority")||100,s=ht(i,"priority")||100;return r>s?-1:r<s?1:0})}function O6(t){const e=wv(bv(t)),n=wce(e.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),e}function R6(t,e,n){const{from:i,to:r}=e,{blockSeparator:s=`

`,textSerializers:l={}}=n||{};let d="";return t.nodesBetween(i,r,(f,p,b,w)=>{var S;f.isBlock&&p>i&&(d+=s);const E=l==null?void 0:l[f.type.name];if(E)return b&&(d+=E({node:f,pos:p,parent:b,index:w,range:e})),!1;f.isText&&(d+=(S=f==null?void 0:f.text)==null?void 0:S.slice(Math.max(i,p)-p,r-p))}),d}function _ce(t,e){const n={from:0,to:t.content.size};return R6(t,n,e)}function D6(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Po(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function B6(t,e){const n=Po(e,t.schema),{from:i,to:r,empty:s}=t.selection,l=[];s?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,r,f=>{l.push(...f.marks)});const d=l.find(f=>f.type.name===n.name);return d?{...d.attrs}:{}}function Ci(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Cce(t,e){const n=Ci(e,t.schema),{from:i,to:r}=t.selection,s=[];t.doc.nodesBetween(i,r,d=>{s.push(d)});const l=s.reverse().find(d=>d.type.name===n.name);return l?{...l.attrs}:{}}function S0(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function L6(t,e){const n=S0(typeof e=="string"?e:e.name,t.schema);return n==="node"?Cce(t,e):n==="mark"?B6(t,e):{}}function Sce(t,e=JSON.stringify){const n={};return t.filter(i=>{const r=e(i);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function Ece(t){const e=Sce(t);return e.length===1?e:e.filter((n,i)=>!e.filter((s,l)=>l!==i).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function j6(t){const{mapping:e,steps:n}=t,i=[];return e.maps.forEach((r,s)=>{const l=[];if(r.ranges.length)r.forEach((d,f)=>{l.push({from:d,to:f})});else{const{from:d,to:f}=n[s];if(d===void 0||f===void 0)return;l.push({from:d,to:f})}l.forEach(({from:d,to:f})=>{const p=e.slice(s).map(d,-1),b=e.slice(s).map(f),w=e.invert().map(p,-1),S=e.invert().map(b);i.push({oldRange:{from:w,to:S},newRange:{from:p,to:b}})})}),Ece(i)}function _v(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function vm(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(r=>n.strict?e[r]===t[r]:_v(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function P6(t,e,n={}){return t.find(i=>i.type===e&&vm(Object.fromEntries(Object.keys(n).map(r=>[r,i.attrs[r]])),n))}function b4(t,e,n={}){return!!P6(t,e,n)}function Cv(t,e,n){var i;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(b=>b.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(b=>b.type===e)||(n=n||((i=r.node.marks[0])==null?void 0:i.attrs),!P6([...r.node.marks],e,n)))return;let l=r.index,d=t.start()+r.offset,f=l+1,p=d+r.node.nodeSize;for(;l>0&&b4([...t.parent.child(l-1).marks],e,n);)l-=1,d-=t.parent.child(l).nodeSize;for(;f<t.parent.childCount&&b4([...t.parent.child(f).marks],e,n);)p+=t.parent.child(f).nodeSize,f+=1;return{from:d,to:p}}function Sv(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(r=>{const s=n.resolve(t),l=Cv(s,r.type);l&&i.push({mark:r,...l})}):n.nodesBetween(t,e,(r,s)=>{!r||(r==null?void 0:r.nodeSize)===void 0||i.push(...r.marks.map(l=>({from:s,to:s+r.nodeSize,mark:l})))}),i}var Ace=(t,e,n,i=20)=>{const r=t.doc.resolve(n);let s=i,l=null;for(;s>0&&l===null;){const d=r.node(s);(d==null?void 0:d.type.name)===e?l=d:s-=1}return[l,s]};function Ky(t,e){return e.nodes[t]||e.marks[t]||null}function D1(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const r=t.find(s=>s.type===e&&s.name===i);return r?r.attribute.keepOnSplit:!1}))}var Tce=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(r,s,l,d)=>{var f,p;const b=((p=(f=r.type.spec).toText)==null?void 0:p.call(f,{node:r,pos:s,parent:l,index:d}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?b:b.slice(0,Math.max(0,i-s))}),n};function sb(t,e,n={}){const{empty:i,ranges:r}=t.selection,s=e?Po(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(w=>s?s.name===w.type.name:!0).find(w=>vm(w.attrs,n,{strict:!1}));let l=0;const d=[];if(r.forEach(({$from:w,$to:S})=>{const E=w.pos,T=S.pos;t.doc.nodesBetween(E,T,(M,R)=>{if(!M.isText&&!M.marks.length)return;const B=Math.max(E,R),G=Math.min(T,R+M.nodeSize),L=G-B;l+=L,d.push(...M.marks.map(k=>({mark:k,from:B,to:G})))})}),l===0)return!1;const f=d.filter(w=>s?s.name===w.mark.type.name:!0).filter(w=>vm(w.mark.attrs,n,{strict:!1})).reduce((w,S)=>w+S.to-S.from,0),p=d.filter(w=>s?w.mark.type!==s&&w.mark.type.excludes(s):!0).reduce((w,S)=>w+S.to-S.from,0);return(f>0?f+p:f)>=l}function ql(t,e,n={}){const{from:i,to:r,empty:s}=t.selection,l=e?Ci(e,t.schema):null,d=[];t.doc.nodesBetween(i,r,(w,S)=>{if(w.isText)return;const E=Math.max(i,S),T=Math.min(r,S+w.nodeSize);d.push({node:w,from:E,to:T})});const f=r-i,p=d.filter(w=>l?l.name===w.node.type.name:!0).filter(w=>vm(w.node.attrs,n,{strict:!1}));return s?!!p.length:p.reduce((w,S)=>w+S.to-S.from,0)>=f}function Nce(t,e,n={}){if(!e)return ql(t,null,n)||sb(t,null,n);const i=S0(e,t.schema);return i==="node"?ql(t,e,n):i==="mark"?sb(t,e,n):!1}var Ice=(t,e)=>{const{$from:n,$to:i,$anchor:r}=t.selection;if(e){const s=C0(d=>d.type.name===e)(t.selection);if(!s)return!1;const l=t.doc.resolve(s.pos+1);return r.pos+1===l.end()}return!(i.parentOffset<i.parent.nodeSize-2||n.pos!==i.pos)},kce=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function v4(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function w4(t,e){const{nodeExtensions:n}=yh(e),i=n.find(l=>l.name===t);if(!i)return!1;const r={name:i.name,options:i.options,storage:i.storage},s=_n(ht(i,"group",r));return typeof s!="string"?!1:s.split(" ").includes("list")}function E0(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((i=t.text)!=null?i:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(s=>{r!==!1&&(E0(s,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function F6(t){return t instanceof pt}function z6(t){return t instanceof wt}function Lc(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function H6(t,e=null){if(!e)return null;const n=Bt.atStart(t),i=Bt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const r=n.from,s=i.to;return e==="all"?wt.create(t,Lc(0,r,s),Lc(t.content.size,r,s)):wt.create(t,Lc(e,r,s),Lc(e,r,s))}function Mce(t,e,n){const i=t.steps.length-1;if(i<e)return;const r=t.steps[i];if(!(r instanceof Ui||r instanceof $i))return;const s=t.mapping.maps[i];let l=0;s.forEach((d,f,p,b)=>{l===0&&(l=b)}),t.setSelection(Bt.near(t.doc.resolve(l),n))}var A0=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},Oce=(t,e)=>{if(_v(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function g1(t){var e;const{editor:n,from:i,to:r,text:s,rules:l,plugin:d}=t,{view:f}=n;if(f.composing)return!1;const p=f.state.doc.resolve(i);if(p.parent.type.spec.code||(e=p.nodeBefore||p.nodeAfter)!=null&&e.marks.find(S=>S.type.spec.code))return!1;let b=!1;const w=Tce(p)+s;return l.forEach(S=>{if(b)return;const E=Oce(w,S.find);if(!E)return;const T=f.state.tr,M=w0({state:f.state,transaction:T}),R={from:i-(E[0].length-s.length),to:r},{commands:B,chain:G,can:L}=new _0({editor:n,state:M});S.handler({state:M,range:R,match:E,commands:B,chain:G,can:L})===null||!T.steps.length||(S.undoable&&T.setMeta(d,{transform:T,from:i,to:r,text:s}),f.dispatch(T),b=!0)}),b}function Rce(t){const{editor:e,rules:n}=t,i=new ai({state:{init(){return null},apply(r,s,l){const d=r.getMeta(i);if(d)return d;const f=r.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:b}=f;typeof b=="string"?b=b:b=vv(je.from(b),l.schema);const{from:w}=f,S=w+b.length;g1({editor:e,from:w,to:S,text:b,rules:n,plugin:i})}),r.selectionSet||r.docChanged?null:s}},props:{handleTextInput(r,s,l,d){return g1({editor:e,from:s,to:l,text:d,rules:n,plugin:i})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:s}=r.state.selection;s&&g1({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(r,s){if(s.key!=="Enter")return!1;const{$cursor:l}=r.state.selection;return l?g1({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function Dce(t){return Object.prototype.toString.call(t).slice(8,-1)}function x1(t){return Dce(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function U6(t,e){const n={...t};return x1(t)&&x1(e)&&Object.keys(e).forEach(i=>{x1(e[i])&&x1(t[i])?n[i]=U6(t[i],e[i]):n[i]=e[i]}),n}var Ev=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{..._n(ht(this,"addOptions",{name:this.name}))||{}}}get storage(){return{..._n(ht(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>U6(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},su=class $6 extends Ev{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new $6(n)}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const l=r.marks();if(!!!l.find(p=>(p==null?void 0:p.type.name)===n.name))return!1;const f=l.find(p=>(p==null?void 0:p.type.name)===n.name);return f&&i.removeStoredMark(f),i.insertText(" ",r.pos),e.view.dispatch(i),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Bce(t){return typeof t=="number"}var Lce=class{constructor(t){this.find=t.find,this.handler=t.handler}},jce=(t,e,n)=>{if(_v(e))return[...t.matchAll(e)];const i=e(t,n);return i?i.map(r=>{const s=[r.text];return s.index=r.index,s.input=t,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function Pce(t){const{editor:e,state:n,from:i,to:r,rule:s,pasteEvent:l,dropEvent:d}=t,{commands:f,chain:p,can:b}=new _0({editor:e,state:n}),w=[];return n.doc.nodesBetween(i,r,(E,T)=>{var M,R,B,G,L;if((R=(M=E.type)==null?void 0:M.spec)!=null&&R.code||!(E.isText||E.isTextblock||E.isInline))return;const k=(L=(G=(B=E.content)==null?void 0:B.size)!=null?G:E.nodeSize)!=null?L:0,D=Math.max(i,T),P=Math.min(r,T+k);if(D>=P)return;const z=E.isText?E.text||"":E.textBetween(D-T,P-T,void 0,"");jce(z,s.find,l).forEach(X=>{if(X.index===void 0)return;const ne=D+X.index+1,ee=ne+X[0].length,oe={from:n.tr.mapping.map(ne),to:n.tr.mapping.map(ee)},Ce=s.handler({state:n,range:oe,match:X,commands:f,chain:p,can:b,pasteEvent:l,dropEvent:d});w.push(Ce)})}),w.every(E=>E!==null)}var y1=null,Fce=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function zce(t){const{editor:e,rules:n}=t;let i=null,r=!1,s=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,d;try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}const f=({state:b,from:w,to:S,rule:E,pasteEvt:T})=>{const M=b.tr,R=w0({state:b,transaction:M});if(!(!Pce({editor:e,state:R,from:Math.max(w-1,0),to:S.b-1,rule:E,pasteEvent:T,dropEvent:d})||!M.steps.length)){try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,M}};return n.map(b=>new ai({view(w){const S=T=>{var M;i=(M=w.dom.parentElement)!=null&&M.contains(T.target)?w.dom.parentElement:null,i&&(y1=e)},E=()=>{y1&&(y1=null)};return window.addEventListener("dragstart",S),window.addEventListener("dragend",E),{destroy(){window.removeEventListener("dragstart",S),window.removeEventListener("dragend",E)}}},props:{handleDOMEvents:{drop:(w,S)=>{if(s=i===w.dom.parentElement,d=S,!s){const E=y1;E!=null&&E.isEditable&&setTimeout(()=>{const T=E.state.selection;T&&E.commands.deleteRange({from:T.from,to:T.to})},10)}return!1},paste:(w,S)=>{var E;const T=(E=S.clipboardData)==null?void 0:E.getData("text/html");return l=S,r=!!(T!=null&&T.includes("data-pm-slice")),!1}}},appendTransaction:(w,S,E)=>{const T=w[0],M=T.getMeta("uiEvent")==="paste"&&!r,R=T.getMeta("uiEvent")==="drop"&&!s,B=T.getMeta("applyPasteRules"),G=!!B;if(!M&&!R&&!G)return;if(G){let{text:D}=B;typeof D=="string"?D=D:D=vv(je.from(D),E.schema);const{from:P}=B,z=P+D.length,U=Fce(D);return f({rule:b,state:E,from:P,to:{b:z},pasteEvt:U})}const L=S.doc.content.findDiffStart(E.doc.content),k=S.doc.content.findDiffEnd(E.doc.content);if(!(!Bce(L)||!k||L===k.b))return f({rule:b,state:E,from:L,to:k,pasteEvt:l})}}))}var T0=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=O6(t),this.schema=vce(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ky(e.name,this.schema)},i=ht(e,"addCommands",n);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this;return wv([...this.extensions].reverse()).flatMap(i=>{const r={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:t,type:Ky(i.name,this.schema)},s=[],l=ht(i,"addKeyboardShortcuts",r);let d={};if(i.type==="mark"&&ht(i,"exitable",r)&&(d.ArrowRight=()=>su.handleExit({editor:t,mark:i})),l){const S=Object.fromEntries(Object.entries(l()).map(([E,T])=>[E,()=>T({editor:t})]));d={...d,...S}}const f=qle(d);s.push(f);const p=ht(i,"addInputRules",r);if(v4(i,t.options.enableInputRules)&&p){const S=p();if(S&&S.length){const E=Rce({editor:t,rules:S}),T=Array.isArray(E)?E:[E];s.push(...T)}}const b=ht(i,"addPasteRules",r);if(v4(i,t.options.enablePasteRules)&&b){const S=b();if(S&&S.length){const E=zce({editor:t,rules:S});s.push(...E)}}const w=ht(i,"addProseMirrorPlugins",r);if(w){const S=w();s.push(...S)}return s})}get attributes(){return M6(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=yh(this.extensions);return Object.fromEntries(e.filter(n=>!!ht(n,"addNodeView")).map(n=>{const i=this.attributes.filter(d=>d.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Ci(n.name,this.schema)},s=ht(n,"addNodeView",r);if(!s)return[];const l=(d,f,p,b,w)=>{const S=bm(d,i);return s()({node:d,view:f,getPos:p,decorations:b,innerDecorations:w,editor:t,extension:n,HTMLAttributes:S})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=yh(this.extensions);return Object.fromEntries(e.filter(n=>!!ht(n,"addMarkView")).map(n=>{const i=this.attributes.filter(d=>d.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Po(n.name,this.schema)},s=ht(n,"addMarkView",r);if(!s)return[];const l=(d,f,p)=>{const b=bm(d,i);return s()({mark:d,view:f,inline:p,editor:t,extension:n,HTMLAttributes:b,updateAttributes:w=>{tde(d,t,w)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const i={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ky(e.name,this.schema)};e.type==="mark"&&((n=_n(ht(e,"keepOnSplit",i)))==null||n)&&this.splittableMarks.push(e.name);const r=ht(e,"onBeforeCreate",i),s=ht(e,"onCreate",i),l=ht(e,"onUpdate",i),d=ht(e,"onSelectionUpdate",i),f=ht(e,"onTransaction",i),p=ht(e,"onFocus",i),b=ht(e,"onBlur",i),w=ht(e,"onDestroy",i);r&&this.editor.on("beforeCreate",r),s&&this.editor.on("create",s),l&&this.editor.on("update",l),d&&this.editor.on("selectionUpdate",d),f&&this.editor.on("transaction",f),p&&this.editor.on("focus",p),b&&this.editor.on("blur",b),w&&this.editor.on("destroy",w)})}};T0.resolve=O6;T0.sort=wv;T0.flatten=bv;var Hce={};T6(Hce,{ClipboardTextSerializer:()=>G6,Commands:()=>X6,Delete:()=>Y6,Drop:()=>K6,Editable:()=>Z6,FocusEvents:()=>J6,Keymap:()=>e5,Paste:()=>t5,Tabindex:()=>n5,focusEventsPluginKey:()=>Q6});var Si=class V6 extends Ev{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new V6(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},G6=Si.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ai({key:new Gi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:r}=e,{ranges:s}=r,l=Math.min(...s.map(b=>b.$from.pos)),d=Math.max(...s.map(b=>b.$to.pos)),f=D6(n);return R6(i,{from:l,to:d},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),q6={};T6(q6,{blur:()=>Uce,clearContent:()=>$ce,clearNodes:()=>Vce,command:()=>Gce,createParagraphNear:()=>qce,cut:()=>Wce,deleteCurrentNode:()=>Xce,deleteNode:()=>Yce,deleteRange:()=>Kce,deleteSelection:()=>Zce,enter:()=>Qce,exitCode:()=>Jce,extendMarkRange:()=>eue,first:()=>tue,focus:()=>iue,forEach:()=>rue,insertContent:()=>sue,insertContentAt:()=>oue,joinBackward:()=>uue,joinDown:()=>cue,joinForward:()=>due,joinItemBackward:()=>fue,joinItemForward:()=>hue,joinTextblockBackward:()=>pue,joinTextblockForward:()=>mue,joinUp:()=>lue,keyboardShortcut:()=>xue,lift:()=>yue,liftEmptyBlock:()=>bue,liftListItem:()=>vue,newlineInCode:()=>wue,resetAttributes:()=>_ue,scrollIntoView:()=>Cue,selectAll:()=>Sue,selectNodeBackward:()=>Eue,selectNodeForward:()=>Aue,selectParentNode:()=>Tue,selectTextblockEnd:()=>Nue,selectTextblockStart:()=>Iue,setContent:()=>kue,setMark:()=>Oue,setMeta:()=>Rue,setNode:()=>Due,setNodeSelection:()=>Bue,setTextSelection:()=>Lue,sinkListItem:()=>jue,splitBlock:()=>Pue,splitListItem:()=>Fue,toggleList:()=>zue,toggleMark:()=>Hue,toggleNode:()=>Uue,toggleWrap:()=>$ue,undoInputRule:()=>Vue,unsetAllMarks:()=>Gue,unsetMark:()=>que,updateAttributes:()=>Wue,wrapIn:()=>Xue,wrapInList:()=>Yue});var Uce=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),$ce=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),Vce=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:r}=i;return n&&r.forEach(({$from:s,$to:l})=>{t.doc.nodesBetween(s.pos,l.pos,(d,f)=>{if(d.type.isText)return;const{doc:p,mapping:b}=e,w=p.resolve(b.map(f)),S=p.resolve(b.map(f+d.nodeSize)),E=w.blockRange(S);if(!E)return;const T=kd(E);if(d.type.isTextblock){const{defaultType:M}=w.parent.contentMatchAt(w.index());e.setNodeMarkup(E.start,M)}(T||T===0)&&e.lift(E,T)})}),!0},Gce=t=>e=>t(e),qce=()=>({state:t,dispatch:e})=>C6(t,e),Wce=(t,e)=>({editor:n,tr:i})=>{const{state:r}=n,s=r.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const l=i.mapping.map(e);return i.insert(l,s.content),i.setSelection(new wt(i.doc.resolve(Math.max(l-1,0)))),!0},Xce=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const r=t.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===i.type){if(e){const d=r.before(s),f=r.after(s);t.delete(d,f).scrollIntoView()}return!0}return!1},Yce=t=>({tr:e,state:n,dispatch:i})=>{const r=Ci(t,n.schema),s=e.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===r){if(i){const f=s.before(l),p=s.after(l);e.delete(f,p).scrollIntoView()}return!0}return!1},Kce=t=>({tr:e,dispatch:n})=>{const{from:i,to:r}=t;return n&&e.delete(i,r),!0},Zce=()=>({state:t,dispatch:e})=>pv(t,e),Qce=()=>({commands:t})=>t.keyboardShortcut("Enter"),Jce=()=>({state:t,dispatch:e})=>Qle(t,e),eue=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const s=Po(t,i.schema),{doc:l,selection:d}=n,{$from:f,from:p,to:b}=d;if(r){const w=Cv(f,s,e);if(w&&w.from<=p&&w.to>=b){const S=wt.create(l,w.from,w.to);n.setSelection(S)}}return!0},tue=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function nue(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Av(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var iue=(t=null,e={})=>({editor:n,view:i,tr:r,dispatch:s})=>{e={scrollIntoView:!0,...e};const l=()=>{(Av()||nue())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!z6(n.state.selection))return l(),!0;const d=H6(r.doc,t)||n.state.selection,f=n.state.selection.eq(d);return s&&(f||r.setSelection(d),f&&r.storedMarks&&r.setStoredMarks(r.storedMarks),l()),!0},rue=(t,e)=>n=>t.every((i,r)=>e(i,{...n,index:r})),sue=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),aue=t=>!("type"in t),oue=(t,e,n)=>({tr:i,dispatch:r,editor:s})=>{var l;if(r){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let d;const f=R=>{s.emit("contentError",{editor:s,error:R,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{xh(e,s.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(R){f(R)}try{d=xh(e,s.schema,{parseOptions:p,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:s.options.enableContentCheck})}catch(R){return f(R),!1}let{from:b,to:w}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},S=!0,E=!0;if((aue(d)?d:[d]).forEach(R=>{R.check(),S=S?R.isText&&R.marks.length===0:!1,E=E?R.isBlock:!1}),b===w&&E){const{parent:R}=i.doc.resolve(b);R.isTextblock&&!R.type.spec.code&&!R.childCount&&(b-=1,w+=1)}let M;if(S){if(Array.isArray(e))M=e.map(R=>R.text||"").join("");else if(e instanceof je){let R="";e.forEach(B=>{B.text&&(R+=B.text)}),M=R}else typeof e=="object"&&e&&e.text?M=e.text:M=e;i.insertText(M,b,w)}else{M=d;const R=i.doc.resolve(b),B=R.node(),G=R.parentOffset===0,L=B.isText||B.isTextblock,k=B.content.size>0;G&&L&&k&&(b=Math.max(0,b-1)),i.replaceWith(b,w,M)}n.updateSelection&&Mce(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:b,text:M}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:b,text:M})}return!0},lue=()=>({state:t,dispatch:e})=>Yle(t,e),cue=()=>({state:t,dispatch:e})=>Kle(t,e),uue=()=>({state:t,dispatch:e})=>g6(t,e),due=()=>({state:t,dispatch:e})=>v6(t,e),fue=()=>({state:t,dispatch:e,tr:n})=>{try{const i=m0(t.doc,t.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},hue=()=>({state:t,dispatch:e,tr:n})=>{try{const i=m0(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},pue=()=>({state:t,dispatch:e})=>Wle(t,e),mue=()=>({state:t,dispatch:e})=>Xle(t,e);function W6(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function gue(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,r,s,l;for(let d=0;d<e.length-1;d+=1){const f=e[d];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))r=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))Av()||W6()?l=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return i&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var xue=t=>({editor:e,view:n,tr:i,dispatch:r})=>{const s=gue(t).split(/-(?!$)/),l=s.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),d=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{n.someProp("handleKeyDown",p=>p(n,d))});return f==null||f.steps.forEach(p=>{const b=p.map(i.mapping);b&&r&&i.maybeStep(b)}),!0},yue=(t,e={})=>({state:n,dispatch:i})=>{const r=Ci(t,n.schema);return ql(n,r,e)?Zle(n,i):!1},bue=()=>({state:t,dispatch:e})=>S6(t,e),vue=t=>({state:e,dispatch:n})=>{const i=Ci(t,e.schema);return cce(i)(e,n)},wue=()=>({state:t,dispatch:e})=>_6(t,e);function _4(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,r)=>(n.includes(r)||(i[r]=t[r]),i),{})}var _ue=(t,e)=>({tr:n,state:i,dispatch:r})=>{let s=null,l=null;const d=S0(typeof t=="string"?t:t.name,i.schema);return d?(d==="node"&&(s=Ci(t,i.schema)),d==="mark"&&(l=Po(t,i.schema)),r&&n.selection.ranges.forEach(f=>{i.doc.nodesBetween(f.$from.pos,f.$to.pos,(p,b)=>{s&&s===p.type&&n.setNodeMarkup(b,void 0,_4(p.attrs,e)),l&&p.marks.length&&p.marks.forEach(w=>{l===w.type&&n.addMark(b,b+p.nodeSize,l.create(_4(w.attrs,e)))})})}),!0):!1},Cue=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Sue=()=>({tr:t,dispatch:e})=>{if(e){const n=new gs(t.doc);t.setSelection(n)}return!0},Eue=()=>({state:t,dispatch:e})=>y6(t,e),Aue=()=>({state:t,dispatch:e})=>w6(t,e),Tue=()=>({state:t,dispatch:e})=>tce(t,e),Nue=()=>({state:t,dispatch:e})=>rce(t,e),Iue=()=>({state:t,dispatch:e})=>ice(t,e),kue=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:i={}}={})=>({editor:r,tr:s,dispatch:l,commands:d})=>{const{doc:f}=s;if(i.preserveWhitespace!=="full"){const p=rb(t,r.schema,i,{errorOnInvalidContent:e??r.options.enableContentCheck});return l&&s.replaceWith(0,f.content.size,p).setMeta("preventUpdate",!n),!0}return l&&s.setMeta("preventUpdate",!n),d.insertContentAt({from:0,to:f.content.size},t,{parseOptions:i,errorOnInvalidContent:e??r.options.enableContentCheck})};function Mue(t,e,n){var i;const{selection:r}=e;let s=null;if(z6(r)&&(s=r.$cursor),s){const d=(i=t.storedMarks)!=null?i:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(d)||!d.some(p=>p.type.excludes(n)))}const{ranges:l}=r;return l.some(({$from:d,$to:f})=>{let p=d.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(d.pos,f.pos,(b,w,S)=>{if(p)return!1;if(b.isInline){const E=!S||S.type.allowsMarkType(n),T=!!n.isInSet(b.marks)||!b.marks.some(M=>M.type.excludes(n));p=E&&T}return!p}),p})}var Oue=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const{selection:s}=n,{empty:l,ranges:d}=s,f=Po(t,i.schema);if(r)if(l){const p=B6(i,f);n.addStoredMark(f.create({...p,...e}))}else d.forEach(p=>{const b=p.$from.pos,w=p.$to.pos;i.doc.nodesBetween(b,w,(S,E)=>{const T=Math.max(E,b),M=Math.min(E+S.nodeSize,w);S.marks.find(B=>B.type===f)?S.marks.forEach(B=>{f===B.type&&n.addMark(T,M,f.create({...B.attrs,...e}))}):n.addMark(T,M,f.create(e))})});return Mue(i,n,f)},Rue=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Due=(t,e={})=>({state:n,dispatch:i,chain:r})=>{const s=Ci(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),s.isTextblock?r().command(({commands:d})=>g4(s,{...l,...e})(n)?!0:d.clearNodes()).command(({state:d})=>g4(s,{...l,...e})(d,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Bue=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,r=Lc(t,0,i.content.size),s=pt.create(i,r);e.setSelection(s)}return!0},Lue=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:r,to:s}=typeof t=="number"?{from:t,to:t}:t,l=wt.atStart(i).from,d=wt.atEnd(i).to,f=Lc(r,l,d),p=Lc(s,l,d),b=wt.create(i,f,p);e.setSelection(b)}return!0},jue=t=>({state:e,dispatch:n})=>{const i=Ci(t,e.schema);return fce(i)(e,n)};function C4(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(r=>e==null?void 0:e.includes(r.type.name));t.tr.ensureMarks(i)}}var Pue=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:r})=>{const{selection:s,doc:l}=e,{$from:d,$to:f}=s,p=r.extensionManager.attributes,b=D1(p,d.node().type.name,d.node().attrs);if(s instanceof pt&&s.node.isBlock)return!d.parentOffset||!Oo(l,d.pos)?!1:(i&&(t&&C4(n,r.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const w=f.parentOffset===f.parent.content.size,S=d.depth===0?void 0:mce(d.node(-1).contentMatchAt(d.indexAfter(-1)));let E=w&&S?[{type:S,attrs:b}]:void 0,T=Oo(e.doc,e.mapping.map(d.pos),1,E);if(!E&&!T&&Oo(e.doc,e.mapping.map(d.pos),1,S?[{type:S}]:void 0)&&(T=!0,E=S?[{type:S,attrs:b}]:void 0),i){if(T&&(s instanceof wt&&e.deleteSelection(),e.split(e.mapping.map(d.pos),1,E),S&&!w&&!d.parentOffset&&d.parent.type!==S)){const M=e.mapping.map(d.before()),R=e.doc.resolve(M);d.node(-1).canReplaceWith(R.index(),R.index()+1,S)&&e.setNodeMarkup(e.mapping.map(d.before()),S)}t&&C4(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return T},Fue=(t,e={})=>({tr:n,state:i,dispatch:r,editor:s})=>{var l;const d=Ci(t,i.schema),{$from:f,$to:p}=i.selection,b=i.selection.node;if(b&&b.isBlock||f.depth<2||!f.sameParent(p))return!1;const w=f.node(-1);if(w.type!==d)return!1;const S=s.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==d||f.index(-2)!==f.node(-2).childCount-1)return!1;if(r){let B=je.empty;const G=f.index(-1)?1:f.index(-2)?2:3;for(let U=f.depth-G;U>=f.depth-3;U-=1)B=je.from(f.node(U).copy(B));const L=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,k={...D1(S,f.node().type.name,f.node().attrs),...e},D=((l=d.contentMatch.defaultType)==null?void 0:l.createAndFill(k))||void 0;B=B.append(je.from(d.createAndFill(null,D)||void 0));const P=f.before(f.depth-(G-1));n.replace(P,f.after(-L),new Xe(B,4-G,0));let z=-1;n.doc.nodesBetween(P,n.doc.content.size,(U,X)=>{if(z>-1)return!1;U.isTextblock&&U.content.size===0&&(z=X+1)}),z>-1&&n.setSelection(wt.near(n.doc.resolve(z))),n.scrollIntoView()}return!0}const E=p.pos===f.end()?w.contentMatchAt(0).defaultType:null,T={...D1(S,w.type.name,w.attrs),...e},M={...D1(S,f.node().type.name,f.node().attrs),...e};n.delete(f.pos,p.pos);const R=E?[{type:d,attrs:T},{type:E,attrs:M}]:[{type:d,attrs:T}];if(!Oo(n.doc,f.pos,2))return!1;if(r){const{selection:B,storedMarks:G}=i,{splittableMarks:L}=s.extensionManager,k=G||B.$to.parentOffset&&B.$from.marks();if(n.split(f.pos,2,R).scrollIntoView(),!k||!r)return!0;const D=k.filter(P=>L.includes(P.type.name));n.ensureMarks(D)}return!0},Zy=(t,e)=>{const n=C0(l=>l.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&Kl(t.doc,n.pos)&&t.join(n.pos),!0},Qy=(t,e)=>{const n=C0(l=>l.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&Kl(t.doc,i)&&t.join(i),!0},zue=(t,e,n,i={})=>({editor:r,tr:s,state:l,dispatch:d,chain:f,commands:p,can:b})=>{const{extensions:w,splittableMarks:S}=r.extensionManager,E=Ci(t,l.schema),T=Ci(e,l.schema),{selection:M,storedMarks:R}=l,{$from:B,$to:G}=M,L=B.blockRange(G),k=R||M.$to.parentOffset&&M.$from.marks();if(!L)return!1;const D=C0(P=>w4(P.type.name,w))(M);if(L.depth>=1&&D&&L.depth-D.depth<=1){if(D.node.type===E)return p.liftListItem(T);if(w4(D.node.type.name,w)&&E.validContent(D.node.content)&&d)return f().command(()=>(s.setNodeMarkup(D.pos,E),!0)).command(()=>Zy(s,E)).command(()=>Qy(s,E)).run()}return!n||!k||!d?f().command(()=>b().wrapInList(E,i)?!0:p.clearNodes()).wrapInList(E,i).command(()=>Zy(s,E)).command(()=>Qy(s,E)).run():f().command(()=>{const P=b().wrapInList(E,i),z=k.filter(U=>S.includes(U.type.name));return s.ensureMarks(z),P?!0:p.clearNodes()}).wrapInList(E,i).command(()=>Zy(s,E)).command(()=>Qy(s,E)).run()},Hue=(t,e={},n={})=>({state:i,commands:r})=>{const{extendEmptyMarkRange:s=!1}=n,l=Po(t,i.schema);return sb(i,l,e)?r.unsetMark(l,{extendEmptyMarkRange:s}):r.setMark(l,e)},Uue=(t,e,n={})=>({state:i,commands:r})=>{const s=Ci(t,i.schema),l=Ci(e,i.schema),d=ql(i,s,n);let f;return i.selection.$anchor.sameParent(i.selection.$head)&&(f=i.selection.$anchor.parent.attrs),d?r.setNode(l,f):r.setNode(s,{...f,...n})},$ue=(t,e={})=>({state:n,commands:i})=>{const r=Ci(t,n.schema);return ql(n,r,e)?i.lift(r):i.wrapIn(r,e)},Vue=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const r=n[i];let s;if(r.spec.isInputRules&&(s=r.getState(t))){if(e){const l=t.tr,d=s.transform;for(let f=d.steps.length-1;f>=0;f-=1)l.step(d.steps[f].invert(d.docs[f]));if(s.text){const f=l.doc.resolve(s.from).marks();l.replaceWith(s.from,s.to,t.schema.text(s.text,f))}else l.delete(s.from,s.to)}return!0}}return!1},Gue=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:r}=n;return i||e&&r.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},que=(t,e={})=>({tr:n,state:i,dispatch:r})=>{var s;const{extendEmptyMarkRange:l=!1}=e,{selection:d}=n,f=Po(t,i.schema),{$from:p,empty:b,ranges:w}=d;if(!r)return!0;if(b&&l){let{from:S,to:E}=d;const T=(s=p.marks().find(R=>R.type===f))==null?void 0:s.attrs,M=Cv(p,f,T);M&&(S=M.from,E=M.to),n.removeMark(S,E,f)}else w.forEach(S=>{n.removeMark(S.$from.pos,S.$to.pos,f)});return n.removeStoredMark(f),!0},Wue=(t,e={})=>({tr:n,state:i,dispatch:r})=>{let s=null,l=null;const d=S0(typeof t=="string"?t:t.name,i.schema);return d?(d==="node"&&(s=Ci(t,i.schema)),d==="mark"&&(l=Po(t,i.schema)),r&&n.selection.ranges.forEach(f=>{const p=f.$from.pos,b=f.$to.pos;let w,S,E,T;n.selection.empty?i.doc.nodesBetween(p,b,(M,R)=>{s&&s===M.type&&(E=Math.max(R,p),T=Math.min(R+M.nodeSize,b),w=R,S=M)}):i.doc.nodesBetween(p,b,(M,R)=>{R<p&&s&&s===M.type&&(E=Math.max(R,p),T=Math.min(R+M.nodeSize,b),w=R,S=M),R>=p&&R<=b&&(s&&s===M.type&&n.setNodeMarkup(R,void 0,{...M.attrs,...e}),l&&M.marks.length&&M.marks.forEach(B=>{if(l===B.type){const G=Math.max(R,p),L=Math.min(R+M.nodeSize,b);n.addMark(G,L,l.create({...B.attrs,...e}))}}))}),S&&(w!==void 0&&n.setNodeMarkup(w,void 0,{...S.attrs,...e}),l&&S.marks.length&&S.marks.forEach(M=>{l===M.type&&n.addMark(E,T,l.create({...M.attrs,...e}))}))}),!0):!1},Xue=(t,e={})=>({state:n,dispatch:i})=>{const r=Ci(t,n.schema);return sce(r,e)(n,i)},Yue=(t,e={})=>({state:n,dispatch:i})=>{const r=Ci(t,n.schema);return ace(r,e)(n,i)},X6=Si.create({name:"commands",addCommands(){return{...q6}}}),Y6=Si.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,i,r;const s=()=>{var l,d,f,p;if((p=(f=(d=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:d.filterTransaction)==null?void 0:f.call(d,t))!=null?p:t.getMeta("y-sync$"))return;const b=N6(t.before,[t,...e]);j6(b).forEach(E=>{b.mapping.mapResult(E.oldRange.from).deletedAfter&&b.mapping.mapResult(E.oldRange.to).deletedBefore&&b.before.nodesBetween(E.oldRange.from,E.oldRange.to,(T,M)=>{const R=M+T.nodeSize-2,B=E.oldRange.from<=M&&R<=E.oldRange.to;this.editor.emit("delete",{type:"node",node:T,from:M,to:R,newFrom:b.mapping.map(M),newTo:b.mapping.map(R),deletedRange:E.oldRange,newRange:E.newRange,partial:!B,editor:this.editor,transaction:t,combinedTransform:b})})});const S=b.mapping;b.steps.forEach((E,T)=>{var M,R;if(E instanceof Js){const B=S.slice(T).map(E.from,-1),G=S.slice(T).map(E.to),L=S.invert().map(B,-1),k=S.invert().map(G),D=(M=b.doc.nodeAt(B-1))==null?void 0:M.marks.some(z=>z.eq(E.mark)),P=(R=b.doc.nodeAt(G))==null?void 0:R.marks.some(z=>z.eq(E.mark));this.editor.emit("delete",{type:"mark",mark:E.mark,from:E.from,to:E.to,deletedRange:{from:L,to:k},newRange:{from:B,to:G},partial:!!(P||D),editor:this.editor,transaction:t,combinedTransform:b})}})};(r=(i=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:i.async)==null||r?setTimeout(s,0):s()}}),K6=Si.create({name:"drop",addProseMirrorPlugins(){return[new ai({key:new Gi("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),Z6=Si.create({name:"editable",addProseMirrorPlugins(){return[new ai({key:new Gi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Q6=new Gi("focusEvents"),J6=Si.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new ai({key:Q6,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),e5=Si.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:d})=>{const{selection:f,doc:p}=d,{empty:b,$anchor:w}=f,{pos:S,parent:E}=w,T=w.parent.isTextblock&&S>0?d.doc.resolve(S-1):w,M=T.parent.type.spec.isolating,R=w.pos-w.parentOffset,B=M&&T.parent.childCount===1?R===w.pos:Bt.atStart(p).from===S;return!b||!E.type.isTextblock||E.textContent.length||!B||B&&w.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...i},s={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Av()||W6()?s:r},addProseMirrorPlugins(){return[new ai({key:new Gi("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(M=>M.getMeta("composition")))return;const i=t.some(M=>M.docChanged)&&!e.doc.eq(n.doc),r=t.some(M=>M.getMeta("preventClearDocument"));if(!i||r)return;const{empty:s,from:l,to:d}=e.selection,f=Bt.atStart(e.doc).from,p=Bt.atEnd(e.doc).to;if(s||!(l===f&&d===p)||!E0(n.doc))return;const S=n.tr,E=w0({state:n,transaction:S}),{commands:T}=new _0({editor:this.editor,state:E});if(T.clearNodes(),!!S.steps.length)return S}})]}}),t5=Si.create({name:"paste",addProseMirrorPlugins(){return[new ai({key:new Gi("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),n5=Si.create({name:"tabindex",addProseMirrorPlugins(){return[new ai({key:new Gi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Kue=class ad{constructor(e,n,i=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new ad(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ad(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ad(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const r=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,l=this.pos+i+(s?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(l);if(!r&&d.depth<=this.depth)return;const f=new ad(d,this.editor,r,r?n:null);r&&(f.actualDepth=this.depth+1),e.push(new ad(d,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,r=this.parent;for(;r&&!i;){if(r.node.type.name===e)if(Object.keys(n).length>0){const s=r.node.attrs,l=Object.keys(n);for(let d=0;d<l.length;d+=1){const f=l[d];if(s[f]!==n[f])break}}else i=r;r=r.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let r=[];if(!this.children||this.children.length===0)return r;const s=Object.keys(n);return this.children.forEach(l=>{i&&r.length>0||(l.node.type.name===e&&s.every(f=>n[f]===l.node.attrs[f])&&r.push(l),!(i&&r.length>0)&&(r=r.concat(l.querySelectorAll(e,n,i))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},Zue=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Que(t,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}var Jue=class extends pce{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:r,moved:s})=>this.options.onDrop(i,r,s)),this.on("paste",({event:i,slice:r})=>this.options.onPaste(i,r)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=H6(e,this.options.autofocus);this.editorState=ud.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Que(Zue,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=k6(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(r=>{const s=typeof r=="string"?`${r}$`:r.key;n=n.filter(l=>!l.key.startsWith(s))}),e.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var t,e;const i=[...this.options.enableCoreExtensions?[Z6,G6.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),X6,J6,e5,n5,K6,t5,Y6].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new T0(i,this)}createCommandManager(){this.commandManager=new _0({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=rb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=rb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new h6(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(p=>{var b;return(b=this.capturedTransaction)==null?void 0:b.step(p)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),i=!this.state.selection.eq(e.selection),r=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!r)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:t});const l=n.findLast(p=>p.getMeta("focus")||p.getMeta("blur")),d=l==null?void 0:l.getMeta("focus"),f=l==null?void 0:l.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:l}),f&&this.emit("blur",{editor:this,event:f.event,transaction:l}),!(t.getMeta("preventUpdate")||!n.some(p=>p.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return L6(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,i=typeof t=="string"?e:t;return Nce(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return vv(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return _ce(this.state.doc,{blockSeparator:e,textSerializers:{...D6(this.schema),...n}})}get isEmpty(){return E0(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Kue(e,this)}get $doc(){return this.$pos(0)}};function _d(t){return new A0({find:t.find,handler:({state:e,range:n,match:i})=>{const r=_n(t.getAttributes,void 0,i);if(r===!1||r===null)return null;const{tr:s}=e,l=i[i.length-1],d=i[0];if(l){const f=d.search(/\S/),p=n.from+d.indexOf(l),b=p+l.length;if(Sv(n.from,n.to,e.doc).filter(E=>E.mark.type.excluded.find(M=>M===t.type&&M!==E.mark.type)).filter(E=>E.to>p).length)return null;b<n.to&&s.delete(b,n.to),p>n.from&&s.delete(n.from+f,p);const S=n.from+f+l.length;s.addMark(n.from+f,S,t.type.create(r||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function i5(t){return new A0({find:t.find,handler:({state:e,range:n,match:i})=>{const r=_n(t.getAttributes,void 0,i)||{},{tr:s}=e,l=n.from;let d=n.to;const f=t.type.create(r);if(i[1]){const p=i[0].lastIndexOf(i[1]);let b=l+p;b>d?b=d:d=b+i[1].length;const w=i[0][i[0].length-1];s.insertText(w,l+i[0].length-1),s.replaceWith(b,d,f)}else if(i[0]){const p=t.type.isInline?l:l-1;s.insert(p,t.type.create(r)).delete(s.mapping.map(l),s.mapping.map(d))}s.scrollIntoView()},undoable:t.undoable})}function ab(t){return new A0({find:t.find,handler:({state:e,range:n,match:i})=>{const r=e.doc.resolve(n.from),s=_n(t.getAttributes,void 0,i)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Cd(t){return new A0({find:t.find,handler:({state:e,range:n,match:i,chain:r})=>{const s=_n(t.getAttributes,void 0,i)||{},l=e.tr.delete(n.from,n.to),f=l.doc.resolve(n.from).blockRange(),p=f&&iv(f,t.type,s);if(!p)return null;if(l.wrap(f,p),t.keepMarks&&t.editor){const{selection:w,storedMarks:S}=e,{splittableMarks:E}=t.editor.extensionManager,T=S||w.$to.parentOffset&&w.$from.marks();if(T){const M=T.filter(R=>E.includes(R.type.name));l.ensureMarks(M)}}if(t.keepAttributes){const w=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(w,s).run()}const b=l.doc.resolve(n.from-1).nodeBefore;b&&b.type===t.type&&Kl(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,b))&&l.join(n.from-1)},undoable:t.undoable})}function ede(t,e){const{selection:n}=t,{$from:i}=n;if(n instanceof pt){const s=i.index();return i.parent.canReplaceWith(s,s+1,e)}let r=i.depth;for(;r>=0;){const s=i.index(r);if(i.node(r).contentMatchAt(s).matchType(e))return!0;r-=1}return!1}function tde(t,e,n={}){const{state:i}=e,{doc:r,tr:s}=i,l=t;r.descendants((d,f)=>{const p=s.mapping.map(f),b=s.mapping.map(f)+d.nodeSize;let w=null;if(d.marks.forEach(E=>{if(E!==l)return!1;w=E}),!w)return;let S=!1;if(Object.keys(n).forEach(E=>{n[E]!==w.attrs[E]&&(S=!0)}),S){const E=t.type.create({...t.attrs,...n});s.removeMark(p,b,t.type),s.addMark(p,b,E)}}),s.docChanged&&e.view.dispatch(s)}var Wr=class r5 extends Ev{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new r5(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Qc(t){return new Lce({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:r})=>{const s=_n(t.getAttributes,void 0,i,r);if(s===!1||s===null)return null;const{tr:l}=e,d=i[i.length-1],f=i[0];let p=n.to;if(d){const b=f.search(/\S/),w=n.from+f.indexOf(d),S=w+d.length;if(Sv(n.from,n.to,e.doc).filter(T=>T.mark.type.excluded.find(R=>R===t.type&&R!==T.mark.type)).filter(T=>T.to>w).length)return null;S<n.to&&l.delete(S,n.to),w>n.from&&l.delete(n.from+b,w),p=n.from+b+d.length,l.addMark(n.from+b,p,t.type.create(s||{})),l.removeStoredMark(t.type)}}})}var Jy,S4;function nde(){return S4||(S4=1,Jy=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(r of e.entries())if(!n.has(r[0]))return!1;for(r of e.entries())if(!t(r[1],n.get(r[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(r of e.entries())if(!n.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(e[r]!==n[r])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(n).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=i;r--!==0;){var l=s[r];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),Jy}var ide=nde();const rde=jo(ide);var e2={exports:{}},t2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E4;function sde(){if(E4)return t2;E4=1;var t=Jc(),e=QN();function n(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,d=t.useMemo,f=t.useDebugValue;return t2.useSyncExternalStoreWithSelector=function(p,b,w,S,E){var T=s(null);if(T.current===null){var M={hasValue:!1,value:null};T.current=M}else M=T.current;T=d(function(){function B(P){if(!G){if(G=!0,L=P,P=S(P),E!==void 0&&M.hasValue){var z=M.value;if(E(z,P))return k=z}return k=P}if(z=k,i(L,P))return z;var U=S(P);return E!==void 0&&E(z,U)?(L=P,z):(L=P,k=U)}var G=!1,L,k,D=w===void 0?null:w;return[function(){return B(b())},D===null?void 0:function(){return B(D())}]},[b,w,S,E]);var R=r(p,T[0],T[1]);return l(function(){M.hasValue=!0,M.value=R},[R]),f(R),R},t2}var A4;function ade(){return A4||(A4=1,e2.exports=sde()),e2.exports}var ode=ade(),lde=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},cde=({contentComponent:t})=>{const e=JN.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return x.jsx(x.Fragment,{children:Object.values(e)})};function ude(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,i){e={...e,[n]:uO.createPortal(i.reactElement,i.element,n)},t.forEach(r=>r())},removeRenderer(n){const i={...e};delete i[n],e=i,t.forEach(r=>r())}}}var dde=class extends Ut.Component{constructor(t){var e;super(t),this.editorContentRef=Ut.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=ude(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:lde(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&x.jsx(cde,{contentComponent:t.contentComponent})]})}},fde=j.forwardRef((t,e)=>{const n=Ut.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ut.createElement(dde,{key:n,innerRef:e,...t})}),hde=Ut.memo(fde),pde=typeof window<"u"?j.useLayoutEffect:j.useEffect,mde=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function gde(t){var e;const[n]=j.useState(()=>new mde(t.editor)),i=ode.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:rde);return pde(()=>n.watch(t.editor),[t.editor,n]),j.useDebugValue(i),i}var xde=!1,ob=typeof window>"u",yde=ob||!!(typeof window<"u"&&window.next),bde=class s5{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?ob||yde?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var r,s;return(s=(r=this.options.current).onBeforeCreate)==null?void 0:s.call(r,...i)},onBlur:(...i)=>{var r,s;return(s=(r=this.options.current).onBlur)==null?void 0:s.call(r,...i)},onCreate:(...i)=>{var r,s;return(s=(r=this.options.current).onCreate)==null?void 0:s.call(r,...i)},onDestroy:(...i)=>{var r,s;return(s=(r=this.options.current).onDestroy)==null?void 0:s.call(r,...i)},onFocus:(...i)=>{var r,s;return(s=(r=this.options.current).onFocus)==null?void 0:s.call(r,...i)},onSelectionUpdate:(...i)=>{var r,s;return(s=(r=this.options.current).onSelectionUpdate)==null?void 0:s.call(r,...i)},onTransaction:(...i)=>{var r,s;return(s=(r=this.options.current).onTransaction)==null?void 0:s.call(r,...i)},onUpdate:(...i)=>{var r,s;return(s=(r=this.options.current).onUpdate)==null?void 0:s.call(r,...i)},onContentError:(...i)=>{var r,s;return(s=(r=this.options.current).onContentError)==null?void 0:s.call(r,...i)},onDrop:(...i)=>{var r,s;return(s=(r=this.options.current).onDrop)==null?void 0:s.call(r,...i)},onPaste:(...i)=>{var r,s;return(s=(r=this.options.current).onPaste)==null?void 0:s.call(r,...i)},onDelete:(...i)=>{var r,s;return(s=(r=this.options.current).onDelete)==null?void 0:s.call(r,...i)}};return new Jue(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((r,s)=>{var l;return r===((l=n.extensions)==null?void 0:l[s])}):e[i]===n[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?s5.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,r)=>i===e[r]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function vde(t={},e=[]){const n=j.useRef(t);n.current=t;const[i]=j.useState(()=>new bde(n)),r=JN.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return j.useDebugValue(r),j.useEffect(i.onRender(e)),gde({editor:r,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),r}var wde=j.createContext({editor:null});wde.Consumer;var _de=j.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Cde=()=>j.useContext(_de);Ut.forwardRef((t,e)=>{const{onDragStart:n}=Cde(),i=t.as||"div";return x.jsx(i,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Ut.createContext({markViewContentRef:()=>{}});var wm=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...i}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,i,n]},Sde=/^\s*>\s$/,Ede=Wr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return wm("blockquote",{...xi(this.options.HTMLAttributes,t),children:wm("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Cd({find:Sde,type:this.type})]}}),Ade=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Tde=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Nde=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Ide=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,kde=su.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return wm("strong",{...xi(this.options.HTMLAttributes,t),children:wm("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[_d({find:Ade,type:this.type}),_d({find:Nde,type:this.type})]},addPasteRules(){return[Qc({find:Tde,type:this.type}),Qc({find:Ide,type:this.type})]}}),Mde=/(^|[^`])`([^`]+)`(?!`)$/,Ode=/(^|[^`])`([^`]+)`(?!`)/g,Rde=su.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",xi(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[_d({find:Mde,type:this.type})]},addPasteRules(){return[Qc({find:Ode,type:this.type})]}}),n2=4,Dde=/^```([a-z]+)?[\s\n]$/,Bde=/^~~~([a-z]+)?[\s\n]$/,Lde=Wr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:n2,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",xi(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:n2,{state:i}=t,{selection:r}=i,{$from:s,empty:l}=r;if(s.parent.type!==this.type)return!1;const d=" ".repeat(n);return l?t.commands.insertContent(d):t.commands.command(({tr:f})=>{const{from:p,to:b}=r,E=i.doc.textBetween(p,b,`
`,`
`).split(`
`).map(T=>d+T).join(`
`);return f.replaceWith(p,b,i.schema.text(E)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:n2,{state:i}=t,{selection:r}=i,{$from:s,empty:l}=r;return s.parent.type!==this.type?!1:l?t.commands.command(({tr:d})=>{var f;const{pos:p}=s,b=s.start(),w=s.end(),E=i.doc.textBetween(b,w,`
`,`
`).split(`
`);let T=0,M=0;const R=p-b;for(let P=0;P<E.length;P+=1){if(M+E[P].length>=R){T=P;break}M+=E[P].length+1}const G=((f=E[T].match(/^ */))==null?void 0:f[0])||"",L=Math.min(G.length,n);if(L===0)return!0;let k=b;for(let P=0;P<T;P+=1)k+=E[P].length+1;return d.delete(k,k+L),p-k<=L&&d.setSelection(wt.create(d.doc,k)),!0}):t.commands.command(({tr:d})=>{const{from:f,to:p}=r,S=i.doc.textBetween(f,p,`
`,`
`).split(`
`).map(E=>{var T;const M=((T=E.match(/^ */))==null?void 0:T[0])||"",R=Math.min(M.length,n);return E.slice(R)}).join(`
`);return d.replaceWith(f,p,i.schema.text(S)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:r}=n;if(!r||i.parent.type!==this.type)return!1;const s=i.parentOffset===i.parent.nodeSize-2,l=i.parent.textContent.endsWith(`

`);return!s||!l?!1:t.chain().command(({tr:d})=>(d.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const d=r.after();return d===void 0?!1:i.nodeAt(d)?t.commands.command(({tr:p})=>(p.setSelection(Bt.near(i.resolve(d))),!0)):t.commands.exitCode()}}},addInputRules(){return[ab({find:Dde,type:this.type,getAttributes:t=>({language:t[1]})}),ab({find:Bde,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new ai({key:new Gi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),r=i?JSON.parse(i):void 0,s=r==null?void 0:r.mode;if(!n||!s)return!1;const{tr:l,schema:d}=t.state,f=d.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:s},f)),l.selection.$from.parent.type!==this.type&&l.setSelection(wt.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),jde=Wr.create({name:"doc",topNode:!0,content:"block+"}),Pde=Wr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",xi(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:s}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:d}=i.extensionManager,f=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:b})=>{if(b&&f&&l){const w=f.filter(S=>d.includes(S.type.name));p.ensureMarks(w)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Fde=Wr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,xi(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>ab({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),zde=Wr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",xi(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!ede(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:i}=n,r=t();return F6(n)?r.insertContentAt(i.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({state:s,tr:l,dispatch:d})=>{if(d){const{$to:f}=l.selection,p=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?l.setSelection(wt.create(l.doc,f.pos+1)):f.nodeAfter.isBlock?l.setSelection(pt.create(l.doc,f.pos)):l.setSelection(wt.create(l.doc,f.pos));else{const b=s.schema.nodes[this.options.nextNodeType]||f.parent.type.contentMatch.defaultType,w=b==null?void 0:b.create();w&&(l.insert(p,w),l.setSelection(wt.create(l.doc,p+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[i5({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Hde=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Ude=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,$de=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Vde=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Gde=su.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",xi(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[_d({find:Hde,type:this.type}),_d({find:$de,type:this.type})]},addPasteRules(){return[Qc({find:Ude,type:this.type}),Qc({find:Vde,type:this.type})]}});const qde="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Wde="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",lb="numeric",cb="ascii",ub="alpha",Qf="asciinumeric",Wf="alphanumeric",db="domain",a5="emoji",Xde="scheme",Yde="slashscheme",i2="whitespace";function Kde(t,e){return t in e||(e[t]=[]),e[t]}function jc(t,e,n){e[lb]&&(e[Qf]=!0,e[Wf]=!0),e[cb]&&(e[Qf]=!0,e[ub]=!0),e[Qf]&&(e[Wf]=!0),e[ub]&&(e[Wf]=!0),e[Wf]&&(e[db]=!0),e[a5]&&(e[db]=!0);for(const i in e){const r=Kde(i,n);r.indexOf(t)<0&&r.push(t)}}function Zde(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function Ur(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Ur.groups={};Ur.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const r=e.jr[i][0],s=e.jr[i][1];if(s&&r.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,i)},tr(t,e,n,i){i=i||Ur.groups;let r;return e&&e.j?r=e:(r=new Ur(e),n&&i&&jc(e,n,i)),this.jr.push([t,r]),r},ts(t,e,n,i){let r=this;const s=t.length;if(!s)return r;for(let l=0;l<s-1;l++)r=r.tt(t[l]);return r.tt(t[s-1],e,n,i)},tt(t,e,n,i){i=i||Ur.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const s=e;let l,d=r.go(t);if(d?(l=new Ur,Object.assign(l.j,d.j),l.jr.push.apply(l.jr,d.jr),l.jd=d.jd,l.t=d.t):l=new Ur,s){if(i)if(l.t&&typeof l.t=="string"){const f=Object.assign(Zde(l.t,i),n);jc(s,f,i)}else n&&jc(s,n,i);l.t=s}return r.j[t]=l,l}};const Dt=(t,e,n,i,r)=>t.ta(e,n,i,r),ni=(t,e,n,i,r)=>t.tr(e,n,i,r),T4=(t,e,n,i,r)=>t.ts(e,n,i,r),$e=(t,e,n,i,r)=>t.tt(e,n,i,r),Ao="WORD",fb="UWORD",o5="ASCIINUMERICAL",l5="ALPHANUMERICAL",bh="LOCALHOST",hb="TLD",pb="UTLD",B1="SCHEME",od="SLASH_SCHEME",Tv="NUM",mb="WS",Nv="NL",Jf="OPENBRACE",eh="CLOSEBRACE",_m="OPENBRACKET",Cm="CLOSEBRACKET",Sm="OPENPAREN",Em="CLOSEPAREN",Am="OPENANGLEBRACKET",Tm="CLOSEANGLEBRACKET",Nm="FULLWIDTHLEFTPAREN",Im="FULLWIDTHRIGHTPAREN",km="LEFTCORNERBRACKET",Mm="RIGHTCORNERBRACKET",Om="LEFTWHITECORNERBRACKET",Rm="RIGHTWHITECORNERBRACKET",Dm="FULLWIDTHLESSTHAN",Bm="FULLWIDTHGREATERTHAN",Lm="AMPERSAND",jm="APOSTROPHE",Pm="ASTERISK",El="AT",Fm="BACKSLASH",zm="BACKTICK",Hm="CARET",kl="COLON",Iv="COMMA",Um="DOLLAR",Na="DOT",$m="EQUALS",kv="EXCLAMATION",Rs="HYPHEN",th="PERCENT",Vm="PIPE",Gm="PLUS",qm="POUND",nh="QUERY",Mv="QUOTE",c5="FULLWIDTHMIDDLEDOT",Ov="SEMI",Ia="SLASH",ih="TILDE",Wm="UNDERSCORE",u5="EMOJI",Xm="SYM";var d5=Object.freeze({__proto__:null,ALPHANUMERICAL:l5,AMPERSAND:Lm,APOSTROPHE:jm,ASCIINUMERICAL:o5,ASTERISK:Pm,AT:El,BACKSLASH:Fm,BACKTICK:zm,CARET:Hm,CLOSEANGLEBRACKET:Tm,CLOSEBRACE:eh,CLOSEBRACKET:Cm,CLOSEPAREN:Em,COLON:kl,COMMA:Iv,DOLLAR:Um,DOT:Na,EMOJI:u5,EQUALS:$m,EXCLAMATION:kv,FULLWIDTHGREATERTHAN:Bm,FULLWIDTHLEFTPAREN:Nm,FULLWIDTHLESSTHAN:Dm,FULLWIDTHMIDDLEDOT:c5,FULLWIDTHRIGHTPAREN:Im,HYPHEN:Rs,LEFTCORNERBRACKET:km,LEFTWHITECORNERBRACKET:Om,LOCALHOST:bh,NL:Nv,NUM:Tv,OPENANGLEBRACKET:Am,OPENBRACE:Jf,OPENBRACKET:_m,OPENPAREN:Sm,PERCENT:th,PIPE:Vm,PLUS:Gm,POUND:qm,QUERY:nh,QUOTE:Mv,RIGHTCORNERBRACKET:Mm,RIGHTWHITECORNERBRACKET:Rm,SCHEME:B1,SEMI:Ov,SLASH:Ia,SLASH_SCHEME:od,SYM:Xm,TILDE:ih,TLD:hb,UNDERSCORE:Wm,UTLD:pb,UWORD:fb,WORD:Ao,WS:mb});const _o=/[a-z]/,Pf=new RegExp("\\p{L}","u"),r2=new RegExp("\\p{Emoji}","u"),Co=/\d/,s2=/\s/,N4="\r",a2=`
`,Qde="",Jde="",o2="";let b1=null,v1=null;function efe(t=[]){const e={};Ur.groups=e;const n=new Ur;b1==null&&(b1=I4(qde)),v1==null&&(v1=I4(Wde)),$e(n,"'",jm),$e(n,"{",Jf),$e(n,"}",eh),$e(n,"[",_m),$e(n,"]",Cm),$e(n,"(",Sm),$e(n,")",Em),$e(n,"<",Am),$e(n,">",Tm),$e(n,"",Nm),$e(n,"",Im),$e(n,"",km),$e(n,"",Mm),$e(n,"",Om),$e(n,"",Rm),$e(n,"",Dm),$e(n,"",Bm),$e(n,"&",Lm),$e(n,"*",Pm),$e(n,"@",El),$e(n,"`",zm),$e(n,"^",Hm),$e(n,":",kl),$e(n,",",Iv),$e(n,"$",Um),$e(n,".",Na),$e(n,"=",$m),$e(n,"!",kv),$e(n,"-",Rs),$e(n,"%",th),$e(n,"|",Vm),$e(n,"+",Gm),$e(n,"#",qm),$e(n,"?",nh),$e(n,'"',Mv),$e(n,"/",Ia),$e(n,";",Ov),$e(n,"~",ih),$e(n,"_",Wm),$e(n,"\\",Fm),$e(n,"",c5);const i=ni(n,Co,Tv,{[lb]:!0});ni(i,Co,i);const r=ni(i,_o,o5,{[Qf]:!0}),s=ni(i,Pf,l5,{[Wf]:!0}),l=ni(n,_o,Ao,{[cb]:!0});ni(l,Co,r),ni(l,_o,l),ni(r,Co,r),ni(r,_o,r);const d=ni(n,Pf,fb,{[ub]:!0});ni(d,_o),ni(d,Co,s),ni(d,Pf,d),ni(s,Co,s),ni(s,_o),ni(s,Pf,s);const f=$e(n,a2,Nv,{[i2]:!0}),p=$e(n,N4,mb,{[i2]:!0}),b=ni(n,s2,mb,{[i2]:!0});$e(n,o2,b),$e(p,a2,f),$e(p,o2,b),ni(p,s2,b),$e(b,N4),$e(b,a2),ni(b,s2,b),$e(b,o2,b);const w=ni(n,r2,u5,{[a5]:!0});$e(w,"#"),ni(w,r2,w),$e(w,Qde,w);const S=$e(w,Jde);$e(S,"#"),ni(S,r2,w);const E=[[_o,l],[Co,r]],T=[[_o,null],[Pf,d],[Co,s]];for(let M=0;M<b1.length;M++)wl(n,b1[M],hb,Ao,E);for(let M=0;M<v1.length;M++)wl(n,v1[M],pb,fb,T);jc(hb,{tld:!0,ascii:!0},e),jc(pb,{utld:!0,alpha:!0},e),wl(n,"file",B1,Ao,E),wl(n,"mailto",B1,Ao,E),wl(n,"http",od,Ao,E),wl(n,"https",od,Ao,E),wl(n,"ftp",od,Ao,E),wl(n,"ftps",od,Ao,E),jc(B1,{scheme:!0,ascii:!0},e),jc(od,{slashscheme:!0,ascii:!0},e),t=t.sort((M,R)=>M[0]>R[0]?1:-1);for(let M=0;M<t.length;M++){const R=t[M][0],G=t[M][1]?{[Xde]:!0}:{[Yde]:!0};R.indexOf("-")>=0?G[db]=!0:_o.test(R)?Co.test(R)?G[Qf]=!0:G[cb]=!0:G[lb]=!0,T4(n,R,R,G)}return T4(n,"localhost",bh,{ascii:!0}),n.jd=new Ur(Xm),{start:n,tokens:Object.assign({groups:e},d5)}}function f5(t,e){const n=tfe(e.replace(/[A-Z]/g,d=>d.toLowerCase())),i=n.length,r=[];let s=0,l=0;for(;l<i;){let d=t,f=null,p=0,b=null,w=-1,S=-1;for(;l<i&&(f=d.go(n[l]));)d=f,d.accepts()?(w=0,S=0,b=d):w>=0&&(w+=n[l].length,S++),p+=n[l].length,s+=n[l].length,l++;s-=w,l-=S,p-=w,r.push({t:b.t,v:e.slice(s-p,s),s:s-p,e:s})}return r}function tfe(t){const e=[],n=t.length;let i=0;for(;i<n;){let r=t.charCodeAt(i),s,l=r<55296||r>56319||i+1===n||(s=t.charCodeAt(i+1))<56320||s>57343?t[i]:t.slice(i,i+2);e.push(l),i+=l.length}return e}function wl(t,e,n,i,r){let s;const l=e.length;for(let d=0;d<l-1;d++){const f=e[d];t.j[f]?s=t.j[f]:(s=new Ur(i),s.jr=r.slice(),t.j[f]=s),t=s}return s=new Ur(n),s.jr=r.slice(),t.j[e[l-1]]=s,s}function I4(t){const e=[],n=[];let i=0,r="0123456789";for(;i<t.length;){let s=0;for(;r.indexOf(t[i+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let l=parseInt(t.substring(i,i+s),10);l>0;l--)n.pop();i+=s}else n.push(t[i]),i++}return e}const vh={defaultProtocol:"http",events:null,format:k4,formatHref:k4,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Rv(t,e=null){let n=Object.assign({},vh);t&&(n=Object.assign(n,t instanceof Rv?t.o:t));const i=n.ignoreTags,r=[];for(let s=0;s<i.length;s++)r.push(i[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}Rv.prototype={o:vh,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:vh[t],typeof r=="function"&&i&&(r=r(e,n))):typeof r=="function"&&i&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function k4(t){return t}function h5(t,e){this.t="token",this.v=t,this.tk=e}h5.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=vh.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),r=t.get("tagName",n,e),s=this.toFormattedString(t),l={},d=t.get("className",n,e),f=t.get("target",n,e),p=t.get("rel",n,e),b=t.getObj("attributes",n,e),w=t.getObj("events",n,e);return l.href=i,d&&(l.class=d),f&&(l.target=f),p&&(l.rel=p),b&&Object.assign(l,b),{tagName:r,attributes:l,content:s,eventListeners:w}}};function N0(t,e){class n extends h5{constructor(r,s){super(r,s),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const M4=N0("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),O4=N0("text"),nfe=N0("nl"),w1=N0("url",{isLink:!0,toHref(t=vh.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==bh&&t[1].t===kl}}),Os=t=>new Ur(t);function ife({groups:t}){const e=t.domain.concat([Lm,Pm,El,Fm,zm,Hm,Um,$m,Rs,Tv,th,Vm,Gm,qm,Ia,Xm,ih,Wm]),n=[jm,kl,Iv,Na,kv,th,nh,Mv,Ov,Am,Tm,Jf,eh,Cm,_m,Sm,Em,Nm,Im,km,Mm,Om,Rm,Dm,Bm],i=[Lm,jm,Pm,Fm,zm,Hm,Um,$m,Rs,Jf,eh,th,Vm,Gm,qm,nh,Ia,Xm,ih,Wm],r=Os(),s=$e(r,ih);Dt(s,i,s),Dt(s,t.domain,s);const l=Os(),d=Os(),f=Os();Dt(r,t.domain,l),Dt(r,t.scheme,d),Dt(r,t.slashscheme,f),Dt(l,i,s),Dt(l,t.domain,l);const p=$e(l,El);$e(s,El,p),$e(d,El,p),$e(f,El,p);const b=$e(s,Na);Dt(b,i,s),Dt(b,t.domain,s);const w=Os();Dt(p,t.domain,w),Dt(w,t.domain,w);const S=$e(w,Na);Dt(S,t.domain,w);const E=Os(M4);Dt(S,t.tld,E),Dt(S,t.utld,E),$e(p,bh,E);const T=$e(w,Rs);$e(T,Rs,T),Dt(T,t.domain,w),Dt(E,t.domain,w),$e(E,Na,S),$e(E,Rs,T);const M=$e(E,kl);Dt(M,t.numeric,M4);const R=$e(l,Rs),B=$e(l,Na);$e(R,Rs,R),Dt(R,t.domain,l),Dt(B,i,s),Dt(B,t.domain,l);const G=Os(w1);Dt(B,t.tld,G),Dt(B,t.utld,G),Dt(G,t.domain,l),Dt(G,i,s),$e(G,Na,B),$e(G,Rs,R),$e(G,El,p);const L=$e(G,kl),k=Os(w1);Dt(L,t.numeric,k);const D=Os(w1),P=Os();Dt(D,e,D),Dt(D,n,P),Dt(P,e,D),Dt(P,n,P),$e(G,Ia,D),$e(k,Ia,D);const z=$e(d,kl),U=$e(f,kl),X=$e(U,Ia),ne=$e(X,Ia);Dt(d,t.domain,l),$e(d,Na,B),$e(d,Rs,R),Dt(f,t.domain,l),$e(f,Na,B),$e(f,Rs,R),Dt(z,t.domain,D),$e(z,Ia,D),$e(z,nh,D),Dt(ne,t.domain,D),Dt(ne,e,D),$e(ne,Ia,D);const ee=[[Jf,eh],[_m,Cm],[Sm,Em],[Am,Tm],[Nm,Im],[km,Mm],[Om,Rm],[Dm,Bm]];for(let oe=0;oe<ee.length;oe++){const[Ce,Se]=ee[oe],te=$e(D,Ce);$e(P,Ce,te),$e(te,Se,D);const Q=Os(w1);Dt(te,e,Q);const le=Os();Dt(te,n),Dt(Q,e,Q),Dt(Q,n,le),Dt(le,e,Q),Dt(le,n,le),$e(Q,Se,D),$e(le,Se,D)}return $e(r,bh,G),$e(r,Nv,nfe),{start:r,tokens:d5}}function rfe(t,e,n){let i=n.length,r=0,s=[],l=[];for(;r<i;){let d=t,f=null,p=null,b=0,w=null,S=-1;for(;r<i&&!(f=d.go(n[r].t));)l.push(n[r++]);for(;r<i&&(p=f||d.go(n[r].t));)f=null,d=p,d.accepts()?(S=0,w=d):S>=0&&S++,r++,b++;if(S<0)r-=b,r<i&&(l.push(n[r]),r++);else{l.length>0&&(s.push(l2(O4,e,l)),l=[]),r-=S,b-=S;const E=w.t,T=n.slice(r-b,r);s.push(l2(E,e,T))}}return l.length>0&&s.push(l2(O4,e,l)),s}function l2(t,e,n){const i=n[0].s,r=n[n.length-1].e,s=e.slice(i,r);return new t(s,n)}const sfe=typeof console<"u"&&console&&console.warn||(()=>{}),afe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ln={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function ofe(){return Ur.groups={},Ln.scanner=null,Ln.parser=null,Ln.tokenQueue=[],Ln.pluginQueue=[],Ln.customSchemes=[],Ln.initialized=!1,Ln}function R4(t,e=!1){if(Ln.initialized&&sfe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${afe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ln.customSchemes.push([t,e])}function lfe(){Ln.scanner=efe(Ln.customSchemes);for(let t=0;t<Ln.tokenQueue.length;t++)Ln.tokenQueue[t][1]({scanner:Ln.scanner});Ln.parser=ife(Ln.scanner.tokens);for(let t=0;t<Ln.pluginQueue.length;t++)Ln.pluginQueue[t][1]({scanner:Ln.scanner,parser:Ln.parser});return Ln.initialized=!0,Ln}function Dv(t){return Ln.initialized||lfe(),rfe(Ln.parser.start,t,f5(Ln.scanner.start,t))}Dv.scan=f5;function p5(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const i=new Rv(n),r=Dv(t),s=[];for(let l=0;l<r.length;l++){const d=r[l];d.isLink&&(!e||d.t===e)&&i.check(d)&&s.push(d.toFormattedObject(i))}return s}var Bv="[\0- -\u2029]",cfe=new RegExp(Bv),ufe=new RegExp(`${Bv}$`),dfe=new RegExp(Bv,"g");function ffe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function hfe(t){return new ai({key:new Gi("autolink"),appendTransaction:(e,n,i)=>{const r=e.some(p=>p.docChanged)&&!n.doc.eq(i.doc),s=e.some(p=>p.getMeta("preventAutolink"));if(!r||s)return;const{tr:l}=i,d=N6(n.doc,[...e]);if(j6(d).forEach(({newRange:p})=>{const b=gce(i.doc,p,E=>E.isTextblock);let w,S;if(b.length>1)w=b[0],S=i.doc.textBetween(w.pos,w.pos+w.node.nodeSize,void 0," ");else if(b.length){const E=i.doc.textBetween(p.from,p.to," "," ");if(!ufe.test(E))return;w=b[0],S=i.doc.textBetween(w.pos,p.to,void 0," ")}if(w&&S){const E=S.split(cfe).filter(Boolean);if(E.length<=0)return!1;const T=E[E.length-1],M=w.pos+S.lastIndexOf(T);if(!T)return!1;const R=Dv(T).map(B=>B.toObject(t.defaultProtocol));if(!ffe(R))return!1;R.filter(B=>B.isLink).map(B=>({...B,from:M+B.start+1,to:M+B.end+1})).filter(B=>i.schema.marks.code?!i.doc.rangeHasMark(B.from,B.to,i.schema.marks.code):!0).filter(B=>t.validate(B.value)).filter(B=>t.shouldAutoLink(B.value)).forEach(B=>{Sv(B.from,B.to,i.doc).some(G=>G.mark.type===t.type)||l.addMark(B.from,B.to,t.type.create({href:B.href}))})}}),!!l.steps.length)return l}})}function pfe(t){return new ai({key:new Gi("handleClickLink"),props:{handleClick:(e,n,i)=>{var r,s;if(i.button!==0||!e.editable)return!1;let l=null;if(i.target instanceof HTMLAnchorElement)l=i.target;else{let b=i.target;const w=[];for(;b.nodeName!=="DIV";)w.push(b),b=b.parentNode;l=w.find(S=>S.nodeName==="A")}if(!l)return!1;const d=L6(e.state,t.type.name),f=(r=l==null?void 0:l.href)!=null?r:d.href,p=(s=l==null?void 0:l.target)!=null?s:d.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),l&&f?(window.open(f,p),!0):!1}}})}function mfe(t){return new ai({key:new Gi("handlePasteLink"),props:{handlePaste:(e,n,i)=>{const{state:r}=e,{selection:s}=r,{empty:l}=s;if(l)return!1;let d="";i.content.forEach(p=>{d+=p.textContent});const f=p5(d,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===d);return!d||!f?!1:t.editor.commands.setMark(t.type,{href:f.href})}}})}function Ac(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(i=>{const r=typeof i=="string"?i:i.scheme;r&&n.push(r)}),!t||t.replace(dfe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var gfe=su.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){R4(t);return}R4(t.scheme,t.optionalSlashes)})},onDestroy(){ofe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Ac(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Ac(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Ac(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",xi(this.options.HTMLAttributes,t),0]:["a",xi(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:i=>!!Ac(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:i=>!!Ac(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Qc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:i}=this.options,r=p5(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:l=>!!Ac(l,n),protocols:n,defaultProtocol:i}));r.length&&r.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(hfe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:i=>this.options.isAllowedUri(i,{defaultValidate:r=>!!Ac(r,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(pfe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(mfe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),xfe=Object.defineProperty,yfe=(t,e)=>{for(var n in e)xfe(t,n,{get:e[n],enumerable:!0})},bfe="listItem",D4="textStyle",B4=/^\s*([-+*])\s$/,m5=Wr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",xi(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(bfe,this.editor.getAttributes(D4)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Cd({find:B4,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Cd({find:B4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(D4),editor:this.editor})),[t]}}),g5=Wr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",xi(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),vfe={};yfe(vfe,{findListItemPos:()=>jh,getNextListDepth:()=>Lv,handleBackspace:()=>gb,handleDelete:()=>xb,hasListBefore:()=>x5,hasListItemAfter:()=>wfe,hasListItemBefore:()=>y5,listItemHasSubList:()=>b5,nextListIsDeeper:()=>v5,nextListIsHigher:()=>w5});var jh=(t,e)=>{const{$from:n}=e.selection,i=Ci(t,e.schema);let r=null,s=n.depth,l=n.pos,d=null;for(;s>0&&d===null;)r=n.node(s),r.type===i?d=s:(s-=1,l-=1);return d===null?null:{$pos:e.doc.resolve(l),depth:d}},Lv=(t,e)=>{const n=jh(t,e);if(!n)return!1;const[,i]=Ace(e,t,n.$pos.pos+4);return i},x5=(t,e,n)=>{const{$anchor:i}=t.selection,r=Math.max(0,i.pos-2),s=t.doc.resolve(r).node();return!(!s||!n.includes(s.type.name))},y5=(t,e)=>{var n;const{$anchor:i}=e.selection,r=e.doc.resolve(i.pos-2);return!(r.index()===0||((n=r.nodeBefore)==null?void 0:n.type.name)!==t)},b5=(t,e,n)=>{if(!n)return!1;const i=Ci(t,e.schema);let r=!1;return n.descendants(s=>{s.type===i&&(r=!0)}),r},gb=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!ql(t.state,e)&&x5(t.state,e,n)){const{$anchor:d}=t.state.selection,f=t.state.doc.resolve(d.before()-1),p=[];f.node().descendants((S,E)=>{S.type.name===e&&p.push({node:S,pos:E})});const b=p.at(-1);if(!b)return!1;const w=t.state.doc.resolve(f.start()+b.pos+1);return t.chain().cut({from:d.start()-1,to:d.end()+1},w.end()).joinForward().run()}if(!ql(t.state,e)||!kce(t.state))return!1;const i=jh(e,t.state);if(!i)return!1;const s=t.state.doc.resolve(i.$pos.pos-2).node(i.depth),l=b5(e,t.state,s);return y5(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},v5=(t,e)=>{const n=Lv(t,e),i=jh(t,e);return!i||!n?!1:n>i.depth},w5=(t,e)=>{const n=Lv(t,e),i=jh(t,e);return!i||!n?!1:n<i.depth},xb=(t,e)=>{if(!ql(t.state,e)||!Ice(t.state,e))return!1;const{selection:n}=t.state,{$from:i,$to:r}=n;return!n.empty&&i.sameParent(r)?!1:v5(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():w5(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},wfe=(t,e)=>{var n;const{$anchor:i}=e.selection,r=e.doc.resolve(i.pos-i.parentOffset-2);return!(r.index()===r.parent.childCount-1||((n=r.nodeAfter)==null?void 0:n.type.name)!==t)},_5=Si.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&xb(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&xb(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&gb(t,n,i)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&gb(t,n,i)&&(e=!0)}),e}}}}),_fe="listItem",L4="textStyle",j4=/^(\d+)\.\s$/,C5=Wr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",xi(this.options.HTMLAttributes,n),0]:["ol",xi(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(_fe,this.editor.getAttributes(L4)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Cd({find:j4,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Cd({find:j4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(L4)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Cfe=/^\s*(\[([( |x])?\])\s$/,Sfe=Wr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",xi(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:i})=>{const r=document.createElement("li"),s=document.createElement("label"),l=document.createElement("span"),d=document.createElement("input"),f=document.createElement("div"),p=b=>{var w,S;d.ariaLabel=((S=(w=this.options.a11y)==null?void 0:w.checkboxLabel)==null?void 0:S.call(w,b,d.checked))||`Task item checkbox for ${b.textContent||"empty task item"}`};return p(t),s.contentEditable="false",d.type="checkbox",d.addEventListener("mousedown",b=>b.preventDefault()),d.addEventListener("change",b=>{if(!i.isEditable&&!this.options.onReadOnlyChecked){d.checked=!d.checked;return}const{checked:w}=b.target;i.isEditable&&typeof n=="function"&&i.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:S})=>{const E=n();if(typeof E!="number")return!1;const T=S.doc.nodeAt(E);return S.setNodeMarkup(E,void 0,{...T==null?void 0:T.attrs,checked:w}),!0}).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,w)||(d.checked=!d.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([b,w])=>{r.setAttribute(b,w)}),r.dataset.checked=t.attrs.checked,d.checked=t.attrs.checked,s.append(d,l),r.append(s,f),Object.entries(e).forEach(([b,w])=>{r.setAttribute(b,w)}),{dom:r,contentDOM:f,update:b=>b.type!==this.type?!1:(r.dataset.checked=b.attrs.checked,d.checked=b.attrs.checked,p(b),!0)}}},addInputRules(){return[Cd({find:Cfe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),Efe=Wr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",xi(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Si.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(m5.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(g5.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(_5.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(C5.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(Sfe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(Efe.configure(this.options.taskList)),t}});var Afe=Wr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",xi(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Tfe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Nfe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Ife=su.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",xi(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[_d({find:Tfe,type:this.type})]},addPasteRules(){return[Qc({find:Nfe,type:this.type})]}}),kfe=Wr.create({name:"text",group:"inline"}),Mfe=su.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",xi(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Ofe(t={}){return new ai({view(e){return new Rfe(e,t)}})}class Rfe{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=l=>{this[r](l)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i,r=this.editorView.dom,s=r.getBoundingClientRect(),l=s.width/r.offsetWidth,d=s.height/r.offsetHeight;if(n){let w=e.nodeBefore,S=e.nodeAfter;if(w||S){let E=this.editorView.nodeDOM(this.cursorPos-(w?w.nodeSize:0));if(E){let T=E.getBoundingClientRect(),M=w?T.bottom:T.top;w&&S&&(M=(M+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let R=this.width/2*d;i={left:T.left,right:T.right,top:M-R,bottom:M+R}}}}if(!i){let w=this.editorView.coordsAtPos(this.cursorPos),S=this.width/2*l;i={left:w.left-S,right:w.left+S,top:w.top,bottom:w.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let p,b;if(!f||f==document.body&&getComputedStyle(f).position=="static")p=-pageXOffset,b=-pageYOffset;else{let w=f.getBoundingClientRect(),S=w.width/f.offsetWidth,E=w.height/f.offsetHeight;p=w.left-f.scrollLeft*S,b=w.top-f.scrollTop*E}this.element.style.left=(i.left-p)/l+"px",this.element.style.top=(i.top-b)/d+"px",this.element.style.width=(i.right-i.left)/l+"px",this.element.style.height=(i.bottom-i.top)/d+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=i&&i.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!s){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let d=A8(this.editorView.state.doc,l,this.editorView.dragging.slice);d!=null&&(l=d)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ri extends Bt{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return ri.valid(i)?new ri(i):Bt.near(i)}content(){return Xe.empty}eq(e){return e instanceof ri&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ri(e.resolve(n.pos))}getBookmark(){return new jv(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Dfe(e)||!Bfe(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&ri.valid(e))return e;let r=e.pos,s=null;for(let l=e.depth;;l--){let d=e.node(l);if(n>0?e.indexAfter(l)<d.childCount:e.index(l)>0){s=d.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;r+=n;let f=e.doc.resolve(r);if(ri.valid(f))return f}for(;;){let l=n>0?s.firstChild:s.lastChild;if(!l){if(s.isAtom&&!s.isText&&!pt.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*n),i=!1;continue e}break}s=l,r+=n;let d=e.doc.resolve(r);if(ri.valid(d))return d}return null}}}ri.prototype.visible=!1;ri.findFrom=ri.findGapCursorFrom;Bt.jsonID("gapcursor",ri);class jv{constructor(e){this.pos=e}map(e){return new jv(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ri.valid(n)?new ri(n):Bt.near(n)}}function Dfe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function Bfe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function Lfe(){return new ai({props:{decorations:zfe,createSelectionBetween(t,e,n){return e.pos==n.pos&&ri.valid(n)?new ri(n):null},handleClick:Pfe,handleKeyDown:jfe,handleDOMEvents:{beforeinput:Ffe}}})}const jfe=p6({ArrowLeft:_1("horiz",-1),ArrowRight:_1("horiz",1),ArrowUp:_1("vert",-1),ArrowDown:_1("vert",1)});function _1(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,r,s){let l=i.selection,d=e>0?l.$to:l.$from,f=l.empty;if(l instanceof wt){if(!s.endOfTextblock(n)||d.depth==0)return!1;f=!1,d=i.doc.resolve(e>0?d.after():d.before())}let p=ri.findGapCursorFrom(d,e,f);return p?(r&&r(i.tr.setSelection(new ri(p))),!0):!1}}function Pfe(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!ri.valid(i))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&pt.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ri(i))),!0)}function Ffe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ri))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let r=je.empty;for(let l=i.length-1;l>=0;l--)r=je.from(i[l].createAndFill(null,r));let s=t.state.tr.replace(n.pos,n.pos,new Xe(r,0,0));return s.setSelection(wt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function zfe(t){if(!(t.selection instanceof ri))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Kn.create(t.doc,[Ar.widget(t.selection.head,e,{key:"gapcursor"})])}var Ym=200,Vi=function(){};Vi.prototype.append=function(e){return e.length?(e=Vi.from(e),!this.length&&e||e.length<Ym&&this.leafAppend(e)||this.length<Ym&&e.leafPrepend(this)||this.appendInner(e)):this};Vi.prototype.prepend=function(e){return e.length?Vi.from(e).append(this):this};Vi.prototype.appendInner=function(e){return new Hfe(this,e)};Vi.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Vi.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Vi.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Vi.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)};Vi.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var r=[];return this.forEach(function(s,l){return r.push(e(s,l))},n,i),r};Vi.from=function(e){return e instanceof Vi?e:e&&e.length?new S5(e):Vi.empty};var S5=function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,l,d){for(var f=s;f<l;f++)if(r(this.values[f],d+f)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,l,d){for(var f=s-1;f>=l;f--)if(r(this.values[f],d+f)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=Ym)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=Ym)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Vi);Vi.empty=new S5([]);var Hfe=function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,r,s,l){var d=this.left.length;if(r<d&&this.left.forEachInner(i,r,Math.min(s,d),l)===!1||s>d&&this.right.forEachInner(i,Math.max(r-d,0),Math.min(this.length,s)-d,l+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,r,s,l){var d=this.left.length;if(r>d&&this.right.forEachInvertedInner(i,r-d,Math.max(s,d)-d,l+d)===!1||s<d&&this.left.forEachInvertedInner(i,Math.min(r,d),s,l)===!1)return!1},e.prototype.sliceInner=function(i,r){if(i==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(i,r):i>=s?this.right.slice(i-s,r-s):this.left.slice(i,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(i){var r=this.right.leafAppend(i);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(i){var r=this.left.leafPrepend(i);if(r)return new e(r,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(Vi);const Ufe=500;class Qs{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let r,s;n&&(r=this.remapping(i,this.items.length),s=r.maps.length);let l=e.tr,d,f,p=[],b=[];return this.items.forEach((w,S)=>{if(!w.step){r||(r=this.remapping(i,S+1),s=r.maps.length),s--,b.push(w);return}if(r){b.push(new ka(w.map));let E=w.step.map(r.slice(s)),T;E&&l.maybeStep(E).doc&&(T=l.mapping.maps[l.mapping.maps.length-1],p.push(new ka(T,void 0,void 0,p.length+b.length))),s--,T&&r.appendMap(T,s)}else l.maybeStep(w.step);if(w.selection)return d=r?w.selection.map(r.slice(s)):w.selection,f=new Qs(this.items.slice(0,i).append(b.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:l,selection:d}}addTransform(e,n,i,r){let s=[],l=this.eventCount,d=this.items,f=!r&&d.length?d.get(d.length-1):null;for(let b=0;b<e.steps.length;b++){let w=e.steps[b].invert(e.docs[b]),S=new ka(e.mapping.maps[b],w,n),E;(E=f&&f.merge(S))&&(S=E,b?s.pop():d=d.slice(0,d.length-1)),s.push(S),n&&(l++,n=void 0),r||(f=S)}let p=l-i.depth;return p>Vfe&&(d=$fe(d,p),l-=p),new Qs(d.append(s),l)}remapping(e,n){let i=new fh;return this.items.forEach((r,s)=>{let l=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?i.maps.length-r.mirrorOffset:void 0;i.appendMap(r.map,l)},e,n),i}addMaps(e){return this.eventCount==0?this:new Qs(this.items.append(e.map(n=>new ka(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],r=Math.max(0,this.items.length-n),s=e.mapping,l=e.steps.length,d=this.eventCount;this.items.forEach(S=>{S.selection&&d--},r);let f=n;this.items.forEach(S=>{let E=s.getMirror(--f);if(E==null)return;l=Math.min(l,E);let T=s.maps[E];if(S.step){let M=e.steps[E].invert(e.docs[E]),R=S.selection&&S.selection.map(s.slice(f+1,E));R&&d++,i.push(new ka(T,M,R))}else i.push(new ka(T))},r);let p=[];for(let S=n;S<l;S++)p.push(new ka(s.maps[S]));let b=this.items.slice(0,r).append(p).append(i),w=new Qs(b,d);return w.emptyItemCount()>Ufe&&(w=w.compress(this.items.length-i.length)),w}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,r=[],s=0;return this.items.forEach((l,d)=>{if(d>=e)r.push(l),l.selection&&s++;else if(l.step){let f=l.step.map(n.slice(i)),p=f&&f.getMap();if(i--,p&&n.appendMap(p,i),f){let b=l.selection&&l.selection.map(n.slice(i));b&&s++;let w=new ka(p.invert(),f,b),S,E=r.length-1;(S=r.length&&r[E].merge(w))?r[E]=S:r.push(w)}}else l.map&&i--},this.items.length,0),new Qs(Vi.from(r.reverse()),s)}}Qs.empty=new Qs(Vi.empty,0);function $fe(t,e){let n;return t.forEach((i,r)=>{if(i.selection&&e--==0)return n=r,!1}),t.slice(n)}class ka{constructor(e,n,i,r){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ka(n.getMap().invert(),n,this.selection)}}}class Al{constructor(e,n,i,r,s){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=r,this.prevComposition=s}}const Vfe=20;function Gfe(t,e,n,i){let r=n.getMeta($c),s;if(r)return r.historyState;n.getMeta(Xfe)&&(t=new Al(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta($c))return l.getMeta($c).redo?new Al(t.done.addTransform(n,void 0,i,L1(e)),t.undone,P4(n.mapping.maps),t.prevTime,t.prevComposition):new Al(t.done,t.undone.addTransform(n,void 0,i,L1(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let d=n.getMeta("composition"),f=t.prevTime==0||!l&&t.prevComposition!=d&&(t.prevTime<(n.time||0)-i.newGroupDelay||!qfe(n,t.prevRanges)),p=l?c2(t.prevRanges,n.mapping):P4(n.mapping.maps);return new Al(t.done.addTransform(n,f?e.selection.getBookmark():void 0,i,L1(e)),Qs.empty,p,n.time,d??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Al(t.done.rebased(n,s),t.undone.rebased(n,s),c2(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Al(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),c2(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function qfe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,r)=>{for(let s=0;s<e.length;s+=2)i<=e[s+1]&&r>=e[s]&&(n=!0)}),n}function P4(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((i,r,s,l)=>e.push(s,l));return e}function c2(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let r=e.map(t[i],1),s=e.map(t[i+1],-1);r<=s&&n.push(r,s)}return n}function Wfe(t,e,n){let i=L1(e),r=$c.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,i);if(!s)return null;let l=s.selection.resolve(s.transform.doc),d=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),r,i),f=new Al(n?d:s.remaining,n?s.remaining:d,null,0,-1);return s.transform.setSelection(l).setMeta($c,{redo:n,historyState:f})}let u2=!1,F4=null;function L1(t){let e=t.plugins;if(F4!=e){u2=!1,F4=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){u2=!0;break}}return u2}const $c=new Gi("history"),Xfe=new Gi("closeHistory");function Yfe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new ai({key:$c,state:{init(){return new Al(Qs.empty,Qs.empty,null,0,-1)},apply(e,n,i){return Gfe(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,r=i=="historyUndo"?A5:i=="historyRedo"?T5:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function E5(t,e){return(n,i)=>{let r=$c.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(i){let s=Wfe(r,n,t);s&&i(e?s.scrollIntoView():s)}return!0}}const A5=E5(!1,!0),T5=E5(!0,!0);Si.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const i=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(i)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new ai({key:new Gi("characterCount"),appendTransaction:(e,n,i)=>{if(t)return;const r=this.options.limit;if(r==null||r===0){t=!0;return}const s=this.storage.characters({node:i.doc});if(s>r){const l=s-r,d=0,f=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${r} characters. Content was automatically trimmed.`);const p=i.tr.deleteRange(d,f);return t=!0,p}t=!0},filterTransaction:(e,n)=>{const i=this.options.limit;if(!e.docChanged||i===0||i===null||i===void 0)return!0;const r=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=i||r>i&&s>i&&s<=r)return!0;if(r>i&&s>i&&s>r||!e.getMeta("paste"))return!1;const d=e.selection.$head.pos,f=s-i,p=d-f,b=d;return e.deleteRange(p,b),!(this.storage.characters({node:e.doc})>i)}})]}});var Kfe=Si.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Ofe(this.options)]}});Si.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new ai({key:new Gi("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:i}=this.editor,{anchor:r}=e,s=[];if(!n||!i)return Kn.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((f,p)=>{if(f.isText)return;if(!(r>=p&&r<=p+f.nodeSize-1))return!1;l+=1});let d=0;return t.descendants((f,p)=>{if(f.isText||!(r>=p&&r<=p+f.nodeSize-1))return!1;if(d+=1,this.options.mode==="deepest"&&l-d>0||this.options.mode==="shallowest"&&d>1)return this.options.mode==="deepest";s.push(Ar.node(p,p+f.nodeSize,{class:this.options.className}))}),Kn.create(t,s)}}})]}});var Zfe=Si.create({name:"gapCursor",addProseMirrorPlugins(){return[Lfe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=_n(ht(t,"allowGapCursor",n)))!=null?e:null}}});Si.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ai({key:new Gi("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,r=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((l,d)=>{const f=i>=d&&i<=d+l.nodeSize,p=!l.isLeaf&&E0(l);if((f||!this.options.showOnlyCurrent)&&p){const b=[this.options.emptyNodeClass];s&&b.push(this.options.emptyEditorClass);const w=Ar.node(d,d+l.nodeSize,{class:b.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:d,hasAnchor:f}):this.options.placeholder});r.push(w)}return this.options.includeChildren}),Kn.create(t,r)}}})]}});Si.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new ai({key:new Gi("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||F6(n.selection)||t.view.dragging?null:Kn.create(n.doc,[Ar.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function z4({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var Qfe=Si.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Gi(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new ai({key:t,appendTransaction:(n,i,r)=>{const{doc:s,tr:l,schema:d}=r,f=t.getState(r),p=s.content.size,b=d.nodes[this.options.node];if(f)return l.insert(p,b.create())},state:{init:(n,i)=>{const r=i.tr.doc.lastChild;return!z4({node:r,types:e})},apply:(n,i)=>{if(!n.docChanged)return i;const r=n.doc.lastChild;return!z4({node:r,types:e})}}})]}}),Jfe=Si.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>A5(t,e),redo:()=>({state:t,dispatch:e})=>T5(t,e)}},addProseMirrorPlugins(){return[Yfe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),ehe=Si.create({name:"starterKit",addExtensions(){var t,e,n,i;const r=[];return this.options.bold!==!1&&r.push(kde.configure(this.options.bold)),this.options.blockquote!==!1&&r.push(Ede.configure(this.options.blockquote)),this.options.bulletList!==!1&&r.push(m5.configure(this.options.bulletList)),this.options.code!==!1&&r.push(Rde.configure(this.options.code)),this.options.codeBlock!==!1&&r.push(Lde.configure(this.options.codeBlock)),this.options.document!==!1&&r.push(jde.configure(this.options.document)),this.options.dropcursor!==!1&&r.push(Kfe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&r.push(Zfe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&r.push(Pde.configure(this.options.hardBreak)),this.options.heading!==!1&&r.push(Fde.configure(this.options.heading)),this.options.undoRedo!==!1&&r.push(Jfe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&r.push(zde.configure(this.options.horizontalRule)),this.options.italic!==!1&&r.push(Gde.configure(this.options.italic)),this.options.listItem!==!1&&r.push(g5.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(_5.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&r.push(gfe.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&r.push(C5.configure(this.options.orderedList)),this.options.paragraph!==!1&&r.push(Afe.configure(this.options.paragraph)),this.options.strike!==!1&&r.push(Ife.configure(this.options.strike)),this.options.text!==!1&&r.push(kfe.configure(this.options.text)),this.options.underline!==!1&&r.push(Mfe.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&r.push(Qfe.configure((i=this.options)==null?void 0:i.trailingNode)),r}}),the=ehe,nhe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,ihe=Wr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",xi(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[i5({find:nhe,type:this.type,getAttributes:t=>{const[,,e,n,i]=t;return{src:n,alt:e,title:i}}})]}}),rhe=ihe;const she="_editorWrapper_1qbzy_1",ahe="_menuBar_1qbzy_15",ohe="_isActive_1qbzy_67",lhe="_divider_1qbzy_77",che="_editorContent_1qbzy_91",Io={editorWrapper:she,menuBar:ahe,isActive:ohe,divider:lhe,editorContent:che};async function uhe(t){try{const e=new FormData;return e.append("image",t),(await at.post("/api/upload/image",e,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(e){return console.error("  :",e),alert("    ."),null}}function dhe({editor:t}){const e=j.useRef(null);if(!t)return null;const n=async i=>{const r=Array.from(i.target.files);if(r.length!==0){i.target.value="",t.chain().focus();for(const s of r){const l=await uhe(s);l&&t.chain().setImage({src:l}).run()}}};return x.jsxs("div",{className:Io.menuBar,children:[x.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?Io.isActive:"",children:x.jsx("b",{children:"B"})}),x.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?Io.isActive:"",children:x.jsx("i",{children:"I"})}),x.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),className:t.isActive("strike")?Io.isActive:"",children:x.jsx("s",{children:"S"})}),x.jsx("div",{className:Io.divider}),[1,2,3].map(i=>x.jsxs("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:i}).run(),className:t.isActive("heading",{level:i})?Io.isActive:"",children:["H",i]},i)),x.jsx("div",{className:Io.divider}),x.jsx("button",{type:"button",onClick:()=>e.current.click(),children:" "}),x.jsx("input",{type:"file",ref:e,onChange:n,style:{display:"none"},accept:"image/*",multiple:!0})]})}function Pv({content:t,onChange:e}){const n=j.useRef(!0),i=vde({extensions:[the.configure({heading:{levels:[1,2,3]}}),rhe.configure({allowBase64:!0})],content:t||"",onUpdate:({editor:r})=>{n.current||e(r.getHTML())},editorProps:{attributes:{class:Io.editorContent}}});return j.useEffect(()=>{i&&(n.current&&(n.current=!1),!(!t||i.getHTML()===t)&&i.commands.setContent(t,{emitUpdate:!1}))},[t,i]),x.jsxs("div",{className:Io.editorWrapper,children:[x.jsx(dhe,{editor:i}),x.jsx(hde,{editor:i})]})}function fhe({data:t,setData:e,onFileChange:n}){var D,P;const[i,r]=j.useState(""),[s,l]=j.useState(!1),[d,f]=j.useState(null),p=j.useRef(null);j.useEffect(()=>{t.gallery_image&&typeof t.gallery_image=="string"&&f(t.gallery_image)},[t.gallery_image]),j.useEffect(()=>{if(typeof t.gallery_sns=="string")try{const z=JSON.parse(t.gallery_sns);e(U=>({...U,gallery_sns:z}))}catch(z){console.error("SNS   :",z),e(U=>({...U,gallery_sns:[]}))}},[t.gallery_sns,e]);const b=z=>{z.type==="compositionstart"&&l(!0),z.type==="compositionend"&&l(!1)},w=z=>{if(!s&&z.key==="Enter"&&i.trim()!==""){z.preventDefault();const U=i.trim(),X=t.gallery_category?t.gallery_category.split(",").map(ne=>ne.trim()):[];if(!X.includes(U)){const ne=[...X,U].join(", ");e(ee=>({...ee,gallery_category:ne}))}r("")}},S=z=>{const X=t.gallery_category.split(",").map(ne=>ne.trim()).filter(ne=>ne!==z).join(", ");e(ne=>({...ne,gallery_category:X}))},E=z=>{const{name:U,value:X}=z.target;e(ne=>({...ne,[U]:X}))},T=["","","","","","",""],M=z=>{const{value:U,checked:X}=z.target,ne=t.gallery_closed_day?t.gallery_closed_day.split(",").map(Ce=>Ce.trim()):[];let ee;X?ee=[...new Set([...ne,U])]:ee=ne.filter(Ce=>Ce!==U);const oe=T;ee.sort((Ce,Se)=>oe.indexOf(Ce)-oe.indexOf(Se)),e(Ce=>({...Ce,gallery_closed_day:ee.join(", ")}))},R=(z,U)=>{e(X=>{let ne=Array.isArray(X.gallery_sns)?[...X.gallery_sns]:[];const ee=ne.findIndex(oe=>oe.type===z);return ee!==-1?ne[ee].url=U:ne.push({type:z,url:U}),{...X,gallery_sns:ne}})},B=z=>{e(U=>({...U,gallery_description:z}))},G=t.gallery_category?t.gallery_category.split(",").map(z=>z.trim()):[],L=z=>{const U=z.target.files[0];if(U){n(U);const X=URL.createObjectURL(U);f(X)}z.target.value=""},k=z=>{z.stopPropagation(),f(null),n(null),p.current&&(p.current.value="")};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:ke.card,children:[x.jsx("input",{className:`${ke.input} ${ke.galleryNameInput}`,name:"gallery_name",value:t.gallery_name||"",onChange:E,placeholder:" "}),x.jsx("input",{className:`${ke.input} ${ke.gallerySubNameInput}`,name:"gallery_eng_name",value:t.gallery_eng_name||"",onChange:E,placeholder:" "}),x.jsx("input",{type:"file",ref:p,onChange:L,accept:"image/*",style:{display:"none"}}),x.jsx("div",{className:ke.imageUploadBox,onClick:()=>p.current.click(),children:d?x.jsxs(x.Fragment,{children:[x.jsx("img",{src:d,alt:"  ",className:ke.previewImage}),x.jsx("button",{type:"button",onClick:k,className:ke.imageDelBtn,title:" ",children:""})]}):x.jsx("p",{className:ke.previewImageDesc,children:"+    "})}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsxs("div",{className:ke.tagInputContainer,children:[G.map(z=>x.jsxs("div",{className:ke.tagItem,children:[z,x.jsx("button",{type:"button",className:ke.removeTagBtn,onClick:()=>S(z),children:""})]},z)),x.jsx("input",{type:"text",className:ke.tagInputField,value:i,onChange:z=>r(z.target.value),onKeyDown:w,onCompositionStart:b,onCompositionEnd:b,placeholder:" "})]})]}),x.jsxs("div",{className:ke.formGrid,children:[x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsxs("div",{className:ke.timeInputContainer,children:[x.jsx("input",{type:"time",className:ke.timeInput,name:"gallery_start_time",value:((D=t.gallery_start_time)==null?void 0:D.slice(0,5))||"",onChange:E}),x.jsx("span",{children:"~"}),x.jsx("input",{type:"time",className:ke.timeInput,name:"gallery_end_time",value:((P=t.gallery_end_time)==null?void 0:P.slice(0,5))||"",onChange:E})]})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("div",{className:ke.checkboxGroup,children:T.map(z=>{var U;return x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",name:"closedDays",value:z,checked:(U=t.gallery_closed_day)==null?void 0:U.includes(z),onChange:M})," ",z]},z)})})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("input",{className:ke.input,name:"gallery_phone",value:t.gallery_phone||"",onChange:E})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("input",{className:ke.input,name:"gallery_address",value:t.gallery_address||"",onChange:E})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("input",{className:ke.input,type:"email",name:"gallery_email",value:t.gallery_email||"",onChange:E})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("input",{className:ke.input,type:"url",name:"gallery_homepage",value:t.gallery_homepage||"",onChange:E})]})]})]}),x.jsxs("div",{className:`${ke.card} ${ke.snsCard}`,children:[x.jsx("label",{className:ke.label,children:"SNS"}),x.jsx("div",{className:ke.snsInputGroup,children:[{type:"instagram",placeholder:"Instagram "},{type:"youtube",placeholder:"YouTube "},{type:"facebook",placeholder:"Facebook "},{type:"twitter",placeholder:"Twitter "}].map(({type:z,placeholder:U})=>{var ne;const X=Array.isArray(t.gallery_sns)&&((ne=t.gallery_sns.find(ee=>ee.type===z))==null?void 0:ne.url)||"";return x.jsx("input",{className:ke.input,placeholder:U,value:X,onChange:ee=>R(z,ee.target.value)},z)})})]}),x.jsxs("div",{className:`${ke.card} ${ke.tiptap}`,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx(Pv,{content:t.gallery_description||"",onChange:B})]})]})}function hhe({data:t,setData:e,onFileChange:n}){var S,E;const[i,r]=j.useState(null),s=j.useRef(null);j.useEffect(()=>{t.exhibition_poster&&typeof t.exhibition_poster=="string"&&r(t.exhibition_poster)},[t.exhibition_poster]);const l=T=>{T.stopPropagation(),r(null),n(null),s.current&&(s.current.value="")},d=T=>{const{name:M,value:R}=T.target;e(B=>({...B,[M]:R}))},f=T=>{e(M=>({...M,exhibition_description:T}))},p=T=>{const M=T.target.files[0];if(M){n(M);const R=URL.createObjectURL(M);r(R)}T.target.value=""},b=["","","","","","",""],w=T=>{const{value:M,checked:R}=T.target,B=t.exhibition_closed_day?t.exhibition_closed_day.split(",").map(k=>k.trim()):[];let G;R?G=[...new Set([...B,M])]:G=B.filter(k=>k!==M);const L=b;G.sort((k,D)=>L.indexOf(k)-L.indexOf(D)),e(k=>({...k,exhibition_closed_day:G.join(", ")}))};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:ke.card,children:[x.jsx("input",{className:`${ke.input} ${ke.galleryNameInput}`,name:"exhibition_title",value:t.exhibition_title||"",onChange:d,placeholder:" "}),x.jsx("input",{type:"file",ref:s,onChange:p,accept:"image/*",style:{display:"none"}}),x.jsx("div",{className:ke.imageUploadBox,onClick:()=>s.current.click(),children:i?x.jsxs(x.Fragment,{children:[x.jsx("img",{src:i,alt:"  ",className:ke.previewImage}),x.jsx("button",{type:"button",onClick:l,className:ke.imageDelBtn,title:" ",children:""})]}):x.jsx("p",{className:ke.previewImageDesc,children:"+    "})}),x.jsxs("div",{className:ke.formGrid,children:[x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsxs("div",{className:ke.timeInputContainer,children:[x.jsx("input",{type:"date",className:ke.timeInput,name:"exhibition_start_date",value:t.exhibition_start_date||"",onChange:d}),x.jsx("span",{children:"~"}),x.jsx("input",{type:"date",className:ke.timeInput,name:"exhibition_end_date",value:t.exhibition_end_date||"",onChange:d})]})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsxs("div",{className:ke.timeInputContainer,children:[x.jsx("input",{type:"time",className:ke.timeInput,name:"exhibition_start_time",value:((S=t.exhibition_start_time)==null?void 0:S.slice(0,5))||"",onChange:d}),x.jsx("span",{children:"~"}),x.jsx("input",{type:"time",className:ke.timeInput,name:"exhibition_end_time",value:((E=t.exhibition_end_time)==null?void 0:E.slice(0,5))||"",onChange:d})]})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("div",{className:ke.checkboxGroup,children:b.map(T=>{var M;return x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",name:"closedDays",value:T,checked:(M=t.exhibition_closed_day)==null?void 0:M.includes(T),onChange:w})," ",T]},T)})})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("input",{className:ke.input,name:`exhibition_organization\r
`,value:t.exhibition_organization||"",onChange:d})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("input",{className:ke.input,name:"exhibition_location",value:t.exhibition_location||"",onChange:d})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("input",{className:ke.input,name:"exhibition_price",value:t.exhibition_price||"",onChange:d})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("input",{className:ke.input,name:"exhibition_phone",value:t.exhibition_phone||"",onChange:d})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("input",{className:ke.input,type:"url",name:"exhibition_homepage",value:t.exhibition_homepage||"",onChange:d})]})]})]}),x.jsxs("div",{className:`${ke.card} ${ke.tiptap}`,children:[x.jsx("label",{className:ke.label,children:" "}),x.jsx(Pv,{content:t.exhibition_description||"",onChange:f})]})]})}const phe="_overlay_11p9c_1",mhe="_modalBox_11p9c_27",ghe="_header_11p9c_49",xhe="_closeBtn_11p9c_73",yhe="_body_11p9c_87",bhe="_searchBar_11p9c_97",vhe="_listContainer_11p9c_139",whe="_artistRow_11p9c_151",_he="_artistImg_11p9c_169",Che="_artistInfo_11p9c_185",She="_name_11p9c_195",Ehe="_category_11p9c_205",Ahe="_selectBtn_11p9c_215",The="_emptyState_11p9c_243",Nhe="_addNewBtn_11p9c_257",Ihe="_addFormContainer_11p9c_293",khe="_addTitle_11p9c_305",Mhe="_imageUploadCircle_11p9c_317",Ohe="_placeholder_11p9c_353",Rhe="_addInput_11p9c_375",Dhe="_formActions_11p9c_393",Bhe="_cancelBtn_11p9c_403",Lhe="_confirmBtn_11p9c_405",Xn={overlay:phe,modalBox:mhe,header:ghe,closeBtn:xhe,body:yhe,searchBar:bhe,listContainer:vhe,artistRow:whe,artistImg:_he,artistInfo:Che,name:She,category:Ehe,selectBtn:Ahe,emptyState:The,addNewBtn:Nhe,addFormContainer:Ihe,addTitle:khe,imageUploadCircle:Mhe,placeholder:Ohe,addInput:Rhe,formActions:Dhe,cancelBtn:Bhe,confirmBtn:Lhe};function jhe({onClose:t,onSelect:e}){const[n,i]=j.useState(""),[r,s]=j.useState([]),[l,d]=j.useState(!1),[f,p]=j.useState(""),[b,w]=j.useState(null),[S,E]=j.useState(null),T=j.useRef(null),M=async(L="")=>{try{const k=await at.get("/api/artist",{params:{search:L}});s(k.data||[])}catch(k){console.error("  :",k)}};j.useEffect(()=>{M()},[]);const R=L=>{L.key==="Enter"&&M(n)},B=L=>{const k=L.target.files[0];k&&(w(k),E(URL.createObjectURL(k)))},G=async()=>{if(!f.trim()){alert("  .");return}alert(" .")};return x.jsx("div",{className:Xn.overlay,onClick:t,children:x.jsxs("div",{className:Xn.modalBox,onClick:L=>L.stopPropagation(),children:[x.jsxs("div",{className:Xn.header,children:[x.jsx("h3",{children:" "}),x.jsx("button",{className:Xn.closeBtn,onClick:t,children:""})]}),x.jsxs("div",{className:Xn.body,children:[x.jsxs("div",{className:Xn.searchBar,children:[x.jsx("input",{value:n,onChange:L=>i(L.target.value),onKeyDown:R,placeholder:"  "}),x.jsx("button",{onClick:()=>M(n),children:x.jsx(lL,{})})]}),l?x.jsxs("div",{className:Xn.addFormContainer,children:[x.jsx("p",{className:Xn.addTitle,children:"  "}),x.jsxs("div",{className:Xn.imageUploadCircle,onClick:()=>T.current.click(),children:[S?x.jsx("img",{src:S,alt:"Preview"}):x.jsxs("div",{className:Xn.placeholder,children:[x.jsx(fL,{}),x.jsx("span",{children:" "})]}),x.jsx("input",{type:"file",ref:T,onChange:B,hidden:!0})]}),x.jsx("input",{className:Xn.addInput,placeholder:"  ",value:f,onChange:L=>p(L.target.value)}),x.jsxs("div",{className:Xn.formActions,children:[x.jsx("button",{className:Xn.cancelBtn,onClick:()=>d(!1),children:""}),x.jsx("button",{className:Xn.confirmBtn,onClick:G,children:" "})]})]}):x.jsx("div",{className:Xn.listContainer,children:r.length>0?r.map(L=>x.jsxs("div",{className:Xn.artistRow,children:[x.jsx("img",{src:L.artist_image||"/images/default_profile.png",alt:L.artist_name,className:Xn.artistImg,onError:k=>k.target.src="https://via.placeholder.com/50"}),x.jsxs("div",{className:Xn.artistInfo,children:[x.jsx("span",{className:Xn.name,children:L.artist_name}),x.jsx("span",{className:Xn.category,children:L.artist_category||"Category"})]}),x.jsx("button",{className:Xn.selectBtn,onClick:()=>e(L),children:""})]},L.id)):x.jsxs("div",{className:Xn.emptyState,children:[x.jsx("p",{children:"  ."}),x.jsxs("button",{className:Xn.addNewBtn,onClick:()=>d(!0),children:[x.jsx(oL,{}),"   "]})]})})]})]})})}function Phe({data:t,setData:e,onFileChange:n}){var E;const[i,r]=j.useState(null),[s,l]=j.useState(!1),d=j.useRef(null),f=T=>{const M=T.target.files[0];M&&(n(M),r(URL.createObjectURL(M))),T.target.value=""},p=T=>{T.stopPropagation(),r(null),n(null),d.current&&(d.current.value="")},b=T=>{const{name:M,value:R}=T.target;e(B=>({...B,[M]:R}))},w=T=>{e(M=>({...M,art_description:T}))},S=T=>{e(M=>({...M,artist_name:T.artist_name,artist_id:T.id})),l(!1)};return j.useEffect(()=>{t.art_image&&typeof t.art_image=="string"&&r(t.art_image)},[t.art_image]),x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:ke.card,children:[x.jsx("input",{className:`${ke.input} ${ke.galleryNameInput}`,name:"art_title",value:t.art_title||"",onChange:b,placeholder:" "}),x.jsxs("div",{className:ke.imageSection,children:[x.jsx("input",{type:"file",ref:d,onChange:f,accept:"image/*",style:{display:"none"}}),x.jsx("div",{className:ke.imageUploadBox,onClick:()=>d.current.click(),style:{position:"relative"},children:i?x.jsxs(x.Fragment,{children:[x.jsx("img",{src:i,alt:" ",className:ke.previewImage}),x.jsx("button",{className:ke.imageDelBtn,type:"button",onClick:p,children:""})]}):x.jsx("p",{className:ke.previewImageDesc,children:"+   "})})]}),x.jsxs("div",{className:ke.formGrid,children:[x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsxs("select",{className:ke.input,name:"exhibition_id",value:t.exhibition_id||"",onChange:b,children:[x.jsx("option",{value:"",children:" "}),(E=t.exhibitions)==null?void 0:E.map(T=>x.jsx("option",{value:T.id,children:T.exhibition_title},T.id))]})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsxs("div",{className:ke.artistSelectRow,children:[x.jsx("input",{className:ke.input,value:t.artist_name||"",placeholder:" ",readOnly:!0,onClick:()=>l(!0),style:{cursor:"pointer"}}),x.jsx("button",{type:"button",className:ke.selectButton,onClick:()=>l(!0),children:" "})]})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("input",{type:"number",className:ke.input,name:"art_year",value:t.art_year||"",onChange:b,placeholder:": 2025"})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("input",{className:ke.input,name:"art_material",value:t.art_material||"",onChange:b,placeholder:": Oil on canvas"})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:""}),x.jsx("input",{className:ke.input,name:"art_size",value:t.art_size||"",onChange:b,placeholder:": 100x150cm"})]}),x.jsxs("div",{className:ke.inputGroup,children:[x.jsx("label",{className:ke.label,children:" "}),x.jsx("input",{className:ke.input,name:"gallery_phone",value:t.gallery_phone||"",onChange:b,placeholder:": 02-1234-5678"})]})]})]}),x.jsxs("div",{className:`${ke.card} ${ke.tiptap}`,children:[x.jsx("label",{className:ke.label,children:" "}),x.jsx(Pv,{content:t.art_description||"",onChange:w})]}),x.jsx("div",{className:ke.card,children:x.jsxs("div",{className:ke.inputDocent,children:[x.jsx("label",{className:ke.docent,children:"AI  "}),x.jsx("textarea",{className:ke.textarea,name:"art_docent",value:t.art_docent||"",onChange:b,placeholder:"AI    ."})]})}),s&&x.jsx(jhe,{onClose:()=>l(!1),onSelect:S})]})}const Fhe={galleries:{title:" ",apiUrl:t=>t==="new"?"/api/galleries":`/api/galleries/${t}`,formImageField:"gallery_image_file"},exhibitions:{title:" ",apiUrl:t=>t==="new"?"/api/exhibitions":`/api/exhibitions/${t}`,formImageField:"exhibition_poster_file"},artworks:{title:" ",apiUrl:t=>t==="new"?"/api/arts":`/api/arts/${t}`,formImageField:"image"}},zhe={galleries:fhe,exhibitions:hhe,artworks:Phe};function d2({type:t}){const{id:e}=Hs(),n=Jt(),[i]=rO(),[r,s]=j.useState(null),[l,d]=j.useState(null),[f,p]=j.useState(!1),b=e==="new",w=Fhe[t],S=zhe[t];j.useEffect(()=>{w&&(async()=>{if(b){const B={},G=i.get("exhibition_id"),L=i.get("gallery_id");G&&(B.exhibition_id=G),L&&(B.gallery_id=L),s(B)}else try{const B=await at.get(w.apiUrl(e)),G=typeof B.data=="string"?JSON.parse(B.data):B.data;s(G)}catch(B){console.error("  :",B),alert("  ."),n(`/console/${t}/${e}`)}})()},[e,w,b,i,n]);const E=()=>{window.confirm(" ?")&&n(`/console/${t}/${e}`)},T=async()=>{if(f||!r)return;if(t==="artworks"&&b){if(!r.artist_id){alert(" .");return}if(!r.art_title){alert(" .");return}if(!l){alert("  .");return}}p(!0);const R=new FormData;b||R.append("_method","PATCH");const B=["id","created_at","updated_at","user_id","artworks","exhibitions","reviews","is_liked","gallery","artist_users","artists","artist"];Object.entries(r).forEach(([G,L])=>{B.includes(G)||L!=null&&(typeof L=="object"&&!(L instanceof File)?R.append(G,JSON.stringify(L)):R.append(G,L))}),l&&R.append(w.formImageField,l);try{const G=w.apiUrl(e),L=await at.post(G,R,{headers:{"Content-Type":"multipart/form-data"}});console.log(" :",L.data),alert(b?".":"."),n(`/console/${t}/${e}`)}catch(G){if(console.error(" :",G),G.response){console.log("  :",G.response.data);const L=typeof G.response.data=="object"?G.response.data.message||JSON.stringify(G.response.data):"  .";alert(` : ${L}`)}else alert("    .")}finally{p(!1)}},M=R=>{d(R)};return r?x.jsxs("div",{className:Ta.layout,children:[x.jsxs("header",{className:Ta.header,children:[x.jsx("button",{className:Ta.backButton,onClick:E,children:"<"}),x.jsx("h1",{className:Ta.title,children:w.title})]}),x.jsx("main",{className:Ta.formContainer,children:S&&x.jsx(S,{data:r,setData:s,onFileChange:M})}),x.jsxs("div",{className:Ta.bottomButtonContainer,children:[x.jsx("button",{className:`${Ta.button} ${Ta.saveButton}`,onClick:T,children:f?" ...":""}),x.jsx("button",{className:`${Ta.button} ${Ta.cancelButton}`,onClick:E,disabled:f,children:""})]})]}):x.jsx("div",{children:"  ..."})}const Hhe="_layout_19w3s_1",Uhe="_backButton_19w3s_17",H4={layout:Hhe,backButton:Uhe},$he="_container_awgxr_1",Vhe="_title_awgxr_17",Ghe="_contentBox_awgxr_29",qhe="_inputSection_awgxr_53",Whe="_label_awgxr_65",Xhe="_textarea_awgxr_75",Yhe="_generateButton_awgxr_95",Khe="_resultSection_awgxr_123",Zhe="_generatedImage_awgxr_141",Qhe="_downloadButton_awgxr_157",Jhe="_imagePlaceholder_awgxr_187",Zs={container:$he,title:Vhe,contentBox:Ghe,inputSection:qhe,label:Whe,textarea:Xhe,generateButton:Yhe,resultSection:Khe,generatedImage:Zhe,downloadButton:Qhe,imagePlaceholder:Jhe};function epe(){const[t,e]=j.useState(""),[n,i]=j.useState(null),[r,s]=j.useState(!1),l=async()=>{try{const d=await gi.post("/api/console/images/generate",{text:t});console.log(d)}catch(d){console.error(d)}};return x.jsxs("div",{className:Zs.container,children:[x.jsx("h1",{className:Zs.title,children:"   "}),x.jsxs("div",{className:Zs.contentBox,children:[x.jsxs("div",{className:Zs.inputSection,children:[x.jsx("label",{className:Zs.label,children:"  "}),x.jsx("textarea",{value:t,onChange:d=>e(d.target.value),placeholder:":        ",className:Zs.textarea}),x.jsx("button",{onClick:l,className:Zs.generateButton,disabled:r,children:r?"  ...":" "})]}),x.jsx("div",{className:Zs.resultSection,children:n?x.jsxs(x.Fragment,{children:[x.jsx("img",{src:n,alt:" ",className:Zs.generatedImage}),x.jsx("button",{className:Zs.downloadButton,onClick:()=>{const d=document.createElement("a");d.href=n,d.download="generated-image.png",document.body.appendChild(d),d.click(),document.body.removeChild(d)},children:" "})]}):x.jsx("div",{className:Zs.imagePlaceholder,children:r?"  ...":"   ."})})]})]})}function tpe(){const t=Jt(),e=()=>{t(-1)};return x.jsxs("div",{className:H4.layout,children:[x.jsx(epe,{}),x.jsx("button",{className:H4.backButton,onClick:e,children:" "})]})}const npe="_layout_4eom6_1",ipe="_notificationList_4eom6_45",rpe="_notificationItem_4eom6_61",spe="_iconContainer_4eom6_91",ape="_contentArea_4eom6_113",ope="_header_4eom6_121",lpe="_title_4eom6_135",cpe="_timestamp_4eom6_149",upe="_content_4eom6_113",dpe="_errorText_4eom6_177",zr={layout:npe,notificationList:ipe,notificationItem:rpe,iconContainer:spe,contentArea:ape,header:ope,title:lpe,timestamp:cpe,content:upe,errorText:dpe},fpe=()=>x.jsx(YA,{size:20,className:zr.iconNotice}),hpe=t=>{const e=new Date(t),i=new Date().getTime()-e.getTime(),r=Math.floor(i/(1e3*60)),s=Math.floor(i/(1e3*60*60)),l=Math.floor(i/(1e3*60*60*24));return r<1?" ":r<60?`${r} `:s<24?`${s} `:l<7?`${l} `:e.toLocaleDateString("ko-KR")};function ppe(){const{user:t,isLoading:e}=ia(),[n,i]=j.useState([]),[r,s]=j.useState(!0),[l,d]=j.useState(null),f=j.useCallback(async p=>{if(!p){d("      ."),s(!1);return}try{s(!0),d(null);const w=(await at.get("/api/notification/user")).data.data;if(!Array.isArray(w)){i([]);return}const S=w.map(E=>({id:E.notification_id,title:E.title,content:E.body,timestamp:E.create_dtm,read:E.is_checked==="1"})).sort((E,T)=>new Date(T.timestamp).getTime()-new Date(E.timestamp).getTime());i(S)}catch(b){d(`    . (${b.message})`)}finally{s(!1)}},[]);return j.useEffect(()=>{!e&&(t!=null&&t.id)?f(t.id):!e&&!t&&s(!1)},[e,t==null?void 0:t.id,f]),j.useEffect(()=>{if(!(t!=null&&t.id))return;const p=Qte(()=>{console.log("      "),f(t.id)}),b=w=>{var S;((S=w.data)==null?void 0:S.type)==="NEW_NOTIFICATION"&&(console.log("      ",w.data),f(t.id))};return"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("message",b),navigator.serviceWorker.ready.then(()=>{navigator.serviceWorker.addEventListener("message",b)})),()=>{p(),"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",b)}},[t==null?void 0:t.id,f]),r?x.jsx("div",{className:zr.layout,children:"  ..."}):l?x.jsx("div",{className:zr.layout,children:x.jsx("div",{className:zr.errorText,children:l})}):n.length===0?x.jsx("div",{className:zr.layout,children:x.jsx("h1",{children:" ."})}):x.jsx("div",{className:zr.layout,children:x.jsx("div",{className:zr.notificationList,children:n.map(p=>x.jsxs("div",{className:zr.notificationItem,children:[x.jsx("div",{className:zr.iconContainer,children:fpe()}),x.jsxs("div",{className:zr.contentArea,children:[x.jsxs("div",{className:zr.header,children:[x.jsx("span",{className:zr.title,children:p.title}),x.jsx("span",{className:zr.timestamp,children:hpe(p.timestamp)})]}),x.jsx("p",{className:zr.content,children:p.content})]})]},p.id))})})}const mpe=QM([{path:"/",element:x.jsx(pD,{}),children:[{path:"/",element:x.jsx($B,{})},{path:"/exhibitions",element:x.jsx(yj,{})},{path:"/galleries",element:x.jsx(nP,{})},{path:"/artists",element:x.jsx(Ij,{})},{path:"/artworks",element:x.jsx(RH,{})},{path:"/search",element:x.jsx(gz,{})},{path:"/notices",element:x.jsx(Gz,{})},{path:"/exhibitions/:exhibitionId",element:x.jsx(XT,{})},{path:"/galleries/:galleryId",element:x.jsx(WT,{})},{path:"/artists/:artistId",element:x.jsx(ZZ,{})},{path:"/notices/:noticeId",element:x.jsx(rH,{})},{path:"/artworks/:artworkId",element:x.jsx(kT,{})},{path:"/art/:artId",element:x.jsx(SH,{})},{path:"/catalog/:catalogId",element:x.jsx(sU,{})},{path:"/nearby-galleries",element:x.jsx(o$,{})},{path:"/login",element:x.jsx(ane,{})},{path:"/login-detail",element:x.jsx(Jte,{})},{path:"/register",element:x.jsx(xP,{})},{path:"/find",element:x.jsx(wV,{})},{path:"/announcement",element:x.jsx(RV,{})},{path:"/termspolicy",element:x.jsx(UV,{})},{path:"/reservation/:exhibitionId",element:x.jsx(YG,{})},{path:"/invitation",element:x.jsx(lse,{})},{path:"/reservationconfirm/:reservationId",element:x.jsx(tG,{})},{element:x.jsx(vD,{}),children:[{path:"/notifications",element:x.jsx(ppe,{})},{path:"/mypage",element:x.jsx(wF,{})},{path:"/mypage/edit",element:x.jsx(tz,{})},{path:"/purchase/:reservationId",element:x.jsx(Rz,{})}]},{path:"*",element:x.jsx(Nse,{})}]},{path:"/console",element:x.jsx(JW,{}),children:[{path:"/console/notification",element:x.jsx(Wre,{})},{path:"/console/main",element:x.jsx(QW,{})},{path:"/console/detail",element:x.jsx(c1,{})},{path:"/console/exhibitions/:id",element:x.jsx(c1,{type:"exhibitions"})},{path:"/console/galleries/:id",element:x.jsx(c1,{type:"galleries"})},{path:"/console/artworks/:id",element:x.jsx(c1,{type:"artworks"})},{path:"/console/galleries/edit/:id",element:x.jsx(d2,{type:"galleries"})},{path:"/console/exhibitions/edit/:id",element:x.jsx(d2,{type:"exhibitions"})},{path:"/console/artworks/edit/:id",element:x.jsx(d2,{type:"artworks"})},{path:"/console/artworks/docent/:id",element:x.jsx(Tse,{})},{path:"/console/leaflet",element:x.jsx(Ore,{})},{path:"/console/poster",element:x.jsx(tpe,{})}]},{path:"/scan/:id?",element:x.jsx(YU,{})}]);function gpe(){return x.jsx("div",{children:x.jsx("div",{children:""})})}function xpe(){return x.jsx(ek,{fallback:x.jsx("div",{children:" ."}),children:x.jsx(j.Suspense,{fallback:x.jsx(gpe,{}),children:x.jsx(I7,{children:x.jsx(iV,{children:x.jsx(dO,{router:mpe})})})})})}$4.createRoot(document.getElementById("root")).render(x.jsx(xpe,{}));
