function aR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ty={exports:{}},kf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O3;function oR(){if(O3)return kf;O3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var A in i)A!=="key"&&(s[A]=i[A])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return kf.Fragment=e,kf.jsx=n,kf.jsxs=n,kf}var M3;function lR(){return M3||(M3=1,ty.exports=oR()),ty.exports}var g=lR(),ny={exports:{}},Ff={},ry={exports:{}},iy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k3;function AR(){return k3||(k3=1,(function(t){function e(ie,ae){var se=ie.length;ie.push(ae);e:for(;0<se;){var me=se-1>>>1,ke=ie[me];if(0<i(ke,ae))ie[me]=ae,ie[se]=ke,se=me;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ae=ie[0],se=ie.pop();if(se!==ae){ie[0]=se;e:for(var me=0,ke=ie.length,ne=ke>>>1;me<ne;){var he=2*(me+1)-1,Ne=ie[he],ye=he+1,Ge=ie[ye];if(0>i(Ne,se))ye<ke&&0>i(Ge,Ne)?(ie[me]=Ge,ie[ye]=se,me=ye):(ie[me]=Ne,ie[he]=se,me=he);else if(ye<ke&&0>i(Ge,se))ie[me]=Ge,ie[ye]=se,me=ye;else break e}}return ae}function i(ie,ae){var se=ie.sortIndex-ae.sortIndex;return se!==0?se:ie.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,A=a.now();t.unstable_now=function(){return a.now()-A}}var u=[],f=[],m=1,w=null,C=3,B=!1,E=!1,I=!1,M=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function O(ie){for(var ae=n(f);ae!==null;){if(ae.callback===null)r(f);else if(ae.startTime<=ie)r(f),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=n(f)}}function F(ie){if(I=!1,O(ie),!E)if(n(u)!==null)E=!0,Q||(Q=!0,J());else{var ae=n(f);ae!==null&&q(F,ae.startTime-ie)}}var Q=!1,D=-1,j=5,V=-1;function W(){return M?!0:!(t.unstable_now()-V<j)}function Y(){if(M=!1,Q){var ie=t.unstable_now();V=ie;var ae=!0;try{e:{E=!1,I&&(I=!1,L(D),D=-1),B=!0;var se=C;try{t:{for(O(ie),w=n(u);w!==null&&!(w.expirationTime>ie&&W());){var me=w.callback;if(typeof me=="function"){w.callback=null,C=w.priorityLevel;var ke=me(w.expirationTime<=ie);if(ie=t.unstable_now(),typeof ke=="function"){w.callback=ke,O(ie),ae=!0;break t}w===n(u)&&r(u),O(ie)}else r(u);w=n(u)}if(w!==null)ae=!0;else{var ne=n(f);ne!==null&&q(F,ne.startTime-ie),ae=!1}}break e}finally{w=null,C=se,B=!1}ae=void 0}}finally{ae?J():Q=!1}}}var J;if(typeof U=="function")J=function(){U(Y)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,te=re.port2;re.port1.onmessage=Y,J=function(){te.postMessage(null)}}else J=function(){R(Y,0)};function q(ie,ae){D=R(function(){ie(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(ie){switch(C){case 1:case 2:case 3:var ae=3;break;default:ae=C}var se=C;C=ae;try{return ie()}finally{C=se}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(ie,ae){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var se=C;C=ie;try{return ae()}finally{C=se}},t.unstable_scheduleCallback=function(ie,ae,se){var me=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?me+se:me):se=me,ie){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=se+ke,ie={id:m++,callback:ae,priorityLevel:ie,startTime:se,expirationTime:ke,sortIndex:-1},se>me?(ie.sortIndex=se,e(f,ie),n(u)===null&&ie===n(f)&&(I?(L(D),D=-1):I=!0,q(F,se-me))):(ie.sortIndex=ke,e(u,ie),E||B||(E=!0,Q||(Q=!0,J()))),ie},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(ie){var ae=C;return function(){var se=C;C=ae;try{return ie.apply(this,arguments)}finally{C=se}}}})(iy)),iy}var F3;function cR(){return F3||(F3=1,ry.exports=AR()),ry.exports}var sy={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D3;function uR(){if(D3)return Gt;D3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.iterator;function B(ne){return ne===null||typeof ne!="object"?null:(ne=C&&ne[C]||ne["@@iterator"],typeof ne=="function"?ne:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,M={};function R(ne,he,Ne){this.props=ne,this.context=he,this.refs=M,this.updater=Ne||E}R.prototype.isReactComponent={},R.prototype.setState=function(ne,he){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,he,"setState")},R.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function L(){}L.prototype=R.prototype;function U(ne,he,Ne){this.props=ne,this.context=he,this.refs=M,this.updater=Ne||E}var O=U.prototype=new L;O.constructor=U,I(O,R.prototype),O.isPureReactComponent=!0;var F=Array.isArray;function Q(){}var D={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function V(ne,he,Ne){var ye=Ne.ref;return{$$typeof:t,type:ne,key:he,ref:ye!==void 0?ye:null,props:Ne}}function W(ne,he){return V(ne.type,he,ne.props)}function Y(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===t}function J(ne){var he={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(Ne){return he[Ne]})}var re=/\/+/g;function te(ne,he){return typeof ne=="object"&&ne!==null&&ne.key!=null?J(""+ne.key):he.toString(36)}function q(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(Q,Q):(ne.status="pending",ne.then(function(he){ne.status==="pending"&&(ne.status="fulfilled",ne.value=he)},function(he){ne.status==="pending"&&(ne.status="rejected",ne.reason=he)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function ie(ne,he,Ne,ye,Ge){var De=typeof ne;(De==="undefined"||De==="boolean")&&(ne=null);var et=!1;if(ne===null)et=!0;else switch(De){case"bigint":case"string":case"number":et=!0;break;case"object":switch(ne.$$typeof){case t:case e:et=!0;break;case m:return et=ne._init,ie(et(ne._payload),he,Ne,ye,Ge)}}if(et)return Ge=Ge(ne),et=ye===""?"."+te(ne,0):ye,F(Ge)?(Ne="",et!=null&&(Ne=et.replace(re,"$&/")+"/"),ie(Ge,he,Ne,"",function(Qt){return Qt})):Ge!=null&&(Y(Ge)&&(Ge=W(Ge,Ne+(Ge.key==null||ne&&ne.key===Ge.key?"":(""+Ge.key).replace(re,"$&/")+"/")+et)),he.push(Ge)),1;et=0;var qe=ye===""?".":ye+":";if(F(ne))for(var vt=0;vt<ne.length;vt++)ye=ne[vt],De=qe+te(ye,vt),et+=ie(ye,he,Ne,De,Ge);else if(vt=B(ne),typeof vt=="function")for(ne=vt.call(ne),vt=0;!(ye=ne.next()).done;)ye=ye.value,De=qe+te(ye,vt++),et+=ie(ye,he,Ne,De,Ge);else if(De==="object"){if(typeof ne.then=="function")return ie(q(ne),he,Ne,ye,Ge);throw he=String(ne),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return et}function ae(ne,he,Ne){if(ne==null)return ne;var ye=[],Ge=0;return ie(ne,ye,"","",function(De){return he.call(Ne,De,Ge++)}),ye}function se(ne){if(ne._status===-1){var he=ne._result;he=he(),he.then(function(Ne){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=Ne)},function(Ne){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=Ne)}),ne._status===-1&&(ne._status=0,ne._result=he)}if(ne._status===1)return ne._result.default;throw ne._result}var me=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},ke={map:ae,forEach:function(ne,he,Ne){ae(ne,function(){he.apply(this,arguments)},Ne)},count:function(ne){var he=0;return ae(ne,function(){he++}),he},toArray:function(ne){return ae(ne,function(he){return he})||[]},only:function(ne){if(!Y(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return Gt.Activity=w,Gt.Children=ke,Gt.Component=R,Gt.Fragment=n,Gt.Profiler=i,Gt.PureComponent=U,Gt.StrictMode=r,Gt.Suspense=u,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return D.H.useMemoCache(ne)}},Gt.cache=function(ne){return function(){return ne.apply(null,arguments)}},Gt.cacheSignal=function(){return null},Gt.cloneElement=function(ne,he,Ne){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var ye=I({},ne.props),Ge=ne.key;if(he!=null)for(De in he.key!==void 0&&(Ge=""+he.key),he)!j.call(he,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&he.ref===void 0||(ye[De]=he[De]);var De=arguments.length-2;if(De===1)ye.children=Ne;else if(1<De){for(var et=Array(De),qe=0;qe<De;qe++)et[qe]=arguments[qe+2];ye.children=et}return V(ne.type,Ge,ye)},Gt.createContext=function(ne){return ne={$$typeof:a,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:s,_context:ne},ne},Gt.createElement=function(ne,he,Ne){var ye,Ge={},De=null;if(he!=null)for(ye in he.key!==void 0&&(De=""+he.key),he)j.call(he,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Ge[ye]=he[ye]);var et=arguments.length-2;if(et===1)Ge.children=Ne;else if(1<et){for(var qe=Array(et),vt=0;vt<et;vt++)qe[vt]=arguments[vt+2];Ge.children=qe}if(ne&&ne.defaultProps)for(ye in et=ne.defaultProps,et)Ge[ye]===void 0&&(Ge[ye]=et[ye]);return V(ne,De,Ge)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(ne){return{$$typeof:A,render:ne}},Gt.isValidElement=Y,Gt.lazy=function(ne){return{$$typeof:m,_payload:{_status:-1,_result:ne},_init:se}},Gt.memo=function(ne,he){return{$$typeof:f,type:ne,compare:he===void 0?null:he}},Gt.startTransition=function(ne){var he=D.T,Ne={};D.T=Ne;try{var ye=ne(),Ge=D.S;Ge!==null&&Ge(Ne,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(Q,me)}catch(De){me(De)}finally{he!==null&&Ne.types!==null&&(he.types=Ne.types),D.T=he}},Gt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Gt.use=function(ne){return D.H.use(ne)},Gt.useActionState=function(ne,he,Ne){return D.H.useActionState(ne,he,Ne)},Gt.useCallback=function(ne,he){return D.H.useCallback(ne,he)},Gt.useContext=function(ne){return D.H.useContext(ne)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(ne,he){return D.H.useDeferredValue(ne,he)},Gt.useEffect=function(ne,he){return D.H.useEffect(ne,he)},Gt.useEffectEvent=function(ne){return D.H.useEffectEvent(ne)},Gt.useId=function(){return D.H.useId()},Gt.useImperativeHandle=function(ne,he,Ne){return D.H.useImperativeHandle(ne,he,Ne)},Gt.useInsertionEffect=function(ne,he){return D.H.useInsertionEffect(ne,he)},Gt.useLayoutEffect=function(ne,he){return D.H.useLayoutEffect(ne,he)},Gt.useMemo=function(ne,he){return D.H.useMemo(ne,he)},Gt.useOptimistic=function(ne,he){return D.H.useOptimistic(ne,he)},Gt.useReducer=function(ne,he,Ne){return D.H.useReducer(ne,he,Ne)},Gt.useRef=function(ne){return D.H.useRef(ne)},Gt.useState=function(ne){return D.H.useState(ne)},Gt.useSyncExternalStore=function(ne,he,Ne){return D.H.useSyncExternalStore(ne,he,Ne)},Gt.useTransition=function(){return D.H.useTransition()},Gt.version="19.2.0",Gt}var R3;function HA(){return R3||(R3=1,sy.exports=uR()),sy.exports}var ay={exports:{}},Ui={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L3;function dR(){if(L3)return Ui;L3=1;var t=HA();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,f,m){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:w==null?null:""+w,children:u,containerInfo:f,implementation:m}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ui.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(u,f,null,m)},Ui.flushSync=function(u){var f=a.T,m=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=f,r.p=m,r.d.f()}},Ui.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Ui.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ui.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var m=f.as,w=A(m,f.crossOrigin),C=typeof f.integrity=="string"?f.integrity:void 0,B=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:B}):m==="script"&&r.d.X(u,{crossOrigin:w,integrity:C,fetchPriority:B,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ui.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=A(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Ui.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,w=A(m,f.crossOrigin);r.d.L(u,m,{crossOrigin:w,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ui.preloadModule=function(u,f){if(typeof u=="string")if(f){var m=A(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Ui.requestFormReset=function(u){r.d.r(u)},Ui.unstable_batchedUpdates=function(u,f){return u(f)},Ui.useFormState=function(u,f,m){return a.H.useFormState(u,f,m)},Ui.useFormStatus=function(){return a.H.useHostTransitionStatus()},Ui.version="19.2.0",Ui}var U3;function qN(){if(U3)return ay.exports;U3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ay.exports=dR(),ay.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q3;function fR(){if(Q3)return Ff;Q3=1;var t=cR(),e=HA(),n=qN();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function A(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function f(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var p=o,v=c;;){var S=p.return;if(S===null)break;var N=S.alternate;if(N===null){if(v=S.return,v!==null){p=v;continue}break}if(S.child===N.child){for(N=S.child;N;){if(N===p)return u(S),o;if(N===v)return u(S),c;N=N.sibling}throw Error(r(188))}if(p.return!==v.return)p=S,v=N;else{for(var z=!1,X=S.child;X;){if(X===p){z=!0,p=S,v=N;break}if(X===v){z=!0,v=S,p=N;break}X=X.sibling}if(!z){for(X=N.child;X;){if(X===p){z=!0,p=N,v=S;break}if(X===v){z=!0,v=N,p=S;break}X=X.sibling}if(!z)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:c}function m(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=m(o),c!==null)return c;o=o.sibling}return null}var w=Object.assign,C=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),U=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function J(o){return o===null||typeof o!="object"?null:(o=Y&&o[Y]||o["@@iterator"],typeof o=="function"?o:null)}var re=Symbol.for("react.client.reference");function te(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===re?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case I:return"Fragment";case R:return"Profiler";case M:return"StrictMode";case F:return"Suspense";case Q:return"SuspenseList";case V:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case E:return"Portal";case U:return o.displayName||"Context";case L:return(o._context.displayName||"Context")+".Consumer";case O:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return c=o.displayName||null,c!==null?c:te(o.type)||"Memo";case j:c=o._payload,o=o._init;try{return te(o(c))}catch{}}return null}var q=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},me=[],ke=-1;function ne(o){return{current:o}}function he(o){0>ke||(o.current=me[ke],me[ke]=null,ke--)}function Ne(o,c){ke++,me[ke]=o.current,o.current=c}var ye=ne(null),Ge=ne(null),De=ne(null),et=ne(null);function qe(o,c){switch(Ne(De,c),Ne(Ge,o),Ne(ye,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?e3(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=e3(c),o=t3(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}he(ye),Ne(ye,o)}function vt(){he(ye),he(Ge),he(De)}function Qt(o){o.memoizedState!==null&&Ne(et,o);var c=ye.current,p=t3(c,o.type);c!==p&&(Ne(Ge,o),Ne(ye,p))}function pt(o){Ge.current===o&&(he(ye),he(Ge)),et.current===o&&(he(et),If._currentValue=se)}var fn,Et;function Lr(o){if(fn===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);fn=c&&c[1]||"",Et=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fn+o+Et}var Gn=!1;function bi(o,c){if(!o||Gn)return"";Gn=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(Me){var Be=Me}Reflect.construct(o,[],je)}else{try{je.call()}catch(Me){Be=Me}o.call(je.prototype)}}else{try{throw Error()}catch(Me){Be=Me}(je=o())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(Me){if(Me&&Be&&typeof Me.stack=="string")return[Me.stack,Be.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=v.DetermineComponentFrameRoot(),z=N[0],X=N[1];if(z&&X){var le=z.split(`
`),be=X.split(`
`);for(S=v=0;v<le.length&&!le[v].includes("DetermineComponentFrameRoot");)v++;for(;S<be.length&&!be[S].includes("DetermineComponentFrameRoot");)S++;if(v===le.length||S===be.length)for(v=le.length-1,S=be.length-1;1<=v&&0<=S&&le[v]!==be[S];)S--;for(;1<=v&&0<=S;v--,S--)if(le[v]!==be[S]){if(v!==1||S!==1)do if(v--,S--,0>S||le[v]!==be[S]){var Qe=`
`+le[v].replace(" at new "," at ");return o.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",o.displayName)),Qe}while(1<=v&&0<=S);break}}}finally{Gn=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?Lr(p):""}function Dn(o,c){switch(o.tag){case 26:case 27:case 5:return Lr(o.type);case 16:return Lr("Lazy");case 13:return o.child!==c&&c!==null?Lr("Suspense Fallback"):Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 15:return bi(o.type,!1);case 11:return bi(o.type.render,!1);case 1:return bi(o.type,!0);case 31:return Lr("Activity");default:return""}}function Yt(o){try{var c="",p=null;do c+=Dn(o,p),p=o,o=o.return;while(o);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Ht=Object.prototype.hasOwnProperty,ci=t.unstable_scheduleCallback,at=t.unstable_cancelCallback,qi=t.unstable_shouldYield,ui=t.unstable_requestPaint,$e=t.unstable_now,Ce=t.unstable_getCurrentPriorityLevel,de=t.unstable_ImmediatePriority,Ue=t.unstable_UserBlockingPriority,Re=t.unstable_NormalPriority,gt=t.unstable_LowPriority,Mt=t.unstable_IdlePriority,Vt=t.log,Fe=t.unstable_setDisableYieldValue,_e=null,xe=null;function Xe(o){if(typeof Vt=="function"&&Fe(o),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(_e,o)}catch{}}var ze=Math.clz32?Math.clz32:gn,dt=Math.log,un=Math.LN2;function gn(o){return o>>>=0,o===0?32:31-(dt(o)/un|0)|0}var mn=256,Ct=262144,bn=4194304;function Rn(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Di(o,c,p){var v=o.pendingLanes;if(v===0)return 0;var S=0,N=o.suspendedLanes,z=o.pingedLanes;o=o.warmLanes;var X=v&134217727;return X!==0?(v=X&~N,v!==0?S=Rn(v):(z&=X,z!==0?S=Rn(z):p||(p=X&~o,p!==0&&(S=Rn(p))))):(X=v&~N,X!==0?S=Rn(X):z!==0?S=Rn(z):p||(p=v&~o,p!==0&&(S=Rn(p)))),S===0?0:c!==0&&c!==S&&(c&N)===0&&(N=S&-S,p=c&-c,N>=p||N===32&&(p&4194048)!==0)?c:S}function $n(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Yi(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(){var o=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),o}function Ri(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function aa(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function xs(o,c,p,v,S,N){var z=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var X=o.entanglements,le=o.expirationTimes,be=o.hiddenUpdates;for(p=z&~p;0<p;){var Qe=31-ze(p),je=1<<Qe;X[Qe]=0,le[Qe]=-1;var Be=be[Qe];if(Be!==null)for(be[Qe]=null,Qe=0;Qe<Be.length;Qe++){var Me=Be[Qe];Me!==null&&(Me.lane&=-536870913)}p&=~je}v!==0&&oe(o,v,0),N!==0&&S===0&&o.tag!==0&&(o.suspendedLanes|=N&~(z&~c))}function oe(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var v=31-ze(c);o.entangledLanes|=c,o.entanglements[v]=o.entanglements[v]|1073741824|p&261930}function fe(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var v=31-ze(p),S=1<<v;S&c|o[v]&c&&(o[v]|=c),p&=~S}}function Ee(o,c){var p=c&-c;return p=(p&42)!==0?1:Pe(p),(p&(o.suspendedLanes|c))!==0?0:p}function Pe(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function tt(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ot(){var o=ae.p;return o!==0?o:(o=window.event,o===void 0?32:B3(o.type))}function Le(o,c){var p=ae.p;try{return ae.p=o,c()}finally{ae.p=p}}var st=Math.random().toString(36).slice(2),it="__reactFiber$"+st,rt="__reactProps$"+st,yt="__reactContainer$"+st,xt="__reactEvents$"+st,Rt="__reactListeners$"+st,sn="__reactHandles$"+st,hr="__reactResources$"+st,sr="__reactMarker$"+st;function en(o){delete o[it],delete o[rt],delete o[xt],delete o[Rt],delete o[sn]}function Lt(o){var c=o[it];if(c)return c;for(var p=o.parentNode;p;){if(c=p[yt]||p[it]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=l3(o);o!==null;){if(p=o[it])return p;o=l3(o)}return c}o=p,p=o.parentNode}return null}function an(o){if(o=o[it]||o[yt]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function ws(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function pr(o){var c=o[hr];return c||(c=o[hr]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Sn(o){o[sr]=!0}var Ve=new Set,Wa={};function dn(o,c){di(o,c),di(o+"Capture",c)}function di(o,c){for(Wa[o]=c,o=0;o<c.length;o++)Ve.add(c[o])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ft={},kt={};function Kt(o){return Ht.call(kt,o)?!0:Ht.call(ft,o)?!1:_l.test(o)?kt[o]=!0:(ft[o]=!0,!1)}function Li(o,c,p){if(Kt(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function Nn(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function fi(o,c,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+v)}}function Cn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Hs(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function lx(o,c,p){var v=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,N=v.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return S.call(this)},set:function(z){p=""+z,N.call(this,z)}}),Object.defineProperty(o,c,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(z){p=""+z},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function or(o){if(!o._valueTracker){var c=Hs(o)?"checked":"value";o._valueTracker=lx(o,c,""+o[c])}}function ka(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),v="";return o&&(v=Hs(o)?o.checked?"true":"false":o.value),o=v,o!==p?(c.setValue(o),!0):!1}function ru(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var El=/[\n"\\]/g;function on(o){return o.replace(El,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function $r(o,c,p,v,S,N,z,X){o.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.type=z:o.removeAttribute("type"),c!=null?z==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Cn(c)):o.value!==""+Cn(c)&&(o.value=""+Cn(c)):z!=="submit"&&z!=="reset"||o.removeAttribute("value"),c!=null?Z(o,z,Cn(c)):p!=null?Z(o,z,Cn(p)):v!=null&&o.removeAttribute("value"),S==null&&N!=null&&(o.defaultChecked=!!N),S!=null&&(o.checked=S&&typeof S!="function"&&typeof S!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?o.name=""+Cn(X):o.removeAttribute("name")}function we(o,c,p,v,S,N,z,X){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.type=N),c!=null||p!=null){if(!(N!=="submit"&&N!=="reset"||c!=null)){or(o);return}p=p!=null?""+Cn(p):"",c=c!=null?""+Cn(c):p,X||c===o.value||(o.value=c),o.defaultValue=c}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=X?o.checked:!!v,o.defaultChecked=!!v,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(o.name=z),or(o)}function Z(o,c,p){c==="number"&&ru(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function wt(o,c,p,v){if(o=o.options,c){c={};for(var S=0;S<p.length;S++)c["$"+p[S]]=!0;for(p=0;p<o.length;p++)S=c.hasOwnProperty("$"+o[p].value),o[p].selected!==S&&(o[p].selected=S),S&&v&&(o[p].defaultSelected=!0)}else{for(p=""+Cn(p),c=null,S=0;S<o.length;S++){if(o[S].value===p){o[S].selected=!0,v&&(o[S].defaultSelected=!0);return}c!==null||o[S].disabled||(c=o[S])}c!==null&&(c.selected=!0)}}function Ur(o,c,p){if(c!=null&&(c=""+Cn(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+Cn(p):""}function Zi(o,c,p,v){if(c==null){if(v!=null){if(p!=null)throw Error(r(92));if(q(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),c=p}p=Cn(c),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v),or(o)}function Sl(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var Vd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ji(o,c,p){var v=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":v?o.setProperty(c,p):typeof p!="number"||p===0||Vd.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function _t(o,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var S in c)v=c[S],c.hasOwnProperty(S)&&p[S]!==v&&Ji(o,S,v)}else for(var N in c)c.hasOwnProperty(N)&&Ji(o,N,c[N])}function Jn(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ax=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tl(o){return Ax.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ys(){}var GA=null;function Kd(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var lr=null,oa=null;function Fa(o){var c=an(o);if(c&&(o=c.stateNode)){var p=o[rt]||null;e:switch(o=c.stateNode,c.type){case"input":if($r(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+on(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var v=p[c];if(v!==o&&v.form===o.form){var S=v[rt]||null;if(!S)throw Error(r(90));$r(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(c=0;c<p.length;c++)v=p[c],v.form===o.form&&ka(v)}break e;case"textarea":Ur(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&wt(o,!!p.multiple,c,!1)}}}var Nt=!1;function pp(o,c,p){if(Nt)return o(c,p);Nt=!0;try{var v=o(c);return v}finally{if(Nt=!1,(lr!==null||oa!==null)&&(ag(),lr&&(c=lr,o=oa,oa=lr=null,Fa(c),o)))for(c=0;c<o.length;c++)Fa(o[c])}}function jt(o,c){var p=o.stateNode;if(p===null)return null;var v=p[rt]||null;if(v===null)return null;p=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gd=!1;if(er)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){Gd=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{Gd=!1}var Da=null,Ra=null,iu=null;function Il(){if(iu)return iu;var o,c=Ra,p=c.length,v,S="value"in Da?Da.value:Da.textContent,N=S.length;for(o=0;o<p&&c[o]===S[o];o++);var z=p-o;for(v=1;v<=z&&c[p-v]===S[N-v];v++);return iu=S.slice(o,1<v?1-v:void 0)}function Xa(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function qa(){return!0}function $d(){return!1}function Wr(o){function c(p,v,S,N,z){this._reactName=p,this._targetInst=S,this.type=v,this.nativeEvent=N,this.target=z,this.currentTarget=null;for(var X in o)o.hasOwnProperty(X)&&(p=o[X],this[X]=p?p(N):N[X]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?qa:$d,this.isPropagationStopped=$d,this}return w(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=qa)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=qa)},persist:function(){},isPersistent:qa}),c}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=Wr(js),Nl=w({},js,{view:0,detail:0}),gp=Wr(Nl),su,Wd,$A,au=w({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WA,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==$A&&($A&&o.type==="mousemove"?(su=o.screenX-$A.screenX,Wd=o.screenY-$A.screenY):Wd=su=0,$A=o),su)},movementY:function(o){return"movementY"in o?o.movementY:Wd}}),On=Wr(au),mp=w({},au,{dataTransfer:0}),ou=Wr(mp),Ya=w({},Nl,{relatedTarget:0}),Xd=Wr(Ya),Ie=w({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),Zt=Wr(Ie),ai=w({},js,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),lu=Wr(ai),xp=w({},js,{data:0}),wp=Wr(xp),cx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ux={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qr(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=qd[o])?!!c[o]:!1}function WA(){return Qr}var gr=w({},Nl,{key:function(o){if(o.key){var c=cx[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Xa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?ux[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WA,charCode:function(o){return o.type==="keypress"?Xa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Xa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Au=Wr(gr),So=w({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ln=Wr(So),Ot=w({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WA}),dx=Wr(Ot),tr=w({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),To=Wr(tr),Ol=w({},au,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),fx=Wr(Ol),la=w({},js,{newState:0,oldState:0}),Yd=Wr(la),yp=[9,13,27,32],XA=er&&"CompositionEvent"in window,Ml=null;er&&"documentMode"in document&&(Ml=document.documentMode);var vp=er&&"TextEvent"in window&&!Ml,bp=er&&(!XA||Ml&&8<Ml&&11>=Ml),Io=" ",cu=!1;function Cp(o,c){switch(o){case"keyup":return yp.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kl(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Fl=!1;function Za(o,c){switch(o){case"compositionend":return kl(c);case"keypress":return c.which!==32?null:(cu=!0,Io);case"textInput":return o=c.data,o===Io&&cu?null:o;default:return null}}function uu(o,c){if(Fl)return o==="compositionend"||!XA&&Cp(o,c)?(o=Il(),iu=Ra=Da=null,Fl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return bp&&c.locale!=="ko"?null:c.data;default:return null}}var vs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zd(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!vs[o.type]:c==="textarea"}function Ps(o,c,p,v){lr?oa?oa.push(v):oa=[v]:lr=v,c=fg(c,"onChange"),0<c.length&&(p=new si("onChange","change",null,p,v),o.push({event:p,listeners:c}))}var qA=null,No=null;function hx(o){WE(o,0)}function YA(o){var c=ws(o);if(ka(c))return o}function zs(o,c){if(o==="change")return c}var Bp=!1;if(er){var ZA;if(er){var Oo="oninput"in document;if(!Oo){var xn=document.createElement("div");xn.setAttribute("oninput","return;"),Oo=typeof xn.oninput=="function"}ZA=Oo}else ZA=!1;Bp=ZA&&(!document.documentMode||9<document.documentMode)}function JA(){qA&&(qA.detachEvent("onpropertychange",K),No=qA=null)}function K(o){if(o.propertyName==="value"&&YA(No)){var c=[];Ps(c,No,o,Kd(o)),pp(hx,c)}}function l(o,c,p){o==="focusin"?(JA(),qA=c,No=p,qA.attachEvent("onpropertychange",K)):o==="focusout"&&JA()}function d(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return YA(No)}function h(o,c){if(o==="click")return YA(c)}function x(o,c){if(o==="input"||o==="change")return YA(c)}function y(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var b=typeof Object.is=="function"?Object.is:y;function _(o,c){if(b(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),v=Object.keys(c);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var S=p[v];if(!Ht.call(c,S)||!b(o[S],c[S]))return!1}return!0}function T(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function k(o,c){var p=T(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=c&&v>=c)return{node:p,offset:c-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=T(p)}}function P(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?P(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function G(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=ru(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=ru(o.document)}return c}function $(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var ee=er&&"documentMode"in document&&11>=document.documentMode,Ae=null,ce=null,ge=null,Te=!1;function Ze(o,c,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Te||Ae==null||Ae!==ru(v)||(v=Ae,"selectionStart"in v&&$(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),ge&&_(ge,v)||(ge=v,v=fg(ce,"onSelect"),0<v.length&&(c=new si("onSelect","select",null,c,p),o.push({event:c,listeners:v}),c.target=Ae)))}function Ye(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var Ke={animationend:Ye("Animation","AnimationEnd"),animationiteration:Ye("Animation","AnimationIteration"),animationstart:Ye("Animation","AnimationStart"),transitionrun:Ye("Transition","TransitionRun"),transitionstart:Ye("Transition","TransitionStart"),transitioncancel:Ye("Transition","TransitionCancel"),transitionend:Ye("Transition","TransitionEnd")},tn={},zt={};er&&(zt=document.createElement("div").style,"AnimationEvent"in window||(delete Ke.animationend.animation,delete Ke.animationiteration.animation,delete Ke.animationstart.animation),"TransitionEvent"in window||delete Ke.transitionend.transition);function Ir(o){if(tn[o])return tn[o];if(!Ke[o])return o;var c=Ke[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in zt)return tn[o]=c[p];return o}var bs=Ir("animationend"),Ci=Ir("animationiteration"),Un=Ir("animationstart"),oi=Ir("transitionrun"),es=Ir("transitionstart"),Dl=Ir("transitioncancel"),Mo=Ir("transitionend"),_p=new Map,Jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jd.push("scrollEnd");function La(o,c){_p.set(o,c),dn(c,[o])}var Ep=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Aa=[],du=0,px=0;function Sp(){for(var o=du,c=px=du=0;c<o;){var p=Aa[c];Aa[c++]=null;var v=Aa[c];Aa[c++]=null;var S=Aa[c];Aa[c++]=null;var N=Aa[c];if(Aa[c++]=null,v!==null&&S!==null){var z=v.pending;z===null?S.next=S:(S.next=z.next,z.next=S),v.pending=S}N!==0&&IB(p,S,N)}}function Tp(o,c,p,v){Aa[du++]=o,Aa[du++]=c,Aa[du++]=p,Aa[du++]=v,px|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function gx(o,c,p,v){return Tp(o,c,p,v),Ip(o)}function ec(o,c){return Tp(o,null,null,c),Ip(o)}function IB(o,c,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var S=!1,N=o.return;N!==null;)N.childLanes|=p,v=N.alternate,v!==null&&(v.childLanes|=p),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(S=!0)),o=N,N=N.return;return o.tag===3?(N=o.stateNode,S&&c!==null&&(S=31-ze(p),o=N.hiddenUpdates,v=o[S],v===null?o[S]=[c]:v.push(c),c.lane=p|536870912),N):null}function Ip(o){if(50<bf)throw bf=0,_w=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var fu={};function zF(o,c,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vs(o,c,p,v){return new zF(o,c,p,v)}function mx(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ko(o,c){var p=o.alternate;return p===null?(p=Vs(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function NB(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Np(o,c,p,v,S,N){var z=0;if(v=o,typeof o=="function")mx(o)&&(z=1);else if(typeof o=="string")z=WD(o,p,ye.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case V:return o=Vs(31,p,c,S),o.elementType=V,o.lanes=N,o;case I:return tc(p.children,S,N,c);case M:z=8,S|=24;break;case R:return o=Vs(12,p,c,S|2),o.elementType=R,o.lanes=N,o;case F:return o=Vs(13,p,c,S),o.elementType=F,o.lanes=N,o;case Q:return o=Vs(19,p,c,S),o.elementType=Q,o.lanes=N,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case U:z=10;break e;case L:z=9;break e;case O:z=11;break e;case D:z=14;break e;case j:z=16,v=null;break e}z=29,p=Error(r(130,o===null?"null":typeof o,"")),v=null}return c=Vs(z,p,c,S),c.elementType=o,c.type=v,c.lanes=N,c}function tc(o,c,p,v){return o=Vs(7,o,v,c),o.lanes=p,o}function xx(o,c,p){return o=Vs(6,o,null,c),o.lanes=p,o}function OB(o){var c=Vs(18,null,null,0);return c.stateNode=o,c}function wx(o,c,p){return c=Vs(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var MB=new WeakMap;function ca(o,c){if(typeof o=="object"&&o!==null){var p=MB.get(o);return p!==void 0?p:(c={value:o,source:c,stack:Yt(c)},MB.set(o,c),c)}return{value:o,source:c,stack:Yt(c)}}var hu=[],pu=0,Op=null,ef=0,ua=[],da=0,Rl=null,Ja=1,eo="";function Fo(o,c){hu[pu++]=ef,hu[pu++]=Op,Op=o,ef=c}function kB(o,c,p){ua[da++]=Ja,ua[da++]=eo,ua[da++]=Rl,Rl=o;var v=Ja;o=eo;var S=32-ze(v)-1;v&=~(1<<S),p+=1;var N=32-ze(c)+S;if(30<N){var z=S-S%5;N=(v&(1<<z)-1).toString(32),v>>=z,S-=z,Ja=1<<32-ze(c)+S|p<<S|v,eo=N+o}else Ja=1<<N|p<<S|v,eo=o}function yx(o){o.return!==null&&(Fo(o,1),kB(o,1,0))}function vx(o){for(;o===Op;)Op=hu[--pu],hu[pu]=null,ef=hu[--pu],hu[pu]=null;for(;o===Rl;)Rl=ua[--da],ua[da]=null,eo=ua[--da],ua[da]=null,Ja=ua[--da],ua[da]=null}function FB(o,c){ua[da++]=Ja,ua[da++]=eo,ua[da++]=Rl,Ja=c.id,eo=c.overflow,Rl=o}var Bi=null,Ar=null,Bn=!1,Ll=null,fa=!1,bx=Error(r(519));function Ul(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tf(ca(c,o)),bx}function DB(o){var c=o.stateNode,p=o.type,v=o.memoizedProps;switch(c[it]=o,c[rt]=v,p){case"dialog":pn("cancel",c),pn("close",c);break;case"iframe":case"object":case"embed":pn("load",c);break;case"video":case"audio":for(p=0;p<Bf.length;p++)pn(Bf[p],c);break;case"source":pn("error",c);break;case"img":case"image":case"link":pn("error",c),pn("load",c);break;case"details":pn("toggle",c);break;case"input":pn("invalid",c),we(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":pn("invalid",c);break;case"textarea":pn("invalid",c),Zi(c,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||v.suppressHydrationWarning===!0||ZE(c.textContent,p)?(v.popover!=null&&(pn("beforetoggle",c),pn("toggle",c)),v.onScroll!=null&&pn("scroll",c),v.onScrollEnd!=null&&pn("scrollend",c),v.onClick!=null&&(c.onclick=ys),c=!0):c=!1,c||Ul(o,!0)}function RB(o){for(Bi=o.return;Bi;)switch(Bi.tag){case 5:case 31:case 13:fa=!1;return;case 27:case 3:fa=!0;return;default:Bi=Bi.return}}function gu(o){if(o!==Bi)return!1;if(!Bn)return RB(o),Bn=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||Hw(o.type,o.memoizedProps)),p=!p),p&&Ar&&Ul(o),RB(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Ar=o3(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Ar=o3(o)}else c===27?(c=Ar,Zl(o.type)?(o=Kw,Kw=null,Ar=o):Ar=c):Ar=Bi?pa(o.stateNode.nextSibling):null;return!0}function nc(){Ar=Bi=null,Bn=!1}function Cx(){var o=Ll;return o!==null&&(Es===null?Es=o:Es.push.apply(Es,o),Ll=null),o}function tf(o){Ll===null?Ll=[o]:Ll.push(o)}var Bx=ne(null),rc=null,Do=null;function Ql(o,c,p){Ne(Bx,c._currentValue),c._currentValue=p}function Ro(o){o._currentValue=Bx.current,he(Bx)}function _x(o,c,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),o===p)break;o=o.return}}function Ex(o,c,p,v){var S=o.child;for(S!==null&&(S.return=o);S!==null;){var N=S.dependencies;if(N!==null){var z=S.child;N=N.firstContext;e:for(;N!==null;){var X=N;N=S;for(var le=0;le<c.length;le++)if(X.context===c[le]){N.lanes|=p,X=N.alternate,X!==null&&(X.lanes|=p),_x(N.return,p,o),v||(z=null);break e}N=X.next}}else if(S.tag===18){if(z=S.return,z===null)throw Error(r(341));z.lanes|=p,N=z.alternate,N!==null&&(N.lanes|=p),_x(z,p,o),z=null}else z=S.child;if(z!==null)z.return=S;else for(z=S;z!==null;){if(z===o){z=null;break}if(S=z.sibling,S!==null){S.return=z.return,z=S;break}z=z.return}S=z}}function mu(o,c,p,v){o=null;for(var S=c,N=!1;S!==null;){if(!N){if((S.flags&524288)!==0)N=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var z=S.alternate;if(z===null)throw Error(r(387));if(z=z.memoizedProps,z!==null){var X=S.type;b(S.pendingProps.value,z.value)||(o!==null?o.push(X):o=[X])}}else if(S===et.current){if(z=S.alternate,z===null)throw Error(r(387));z.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(o!==null?o.push(If):o=[If])}S=S.return}o!==null&&Ex(c,o,p,v),c.flags|=262144}function Mp(o){for(o=o.firstContext;o!==null;){if(!b(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ic(o){rc=o,Do=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function _i(o){return LB(rc,o)}function kp(o,c){return rc===null&&ic(o),LB(o,c)}function LB(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},Do===null){if(o===null)throw Error(r(308));Do=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Do=Do.next=c;return p}var VF=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},KF=t.unstable_scheduleCallback,GF=t.unstable_NormalPriority,Xr={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sx(){return{controller:new VF,data:new Map,refCount:0}}function nf(o){o.refCount--,o.refCount===0&&KF(GF,function(){o.controller.abort()})}var rf=null,Tx=0,xu=0,wu=null;function $F(o,c){if(rf===null){var p=rf=[];Tx=0,xu=Ow(),wu={status:"pending",value:void 0,then:function(v){p.push(v)}}}return Tx++,c.then(UB,UB),c}function UB(){if(--Tx===0&&rf!==null){wu!==null&&(wu.status="fulfilled");var o=rf;rf=null,xu=0,wu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function WF(o,c){var p=[],v={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return o.then(function(){v.status="fulfilled",v.value=c;for(var S=0;S<p.length;S++)(0,p[S])(c)},function(S){for(v.status="rejected",v.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),v}var QB=ie.S;ie.S=function(o,c){bE=$e(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&$F(o,c),QB!==null&&QB(o,c)};var sc=ne(null);function Ix(){var o=sc.current;return o!==null?o:nr.pooledCache}function Fp(o,c){c===null?Ne(sc,sc.current):Ne(sc,c.pool)}function HB(){var o=Ix();return o===null?null:{parent:Xr._currentValue,pool:o}}var yu=Error(r(460)),Nx=Error(r(474)),Dp=Error(r(542)),Rp={then:function(){}};function jB(o){return o=o.status,o==="fulfilled"||o==="rejected"}function PB(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(ys,ys),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,VB(o),o;default:if(typeof c.status=="string")c.then(ys,ys);else{if(o=nr,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(v){if(c.status==="pending"){var S=c;S.status="fulfilled",S.value=v}},function(v){if(c.status==="pending"){var S=c;S.status="rejected",S.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,VB(o),o}throw oc=c,yu}}function ac(o){try{var c=o._init;return c(o._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(oc=p,yu):p}}var oc=null;function zB(){if(oc===null)throw Error(r(459));var o=oc;return oc=null,o}function VB(o){if(o===yu||o===Dp)throw Error(r(483))}var vu=null,sf=0;function Lp(o){var c=sf;return sf+=1,vu===null&&(vu=[]),PB(vu,o,c)}function af(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Up(o,c){throw c.$$typeof===C?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function KB(o){function c(pe,ue){if(o){var ve=pe.deletions;ve===null?(pe.deletions=[ue],pe.flags|=16):ve.push(ue)}}function p(pe,ue){if(!o)return null;for(;ue!==null;)c(pe,ue),ue=ue.sibling;return null}function v(pe){for(var ue=new Map;pe!==null;)pe.key!==null?ue.set(pe.key,pe):ue.set(pe.index,pe),pe=pe.sibling;return ue}function S(pe,ue){return pe=ko(pe,ue),pe.index=0,pe.sibling=null,pe}function N(pe,ue,ve){return pe.index=ve,o?(ve=pe.alternate,ve!==null?(ve=ve.index,ve<ue?(pe.flags|=67108866,ue):ve):(pe.flags|=67108866,ue)):(pe.flags|=1048576,ue)}function z(pe){return o&&pe.alternate===null&&(pe.flags|=67108866),pe}function X(pe,ue,ve,He){return ue===null||ue.tag!==6?(ue=xx(ve,pe.mode,He),ue.return=pe,ue):(ue=S(ue,ve),ue.return=pe,ue)}function le(pe,ue,ve,He){var St=ve.type;return St===I?Qe(pe,ue,ve.props.children,He,ve.key):ue!==null&&(ue.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===j&&ac(St)===ue.type)?(ue=S(ue,ve.props),af(ue,ve),ue.return=pe,ue):(ue=Np(ve.type,ve.key,ve.props,null,pe.mode,He),af(ue,ve),ue.return=pe,ue)}function be(pe,ue,ve,He){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==ve.containerInfo||ue.stateNode.implementation!==ve.implementation?(ue=wx(ve,pe.mode,He),ue.return=pe,ue):(ue=S(ue,ve.children||[]),ue.return=pe,ue)}function Qe(pe,ue,ve,He,St){return ue===null||ue.tag!==7?(ue=tc(ve,pe.mode,He,St),ue.return=pe,ue):(ue=S(ue,ve),ue.return=pe,ue)}function je(pe,ue,ve){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=xx(""+ue,pe.mode,ve),ue.return=pe,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case B:return ve=Np(ue.type,ue.key,ue.props,null,pe.mode,ve),af(ve,ue),ve.return=pe,ve;case E:return ue=wx(ue,pe.mode,ve),ue.return=pe,ue;case j:return ue=ac(ue),je(pe,ue,ve)}if(q(ue)||J(ue))return ue=tc(ue,pe.mode,ve,null),ue.return=pe,ue;if(typeof ue.then=="function")return je(pe,Lp(ue),ve);if(ue.$$typeof===U)return je(pe,kp(pe,ue),ve);Up(pe,ue)}return null}function Be(pe,ue,ve,He){var St=ue!==null?ue.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return St!==null?null:X(pe,ue,""+ve,He);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case B:return ve.key===St?le(pe,ue,ve,He):null;case E:return ve.key===St?be(pe,ue,ve,He):null;case j:return ve=ac(ve),Be(pe,ue,ve,He)}if(q(ve)||J(ve))return St!==null?null:Qe(pe,ue,ve,He,null);if(typeof ve.then=="function")return Be(pe,ue,Lp(ve),He);if(ve.$$typeof===U)return Be(pe,ue,kp(pe,ve),He);Up(pe,ve)}return null}function Me(pe,ue,ve,He,St){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return pe=pe.get(ve)||null,X(ue,pe,""+He,St);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case B:return pe=pe.get(He.key===null?ve:He.key)||null,le(ue,pe,He,St);case E:return pe=pe.get(He.key===null?ve:He.key)||null,be(ue,pe,He,St);case j:return He=ac(He),Me(pe,ue,ve,He,St)}if(q(He)||J(He))return pe=pe.get(ve)||null,Qe(ue,pe,He,St,null);if(typeof He.then=="function")return Me(pe,ue,ve,Lp(He),St);if(He.$$typeof===U)return Me(pe,ue,ve,kp(ue,He),St);Up(ue,He)}return null}function mt(pe,ue,ve,He){for(var St=null,Tn=null,bt=ue,Jt=ue=0,yn=null;bt!==null&&Jt<ve.length;Jt++){bt.index>Jt?(yn=bt,bt=null):yn=bt.sibling;var In=Be(pe,bt,ve[Jt],He);if(In===null){bt===null&&(bt=yn);break}o&&bt&&In.alternate===null&&c(pe,bt),ue=N(In,ue,Jt),Tn===null?St=In:Tn.sibling=In,Tn=In,bt=yn}if(Jt===ve.length)return p(pe,bt),Bn&&Fo(pe,Jt),St;if(bt===null){for(;Jt<ve.length;Jt++)bt=je(pe,ve[Jt],He),bt!==null&&(ue=N(bt,ue,Jt),Tn===null?St=bt:Tn.sibling=bt,Tn=bt);return Bn&&Fo(pe,Jt),St}for(bt=v(bt);Jt<ve.length;Jt++)yn=Me(bt,pe,Jt,ve[Jt],He),yn!==null&&(o&&yn.alternate!==null&&bt.delete(yn.key===null?Jt:yn.key),ue=N(yn,ue,Jt),Tn===null?St=yn:Tn.sibling=yn,Tn=yn);return o&&bt.forEach(function(rA){return c(pe,rA)}),Bn&&Fo(pe,Jt),St}function Ft(pe,ue,ve,He){if(ve==null)throw Error(r(151));for(var St=null,Tn=null,bt=ue,Jt=ue=0,yn=null,In=ve.next();bt!==null&&!In.done;Jt++,In=ve.next()){bt.index>Jt?(yn=bt,bt=null):yn=bt.sibling;var rA=Be(pe,bt,In.value,He);if(rA===null){bt===null&&(bt=yn);break}o&&bt&&rA.alternate===null&&c(pe,bt),ue=N(rA,ue,Jt),Tn===null?St=rA:Tn.sibling=rA,Tn=rA,bt=yn}if(In.done)return p(pe,bt),Bn&&Fo(pe,Jt),St;if(bt===null){for(;!In.done;Jt++,In=ve.next())In=je(pe,In.value,He),In!==null&&(ue=N(In,ue,Jt),Tn===null?St=In:Tn.sibling=In,Tn=In);return Bn&&Fo(pe,Jt),St}for(bt=v(bt);!In.done;Jt++,In=ve.next())In=Me(bt,pe,Jt,In.value,He),In!==null&&(o&&In.alternate!==null&&bt.delete(In.key===null?Jt:In.key),ue=N(In,ue,Jt),Tn===null?St=In:Tn.sibling=In,Tn=In);return o&&bt.forEach(function(sR){return c(pe,sR)}),Bn&&Fo(pe,Jt),St}function qn(pe,ue,ve,He){if(typeof ve=="object"&&ve!==null&&ve.type===I&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case B:e:{for(var St=ve.key;ue!==null;){if(ue.key===St){if(St=ve.type,St===I){if(ue.tag===7){p(pe,ue.sibling),He=S(ue,ve.props.children),He.return=pe,pe=He;break e}}else if(ue.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===j&&ac(St)===ue.type){p(pe,ue.sibling),He=S(ue,ve.props),af(He,ve),He.return=pe,pe=He;break e}p(pe,ue);break}else c(pe,ue);ue=ue.sibling}ve.type===I?(He=tc(ve.props.children,pe.mode,He,ve.key),He.return=pe,pe=He):(He=Np(ve.type,ve.key,ve.props,null,pe.mode,He),af(He,ve),He.return=pe,pe=He)}return z(pe);case E:e:{for(St=ve.key;ue!==null;){if(ue.key===St)if(ue.tag===4&&ue.stateNode.containerInfo===ve.containerInfo&&ue.stateNode.implementation===ve.implementation){p(pe,ue.sibling),He=S(ue,ve.children||[]),He.return=pe,pe=He;break e}else{p(pe,ue);break}else c(pe,ue);ue=ue.sibling}He=wx(ve,pe.mode,He),He.return=pe,pe=He}return z(pe);case j:return ve=ac(ve),qn(pe,ue,ve,He)}if(q(ve))return mt(pe,ue,ve,He);if(J(ve)){if(St=J(ve),typeof St!="function")throw Error(r(150));return ve=St.call(ve),Ft(pe,ue,ve,He)}if(typeof ve.then=="function")return qn(pe,ue,Lp(ve),He);if(ve.$$typeof===U)return qn(pe,ue,kp(pe,ve),He);Up(pe,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,ue!==null&&ue.tag===6?(p(pe,ue.sibling),He=S(ue,ve),He.return=pe,pe=He):(p(pe,ue),He=xx(ve,pe.mode,He),He.return=pe,pe=He),z(pe)):p(pe,ue)}return function(pe,ue,ve,He){try{sf=0;var St=qn(pe,ue,ve,He);return vu=null,St}catch(bt){if(bt===yu||bt===Dp)throw bt;var Tn=Vs(29,bt,null,pe.mode);return Tn.lanes=He,Tn.return=pe,Tn}finally{}}}var lc=KB(!0),GB=KB(!1),Hl=!1;function Ox(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mx(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function jl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Pl(o,c,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Mn&2)!==0){var S=v.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),v.pending=c,c=Ip(o),IB(o,null,p),c}return Tp(o,v,c,p),Ip(o)}function of(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,fe(o,p)}}function kx(o,c){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var S=null,N=null;if(p=p.firstBaseUpdate,p!==null){do{var z={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};N===null?S=N=z:N=N.next=z,p=p.next}while(p!==null);N===null?S=N=c:N=N.next=c}else S=N=c;p={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:N,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var Fx=!1;function lf(){if(Fx){var o=wu;if(o!==null)throw o}}function Af(o,c,p,v){Fx=!1;var S=o.updateQueue;Hl=!1;var N=S.firstBaseUpdate,z=S.lastBaseUpdate,X=S.shared.pending;if(X!==null){S.shared.pending=null;var le=X,be=le.next;le.next=null,z===null?N=be:z.next=be,z=le;var Qe=o.alternate;Qe!==null&&(Qe=Qe.updateQueue,X=Qe.lastBaseUpdate,X!==z&&(X===null?Qe.firstBaseUpdate=be:X.next=be,Qe.lastBaseUpdate=le))}if(N!==null){var je=S.baseState;z=0,Qe=be=le=null,X=N;do{var Be=X.lane&-536870913,Me=Be!==X.lane;if(Me?(wn&Be)===Be:(v&Be)===Be){Be!==0&&Be===xu&&(Fx=!0),Qe!==null&&(Qe=Qe.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var mt=o,Ft=X;Be=c;var qn=p;switch(Ft.tag){case 1:if(mt=Ft.payload,typeof mt=="function"){je=mt.call(qn,je,Be);break e}je=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Ft.payload,Be=typeof mt=="function"?mt.call(qn,je,Be):mt,Be==null)break e;je=w({},je,Be);break e;case 2:Hl=!0}}Be=X.callback,Be!==null&&(o.flags|=64,Me&&(o.flags|=8192),Me=S.callbacks,Me===null?S.callbacks=[Be]:Me.push(Be))}else Me={lane:Be,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Qe===null?(be=Qe=Me,le=je):Qe=Qe.next=Me,z|=Be;if(X=X.next,X===null){if(X=S.shared.pending,X===null)break;Me=X,X=Me.next,Me.next=null,S.lastBaseUpdate=Me,S.shared.pending=null}}while(!0);Qe===null&&(le=je),S.baseState=le,S.firstBaseUpdate=be,S.lastBaseUpdate=Qe,N===null&&(S.shared.lanes=0),$l|=z,o.lanes=z,o.memoizedState=je}}function $B(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function WB(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)$B(p[o],c)}var bu=ne(null),Qp=ne(0);function XB(o,c){o=Ko,Ne(Qp,o),Ne(bu,c),Ko=o|c.baseLanes}function Dx(){Ne(Qp,Ko),Ne(bu,bu.current)}function Rx(){Ko=Qp.current,he(bu),he(Qp)}var Ks=ne(null),ha=null;function zl(o){var c=o.alternate;Ne(Hr,Hr.current&1),Ne(Ks,o),ha===null&&(c===null||bu.current!==null||c.memoizedState!==null)&&(ha=o)}function Lx(o){Ne(Hr,Hr.current),Ne(Ks,o),ha===null&&(ha=o)}function qB(o){o.tag===22?(Ne(Hr,Hr.current),Ne(Ks,o),ha===null&&(ha=o)):Vl()}function Vl(){Ne(Hr,Hr.current),Ne(Ks,Ks.current)}function Gs(o){he(Ks),ha===o&&(ha=null),he(Hr)}var Hr=ne(0);function Hp(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||zw(p)||Vw(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Lo=0,Xt=null,Wn=null,qr=null,jp=!1,Cu=!1,Ac=!1,Pp=0,cf=0,Bu=null,XF=0;function Nr(){throw Error(r(321))}function Ux(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!b(o[p],c[p]))return!1;return!0}function Qx(o,c,p,v,S,N){return Lo=N,Xt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ie.H=o===null||o.memoizedState===null?k_:ew,Ac=!1,N=p(v,S),Ac=!1,Cu&&(N=ZB(c,p,v,S)),YB(o),N}function YB(o){ie.H=ff;var c=Wn!==null&&Wn.next!==null;if(Lo=0,qr=Wn=Xt=null,jp=!1,cf=0,Bu=null,c)throw Error(r(300));o===null||Yr||(o=o.dependencies,o!==null&&Mp(o)&&(Yr=!0))}function ZB(o,c,p,v){Xt=o;var S=0;do{if(Cu&&(Bu=null),cf=0,Cu=!1,25<=S)throw Error(r(301));if(S+=1,qr=Wn=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}ie.H=F_,N=c(p,v)}while(Cu);return N}function qF(){var o=ie.H,c=o.useState()[0];return c=typeof c.then=="function"?uf(c):c,o=o.useState()[0],(Wn!==null?Wn.memoizedState:null)!==o&&(Xt.flags|=1024),c}function Hx(){var o=Pp!==0;return Pp=0,o}function jx(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function Px(o){if(jp){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}jp=!1}Lo=0,qr=Wn=Xt=null,Cu=!1,cf=Pp=0,Bu=null}function ts(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?Xt.memoizedState=qr=o:qr=qr.next=o,qr}function jr(){if(Wn===null){var o=Xt.alternate;o=o!==null?o.memoizedState:null}else o=Wn.next;var c=qr===null?Xt.memoizedState:qr.next;if(c!==null)qr=c,Wn=o;else{if(o===null)throw Xt.alternate===null?Error(r(467)):Error(r(310));Wn=o,o={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},qr===null?Xt.memoizedState=qr=o:qr=qr.next=o}return qr}function zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uf(o){var c=cf;return cf+=1,Bu===null&&(Bu=[]),o=PB(Bu,o,c),c=Xt,(qr===null?c.memoizedState:qr.next)===null&&(c=c.alternate,ie.H=c===null||c.memoizedState===null?k_:ew),o}function Vp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return uf(o);if(o.$$typeof===U)return _i(o)}throw Error(r(438,String(o)))}function zx(o){var c=null,p=Xt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var v=Xt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(S){return S.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=zp(),Xt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),v=0;v<o;v++)p[v]=W;return c.index++,p}function Uo(o,c){return typeof c=="function"?c(o):c}function Kp(o){var c=jr();return Vx(c,Wn,o)}function Vx(o,c,p){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var S=o.baseQueue,N=v.pending;if(N!==null){if(S!==null){var z=S.next;S.next=N.next,N.next=z}c.baseQueue=S=N,v.pending=null}if(N=o.baseState,S===null)o.memoizedState=N;else{c=S.next;var X=z=null,le=null,be=c,Qe=!1;do{var je=be.lane&-536870913;if(je!==be.lane?(wn&je)===je:(Lo&je)===je){var Be=be.revertLane;if(Be===0)le!==null&&(le=le.next={lane:0,revertLane:0,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),je===xu&&(Qe=!0);else if((Lo&Be)===Be){be=be.next,Be===xu&&(Qe=!0);continue}else je={lane:0,revertLane:be.revertLane,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},le===null?(X=le=je,z=N):le=le.next=je,Xt.lanes|=Be,$l|=Be;je=be.action,Ac&&p(N,je),N=be.hasEagerState?be.eagerState:p(N,je)}else Be={lane:je,revertLane:be.revertLane,gesture:be.gesture,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},le===null?(X=le=Be,z=N):le=le.next=Be,Xt.lanes|=je,$l|=je;be=be.next}while(be!==null&&be!==c);if(le===null?z=N:le.next=X,!b(N,o.memoizedState)&&(Yr=!0,Qe&&(p=wu,p!==null)))throw p;o.memoizedState=N,o.baseState=z,o.baseQueue=le,v.lastRenderedState=N}return S===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function Kx(o){var c=jr(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var v=p.dispatch,S=p.pending,N=c.memoizedState;if(S!==null){p.pending=null;var z=S=S.next;do N=o(N,z.action),z=z.next;while(z!==S);b(N,c.memoizedState)||(Yr=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),p.lastRenderedState=N}return[N,v]}function JB(o,c,p){var v=Xt,S=jr(),N=Bn;if(N){if(p===void 0)throw Error(r(407));p=p()}else p=c();var z=!b((Wn||S).memoizedState,p);if(z&&(S.memoizedState=p,Yr=!0),S=S.queue,Wx(n_.bind(null,v,S,o),[o]),S.getSnapshot!==c||z||qr!==null&&qr.memoizedState.tag&1){if(v.flags|=2048,_u(9,{destroy:void 0},t_.bind(null,v,S,p,c),null),nr===null)throw Error(r(349));N||(Lo&127)!==0||e_(v,c,p)}return p}function e_(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=Xt.updateQueue,c===null?(c=zp(),Xt.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function t_(o,c,p,v){c.value=p,c.getSnapshot=v,r_(c)&&i_(o)}function n_(o,c,p){return p(function(){r_(c)&&i_(o)})}function r_(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!b(o,p)}catch{return!0}}function i_(o){var c=ec(o,2);c!==null&&Ss(c,o,2)}function Gx(o){var c=ts();if(typeof o=="function"){var p=o;if(o=p(),Ac){Xe(!0);try{p()}finally{Xe(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:o},c}function s_(o,c,p,v){return o.baseState=p,Vx(o,Wn,typeof v=="function"?v:Uo)}function YF(o,c,p,v,S){if(Wp(o))throw Error(r(485));if(o=c.action,o!==null){var N={payload:S,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){N.listeners.push(z)}};ie.T!==null?p(!0):N.isTransition=!1,v(N),p=c.pending,p===null?(N.next=c.pending=N,a_(c,N)):(N.next=p.next,c.pending=p.next=N)}}function a_(o,c){var p=c.action,v=c.payload,S=o.state;if(c.isTransition){var N=ie.T,z={};ie.T=z;try{var X=p(S,v),le=ie.S;le!==null&&le(z,X),o_(o,c,X)}catch(be){$x(o,c,be)}finally{N!==null&&z.types!==null&&(N.types=z.types),ie.T=N}}else try{N=p(S,v),o_(o,c,N)}catch(be){$x(o,c,be)}}function o_(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){l_(o,c,v)},function(v){return $x(o,c,v)}):l_(o,c,p)}function l_(o,c,p){c.status="fulfilled",c.value=p,A_(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,a_(o,p)))}function $x(o,c,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=p,A_(c),c=c.next;while(c!==v)}o.action=null}function A_(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function c_(o,c){return c}function u_(o,c){if(Bn){var p=nr.formState;if(p!==null){e:{var v=Xt;if(Bn){if(Ar){t:{for(var S=Ar,N=fa;S.nodeType!==8;){if(!N){S=null;break t}if(S=pa(S.nextSibling),S===null){S=null;break t}}N=S.data,S=N==="F!"||N==="F"?S:null}if(S){Ar=pa(S.nextSibling),v=S.data==="F!";break e}}Ul(v)}v=!1}v&&(c=p[0])}}return p=ts(),p.memoizedState=p.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c_,lastRenderedState:c},p.queue=v,p=N_.bind(null,Xt,v),v.dispatch=p,v=Gx(!1),N=Jx.bind(null,Xt,!1,v.queue),v=ts(),S={state:c,dispatch:null,action:o,pending:null},v.queue=S,p=YF.bind(null,Xt,S,N,p),S.dispatch=p,v.memoizedState=o,[c,p,!1]}function d_(o){var c=jr();return f_(c,Wn,o)}function f_(o,c,p){if(c=Vx(o,c,c_)[0],o=Kp(Uo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=uf(c)}catch(z){throw z===yu?Dp:z}else v=c;c=jr();var S=c.queue,N=S.dispatch;return p!==c.memoizedState&&(Xt.flags|=2048,_u(9,{destroy:void 0},ZF.bind(null,S,p),null)),[v,N,o]}function ZF(o,c){o.action=c}function h_(o){var c=jr(),p=Wn;if(p!==null)return f_(c,p,o);jr(),c=c.memoizedState,p=jr();var v=p.queue.dispatch;return p.memoizedState=o,[c,v,!1]}function _u(o,c,p,v){return o={tag:o,create:p,deps:v,inst:c,next:null},c=Xt.updateQueue,c===null&&(c=zp(),Xt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,c.lastEffect=o),o}function p_(){return jr().memoizedState}function Gp(o,c,p,v){var S=ts();Xt.flags|=o,S.memoizedState=_u(1|c,{destroy:void 0},p,v===void 0?null:v)}function $p(o,c,p,v){var S=jr();v=v===void 0?null:v;var N=S.memoizedState.inst;Wn!==null&&v!==null&&Ux(v,Wn.memoizedState.deps)?S.memoizedState=_u(c,N,p,v):(Xt.flags|=o,S.memoizedState=_u(1|c,N,p,v))}function g_(o,c){Gp(8390656,8,o,c)}function Wx(o,c){$p(2048,8,o,c)}function JF(o){Xt.flags|=4;var c=Xt.updateQueue;if(c===null)c=zp(),Xt.updateQueue=c,c.events=[o];else{var p=c.events;p===null?c.events=[o]:p.push(o)}}function m_(o){var c=jr().memoizedState;return JF({ref:c,nextImpl:o}),function(){if((Mn&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function x_(o,c){return $p(4,2,o,c)}function w_(o,c){return $p(4,4,o,c)}function y_(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function v_(o,c,p){p=p!=null?p.concat([o]):null,$p(4,4,y_.bind(null,c,o),p)}function Xx(){}function b_(o,c){var p=jr();c=c===void 0?null:c;var v=p.memoizedState;return c!==null&&Ux(c,v[1])?v[0]:(p.memoizedState=[o,c],o)}function C_(o,c){var p=jr();c=c===void 0?null:c;var v=p.memoizedState;if(c!==null&&Ux(c,v[1]))return v[0];if(v=o(),Ac){Xe(!0);try{o()}finally{Xe(!1)}}return p.memoizedState=[v,c],v}function qx(o,c,p){return p===void 0||(Lo&1073741824)!==0&&(wn&261930)===0?o.memoizedState=c:(o.memoizedState=p,o=BE(),Xt.lanes|=o,$l|=o,p)}function B_(o,c,p,v){return b(p,c)?p:bu.current!==null?(o=qx(o,p,v),b(o,c)||(Yr=!0),o):(Lo&42)===0||(Lo&1073741824)!==0&&(wn&261930)===0?(Yr=!0,o.memoizedState=p):(o=BE(),Xt.lanes|=o,$l|=o,c)}function __(o,c,p,v,S){var N=ae.p;ae.p=N!==0&&8>N?N:8;var z=ie.T,X={};ie.T=X,Jx(o,!1,c,p);try{var le=S(),be=ie.S;if(be!==null&&be(X,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var Qe=WF(le,v);df(o,c,Qe,Xs(o))}else df(o,c,v,Xs(o))}catch(je){df(o,c,{then:function(){},status:"rejected",reason:je},Xs())}finally{ae.p=N,z!==null&&X.types!==null&&(z.types=X.types),ie.T=z}}function eD(){}function Yx(o,c,p,v){if(o.tag!==5)throw Error(r(476));var S=E_(o).queue;__(o,S,c,se,p===null?eD:function(){return S_(o),p(v)})}function E_(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:se},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function S_(o){var c=E_(o);c.next===null&&(c=o.alternate.memoizedState),df(o,c.next.queue,{},Xs())}function Zx(){return _i(If)}function T_(){return jr().memoizedState}function I_(){return jr().memoizedState}function tD(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=Xs();o=jl(p);var v=Pl(c,o,p);v!==null&&(Ss(v,c,p),of(v,c,p)),c={cache:Sx()},o.payload=c;return}c=c.return}}function nD(o,c,p){var v=Xs();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Wp(o)?O_(c,p):(p=gx(o,c,p,v),p!==null&&(Ss(p,o,v),M_(p,c,v)))}function N_(o,c,p){var v=Xs();df(o,c,p,v)}function df(o,c,p,v){var S={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Wp(o))O_(c,S);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var z=c.lastRenderedState,X=N(z,p);if(S.hasEagerState=!0,S.eagerState=X,b(X,z))return Tp(o,c,S,0),nr===null&&Sp(),!1}catch{}finally{}if(p=gx(o,c,S,v),p!==null)return Ss(p,o,v),M_(p,c,v),!0}return!1}function Jx(o,c,p,v){if(v={lane:2,revertLane:Ow(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Wp(o)){if(c)throw Error(r(479))}else c=gx(o,p,v,2),c!==null&&Ss(c,o,2)}function Wp(o){var c=o.alternate;return o===Xt||c!==null&&c===Xt}function O_(o,c){Cu=jp=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function M_(o,c,p){if((p&4194048)!==0){var v=c.lanes;v&=o.pendingLanes,p|=v,c.lanes=p,fe(o,p)}}var ff={readContext:_i,use:Vp,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useLayoutEffect:Nr,useInsertionEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useSyncExternalStore:Nr,useId:Nr,useHostTransitionStatus:Nr,useFormState:Nr,useActionState:Nr,useOptimistic:Nr,useMemoCache:Nr,useCacheRefresh:Nr};ff.useEffectEvent=Nr;var k_={readContext:_i,use:Vp,useCallback:function(o,c){return ts().memoizedState=[o,c===void 0?null:c],o},useContext:_i,useEffect:g_,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Gp(4194308,4,y_.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Gp(4194308,4,o,c)},useInsertionEffect:function(o,c){Gp(4,2,o,c)},useMemo:function(o,c){var p=ts();c=c===void 0?null:c;var v=o();if(Ac){Xe(!0);try{o()}finally{Xe(!1)}}return p.memoizedState=[v,c],v},useReducer:function(o,c,p){var v=ts();if(p!==void 0){var S=p(c);if(Ac){Xe(!0);try{p(c)}finally{Xe(!1)}}}else S=c;return v.memoizedState=v.baseState=S,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:S},v.queue=o,o=o.dispatch=nD.bind(null,Xt,o),[v.memoizedState,o]},useRef:function(o){var c=ts();return o={current:o},c.memoizedState=o},useState:function(o){o=Gx(o);var c=o.queue,p=N_.bind(null,Xt,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:Xx,useDeferredValue:function(o,c){var p=ts();return qx(p,o,c)},useTransition:function(){var o=Gx(!1);return o=__.bind(null,Xt,o.queue,!0,!1),ts().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var v=Xt,S=ts();if(Bn){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),nr===null)throw Error(r(349));(wn&127)!==0||e_(v,c,p)}S.memoizedState=p;var N={value:p,getSnapshot:c};return S.queue=N,g_(n_.bind(null,v,N,o),[o]),v.flags|=2048,_u(9,{destroy:void 0},t_.bind(null,v,N,p,c),null),p},useId:function(){var o=ts(),c=nr.identifierPrefix;if(Bn){var p=eo,v=Ja;p=(v&~(1<<32-ze(v)-1)).toString(32)+p,c="_"+c+"R_"+p,p=Pp++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=XF++,c="_"+c+"r_"+p.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:Zx,useFormState:u_,useActionState:u_,useOptimistic:function(o){var c=ts();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=Jx.bind(null,Xt,!0,p),p.dispatch=c,[o,c]},useMemoCache:zx,useCacheRefresh:function(){return ts().memoizedState=tD.bind(null,Xt)},useEffectEvent:function(o){var c=ts(),p={impl:o};return c.memoizedState=p,function(){if((Mn&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},ew={readContext:_i,use:Vp,useCallback:b_,useContext:_i,useEffect:Wx,useImperativeHandle:v_,useInsertionEffect:x_,useLayoutEffect:w_,useMemo:C_,useReducer:Kp,useRef:p_,useState:function(){return Kp(Uo)},useDebugValue:Xx,useDeferredValue:function(o,c){var p=jr();return B_(p,Wn.memoizedState,o,c)},useTransition:function(){var o=Kp(Uo)[0],c=jr().memoizedState;return[typeof o=="boolean"?o:uf(o),c]},useSyncExternalStore:JB,useId:T_,useHostTransitionStatus:Zx,useFormState:d_,useActionState:d_,useOptimistic:function(o,c){var p=jr();return s_(p,Wn,o,c)},useMemoCache:zx,useCacheRefresh:I_};ew.useEffectEvent=m_;var F_={readContext:_i,use:Vp,useCallback:b_,useContext:_i,useEffect:Wx,useImperativeHandle:v_,useInsertionEffect:x_,useLayoutEffect:w_,useMemo:C_,useReducer:Kx,useRef:p_,useState:function(){return Kx(Uo)},useDebugValue:Xx,useDeferredValue:function(o,c){var p=jr();return Wn===null?qx(p,o,c):B_(p,Wn.memoizedState,o,c)},useTransition:function(){var o=Kx(Uo)[0],c=jr().memoizedState;return[typeof o=="boolean"?o:uf(o),c]},useSyncExternalStore:JB,useId:T_,useHostTransitionStatus:Zx,useFormState:h_,useActionState:h_,useOptimistic:function(o,c){var p=jr();return Wn!==null?s_(p,Wn,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:zx,useCacheRefresh:I_};F_.useEffectEvent=m_;function tw(o,c,p,v){c=o.memoizedState,p=p(v,c),p=p==null?c:w({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var nw={enqueueSetState:function(o,c,p){o=o._reactInternals;var v=Xs(),S=jl(v);S.payload=c,p!=null&&(S.callback=p),c=Pl(o,S,v),c!==null&&(Ss(c,o,v),of(c,o,v))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var v=Xs(),S=jl(v);S.tag=1,S.payload=c,p!=null&&(S.callback=p),c=Pl(o,S,v),c!==null&&(Ss(c,o,v),of(c,o,v))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=Xs(),v=jl(p);v.tag=2,c!=null&&(v.callback=c),c=Pl(o,v,p),c!==null&&(Ss(c,o,p),of(c,o,p))}};function D_(o,c,p,v,S,N,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,N,z):c.prototype&&c.prototype.isPureReactComponent?!_(p,v)||!_(S,N):!0}function R_(o,c,p,v){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,v),c.state!==o&&nw.enqueueReplaceState(c,c.state,null)}function cc(o,c){var p=c;if("ref"in c){p={};for(var v in c)v!=="ref"&&(p[v]=c[v])}if(o=o.defaultProps){p===c&&(p=w({},p));for(var S in o)p[S]===void 0&&(p[S]=o[S])}return p}function L_(o){Ep(o)}function U_(o){console.error(o)}function Q_(o){Ep(o)}function Xp(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function H_(o,c,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function rw(o,c,p){return p=jl(p),p.tag=3,p.payload={element:null},p.callback=function(){Xp(o,c)},p}function j_(o){return o=jl(o),o.tag=3,o}function P_(o,c,p,v){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var N=v.value;o.payload=function(){return S(N)},o.callback=function(){H_(c,p,v)}}var z=p.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(o.callback=function(){H_(c,p,v),typeof S!="function"&&(Wl===null?Wl=new Set([this]):Wl.add(this));var X=v.stack;this.componentDidCatch(v.value,{componentStack:X!==null?X:""})})}function rD(o,c,p,v,S){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=p.alternate,c!==null&&mu(c,p,S,!0),p=Ks.current,p!==null){switch(p.tag){case 31:case 13:return ha===null?og():p.alternate===null&&Or===0&&(Or=3),p.flags&=-257,p.flags|=65536,p.lanes=S,v===Rp?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([v]):c.add(v),Tw(o,v,S)),!1;case 22:return p.flags|=65536,v===Rp?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([v]):p.add(v)),Tw(o,v,S)),!1}throw Error(r(435,p.tag))}return Tw(o,v,S),og(),!1}if(Bn)return c=Ks.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=S,v!==bx&&(o=Error(r(422),{cause:v}),tf(ca(o,p)))):(v!==bx&&(c=Error(r(423),{cause:v}),tf(ca(c,p))),o=o.current.alternate,o.flags|=65536,S&=-S,o.lanes|=S,v=ca(v,p),S=rw(o.stateNode,v,S),kx(o,S),Or!==4&&(Or=2)),!1;var N=Error(r(520),{cause:v});if(N=ca(N,p),vf===null?vf=[N]:vf.push(N),Or!==4&&(Or=2),c===null)return!0;v=ca(v,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=S&-S,p.lanes|=o,o=rw(p.stateNode,v,o),kx(p,o),!1;case 1:if(c=p.type,N=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Wl===null||!Wl.has(N))))return p.flags|=65536,S&=-S,p.lanes|=S,S=j_(S),P_(S,o,p,v),kx(p,S),!1}p=p.return}while(p!==null);return!1}var iw=Error(r(461)),Yr=!1;function Ei(o,c,p,v){c.child=o===null?GB(c,null,p,v):lc(c,o.child,p,v)}function z_(o,c,p,v,S){p=p.render;var N=c.ref;if("ref"in v){var z={};for(var X in v)X!=="ref"&&(z[X]=v[X])}else z=v;return ic(c),v=Qx(o,c,p,z,N,S),X=Hx(),o!==null&&!Yr?(jx(o,c,S),Qo(o,c,S)):(Bn&&X&&yx(c),c.flags|=1,Ei(o,c,v,S),c.child)}function V_(o,c,p,v,S){if(o===null){var N=p.type;return typeof N=="function"&&!mx(N)&&N.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=N,K_(o,c,N,v,S)):(o=Np(p.type,null,v,c,c.mode,S),o.ref=c.ref,o.return=c,c.child=o)}if(N=o.child,!dw(o,S)){var z=N.memoizedProps;if(p=p.compare,p=p!==null?p:_,p(z,v)&&o.ref===c.ref)return Qo(o,c,S)}return c.flags|=1,o=ko(N,v),o.ref=c.ref,o.return=c,c.child=o}function K_(o,c,p,v,S){if(o!==null){var N=o.memoizedProps;if(_(N,v)&&o.ref===c.ref)if(Yr=!1,c.pendingProps=v=N,dw(o,S))(o.flags&131072)!==0&&(Yr=!0);else return c.lanes=o.lanes,Qo(o,c,S)}return sw(o,c,p,v,S)}function G_(o,c,p,v){var S=v.children,N=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(N=N!==null?N.baseLanes|p:p,o!==null){for(v=c.child=o.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~N}else v=0,c.child=null;return $_(o,c,N,p,v)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Fp(c,N!==null?N.cachePool:null),N!==null?XB(c,N):Dx(),qB(c);else return v=c.lanes=536870912,$_(o,c,N!==null?N.baseLanes|p:p,p,v)}else N!==null?(Fp(c,N.cachePool),XB(c,N),Vl(),c.memoizedState=null):(o!==null&&Fp(c,null),Dx(),Vl());return Ei(o,c,S,p),c.child}function hf(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function $_(o,c,p,v,S){var N=Ix();return N=N===null?null:{parent:Xr._currentValue,pool:N},c.memoizedState={baseLanes:p,cachePool:N},o!==null&&Fp(c,null),Dx(),qB(c),o!==null&&mu(o,c,v,!0),c.childLanes=S,null}function qp(o,c){return c=Zp({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function W_(o,c,p){return lc(c,o.child,null,p),o=qp(c,c.pendingProps),o.flags|=2,Gs(c),c.memoizedState=null,o}function iD(o,c,p){var v=c.pendingProps,S=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Bn){if(v.mode==="hidden")return o=qp(c,v),c.lanes=536870912,hf(null,o);if(Lx(c),(o=Ar)?(o=a3(o,fa),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Rl!==null?{id:Ja,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},p=OB(o),p.return=c,c.child=p,Bi=c,Ar=null)):o=null,o===null)throw Ul(c);return c.lanes=536870912,null}return qp(c,v)}var N=o.memoizedState;if(N!==null){var z=N.dehydrated;if(Lx(c),S)if(c.flags&256)c.flags&=-257,c=W_(o,c,p);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(Yr||mu(o,c,p,!1),S=(p&o.childLanes)!==0,Yr||S){if(v=nr,v!==null&&(z=Ee(v,p),z!==0&&z!==N.retryLane))throw N.retryLane=z,ec(o,z),Ss(v,o,z),iw;og(),c=W_(o,c,p)}else o=N.treeContext,Ar=pa(z.nextSibling),Bi=c,Bn=!0,Ll=null,fa=!1,o!==null&&FB(c,o),c=qp(c,v),c.flags|=4096;return c}return o=ko(o.child,{mode:v.mode,children:v.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Yp(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function sw(o,c,p,v,S){return ic(c),p=Qx(o,c,p,v,void 0,S),v=Hx(),o!==null&&!Yr?(jx(o,c,S),Qo(o,c,S)):(Bn&&v&&yx(c),c.flags|=1,Ei(o,c,p,S),c.child)}function X_(o,c,p,v,S,N){return ic(c),c.updateQueue=null,p=ZB(c,v,p,S),YB(o),v=Hx(),o!==null&&!Yr?(jx(o,c,N),Qo(o,c,N)):(Bn&&v&&yx(c),c.flags|=1,Ei(o,c,p,N),c.child)}function q_(o,c,p,v,S){if(ic(c),c.stateNode===null){var N=fu,z=p.contextType;typeof z=="object"&&z!==null&&(N=_i(z)),N=new p(v,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=nw,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=v,N.state=c.memoizedState,N.refs={},Ox(c),z=p.contextType,N.context=typeof z=="object"&&z!==null?_i(z):fu,N.state=c.memoizedState,z=p.getDerivedStateFromProps,typeof z=="function"&&(tw(c,p,z,v),N.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(z=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),z!==N.state&&nw.enqueueReplaceState(N,N.state,null),Af(c,v,N,S),lf(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(o===null){N=c.stateNode;var X=c.memoizedProps,le=cc(p,X);N.props=le;var be=N.context,Qe=p.contextType;z=fu,typeof Qe=="object"&&Qe!==null&&(z=_i(Qe));var je=p.getDerivedStateFromProps;Qe=typeof je=="function"||typeof N.getSnapshotBeforeUpdate=="function",X=c.pendingProps!==X,Qe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(X||be!==z)&&R_(c,N,v,z),Hl=!1;var Be=c.memoizedState;N.state=Be,Af(c,v,N,S),lf(),be=c.memoizedState,X||Be!==be||Hl?(typeof je=="function"&&(tw(c,p,je,v),be=c.memoizedState),(le=Hl||D_(c,p,le,v,Be,be,z))?(Qe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=be),N.props=v,N.state=be,N.context=z,v=le):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{N=c.stateNode,Mx(o,c),z=c.memoizedProps,Qe=cc(p,z),N.props=Qe,je=c.pendingProps,Be=N.context,be=p.contextType,le=fu,typeof be=="object"&&be!==null&&(le=_i(be)),X=p.getDerivedStateFromProps,(be=typeof X=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(z!==je||Be!==le)&&R_(c,N,v,le),Hl=!1,Be=c.memoizedState,N.state=Be,Af(c,v,N,S),lf();var Me=c.memoizedState;z!==je||Be!==Me||Hl||o!==null&&o.dependencies!==null&&Mp(o.dependencies)?(typeof X=="function"&&(tw(c,p,X,v),Me=c.memoizedState),(Qe=Hl||D_(c,p,Qe,v,Be,Me,le)||o!==null&&o.dependencies!==null&&Mp(o.dependencies))?(be||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(v,Me,le),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(v,Me,le)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||z===o.memoizedProps&&Be===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Be===o.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Me),N.props=v,N.state=Me,N.context=le,v=Qe):(typeof N.componentDidUpdate!="function"||z===o.memoizedProps&&Be===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&Be===o.memoizedState||(c.flags|=1024),v=!1)}return N=v,Yp(o,c),v=(c.flags&128)!==0,N||v?(N=c.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,o!==null&&v?(c.child=lc(c,o.child,null,S),c.child=lc(c,null,p,S)):Ei(o,c,p,S),c.memoizedState=N.state,o=c.child):o=Qo(o,c,S),o}function Y_(o,c,p,v){return nc(),c.flags|=256,Ei(o,c,p,v),c.child}var aw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ow(o){return{baseLanes:o,cachePool:HB()}}function lw(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=Ws),o}function Z_(o,c,p){var v=c.pendingProps,S=!1,N=(c.flags&128)!==0,z;if((z=N)||(z=o!==null&&o.memoizedState===null?!1:(Hr.current&2)!==0),z&&(S=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,o===null){if(Bn){if(S?zl(c):Vl(),(o=Ar)?(o=a3(o,fa),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Rl!==null?{id:Ja,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},p=OB(o),p.return=c,c.child=p,Bi=c,Ar=null)):o=null,o===null)throw Ul(c);return Vw(o)?c.lanes=32:c.lanes=536870912,null}var X=v.children;return v=v.fallback,S?(Vl(),S=c.mode,X=Zp({mode:"hidden",children:X},S),v=tc(v,S,p,null),X.return=c,v.return=c,X.sibling=v,c.child=X,v=c.child,v.memoizedState=ow(p),v.childLanes=lw(o,z,p),c.memoizedState=aw,hf(null,v)):(zl(c),Aw(c,X))}var le=o.memoizedState;if(le!==null&&(X=le.dehydrated,X!==null)){if(N)c.flags&256?(zl(c),c.flags&=-257,c=cw(o,c,p)):c.memoizedState!==null?(Vl(),c.child=o.child,c.flags|=128,c=null):(Vl(),X=v.fallback,S=c.mode,v=Zp({mode:"visible",children:v.children},S),X=tc(X,S,p,null),X.flags|=2,v.return=c,X.return=c,v.sibling=X,c.child=v,lc(c,o.child,null,p),v=c.child,v.memoizedState=ow(p),v.childLanes=lw(o,z,p),c.memoizedState=aw,c=hf(null,v));else if(zl(c),Vw(X)){if(z=X.nextSibling&&X.nextSibling.dataset,z)var be=z.dgst;z=be,v=Error(r(419)),v.stack="",v.digest=z,tf({value:v,source:null,stack:null}),c=cw(o,c,p)}else if(Yr||mu(o,c,p,!1),z=(p&o.childLanes)!==0,Yr||z){if(z=nr,z!==null&&(v=Ee(z,p),v!==0&&v!==le.retryLane))throw le.retryLane=v,ec(o,v),Ss(z,o,v),iw;zw(X)||og(),c=cw(o,c,p)}else zw(X)?(c.flags|=192,c.child=o.child,c=null):(o=le.treeContext,Ar=pa(X.nextSibling),Bi=c,Bn=!0,Ll=null,fa=!1,o!==null&&FB(c,o),c=Aw(c,v.children),c.flags|=4096);return c}return S?(Vl(),X=v.fallback,S=c.mode,le=o.child,be=le.sibling,v=ko(le,{mode:"hidden",children:v.children}),v.subtreeFlags=le.subtreeFlags&65011712,be!==null?X=ko(be,X):(X=tc(X,S,p,null),X.flags|=2),X.return=c,v.return=c,v.sibling=X,c.child=v,hf(null,v),v=c.child,X=o.child.memoizedState,X===null?X=ow(p):(S=X.cachePool,S!==null?(le=Xr._currentValue,S=S.parent!==le?{parent:le,pool:le}:S):S=HB(),X={baseLanes:X.baseLanes|p,cachePool:S}),v.memoizedState=X,v.childLanes=lw(o,z,p),c.memoizedState=aw,hf(o.child,v)):(zl(c),p=o.child,o=p.sibling,p=ko(p,{mode:"visible",children:v.children}),p.return=c,p.sibling=null,o!==null&&(z=c.deletions,z===null?(c.deletions=[o],c.flags|=16):z.push(o)),c.child=p,c.memoizedState=null,p)}function Aw(o,c){return c=Zp({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Zp(o,c){return o=Vs(22,o,null,c),o.lanes=0,o}function cw(o,c,p){return lc(c,o.child,null,p),o=Aw(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function J_(o,c,p){o.lanes|=c;var v=o.alternate;v!==null&&(v.lanes|=c),_x(o.return,c,p)}function uw(o,c,p,v,S,N){var z=o.memoizedState;z===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:S,treeForkCount:N}:(z.isBackwards=c,z.rendering=null,z.renderingStartTime=0,z.last=v,z.tail=p,z.tailMode=S,z.treeForkCount=N)}function eE(o,c,p){var v=c.pendingProps,S=v.revealOrder,N=v.tail;v=v.children;var z=Hr.current,X=(z&2)!==0;if(X?(z=z&1|2,c.flags|=128):z&=1,Ne(Hr,z),Ei(o,c,v,p),v=Bn?ef:0,!X&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&J_(o,p,c);else if(o.tag===19)J_(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(S){case"forwards":for(p=c.child,S=null;p!==null;)o=p.alternate,o!==null&&Hp(o)===null&&(S=p),p=p.sibling;p=S,p===null?(S=c.child,c.child=null):(S=p.sibling,p.sibling=null),uw(c,!1,S,p,N,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,S=c.child,c.child=null;S!==null;){if(o=S.alternate,o!==null&&Hp(o)===null){c.child=S;break}o=S.sibling,S.sibling=p,p=S,S=o}uw(c,!0,p,null,N,v);break;case"together":uw(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function Qo(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),$l|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(mu(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,p=ko(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=ko(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function dw(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Mp(o)))}function sD(o,c,p){switch(c.tag){case 3:qe(c,c.stateNode.containerInfo),Ql(c,Xr,o.memoizedState.cache),nc();break;case 27:case 5:Qt(c);break;case 4:qe(c,c.stateNode.containerInfo);break;case 10:Ql(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Lx(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(zl(c),c.flags|=128,null):(p&c.child.childLanes)!==0?Z_(o,c,p):(zl(c),o=Qo(o,c,p),o!==null?o.sibling:null);zl(c);break;case 19:var S=(o.flags&128)!==0;if(v=(p&c.childLanes)!==0,v||(mu(o,c,p,!1),v=(p&c.childLanes)!==0),S){if(v)return eE(o,c,p);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Ne(Hr,Hr.current),v)break;return null;case 22:return c.lanes=0,G_(o,c,p,c.pendingProps);case 24:Ql(c,Xr,o.memoizedState.cache)}return Qo(o,c,p)}function tE(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)Yr=!0;else{if(!dw(o,p)&&(c.flags&128)===0)return Yr=!1,sD(o,c,p);Yr=(o.flags&131072)!==0}else Yr=!1,Bn&&(c.flags&1048576)!==0&&kB(c,ef,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(o=ac(c.elementType),c.type=o,typeof o=="function")mx(o)?(v=cc(o,v),c.tag=1,c=q_(null,c,o,v,p)):(c.tag=0,c=sw(null,c,o,v,p));else{if(o!=null){var S=o.$$typeof;if(S===O){c.tag=11,c=z_(null,c,o,v,p);break e}else if(S===D){c.tag=14,c=V_(null,c,o,v,p);break e}}throw c=te(o)||o,Error(r(306,c,""))}}return c;case 0:return sw(o,c,c.type,c.pendingProps,p);case 1:return v=c.type,S=cc(v,c.pendingProps),q_(o,c,v,S,p);case 3:e:{if(qe(c,c.stateNode.containerInfo),o===null)throw Error(r(387));v=c.pendingProps;var N=c.memoizedState;S=N.element,Mx(o,c),Af(c,v,null,p);var z=c.memoizedState;if(v=z.cache,Ql(c,Xr,v),v!==N.cache&&Ex(c,[Xr],p,!0),lf(),v=z.element,N.isDehydrated)if(N={element:v,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){c=Y_(o,c,v,p);break e}else if(v!==S){S=ca(Error(r(424)),c),tf(S),c=Y_(o,c,v,p);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ar=pa(o.firstChild),Bi=c,Bn=!0,Ll=null,fa=!0,p=GB(c,null,v,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(nc(),v===S){c=Qo(o,c,p);break e}Ei(o,c,v,p)}c=c.child}return c;case 26:return Yp(o,c),o===null?(p=d3(c.type,null,c.pendingProps,null))?c.memoizedState=p:Bn||(p=c.type,o=c.pendingProps,v=hg(De.current).createElement(p),v[it]=c,v[rt]=o,Si(v,p,o),Sn(v),c.stateNode=v):c.memoizedState=d3(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Qt(c),o===null&&Bn&&(v=c.stateNode=A3(c.type,c.pendingProps,De.current),Bi=c,fa=!0,S=Ar,Zl(c.type)?(Kw=S,Ar=pa(v.firstChild)):Ar=S),Ei(o,c,c.pendingProps.children,p),Yp(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Bn&&((S=v=Ar)&&(v=DD(v,c.type,c.pendingProps,fa),v!==null?(c.stateNode=v,Bi=c,Ar=pa(v.firstChild),fa=!1,S=!0):S=!1),S||Ul(c)),Qt(c),S=c.type,N=c.pendingProps,z=o!==null?o.memoizedProps:null,v=N.children,Hw(S,N)?v=null:z!==null&&Hw(S,z)&&(c.flags|=32),c.memoizedState!==null&&(S=Qx(o,c,qF,null,null,p),If._currentValue=S),Yp(o,c),Ei(o,c,v,p),c.child;case 6:return o===null&&Bn&&((o=p=Ar)&&(p=RD(p,c.pendingProps,fa),p!==null?(c.stateNode=p,Bi=c,Ar=null,o=!0):o=!1),o||Ul(c)),null;case 13:return Z_(o,c,p);case 4:return qe(c,c.stateNode.containerInfo),v=c.pendingProps,o===null?c.child=lc(c,null,v,p):Ei(o,c,v,p),c.child;case 11:return z_(o,c,c.type,c.pendingProps,p);case 7:return Ei(o,c,c.pendingProps,p),c.child;case 8:return Ei(o,c,c.pendingProps.children,p),c.child;case 12:return Ei(o,c,c.pendingProps.children,p),c.child;case 10:return v=c.pendingProps,Ql(c,c.type,v.value),Ei(o,c,v.children,p),c.child;case 9:return S=c.type._context,v=c.pendingProps.children,ic(c),S=_i(S),v=v(S),c.flags|=1,Ei(o,c,v,p),c.child;case 14:return V_(o,c,c.type,c.pendingProps,p);case 15:return K_(o,c,c.type,c.pendingProps,p);case 19:return eE(o,c,p);case 31:return iD(o,c,p);case 22:return G_(o,c,p,c.pendingProps);case 24:return ic(c),v=_i(Xr),o===null?(S=Ix(),S===null&&(S=nr,N=Sx(),S.pooledCache=N,N.refCount++,N!==null&&(S.pooledCacheLanes|=p),S=N),c.memoizedState={parent:v,cache:S},Ox(c),Ql(c,Xr,S)):((o.lanes&p)!==0&&(Mx(o,c),Af(c,null,null,p),lf()),S=o.memoizedState,N=c.memoizedState,S.parent!==v?(S={parent:v,cache:v},c.memoizedState=S,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=S),Ql(c,Xr,v)):(v=N.cache,Ql(c,Xr,v),v!==S.cache&&Ex(c,[Xr],p,!0))),Ei(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Ho(o){o.flags|=4}function fw(o,c,p,v,S){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(S&335544128)===S)if(o.stateNode.complete)o.flags|=8192;else if(TE())o.flags|=8192;else throw oc=Rp,Nx}else o.flags&=-16777217}function nE(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!m3(c))if(TE())o.flags|=8192;else throw oc=Rp,Nx}function Jp(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Zn():536870912,o.lanes|=c,Iu|=c)}function pf(o,c){if(!Bn)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function cr(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(c)for(var S=o.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=v,o.childLanes=p,c}function aD(o,c,p){var v=c.pendingProps;switch(vx(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(c),null;case 1:return cr(c),null;case 3:return p=c.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),Ro(Xr),vt(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(gu(c)?Ho(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Cx())),cr(c),null;case 26:var S=c.type,N=c.memoizedState;return o===null?(Ho(c),N!==null?(cr(c),nE(c,N)):(cr(c),fw(c,S,null,v,p))):N?N!==o.memoizedState?(Ho(c),cr(c),nE(c,N)):(cr(c),c.flags&=-16777217):(o=o.memoizedProps,o!==v&&Ho(c),cr(c),fw(c,S,o,v,p)),null;case 27:if(pt(c),p=De.current,S=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&Ho(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return cr(c),null}o=ye.current,gu(c)?DB(c):(o=A3(S,v,p),c.stateNode=o,Ho(c))}return cr(c),null;case 5:if(pt(c),S=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==v&&Ho(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return cr(c),null}if(N=ye.current,gu(c))DB(c);else{var z=hg(De.current);switch(N){case 1:N=z.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:N=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":N=z.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":N=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":N=z.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof v.is=="string"?z.createElement("select",{is:v.is}):z.createElement("select"),v.multiple?N.multiple=!0:v.size&&(N.size=v.size);break;default:N=typeof v.is=="string"?z.createElement(S,{is:v.is}):z.createElement(S)}}N[it]=c,N[rt]=v;e:for(z=c.child;z!==null;){if(z.tag===5||z.tag===6)N.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===c)break e;for(;z.sibling===null;){if(z.return===null||z.return===c)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}c.stateNode=N;e:switch(Si(N,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Ho(c)}}return cr(c),fw(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,p),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==v&&Ho(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(o=De.current,gu(c)){if(o=c.stateNode,p=c.memoizedProps,v=null,S=Bi,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}o[it]=c,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||ZE(o.nodeValue,p)),o||Ul(c,!0)}else o=hg(o).createTextNode(v),o[it]=c,c.stateNode=o}return cr(c),null;case 31:if(p=c.memoizedState,o===null||o.memoizedState!==null){if(v=gu(c),p!==null){if(o===null){if(!v)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[it]=c}else nc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;cr(c),o=!1}else p=Cx(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=p),o=!0;if(!o)return c.flags&256?(Gs(c),c):(Gs(c),null);if((c.flags&128)!==0)throw Error(r(558))}return cr(c),null;case 13:if(v=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(S=gu(c),v!==null&&v.dehydrated!==null){if(o===null){if(!S)throw Error(r(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[it]=c}else nc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;cr(c),S=!1}else S=Cx(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=S),S=!0;if(!S)return c.flags&256?(Gs(c),c):(Gs(c),null)}return Gs(c),(c.flags&128)!==0?(c.lanes=p,c):(p=v!==null,o=o!==null&&o.memoizedState!==null,p&&(v=c.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),N=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(N=v.memoizedState.cachePool.pool),N!==S&&(v.flags|=2048)),p!==o&&p&&(c.child.flags|=8192),Jp(c,c.updateQueue),cr(c),null);case 4:return vt(),o===null&&Dw(c.stateNode.containerInfo),cr(c),null;case 10:return Ro(c.type),cr(c),null;case 19:if(he(Hr),v=c.memoizedState,v===null)return cr(c),null;if(S=(c.flags&128)!==0,N=v.rendering,N===null)if(S)pf(v,!1);else{if(Or!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(N=Hp(o),N!==null){for(c.flags|=128,pf(v,!1),o=N.updateQueue,c.updateQueue=o,Jp(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)NB(p,o),p=p.sibling;return Ne(Hr,Hr.current&1|2),Bn&&Fo(c,v.treeForkCount),c.child}o=o.sibling}v.tail!==null&&$e()>ig&&(c.flags|=128,S=!0,pf(v,!1),c.lanes=4194304)}else{if(!S)if(o=Hp(N),o!==null){if(c.flags|=128,S=!0,o=o.updateQueue,c.updateQueue=o,Jp(c,o),pf(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!Bn)return cr(c),null}else 2*$e()-v.renderingStartTime>ig&&p!==536870912&&(c.flags|=128,S=!0,pf(v,!1),c.lanes=4194304);v.isBackwards?(N.sibling=c.child,c.child=N):(o=v.last,o!==null?o.sibling=N:c.child=N,v.last=N)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=$e(),o.sibling=null,p=Hr.current,Ne(Hr,S?p&1|2:p&1),Bn&&Fo(c,v.treeForkCount),o):(cr(c),null);case 22:case 23:return Gs(c),Rx(),v=c.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(p&536870912)!==0&&(c.flags&128)===0&&(cr(c),c.subtreeFlags&6&&(c.flags|=8192)):cr(c),p=c.updateQueue,p!==null&&Jp(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048),o!==null&&he(sc),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Ro(Xr),cr(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function oD(o,c){switch(vx(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ro(Xr),vt(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return pt(c),null;case 31:if(c.memoizedState!==null){if(Gs(c),c.alternate===null)throw Error(r(340));nc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Gs(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));nc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return he(Hr),null;case 4:return vt(),null;case 10:return Ro(c.type),null;case 22:case 23:return Gs(c),Rx(),o!==null&&he(sc),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Ro(Xr),null;case 25:return null;default:return null}}function rE(o,c){switch(vx(c),c.tag){case 3:Ro(Xr),vt();break;case 26:case 27:case 5:pt(c);break;case 4:vt();break;case 31:c.memoizedState!==null&&Gs(c);break;case 13:Gs(c);break;case 19:he(Hr);break;case 10:Ro(c.type);break;case 22:case 23:Gs(c),Rx(),o!==null&&he(sc);break;case 24:Ro(Xr)}}function gf(o,c){try{var p=c.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var S=v.next;p=S;do{if((p.tag&o)===o){v=void 0;var N=p.create,z=p.inst;v=N(),z.destroy=v}p=p.next}while(p!==S)}}catch(X){jn(c,c.return,X)}}function Kl(o,c,p){try{var v=c.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var N=S.next;v=N;do{if((v.tag&o)===o){var z=v.inst,X=z.destroy;if(X!==void 0){z.destroy=void 0,S=c;var le=p,be=X;try{be()}catch(Qe){jn(S,le,Qe)}}}v=v.next}while(v!==N)}}catch(Qe){jn(c,c.return,Qe)}}function iE(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{WB(c,p)}catch(v){jn(o,o.return,v)}}}function sE(o,c,p){p.props=cc(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){jn(o,c,v)}}function mf(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(S){jn(o,c,S)}}function to(o,c){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(S){jn(o,c,S)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){jn(o,c,S)}else p.current=null}function aE(o){var c=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(S){jn(o,o.return,S)}}function hw(o,c,p){try{var v=o.stateNode;ID(v,o.type,p,c),v[rt]=c}catch(S){jn(o,o.return,S)}}function oE(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Zl(o.type)||o.tag===4}function pw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||oE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Zl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function gw(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=ys));else if(v!==4&&(v===27&&Zl(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(gw(o,c,p),o=o.sibling;o!==null;)gw(o,c,p),o=o.sibling}function eg(o,c,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(v!==4&&(v===27&&Zl(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(eg(o,c,p),o=o.sibling;o!==null;)eg(o,c,p),o=o.sibling}function lE(o){var c=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,S=c.attributes;S.length;)c.removeAttributeNode(S[0]);Si(c,v,p),c[it]=o,c[rt]=p}catch(N){jn(o,o.return,N)}}var jo=!1,Zr=!1,mw=!1,AE=typeof WeakSet=="function"?WeakSet:Set,hi=null;function lD(o,c){if(o=o.containerInfo,Uw=vg,o=G(o),$(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var S=v.anchorOffset,N=v.focusNode;v=v.focusOffset;try{p.nodeType,N.nodeType}catch{p=null;break e}var z=0,X=-1,le=-1,be=0,Qe=0,je=o,Be=null;t:for(;;){for(var Me;je!==p||S!==0&&je.nodeType!==3||(X=z+S),je!==N||v!==0&&je.nodeType!==3||(le=z+v),je.nodeType===3&&(z+=je.nodeValue.length),(Me=je.firstChild)!==null;)Be=je,je=Me;for(;;){if(je===o)break t;if(Be===p&&++be===S&&(X=z),Be===N&&++Qe===v&&(le=z),(Me=je.nextSibling)!==null)break;je=Be,Be=je.parentNode}je=Me}p=X===-1||le===-1?null:{start:X,end:le}}else p=null}p=p||{start:0,end:0}}else p=null;for(Qw={focusedElem:o,selectionRange:p},vg=!1,hi=c;hi!==null;)if(c=hi,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,hi=o;else for(;hi!==null;){switch(c=hi,N=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(p=0;p<o.length;p++)S=o[p],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&N!==null){o=void 0,p=c,S=N.memoizedProps,N=N.memoizedState,v=p.stateNode;try{var mt=cc(p.type,S);o=v.getSnapshotBeforeUpdate(mt,N),v.__reactInternalSnapshotBeforeUpdate=o}catch(Ft){jn(p,p.return,Ft)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)Pw(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Pw(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,hi=o;break}hi=c.return}}function cE(o,c,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:zo(o,p),v&4&&gf(5,p);break;case 1:if(zo(o,p),v&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(z){jn(p,p.return,z)}else{var S=cc(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(S,c,o.__reactInternalSnapshotBeforeUpdate)}catch(z){jn(p,p.return,z)}}v&64&&iE(p),v&512&&mf(p,p.return);break;case 3:if(zo(o,p),v&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{WB(o,c)}catch(z){jn(p,p.return,z)}}break;case 27:c===null&&v&4&&lE(p);case 26:case 5:zo(o,p),c===null&&v&4&&aE(p),v&512&&mf(p,p.return);break;case 12:zo(o,p);break;case 31:zo(o,p),v&4&&fE(o,p);break;case 13:zo(o,p),v&4&&hE(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=mD.bind(null,p),LD(o,p))));break;case 22:if(v=p.memoizedState!==null||jo,!v){c=c!==null&&c.memoizedState!==null||Zr,S=jo;var N=Zr;jo=v,(Zr=c)&&!N?Vo(o,p,(p.subtreeFlags&8772)!==0):zo(o,p),jo=S,Zr=N}break;case 30:break;default:zo(o,p)}}function uE(o){var c=o.alternate;c!==null&&(o.alternate=null,uE(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&en(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var mr=null,Cs=!1;function Po(o,c,p){for(p=p.child;p!==null;)dE(o,c,p),p=p.sibling}function dE(o,c,p){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(_e,p)}catch{}switch(p.tag){case 26:Zr||to(p,c),Po(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Zr||to(p,c);var v=mr,S=Cs;Zl(p.type)&&(mr=p.stateNode,Cs=!1),Po(o,c,p),Ef(p.stateNode),mr=v,Cs=S;break;case 5:Zr||to(p,c);case 6:if(v=mr,S=Cs,mr=null,Po(o,c,p),mr=v,Cs=S,mr!==null)if(Cs)try{(mr.nodeType===9?mr.body:mr.nodeName==="HTML"?mr.ownerDocument.body:mr).removeChild(p.stateNode)}catch(N){jn(p,c,N)}else try{mr.removeChild(p.stateNode)}catch(N){jn(p,c,N)}break;case 18:mr!==null&&(Cs?(o=mr,i3(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),Lu(o)):i3(mr,p.stateNode));break;case 4:v=mr,S=Cs,mr=p.stateNode.containerInfo,Cs=!0,Po(o,c,p),mr=v,Cs=S;break;case 0:case 11:case 14:case 15:Kl(2,p,c),Zr||Kl(4,p,c),Po(o,c,p);break;case 1:Zr||(to(p,c),v=p.stateNode,typeof v.componentWillUnmount=="function"&&sE(p,c,v)),Po(o,c,p);break;case 21:Po(o,c,p);break;case 22:Zr=(v=Zr)||p.memoizedState!==null,Po(o,c,p),Zr=v;break;default:Po(o,c,p)}}function fE(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Lu(o)}catch(p){jn(c,c.return,p)}}}function hE(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Lu(o)}catch(p){jn(c,c.return,p)}}function AD(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new AE),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new AE),c;default:throw Error(r(435,o.tag))}}function tg(o,c){var p=AD(o);c.forEach(function(v){if(!p.has(v)){p.add(v);var S=xD.bind(null,o,v);v.then(S,S)}})}function Bs(o,c){var p=c.deletions;if(p!==null)for(var v=0;v<p.length;v++){var S=p[v],N=o,z=c,X=z;e:for(;X!==null;){switch(X.tag){case 27:if(Zl(X.type)){mr=X.stateNode,Cs=!1;break e}break;case 5:mr=X.stateNode,Cs=!1;break e;case 3:case 4:mr=X.stateNode.containerInfo,Cs=!0;break e}X=X.return}if(mr===null)throw Error(r(160));dE(N,z,S),mr=null,Cs=!1,N=S.alternate,N!==null&&(N.return=null),S.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)pE(c,o),c=c.sibling}var Ua=null;function pE(o,c){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Bs(c,o),_s(o),v&4&&(Kl(3,o,o.return),gf(3,o),Kl(5,o,o.return));break;case 1:Bs(c,o),_s(o),v&512&&(Zr||p===null||to(p,p.return)),v&64&&jo&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var S=Ua;if(Bs(c,o),_s(o),v&512&&(Zr||p===null||to(p,p.return)),v&4){var N=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":N=S.getElementsByTagName("title")[0],(!N||N[sr]||N[it]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=S.createElement(v),S.head.insertBefore(N,S.querySelector("head > title"))),Si(N,v,p),N[it]=o,Sn(N),v=N;break e;case"link":var z=p3("link","href",S).get(v+(p.href||""));if(z){for(var X=0;X<z.length;X++)if(N=z[X],N.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&N.getAttribute("rel")===(p.rel==null?null:p.rel)&&N.getAttribute("title")===(p.title==null?null:p.title)&&N.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){z.splice(X,1);break t}}N=S.createElement(v),Si(N,v,p),S.head.appendChild(N);break;case"meta":if(z=p3("meta","content",S).get(v+(p.content||""))){for(X=0;X<z.length;X++)if(N=z[X],N.getAttribute("content")===(p.content==null?null:""+p.content)&&N.getAttribute("name")===(p.name==null?null:p.name)&&N.getAttribute("property")===(p.property==null?null:p.property)&&N.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&N.getAttribute("charset")===(p.charSet==null?null:p.charSet)){z.splice(X,1);break t}}N=S.createElement(v),Si(N,v,p),S.head.appendChild(N);break;default:throw Error(r(468,v))}N[it]=o,Sn(N),v=N}o.stateNode=v}else g3(S,o.type,o.stateNode);else o.stateNode=h3(S,v,o.memoizedProps);else N!==v?(N===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):N.count--,v===null?g3(S,o.type,o.stateNode):h3(S,v,o.memoizedProps)):v===null&&o.stateNode!==null&&hw(o,o.memoizedProps,p.memoizedProps)}break;case 27:Bs(c,o),_s(o),v&512&&(Zr||p===null||to(p,p.return)),p!==null&&v&4&&hw(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Bs(c,o),_s(o),v&512&&(Zr||p===null||to(p,p.return)),o.flags&32){S=o.stateNode;try{Sl(S,"")}catch(mt){jn(o,o.return,mt)}}v&4&&o.stateNode!=null&&(S=o.memoizedProps,hw(o,S,p!==null?p.memoizedProps:S)),v&1024&&(mw=!0);break;case 6:if(Bs(c,o),_s(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(mt){jn(o,o.return,mt)}}break;case 3:if(mg=null,S=Ua,Ua=pg(c.containerInfo),Bs(c,o),Ua=S,_s(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{Lu(c.containerInfo)}catch(mt){jn(o,o.return,mt)}mw&&(mw=!1,gE(o));break;case 4:v=Ua,Ua=pg(o.stateNode.containerInfo),Bs(c,o),_s(o),Ua=v;break;case 12:Bs(c,o),_s(o);break;case 31:Bs(c,o),_s(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,tg(o,v)));break;case 13:Bs(c,o),_s(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(rg=$e()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,tg(o,v)));break;case 22:S=o.memoizedState!==null;var le=p!==null&&p.memoizedState!==null,be=jo,Qe=Zr;if(jo=be||S,Zr=Qe||le,Bs(c,o),Zr=Qe,jo=be,_s(o),v&8192)e:for(c=o.stateNode,c._visibility=S?c._visibility&-2:c._visibility|1,S&&(p===null||le||jo||Zr||uc(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){le=p=c;try{if(N=le.stateNode,S)z=N.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{X=le.stateNode;var je=le.memoizedProps.style,Be=je!=null&&je.hasOwnProperty("display")?je.display:null;X.style.display=Be==null||typeof Be=="boolean"?"":(""+Be).trim()}}catch(mt){jn(le,le.return,mt)}}}else if(c.tag===6){if(p===null){le=c;try{le.stateNode.nodeValue=S?"":le.memoizedProps}catch(mt){jn(le,le.return,mt)}}}else if(c.tag===18){if(p===null){le=c;try{var Me=le.stateNode;S?s3(Me,!0):s3(le.stateNode,!1)}catch(mt){jn(le,le.return,mt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,tg(o,p))));break;case 19:Bs(c,o),_s(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,tg(o,v)));break;case 30:break;case 21:break;default:Bs(c,o),_s(o)}}function _s(o){var c=o.flags;if(c&2){try{for(var p,v=o.return;v!==null;){if(oE(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var S=p.stateNode,N=pw(o);eg(o,N,S);break;case 5:var z=p.stateNode;p.flags&32&&(Sl(z,""),p.flags&=-33);var X=pw(o);eg(o,X,z);break;case 3:case 4:var le=p.stateNode.containerInfo,be=pw(o);gw(o,be,le);break;default:throw Error(r(161))}}catch(Qe){jn(o,o.return,Qe)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function gE(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;gE(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function zo(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)cE(o,c.alternate,c),c=c.sibling}function uc(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Kl(4,c,c.return),uc(c);break;case 1:to(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&sE(c,c.return,p),uc(c);break;case 27:Ef(c.stateNode);case 26:case 5:to(c,c.return),uc(c);break;case 22:c.memoizedState===null&&uc(c);break;case 30:uc(c);break;default:uc(c)}o=o.sibling}}function Vo(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,S=o,N=c,z=N.flags;switch(N.tag){case 0:case 11:case 15:Vo(S,N,p),gf(4,N);break;case 1:if(Vo(S,N,p),v=N,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(be){jn(v,v.return,be)}if(v=N,S=v.updateQueue,S!==null){var X=v.stateNode;try{var le=S.shared.hiddenCallbacks;if(le!==null)for(S.shared.hiddenCallbacks=null,S=0;S<le.length;S++)$B(le[S],X)}catch(be){jn(v,v.return,be)}}p&&z&64&&iE(N),mf(N,N.return);break;case 27:lE(N);case 26:case 5:Vo(S,N,p),p&&v===null&&z&4&&aE(N),mf(N,N.return);break;case 12:Vo(S,N,p);break;case 31:Vo(S,N,p),p&&z&4&&fE(S,N);break;case 13:Vo(S,N,p),p&&z&4&&hE(S,N);break;case 22:N.memoizedState===null&&Vo(S,N,p),mf(N,N.return);break;case 30:break;default:Vo(S,N,p)}c=c.sibling}}function xw(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&nf(p))}function ww(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&nf(o))}function Qa(o,c,p,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)mE(o,c,p,v),c=c.sibling}function mE(o,c,p,v){var S=c.flags;switch(c.tag){case 0:case 11:case 15:Qa(o,c,p,v),S&2048&&gf(9,c);break;case 1:Qa(o,c,p,v);break;case 3:Qa(o,c,p,v),S&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&nf(o)));break;case 12:if(S&2048){Qa(o,c,p,v),o=c.stateNode;try{var N=c.memoizedProps,z=N.id,X=N.onPostCommit;typeof X=="function"&&X(z,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(le){jn(c,c.return,le)}}else Qa(o,c,p,v);break;case 31:Qa(o,c,p,v);break;case 13:Qa(o,c,p,v);break;case 23:break;case 22:N=c.stateNode,z=c.alternate,c.memoizedState!==null?N._visibility&2?Qa(o,c,p,v):xf(o,c):N._visibility&2?Qa(o,c,p,v):(N._visibility|=2,Eu(o,c,p,v,(c.subtreeFlags&10256)!==0||!1)),S&2048&&xw(z,c);break;case 24:Qa(o,c,p,v),S&2048&&ww(c.alternate,c);break;default:Qa(o,c,p,v)}}function Eu(o,c,p,v,S){for(S=S&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var N=o,z=c,X=p,le=v,be=z.flags;switch(z.tag){case 0:case 11:case 15:Eu(N,z,X,le,S),gf(8,z);break;case 23:break;case 22:var Qe=z.stateNode;z.memoizedState!==null?Qe._visibility&2?Eu(N,z,X,le,S):xf(N,z):(Qe._visibility|=2,Eu(N,z,X,le,S)),S&&be&2048&&xw(z.alternate,z);break;case 24:Eu(N,z,X,le,S),S&&be&2048&&ww(z.alternate,z);break;default:Eu(N,z,X,le,S)}c=c.sibling}}function xf(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,v=c,S=v.flags;switch(v.tag){case 22:xf(p,v),S&2048&&xw(v.alternate,v);break;case 24:xf(p,v),S&2048&&ww(v.alternate,v);break;default:xf(p,v)}c=c.sibling}}var wf=8192;function Su(o,c,p){if(o.subtreeFlags&wf)for(o=o.child;o!==null;)xE(o,c,p),o=o.sibling}function xE(o,c,p){switch(o.tag){case 26:Su(o,c,p),o.flags&wf&&o.memoizedState!==null&&XD(p,Ua,o.memoizedState,o.memoizedProps);break;case 5:Su(o,c,p);break;case 3:case 4:var v=Ua;Ua=pg(o.stateNode.containerInfo),Su(o,c,p),Ua=v;break;case 22:o.memoizedState===null&&(v=o.alternate,v!==null&&v.memoizedState!==null?(v=wf,wf=16777216,Su(o,c,p),wf=v):Su(o,c,p));break;default:Su(o,c,p)}}function wE(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function yf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];hi=v,vE(v,o)}wE(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yE(o),o=o.sibling}function yE(o){switch(o.tag){case 0:case 11:case 15:yf(o),o.flags&2048&&Kl(9,o,o.return);break;case 3:yf(o);break;case 12:yf(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,ng(o)):yf(o);break;default:yf(o)}}function ng(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var v=c[p];hi=v,vE(v,o)}wE(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Kl(8,c,c.return),ng(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,ng(c));break;default:ng(c)}o=o.sibling}}function vE(o,c){for(;hi!==null;){var p=hi;switch(p.tag){case 0:case 11:case 15:Kl(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:nf(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,hi=v;else e:for(p=o;hi!==null;){v=hi;var S=v.sibling,N=v.return;if(uE(v),v===p){hi=null;break e}if(S!==null){S.return=N,hi=S;break e}hi=N}}}var cD={getCacheForType:function(o){var c=_i(Xr),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p},cacheSignal:function(){return _i(Xr).controller.signal}},uD=typeof WeakMap=="function"?WeakMap:Map,Mn=0,nr=null,hn=null,wn=0,Hn=0,$s=null,Gl=!1,Tu=!1,yw=!1,Ko=0,Or=0,$l=0,dc=0,vw=0,Ws=0,Iu=0,vf=null,Es=null,bw=!1,rg=0,bE=0,ig=1/0,sg=null,Wl=null,li=0,Xl=null,Nu=null,Go=0,Cw=0,Bw=null,CE=null,bf=0,_w=null;function Xs(){return(Mn&2)!==0&&wn!==0?wn&-wn:ie.T!==null?Ow():ot()}function BE(){if(Ws===0)if((wn&536870912)===0||Bn){var o=Ct;Ct<<=1,(Ct&3932160)===0&&(Ct=262144),Ws=o}else Ws=536870912;return o=Ks.current,o!==null&&(o.flags|=32),Ws}function Ss(o,c,p){(o===nr&&(Hn===2||Hn===9)||o.cancelPendingCommit!==null)&&(Ou(o,0),ql(o,wn,Ws,!1)),aa(o,p),((Mn&2)===0||o!==nr)&&(o===nr&&((Mn&2)===0&&(dc|=p),Or===4&&ql(o,wn,Ws,!1)),no(o))}function _E(o,c,p){if((Mn&6)!==0)throw Error(r(327));var v=!p&&(c&127)===0&&(c&o.expiredLanes)===0||$n(o,c),S=v?hD(o,c):Sw(o,c,!0),N=v;do{if(S===0){Tu&&!v&&ql(o,c,0,!1);break}else{if(p=o.current.alternate,N&&!dD(p)){S=Sw(o,c,!1),N=!1;continue}if(S===2){if(N=c,o.errorRecoveryDisabledLanes&N)var z=0;else z=o.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;e:{var X=o;S=vf;var le=X.current.memoizedState.isDehydrated;if(le&&(Ou(X,z).flags|=256),z=Sw(X,z,!1),z!==2){if(yw&&!le){X.errorRecoveryDisabledLanes|=N,dc|=N,S=4;break e}N=Es,Es=S,N!==null&&(Es===null?Es=N:Es.push.apply(Es,N))}S=z}if(N=!1,S!==2)continue}}if(S===1){Ou(o,0),ql(o,c,0,!0);break}e:{switch(v=o,N=S,N){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:ql(v,c,Ws,!Gl);break e;case 2:Es=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(S=rg+300-$e(),10<S)){if(ql(v,c,Ws,!Gl),Di(v,0,!0)!==0)break e;Go=c,v.timeoutHandle=n3(EE.bind(null,v,p,Es,sg,bw,c,Ws,dc,Iu,Gl,N,"Throttled",-0,0),S);break e}EE(v,p,Es,sg,bw,c,Ws,dc,Iu,Gl,N,null,-0,0)}}break}while(!0);no(o)}function EE(o,c,p,v,S,N,z,X,le,be,Qe,je,Be,Me){if(o.timeoutHandle=-1,je=c.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ys},xE(c,N,je);var mt=(N&62914560)===N?rg-$e():(N&4194048)===N?bE-$e():0;if(mt=qD(je,mt),mt!==null){Go=N,o.cancelPendingCommit=mt(FE.bind(null,o,c,N,p,v,S,z,X,le,Qe,je,null,Be,Me)),ql(o,N,z,!be);return}}FE(o,c,N,p,v,S,z,X,le)}function dD(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var S=p[v],N=S.getSnapshot;S=S.value;try{if(!b(N(),S))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ql(o,c,p,v){c&=~vw,c&=~dc,o.suspendedLanes|=c,o.pingedLanes&=~c,v&&(o.warmLanes|=c),v=o.expirationTimes;for(var S=c;0<S;){var N=31-ze(S),z=1<<N;v[N]=-1,S&=~z}p!==0&&oe(o,p,c)}function ag(){return(Mn&6)===0?(Cf(0),!1):!0}function Ew(){if(hn!==null){if(Hn===0)var o=hn.return;else o=hn,Do=rc=null,Px(o),vu=null,sf=0,o=hn;for(;o!==null;)rE(o.alternate,o),o=o.return;hn=null}}function Ou(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,MD(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),Go=0,Ew(),nr=o,hn=p=ko(o.current,null),wn=c,Hn=0,$s=null,Gl=!1,Tu=$n(o,c),yw=!1,Iu=Ws=vw=dc=$l=Or=0,Es=vf=null,bw=!1,(c&8)!==0&&(c|=c&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=c;0<v;){var S=31-ze(v),N=1<<S;c|=o[S],v&=~N}return Ko=c,Sp(),p}function SE(o,c){Xt=null,ie.H=ff,c===yu||c===Dp?(c=zB(),Hn=3):c===Nx?(c=zB(),Hn=4):Hn=c===iw?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,$s=c,hn===null&&(Or=1,Xp(o,ca(c,o.current)))}function TE(){var o=Ks.current;return o===null?!0:(wn&4194048)===wn?ha===null:(wn&62914560)===wn||(wn&536870912)!==0?o===ha:!1}function IE(){var o=ie.H;return ie.H=ff,o===null?ff:o}function NE(){var o=ie.A;return ie.A=cD,o}function og(){Or=4,Gl||(wn&4194048)!==wn&&Ks.current!==null||(Tu=!0),($l&134217727)===0&&(dc&134217727)===0||nr===null||ql(nr,wn,Ws,!1)}function Sw(o,c,p){var v=Mn;Mn|=2;var S=IE(),N=NE();(nr!==o||wn!==c)&&(sg=null,Ou(o,c)),c=!1;var z=Or;e:do try{if(Hn!==0&&hn!==null){var X=hn,le=$s;switch(Hn){case 8:Ew(),z=6;break e;case 3:case 2:case 9:case 6:Ks.current===null&&(c=!0);var be=Hn;if(Hn=0,$s=null,Mu(o,X,le,be),p&&Tu){z=0;break e}break;default:be=Hn,Hn=0,$s=null,Mu(o,X,le,be)}}fD(),z=Or;break}catch(Qe){SE(o,Qe)}while(!0);return c&&o.shellSuspendCounter++,Do=rc=null,Mn=v,ie.H=S,ie.A=N,hn===null&&(nr=null,wn=0,Sp()),z}function fD(){for(;hn!==null;)OE(hn)}function hD(o,c){var p=Mn;Mn|=2;var v=IE(),S=NE();nr!==o||wn!==c?(sg=null,ig=$e()+500,Ou(o,c)):Tu=$n(o,c);e:do try{if(Hn!==0&&hn!==null){c=hn;var N=$s;t:switch(Hn){case 1:Hn=0,$s=null,Mu(o,c,N,1);break;case 2:case 9:if(jB(N)){Hn=0,$s=null,ME(c);break}c=function(){Hn!==2&&Hn!==9||nr!==o||(Hn=7),no(o)},N.then(c,c);break e;case 3:Hn=7;break e;case 4:Hn=5;break e;case 7:jB(N)?(Hn=0,$s=null,ME(c)):(Hn=0,$s=null,Mu(o,c,N,7));break;case 5:var z=null;switch(hn.tag){case 26:z=hn.memoizedState;case 5:case 27:var X=hn;if(z?m3(z):X.stateNode.complete){Hn=0,$s=null;var le=X.sibling;if(le!==null)hn=le;else{var be=X.return;be!==null?(hn=be,lg(be)):hn=null}break t}}Hn=0,$s=null,Mu(o,c,N,5);break;case 6:Hn=0,$s=null,Mu(o,c,N,6);break;case 8:Ew(),Or=6;break e;default:throw Error(r(462))}}pD();break}catch(Qe){SE(o,Qe)}while(!0);return Do=rc=null,ie.H=v,ie.A=S,Mn=p,hn!==null?0:(nr=null,wn=0,Sp(),Or)}function pD(){for(;hn!==null&&!qi();)OE(hn)}function OE(o){var c=tE(o.alternate,o,Ko);o.memoizedProps=o.pendingProps,c===null?lg(o):hn=c}function ME(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=X_(p,c,c.pendingProps,c.type,void 0,wn);break;case 11:c=X_(p,c,c.pendingProps,c.type.render,c.ref,wn);break;case 5:Px(c);default:rE(p,c),c=hn=NB(c,Ko),c=tE(p,c,Ko)}o.memoizedProps=o.pendingProps,c===null?lg(o):hn=c}function Mu(o,c,p,v){Do=rc=null,Px(c),vu=null,sf=0;var S=c.return;try{if(rD(o,S,c,p,wn)){Or=1,Xp(o,ca(p,o.current)),hn=null;return}}catch(N){if(S!==null)throw hn=S,N;Or=1,Xp(o,ca(p,o.current)),hn=null;return}c.flags&32768?(Bn||v===1?o=!0:Tu||(wn&536870912)!==0?o=!1:(Gl=o=!0,(v===2||v===9||v===3||v===6)&&(v=Ks.current,v!==null&&v.tag===13&&(v.flags|=16384))),kE(c,o)):lg(c)}function lg(o){var c=o;do{if((c.flags&32768)!==0){kE(c,Gl);return}o=c.return;var p=aD(c.alternate,c,Ko);if(p!==null){hn=p;return}if(c=c.sibling,c!==null){hn=c;return}hn=c=o}while(c!==null);Or===0&&(Or=5)}function kE(o,c){do{var p=oD(o.alternate,o);if(p!==null){p.flags&=32767,hn=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){hn=o;return}hn=o=p}while(o!==null);Or=6,hn=null}function FE(o,c,p,v,S,N,z,X,le){o.cancelPendingCommit=null;do Ag();while(li!==0);if((Mn&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(N=c.lanes|c.childLanes,N|=px,xs(o,p,N,z,X,le),o===nr&&(hn=nr=null,wn=0),Nu=c,Xl=o,Go=p,Cw=N,Bw=S,CE=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,wD(Re,function(){return QE(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=ie.T,ie.T=null,S=ae.p,ae.p=2,z=Mn,Mn|=4;try{lD(o,c,p)}finally{Mn=z,ae.p=S,ie.T=v}}li=1,DE(),RE(),LE()}}function DE(){if(li===1){li=0;var o=Xl,c=Nu,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=ie.T,ie.T=null;var v=ae.p;ae.p=2;var S=Mn;Mn|=4;try{pE(c,o);var N=Qw,z=G(o.containerInfo),X=N.focusedElem,le=N.selectionRange;if(z!==X&&X&&X.ownerDocument&&P(X.ownerDocument.documentElement,X)){if(le!==null&&$(X)){var be=le.start,Qe=le.end;if(Qe===void 0&&(Qe=be),"selectionStart"in X)X.selectionStart=be,X.selectionEnd=Math.min(Qe,X.value.length);else{var je=X.ownerDocument||document,Be=je&&je.defaultView||window;if(Be.getSelection){var Me=Be.getSelection(),mt=X.textContent.length,Ft=Math.min(le.start,mt),qn=le.end===void 0?Ft:Math.min(le.end,mt);!Me.extend&&Ft>qn&&(z=qn,qn=Ft,Ft=z);var pe=k(X,Ft),ue=k(X,qn);if(pe&&ue&&(Me.rangeCount!==1||Me.anchorNode!==pe.node||Me.anchorOffset!==pe.offset||Me.focusNode!==ue.node||Me.focusOffset!==ue.offset)){var ve=je.createRange();ve.setStart(pe.node,pe.offset),Me.removeAllRanges(),Ft>qn?(Me.addRange(ve),Me.extend(ue.node,ue.offset)):(ve.setEnd(ue.node,ue.offset),Me.addRange(ve))}}}}for(je=[],Me=X;Me=Me.parentNode;)Me.nodeType===1&&je.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<je.length;X++){var He=je[X];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}vg=!!Uw,Qw=Uw=null}finally{Mn=S,ae.p=v,ie.T=p}}o.current=c,li=2}}function RE(){if(li===2){li=0;var o=Xl,c=Nu,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=ie.T,ie.T=null;var v=ae.p;ae.p=2;var S=Mn;Mn|=4;try{cE(o,c.alternate,c)}finally{Mn=S,ae.p=v,ie.T=p}}li=3}}function LE(){if(li===4||li===3){li=0,ui();var o=Xl,c=Nu,p=Go,v=CE;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?li=5:(li=0,Nu=Xl=null,UE(o,o.pendingLanes));var S=o.pendingLanes;if(S===0&&(Wl=null),tt(p),c=c.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(_e,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=ie.T,S=ae.p,ae.p=2,ie.T=null;try{for(var N=o.onRecoverableError,z=0;z<v.length;z++){var X=v[z];N(X.value,{componentStack:X.stack})}}finally{ie.T=c,ae.p=S}}(Go&3)!==0&&Ag(),no(o),S=o.pendingLanes,(p&261930)!==0&&(S&42)!==0?o===_w?bf++:(bf=0,_w=o):bf=0,Cf(0)}}function UE(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,nf(c)))}function Ag(){return DE(),RE(),LE(),QE()}function QE(){if(li!==5)return!1;var o=Xl,c=Cw;Cw=0;var p=tt(Go),v=ie.T,S=ae.p;try{ae.p=32>p?32:p,ie.T=null,p=Bw,Bw=null;var N=Xl,z=Go;if(li=0,Nu=Xl=null,Go=0,(Mn&6)!==0)throw Error(r(331));var X=Mn;if(Mn|=4,yE(N.current),mE(N,N.current,z,p),Mn=X,Cf(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(_e,N)}catch{}return!0}finally{ae.p=S,ie.T=v,UE(o,c)}}function HE(o,c,p){c=ca(p,c),c=rw(o.stateNode,c,2),o=Pl(o,c,2),o!==null&&(aa(o,2),no(o))}function jn(o,c,p){if(o.tag===3)HE(o,o,p);else for(;c!==null;){if(c.tag===3){HE(c,o,p);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Wl===null||!Wl.has(v))){o=ca(p,o),p=j_(2),v=Pl(c,p,2),v!==null&&(P_(p,v,c,o),aa(v,2),no(v));break}}c=c.return}}function Tw(o,c,p){var v=o.pingCache;if(v===null){v=o.pingCache=new uD;var S=new Set;v.set(c,S)}else S=v.get(c),S===void 0&&(S=new Set,v.set(c,S));S.has(p)||(yw=!0,S.add(p),o=gD.bind(null,o,c,p),c.then(o,o))}function gD(o,c,p){var v=o.pingCache;v!==null&&v.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,nr===o&&(wn&p)===p&&(Or===4||Or===3&&(wn&62914560)===wn&&300>$e()-rg?(Mn&2)===0&&Ou(o,0):vw|=p,Iu===wn&&(Iu=0)),no(o)}function jE(o,c){c===0&&(c=Zn()),o=ec(o,c),o!==null&&(aa(o,c),no(o))}function mD(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),jE(o,p)}function xD(o,c){var p=0;switch(o.tag){case 31:case 13:var v=o.stateNode,S=o.memoizedState;S!==null&&(p=S.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),jE(o,p)}function wD(o,c){return ci(o,c)}var cg=null,ku=null,Iw=!1,ug=!1,Nw=!1,Yl=0;function no(o){o!==ku&&o.next===null&&(ku===null?cg=ku=o:ku=ku.next=o),ug=!0,Iw||(Iw=!0,vD())}function Cf(o,c){if(!Nw&&ug){Nw=!0;do for(var p=!1,v=cg;v!==null;){if(o!==0){var S=v.pendingLanes;if(S===0)var N=0;else{var z=v.suspendedLanes,X=v.pingedLanes;N=(1<<31-ze(42|o)+1)-1,N&=S&~(z&~X),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(p=!0,KE(v,N))}else N=wn,N=Di(v,v===nr?N:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(N&3)===0||$n(v,N)||(p=!0,KE(v,N));v=v.next}while(p);Nw=!1}}function yD(){PE()}function PE(){ug=Iw=!1;var o=0;Yl!==0&&OD()&&(o=Yl);for(var c=$e(),p=null,v=cg;v!==null;){var S=v.next,N=zE(v,c);N===0?(v.next=null,p===null?cg=S:p.next=S,S===null&&(ku=p)):(p=v,(o!==0||(N&3)!==0)&&(ug=!0)),v=S}li!==0&&li!==5||Cf(o),Yl!==0&&(Yl=0)}function zE(o,c){for(var p=o.suspendedLanes,v=o.pingedLanes,S=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var z=31-ze(N),X=1<<z,le=S[z];le===-1?((X&p)===0||(X&v)!==0)&&(S[z]=Yi(X,c)):le<=c&&(o.expiredLanes|=X),N&=~X}if(c=nr,p=wn,p=Di(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===c&&(Hn===2||Hn===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&at(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||$n(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(v!==null&&at(v),tt(p)){case 2:case 8:p=Ue;break;case 32:p=Re;break;case 268435456:p=Mt;break;default:p=Re}return v=VE.bind(null,o),p=ci(p,v),o.callbackPriority=c,o.callbackNode=p,c}return v!==null&&v!==null&&at(v),o.callbackPriority=2,o.callbackNode=null,2}function VE(o,c){if(li!==0&&li!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Ag()&&o.callbackNode!==p)return null;var v=wn;return v=Di(o,o===nr?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(_E(o,v,c),zE(o,$e()),o.callbackNode!=null&&o.callbackNode===p?VE.bind(null,o):null)}function KE(o,c){if(Ag())return null;_E(o,c,!0)}function vD(){kD(function(){(Mn&6)!==0?ci(de,yD):PE()})}function Ow(){if(Yl===0){var o=xu;o===0&&(o=mn,mn<<=1,(mn&261888)===0&&(mn=256)),Yl=o}return Yl}function GE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Tl(""+o)}function $E(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function bD(o,c,p,v,S){if(c==="submit"&&p&&p.stateNode===S){var N=GE((S[rt]||null).action),z=v.submitter;z&&(c=(c=z[rt]||null)?GE(c.formAction):z.getAttribute("formAction"),c!==null&&(N=c,z=null));var X=new si("action","action",null,v,S);o.push({event:X,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Yl!==0){var le=z?$E(S,z):new FormData(S);Yx(p,{pending:!0,data:le,method:S.method,action:N},null,le)}}else typeof N=="function"&&(X.preventDefault(),le=z?$E(S,z):new FormData(S),Yx(p,{pending:!0,data:le,method:S.method,action:N},N,le))},currentTarget:S}]})}}for(var Mw=0;Mw<Jd.length;Mw++){var kw=Jd[Mw],CD=kw.toLowerCase(),BD=kw[0].toUpperCase()+kw.slice(1);La(CD,"on"+BD)}La(bs,"onAnimationEnd"),La(Ci,"onAnimationIteration"),La(Un,"onAnimationStart"),La("dblclick","onDoubleClick"),La("focusin","onFocus"),La("focusout","onBlur"),La(oi,"onTransitionRun"),La(es,"onTransitionStart"),La(Dl,"onTransitionCancel"),La(Mo,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_D=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bf));function WE(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],S=v.event;v=v.listeners;e:{var N=void 0;if(c)for(var z=v.length-1;0<=z;z--){var X=v[z],le=X.instance,be=X.currentTarget;if(X=X.listener,le!==N&&S.isPropagationStopped())break e;N=X,S.currentTarget=be;try{N(S)}catch(Qe){Ep(Qe)}S.currentTarget=null,N=le}else for(z=0;z<v.length;z++){if(X=v[z],le=X.instance,be=X.currentTarget,X=X.listener,le!==N&&S.isPropagationStopped())break e;N=X,S.currentTarget=be;try{N(S)}catch(Qe){Ep(Qe)}S.currentTarget=null,N=le}}}}function pn(o,c){var p=c[xt];p===void 0&&(p=c[xt]=new Set);var v=o+"__bubble";p.has(v)||(XE(c,o,2,!1),p.add(v))}function Fw(o,c,p){var v=0;c&&(v|=4),XE(p,o,v,c)}var dg="_reactListening"+Math.random().toString(36).slice(2);function Dw(o){if(!o[dg]){o[dg]=!0,Ve.forEach(function(p){p!=="selectionchange"&&(_D.has(p)||Fw(p,!1,o),Fw(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[dg]||(c[dg]=!0,Fw("selectionchange",!1,c))}}function XE(o,c,p,v){switch(B3(c)){case 2:var S=JD;break;case 8:S=eR;break;default:S=qw}p=S.bind(null,c,p,o),S=void 0,!Gd||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),v?S!==void 0?o.addEventListener(c,p,{capture:!0,passive:S}):o.addEventListener(c,p,!0):S!==void 0?o.addEventListener(c,p,{passive:S}):o.addEventListener(c,p,!1)}function Rw(o,c,p,v,S){var N=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var X=v.stateNode.containerInfo;if(X===S)break;if(z===4)for(z=v.return;z!==null;){var le=z.tag;if((le===3||le===4)&&z.stateNode.containerInfo===S)return;z=z.return}for(;X!==null;){if(z=Lt(X),z===null)return;if(le=z.tag,le===5||le===6||le===26||le===27){v=N=z;continue e}X=X.parentNode}}v=v.return}pp(function(){var be=N,Qe=Kd(p),je=[];e:{var Be=_p.get(o);if(Be!==void 0){var Me=si,mt=o;switch(o){case"keypress":if(Xa(p)===0)break e;case"keydown":case"keyup":Me=Au;break;case"focusin":mt="focus",Me=Xd;break;case"focusout":mt="blur",Me=Xd;break;case"beforeblur":case"afterblur":Me=Xd;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=dx;break;case bs:case Ci:case Un:Me=Zt;break;case Mo:Me=To;break;case"scroll":case"scrollend":Me=gp;break;case"wheel":Me=fx;break;case"copy":case"cut":case"paste":Me=lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Ln;break;case"toggle":case"beforetoggle":Me=Yd}var Ft=(c&4)!==0,qn=!Ft&&(o==="scroll"||o==="scrollend"),pe=Ft?Be!==null?Be+"Capture":null:Be;Ft=[];for(var ue=be,ve;ue!==null;){var He=ue;if(ve=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||ve===null||pe===null||(He=jt(ue,pe),He!=null&&Ft.push(_f(ue,He,ve))),qn)break;ue=ue.return}0<Ft.length&&(Be=new Me(Be,mt,null,p,Qe),je.push({event:Be,listeners:Ft}))}}if((c&7)===0){e:{if(Be=o==="mouseover"||o==="pointerover",Me=o==="mouseout"||o==="pointerout",Be&&p!==GA&&(mt=p.relatedTarget||p.fromElement)&&(Lt(mt)||mt[yt]))break e;if((Me||Be)&&(Be=Qe.window===Qe?Qe:(Be=Qe.ownerDocument)?Be.defaultView||Be.parentWindow:window,Me?(mt=p.relatedTarget||p.toElement,Me=be,mt=mt?Lt(mt):null,mt!==null&&(qn=s(mt),Ft=mt.tag,mt!==qn||Ft!==5&&Ft!==27&&Ft!==6)&&(mt=null)):(Me=null,mt=be),Me!==mt)){if(Ft=On,He="onMouseLeave",pe="onMouseEnter",ue="mouse",(o==="pointerout"||o==="pointerover")&&(Ft=Ln,He="onPointerLeave",pe="onPointerEnter",ue="pointer"),qn=Me==null?Be:ws(Me),ve=mt==null?Be:ws(mt),Be=new Ft(He,ue+"leave",Me,p,Qe),Be.target=qn,Be.relatedTarget=ve,He=null,Lt(Qe)===be&&(Ft=new Ft(pe,ue+"enter",mt,p,Qe),Ft.target=ve,Ft.relatedTarget=qn,He=Ft),qn=He,Me&&mt)t:{for(Ft=ED,pe=Me,ue=mt,ve=0,He=pe;He;He=Ft(He))ve++;He=0;for(var St=ue;St;St=Ft(St))He++;for(;0<ve-He;)pe=Ft(pe),ve--;for(;0<He-ve;)ue=Ft(ue),He--;for(;ve--;){if(pe===ue||ue!==null&&pe===ue.alternate){Ft=pe;break t}pe=Ft(pe),ue=Ft(ue)}Ft=null}else Ft=null;Me!==null&&qE(je,Be,Me,Ft,!1),mt!==null&&qn!==null&&qE(je,qn,mt,Ft,!0)}}e:{if(Be=be?ws(be):window,Me=Be.nodeName&&Be.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Be.type==="file")var Tn=zs;else if(Zd(Be))if(Bp)Tn=x;else{Tn=d;var bt=l}else Me=Be.nodeName,!Me||Me.toLowerCase()!=="input"||Be.type!=="checkbox"&&Be.type!=="radio"?be&&Jn(be.elementType)&&(Tn=zs):Tn=h;if(Tn&&(Tn=Tn(o,be))){Ps(je,Tn,p,Qe);break e}bt&&bt(o,Be,be),o==="focusout"&&be&&Be.type==="number"&&be.memoizedProps.value!=null&&Z(Be,"number",Be.value)}switch(bt=be?ws(be):window,o){case"focusin":(Zd(bt)||bt.contentEditable==="true")&&(Ae=bt,ce=be,ge=null);break;case"focusout":ge=ce=Ae=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ze(je,p,Qe);break;case"selectionchange":if(ee)break;case"keydown":case"keyup":Ze(je,p,Qe)}var Jt;if(XA)e:{switch(o){case"compositionstart":var yn="onCompositionStart";break e;case"compositionend":yn="onCompositionEnd";break e;case"compositionupdate":yn="onCompositionUpdate";break e}yn=void 0}else Fl?Cp(o,p)&&(yn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(yn="onCompositionStart");yn&&(bp&&p.locale!=="ko"&&(Fl||yn!=="onCompositionStart"?yn==="onCompositionEnd"&&Fl&&(Jt=Il()):(Da=Qe,Ra="value"in Da?Da.value:Da.textContent,Fl=!0)),bt=fg(be,yn),0<bt.length&&(yn=new wp(yn,o,null,p,Qe),je.push({event:yn,listeners:bt}),Jt?yn.data=Jt:(Jt=kl(p),Jt!==null&&(yn.data=Jt)))),(Jt=vp?Za(o,p):uu(o,p))&&(yn=fg(be,"onBeforeInput"),0<yn.length&&(bt=new wp("onBeforeInput","beforeinput",null,p,Qe),je.push({event:bt,listeners:yn}),bt.data=Jt)),bD(je,o,be,p,Qe)}WE(je,c)})}function _f(o,c,p){return{instance:o,listener:c,currentTarget:p}}function fg(o,c){for(var p=c+"Capture",v=[];o!==null;){var S=o,N=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||N===null||(S=jt(o,p),S!=null&&v.unshift(_f(o,S,N)),S=jt(o,c),S!=null&&v.push(_f(o,S,N))),o.tag===3)return v;o=o.return}return[]}function ED(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function qE(o,c,p,v,S){for(var N=c._reactName,z=[];p!==null&&p!==v;){var X=p,le=X.alternate,be=X.stateNode;if(X=X.tag,le!==null&&le===v)break;X!==5&&X!==26&&X!==27||be===null||(le=be,S?(be=jt(p,N),be!=null&&z.unshift(_f(p,be,le))):S||(be=jt(p,N),be!=null&&z.push(_f(p,be,le)))),p=p.return}z.length!==0&&o.push({event:c,listeners:z})}var SD=/\r\n?/g,TD=/\u0000|\uFFFD/g;function YE(o){return(typeof o=="string"?o:""+o).replace(SD,`
`).replace(TD,"")}function ZE(o,c){return c=YE(c),YE(o)===c}function Xn(o,c,p,v,S,N){switch(p){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Sl(o,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Sl(o,""+v);break;case"className":Nn(o,"class",v);break;case"tabIndex":Nn(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(o,p,v);break;case"style":_t(o,v,N);break;case"data":if(c!=="object"){Nn(o,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Tl(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(p==="formAction"?(c!=="input"&&Xn(o,c,"name",S.name,S,null),Xn(o,c,"formEncType",S.formEncType,S,null),Xn(o,c,"formMethod",S.formMethod,S,null),Xn(o,c,"formTarget",S.formTarget,S,null)):(Xn(o,c,"encType",S.encType,S,null),Xn(o,c,"method",S.method,S,null),Xn(o,c,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Tl(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=ys);break;case"onScroll":v!=null&&pn("scroll",o);break;case"onScrollEnd":v!=null&&pn("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=Tl(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":pn("beforetoggle",o),pn("toggle",o),Li(o,"popover",v);break;case"xlinkActuate":fi(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":fi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":fi(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":fi(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":fi(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":fi(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":fi(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":fi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":fi(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Li(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=hp.get(p)||p,Li(o,p,v))}}function Lw(o,c,p,v,S,N){switch(p){case"style":_t(o,v,N);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof v=="string"?Sl(o,v):(typeof v=="number"||typeof v=="bigint")&&Sl(o,""+v);break;case"onScroll":v!=null&&pn("scroll",o);break;case"onScrollEnd":v!=null&&pn("scrollend",o);break;case"onClick":v!=null&&(o.onclick=ys);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wa.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),c=p.slice(2,S?p.length-7:void 0),N=o[rt]||null,N=N!=null?N[p]:null,typeof N=="function"&&o.removeEventListener(c,N,S),typeof v=="function")){typeof N!="function"&&N!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,v,S);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):Li(o,p,v)}}}function Si(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pn("error",o),pn("load",o);var v=!1,S=!1,N;for(N in p)if(p.hasOwnProperty(N)){var z=p[N];if(z!=null)switch(N){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Xn(o,c,N,z,p,null)}}S&&Xn(o,c,"srcSet",p.srcSet,p,null),v&&Xn(o,c,"src",p.src,p,null);return;case"input":pn("invalid",o);var X=N=z=S=null,le=null,be=null;for(v in p)if(p.hasOwnProperty(v)){var Qe=p[v];if(Qe!=null)switch(v){case"name":S=Qe;break;case"type":z=Qe;break;case"checked":le=Qe;break;case"defaultChecked":be=Qe;break;case"value":N=Qe;break;case"defaultValue":X=Qe;break;case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(r(137,c));break;default:Xn(o,c,v,Qe,p,null)}}we(o,N,X,le,be,z,S,!1);return;case"select":pn("invalid",o),v=z=N=null;for(S in p)if(p.hasOwnProperty(S)&&(X=p[S],X!=null))switch(S){case"value":N=X;break;case"defaultValue":z=X;break;case"multiple":v=X;default:Xn(o,c,S,X,p,null)}c=N,p=z,o.multiple=!!v,c!=null?wt(o,!!v,c,!1):p!=null&&wt(o,!!v,p,!0);return;case"textarea":pn("invalid",o),N=S=v=null;for(z in p)if(p.hasOwnProperty(z)&&(X=p[z],X!=null))switch(z){case"value":v=X;break;case"defaultValue":S=X;break;case"children":N=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(91));break;default:Xn(o,c,z,X,p,null)}Zi(o,v,S,N);return;case"option":for(le in p)if(p.hasOwnProperty(le)&&(v=p[le],v!=null))switch(le){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Xn(o,c,le,v,p,null)}return;case"dialog":pn("beforetoggle",o),pn("toggle",o),pn("cancel",o),pn("close",o);break;case"iframe":case"object":pn("load",o);break;case"video":case"audio":for(v=0;v<Bf.length;v++)pn(Bf[v],o);break;case"image":pn("error",o),pn("load",o);break;case"details":pn("toggle",o);break;case"embed":case"source":case"link":pn("error",o),pn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in p)if(p.hasOwnProperty(be)&&(v=p[be],v!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Xn(o,c,be,v,p,null)}return;default:if(Jn(c)){for(Qe in p)p.hasOwnProperty(Qe)&&(v=p[Qe],v!==void 0&&Lw(o,c,Qe,v,p,void 0));return}}for(X in p)p.hasOwnProperty(X)&&(v=p[X],v!=null&&Xn(o,c,X,v,p,null))}function ID(o,c,p,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,N=null,z=null,X=null,le=null,be=null,Qe=null;for(Me in p){var je=p[Me];if(p.hasOwnProperty(Me)&&je!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":le=je;default:v.hasOwnProperty(Me)||Xn(o,c,Me,null,v,je)}}for(var Be in v){var Me=v[Be];if(je=p[Be],v.hasOwnProperty(Be)&&(Me!=null||je!=null))switch(Be){case"type":N=Me;break;case"name":S=Me;break;case"checked":be=Me;break;case"defaultChecked":Qe=Me;break;case"value":z=Me;break;case"defaultValue":X=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,c));break;default:Me!==je&&Xn(o,c,Be,Me,v,je)}}$r(o,z,X,le,be,Qe,N,S);return;case"select":Me=z=X=Be=null;for(N in p)if(le=p[N],p.hasOwnProperty(N)&&le!=null)switch(N){case"value":break;case"multiple":Me=le;default:v.hasOwnProperty(N)||Xn(o,c,N,null,v,le)}for(S in v)if(N=v[S],le=p[S],v.hasOwnProperty(S)&&(N!=null||le!=null))switch(S){case"value":Be=N;break;case"defaultValue":X=N;break;case"multiple":z=N;default:N!==le&&Xn(o,c,S,N,v,le)}c=X,p=z,v=Me,Be!=null?wt(o,!!p,Be,!1):!!v!=!!p&&(c!=null?wt(o,!!p,c,!0):wt(o,!!p,p?[]:"",!1));return;case"textarea":Me=Be=null;for(X in p)if(S=p[X],p.hasOwnProperty(X)&&S!=null&&!v.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:Xn(o,c,X,null,v,S)}for(z in v)if(S=v[z],N=p[z],v.hasOwnProperty(z)&&(S!=null||N!=null))switch(z){case"value":Be=S;break;case"defaultValue":Me=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==N&&Xn(o,c,z,S,v,N)}Ur(o,Be,Me);return;case"option":for(var mt in p)if(Be=p[mt],p.hasOwnProperty(mt)&&Be!=null&&!v.hasOwnProperty(mt))switch(mt){case"selected":o.selected=!1;break;default:Xn(o,c,mt,null,v,Be)}for(le in v)if(Be=v[le],Me=p[le],v.hasOwnProperty(le)&&Be!==Me&&(Be!=null||Me!=null))switch(le){case"selected":o.selected=Be&&typeof Be!="function"&&typeof Be!="symbol";break;default:Xn(o,c,le,Be,v,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in p)Be=p[Ft],p.hasOwnProperty(Ft)&&Be!=null&&!v.hasOwnProperty(Ft)&&Xn(o,c,Ft,null,v,Be);for(be in v)if(Be=v[be],Me=p[be],v.hasOwnProperty(be)&&Be!==Me&&(Be!=null||Me!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,c));break;default:Xn(o,c,be,Be,v,Me)}return;default:if(Jn(c)){for(var qn in p)Be=p[qn],p.hasOwnProperty(qn)&&Be!==void 0&&!v.hasOwnProperty(qn)&&Lw(o,c,qn,void 0,v,Be);for(Qe in v)Be=v[Qe],Me=p[Qe],!v.hasOwnProperty(Qe)||Be===Me||Be===void 0&&Me===void 0||Lw(o,c,Qe,Be,v,Me);return}}for(var pe in p)Be=p[pe],p.hasOwnProperty(pe)&&Be!=null&&!v.hasOwnProperty(pe)&&Xn(o,c,pe,null,v,Be);for(je in v)Be=v[je],Me=p[je],!v.hasOwnProperty(je)||Be===Me||Be==null&&Me==null||Xn(o,c,je,Be,v,Me)}function JE(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ND(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var S=p[v],N=S.transferSize,z=S.initiatorType,X=S.duration;if(N&&X&&JE(z)){for(z=0,X=S.responseEnd,v+=1;v<p.length;v++){var le=p[v],be=le.startTime;if(be>X)break;var Qe=le.transferSize,je=le.initiatorType;Qe&&JE(je)&&(le=le.responseEnd,z+=Qe*(le<X?1:(X-be)/(le-be)))}if(--v,c+=8*(N+z)/(S.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Uw=null,Qw=null;function hg(o){return o.nodeType===9?o:o.ownerDocument}function e3(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t3(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Hw(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var jw=null;function OD(){var o=window.event;return o&&o.type==="popstate"?o===jw?!1:(jw=o,!0):(jw=null,!1)}var n3=typeof setTimeout=="function"?setTimeout:void 0,MD=typeof clearTimeout=="function"?clearTimeout:void 0,r3=typeof Promise=="function"?Promise:void 0,kD=typeof queueMicrotask=="function"?queueMicrotask:typeof r3<"u"?function(o){return r3.resolve(null).then(o).catch(FD)}:n3;function FD(o){setTimeout(function(){throw o})}function Zl(o){return o==="head"}function i3(o,c){var p=c,v=0;do{var S=p.nextSibling;if(o.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"||p==="/&"){if(v===0){o.removeChild(S),Lu(c);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")Ef(o.ownerDocument.documentElement);else if(p==="head"){p=o.ownerDocument.head,Ef(p);for(var N=p.firstChild;N;){var z=N.nextSibling,X=N.nodeName;N[sr]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&N.rel.toLowerCase()==="stylesheet"||p.removeChild(N),N=z}}else p==="body"&&Ef(o.ownerDocument.body);p=S}while(p);Lu(c)}function s3(o,c){var p=o;o=0;do{var v=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(o===0)break;o--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||o++;p=v}while(p)}function Pw(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Pw(p),en(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function DD(o,c,p,v){for(;o.nodeType===1;){var S=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[sr])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(N=o.getAttribute("rel"),N==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(N!==S.rel||o.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||o.getAttribute("title")!==(S.title==null?null:S.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(N=o.getAttribute("src"),(N!==(S.src==null?null:S.src)||o.getAttribute("type")!==(S.type==null?null:S.type)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&N&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var N=S.name==null?null:""+S.name;if(S.type==="hidden"&&o.getAttribute("name")===N)return o}else return o;if(o=pa(o.nextSibling),o===null)break}return null}function RD(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=pa(o.nextSibling),o===null))return null;return o}function a3(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=pa(o.nextSibling),o===null))return null;return o}function zw(o){return o.data==="$?"||o.data==="$~"}function Vw(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function LD(o,c){var p=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||p.readyState!=="loading")c();else{var v=function(){c(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function pa(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var Kw=null;function o3(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"||p==="/&"){if(c===0)return pa(o.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}o=o.nextSibling}return null}function l3(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return o;c--}else p!=="/$"&&p!=="/&"||c++}o=o.previousSibling}return null}function A3(o,c,p){switch(c=hg(p),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Ef(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);en(o)}var ga=new Map,c3=new Set;function pg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var $o=ae.d;ae.d={f:UD,r:QD,D:HD,C:jD,L:PD,m:zD,X:KD,S:VD,M:GD};function UD(){var o=$o.f(),c=ag();return o||c}function QD(o){var c=an(o);c!==null&&c.tag===5&&c.type==="form"?S_(c):$o.r(o)}var Fu=typeof document>"u"?null:document;function u3(o,c,p){var v=Fu;if(v&&typeof c=="string"&&c){var S=on(c);S='link[rel="'+o+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),c3.has(S)||(c3.add(S),o={rel:o,crossOrigin:p,href:c},v.querySelector(S)===null&&(c=v.createElement("link"),Si(c,"link",o),Sn(c),v.head.appendChild(c)))}}function HD(o){$o.D(o),u3("dns-prefetch",o,null)}function jD(o,c){$o.C(o,c),u3("preconnect",o,c)}function PD(o,c,p){$o.L(o,c,p);var v=Fu;if(v&&o&&c){var S='link[rel="preload"][as="'+on(c)+'"]';c==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+on(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+on(p.imageSizes)+'"]')):S+='[href="'+on(o)+'"]';var N=S;switch(c){case"style":N=Du(o);break;case"script":N=Ru(o)}ga.has(N)||(o=w({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),ga.set(N,o),v.querySelector(S)!==null||c==="style"&&v.querySelector(Sf(N))||c==="script"&&v.querySelector(Tf(N))||(c=v.createElement("link"),Si(c,"link",o),Sn(c),v.head.appendChild(c)))}}function zD(o,c){$o.m(o,c);var p=Fu;if(p&&o){var v=c&&typeof c.as=="string"?c.as:"script",S='link[rel="modulepreload"][as="'+on(v)+'"][href="'+on(o)+'"]',N=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Ru(o)}if(!ga.has(N)&&(o=w({rel:"modulepreload",href:o},c),ga.set(N,o),p.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Tf(N)))return}v=p.createElement("link"),Si(v,"link",o),Sn(v),p.head.appendChild(v)}}}function VD(o,c,p){$o.S(o,c,p);var v=Fu;if(v&&o){var S=pr(v).hoistableStyles,N=Du(o);c=c||"default";var z=S.get(N);if(!z){var X={loading:0,preload:null};if(z=v.querySelector(Sf(N)))X.loading=5;else{o=w({rel:"stylesheet",href:o,"data-precedence":c},p),(p=ga.get(N))&&Gw(o,p);var le=z=v.createElement("link");Sn(le),Si(le,"link",o),le._p=new Promise(function(be,Qe){le.onload=be,le.onerror=Qe}),le.addEventListener("load",function(){X.loading|=1}),le.addEventListener("error",function(){X.loading|=2}),X.loading|=4,gg(z,c,v)}z={type:"stylesheet",instance:z,count:1,state:X},S.set(N,z)}}}function KD(o,c){$o.X(o,c);var p=Fu;if(p&&o){var v=pr(p).hoistableScripts,S=Ru(o),N=v.get(S);N||(N=p.querySelector(Tf(S)),N||(o=w({src:o,async:!0},c),(c=ga.get(S))&&$w(o,c),N=p.createElement("script"),Sn(N),Si(N,"link",o),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(S,N))}}function GD(o,c){$o.M(o,c);var p=Fu;if(p&&o){var v=pr(p).hoistableScripts,S=Ru(o),N=v.get(S);N||(N=p.querySelector(Tf(S)),N||(o=w({src:o,async:!0,type:"module"},c),(c=ga.get(S))&&$w(o,c),N=p.createElement("script"),Sn(N),Si(N,"link",o),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(S,N))}}function d3(o,c,p,v){var S=(S=De.current)?pg(S):null;if(!S)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=Du(p.href),p=pr(S).hoistableStyles,v=p.get(c),v||(v={type:"style",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=Du(p.href);var N=pr(S).hoistableStyles,z=N.get(o);if(z||(S=S.ownerDocument||S,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(o,z),(N=S.querySelector(Sf(o)))&&!N._p&&(z.instance=N,z.state.loading=5),ga.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ga.set(o,p),N||$D(S,o,p,z.state))),c&&v===null)throw Error(r(528,""));return z}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Ru(p),p=pr(S).hoistableScripts,v=p.get(c),v||(v={type:"script",instance:null,count:0,state:null},p.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Du(o){return'href="'+on(o)+'"'}function Sf(o){return'link[rel="stylesheet"]['+o+"]"}function f3(o){return w({},o,{"data-precedence":o.precedence,precedence:null})}function $D(o,c,p,v){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=o.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),Si(c,"link",p),Sn(c),o.head.appendChild(c))}function Ru(o){return'[src="'+on(o)+'"]'}function Tf(o){return"script[async]"+o}function h3(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var v=o.querySelector('style[data-href~="'+on(p.href)+'"]');if(v)return c.instance=v,Sn(v),v;var S=w({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),Sn(v),Si(v,"style",S),gg(v,p.precedence,o),c.instance=v;case"stylesheet":S=Du(p.href);var N=o.querySelector(Sf(S));if(N)return c.state.loading|=4,c.instance=N,Sn(N),N;v=f3(p),(S=ga.get(S))&&Gw(v,S),N=(o.ownerDocument||o).createElement("link"),Sn(N);var z=N;return z._p=new Promise(function(X,le){z.onload=X,z.onerror=le}),Si(N,"link",v),c.state.loading|=4,gg(N,p.precedence,o),c.instance=N;case"script":return N=Ru(p.src),(S=o.querySelector(Tf(N)))?(c.instance=S,Sn(S),S):(v=p,(S=ga.get(N))&&(v=w({},p),$w(v,S)),o=o.ownerDocument||o,S=o.createElement("script"),Sn(S),Si(S,"link",v),o.head.appendChild(S),c.instance=S);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,gg(v,p.precedence,o));return c.instance}function gg(o,c,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,N=S,z=0;z<v.length;z++){var X=v[z];if(X.dataset.precedence===c)N=X;else if(N!==S)break}N?N.parentNode.insertBefore(o,N.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function Gw(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function $w(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var mg=null;function p3(o,c,p){if(mg===null){var v=new Map,S=mg=new Map;S.set(p,v)}else S=mg,v=S.get(p),v||(v=new Map,S.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),S=0;S<p.length;S++){var N=p[S];if(!(N[sr]||N[it]||o==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var z=N.getAttribute(c)||"";z=o+z;var X=v.get(z);X?X.push(N):v.set(z,[N])}}return v}function g3(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function WD(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function m3(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function XD(o,c,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var S=Du(v.href),N=c.querySelector(Sf(S));if(N){c=N._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=xg.bind(o),c.then(o,o)),p.state.loading|=4,p.instance=N,Sn(N);return}N=c.ownerDocument||c,v=f3(v),(S=ga.get(S))&&Gw(v,S),N=N.createElement("link"),Sn(N);var z=N;z._p=new Promise(function(X,le){z.onload=X,z.onerror=le}),Si(N,"link",v),p.instance=N}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(o.count++,p=xg.bind(o),c.addEventListener("load",p),c.addEventListener("error",p))}}var Ww=0;function qD(o,c){return o.stylesheets&&o.count===0&&yg(o,o.stylesheets),0<o.count||0<o.imgCount?function(p){var v=setTimeout(function(){if(o.stylesheets&&yg(o,o.stylesheets),o.unsuspend){var N=o.unsuspend;o.unsuspend=null,N()}},6e4+c);0<o.imgBytes&&Ww===0&&(Ww=62500*ND());var S=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&yg(o,o.stylesheets),o.unsuspend)){var N=o.unsuspend;o.unsuspend=null,N()}},(o.imgBytes>Ww?50:800)+c);return o.unsuspend=p,function(){o.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function xg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var wg=null;function yg(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,wg=new Map,c.forEach(YD,o),wg=null,xg.call(o))}function YD(o,c){if(!(c.state.loading&4)){var p=wg.get(o);if(p)var v=p.get(null);else{p=new Map,wg.set(o,p);for(var S=o.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<S.length;N++){var z=S[N];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(p.set(z.dataset.precedence,z),v=z)}v&&p.set(null,v)}S=c.instance,z=S.getAttribute("data-precedence"),N=p.get(z)||v,N===v&&p.set(null,S),p.set(z,S),this.count++,v=xg.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),N?N.parentNode.insertBefore(S,N.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(S,o.firstChild)),c.state.loading|=4}}var If={$$typeof:U,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function ZD(o,c,p,v,S,N,z,X,le){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=N,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function x3(o,c,p,v,S,N,z,X,le,be,Qe,je){return o=new ZD(o,c,p,z,le,be,Qe,je,X),c=1,N===!0&&(c|=24),N=Vs(3,null,null,c),o.current=N,N.stateNode=o,c=Sx(),c.refCount++,o.pooledCache=c,c.refCount++,N.memoizedState={element:v,isDehydrated:p,cache:c},Ox(N),o}function w3(o){return o?(o=fu,o):fu}function y3(o,c,p,v,S,N){S=w3(S),v.context===null?v.context=S:v.pendingContext=S,v=jl(c),v.payload={element:p},N=N===void 0?null:N,N!==null&&(v.callback=N),p=Pl(o,v,c),p!==null&&(Ss(p,o,c),of(p,o,c))}function v3(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function Xw(o,c){v3(o,c),(o=o.alternate)&&v3(o,c)}function b3(o){if(o.tag===13||o.tag===31){var c=ec(o,67108864);c!==null&&Ss(c,o,67108864),Xw(o,67108864)}}function C3(o){if(o.tag===13||o.tag===31){var c=Xs();c=Pe(c);var p=ec(o,c);p!==null&&Ss(p,o,c),Xw(o,c)}}var vg=!0;function JD(o,c,p,v){var S=ie.T;ie.T=null;var N=ae.p;try{ae.p=2,qw(o,c,p,v)}finally{ae.p=N,ie.T=S}}function eR(o,c,p,v){var S=ie.T;ie.T=null;var N=ae.p;try{ae.p=8,qw(o,c,p,v)}finally{ae.p=N,ie.T=S}}function qw(o,c,p,v){if(vg){var S=Yw(v);if(S===null)Rw(o,c,v,bg,p),_3(o,v);else if(nR(S,o,c,p,v))v.stopPropagation();else if(_3(o,v),c&4&&-1<tR.indexOf(o)){for(;S!==null;){var N=an(S);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var z=Rn(N.pendingLanes);if(z!==0){var X=N;for(X.pendingLanes|=2,X.entangledLanes|=2;z;){var le=1<<31-ze(z);X.entanglements[1]|=le,z&=~le}no(N),(Mn&6)===0&&(ig=$e()+500,Cf(0))}}break;case 31:case 13:X=ec(N,2),X!==null&&Ss(X,N,2),ag(),Xw(N,2)}if(N=Yw(v),N===null&&Rw(o,c,v,bg,p),N===S)break;S=N}S!==null&&v.stopPropagation()}else Rw(o,c,v,null,p)}}function Yw(o){return o=Kd(o),Zw(o)}var bg=null;function Zw(o){if(bg=null,o=Lt(o),o!==null){var c=s(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=a(c),o!==null)return o;o=null}else if(p===31){if(o=A(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return bg=o,null}function B3(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case de:return 2;case Ue:return 8;case Re:case gt:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var Jw=!1,Jl=null,eA=null,tA=null,Nf=new Map,Of=new Map,nA=[],tR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _3(o,c){switch(o){case"focusin":case"focusout":Jl=null;break;case"dragenter":case"dragleave":eA=null;break;case"mouseover":case"mouseout":tA=null;break;case"pointerover":case"pointerout":Nf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(c.pointerId)}}function Mf(o,c,p,v,S,N){return o===null||o.nativeEvent!==N?(o={blockedOn:c,domEventName:p,eventSystemFlags:v,nativeEvent:N,targetContainers:[S]},c!==null&&(c=an(c),c!==null&&b3(c)),o):(o.eventSystemFlags|=v,c=o.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),o)}function nR(o,c,p,v,S){switch(c){case"focusin":return Jl=Mf(Jl,o,c,p,v,S),!0;case"dragenter":return eA=Mf(eA,o,c,p,v,S),!0;case"mouseover":return tA=Mf(tA,o,c,p,v,S),!0;case"pointerover":var N=S.pointerId;return Nf.set(N,Mf(Nf.get(N)||null,o,c,p,v,S)),!0;case"gotpointercapture":return N=S.pointerId,Of.set(N,Mf(Of.get(N)||null,o,c,p,v,S)),!0}return!1}function E3(o){var c=Lt(o.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){o.blockedOn=c,Le(o.priority,function(){C3(p)});return}}else if(c===31){if(c=A(p),c!==null){o.blockedOn=c,Le(o.priority,function(){C3(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Cg(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=Yw(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);GA=v,p.target.dispatchEvent(v),GA=null}else return c=an(p),c!==null&&b3(c),o.blockedOn=p,!1;c.shift()}return!0}function S3(o,c,p){Cg(o)&&p.delete(c)}function rR(){Jw=!1,Jl!==null&&Cg(Jl)&&(Jl=null),eA!==null&&Cg(eA)&&(eA=null),tA!==null&&Cg(tA)&&(tA=null),Nf.forEach(S3),Of.forEach(S3)}function Bg(o,c){o.blockedOn===c&&(o.blockedOn=null,Jw||(Jw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rR)))}var _g=null;function T3(o){_g!==o&&(_g=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){_g===o&&(_g=null);for(var c=0;c<o.length;c+=3){var p=o[c],v=o[c+1],S=o[c+2];if(typeof v!="function"){if(Zw(v||p)===null)continue;break}var N=an(p);N!==null&&(o.splice(c,3),c-=3,Yx(N,{pending:!0,data:S,method:p.method,action:v},v,S))}}))}function Lu(o){function c(le){return Bg(le,o)}Jl!==null&&Bg(Jl,o),eA!==null&&Bg(eA,o),tA!==null&&Bg(tA,o),Nf.forEach(c),Of.forEach(c);for(var p=0;p<nA.length;p++){var v=nA[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<nA.length&&(p=nA[0],p.blockedOn===null);)E3(p),p.blockedOn===null&&nA.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var S=p[v],N=p[v+1],z=S[rt]||null;if(typeof N=="function")z||T3(p);else if(z){var X=null;if(N&&N.hasAttribute("formAction")){if(S=N,z=N[rt]||null)X=z.formAction;else if(Zw(S)!==null)continue}else X=z.action;typeof X=="function"?p[v+1]=X:(p.splice(v,3),v-=3),T3(p)}}}function I3(){function o(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(z){return S=z})},focusReset:"manual",scroll:"manual"})}function c(){S!==null&&(S(),S=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),S!==null&&(S(),S=null)}}}function ey(o){this._internalRoot=o}Eg.prototype.render=ey.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,v=Xs();y3(p,v,o,c,null,null)},Eg.prototype.unmount=ey.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;y3(o.current,2,null,o,null,null),ag(),c[yt]=null}};function Eg(o){this._internalRoot=o}Eg.prototype.unstable_scheduleHydration=function(o){if(o){var c=ot();o={blockedOn:null,target:o,priority:c};for(var p=0;p<nA.length&&c!==0&&c<nA[p].priority;p++);nA.splice(p,0,o),p===0&&E3(o)}};var N3=e.version;if(N3!=="19.2.0")throw Error(r(527,N3,"19.2.0"));ae.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(c),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var iR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sg.isDisabled&&Sg.supportsFiber)try{_e=Sg.inject(iR),xe=Sg}catch{}}return Ff.createRoot=function(o,c){if(!i(o))throw Error(r(299));var p=!1,v="",S=L_,N=U_,z=Q_;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError)),c=x3(o,1,!1,null,null,p,v,null,S,N,z,I3),o[yt]=c.current,Dw(o),new ey(c)},Ff.hydrateRoot=function(o,c,p){if(!i(o))throw Error(r(299));var v=!1,S="",N=L_,z=U_,X=Q_,le=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(N=p.onUncaughtError),p.onCaughtError!==void 0&&(z=p.onCaughtError),p.onRecoverableError!==void 0&&(X=p.onRecoverableError),p.formState!==void 0&&(le=p.formState)),c=x3(o,1,!0,c,p??null,v,S,le,N,z,X,I3),c.context=w3(null),p=c.current,v=Xs(),v=Pe(v),S=jl(v),S.callback=null,Pl(p,S,v),p=v,c.current.lanes=p,aa(c,p),no(c),o[yt]=c.current,Dw(o),new Eg(c)},Ff.version="19.2.0",Ff}var H3;function hR(){if(H3)return ny.exports;H3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ny.exports=fR(),ny.exports}var YN=hR();const pR=Cl(YN);var H=HA();const An=Cl(H),gR=H.createContext(null),oy={didCatch:!1,error:null};class mR extends H.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=oy}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var n,r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:s,reason:"imperative-api"}),this.setState(oy)}}componentDidCatch(e,n){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,e,n)}componentDidUpdate(e,n){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&n.error!==null&&xR(e.resetKeys,i)){var s,a;(s=(a=this.props).onReset)===null||s===void 0||s.call(a,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(oy)}}render(){const{children:e,fallbackRender:n,FallbackComponent:r,fallback:i}=this.props,{didCatch:s,error:a}=this.state;let A=e;if(s){const u={error:a,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")A=n(u);else if(r)A=H.createElement(r,u);else if(i!==void 0)A=i;else throw a}return H.createElement(gR.Provider,{value:{didCatch:s,error:a,resetErrorBoundary:this.resetErrorBoundary}},A)}}function xR(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((n,r)=>!Object.is(n,e[r]))}/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZN=t=>{throw TypeError(t)},wR=(t,e,n)=>e.has(t)||ZN("Cannot "+n),ly=(t,e,n)=>(wR(t,e,"read from private field"),n?n.call(t):e.get(t)),yR=(t,e,n)=>e.has(t)?ZN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),j3="popstate";function vR(t={}){function e(r,i){let{pathname:s,search:a,hash:A}=r.location;return Nh("",{pathname:s,search:a,hash:A},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yo(i)}return CR(e,n,null,t)}function cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bR(){return Math.random().toString(36).substring(2,10)}function P3(t,e){return{usr:t.state,key:t.key,idx:e}}function Nh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?jA(e):e,state:n,key:e&&e.key||r||bR()}}function yo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jA(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function CR(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,A="POP",u=null,f=m();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function m(){return(a.state||{idx:null}).idx}function w(){A="POP";let M=m(),R=M==null?null:M-f;f=M,u&&u({action:A,location:I.location,delta:R})}function C(M,R){A="PUSH";let L=Nh(I.location,M,R);f=m()+1;let U=P3(L,f),O=I.createHref(L);try{a.pushState(U,"",O)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(O)}s&&u&&u({action:A,location:I.location,delta:1})}function B(M,R){A="REPLACE";let L=Nh(I.location,M,R);f=m();let U=P3(L,f),O=I.createHref(L);a.replaceState(U,"",O),s&&u&&u({action:A,location:I.location,delta:0})}function E(M){return JN(M)}let I={get action(){return A},get location(){return t(i,a)},listen(M){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(j3,w),u=M,()=>{i.removeEventListener(j3,w),u=null}},createHref(M){return e(i,M)},createURL:E,encodeLocation(M){let R=E(M);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:C,replace:B,go(M){return a.go(M)}};return I}function JN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),cn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:yo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Zf,z3=class{constructor(t){if(yR(this,Zf,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(ly(this,Zf).has(t))return ly(this,Zf).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){ly(this,Zf).set(t,e)}};Zf=new WeakMap;var BR=new Set(["lazy","caseSensitive","path","id","index","children"]);function _R(t){return BR.has(t)}var ER=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function SR(t){return ER.has(t)}function TR(t){return t.index===!0}function Oh(t,e,n=[],r={},i=!1){return t.map((s,a)=>{let A=[...n,String(a)],u=typeof s.id=="string"?s.id:A.join("-");if(cn(s.index!==!0||!s.children,"Cannot specify children on an index route"),cn(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),TR(s)){let f={...s,id:u};return r[u]=V3(f,e(f)),f}else{let f={...s,id:u,children:void 0};return r[u]=V3(f,e(f)),s.children&&(f.children=Oh(s.children,e,A,r,i)),f}})}function V3(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function gA(t,e,n="/"){return Jf(t,e,n,!1)}function Jf(t,e,n,r){let i=typeof e=="string"?jA(e):e,s=Oa(i.pathname||"/",n);if(s==null)return null;let a=e8(t);NR(a);let A=null;for(let u=0;A==null&&u<a.length;++u){let f=jR(s);A=QR(a[u],f,r)}return A}function IR(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function e8(t,e=[],n=[],r="",i=!1){let s=(a,A,u=i,f)=>{let m={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:A,route:a};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&u)return;cn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let w=xo([r,m.relativePath]),C=n.concat(m);a.children&&a.children.length>0&&(cn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),e8(a.children,e,C,w,u)),!(a.path==null&&!a.index)&&e.push({path:w,score:LR(w,a.index),routesMeta:C})};return t.forEach((a,A)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,A);else for(let f of t8(a.path))s(a,A,!0,f)}),e}function t8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=t8(r.join("/")),A=[];return A.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&A.push(...a),A.map(u=>t.startsWith("/")&&u===""?"/":u)}function NR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var OR=/^:[\w-]+$/,MR=3,kR=2,FR=1,DR=10,RR=-2,K3=t=>t==="*";function LR(t,e){let n=t.split("/"),r=n.length;return n.some(K3)&&(r+=RR),e&&(r+=kR),n.filter(i=>!K3(i)).reduce((i,s)=>i+(OR.test(s)?MR:s===""?FR:DR),r)}function UR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function QR(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let A=0;A<r.length;++A){let u=r[A],f=A===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",w=J1({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),C=u.route;if(!w&&f&&n&&!r[r.length-1].route.index&&(w=J1({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!w)return null;Object.assign(i,w.params),a.push({params:i,pathname:xo([s,w.pathname]),pathnameBase:KR(xo([s,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(s=xo([s,w.pathnameBase]))}return a}function J1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),A=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:w},C)=>{if(m==="*"){let E=A[C]||"";a=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const B=A[C];return w&&!B?f[m]=void 0:f[m]=(B||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:t}}function HR(t,e=!1,n=!0){Sr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,A,u)=>(r.push({paramName:A,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function jR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Oa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PR({basename:t,pathname:e}){return e==="/"?t:xo([t,e])}var zR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y0=t=>zR.test(t);function VR(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?jA(t):t,s;if(n)if(y0(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Sr(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?s=G3(n.substring(1),"/"):s=G3(n,e)}else s=e;return{pathname:s,search:GR(r),hash:$R(i)}}function G3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ay(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function v0(t){let e=n8(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function b0(t,e,n,r=!1){let i;typeof t=="string"?i=jA(t):(i={...t},cn(!i.pathname||!i.pathname.includes("?"),Ay("?","pathname","search",i)),cn(!i.pathname||!i.pathname.includes("#"),Ay("#","pathname","hash",i)),cn(!i.search||!i.search.includes("#"),Ay("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,A;if(a==null)A=n;else{let w=e.length-1;if(!r&&a.startsWith("..")){let C=a.split("/");for(;C[0]==="..";)C.shift(),w-=1;i.pathname=C.join("/")}A=w>=0?e[w]:"/"}let u=VR(i,A),f=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}var xo=t=>t.join("/").replace(/\/\/+/g,"/"),KR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$R=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,em=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Mh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Hb(t){return t.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var yA=Symbol("Uninstrumented");function WR(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(s){let a=Object.keys(n);for(let A of a)s[A]&&n[A].push(s[A])}}));let r={};if(typeof e.lazy=="function"&&n.lazy.length>0){let i=md(n.lazy,e.lazy,()=>{});i&&(r.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(s=>{let a=i[s],A=n[`lazy.${s}`];if(typeof a=="function"&&A.length>0){let u=md(A,a,()=>{});u&&(r.lazy=Object.assign(r.lazy||{},{[s]:u}))}})}return["loader","action"].forEach(i=>{let s=e[i];if(typeof s=="function"&&n[i].length>0){let a=s[yA]??s,A=md(n[i],a,(...u)=>$3(u[0]));A&&(A[yA]=a,r[i]=A)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(r.middleware=e.middleware.map(i=>{let s=i[yA]??i,a=md(n.middleware,s,(...A)=>$3(A[0]));return a?(a[yA]=s,a):i})),r}function XR(t,e){let n={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(i){let s=Object.keys(i);for(let a of s)i[a]&&n[a].push(i[a])}})),n.navigate.length>0){let r=t.navigate[yA]??t.navigate,i=md(n.navigate,r,(...s)=>{let[a,A]=s;return{to:typeof a=="number"||typeof a=="string"?a:a?yo(a):".",...W3(t,A??{})}});i&&(i[yA]=r,t.navigate=i)}if(n.fetch.length>0){let r=t.fetch[yA]??t.fetch,i=md(n.fetch,r,(...s)=>{let[a,,A,u]=s;return{href:A??".",fetcherKey:a,...W3(t,u??{})}});i&&(i[yA]=r,t.fetch=i)}return t}function md(t,e,n){return t.length===0?null:async(...r)=>{let i=await r8(t,n(...r),()=>e(...r),t.length-1);if(i.type==="error")throw i.value;return i.value}}async function r8(t,e,n,r){let i=t[r],s;if(i){let a,A=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=r8(t,e,n,r-1),s=await a,cn(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await i(A,e)}catch(u){console.error("An instrumentation function threw an error:",u)}a||await A(),await a}else try{s={type:"success",value:await n()}}catch(a){s={type:"error",value:a}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function $3(t){let{request:e,context:n,params:r,unstable_pattern:i}=t;return{request:qR(e),params:{...r},unstable_pattern:i,context:YR(n)}}function W3(t,e){return{currentUrl:yo(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function qR(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function YR(t){if(JR(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var ZR=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function JR(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===ZR}var i8=["POST","PUT","PATCH","DELETE"],e7=new Set(i8),t7=["GET",...i8],n7=new Set(t7),r7=new Set([301,302,303,307,308]),i7=new Set([307,308]),cy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},s7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Df={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},a7=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),s8="remix-router-transitions",a8=Symbol("ResetLoaderData");function o7(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";cn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||a7,s=i;if(t.unstable_instrumentations){let oe=t.unstable_instrumentations;s=fe=>({...i(fe),...WR(oe.map(Ee=>Ee.route).filter(Boolean),fe)})}let a={},A=Oh(t.routes,s,void 0,a),u,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let m=t.dataStrategy||d7,w={...t.future},C=null,B=new Set,E=null,I=null,M=null,R=t.hydrationData!=null,L=gA(A,t.history.location,f),U=!1,O=null,F;if(L==null&&!t.patchRoutesOnNavigation){let oe=Ca(404,{pathname:t.history.location.pathname}),{matches:fe,route:Ee}=Ig(A);F=!0,L=fe,O={[Ee.id]:oe}}else if(L&&!t.hydrationData&&Yi(L,A,t.history.location.pathname).active&&(L=null),L)if(L.some(oe=>oe.route.lazy))F=!1;else if(!L.some(oe=>jb(oe.route)))F=!0;else{let oe=t.hydrationData?t.hydrationData.loaderData:null,fe=t.hydrationData?t.hydrationData.errors:null;if(fe){let Ee=L.findIndex(Pe=>fe[Pe.route.id]!==void 0);F=L.slice(0,Ee+1).every(Pe=>!dv(Pe.route,oe,fe))}else F=L.every(Ee=>!dv(Ee.route,oe,fe))}else{F=!1,L=[];let oe=Yi(null,A,t.history.location.pathname);oe.active&&oe.matches&&(U=!0,L=oe.matches)}let Q,D={historyAction:t.history.action,location:t.history.location,matches:L,initialized:F,navigation:cy,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},j="POP",V=!1,W,Y=!1,J=new Map,re=null,te=!1,q=!1,ie=new Set,ae=new Map,se=0,me=-1,ke=new Map,ne=new Set,he=new Map,Ne=new Map,ye=new Set,Ge=new Map,De,et=null;function qe(){if(C=t.history.listen(({action:oe,location:fe,delta:Ee})=>{if(De){De(),De=void 0;return}Sr(Ge.size===0||Ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Pe=mn({currentLocation:D.location,nextLocation:fe,historyAction:oe});if(Pe&&Ee!=null){let tt=new Promise(ot=>{De=ot});t.history.go(Ee*-1),gn(Pe,{state:"blocked",location:fe,proceed(){gn(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),tt.then(()=>t.history.go(Ee))},reset(){let ot=new Map(D.blockers);ot.set(Pe,Df),pt({blockers:ot})}});return}return Gn(oe,fe)}),n){S7(e,J);let oe=()=>T7(e,J);e.addEventListener("pagehide",oe),re=()=>e.removeEventListener("pagehide",oe)}return D.initialized||Gn("POP",D.location,{initialHydration:!0}),Q}function vt(){C&&C(),re&&re(),B.clear(),W&&W.abort(),D.fetchers.forEach((oe,fe)=>Vt(fe)),D.blockers.forEach((oe,fe)=>un(fe))}function Qt(oe){return B.add(oe),()=>B.delete(oe)}function pt(oe,fe={}){oe.matches&&(oe.matches=oe.matches.map(tt=>{let ot=a[tt.route.id],Le=tt.route;return Le.element!==ot.element||Le.errorElement!==ot.errorElement||Le.hydrateFallbackElement!==ot.hydrateFallbackElement?{...tt,route:ot}:tt})),D={...D,...oe};let Ee=[],Pe=[];D.fetchers.forEach((tt,ot)=>{tt.state==="idle"&&(ye.has(ot)?Ee.push(ot):Pe.push(ot))}),ye.forEach(tt=>{!D.fetchers.has(tt)&&!ae.has(tt)&&Ee.push(tt)}),[...B].forEach(tt=>tt(D,{deletedFetchers:Ee,viewTransitionOpts:fe.viewTransitionOpts,flushSync:fe.flushSync===!0})),Ee.forEach(tt=>Vt(tt)),Pe.forEach(tt=>D.fetchers.delete(tt))}function fn(oe,fe,{flushSync:Ee}={}){var yt,xt;let Pe=D.actionData!=null&&D.navigation.formMethod!=null&&us(D.navigation.formMethod)&&D.navigation.state==="loading"&&((yt=oe.state)==null?void 0:yt._isRedirect)!==!0,tt;fe.actionData?Object.keys(fe.actionData).length>0?tt=fe.actionData:tt=null:Pe?tt=D.actionData:tt=null;let ot=fe.loaderData?iS(D.loaderData,fe.loaderData,fe.matches||[],fe.errors):D.loaderData,Le=D.blockers;Le.size>0&&(Le=new Map(Le),Le.forEach((Rt,sn)=>Le.set(sn,Df)));let st=te?!1:$n(oe,fe.matches||D.matches),it=V===!0||D.navigation.formMethod!=null&&us(D.navigation.formMethod)&&((xt=oe.state)==null?void 0:xt._isRedirect)!==!0;u&&(A=u,u=void 0),te||j==="POP"||(j==="PUSH"?t.history.push(oe,oe.state):j==="REPLACE"&&t.history.replace(oe,oe.state));let rt;if(j==="POP"){let Rt=J.get(D.location.pathname);Rt&&Rt.has(oe.pathname)?rt={currentLocation:D.location,nextLocation:oe}:J.has(oe.pathname)&&(rt={currentLocation:oe,nextLocation:D.location})}else if(Y){let Rt=J.get(D.location.pathname);Rt?Rt.add(oe.pathname):(Rt=new Set([oe.pathname]),J.set(D.location.pathname,Rt)),rt={currentLocation:D.location,nextLocation:oe}}pt({...fe,actionData:tt,loaderData:ot,historyAction:j,location:oe,initialized:!0,navigation:cy,revalidation:"idle",restoreScrollPosition:st,preventScrollReset:it,blockers:Le},{viewTransitionOpts:rt,flushSync:Ee===!0}),j="POP",V=!1,Y=!1,te=!1,q=!1,et==null||et.resolve(),et=null}async function Et(oe,fe){if(typeof oe=="number"){t.history.go(oe);return}let Ee=uv(D.location,D.matches,f,oe,fe==null?void 0:fe.fromRouteId,fe==null?void 0:fe.relative),{path:Pe,submission:tt,error:ot}=X3(!1,Ee,fe),Le=D.location,st=Nh(D.location,Pe,fe&&fe.state);st={...st,...t.history.encodeLocation(st)};let it=fe&&fe.replace!=null?fe.replace:void 0,rt="PUSH";it===!0?rt="REPLACE":it===!1||tt!=null&&us(tt.formMethod)&&tt.formAction===D.location.pathname+D.location.search&&(rt="REPLACE");let yt=fe&&"preventScrollReset"in fe?fe.preventScrollReset===!0:void 0,xt=(fe&&fe.flushSync)===!0,Rt=mn({currentLocation:Le,nextLocation:st,historyAction:rt});if(Rt){gn(Rt,{state:"blocked",location:st,proceed(){gn(Rt,{state:"proceeding",proceed:void 0,reset:void 0,location:st}),Et(oe,fe)},reset(){let sn=new Map(D.blockers);sn.set(Rt,Df),pt({blockers:sn})}});return}await Gn(rt,st,{submission:tt,pendingError:ot,preventScrollReset:yt,replace:fe&&fe.replace,enableViewTransition:fe&&fe.viewTransition,flushSync:xt})}function Lr(){et||(et=I7()),de(),pt({revalidation:"loading"});let oe=et.promise;return D.navigation.state==="submitting"?oe:D.navigation.state==="idle"?(Gn(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),oe):(Gn(j||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:Y===!0}),oe)}async function Gn(oe,fe,Ee){W&&W.abort(),W=null,j=oe,te=(Ee&&Ee.startUninterruptedRevalidation)===!0,Di(D.location,D.matches),V=(Ee&&Ee.preventScrollReset)===!0,Y=(Ee&&Ee.enableViewTransition)===!0;let Pe=u||A,tt=Ee&&Ee.overrideNavigation,ot=Ee!=null&&Ee.initialHydration&&D.matches&&D.matches.length>0&&!U?D.matches:gA(Pe,fe,f),Le=(Ee&&Ee.flushSync)===!0;if(ot&&D.initialized&&!q&&y7(D.location,fe)&&!(Ee&&Ee.submission&&us(Ee.submission.formMethod))){fn(fe,{matches:ot},{flushSync:Le});return}let st=Yi(ot,Pe,fe.pathname);if(st.active&&st.matches&&(ot=st.matches),!ot){let{error:sr,notFoundMatches:en,route:Lt}=Ct(fe.pathname);fn(fe,{matches:en,loaderData:{},errors:{[Lt.id]:sr}},{flushSync:Le});return}W=new AbortController;let it=cd(t.history,fe,W.signal,Ee&&Ee.submission),rt=t.getContext?await t.getContext():new z3,yt;if(Ee&&Ee.pendingError)yt=[mA(ot).route.id,{type:"error",error:Ee.pendingError}];else if(Ee&&Ee.submission&&us(Ee.submission.formMethod)){let sr=await bi(it,fe,Ee.submission,ot,rt,st.active,Ee&&Ee.initialHydration===!0,{replace:Ee.replace,flushSync:Le});if(sr.shortCircuited)return;if(sr.pendingActionResult){let[en,Lt]=sr.pendingActionResult;if(ta(Lt)&&Mh(Lt.error)&&Lt.error.status===404){W=null,fn(fe,{matches:sr.matches,loaderData:{},errors:{[en]:Lt.error}});return}}ot=sr.matches||ot,yt=sr.pendingActionResult,tt=uy(fe,Ee.submission),Le=!1,st.active=!1,it=cd(t.history,it.url,it.signal)}let{shortCircuited:xt,matches:Rt,loaderData:sn,errors:hr}=await Dn(it,fe,ot,rt,st.active,tt,Ee&&Ee.submission,Ee&&Ee.fetcherSubmission,Ee&&Ee.replace,Ee&&Ee.initialHydration===!0,Le,yt);xt||(W=null,fn(fe,{matches:Rt||ot,...sS(yt),loaderData:sn,errors:hr}))}async function bi(oe,fe,Ee,Pe,tt,ot,Le,st={}){de();let it=_7(fe,Ee);if(pt({navigation:it},{flushSync:st.flushSync===!0}),ot){let xt=await Zn(Pe,fe.pathname,oe.signal);if(xt.type==="aborted")return{shortCircuited:!0};if(xt.type==="error"){if(xt.partialMatches.length===0){let{matches:sn,route:hr}=Ig(A);return{matches:sn,pendingActionResult:[hr.id,{type:"error",error:xt.error}]}}let Rt=mA(xt.partialMatches).route.id;return{matches:xt.partialMatches,pendingActionResult:[Rt,{type:"error",error:xt.error}]}}else if(xt.matches)Pe=xt.matches;else{let{notFoundMatches:Rt,error:sn,route:hr}=Ct(fe.pathname);return{matches:Rt,pendingActionResult:[hr.id,{type:"error",error:sn}]}}}let rt,yt=L1(Pe,fe);if(!yt.route.action&&!yt.route.lazy)rt={type:"error",error:Ca(405,{method:oe.method,pathname:fe.pathname,routeId:yt.route.id})};else{let xt=vd(s,a,oe,Pe,yt,Le?[]:r,tt),Rt=await $e(oe,xt,tt,null);if(rt=Rt[yt.route.id],!rt){for(let sn of Pe)if(Rt[sn.route.id]){rt=Rt[sn.route.id];break}}if(oe.signal.aborted)return{shortCircuited:!0}}if(_c(rt)){let xt;return st&&st.replace!=null?xt=st.replace:xt=tS(rt.response.headers.get("Location"),new URL(oe.url),f)===D.location.pathname+D.location.search,await ui(oe,rt,!0,{submission:Ee,replace:xt}),{shortCircuited:!0}}if(ta(rt)){let xt=mA(Pe,yt.route.id);return(st&&st.replace)!==!0&&(j="PUSH"),{matches:Pe,pendingActionResult:[xt.route.id,rt,yt.route.id]}}return{matches:Pe,pendingActionResult:[yt.route.id,rt]}}async function Dn(oe,fe,Ee,Pe,tt,ot,Le,st,it,rt,yt,xt){let Rt=ot||uy(fe,Le),sn=Le||st||oS(Rt),hr=!te&&!rt;if(tt){if(hr){let kt=Yt(xt);pt({navigation:Rt,...kt!==void 0?{actionData:kt}:{}},{flushSync:yt})}let ft=await Zn(Ee,fe.pathname,oe.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){if(ft.partialMatches.length===0){let{matches:Kt,route:Li}=Ig(A);return{matches:Kt,loaderData:{},errors:{[Li.id]:ft.error}}}let kt=mA(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[kt]:ft.error}}}else if(ft.matches)Ee=ft.matches;else{let{error:kt,notFoundMatches:Kt,route:Li}=Ct(fe.pathname);return{matches:Kt,loaderData:{},errors:{[Li.id]:kt}}}}let sr=u||A,{dsMatches:en,revalidatingFetchers:Lt}=q3(oe,Pe,s,a,t.history,D,Ee,sn,fe,rt?[]:r,rt===!0,q,ie,ye,he,ne,sr,f,t.patchRoutesOnNavigation!=null,xt);if(me=++se,!t.dataStrategy&&!en.some(ft=>ft.shouldLoad)&&!en.some(ft=>ft.route.middleware&&ft.route.middleware.length>0)&&Lt.length===0){let ft=Xe();return fn(fe,{matches:Ee,loaderData:{},errors:xt&&ta(xt[1])?{[xt[0]]:xt[1].error}:null,...sS(xt),...ft?{fetchers:new Map(D.fetchers)}:{}},{flushSync:yt}),{shortCircuited:!0}}if(hr){let ft={};if(!tt){ft.navigation=Rt;let kt=Yt(xt);kt!==void 0&&(ft.actionData=kt)}Lt.length>0&&(ft.fetchers=Ht(Lt)),pt(ft,{flushSync:yt})}Lt.forEach(ft=>{_e(ft.key),ft.controller&&ae.set(ft.key,ft.controller)});let an=()=>Lt.forEach(ft=>_e(ft.key));W&&W.signal.addEventListener("abort",an);let{loaderResults:ws,fetcherResults:pr}=await Ce(en,Lt,oe,Pe);if(oe.signal.aborted)return{shortCircuited:!0};W&&W.signal.removeEventListener("abort",an),Lt.forEach(ft=>ae.delete(ft.key));let Sn=Ng(ws);if(Sn)return await ui(oe,Sn.result,!0,{replace:it}),{shortCircuited:!0};if(Sn=Ng(pr),Sn)return ne.add(Sn.key),await ui(oe,Sn.result,!0,{replace:it}),{shortCircuited:!0};let{loaderData:Ve,errors:Wa}=rS(D,Ee,ws,xt,Lt,pr);rt&&D.errors&&(Wa={...D.errors,...Wa});let dn=Xe(),di=ze(me),_l=dn||di||Lt.length>0;return{matches:Ee,loaderData:Ve,errors:Wa,..._l?{fetchers:new Map(D.fetchers)}:{}}}function Yt(oe){if(oe&&!ta(oe[1]))return{[oe[0]]:oe[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function Ht(oe){return oe.forEach(fe=>{let Ee=D.fetchers.get(fe.key),Pe=Rf(void 0,Ee?Ee.data:void 0);D.fetchers.set(fe.key,Pe)}),new Map(D.fetchers)}async function ci(oe,fe,Ee,Pe){_e(oe);let tt=(Pe&&Pe.flushSync)===!0,ot=u||A,Le=uv(D.location,D.matches,f,Ee,fe,Pe==null?void 0:Pe.relative),st=gA(ot,Le,f),it=Yi(st,ot,Le);if(it.active&&it.matches&&(st=it.matches),!st){Re(oe,fe,Ca(404,{pathname:Le}),{flushSync:tt});return}let{path:rt,submission:yt,error:xt}=X3(!0,Le,Pe);if(xt){Re(oe,fe,xt,{flushSync:tt});return}let Rt=t.getContext?await t.getContext():new z3,sn=(Pe&&Pe.preventScrollReset)===!0;if(yt&&us(yt.formMethod)){await at(oe,fe,rt,st,Rt,it.active,tt,sn,yt);return}he.set(oe,{routeId:fe,path:rt}),await qi(oe,fe,rt,st,Rt,it.active,tt,sn,yt)}async function at(oe,fe,Ee,Pe,tt,ot,Le,st,it){de(),he.delete(oe);let rt=D.fetchers.get(oe);Ue(oe,E7(it,rt),{flushSync:Le});let yt=new AbortController,xt=cd(t.history,Ee,yt.signal,it);if(ot){let Nn=await Zn(Pe,new URL(xt.url).pathname,xt.signal,oe);if(Nn.type==="aborted")return;if(Nn.type==="error"){Re(oe,fe,Nn.error,{flushSync:Le});return}else if(Nn.matches)Pe=Nn.matches;else{Re(oe,fe,Ca(404,{pathname:Ee}),{flushSync:Le});return}}let Rt=L1(Pe,Ee);if(!Rt.route.action&&!Rt.route.lazy){let Nn=Ca(405,{method:it.formMethod,pathname:Ee,routeId:fe});Re(oe,fe,Nn,{flushSync:Le});return}ae.set(oe,yt);let sn=se,hr=vd(s,a,xt,Pe,Rt,r,tt),sr=await $e(xt,hr,tt,oe),en=sr[Rt.route.id];if(!en){for(let Nn of hr)if(sr[Nn.route.id]){en=sr[Nn.route.id];break}}if(xt.signal.aborted){ae.get(oe)===yt&&ae.delete(oe);return}if(ye.has(oe)){if(_c(en)||ta(en)){Ue(oe,ol(void 0));return}}else{if(_c(en))if(ae.delete(oe),me>sn){Ue(oe,ol(void 0));return}else return ne.add(oe),Ue(oe,Rf(it)),ui(xt,en,!1,{fetcherSubmission:it,preventScrollReset:st});if(ta(en)){Re(oe,fe,en.error);return}}let Lt=D.navigation.location||D.location,an=cd(t.history,Lt,yt.signal),ws=u||A,pr=D.navigation.state!=="idle"?gA(ws,D.navigation.location,f):D.matches;cn(pr,"Didn't find any matches after fetcher action");let Sn=++se;ke.set(oe,Sn);let Ve=Rf(it,en.data);D.fetchers.set(oe,Ve);let{dsMatches:Wa,revalidatingFetchers:dn}=q3(an,tt,s,a,t.history,D,pr,it,Lt,r,!1,q,ie,ye,he,ne,ws,f,t.patchRoutesOnNavigation!=null,[Rt.route.id,en]);dn.filter(Nn=>Nn.key!==oe).forEach(Nn=>{let fi=Nn.key,Cn=D.fetchers.get(fi),Hs=Rf(void 0,Cn?Cn.data:void 0);D.fetchers.set(fi,Hs),_e(fi),Nn.controller&&ae.set(fi,Nn.controller)}),pt({fetchers:new Map(D.fetchers)});let di=()=>dn.forEach(Nn=>_e(Nn.key));yt.signal.addEventListener("abort",di);let{loaderResults:_l,fetcherResults:ft}=await Ce(Wa,dn,an,tt);if(yt.signal.aborted)return;if(yt.signal.removeEventListener("abort",di),ke.delete(oe),ae.delete(oe),dn.forEach(Nn=>ae.delete(Nn.key)),D.fetchers.has(oe)){let Nn=ol(en.data);D.fetchers.set(oe,Nn)}let kt=Ng(_l);if(kt)return ui(an,kt.result,!1,{preventScrollReset:st});if(kt=Ng(ft),kt)return ne.add(kt.key),ui(an,kt.result,!1,{preventScrollReset:st});let{loaderData:Kt,errors:Li}=rS(D,pr,_l,void 0,dn,ft);ze(Sn),D.navigation.state==="loading"&&Sn>me?(cn(j,"Expected pending action"),W&&W.abort(),fn(D.navigation.location,{matches:pr,loaderData:Kt,errors:Li,fetchers:new Map(D.fetchers)})):(pt({errors:Li,loaderData:iS(D.loaderData,Kt,pr,Li),fetchers:new Map(D.fetchers)}),q=!1)}async function qi(oe,fe,Ee,Pe,tt,ot,Le,st,it){let rt=D.fetchers.get(oe);Ue(oe,Rf(it,rt?rt.data:void 0),{flushSync:Le});let yt=new AbortController,xt=cd(t.history,Ee,yt.signal);if(ot){let Lt=await Zn(Pe,new URL(xt.url).pathname,xt.signal,oe);if(Lt.type==="aborted")return;if(Lt.type==="error"){Re(oe,fe,Lt.error,{flushSync:Le});return}else if(Lt.matches)Pe=Lt.matches;else{Re(oe,fe,Ca(404,{pathname:Ee}),{flushSync:Le});return}}let Rt=L1(Pe,Ee);ae.set(oe,yt);let sn=se,hr=vd(s,a,xt,Pe,Rt,r,tt),en=(await $e(xt,hr,tt,oe))[Rt.route.id];if(ae.get(oe)===yt&&ae.delete(oe),!xt.signal.aborted){if(ye.has(oe)){Ue(oe,ol(void 0));return}if(_c(en))if(me>sn){Ue(oe,ol(void 0));return}else{ne.add(oe),await ui(xt,en,!1,{preventScrollReset:st});return}if(ta(en)){Re(oe,fe,en.error);return}Ue(oe,ol(en.data))}}async function ui(oe,fe,Ee,{submission:Pe,fetcherSubmission:tt,preventScrollReset:ot,replace:Le}={}){fe.response.headers.has("X-Remix-Revalidate")&&(q=!0);let st=fe.response.headers.get("Location");cn(st,"Expected a Location header on the redirect Response"),st=tS(st,new URL(oe.url),f);let it=Nh(D.location,st,{_isRedirect:!0});if(n){let hr=!1;if(fe.response.headers.has("X-Remix-Reload-Document"))hr=!0;else if(y0(st)){const sr=JN(st,!0);hr=sr.origin!==e.location.origin||Oa(sr.pathname,f)==null}if(hr){Le?e.location.replace(st):e.location.assign(st);return}}W=null;let rt=Le===!0||fe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:yt,formAction:xt,formEncType:Rt}=D.navigation;!Pe&&!tt&&yt&&xt&&Rt&&(Pe=oS(D.navigation));let sn=Pe||tt;if(i7.has(fe.response.status)&&sn&&us(sn.formMethod))await Gn(rt,it,{submission:{...sn,formAction:st},preventScrollReset:ot||V,enableViewTransition:Ee?Y:void 0});else{let hr=uy(it,Pe);await Gn(rt,it,{overrideNavigation:hr,fetcherSubmission:tt,preventScrollReset:ot||V,enableViewTransition:Ee?Y:void 0})}}async function $e(oe,fe,Ee,Pe){let tt,ot={};try{tt=await h7(m,oe,fe,Pe,Ee,!1)}catch(Le){return fe.filter(st=>st.shouldLoad).forEach(st=>{ot[st.route.id]={type:"error",error:Le}}),ot}if(oe.signal.aborted)return ot;for(let[Le,st]of Object.entries(tt))if(C7(st)){let it=st.result;ot[Le]={type:"redirect",response:x7(it,oe,Le,fe,f)}}else ot[Le]=await m7(st);return ot}async function Ce(oe,fe,Ee,Pe){let tt=$e(Ee,oe,Pe,null),ot=Promise.all(fe.map(async it=>{if(it.matches&&it.match&&it.request&&it.controller){let yt=(await $e(it.request,it.matches,Pe,it.key))[it.match.route.id];return{[it.key]:yt}}else return Promise.resolve({[it.key]:{type:"error",error:Ca(404,{pathname:it.path})}})})),Le=await tt,st=(await ot).reduce((it,rt)=>Object.assign(it,rt),{});return{loaderResults:Le,fetcherResults:st}}function de(){q=!0,he.forEach((oe,fe)=>{ae.has(fe)&&ie.add(fe),_e(fe)})}function Ue(oe,fe,Ee={}){D.fetchers.set(oe,fe),pt({fetchers:new Map(D.fetchers)},{flushSync:(Ee&&Ee.flushSync)===!0})}function Re(oe,fe,Ee,Pe={}){let tt=mA(D.matches,fe);Vt(oe),pt({errors:{[tt.route.id]:Ee},fetchers:new Map(D.fetchers)},{flushSync:(Pe&&Pe.flushSync)===!0})}function gt(oe){return Ne.set(oe,(Ne.get(oe)||0)+1),ye.has(oe)&&ye.delete(oe),D.fetchers.get(oe)||s7}function Mt(oe,fe){_e(oe,fe==null?void 0:fe.reason),Ue(oe,ol(null))}function Vt(oe){let fe=D.fetchers.get(oe);ae.has(oe)&&!(fe&&fe.state==="loading"&&ke.has(oe))&&_e(oe),he.delete(oe),ke.delete(oe),ne.delete(oe),ye.delete(oe),ie.delete(oe),D.fetchers.delete(oe)}function Fe(oe){let fe=(Ne.get(oe)||0)-1;fe<=0?(Ne.delete(oe),ye.add(oe)):Ne.set(oe,fe),pt({fetchers:new Map(D.fetchers)})}function _e(oe,fe){let Ee=ae.get(oe);Ee&&(Ee.abort(fe),ae.delete(oe))}function xe(oe){for(let fe of oe){let Ee=gt(fe),Pe=ol(Ee.data);D.fetchers.set(fe,Pe)}}function Xe(){let oe=[],fe=!1;for(let Ee of ne){let Pe=D.fetchers.get(Ee);cn(Pe,`Expected fetcher: ${Ee}`),Pe.state==="loading"&&(ne.delete(Ee),oe.push(Ee),fe=!0)}return xe(oe),fe}function ze(oe){let fe=[];for(let[Ee,Pe]of ke)if(Pe<oe){let tt=D.fetchers.get(Ee);cn(tt,`Expected fetcher: ${Ee}`),tt.state==="loading"&&(_e(Ee),ke.delete(Ee),fe.push(Ee))}return xe(fe),fe.length>0}function dt(oe,fe){let Ee=D.blockers.get(oe)||Df;return Ge.get(oe)!==fe&&Ge.set(oe,fe),Ee}function un(oe){D.blockers.delete(oe),Ge.delete(oe)}function gn(oe,fe){let Ee=D.blockers.get(oe)||Df;cn(Ee.state==="unblocked"&&fe.state==="blocked"||Ee.state==="blocked"&&fe.state==="blocked"||Ee.state==="blocked"&&fe.state==="proceeding"||Ee.state==="blocked"&&fe.state==="unblocked"||Ee.state==="proceeding"&&fe.state==="unblocked",`Invalid blocker state transition: ${Ee.state} -> ${fe.state}`);let Pe=new Map(D.blockers);Pe.set(oe,fe),pt({blockers:Pe})}function mn({currentLocation:oe,nextLocation:fe,historyAction:Ee}){if(Ge.size===0)return;Ge.size>1&&Sr(!1,"A router only supports one blocker at a time");let Pe=Array.from(Ge.entries()),[tt,ot]=Pe[Pe.length-1],Le=D.blockers.get(tt);if(!(Le&&Le.state==="proceeding")&&ot({currentLocation:oe,nextLocation:fe,historyAction:Ee}))return tt}function Ct(oe){let fe=Ca(404,{pathname:oe}),Ee=u||A,{matches:Pe,route:tt}=Ig(Ee);return{notFoundMatches:Pe,route:tt,error:fe}}function bn(oe,fe,Ee){if(E=oe,M=fe,I=Ee||null,!R&&D.navigation===cy){R=!0;let Pe=$n(D.location,D.matches);Pe!=null&&pt({restoreScrollPosition:Pe})}return()=>{E=null,M=null,I=null}}function Rn(oe,fe){return I&&I(oe,fe.map(Pe=>IR(Pe,D.loaderData)))||oe.key}function Di(oe,fe){if(E&&M){let Ee=Rn(oe,fe);E[Ee]=M()}}function $n(oe,fe){if(E){let Ee=Rn(oe,fe),Pe=E[Ee];if(typeof Pe=="number")return Pe}return null}function Yi(oe,fe,Ee){if(t.patchRoutesOnNavigation)if(oe){if(Object.keys(oe[0].params).length>0)return{active:!0,matches:Jf(fe,Ee,f,!0)}}else return{active:!0,matches:Jf(fe,Ee,f,!0)||[]};return{active:!1,matches:null}}async function Zn(oe,fe,Ee,Pe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:oe};let tt=oe;for(;;){let ot=u==null,Le=u||A,st=a;try{await t.patchRoutesOnNavigation({signal:Ee,path:fe,matches:tt,fetcherKey:Pe,patch:(yt,xt)=>{Ee.aborted||Y3(yt,xt,Le,st,s,!1)}})}catch(yt){return{type:"error",error:yt,partialMatches:tt}}finally{ot&&!Ee.aborted&&(A=[...A])}if(Ee.aborted)return{type:"aborted"};let it=gA(Le,fe,f),rt=null;if(it){if(Object.keys(it[0].params).length===0)return{type:"success",matches:it};if(rt=Jf(Le,fe,f,!0),!(rt&&tt.length<rt.length&&Ri(tt,rt.slice(0,tt.length))))return{type:"success",matches:it}}if(rt||(rt=Jf(Le,fe,f,!0)),!rt||Ri(tt,rt))return{type:"success",matches:null};tt=rt}}function Ri(oe,fe){return oe.length===fe.length&&oe.every((Ee,Pe)=>Ee.route.id===fe[Pe].route.id)}function aa(oe){a={},u=Oh(oe,s,void 0,a)}function xs(oe,fe,Ee=!1){let Pe=u==null;Y3(oe,fe,u||A,a,s,Ee),Pe&&(A=[...A],pt({}))}return Q={get basename(){return f},get future(){return w},get state(){return D},get routes(){return A},get window(){return e},initialize:qe,subscribe:Qt,enableScrollRestoration:bn,navigate:Et,fetch:ci,revalidate:Lr,createHref:oe=>t.history.createHref(oe),encodeLocation:oe=>t.history.encodeLocation(oe),getFetcher:gt,resetFetcher:Mt,deleteFetcher:Fe,dispose:vt,getBlocker:dt,deleteBlocker:un,patchRoutes:xs,_internalFetchControllers:ae,_internalSetRoutes:aa,_internalSetStateDoNotUseOrYouWillBreakYourApp(oe){pt(oe)}},t.unstable_instrumentations&&(Q=XR(Q,t.unstable_instrumentations.map(oe=>oe.router).filter(Boolean))),Q}function l7(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function uv(t,e,n,r,i,s){let a,A;if(i){a=[];for(let f of e)if(a.push(f),f.route.id===i){A=f;break}}else a=e,A=e[e.length-1];let u=b0(r||".",v0(a),Oa(t.pathname,n)||t.pathname,s==="path");if(r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&A){let f=Pb(u.search);if(A.route.index&&!f)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!A.route.index&&f){let m=new URLSearchParams(u.search),w=m.getAll("index");m.delete("index"),w.filter(B=>B).forEach(B=>m.append("index",B));let C=m.toString();u.search=C?`?${C}`:""}}return n!=="/"&&(u.pathname=PR({basename:n,pathname:u.pathname})),yo(u)}function X3(t,e,n){if(!n||!l7(n))return{path:e};if(n.formMethod&&!B7(n.formMethod))return{path:e,error:Ca(405,{method:n.formMethod})};let r=()=>({path:e,error:Ca(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),a=d8(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!us(s))return r();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((C,[B,E])=>`${C}${B}=${E}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!us(s))return r();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return r()}}}cn(typeof FormData=="function","FormData is not available in this environment");let A,u;if(n.formData)A=hv(n.formData),u=n.formData;else if(n.body instanceof FormData)A=hv(n.body),u=n.body;else if(n.body instanceof URLSearchParams)A=n.body,u=nS(A);else if(n.body==null)A=new URLSearchParams,u=new FormData;else try{A=new URLSearchParams(n.body),u=nS(A)}catch{return r()}let f={formMethod:s,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(us(f.formMethod))return{path:e,submission:f};let m=jA(e);return t&&m.search&&Pb(m.search)&&A.append("index",""),m.search=`?${A}`,{path:yo(m),submission:f}}function q3(t,e,n,r,i,s,a,A,u,f,m,w,C,B,E,I,M,R,L,U){var te;let O=U?ta(U[1])?U[1].error:U[1].data:void 0,F=i.createURL(s.location),Q=i.createURL(u),D;if(m&&s.errors){let q=Object.keys(s.errors)[0];D=a.findIndex(ie=>ie.route.id===q)}else if(U&&ta(U[1])){let q=U[0];D=a.findIndex(ie=>ie.route.id===q)-1}let j=U?U[1].statusCode:void 0,V=j&&j>=400,W={currentUrl:F,currentParams:((te=s.matches[0])==null?void 0:te.params)||{},nextUrl:Q,nextParams:a[0].params,...A,actionResult:O,actionStatus:j},Y=Hb(a.map(q=>q.route.path)),J=a.map((q,ie)=>{let{route:ae}=q,se=null;if(D!=null&&ie>D?se=!1:ae.lazy?se=!0:jb(ae)?m?se=dv(ae,s.loaderData,s.errors):A7(s.loaderData,s.matches[ie],q)&&(se=!0):se=!1,se!==null)return fv(n,r,t,Y,q,f,e,se);let me=V?!1:w||F.pathname+F.search===Q.pathname+Q.search||F.search!==Q.search||c7(s.matches[ie],q),ke={...W,defaultShouldRevalidate:me},ne=tm(q,ke);return fv(n,r,t,Y,q,f,e,ne,ke)}),re=[];return E.forEach((q,ie)=>{if(m||!a.some(ye=>ye.route.id===q.routeId)||B.has(ie))return;let ae=s.fetchers.get(ie),se=ae&&ae.state!=="idle"&&ae.data===void 0,me=gA(M,q.path,R);if(!me){if(L&&se)return;re.push({key:ie,routeId:q.routeId,path:q.path,matches:null,match:null,request:null,controller:null});return}if(I.has(ie))return;let ke=L1(me,q.path),ne=new AbortController,he=cd(i,q.path,ne.signal),Ne=null;if(C.has(ie))C.delete(ie),Ne=vd(n,r,he,me,ke,f,e);else if(se)w&&(Ne=vd(n,r,he,me,ke,f,e));else{let ye={...W,defaultShouldRevalidate:V?!1:w};tm(ke,ye)&&(Ne=vd(n,r,he,me,ke,f,e,ye))}Ne&&re.push({key:ie,routeId:q.routeId,path:q.path,matches:Ne,match:ke,request:he,controller:ne})}),{dsMatches:J,revalidatingFetchers:re}}function jb(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function dv(t,e,n){if(t.lazy)return!0;if(!jb(t))return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function A7(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function c7(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function tm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Y3(t,e,n,r,i,s){let a;if(t){let f=r[t];cn(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),a=f.children}else a=n;let A=[],u=[];if(e.forEach(f=>{let m=a.find(w=>o8(f,w));m?u.push({existingRoute:m,newRoute:f}):A.push(f)}),A.length>0){let f=Oh(A,i,[t||"_","patch",String((a==null?void 0:a.length)||"0")],r);a.push(...f)}if(s&&u.length>0)for(let f=0;f<u.length;f++){let{existingRoute:m,newRoute:w}=u[f],C=m,[B]=Oh([w],i,[],{},!0);Object.assign(C,{element:B.element?B.element:C.element,errorElement:B.errorElement?B.errorElement:C.errorElement,hydrateFallbackElement:B.hydrateFallbackElement?B.hydrateFallbackElement:C.hydrateFallbackElement})}}function o8(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>o8(n,s))}):!1}var Z3=new WeakMap,l8=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(cn(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let a=Z3.get(i);a||(a={},Z3.set(i,a));let A=a[t];if(A)return A;let u=(async()=>{let f=_R(t),w=i[t]!==void 0&&t!=="hasErrorBoundary";if(f)Sr(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(w)Sr(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let C=await s();C!=null&&(Object.assign(i,{[t]:C}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(C=>C===void 0)&&(i.lazy=void 0))})();return a[t]=u,u},J3=new WeakMap;function u7(t,e,n,r,i){let s=n[t.id];if(cn(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let m=J3.get(s);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let w=(async()=>{cn(typeof t.lazy=="function","No lazy route function found");let C=await t.lazy(),B={};for(let E in C){let I=C[E];if(I===void 0)continue;let M=SR(E),L=s[E]!==void 0&&E!=="hasErrorBoundary";M?Sr(!M,"Route property "+E+" is not a supported property to be returned from a lazy route function. This property will be ignored."):L?Sr(!L,`Route "${s.id}" has a static property "${E}" defined but its lazy function is also returning a value for this property. The lazy route property "${E}" will be ignored.`):B[E]=I}Object.assign(s,B),Object.assign(s,{...r(s),lazy:void 0})})();return J3.set(s,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let a=Object.keys(t.lazy),A=[],u;for(let m of a){if(i&&i.includes(m))continue;let w=l8({key:m,route:t,manifest:n,mapRouteProperties:r});w&&(A.push(w),m===e&&(u=w))}let f=A.length>0?Promise.all(A).then(()=>{}):void 0;return f==null||f.catch(()=>{}),u==null||u.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:u}}async function eS(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function d7(t){return t.matches.some(e=>e.route.middleware)?A8(t,()=>eS(t)):eS(t)}function A8(t,e){return f7(t,e,r=>r,v7,n);function n(r,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:r}}));{let{matches:a}=t,A=Math.min(Math.max(a.findIndex(f=>f.route.id===i),0),Math.max(a.findIndex(f=>f.unstable_shouldCallHandler()),0)),u=mA(a,a[A].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:r}})}}}async function f7(t,e,n,r,i){let{matches:s,request:a,params:A,context:u,unstable_pattern:f}=t,m=s.flatMap(C=>C.route.middleware?C.route.middleware.map(B=>[C.route.id,B]):[]);return await c8({request:a,params:A,context:u,unstable_pattern:f},m,e,n,r,i)}async function c8(t,e,n,r,i,s,a=0){let{request:A}=t;if(A.signal.aborted)throw A.signal.reason??new Error(`Request aborted: ${A.method} ${A.url}`);let u=e[a];if(!u)return await n();let[f,m]=u,w,C=async()=>{if(w)throw new Error("You may only call `next()` once per middleware");try{return w={value:await c8(t,e,n,r,i,s,a+1)},w.value}catch(B){return w={value:await s(B,f,w)},w.value}};try{let B=await m(t,C),E=B!=null?r(B):void 0;return i(E)?E:w?E??w.value:(w={value:await C()},w.value)}catch(B){return await s(B,f,w)}}function u8(t,e,n,r,i){let s=l8({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),a=u7(r.route,us(n.method)?"action":"loader",e,t,i);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function fv(t,e,n,r,i,s,a,A,u=null){let f=!1,m=u8(t,e,n,i,s);return{...i,_lazyPromises:m,shouldLoad:A,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler(w){return f=!0,u?typeof w=="boolean"?tm(i,{...u,defaultShouldRevalidate:w}):tm(i,u):A},resolve(w){let{lazy:C,loader:B,middleware:E}=i.route,I=f||A||w&&!us(n.method)&&(C||B),M=E&&E.length>0&&!B&&!C;return I&&(us(n.method)||!M)?p7({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:w,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function vd(t,e,n,r,i,s,a,A=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:A,unstable_shouldCallHandler:()=>!1,_lazyPromises:u8(t,e,n,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:fv(t,e,n,Hb(r.map(f=>f.route.path)),u,s,a,!0,A))}async function h7(t,e,n,r,i,s){n.some(f=>{var m;return(m=f._lazyPromises)==null?void 0:m.middleware})&&await Promise.all(n.map(f=>{var m;return(m=f._lazyPromises)==null?void 0:m.middleware}));let a={request:e,unstable_pattern:Hb(n.map(f=>f.route.path)),params:n[0].params,context:i,matches:n},u=await t({...a,fetcherKey:r,runClientMiddleware:f=>{let m=a;return A8(m,()=>f({...m,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(f=>{var m,w;return[(m=f._lazyPromises)==null?void 0:m.handler,(w=f._lazyPromises)==null?void 0:w.route]}))}catch{}return u}async function p7({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:s,scopedContext:a}){let A,u,f=us(t.method),m=f?"action":"loader",w=C=>{let B,E=new Promise((R,L)=>B=L);u=()=>B(),t.signal.addEventListener("abort",u);let I=R=>typeof C!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${n.route.id}]`)):C({request:t,unstable_pattern:e,params:n.params,context:a},...R!==void 0?[R]:[]),M=(async()=>{try{return{type:"data",result:await(s?s(L=>I(L)):I())}}catch(R){return{type:"error",result:R}}})();return Promise.race([M,E])};try{let C=f?n.route.action:n.route.loader;if(r||i)if(C){let B,[E]=await Promise.all([w(C).catch(I=>{B=I}),r,i]);if(B!==void 0)throw B;A=E}else{await r;let B=f?n.route.action:n.route.loader;if(B)[A]=await Promise.all([w(B),i]);else if(m==="action"){let E=new URL(t.url),I=E.pathname+E.search;throw Ca(405,{method:t.method,pathname:I,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(C)A=await w(C);else{let B=new URL(t.url),E=B.pathname+B.search;throw Ca(404,{pathname:E})}}catch(C){return{type:"error",result:C}}finally{u&&t.signal.removeEventListener("abort",u)}return A}async function g7(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function m7(t){var r,i,s,a,A,u;let{result:e,type:n}=t;if(f8(e)){let f;try{f=await g7(e)}catch(m){return{type:"error",error:m}}return n==="error"?{type:"error",error:new em(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:"data",data:f,statusCode:e.status,headers:e.headers}}return n==="error"?aS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new em(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:Mh(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Mh(e)?e.status:void 0}:aS(e)?{type:"data",data:e.data,statusCode:(A=e.init)==null?void 0:A.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function x7(t,e,n,r,i){let s=t.headers.get("Location");if(cn(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!y0(s)){let a=r.slice(0,r.findIndex(A=>A.route.id===n)+1);s=uv(new URL(e.url),a,i,s),t.headers.set("Location",s)}return t}function tS(t,e,n){if(y0(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Oa(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function cd(t,e,n,r){let i=t.createURL(d8(e)).toString(),s={signal:n};if(r&&us(r.formMethod)){let{formMethod:a,formEncType:A}=r;s.method=a.toUpperCase(),A==="application/json"?(s.headers=new Headers({"Content-Type":A}),s.body=JSON.stringify(r.json)):A==="text/plain"?s.body=r.text:A==="application/x-www-form-urlencoded"&&r.formData?s.body=hv(r.formData):s.body=r.formData}return new Request(i,s)}function hv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function nS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function w7(t,e,n,r=!1,i=!1){let s={},a=null,A,u=!1,f={},m=n&&ta(n[1])?n[1].error:void 0;return t.forEach(w=>{if(!(w.route.id in e))return;let C=w.route.id,B=e[C];if(cn(!_c(B),"Cannot handle redirect results in processLoaderData"),ta(B)){let E=B.error;if(m!==void 0&&(E=m,m=void 0),a=a||{},i)a[C]=E;else{let I=mA(t,C);a[I.route.id]==null&&(a[I.route.id]=E)}r||(s[C]=a8),u||(u=!0,A=Mh(B.error)?B.error.status:500),B.headers&&(f[C]=B.headers)}else s[C]=B.data,B.statusCode&&B.statusCode!==200&&!u&&(A=B.statusCode),B.headers&&(f[C]=B.headers)}),m!==void 0&&n&&(a={[n[0]]:m},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:a,statusCode:A||200,loaderHeaders:f}}function rS(t,e,n,r,i,s){let{loaderData:a,errors:A}=w7(e,n,r);return i.filter(u=>!u.matches||u.matches.some(f=>f.shouldLoad)).forEach(u=>{let{key:f,match:m,controller:w}=u;if(w&&w.signal.aborted)return;let C=s[f];if(cn(C,"Did not find corresponding fetcher result"),ta(C)){let B=mA(t.matches,m==null?void 0:m.route.id);A&&A[B.route.id]||(A={...A,[B.route.id]:C.error}),t.fetchers.delete(f)}else if(_c(C))cn(!1,"Unhandled fetcher revalidation redirect");else{let B=ol(C.data);t.fetchers.set(f,B)}}),{loaderData:a,errors:A}}function iS(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==a8).reduce((s,[a,A])=>(s[a]=A,s),{});for(let s of n){let a=s.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function sS(t){return t?ta(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function mA(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ig(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ca(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let a="Unknown Server Error",A="Unknown @remix-run/router error";return t===400?(a="Bad Request",r&&e&&n?A=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(A="Unable to encode submission body")):t===403?(a="Forbidden",A=`Route "${n}" does not match URL "${e}"`):t===404?(a="Not Found",A=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",r&&e&&n?A=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(A=`Invalid request method "${r.toUpperCase()}"`)),new em(t||500,a,new Error(A),!0)}function Ng(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(_c(i))return{key:r,result:i}}}function d8(t){let e=typeof t=="string"?jA(t):t;return yo({...e,hash:""})}function y7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function v7(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&b7(n))}function b7(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function C7(t){return f8(t.result)&&r7.has(t.result.status)}function ta(t){return t.type==="error"}function _c(t){return(t&&t.type)==="redirect"}function aS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function f8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function B7(t){return n7.has(t.toUpperCase())}function us(t){return e7.has(t.toUpperCase())}function Pb(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function L1(t,e){let n=typeof e=="string"?jA(e).search:e.search;if(t[t.length-1].route.index&&Pb(n||""))return t[t.length-1];let r=n8(t);return r[r.length-1]}function oS(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function uy(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function _7(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Rf(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function E7(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ol(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function S7(t,e){try{let n=t.sessionStorage.getItem(s8);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function T7(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(s8,JSON.stringify(n))}catch(r){Sr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function I7(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var qc=H.createContext(null);qc.displayName="DataRouter";var Yh=H.createContext(null);Yh.displayName="DataRouterState";H.createContext(!1);var zb=H.createContext({isTransitioning:!1});zb.displayName="ViewTransition";var h8=H.createContext(new Map);h8.displayName="Fetchers";var N7=H.createContext(null);N7.displayName="Await";var Ka=H.createContext(null);Ka.displayName="Navigation";var C0=H.createContext(null);C0.displayName="Location";var Ma=H.createContext({outlet:null,matches:[],isDataRoute:!1});Ma.displayName="Route";var Vb=H.createContext(null);Vb.displayName="RouteError";function O7(t,{relative:e}={}){cn(Rd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=H.useContext(Ka),{hash:i,pathname:s,search:a}=Zh(t,{relative:e}),A=s;return n!=="/"&&(A=s==="/"?n:xo([n,s])),r.createHref({pathname:A,search:a,hash:i})}function Rd(){return H.useContext(C0)!=null}function vr(){return cn(Rd(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(C0).location}var p8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function g8(t){H.useContext(Ka).static||H.useLayoutEffect(t)}function Wt(){let{isDataRoute:t}=H.useContext(Ma);return t?G7():M7()}function M7(){cn(Rd(),"useNavigate() may be used only in the context of a <Router> component.");let t=H.useContext(qc),{basename:e,navigator:n}=H.useContext(Ka),{matches:r}=H.useContext(Ma),{pathname:i}=vr(),s=JSON.stringify(v0(r)),a=H.useRef(!1);return g8(()=>{a.current=!0}),H.useCallback((u,f={})=>{if(Sr(a.current,p8),!a.current)return;if(typeof u=="number"){n.go(u);return}let m=b0(u,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:xo([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,s,i,t])}var k7=H.createContext(null);function F7(t){let e=H.useContext(Ma).outlet;return H.useMemo(()=>e&&H.createElement(k7.Provider,{value:t},e),[e,t])}function Ls(){let{matches:t}=H.useContext(Ma),e=t[t.length-1];return e?e.params:{}}function Zh(t,{relative:e}={}){let{matches:n}=H.useContext(Ma),{pathname:r}=vr(),i=JSON.stringify(v0(n));return H.useMemo(()=>b0(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function D7(t,e,n,r,i){cn(Rd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=H.useContext(Ka),{matches:a}=H.useContext(Ma),A=a[a.length-1],u=A?A.params:{},f=A?A.pathname:"/",m=A?A.pathnameBase:"/",w=A&&A.route;{let L=w&&w.path||"";m8(f,!w||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let C=vr(),B;B=C;let E=B.pathname||"/",I=E;if(m!=="/"){let L=m.replace(/^\//,"").split("/");I="/"+E.replace(/^\//,"").split("/").slice(L.length).join("/")}let M=gA(t,{pathname:I});return Sr(w||M!=null,`No routes matched location "${B.pathname}${B.search}${B.hash}" `),Sr(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${B.pathname}${B.search}${B.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),H7(M&&M.map(L=>Object.assign({},L,{params:Object.assign({},u,L.params),pathname:xo([m,s.encodeLocation?s.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?m:xo([m,s.encodeLocation?s.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),a,n,r,i)}function R7(){let t=K7(),e=Mh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:s},"ErrorBoundary")," or"," ",H.createElement("code",{style:s},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:i},n):null,a)}var L7=H.createElement(R7,null),U7=class extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?H.createElement(Ma.Provider,{value:this.props.routeContext},H.createElement(Vb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q7({routeContext:t,match:e,children:n}){let r=H.useContext(qc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Ma.Provider,{value:t},n)}function H7(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let m=s.findIndex(w=>w.route.id&&(a==null?void 0:a[w.route.id])!==void 0);cn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let A=!1,u=-1;if(n)for(let m=0;m<s.length;m++){let w=s[m];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(u=m),w.route.id){let{loaderData:C,errors:B}=n,E=w.route.loader&&!C.hasOwnProperty(w.route.id)&&(!B||B[w.route.id]===void 0);if(w.route.lazy||E){A=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let f=n&&r?(m,w)=>{var C,B;r(m,{location:n.location,params:((B=(C=n.matches)==null?void 0:C[0])==null?void 0:B.params)??{},errorInfo:w})}:void 0;return s.reduceRight((m,w,C)=>{let B,E=!1,I=null,M=null;n&&(B=a&&w.route.id?a[w.route.id]:void 0,I=w.route.errorElement||L7,A&&(u<0&&C===0?(m8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,M=null):u===C&&(E=!0,M=w.route.hydrateFallbackElement||null)));let R=e.concat(s.slice(0,C+1)),L=()=>{let U;return B?U=I:E?U=M:w.route.Component?U=H.createElement(w.route.Component,null):w.route.element?U=w.route.element:U=m,H.createElement(Q7,{match:w,routeContext:{outlet:m,matches:R,isDataRoute:n!=null},children:U})};return n&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?H.createElement(U7,{location:n.location,revalidation:n.revalidation,component:I,error:B,children:L(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:f}):L()},null)}function Kb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j7(t){let e=H.useContext(qc);return cn(e,Kb(t)),e}function P7(t){let e=H.useContext(Yh);return cn(e,Kb(t)),e}function z7(t){let e=H.useContext(Ma);return cn(e,Kb(t)),e}function Gb(t){let e=z7(t),n=e.matches[e.matches.length-1];return cn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function V7(){return Gb("useRouteId")}function K7(){var r;let t=H.useContext(Vb),e=P7("useRouteError"),n=Gb("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function G7(){let{router:t}=j7("useNavigate"),e=Gb("useNavigate"),n=H.useRef(!1);return g8(()=>{n.current=!0}),H.useCallback(async(i,s={})=>{Sr(n.current,p8),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var lS={};function m8(t,e,n){!e&&!lS[t]&&(lS[t]=!0,Sr(!1,n))}var AS={};function cS(t,e){!t&&!AS[e]&&(AS[e]=!0,console.warn(e))}function $7(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Sr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:H.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Sr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:H.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Sr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:H.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var W7=["HydrateFallback","hydrateFallbackElement"],X7=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function q7({router:t,flushSync:e,unstable_onError:n}){let[r,i]=H.useState(t.state),[s,a]=H.useState(),[A,u]=H.useState({isTransitioning:!1}),[f,m]=H.useState(),[w,C]=H.useState(),[B,E]=H.useState(),I=H.useRef(new Map),M=H.useCallback(F=>{i(Q=>(F.errors&&n&&Object.entries(F.errors).forEach(([D,j])=>{var V,W;((V=Q.errors)==null?void 0:V[D])!==j&&n(j,{location:F.location,params:((W=F.matches[0])==null?void 0:W.params)??{}})}),F))},[n]),R=H.useCallback((F,{deletedFetchers:Q,flushSync:D,viewTransitionOpts:j})=>{F.fetchers.forEach((W,Y)=>{W.data!==void 0&&I.current.set(Y,W.data)}),Q.forEach(W=>I.current.delete(W)),cS(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let V=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(cS(j==null||V,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!j||!V){e&&D?e(()=>M(F)):H.startTransition(()=>M(F));return}if(e&&D){e(()=>{w&&(f&&f.resolve(),w.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let W=t.window.document.startViewTransition(()=>{e(()=>M(F))});W.finished.finally(()=>{e(()=>{m(void 0),C(void 0),a(void 0),u({isTransitioning:!1})})}),e(()=>C(W));return}w?(f&&f.resolve(),w.skipTransition(),E({state:F,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(a(F),u({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[t.window,e,w,f,M]);H.useLayoutEffect(()=>t.subscribe(R),[t,R]),H.useEffect(()=>{A.isTransitioning&&!A.flushSync&&m(new X7)},[A]),H.useEffect(()=>{if(f&&s&&t.window){let F=s,Q=f.promise,D=t.window.document.startViewTransition(async()=>{H.startTransition(()=>M(F)),await Q});D.finished.finally(()=>{m(void 0),C(void 0),a(void 0),u({isTransitioning:!1})}),C(D)}},[s,f,t.window,M]),H.useEffect(()=>{f&&s&&r.location.key===s.location.key&&f.resolve()},[f,w,r.location,s]),H.useEffect(()=>{!A.isTransitioning&&B&&(a(B.state),u({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}),E(void 0))},[A.isTransitioning,B]);let L=H.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:F=>t.navigate(F),push:(F,Q,D)=>t.navigate(F,{state:Q,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(F,Q,D)=>t.navigate(F,{replace:!0,state:Q,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[t]),U=t.basename||"/",O=H.useMemo(()=>({router:t,navigator:L,static:!1,basename:U,unstable_onError:n}),[t,L,U,n]);return H.createElement(H.Fragment,null,H.createElement(qc.Provider,{value:O},H.createElement(Yh.Provider,{value:r},H.createElement(h8.Provider,{value:I.current},H.createElement(zb.Provider,{value:A},H.createElement(J7,{basename:U,location:r.location,navigationType:r.historyAction,navigator:L},H.createElement(Y7,{routes:t.routes,future:t.future,state:r,unstable_onError:n})))))),null)}var Y7=H.memo(Z7);function Z7({routes:t,future:e,state:n,unstable_onError:r}){return D7(t,void 0,n,r,e)}function pv({to:t,replace:e,state:n,relative:r}){cn(Rd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=H.useContext(Ka);Sr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=H.useContext(Ma),{pathname:a}=vr(),A=Wt(),u=b0(t,v0(s),a,r==="path"),f=JSON.stringify(u);return H.useEffect(()=>{A(JSON.parse(f),{replace:e,state:n,relative:r})},[A,f,r,e,n]),null}function $b(t){return F7(t.context)}function J7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){cn(!Rd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),A=H.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=jA(n));let{pathname:u="/",search:f="",hash:m="",state:w=null,key:C="default"}=n,B=H.useMemo(()=>{let E=Oa(u,a);return E==null?null:{location:{pathname:E,search:f,hash:m,state:w,key:C},navigationType:r}},[a,u,f,m,w,C,r]);return Sr(B!=null,`<Router basename="${a}"> is not able to match the URL "${u}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:H.createElement(Ka.Provider,{value:A},H.createElement(C0.Provider,{children:e,value:B}))}var U1="get",Q1="application/x-www-form-urlencoded";function B0(t){return t!=null&&typeof t.tagName=="string"}function e9(t){return B0(t)&&t.tagName.toLowerCase()==="button"}function t9(t){return B0(t)&&t.tagName.toLowerCase()==="form"}function n9(t){return B0(t)&&t.tagName.toLowerCase()==="input"}function r9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function i9(t,e){return t.button===0&&(!e||e==="_self")&&!r9(t)}function gv(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function s9(t,e){let n=gv(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Og=null;function a9(){if(Og===null)try{new FormData(document.createElement("form"),0),Og=!1}catch{Og=!0}return Og}var o9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dy(t){return t!=null&&!o9.has(t)?(Sr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Q1}"`),null):t}function l9(t,e){let n,r,i,s,a;if(t9(t)){let A=t.getAttribute("action");r=A?Oa(A,e):null,n=t.getAttribute("method")||U1,i=dy(t.getAttribute("enctype"))||Q1,s=new FormData(t)}else if(e9(t)||n9(t)&&(t.type==="submit"||t.type==="image")){let A=t.form;if(A==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||A.getAttribute("action");if(r=u?Oa(u,e):null,n=t.getAttribute("formmethod")||A.getAttribute("method")||U1,i=dy(t.getAttribute("formenctype"))||dy(A.getAttribute("enctype"))||Q1,s=new FormData(A,t),!a9()){let{name:f,type:m,value:w}=t;if(m==="image"){let C=f?`${f}.`:"";s.append(`${C}x`,"0"),s.append(`${C}y`,"0")}else f&&s.append(f,w)}}else{if(B0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=U1,r=null,i=Q1,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function A9(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Oa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function c9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function d9(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await c9(s,n);return a.links?a.links():[]}return[]}));return g9(r.flat(1).filter(u9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function uS(t,e,n,r,i,s){let a=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,A=(u,f)=>{var m;return n[f].pathname!==u.pathname||((m=n[f].route.path)==null?void 0:m.endsWith("*"))&&n[f].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,f)=>a(u,f)||A(u,f)):s==="data"?e.filter((u,f)=>{var w;let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(a(u,f)||A(u,f))return!0;if(u.route.shouldRevalidate){let C=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function f9(t,e,{includeHydrateFallback:n}={}){return h9(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function h9(t){return[...new Set(t)]}function p9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function g9(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(p9(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function x8(){let t=H.useContext(qc);return Wb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function m9(){let t=H.useContext(Yh);return Wb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xb=H.createContext(void 0);Xb.displayName="FrameworkContext";function w8(){let t=H.useContext(Xb);return Wb(t,"You must render this element inside a <HydratedRouter> element"),t}function x9(t,e){let n=H.useContext(Xb),[r,i]=H.useState(!1),[s,a]=H.useState(!1),{onFocus:A,onBlur:u,onMouseEnter:f,onMouseLeave:m,onTouchStart:w}=e,C=H.useRef(null);H.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let I=R=>{R.forEach(L=>{a(L.isIntersecting)})},M=new IntersectionObserver(I,{threshold:.5});return C.current&&M.observe(C.current),()=>{M.disconnect()}}},[t]),H.useEffect(()=>{if(r){let I=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(I)}}},[r]);let B=()=>{i(!0)},E=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,C,{}]:[s,C,{onFocus:Lf(A,B),onBlur:Lf(u,E),onMouseEnter:Lf(f,B),onMouseLeave:Lf(m,E),onTouchStart:Lf(w,B)}]:[!1,C,{}]}function Lf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function w9({page:t,...e}){let{router:n}=x8(),r=H.useMemo(()=>gA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?H.createElement(v9,{page:t,matches:r,...e}):null}function y9(t){let{manifest:e,routeModules:n}=w8(),[r,i]=H.useState([]);return H.useEffect(()=>{let s=!1;return d9(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function v9({page:t,matches:e,...n}){let r=vr(),{manifest:i,routeModules:s}=w8(),{basename:a}=x8(),{loaderData:A,matches:u}=m9(),f=H.useMemo(()=>uS(t,e,u,i,r,"data"),[t,e,u,i,r]),m=H.useMemo(()=>uS(t,e,u,i,r,"assets"),[t,e,u,i,r]),w=H.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,I=!1;if(e.forEach(R=>{var U;let L=i.routes[R.route.id];!L||!L.hasLoader||(!f.some(O=>O.route.id===R.route.id)&&R.route.id in A&&((U=s[R.route.id])!=null&&U.shouldRevalidate)||L.hasClientLoader?I=!0:E.add(R.route.id))}),E.size===0)return[];let M=A9(t,a,"data");return I&&E.size>0&&M.searchParams.set("_routes",e.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[M.pathname+M.search]},[a,A,r,i,f,e,t,s]),C=H.useMemo(()=>f9(m,i),[m,i]),B=y9(m);return H.createElement(H.Fragment,null,w.map(E=>H.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),C.map(E=>H.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),B.map(({key:E,link:I})=>H.createElement("link",{key:E,nonce:n.nonce,...I})))}function b9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var y8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y8&&(window.__reactRouterVersion="7.9.6")}catch{}function C9(t,e){return o7({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:vR({window:e==null?void 0:e.window}),hydrationData:B9(),routes:t,mapRouteProperties:$7,hydrationRouteProperties:W7,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function B9(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:_9(t.errors)}),t}function _9(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new em(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var v8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yr=H.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:A,target:u,to:f,preventScrollReset:m,viewTransition:w,...C},B){let{basename:E}=H.useContext(Ka),I=typeof f=="string"&&v8.test(f),M,R=!1;if(typeof f=="string"&&I&&(M=f,y8))try{let V=new URL(window.location.href),W=f.startsWith("//")?new URL(V.protocol+f):new URL(f),Y=Oa(W.pathname,E);W.origin===V.origin&&Y!=null?f=Y+W.search+W.hash:R=!0}catch{Sr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=O7(f,{relative:i}),[U,O,F]=x9(r,C),Q=T9(f,{replace:a,state:A,target:u,preventScrollReset:m,relative:i,viewTransition:w});function D(V){e&&e(V),V.defaultPrevented||Q(V)}let j=H.createElement("a",{...C,...F,href:M||L,onClick:R||s?e:D,ref:b9(B,O),target:u,"data-discover":!I&&n==="render"?"true":void 0});return U&&!I?H.createElement(H.Fragment,null,j,H.createElement(w9,{page:L})):j});yr.displayName="Link";var b8=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:A,children:u,...f},m){let w=Zh(a,{relative:f.relative}),C=vr(),B=H.useContext(Yh),{navigator:E,basename:I}=H.useContext(Ka),M=B!=null&&k9(w)&&A===!0,R=E.encodeLocation?E.encodeLocation(w).pathname:w.pathname,L=C.pathname,U=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;n||(L=L.toLowerCase(),U=U?U.toLowerCase():null,R=R.toLowerCase()),U&&I&&(U=Oa(U,I)||U);const O=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let F=L===R||!i&&L.startsWith(R)&&L.charAt(O)==="/",Q=U!=null&&(U===R||!i&&U.startsWith(R)&&U.charAt(R.length)==="/"),D={isActive:F,isPending:Q,isTransitioning:M},j=F?e:void 0,V;typeof r=="function"?V=r(D):V=[r,F?"active":null,Q?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let W=typeof s=="function"?s(D):s;return H.createElement(yr,{...f,"aria-current":j,className:V,ref:m,style:W,to:a,viewTransition:A},typeof u=="function"?u(D):u)});b8.displayName="NavLink";var E9=H.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=U1,action:A,onSubmit:u,relative:f,preventScrollReset:m,viewTransition:w,...C},B)=>{let E=O9(),I=M9(A,{relative:f}),M=a.toLowerCase()==="get"?"get":"post",R=typeof A=="string"&&v8.test(A),L=U=>{if(u&&u(U),U.defaultPrevented)return;U.preventDefault();let O=U.nativeEvent.submitter,F=(O==null?void 0:O.getAttribute("formmethod"))||a;E(O||U.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:i,state:s,relative:f,preventScrollReset:m,viewTransition:w})};return H.createElement("form",{ref:B,method:M,action:I,onSubmit:r?u:L,...C,"data-discover":!R&&t==="render"?"true":void 0})});E9.displayName="Form";function S9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C8(t){let e=H.useContext(qc);return cn(e,S9(t)),e}function T9(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let A=Wt(),u=vr(),f=Zh(t,{relative:s});return H.useCallback(m=>{if(i9(m,e)){m.preventDefault();let w=n!==void 0?n:yo(u)===yo(f);A(t,{replace:w,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[u,A,f,n,r,e,t,i,s,a])}function B8(t){Sr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=H.useRef(gv(t)),n=H.useRef(!1),r=vr(),i=H.useMemo(()=>s9(r.search,n.current?null:e.current),[r.search]),s=Wt(),a=H.useCallback((A,u)=>{const f=gv(typeof A=="function"?A(new URLSearchParams(i)):A);n.current=!0,s("?"+f,u)},[s,i]);return[i,a]}var I9=0,N9=()=>`__${String(++I9)}__`;function O9(){let{router:t}=C8("useSubmit"),{basename:e}=H.useContext(Ka),n=V7();return H.useCallback(async(r,i={})=>{let{action:s,method:a,encType:A,formData:u,body:f}=l9(r,e);if(i.navigate===!1){let m=i.fetcherKey||N9();await t.fetch(m,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||a,formEncType:i.encType||A,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||a,formEncType:i.encType||A,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function M9(t,{relative:e}={}){let{basename:n}=H.useContext(Ka),r=H.useContext(Ma);cn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Zh(t||".",{relative:e})},a=vr();if(t==null){s.search=a.search;let A=new URLSearchParams(s.search),u=A.getAll("index");if(u.some(m=>m==="")){A.delete("index"),u.filter(w=>w).forEach(w=>A.append("index",w));let m=A.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:xo([n,s.pathname])),yo(s)}function k9(t,{relative:e}={}){let n=H.useContext(zb);cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=C8("useViewTransitionState"),i=Zh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Oa(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Oa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return J1(i.pathname,a)!=null||J1(i.pathname,s)!=null}var qb=qN();const F9=Cl(qb);function D9(t){return H.createElement(q7,{flushSync:qb.flushSync,...t})}function _8(){const{pathname:t}=vr();return H.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const R9="_headerLayout_9ytyz_1",L9="_logoButton_9ytyz_35",U9="_rightSection_9ytyz_63",Q9="_notificationButton_9ytyz_87",Mg={headerLayout:R9,logoButton:L9,rightSection:U9,notificationButton:Q9};var kg={},dS;function H9(){if(dS)return kg;dS=1,kg.match=s,kg.parse=a;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function s(m,w){return a(m).some(function(C){var B=C.inverse,E=C.type==="all"||w.type===C.type;if(E&&B||!(E||B))return!1;var I=C.expressions.every(function(M){var R=M.feature,L=M.modifier,U=M.value,O=w[R];if(!O)return!1;switch(R){case"orientation":case"scan":return O.toLowerCase()===U.toLowerCase();case"width":case"height":case"device-width":case"device-height":U=f(U),O=f(O);break;case"resolution":U=u(U),O=u(O);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":U=A(U),O=A(O);break;case"grid":case"color":case"color-index":case"monochrome":U=parseInt(U,10)||1,O=parseInt(O,10)||0;break}switch(L){case"min":return O>=U;case"max":return O<=U;default:return O===U}});return I&&!B||!I&&B})}function a(m){return m.split(",").map(function(w){w=w.trim();var C=w.match(t),B=C[1],E=C[2],I=C[3]||"",M={};return M.inverse=!!B&&B.toLowerCase()==="not",M.type=E?E.toLowerCase():"all",I=I.match(/\([^\)]+\)/g)||[],M.expressions=I.map(function(R){var L=R.match(e),U=L[1].toLowerCase().match(n);return{modifier:U[1],feature:U[2],value:L[2]}}),M})}function A(m){var w=Number(m),C;return w||(C=m.match(/^(\d+)\s*\/\s*(\d+)$/),w=C[1]/C[2]),w}function u(m){var w=parseFloat(m),C=String(m).match(i)[1];switch(C){case"dpcm":return w/2.54;case"dppx":return w*96;default:return w}}function f(m){var w=parseFloat(m),C=String(m).match(r)[1];switch(C){case"em":return w*16;case"rem":return w*16;case"cm":return w*96/2.54;case"mm":return w*96/2.54/10;case"in":return w*96;case"pt":return w*72;case"pc":return w*72/12;default:return w}}return kg}var fy,fS;function j9(){if(fS)return fy;fS=1;var t=H9().match,e=typeof window<"u"?window.matchMedia:null;function n(i,s,a){var A=this,u;e&&!a&&(u=e.call(window,i)),u?(this.matches=u.matches,this.media=u.media,u.addListener(w)):(this.matches=t(i,s),this.media=i),this.addListener=f,this.removeListener=m,this.dispose=C;function f(B){u&&u.addListener(B)}function m(B){u&&u.removeListener(B)}function w(B){A.matches=B.matches,A.media=B.media}function C(){u&&u.removeListener(w)}}function r(i,s,a){return new n(i,s,a)}return fy=r,fy}var P9=j9();const z9=Cl(P9);var V9=/[A-Z]/g,K9=/^ms-/,hy={};function G9(t){return"-"+t.toLowerCase()}function E8(t){if(hy.hasOwnProperty(t))return hy[t];var e=t.replace(V9,G9);return hy[t]=K9.test(e)?"-"+e:e}function $9(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(let s=0;s<i;s++){const a=n[s];if(t[a]!==e[a]||!Object.prototype.hasOwnProperty.call(e,a))return!1}return!0}var py={exports:{}},gy,hS;function W9(){if(hS)return gy;hS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gy=t,gy}var my,pS;function X9(){if(pS)return my;pS=1;var t=W9();function e(){}function n(){}return n.resetWarningCache=e,my=function(){function r(a,A,u,f,m,w){if(w!==t){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},my}var gS;function Yb(){return gS||(gS=1,py.exports=X9()()),py.exports}var q9=Yb();const Bt=Cl(q9),cs=Bt.oneOfType([Bt.string,Bt.number]),S8={all:Bt.bool,grid:Bt.bool,aural:Bt.bool,braille:Bt.bool,handheld:Bt.bool,print:Bt.bool,projection:Bt.bool,screen:Bt.bool,tty:Bt.bool,tv:Bt.bool,embossed:Bt.bool},Y9={orientation:Bt.oneOf(["portrait","landscape"]),scan:Bt.oneOf(["progressive","interlace"]),aspectRatio:Bt.string,deviceAspectRatio:Bt.string,height:cs,deviceHeight:cs,width:cs,deviceWidth:cs,color:Bt.bool,colorIndex:Bt.bool,monochrome:Bt.bool,resolution:cs,type:Object.keys(S8)},{type:fEe,...Z9}=Y9,J9={minAspectRatio:Bt.string,maxAspectRatio:Bt.string,minDeviceAspectRatio:Bt.string,maxDeviceAspectRatio:Bt.string,minHeight:cs,maxHeight:cs,minDeviceHeight:cs,maxDeviceHeight:cs,minWidth:cs,maxWidth:cs,minDeviceWidth:cs,maxDeviceWidth:cs,minColor:Bt.number,maxColor:Bt.number,minColorIndex:Bt.number,maxColorIndex:Bt.number,minMonochrome:Bt.number,maxMonochrome:Bt.number,minResolution:cs,maxResolution:cs,...Z9},eL={...S8,...J9};var tL={all:eL};const nL=t=>`not ${t}`,rL=(t,e)=>{const n=E8(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?nL(n):`(${n}: ${e})`},iL=t=>t.join(" and "),sL=t=>{const e=[];return Object.keys(tL.all).forEach(n=>{const r=t[n];r!=null&&e.push(rL(n,r))}),iL(e)},aL=H.createContext(void 0),oL=t=>t.query||sL(t),mS=t=>t?Object.keys(t).reduce((n,r)=>(n[E8(r)]=t[r],n),{}):void 0,T8=()=>{const t=H.useRef(!1);return H.useEffect(()=>{t.current=!0},[]),t.current},lL=t=>{const e=H.useContext(aL),n=()=>mS(t)||mS(e),[r,i]=H.useState(n);return H.useEffect(()=>{const s=n();$9(r,s)||i(s)},[t,e]),r},AL=t=>{const e=()=>oL(t),[n,r]=H.useState(e);return H.useEffect(()=>{const i=e();n!==i&&r(i)},[t]),n},cL=(t,e)=>{const n=()=>z9(t,e||{},!!e),[r,i]=H.useState(n),s=T8();return H.useEffect(()=>{if(s){const a=n();return i(a),()=>{a&&a.dispose()}}},[t,e]),r},uL=t=>{const[e,n]=H.useState(t.matches);return H.useEffect(()=>{const r=i=>{n(i.matches)};return t.addListener(r),n(t.matches),()=>{t.removeListener(r)}},[t]),e},xy=(t,e,n)=>{const r=lL(e),i=AL(t);if(!i)throw new Error("Invalid or missing MediaQuery!");const s=cL(i,r),a=uL(s);return T8(),H.useEffect(()=>{},[a]),H.useEffect(()=>()=>{s&&s.dispose()},[]),a},Zb=()=>{const t=xy({maxWidth:767}),e=xy({minWidth:768,maxWidth:1024}),n=xy({minWidth:1025});return{isMobile:t,isTablet:e,isDesktop:n}},dL="_overlay_zs741_1",fL="_menuLayout_zs741_33",hL="_menuVisible_zs741_75",pL="_menuHidden_zs741_83",gL="_closeContainer_zs741_91",mL="_closeButton_zs741_123",xL="_menuSection_zs741_179",wL="_userNickname_zs741_195",yL="_menuSpan_zs741_211",vL="_divider_zs741_243",xr={overlay:dL,menuLayout:fL,menuVisible:hL,menuHidden:pL,closeContainer:gL,closeButton:mL,menuSection:xL,userNickname:wL,menuSpan:yL,divider:vL};function I8(t,e){return function(){return t.apply(e,arguments)}}const{toString:bL}=Object.prototype,{getPrototypeOf:Jb}=Object,{iterator:_0,toStringTag:N8}=Symbol,E0=(t=>e=>{const n=bL.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ga=t=>(t=t.toLowerCase(),e=>E0(e)===t),S0=t=>e=>typeof e===t,{isArray:Ld}=Array,Sd=S0("undefined");function Jh(t){return t!==null&&!Sd(t)&&t.constructor!==null&&!Sd(t.constructor)&&ks(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const O8=Ga("ArrayBuffer");function CL(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&O8(t.buffer),e}const BL=S0("string"),ks=S0("function"),M8=S0("number"),ep=t=>t!==null&&typeof t=="object",_L=t=>t===!0||t===!1,H1=t=>{if(E0(t)!=="object")return!1;const e=Jb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(N8 in t)&&!(_0 in t)},EL=t=>{if(!ep(t)||Jh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},SL=Ga("Date"),TL=Ga("File"),IL=Ga("Blob"),NL=Ga("FileList"),OL=t=>ep(t)&&ks(t.pipe),ML=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ks(t.append)&&((e=E0(t))==="formdata"||e==="object"&&ks(t.toString)&&t.toString()==="[object FormData]"))},kL=Ga("URLSearchParams"),[FL,DL,RL,LL]=["ReadableStream","Request","Response","Headers"].map(Ga),UL=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tp(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ld(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Jh(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let A;for(r=0;r<a;r++)A=s[r],e.call(null,t[A],A,t)}}function k8(t,e){if(Jh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,F8=t=>!Sd(t)&&t!==Ec;function mv(){const{caseless:t,skipUndefined:e}=F8(this)&&this||{},n={},r=(i,s)=>{const a=t&&k8(n,s)||s;H1(n[a])&&H1(i)?n[a]=mv(n[a],i):H1(i)?n[a]=mv({},i):Ld(i)?n[a]=i.slice():(!e||!Sd(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&tp(arguments[i],r);return n}const QL=(t,e,n,{allOwnKeys:r}={})=>(tp(e,(i,s)=>{n&&ks(i)?t[s]=I8(i,n):t[s]=i},{allOwnKeys:r}),t),HL=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),jL=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},PL=(t,e,n,r)=>{let i,s,a;const A={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!A[a]&&(e[a]=t[a],A[a]=!0);t=n!==!1&&Jb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},zL=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},VL=t=>{if(!t)return null;if(Ld(t))return t;let e=t.length;if(!M8(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},KL=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Jb(Uint8Array)),GL=(t,e)=>{const r=(t&&t[_0]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},$L=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},WL=Ga("HTMLFormElement"),XL=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),xS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),qL=Ga("RegExp"),D8=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};tp(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},YL=t=>{D8(t,(e,n)=>{if(ks(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ks(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ZL=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ld(t)?r(t):r(String(t).split(e)),n},JL=()=>{},eU=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function tU(t){return!!(t&&ks(t.append)&&t[N8]==="FormData"&&t[_0])}const nU=t=>{const e=new Array(10),n=(r,i)=>{if(ep(r)){if(e.indexOf(r)>=0)return;if(Jh(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Ld(r)?[]:{};return tp(r,(a,A)=>{const u=n(a,i+1);!Sd(u)&&(s[A]=u)}),e[i]=void 0,s}}return r};return n(t,0)},rU=Ga("AsyncFunction"),iU=t=>t&&(ep(t)||ks(t))&&ks(t.then)&&ks(t.catch),R8=((t,e)=>t?setImmediate:e?((n,r)=>(Ec.addEventListener("message",({source:i,data:s})=>{i===Ec&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ec.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ks(Ec.postMessage)),sU=typeof queueMicrotask<"u"?queueMicrotask.bind(Ec):typeof process<"u"&&process.nextTick||R8,aU=t=>t!=null&&ks(t[_0]),Oe={isArray:Ld,isArrayBuffer:O8,isBuffer:Jh,isFormData:ML,isArrayBufferView:CL,isString:BL,isNumber:M8,isBoolean:_L,isObject:ep,isPlainObject:H1,isEmptyObject:EL,isReadableStream:FL,isRequest:DL,isResponse:RL,isHeaders:LL,isUndefined:Sd,isDate:SL,isFile:TL,isBlob:IL,isRegExp:qL,isFunction:ks,isStream:OL,isURLSearchParams:kL,isTypedArray:KL,isFileList:NL,forEach:tp,merge:mv,extend:QL,trim:UL,stripBOM:HL,inherits:jL,toFlatObject:PL,kindOf:E0,kindOfTest:Ga,endsWith:zL,toArray:VL,forEachEntry:GL,matchAll:$L,isHTMLForm:WL,hasOwnProperty:xS,hasOwnProp:xS,reduceDescriptors:D8,freezeMethods:YL,toObjectSet:ZL,toCamelCase:XL,noop:JL,toFiniteNumber:eU,findKey:k8,global:Ec,isContextDefined:F8,isSpecCompliantForm:tU,toJSONObject:nU,isAsyncFn:rU,isThenable:iU,setImmediate:R8,asap:sU,isIterable:aU};function qt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Oe.inherits(qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const L8=qt.prototype,U8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{U8[t]={value:t}});Object.defineProperties(qt,U8);Object.defineProperty(L8,"isAxiosError",{value:!0});qt.from=(t,e,n,r,i,s)=>{const a=Object.create(L8);Oe.toFlatObject(t,a,function(m){return m!==Error.prototype},f=>f!=="isAxiosError");const A=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return qt.call(a,A,u,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const oU=null;function xv(t){return Oe.isPlainObject(t)||Oe.isArray(t)}function Q8(t){return Oe.endsWith(t,"[]")?t.slice(0,-2):t}function wS(t,e,n){return t?t.concat(e).map(function(i,s){return i=Q8(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function lU(t){return Oe.isArray(t)&&!t.some(xv)}const AU=Oe.toFlatObject(Oe,{},null,function(e){return/^is[A-Z]/.test(e)});function T0(t,e,n){if(!Oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,M){return!Oe.isUndefined(M[I])});const r=n.metaTokens,i=n.visitor||m,s=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(e);if(!Oe.isFunction(i))throw new TypeError("visitor must be a function");function f(E){if(E===null)return"";if(Oe.isDate(E))return E.toISOString();if(Oe.isBoolean(E))return E.toString();if(!u&&Oe.isBlob(E))throw new qt("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(E)||Oe.isTypedArray(E)?u&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function m(E,I,M){let R=E;if(E&&!M&&typeof E=="object"){if(Oe.endsWith(I,"{}"))I=r?I:I.slice(0,-2),E=JSON.stringify(E);else if(Oe.isArray(E)&&lU(E)||(Oe.isFileList(E)||Oe.endsWith(I,"[]"))&&(R=Oe.toArray(E)))return I=Q8(I),R.forEach(function(U,O){!(Oe.isUndefined(U)||U===null)&&e.append(a===!0?wS([I],O,s):a===null?I:I+"[]",f(U))}),!1}return xv(E)?!0:(e.append(wS(M,I,s),f(E)),!1)}const w=[],C=Object.assign(AU,{defaultVisitor:m,convertValue:f,isVisitable:xv});function B(E,I){if(!Oe.isUndefined(E)){if(w.indexOf(E)!==-1)throw Error("Circular reference detected in "+I.join("."));w.push(E),Oe.forEach(E,function(R,L){(!(Oe.isUndefined(R)||R===null)&&i.call(e,R,Oe.isString(L)?L.trim():L,I,C))===!0&&B(R,I?I.concat(L):[L])}),w.pop()}}if(!Oe.isObject(t))throw new TypeError("data must be an object");return B(t),e}function yS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function eC(t,e){this._pairs=[],t&&T0(t,this,e)}const H8=eC.prototype;H8.append=function(e,n){this._pairs.push([e,n])};H8.toString=function(e){const n=e?function(r){return e.call(this,r,yS)}:yS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function cU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function j8(t,e,n){if(!e)return t;const r=n&&n.encode||cU;Oe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Oe.isURLSearchParams(e)?e.toString():new eC(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class vS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const P8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uU=typeof URLSearchParams<"u"?URLSearchParams:eC,dU=typeof FormData<"u"?FormData:null,fU=typeof Blob<"u"?Blob:null,hU={isBrowser:!0,classes:{URLSearchParams:uU,FormData:dU,Blob:fU},protocols:["http","https","file","blob","url","data"]},tC=typeof window<"u"&&typeof document<"u",wv=typeof navigator=="object"&&navigator||void 0,pU=tC&&(!wv||["ReactNative","NativeScript","NS"].indexOf(wv.product)<0),gU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mU=tC&&window.location.href||"http://localhost",xU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tC,hasStandardBrowserEnv:pU,hasStandardBrowserWebWorkerEnv:gU,navigator:wv,origin:mU},Symbol.toStringTag,{value:"Module"})),Ki={...xU,...hU};function wU(t,e){return T0(t,new Ki.classes.URLSearchParams,{visitor:function(n,r,i,s){return Ki.isNode&&Oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function yU(t){return Oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vU(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function z8(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const A=Number.isFinite(+a),u=s>=n.length;return a=!a&&Oe.isArray(i)?i.length:a,u?(Oe.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!A):((!i[a]||!Oe.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&Oe.isArray(i[a])&&(i[a]=vU(i[a])),!A)}if(Oe.isFormData(t)&&Oe.isFunction(t.entries)){const n={};return Oe.forEachEntry(t,(r,i)=>{e(yU(r),i,n,0)}),n}return null}function bU(t,e,n){if(Oe.isString(t))try{return(e||JSON.parse)(t),Oe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const np={transitional:P8,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Oe.isObject(e);if(s&&Oe.isHTMLForm(e)&&(e=new FormData(e)),Oe.isFormData(e))return i?JSON.stringify(z8(e)):e;if(Oe.isArrayBuffer(e)||Oe.isBuffer(e)||Oe.isStream(e)||Oe.isFile(e)||Oe.isBlob(e)||Oe.isReadableStream(e))return e;if(Oe.isArrayBufferView(e))return e.buffer;if(Oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let A;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return wU(e,this.formSerializer).toString();if((A=Oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return T0(A?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),bU(e)):e}],transformResponse:[function(e){const n=this.transitional||np.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Oe.isResponse(e)||Oe.isReadableStream(e))return e;if(e&&Oe.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(A){if(a)throw A.name==="SyntaxError"?qt.from(A,qt.ERR_BAD_RESPONSE,this,null,this.response):A}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ki.classes.FormData,Blob:Ki.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],t=>{np.headers[t]={}});const CU=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BU=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&CU[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},bS=Symbol("internals");function Uf(t){return t&&String(t).trim().toLowerCase()}function j1(t){return t===!1||t==null?t:Oe.isArray(t)?t.map(j1):String(t)}function _U(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const EU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wy(t,e,n,r,i){if(Oe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Oe.isString(e)){if(Oe.isString(r))return e.indexOf(r)!==-1;if(Oe.isRegExp(r))return r.test(e)}}function SU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function TU(t,e){const n=Oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let Fs=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(A,u,f){const m=Uf(u);if(!m)throw new Error("header name must be a non-empty string");const w=Oe.findKey(i,m);(!w||i[w]===void 0||f===!0||f===void 0&&i[w]!==!1)&&(i[w||u]=j1(A))}const a=(A,u)=>Oe.forEach(A,(f,m)=>s(f,m,u));if(Oe.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Oe.isString(e)&&(e=e.trim())&&!EU(e))a(BU(e),n);else if(Oe.isObject(e)&&Oe.isIterable(e)){let A={},u,f;for(const m of e){if(!Oe.isArray(m))throw TypeError("Object iterator must return a key-value pair");A[f=m[0]]=(u=A[f])?Oe.isArray(u)?[...u,m[1]]:[u,m[1]]:m[1]}a(A,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Uf(e),e){const r=Oe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return _U(i);if(Oe.isFunction(n))return n.call(this,i,r);if(Oe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Uf(e),e){const r=Oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||wy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=Uf(a),a){const A=Oe.findKey(r,a);A&&(!n||wy(r,r[A],A,n))&&(delete r[A],i=!0)}}return Oe.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||wy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Oe.forEach(this,(i,s)=>{const a=Oe.findKey(r,s);if(a){n[a]=j1(i),delete n[s];return}const A=e?SU(s):String(s).trim();A!==s&&delete n[s],n[A]=j1(i),r[A]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[bS]=this[bS]={accessors:{}}).accessors,i=this.prototype;function s(a){const A=Uf(a);r[A]||(TU(i,a),r[A]=!0)}return Oe.isArray(e)?e.forEach(s):s(e),this}};Fs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(Fs.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Oe.freezeMethods(Fs);function yy(t,e){const n=this||np,r=e||n,i=Fs.from(r.headers);let s=r.data;return Oe.forEach(t,function(A){s=A.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function V8(t){return!!(t&&t.__CANCEL__)}function Ud(t,e,n){qt.call(this,t??"canceled",qt.ERR_CANCELED,e,n),this.name="CanceledError"}Oe.inherits(Ud,qt,{__CANCEL__:!0});function K8(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new qt("Request failed with status code "+n.status,[qt.ERR_BAD_REQUEST,qt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function IU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function NU(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(u){const f=Date.now(),m=r[s];a||(a=f),n[i]=u,r[i]=f;let w=s,C=0;for(;w!==i;)C+=n[w++],w=w%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),f-a<e)return;const B=m&&f-m;return B?Math.round(C*1e3/B):void 0}}function OU(t,e){let n=0,r=1e3/e,i,s;const a=(f,m=Date.now())=>{n=m,i=null,s&&(clearTimeout(s),s=null),t(...f)};return[(...f)=>{const m=Date.now(),w=m-n;w>=r?a(f,m):(i=f,s||(s=setTimeout(()=>{s=null,a(i)},r-w)))},()=>i&&a(i)]}const nm=(t,e,n=3)=>{let r=0;const i=NU(50,250);return OU(s=>{const a=s.loaded,A=s.lengthComputable?s.total:void 0,u=a-r,f=i(u),m=a<=A;r=a;const w={loaded:a,total:A,progress:A?a/A:void 0,bytes:u,rate:f||void 0,estimated:f&&A&&m?(A-a)/f:void 0,event:s,lengthComputable:A!=null,[e?"download":"upload"]:!0};t(w)},n)},CS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},BS=t=>(...e)=>Oe.asap(()=>t(...e)),MU=Ki.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ki.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ki.origin),Ki.navigator&&/(msie|trident)/i.test(Ki.navigator.userAgent)):()=>!0,kU=Ki.hasStandardBrowserEnv?{write(t,e,n,r,i,s,a){if(typeof document>"u")return;const A=[`${t}=${encodeURIComponent(e)}`];Oe.isNumber(n)&&A.push(`expires=${new Date(n).toUTCString()}`),Oe.isString(r)&&A.push(`path=${r}`),Oe.isString(i)&&A.push(`domain=${i}`),s===!0&&A.push("secure"),Oe.isString(a)&&A.push(`SameSite=${a}`),document.cookie=A.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function FU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function DU(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function G8(t,e,n){let r=!FU(e);return t&&(r||n==!1)?DU(t,e):e}const _S=t=>t instanceof Fs?{...t}:t;function jc(t,e){e=e||{};const n={};function r(f,m,w,C){return Oe.isPlainObject(f)&&Oe.isPlainObject(m)?Oe.merge.call({caseless:C},f,m):Oe.isPlainObject(m)?Oe.merge({},m):Oe.isArray(m)?m.slice():m}function i(f,m,w,C){if(Oe.isUndefined(m)){if(!Oe.isUndefined(f))return r(void 0,f,w,C)}else return r(f,m,w,C)}function s(f,m){if(!Oe.isUndefined(m))return r(void 0,m)}function a(f,m){if(Oe.isUndefined(m)){if(!Oe.isUndefined(f))return r(void 0,f)}else return r(void 0,m)}function A(f,m,w){if(w in e)return r(f,m);if(w in t)return r(void 0,f)}const u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:A,headers:(f,m,w)=>i(_S(f),_S(m),w,!0)};return Oe.forEach(Object.keys({...t,...e}),function(m){const w=u[m]||i,C=w(t[m],e[m],m);Oe.isUndefined(C)&&w!==A||(n[m]=C)}),n}const $8=t=>{const e=jc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:A}=e;if(e.headers=a=Fs.from(a),e.url=j8(G8(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),A&&a.set("Authorization","Basic "+btoa((A.username||"")+":"+(A.password?unescape(encodeURIComponent(A.password)):""))),Oe.isFormData(n)){if(Ki.hasStandardBrowserEnv||Ki.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Oe.isFunction(n.getHeaders)){const u=n.getHeaders(),f=["content-type","content-length"];Object.entries(u).forEach(([m,w])=>{f.includes(m.toLowerCase())&&a.set(m,w)})}}if(Ki.hasStandardBrowserEnv&&(r&&Oe.isFunction(r)&&(r=r(e)),r||r!==!1&&MU(e.url))){const u=i&&s&&kU.read(s);u&&a.set(i,u)}return e},RU=typeof XMLHttpRequest<"u",LU=RU&&function(t){return new Promise(function(n,r){const i=$8(t);let s=i.data;const a=Fs.from(i.headers).normalize();let{responseType:A,onUploadProgress:u,onDownloadProgress:f}=i,m,w,C,B,E;function I(){B&&B(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let M=new XMLHttpRequest;M.open(i.method.toUpperCase(),i.url,!0),M.timeout=i.timeout;function R(){if(!M)return;const U=Fs.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),F={data:!A||A==="text"||A==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:U,config:t,request:M};K8(function(D){n(D),I()},function(D){r(D),I()},F),M=null}"onloadend"in M?M.onloadend=R:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(R)},M.onabort=function(){M&&(r(new qt("Request aborted",qt.ECONNABORTED,t,M)),M=null)},M.onerror=function(O){const F=O&&O.message?O.message:"Network Error",Q=new qt(F,qt.ERR_NETWORK,t,M);Q.event=O||null,r(Q),M=null},M.ontimeout=function(){let O=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const F=i.transitional||P8;i.timeoutErrorMessage&&(O=i.timeoutErrorMessage),r(new qt(O,F.clarifyTimeoutError?qt.ETIMEDOUT:qt.ECONNABORTED,t,M)),M=null},s===void 0&&a.setContentType(null),"setRequestHeader"in M&&Oe.forEach(a.toJSON(),function(O,F){M.setRequestHeader(F,O)}),Oe.isUndefined(i.withCredentials)||(M.withCredentials=!!i.withCredentials),A&&A!=="json"&&(M.responseType=i.responseType),f&&([C,E]=nm(f,!0),M.addEventListener("progress",C)),u&&M.upload&&([w,B]=nm(u),M.upload.addEventListener("progress",w),M.upload.addEventListener("loadend",B)),(i.cancelToken||i.signal)&&(m=U=>{M&&(r(!U||U.type?new Ud(null,t,M):U),M.abort(),M=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const L=IU(i.url);if(L&&Ki.protocols.indexOf(L)===-1){r(new qt("Unsupported protocol "+L+":",qt.ERR_BAD_REQUEST,t));return}M.send(s||null)})},UU=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(f){if(!i){i=!0,A();const m=f instanceof Error?f:this.reason;r.abort(m instanceof qt?m:new Ud(m instanceof Error?m.message:m))}};let a=e&&setTimeout(()=>{a=null,s(new qt(`timeout ${e} of ms exceeded`,qt.ETIMEDOUT))},e);const A=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),t=null)};t.forEach(f=>f.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>Oe.asap(A),u}},QU=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},HU=async function*(t,e){for await(const n of jU(t))yield*QU(n,e)},jU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},ES=(t,e,n,r)=>{const i=HU(t,e);let s=0,a,A=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:f,value:m}=await i.next();if(f){A(),u.close();return}let w=m.byteLength;if(n){let C=s+=w;n(C)}u.enqueue(new Uint8Array(m))}catch(f){throw A(f),f}},cancel(u){return A(u),i.return()}},{highWaterMark:2})},SS=64*1024,{isFunction:Fg}=Oe,PU=(({Request:t,Response:e})=>({Request:t,Response:e}))(Oe.global),{ReadableStream:TS,TextEncoder:IS}=Oe.global,NS=(t,...e)=>{try{return!!t(...e)}catch{return!1}},zU=t=>{t=Oe.merge.call({skipUndefined:!0},PU,t);const{fetch:e,Request:n,Response:r}=t,i=e?Fg(e):typeof fetch=="function",s=Fg(n),a=Fg(r);if(!i)return!1;const A=i&&Fg(TS),u=i&&(typeof IS=="function"?(E=>I=>E.encode(I))(new IS):async E=>new Uint8Array(await new n(E).arrayBuffer())),f=s&&A&&NS(()=>{let E=!1;const I=new n(Ki.origin,{body:new TS,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!I}),m=a&&A&&NS(()=>Oe.isReadableStream(new r("").body)),w={stream:m&&(E=>E.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!w[E]&&(w[E]=(I,M)=>{let R=I&&I[E];if(R)return R.call(I);throw new qt(`Response type '${E}' is not supported`,qt.ERR_NOT_SUPPORT,M)})});const C=async E=>{if(E==null)return 0;if(Oe.isBlob(E))return E.size;if(Oe.isSpecCompliantForm(E))return(await new n(Ki.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(E)||Oe.isArrayBuffer(E))return E.byteLength;if(Oe.isURLSearchParams(E)&&(E=E+""),Oe.isString(E))return(await u(E)).byteLength},B=async(E,I)=>{const M=Oe.toFiniteNumber(E.getContentLength());return M??C(I)};return async E=>{let{url:I,method:M,data:R,signal:L,cancelToken:U,timeout:O,onDownloadProgress:F,onUploadProgress:Q,responseType:D,headers:j,withCredentials:V="same-origin",fetchOptions:W}=$8(E),Y=e||fetch;D=D?(D+"").toLowerCase():"text";let J=UU([L,U&&U.toAbortSignal()],O),re=null;const te=J&&J.unsubscribe&&(()=>{J.unsubscribe()});let q;try{if(Q&&f&&M!=="get"&&M!=="head"&&(q=await B(j,R))!==0){let ne=new n(I,{method:"POST",body:R,duplex:"half"}),he;if(Oe.isFormData(R)&&(he=ne.headers.get("content-type"))&&j.setContentType(he),ne.body){const[Ne,ye]=CS(q,nm(BS(Q)));R=ES(ne.body,SS,Ne,ye)}}Oe.isString(V)||(V=V?"include":"omit");const ie=s&&"credentials"in n.prototype,ae={...W,signal:J,method:M.toUpperCase(),headers:j.normalize().toJSON(),body:R,duplex:"half",credentials:ie?V:void 0};re=s&&new n(I,ae);let se=await(s?Y(re,W):Y(I,ae));const me=m&&(D==="stream"||D==="response");if(m&&(F||me&&te)){const ne={};["status","statusText","headers"].forEach(Ge=>{ne[Ge]=se[Ge]});const he=Oe.toFiniteNumber(se.headers.get("content-length")),[Ne,ye]=F&&CS(he,nm(BS(F),!0))||[];se=new r(ES(se.body,SS,Ne,()=>{ye&&ye(),te&&te()}),ne)}D=D||"text";let ke=await w[Oe.findKey(w,D)||"text"](se,E);return!me&&te&&te(),await new Promise((ne,he)=>{K8(ne,he,{data:ke,headers:Fs.from(se.headers),status:se.status,statusText:se.statusText,config:E,request:re})})}catch(ie){throw te&&te(),ie&&ie.name==="TypeError"&&/Load failed|fetch/i.test(ie.message)?Object.assign(new qt("Network Error",qt.ERR_NETWORK,E,re),{cause:ie.cause||ie}):qt.from(ie,ie&&ie.code,E,re)}}},VU=new Map,W8=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let a=s.length,A=a,u,f,m=VU;for(;A--;)u=s[A],f=m.get(u),f===void 0&&m.set(u,f=A?new Map:zU(e)),m=f;return f};W8();const nC={http:oU,xhr:LU,fetch:{get:W8}};Oe.forEach(nC,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const OS=t=>`- ${t}`,KU=t=>Oe.isFunction(t)||t===null||t===!1;function GU(t,e){t=Oe.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let a=0;a<n;a++){r=t[a];let A;if(i=r,!KU(r)&&(i=nC[(A=String(r)).toLowerCase()],i===void 0))throw new qt(`Unknown adapter '${A}'`);if(i&&(Oe.isFunction(i)||(i=i.get(e))))break;s[A||"#"+a]=i}if(!i){const a=Object.entries(s).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let A=n?a.length>1?`since :
`+a.map(OS).join(`
`):" "+OS(a[0]):"as no adapter specified";throw new qt("There is no suitable adapter to dispatch the request "+A,"ERR_NOT_SUPPORT")}return i}const X8={getAdapter:GU,adapters:nC};function vy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ud(null,t)}function MS(t){return vy(t),t.headers=Fs.from(t.headers),t.data=yy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),X8.getAdapter(t.adapter||np.adapter,t)(t).then(function(r){return vy(t),r.data=yy.call(t,t.transformResponse,r),r.headers=Fs.from(r.headers),r},function(r){return V8(r)||(vy(t),r&&r.response&&(r.response.data=yy.call(t,t.transformResponse,r.response),r.response.headers=Fs.from(r.response.headers))),Promise.reject(r)})}const q8="1.13.2",I0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{I0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const kS={};I0.transitional=function(e,n,r){function i(s,a){return"[Axios v"+q8+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,A)=>{if(e===!1)throw new qt(i(a," has been removed"+(n?" in "+n:"")),qt.ERR_DEPRECATED);return n&&!kS[a]&&(kS[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,A):!0}};I0.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function $U(t,e,n){if(typeof t!="object")throw new qt("options must be an object",qt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const A=t[s],u=A===void 0||a(A,s,t);if(u!==!0)throw new qt("option "+s+" must be "+u,qt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new qt("Unknown option "+s,qt.ERR_BAD_OPTION)}}const P1={assertOptions:$U,validators:I0},ro=P1.validators;let kc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new vS,response:new vS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=jc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&P1.assertOptions(r,{silentJSONParsing:ro.transitional(ro.boolean),forcedJSONParsing:ro.transitional(ro.boolean),clarifyTimeoutError:ro.transitional(ro.boolean)},!1),i!=null&&(Oe.isFunction(i)?n.paramsSerializer={serialize:i}:P1.assertOptions(i,{encode:ro.function,serialize:ro.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),P1.assertOptions(n,{baseUrl:ro.spelling("baseURL"),withXsrfToken:ro.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&Oe.merge(s.common,s[n.method]);s&&Oe.forEach(["delete","get","head","post","put","patch","common"],E=>{delete s[E]}),n.headers=Fs.concat(a,s);const A=[];let u=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(n)===!1||(u=u&&I.synchronous,A.unshift(I.fulfilled,I.rejected))});const f=[];this.interceptors.response.forEach(function(I){f.push(I.fulfilled,I.rejected)});let m,w=0,C;if(!u){const E=[MS.bind(this),void 0];for(E.unshift(...A),E.push(...f),C=E.length,m=Promise.resolve(n);w<C;)m=m.then(E[w++],E[w++]);return m}C=A.length;let B=n;for(;w<C;){const E=A[w++],I=A[w++];try{B=E(B)}catch(M){I.call(this,M);break}}try{m=MS.call(this,B)}catch(E){return Promise.reject(E)}for(w=0,C=f.length;w<C;)m=m.then(f[w++],f[w++]);return m}getUri(e){e=jc(this.defaults,e);const n=G8(e.baseURL,e.url,e.allowAbsoluteUrls);return j8(n,e.params,e.paramsSerializer)}};Oe.forEach(["delete","get","head","options"],function(e){kc.prototype[e]=function(n,r){return this.request(jc(r||{},{method:e,url:n,data:(r||{}).data}))}});Oe.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,A){return this.request(jc(A||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}kc.prototype[e]=n(),kc.prototype[e+"Form"]=n(!0)});let WU=class Y8{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(A=>{r.subscribe(A),s=A}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,A){r.reason||(r.reason=new Ud(s,a,A),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Y8(function(i){e=i}),cancel:e}}};function XU(t){return function(n){return t.apply(null,n)}}function qU(t){return Oe.isObject(t)&&t.isAxiosError===!0}const yv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(yv).forEach(([t,e])=>{yv[e]=t});function Z8(t){const e=new kc(t),n=I8(kc.prototype.request,e);return Oe.extend(n,kc.prototype,e,{allOwnKeys:!0}),Oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Z8(jc(t,i))},n}const Tr=Z8(np);Tr.Axios=kc;Tr.CanceledError=Ud;Tr.CancelToken=WU;Tr.isCancel=V8;Tr.VERSION=q8;Tr.toFormData=T0;Tr.AxiosError=qt;Tr.Cancel=Tr.CanceledError;Tr.all=function(e){return Promise.all(e)};Tr.spread=XU;Tr.isAxiosError=qU;Tr.mergeConfig=jc;Tr.AxiosHeaders=Fs;Tr.formToJSON=t=>z8(Oe.isHTMLForm(t)?new FormData(t):t);Tr.getAdapter=X8.getAdapter;Tr.HttpStatusCode=yv;Tr.default=Tr;const{Axios:gEe,AxiosError:mEe,CanceledError:xEe,isCancel:wEe,CancelToken:yEe,VERSION:vEe,all:bEe,Cancel:CEe,isAxiosError:BEe,spread:_Ee,toFormData:EEe,AxiosHeaders:SEe,HttpStatusCode:TEe,formToJSON:IEe,getAdapter:NEe,mergeConfig:OEe}=Tr;/*! js-cookie v3.0.5 | MIT */function Dg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var YU={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function vv(t,e){function n(i,s,a){if(!(typeof document>"u")){a=Dg({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var A="";for(var u in a)a[u]&&(A+="; "+u,a[u]!==!0&&(A+="="+a[u].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+A}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],a={},A=0;A<s.length;A++){var u=s[A].split("="),f=u.slice(1).join("=");try{var m=decodeURIComponent(u[0]);if(a[m]=t.read(f,m),i===m)break}catch{}}return i?a[i]:a}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Dg({},s,{expires:-1}))},withAttributes:function(i){return vv(this.converter,Dg({},this.attributes,i))},withConverter:function(i){return vv(Dg({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var hl=vv(YU,{path:"/"});const ZU="ACCESS_TOKEN",$i=Tr.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0}),JU=Tr.create({baseURL:"",headers:{Accept:"application/json","x-ncp-apigw-api-key-id	":"ak7qbqrl2h","x-ncp-apigw-api-key":"ipf8w7WvX8OtkuGa9bWtbOCgneVoahiaOcmB7m7g"},withCredentials:!0}),nt=Tr.create({baseURL:"https://artly.soundgram.co.kr",headers:{"Content-Type":"application/json"},withCredentials:!0});nt.interceptors.request.use(t=>{const e=hl.get(ZU);return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const PA=H.createContext(),Rg="ACCESS_TOKEN";function eQ({children:t}){const[e,n]=H.useState(null),[r,i]=H.useState(null),[s,a]=H.useState(!0);H.useEffect(()=>{(async()=>{const w=hl.get(Rg);if(w){i(w);try{const C=await nt.get("/api/users/me");n(C.data)}catch{hl.remove(Rg,{path:"/"}),i(null),n(null)}}a(!1)})()},[]);const f={user:e,setUser:n,token:r,login:(m,w)=>{n(m),i(w),hl.set(Rg,w,{expires:1,path:"/",secure:!0,sameSite:"Strict"})},logout:()=>{n(null),i(null),hl.remove(Rg,{path:"/"})},isLoading:s};return g.jsx(PA.Provider,{value:f,children:t})}const Us=()=>H.useContext(PA),J8=[{label:"",path:"/exhibitions"},{label:"",path:"/galleries"},{label:"",path:"/artworks"},{label:"",path:"/artists"},{label:"",path:"/notices"},{}],tQ="_modalOverlay_5yzjc_1",nQ="_modalContainer_5yzjc_39",rQ="_messageBox_5yzjc_75",iQ="_title_5yzjc_93",sQ="_desc_5yzjc_105",aQ="_closeButton_5yzjc_119",Uu={modalOverlay:tQ,modalContainer:nQ,messageBox:rQ,title:iQ,desc:sQ,closeButton:aQ};function e5({isOpen:t,onClose:e}){return t?g.jsx("div",{className:Uu.modalOverlay,onClick:e,children:g.jsxs("div",{className:Uu.modalContainer,onClick:n=>n.stopPropagation(),children:[g.jsxs("div",{className:Uu.messageBox,children:[g.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginBottom:"1rem"},children:[g.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#E8F3FF"}),g.jsx("path",{d:"M7 12L10.5 15.5L17 9",stroke:"#3665F3",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),g.jsx("h2",{className:Uu.title,children:" "}),g.jsx("p",{className:Uu.desc,children:"  ."})]}),g.jsx("button",{className:Uu.closeButton,onClick:e,children:""})]})}):null}function oQ({onOpen:t,isOpen:e}){const n=Wt(),{user:r,logout:i}=H.useContext(PA),[s,a]=H.useState(!1),A=()=>{a(!0)},u=()=>{hl.remove("ACCESS_TOKEN"),i(),a(!1),t(),n("/")},f=(m,w=!1)=>{t(),w?n(m,{state:{activeTab:"MY"}}):n(m)};return g.jsxs("div",{className:xr.overlay,onClick:t,children:[g.jsx(e5,{isOpen:s,onClose:u}),g.jsxs("div",{className:`${xr.menuLayout} ${e?xr.menuVisible:xr.menuHidden}`,onClick:m=>m.stopPropagation(),children:[g.jsx("div",{className:xr.closeContainer,children:g.jsx("button",{className:xr.closeButton,onClick:t})}),g.jsxs("section",{className:xr.menuSection,children:[g.jsx("h3",{className:xr.userNickname,children:r?`${r.user_name} `:" "}),r&&r.admin_flag==="1"&&g.jsx("div",{className:xr.sidebarMenu,children:g.jsx("span",{className:xr.menuSpan,onClick:()=>f("/console/main"),children:" "})})]}),g.jsx("hr",{className:xr.divider}),g.jsx("section",{className:xr.menuSection,children:J8.map(({name:m,label:w,path:C})=>g.jsx("span",{className:xr.menuSpan,onClick:()=>f(C),children:w},m))}),g.jsx("hr",{className:xr.divider}),g.jsxs("section",{className:xr.menuSection,children:[g.jsx("span",{className:xr.menuSpan,onClick:()=>f("/scan"),children:" "}),g.jsx("span",{className:xr.menuSpan,onClick:()=>{f("/mypage",!0)},children:" "}),g.jsx("span",{className:xr.menuSpan,onClick:()=>f("/nearby-galleries"),children:" "})]}),g.jsx("hr",{className:xr.divider}),g.jsxs("section",{className:xr.menuSection,children:[g.jsx("span",{className:xr.menuSpan,onClick:()=>f("/mypage"),children:""}),g.jsx("span",{className:xr.menuSpan,onClick:()=>f("/announcement"),children:" & FAQ"}),r?g.jsx("span",{className:xr.menuSpan,onClick:A,children:""}):g.jsx("span",{className:xr.menuSpan,onClick:()=>f("/login"),children:""})]})]})]})}const lQ="_navbarNavigation_1vr4j_1",AQ="_menuList_1vr4j_39",cQ="_menuItem_1vr4j_61",uQ="_defaultLink_1vr4j_81",dQ="_activeLink_1vr4j_83",Qu={navbarNavigation:lQ,menuList:AQ,menuItem:cQ,defaultLink:uQ,activeLink:dQ};function fQ(){const{pathname:t}=vr();return g.jsx("nav",{className:Qu.navbarNavigation,children:g.jsx("ul",{className:Qu.menuList,children:J8.map(({label:e,path:n,index:r})=>g.jsx("li",{className:`${Qu.menuItem} ${t===n&&Qu.currentMenu}`,children:g.jsx(b8,{to:n,className:({isActive:i})=>i?Qu.activeLink:Qu.defaultLink,children:e})},`${e}-${r}`))})})}const hQ=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[g.jsx("path",{d:"M2 12H22",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),g.jsx("path",{d:"M2 4H22",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),g.jsx("path",{d:"M2 20H22",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})]}),pQ=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",children:g.jsx("path",{d:"M12.0597 20.5674H7.94025M16.1791 7.17917C16.1791 5.54035 15.5282 3.96866 14.3694 2.80984C13.2105 1.65102 11.6388 1 9.99998 1C8.36116 1 6.78949 1.65102 5.63067 2.80984C4.47185 3.96866 3.82083 5.54035 3.82083 7.17917C3.82083 10.3616 3.01802 12.5406 2.12121 13.9818C1.36474 15.1976 0.986506 15.8054 1.00037 15.975C1.01573 16.1628 1.05551 16.2343 1.2068 16.3466C1.34346 16.4479 1.95945 16.4479 3.19143 16.4479H16.8086C18.0405 16.4479 18.6566 16.4479 18.7931 16.3466C18.9445 16.2343 18.9843 16.1628 18.9996 15.975C19.0135 15.8054 18.6353 15.1976 17.8788 13.9818C16.9819 12.5406 16.1791 10.3616 16.1791 7.17917Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t5=({color:t="#fff"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"86",height:"17",viewBox:"0 0 86 17",fill:"none",children:[g.jsx("path",{d:"M9.4792 16.2951L10.4931 16.2014C10.7118 16.1701 10.823 16.0833 10.823 15.941C10.823 15.8611 10.7986 15.7674 10.7535 15.6597L9.19795 12.2153H3.72571L2.31251 15.6597C2.2639 15.7708 2.24306 15.8646 2.24306 15.941C2.24306 16.0833 2.35417 16.1701 2.57292 16.2014L3.58682 16.2951V16.7674H0V16.2951L0.871531 16.2014C1.05903 16.1875 1.19445 16.1389 1.27084 16.059C1.34723 15.9792 1.4375 15.8403 1.53125 15.6354L8.066 0H8.81947L15.7292 15.6354C15.823 15.8403 15.9098 15.9826 15.9896 16.059C16.0695 16.1389 16.2014 16.184 16.3889 16.2014L17.2605 16.2951V16.7674H9.4792V16.2951ZM8.88892 11.5069L6.34377 5.87153L4.01043 11.5069H8.89239H8.88892Z",fill:t}),g.jsx("path",{d:"M28.4028 9.70519C28.2362 9.39964 27.9758 9.19477 27.6146 9.09061C27.2535 8.98991 26.6563 8.93783 25.823 8.93783H25.1389V15.5628C25.1389 15.7364 25.1737 15.8545 25.2466 15.917C25.316 15.9795 25.4688 16.0351 25.7049 16.0837L26.7188 16.2955V16.7677H18.8889V16.2955L19.7604 16.108C19.9966 16.0594 20.1493 16.0073 20.2188 15.9413C20.2882 15.8788 20.3264 15.7607 20.3264 15.5871V1.43783C20.3264 1.26421 20.2917 1.14616 20.2188 1.08366C20.1493 1.02116 19.9966 0.965604 19.7604 0.916993L18.8889 0.729492V0.260742H25.823C27.9306 0.260742 29.6042 0.399631 30.8473 0.673937C32.0903 0.948243 32.9931 1.39963 33.5591 2.0281C34.1251 2.65658 34.4098 3.51422 34.4098 4.59755C34.4098 5.80936 34.0487 6.73991 33.3265 7.39269C32.6042 8.04547 31.4306 8.48991 29.8126 8.72602C30.7396 8.78852 31.4827 8.93783 32.0417 9.17394C32.6008 9.41005 33.0348 9.78505 33.3508 10.2955C33.6667 10.8059 33.9098 11.5107 34.0799 12.4066L34.3404 13.8198C34.4654 14.4969 34.5556 14.9517 34.6112 15.1878C34.6667 15.4239 34.7431 15.6045 34.8473 15.7295C34.948 15.8545 35.1112 15.917 35.3299 15.917C35.7223 15.917 36.0522 15.6253 36.3195 15.0455L36.8161 15.4691C36.5973 15.9239 36.2605 16.2955 35.8126 16.5767C35.3647 16.8614 34.6355 17.0003 33.632 17.0003C32.6285 17.0003 31.8334 16.8892 31.2501 16.6705C30.6667 16.4517 30.2119 16.0628 29.882 15.5038C29.5521 14.9448 29.2987 14.1392 29.1285 13.0871L28.8473 11.3198C28.7223 10.5489 28.5764 10.0107 28.4098 9.70519H28.4028ZM25.1389 8.2295H26.0348C26.9445 8.2295 27.6494 8.1045 28.1459 7.85102C28.6424 7.60102 28.9827 7.21561 29.1702 6.69477C29.3577 6.17741 29.4549 5.47602 29.4549 4.59755C29.4549 3.71908 29.3612 3.01769 29.1702 2.50033C28.9827 1.98297 28.6389 1.59755 28.1459 1.34408C27.6494 1.09408 26.948 0.965604 26.0348 0.965604H25.1389V8.2295Z",fill:t}),g.jsx("path",{d:"M47.3863 15.9413C47.4557 16.0038 47.612 16.0594 47.8446 16.108L48.7161 16.2955V16.7677H41.0286V16.2955L41.9001 16.108C42.1362 16.0594 42.289 16.0073 42.3585 15.9413C42.4279 15.8788 42.4661 15.7608 42.4661 15.5871V0.920465H41.9244C40.9661 0.920465 40.223 1.07671 39.6953 1.39269C39.1675 1.70866 38.7682 2.11491 38.4939 2.61838C38.2196 3.12185 37.8758 3.92394 37.4661 5.02463H36.9487V0.260742H52.796V5.02463H52.2786C51.8689 3.92394 51.5286 3.12185 51.2543 2.61838C50.98 2.11491 50.5772 1.70519 50.0529 1.39269C49.5252 1.07671 48.7821 0.920465 47.8238 0.920465H47.2821V15.5871C47.2821 15.7608 47.3168 15.8788 47.3897 15.9413H47.3863Z",fill:t}),g.jsx("path",{d:"M56.5384 1.08366C56.4689 1.02116 56.3127 0.965604 56.08 0.916993L55.2085 0.729492V0.260742H63.0384V0.732965L62.0245 0.94477C61.7884 0.993382 61.6356 1.04546 61.5662 1.11144C61.4967 1.17394 61.4585 1.29199 61.4585 1.4656V16.0628H64.4307C65.3578 16.0628 66.0801 15.9205 66.6009 15.6392C67.1183 15.3545 67.5245 14.9552 67.8162 14.4378C68.1078 13.9205 68.4342 13.1323 68.7953 12.0802H69.4551V16.7746H55.212V16.3024L56.0835 16.1149C56.3196 16.0663 56.4724 16.0142 56.5418 15.9483C56.6113 15.8858 56.6495 15.7677 56.6495 15.5941V1.43783C56.6495 1.26422 56.6148 1.14616 56.5418 1.08366H56.5384Z",fill:t}),g.jsx("path",{d:"M83.2884 1.20171C83.2884 1.0906 83.2398 1.00033 83.1461 0.930881C83.0523 0.861437 82.9412 0.816298 82.8162 0.802409L81.7086 0.708659V0.260742H85.6218V0.732965L84.8926 0.802409C84.6391 0.81977 84.469 0.868381 84.3752 0.955187C84.2815 1.04199 84.1704 1.18783 84.0454 1.39269L79.5419 9.1288V15.5906C79.5419 15.7642 79.5766 15.8823 79.6495 15.9448C79.719 16.0073 79.8752 16.0628 80.1079 16.1114L80.9794 16.2989V16.7712H73.2919V16.2989L74.1634 16.1114C74.3995 16.0628 74.5523 16.0108 74.6217 15.9448C74.6912 15.8823 74.7294 15.7642 74.7294 15.5906V9.27116L70.3891 1.39616C70.278 1.20866 70.1773 1.06977 70.0835 0.982965C69.9898 0.896159 69.8648 0.844076 69.7051 0.830187L68.7849 0.736437V0.260742H76.4481V0.732965L75.5037 0.826715C75.2849 0.844076 75.1738 0.937826 75.1738 1.11144C75.1738 1.20519 75.2051 1.30935 75.2676 1.41699L79.0419 8.53852L83.2398 1.36838C83.2711 1.27463 83.2884 1.21908 83.2884 1.20171Z",fill:t})]});function n5(){const[t,e]=H.useState(!1),{isDesktop:n}=Zb(),r=Wt(),{user:i}=H.useContext(PA),s=()=>{e(!0),document.body.style.overflow="hidden"},a=()=>{e(!1),document.body.style.overflow="unset"},A=()=>{a(),r("/")},u=()=>{a(),i&&i.admin_flag==="1"?r("/console/notification"):r("/notifications")};return g.jsxs("header",{className:Mg.headerLayout,children:[g.jsx("button",{className:Mg.logoButton,onClick:A,children:g.jsx(t5,{})}),n&&g.jsx(fQ,{}),g.jsxs("div",{className:Mg.rightSection,children:[g.jsx("button",{className:Mg.notificationButton,onClick:u,"aria-label":"",children:g.jsx(pQ,{})}),g.jsx("button",{onClick:t?a:s,children:g.jsx(hQ,{})})]}),t&&g.jsx(oQ,{onOpen:a,isOpen:t})]})}const gQ="_chatbotContainer_1sxap_1",mQ="_chatbotButton_1sxap_15",xQ="_chatbotOverlay_1sxap_61",wQ="_popupContainer_1sxap_85",yQ="_headerContainer_1sxap_125",vQ="_headerTitle_1sxap_147",bQ="_closeButton_1sxap_161",CQ="_chatContainer_1sxap_199",BQ="_botMessageContainer_1sxap_245",_Q="_botProfile_1sxap_261",EQ="_botContent_1sxap_289",SQ="_botName_1sxap_299",TQ="_botBubble_1sxap_313",IQ="_userMessageContainer_1sxap_335",NQ="_userBubble_1sxap_347",OQ="_inputContainer_1sxap_373",MQ="_input_1sxap_373",kQ="_sendButton_1sxap_427",Cr={chatbotContainer:gQ,chatbotButton:mQ,chatbotOverlay:xQ,popupContainer:wQ,headerContainer:yQ,headerTitle:vQ,closeButton:bQ,chatContainer:CQ,botMessageContainer:BQ,botProfile:_Q,botContent:EQ,botName:SQ,botBubble:TQ,userMessageContainer:IQ,userBubble:NQ,inputContainer:OQ,input:MQ,sendButton:kQ};var r5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FS=An.createContext&&An.createContext(r5),FQ=["attr","size","title"];function DQ(t,e){if(t==null)return{};var n=RQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rm.apply(this,arguments)}function DS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(n),!0).forEach(function(r){LQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LQ(t,e,n){return e=UQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UQ(t){var e=QQ(t,"string");return typeof e=="symbol"?e:e+""}function QQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i5(t){return t&&t.map((e,n)=>An.createElement(e.tag,im({key:n},e.attr),i5(e.child)))}function Fn(t){return e=>An.createElement(HQ,rm({attr:im({},t.attr)},e),i5(t.child))}function HQ(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=DQ(t,FQ),A=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),An.createElement("svg",rm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:im(im({color:t.color||n.color},n.style),t.style),height:A,width:A,xmlns:"http://www.w3.org/2000/svg"}),s&&An.createElement("title",null,s),t.children)};return FS!==void 0?An.createElement(FS.Consumer,null,n=>e(n)):e(r5)}function jQ(t){return Fn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9 9 0 0 0 8 15"},child:[]}]})(t)}function PQ(t){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}function s5(t){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M407.94 52.22S321.3 160 240 160H80a16 16 0 0 0-16 16v96a16 16 0 0 0 16 16h160c81.3 0 167.94 108.23 167.94 108.23 6.06 8 24.06 2.52 24.06-9.83V62c0-12.31-17-18.82-24.06-9.78zM64 256s-16-6-16-32 16-32 16-32m384 54s16-4.33 16-22-16-22-16-22m-192-42v128M112 160v128"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M144 288v168a8 8 0 0 0 8 8h53a16 16 0 0 0 15.29-20.73C211.91 416.39 192 386.08 192 336h16a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-16"},child:[]}]})(t)}function zQ(t){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function VQ(){const{user:t}=Us(),[e,n]=H.useState(!1),[r,i]=H.useState([{id:0,sender:"bot",text:`!   Artlas :)
 ?`}]),[s,a]=H.useState(""),[A,u]=H.useState(!1),f=H.useRef(null),m=t?nt:$i,w=()=>r[r.length-1].id+1;H.useEffect(()=>{var U;(U=f.current)==null||U.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[r,e]);const C=()=>{n(U=>!U),e?document.body.style.overflow="unset":document.body.style.overflow="hidden"},B=U=>{a(U.target.value)},E=async U=>{const O={id:w(),sender:"user",text:U};i(Q=>[...Q,O]);const F={id:w()+1,sender:"bot",text:"An error occured. Please report this to the service team."};try{u(!0);const Q=await m.post("/api/chats",{text:U});F.text=Q.data}catch(Q){console.error("Error occurred while querying GPT:",Q)}finally{u(!1)}i(Q=>[...Q,F])},I=U=>U.split(/(\*\*[^\*]+\*\*)/g).map(F=>{if(F.startsWith("**")&&F.endsWith("**")){const Q=F.slice(2,-2);return g.jsx("b",{children:Q},Q)}return F}),M=U=>{U.key==="Enter"&&R()},R=()=>{const U=s.trim();U&&(E(U),a(""))},L=U=>{setTimeout(()=>{U.target.scrollIntoView({behavior:"smooth",block:"nearest"})},300)};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:Cr.chatbotContainer,children:g.jsx("button",{className:Cr.chatbotButton,onClick:C,children:g.jsx(jQ,{size:20})})}),e&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:Cr.chatbotOverlay,onClick:C}),g.jsxs("div",{className:Cr.popupContainer,children:[g.jsxs("div",{className:Cr.headerContainer,children:[g.jsx("h3",{className:Cr.headerTitle,children:"Artly AI"}),g.jsx("button",{className:Cr.closeButton,onClick:C,children:g.jsx(PQ,{size:20})})]}),g.jsxs("div",{className:Cr.chatContainer,children:[r.map(U=>g.jsx("div",{className:U.sender==="bot"?Cr.botMessageContainer:Cr.userMessageContainer,ref:f,children:U.sender==="bot"?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:Cr.botProfile,children:"A"}),g.jsxs("div",{className:Cr.botContent,children:[g.jsx("p",{className:Cr.botName,children:"Artlas"}),g.jsx("div",{className:Cr.botBubble,children:I(U.text)})]})]}):g.jsx("div",{className:Cr.userBubble,children:U.text})},U.id)),A&&g.jsxs("div",{className:Cr.botMessageContainer,ref:f,children:[g.jsx("div",{className:Cr.botProfile,children:"A"}),g.jsxs("div",{className:Cr.botContent,children:[g.jsx("p",{className:Cr.botName,children:"Artlas"}),g.jsx("div",{className:Cr.botBubble,children:"  ..."})]})]})]}),g.jsxs("div",{className:Cr.inputContainer,children:[g.jsx("input",{className:Cr.input,type:"text",value:s,onChange:B,onKeyPress:M,onFocus:L,placeholder:"  ..."}),g.jsx("button",{className:Cr.sendButton,onClick:R,children:g.jsx(zQ,{size:20})})]})]})]})]})}function KQ(){const t=vr(),n=!["/login","/register","/mypage","/mypage/edit"].some(r=>t.pathname.startsWith(r));return g.jsxs(g.Fragment,{children:[g.jsx(_8,{}),g.jsx(n5,{}),g.jsx("div",{style:{display:"flex",flexDirection:"column",flex:1},children:g.jsx($b,{})}),n&&g.jsx(VQ,{})]})}const GQ="_footerLayout_6sik4_1",$Q="_linkContainer_6sik4_27",WQ="_link_6sik4_27",XQ="_divideSpan_6sik4_61",qQ="_infoContainer_6sik4_71",Hu={footerLayout:GQ,linkContainer:$Q,link:WQ,divideSpan:XQ,infoContainer:qQ};function a5(){return g.jsxs("footer",{className:Hu.footerLayout,children:[g.jsxs("div",{className:Hu.linkContainer,children:[g.jsx(yr,{to:"/announcement",className:Hu.link,children:"&FAQ"}),g.jsx("span",{className:Hu.divideSpan,children:"|"}),g.jsx(yr,{to:"/termspolicy",className:Hu.link,children:"  "})]}),g.jsxs("div",{className:Hu.infoContainer,children:[g.jsx("p",{children:"()"}),g.jsx("p",{children:" : 477-88-01191"}),g.jsx("p",{children:"contact us : oddlemon@oddlemon.co.kr"})]}),g.jsxs("p",{children:[" All rights reserved by"," ",g.jsx("a",{href:"https://oddlemon.co.kr/",target:"_blank",rel:"noreferrer",children:"ODDLEMON Origin Inc."})]})]})}const YQ="_wrapper_1i4ob_1",ZQ="_spinner_1i4ob_17",RS={wrapper:YQ,spinner:ZQ};function br(){return g.jsx("div",{className:RS.wrapper,children:g.jsx("span",{className:RS.spinner})})}function JQ(){const{user:t,isLoading:e}=H.useContext(PA),n=vr();if(e)return g.jsx(br,{});if(!t||!t.id)return g.jsx(pv,{to:"/login",replace:!0});const r=n.pathname!=="/notifications";return g.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[g.jsx("div",{style:{flex:"1"},children:g.jsx($b,{})}),r&&g.jsx(a5,{})]})}const eH="_mainLayout_114k4_1",tH="_tabContainer_114k4_29",nH="_userText_114k4_47",rH="_itemContainer_114k4_67",iH="_itemBox_114k4_95",sH="_itemIcon_114k4_127",aH="_carouselContainer_114k4_137",iA={mainLayout:eH,tabContainer:tH,userText:nH,itemContainer:rH,itemBox:iH,itemIcon:sH,carouselContainer:aH},oH="_carouselContainer_1o6e9_1",lH="_sliderWrapper_1o6e9_21",AH="_slider_1o6e9_21",cH="_carouselItem_1o6e9_47",uH="_carouselImage_1o6e9_81",dH="_captionBox_1o6e9_105",fH="_title_1o6e9_129",hH="_location_1o6e9_145",pH="_detailButton_1o6e9_159",gH="_arrowButton_1o6e9_201",mH="_left_1o6e9_251",xH="_right_1o6e9_257",wH="_dots_1o6e9_265",yH="_dot_1o6e9_265",vH="_active_1o6e9_303",Qi={carouselContainer:oH,sliderWrapper:lH,slider:AH,carouselItem:cH,carouselImage:uH,captionBox:dH,title:fH,location:hH,detailButton:pH,arrowButton:gH,left:mH,right:xH,dots:wH,dot:yH,active:vH};var by={exports:{}},LS;function bH(){return LS||(LS=1,(()=>{var t={296:(i,s,a)=>{var A=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,m=/^0o[0-7]+$/i,w=parseInt,C=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g,B=typeof self=="object"&&self&&self.Object===Object&&self,E=C||B||Function("return this")(),I=Object.prototype.toString,M=Math.max,R=Math.min,L=function(){return E.Date.now()};function U(F){var Q=typeof F;return!!F&&(Q=="object"||Q=="function")}function O(F){if(typeof F=="number")return F;if((function(j){return typeof j=="symbol"||(function(V){return!!V&&typeof V=="object"})(j)&&I.call(j)=="[object Symbol]"})(F))return NaN;if(U(F)){var Q=typeof F.valueOf=="function"?F.valueOf():F;F=U(Q)?Q+"":Q}if(typeof F!="string")return F===0?F:+F;F=F.replace(A,"");var D=f.test(F);return D||m.test(F)?w(F.slice(2),D?2:8):u.test(F)?NaN:+F}i.exports=function(F,Q,D){var j,V,W,Y,J,re,te=0,q=!1,ie=!1,ae=!0;if(typeof F!="function")throw new TypeError("Expected a function");function se(Ne){var ye=j,Ge=V;return j=V=void 0,te=Ne,Y=F.apply(Ge,ye)}function me(Ne){var ye=Ne-re;return re===void 0||ye>=Q||ye<0||ie&&Ne-te>=W}function ke(){var Ne=L();if(me(Ne))return ne(Ne);J=setTimeout(ke,(function(ye){var Ge=Q-(ye-re);return ie?R(Ge,W-(ye-te)):Ge})(Ne))}function ne(Ne){return J=void 0,ae&&j?se(Ne):(j=V=void 0,Y)}function he(){var Ne=L(),ye=me(Ne);if(j=arguments,V=this,re=Ne,ye){if(J===void 0)return(function(Ge){return te=Ge,J=setTimeout(ke,Q),q?se(Ge):Y})(re);if(ie)return J=setTimeout(ke,Q),se(re)}return J===void 0&&(J=setTimeout(ke,Q)),Y}return Q=O(Q)||0,U(D)&&(q=!!D.leading,W=(ie="maxWait"in D)?M(O(D.maxWait)||0,Q):W,ae="trailing"in D?!!D.trailing:ae),he.cancel=function(){J!==void 0&&clearTimeout(J),te=0,j=re=V=J=void 0},he.flush=function(){return J===void 0?Y:ne(L())},he}},96:(i,s,a)=>{var A="Expected a function",u=NaN,f="[object Symbol]",m=/^\s+|\s+$/g,w=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,B=/^0o[0-7]+$/i,E=parseInt,I=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g,M=typeof self=="object"&&self&&self.Object===Object&&self,R=I||M||Function("return this")(),L=Object.prototype.toString,U=Math.max,O=Math.min,F=function(){return R.Date.now()};function Q(j){var V=typeof j;return!!j&&(V=="object"||V=="function")}function D(j){if(typeof j=="number")return j;if((function(Y){return typeof Y=="symbol"||(function(J){return!!J&&typeof J=="object"})(Y)&&L.call(Y)==f})(j))return u;if(Q(j)){var V=typeof j.valueOf=="function"?j.valueOf():j;j=Q(V)?V+"":V}if(typeof j!="string")return j===0?j:+j;j=j.replace(m,"");var W=C.test(j);return W||B.test(j)?E(j.slice(2),W?2:8):w.test(j)?u:+j}i.exports=function(j,V,W){var Y=!0,J=!0;if(typeof j!="function")throw new TypeError(A);return Q(W)&&(Y="leading"in W?!!W.leading:Y,J="trailing"in W?!!W.trailing:J),(function(re,te,q){var ie,ae,se,me,ke,ne,he=0,Ne=!1,ye=!1,Ge=!0;if(typeof re!="function")throw new TypeError(A);function De(pt){var fn=ie,Et=ae;return ie=ae=void 0,he=pt,me=re.apply(Et,fn)}function et(pt){var fn=pt-ne;return ne===void 0||fn>=te||fn<0||ye&&pt-he>=se}function qe(){var pt=F();if(et(pt))return vt(pt);ke=setTimeout(qe,(function(fn){var Et=te-(fn-ne);return ye?O(Et,se-(fn-he)):Et})(pt))}function vt(pt){return ke=void 0,Ge&&ie?De(pt):(ie=ae=void 0,me)}function Qt(){var pt=F(),fn=et(pt);if(ie=arguments,ae=this,ne=pt,fn){if(ke===void 0)return(function(Et){return he=Et,ke=setTimeout(qe,te),Ne?De(Et):me})(ne);if(ye)return ke=setTimeout(qe,te),De(ne)}return ke===void 0&&(ke=setTimeout(qe,te)),me}return te=D(te)||0,Q(q)&&(Ne=!!q.leading,se=(ye="maxWait"in q)?U(D(q.maxWait)||0,te):se,Ge="trailing"in q?!!q.trailing:Ge),Qt.cancel=function(){ke!==void 0&&clearTimeout(ke),he=0,ie=ne=ae=ke=void 0},Qt.flush=function(){return ke===void 0?me:vt(F())},Qt})(j,V,{leading:Y,maxWait:V,trailing:J})}},703:(i,s,a)=>{var A=a(414);function u(){}function f(){}f.resetWarningCache=u,i.exports=function(){function m(B,E,I,M,R,L){if(L!==A){var U=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw U.name="Invariant Violation",U}}function w(){return m}m.isRequired=m;var C={array:m,bigint:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:w,element:m,elementType:m,instanceOf:w,node:m,objectOf:w,oneOf:w,oneOfType:w,shape:w,exact:w,checkPropTypes:f,resetWarningCache:u};return C.PropTypes=C,C}},697:(i,s,a)=>{i.exports=a(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(i){var s=e[i];if(s!==void 0)return s.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return n.d(s,{a:s}),s},n.d=(i,s)=>{for(var a in s)n.o(s,a)&&!n.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:s[a]})},n.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>fn,LazyLoadImage:()=>$e,trackWindowScroll:()=>me});const i=HA();var s=n.n(i),a=n(697);function A(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function u(Ce){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},u(Ce)}function f(Ce,de){var Ue=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(Ce);de&&(Re=Re.filter((function(gt){return Object.getOwnPropertyDescriptor(Ce,gt).enumerable}))),Ue.push.apply(Ue,Re)}return Ue}function m(Ce,de,Ue){return(de=C(de))in Ce?Object.defineProperty(Ce,de,{value:Ue,enumerable:!0,configurable:!0,writable:!0}):Ce[de]=Ue,Ce}function w(Ce,de){for(var Ue=0;Ue<de.length;Ue++){var Re=de[Ue];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(Ce,C(Re.key),Re)}}function C(Ce){var de=(function(Ue,Re){if(u(Ue)!=="object"||Ue===null)return Ue;var gt=Ue[Symbol.toPrimitive];if(gt!==void 0){var Mt=gt.call(Ue,"string");if(u(Mt)!=="object")return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)})(Ce);return u(de)==="symbol"?de:String(de)}function B(Ce,de){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ue,Re){return Ue.__proto__=Re,Ue},B(Ce,de)}function E(Ce){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(de){return de.__proto__||Object.getPrototypeOf(de)},E(Ce)}var I=function(Ce){Ce.forEach((function(de){de.isIntersecting&&de.target.onVisible()}))},M={},R=(function(Ce){(function(Fe,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(_e&&_e.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),_e&&B(Fe,_e)})(Vt,Ce);var de,Ue,Re,gt,Mt=(Re=Vt,gt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Fe,_e=E(Re);if(gt){var xe=E(this).constructor;Fe=Reflect.construct(_e,arguments,xe)}else Fe=_e.apply(this,arguments);return(function(Xe,ze){if(ze&&(u(ze)==="object"||typeof ze=="function"))return ze;if(ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(dt){if(dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return dt})(Xe)})(this,Fe)});function Vt(Fe){var _e;if((function(Xe,ze){if(!(Xe instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,Vt),(_e=Mt.call(this,Fe)).supportsObserver=!Fe.scrollPosition&&Fe.useIntersectionObserver&&A(),_e.supportsObserver){var xe=Fe.threshold;_e.observer=(function(Xe){return M[Xe]=M[Xe]||new IntersectionObserver(I,{rootMargin:Xe+"px"}),M[Xe]})(xe)}return _e}return de=Vt,Ue=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,_e=this.placeholder.getBoundingClientRect(),xe=this.placeholder.style,Xe=parseInt(xe.getPropertyValue("margin-left"),10)||0,ze=parseInt(xe.getPropertyValue("margin-top"),10)||0;return{bottom:Fe.y+_e.bottom+ze,left:Fe.x+_e.left+Xe,right:Fe.x+_e.right+Xe,top:Fe.y+_e.top+ze}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var Fe=this.props,_e=Fe.scrollPosition,xe=Fe.threshold,Xe=this.getPlaceholderBoundingBox(_e),ze=_e.y+window.innerHeight,dt=_e.x,un=_e.x+window.innerWidth,gn=_e.y;return gn-xe<=Xe.bottom&&ze+xe>=Xe.top&&dt-xe<=Xe.right&&un+xe>=Xe.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var Fe=this,_e=this.props,xe=_e.className,Xe=_e.height,ze=_e.placeholder,dt=_e.style,un=_e.width;if(ze&&typeof ze.type!="function")return s().cloneElement(ze,{ref:function(mn){return Fe.placeholder=mn}});var gn=(function(mn){for(var Ct=1;Ct<arguments.length;Ct++){var bn=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?f(Object(bn),!0).forEach((function(Rn){m(mn,Rn,bn[Rn])})):Object.getOwnPropertyDescriptors?Object.defineProperties(mn,Object.getOwnPropertyDescriptors(bn)):f(Object(bn)).forEach((function(Rn){Object.defineProperty(mn,Rn,Object.getOwnPropertyDescriptor(bn,Rn))}))}return mn})({display:"inline-block"},dt);return un!==void 0&&(gn.width=un),Xe!==void 0&&(gn.height=Xe),s().createElement("span",{className:xe,ref:function(mn){return Fe.placeholder=mn},style:gn},ze)}}],Ue&&w(de.prototype,Ue),Object.defineProperty(de,"prototype",{writable:!1}),Vt})(s().Component);R.propTypes={onVisible:a.PropTypes.func.isRequired,className:a.PropTypes.string,height:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string]),placeholder:a.PropTypes.element,threshold:a.PropTypes.number,useIntersectionObserver:a.PropTypes.bool,scrollPosition:a.PropTypes.shape({x:a.PropTypes.number.isRequired,y:a.PropTypes.number.isRequired}),width:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string])},R.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const L=R;var U=n(296),O=n.n(U),F=n(96),Q=n.n(F),D=function(Ce){var de=getComputedStyle(Ce,null);return de.getPropertyValue("overflow")+de.getPropertyValue("overflow-y")+de.getPropertyValue("overflow-x")};const j=function(Ce){if(!(Ce instanceof HTMLElement))return window;for(var de=Ce;de&&de instanceof HTMLElement;){if(/(scroll|auto)/.test(D(de)))return de;de=de.parentNode}return window};function V(Ce){return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},V(Ce)}var W=["delayMethod","delayTime"];function Y(){return Y=Object.assign?Object.assign.bind():function(Ce){for(var de=1;de<arguments.length;de++){var Ue=arguments[de];for(var Re in Ue)Object.prototype.hasOwnProperty.call(Ue,Re)&&(Ce[Re]=Ue[Re])}return Ce},Y.apply(this,arguments)}function J(Ce,de){for(var Ue=0;Ue<de.length;Ue++){var Re=de[Ue];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(Ce,(gt=(function(Mt,Vt){if(V(Mt)!=="object"||Mt===null)return Mt;var Fe=Mt[Symbol.toPrimitive];if(Fe!==void 0){var _e=Fe.call(Mt,"string");if(V(_e)!=="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Mt)})(Re.key),V(gt)==="symbol"?gt:String(gt)),Re)}var gt}function re(Ce,de){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ue,Re){return Ue.__proto__=Re,Ue},re(Ce,de)}function te(Ce,de){if(de&&(V(de)==="object"||typeof de=="function"))return de;if(de!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(Ce)}function q(Ce){if(Ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ce}function ie(Ce){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(de){return de.__proto__||Object.getPrototypeOf(de)},ie(Ce)}var ae=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},se=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const me=function(Ce){var de=(function(Ue){(function(xe,Xe){if(typeof Xe!="function"&&Xe!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(Xe&&Xe.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),Object.defineProperty(xe,"prototype",{writable:!1}),Xe&&re(xe,Xe)})(_e,Ue);var Re,gt,Mt,Vt,Fe=(Mt=_e,Vt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var xe,Xe=ie(Mt);if(Vt){var ze=ie(this).constructor;xe=Reflect.construct(Xe,arguments,ze)}else xe=Xe.apply(this,arguments);return te(this,xe)});function _e(xe){var Xe;if((function(dt,un){if(!(dt instanceof un))throw new TypeError("Cannot call a class as a function")})(this,_e),(Xe=Fe.call(this,xe)).useIntersectionObserver=xe.useIntersectionObserver&&A(),Xe.useIntersectionObserver)return te(Xe);var ze=Xe.onChangeScroll.bind(q(Xe));return xe.delayMethod==="debounce"?Xe.delayedScroll=O()(ze,xe.delayTime):xe.delayMethod==="throttle"&&(Xe.delayedScroll=Q()(ze,xe.delayTime)),Xe.state={scrollPosition:{x:ae(),y:se()}},Xe.baseComponentRef=s().createRef(),Xe}return Re=_e,(gt=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||j(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=j(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ae(),y:se()}})}},{key:"render",value:function(){var xe=this.props,Xe=(xe.delayMethod,xe.delayTime,(function(dt,un){if(dt==null)return{};var gn,mn,Ct=(function(Rn,Di){if(Rn==null)return{};var $n,Yi,Zn={},Ri=Object.keys(Rn);for(Yi=0;Yi<Ri.length;Yi++)$n=Ri[Yi],Di.indexOf($n)>=0||(Zn[$n]=Rn[$n]);return Zn})(dt,un);if(Object.getOwnPropertySymbols){var bn=Object.getOwnPropertySymbols(dt);for(mn=0;mn<bn.length;mn++)gn=bn[mn],un.indexOf(gn)>=0||Object.prototype.propertyIsEnumerable.call(dt,gn)&&(Ct[gn]=dt[gn])}return Ct})(xe,W)),ze=this.useIntersectionObserver?null:this.state.scrollPosition;return s().createElement(Ce,Y({forwardRef:this.baseComponentRef,scrollPosition:ze},Xe))}}])&&J(Re.prototype,gt),Object.defineProperty(Re,"prototype",{writable:!1}),_e})(s().Component);return de.propTypes={delayMethod:a.PropTypes.oneOf(["debounce","throttle"]),delayTime:a.PropTypes.number,useIntersectionObserver:a.PropTypes.bool},de.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},de};function ke(Ce){return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},ke(Ce)}function ne(Ce,de){for(var Ue=0;Ue<de.length;Ue++){var Re=de[Ue];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(Ce,(gt=(function(Mt,Vt){if(ke(Mt)!=="object"||Mt===null)return Mt;var Fe=Mt[Symbol.toPrimitive];if(Fe!==void 0){var _e=Fe.call(Mt,"string");if(ke(_e)!=="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Mt)})(Re.key),ke(gt)==="symbol"?gt:String(gt)),Re)}var gt}function he(Ce,de){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ue,Re){return Ue.__proto__=Re,Ue},he(Ce,de)}function Ne(Ce){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(de){return de.__proto__||Object.getPrototypeOf(de)},Ne(Ce)}var ye=(function(Ce){(function(Fe,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(_e&&_e.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),_e&&he(Fe,_e)})(Vt,Ce);var de,Ue,Re,gt,Mt=(Re=Vt,gt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Fe,_e=Ne(Re);if(gt){var xe=Ne(this).constructor;Fe=Reflect.construct(_e,arguments,xe)}else Fe=_e.apply(this,arguments);return(function(Xe,ze){if(ze&&(ke(ze)==="object"||typeof ze=="function"))return ze;if(ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(dt){if(dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return dt})(Xe)})(this,Fe)});function Vt(Fe){return(function(_e,xe){if(!(_e instanceof xe))throw new TypeError("Cannot call a class as a function")})(this,Vt),Mt.call(this,Fe)}return de=Vt,(Ue=[{key:"render",value:function(){return s().createElement(L,this.props)}}])&&ne(de.prototype,Ue),Object.defineProperty(de,"prototype",{writable:!1}),Vt})(s().Component);const Ge=me(ye);function De(Ce){return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},De(Ce)}function et(Ce,de){for(var Ue=0;Ue<de.length;Ue++){var Re=de[Ue];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(Ce,(gt=(function(Mt,Vt){if(De(Mt)!=="object"||Mt===null)return Mt;var Fe=Mt[Symbol.toPrimitive];if(Fe!==void 0){var _e=Fe.call(Mt,"string");if(De(_e)!=="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Mt)})(Re.key),De(gt)==="symbol"?gt:String(gt)),Re)}var gt}function qe(Ce,de){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ue,Re){return Ue.__proto__=Re,Ue},qe(Ce,de)}function vt(Ce){if(Ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ce}function Qt(Ce){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(de){return de.__proto__||Object.getPrototypeOf(de)},Qt(Ce)}var pt=(function(Ce){(function(Fe,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(_e&&_e.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),_e&&qe(Fe,_e)})(Vt,Ce);var de,Ue,Re,gt,Mt=(Re=Vt,gt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Fe,_e=Qt(Re);if(gt){var xe=Qt(this).constructor;Fe=Reflect.construct(_e,arguments,xe)}else Fe=_e.apply(this,arguments);return(function(Xe,ze){if(ze&&(De(ze)==="object"||typeof ze=="function"))return ze;if(ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vt(Xe)})(this,Fe)});function Vt(Fe){var _e;(function(un,gn){if(!(un instanceof gn))throw new TypeError("Cannot call a class as a function")})(this,Vt),_e=Mt.call(this,Fe);var xe=Fe.afterLoad,Xe=Fe.beforeLoad,ze=Fe.scrollPosition,dt=Fe.visibleByDefault;return _e.state={visible:dt},dt&&(Xe(),xe()),_e.onVisible=_e.onVisible.bind(vt(_e)),_e.isScrollTracked=!!(ze&&Number.isFinite(ze.x)&&ze.x>=0&&Number.isFinite(ze.y)&&ze.y>=0),_e}return de=Vt,(Ue=[{key:"componentDidUpdate",value:function(Fe,_e){_e.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var Fe=this.props,_e=Fe.className,xe=Fe.delayMethod,Xe=Fe.delayTime,ze=Fe.height,dt=Fe.placeholder,un=Fe.scrollPosition,gn=Fe.style,mn=Fe.threshold,Ct=Fe.useIntersectionObserver,bn=Fe.width;return this.isScrollTracked||Ct&&A()?s().createElement(L,{className:_e,height:ze,onVisible:this.onVisible,placeholder:dt,scrollPosition:un,style:gn,threshold:mn,useIntersectionObserver:Ct,width:bn}):s().createElement(Ge,{className:_e,delayMethod:xe,delayTime:Xe,height:ze,onVisible:this.onVisible,placeholder:dt,style:gn,threshold:mn,width:bn})}}])&&et(de.prototype,Ue),Object.defineProperty(de,"prototype",{writable:!1}),Vt})(s().Component);pt.propTypes={afterLoad:a.PropTypes.func,beforeLoad:a.PropTypes.func,useIntersectionObserver:a.PropTypes.bool,visibleByDefault:a.PropTypes.bool},pt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const fn=pt;function Et(Ce){return Et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},Et(Ce)}var Lr=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Gn(Ce,de){var Ue=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Re=Object.getOwnPropertySymbols(Ce);de&&(Re=Re.filter((function(gt){return Object.getOwnPropertyDescriptor(Ce,gt).enumerable}))),Ue.push.apply(Ue,Re)}return Ue}function bi(Ce){for(var de=1;de<arguments.length;de++){var Ue=arguments[de]!=null?arguments[de]:{};de%2?Gn(Object(Ue),!0).forEach((function(Re){Dn(Ce,Re,Ue[Re])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(Ue)):Gn(Object(Ue)).forEach((function(Re){Object.defineProperty(Ce,Re,Object.getOwnPropertyDescriptor(Ue,Re))}))}return Ce}function Dn(Ce,de,Ue){return(de=ci(de))in Ce?Object.defineProperty(Ce,de,{value:Ue,enumerable:!0,configurable:!0,writable:!0}):Ce[de]=Ue,Ce}function Yt(){return Yt=Object.assign?Object.assign.bind():function(Ce){for(var de=1;de<arguments.length;de++){var Ue=arguments[de];for(var Re in Ue)Object.prototype.hasOwnProperty.call(Ue,Re)&&(Ce[Re]=Ue[Re])}return Ce},Yt.apply(this,arguments)}function Ht(Ce,de){for(var Ue=0;Ue<de.length;Ue++){var Re=de[Ue];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(Ce,ci(Re.key),Re)}}function ci(Ce){var de=(function(Ue,Re){if(Et(Ue)!=="object"||Ue===null)return Ue;var gt=Ue[Symbol.toPrimitive];if(gt!==void 0){var Mt=gt.call(Ue,"string");if(Et(Mt)!=="object")return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ue)})(Ce);return Et(de)==="symbol"?de:String(de)}function at(Ce,de){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ue,Re){return Ue.__proto__=Re,Ue},at(Ce,de)}function qi(Ce){return qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(de){return de.__proto__||Object.getPrototypeOf(de)},qi(Ce)}var ui=(function(Ce){(function(Fe,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(_e&&_e.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),_e&&at(Fe,_e)})(Vt,Ce);var de,Ue,Re,gt,Mt=(Re=Vt,gt=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var Fe,_e=qi(Re);if(gt){var xe=qi(this).constructor;Fe=Reflect.construct(_e,arguments,xe)}else Fe=_e.apply(this,arguments);return(function(Xe,ze){if(ze&&(Et(ze)==="object"||typeof ze=="function"))return ze;if(ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(dt){if(dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return dt})(Xe)})(this,Fe)});function Vt(Fe){var _e;return(function(xe,Xe){if(!(xe instanceof Xe))throw new TypeError("Cannot call a class as a function")})(this,Vt),(_e=Mt.call(this,Fe)).state={loaded:!1},_e}return de=Vt,(Ue=[{key:"onImageLoad",value:function(){var Fe=this;return this.state.loaded?null:function(_e){Fe.props.onLoad(_e),Fe.props.afterLoad(),Fe.setState({loaded:!0})}}},{key:"getImg",value:function(){var Fe=this.props,_e=(Fe.afterLoad,Fe.beforeLoad,Fe.delayMethod,Fe.delayTime,Fe.effect,Fe.placeholder,Fe.placeholderSrc,Fe.scrollPosition,Fe.threshold,Fe.useIntersectionObserver,Fe.visibleByDefault,Fe.wrapperClassName,Fe.wrapperProps,(function(xe,Xe){if(xe==null)return{};var ze,dt,un=(function(mn,Ct){if(mn==null)return{};var bn,Rn,Di={},$n=Object.keys(mn);for(Rn=0;Rn<$n.length;Rn++)bn=$n[Rn],Ct.indexOf(bn)>=0||(Di[bn]=mn[bn]);return Di})(xe,Xe);if(Object.getOwnPropertySymbols){var gn=Object.getOwnPropertySymbols(xe);for(dt=0;dt<gn.length;dt++)ze=gn[dt],Xe.indexOf(ze)>=0||Object.prototype.propertyIsEnumerable.call(xe,ze)&&(un[ze]=xe[ze])}return un})(Fe,Lr));return s().createElement("img",Yt({},_e,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var Fe=this.props,_e=Fe.beforeLoad,xe=Fe.className,Xe=Fe.delayMethod,ze=Fe.delayTime,dt=Fe.height,un=Fe.placeholder,gn=Fe.scrollPosition,mn=Fe.style,Ct=Fe.threshold,bn=Fe.useIntersectionObserver,Rn=Fe.visibleByDefault,Di=Fe.width;return s().createElement(fn,{beforeLoad:_e,className:xe,delayMethod:Xe,delayTime:ze,height:dt,placeholder:un,scrollPosition:gn,style:mn,threshold:Ct,useIntersectionObserver:bn,visibleByDefault:Rn,width:Di},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(Fe){var _e=this.props,xe=_e.effect,Xe=_e.height,ze=_e.placeholderSrc,dt=_e.width,un=_e.wrapperClassName,gn=_e.wrapperProps,mn=this.state.loaded,Ct=mn?" lazy-load-image-loaded":"",bn=mn||!ze?{}:{backgroundImage:"url(".concat(ze,")"),backgroundSize:"100% 100%"};return s().createElement("span",Yt({className:un+" lazy-load-image-background "+xe+Ct,style:bi(bi({},bn),{},{color:"transparent",display:"inline-block",height:Xe,width:dt})},gn),Fe)}},{key:"render",value:function(){var Fe=this.props,_e=Fe.effect,xe=Fe.placeholderSrc,Xe=Fe.visibleByDefault,ze=Fe.wrapperClassName,dt=Fe.wrapperProps,un=this.getLazyLoadImage();return(_e||xe)&&!Xe||ze||dt?this.getWrappedLazyLoadImage(un):un}}])&&Ht(de.prototype,Ue),Object.defineProperty(de,"prototype",{writable:!1}),Vt})(s().Component);ui.propTypes={onLoad:a.PropTypes.func,afterLoad:a.PropTypes.func,beforeLoad:a.PropTypes.func,delayMethod:a.PropTypes.string,delayTime:a.PropTypes.number,effect:a.PropTypes.string,placeholderSrc:a.PropTypes.string,threshold:a.PropTypes.number,useIntersectionObserver:a.PropTypes.bool,visibleByDefault:a.PropTypes.bool,wrapperClassName:a.PropTypes.string,wrapperProps:a.PropTypes.object},ui.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const $e=ui})(),by.exports=r})()),by.exports}var CH=bH();const Lg="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 400 400'%3E%3Crect width='400' height='400' fill='%23f3f4f6'/%3E%3Cpath d='M140 240 L180 200 L210 230 L250 190 L320 260 H80 Z' fill='%23d1d5db'/%3E%3Ccircle cx='140' cy='140' r='30' fill='%23d1d5db'/%3E%3C/svg%3E",BH="https://artly.soundgram.co.kr";function $t({src:t,alt:e,className:n,style:r,...i}){const[s,a]=H.useState(Lg);H.useEffect(()=>{if(!t){a(Lg);return}if(t.startsWith("http")||t.startsWith("data:")||t.startsWith("blob:")||t.startsWith("art:"))a(t);else{const u=t.startsWith("/")?t:`/${t}`,f=`${BH}/media${u}`;a(f)}},[t]);const A=u=>{u.target.src!==Lg&&(u.target.src=Lg)};return g.jsx(CH.LazyLoadImage,{src:s,alt:e,className:n,onError:A,effect:"blur",style:{objectFit:"cover",...r},wrapperProps:{style:{transitionDelay:"0.04s",display:"block",width:"100%",height:"100%"}},...i})}function _H(){const[t,e]=H.useState(0),[n,r]=H.useState([]),i=H.useRef(null),s=Wt();H.useEffect(()=>(a(),()=>clearTimeout(i.current)),[t,n]);const a=()=>{clearTimeout(i.current),!(!n||n.length<=1)&&(i.current=setTimeout(()=>{e(m=>(m+1)%n.length)},5e3))},A=()=>{e(m=>(m-1+n.length)%n.length)},u=()=>{e(m=>(m+1)%n.length)},f=m=>e(m);return H.useEffect(()=>{(async()=>{try{const C=(await $i.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:B,exhibition_poster:E,exhibition_title:I,exhibition_category:M,exhibition_status:R,exhibition_start_date:L,exhibition_end_date:U,exhibition_organization:O})=>({id:B,image:E,title:I,category:M,status:R,startDate:L,endDate:U,organization:O}));r(C)}catch(w){console.error("     :",w)}})()},[]),g.jsxs("div",{className:Qi.carouselContainer,children:[g.jsx("button",{className:`${Qi.arrowButton} ${Qi.left}`,onClick:A,children:""}),g.jsx("div",{className:Qi.sliderWrapper,children:g.jsx("div",{className:Qi.slider,style:{transform:`translateX(-${t*100}%)`},children:n.map(m=>g.jsxs("div",{className:Qi.carouselItem,children:[g.jsx($t,{src:m==null?void 0:m.image,alt:(m==null?void 0:m.title)||(m==null?void 0:m.name),className:Qi.carouselImage}),g.jsxs("div",{className:Qi.captionBox,children:[g.jsx("h3",{className:Qi.title,children:m==null?void 0:m.title}),g.jsxs("p",{className:Qi.location,children:[m==null?void 0:m.organization.name,g.jsx("br",{}),(m==null?void 0:m.period)||`${m==null?void 0:m.startDate} ~ ${m==null?void 0:m.endDate}`]}),g.jsx("button",{className:Qi.detailButton,onClick:()=>{s(`/exhibitions/${m==null?void 0:m.id}`)},children:" "})]})]},m==null?void 0:m.id))})}),g.jsx("button",{className:`${Qi.arrowButton} ${Qi.right}`,onClick:u,children:""}),g.jsx("div",{className:Qi.dots,children:n.map((m,w)=>g.jsx("button",{onClick:()=>f(w),className:`${Qi.dot} ${w===t?Qi.active:""}`},m==null?void 0:m.id))})]})}function US(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function rC(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:US(e[r])&&US(t[r])&&Object.keys(e[r]).length>0&&rC(t[r],e[r])})}const o5={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Yc(){const t=typeof document<"u"?document:{};return rC(t,o5),t}const EH={document:o5,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function ms(){const t=typeof window<"u"?window:{};return rC(t,EH),t}function SH(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function TH(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function l5(t,e=0){return setTimeout(t,e)}function sm(){return Date.now()}function IH(t){const e=ms();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function NH(t,e="x"){const n=ms();let r,i,s;const a=IH(t);return n.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(A=>A.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Ug(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function OH(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function na(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const i=t[r];if(i!=null&&!OH(i)){const s=Object.keys(Object(i)).filter(a=>n.indexOf(a)<0);for(let a=0,A=s.length;a<A;a+=1){const u=s[a],f=Object.getOwnPropertyDescriptor(i,u);f!==void 0&&f.enumerable&&(Ug(e[u])&&Ug(i[u])?i[u].__swiper__?e[u]=i[u]:na(e[u],i[u]):!Ug(e[u])&&Ug(i[u])?(e[u]={},i[u].__swiper__?e[u]=i[u]:na(e[u],i[u])):e[u]=i[u])}}}return e}function Qg(t,e,n){t.style.setProperty(e,n)}function A5({swiper:t,targetPosition:e,side:n}){const r=ms(),i=-t.translate;let s=null,a;const A=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const u=e>i?"next":"prev",f=(w,C)=>u==="next"&&w>=C||u==="prev"&&w<=C,m=()=>{a=new Date().getTime(),s===null&&(s=a);const w=Math.max(Math.min((a-s)/A,1),0),C=.5-Math.cos(w*Math.PI)/2;let B=i+C*(e-i);if(f(B,e)&&(B=e),t.wrapperEl.scrollTo({[n]:B}),f(B,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:B})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(m)};m()}function go(t,e=""){const n=ms(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function MH(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function kH(t,e){const n=ms();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=MH(t,e))),r}function am(t){try{console.warn(t);return}catch{}}function om(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:SH(e)),n}function FH(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function DH(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function vA(t,e){return ms().getComputedStyle(t,null).getPropertyValue(e)}function QS(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function RH(t,e){const n=[];let r=t.parentElement;for(;r;)n.push(r),r=r.parentElement;return n}function HS(t,e,n){const r=ms();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Wo(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function bv(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let Cy;function LH(){const t=ms(),e=Yc();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function c5(){return Cy||(Cy=LH()),Cy}let By;function UH({userAgent:t}={}){const e=c5(),n=ms(),r=n.navigator.platform,i=t||n.navigator.userAgent,s={ios:!1,android:!1},a=n.screen.width,A=n.screen.height,u=i.match(/(Android);?[\s\/]+([\d.]+)?/);let f=i.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const m=i.match(/(iPod)(.*OS\s([\d_]+))?/),w=!f&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),C=r==="Win32";let B=r==="MacIntel";const E=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!f&&B&&e.touch&&E.indexOf(`${a}x${A}`)>=0&&(f=i.match(/(Version)\/([\d.]+)/),f||(f=[0,1,"13_0_0"]),B=!1),u&&!C&&(s.os="android",s.android=!0),(f||w||m)&&(s.os="ios",s.ios=!0),s}function u5(t={}){return By||(By=UH(t)),By}let _y;function QH(){const t=ms(),e=u5();let n=!1;function r(){const A=t.navigator.userAgent.toLowerCase();return A.indexOf("safari")>=0&&A.indexOf("chrome")<0&&A.indexOf("android")<0}if(r()){const A=String(t.navigator.userAgent);if(A.includes("Version/")){const[u,f]=A.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));n=u<16||u===16&&f<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),a=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:a,isWebView:i}}function d5(){return _y||(_y=QH()),_y}function HH({swiper:t,on:e,emit:n}){const r=ms();let i=null,s=null;const a=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},A=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(m=>{s=r.requestAnimationFrame(()=>{const{width:w,height:C}=t;let B=w,E=C;m.forEach(({contentBoxSize:I,contentRect:M,target:R})=>{R&&R!==t.el||(B=M?M.width:(I[0]||I).inlineSize,E=M?M.height:(I[0]||I).blockSize)}),(B!==w||E!==C)&&a()})}),i.observe(t.el))},u=()=>{s&&r.cancelAnimationFrame(s),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},f=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){A();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",f)}),e("destroy",()=>{u(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",f)})}function jH({swiper:t,extendParams:e,on:n,emit:r}){const i=[],s=ms(),a=(f,m={})=>{const w=s.MutationObserver||s.WebkitMutationObserver,C=new w(B=>{if(t.__preventObserver__)return;if(B.length===1){r("observerUpdate",B[0]);return}const E=function(){r("observerUpdate",B[0])};s.requestAnimationFrame?s.requestAnimationFrame(E):s.setTimeout(E,0)});C.observe(f,{attributes:typeof m.attributes>"u"?!0:m.attributes,childList:t.isElement||(typeof m.childList>"u"?!0:m).childList,characterData:typeof m.characterData>"u"?!0:m.characterData}),i.push(C)},A=()=>{if(t.params.observer){if(t.params.observeParents){const f=RH(t.hostEl);for(let m=0;m<f.length;m+=1)a(f[m])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}},u=()=>{i.forEach(f=>{f.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",A),n("destroy",u)}var PH={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(...s){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,s)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(A=>{A.apply(i,[a,...r])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(A=>{A.apply(i,r)})}),e}};function zH(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(vA(r,"padding-left")||0,10)-parseInt(vA(r,"padding-right")||0,10),n=n-parseInt(vA(r,"padding-top")||0,10)-parseInt(vA(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function VH(){const t=this;function e(W,Y){return parseFloat(W.getPropertyValue(t.getDirectionLabel(Y))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,rtlTranslate:s,wrongRTL:a}=t,A=t.virtual&&n.virtual.enabled,u=A?t.virtual.slides.length:t.slides.length,f=go(i,`.${t.params.slideClass}, swiper-slide`),m=A?t.virtual.slides.length:f.length;let w=[];const C=[],B=[];let E=n.slidesOffsetBefore;typeof E=="function"&&(E=n.slidesOffsetBefore.call(t));let I=n.slidesOffsetAfter;typeof I=="function"&&(I=n.slidesOffsetAfter.call(t));const M=t.snapGrid.length,R=t.slidesGrid.length,L=t.size-E-I;let U=n.spaceBetween,O=-E,F=0,Q=0;if(typeof L>"u")return;typeof U=="string"&&U.indexOf("%")>=0?U=parseFloat(U.replace("%",""))/100*L:typeof U=="string"&&(U=parseFloat(U)),t.virtualSize=-U-E-I,f.forEach(W=>{s?W.style.marginLeft="":W.style.marginRight="",W.style.marginBottom="",W.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Qg(r,"--swiper-centered-offset-before",""),Qg(r,"--swiper-centered-offset-after",""));const D=n.grid&&n.grid.rows>1&&t.grid;D?t.grid.initSlides(f):t.grid&&t.grid.unsetSlides();let j;const V=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(W=>typeof n.breakpoints[W].slidesPerView<"u").length>0;for(let W=0;W<m;W+=1){j=0;const Y=f[W];if(!(Y&&(D&&t.grid.updateSlide(W,Y,f),vA(Y,"display")==="none"))){if(A&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(j=n.virtual.slidesPerViewAutoSlideSize),j&&Y&&(n.roundLengths&&(j=Math.floor(j)),Y.style[t.getDirectionLabel("width")]=`${j}px`);else if(n.slidesPerView==="auto"){V&&(Y.style[t.getDirectionLabel("width")]="");const J=getComputedStyle(Y),re=Y.style.transform,te=Y.style.webkitTransform;if(re&&(Y.style.transform="none"),te&&(Y.style.webkitTransform="none"),n.roundLengths)j=t.isHorizontal()?HS(Y,"width"):HS(Y,"height");else{const q=e(J,"width"),ie=e(J,"padding-left"),ae=e(J,"padding-right"),se=e(J,"margin-left"),me=e(J,"margin-right"),ke=J.getPropertyValue("box-sizing");if(ke&&ke==="border-box")j=q+se+me;else{const{clientWidth:ne,offsetWidth:he}=Y;j=q+ie+ae+se+me+(he-ne)}}re&&(Y.style.transform=re),te&&(Y.style.webkitTransform=te),n.roundLengths&&(j=Math.floor(j))}else j=(L-(n.slidesPerView-1)*U)/n.slidesPerView,n.roundLengths&&(j=Math.floor(j)),Y&&(Y.style[t.getDirectionLabel("width")]=`${j}px`);Y&&(Y.swiperSlideSize=j),B.push(j),n.centeredSlides?(O=O+j/2+F/2+U,F===0&&W!==0&&(O=O-L/2-U),W===0&&(O=O-L/2-U),Math.abs(O)<1/1e3&&(O=0),n.roundLengths&&(O=Math.floor(O)),Q%n.slidesPerGroup===0&&w.push(O),C.push(O)):(n.roundLengths&&(O=Math.floor(O)),(Q-Math.min(t.params.slidesPerGroupSkip,Q))%t.params.slidesPerGroup===0&&w.push(O),C.push(O),O=O+j+U),t.virtualSize+=j+U,F=j,Q+=1}}if(t.virtualSize=Math.max(t.virtualSize,L)+I,s&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+U}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+U}px`),D&&t.grid.updateWrapperSize(j,w),!n.centeredSlides){const W=[];for(let Y=0;Y<w.length;Y+=1){let J=w[Y];n.roundLengths&&(J=Math.floor(J)),w[Y]<=t.virtualSize-L&&W.push(J)}w=W,Math.floor(t.virtualSize-L)-Math.floor(w[w.length-1])>1&&w.push(t.virtualSize-L)}if(A&&n.loop){const W=B[0]+U;if(n.slidesPerGroup>1){const Y=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),J=W*n.slidesPerGroup;for(let re=0;re<Y;re+=1)w.push(w[w.length-1]+J)}for(let Y=0;Y<t.virtual.slidesBefore+t.virtual.slidesAfter;Y+=1)n.slidesPerGroup===1&&w.push(w[w.length-1]+W),C.push(C[C.length-1]+W),t.virtualSize+=W}if(w.length===0&&(w=[0]),U!==0){const W=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");f.filter((Y,J)=>!n.cssMode||n.loop?!0:J!==f.length-1).forEach(Y=>{Y.style[W]=`${U}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let W=0;B.forEach(J=>{W+=J+(U||0)}),W-=U;const Y=W>L?W-L:0;w=w.map(J=>J<=0?-E:J>Y?Y+I:J)}if(n.centerInsufficientSlides){let W=0;B.forEach(J=>{W+=J+(U||0)}),W-=U;const Y=(E||0)+(I||0);if(W+Y<L){const J=(L-W-Y)/2;w.forEach((re,te)=>{w[te]=re-J}),C.forEach((re,te)=>{C[te]=re+J})}}if(Object.assign(t,{slides:f,snapGrid:w,slidesGrid:C,slidesSizesGrid:B}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Qg(r,"--swiper-centered-offset-before",`${-w[0]}px`),Qg(r,"--swiper-centered-offset-after",`${t.size/2-B[B.length-1]/2}px`);const W=-t.snapGrid[0],Y=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(J=>J+W),t.slidesGrid=t.slidesGrid.map(J=>J+Y)}if(m!==u&&t.emit("slidesLengthChange"),w.length!==M&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),C.length!==R&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!A&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const W=`${n.containerModifierClass}backface-hidden`,Y=t.el.classList.contains(W);m<=n.maxBackfaceHiddenSlides?Y||t.el.classList.add(W):Y&&t.el.classList.remove(W)}}function KH(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=A=>r?e.slides[e.getSlideIndexByData(A)]:e.slides[A];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(A=>{n.push(A)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const A=e.activeIndex+s;if(A>e.slides.length&&!r)break;n.push(a(A))}else n.push(a(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const A=n[s].offsetHeight;i=A>i?A:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function GH(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const jS=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function $H(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;i&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let A=n.spaceBetween;typeof A=="string"&&A.indexOf("%")>=0?A=parseFloat(A.replace("%",""))/100*e.size:typeof A=="string"&&(A=parseFloat(A));for(let u=0;u<r.length;u+=1){const f=r[u];let m=f.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(m-=r[0].swiperSlideOffset);const w=(a+(n.centeredSlides?e.minTranslate():0)-m)/(f.swiperSlideSize+A),C=(a-s[0]+(n.centeredSlides?e.minTranslate():0)-m)/(f.swiperSlideSize+A),B=-(a-m),E=B+e.slidesSizesGrid[u],I=B>=0&&B<=e.size-e.slidesSizesGrid[u],M=B>=0&&B<e.size-1||E>1&&E<=e.size||B<=0&&E>=e.size;M&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(u)),jS(f,M,n.slideVisibleClass),jS(f,I,n.slideFullyVisibleClass),f.progress=i?-w:w,f.originalProgress=i?-C:C}}function WH(t){const e=this;if(typeof t>"u"){const m=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*m||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:a,progressLoop:A}=e;const u=s,f=a;if(r===0)i=0,s=!0,a=!0;else{i=(t-e.minTranslate())/r;const m=Math.abs(t-e.minTranslate())<1,w=Math.abs(t-e.maxTranslate())<1;s=m||i<=0,a=w||i>=1,m&&(i=0),w&&(i=1)}if(n.loop){const m=e.getSlideIndexByData(0),w=e.getSlideIndexByData(e.slides.length-1),C=e.slidesGrid[m],B=e.slidesGrid[w],E=e.slidesGrid[e.slidesGrid.length-1],I=Math.abs(t);I>=C?A=(I-C)/E:A=(I+E-B)/E,A>1&&(A-=1)}Object.assign(e,{progress:i,progressLoop:A,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!u&&e.emit("reachBeginning toEdge"),a&&!f&&e.emit("reachEnd toEdge"),(u&&!s||f&&!a)&&e.emit("fromEdge"),e.emit("progress",i)}const Ey=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function XH(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,A=w=>go(r,`.${n.slideClass}${w}, swiper-slide${w}`)[0];let u,f,m;if(s)if(n.loop){let w=i-t.virtual.slidesBefore;w<0&&(w=t.virtual.slides.length+w),w>=t.virtual.slides.length&&(w-=t.virtual.slides.length),u=A(`[data-swiper-slide-index="${w}"]`)}else u=A(`[data-swiper-slide-index="${i}"]`);else a?(u=e.find(w=>w.column===i),m=e.find(w=>w.column===i+1),f=e.find(w=>w.column===i-1)):u=e[i];u&&(a||(m=DH(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!m&&(m=e[0]),f=FH(u,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!f===0&&(f=e[e.length-1]))),e.forEach(w=>{Ey(w,w===u,n.slideActiveClass),Ey(w,w===m,n.slideNextClass),Ey(w,w===f,n.slidePrevClass)}),t.emitSlidesClasses()}const z1=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Sy=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Cv=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=i,A=[a-e];A.push(...Array.from({length:e}).map((u,f)=>a+r+f)),t.slides.forEach((u,f)=>{A.includes(u.column)&&Sy(t,f)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let a=i-e;a<=s+e;a+=1){const A=(a%n+n)%n;(A<i||A>s)&&Sy(t,A)}else for(let a=Math.max(i-e,0);a<=Math.min(s+e,n-1);a+=1)a!==i&&(a>s||a<i)&&Sy(t,a)};function qH(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function YH(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:a,snapIndex:A}=e;let u=t,f;const m=B=>{let E=B-e.virtual.slidesBefore;return E<0&&(E=e.virtual.slides.length+E),E>=e.virtual.slides.length&&(E-=e.virtual.slides.length),E};if(typeof u>"u"&&(u=qH(e)),r.indexOf(n)>=0)f=r.indexOf(n);else{const B=Math.min(i.slidesPerGroupSkip,u);f=B+Math.floor((u-B)/i.slidesPerGroup)}if(f>=r.length&&(f=r.length-1),u===s&&!e.params.loop){f!==A&&(e.snapIndex=f,e.emit("snapIndexChange"));return}if(u===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=m(u);return}const w=e.grid&&i.grid&&i.grid.rows>1;let C;if(e.virtual&&i.virtual.enabled&&i.loop)C=m(u);else if(w){const B=e.slides.find(I=>I.column===u);let E=parseInt(B.getAttribute("data-swiper-slide-index"),10);Number.isNaN(E)&&(E=Math.max(e.slides.indexOf(B),0)),C=Math.floor(E/i.grid.rows)}else if(e.slides[u]){const B=e.slides[u].getAttribute("data-swiper-slide-index");B?C=parseInt(B,10):C=u}else C=u;Object.assign(e,{previousSnapIndex:A,snapIndex:f,previousRealIndex:a,realIndex:C,previousIndex:s,activeIndex:u}),e.initialized&&Cv(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==C&&e.emit("realIndexChange"),e.emit("slideChange"))}function ZH(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(A=>{!i&&A.matches&&A.matches(`.${r.slideClass}, swiper-slide`)&&(i=A)});let s=!1,a;if(i){for(let A=0;A<n.slides.length;A+=1)if(n.slides[A]===i){s=!0,a=A;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var JH={updateSize:zH,updateSlides:VH,updateAutoHeight:KH,updateSlidesOffset:GH,updateSlidesProgress:$H,updateProgress:WH,updateSlidesClasses:XH,updateActiveIndex:YH,updateClickedSlide:ZH};function ej(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let a=NH(s,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function tj(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:a}=n;let A=0,u=0;const f=0;n.isHorizontal()?A=r?-t:t:u=t,i.roundLengths&&(A=Math.floor(A),u=Math.floor(u)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?A:u,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-A:-u:i.virtualTranslate||(n.isHorizontal()?A-=n.cssOverflowAdjustment():u-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${A}px, ${u}px, ${f}px)`);let m;const w=n.maxTranslate()-n.minTranslate();w===0?m=0:m=(t-n.minTranslate())/w,m!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function nj(){return-this.snapGrid[0]}function rj(){return-this.snapGrid[this.snapGrid.length-1]}function ij(t=0,e=this.params.speed,n=!0,r=!0,i){const s=this,{params:a,wrapperEl:A}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const u=s.minTranslate(),f=s.maxTranslate();let m;if(r&&t>u?m=u:r&&t<f?m=f:m=t,s.updateProgress(m),a.cssMode){const w=s.isHorizontal();if(e===0)A[w?"scrollLeft":"scrollTop"]=-m;else{if(!s.support.smoothScroll)return A5({swiper:s,targetPosition:-m,side:w?"left":"top"}),!0;A.scrollTo({[w?"left":"top"]:-m,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(m),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(m),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(C){!s||s.destroyed||C.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var sj={getTranslate:ej,setTranslate:tj,minTranslate:nj,maxTranslate:rj,translateTo:ij};function aj(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function f5({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:s}=t;let a=n;a||(i>s?a="next":i<s?a="prev":a="reset"),t.emit(`transition${r}`),e&&a==="reset"?t.emit(`slideResetTransition${r}`):e&&i!==s&&(t.emit(`slideChangeTransition${r}`),a==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function oj(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),f5({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function lj(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),f5({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var Aj={setTransition:aj,transitionStart:oj,transitionEnd:lj};function cj(t=0,e,n=!0,r,i){typeof t=="string"&&(t=parseInt(t,10));const s=this;let a=t;a<0&&(a=0);const{params:A,snapGrid:u,slidesGrid:f,previousIndex:m,activeIndex:w,rtlTranslate:C,wrapperEl:B,enabled:E}=s;if(!E&&!r&&!i||s.destroyed||s.animating&&A.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const I=Math.min(s.params.slidesPerGroupSkip,a);let M=I+Math.floor((a-I)/s.params.slidesPerGroup);M>=u.length&&(M=u.length-1);const R=-u[M];if(A.normalizeSlideIndex)for(let D=0;D<f.length;D+=1){const j=-Math.floor(R*100),V=Math.floor(f[D]*100),W=Math.floor(f[D+1]*100);typeof f[D+1]<"u"?j>=V&&j<W-(W-V)/2?a=D:j>=V&&j<W&&(a=D+1):j>=V&&(a=D)}if(s.initialized&&a!==w&&(!s.allowSlideNext&&(C?R>s.translate&&R>s.minTranslate():R<s.translate&&R<s.minTranslate())||!s.allowSlidePrev&&R>s.translate&&R>s.maxTranslate()&&(w||0)!==a))return!1;a!==(m||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(R);let L;a>w?L="next":a<w?L="prev":L="reset";const U=s.virtual&&s.params.virtual.enabled;if(!(U&&i)&&(C&&-R===s.translate||!C&&R===s.translate))return s.updateActiveIndex(a),A.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),A.effect!=="slide"&&s.setTranslate(R),L!=="reset"&&(s.transitionStart(n,L),s.transitionEnd(n,L)),!1;if(A.cssMode){const D=s.isHorizontal(),j=C?R:-R;if(e===0)U&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),U&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{B[D?"scrollLeft":"scrollTop"]=j})):B[D?"scrollLeft":"scrollTop"]=j,U&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return A5({swiper:s,targetPosition:j,side:D?"left":"top"}),!0;B.scrollTo({[D?"left":"top"]:j,behavior:"smooth"})}return!0}const Q=d5().isSafari;return U&&!i&&Q&&s.isElement&&s.virtual.update(!1,!1,a),s.setTransition(e),s.setTranslate(R),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,L),e===0?s.transitionEnd(n,L):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(j){!s||s.destroyed||j.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,L))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function uj(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a=a+i.virtual.slidesBefore;else{let A;if(s){const I=a*i.params.grid.rows;A=i.slides.find(M=>M.getAttribute("data-swiper-slide-index")*1===I).column}else A=i.getSlideIndexByData(a);const u=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:f,slidesOffsetBefore:m,slidesOffsetAfter:w}=i.params,C=f||!!m||!!w;let B=i.params.slidesPerView;B==="auto"?B=i.slidesPerViewDynamic():(B=Math.ceil(parseFloat(i.params.slidesPerView,10)),C&&B%2===0&&(B=B+1));let E=u-A<B;if(C&&(E=E||A<Math.ceil(B/2)),r&&C&&i.params.slidesPerView!=="auto"&&!s&&(E=!1),E){const I=C?A<i.activeIndex?"prev":"next":A-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:I,slideTo:!0,activeSlideIndex:I==="next"?A+1:A-u+1,slideRealIndex:I==="next"?i.realIndex:void 0})}if(s){const I=a*i.params.grid.rows;a=i.slides.find(M=>M.getAttribute("data-swiper-slide-index")*1===I).column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,e,n,r)}),i}function dj(t,e=!0,n){const r=this,{enabled:i,params:s,animating:a}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let A=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(A=Math.max(r.slidesPerViewDynamic("current",!0),1));const u=r.activeIndex<s.slidesPerGroupSkip?1:A,f=r.virtual&&s.virtual.enabled;if(s.loop){if(a&&!f&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+u,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+u,t,e,n)}function fj(t,e=!0,n){const r=this,{params:i,snapGrid:s,slidesGrid:a,rtlTranslate:A,enabled:u,animating:f}=r;if(!u||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const m=r.virtual&&i.virtual.enabled;if(i.loop){if(f&&!m&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const w=A?r.translate:-r.translate;function C(L){return L<0?-Math.floor(Math.abs(L)):Math.floor(L)}const B=C(w),E=s.map(L=>C(L)),I=i.freeMode&&i.freeMode.enabled;let M=s[E.indexOf(B)-1];if(typeof M>"u"&&(i.cssMode||I)){let L;s.forEach((U,O)=>{B>=U&&(L=O)}),typeof L<"u"&&(M=I?s[L]:s[L>0?L-1:L])}let R=0;if(typeof M<"u"&&(R=a.indexOf(M),R<0&&(R=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(R=R-r.slidesPerViewDynamic("previous",!0)+1,R=Math.max(R,0))),i.rewind&&r.isBeginning){const L=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(L,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(R,t,e,n)}),!0;return r.slideTo(R,t,e,n)}function hj(t,e=!0,n){const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function pj(t,e=!0,n,r=.5){const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,s),A=a+Math.floor((s-a)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[A]){const f=i.snapGrid[A],m=i.snapGrid[A+1];u-f>(m-f)*r&&(s+=i.params.slidesPerGroup)}else{const f=i.snapGrid[A-1],m=i.snapGrid[A];u-f<=(m-f)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function gj(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.getSlideIndexWhenGrid(t.clickedIndex),s;const a=t.isElement?"swiper-slide":`.${e.slideClass}`,A=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):i>(A?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),i=t.getSlideIndex(go(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),l5(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var mj={slideTo:cj,slideToLoop:uj,slideNext:dj,slidePrev:fj,slideReset:hj,slideToClosest:pj,slideToClickedSlide:gj};function xj(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{go(i,`.${r.slideClass}, swiper-slide`).forEach((E,I)=>{E.setAttribute("data-swiper-slide-index",I)})},a=()=>{const B=go(i,`.${r.slideBlankClass}`);B.forEach(E=>{E.remove()}),B.length>0&&(n.recalcSlides(),n.updateSlides())},A=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||A)&&a();const u=r.slidesPerGroup*(A?r.grid.rows:1),f=n.slides.length%u!==0,m=A&&n.slides.length%r.grid.rows!==0,w=B=>{for(let E=0;E<B;E+=1){const I=n.isElement?om("swiper-slide",[r.slideBlankClass]):om("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(I)}};if(f){if(r.loopAddBlankSlides){const B=u-n.slides.length%u;w(B),n.recalcSlides(),n.updateSlides()}else am("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(m){if(r.loopAddBlankSlides){const B=r.grid.rows-n.slides.length%r.grid.rows;w(B),n.recalcSlides(),n.updateSlides()}else am("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();const C=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:C?void 0:"next",initial:e})}function wj({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:i,initial:s,byController:a,byMousewheel:A}={}){const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:f,allowSlidePrev:m,allowSlideNext:w,slidesEl:C,params:B}=u,{centeredSlides:E,slidesOffsetBefore:I,slidesOffsetAfter:M,initialSlide:R}=B,L=E||!!I||!!M;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&B.virtual.enabled){e&&(!L&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):L&&u.snapIndex<B.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=m,u.allowSlideNext=w,u.emit("loopFix");return}let U=B.slidesPerView;U==="auto"?U=u.slidesPerViewDynamic():(U=Math.ceil(parseFloat(B.slidesPerView,10)),L&&U%2===0&&(U=U+1));const O=B.slidesPerGroupAuto?U:B.slidesPerGroup;let F=L?Math.max(O,Math.ceil(U/2)):O;F%O!==0&&(F+=O-F%O),F+=B.loopAdditionalSlides,u.loopedSlides=F;const Q=u.grid&&B.grid&&B.grid.rows>1;f.length<U+F||u.params.effect==="cards"&&f.length<U+F*2?am("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):Q&&B.grid.fill==="row"&&am("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const D=[],j=[],V=Q?Math.ceil(f.length/B.grid.rows):f.length,W=s&&V-R<U&&!L;let Y=W?R:u.activeIndex;typeof i>"u"?i=u.getSlideIndex(f.find(se=>se.classList.contains(B.slideActiveClass))):Y=i;const J=n==="next"||!n,re=n==="prev"||!n;let te=0,q=0;const ae=(Q?f[i].column:i)+(L&&typeof r>"u"?-U/2+.5:0);if(ae<F){te=Math.max(F-ae,O);for(let se=0;se<F-ae;se+=1){const me=se-Math.floor(se/V)*V;if(Q){const ke=V-me-1;for(let ne=f.length-1;ne>=0;ne-=1)f[ne].column===ke&&D.push(ne)}else D.push(V-me-1)}}else if(ae+U>V-F){q=Math.max(ae-(V-F*2),O),W&&(q=Math.max(q,U-V+R+1));for(let se=0;se<q;se+=1){const me=se-Math.floor(se/V)*V;Q?f.forEach((ke,ne)=>{ke.column===me&&j.push(ne)}):j.push(me)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&f.length<U+F*2&&(j.includes(i)&&j.splice(j.indexOf(i),1),D.includes(i)&&D.splice(D.indexOf(i),1)),re&&D.forEach(se=>{f[se].swiperLoopMoveDOM=!0,C.prepend(f[se]),f[se].swiperLoopMoveDOM=!1}),J&&j.forEach(se=>{f[se].swiperLoopMoveDOM=!0,C.append(f[se]),f[se].swiperLoopMoveDOM=!1}),u.recalcSlides(),B.slidesPerView==="auto"?u.updateSlides():Q&&(D.length>0&&re||j.length>0&&J)&&u.slides.forEach((se,me)=>{u.grid.updateSlide(me,se,u.slides)}),B.watchSlidesProgress&&u.updateSlidesOffset(),e){if(D.length>0&&re){if(typeof t>"u"){const se=u.slidesGrid[Y],ke=u.slidesGrid[Y+te]-se;A?u.setTranslate(u.translate-ke):(u.slideTo(Y+Math.ceil(te),0,!1,!0),r&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-ke,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-ke))}else if(r){const se=Q?D.length/B.grid.rows:D.length;u.slideTo(u.activeIndex+se,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(j.length>0&&J)if(typeof t>"u"){const se=u.slidesGrid[Y],ke=u.slidesGrid[Y-q]-se;A?u.setTranslate(u.translate-ke):(u.slideTo(Y-q,0,!1,!0),r&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-ke,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-ke))}else{const se=Q?j.length/B.grid.rows:j.length;u.slideTo(u.activeIndex-se,0,!1,!0)}}if(u.allowSlidePrev=m,u.allowSlideNext=w,u.controller&&u.controller.control&&!a){const se={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:i,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(me=>{!me.destroyed&&me.params.loop&&me.loopFix({...se,slideTo:me.params.slidesPerView===B.slidesPerView?e:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...se,slideTo:u.controller.control.params.slidesPerView===B.slidesPerView?e:!1})}u.emit("loopFix")}function yj(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var vj={loopCreate:xj,loopFix:wj,loopDestroy:yj};function bj(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Cj(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Bj={setGrabCursor:bj,unsetGrabCursor:Cj};function _j(t,e=this){function n(r){if(!r||r===Yc()||r===ms())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function PS(t,e,n){const r=ms(),{params:i}=t,s=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return s&&(n<=a||n>=r.innerWidth-a)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function Ej(t){const e=this,n=Yc();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){PS(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:a,enabled:A}=e;if(!A||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let u=r.target;if(s.touchEventsTarget==="wrapper"&&!kH(u,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const f=!!s.noSwipingClass&&s.noSwipingClass!=="",m=r.composedPath?r.composedPath():r.path;f&&r.target&&r.target.shadowRoot&&m&&(u=m[0]);const w=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,C=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(C?_j(w,u):u.closest(w))){e.allowClick=!0;return}if(s.swipeHandler&&!u.closest(s.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const B=a.currentX,E=a.currentY;if(!PS(e,r,B))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=B,a.startY=E,i.touchStartTime=sm(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let I=!0;u.matches(i.focusableElements)&&(I=!1,u.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==u&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!u.matches(i.focusableElements))&&n.activeElement.blur();const M=I&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||M)&&!u.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Sj(t){const e=Yc(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:a,enabled:A}=n;if(!A||!i.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(r.touchId!==null||u.pointerId!==r.pointerId))return;let f;if(u.type==="touchmove"){if(f=[...u.changedTouches].find(F=>F.identifier===r.touchId),!f||f.identifier!==r.touchId)return}else f=u;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",u);return}const m=f.pageX,w=f.pageY;if(u.preventedByNestedSwiper){s.startX=m,s.startY=w;return}if(!n.allowTouchMove){u.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:m,startY:w,currentX:m,currentY:w}),r.touchStartTime=sm());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(w<s.startY&&n.translate<=n.maxTranslate()||w>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(a&&(m>s.startX&&-n.translate<=n.maxTranslate()||m<s.startX&&-n.translate>=n.minTranslate()))return;if(!a&&(m<s.startX&&n.translate<=n.maxTranslate()||m>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",u),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=m,s.currentY=w;const C=s.currentX-s.startX,B=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(C**2+B**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let F;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:C*C+B*B>=25&&(F=Math.atan2(Math.abs(B),Math.abs(C))*180/Math.PI,r.isScrolling=n.isHorizontal()?F>i.touchAngle:90-F>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",u),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||u.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&u.cancelable&&u.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&u.stopPropagation();let E=n.isHorizontal()?C:B,I=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(E=Math.abs(E)*(a?1:-1),I=Math.abs(I)*(a?1:-1)),s.diff=E,E*=i.touchRatio,a&&(E=-E,I=-I);const M=n.touchesDirection;n.swipeDirection=E>0?"prev":"next",n.touchesDirection=I>0?"prev":"next";const R=n.params.loop&&!i.cssMode,L=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(R&&L&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const F=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(F)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&M!==n.touchesDirection&&R&&L&&Math.abs(E)>=1){Object.assign(s,{startX:m,startY:w,currentX:m,currentY:w,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",u),r.isMoved=!0,r.currentTranslate=E+r.startTranslate;let U=!0,O=i.resistanceRatio;if(i.touchReleaseOnEdges&&(O=0),E>0?(R&&L&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(U=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+E)**O))):E<0&&(R&&L&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(U=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-E)**O))),U&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(E)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Tj(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(F=>F.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:A,rtlTranslate:u,slidesGrid:f,enabled:m}=e;if(!m||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const w=sm(),C=w-n.touchStartTime;if(e.allowClick){const F=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(F&&F[0]||r.target,F),e.emit("tap click",r),C<300&&w-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=sm(),l5(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||A.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let B;if(a.followFinger?B=u?e.translate:-e.translate:B=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:B});return}const E=B>=-e.maxTranslate()&&!e.params.loop;let I=0,M=e.slidesSizesGrid[0];for(let F=0;F<f.length;F+=F<a.slidesPerGroupSkip?1:a.slidesPerGroup){const Q=F<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof f[F+Q]<"u"?(E||B>=f[F]&&B<f[F+Q])&&(I=F,M=f[F+Q]-f[F]):(E||B>=f[F])&&(I=F,M=f[f.length-1]-f[f.length-2])}let R=null,L=null;a.rewind&&(e.isBeginning?L=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(R=0));const U=(B-f[I])/M,O=I<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(C>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(U>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?R:I+O):e.slideTo(I)),e.swipeDirection==="prev"&&(U>1-a.longSwipesRatio?e.slideTo(I+O):L!==null&&U<0&&Math.abs(U)>a.longSwipesRatio?e.slideTo(L):e.slideTo(I))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(I+O):e.slideTo(I):(e.swipeDirection==="next"&&e.slideTo(R!==null?R:I+O),e.swipeDirection==="prev"&&e.slideTo(L!==null?L:I))}}function zS(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const A=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!A?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function Ij(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Nj(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Oj(t){const e=this;z1(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Mj(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const h5=(t,e)=>{const n=Yc(),{params:r,el:i,wrapperEl:s,device:a}=t,A=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",f=e;!i||typeof i=="string"||(n[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:A}),i[u]("touchstart",t.onTouchStart,{passive:!1}),i[u]("pointerdown",t.onTouchStart,{passive:!1}),n[u]("touchmove",t.onTouchMove,{passive:!1,capture:A}),n[u]("pointermove",t.onTouchMove,{passive:!1,capture:A}),n[u]("touchend",t.onTouchEnd,{passive:!0}),n[u]("pointerup",t.onTouchEnd,{passive:!0}),n[u]("pointercancel",t.onTouchEnd,{passive:!0}),n[u]("touchcancel",t.onTouchEnd,{passive:!0}),n[u]("pointerout",t.onTouchEnd,{passive:!0}),n[u]("pointerleave",t.onTouchEnd,{passive:!0}),n[u]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&s[u]("scroll",t.onScroll),r.updateOnWindowResize?t[f](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",zS,!0):t[f]("observerUpdate",zS,!0),i[u]("load",t.onLoad,{capture:!0}))};function kj(){const t=this,{params:e}=t;t.onTouchStart=Ej.bind(t),t.onTouchMove=Sj.bind(t),t.onTouchEnd=Tj.bind(t),t.onDocumentTouchStart=Mj.bind(t),e.cssMode&&(t.onScroll=Nj.bind(t)),t.onClick=Ij.bind(t),t.onLoad=Oj.bind(t),h5(t,"on")}function Fj(){h5(this,"off")}var Dj={attachEvents:kj,detachEvents:Fj};const VS=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Rj(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=Yc(),A=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",u=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:a.querySelector(r.breakpointsBase),f=t.getBreakpoint(s,A,u);if(!f||t.currentBreakpoint===f)return;const w=(f in s?s[f]:void 0)||t.originalParams,C=VS(t,r),B=VS(t,w),E=t.params.grabCursor,I=w.grabCursor,M=r.enabled;C&&!B?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!C&&B&&(i.classList.add(`${r.containerModifierClass}grid`),(w.grid.fill&&w.grid.fill==="column"||!w.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),E&&!I?t.unsetGrabCursor():!E&&I&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(Q=>{if(typeof w[Q]>"u")return;const D=r[Q]&&r[Q].enabled,j=w[Q]&&w[Q].enabled;D&&!j&&t[Q].disable(),!D&&j&&t[Q].enable()});const R=w.direction&&w.direction!==r.direction,L=r.loop&&(w.slidesPerView!==r.slidesPerView||R),U=r.loop;R&&n&&t.changeDirection(),na(t.params,w);const O=t.params.enabled,F=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),M&&!O?t.disable():!M&&O&&t.enable(),t.currentBreakpoint=f,t.emit("_beforeBreakpoint",w),n&&(L?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!U&&F?(t.loopCreate(e),t.updateSlides()):U&&!F&&t.loopDestroy()),t.emit("breakpoint",w)}function Lj(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const i=ms(),s=e==="window"?i.innerHeight:n.clientHeight,a=Object.keys(t).map(A=>{if(typeof A=="string"&&A.indexOf("@")===0){const u=parseFloat(A.substr(1));return{value:s*u,point:A}}return{value:A,point:A}});a.sort((A,u)=>parseInt(A.value,10)-parseInt(u.value,10));for(let A=0;A<a.length;A+=1){const{point:u,value:f}=a[A];e==="window"?i.matchMedia(`(min-width: ${f}px)`).matches&&(r=u):f<=n.clientWidth&&(r=u)}return r||"max"}var Uj={setBreakpoint:Rj,getBreakpoint:Lj};function Qj(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function Hj(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,a=Qj(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),i.classList.add(...e),t.emitContainerClasses()}function jj(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var Pj={addClasses:Hj,removeClasses:jj};function zj(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Vj={checkOverflow:zj},Bv={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Kj(t,e){return function(r={}){const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){na(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){na(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),na(e,r)}}const Ty={eventsEmitter:PH,update:JH,translate:sj,transition:Aj,slide:mj,loop:vj,grabCursor:Bj,events:Dj,breakpoints:Uj,checkOverflow:Vj,classes:Pj},Iy={};let iC=class ll{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=na({},r),n&&!r.el&&(r.el=n);const i=Yc();if(r.el&&typeof r.el=="string"&&i.querySelectorAll(r.el).length>1){const u=[];return i.querySelectorAll(r.el).forEach(f=>{const m=na({},r,{el:f});u.push(new ll(m))}),u}const s=this;s.__swiper__=!0,s.support=c5(),s.device=u5({userAgent:r.userAgent}),s.browser=d5(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const a={};s.modules.forEach(u=>{u({params:r,swiper:s,extendParams:Kj(r,a),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const A=na({},Bv,a);return s.params=na({},A,Iy,r),s.originalParams=na({},s.params),s.passedParams=na({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(u=>{s.on(u,s.params.on[u])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=go(n,`.${r.slideClass}, swiper-slide`),s=QS(i[0]);return QS(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=go(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),a=(r.maxTranslate()-i)*e+i;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:i,slides:s,slidesGrid:a,slidesSizesGrid:A,size:u,activeIndex:f}=r;let m=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let w=s[f]?Math.ceil(s[f].swiperSlideSize):0,C;for(let B=f+1;B<s.length;B+=1)s[B]&&!C&&(w+=Math.ceil(s[B].swiperSlideSize),m+=1,w>u&&(C=!0));for(let B=f-1;B>=0;B-=1)s[B]&&!C&&(w+=s[B].swiperSlideSize,m+=1,w>u&&(C=!0))}else if(e==="current")for(let w=f+1;w<s.length;w+=1)(n?a[w]+A[w]-a[f]<u:a[w]-a[f]<u)&&(m+=1);else for(let w=f-1;w>=0;w-=1)a[f]-a[w]<u&&(m+=1);return m}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&z1(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const a=e.rtlTranslate?e.translate*-1:e.translate,A=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(A),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):go(r,i())[0];return!a&&n.params.createElements&&(a=om("div",n.params.wrapperClass),r.append(a),go(r,`.${n.params.slideClass}`).forEach(A=>{a.append(A)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||vA(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||vA(r,"direction")==="rtl"),wrongRTL:vA(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?z1(n,s):s.addEventListener("load",a=>{z1(n,a.target)})}),Cv(n),n.initialized=!0,Cv(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const r=this,{params:i,el:s,wrapperEl:a,slides:A}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),a&&a.removeAttribute("style"),A&&A.length&&A.forEach(u=>{u.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(u=>{r.off(u)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),TH(r)),r.destroyed=!0),null}static extendDefaults(e){na(Iy,e)}static get extendedDefaults(){return Iy}static get defaults(){return Bv}static installModule(e){ll.prototype.__modules__||(ll.prototype.__modules__=[]);const n=ll.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>ll.installModule(n)),ll):(ll.installModule(e),ll)}};Object.keys(Ty).forEach(t=>{Object.keys(Ty[t]).forEach(e=>{iC.prototype[e]=Ty[t][e]})});iC.use([HH,jH]);const p5=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Pc(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function bd(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Pc(e[r])&&Pc(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:bd(t[r],e[r]):t[r]=e[r]})}function g5(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function m5(t={}){return t.pagination&&typeof t.pagination.el>"u"}function x5(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function w5(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Gj(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function $j({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:i,prevEl:s,scrollbarEl:a,paginationEl:A}){const u=r.filter(j=>j!=="children"&&j!=="direction"&&j!=="wrapperClass"),{params:f,pagination:m,navigation:w,scrollbar:C,virtual:B,thumbs:E}=t;let I,M,R,L,U,O,F,Q;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&f.thumbs&&(!f.thumbs.swiper||f.thumbs.swiper.destroyed)&&(I=!0),r.includes("controller")&&n.controller&&n.controller.control&&f.controller&&!f.controller.control&&(M=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||A)&&(f.pagination||f.pagination===!1)&&m&&!m.el&&(R=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||a)&&(f.scrollbar||f.scrollbar===!1)&&C&&!C.el&&(L=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||s)&&(n.navigation.nextEl||i)&&(f.navigation||f.navigation===!1)&&w&&!w.prevEl&&!w.nextEl&&(U=!0);const D=j=>{t[j]&&(t[j].destroy(),j==="navigation"?(t.isElement&&(t[j].prevEl.remove(),t[j].nextEl.remove()),f[j].prevEl=void 0,f[j].nextEl=void 0,t[j].prevEl=void 0,t[j].nextEl=void 0):(t.isElement&&t[j].el.remove(),f[j].el=void 0,t[j].el=void 0))};r.includes("loop")&&t.isElement&&(f.loop&&!n.loop?O=!0:!f.loop&&n.loop?F=!0:Q=!0),u.forEach(j=>{if(Pc(f[j])&&Pc(n[j]))Object.assign(f[j],n[j]),(j==="navigation"||j==="pagination"||j==="scrollbar")&&"enabled"in n[j]&&!n[j].enabled&&D(j);else{const V=n[j];(V===!0||V===!1)&&(j==="navigation"||j==="pagination"||j==="scrollbar")?V===!1&&D(j):f[j]=n[j]}}),u.includes("controller")&&!M&&t.controller&&t.controller.control&&f.controller&&f.controller.control&&(t.controller.control=f.controller.control),r.includes("children")&&e&&B&&f.virtual.enabled?(B.slides=e,B.update(!0)):r.includes("virtual")&&B&&f.virtual.enabled&&(e&&(B.slides=e),B.update(!0)),r.includes("children")&&e&&f.loop&&(Q=!0),I&&E.init()&&E.update(!0),M&&(t.controller.control=f.controller.control),R&&(t.isElement&&(!A||typeof A=="string")&&(A=document.createElement("div"),A.classList.add("swiper-pagination"),A.part.add("pagination"),t.el.appendChild(A)),A&&(f.pagination.el=A),m.init(),m.render(),m.update()),L&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(f.scrollbar.el=a),C.init(),C.updateSize(),C.setTranslate()),U&&(t.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),bv(i,t.navigation.arrowSvg),i.part.add("button-next"),t.el.appendChild(i)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),bv(s,t.navigation.arrowSvg),s.part.add("button-prev"),t.el.appendChild(s))),i&&(f.navigation.nextEl=i),s&&(f.navigation.prevEl=s),w.init(),w.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(O||Q)&&t.loopDestroy(),(F||Q)&&t.loopCreate(),t.update()}function Wj(t={},e=!0){const n={on:{}},r={},i={};bd(n,Bv),n._emitClasses=!0,n.init=!1;const s={},a=p5.map(u=>u.replace(/_/,"")),A=Object.assign({},t);return Object.keys(A).forEach(u=>{typeof t[u]>"u"||(a.indexOf(u)>=0?Pc(t[u])?(n[u]={},i[u]={},bd(n[u],t[u]),bd(i[u],t[u])):(n[u]=t[u],i[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?e?r[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:s[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:i,rest:s,events:r}}function Xj({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:i,swiper:s},a){g5(a)&&e&&n&&(s.params.navigation.nextEl=e,s.originalParams.navigation.nextEl=e,s.params.navigation.prevEl=n,s.originalParams.navigation.prevEl=n),m5(a)&&r&&(s.params.pagination.el=r,s.originalParams.pagination.el=r),x5(a)&&i&&(s.params.scrollbar.el=i,s.originalParams.scrollbar.el=i),s.init(t)}function qj(t,e,n,r,i){const s=[];if(!e)return s;const a=u=>{s.indexOf(u)<0&&s.push(u)};if(n&&r){const u=r.map(i),f=n.map(i);u.join("")!==f.join("")&&a("children"),r.length!==n.length&&a("children")}return p5.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(Pc(t[u])&&Pc(e[u])){const f=Object.keys(t[u]),m=Object.keys(e[u]);f.length!==m.length?a(u):(f.forEach(w=>{t[u][w]!==e[u][w]&&a(u)}),m.forEach(w=>{t[u][w]!==e[u][w]&&a(u)}))}else t[u]!==e[u]&&a(u)}),s}const Yj=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(this,arguments)}function y5(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function v5(t){const e=[];return An.Children.toArray(t).forEach(n=>{y5(n)?e.push(n):n.props&&n.props.children&&v5(n.props.children).forEach(r=>e.push(r))}),e}function Zj(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return An.Children.toArray(t).forEach(r=>{if(y5(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=v5(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function Jj(t,e,n){if(!n)return null;const r=m=>{let w=m;return m<0?w=e.length+m:w>=e.length&&(w=w-e.length),w},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:a}=n,A=t.params.loop?-e.length:0,u=t.params.loop?e.length*2:e.length,f=[];for(let m=A;m<u;m+=1)m>=s&&m<=a&&f.push(e[r(m)]);return f.map((m,w)=>An.cloneElement(m,{swiper:t,style:i,key:m.props.virtualIndex||m.key||`slide-${w}`}))}function hh(t,e){return typeof window>"u"?H.useEffect(t,e):H.useLayoutEffect(t,e)}const KS=H.createContext(null),eP=H.createContext(null),sC=H.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:r,onSwiper:i,...s}={},a)=>{let A=!1;const[u,f]=H.useState("swiper"),[m,w]=H.useState(null),[C,B]=H.useState(!1),E=H.useRef(!1),I=H.useRef(null),M=H.useRef(null),R=H.useRef(null),L=H.useRef(null),U=H.useRef(null),O=H.useRef(null),F=H.useRef(null),Q=H.useRef(null),{params:D,passedParams:j,rest:V,events:W}=Wj(s),{slides:Y,slots:J}=Zj(r),re=()=>{B(!C)};Object.assign(D.on,{_containerClasses(se,me){f(me)}});const te=()=>{Object.assign(D.on,W),A=!0;const se={...D};if(delete se.wrapperClass,M.current=new iC(se),M.current.virtual&&M.current.params.virtual.enabled){M.current.virtual.slides=Y;const me={cache:!1,slides:Y,renderExternal:w,renderExternalUpdate:!1};bd(M.current.params.virtual,me),bd(M.current.originalParams.virtual,me)}};I.current||te(),M.current&&M.current.on("_beforeBreakpoint",re);const q=()=>{A||!W||!M.current||Object.keys(W).forEach(se=>{M.current.on(se,W[se])})},ie=()=>{!W||!M.current||Object.keys(W).forEach(se=>{M.current.off(se,W[se])})};H.useEffect(()=>()=>{M.current&&M.current.off("_beforeBreakpoint",re)}),H.useEffect(()=>{!E.current&&M.current&&(M.current.emitSlidesClasses(),E.current=!0)}),hh(()=>{if(a&&(a.current=I.current),!!I.current)return M.current.destroyed&&te(),Xj({el:I.current,nextEl:U.current,prevEl:O.current,paginationEl:F.current,scrollbarEl:Q.current,swiper:M.current},D),i&&!M.current.destroyed&&i(M.current),()=>{M.current&&!M.current.destroyed&&M.current.destroy(!0,!1)}},[]),hh(()=>{q();const se=qj(j,R.current,Y,L.current,me=>me.key);return R.current=j,L.current=Y,se.length&&M.current&&!M.current.destroyed&&$j({swiper:M.current,slides:Y,passedParams:j,changedParams:se,nextEl:U.current,prevEl:O.current,scrollbarEl:Q.current,paginationEl:F.current}),()=>{ie()}}),hh(()=>{Yj(M.current)},[m]);function ae(){return D.virtual?Jj(M.current,Y,m):Y.map((se,me)=>An.cloneElement(se,{swiper:M.current,swiperSlideIndex:me}))}return An.createElement(e,lm({ref:I,className:w5(`${u}${t?` ${t}`:""}`)},V),An.createElement(eP.Provider,{value:M.current},J["container-start"],An.createElement(n,{className:Gj(D.wrapperClass)},J["wrapper-start"],ae(),J["wrapper-end"]),g5(D)&&An.createElement(An.Fragment,null,An.createElement("div",{ref:O,className:"swiper-button-prev"}),An.createElement("div",{ref:U,className:"swiper-button-next"})),x5(D)&&An.createElement("div",{ref:Q,className:"swiper-scrollbar"}),m5(D)&&An.createElement("div",{ref:F,className:"swiper-pagination"}),J["container-end"]))});sC.displayName="Swiper";const aC=H.forwardRef(({tag:t="div",children:e,className:n="",swiper:r,zoom:i,lazy:s,virtualIndex:a,swiperSlideIndex:A,...u}={},f)=>{const m=H.useRef(null),[w,C]=H.useState("swiper-slide"),[B,E]=H.useState(!1);function I(U,O,F){O===m.current&&C(F)}hh(()=>{if(typeof A<"u"&&(m.current.swiperSlideIndex=A),f&&(f.current=m.current),!(!m.current||!r)){if(r.destroyed){w!=="swiper-slide"&&C("swiper-slide");return}return r.on("_slideClass",I),()=>{r&&r.off("_slideClass",I)}}}),hh(()=>{r&&m.current&&!r.destroyed&&C(r.getSlideClasses(m.current))},[r]);const M={isActive:w.indexOf("swiper-slide-active")>=0,isVisible:w.indexOf("swiper-slide-visible")>=0,isPrev:w.indexOf("swiper-slide-prev")>=0,isNext:w.indexOf("swiper-slide-next")>=0},R=()=>typeof e=="function"?e(M):e,L=()=>{E(!0)};return An.createElement(t,lm({ref:m,className:w5(`${w}${n?` ${n}`:""}`),"data-swiper-slide-index":a,onLoad:L},u),i&&An.createElement(KS.Provider,{value:M},An.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof i=="number"?i:void 0},R(),s&&!B&&An.createElement("div",{className:"swiper-lazy-preloader"}))),!i&&An.createElement(KS.Provider,{value:M},R(),s&&!B&&An.createElement("div",{className:"swiper-lazy-preloader"})))});aC.displayName="SwiperSlide";function tP(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=go(t.el,`.${r[i]}`)[0];s||(s=om("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}const GS='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function b5({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null,arrowSvg:GS};function i(B){let E;return B&&typeof B=="string"&&t.isElement&&(E=t.el.querySelector(B)||t.hostEl.querySelector(B),E)?E:(B&&(typeof B=="string"&&(E=[...document.querySelectorAll(B)]),t.params.uniqueNavElements&&typeof B=="string"&&E&&E.length>1&&t.el.querySelectorAll(B).length===1?E=t.el.querySelector(B):E&&E.length===1&&(E=E[0])),B&&!E?B:E)}function s(B,E){const I=t.params.navigation;B=Wo(B),B.forEach(M=>{M&&(M.classList[E?"add":"remove"](...I.disabledClass.split(" ")),M.tagName==="BUTTON"&&(M.disabled=E),t.params.watchOverflow&&t.enabled&&M.classList[t.isLocked?"add":"remove"](I.lockClass))})}function a(){const{nextEl:B,prevEl:E}=t.navigation;if(t.params.loop){s(E,!1),s(B,!1);return}s(E,t.isBeginning&&!t.params.rewind),s(B,t.isEnd&&!t.params.rewind)}function A(B){B.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function u(B){B.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function f(){const B=t.params.navigation;if(t.params.navigation=tP(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(B.nextEl||B.prevEl))return;let E=i(B.nextEl),I=i(B.prevEl);Object.assign(t.navigation,{nextEl:E,prevEl:I}),E=Wo(E),I=Wo(I);const M=(R,L)=>{if(R){if(B.addIcons&&R.matches(".swiper-button-next,.swiper-button-prev")&&!R.querySelector("svg")){const U=document.createElement("div");bv(U,GS),R.appendChild(U.querySelector("svg")),U.remove()}R.addEventListener("click",L==="next"?u:A)}!t.enabled&&R&&R.classList.add(...B.lockClass.split(" "))};E.forEach(R=>M(R,"next")),I.forEach(R=>M(R,"prev"))}function m(){let{nextEl:B,prevEl:E}=t.navigation;B=Wo(B),E=Wo(E);const I=(M,R)=>{M.removeEventListener("click",R==="next"?u:A),M.classList.remove(...t.params.navigation.disabledClass.split(" "))};B.forEach(M=>I(M,"next")),E.forEach(M=>I(M,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?C():(f(),a())}),n("toEdge fromEdge lock unlock",()=>{a()}),n("destroy",()=>{m()}),n("enable disable",()=>{let{nextEl:B,prevEl:E}=t.navigation;if(B=Wo(B),E=Wo(E),t.enabled){a();return}[...B,...E].filter(I=>!!I).forEach(I=>I.classList.add(t.params.navigation.lockClass))}),n("click",(B,E)=>{let{nextEl:I,prevEl:M}=t.navigation;I=Wo(I),M=Wo(M);const R=E.target;let L=M.includes(R)||I.includes(R);if(t.isElement&&!L){const U=E.path||E.composedPath&&E.composedPath();U&&(L=U.find(O=>I.includes(O)||M.includes(O)))}if(t.params.navigation.hideOnClick&&!L){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===R||t.pagination.el.contains(R)))return;let U;I.length?U=I[0].classList.contains(t.params.navigation.hiddenClass):M.length&&(U=M[0].classList.contains(t.params.navigation.hiddenClass)),r(U===!0?"navigationShow":"navigationHide"),[...I,...M].filter(O=>!!O).forEach(O=>O.classList.toggle(t.params.navigation.hiddenClass))}});const w=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),f(),a()},C=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),m()};Object.assign(t.navigation,{enable:w,disable:C,update:a,init:f,destroy:m})}const nP="_carouselWrapper_1ra8y_1",rP="_titleContainer_1ra8y_15",iP="_carouselTitle_1ra8y_31",sP="_moreButton_1ra8y_45",aP="_carouselViewport_1ra8y_77",oP="_slideItem_1ra8y_87",lP="_carouselLink_1ra8y_97",AP="_imageContainer_1ra8y_123",cP="_artistImage_1ra8y_143",uP="_artistText_1ra8y_165",dP="_name_1ra8y_175",fP="_field_1ra8y_189",hP="_prevButton_1ra8y_201",pP="_nextButton_1ra8y_203",Ts={carouselWrapper:nP,titleContainer:rP,carouselTitle:iP,moreButton:sP,carouselViewport:aP,slideItem:oP,carouselLink:lP,imageContainer:AP,artistImage:cP,artistText:uP,name:dP,field:fP,prevButton:hP,nextButton:pP};function gP({title:t}){const[e,n]=H.useState([]),r=H.useRef(null),i=H.useRef(null),s=a=>{a.params.navigation.prevEl=r.current,a.params.navigation.nextEl=i.current,a.navigation.destroy(),a.navigation.init(),a.navigation.update()};return H.useEffect(()=>{(async()=>{try{const u=(await $i.get("/api/artist",{params:{category:"onExhibition"}})).data.map(({id:f,artist_name:m,artist_category:w,artist_image:C})=>({id:f,artist_name:m,artist_category:w,artist_image:C})).slice(0,10);n(u)}catch(A){console.error("     :",A)}})()},[]),g.jsxs("div",{className:Ts.carouselWrapper,children:[g.jsxs("div",{className:Ts.titleContainer,children:[g.jsx("h2",{className:Ts.carouselTitle,children:t}),g.jsx(yr,{to:"/artists",className:Ts.moreButton,children:""})]}),e.length>0?g.jsx(sC,{modules:[b5],onInit:s,spaceBetween:20,slidesPerView:4,loop:e.length>4,className:Ts.carouselViewport,breakpoints:{0:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:2,spaceBetween:15},768:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:20}},children:e.map(a=>g.jsx(aC,{className:Ts.slideItem,children:g.jsxs(yr,{to:`/artists/${a==null?void 0:a.id}`,className:Ts.carouselLink,children:[g.jsx("div",{className:Ts.imageContainer,children:g.jsx($t,{src:(a==null?void 0:a.artist_image)||"/default.jpg",alt:(a==null?void 0:a.artist_name)||" ",className:Ts.artistImage})}),g.jsxs("div",{className:Ts.artistText,children:[g.jsx("h3",{className:Ts.name,children:a!=null&&a.artist_name&&a.artist_name.trim()!==""?a.artist_name:" "}),g.jsx("p",{className:Ts.field,children:a!=null&&a.artist_category&&a.artist_category.trim()!==""?a.artist_category:" "})]})]})},`${a==null?void 0:a.id}`))}):g.jsx("div",{style:{textAlign:"center",padding:"5rem",color:"#999",fontSize:"1.4rem"},children:"  ."}),g.jsx("button",{ref:r,className:Ts.prevButton,children:""}),g.jsx("button",{ref:i,className:Ts.nextButton,children:""})]})}const mP="_carouselWrapper_60msd_1",xP="_carouselHeader_60msd_13",wP="_carouselTitle_60msd_29",yP="_moreButton_60msd_43",vP="_carouselViewport_60msd_75",bP="_carouselSlide_60msd_85",CP="_slideCard_60msd_107",BP="_carouselImage_60msd_137",_P="_cardText_60msd_153",EP="_prevButton_60msd_205",SP="_nextButton_60msd_207",TP="_emptyBox_60msd_289",ma={carouselWrapper:mP,carouselHeader:xP,carouselTitle:wP,moreButton:yP,carouselViewport:vP,carouselSlide:bP,slideCard:CP,carouselImage:BP,cardText:_P,prevButton:EP,nextButton:SP,emptyBox:TP};function $S({title:t,category:e,value:n}){const[r,i]=H.useState([]),s=H.useRef(null),a=H.useRef(null),A=u=>{u.params.navigation.prevEl=s.current,u.params.navigation.nextEl=a.current,u.navigation.destroy(),u.navigation.init(),u.navigation.update()};return H.useEffect(()=>{(async()=>{try{const f={status:"exhibited"};e&&n&&(f[e]=n);const w=(await $i.get("/api/exhibitions",{params:f})).data.map(({id:C,exhibition_poster:B,exhibition_title:E,exhibition_category:I,exhibition_status:M,exhibition_start_date:R,exhibition_end_date:L,exhibition_organization:U,exhibition_location:O})=>({id:C,image:B,title:E,category:I,status:M,startDate:R,endDate:L,organizationName:typeof U=="object"?U==null?void 0:U.name:U||O}));i(w)}catch(f){console.error("     :",f)}})()},[e,n]),g.jsxs("div",{className:ma.carouselWrapper,children:[g.jsxs("div",{className:ma.carouselHeader,children:[g.jsx("h2",{className:ma.carouselTitle,children:t}),g.jsx(yr,{to:"/exhibitions",className:ma.moreButton,children:""})]}),r.length>0?g.jsx(sC,{modules:[b5],onInit:A,slidesPerView:"auto",centeredSlides:!1,spaceBetween:20,loop:r.length>3,className:ma.carouselViewport,children:r.map(u=>g.jsx(aC,{className:ma.carouselSlide,children:g.jsxs(yr,{to:`/exhibitions/${u.id}`,className:ma.slideCard,children:[g.jsx($t,{src:u.image,alt:u.title,className:ma.carouselImage}),g.jsxs("div",{className:ma.cardText,children:[g.jsxs("h3",{children:["",u.title,""]}),g.jsx("p",{children:u.organizationName}),g.jsxs("p",{children:[u.startDate," ~ ",u.endDate]})]})]})},u.id))}):g.jsx("div",{className:ma.emptyBox,children:"  ."}),g.jsx("button",{ref:s,className:ma.prevButton,children:""}),g.jsx("button",{ref:a,className:ma.nextButton,children:""})]})}const IP="_mobileMain_1lnn6_1",NP="_carousel_1lnn6_19",OP="_slider_1lnn6_33",MP="_slide_1lnn6_33",kP="_slideImage_1lnn6_77",FP="_tagline_1lnn6_97",DP="_contentContainer_1lnn6_121",RP="_userText_1lnn6_129",LP="_itemContainer_1lnn6_149",UP="_itemBox_1lnn6_177",QP="_itemIcon_1lnn6_209",HP="_nonGalleryBox_1lnn6_219",jP="_listSection_1lnn6_259",PP="_titleSection_1lnn6_273",zP="_exhibitionList_1lnn6_295",VP="_galleryItemCard_1lnn6_307",KP="_imageBox_1lnn6_349",GP="_exhibitionImage_1lnn6_363",$P="_statusBadge_1lnn6_377",WP="_ongoing_1lnn6_415",XP="_cardInfo_1lnn6_423",qP="_galleryTitle_1lnn6_437",YP="_ellipsisTitle_1lnn6_463",ZP="_addressText_1lnn6_489",Ut={mobileMain:IP,carousel:NP,slider:OP,slide:MP,slideImage:kP,tagline:FP,contentContainer:DP,userText:RP,itemContainer:LP,itemBox:UP,itemIcon:QP,nonGalleryBox:HP,listSection:jP,titleSection:PP,exhibitionList:zP,galleryItemCard:VP,imageBox:KP,exhibitionImage:GP,statusBadge:$P,ongoing:WP,cardInfo:XP,galleryTitle:qP,ellipsisTitle:YP,addressText:ZP};function JP(t){return Fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function ez(t){return Fn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function tz(t){return Fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zM329 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L329 305z"},child:[]}]})(t)}function C5(t){return Fn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"},child:[]}]})(t)}function Hg(t){return Fn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"},child:[]}]})(t)}function nz(t){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 80C149.9 80 62.4 159.4 49.6 262c9.4-3.8 19.6-6 30.4-6c26.5 0 48 21.5 48 48l0 128c0 26.5-21.5 48-48 48c-44.2 0-80-35.8-80-80l0-16 0-48 0-48C0 146.6 114.6 32 256 32s256 114.6 256 256l0 48 0 48 0 16c0 44.2-35.8 80-80 80c-26.5 0-48-21.5-48-48l0-128c0-26.5 21.5-48 48-48c10.8 0 21 2.1 30.4 6C449.6 159.4 362.1 80 256 80z"},child:[]}]})(t)}function WS(t){return Fn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"},child:[]}]})(t)}function rz(t){return Fn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(t)}function B5(t){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"},child:[]}]})(t)}function oC(t){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M307 34.8c-11.5 5.1-19 16.6-19 29.2l0 64-112 0C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96l96 0 0 64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"},child:[]}]})(t)}function zA(t){return Fn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(t)}function iz(t){return Fn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"},child:[]}]})(t)}function sz(t){return Fn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(t)}const _5=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"43",height:"44",viewBox:"0 0 40 31",fill:"none",children:[g.jsxs("g",{clipPath:"url(#clip0_18_7315)",children:[g.jsx("path",{d:"M8.49088 28.1266L6.79921 28.0436C3.74782 28.0436 1.27734 25.4071 1.27734 22.1579V21.5195C1.27734 18.2702 3.74782 15.6338 6.79921 15.6338L8.49088 15.5508C9.35267 15.5508 10.0549 16.2402 10.0549 17.0956V26.5881C10.0549 27.4435 9.35905 28.133 8.49088 28.133V28.1266Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),g.jsx("path",{d:"M10.5892 13.4258H10.3222C9.73218 13.4258 9.25391 13.9745 9.25391 14.6514V29.0211C9.25391 29.698 9.73218 30.2467 10.3222 30.2467H10.5892C11.1792 30.2467 11.6575 29.698 11.6575 29.0211V14.6514C11.6575 13.9745 11.1792 13.4258 10.5892 13.4258Z",fill:"#3c504b"}),g.jsx("path",{d:"M31.5034 28.1266L33.1951 28.0436C36.2465 28.0436 38.717 25.4071 38.717 22.1579V21.5195C38.717 18.2702 36.2465 15.6338 33.1951 15.6338L31.5034 15.5508C30.6417 15.5508 29.9395 16.2402 29.9395 17.0956V26.5881C29.9395 27.4435 30.6353 28.133 31.5034 28.133V28.1266Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),g.jsx("path",{d:"M29.5523 13.4258H29.3182C28.8011 13.4258 28.3818 13.9745 28.3818 14.6514V29.0211C28.3818 29.698 28.8011 30.2467 29.3182 30.2467H29.5523C30.0694 30.2467 30.4886 29.698 30.4886 29.0211V14.6514C30.4886 13.9745 30.0694 13.4258 29.5523 13.4258Z",fill:"#3c504b"}),g.jsx("path",{d:"M6.25 14.932C6.25 7.3865 12.4038 1.27734 20.0004 1.27734C27.597 1.27734 33.7508 7.3865 33.7508 14.932",stroke:"#3c504b",strokeWidth:"2",strokeMiterlimit:"10"}),g.jsx("path",{d:"M9.51172 15.1494C9.51172 9.27002 14.2101 4.50781 20.0001 4.50781C25.79 4.50781 30.4884 9.27002 30.4884 15.1494",stroke:"#3c504b",strokeWidth:"2",strokeMiterlimit:"10"}),g.jsx("path",{d:"M20.0002 23.0073C20.6912 23.0073 21.2514 22.4471 21.2514 21.7561C21.2514 21.0651 20.6912 20.5049 20.0002 20.5049C19.3092 20.5049 18.749 21.0651 18.749 21.7561C18.749 22.4471 19.3092 23.0073 20.0002 23.0073Z",fill:"#3c504b"}),g.jsx("path",{d:"M20.0127 26.6843V25.8991C20.0127 25.6182 20.2106 25.382 20.4851 25.3437C20.7916 25.299 21.0916 25.2224 21.3788 25.1012C21.6342 24.9926 21.9342 25.1012 22.0683 25.3437L22.4641 26.0268C22.6364 26.3204 22.5088 26.7035 22.196 26.8375C21.7044 27.0482 21.1873 27.1886 20.6511 27.2524C20.3128 27.2907 20.0064 27.029 20.0064 26.6907L20.0127 26.6843ZM16.7124 26.2055C16.2847 25.8863 15.9017 25.5097 15.5761 25.082C15.3718 24.8075 15.4484 24.4181 15.7421 24.2457L16.4187 23.85C16.6613 23.7095 16.9677 23.7606 17.1401 23.984C17.3316 24.2266 17.555 24.45 17.7976 24.6351C18.021 24.8075 18.0721 25.1139 17.9381 25.3565L17.5487 26.0396C17.3763 26.3332 16.9869 26.4162 16.7124 26.2119V26.2055ZM24.2643 24.2138L23.5812 23.818C23.3386 23.6776 23.2301 23.3839 23.3386 23.1286C23.4599 22.835 23.5365 22.5285 23.5812 22.2157C23.6131 21.9476 23.8429 21.7497 24.1174 21.737L24.909 21.705C25.2537 21.6923 25.5282 21.9859 25.4963 22.3306C25.4708 22.5924 25.4197 22.8796 25.3367 23.1861C25.2601 23.4733 25.1644 23.7287 25.0686 23.9521C24.9345 24.2649 24.5579 24.3862 24.2643 24.2138ZM14.5036 21.1305C14.5611 20.6007 14.7015 20.0836 14.9058 19.5984C15.0399 19.2856 15.4165 19.1516 15.7165 19.3239L16.3996 19.7133C16.6422 19.8538 16.7507 20.1474 16.6422 20.4028C16.5273 20.6837 16.4507 20.9773 16.4124 21.2837C16.3741 21.5582 16.1379 21.7625 15.8634 21.7625C15.6016 21.7625 15.3399 21.7625 15.0782 21.7689C14.7335 21.7689 14.4653 21.4689 14.5036 21.1305ZM22.8343 19.5218C22.6428 19.2793 22.4194 19.0622 22.1704 18.8707C21.947 18.7047 21.8895 18.3919 22.03 18.1494L22.4194 17.4663C22.5854 17.1663 22.9811 17.0897 23.2556 17.2876C23.6897 17.6004 24.0728 17.977 24.3983 18.4047C24.6026 18.6792 24.5324 19.0686 24.2387 19.2473L23.5621 19.6495C23.3195 19.79 23.0131 19.7389 22.8407 19.5218H22.8343ZM17.8998 18.1877L17.4976 17.511C17.3252 17.2173 17.4465 16.8343 17.7657 16.7003C18.2572 16.4832 18.7743 16.3428 19.3042 16.2726C19.6425 16.2279 19.9489 16.4896 19.9489 16.8343V17.6195C19.9617 17.9004 19.7574 18.143 19.4829 18.1813C19.1765 18.226 18.8765 18.3089 18.5892 18.4302C18.3338 18.5388 18.0338 18.4302 17.8934 18.194L17.8998 18.1877Z",fill:"#3c504b"})]}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_18_7315",children:g.jsx("rect",{width:"40",height:"30.2458",fill:"white"})})})]}),E5=()=>g.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsxs("g",{clipPath:"url(#clip0_18_7331)",children:[g.jsx("path",{d:"M34.8147 9.71498V35.8671C34.8147 37.2268 33.429 38.3275 31.7132 38.3275H17.3066C15.5907 38.3275 14.2051 37.2268 14.2051 35.8671V9.71498C14.2051 9.00274 14.5871 8.35525 15.2022 7.90849C15.7591 7.50057 16.4907 7.24805 17.3066 7.24805H31.7132C33.429 7.24805 34.8147 8.35525 34.8147 9.71498Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),g.jsx("path",{d:"M25.7951 4.0298V6.42551L17.2871 6.52263C16.4713 6.52263 15.7332 6.77515 15.1828 7.18307C14.5677 7.62984 14.1857 8.27733 14.1857 8.98957V32.746L8.28702 32.6488C6.57117 32.6488 5.18555 31.5481 5.18555 30.1819V4.0298C5.18555 2.67007 6.57117 1.56934 8.28702 1.56934H22.6872C24.403 1.56934 25.7951 2.67007 25.7951 4.0298Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),g.jsx("path",{d:"M14.7559 7.53373L23.2768 1.51855",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),g.jsxs("g",{clipPath:"url(#clip1_18_7331)",children:[g.jsx("path",{d:"M19.3828 11.9541H17.9862C17.5947 11.9541 17.2773 12.2715 17.2773 12.6629V14.0595C17.2773 14.451 17.5947 14.7683 17.9862 14.7683H19.3828C19.7742 14.7683 20.0916 14.451 20.0916 14.0595V12.6629C20.0916 12.2715 19.7742 11.9541 19.3828 11.9541Z",fill:"#3c504b"}),g.jsx("path",{d:"M25.208 11.9541H23.8114C23.4199 11.9541 23.1025 12.2715 23.1025 12.6629V14.0595C23.1025 14.451 23.4199 14.7683 23.8114 14.7683H25.208C25.5994 14.7683 25.9168 14.451 25.9168 14.0595V12.6629C25.9168 12.2715 25.5994 11.9541 25.208 11.9541Z",fill:"#3c504b"}),g.jsx("path",{d:"M31.0322 11.9541H29.6356C29.2441 11.9541 28.9268 12.2715 28.9268 12.6629V14.0595C28.9268 14.451 29.2441 14.7683 29.6356 14.7683H31.0322C31.4236 14.7683 31.741 14.451 31.741 14.0595V12.6629C31.741 12.2715 31.4236 11.9541 31.0322 11.9541Z",fill:"#3c504b"}),g.jsx("path",{d:"M19.3828 16.6289H17.9862C17.5947 16.6289 17.2773 16.9463 17.2773 17.3377V18.7343C17.2773 19.1258 17.5947 19.4431 17.9862 19.4431H19.3828C19.7742 19.4431 20.0916 19.1258 20.0916 18.7343V17.3377C20.0916 16.9463 19.7742 16.6289 19.3828 16.6289Z",fill:"#3c504b"}),g.jsx("path",{d:"M25.208 16.6289H23.8114C23.4199 16.6289 23.1025 16.9463 23.1025 17.3377V18.7343C23.1025 19.1258 23.4199 19.4431 23.8114 19.4431H25.208C25.5994 19.4431 25.9168 19.1258 25.9168 18.7343V17.3377C25.9168 16.9463 25.5994 16.6289 25.208 16.6289Z",fill:"#3c504b"}),g.jsx("path",{d:"M31.0322 16.6289H29.6356C29.2441 16.6289 28.9268 16.9463 28.9268 17.3377V18.7343C28.9268 19.1258 29.2441 19.4431 29.6356 19.4431H31.0322C31.4236 19.4431 31.741 19.1258 31.741 18.7343V17.3377C31.741 16.9463 31.4236 16.6289 31.0322 16.6289Z",fill:"#3c504b"}),g.jsx("path",{d:"M19.3828 21.3018H17.9862C17.5947 21.3018 17.2773 21.6191 17.2773 22.0106V23.4072C17.2773 23.7986 17.5947 24.116 17.9862 24.116H19.3828C19.7742 24.116 20.0916 23.7986 20.0916 23.4072V22.0106C20.0916 21.6191 19.7742 21.3018 19.3828 21.3018Z",fill:"#3c504b"}),g.jsx("path",{d:"M25.208 21.3018H23.8114C23.4199 21.3018 23.1025 21.6191 23.1025 22.0106V23.4072C23.1025 23.7986 23.4199 24.116 23.8114 24.116H25.208C25.5994 24.116 25.9168 23.7986 25.9168 23.4072V22.0106C25.9168 21.6191 25.5994 21.3018 25.208 21.3018Z",fill:"#3c504b"}),g.jsx("path",{d:"M31.0322 21.3018H29.6356C29.2441 21.3018 28.9268 21.6191 28.9268 22.0106V23.4072C28.9268 23.7986 29.2441 24.116 29.6356 24.116H31.0322C31.4236 24.116 31.741 23.7986 31.741 23.4072V22.0106C31.741 21.6191 31.4236 21.3018 31.0322 21.3018Z",fill:"#3c504b"})]})]}),g.jsxs("defs",{children:[g.jsx("clipPath",{id:"clip0_18_7331",children:g.jsx("rect",{width:"40",height:"39.8458",fill:"white"})}),g.jsx("clipPath",{id:"clip1_18_7331",children:g.jsx("rect",{width:"14.4642",height:"12.1623",fill:"white",transform:"translate(17.2773 11.9541)"})})]})]}),S5=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"39",height:"41",viewBox:"0 0 39 36",fill:"none",children:[g.jsx("path",{d:"M33.5268 34.2223H5.24267C3.12862 34.2223 1.41895 32.5127 1.41895 30.3986V15.1037C1.41895 13.7559 2.12836 12.5073 3.29179 11.8192L17.5084 1.95837C18.7215 1.24187 20.2254 1.24187 21.4314 1.96546L35.4919 11.8192C36.6412 12.5073 37.3435 13.7559 37.3435 15.0966V30.3986C37.3435 32.5127 35.6338 34.2223 33.5198 34.2223H33.5268Z",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),g.jsx("path",{d:"M8.8457 33.9734V18.5295C8.8457 18.0755 9.07271 17.6499 9.4558 17.4016L13.996 14.4575C14.897 13.8687 16.0817 14.5143 16.0817 15.5855V33.5123",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"}),g.jsx("path",{d:"M29.9157 33.9734V18.5295C29.9157 18.0755 29.6887 17.6499 29.3056 17.4016L24.7654 14.4575C23.8644 13.8687 22.6797 14.5143 22.6797 15.5855V33.5123",stroke:"#3c504b",strokeWidth:"1.99229",strokeMiterlimit:"10"})]}),az=4e3,oz=3;function lz(){const{user:t}=Us(),[e,n]=H.useState([]),[r,i]=H.useState(0),s=Wt(),[a,A]=H.useState([]),[u,f]=H.useState([]),m=[{key:"docent",icon:g.jsx(_5,{}),label:" ",link:"/scan"},{key:"book",icon:g.jsx(E5,{}),label:" ",link:"/mypage"},{key:"find-gallery",icon:g.jsx(S5,{}),label:" ",link:"/nearby-galleries"}],w=E=>E?E.startsWith("http")?E:`https://artly.soundgram.co.kr/${E}`:"",C=E=>E==="exhibited"?"":E==="scheduled"?"":"";H.useEffect(()=>{(async()=>{try{const M=(await $i.get("/api/exhibitions",{params:{status:"exhibited"}})).data.map(({id:R,exhibition_poster:L,exhibition_title:U})=>({id:R,image:w(L),title:U})).slice(0,oz);n(M||[]),i(0)}catch(I){console.error("    :",I)}})()},[]),H.useEffect(()=>{if(e.length<=1)return;const E=setInterval(()=>{i(I=>(I+1)%e.length)},az);return()=>clearInterval(E)},[e]),H.useEffect(()=>{(async()=>{try{if(t){const I=await nt.get("/api/galleries",{params:{liked_only:1}});A(I.data),f([])}else{const M=(await $i.get("/api/galleries")).data.sort((U,O)=>(O.like_count||0)-(U.like_count||0)).slice(0,10);A(M);const L=(await $i.get("/api/exhibitions",{params:{status:"exhibited"}})).data.sort((U,O)=>(O.like_count||0)-(U.like_count||0)).slice(0,10);f(L)}}catch(I){console.error("   :",I)}})()},[t]);const B=t&&a.some(E=>E.exhibitions&&E.exhibitions.some(I=>I.exhibition_status==="exhibited"));return g.jsxs("div",{className:Ut.mobileMain,children:[g.jsx("div",{className:Ut.carousel,children:g.jsx("div",{className:Ut.slider,style:{transform:`translateX(-${r*100}%)`},children:e.map(E=>g.jsx("div",{className:Ut.slide,onClick:()=>s(`/exhibitions/${E==null?void 0:E.id}`),children:g.jsx($t,{src:E==null?void 0:E.image,alt:E==null?void 0:E.title,className:Ut.slideImage})},E==null?void 0:E.id))})}),g.jsxs("div",{className:Ut.tagline,children:["    ",g.jsx("br",{})," , ARTLY"]}),g.jsxs("div",{className:Ut.contentContainer,children:[g.jsx("div",{className:Ut.userText,onClick:t?void 0:()=>s("/login"),style:t?{}:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.4rem"},children:t?`${t.user_name}, .`:g.jsxs(g.Fragment,{children:[" ",g.jsx(Hg,{size:20})]})}),g.jsx("div",{className:Ut.itemContainer,children:m.map(({key:E,icon:I,label:M,link:R})=>g.jsxs("div",{className:Ut.itemBox,onClick:()=>{E==="book"?s(R,{state:{activeTab:"MY"}}):s(R)},children:[g.jsx("span",{className:Ut.itemIcon,children:I}),g.jsx("span",{className:Ut.itemLabel,children:M})]},E))}),t&&g.jsxs("div",{children:[g.jsx("h2",{className:Ut.titleSection,children:"|  "}),B?g.jsx("div",{className:Ut.exhibitionList,children:a.map(({id:E,gallery_name:I,gallery_address:M,exhibitions:R})=>g.jsx("div",{className:Ut.exhibitionList,children:R==null?void 0:R.filter(L=>L.exhibition_status==="exhibited").map(L=>g.jsxs("div",{className:Ut.galleryItemCard,onClick:()=>s(`/exhibitions/${L.id}`),children:[g.jsxs("div",{className:Ut.imageBox,children:[g.jsx("div",{className:`${Ut.statusBadge} ${Ut.ongoing}`,children:C(L.exhibition_status)}),g.jsx($t,{className:Ut.exhibitionImage,src:w(L.exhibition_poster),alt:""})]}),g.jsxs("div",{className:Ut.cardInfo,children:[g.jsxs("div",{className:Ut.galleryTitle,children:[g.jsxs("div",{className:Ut.ellipsisTitle,children:[I," ",g.jsx("span",{style:{margin:"0 4px",color:"#ddd"},children:"|"})," ",L.exhibition_title]}),g.jsx(Hg,{size:16})]}),g.jsx("div",{className:Ut.addressText,children:M})]})]},L.id))},E))}):g.jsxs("div",{className:Ut.nonGalleryBox,children:["   , ",g.jsx("br",{}),"   ."]})]}),!t&&g.jsxs("div",{className:Ut.listSection,children:[g.jsxs("div",{children:[g.jsx("h2",{className:Ut.titleSection,children:"|   TOP 10"}),u.length>0?g.jsx("div",{className:Ut.exhibitionList,children:u.map(E=>{var I;return g.jsxs("div",{className:Ut.galleryItemCard,onClick:()=>s(`/exhibitions/${E.id}`),children:[g.jsxs("div",{className:Ut.imageBox,children:[g.jsx("div",{className:`${Ut.statusBadge} ${Ut.ongoing}`,children:C(E.exhibition_status)}),g.jsx($t,{className:Ut.exhibitionImage,src:w(E.exhibition_poster),alt:E.exhibition_title})]}),g.jsxs("div",{className:Ut.cardInfo,children:[g.jsxs("div",{className:Ut.galleryTitle,children:[g.jsx("div",{className:Ut.ellipsisTitle,children:E.exhibition_title}),g.jsx(Hg,{size:16})]}),g.jsx("div",{className:Ut.addressText,children:typeof E.exhibition_organization=="object"?(I=E.exhibition_organization)==null?void 0:I.name:E.exhibition_organization||E.exhibition_location})]})]},E.id)})}):g.jsx("div",{className:Ut.nonGalleryBox,children:"     ."})]}),g.jsxs("div",{children:[g.jsx("h2",{className:Ut.titleSection,children:"|   TOP 10"}),a.length>0?g.jsx("div",{className:Ut.exhibitionList,children:a.map(E=>{var M,R;const I=E.gallery_image||((R=(M=E.exhibitions)==null?void 0:M[0])==null?void 0:R.exhibition_poster);return g.jsxs("div",{className:Ut.galleryItemCard,onClick:()=>s(`/galleries/${E.id}`),children:[g.jsx("div",{className:Ut.imageBox,children:g.jsx($t,{className:Ut.exhibitionImage,src:w(I),alt:E.gallery_name})}),g.jsxs("div",{className:Ut.cardInfo,children:[g.jsxs("div",{className:Ut.galleryTitle,children:[g.jsx("div",{className:Ut.ellipsisTitle,children:E.gallery_name}),g.jsx(Hg,{size:16})]}),g.jsx("div",{className:Ut.addressText,children:E.gallery_address||"  "})]})]},E.id)})}):g.jsx("div",{className:Ut.nonGalleryBox,children:"  ."})]})]})]})]})}function lC(t){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Az(t){return Fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function T5(t){return Fn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function cz(t){return Fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function uz(t){return Fn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function dz(t){return Fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function I5(t){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function fz(t){return Fn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function N5(t){return Fn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function AC(t){return Fn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function hz(t){return Fn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function pz(){const{isMobile:t}=Zb(),{user:e}=Us(),n=Wt(),r=[{key:"docent",icon:g.jsx(_5,{}),label:" ",link:"/scan"},{key:"book",icon:g.jsx(E5,{}),label:" ",link:"/mypage"},{key:"find-gallery",icon:g.jsx(S5,{}),label:" ",link:"/nearby-galleries"}];return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:iA.mainLayout,children:t?g.jsx(lz,{}):g.jsxs(g.Fragment,{children:[g.jsx(_H,{}),g.jsxs("div",{className:iA.tabContainer,children:[g.jsx("div",{className:iA.userText,onClick:e?void 0:()=>n("/login"),style:e?{}:{cursor:"pointer",display:"flex",alignItems:"center",gap:"0.4rem"},children:e?`${e.user_name}, .`:g.jsxs(g.Fragment,{children:[" ",g.jsx(T5,{size:20})]})}),g.jsx("div",{className:iA.itemContainer,children:r.map(({key:i,icon:s,label:a,link:A})=>g.jsxs("div",{className:iA.itemBox,onClick:()=>{i==="book"?n(A,{state:{activeTab:"MY"}}):n(A)},children:[g.jsx("span",{className:iA.itemIcon,children:s}),g.jsx("span",{className:iA.itemLabel,children:a})]},i))})]}),g.jsxs("div",{className:iA.carouselContainer,children:[g.jsx($S,{title:"|    "}),g.jsx($S,{title:"|  ",category:"sort",value:"popular"}),g.jsx(gP,{title:"|   "})]})]})}),g.jsx(a5,{})]})}const gz="_layout_s8a5n_1",mz="_gridContainer_s8a5n_19",xz="_dropboxContainer_s8a5n_31",wz="_nonDataText_s8a5n_43",jg={layout:gz,gridContainer:mz,dropboxContainer:xz,nonDataText:wz},yz="_layout_1ew8p_1",vz="_titleContainer_1ew8p_13",bz="_listTitle_1ew8p_29",Cz="_searchForm_1ew8p_107",Bz="_searchInput_1ew8p_121",_z="_formButton_1ew8p_149",ju={layout:yz,titleContainer:vz,listTitle:bz,searchForm:Cz,searchInput:Bz,formButton:_z},Ez=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"31",height:"30",viewBox:"0 0 31 30",fill:"none",children:g.jsx("path",{d:"M26.33 26.25L20.8925 20.8125M23.8301 13.75C23.8301 19.2728 19.3529 23.75 13.8301 23.75C8.30723 23.75 3.83008 19.2728 3.83008 13.75C3.83008 8.22715 8.30723 3.75 13.8301 3.75C19.3529 3.75 23.8301 8.22715 23.8301 13.75Z",stroke:"#222222",strokeWidth:"1.84991",strokeLinecap:"round",strokeLinejoin:"round"})});function rp({title:t,onEvent:e,onSearch:n,value:r,isArtworks:i=!1}){return g.jsxs("div",{className:ju.layout,children:[g.jsx("div",{className:ju.titleContainer,children:g.jsx("h1",{className:ju.listTitle,children:t})}),!i&&g.jsxs("form",{className:ju.searchForm,action:e,children:[g.jsx("input",{className:ju.searchInput,placeholder:"...",onChange:n,value:r}),g.jsx("button",{className:ju.formButton,children:g.jsx(Ez,{})})]})]})}const Sz="_layout_11xsl_1",Tz={layout:Sz},Iz="_layout_1g516_1",Nz="_clickedLabel_1g516_11",Oz="_dropdownButton_1g516_19",Mz="_clickedButton_1g516_63",kz="_undisplay_1g516_85",Fz="_clickedDropdownList_1g516_93",Dz="_clickedItem_1g516_129",Rz="_dropdownItem_1g516_131",Lz="_rectButton_1g516_173",Xo={layout:Iz,clickedLabel:Nz,dropdownButton:Oz,clickedButton:Mz,undisplay:kz,clickedDropdownList:Fz,clickedItem:Dz,dropdownItem:Rz,rectButton:Lz};function Uz({title:t,dropdownItems:e,isOpen:n,filterKey:r,onOpen:i,onSetFilter:s,shape:a="round",defaultValue:A}){const u=e.find(B=>B.value===A)||e[0],[f,m]=H.useState(u.label),{isMobile:w}=Zb(),C=B=>{m(B.label),s(E=>({...E,[r]:B.value})),i()};return g.jsxs("div",{className:Xo.layout,children:[g.jsxs("button",{className:`${Xo.dropdownButton} ${n&&Xo.clickedButton} ${a==="rect"?Xo.rectButton:""}`,onClick:i,children:[!w&&`${t} - `,g.jsx("span",{className:`${f!==e[0].label&&Xo.clickedLabel}`,children:f})]}),g.jsx("ul",{className:`${n&&Xo.clickedDropdownList} ${n&&Xo.undisplay}`,children:n&&e.map(B=>g.jsx("li",{className:`${Xo.dropdownItem} ${B.label===f&&Xo.clickedItem}`,onClick:()=>{C(B)},children:B.label},B.label))})]})}function ip({labels:t,filterList:e,onSetFilter:n,shape:r="round"}){const[i,s]=H.useState(null),a=A=>{s(i===A?null:A)};return g.jsx("div",{className:Tz.layout,children:e.map((A,u)=>g.jsx(Uz,{title:A.label,dropdownItems:A.options,filterKey:A.key,defaultValue:A.defaultValue,isOpen:u===i,onOpen:()=>{a(u)},onSetFilter:n,shape:r},A.key))})}const Qz=[{key:"sort",label:"",options:[{label:"",value:"latest"},{label:"",value:"ending"},{label:"",value:"popular"}]},{key:"region",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"category",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{key:"status",label:" ",options:[{label:"",value:"exhibited"},{label:"",value:"ended"},{label:"",value:"scheduled"},{label:"",value:""}]}],Hz="_countParagraph_1ppwl_1",jz="_counts_1ppwl_11",XS={countParagraph:Hz,counts:jz};function sp({num:t,label:e}){return g.jsxs("p",{className:XS.countParagraph,children:[" ",g.jsx("strong",{className:XS.counts,children:t})," ",e,"  "]})}const Pz="_paginationContainer_vhj2k_1",zz="_sideButtonContainer_vhj2k_11",Vz="_pageNumbersContainer_vhj2k_19",Kz="_pageButton_vhj2k_33",Gz="_active_vhj2k_57",sA={paginationContainer:Pz,sideButtonContainer:zz,pageNumbersContainer:Vz,pageButton:Kz,active:Gz};function Qd({currentPage:t,onPageChange:e,totalItems:n,itemsPerPage:r=10}){const i=Math.ceil(n/r),s=$z(t,i,5);return g.jsxs("div",{className:sA.paginationContainer,children:[g.jsx("div",{className:sA.sideButtonContainer,children:g.jsx("button",{onClick:()=>e(t-1),className:sA.pageButton,disabled:t===1,children:"<"})}),g.jsx("div",{className:sA.pageNumbersContainer,children:s.map(a=>g.jsx("button",{onClick:()=>e(a),className:`${sA.pageButton} ${t===a?sA.active:""}`,children:a},a))}),g.jsx("div",{className:sA.sideButtonContainer,children:g.jsx("button",{onClick:()=>e(t+1),className:sA.pageButton,disabled:t===i,children:">"})})]})}const $z=(t,e,n)=>{const r=Math.floor(n/2);let i=Math.max(t-r,1),s=Math.min(i+n-1,e);return s-i+1<n&&(i=Math.max(s-n+1,1)),Array.from({length:s-i+1},(a,A)=>i+A)},Hd=(t=10,e)=>{const[n,r]=H.useState(1),i=Array.isArray(e)?e:[],s=(n-1)*t,a=i.slice(s,s+t);return{currentPage:n,setCurrentPage:r,pageItems:a}},Wz="_exhibitionCardLayout_1pkcv_1",Xz="_statusContainer_1pkcv_37",qz="_ongoing_1pkcv_73",Yz="_imageBox_1pkcv_81",Zz="_exhibitionImage_1pkcv_89",Jz="_favButton_1pkcv_105",eV="_locButton_1pkcv_127",tV="_icon_1pkcv_151",nV="_likedIcon_1pkcv_167",rV="_exhibitionTitle_1pkcv_189",iV="_infoContainer_1pkcv_207",sV="_subParagraph_1pkcv_215",Is={exhibitionCardLayout:Wz,statusContainer:Xz,ongoing:qz,imageBox:Yz,exhibitionImage:Zz,favButton:Jz,locButton:eV,icon:tV,likedIcon:nV,exhibitionTitle:rV,infoContainer:iV,subParagraph:sV},aV="_container_1qv6y_1",oV="_infoBox_1qv6y_25",Ny={container:aV,infoBox:oV},lV="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7983)'%3e%3ccircle%20cx='11.1768'%20cy='11.1768'%20r='10.6768'%20fill='white'%20stroke='%23376AED'/%3e%3cpath%20d='M16.0448%2016.1689H6.31016C5.58257%2016.1689%204.99414%2015.5805%204.99414%2014.8529V9.58881C4.99414%209.12491%205.2383%208.69519%205.63872%208.45835L10.5317%205.06453C10.9492%204.81793%2011.4668%204.81793%2011.8819%205.06697L16.7211%208.45835C17.1167%208.69519%2017.3584%209.12491%2017.3584%209.58637V14.8529C17.3584%2015.5805%2016.77%2016.1689%2016.0424%2016.1689H16.0448Z'%20fill='%23376AED'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7983'%3e%3crect%20width='22.3535'%20height='22.3535'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",AV="data:image/svg+xml,%3csvg%20width='23'%20height='23'%20viewBox='0%200%2023%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_18_7995)'%3e%3ccircle%20cx='11.5'%20cy='11.5'%20r='11.1768'%20fill='%23376AED'/%3e%3cg%20clip-path='url(%23clip1_18_7995)'%3e%3cpath%20d='M12.9199%208.2959C13.0873%208.81092%2013.5669%209.16015%2014.1084%209.16016H18.7031L14.9854%2011.8604C14.5475%2012.1787%2014.364%2012.7429%2014.5312%2013.2578L15.9512%2017.626L12.2344%2014.9268L12.1504%2014.8701C11.7514%2014.6268%2011.2486%2014.6268%2010.8496%2014.8701L10.7656%2014.9268L7.04785%2017.626L8.46875%2013.2578C8.63604%2012.7429%208.45246%2012.1787%208.01465%2011.8604L4.29688%209.16016H8.8916C9.43313%209.16015%209.91274%208.81092%2010.0801%208.2959L11.5%203.9248L12.9199%208.2959Z'%20fill='white'%20stroke='white'%20stroke-width='1.5'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_18_7995'%3e%3crect%20width='23'%20height='23'%20fill='white'/%3e%3c/clipPath%3e%3cclipPath%20id='clip1_18_7995'%3e%3crect%20width='20'%20height='20'%20fill='white'%20transform='translate(1.5%201.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function cV({title:t,isLike:e=!1}){return g.jsxs("div",{className:Ny.container,children:[g.jsx("img",{src:e?AV:lV,alt:"marker",className:Ny.markerImage}),g.jsx("div",{className:Ny.infoBox,children:t})]})}const qS=(t,e=!1)=>{const n=document.createElement("div");return pR.createRoot(n).render(g.jsx(cV,{title:t,isLike:e})),n},cC=({lat:t,lng:e,id:n,results:r,zoomLevel:i=15,title:s,location:a})=>{const A=H.useRef(null),u=H.useRef([]),f=Wt();return H.useEffect(()=>{var C;const m=document.getElementById(n);if(A.current||!m||!((C=window.naver)!=null&&C.maps)||t===null||e===null)return;const w=new naver.maps.Map(m,{center:new naver.maps.LatLng(t,e),zoom:i});return A.current=w,()=>{A.current&&(A.current.destroy(),A.current=null)}},[n]),H.useEffect(()=>{const m=A.current;if(!m||t===null||e===null)return;const w=new naver.maps.LatLng(t,e);m.setCenter(w),u.current.forEach(B=>B.setMap(null)),u.current=[];const C=new naver.maps.Point(0,0);if(s&&a){const B=qS(s,!1),E=new naver.maps.Marker({position:w,map:m,title:s,icon:{content:B,anchor:C}});u.current.push(E)}else if(r&&r.length>0)r.forEach(({gallery_name:B,gallery_latitude:E,gallery_longitude:I,is_liked:M,id:R})=>{const L=qS(B,M),U=new naver.maps.LatLng(E,I),O=new naver.maps.Marker({position:U,map:m,title:B,icon:{content:L,anchor:C}});naver.maps.Event.addListener(O,"click",()=>{f(`/galleries/${R}`)}),u.current.push(O)});else{const B=new naver.maps.Marker({position:w,map:m,title:" "});u.current.push(B)}},[t,e,r,s,a,i,f]),A},uV=()=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"19",viewBox:"0 0 16 19",fill:"none",children:[g.jsx("path",{d:"M8 17.4785C11.25 14.2785 14.5 11.4132 14.5 7.87852C14.5 4.34389 11.5899 1.47852 8 1.47852C4.41015 1.47852 1.5 4.34389 1.5 7.87852C1.5 11.4132 4.75 14.2785 8 17.4785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M8 10.2785C9.34623 10.2785 10.4375 9.20404 10.4375 7.87852C10.4375 6.55304 9.34623 5.47852 8 5.47852C6.65377 5.47852 5.5625 6.55304 5.5625 7.87852C5.5625 9.20404 6.65377 10.2785 8 10.2785Z",stroke:"#787878",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]}),dV="_modalOverlay_1eiia_1",fV="_fadeOutOverlay_1eiia_37",hV="_modalBox_1eiia_45",pV="_modalMessage_1eiia_81",gV="_errorMessage_1eiia_105",mV="_btnBox_1eiia_115",xV="_modalButton_1eiia_137",wV="_errorButton_1eiia_177",yV="_slideUp_1eiia_253",vV="_slideDown_1eiia_261",ei={modalOverlay:dV,fadeOutOverlay:fV,modalBox:hV,modalMessage:pV,errorMessage:gV,btnBox:mV,modalButton:xV,errorButton:wV,slideUp:yV,slideDown:vV};function uC({isOpen:t,message:e,onClose:n,type:r="default"}){const[i,s]=H.useState(!1),[a,A]=H.useState(""),u=H.useRef(null);if(H.useEffect(()=>{if(t)s(!0),A(ei.slideUp);else if(i){A(ei.slideDown);const C=setTimeout(()=>{s(!1)},300);return()=>clearTimeout(C)}},[t,i]),H.useEffect(()=>{t&&i&&u.current&&u.current.focus()},[t,i]),!i)return null;const f=r==="error",m=f?`${ei.modalButton} ${ei.errorButton}`:ei.modalButton,w=f?`${ei.modalMessage} ${ei.errorMessage}`:ei.modalMessage;return g.jsx("div",{className:`${ei.modalOverlay} ${t?"":ei.fadeOutOverlay}`,onClick:n,children:g.jsxs("div",{className:`${ei.modalBox} ${a}`,onClick:C=>C.stopPropagation(),children:[g.jsx("p",{className:w,children:e}),g.jsx("button",{ref:u,className:m,onClick:n,children:""})]})})}const O5=H.createContext();function bV({children:t}){const[e,n]=H.useState({isOpen:!1,message:"",type:"default"}),r=H.useCallback((s,a="default")=>{n({isOpen:!0,message:s,type:a})},[]),i=H.useCallback(()=>{n(s=>({...s,isOpen:!1}))},[]);return g.jsxs(O5.Provider,{value:{showAlert:r},children:[t,g.jsx(uC,{isOpen:e.isOpen,message:e.message,type:e.type,onClose:i})]})}const Kn=()=>{const t=H.useContext(O5);if(!t)throw new Error("useAlert AlertProvider   .");return t},CV="_modalOverlay_ekilh_1",BV="_mapModalBox_ekilh_21",_V="_mapModalTitle_ekilh_61",EV="_mapModalSubTitle_ekilh_75",SV="_mapModalMap_ekilh_89",TV="_mapModalClose_ekilh_103",Pu={modalOverlay:CV,mapModalBox:BV,mapModalTitle:_V,mapModalSubTitle:EV,mapModalMap:SV,mapModalClose:TV};function M5({lat:t,lng:e,title:n,address:r,mapId:i,onClose:s}){return cC({lat:t,lng:e,id:i,title:n,location:r}),H.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),g.jsx("div",{className:Pu.modalOverlay,children:g.jsxs("div",{className:Pu.mapModalBox,children:[g.jsx("h3",{className:Pu.mapModalTitle,children:n}),g.jsx("p",{className:Pu.mapModalSubTitle,children:r}),g.jsx("div",{id:i,className:Pu.mapModalMap}),g.jsx("button",{className:Pu.mapModalClose,onClick:s,children:""})]})})}function k5({exhibitionItem:t,onEvent:e}){const{showAlert:n}=Kn(),{user:r}=Us(),{id:i,exhibition_title:s,exhibition_category:a,exhibition_poster:A,exhibition_location:u,exhibition_start_date:f,exhibition_end_date:m,exhibition_status:w,is_liked:C,exhibition_organization:B}=t,[E,I]=H.useState(!1),M=Wt(),R=`exhibition-${i}-map`,L=w==="exhibited"?" ":w==="upcoming"?" ":" ",U=()=>{if(!u){n("   .");return}I(Q=>!Q),document.body.style.overflow="hidden"},O=()=>{I(Q=>!Q),document.body.style.overflow="unset"},F=async()=>{!r&&M("/login");try{C===!0?await nt.delete("/api/likes",{data:{liked_id:i,liked_type:"exhibition"}}):await nt.post("/api/likes",{liked_id:i,liked_type:"exhibition"}),await e()}catch(Q){console.error(Q)}};return g.jsxs("div",{className:Is.exhibitionCardLayout,children:[E&&g.jsx(M5,{lat:B.latitude,lng:B.longitude,title:s,address:u,mapId:R,onClose:O}),g.jsxs(yr,{className:Is.layout,to:`/exhibitions/${i}`,children:[g.jsx("div",{className:`${Is.statusContainer} ${w==="exhibited"&&Is.ongoing}`,children:L}),g.jsx("div",{className:Is.imageBox,children:g.jsx($t,{className:Is.exhibitionImage,src:A,alt:"  "})}),g.jsx("button",{className:Is.favButton,onClick:Q=>{Q.preventDefault(),Q.stopPropagation(),F()},children:g.jsx(zA,{className:C===!0?Is.likedIcon:Is.icon})}),g.jsx("button",{className:Is.locButton,onClick:Q=>{Q.preventDefault(),Q.stopPropagation(),U()},children:g.jsx(uV,{})}),g.jsxs("div",{className:Is.infoContainer,children:[g.jsx("h3",{className:Is.exhibitionTitle,children:s}),g.jsxs("p",{className:Is.subParagraph,children:[a," | ",u||" "]}),g.jsxs("p",{className:Is.subParagraph,children:[f," ~ ",m]})]})]})]})}const IV="_clickedFavButton_ctyf9_1",NV="_favButton_ctyf9_3",OV="_clickedIcon_ctyf9_47",Oy={clickedFavButton:IV,favButton:NV,clickedIcon:OV};function dC({onFav:t,isFav:e}){return g.jsx("button",{className:`${Oy.favButton} ${e&&Oy.clickedFavButton}`,onClick:t,children:g.jsx(zA,{className:`${e&&Oy.clickedIcon}`})})}function MV(){const{user:t}=Us(),[e,n]=H.useState([]),[r,i]=H.useState(!0),{currentPage:s,setCurrentPage:a,pageItems:A}=Hd(12,e),[u,f]=H.useState({sort:"latest",region:"",category:"",status:"exhibited",liked_only:0}),m=Wt(),[w,C]=H.useState(""),B=R=>{C(R.target.value)},E=()=>{!t&&m("/login"),f(R=>({...R,liked_only:!R.liked_only}))},I=async()=>{try{i(!0);const R={...u,search:w},L=await nt.get("/api/exhibitions",{params:R});n(L.data)}catch(R){console.error("   :",R)}finally{i(!1)}};H.useEffect(()=>{I()},[u]);const M=["","","",""];return g.jsxs("div",{className:jg.layout,children:[g.jsx(rp,{title:"",isFav:u.liked_only,onEvent:I,onFav:E,onSearch:B,value:w}),g.jsxs("div",{className:jg.dropboxContainer,children:[g.jsx(ip,{labels:M,filterList:Qz,onSetFilter:f}),g.jsx(dC,{onFav:E,isFav:u.liked_only})]}),g.jsx(sp,{num:e.length,label:""}),r&&g.jsx(br,{}),!r&&e.length===0&&g.jsx("div",{className:jg.nonDataText,children:"  ."}),g.jsx("div",{className:jg.gridContainer,children:A.map(R=>g.jsx(k5,{exhibitionItem:R,onEvent:I},R.id))}),e.length>0&&g.jsx(Qd,{currentPage:s,onPageChange:a,totalItems:e.length})]})}const kV="_layout_16k0h_1",FV="_gridContainer_16k0h_19",DV="_dropboxContainer_16k0h_31",RV="_nonDataText_16k0h_43",Pg={layout:kV,gridContainer:FV,dropboxContainer:DV,nonDataText:RV},LV=[{key:"category",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"nation",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],UV="_layout_17phl_1",QV="_artistImage_17phl_39",HV="_titleContainer_17phl_55",jV="_artistNameTitle_17phl_73",PV="_statusContainer_17phl_91",zV="_subParagraph_17phl_127",VV="_favButton_17phl_141",KV="_icon_17phl_163",GV="_likedIcon_17phl_173",io={layout:UV,artistImage:QV,titleContainer:HV,artistNameTitle:jV,statusContainer:PV,subParagraph:zV,favButton:VV,icon:KV,likedIcon:GV};function F5({artistItem:t,onEvent:e}){const{id:n,artist_name:r,artist_category:i,artist_image:s,artist_nation:a,is_on_exhibition:A,is_liked:u}=t,f=Wt(),m=async()=>{!localStorage.getItem("ACCESS_TOKEN")&&f("/login");try{u===!0?await nt.delete("/api/likes",{data:{liked_id:n,liked_type:"artist"}}):await nt.post("/api/likes",{liked_id:n,liked_type:"artist"}),await e()}catch(w){console.error(w)}};return g.jsxs(yr,{className:io.layout,to:`/artists/${n}`,children:[g.jsx($t,{className:io.artistImage,src:s,alt:"  "}),A==="1"&&g.jsx("div",{className:io.statusContainer,children:""}),g.jsxs("div",{className:io.titleContainer,children:[g.jsx("h3",{className:io.artistNameTitle,children:r}),g.jsx("button",{className:io.favButton,onClick:w=>{w.preventDefault(),w.stopPropagation(),m()},children:g.jsx(zA,{className:u==="1"?io.likedIcon:io.icon})})]}),g.jsx("p",{className:io.subParagraph,children:i}),g.jsx("p",{className:io.subParagraph,children:a})]})}function $V(){const{user:t}=Us(),[e,n]=H.useState([]),[r,i]=H.useState(!0),{currentPage:s,setCurrentPage:a,pageItems:A}=Hd(12,e),[u,f]=H.useState({category:"",nation:"",birthDecade:"",liked_only:0}),m=Wt(),[w,C]=H.useState(""),B=()=>{!t&&m("/login"),f(M=>({...M,liked_only:!M.liked_only}))},E=M=>{C(M.target.value)},I=async()=>{const M={...u,search:w};try{i(!0);const R=await nt.get("/api/artist",{params:M});n(R.data)}catch(R){throw new Error(R)}finally{i(!1)}};return H.useEffect(()=>{I()},[u]),g.jsxs("div",{className:Pg.layout,children:[g.jsx(rp,{title:"",isFav:u.liked_only,onEvent:I,onFav:B,onSearch:E,value:w}),g.jsxs("div",{className:Pg.dropboxContainer,children:[g.jsx(ip,{filterList:LV,onSetFilter:f}),g.jsx(dC,{onFav:B,isFav:u.liked_only})]}),g.jsx(sp,{num:e.length,label:""}),r&&g.jsx(br,{}),!r&&e.length===0&&g.jsx("div",{className:Pg.nonDataText,children:"  ."}),g.jsx("div",{className:Pg.gridContainer,children:A.map(M=>g.jsx(F5,{artistItem:M,onEvent:I},M.id))}),e.length>0&&g.jsx(Qd,{currentPage:s,onPageChange:a,totalItems:e.length})]})}const WV="_layout_15yv5_1",XV="_dropboxContainer_15yv5_19",qV="_dropBoxButtonSection_15yv5_31",YV="_gridContainer_15yv5_43",ZV="_mapButton_15yv5_55",JV="_nonDataText_15yv5_81",zu={layout:WV,dropboxContainer:XV,dropBoxButtonSection:qV,gridContainer:YV,mapButton:ZV,nonDataText:JV},eK=[{key:"status",label:" ",options:[{label:"",value:""},{label:"  ",value:"onExhibition"}]},{key:"regions",label:"",options:[{label:"",value:""},{label:"",value:""},{label:" ",value:" "},{label:"  ",value:"  "},{label:" ",value:" "},{label:" ",value:" "},{label:" ",value:" "},{label:"",value:""},{label:"",value:""}]},{key:"type",label:"",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]}],tK="_layout_1food_1",nK="_linkContainer_1food_31",rK="_galleryImage_1food_51",iK="_infoContainer_1food_75",sK="_favButton_1food_83",aK="_icon_1food_107",oK="_likedIcon_1food_117",lK="_galleryTitle_1food_127",AK="_addressParagraph_1food_147",so={layout:tK,linkContainer:nK,galleryImage:rK,infoContainer:iK,favButton:sK,icon:aK,likedIcon:oK,galleryTitle:lK,addressParagraph:AK};function fC({galleryItem:t,onEvent:e}){const{user:n}=Us(),{id:r,gallery_name:i,gallery_image:s,gallery_address:a,gallery_start_time:A,gallery_end_time:u,is_liked:f}=t,m=B=>{if(B)return B.slice(0,5)},w=Wt(),C=async()=>{!n&&w("/login");try{f===!0?await nt.delete("/api/likes",{data:{liked_id:r,liked_type:"gallery"}}):await nt.post("/api/likes",{liked_id:r,liked_type:"gallery"}),await e()}catch(B){console.error(B)}};return console.log(f),g.jsx("div",{className:so.layout,children:g.jsxs(yr,{className:so.linkContainer,to:`/galleries/${r}`,children:[g.jsx($t,{className:so.galleryImage,src:s,alt:`${i}  `}),g.jsx("button",{className:so.favButton,onClick:B=>{B.preventDefault(),B.stopPropagation(),C()},children:g.jsx(zA,{className:f===!0?so.likedIcon:so.icon})}),g.jsxs("div",{className:so.infoContainer,children:[g.jsx("h3",{className:so.galleryTitle,children:i}),g.jsx("p",{className:so.addressParagraph,children:a}),g.jsxs("p",{className:so.addressParagraph,children:[m(A)," ~ ",m(u)]})]})]})})}const D5=()=>{const[t,e]=H.useState(!1);return{isOpen:t,handleOpenModal:()=>{e(r=>!r)}}},cK="_modalOverlay_lavxu_1",uK="_modalContainer_lavxu_21",dK="_modalHeader_lavxu_45",fK="_modalTitle_lavxu_59",hK="_favButton_lavxu_71",pK="_clickedFavButton_lavxu_109",gK="_clickedIcon_lavxu_121",mK="_modalMap_lavxu_143",xK="_closeButton_lavxu_159",qo={modalOverlay:cK,modalContainer:uK,modalHeader:dK,modalTitle:fK,favButton:hK,clickedFavButton:pK,clickedIcon:gK,modalMap:mK,closeButton:xK},R5=()=>{const[t,e]=H.useState({lat:37.3595704,lng:127.105399}),{showAlert:n}=Kn(),r=s=>{const a=s.coords.latitude,A=s.coords.longitude;e({lat:a,lng:A})},i=s=>{n(`(${s.code}): ${s.message}`)};return H.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(r,i):n("    !")},[]),{coords:t,setCoords:e}};function wK({onOpen:t}){const{coords:e}=R5(),{lat:n,lng:r}=e,[i,s]=H.useState([]),[a,A]=H.useState(!1),[u,f]=H.useState(!1),m=Wt(),w=cC({lat:n,lng:r,id:"gallery-map",results:i,zoomLevel:16});H.useEffect(()=>{var M;const B=w.current;if(!B||!((M=window.naver)!=null&&M.maps))return;const E=async()=>{try{A(!0);const R=B.getBounds(),L=R.getSW(),U=R.getNE(),O={latitude:U.lat(),longitude:U.lng()};u&&(O.liked_only=1);const F=await nt.get("/api/galleries",{params:O});s(F.data)}catch(R){console.error("  :",R)}finally{A(!1)}},I=naver.maps.Event.addListener(B,"idle",E);return E(),()=>{I&&naver.maps.Event.removeListener(I)}},[w,u]);const C=()=>{if(!localStorage.getItem("ACCESS_TOKEN")){m("/login");return}f(B=>!B)};return H.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),g.jsx("div",{className:qo.modalOverlay,children:g.jsxs("div",{className:qo.modalContainer,children:[g.jsxs("div",{className:qo.modalHeader,children:[g.jsx("div",{className:qo.modalTitle,children:"  "}),g.jsxs("button",{className:`${qo.favButton} ${u&&qo.clickedFavButton}`,onClick:C,children:[g.jsx(N5,{className:`${u&&qo.clickedIcon}`})," "]})]}),a&&g.jsx(br,{}),g.jsx("div",{className:qo.modalMap,id:"gallery-map"}),g.jsx("button",{className:qo.closeButton,onClick:t,children:""})]})})}function yK(){const{user:t}=Us(),[e,n]=H.useState([]),[r,i]=H.useState(!0),{currentPage:s,setCurrentPage:a,pageItems:A}=Hd(12,e),[u,f]=H.useState({status:"",regions:"",type:"",liked_only:0}),m=Wt(),[w,C]=H.useState(""),{isOpen:B,handleOpenModal:E}=D5(),I=L=>{C(L.target.value)},M=()=>{!t&&m("/login"),f(L=>({...L,liked_only:!L.liked_only}))},R=async()=>{try{i(!0);const L={...u,regions:u.regions.replace(/\s+/g,","),search:w},U=await nt.get("/api/galleries",{params:L});n(U.data)}catch(L){throw new Error(L)}finally{i(!1)}};return H.useEffect(()=>{R()},[u]),g.jsxs("div",{className:zu.layout,children:[B&&g.jsx(wK,{onOpen:E}),g.jsx(rp,{title:"",isFav:u.liked_only,onEvent:R,onFav:M,onSearch:I,value:w}),g.jsxs("div",{className:zu.dropboxContainer,children:[g.jsx(ip,{filterList:eK,onSetFilter:f}),g.jsxs("div",{className:zu.dropBoxButtonSection,children:[g.jsx("button",{className:zu.mapButton,onClick:E,children:""}),g.jsx(dC,{onFav:M,isFav:u.liked_only})]})]}),g.jsx(sp,{num:e.length,label:""}),r&&g.jsx(br,{}),!r&&e.length===0&&g.jsx("div",{className:zu.nonDataText,children:"  ."}),g.jsx("div",{className:zu.gridContainer,children:A.map(L=>g.jsx(fC,{galleryItem:L,onEvent:R},L.id))}),e.length>0&&g.jsx(Qd,{currentPage:s,onPageChange:a,totalItems:e.length})]})}const vK="_layout_1q99i_1",bK="_registerTitle_1q99i_15",CK="_subParagraph_1q99i_27",BK="_form_1q99i_37",_K="_radioGroup_1q99i_55",EK="_submitButton_1q99i_67",Vu={layout:vK,registerTitle:bK,subParagraph:CK,form:BK,radioGroup:_K,submitButton:EK},Am=t=>{const[e,n]=H.useState(t);return{data:e,handleChange:i=>{n(s=>({...s,[i.target.name]:i.target.value}))},setData:n}},SK="_input_982er_13",TK={input:SK};function mo({type:t="text",name:e,placeholder:n,value:r,onChange:i}){return g.jsx("input",{className:TK.input,name:e,type:t,placeholder:n,value:r,onChange:i})}const IK="_layout_1s1dl_1",NK="_radioLabel_1s1dl_17",OK="_radioInput_1s1dl_31",My={layout:IK,radioLabel:NK,radioInput:OK};function YS({name:t,value:e,label:n,onChange:r,checked:i}){return g.jsxs("label",{className:My.layout,children:[g.jsx("input",{className:My.radioInput,type:"radio",name:t,value:e,onChange:r,defaultChecked:i}),g.jsx("span",{className:My.radioLabel,children:n})]})}const MK="_layout_3526f_1",kK="_inputTitle_3526f_13",FK="_inputContainer_3526f_25",DK="_errorParagraph_3526f_35",zg={layout:MK,inputTitle:kK,inputContainer:FK,errorParagraph:DK};function Qf({children:t,title:e,isValid:n,errorText:r}){return g.jsxs("div",{className:zg.layout,children:[g.jsx("h3",{className:zg.inputTitle,children:e}),g.jsx("div",{className:zg.inputContainer,children:t}),!n&&g.jsx("div",{className:zg.errorParagraph,children:r})]})}function RK(){const{data:t,handleChange:e}=Am({login_id:"",login_pwd:"",user_email:"",user_name:"",admin_flag:0}),[n,r]=H.useState({isOpen:!1,message:"",callback:null}),i=Wt(),s=vr(),a=()=>{r(C=>({...C,isOpen:!1})),n.callback&&n.callback()},A=C=>/^(?=.*[A-Za-z])(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/.test(C),u=C=>/^[A-Za-z0-9]{6,20}$/.test(C),f=C=>/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.]+\.[A-Za-z]{2,}$/.test(C),m=()=>{const{login_id:C,login_pwd:B,user_email:E,user_name:I,admin_flag:M}=t;return u(C)&&A(B)&&f(E)&&I.trim()!==""&&M!==""},w=async C=>{C.preventDefault();try{await $i.post("/api/auth/register",t),r({isOpen:!0,message:" .",callback:()=>i("/login",{state:{from:s.pathname}})})}catch(B){let E="    .";B.response&&B.response.status===409&&(E=B.response.data.message||"  ."),r({isOpen:!0,message:E,callback:null})}};return g.jsxs("div",{className:Vu.layout,children:[g.jsx(uC,{isOpen:n.isOpen,message:n.message,onClose:a}),g.jsx("h1",{className:Vu.registerTitle,children:""}),g.jsx("p",{className:Vu.subParagraph,children:"  "}),g.jsxs("form",{className:Vu.form,onSubmit:w,children:[g.jsx(Qf,{title:"",isValid:t.login_id===""?!0:u(t.login_id),errorText:" 6~20     ",children:g.jsx(mo,{name:"login_id",placeholder:" (6~20 , )",onChange:e,value:t.login_id})}),g.jsx(Qf,{title:"",isValid:t.login_pwd===""?!0:A(t.login_pwd),errorText:"8~20 , ,     ",children:g.jsx(mo,{name:"login_pwd",placeholder:" (8~16 ++)",type:"password",onChange:e,value:t.login_pwd})}),g.jsx(Qf,{title:"",children:g.jsx(mo,{name:"user_name",placeholder:" ",onChange:e,value:t.user_name})}),g.jsx(Qf,{title:"",isValid:t.user_email===""?!0:f(t.user_email),errorText:"   ",children:g.jsx(mo,{name:"user_email",placeholder:" ",onChange:e,value:t.user_email})}),g.jsx(Qf,{title:" ?",children:g.jsxs("div",{className:Vu.radioGroup,children:[g.jsx(YS,{label:"",name:"admin_flag",value:1,onChange:e}),g.jsx(YS,{label:"",name:"admin_flag",value:0,onChange:e})]})}),g.jsx("button",{className:Vu.submitButton,disabled:!m(),children:""})]})]})}const LK="_layout_1fq0l_1",UK="_mainTab_1fq0l_23",QK="_tabButton_1fq0l_39",HK="_active_1fq0l_77",Vg={layout:LK,mainTab:UK,tabButton:QK,active:HK},jK="_layout_e7upq_1",PK="_pageTitle_e7upq_15",zK="_editLink_e7upq_33",ky={layout:jK,pageTitle:PK,editLink:zK};function VK(){const{user:t}=H.useContext(PA);return t?g.jsxs("div",{className:ky.layout,children:[g.jsx("h1",{className:ky.pageTitle,children:""}),g.jsxs(yr,{className:ky.editLink,to:"/mypage/edit",children:[t.user_name," , "]})]}):g.jsx("div",{children:"  "})}const KK="_header_1dx3l_1",GK="_countText_1dx3l_9",$K="_count_1dx3l_9",WK="_tabButtonContainer_1dx3l_45",XK="_tabButton_1dx3l_45",qK="_active_1dx3l_77",YK="_cardListSection_1dx3l_87",ZK="_cardList_1dx3l_87",JK="_emptyText_1dx3l_107",Yo={header:KK,countText:GK,count:$K,tabButtonContainer:WK,tabButton:XK,active:qK,cardListSection:YK,cardList:ZK,emptyText:JK},Fy=[{label:"",key:"exhibition"},{label:"",key:"gallery"},{label:"",key:"artwork"},{label:"",key:"artist"}],Dy=t=>{const e=new Set;return t.filter(n=>e.has(n.id)?!1:(e.add(n.id),!0))};function eG(){var A,u;const[t,e]=H.useState({exhibition:[],gallery:[],artwork:[],artist:[]}),[n,r]=H.useState("exhibition"),[i,s]=H.useState(!0);H.useEffect(()=>{(async()=>{try{const m=await nt.get("/api/users/me/likes"),{data:w}=m,C=Dy(w.like_exhibitions||[]),B=Dy(w.like_galleries||[]),E=Dy(w.like_artists||[]);e({exhibition:C,gallery:B,artist:E,artwork:[]})}catch(m){console.log("like fetch err : ",m),e({exhibition:[],gallery:[],artwork:[],artist:[]})}finally{s(!1)}})()},[]);const a=t[n]||[];return g.jsxs("div",{children:[g.jsxs("div",{className:Yo.header,children:[g.jsxs("p",{className:Yo.countText,children:["",g.jsx("span",{className:Yo.count,children:a.length}),""," ",(A=Fy.find(f=>f.key===n))==null?void 0:A.label," ."]}),g.jsx("div",{className:Yo.tabButtonContainer,children:Fy.map(f=>g.jsx("button",{className:`${Yo.tabButton} ${n===f.key?Yo.active:""}`,onClick:()=>r(f.key),children:f.label},f.key))})]}),g.jsx("section",{className:Yo.cardListSection,children:g.jsx("div",{className:Yo.cardList,children:a.length>0?n==="exhibition"?a.map(f=>g.jsx(k5,{exhibitionItem:f},`exhibition-${f.id}`)):n==="gallery"?a.map(f=>g.jsx(fC,{galleryItem:f},`gallery-${f.id}`)):n==="artist"?a.map(f=>g.jsx(F5,{artistItem:f},`artist-${f.id}`)):null:i?g.jsx(br,{}):g.jsxs("p",{className:Yo.emptyText,children:[" ",(u=Fy.find(f=>f.key===n))==null?void 0:u.label," ."]})})})]})}const tG="_cardContainer_18zcp_1",nG="_imgContainer_18zcp_33",rG="_image_18zcp_41",iG="_artistImage_18zcp_53",sG="_contents_18zcp_69",aG="_title_18zcp_83",oG="_info_18zcp_95",lG="_statusContainer_18zcp_109",AG="_statusCompleted_18zcp_123",cG="_statusReserved_18zcp_137",uG="_statusCanceled_18zcp_153",dG="_cancel_18zcp_173",fG="_action_18zcp_205",hG="_btn_18zcp_215",pG="_catalogRegisteredDate_18zcp_247",Pn={cardContainer:tG,imgContainer:nG,image:rG,artistImage:iG,contents:sG,title:aG,info:oG,statusContainer:lG,statusCompleted:AG,statusReserved:cG,statusCanceled:uG,cancel:dG,action:fG,btn:hG,catalogRegisteredDate:pG};function L5({item:t,onQR:e,onCancel:n,onGoDetail:r,onReservation:i,type:s}){if(!t)return null;const a=()=>{const{likeType:f}=t;let m="",w="",C="",B=Pn.image;if(f==="exhibition")m=t.exhibition_poster,w=t.exhibition_title,C=`${t.exhibition_location}<br />${t.exhibition_start_date} ~ ${t.exhibition_end_date}`;else if(f==="gallery")m=t.gallery_image,w=t.gallery_name,C=t.gallery_address;else if(f==="artist")m=t.artist_image,w=t.artist_name,C=`${t.artist_category} / ${t.artist_nation}`,B=Pn.artistImage;else return null;return g.jsxs("div",{onClick:r,className:Pn.cardContainer,children:[g.jsx("div",{className:Pn.imgContainer,children:g.jsx($t,{src:m,alt:w,className:`${Pn.image} ${B}`})}),g.jsxs("div",{className:Pn.contents,children:[g.jsx("h3",{className:Pn.title,children:w}),g.jsx("p",{className:Pn.info,dangerouslySetInnerHTML:{__html:C}})]})]})},A=()=>{var L,U;const{exhibition_poster:f,exhibition_title:m="  ",exhibition_location:w="  ",reservation_status:C="",id:B=" ",reservation_datetime:E}=t,I={reserved:{label:"",className:Pn.statusReserved},used:{label:"",className:Pn.statusCompleted},canceled:{label:"",className:Pn.statusCanceled}},M=((L=I[C])==null?void 0:L.label)||"  ",R=((U=I[C])==null?void 0:U.className)||"";return g.jsxs("div",{className:Pn.cardContainer,onClick:i,children:[g.jsx("div",{className:Pn.imgContainer,children:g.jsx($t,{src:f,alt:m,className:Pn.image})}),g.jsxs("div",{className:Pn.contents,children:[g.jsx("h3",{className:Pn.title,children:m}),g.jsxs("p",{className:Pn.info,children:[w,g.jsx("br",{}),E.split(" ")[0],g.jsx("br",{}),": ",B]}),g.jsxs("div",{className:Pn.statusContainer,children:[g.jsx("span",{className:R,children:M}),g.jsxs("div",{className:Pn.action,children:[g.jsx("button",{className:Pn.btn,onClick:O=>{O.stopPropagation(),r()},children:""}),C==="reserved"&&g.jsxs(g.Fragment,{children:[g.jsx("button",{className:Pn.btn,onClick:O=>{O.stopPropagation(),e(t.exhibition_id)},children:""}),g.jsx("button",{className:Pn.cancel,onClick:O=>{O.stopPropagation(),n()},children:""})]})]})]})]})]})},u=()=>{const{bookDetail:f,book_poster:m,create_dtm:w=""}=t,{book:{book_title:C="  "}={},exhibition:{exhibition_location:B="   "}={},gallery:{gallery_name:E="  "}={},exhibition:{exhibition_start_date:I=""}={},exhibition:{exhibition_end_date:M=""}={}}=(f==null?void 0:f.book)||{},R=I&&M?`${I} ~ ${M}`:"",L=w?new Date(w).toISOString().slice(0,10):"";return g.jsxs("div",{onClick:r,className:Pn.cardContainer,children:[g.jsx("div",{className:Pn.imgContainer,children:g.jsx($t,{src:m,alt:C,className:Pn.image})}),g.jsxs("div",{className:Pn.contents,children:[g.jsx("h3",{className:Pn.title,children:C}),g.jsxs("p",{className:Pn.info,children:[E," / ",B,g.jsx("br",{}),R]}),g.jsxs("p",{className:Pn.catalogRegisteredDate,children:[": ",L]})]})]})};switch(s){case"like":return a();case"reservation":return A();case"catalog":return u();default:return null}}const gG="_header_mdss1_1",mG="_countText_mdss1_15",xG="_count_mdss1_15",wG="_registerCatalogBtn_mdss1_41",yG="_cardList_mdss1_71",vG="_emptyText_mdss1_83",fc={header:gG,countText:mG,count:xG,registerCatalogBtn:wG,cardList:yG,emptyText:vG};function bG(){const[t,e]=H.useState([]),[n,r]=H.useState(!0),i=Wt(),s=()=>{i("/scan")},a=u=>{i(`/catalog/${u}`)},A=()=>{console.log("QR  or ")};return H.useEffect(()=>{async function u(){try{r(!0);const m=(await nt.get("/api/users/me/purchases")).data,w=await Promise.all(m.map(async C=>{try{const B=await nt.get(`/api/books/${C.book_id}`);return{...C,bookDetail:B.data}}catch(B){return console.error(`Book ${C.book_id}    : `,B),{...C,bookDetail:null}}}));console.log(w),e(w)}catch(f){console.error("   : ",f),e([])}finally{r(!1)}}u()},[]),g.jsxs("div",{className:fc.myCatalog,children:[g.jsxs("div",{className:fc.header,children:[g.jsx("div",{children:g.jsxs("p",{className:fc.countText,children:["  ",g.jsx("span",{className:fc.count,children:t.length})]})}),g.jsx("button",{className:fc.registerCatalogBtn,onClick:s,children:"  "})]}),g.jsx("section",{children:g.jsx("div",{className:fc.cardList,children:t.length>0?t.map(u=>g.jsx(L5,{item:u,onGoDetail:()=>a(u.id),onQR:A,onCancel:null,type:"catalog"},u.id)):n?g.jsx(br,{}):g.jsxs("p",{className:fc.emptyText,children:["   .",g.jsx("br",{})," QR "]})})})]})}const CG="_cardList_1h7rh_1",BG="_header_1h7rh_13",_G="_countText_1h7rh_27",EG="_count_1h7rh_27",SG="_emptyText_1h7rh_53",Ku={cardList:CG,header:BG,countText:_G,count:EG,emptyText:SG},TG=[{label:"",key:"dateSort",options:[{label:"",value:"latest"},{label:"",value:"oldest"}]},{label:"",key:"statusFilter",defaultValue:"reserved",options:[{label:"",value:"all"},{label:"",value:"reserved"},{label:"",value:"used"},{label:"",value:"canceled"}]}],IG="_modalOverlay_14003_1",NG="_modalContainer_14003_27",OG="_modalHeader_14003_55",MG="_closeButton_14003_73",kG="_imageContainer_14003_97",FG="_checkIconContainer_14003_129",DG="_confirmText_14003_163",RG="_visitDate_14003_179",LG="_infoButton_14003_193",ao={modalOverlay:IG,modalContainer:NG,modalHeader:OG,closeButton:MG,imageContainer:kG,checkIconContainer:FG,confirmText:DG,visitDate:RG,infoButton:LG},UG=({isOpen:t,onClose:e,exhibitionTitle:n,imageUrl:r,visitDate:i,onViewExhibition:s})=>t?g.jsx("div",{className:ao.modalOverlay,children:g.jsxs("div",{className:ao.modalContainer,children:[g.jsxs("div",{className:ao.modalHeader,children:[g.jsx("button",{className:ao.closeButton,onClick:e,children:g.jsx(AC,{})}),g.jsx("div",{children:n})]}),g.jsx("div",{className:ao.imageContainer,children:g.jsx($t,{src:r,alt:n})}),g.jsx("div",{className:ao.checkIconContainer,children:g.jsx(lC,{})}),g.jsx("div",{className:ao.confirmText,children:"  "}),g.jsx("div",{className:ao.visitDate,children:" ."}),g.jsxs("div",{className:ao.visitDate,children:[" : ",i]}),g.jsx("button",{className:ao.infoButton,onClick:s,children:"  "})]})}):null;function QG({isOpen:t,message:e,onConfirm:n,onCancel:r,isDanger:i=!1}){const s=H.useRef(null);if(H.useEffect(()=>{t&&s.current&&s.current.focus()},[t]),!t)return null;const a=i?`${ei.modalButton} ${ei.errorButton}`:ei.modalButton;return g.jsx("div",{className:ei.modalOverlay,onClick:r,children:g.jsxs("div",{className:`${ei.modalBox} ${ei.slideUp}`,onClick:A=>A.stopPropagation(),children:[g.jsx("p",{className:ei.modalMessage,children:e}),g.jsxs("div",{className:ei.btnBox,children:[g.jsx("button",{className:ei.modalButton,onClick:r,style:{backgroundColor:"#e9ecef",color:"#333"},children:""}),g.jsx("button",{ref:s,className:a,onClick:n,children:""})]})]})})}const U5=H.createContext();function HG({children:t}){const[e,n]=H.useState({isOpen:!1,message:"",isDanger:!1,resolve:null}),r=H.useCallback((a,A=!1)=>new Promise(u=>{n({isOpen:!0,message:a,isDanger:A,resolve:u})}),[]),i=H.useCallback(()=>{e.resolve&&e.resolve(!0),n(a=>({...a,isOpen:!1}))},[e]),s=H.useCallback(()=>{e.resolve&&e.resolve(!1),n(a=>({...a,isOpen:!1}))},[e]);return g.jsxs(U5.Provider,{value:{showConfirm:r},children:[t,g.jsx(QG,{isOpen:e.isOpen,message:e.message,isDanger:e.isDanger,onConfirm:i,onCancel:s})]})}const Zc=()=>{const t=H.useContext(U5);if(!t)throw new Error("useConfirm must be used within a ConfirmProvider");return t};function jG(){const{showConfirm:t}=Zc(),{showAlert:e}=Kn(),n=vr(),[r,i]=H.useState([]),[s,a]=H.useState({dateSort:"latest",statusFilter:"reserved"}),[A,u]=H.useState(!0),f=Wt(),[m,w]=H.useState(!1),[C,B]=H.useState({id:"",title:"",imageUrl:""});H.useEffect(()=>{var L,U;(L=n.state)!=null&&L.successModal&&((U=n.state)!=null&&U.exhibitionInfo)&&(B(n.state.exhibitionInfo),w(!0))},[n.state]),H.useEffect(()=>{(async()=>{try{u(!0);const U=await nt.get("/api/users/me/exhibitions"),{data:O}=U;i(O)}catch(U){console.error("  :",U)}finally{u(!1)}})()},[]);const E=H.useMemo(()=>{let L=r;return s.statusFilter!=="all"&&(L=L.filter(U=>U.reservation_status===s.statusFilter)),L.sort((U,O)=>{const F=new Date(U.reservation_datetime),Q=new Date(O.reservation_datetime);return s.dateSort==="latest"?Q-F:F-Q}),L},[r,s]);console.log(E);const I=()=>{w(!1)},M=async L=>{if(await t(" ?",!0))try{await nt.delete(`/api/reservations/${L}`),i(O=>O.map(F=>F.id===L?{...F,reservation_status:"canceled"}:F)),e(" .")}catch(O){console.error("  :",O),e("    .","error")}},R=L=>{const U={id:L.exhibition_id,title:L.exhibition_title,imageUrl:L.exhibition_poster};f(`/scan?itemId=${L.id}`,{state:{exhibitionInfo:U}})};return g.jsxs("div",{children:[g.jsxs("div",{className:Ku.header,children:[g.jsxs("p",{className:Ku.countText,children:[" "," ",g.jsx("span",{className:Ku.count,children:E.length})]}),g.jsx("div",{className:Ku.filterSection,children:g.jsx(ip,{filterList:TG,onSetFilter:a,shape:"rect"})})]}),g.jsx("section",{children:g.jsx("div",{className:Ku.cardList,children:E.length>0?E.map(L=>g.jsx(L5,{item:L,status:L.reservation_status==="reserved",onReservation:()=>{f(`/reservationconfirm/${L.id}`)},onGoDetail:()=>f(`/exhibitions/${L.exhibition_id}`),onCancel:()=>M(L.id),onQR:()=>R(L),type:"reservation"},L.id)):A?g.jsx(br,{}):g.jsx("p",{className:Ku.emptyText,children:"  ."})})}),m&&g.jsx(UG,{isOpen:m,onClose:I,exhibitionTitle:C.title,imageUrl:C.imageUrl,visitDate:new Date().toLocaleDateString(),onViewExhibition:()=>f("/exhibitions")})]})}const PG="_tabsLayout_19iru_1",zG="_tabNav_19iru_13",VG="_tabContent_19iru_39",KG="_tabButton_19iru_63",GG="_activeTab_19iru_93",Hf={tabsLayout:PG,tabNav:zG,tabContent:VG,tabButton:KG,activeTab:GG};function hC({tabs:t,activeTab:e,setActiveTab:n,children:r}){return g.jsxs("div",{className:Hf.tabsLayout,children:[g.jsx("nav",{className:Hf.tabNav,children:t.map(({key:i,label:s})=>g.jsx("button",{className:`${Hf.tabButton} ${e===i?Hf.activeTab:""}`,onClick:()=>n(i),children:s},i))}),g.jsx("section",{className:Hf.tabContent,children:r})]})}function $G(){const t=vr(),[e,n]=H.useState(""),r=["","MY","MY"];H.useEffect(()=>{var s,a;(s=t.state)!=null&&s.successModal?n("MY"):(a=t.state)!=null&&a.activeTab&&n(t.state.activeTab)},[t.state]);const i=()=>{switch(e){case"":return g.jsx(eG,{});case"MY":return g.jsx(jG,{});case"MY":return g.jsx(bG,{});default:return null}};return g.jsxs("div",{className:Vg.layout,children:[g.jsx(VK,{}),g.jsx("nav",{className:Vg.mainTab,children:r.map(s=>g.jsx("button",{className:`${Vg.tabButton} ${e===s?Vg.active:""}`,onClick:()=>n(s),children:s},s))}),i()]})}const WG="_container_123ft_1",XG="_pageTitle_123ft_17",qG="_profileCard_123ft_29",YG="_infoRow_123ft_173",ZG="_infoLabel_123ft_193",JG="_infoValue_123ft_205",e$="_input_123ft_215",t$="_changeButton_123ft_231",n$="_profileStatsCard_123ft_259",r$="_sectionTitle_123ft_277",i$="_statsRow_123ft_289",s$="_statsItem_123ft_305",a$="_profileDetailsCard_123ft_313",o$="_detailsRow_123ft_329",l$="_detailsLabel_123ft_351",A$="_detailsValue_123ft_359",c$="_changeButtonSmall_123ft_369",u$="_buttonField_123ft_397",d$="_backBtn_123ft_409",_n={container:WG,pageTitle:XG,profileCard:qG,infoRow:YG,infoLabel:ZG,infoValue:JG,input:e$,changeButton:t$,profileStatsCard:n$,sectionTitle:r$,statsRow:i$,statsItem:s$,profileDetailsCard:a$,detailsRow:o$,detailsLabel:l$,detailsValue:A$,changeButtonSmall:c$,buttonField:u$,backBtn:d$},f$="_modalOverlay_aw249_1",h$="_modalContainer_aw249_27",p$="_modalHeader_aw249_51",g$="_closeButton_aw249_67",m$="_modalTitle_aw249_87",x$="_modalContent_aw249_105",w$="_passwordSection_aw249_121",y$="_sectionTitle_aw249_129",v$="_sectionDescription_aw249_141",b$="_form_aw249_155",C$="_formGroup_aw249_167",B$="_input_aw249_175",_$="_submitButton_aw249_209",E$="_errorMessage_aw249_243",pi={modalOverlay:f$,modalContainer:h$,modalHeader:p$,closeButton:g$,modalTitle:m$,modalContent:x$,passwordSection:w$,sectionTitle:y$,sectionDescription:v$,form:b$,formGroup:C$,input:B$,submitButton:_$,errorMessage:E$},S$=({isOpen:t,onClose:e,userInfo:n,onUpdateUserInfo:r})=>{const[i,s]=H.useState(""),[a,A]=H.useState(""),[u,f]=H.useState(""),[m,w]=H.useState(!1);H.useEffect(()=>{t&&(s(""),A(""),f(""),w(!1))},[t]);const C=async E=>{if(E.preventDefault(),f(""),!n)return;if(!i||!a){f("  .");return}if(i===a){f("     .");return}const I={...n,login_pwd:a};try{const M=await nt.put("/api/users/me",I);r(M.data),w(!0)}catch(M){console.error(M),f("  .   .")}},B=()=>{w(!1),e()};return t?g.jsxs("div",{className:pi.modalOverlay,children:[g.jsxs("div",{className:pi.modalContainer,children:[g.jsxs("div",{className:pi.modalHeader,children:[g.jsx("button",{className:pi.closeButton,onClick:e,children:g.jsx(AC,{})}),g.jsx("div",{className:pi.modalTitle,children:" "})]}),g.jsx("div",{className:pi.modalContent,children:g.jsxs("div",{className:pi.passwordSection,children:[g.jsx("h3",{className:pi.sectionTitle,children:" "}),g.jsxs("p",{className:pi.sectionDescription,children:["    ",g.jsx("br",{}),"  ."]}),g.jsxs("form",{className:pi.form,onSubmit:C,children:[g.jsx("div",{className:pi.formGroup,children:g.jsx("input",{type:"password",placeholder:" ",className:`${pi.input} ${u?pi.inputError:""}`,value:i,onChange:E=>{s(E.target.value),u&&f("")},required:!0})}),g.jsx("div",{className:pi.formGroup,children:g.jsx("input",{type:"password",placeholder:" ",className:`${pi.input} ${u?pi.inputError:""}`,value:a,onChange:E=>{A(E.target.value),u&&f("")},required:!0})}),u&&g.jsx("div",{className:pi.errorMessage,children:u}),g.jsx("button",{className:pi.submitButton,type:"submit",children:" "})]})]})})]}),g.jsx(uC,{isOpen:m,message:"  .",onClose:B})]}):null},T$="_modalOverlay_lcu9a_1",I$="_modalContainer_lcu9a_27",N$="_modalHeader_lcu9a_51",O$="_closeButton_lcu9a_67",M$="_modalTitle_lcu9a_89",k$="_modalContent_lcu9a_107",F$="_withdrawSection_lcu9a_119",D$="_sectionTitle_lcu9a_129",R$="_sectionDescription_lcu9a_143",L$="_form_lcu9a_173",U$="_formGroup_lcu9a_185",Q$="_input_lcu9a_193",H$="_withdrawButton_lcu9a_231",j$="_errorMessage_lcu9a_267",P$="_inputError_lcu9a_285",ns={modalOverlay:T$,modalContainer:I$,modalHeader:N$,closeButton:O$,modalTitle:M$,modalContent:k$,withdrawSection:F$,sectionTitle:D$,sectionDescription:R$,form:L$,formGroup:U$,input:Q$,withdrawButton:H$,errorMessage:j$,inputError:P$},z$=({isOpen:t,onClose:e,userInfo:n,onWithdrawSuccess:r})=>{const[i,s]=H.useState(""),[a,A]=H.useState(""),u=async m=>{if(m.preventDefault(),A(""),!!n){if(!i){A(" .");return}try{await nt.delete("/api/auth/withdraw",{data:{login_id:n.login_id,login_pwd:i}}),r(),s(""),A(""),e()}catch(w){console.error(w),w.response&&w.response.status===400?A("  ."):A("  .   .")}}},f=()=>{A(""),s(""),e()};return t?g.jsx("div",{className:ns.modalOverlay,children:g.jsxs("div",{className:ns.modalContainer,children:[g.jsxs("div",{className:ns.modalHeader,children:[g.jsx("button",{className:ns.closeButton,onClick:f,children:g.jsx(AC,{})}),g.jsx("div",{className:ns.modalTitle,children:" "})]}),g.jsx("div",{className:ns.modalContent,children:g.jsxs("div",{className:ns.withdrawSection,children:[g.jsx("h3",{className:ns.sectionTitle,children:" ?"}),g.jsxs("p",{className:ns.sectionDescription,children:["    .",g.jsx("br",{}),"  ,    .",g.jsx("br",{})]}),g.jsxs("form",{className:ns.form,onSubmit:u,children:[g.jsx("div",{className:ns.formGroup,children:g.jsx("input",{type:"password",placeholder:" ",className:`${ns.input} ${a?ns.inputError:""}`,value:i,onChange:m=>{s(m.target.value),a&&A("")},autoComplete:"off"})}),a&&g.jsx("div",{className:ns.errorMessage,children:a}),g.jsx("button",{className:ns.withdrawButton,type:"submit",children:""})]})]})})]})}):null},V$=()=>{const{user:t,setUser:e}=H.useContext(PA),[n,r]=H.useState(!1),[i,s]=H.useState(!1),[a,A]=H.useState(!1),[u,f]=H.useState(""),[m,w]=H.useState(""),C=Wt(),[B,E]=H.useState(!1),[I,M]=H.useState(!1);if(!t)return g.jsx("div",{children:"  "});const R=J=>e({...t,...J}),L=()=>r(!0),U=()=>r(!1),O=()=>{A(!0),w(t.user_email)},F=J=>w(J.target.value),Q=async()=>{try{await nt.put("/api/users/me",{user_email:m}),e({...t,user_email:m}),A(!1)}catch(J){console.error("  ",J)}},D=()=>{M(!0)},j=()=>{hl.remove("ACCESS_TOKEN"),M(!1),e(null),C("/")},V=()=>{hl.remove("ACCESS_TOKEN"),e(null),C("/")},W=()=>{window.location.href="mailto:oddlemon@oddlemon.co.kr"},Y=()=>{C("/termspolicy")};return g.jsxs("div",{className:_n.container,children:[g.jsx("h2",{className:_n.pageTitle,children:""}),g.jsx("div",{className:_n.profileCard,children:g.jsxs("div",{className:_n.profileInfoDetails,children:[g.jsxs("div",{className:_n.infoRow,children:[g.jsx("span",{className:_n.infoLabel,children:""}),g.jsx("span",{className:_n.infoValue,children:t.user_name||""})]}),g.jsxs("div",{className:_n.infoRow,children:[g.jsx("span",{className:_n.infoLabel,children:""}),g.jsx("span",{className:_n.infoValue,children:t.login_id||""}),g.jsx("button",{className:_n.changeButtonSmall,onClick:L,children:" "})]}),g.jsxs("div",{className:_n.infoRow,children:[g.jsx("span",{className:_n.infoLabel,children:""}),a?g.jsxs(g.Fragment,{children:[g.jsx("input",{type:"email",className:_n.input,value:m,onChange:F}),g.jsx("button",{className:_n.changeButton,onClick:Q,children:""})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:_n.infoValue,children:t.user_email||"email@email.com"}),g.jsx("button",{className:_n.changeButton,onClick:O,children:""})]})]})]})}),g.jsxs("div",{className:_n.profileStatsCard,children:[g.jsx("h3",{className:_n.sectionTitle,children:""}),g.jsx("div",{className:_n.statsRow,onClick:W,style:{cursor:"pointer"},children:g.jsx("span",{className:_n.statsItem,children:"1:1 "})}),g.jsx("div",{className:_n.statsRow,onClick:Y,style:{cursor:"pointer"},children:g.jsx("span",{className:_n.statsItem,children:" "})})]}),g.jsxs("div",{className:_n.profileDetailsCard,children:[g.jsx("h3",{className:_n.sectionTitle,children:""}),g.jsx("div",{className:_n.detailsRow,onClick:D,style:{cursor:"pointer"},children:g.jsx("span",{className:_n.detailsLabel,children:""})}),g.jsxs("div",{className:_n.detailsRow,children:[g.jsx("span",{className:_n.detailsLabel,children:" "}),g.jsx("span",{className:_n.detailsValue,children:"1.10.24"})]}),g.jsx("div",{className:_n.detailsRow,onClick:()=>E(!0),style:{cursor:"pointer"},children:g.jsx("span",{className:_n.detailsLabel,children:" "})})]}),g.jsx("div",{className:_n.buttonField,children:g.jsx("button",{className:_n.backBtn,onClick:()=>C("/mypage"),children:" "})}),g.jsx(S$,{isOpen:n,onClose:U,userInfo:t,onUpdateUserInfo:R}),g.jsx(e5,{isOpen:I,onClose:j}),g.jsx(z$,{isOpen:B,onClose:()=>E(!1),userInfo:t,onWithdrawSuccess:V})]})},K$="_layout_11t2z_1",G$="_summaryTitle_11t2z_15",$$="_queryStringSpan_11t2z_25",W$="_resultSection_11t2z_33",Kg={layout:K$,summaryTitle:G$,queryStringSpan:$$,resultSection:W$},Gg=(t,e)=>{switch(e){case"exhibition":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.exhibition_poster,title:n.exhibition_title}));case"gallery":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.gallery_image,title:n.gallery_name}));case"artist":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.artist_image,title:n.artist_name}));case"notice":return t==null?void 0:t.slice(0,10).map(n=>({id:n.id,thumbnail:n.announcement_poster,title:n.announcement_title}))}},X$="_layout_uizu7_1",q$="_titleContainer_uizu7_13",Y$="_categoryTitle_uizu7_25",Z$="_extraLink_uizu7_33",J$="_resultList_uizu7_45",eW="_emptyBox_uizu7_63",Gu={layout:X$,titleContainer:q$,categoryTitle:Y$,extraLink:Z$,resultList:J$,emptyBox:eW},Ry=t=>{switch(t){case"exhibition":return{label:"",link:"exhibitions"};case"gallery":return{label:"",link:"galleries"};case"artist":return{label:"",link:"artists"};case"notice":return{label:"",link:"notices"}}},tW="_layout_i3rj4_1",nW="_itemImage_i3rj4_13",rW="_itemSpan_i3rj4_27",Ly={layout:tW,itemImage:nW,itemSpan:rW};function iW({link:t,thumbnail:e,title:n}){return g.jsxs(yr,{className:Ly.layout,to:t,children:[g.jsx($t,{className:Ly.itemImage,src:e}),g.jsx("span",{className:Ly.itemSpan,children:n})]})}function $g({category:t,results:e}){return g.jsxs("section",{className:Gu.layout,children:[g.jsxs("div",{className:Gu.titleContainer,children:[g.jsx("h2",{className:Gu.categoryTitle,children:Ry(t).label}),(e==null?void 0:e.length)===10&&g.jsx(yr,{className:Gu.extraLink,to:`/${Ry(t).link}`,children:""})]}),g.jsx("hr",{}),g.jsx("div",{className:Gu.resultList,children:!e||e.length===0?g.jsx("div",{className:Gu.emptyBox,children:"  "}):e.map(({id:n,thumbnail:r,title:i})=>g.jsx(iW,{link:`/${Ry(t).link}/${n}`,thumbnail:r,title:i},n))})]})}function sW(){const t=vr(),n=new URLSearchParams(t.search).get("query"),[r,i]=H.useState({});console.log(n);const s=async()=>{try{const a=await $i.get("/api/search",{params:{search:n}});i(a.data)}catch(a){throw new Error(a)}};return H.useEffect(()=>{s()},[n]),g.jsxs("div",{className:Kg.layout,children:[g.jsxs("h1",{className:Kg.summaryTitle,children:[g.jsx("span",{className:Kg.queryStringSpan,children:`'${n}'`}),"   "]}),g.jsxs("section",{className:Kg.resultSection,children:[g.jsx($g,{category:"exhibition",results:Gg(r.exhibitions,"exhibition")}),g.jsx($g,{category:"gallery",results:Gg(r.galleries,"gallery")}),g.jsx($g,{category:"artist",results:Gg(r.artists,"artist")}),g.jsx($g,{category:"notice",results:Gg(r.announcements,"notice")})]})]})}const aW="_layout_1jxus_1",oW="_header_1jxus_11",lW="_backBtn_1jxus_37",AW="_orderSection_1jxus_47",cW="_userInfo_1jxus_61",uW="_productBox_1jxus_71",dW="_productImage_1jxus_81",fW="_productInfo_1jxus_95",hW="_paymentInfo_1jxus_109",pW="_discountInfo_1jxus_111",gW="_paymentMethod_1jxus_113",mW="_total_1jxus_129",xW="_kakao_1jxus_169",wW="_naver_1jxus_177",yW="_basic_1jxus_183",vW="_paymentButton_1jxus_191",rs={layout:aW,header:oW,backBtn:lW,orderSection:AW,userInfo:cW,productBox:uW,productImage:dW,productInfo:fW,paymentInfo:hW,discountInfo:pW,paymentMethod:gW,total:mW,kakao:xW,naver:wW,basic:yW,paymentButton:vW};function bW(){const{reservationId:t}=Ls(),{state:e}=vr(),n=Wt(),[r,i]=H.useState(""),{exhibition:s={},date:a="",time:A="",people:{adults:u=0,teens:f=0,children:m=0}={},total:w=0,email:C="test@test.com",phone:B="010-1234-5678",name:E=""}=e||{},I=()=>n(`/reservation/${s.id}`),M=()=>{if(!r){alert("  .");return}alert(`${r}  .`);const Q={...e,payment:r};n(`/reservation/complete/${t}`,{state:Q})},R=()=>g.jsxs("div",{className:rs.userInfo,children:[g.jsx("h3",{children:" "}),g.jsxs("p",{children:[E," "]}),g.jsx("p",{children:C}),g.jsx("p",{children:B})]}),L=()=>g.jsxs("div",{className:rs.productBox,children:[g.jsx($t,{src:s.imageUrl,alt:" ",className:rs.productImage}),g.jsxs("div",{className:rs.productInfo,children:[g.jsx("h3",{children:s.title}),g.jsxs("p",{children:["-  : ",a]}),g.jsxs("p",{children:["-   : ",A]}),g.jsxs("p",{children:["-  :  ",u,",  ",f,",  ",m]}),g.jsxs("p",{children:["-  : ",w.toLocaleString(),""]})]})]}),U=()=>g.jsxs("div",{className:rs.discountInfo,children:[g.jsx("h3",{children:"   "}),g.jsx("p",{children:"1,000point "}),g.jsx("p",{children:" : 0"})]}),O=()=>g.jsxs("div",{className:rs.paymentInfo,children:[g.jsx("h3",{children:" "}),g.jsxs("p",{children:[" : ",w.toLocaleString(),""]}),g.jsx("p",{children:" : -1,000"}),g.jsxs("p",{className:rs.total,children:["  : ",(w-1e3).toLocaleString(),""]})]}),F=()=>{const Q={:"kakao",:"naver"," ":"basic"};return g.jsxs("div",{className:rs.paymentMethod,children:[g.jsx("h3",{children:" "}),Object.entries(Q).map(([D,j])=>g.jsxs("label",{children:[g.jsx("input",{type:"radio",name:"payment",value:D,onChange:V=>i(V.target.value)}),g.jsxs("span",{className:rs[j],children:[" ",D]})]},D))]})};return g.jsxs("div",{className:rs.layout,children:[g.jsxs("header",{className:rs.header,children:[g.jsx("button",{className:rs.backBtn,onClick:I,children:""}),g.jsx("span",{className:rs.title,children:"   "})]}),g.jsxs("div",{className:rs.orderSection,children:[R(),L()]}),U(),O(),F(),g.jsx("button",{className:rs.paymentButton,onClick:M,children:""})]})}const CW="_layout_dz2j9_1",BW="_newsListSection_dz2j9_61",ZS={layout:CW,newsListSection:BW},_W=[{label:"",key:"sort",options:[{label:"",value:"latest"},{label:"",value:"ending"}]},{label:"",key:"category",options:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]},{label:" ",key:"status",options:[{label:"",value:"ongoing"},{label:"",value:"scheduled"},{label:"",value:"ended"}]}],EW="_card_1ldzd_1",SW="_header_1ldzd_31",TW="_badge_1ldzd_45",IW="_title_1ldzd_99",NW="_info_1ldzd_121",OW="_period_1ldzd_131",MW="_organizer_1ldzd_133",Zo={card:EW,header:SW,badge:TW,:"__1ldzd_81",:"__1ldzd_91",title:IW,info:NW,period:OW,organizer:MW};function kW({newsItem:t}){const e=Wt(),{id:n,announcement_title:r,announcement_start_datetime:i,announcement_end_datetime:s,announcement_organizer:a,announcement_category:A,announcement_status:u}=t,f=C=>C==null?void 0:C.split(" ")[0].replace(/-/g,"."),m=C=>{switch(C){case"ongoing":return"";case"scheduled":return"";case"ended":return"";default:return""}},w=()=>{e(`/notices/${n}`)};return g.jsxs("div",{className:Zo.card,onClick:w,role:"button",tabIndex:0,children:[g.jsxs("div",{className:Zo.header,children:[g.jsx("span",{className:`${Zo.badge}`,children:A}),g.jsx("span",{className:`${Zo.badge} ${Zo[m(u)]}`,children:m(u)})]}),g.jsx("h3",{className:Zo.title,children:r}),g.jsxs("div",{className:Zo.info,children:[g.jsx("p",{className:Zo.period,children:`${f(i)} ~ ${f(s)}`}),g.jsx("p",{className:Zo.organizer,children:a})]})]})}function FW(){const[t,e]=H.useState([]),[n,r]=H.useState(!0),{currentPage:i,setCurrentPage:s,pageItems:a}=Hd(10,t),[A,u]=H.useState({category:"",status:"ongoing",sort:"latest",liked_only:0}),[f,m]=H.useState(""),w=B=>{m(B.target.value)},C=async()=>{try{r(!0);const B={...A,search:f},E=await $i.get("/api/announcements",{params:B});e(E.data)}catch(B){console.error("   :",B)}finally{r(!1)}};return H.useEffect(()=>{C()},[A]),g.jsxs("div",{className:ZS.layout,children:[g.jsx(rp,{title:"",placeholder:" ",onEvent:C,onSearch:w,value:f,isNews:!0}),g.jsx(ip,{filterList:_W,onSetFilter:u}),g.jsx(sp,{num:t.length,label:""}),n&&g.jsx(br,{}),!n&&t.length===0&&g.jsx("div",{children:"  ."}),g.jsx("section",{className:ZS.newsListSection,children:a.map(B=>g.jsx(kW,{newsItem:B},B.id))}),g.jsx(Qd,{currentPage:i,onPageChange:s,totalItems:t.length})]})}const DW="_noticeLayout_p2ihj_1",RW="_categorySpan_p2ihj_25",LW="_newsTitle_p2ihj_33",UW="_newsImage_p2ihj_41",QW="_contentsContainer_p2ihj_55",HW="_divider_p2ihj_73",jW="_contentParagraph_p2ihj_87",PW="_noticeText_p2ihj_99",zW="_backButton_p2ihj_115",oo={noticeLayout:DW,categorySpan:RW,newsTitle:LW,newsImage:UW,contentsContainer:QW,divider:HW,contentParagraph:jW,noticeText:PW,backButton:zW},VW="_info_pjhlh_1",KW="_label_pjhlh_41",$u={info:VW,label:KW};function GW({startDate:t,host:e,contact:n,apply:r,attachment:i,site:s}){return g.jsxs("div",{className:$u.info,children:[g.jsxs("p",{children:[g.jsx("strong",{className:$u.label,children:" "})," ",t]}),g.jsxs("p",{children:[g.jsx("strong",{className:$u.label,children:" "})," ",e]}),g.jsxs("p",{children:[g.jsx("strong",{className:$u.label,children:" "})," ",n]}),g.jsxs("p",{children:[g.jsx("strong",{className:$u.label,children:" "})," ",r]}),s&&g.jsxs("p",{children:[g.jsx("strong",{className:$u.label,children:" "})," ",g.jsx("a",{href:s,target:"_blank",rel:"noreferrer",children:s})]}),i&&g.jsxs("p",{children:[g.jsx("strong",{children:":"})," ",g.jsx("a",{href:i.url,target:"_blank",rel:"noreferrer",children:i.name})]})]})}function $W(){const{noticeId:t}=Ls(),[e,n]=H.useState({}),r=async()=>{try{const L=await $i.get(`/api/announcements/${t}`);n(L.data)}catch(L){throw new Error(L)}};if(H.useEffect(()=>{r()},[]),!e)return g.jsx("p",{children:"   ."});const{announcement_title:i,announcement_poster:s,announcement_start_datetime:a,announcement_end_datetime:A,announcement_organizer:u,announcement_contact:f,announcement_support_detail:m,announcement_attachment_url:w,announcement_site_url:C,announcement_content:B,announcement_category:E,created_at:I,views:M}=e,R=(L,U)=>{const O=F=>F==null?void 0:F.split(" ")[0];return`${O(L)} ~ ${O(U)}`};return g.jsxs("section",{className:oo.noticeLayout,children:[g.jsx("span",{className:oo.categorySpan,children:E}),g.jsx("h1",{className:oo.newsTitle,children:i}),g.jsx("hr",{className:oo.divider}),g.jsxs("div",{className:oo.contentsContainer,children:[g.jsx($t,{className:oo.newsImage,src:s,alt:`${i}  `}),g.jsx(GW,{startDate:R(a,A),host:u,contact:f,apply:m,attachment:w,site:C,createdAt:I,views:M}),g.jsx("p",{className:oo.contentParagraph,children:B}),g.jsx("hr",{className:oo.divider}),g.jsx("p",{className:oo.noticeText,children:"*         ."}),g.jsx(yr,{className:oo.backButton,to:"/notices",children:" "})]})]})}const WW="_layout_1wyjx_1",XW="_mainContent_1wyjx_17",qW="_title_1wyjx_43",YW="_infoImage_1wyjx_69",ZW="_textContainer_1wyjx_85",JW="_textBox_1wyjx_95",eX="_text_1wyjx_85",hc={layout:WW,mainContent:XW,title:qW,infoImage:YW,textContainer:ZW,textBox:JW,text:eX},tX="_sectionContainer_pxf52_1",nX="_controlsContainer_pxf52_21",rX="_speedContainer_pxf52_39",iX="_speedButton_pxf52_77",sX="_clickedSpeedButton_pxf52_117",aX="_buttonField_pxf52_129",oX="_optionSpan_pxf52_149",lX="_optionButton_pxf52_161",Ha={sectionContainer:tX,controlsContainer:nX,speedContainer:rX,speedButton:iX,clickedSpeedButton:sX,buttonField:aX,optionSpan:oX,optionButton:lX},AX="_audioPlayerWrapper_kigvn_1",cX="_audioPlayer_kigvn_1",uX="_videoPlayer_kigvn_43",dX="_placeholder_kigvn_61",Wg={audioPlayerWrapper:AX,audioPlayer:cX,videoPlayer:uX,placeholder:dX};function fX({artwork:t,playbackRate:e}){const n=H.useRef(null),[r,i]=H.useState(!1),s="https://artly.soundgram.co.kr",a=!!(t!=null&&t.docent_audio_path),A=!!(t!=null&&t.docent_video_path),u=a&&!A,f=a||A;return H.useEffect(()=>{i(!1),n.current&&(n.current.pause(),n.current.currentTime=0)},[t]),H.useEffect(()=>{n.current&&(n.current.playbackRate=e)},[e]),g.jsx("div",{className:Wg.audioPlayerWrapper,children:f?u?g.jsx("audio",{ref:n,className:Wg.audioPlayer,controls:!0,preload:"metadata",src:`${s}/media/${t.docent_audio_path}`,onCanPlayThrough:()=>i(!0)}):g.jsx("video",{className:Wg.videoPlayer,controls:!0,src:`${s}/media/${t.docent_video_path}`}):g.jsx("div",{className:Wg.placeholder,children:"   ."})})}function hX({artwork:t}){const[e,n]=H.useState(1),{isOpen:r,handleOpenModal:i}=D5(),s=[.5,1,1.25,1.5,2],{showAlert:a}=Kn();return g.jsxs("section",{className:Ha.sectionContainer,children:[g.jsx(fX,{artwork:t,playbackRate:e}),g.jsxs("div",{className:Ha.controlsContainer,children:[r&&g.jsx("div",{className:Ha.speedContainer,children:s.map(A=>g.jsxs("button",{className:`${Ha.speedButton} ${A===e&&Ha.clickedSpeedButton}`,onClick:()=>{n(A),i()},children:[A,"x"]},A))}),g.jsxs("div",{className:Ha.buttonField,children:[g.jsx("span",{className:Ha.optionSpan,children:""}),g.jsxs("button",{className:Ha.optionButton,onClick:i,children:[e,"x"]})]}),g.jsxs("div",{className:Ha.buttonField,children:[g.jsx("span",{className:Ha.optionSpan,children:" "}),g.jsx("button",{className:Ha.optionButton,onClick:()=>{a("     .")},children:""})]})]})]})}const pX=(t,e=300)=>Array.from({length:Math.ceil((t==null?void 0:t.length)/e)},(n,r)=>t.slice(r*e,(r+1)*e));function gX(){const[t,e]=H.useState({}),{art_image:n,art_title:r,art_description:i,art_docent:s,artist_name:a}=t,{artId:A}=Ls(),{showAlert:u}=Kn();return pX(s),H.useEffect(()=>{(async()=>{try{const m=await $i.get(`/api/arts/${A}`);e(m.data)}catch(m){console.error(m),u("    .")}})()},[]),g.jsxs("main",{className:hc.layout,children:[g.jsx("h2",{className:hc.title,children:r}),g.jsxs("section",{className:hc.mainContent,children:[g.jsx($t,{src:n,alt:`${r} `,className:hc.infoImage}),g.jsx("div",{className:hc.textContainer,children:g.jsxs("div",{className:hc.textBox,children:[g.jsx("strong",{children:""}),g.jsx("span",{className:hc.text,children:a})]})}),g.jsx(hX,{artwork:t})]})]})}const mX="_layout_1opcn_1",xX="_gridContainer_1opcn_19",wX="_nonDataText_1opcn_43",Uy={layout:mX,gridContainer:xX,nonDataText:wX},yX="_layout_l90xy_1",vX="_artworkImage_l90xy_27",bX="_artworkTitle_l90xy_43",CX="_subParagraph_l90xy_63",Xg={layout:yX,artworkImage:vX,artworkTitle:bX,subParagraph:CX};function BX({artworkItems:t}){const{id:e,art_image:n,art_title:r,art_description:i}=t,s=i?i.replace(/(<([^>]+)>)/gi,""):" ";return g.jsxs(yr,{className:Xg.layout,to:`/artworks/${e}`,children:[g.jsx($t,{className:Xg.artworkImage,src:n,alt:" "}),g.jsx("h3",{className:Xg.artworkTitle,children:r}),g.jsx("p",{className:Xg.subParagraph,children:s})]})}function _X(){const[t,e]=H.useState([]),[n,r]=H.useState(!0),{currentPage:i,setCurrentPage:s,pageItems:a}=Hd(10,t),[A,u]=H.useState({type:""});return H.useEffect(()=>{(async()=>{try{r(!0);const m=await $i.get("/api/arts");e(m.data)}catch(m){throw new Error(m)}finally{r(!1)}})()},[A]),g.jsxs("div",{className:Uy.layout,children:[g.jsx(rp,{title:"",isArtworks:!0}),g.jsx(sp,{num:t.length,label:""}),n&&g.jsx(br,{}),!n&&t.length===0&&g.jsx("div",{className:Uy.nonDataText,children:"  ."}),g.jsx("div",{className:Uy.gridContainer,children:a.map(f=>g.jsx(BX,{artworkItems:f},f.id))}),t.length>0&&g.jsx(Qd,{currentPage:i,onPageChange:s,totalItems:t.length})]})}const EX="_catalogLayout_1rr2f_1",SX="_bodyContainer_1rr2f_19",TX="_overlay_1rr2f_33",Qy={catalogLayout:EX,bodyContainer:SX,overlay:TX},IX="_titleBar_1jvc1_1",NX="_leftButtons_1jvc1_23",OX="_rightButtons_1jvc1_25",MX="_title_1jvc1_1",kX="_button_1jvc1_45",Wu={titleBar:IX,leftButtons:NX,rightButtons:OX,title:MX,button:kX};function FX({onToggleIndex:t}){const e=Wt(),n=()=>{e("/mypage")};return g.jsxs("div",{className:Wu.titleBar,children:[g.jsx("div",{className:Wu.leftButtons,children:g.jsx("button",{className:Wu.button,onClick:t,children:" "})}),g.jsx("h1",{className:Wu.title,children:""}),g.jsx("div",{className:Wu.rightButtons,children:g.jsx("button",{className:Wu.button,onClick:n,children:" "})})]})}const DX="_indexContainer_zrf7c_1",RX="_menuList_zrf7c_37",LX="_active_zrf7c_71",UX="_closeButton_zrf7c_81",qg={indexContainer:DX,menuList:RX,active:LX,closeButton:UX},JS="/assets/mockCatalog-DwV1yhn-.png",Q5=[{id:"cover",title:"",image:JS,artist:"",info:"  / 198161cm",script:`
   20                
   20                
   20                
   20                
   20                
  `},{id:"prologue",title:"",image:JS,artist:"",info:"  / 150150cm",script:`
   20                
   20                
   20                
   20                
   20                
  `}];function QX({onSelect:t,currentIndex:e,sectionStarts:n,onClose:r}){const i=H.useRef();return H.useEffect(()=>{const s=A=>{i.current&&!i.current.contains(A.target)&&r()},a=A=>{A.key==="Escape"&&r()};return document.addEventListener("mousedown",s),document.addEventListener("keydown",a),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",a)}},[r]),g.jsxs("aside",{className:qg.indexContainer,ref:i,children:[g.jsx("button",{className:qg.closeButton,onClick:r,children:""}),g.jsx("ul",{className:qg.menuList,children:Q5.map((s,a)=>g.jsx("li",{className:a===e?qg.active:"",onClick:()=>t(n[a]),tabIndex:0,children:s.title},s.id))})]})}const HX="_container_c1nh1_1",jX="_page_c1nh1_23",PX="_image_c1nh1_41",zX="_title_c1nh1_55",VX="_meta_c1nh1_67",KX="_script_c1nh1_79",GX="_arrowLeft_c1nh1_89",$X="_arrowRight_c1nh1_91",WX="_pageCount_c1nh1_155",Jo={container:HX,page:jX,image:PX,title:zX,meta:VX,script:KX,arrowLeft:GX,arrowRight:$X,pageCount:WX};function XX({data:t,pageIndex:e,totalPages:n,onPrev:r,onNext:i,isFirst:s,isLast:a}){return g.jsxs("div",{className:Jo.container,children:[!s&&g.jsx("button",{onClick:r,className:Jo.arrowLeft,children:""}),!a&&g.jsx("button",{onClick:i,className:Jo.arrowRight,children:""}),g.jsxs("div",{className:Jo.page,children:[t.image&&g.jsx("img",{src:t.image,alt:t.title,className:Jo.image}),g.jsx("h2",{className:Jo.title,children:t.title}),g.jsxs("p",{className:Jo.meta,children:[t.artist,"  ",t.info]}),g.jsx("p",{className:Jo.script,children:t.script}),g.jsxs("p",{className:Jo.pageCount,children:[" ",e+1," / ",n]})]})]})}const qX=(t,e=200)=>{const n=t.replace(/\n/g,"").trim();return Array.from({length:Math.ceil(n.length/e)},(r,i)=>n.slice(i*e,(i+1)*e))};function YX(){const[t,e]=H.useState(!1),[n,r]=H.useState(0),{allPages:i,sectionStarts:s}=H.useMemo(()=>{const f=[],m=[];return Q5.forEach(w=>{const C=qX(w.script);m.push(f.length),C.forEach(B=>{f.push({...w,script:B})})}),{allPages:f,sectionStarts:m}},[]),a=()=>{r(f=>Math.max(0,f-1))},A=()=>{r(f=>Math.min(i.length-1,f+1))},u=H.useMemo(()=>s.reduce((f,m,w)=>n>=m?w:f,0),[n,s]);return g.jsxs("div",{className:Qy.catalogLayout,children:[g.jsx(FX,{onToggleIndex:()=>e(f=>!f)}),g.jsxs("div",{className:Qy.bodyContainer,children:[t&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:Qy.overlay}),g.jsx(QX,{onSelect:f=>r(f),onClose:()=>e(!1),currentIndex:u,sectionStarts:s})]}),g.jsx(XX,{data:i[n],pageIndex:n,totalPages:i.length,onPrev:a,onNext:A,isFirst:n===0,isLast:n===i.length-1})]})]})}var ht;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ht||(ht={}));var e4=new Map([[ht.QR_CODE,"QR_CODE"],[ht.AZTEC,"AZTEC"],[ht.CODABAR,"CODABAR"],[ht.CODE_39,"CODE_39"],[ht.CODE_93,"CODE_93"],[ht.CODE_128,"CODE_128"],[ht.DATA_MATRIX,"DATA_MATRIX"],[ht.MAXICODE,"MAXICODE"],[ht.ITF,"ITF"],[ht.EAN_13,"EAN_13"],[ht.EAN_8,"EAN_8"],[ht.PDF_417,"PDF_417"],[ht.RSS_14,"RSS_14"],[ht.RSS_EXPANDED,"RSS_EXPANDED"],[ht.UPC_A,"UPC_A"],[ht.UPC_E,"UPC_E"],[ht.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),t4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(t4||(t4={}));function ZX(t){return Object.values(ht).includes(t)}var cm;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(cm||(cm={}));var JX=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[cm.SCAN_TYPE_CAMERA,cm.SCAN_TYPE_FILE],t})(),H5=(function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!e4.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,e4.get(e))},t})(),n4=(function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),_v;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(_v||(_v={}));var eq=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:_v.UNKWOWN_ERROR}},t})(),tq=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function Al(t){return typeof t>"u"||t===null}var xd=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),j5=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),a=Object.keys(e),A=0,u=a;A<u.length;A++){var f=u[A];if(s.has(f))return n.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},t})(),eh={exports:{}},nq=eh.exports,r4;function rq(){return r4||(r4=1,(function(t,e){(function(n,r){r(e)})(nq,(function(n){function r(K){return K==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,l){K.__proto__=l}||function(K,l){for(var d in l)l.hasOwnProperty(d)&&(K[d]=l[d])};function s(K,l){i(K,l);function d(){this.constructor=K}K.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}function a(K,l){var d=Object.setPrototypeOf;d?d(K,l):K.__proto__=l}function A(K,l){l===void 0&&(l=K.constructor);var d=Error.captureStackTrace;d&&d(K,l)}var u=(function(K){s(l,K);function l(d){var h=this.constructor,x=K.call(this,d)||this;return Object.defineProperty(x,"name",{value:h.name,enumerable:!1}),a(x,h.prototype),A(x),x}return l})(Error);class f extends u{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}f.kind="Exception";class m extends f{}m.kind="ArgumentException";class w extends f{}w.kind="IllegalArgumentException";class C{constructor(l){if(this.binarizer=l,l===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,d){return this.binarizer.getBlackRow(l,d)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,d,h,x){const y=this.binarizer.getLuminanceSource().crop(l,d,h,x);return new C(this.binarizer.createBinarizer(y))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class B extends f{static getChecksumInstance(){return new B}}B.kind="ChecksumException";class E{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(l,d,h,x,y){for(;y--;)h[x++]=l[d++]}static currentTimeMillis(){return Date.now()}}class M extends f{}M.kind="IndexOutOfBoundsException";class R extends M{constructor(l=void 0,d=void 0){super(d),this.index=l,this.message=d}}R.kind="ArrayIndexOutOfBoundsException";class L{static fill(l,d){for(let h=0,x=l.length;h<x;h++)l[h]=d}static fillWithin(l,d,h,x){L.rangeCheck(l.length,d,h);for(let y=d;y<h;y++)l[y]=x}static rangeCheck(l,d,h){if(d>h)throw new w("fromIndex("+d+") > toIndex("+h+")");if(d<0)throw new R(d);if(h>l)throw new R(h)}static asList(...l){return l}static create(l,d,h){return Array.from({length:l}).map(y=>Array.from({length:d}).fill(h))}static createInt32Array(l,d,h){return Array.from({length:l}).map(y=>Int32Array.from({length:d}).fill(h))}static equals(l,d){if(!l||!d||!l.length||!d.length||l.length!==d.length)return!1;for(let h=0,x=l.length;h<x;h++)if(l[h]!==d[h])return!1;return!0}static hashCode(l){if(l===null)return 0;let d=1;for(const h of l)d=31*d+h;return d}static fillUint8Array(l,d){for(let h=0;h!==l.length;h++)l[h]=d}static copyOf(l,d){return l.slice(0,d)}static copyOfUint8Array(l,d){if(l.length<=d){const h=new Uint8Array(d);return h.set(l),h}return l.slice(0,d)}static copyOfRange(l,d,h){const x=h-d,y=new Int32Array(x);return I.arraycopy(l,d,y,0,x),y}static binarySearch(l,d,h){h===void 0&&(h=L.numberComparator);let x=0,y=l.length-1;for(;x<=y;){const b=y+x>>1,_=h(d,l[b]);if(_>0)x=b+1;else if(_<0)y=b-1;else return b}return-x-1}static numberComparator(l,d){return l-d}}class U{static numberOfTrailingZeros(l){let d;if(l===0)return 32;let h=31;return d=l<<16,d!==0&&(h-=16,l=d),d=l<<8,d!==0&&(h-=8,l=d),d=l<<4,d!==0&&(h-=4,l=d),d=l<<2,d!==0&&(h-=2,l=d),h-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let d=1;return l>>>16||(d+=16,l<<=16),l>>>24||(d+=8,l<<=8),l>>>28||(d+=4,l<<=4),l>>>30||(d+=2,l<<=2),d-=l>>>31,d}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,d){return Math.trunc(l/d)}static parseInt(l,d=void 0){return parseInt(l,d)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class O{constructor(l,d){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,d==null?this.bits=O.makeArray(l):this.bits=d)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const d=O.makeArray(l);I.arraycopy(this.bits,0,d,0,this.bits.length),this.bits=d}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const d=this.size;if(l>=d)return d;const h=this.bits;let x=Math.floor(l/32),y=h[x];y&=~((1<<(l&31))-1);const b=h.length;for(;y===0;){if(++x===b)return d;y=h[x]}const _=x*32+U.numberOfTrailingZeros(y);return _>d?d:_}getNextUnset(l){const d=this.size;if(l>=d)return d;const h=this.bits;let x=Math.floor(l/32),y=~h[x];y&=~((1<<(l&31))-1);const b=h.length;for(;y===0;){if(++x===b)return d;y=~h[x]}const _=x*32+U.numberOfTrailingZeros(y);return _>d?d:_}setBulk(l,d){this.bits[Math.floor(l/32)]=d}setRange(l,d){if(d<l||l<0||d>this.size)throw new w;if(d===l)return;d--;const h=Math.floor(l/32),x=Math.floor(d/32),y=this.bits;for(let b=h;b<=x;b++){const _=b>h?0:l&31,k=(2<<(b<x?31:d&31))-(1<<_);y[b]|=k}}clear(){const l=this.bits.length,d=this.bits;for(let h=0;h<l;h++)d[h]=0}isRange(l,d,h){if(d<l||l<0||d>this.size)throw new w;if(d===l)return!0;d--;const x=Math.floor(l/32),y=Math.floor(d/32),b=this.bits;for(let _=x;_<=y;_++){const T=_>x?0:l&31,P=(2<<(_<y?31:d&31))-(1<<T)&4294967295;if((b[_]&P)!==(h?P:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,d){if(d<0||d>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+d);for(let h=d;h>0;h--)this.appendBit((l>>h-1&1)===1)}appendBitArray(l){const d=l.size;this.ensureCapacity(this.size+d);for(let h=0;h<d;h++)this.appendBit(l.get(h))}xor(l){if(this.size!==l.size)throw new w("Sizes don't match");const d=this.bits;for(let h=0,x=d.length;h<x;h++)d[h]^=l.bits[h]}toBytes(l,d,h,x){for(let y=0;y<x;y++){let b=0;for(let _=0;_<8;_++)this.get(l)&&(b|=1<<7-_),l++;d[h+y]=b}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),d=Math.floor((this.size-1)/32),h=d+1,x=this.bits;for(let y=0;y<h;y++){let b=x[y];b=b>>1&1431655765|(b&1431655765)<<1,b=b>>2&858993459|(b&858993459)<<2,b=b>>4&252645135|(b&252645135)<<4,b=b>>8&16711935|(b&16711935)<<8,b=b>>16&65535|(b&65535)<<16,l[d-y]=b}if(this.size!==h*32){const y=h*32-this.size;let b=l[0]>>>y;for(let _=1;_<h;_++){const T=l[_];b|=T<<32-y,l[_-1]=b,b=T>>>y}l[h-1]=b}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof O))return!1;const d=l;return this.size===d.size&&L.equals(this.bits,d.bits)}hashCode(){return 31*this.size+L.hashCode(this.bits)}toString(){let l="";for(let d=0,h=this.size;d<h;d++)(d&7)===0&&(l+=" "),l+=this.get(d)?"X":".";return l}clone(){return new O(this.size,this.bits.slice())}}var F;(function(K){K[K.OTHER=0]="OTHER",K[K.PURE_BARCODE=1]="PURE_BARCODE",K[K.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",K[K.TRY_HARDER=3]="TRY_HARDER",K[K.CHARACTER_SET=4]="CHARACTER_SET",K[K.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",K[K.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",K[K.ASSUME_GS1=7]="ASSUME_GS1",K[K.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",K[K.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",K[K.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(F||(F={}));var Q=F;class D extends f{static getFormatInstance(){return new D}}D.kind="FormatException";var j;(function(K){K[K.Cp437=0]="Cp437",K[K.ISO8859_1=1]="ISO8859_1",K[K.ISO8859_2=2]="ISO8859_2",K[K.ISO8859_3=3]="ISO8859_3",K[K.ISO8859_4=4]="ISO8859_4",K[K.ISO8859_5=5]="ISO8859_5",K[K.ISO8859_6=6]="ISO8859_6",K[K.ISO8859_7=7]="ISO8859_7",K[K.ISO8859_8=8]="ISO8859_8",K[K.ISO8859_9=9]="ISO8859_9",K[K.ISO8859_10=10]="ISO8859_10",K[K.ISO8859_11=11]="ISO8859_11",K[K.ISO8859_13=12]="ISO8859_13",K[K.ISO8859_14=13]="ISO8859_14",K[K.ISO8859_15=14]="ISO8859_15",K[K.ISO8859_16=15]="ISO8859_16",K[K.SJIS=16]="SJIS",K[K.Cp1250=17]="Cp1250",K[K.Cp1251=18]="Cp1251",K[K.Cp1252=19]="Cp1252",K[K.Cp1256=20]="Cp1256",K[K.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",K[K.UTF8=22]="UTF8",K[K.ASCII=23]="ASCII",K[K.Big5=24]="Big5",K[K.GB18030=25]="GB18030",K[K.EUC_KR=26]="EUC_KR"})(j||(j={}));class V{constructor(l,d,h,...x){this.valueIdentifier=l,this.name=h,typeof d=="number"?this.values=Int32Array.from([d]):this.values=d,this.otherEncodingNames=x,V.VALUE_IDENTIFIER_TO_ECI.set(l,this),V.NAME_TO_ECI.set(h,this);const y=this.values;for(let b=0,_=y.length;b!==_;b++){const T=y[b];V.VALUES_TO_ECI.set(T,this)}for(const b of x)V.NAME_TO_ECI.set(b,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new D("incorect value");const d=V.VALUES_TO_ECI.get(l);if(d===void 0)throw new D("incorect value");return d}static getCharacterSetECIByName(l){const d=V.NAME_TO_ECI.get(l);if(d===void 0)throw new D("incorect value");return d}equals(l){if(!(l instanceof V))return!1;const d=l;return this.getName()===d.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(j.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(j.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(j.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(j.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(j.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(j.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(j.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(j.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(j.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(j.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(j.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(j.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(j.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(j.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(j.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(j.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(j.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(j.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(j.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(j.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(j.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(j.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(j.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(j.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(j.Big5,28,"Big5"),V.GB18030=new V(j.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(j.EUC_KR,30,"EUC_KR","EUC-KR");class W extends f{}W.kind="UnsupportedOperationException";class Y{static decode(l,d){const h=this.encodingName(d);return this.customDecoder?this.customDecoder(l,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(l,h):new TextDecoder(h).decode(l)}static shouldDecodeOnFallback(l){return!Y.isBrowser()&&l==="ISO-8859-1"}static encode(l,d){const h=this.encodingName(d);return this.customEncoder?this.customEncoder(l,h):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof V?l:V.getCharacterSetECIByName(l)}static decodeFallback(l,d){const h=this.encodingCharacterSet(d);if(Y.isDecodeFallbackSupported(h)){let x="";for(let y=0,b=l.length;y<b;y++){let _=l[y].toString(16);_.length<2&&(_="0"+_),x+="%"+_}return decodeURIComponent(x)}if(h.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new W(`Encoding ${this.encodingName(d)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(V.UTF8)||l.equals(V.ISO8859_1)||l.equals(V.ASCII)}static encodeFallback(l){const h=btoa(unescape(encodeURIComponent(l))).split(""),x=[];for(let y=0;y<h.length;y++)x.push(h[y].charCodeAt(0));return new Uint8Array(x)}}class J{static castAsNonUtf8Char(l,d=null){const h=d?d.getName():this.ISO88591;return Y.decode(new Uint8Array([l]),h)}static guessEncoding(l,d){if(d!=null&&d.get(Q.CHARACTER_SET)!==void 0)return d.get(Q.CHARACTER_SET).toString();const h=l.length;let x=!0,y=!0,b=!0,_=0,T=0,k=0,P=0,G=0,$=0,ee=0,Ae=0,ce=0,ge=0,Te=0;const Ze=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let Ye=0;Ye<h&&(x||y||b);Ye++){const Ke=l[Ye]&255;b&&(_>0?(Ke&128)===0?b=!1:_--:(Ke&128)!==0&&((Ke&64)===0?b=!1:(_++,(Ke&32)===0?T++:(_++,(Ke&16)===0?k++:(_++,(Ke&8)===0?P++:b=!1))))),x&&(Ke>127&&Ke<160?x=!1:Ke>159&&(Ke<192||Ke===215||Ke===247)&&Te++),y&&(G>0?Ke<64||Ke===127||Ke>252?y=!1:G--:Ke===128||Ke===160||Ke>239?y=!1:Ke>160&&Ke<224?($++,Ae=0,ee++,ee>ce&&(ce=ee)):Ke>127?(G++,ee=0,Ae++,Ae>ge&&(ge=Ae)):(ee=0,Ae=0))}return b&&_>0&&(b=!1),y&&G>0&&(y=!1),b&&(Ze||T+k+P>0)?J.UTF8:y&&(J.ASSUME_SHIFT_JIS||ce>=3||ge>=3)?J.SHIFT_JIS:x&&y?ce===2&&$===2||Te*10>=h?J.SHIFT_JIS:J.ISO88591:x?J.ISO88591:y?J.SHIFT_JIS:b?J.UTF8:J.PLATFORM_DEFAULT_ENCODING}static format(l,...d){let h=-1;function x(b,_,T,k,P,G){if(b==="%%")return"%";if(d[++h]===void 0)return;b=k?parseInt(k.substr(1)):void 0;let $=P?parseInt(P.substr(1)):void 0,ee;switch(G){case"s":ee=d[h];break;case"c":ee=d[h][0];break;case"f":ee=parseFloat(d[h]).toFixed(b);break;case"p":ee=parseFloat(d[h]).toPrecision(b);break;case"e":ee=parseFloat(d[h]).toExponential(b);break;case"x":ee=parseInt(d[h]).toString($||16);break;case"d":ee=parseFloat(parseInt(d[h],$||10).toPrecision(b)).toFixed(0);break}ee=typeof ee=="object"?JSON.stringify(ee):(+ee).toString($);let Ae=parseInt(T),ce=T&&T[0]+""=="0"?"0":" ";for(;ee.length<Ae;)ee=_!==void 0?ee+ce:ce+ee;return ee}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(y,x)}static getBytes(l,d){return Y.encode(l,d)}static getCharCode(l,d=0){return l.charCodeAt(d)}static getCharAt(l){return String.fromCharCode(l)}}J.SHIFT_JIS=V.SJIS.getName(),J.GB2312="GB2312",J.ISO88591=V.ISO8859_1.getName(),J.EUC_JP="EUC_JP",J.UTF8=V.UTF8.getName(),J.PLATFORM_DEFAULT_ENCODING=J.UTF8,J.ASSUME_SHIFT_JIS=!1;class re{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=J.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,d,h){for(let x=d;d<d+h;x++)this.append(l[x]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,d){this.value=this.value.substr(0,l)+d+this.value.substr(l+1)}substring(l,d){return this.value.substring(l,d)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,d){this.value=this.value.substr(0,l)+d+this.value.substr(l+d.length)}}class te{constructor(l,d,h,x){if(this.width=l,this.height=d,this.rowSize=h,this.bits=x,d==null&&(d=l),this.height=d,l<1||d<1)throw new w("Both dimensions must be greater than 0");h==null&&(h=Math.floor((l+31)/32)),this.rowSize=h,x==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const d=l.length,h=l[0].length,x=new te(h,d);for(let y=0;y<d;y++){const b=l[y];for(let _=0;_<h;_++)b[_]&&x.set(_,y)}return x}static parseFromString(l,d,h){if(l===null)throw new w("stringRepresentation cannot be null");const x=new Array(l.length);let y=0,b=0,_=-1,T=0,k=0;for(;k<l.length;)if(l.charAt(k)===`
`||l.charAt(k)==="\r"){if(y>b){if(_===-1)_=y-b;else if(y-b!==_)throw new w("row lengths do not match");b=y,T++}k++}else if(l.substring(k,k+d.length)===d)k+=d.length,x[y]=!0,y++;else if(l.substring(k,k+h.length)===h)k+=h.length,x[y]=!1,y++;else throw new w("illegal character encountered: "+l.substring(k));if(y>b){if(_===-1)_=y-b;else if(y-b!==_)throw new w("row lengths do not match");T++}const P=new te(_,T);for(let G=0;G<y;G++)x[G]&&P.set(Math.floor(G%_),Math.floor(G/_));return P}get(l,d){const h=d*this.rowSize+Math.floor(l/32);return(this.bits[h]>>>(l&31)&1)!==0}set(l,d){const h=d*this.rowSize+Math.floor(l/32);this.bits[h]|=1<<(l&31)&4294967295}unset(l,d){const h=d*this.rowSize+Math.floor(l/32);this.bits[h]&=~(1<<(l&31)&4294967295)}flip(l,d){const h=d*this.rowSize+Math.floor(l/32);this.bits[h]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new w("input matrix dimensions do not match");const d=new O(Math.floor(this.width/32)+1),h=this.rowSize,x=this.bits;for(let y=0,b=this.height;y<b;y++){const _=y*h,T=l.getRow(y,d).getBitArray();for(let k=0;k<h;k++)x[_+k]^=T[k]}}clear(){const l=this.bits,d=l.length;for(let h=0;h<d;h++)l[h]=0}setRegion(l,d,h,x){if(d<0||l<0)throw new w("Left and top must be nonnegative");if(x<1||h<1)throw new w("Height and width must be at least 1");const y=l+h,b=d+x;if(b>this.height||y>this.width)throw new w("The region must fit inside the matrix");const _=this.rowSize,T=this.bits;for(let k=d;k<b;k++){const P=k*_;for(let G=l;G<y;G++)T[P+Math.floor(G/32)]|=1<<(G&31)&4294967295}}getRow(l,d){d==null||d.getSize()<this.width?d=new O(this.width):d.clear();const h=this.rowSize,x=this.bits,y=l*h;for(let b=0;b<h;b++)d.setBulk(b*32,x[y+b]);return d}setRow(l,d){I.arraycopy(d.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),d=this.getHeight();let h=new O(l),x=new O(l);for(let y=0,b=Math.floor((d+1)/2);y<b;y++)h=this.getRow(y,h),x=this.getRow(d-1-y,x),h.reverse(),x.reverse(),this.setRow(y,x),this.setRow(d-1-y,h)}getEnclosingRectangle(){const l=this.width,d=this.height,h=this.rowSize,x=this.bits;let y=l,b=d,_=-1,T=-1;for(let k=0;k<d;k++)for(let P=0;P<h;P++){const G=x[k*h+P];if(G!==0){if(k<b&&(b=k),k>T&&(T=k),P*32<y){let $=0;for(;(G<<31-$&4294967295)===0;)$++;P*32+$<y&&(y=P*32+$)}if(P*32+31>_){let $=31;for(;!(G>>>$);)$--;P*32+$>_&&(_=P*32+$)}}}return _<y||T<b?null:Int32Array.from([y,b,_-y+1,T-b+1])}getTopLeftOnBit(){const l=this.rowSize,d=this.bits;let h=0;for(;h<d.length&&d[h]===0;)h++;if(h===d.length)return null;const x=h/l;let y=h%l*32;const b=d[h];let _=0;for(;(b<<31-_&4294967295)===0;)_++;return y+=_,Int32Array.from([y,x])}getBottomRightOnBit(){const l=this.rowSize,d=this.bits;let h=d.length-1;for(;h>=0&&d[h]===0;)h--;if(h<0)return null;const x=Math.floor(h/l);let y=Math.floor(h%l)*32;const b=d[h];let _=31;for(;!(b>>>_);)_--;return y+=_,Int32Array.from([y,x])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof te))return!1;const d=l;return this.width===d.width&&this.height===d.height&&this.rowSize===d.rowSize&&L.equals(this.bits,d.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+L.hashCode(this.bits),l}toString(l="X ",d="  ",h=`
`){return this.buildToString(l,d,h)}buildToString(l,d,h){let x=new re;for(let y=0,b=this.height;y<b;y++){for(let _=0,T=this.width;_<T;_++)x.append(this.get(_,y)?l:d);x.append(h)}return x.toString()}clone(){return new te(this.width,this.height,this.rowSize,this.bits.slice())}}class q extends f{static getNotFoundInstance(){return new q}}q.kind="NotFoundException";class ie extends E{constructor(l){super(l),this.luminances=ie.EMPTY,this.buckets=new Int32Array(ie.LUMINANCE_BUCKETS)}getBlackRow(l,d){const h=this.getLuminanceSource(),x=h.getWidth();d==null||d.getSize()<x?d=new O(x):d.clear(),this.initArrays(x);const y=h.getRow(l,this.luminances),b=this.buckets;for(let T=0;T<x;T++)b[(y[T]&255)>>ie.LUMINANCE_SHIFT]++;const _=ie.estimateBlackPoint(b);if(x<3)for(let T=0;T<x;T++)(y[T]&255)<_&&d.set(T);else{let T=y[0]&255,k=y[1]&255;for(let P=1;P<x-1;P++){const G=y[P+1]&255;(k*4-T-G)/2<_&&d.set(P),T=k,k=G}}return d}getBlackMatrix(){const l=this.getLuminanceSource(),d=l.getWidth(),h=l.getHeight(),x=new te(d,h);this.initArrays(d);const y=this.buckets;for(let T=1;T<5;T++){const k=Math.floor(h*T/5),P=l.getRow(k,this.luminances),G=Math.floor(d*4/5);for(let $=Math.floor(d/5);$<G;$++){const ee=P[$]&255;y[ee>>ie.LUMINANCE_SHIFT]++}}const b=ie.estimateBlackPoint(y),_=l.getMatrix();for(let T=0;T<h;T++){const k=T*d;for(let P=0;P<d;P++)(_[k+P]&255)<b&&x.set(P,T)}return x}createBinarizer(l){return new ie(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const d=this.buckets;for(let h=0;h<ie.LUMINANCE_BUCKETS;h++)d[h]=0}static estimateBlackPoint(l){const d=l.length;let h=0,x=0,y=0;for(let P=0;P<d;P++)l[P]>y&&(x=P,y=l[P]),l[P]>h&&(h=l[P]);let b=0,_=0;for(let P=0;P<d;P++){const G=P-x,$=l[P]*G*G;$>_&&(b=P,_=$)}if(x>b){const P=x;x=b,b=P}if(b-x<=d/16)throw new q;let T=b-1,k=-1;for(let P=b-1;P>x;P--){const G=P-x,$=G*G*(b-P)*(h-l[P]);$>k&&(T=P,k=$)}return T<<ie.LUMINANCE_SHIFT}}ie.LUMINANCE_BITS=5,ie.LUMINANCE_SHIFT=8-ie.LUMINANCE_BITS,ie.LUMINANCE_BUCKETS=1<<ie.LUMINANCE_BITS,ie.EMPTY=Uint8ClampedArray.from([0]);class ae extends ie{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),d=l.getWidth(),h=l.getHeight();if(d>=ae.MINIMUM_DIMENSION&&h>=ae.MINIMUM_DIMENSION){const x=l.getMatrix();let y=d>>ae.BLOCK_SIZE_POWER;(d&ae.BLOCK_SIZE_MASK)!==0&&y++;let b=h>>ae.BLOCK_SIZE_POWER;(h&ae.BLOCK_SIZE_MASK)!==0&&b++;const _=ae.calculateBlackPoints(x,y,b,d,h),T=new te(d,h);ae.calculateThresholdForBlock(x,y,b,d,h,_,T),this.matrix=T}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new ae(l)}static calculateThresholdForBlock(l,d,h,x,y,b,_){const T=y-ae.BLOCK_SIZE,k=x-ae.BLOCK_SIZE;for(let P=0;P<h;P++){let G=P<<ae.BLOCK_SIZE_POWER;G>T&&(G=T);const $=ae.cap(P,2,h-3);for(let ee=0;ee<d;ee++){let Ae=ee<<ae.BLOCK_SIZE_POWER;Ae>k&&(Ae=k);const ce=ae.cap(ee,2,d-3);let ge=0;for(let Ze=-2;Ze<=2;Ze++){const Ye=b[$+Ze];ge+=Ye[ce-2]+Ye[ce-1]+Ye[ce]+Ye[ce+1]+Ye[ce+2]}const Te=ge/25;ae.thresholdBlock(l,Ae,G,Te,x,_)}}}static cap(l,d,h){return l<d?d:l>h?h:l}static thresholdBlock(l,d,h,x,y,b){for(let _=0,T=h*y+d;_<ae.BLOCK_SIZE;_++,T+=y)for(let k=0;k<ae.BLOCK_SIZE;k++)(l[T+k]&255)<=x&&b.set(d+k,h+_)}static calculateBlackPoints(l,d,h,x,y){const b=y-ae.BLOCK_SIZE,_=x-ae.BLOCK_SIZE,T=new Array(h);for(let k=0;k<h;k++){T[k]=new Int32Array(d);let P=k<<ae.BLOCK_SIZE_POWER;P>b&&(P=b);for(let G=0;G<d;G++){let $=G<<ae.BLOCK_SIZE_POWER;$>_&&($=_);let ee=0,Ae=255,ce=0;for(let Te=0,Ze=P*x+$;Te<ae.BLOCK_SIZE;Te++,Ze+=x){for(let Ye=0;Ye<ae.BLOCK_SIZE;Ye++){const Ke=l[Ze+Ye]&255;ee+=Ke,Ke<Ae&&(Ae=Ke),Ke>ce&&(ce=Ke)}if(ce-Ae>ae.MIN_DYNAMIC_RANGE)for(Te++,Ze+=x;Te<ae.BLOCK_SIZE;Te++,Ze+=x)for(let Ye=0;Ye<ae.BLOCK_SIZE;Ye++)ee+=l[Ze+Ye]&255}let ge=ee>>ae.BLOCK_SIZE_POWER*2;if(ce-Ae<=ae.MIN_DYNAMIC_RANGE&&(ge=Ae/2,k>0&&G>0)){const Te=(T[k-1][G]+2*T[k][G-1]+T[k-1][G-1])/4;Ae<Te&&(ge=Te)}T[k][G]=ge}}return T}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=ae.BLOCK_SIZE*5,ae.MIN_DYNAMIC_RANGE=24;class se{constructor(l,d){this.width=l,this.height=d}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,d,h,x){throw new W("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new W("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new W("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let d=new re;for(let h=0;h<this.height;h++){const x=this.getRow(h,l);for(let y=0;y<this.width;y++){const b=x[y]&255;let _;b<64?_="#":b<128?_="+":b<192?_=".":_=" ",d.append(_)}d.append(`
`)}return d.toString()}}class me extends se{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,d){const h=this.delegate.getRow(l,d),x=this.getWidth();for(let y=0;y<x;y++)h[y]=255-(h[y]&255);return h}getMatrix(){const l=this.delegate.getMatrix(),d=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(d);for(let x=0;x<d;x++)h[x]=255-(l[x]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(l,d,h,x){return new me(this.delegate.crop(l,d,h,x))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new me(this.delegate.rotateCounterClockwise45())}}class ke extends se{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=ke.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const d=l.getContext("2d").getImageData(0,0,l.width,l.height);return ke.toGrayscaleBuffer(d.data,l.width,l.height)}static toGrayscaleBuffer(l,d,h){const x=new Uint8ClampedArray(d*h);for(let y=0,b=0,_=l.length;y<_;y+=4,b++){let T;if(l[y+3]===0)T=255;else{const P=l[y],G=l[y+1],$=l[y+2];T=306*P+601*G+117*$+512>>10}x[b]=T}return x}getRow(l,d){if(l<0||l>=this.getHeight())throw new w("Requested row is outside the image: "+l);const h=this.getWidth(),x=l*h;return d===null?d=this.buffer.slice(x,x+h):(d.length<h&&(d=new Uint8ClampedArray(h)),d.set(this.buffer.slice(x,x+h))),d}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,d,h,x){return super.crop(l,d,h,x),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const d=this.getTempCanvasElement(),h=d.getContext("2d"),x=l*ke.DEGREE_TO_RADIANS,y=this.canvas.width,b=this.canvas.height,_=Math.ceil(Math.abs(Math.cos(x))*y+Math.abs(Math.sin(x))*b),T=Math.ceil(Math.abs(Math.sin(x))*y+Math.abs(Math.cos(x))*b);return d.width=_,d.height=T,h.translate(_/2,T/2),h.rotate(x),h.drawImage(this.canvas,y/-2,b/-2),this.buffer=ke.makeBufferFromCanvasImageData(d),this}invert(){return new me(this)}}ke.DEGREE_TO_RADIANS=Math.PI/180;class ne{constructor(l,d,h){this.deviceId=l,this.label=d,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var he=(globalThis||Tg||self||window||void 0)&&(globalThis||Tg||self||window||void 0).__awaiter||function(K,l,d,h){function x(y){return y instanceof d?y:new d(function(b){b(y)})}return new(d||(d=Promise))(function(y,b){function _(P){try{k(h.next(P))}catch(G){b(G)}}function T(P){try{k(h.throw(P))}catch(G){b(G)}}function k(P){P.done?y(P.value):x(P.value).then(_,T)}k((h=h.apply(K,l||[])).next())})};class Ne{constructor(l,d=500,h){this.reader=l,this.timeBetweenScansMillis=d,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return he(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),d=[];for(const h of l){const x=h.kind==="video"?"videoinput":h.kind;if(x!=="videoinput")continue;const y=h.deviceId||h.id,b=h.label||`Video device ${d.length+1}`,_=h.groupId,T={deviceId:y,label:b,kind:x,groupId:_};d.push(T)}return d})}getVideoInputDevices(){return he(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(d=>new ne(d.deviceId,d.label))})}findDeviceById(l){return he(this,void 0,void 0,function*(){const d=yield this.listVideoInputDevices();return d?d.find(h=>h.deviceId===l):null})}decodeFromInputVideoDevice(l,d){return he(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,d)})}decodeOnceFromVideoDevice(l,d){return he(this,void 0,void 0,function*(){this.reset();let h;l?h={deviceId:{exact:l}}:h={facingMode:"environment"};const x={video:h};return yield this.decodeOnceFromConstraints(x,d)})}decodeOnceFromConstraints(l,d){return he(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(h,d)})}decodeOnceFromStream(l,d){return he(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(l,d);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(l,d,h){return he(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,d,h)})}decodeFromVideoDevice(l,d,h){return he(this,void 0,void 0,function*(){let x;l?x={deviceId:{exact:l}}:x={facingMode:"environment"};const y={video:x};return yield this.decodeFromConstraints(y,d,h)})}decodeFromConstraints(l,d,h){return he(this,void 0,void 0,function*(){const x=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(x,d,h)})}decodeFromStream(l,d,h){return he(this,void 0,void 0,function*(){this.reset();const x=yield this.attachStreamToVideo(l,d);return yield this.decodeContinuously(x,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,d){return he(this,void 0,void 0,function*(){const h=this.prepareVideoElement(d);return this.addVideoSource(h,l),this.videoElement=h,this.stream=l,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(l){return new Promise((d,h)=>this.playVideoOnLoad(l,()=>d()))}playVideoOnLoad(l,d){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",d),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return he(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,d){const h=document.getElementById(l);if(!h)throw new m(`element with id '${l}' not found`);if(h.nodeName.toLowerCase()!==d.toLowerCase())throw new m(`element with id '${l}' must be an ${d} element`);return h}decodeFromImage(l,d){if(!l&&!d)throw new m("either imageElement with a src set or an url must be provided");return d&&!l?this.decodeFromImageUrl(d):this.decodeFromImageElement(l)}decodeFromVideo(l,d){if(!l&&!d)throw new m("Either an element with a src set or an URL must be provided");return d&&!l?this.decodeFromVideoUrl(d):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,d,h){if(l===void 0&&d===void 0)throw new m("Either an element with a src set or an URL must be provided");return d&&!l?this.decodeFromVideoUrlContinuously(d,h):this.decodeFromVideoElementContinuously(l,h)}decodeFromImageElement(l){if(!l)throw new m("An image element must be provided.");this.reset();const d=this.prepareImageElement(l);this.imageElement=d;let h;return this.isImageLoaded(d)?h=this.decodeOnce(d,!1,!0):h=this._decodeOnLoadImage(d),h}decodeFromVideoElement(l){const d=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(d)}decodeFromVideoElementContinuously(l,d){const h=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(h,d)}_decodeFromVideoElementSetup(l){if(!l)throw new m("A video element must be provided.");this.reset();const d=this.prepareVideoElement(l);return this.videoElement=d,d}decodeFromImageUrl(l){if(!l)throw new m("An URL must be provided.");this.reset();const d=this.prepareImageElement();this.imageElement=d;const h=this._decodeOnLoadImage(d);return d.src=l,h}decodeFromVideoUrl(l){if(!l)throw new m("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),h=this.decodeFromVideoElement(d);return d.src=l,h}decodeFromVideoUrlContinuously(l,d){if(!l)throw new m("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),x=this.decodeFromVideoElementContinuously(h,d);return h.src=l,x}_decodeOnLoadImage(l){return new Promise((d,h)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(d,h),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return he(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,d){return he(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,d)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let d;return typeof l>"u"&&(d=document.createElement("img"),d.width=200,d.height=200),typeof l=="string"&&(d=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(d=l),d}prepareVideoElement(l){let d;return!l&&typeof document<"u"&&(d=document.createElement("video"),d.width=200,d.height=200),typeof l=="string"&&(d=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(d=l),d.setAttribute("autoplay","true"),d.setAttribute("muted","true"),d.setAttribute("playsinline","true"),d}decodeOnce(l,d=!0,h=!0){this._stopAsyncDecode=!1;const x=(y,b)=>{if(this._stopAsyncDecode){b(new q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const _=this.decode(l);y(_)}catch(_){const T=d&&_ instanceof q,P=(_ instanceof B||_ instanceof D)&&h;if(T||P)return setTimeout(x,this._timeBetweenDecodingAttempts,y,b);b(_)}};return new Promise((y,b)=>x(y,b))}decodeContinuously(l,d){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const x=this.decode(l);d(x,null),setTimeout(h,this.timeBetweenScansMillis)}catch(x){d(null,x);const y=x instanceof B||x instanceof D,b=x instanceof q;(y||b)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(l){const d=this.createBinaryBitmap(l);return this.decodeBitmap(d)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,d,h){d||(d={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(l,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}drawImageOnCanvas(l,d,h=this.captureCanvasContext){d||(d={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(l,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const d=this.getCaptureCanvas(l),h=new ke(d),x=new ae(h);return new C(x)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const d=this.createCaptureCanvas(l);this.captureCanvas=d}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const d=document.createElement("canvas");let h,x;return typeof l<"u"&&(l instanceof HTMLVideoElement?(h=l.videoWidth,x=l.videoHeight):l instanceof HTMLImageElement&&(h=l.naturalWidth||l.width,x=l.naturalHeight||l.height)),d.style.width=h+"px",d.style.height=x+"px",d.width=h,d.height=x,d}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,d){try{l.srcObject=d}catch{l.src=URL.createObjectURL(d)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class ye{constructor(l,d,h=d==null?0:8*d.length,x,y,b=I.currentTimeMillis()){this.text=l,this.rawBytes=d,this.numBits=h,this.resultPoints=x,this.format=y,this.timestamp=b,this.text=l,this.rawBytes=d,h==null?this.numBits=d==null?0:8*d.length:this.numBits=h,this.resultPoints=x,this.format=y,this.resultMetadata=null,b==null?this.timestamp=I.currentTimeMillis():this.timestamp=b}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,d){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,d)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const d=this.resultPoints;if(d===null)this.resultPoints=l;else if(l!==null&&l.length>0){const h=new Array(d.length+l.length);I.arraycopy(d,0,h,0,d.length),I.arraycopy(l,0,h,d.length,l.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ge;(function(K){K[K.AZTEC=0]="AZTEC",K[K.CODABAR=1]="CODABAR",K[K.CODE_39=2]="CODE_39",K[K.CODE_93=3]="CODE_93",K[K.CODE_128=4]="CODE_128",K[K.DATA_MATRIX=5]="DATA_MATRIX",K[K.EAN_8=6]="EAN_8",K[K.EAN_13=7]="EAN_13",K[K.ITF=8]="ITF",K[K.MAXICODE=9]="MAXICODE",K[K.PDF_417=10]="PDF_417",K[K.QR_CODE=11]="QR_CODE",K[K.RSS_14=12]="RSS_14",K[K.RSS_EXPANDED=13]="RSS_EXPANDED",K[K.UPC_A=14]="UPC_A",K[K.UPC_E=15]="UPC_E",K[K.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ge||(Ge={}));var De=Ge,et;(function(K){K[K.OTHER=0]="OTHER",K[K.ORIENTATION=1]="ORIENTATION",K[K.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",K[K.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",K[K.ISSUE_NUMBER=4]="ISSUE_NUMBER",K[K.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",K[K.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",K[K.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",K[K.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",K[K.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",K[K.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(et||(et={}));var qe=et;class vt{constructor(l,d,h,x,y=-1,b=-1){this.rawBytes=l,this.text=d,this.byteSegments=h,this.ecLevel=x,this.structuredAppendSequenceNumber=y,this.structuredAppendParity=b,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Qt{exp(l){return this.expTable[l]}log(l){if(l===0)throw new w;return this.logTable[l]}static addOrSubtract(l,d){return l^d}}class pt{constructor(l,d){if(d.length===0)throw new w;this.field=l;const h=d.length;if(h>1&&d[0]===0){let x=1;for(;x<h&&d[x]===0;)x++;x===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-x),I.arraycopy(d,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const d=this.coefficients;let h;if(l===1){h=0;for(let b=0,_=d.length;b!==_;b++){const T=d[b];h=Qt.addOrSubtract(h,T)}return h}h=d[0];const x=d.length,y=this.field;for(let b=1;b<x;b++)h=Qt.addOrSubtract(y.multiply(l,h),d[b]);return h}addOrSubtract(l){if(!this.field.equals(l.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let d=this.coefficients,h=l.coefficients;if(d.length>h.length){const b=d;d=h,h=b}let x=new Int32Array(h.length);const y=h.length-d.length;I.arraycopy(h,0,x,0,y);for(let b=y;b<h.length;b++)x[b]=Qt.addOrSubtract(d[b-y],h[b]);return new pt(this.field,x)}multiply(l){if(!this.field.equals(l.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const d=this.coefficients,h=d.length,x=l.coefficients,y=x.length,b=new Int32Array(h+y-1),_=this.field;for(let T=0;T<h;T++){const k=d[T];for(let P=0;P<y;P++)b[T+P]=Qt.addOrSubtract(b[T+P],_.multiply(k,x[P]))}return new pt(_,b)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const d=this.coefficients.length,h=this.field,x=new Int32Array(d),y=this.coefficients;for(let b=0;b<d;b++)x[b]=h.multiply(y[b],l);return new pt(h,x)}multiplyByMonomial(l,d){if(l<0)throw new w;if(d===0)return this.field.getZero();const h=this.coefficients,x=h.length,y=new Int32Array(x+l),b=this.field;for(let _=0;_<x;_++)y[_]=b.multiply(h[_],d);return new pt(b,y)}divide(l){if(!this.field.equals(l.field))throw new w("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new w("Divide by 0");const d=this.field;let h=d.getZero(),x=this;const y=l.getCoefficient(l.getDegree()),b=d.inverse(y);for(;x.getDegree()>=l.getDegree()&&!x.isZero();){const _=x.getDegree()-l.getDegree(),T=d.multiply(x.getCoefficient(x.getDegree()),b),k=l.multiplyByMonomial(_,T),P=d.buildMonomial(_,T);h=h.addOrSubtract(P),x=x.addOrSubtract(k)}return[h,x]}toString(){let l="";for(let d=this.getDegree();d>=0;d--){let h=this.getCoefficient(d);if(h!==0){if(h<0?(l+=" - ",h=-h):l.length>0&&(l+=" + "),d===0||h!==1){const x=this.field.log(h);x===0?l+="1":x===1?l+="a":(l+="a^",l+=x)}d!==0&&(d===1?l+="x":(l+="x^",l+=d))}}return l}}class fn extends f{}fn.kind="ArithmeticException";class Et extends Qt{constructor(l,d,h){super(),this.primitive=l,this.size=d,this.generatorBase=h;const x=new Int32Array(d);let y=1;for(let _=0;_<d;_++)x[_]=y,y*=2,y>=d&&(y^=l,y&=d-1);this.expTable=x;const b=new Int32Array(d);for(let _=0;_<d-1;_++)b[x[_]]=_;this.logTable=b,this.zero=new pt(this,Int32Array.from([0])),this.one=new pt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,d){if(l<0)throw new w;if(d===0)return this.zero;const h=new Int32Array(l+1);return h[0]=d,new pt(this,h)}inverse(l){if(l===0)throw new fn;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,d){return l===0||d===0?0:this.expTable[(this.logTable[l]+this.logTable[d])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}Et.AZTEC_DATA_12=new Et(4201,4096,1),Et.AZTEC_DATA_10=new Et(1033,1024,1),Et.AZTEC_DATA_6=new Et(67,64,1),Et.AZTEC_PARAM=new Et(19,16,1),Et.QR_CODE_FIELD_256=new Et(285,256,0),Et.DATA_MATRIX_FIELD_256=new Et(301,256,1),Et.AZTEC_DATA_8=Et.DATA_MATRIX_FIELD_256,Et.MAXICODE_FIELD_64=Et.AZTEC_DATA_6;class Lr extends f{}Lr.kind="ReedSolomonException";class Gn extends f{}Gn.kind="IllegalStateException";class bi{constructor(l){this.field=l}decode(l,d){const h=this.field,x=new pt(h,l),y=new Int32Array(d);let b=!0;for(let ee=0;ee<d;ee++){const Ae=x.evaluateAt(h.exp(ee+h.getGeneratorBase()));y[y.length-1-ee]=Ae,Ae!==0&&(b=!1)}if(b)return;const _=new pt(h,y),T=this.runEuclideanAlgorithm(h.buildMonomial(d,1),_,d),k=T[0],P=T[1],G=this.findErrorLocations(k),$=this.findErrorMagnitudes(P,G);for(let ee=0;ee<G.length;ee++){const Ae=l.length-1-h.log(G[ee]);if(Ae<0)throw new Lr("Bad error location");l[Ae]=Et.addOrSubtract(l[Ae],$[ee])}}runEuclideanAlgorithm(l,d,h){if(l.getDegree()<d.getDegree()){const ee=l;l=d,d=ee}const x=this.field;let y=l,b=d,_=x.getZero(),T=x.getOne();for(;b.getDegree()>=(h/2|0);){let ee=y,Ae=_;if(y=b,_=T,y.isZero())throw new Lr("r_{i-1} was zero");b=ee;let ce=x.getZero();const ge=y.getCoefficient(y.getDegree()),Te=x.inverse(ge);for(;b.getDegree()>=y.getDegree()&&!b.isZero();){const Ze=b.getDegree()-y.getDegree(),Ye=x.multiply(b.getCoefficient(b.getDegree()),Te);ce=ce.addOrSubtract(x.buildMonomial(Ze,Ye)),b=b.addOrSubtract(y.multiplyByMonomial(Ze,Ye))}if(T=ce.multiply(_).addOrSubtract(Ae),b.getDegree()>=y.getDegree())throw new Gn("Division algorithm failed to reduce polynomial?")}const k=T.getCoefficient(0);if(k===0)throw new Lr("sigmaTilde(0) was zero");const P=x.inverse(k),G=T.multiplyScalar(P),$=b.multiplyScalar(P);return[G,$]}findErrorLocations(l){const d=l.getDegree();if(d===1)return Int32Array.from([l.getCoefficient(1)]);const h=new Int32Array(d);let x=0;const y=this.field;for(let b=1;b<y.getSize()&&x<d;b++)l.evaluateAt(b)===0&&(h[x]=y.inverse(b),x++);if(x!==d)throw new Lr("Error locator degree does not match number of roots");return h}findErrorMagnitudes(l,d){const h=d.length,x=new Int32Array(h),y=this.field;for(let b=0;b<h;b++){const _=y.inverse(d[b]);let T=1;for(let k=0;k<h;k++)if(b!==k){const P=y.multiply(d[k],_),G=(P&1)===0?P|1:P&-2;T=y.multiply(T,G)}x[b]=y.multiply(l.evaluateAt(_),y.inverse(T)),y.getGeneratorBase()!==0&&(x[b]=y.multiply(x[b],_))}return x}}var Dn;(function(K){K[K.UPPER=0]="UPPER",K[K.LOWER=1]="LOWER",K[K.MIXED=2]="MIXED",K[K.DIGIT=3]="DIGIT",K[K.PUNCT=4]="PUNCT",K[K.BINARY=5]="BINARY"})(Dn||(Dn={}));class Yt{decode(l){this.ddata=l;let d=l.getBits(),h=this.extractBits(d),x=this.correctBits(h),y=Yt.convertBoolArrayToByteArray(x),b=Yt.getEncodedData(x),_=new vt(y,b,null,null);return _.setNumBits(x.length),_}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let d=l.length,h=Dn.UPPER,x=Dn.UPPER,y="",b=0;for(;b<d;)if(x===Dn.BINARY){if(d-b<5)break;let _=Yt.readCode(l,b,5);if(b+=5,_===0){if(d-b<11)break;_=Yt.readCode(l,b,11)+31,b+=11}for(let T=0;T<_;T++){if(d-b<8){b=d;break}const k=Yt.readCode(l,b,8);y+=J.castAsNonUtf8Char(k),b+=8}x=h}else{let _=x===Dn.DIGIT?4:5;if(d-b<_)break;let T=Yt.readCode(l,b,_);b+=_;let k=Yt.getCharacter(x,T);k.startsWith("CTRL_")?(h=x,x=Yt.getTable(k.charAt(5)),k.charAt(6)==="L"&&(h=x)):(y+=k,x=h)}return y}static getTable(l){switch(l){case"L":return Dn.LOWER;case"P":return Dn.PUNCT;case"M":return Dn.MIXED;case"D":return Dn.DIGIT;case"B":return Dn.BINARY;case"U":default:return Dn.UPPER}}static getCharacter(l,d){switch(l){case Dn.UPPER:return Yt.UPPER_TABLE[d];case Dn.LOWER:return Yt.LOWER_TABLE[d];case Dn.MIXED:return Yt.MIXED_TABLE[d];case Dn.PUNCT:return Yt.PUNCT_TABLE[d];case Dn.DIGIT:return Yt.DIGIT_TABLE[d];default:throw new Gn("Bad table")}}correctBits(l){let d,h;this.ddata.getNbLayers()<=2?(h=6,d=Et.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,d=Et.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,d=Et.AZTEC_DATA_10):(h=12,d=Et.AZTEC_DATA_12);let x=this.ddata.getNbDatablocks(),y=l.length/h;if(y<x)throw new D;let b=l.length%h,_=new Int32Array(y);for(let $=0;$<y;$++,b+=h)_[$]=Yt.readCode(l,b,h);try{new bi(d).decode(_,y-x)}catch($){throw new D($)}let T=(1<<h)-1,k=0;for(let $=0;$<x;$++){let ee=_[$];if(ee===0||ee===T)throw new D;(ee===1||ee===T-1)&&k++}let P=new Array(x*h-k),G=0;for(let $=0;$<x;$++){let ee=_[$];if(ee===1||ee===T-1)P.fill(ee>1,G,G+h-1),G+=h-1;else for(let Ae=h-1;Ae>=0;--Ae)P[G++]=(ee&1<<Ae)!==0}return P}extractBits(l){let d=this.ddata.isCompact(),h=this.ddata.getNbLayers(),x=(d?11:14)+h*4,y=new Int32Array(x),b=new Array(this.totalBitsInLayer(h,d));if(d)for(let _=0;_<y.length;_++)y[_]=_;else{let _=x+1+2*U.truncDivision(U.truncDivision(x,2)-1,15),T=x/2,k=U.truncDivision(_,2);for(let P=0;P<T;P++){let G=P+U.truncDivision(P,15);y[T-P-1]=k-G-1,y[T+P]=k+G+1}}for(let _=0,T=0;_<h;_++){let k=(h-_)*4+(d?9:12),P=_*2,G=x-1-P;for(let $=0;$<k;$++){let ee=$*2;for(let Ae=0;Ae<2;Ae++)b[T+ee+Ae]=l.get(y[P+Ae],y[P+$]),b[T+2*k+ee+Ae]=l.get(y[P+$],y[G-Ae]),b[T+4*k+ee+Ae]=l.get(y[G-Ae],y[G-$]),b[T+6*k+ee+Ae]=l.get(y[G-$],y[P+Ae])}T+=k*8}return b}static readCode(l,d,h){let x=0;for(let y=d;y<d+h;y++)x<<=1,l[y]&&(x|=1);return x}static readByte(l,d){let h=l.length-d;return h>=8?Yt.readCode(l,d,8):Yt.readCode(l,d,h)<<8-h}static convertBoolArrayToByteArray(l){let d=new Uint8Array((l.length+7)/8);for(let h=0;h<d.length;h++)d[h]=Yt.readByte(l,8*h);return d}totalBitsInLayer(l,d){return((d?88:112)+16*l)*l}}Yt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Yt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Yt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Yt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Yt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ht{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,d,h,x){const y=l-h,b=d-x;return Math.sqrt(y*y+b*b)}static sum(l){let d=0;for(let h=0,x=l.length;h!==x;h++){const y=l[h];d+=y}return d}}class ci{static floatToIntBits(l){return l}}ci.MAX_VALUE=Number.MAX_SAFE_INTEGER;class at{constructor(l,d){this.x=l,this.y=d}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof at){const d=l;return this.x===d.x&&this.y===d.y}return!1}hashCode(){return 31*ci.floatToIntBits(this.x)+ci.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const d=this.distance(l[0],l[1]),h=this.distance(l[1],l[2]),x=this.distance(l[0],l[2]);let y,b,_;if(h>=d&&h>=x?(b=l[0],y=l[1],_=l[2]):x>=h&&x>=d?(b=l[1],y=l[0],_=l[2]):(b=l[2],y=l[0],_=l[1]),this.crossProductZ(y,b,_)<0){const T=y;y=_,_=T}l[0]=y,l[1]=b,l[2]=_}static distance(l,d){return Ht.distance(l.x,l.y,d.x,d.y)}static crossProductZ(l,d,h){const x=d.x,y=d.y;return(h.x-x)*(l.y-y)-(h.y-y)*(l.x-x)}}class qi{constructor(l,d){this.bits=l,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class ui extends qi{constructor(l,d,h,x,y){super(l,d),this.compact=h,this.nbDatablocks=x,this.nbLayers=y}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class $e{constructor(l,d,h,x){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),d==null&&(d=$e.INIT_SIZE),h==null&&(h=l.getWidth()/2|0),x==null&&(x=l.getHeight()/2|0);const y=d/2|0;if(this.leftInit=h-y,this.rightInit=h+y,this.upInit=x-y,this.downInit=x+y,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new q}detect(){let l=this.leftInit,d=this.rightInit,h=this.upInit,x=this.downInit,y=!1,b=!0,_=!1,T=!1,k=!1,P=!1,G=!1;const $=this.width,ee=this.height;for(;b;){b=!1;let Ae=!0;for(;(Ae||!T)&&d<$;)Ae=this.containsBlackPoint(h,x,d,!1),Ae?(d++,b=!0,T=!0):T||d++;if(d>=$){y=!0;break}let ce=!0;for(;(ce||!k)&&x<ee;)ce=this.containsBlackPoint(l,d,x,!0),ce?(x++,b=!0,k=!0):k||x++;if(x>=ee){y=!0;break}let ge=!0;for(;(ge||!P)&&l>=0;)ge=this.containsBlackPoint(h,x,l,!1),ge?(l--,b=!0,P=!0):P||l--;if(l<0){y=!0;break}let Te=!0;for(;(Te||!G)&&h>=0;)Te=this.containsBlackPoint(l,d,h,!0),Te?(h--,b=!0,G=!0):G||h--;if(h<0){y=!0;break}b&&(_=!0)}if(!y&&_){const Ae=d-l;let ce=null;for(let Ye=1;ce===null&&Ye<Ae;Ye++)ce=this.getBlackPointOnSegment(l,x-Ye,l+Ye,x);if(ce==null)throw new q;let ge=null;for(let Ye=1;ge===null&&Ye<Ae;Ye++)ge=this.getBlackPointOnSegment(l,h+Ye,l+Ye,h);if(ge==null)throw new q;let Te=null;for(let Ye=1;Te===null&&Ye<Ae;Ye++)Te=this.getBlackPointOnSegment(d,h+Ye,d-Ye,h);if(Te==null)throw new q;let Ze=null;for(let Ye=1;Ze===null&&Ye<Ae;Ye++)Ze=this.getBlackPointOnSegment(d,x-Ye,d-Ye,x);if(Ze==null)throw new q;return this.centerEdges(Ze,ce,Te,ge)}else throw new q}getBlackPointOnSegment(l,d,h,x){const y=Ht.round(Ht.distance(l,d,h,x)),b=(h-l)/y,_=(x-d)/y,T=this.image;for(let k=0;k<y;k++){const P=Ht.round(l+k*b),G=Ht.round(d+k*_);if(T.get(P,G))return new at(P,G)}return null}centerEdges(l,d,h,x){const y=l.getX(),b=l.getY(),_=d.getX(),T=d.getY(),k=h.getX(),P=h.getY(),G=x.getX(),$=x.getY(),ee=$e.CORR;return y<this.width/2?[new at(G-ee,$+ee),new at(_+ee,T+ee),new at(k-ee,P-ee),new at(y+ee,b-ee)]:[new at(G+ee,$+ee),new at(_+ee,T-ee),new at(k-ee,P+ee),new at(y-ee,b-ee)]}containsBlackPoint(l,d,h,x){const y=this.image;if(x){for(let b=l;b<=d;b++)if(y.get(b,h))return!0}else for(let b=l;b<=d;b++)if(y.get(h,b))return!0;return!1}}$e.INIT_SIZE=10,$e.CORR=1;class Ce{static checkAndNudgePoints(l,d){const h=l.getWidth(),x=l.getHeight();let y=!0;for(let b=0;b<d.length&&y;b+=2){const _=Math.floor(d[b]),T=Math.floor(d[b+1]);if(_<-1||_>h||T<-1||T>x)throw new q;y=!1,_===-1?(d[b]=0,y=!0):_===h&&(d[b]=h-1,y=!0),T===-1?(d[b+1]=0,y=!0):T===x&&(d[b+1]=x-1,y=!0)}y=!0;for(let b=d.length-2;b>=0&&y;b-=2){const _=Math.floor(d[b]),T=Math.floor(d[b+1]);if(_<-1||_>h||T<-1||T>x)throw new q;y=!1,_===-1?(d[b]=0,y=!0):_===h&&(d[b]=h-1,y=!0),T===-1?(d[b+1]=0,y=!0):T===x&&(d[b+1]=x-1,y=!0)}}}class de{constructor(l,d,h,x,y,b,_,T,k){this.a11=l,this.a21=d,this.a31=h,this.a12=x,this.a22=y,this.a32=b,this.a13=_,this.a23=T,this.a33=k}static quadrilateralToQuadrilateral(l,d,h,x,y,b,_,T,k,P,G,$,ee,Ae,ce,ge){const Te=de.quadrilateralToSquare(l,d,h,x,y,b,_,T);return de.squareToQuadrilateral(k,P,G,$,ee,Ae,ce,ge).times(Te)}transformPoints(l){const d=l.length,h=this.a11,x=this.a12,y=this.a13,b=this.a21,_=this.a22,T=this.a23,k=this.a31,P=this.a32,G=this.a33;for(let $=0;$<d;$+=2){const ee=l[$],Ae=l[$+1],ce=y*ee+T*Ae+G;l[$]=(h*ee+b*Ae+k)/ce,l[$+1]=(x*ee+_*Ae+P)/ce}}transformPointsWithValues(l,d){const h=this.a11,x=this.a12,y=this.a13,b=this.a21,_=this.a22,T=this.a23,k=this.a31,P=this.a32,G=this.a33,$=l.length;for(let ee=0;ee<$;ee++){const Ae=l[ee],ce=d[ee],ge=y*Ae+T*ce+G;l[ee]=(h*Ae+b*ce+k)/ge,d[ee]=(x*Ae+_*ce+P)/ge}}static squareToQuadrilateral(l,d,h,x,y,b,_,T){const k=l-h+y-_,P=d-x+b-T;if(k===0&&P===0)return new de(h-l,y-h,l,x-d,b-x,d,0,0,1);{const G=h-y,$=_-y,ee=x-b,Ae=T-b,ce=G*Ae-$*ee,ge=(k*Ae-$*P)/ce,Te=(G*P-k*ee)/ce;return new de(h-l+ge*h,_-l+Te*_,l,x-d+ge*x,T-d+Te*T,d,ge,Te,1)}}static quadrilateralToSquare(l,d,h,x,y,b,_,T){return de.squareToQuadrilateral(l,d,h,x,y,b,_,T).buildAdjoint()}buildAdjoint(){return new de(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new de(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class Ue extends Ce{sampleGrid(l,d,h,x,y,b,_,T,k,P,G,$,ee,Ae,ce,ge,Te,Ze,Ye){const Ke=de.quadrilateralToQuadrilateral(x,y,b,_,T,k,P,G,$,ee,Ae,ce,ge,Te,Ze,Ye);return this.sampleGridWithTransform(l,d,h,Ke)}sampleGridWithTransform(l,d,h,x){if(d<=0||h<=0)throw new q;const y=new te(d,h),b=new Float32Array(2*d);for(let _=0;_<h;_++){const T=b.length,k=_+.5;for(let P=0;P<T;P+=2)b[P]=P/2+.5,b[P+1]=k;x.transformPoints(b),Ce.checkAndNudgePoints(l,b);try{for(let P=0;P<T;P+=2)l.get(Math.floor(b[P]),Math.floor(b[P+1]))&&y.set(P/2,_)}catch{throw new q}}return y}}class Re{static setGridSampler(l){Re.gridSampler=l}static getInstance(){return Re.gridSampler}}Re.gridSampler=new Ue;class gt{constructor(l,d){this.x=l,this.y=d}toResultPoint(){return new at(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Mt{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let d=this.getMatrixCenter(),h=this.getBullsEyeCorners(d);if(l){let b=h[0];h[0]=h[2],h[2]=b}this.extractParameters(h);let x=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),y=this.getMatrixCornerPoints(h);return new ui(x,y,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new q;let d=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(l[0],l[1],d),this.sampleLine(l[1],l[2],d),this.sampleLine(l[2],l[3],d),this.sampleLine(l[3],l[0],d)]);this.shift=this.getRotation(h,d);let x=0;for(let b=0;b<4;b++){let _=h[(this.shift+b)%4];this.compact?(x<<=7,x+=_>>1&127):(x<<=10,x+=(_>>2&992)+(_>>1&31))}let y=this.getCorrectedParameterData(x,this.compact);this.compact?(this.nbLayers=(y>>6)+1,this.nbDataBlocks=(y&63)+1):(this.nbLayers=(y>>11)+1,this.nbDataBlocks=(y&2047)+1)}getRotation(l,d){let h=0;l.forEach((x,y,b)=>{let _=(x>>d-2<<1)+(x&1);h=(h<<3)+_}),h=((h&1)<<11)+(h>>1);for(let x=0;x<4;x++)if(U.bitCount(h^this.EXPECTED_CORNER_BITS[x])<=2)return x;throw new q}getCorrectedParameterData(l,d){let h,x;d?(h=7,x=2):(h=10,x=4);let y=h-x,b=new Int32Array(h);for(let T=h-1;T>=0;--T)b[T]=l&15,l>>=4;try{new bi(Et.AZTEC_PARAM).decode(b,y)}catch{throw new q}let _=0;for(let T=0;T<x;T++)_=(_<<4)+b[T];return _}getBullsEyeCorners(l){let d=l,h=l,x=l,y=l,b=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let G=this.getFirstDifferent(d,b,1,-1),$=this.getFirstDifferent(h,b,1,1),ee=this.getFirstDifferent(x,b,-1,1),Ae=this.getFirstDifferent(y,b,-1,-1);if(this.nbCenterLayers>2){let ce=this.distancePoint(Ae,G)*this.nbCenterLayers/(this.distancePoint(y,d)*(this.nbCenterLayers+2));if(ce<.75||ce>1.25||!this.isWhiteOrBlackRectangle(G,$,ee,Ae))break}d=G,h=$,x=ee,y=Ae,b=!b}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new q;this.compact=this.nbCenterLayers===5;let _=new at(d.getX()+.5,d.getY()-.5),T=new at(h.getX()+.5,h.getY()+.5),k=new at(x.getX()-.5,x.getY()+.5),P=new at(y.getX()-.5,y.getY()-.5);return this.expandSquare([_,T,k,P],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,d,h,x;try{let _=new $e(this.image).detect();l=_[0],d=_[1],h=_[2],x=_[3]}catch{let T=this.image.getWidth()/2,k=this.image.getHeight()/2;l=this.getFirstDifferent(new gt(T+7,k-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new gt(T+7,k+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new gt(T-7,k+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new gt(T-7,k-7),!1,-1,-1).toResultPoint()}let y=Ht.round((l.getX()+x.getX()+d.getX()+h.getX())/4),b=Ht.round((l.getY()+x.getY()+d.getY()+h.getY())/4);try{let _=new $e(this.image,15,y,b).detect();l=_[0],d=_[1],h=_[2],x=_[3]}catch{l=this.getFirstDifferent(new gt(y+7,b-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new gt(y+7,b+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new gt(y-7,b+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new gt(y-7,b-7),!1,-1,-1).toResultPoint()}return y=Ht.round((l.getX()+x.getX()+d.getX()+h.getX())/4),b=Ht.round((l.getY()+x.getY()+d.getY()+h.getY())/4),new gt(y,b)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,d,h,x,y){let b=Re.getInstance(),_=this.getDimension(),T=_/2-this.nbCenterLayers,k=_/2+this.nbCenterLayers;return b.sampleGrid(l,_,_,T,T,k,T,k,k,T,k,d.getX(),d.getY(),h.getX(),h.getY(),x.getX(),x.getY(),y.getX(),y.getY())}sampleLine(l,d,h){let x=0,y=this.distanceResultPoint(l,d),b=y/h,_=l.getX(),T=l.getY(),k=b*(d.getX()-l.getX())/y,P=b*(d.getY()-l.getY())/y;for(let G=0;G<h;G++)this.image.get(Ht.round(_+G*k),Ht.round(T+G*P))&&(x|=1<<h-G-1);return x}isWhiteOrBlackRectangle(l,d,h,x){let y=3;l=new gt(l.getX()-y,l.getY()+y),d=new gt(d.getX()-y,d.getY()-y),h=new gt(h.getX()+y,h.getY()-y),x=new gt(x.getX()+y,x.getY()+y);let b=this.getColor(x,l);if(b===0)return!1;let _=this.getColor(l,d);return _!==b||(_=this.getColor(d,h),_!==b)?!1:(_=this.getColor(h,x),_===b)}getColor(l,d){let h=this.distancePoint(l,d),x=(d.getX()-l.getX())/h,y=(d.getY()-l.getY())/h,b=0,_=l.getX(),T=l.getY(),k=this.image.get(l.getX(),l.getY()),P=Math.ceil(h);for(let $=0;$<P;$++)_+=x,T+=y,this.image.get(Ht.round(_),Ht.round(T))!==k&&b++;let G=b/h;return G>.1&&G<.9?0:G<=.1===k?1:-1}getFirstDifferent(l,d,h,x){let y=l.getX()+h,b=l.getY()+x;for(;this.isValid(y,b)&&this.image.get(y,b)===d;)y+=h,b+=x;for(y-=h,b-=x;this.isValid(y,b)&&this.image.get(y,b)===d;)y+=h;for(y-=h;this.isValid(y,b)&&this.image.get(y,b)===d;)b+=x;return b-=x,new gt(y,b)}expandSquare(l,d,h){let x=h/(2*d),y=l[0].getX()-l[2].getX(),b=l[0].getY()-l[2].getY(),_=(l[0].getX()+l[2].getX())/2,T=(l[0].getY()+l[2].getY())/2,k=new at(_+x*y,T+x*b),P=new at(_-x*y,T-x*b);y=l[1].getX()-l[3].getX(),b=l[1].getY()-l[3].getY(),_=(l[1].getX()+l[3].getX())/2,T=(l[1].getY()+l[3].getY())/2;let G=new at(_+x*y,T+x*b),$=new at(_-x*y,T-x*b);return[k,G,P,$]}isValid(l,d){return l>=0&&l<this.image.getWidth()&&d>0&&d<this.image.getHeight()}isValidPoint(l){let d=Ht.round(l.getX()),h=Ht.round(l.getY());return this.isValid(d,h)}distancePoint(l,d){return Ht.distance(l.getX(),l.getY(),d.getX(),d.getY())}distanceResultPoint(l,d){return Ht.distance(l.getX(),l.getY(),d.getX(),d.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class Vt{decode(l,d=null){let h=null,x=new Mt(l.getBlackMatrix()),y=null,b=null;try{let P=x.detectMirror(!1);y=P.getPoints(),this.reportFoundResultPoints(d,y),b=new Yt().decode(P)}catch(P){h=P}if(b==null)try{let P=x.detectMirror(!0);y=P.getPoints(),this.reportFoundResultPoints(d,y),b=new Yt().decode(P)}catch(P){throw h??P}let _=new ye(b.getText(),b.getRawBytes(),b.getNumBits(),y,De.AZTEC,I.currentTimeMillis()),T=b.getByteSegments();T!=null&&_.putMetadata(qe.BYTE_SEGMENTS,T);let k=b.getECLevel();return k!=null&&_.putMetadata(qe.ERROR_CORRECTION_LEVEL,k),_}reportFoundResultPoints(l,d){if(l!=null){let h=l.get(Q.NEED_RESULT_POINT_CALLBACK);h!=null&&d.forEach((x,y,b)=>{h.foundPossibleResultPoint(x)})}}reset(){}}class Fe extends Ne{constructor(l=500){super(new Vt,l)}}class _e{decode(l,d){try{return this.doDecode(l,d)}catch{if(d&&d.get(Q.TRY_HARDER)===!0&&l.isRotateSupported()){const y=l.rotateCounterClockwise(),b=this.doDecode(y,d),_=b.getResultMetadata();let T=270;_!==null&&_.get(qe.ORIENTATION)===!0&&(T=T+_.get(qe.ORIENTATION)%360),b.putMetadata(qe.ORIENTATION,T);const k=b.getResultPoints();if(k!==null){const P=y.getHeight();for(let G=0;G<k.length;G++)k[G]=new at(P-k[G].getY()-1,k[G].getX())}return b}else throw new q}}reset(){}doDecode(l,d){const h=l.getWidth(),x=l.getHeight();let y=new O(h);const b=d&&d.get(Q.TRY_HARDER)===!0,_=Math.max(1,x>>(b?8:5));let T;b?T=x:T=15;const k=Math.trunc(x/2);for(let P=0;P<T;P++){const G=Math.trunc((P+1)/2),$=(P&1)===0,ee=k+_*($?G:-G);if(ee<0||ee>=x)break;try{y=l.getBlackRow(ee,y)}catch{continue}for(let Ae=0;Ae<2;Ae++){if(Ae===1&&(y.reverse(),d&&d.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){const ce=new Map;d.forEach((ge,Te)=>ce.set(Te,ge)),ce.delete(Q.NEED_RESULT_POINT_CALLBACK),d=ce}try{const ce=this.decodeRow(ee,y,d);if(Ae===1){ce.putMetadata(qe.ORIENTATION,180);const ge=ce.getResultPoints();ge!==null&&(ge[0]=new at(h-ge[0].getX()-1,ge[0].getY()),ge[1]=new at(h-ge[1].getX()-1,ge[1].getY()))}return ce}catch{}}}throw new q}static recordPattern(l,d,h){const x=h.length;for(let k=0;k<x;k++)h[k]=0;const y=l.getSize();if(d>=y)throw new q;let b=!l.get(d),_=0,T=d;for(;T<y;){if(l.get(T)!==b)h[_]++;else{if(++_===x)break;h[_]=1,b=!b}T++}if(!(_===x||_===x-1&&T===y))throw new q}static recordPatternInReverse(l,d,h){let x=h.length,y=l.get(d);for(;d>0&&x>=0;)l.get(--d)!==y&&(x--,y=!y);if(x>=0)throw new q;_e.recordPattern(l,d+1,h)}static patternMatchVariance(l,d,h){const x=l.length;let y=0,b=0;for(let k=0;k<x;k++)y+=l[k],b+=d[k];if(y<b)return Number.POSITIVE_INFINITY;const _=y/b;h*=_;let T=0;for(let k=0;k<x;k++){const P=l[k],G=d[k]*_,$=P>G?P-G:G-P;if($>h)return Number.POSITIVE_INFINITY;T+=$}return T/y}}class xe extends _e{static findStartPattern(l){const d=l.getSize(),h=l.getNextSet(0);let x=0,y=Int32Array.from([0,0,0,0,0,0]),b=h,_=!1;const T=6;for(let k=h;k<d;k++)if(l.get(k)!==_)y[x]++;else{if(x===T-1){let P=xe.MAX_AVG_VARIANCE,G=-1;for(let $=xe.CODE_START_A;$<=xe.CODE_START_C;$++){const ee=_e.patternMatchVariance(y,xe.CODE_PATTERNS[$],xe.MAX_INDIVIDUAL_VARIANCE);ee<P&&(P=ee,G=$)}if(G>=0&&l.isRange(Math.max(0,b-(k-b)/2),b,!1))return Int32Array.from([b,k,G]);b+=y[0]+y[1],y=y.slice(2,y.length-1),y[x-1]=0,y[x]=0,x--}else x++;y[x]=1,_=!_}throw new q}static decodeCode(l,d,h){_e.recordPattern(l,h,d);let x=xe.MAX_AVG_VARIANCE,y=-1;for(let b=0;b<xe.CODE_PATTERNS.length;b++){const _=xe.CODE_PATTERNS[b],T=this.patternMatchVariance(d,_,xe.MAX_INDIVIDUAL_VARIANCE);T<x&&(x=T,y=b)}if(y>=0)return y;throw new q}decodeRow(l,d,h){const x=h&&h.get(Q.ASSUME_GS1)===!0,y=xe.findStartPattern(d),b=y[2];let _=0;const T=new Uint8Array(20);T[_++]=b;let k;switch(b){case xe.CODE_START_A:k=xe.CODE_CODE_A;break;case xe.CODE_START_B:k=xe.CODE_CODE_B;break;case xe.CODE_START_C:k=xe.CODE_CODE_C;break;default:throw new D}let P=!1,G=!1,$="",ee=y[0],Ae=y[1];const ce=Int32Array.from([0,0,0,0,0,0]);let ge=0,Te=0,Ze=b,Ye=0,Ke=!0,tn=!1,zt=!1;for(;!P;){const Mo=G;switch(G=!1,ge=Te,Te=xe.decodeCode(d,ce,Ae),T[_++]=Te,Te!==xe.CODE_STOP&&(Ke=!0),Te!==xe.CODE_STOP&&(Ye++,Ze+=Ye*Te),ee=Ae,Ae+=ce.reduce((_p,Jd)=>_p+Jd,0),Te){case xe.CODE_START_A:case xe.CODE_START_B:case xe.CODE_START_C:throw new D}switch(k){case xe.CODE_CODE_A:if(Te<64)zt===tn?$+=String.fromCharCode(32+Te):$+=String.fromCharCode(32+Te+128),zt=!1;else if(Te<96)zt===tn?$+=String.fromCharCode(Te-64):$+=String.fromCharCode(Te+64),zt=!1;else switch(Te!==xe.CODE_STOP&&(Ke=!1),Te){case xe.CODE_FNC_1:x&&($.length===0?$+="]C1":$+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_A:!tn&&zt?(tn=!0,zt=!1):tn&&zt?(tn=!1,zt=!1):zt=!0;break;case xe.CODE_SHIFT:G=!0,k=xe.CODE_CODE_B;break;case xe.CODE_CODE_B:k=xe.CODE_CODE_B;break;case xe.CODE_CODE_C:k=xe.CODE_CODE_C;break;case xe.CODE_STOP:P=!0;break}break;case xe.CODE_CODE_B:if(Te<96)zt===tn?$+=String.fromCharCode(32+Te):$+=String.fromCharCode(32+Te+128),zt=!1;else switch(Te!==xe.CODE_STOP&&(Ke=!1),Te){case xe.CODE_FNC_1:x&&($.length===0?$+="]C1":$+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_B:!tn&&zt?(tn=!0,zt=!1):tn&&zt?(tn=!1,zt=!1):zt=!0;break;case xe.CODE_SHIFT:G=!0,k=xe.CODE_CODE_A;break;case xe.CODE_CODE_A:k=xe.CODE_CODE_A;break;case xe.CODE_CODE_C:k=xe.CODE_CODE_C;break;case xe.CODE_STOP:P=!0;break}break;case xe.CODE_CODE_C:if(Te<100)Te<10&&($+="0"),$+=Te;else switch(Te!==xe.CODE_STOP&&(Ke=!1),Te){case xe.CODE_FNC_1:x&&($.length===0?$+="]C1":$+="");break;case xe.CODE_CODE_A:k=xe.CODE_CODE_A;break;case xe.CODE_CODE_B:k=xe.CODE_CODE_B;break;case xe.CODE_STOP:P=!0;break}break}Mo&&(k=k===xe.CODE_CODE_A?xe.CODE_CODE_B:xe.CODE_CODE_A)}const Ir=Ae-ee;if(Ae=d.getNextUnset(Ae),!d.isRange(Ae,Math.min(d.getSize(),Ae+(Ae-ee)/2),!1))throw new q;if(Ze-=Ye*ge,Ze%103!==ge)throw new B;const bs=$.length;if(bs===0)throw new q;bs>0&&Ke&&(k===xe.CODE_CODE_C?$=$.substring(0,bs-2):$=$.substring(0,bs-1));const Ci=(y[1]+y[0])/2,Un=ee+Ir/2,oi=T.length,es=new Uint8Array(oi);for(let Mo=0;Mo<oi;Mo++)es[Mo]=T[Mo];const Dl=[new at(Ci,l),new at(Un,l)];return new ye($,es,0,Dl,De.CODE_128,new Date().getTime())}}xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],xe.MAX_AVG_VARIANCE=.25,xe.MAX_INDIVIDUAL_VARIANCE=.7,xe.CODE_SHIFT=98,xe.CODE_CODE_C=99,xe.CODE_CODE_B=100,xe.CODE_CODE_A=101,xe.CODE_FNC_1=102,xe.CODE_FNC_2=97,xe.CODE_FNC_3=96,xe.CODE_FNC_4_A=101,xe.CODE_FNC_4_B=100,xe.CODE_START_A=103,xe.CODE_START_B=104,xe.CODE_START_C=105,xe.CODE_STOP=106;class Xe extends _e{constructor(l=!1,d=!1){super(),this.usingCheckDigit=l,this.extendedMode=d,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,d,h){let x=this.counters;x.fill(0),this.decodeRowResult="";let y=Xe.findAsteriskPattern(d,x),b=d.getNextSet(y[1]),_=d.getSize(),T,k;do{Xe.recordPattern(d,b,x);let ce=Xe.toNarrowWidePattern(x);if(ce<0)throw new q;T=Xe.patternToChar(ce),this.decodeRowResult+=T,k=b;for(let ge of x)b+=ge;b=d.getNextSet(b)}while(T!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let P=0;for(let ce of x)P+=ce;let G=b-k-P;if(b!==_&&G*2<P)throw new q;if(this.usingCheckDigit){let ce=this.decodeRowResult.length-1,ge=0;for(let Te=0;Te<ce;Te++)ge+=Xe.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Te));if(this.decodeRowResult.charAt(ce)!==Xe.ALPHABET_STRING.charAt(ge%43))throw new B;this.decodeRowResult=this.decodeRowResult.substring(0,ce)}if(this.decodeRowResult.length===0)throw new q;let $;this.extendedMode?$=Xe.decodeExtended(this.decodeRowResult):$=this.decodeRowResult;let ee=(y[1]+y[0])/2,Ae=k+P/2;return new ye($,null,0,[new at(ee,l),new at(Ae,l)],De.CODE_39,new Date().getTime())}static findAsteriskPattern(l,d){let h=l.getSize(),x=l.getNextSet(0),y=0,b=x,_=!1,T=d.length;for(let k=x;k<h;k++)if(l.get(k)!==_)d[y]++;else{if(y===T-1){if(this.toNarrowWidePattern(d)===Xe.ASTERISK_ENCODING&&l.isRange(Math.max(0,b-Math.floor((k-b)/2)),b,!1))return[b,k];b+=d[0]+d[1],d.copyWithin(0,2,2+y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,_=!_}throw new q}static toNarrowWidePattern(l){let d=l.length,h=0,x;do{let y=2147483647;for(let T of l)T<y&&T>h&&(y=T);h=y,x=0;let b=0,_=0;for(let T=0;T<d;T++){let k=l[T];k>h&&(_|=1<<d-1-T,x++,b+=k)}if(x===3){for(let T=0;T<d&&x>0;T++){let k=l[T];if(k>h&&(x--,k*2>=b))return-1}return _}}while(x>3);return-1}static patternToChar(l){for(let d=0;d<Xe.CHARACTER_ENCODINGS.length;d++)if(Xe.CHARACTER_ENCODINGS[d]===l)return Xe.ALPHABET_STRING.charAt(d);if(l===Xe.ASTERISK_ENCODING)return"*";throw new q}static decodeExtended(l){let d=l.length,h="";for(let x=0;x<d;x++){let y=l.charAt(x);if(y==="+"||y==="$"||y==="%"||y==="/"){let b=l.charAt(x+1),_="\0";switch(y){case"+":if(b>="A"&&b<="Z")_=String.fromCharCode(b.charCodeAt(0)+32);else throw new D;break;case"$":if(b>="A"&&b<="Z")_=String.fromCharCode(b.charCodeAt(0)-64);else throw new D;break;case"%":if(b>="A"&&b<="E")_=String.fromCharCode(b.charCodeAt(0)-38);else if(b>="F"&&b<="J")_=String.fromCharCode(b.charCodeAt(0)-11);else if(b>="K"&&b<="O")_=String.fromCharCode(b.charCodeAt(0)+16);else if(b>="P"&&b<="T")_=String.fromCharCode(b.charCodeAt(0)+43);else if(b==="U")_="\0";else if(b==="V")_="@";else if(b==="W")_="`";else if(b==="X"||b==="Y"||b==="Z")_="";else throw new D;break;case"/":if(b>="A"&&b<="O")_=String.fromCharCode(b.charCodeAt(0)-32);else if(b==="Z")_=":";else throw new D;break}h+=_,x++}else h+=y}return h}}Xe.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Xe.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Xe.ASTERISK_ENCODING=148;class ze extends _e{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,d,h){let x=this.decodeStart(d),y=this.decodeEnd(d),b=new re;ze.decodeMiddle(d,x[1],y[0],b);let _=b.toString(),T=null;h!=null&&(T=h.get(Q.ALLOWED_LENGTHS)),T==null&&(T=ze.DEFAULT_ALLOWED_LENGTHS);let k=_.length,P=!1,G=0;for(let Ae of T){if(k===Ae){P=!0;break}Ae>G&&(G=Ae)}if(!P&&k>G&&(P=!0),!P)throw new D;const $=[new at(x[1],l),new at(y[0],l)];return new ye(_,null,0,$,De.ITF,new Date().getTime())}static decodeMiddle(l,d,h,x){let y=new Int32Array(10),b=new Int32Array(5),_=new Int32Array(5);for(y.fill(0),b.fill(0),_.fill(0);d<h;){_e.recordPattern(l,d,y);for(let k=0;k<5;k++){let P=2*k;b[k]=y[P],_[k]=y[P+1]}let T=ze.decodeDigit(b);x.append(T.toString()),T=this.decodeDigit(_),x.append(T.toString()),y.forEach(function(k){d+=k})}}decodeStart(l){let d=ze.skipWhiteSpace(l),h=ze.findGuardPattern(l,d,ze.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(l,h[0]),h}validateQuietZone(l,d){let h=this.narrowLineWidth*10;h=h<d?h:d;for(let x=d-1;h>0&&x>=0&&!l.get(x);x--)h--;if(h!==0)throw new q}static skipWhiteSpace(l){const d=l.getSize(),h=l.getNextSet(0);if(h===d)throw new q;return h}decodeEnd(l){l.reverse();try{let d=ze.skipWhiteSpace(l),h;try{h=ze.findGuardPattern(l,d,ze.END_PATTERN_REVERSED[0])}catch(y){y instanceof q&&(h=ze.findGuardPattern(l,d,ze.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,h[0]);let x=h[0];return h[0]=l.getSize()-h[1],h[1]=l.getSize()-x,h}finally{l.reverse()}}static findGuardPattern(l,d,h){let x=h.length,y=new Int32Array(x),b=l.getSize(),_=!1,T=0,k=d;y.fill(0);for(let P=d;P<b;P++)if(l.get(P)!==_)y[T]++;else{if(T===x-1){if(_e.patternMatchVariance(y,h,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE)return[k,P];k+=y[0]+y[1],I.arraycopy(y,2,y,0,T-1),y[T-1]=0,y[T]=0,T--}else T++;y[T]=1,_=!_}throw new q}static decodeDigit(l){let d=ze.MAX_AVG_VARIANCE,h=-1,x=ze.PATTERNS.length;for(let y=0;y<x;y++){let b=ze.PATTERNS[y],_=_e.patternMatchVariance(l,b,ze.MAX_INDIVIDUAL_VARIANCE);_<d?(d=_,h=y):_===d&&(h=-1)}if(h>=0)return h%10;throw new q}}ze.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ze.MAX_AVG_VARIANCE=.38,ze.MAX_INDIVIDUAL_VARIANCE=.5,ze.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ze.START_PATTERN=Int32Array.from([1,1,1,1]),ze.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class dt extends _e{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let d=!1,h,x=0,y=Int32Array.from([0,0,0]);for(;!d;){y=Int32Array.from([0,0,0]),h=dt.findGuardPattern(l,x,!1,this.START_END_PATTERN,y);let b=h[0];x=h[1];let _=b-(x-b);_>=0&&(d=l.isRange(_,b,!1))}return h}static checkChecksum(l){return dt.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let d=l.length;if(d===0)return!1;let h=parseInt(l.charAt(d-1),10);return dt.getStandardUPCEANChecksum(l.substring(0,d-1))===h}static getStandardUPCEANChecksum(l){let d=l.length,h=0;for(let x=d-1;x>=0;x-=2){let y=l.charAt(x).charCodeAt(0)-48;if(y<0||y>9)throw new D;h+=y}h*=3;for(let x=d-2;x>=0;x-=2){let y=l.charAt(x).charCodeAt(0)-48;if(y<0||y>9)throw new D;h+=y}return(1e3-h)%10}static decodeEnd(l,d){return dt.findGuardPattern(l,d,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,d,h,x){return this.findGuardPattern(l,d,h,x,new Int32Array(x.length))}static findGuardPattern(l,d,h,x,y){let b=l.getSize();d=h?l.getNextUnset(d):l.getNextSet(d);let _=0,T=d,k=x.length,P=h;for(let G=d;G<b;G++)if(l.get(G)!==P)y[_]++;else{if(_===k-1){if(_e.patternMatchVariance(y,x,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return Int32Array.from([T,G]);T+=y[0]+y[1];let $=y.slice(2,y.length-1);for(let ee=0;ee<_-1;ee++)y[ee]=$[ee];y[_-1]=0,y[_]=0,_--}else _++;y[_]=1,P=!P}throw new q}static decodeDigit(l,d,h,x){this.recordPattern(l,h,d);let y=this.MAX_AVG_VARIANCE,b=-1,_=x.length;for(let T=0;T<_;T++){let k=x[T],P=_e.patternMatchVariance(d,k,dt.MAX_INDIVIDUAL_VARIANCE);P<y&&(y=P,b=T)}if(b>=0)return b;throw new q}}dt.MAX_AVG_VARIANCE=.48,dt.MAX_INDIVIDUAL_VARIANCE=.7,dt.START_END_PATTERN=Int32Array.from([1,1,1]),dt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),dt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class un{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,d,h){let x=this.decodeRowStringBuffer,y=this.decodeMiddle(d,h,x),b=x.toString(),_=un.parseExtensionString(b),T=[new at((h[0]+h[1])/2,l),new at(y,l)],k=new ye(b,null,0,T,De.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&k.putAllMetadata(_),k}decodeMiddle(l,d,h){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let y=l.getSize(),b=d[1],_=0;for(let k=0;k<5&&b<y;k++){let P=dt.decodeDigit(l,x,b,dt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+P%10);for(let G of x)b+=G;P>=10&&(_|=1<<4-k),k!==4&&(b=l.getNextSet(b),b=l.getNextUnset(b))}if(h.length!==5)throw new q;let T=this.determineCheckDigit(_);if(un.extensionChecksum(h.toString())!==T)throw new q;return b}static extensionChecksum(l){let d=l.length,h=0;for(let x=d-2;x>=0;x-=2)h+=l.charAt(x).charCodeAt(0)-48;h*=3;for(let x=d-1;x>=0;x-=2)h+=l.charAt(x).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(l){for(let d=0;d<10;d++)if(l===this.CHECK_DIGIT_ENCODINGS[d])return d;throw new q}static parseExtensionString(l){if(l.length!==5)return null;let d=un.parseExtension5String(l);return d==null?null:new Map([[qe.SUGGESTED_PRICE,d]])}static parseExtension5String(l){let d;switch(l.charAt(0)){case"0":d="";break;case"5":d="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}d="";break;default:d="";break}let h=parseInt(l.substring(1)),x=(h/100).toString(),y=h%100,b=y<10?"0"+y:y.toString();return d+x+"."+b}}class gn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,d,h){let x=this.decodeRowStringBuffer,y=this.decodeMiddle(d,h,x),b=x.toString(),_=gn.parseExtensionString(b),T=[new at((h[0]+h[1])/2,l),new at(y,l)],k=new ye(b,null,0,T,De.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&k.putAllMetadata(_),k}decodeMiddle(l,d,h){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let y=l.getSize(),b=d[1],_=0;for(let T=0;T<2&&b<y;T++){let k=dt.decodeDigit(l,x,b,dt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+k%10);for(let P of x)b+=P;k>=10&&(_|=1<<1-T),T!==1&&(b=l.getNextSet(b),b=l.getNextUnset(b))}if(h.length!==2)throw new q;if(parseInt(h.toString())%4!==_)throw new q;return b}static parseExtensionString(l){return l.length!==2?null:new Map([[qe.ISSUE_NUMBER,parseInt(l)]])}}class mn{static decodeRow(l,d,h){let x=dt.findGuardPattern(d,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new un().decodeRow(l,d,x)}catch{return new gn().decodeRow(l,d,x)}}}mn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ct extends dt{constructor(){super(),this.decodeRowStringBuffer="",Ct.L_AND_G_PATTERNS=Ct.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let d=Ct.L_PATTERNS[l-10],h=new Int32Array(d.length);for(let x=0;x<d.length;x++)h[x]=d[d.length-x-1];Ct.L_AND_G_PATTERNS[l]=h}}decodeRow(l,d,h){let x=Ct.findStartGuardPattern(d),y=h==null?null:h.get(Q.NEED_RESULT_POINT_CALLBACK);if(y!=null){const Ke=new at((x[0]+x[1])/2,l);y.foundPossibleResultPoint(Ke)}let b=this.decodeMiddle(d,x,this.decodeRowStringBuffer),_=b.rowOffset,T=b.resultString;if(y!=null){const Ke=new at(_,l);y.foundPossibleResultPoint(Ke)}let k=this.decodeEnd(d,_);if(y!=null){const Ke=new at((k[0]+k[1])/2,l);y.foundPossibleResultPoint(Ke)}let P=k[1],G=P+(P-k[0]);if(G>=d.getSize()||!d.isRange(P,G,!1))throw new q;let $=T.toString();if($.length<8)throw new D;if(!Ct.checkChecksum($))throw new B;let ee=(x[1]+x[0])/2,Ae=(k[1]+k[0])/2,ce=this.getBarcodeFormat(),ge=[new at(ee,l),new at(Ae,l)],Te=new ye($,null,0,ge,ce,new Date().getTime()),Ze=0;try{let Ke=mn.decodeRow(l,d,k[1]);Te.putMetadata(qe.UPC_EAN_EXTENSION,Ke.getText()),Te.putAllMetadata(Ke.getResultMetadata()),Te.addResultPoints(Ke.getResultPoints()),Ze=Ke.getText().length}catch{}let Ye=h==null?null:h.get(Q.ALLOWED_EAN_EXTENSIONS);if(Ye!=null){let Ke=!1;for(let tn in Ye)if(Ze.toString()===tn){Ke=!0;break}if(!Ke)throw new q}return Te}decodeEnd(l,d){return Ct.findGuardPattern(l,d,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return Ct.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let d=l.length;if(d===0)return!1;let h=parseInt(l.charAt(d-1),10);return Ct.getStandardUPCEANChecksum(l.substring(0,d-1))===h}static getStandardUPCEANChecksum(l){let d=l.length,h=0;for(let x=d-1;x>=0;x-=2){let y=l.charAt(x).charCodeAt(0)-48;if(y<0||y>9)throw new D;h+=y}h*=3;for(let x=d-2;x>=0;x-=2){let y=l.charAt(x).charCodeAt(0)-48;if(y<0||y>9)throw new D;h+=y}return(1e3-h)%10}}class bn extends Ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,d,h){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let y=l.getSize(),b=d[1],_=0;for(let k=0;k<6&&b<y;k++){let P=Ct.decodeDigit(l,x,b,Ct.L_AND_G_PATTERNS);h+=String.fromCharCode(48+P%10);for(let G of x)b+=G;P>=10&&(_|=1<<5-k)}h=bn.determineFirstDigit(h,_),b=Ct.findGuardPattern(l,b,!0,Ct.MIDDLE_PATTERN,new Int32Array(Ct.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<6&&b<y;k++){let P=Ct.decodeDigit(l,x,b,Ct.L_PATTERNS);h+=String.fromCharCode(48+P);for(let G of x)b+=G}return{rowOffset:b,resultString:h}}getBarcodeFormat(){return De.EAN_13}static determineFirstDigit(l,d){for(let h=0;h<10;h++)if(d===this.FIRST_DIGIT_ENCODINGS[h])return l=String.fromCharCode(48+h)+l,l;throw new q}}bn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Rn extends Ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,d,h){const x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let y=l.getSize(),b=d[1];for(let T=0;T<4&&b<y;T++){let k=Ct.decodeDigit(l,x,b,Ct.L_PATTERNS);h+=String.fromCharCode(48+k);for(let P of x)b+=P}b=Ct.findGuardPattern(l,b,!0,Ct.MIDDLE_PATTERN,new Int32Array(Ct.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<4&&b<y;T++){let k=Ct.decodeDigit(l,x,b,Ct.L_PATTERNS);h+=String.fromCharCode(48+k);for(let P of x)b+=P}return{rowOffset:b,resultString:h}}getBarcodeFormat(){return De.EAN_8}}class Di extends Ct{constructor(){super(...arguments),this.ean13Reader=new bn}getBarcodeFormat(){return De.UPC_A}decode(l,d){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,d,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,d,h))}decodeMiddle(l,d,h){return this.ean13Reader.decodeMiddle(l,d,h)}maybeReturnResult(l){let d=l.getText();if(d.charAt(0)==="0"){let h=new ye(d.substring(1),null,null,l.getResultPoints(),De.UPC_A);return l.getResultMetadata()!=null&&h.putAllMetadata(l.getResultMetadata()),h}else throw new q}reset(){this.ean13Reader.reset()}}class $n extends Ct{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,d,h){const x=this.decodeMiddleCounters.map(k=>k);x[0]=0,x[1]=0,x[2]=0,x[3]=0;const y=l.getSize();let b=d[1],_=0;for(let k=0;k<6&&b<y;k++){const P=$n.decodeDigit(l,x,b,$n.L_AND_G_PATTERNS);h+=String.fromCharCode(48+P%10);for(let G of x)b+=G;P>=10&&(_|=1<<5-k)}let T=$n.determineNumSysAndCheckDigit(h,_);return{rowOffset:b,resultString:T}}decodeEnd(l,d){return $n.findGuardPatternWithoutCounters(l,d,!0,$n.MIDDLE_END_PATTERN)}checkChecksum(l){return Ct.checkChecksum($n.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,d){for(let h=0;h<=1;h++)for(let x=0;x<10;x++)if(d===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][x]){let y=String.fromCharCode(48+h),b=String.fromCharCode(48+x);return y+l+b}throw q.getNotFoundInstance()}getBarcodeFormat(){return De.UPC_E}static convertUPCEtoUPCA(l){const d=l.slice(1,7).split("").map(y=>y.charCodeAt(0)),h=new re;h.append(l.charAt(0));let x=d[5];switch(x){case 0:case 1:case 2:h.appendChars(d,0,2),h.append(x),h.append("0000"),h.appendChars(d,2,3);break;case 3:h.appendChars(d,0,3),h.append("00000"),h.appendChars(d,3,2);break;case 4:h.appendChars(d,0,4),h.append("00000"),h.append(d[4]);break;default:h.appendChars(d,0,5),h.append("0000"),h.append(x);break}return l.length>=8&&h.append(l.charAt(7)),h.toString()}}$n.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),$n.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Yi extends _e{constructor(l){super();let d=l==null?null:l.get(Q.POSSIBLE_FORMATS),h=[];r(d)?(h.push(new bn),h.push(new Di),h.push(new Rn),h.push(new $n)):(d.indexOf(De.EAN_13)>-1&&h.push(new bn),d.indexOf(De.UPC_A)>-1&&h.push(new Di),d.indexOf(De.EAN_8)>-1&&h.push(new Rn),d.indexOf(De.UPC_E)>-1&&h.push(new $n)),this.readers=h}decodeRow(l,d,h){for(let x of this.readers)try{const y=x.decodeRow(l,d,h),b=y.getBarcodeFormat()===De.EAN_13&&y.getText().charAt(0)==="0",_=h==null?null:h.get(Q.POSSIBLE_FORMATS),T=_==null||_.includes(De.UPC_A);if(b&&T){const k=y.getRawBytes(),P=new ye(y.getText().substring(1),k,k?k.length:null,y.getResultPoints(),De.UPC_A);return P.putAllMetadata(y.getResultMetadata()),P}return y}catch{}throw new q}reset(){for(let l of this.readers)l.reset()}}class Zn extends _e{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,d){for(let h=0;h<d.length;h++)if(_e.patternMatchVariance(l,d[h],Zn.MAX_INDIVIDUAL_VARIANCE)<Zn.MAX_AVG_VARIANCE)return h;throw new q}static count(l){return Ht.sum(new Int32Array(l))}static increment(l,d){let h=0,x=d[0];for(let y=1;y<l.length;y++)d[y]>x&&(x=d[y],h=y);l[h]++}static decrement(l,d){let h=0,x=d[0];for(let y=1;y<l.length;y++)d[y]<x&&(x=d[y],h=y);l[h]--}static isFinderPattern(l){let d=l[0]+l[1],h=d+l[2]+l[3],x=d/h;if(x>=Zn.MIN_FINDER_PATTERN_RATIO&&x<=Zn.MAX_FINDER_PATTERN_RATIO){let y=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER;for(let _ of l)_>b&&(b=_),_<y&&(y=_);return b<10*y}return!1}}Zn.MAX_AVG_VARIANCE=.2,Zn.MAX_INDIVIDUAL_VARIANCE=.45,Zn.MIN_FINDER_PATTERN_RATIO=9.5/12,Zn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ri{constructor(l,d){this.value=l,this.checksumPortion=d}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof Ri))return!1;const d=l;return this.value===d.value&&this.checksumPortion===d.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class aa{constructor(l,d,h,x,y){this.value=l,this.startEnd=d,this.value=l,this.startEnd=d,this.resultPoints=new Array,this.resultPoints.push(new at(h,y)),this.resultPoints.push(new at(x,y))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof aa))return!1;const d=l;return this.value===d.value}hashCode(){return this.value}}class xs{constructor(){}static getRSSvalue(l,d,h){let x=0;for(let T of l)x+=T;let y=0,b=0,_=l.length;for(let T=0;T<_-1;T++){let k;for(k=1,b|=1<<T;k<l[T];k++,b&=~(1<<T)){let P=xs.combins(x-k-1,_-T-2);if(h&&b===0&&x-k-(_-T-1)>=_-T-1&&(P-=xs.combins(x-k-(_-T),_-T-2)),_-T-1>1){let G=0;for(let $=x-k-(_-T-2);$>d;$--)G+=xs.combins(x-k-$-1,_-T-3);P-=G*(_-1-T)}else x-k>d&&P--;y+=P}x-=k}return y}static combins(l,d){let h,x;l-d>d?(x=d,h=l-d):(x=l-d,h=d);let y=1,b=1;for(let _=l;_>h;_--)y*=_,b<=x&&(y/=b,b++);for(;b<=x;)y/=b,b++;return y}}class oe{static buildBitArray(l){let d=l.length*2-1;l[l.length-1].getRightChar()==null&&(d-=1);let h=12*d,x=new O(h),y=0,_=l[0].getRightChar().getValue();for(let T=11;T>=0;--T)(_&1<<T)!=0&&x.set(y),y++;for(let T=1;T<l.length;++T){let k=l[T],P=k.getLeftChar().getValue();for(let G=11;G>=0;--G)(P&1<<G)!=0&&x.set(y),y++;if(k.getRightChar()!=null){let G=k.getRightChar().getValue();for(let $=11;$>=0;--$)(G&1<<$)!=0&&x.set(y),y++}}return x}}class fe{constructor(l,d){d?this.decodedInformation=null:(this.finished=l,this.decodedInformation=d)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ee{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class Pe extends Ee{constructor(l,d){super(l),this.value=d}getValue(){return this.value}isFNC1(){return this.value===Pe.FNC1}}Pe.FNC1="$";class tt extends Ee{constructor(l,d,h){super(l),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=d}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ot extends Ee{constructor(l,d,h){if(super(l),d<0||d>10||h<0||h>10)throw new D;this.firstDigit=d,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ot.FNC1}isSecondDigitFNC1(){return this.secondDigit===ot.FNC1}isAnyFNC1(){return this.firstDigit===ot.FNC1||this.secondDigit===ot.FNC1}}ot.FNC1=10;class Le{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new q;let d=l.substring(0,2);for(let y of Le.TWO_DIGIT_DATA_LENGTH)if(y[0]===d)return y[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(2,y[2],l):Le.processFixedAI(2,y[1],l);if(l.length<3)throw new q;let h=l.substring(0,3);for(let y of Le.THREE_DIGIT_DATA_LENGTH)if(y[0]===h)return y[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(3,y[2],l):Le.processFixedAI(3,y[1],l);for(let y of Le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(y[0]===h)return y[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(4,y[2],l):Le.processFixedAI(4,y[1],l);if(l.length<4)throw new q;let x=l.substring(0,4);for(let y of Le.FOUR_DIGIT_DATA_LENGTH)if(y[0]===x)return y[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(4,y[2],l):Le.processFixedAI(4,y[1],l);throw new q}static processFixedAI(l,d,h){if(h.length<l)throw new q;let x=h.substring(0,l);if(h.length<l+d)throw new q;let y=h.substring(l,l+d),b=h.substring(l+d),_="("+x+")"+y,T=Le.parseFieldsInGeneralPurpose(b);return T==null?_:_+T}static processVariableAI(l,d,h){let x=h.substring(0,l),y;h.length<l+d?y=h.length:y=l+d;let b=h.substring(l,y),_=h.substring(y),T="("+x+")"+b,k=Le.parseFieldsInGeneralPurpose(_);return k==null?T:T+k}}Le.VARIABLE_LENGTH=[],Le.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Le.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Le.VARIABLE_LENGTH,20],["22",Le.VARIABLE_LENGTH,29],["30",Le.VARIABLE_LENGTH,8],["37",Le.VARIABLE_LENGTH,8],["90",Le.VARIABLE_LENGTH,30],["91",Le.VARIABLE_LENGTH,30],["92",Le.VARIABLE_LENGTH,30],["93",Le.VARIABLE_LENGTH,30],["94",Le.VARIABLE_LENGTH,30],["95",Le.VARIABLE_LENGTH,30],["96",Le.VARIABLE_LENGTH,30],["97",Le.VARIABLE_LENGTH,3],["98",Le.VARIABLE_LENGTH,30],["99",Le.VARIABLE_LENGTH,30]],Le.THREE_DIGIT_DATA_LENGTH=[["240",Le.VARIABLE_LENGTH,30],["241",Le.VARIABLE_LENGTH,30],["242",Le.VARIABLE_LENGTH,6],["250",Le.VARIABLE_LENGTH,30],["251",Le.VARIABLE_LENGTH,30],["253",Le.VARIABLE_LENGTH,17],["254",Le.VARIABLE_LENGTH,20],["400",Le.VARIABLE_LENGTH,30],["401",Le.VARIABLE_LENGTH,30],["402",17],["403",Le.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Le.VARIABLE_LENGTH,20],["421",Le.VARIABLE_LENGTH,15],["422",3],["423",Le.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Le.VARIABLE_LENGTH,15],["391",Le.VARIABLE_LENGTH,18],["392",Le.VARIABLE_LENGTH,15],["393",Le.VARIABLE_LENGTH,18],["703",Le.VARIABLE_LENGTH,30]],Le.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Le.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Le.VARIABLE_LENGTH,20],["8003",Le.VARIABLE_LENGTH,30],["8004",Le.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Le.VARIABLE_LENGTH,30],["8008",Le.VARIABLE_LENGTH,12],["8018",18],["8020",Le.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Le.VARIABLE_LENGTH,70],["8200",Le.VARIABLE_LENGTH,70]];class st{constructor(l){this.buffer=new re,this.information=l}decodeAllCodes(l,d){let h=d,x=null;do{let y=this.decodeGeneralPurposeField(h,x),b=Le.parseFieldsInGeneralPurpose(y.getNewString());if(b!=null&&l.append(b),y.isRemaining()?x=""+y.getRemainingValue():x=null,h===y.getNewPosition())break;h=y.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let d=l;d<l+3;++d)if(this.information.get(d))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let y=this.extractNumericValueFromBitArray(l,4);return y===0?new ot(this.information.getSize(),ot.FNC1,ot.FNC1):new ot(this.information.getSize(),y-1,ot.FNC1)}let d=this.extractNumericValueFromBitArray(l,7),h=(d-8)/11,x=(d-8)%11;return new ot(l+7,h,x)}extractNumericValueFromBitArray(l,d){return st.extractNumericValueFromBitArray(this.information,l,d)}static extractNumericValueFromBitArray(l,d,h){let x=0;for(let y=0;y<h;++y)l.get(d+y)&&(x|=1<<h-y-1);return x}decodeGeneralPurposeField(l,d){this.buffer.setLengthToZero(),d!=null&&this.buffer.append(d),this.current.setPosition(l);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new tt(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new tt(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,d;do{let h=this.current.getPosition();if(this.current.isAlpha()?(d=this.parseAlphaBlock(),l=d.isFinished()):this.current.isIsoIec646()?(d=this.parseIsoIec646Block(),l=d.isFinished()):(d=this.parseNumericBlock(),l=d.isFinished()),!(h!==this.current.getPosition())&&!l)break}while(!l);return d.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let d;return l.isSecondDigitFNC1()?d=new tt(this.current.getPosition(),this.buffer.toString()):d=new tt(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new fe(!0,d)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let d=new tt(this.current.getPosition(),this.buffer.toString());return new fe(!0,d)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new fe(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let d=new tt(this.current.getPosition(),this.buffer.toString());return new fe(!0,d)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new fe(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let d=new tt(this.current.getPosition(),this.buffer.toString());return new fe(!0,d)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new fe(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,5);if(d>=5&&d<16)return!0;if(l+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,7);if(h>=64&&h<116)return!0;if(l+8>this.information.getSize())return!1;let x=this.extractNumericValueFromBitArray(l,8);return x>=232&&x<253}decodeIsoIec646(l){let d=this.extractNumericValueFromBitArray(l,5);if(d===15)return new Pe(l+5,Pe.FNC1);if(d>=5&&d<15)return new Pe(l+5,"0"+(d-5));let h=this.extractNumericValueFromBitArray(l,7);if(h>=64&&h<90)return new Pe(l+7,""+(h+1));if(h>=90&&h<116)return new Pe(l+7,""+(h+7));let x=this.extractNumericValueFromBitArray(l,8),y;switch(x){case 232:y="!";break;case 233:y='"';break;case 234:y="%";break;case 235:y="&";break;case 236:y="'";break;case 237:y="(";break;case 238:y=")";break;case 239:y="*";break;case 240:y="+";break;case 241:y=",";break;case 242:y="-";break;case 243:y=".";break;case 244:y="/";break;case 245:y=":";break;case 246:y=";";break;case 247:y="<";break;case 248:y="=";break;case 249:y=">";break;case 250:y="?";break;case 251:y="_";break;case 252:y=" ";break;default:throw new D}return new Pe(l+8,y)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,5);if(d>=5&&d<16)return!0;if(l+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,6);return h>=16&&h<63}decodeAlphanumeric(l){let d=this.extractNumericValueFromBitArray(l,5);if(d===15)return new Pe(l+5,Pe.FNC1);if(d>=5&&d<15)return new Pe(l+5,"0"+(d-5));let h=this.extractNumericValueFromBitArray(l,6);if(h>=32&&h<58)return new Pe(l+6,""+(h+33));let x;switch(h){case 58:x="*";break;case 59:x=",";break;case 60:x="-";break;case 61:x=".";break;case 62:x="/";break;default:throw new Gn("Decoding invalid alphanumeric value: "+h)}return new Pe(l+6,x)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let d=0;d<5&&d+l<this.information.getSize();++d)if(d===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+d))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let d=l;d<l+3;++d)if(this.information.get(d))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let d=0;d<4&&d+l<this.information.getSize();++d)if(this.information.get(l+d))return!1;return!0}}class it{constructor(l){this.information=l,this.generalDecoder=new st(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class rt extends it{constructor(l){super(l)}encodeCompressedGtin(l,d){l.append("(01)");let h=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,d,h)}encodeCompressedGtinWithoutAI(l,d,h){for(let x=0;x<4;++x){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(d+10*x,10);y/100===0&&l.append("0"),y/10===0&&l.append("0"),l.append(y)}rt.appendCheckDigit(l,h)}static appendCheckDigit(l,d){let h=0;for(let x=0;x<13;x++){let y=l.charAt(x+d).charCodeAt(0)-48;h+=(x&1)===0?3*y:y}h=10-h%10,h===10&&(h=0),l.append(h)}}rt.GTIN_SIZE=40;class yt extends rt{constructor(l){super(l)}parseInformation(){let l=new re;l.append("(01)");let d=l.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(yt.HEADER_SIZE,4);return l.append(h),this.encodeCompressedGtinWithoutAI(l,yt.HEADER_SIZE+4,d),this.getGeneralDecoder().decodeAllCodes(l,yt.HEADER_SIZE+44)}}yt.HEADER_SIZE=4;class xt extends it{constructor(l){super(l)}parseInformation(){let l=new re;return this.getGeneralDecoder().decodeAllCodes(l,xt.HEADER_SIZE)}}xt.HEADER_SIZE=5;class Rt extends rt{constructor(l){super(l)}encodeCompressedWeight(l,d,h){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(d,h);this.addWeightCode(l,x);let y=this.checkWeight(x),b=1e5;for(let _=0;_<5;++_)y/b===0&&l.append("0"),b/=10;l.append(y)}}class sn extends Rt{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=sn.HEADER_SIZE+Rt.GTIN_SIZE+sn.WEIGHT_SIZE)throw new q;let l=new re;return this.encodeCompressedGtin(l,sn.HEADER_SIZE),this.encodeCompressedWeight(l,sn.HEADER_SIZE+Rt.GTIN_SIZE,sn.WEIGHT_SIZE),l.toString()}}sn.HEADER_SIZE=5,sn.WEIGHT_SIZE=15;class hr extends sn{constructor(l){super(l)}addWeightCode(l,d){l.append("(3103)")}checkWeight(l){return l}}class sr extends sn{constructor(l){super(l)}addWeightCode(l,d){d<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class en extends rt{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<en.HEADER_SIZE+rt.GTIN_SIZE)throw new q;let l=new re;this.encodeCompressedGtin(l,en.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+rt.GTIN_SIZE,en.LAST_DIGIT_SIZE);l.append("(392"),l.append(d),l.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(en.HEADER_SIZE+rt.GTIN_SIZE+en.LAST_DIGIT_SIZE,null);return l.append(h.getNewString()),l.toString()}}en.HEADER_SIZE=8,en.LAST_DIGIT_SIZE=2;class Lt extends rt{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Lt.HEADER_SIZE+rt.GTIN_SIZE)throw new q;let l=new re;this.encodeCompressedGtin(l,Lt.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(Lt.HEADER_SIZE+rt.GTIN_SIZE,Lt.LAST_DIGIT_SIZE);l.append("(393"),l.append(d),l.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Lt.HEADER_SIZE+rt.GTIN_SIZE+Lt.LAST_DIGIT_SIZE,Lt.FIRST_THREE_DIGITS_SIZE);h/100==0&&l.append("0"),h/10==0&&l.append("0"),l.append(h);let x=this.getGeneralDecoder().decodeGeneralPurposeField(Lt.HEADER_SIZE+rt.GTIN_SIZE+Lt.LAST_DIGIT_SIZE+Lt.FIRST_THREE_DIGITS_SIZE,null);return l.append(x.getNewString()),l.toString()}}Lt.HEADER_SIZE=8,Lt.LAST_DIGIT_SIZE=2,Lt.FIRST_THREE_DIGITS_SIZE=10;class an extends Rt{constructor(l,d,h){super(l),this.dateCode=h,this.firstAIdigits=d}parseInformation(){if(this.getInformation().getSize()!=an.HEADER_SIZE+an.GTIN_SIZE+an.WEIGHT_SIZE+an.DATE_SIZE)throw new q;let l=new re;return this.encodeCompressedGtin(l,an.HEADER_SIZE),this.encodeCompressedWeight(l,an.HEADER_SIZE+an.GTIN_SIZE,an.WEIGHT_SIZE),this.encodeCompressedDate(l,an.HEADER_SIZE+an.GTIN_SIZE+an.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,d){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(d,an.DATE_SIZE);if(h==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let x=h%32;h/=32;let y=h%12+1;h/=12;let b=h;b/10==0&&l.append("0"),l.append(b),y/10==0&&l.append("0"),l.append(y),x/10==0&&l.append("0"),l.append(x)}addWeightCode(l,d){l.append("("),l.append(this.firstAIdigits),l.append(d/1e5),l.append(")")}checkWeight(l){return l%1e5}}an.HEADER_SIZE=8,an.WEIGHT_SIZE=20,an.DATE_SIZE=16;function ws(K){try{if(K.get(1))return new yt(K);if(!K.get(2))return new xt(K);switch(st.extractNumericValueFromBitArray(K,1,4)){case 4:return new hr(K);case 5:return new sr(K)}switch(st.extractNumericValueFromBitArray(K,1,5)){case 12:return new en(K);case 13:return new Lt(K)}switch(st.extractNumericValueFromBitArray(K,1,7)){case 56:return new an(K,"310","11");case 57:return new an(K,"320","11");case 58:return new an(K,"310","13");case 59:return new an(K,"320","13");case 60:return new an(K,"310","15");case 61:return new an(K,"320","15");case 62:return new an(K,"310","17");case 63:return new an(K,"320","17")}}catch(l){throw console.log(l),new Gn("unknown decoder: "+K)}}class pr{constructor(l,d,h,x){this.leftchar=l,this.rightchar=d,this.finderpattern=h,this.maybeLast=x}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,d){return l instanceof pr?pr.equalsOrNull(l.leftchar,d.leftchar)&&pr.equalsOrNull(l.rightchar,d.rightchar)&&pr.equalsOrNull(l.finderpattern,d.finderpattern):!1}static equalsOrNull(l,d){return l===null?d===null:pr.equals(l,d)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Sn{constructor(l,d,h){this.pairs=l,this.rowNumber=d,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,d){return l instanceof Sn?this.checkEqualitity(l,d)&&l.wasReversed===d.wasReversed:!1}checkEqualitity(l,d){if(!l||!d)return;let h;return l.forEach((x,y)=>{d.forEach(b=>{x.getLeftChar().getValue()===b.getLeftChar().getValue()&&x.getRightChar().getValue()===b.getRightChar().getValue()&&x.getFinderPatter().getValue()===b.getFinderPatter().getValue()&&(h=!0)})}),h}}class Ve extends Zn{constructor(l){super(...arguments),this.pairs=new Array(Ve.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,d,h){this.pairs.length=0,this.startFromEven=!1;try{return Ve.constructResult(this.decodeRow2pairs(l,d))}catch(x){this.verbose&&console.log(x)}return this.pairs.length=0,this.startFromEven=!0,Ve.constructResult(this.decodeRow2pairs(l,d))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,d){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(d,this.pairs,l))}catch(y){if(y instanceof q){if(!this.pairs.length)throw new q;h=!0}}if(this.checkChecksum())return this.pairs;let x;if(this.rows.length?x=!0:x=!1,this.storeRow(l,!1),x){let y=this.checkRowsBoolean(!1);if(y!=null||(y=this.checkRowsBoolean(!0),y!=null))return y}throw new q}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let d=null;try{d=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return l&&(this.rows=this.rows.reverse()),d}checkRows(l,d){for(let h=d;h<this.rows.length;h++){let x=this.rows[h];this.pairs.length=0;for(let b of l)this.pairs.push(b.getPairs());if(this.pairs.push(x.getPairs()),!Ve.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let y=new Array(l);y.push(x);try{return this.checkRows(y,h+1)}catch(b){this.verbose&&console.log(b)}}throw new q}static isValidSequence(l){for(let d of Ve.FINDER_PATTERN_SEQUENCES){if(l.length>d.length)continue;let h=!0;for(let x=0;x<l.length;x++)if(l[x].getFinderPattern().getValue()!=d[x]){h=!1;break}if(h)return!0}return!1}storeRow(l,d){let h=0,x=!1,y=!1;for(;h<this.rows.length;){let b=this.rows[h];if(b.getRowNumber()>l){y=b.isEquivalent(this.pairs);break}x=b.isEquivalent(this.pairs),h++}y||x||Ve.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new Sn(this.pairs,l,d)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,d){for(let h of d)if(h.getPairs().length!==l.length){for(let x of h.getPairs())for(let y of l)if(pr.equals(x,y))break}}static isPartialRow(l,d){for(let h of d){let x=!0;for(let y of l){let b=!1;for(let _ of h.getPairs())if(y.equals(_)){b=!0;break}if(!b){x=!1;break}}if(x)return!0}return!1}getRows(){return this.rows}static constructResult(l){let d=oe.buildBitArray(l),x=ws(d).parseInformation(),y=l[0].getFinderPattern().getResultPoints(),b=l[l.length-1].getFinderPattern().getResultPoints(),_=[y[0],y[1],b[0],b[1]];return new ye(x,null,null,_,De.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),d=l.getLeftChar(),h=l.getRightChar();if(h==null)return!1;let x=h.getChecksumPortion(),y=2;for(let _=1;_<this.pairs.size();++_){let T=this.pairs.get(_);x+=T.getLeftChar().getChecksumPortion(),y++;let k=T.getRightChar();k!=null&&(x+=k.getChecksumPortion(),y++)}return x%=211,211*(y-4)+x==d.getValue()}static getNextSecondBar(l,d){let h;return l.get(d)?(h=l.getNextUnset(d),h=l.getNextSet(h)):(h=l.getNextSet(d),h=l.getNextUnset(h)),h}retrieveNextPair(l,d,h){let x=d.length%2==0;this.startFromEven&&(x=!x);let y,b=!0,_=-1;do this.findNextPair(l,d,_),y=this.parseFoundFinderPattern(l,h,x),y==null?_=Ve.getNextSecondBar(l,this.startEnd[0]):b=!1;while(b);let T=this.decodeDataCharacter(l,y,x,!0);if(!this.isEmptyPair(d)&&d[d.length-1].mustBeLast())throw new q;let k;try{k=this.decodeDataCharacter(l,y,x,!1)}catch(P){k=null,this.verbose&&console.log(P)}return new pr(T,k,y,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,d,h){let x=this.getDecodeFinderCounters();x[0]=0,x[1]=0,x[2]=0,x[3]=0;let y=l.getSize(),b;h>=0?b=h:this.isEmptyPair(d)?b=0:b=d[d.length-1].getFinderPattern().getStartEnd()[1];let _=d.length%2!=0;this.startFromEven&&(_=!_);let T=!1;for(;b<y&&(T=!l.get(b),!!T);)b++;let k=0,P=b;for(let G=b;G<y;G++)if(l.get(G)!=T)x[k]++;else{if(k==3){if(_&&Ve.reverseCounters(x),Ve.isFinderPattern(x)){this.startEnd[0]=P,this.startEnd[1]=G;return}_&&Ve.reverseCounters(x),P+=x[0]+x[1],x[0]=x[2],x[1]=x[3],x[2]=0,x[3]=0,k--}else k++;x[k]=1,T=!T}throw new q}static reverseCounters(l){let d=l.length;for(let h=0;h<d/2;++h){let x=l[h];l[h]=l[d-h-1],l[d-h-1]=x}}parseFoundFinderPattern(l,d,h){let x,y,b;if(h){let k=this.startEnd[0]-1;for(;k>=0&&!l.get(k);)k--;k++,x=this.startEnd[0]-k,y=k,b=this.startEnd[1]}else y=this.startEnd[0],b=l.getNextUnset(this.startEnd[1]+1),x=b-this.startEnd[1];let _=this.getDecodeFinderCounters();I.arraycopy(_,0,_,1,_.length-1),_[0]=x;let T;try{T=this.parseFinderValue(_,Ve.FINDER_PATTERNS)}catch{return null}return new aa(T,[y,b],y,b,d)}decodeDataCharacter(l,d,h,x){let y=this.getDataCharacterCounters();for(let Un=0;Un<y.length;Un++)y[Un]=0;if(x)Ve.recordPatternInReverse(l,d.getStartEnd()[0],y);else{Ve.recordPattern(l,d.getStartEnd()[1],y);for(let Un=0,oi=y.length-1;Un<oi;Un++,oi--){let es=y[Un];y[Un]=y[oi],y[oi]=es}}let b=17,_=Ht.sum(new Int32Array(y))/b,T=(d.getStartEnd()[1]-d.getStartEnd()[0])/15;if(Math.abs(_-T)/T>.3)throw new q;let k=this.getOddCounts(),P=this.getEvenCounts(),G=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let Un=0;Un<y.length;Un++){let oi=1*y[Un]/_,es=oi+.5;if(es<1){if(oi<.3)throw new q;es=1}else if(es>8){if(oi>8.7)throw new q;es=8}let Dl=Un/2;(Un&1)==0?(k[Dl]=es,G[Dl]=oi-es):(P[Dl]=es,$[Dl]=oi-es)}this.adjustOddEvenCounts(b);let ee=4*d.getValue()+(h?0:2)+(x?0:1)-1,Ae=0,ce=0;for(let Un=k.length-1;Un>=0;Un--){if(Ve.isNotA1left(d,h,x)){let oi=Ve.WEIGHTS[ee][2*Un];ce+=k[Un]*oi}Ae+=k[Un]}let ge=0;for(let Un=P.length-1;Un>=0;Un--)if(Ve.isNotA1left(d,h,x)){let oi=Ve.WEIGHTS[ee][2*Un+1];ge+=P[Un]*oi}let Te=ce+ge;if((Ae&1)!=0||Ae>13||Ae<4)throw new q;let Ze=(13-Ae)/2,Ye=Ve.SYMBOL_WIDEST[Ze],Ke=9-Ye,tn=xs.getRSSvalue(k,Ye,!0),zt=xs.getRSSvalue(P,Ke,!1),Ir=Ve.EVEN_TOTAL_SUBSET[Ze],bs=Ve.GSUM[Ze],Ci=tn*Ir+zt+bs;return new Ri(Ci,Te)}static isNotA1left(l,d,h){return!(l.getValue()==0&&d&&h)}adjustOddEvenCounts(l){let d=Ht.sum(new Int32Array(this.getOddCounts())),h=Ht.sum(new Int32Array(this.getEvenCounts())),x=!1,y=!1;d>13?y=!0:d<4&&(x=!0);let b=!1,_=!1;h>13?_=!0:h<4&&(b=!0);let T=d+h-l,k=(d&1)==1,P=(h&1)==0;if(T==1)if(k){if(P)throw new q;y=!0}else{if(!P)throw new q;_=!0}else if(T==-1)if(k){if(P)throw new q;x=!0}else{if(!P)throw new q;b=!0}else if(T==0){if(k){if(!P)throw new q;d<h?(x=!0,_=!0):(y=!0,b=!0)}else if(P)throw new q}else throw new q;if(x){if(y)throw new q;Ve.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&Ve.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(_)throw new q;Ve.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&Ve.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ve.SYMBOL_WIDEST=[7,5,4,3,1],Ve.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ve.GSUM=[0,348,1388,2948,3988],Ve.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ve.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ve.FINDER_PAT_A=0,Ve.FINDER_PAT_B=1,Ve.FINDER_PAT_C=2,Ve.FINDER_PAT_D=3,Ve.FINDER_PAT_E=4,Ve.FINDER_PAT_F=5,Ve.FINDER_PATTERN_SEQUENCES=[[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_C,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_E,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D,Ve.FINDER_PAT_C],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_E,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D,Ve.FINDER_PAT_D,Ve.FINDER_PAT_F],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_E,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_F,Ve.FINDER_PAT_F],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_D],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_E],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_F,Ve.FINDER_PAT_F],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_E,Ve.FINDER_PAT_F,Ve.FINDER_PAT_F]],Ve.MAX_PAIRS=11;class Wa extends Ri{constructor(l,d,h){super(l,d),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class dn extends Zn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,d,h){const x=this.decodePair(d,!1,l,h);dn.addOrTally(this.possibleLeftPairs,x),d.reverse();let y=this.decodePair(d,!0,l,h);dn.addOrTally(this.possibleRightPairs,y),d.reverse();for(let b of this.possibleLeftPairs)if(b.getCount()>1){for(let _ of this.possibleRightPairs)if(_.getCount()>1&&dn.checkChecksum(b,_))return dn.constructResult(b,_)}throw new q}static addOrTally(l,d){if(d==null)return;let h=!1;for(let x of l)if(x.getValue()===d.getValue()){x.incrementCount(),h=!0;break}h||l.push(d)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,d){let h=4537077*l.getValue()+d.getValue(),x=new String(h).toString(),y=new re;for(let k=13-x.length;k>0;k--)y.append("0");y.append(x);let b=0;for(let k=0;k<13;k++){let P=y.charAt(k).charCodeAt(0)-48;b+=(k&1)===0?3*P:P}b=10-b%10,b===10&&(b=0),y.append(b.toString());let _=l.getFinderPattern().getResultPoints(),T=d.getFinderPattern().getResultPoints();return new ye(y.toString(),null,0,[_[0],_[1],T[0],T[1]],De.RSS_14,new Date().getTime())}static checkChecksum(l,d){let h=(l.getChecksumPortion()+16*d.getChecksumPortion())%79,x=9*l.getFinderPattern().getValue()+d.getFinderPattern().getValue();return x>72&&x--,x>8&&x--,h===x}decodePair(l,d,h,x){try{let y=this.findFinderPattern(l,d),b=this.parseFoundFinderPattern(l,h,d,y),_=x==null?null:x.get(Q.NEED_RESULT_POINT_CALLBACK);if(_!=null){let P=(y[0]+y[1])/2;d&&(P=l.getSize()-1-P),_.foundPossibleResultPoint(new at(P,h))}let T=this.decodeDataCharacter(l,b,!0),k=this.decodeDataCharacter(l,b,!1);return new Wa(1597*T.getValue()+k.getValue(),T.getChecksumPortion()+4*k.getChecksumPortion(),b)}catch{return null}}decodeDataCharacter(l,d,h){let x=this.getDataCharacterCounters();for(let ge=0;ge<x.length;ge++)x[ge]=0;if(h)_e.recordPatternInReverse(l,d.getStartEnd()[0],x);else{_e.recordPattern(l,d.getStartEnd()[1]+1,x);for(let ge=0,Te=x.length-1;ge<Te;ge++,Te--){let Ze=x[ge];x[ge]=x[Te],x[Te]=Ze}}let y=h?16:15,b=Ht.sum(new Int32Array(x))/y,_=this.getOddCounts(),T=this.getEvenCounts(),k=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let ge=0;ge<x.length;ge++){let Te=x[ge]/b,Ze=Math.floor(Te+.5);Ze<1?Ze=1:Ze>8&&(Ze=8);let Ye=Math.floor(ge/2);(ge&1)===0?(_[Ye]=Ze,k[Ye]=Te-Ze):(T[Ye]=Ze,P[Ye]=Te-Ze)}this.adjustOddEvenCounts(h,y);let G=0,$=0;for(let ge=_.length-1;ge>=0;ge--)$*=9,$+=_[ge],G+=_[ge];let ee=0,Ae=0;for(let ge=T.length-1;ge>=0;ge--)ee*=9,ee+=T[ge],Ae+=T[ge];let ce=$+3*ee;if(h){if((G&1)!==0||G>12||G<4)throw new q;let ge=(12-G)/2,Te=dn.OUTSIDE_ODD_WIDEST[ge],Ze=9-Te,Ye=xs.getRSSvalue(_,Te,!1),Ke=xs.getRSSvalue(T,Ze,!0),tn=dn.OUTSIDE_EVEN_TOTAL_SUBSET[ge],zt=dn.OUTSIDE_GSUM[ge];return new Ri(Ye*tn+Ke+zt,ce)}else{if((Ae&1)!==0||Ae>10||Ae<4)throw new q;let ge=(10-Ae)/2,Te=dn.INSIDE_ODD_WIDEST[ge],Ze=9-Te,Ye=xs.getRSSvalue(_,Te,!0),Ke=xs.getRSSvalue(T,Ze,!1),tn=dn.INSIDE_ODD_TOTAL_SUBSET[ge],zt=dn.INSIDE_GSUM[ge];return new Ri(Ke*tn+Ye+zt,ce)}}findFinderPattern(l,d){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let x=l.getSize(),y=!1,b=0;for(;b<x&&(y=!l.get(b),d!==y);)b++;let _=0,T=b;for(let k=b;k<x;k++)if(l.get(k)!==y)h[_]++;else{if(_===3){if(Zn.isFinderPattern(h))return[T,k];T+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,_--}else _++;h[_]=1,y=!y}throw new q}parseFoundFinderPattern(l,d,h,x){let y=l.get(x[0]),b=x[0]-1;for(;b>=0&&y!==l.get(b);)b--;b++;const _=x[0]-b,T=this.getDecodeFinderCounters(),k=new Int32Array(T.length);I.arraycopy(T,0,k,1,T.length-1),k[0]=_;const P=this.parseFinderValue(k,dn.FINDER_PATTERNS);let G=b,$=x[1];return h&&(G=l.getSize()-1-G,$=l.getSize()-1-$),new aa(P,[b,x[1]],G,$,d)}adjustOddEvenCounts(l,d){let h=Ht.sum(new Int32Array(this.getOddCounts())),x=Ht.sum(new Int32Array(this.getEvenCounts())),y=!1,b=!1,_=!1,T=!1;l?(h>12?b=!0:h<4&&(y=!0),x>12?T=!0:x<4&&(_=!0)):(h>11?b=!0:h<5&&(y=!0),x>10?T=!0:x<4&&(_=!0));let k=h+x-d,P=(h&1)===(l?1:0),G=(x&1)===1;if(k===1)if(P){if(G)throw new q;b=!0}else{if(!G)throw new q;T=!0}else if(k===-1)if(P){if(G)throw new q;y=!0}else{if(!G)throw new q;_=!0}else if(k===0){if(P){if(!G)throw new q;h<x?(y=!0,T=!0):(b=!0,_=!0)}else if(G)throw new q}else throw new q;if(y){if(b)throw new q;Zn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&Zn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(T)throw new q;Zn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&Zn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}dn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],dn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],dn.OUTSIDE_GSUM=[0,161,961,2015,2715],dn.INSIDE_GSUM=[0,336,1036,1516],dn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],dn.INSIDE_ODD_WIDEST=[2,4,6,8],dn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class di extends _e{constructor(l,d){super(),this.readers=[],this.verbose=d===!0;const h=l?l.get(Q.POSSIBLE_FORMATS):null,x=l&&l.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(De.EAN_13)||h.includes(De.UPC_A)||h.includes(De.EAN_8)||h.includes(De.UPC_E))&&this.readers.push(new Yi(l)),h.includes(De.CODE_39)&&this.readers.push(new Xe(x)),h.includes(De.CODE_128)&&this.readers.push(new xe),h.includes(De.ITF)&&this.readers.push(new ze),h.includes(De.RSS_14)&&this.readers.push(new dn),h.includes(De.RSS_EXPANDED)&&this.readers.push(new Ve(this.verbose))):(this.readers.push(new Yi(l)),this.readers.push(new Xe),this.readers.push(new Yi(l)),this.readers.push(new xe),this.readers.push(new ze),this.readers.push(new dn),this.readers.push(new Ve(this.verbose)))}decodeRow(l,d,h){for(let x=0;x<this.readers.length;x++)try{return this.readers[x].decodeRow(l,d,h)}catch{}throw new q}reset(){this.readers.forEach(l=>l.reset())}}class _l extends Ne{constructor(l=500,d){super(new di(d),l,d)}}class ft{constructor(l,d,h){this.ecCodewords=l,this.ecBlocks=[d],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class kt{constructor(l,d){this.count=l,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Kt{constructor(l,d,h,x,y,b){this.versionNumber=l,this.symbolSizeRows=d,this.symbolSizeColumns=h,this.dataRegionSizeRows=x,this.dataRegionSizeColumns=y,this.ecBlocks=b;let _=0;const T=b.getECCodewords(),k=b.getECBlocks();for(let P of k)_+=P.getCount()*(P.getDataCodewords()+T);this.totalCodewords=_}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,d){if((l&1)!==0||(d&1)!==0)throw new D;for(let h of Kt.VERSIONS)if(h.symbolSizeRows===l&&h.symbolSizeColumns===d)return h;throw new D}toString(){return""+this.versionNumber}static buildVersions(){return[new Kt(1,10,10,8,8,new ft(5,new kt(1,3))),new Kt(2,12,12,10,10,new ft(7,new kt(1,5))),new Kt(3,14,14,12,12,new ft(10,new kt(1,8))),new Kt(4,16,16,14,14,new ft(12,new kt(1,12))),new Kt(5,18,18,16,16,new ft(14,new kt(1,18))),new Kt(6,20,20,18,18,new ft(18,new kt(1,22))),new Kt(7,22,22,20,20,new ft(20,new kt(1,30))),new Kt(8,24,24,22,22,new ft(24,new kt(1,36))),new Kt(9,26,26,24,24,new ft(28,new kt(1,44))),new Kt(10,32,32,14,14,new ft(36,new kt(1,62))),new Kt(11,36,36,16,16,new ft(42,new kt(1,86))),new Kt(12,40,40,18,18,new ft(48,new kt(1,114))),new Kt(13,44,44,20,20,new ft(56,new kt(1,144))),new Kt(14,48,48,22,22,new ft(68,new kt(1,174))),new Kt(15,52,52,24,24,new ft(42,new kt(2,102))),new Kt(16,64,64,14,14,new ft(56,new kt(2,140))),new Kt(17,72,72,16,16,new ft(36,new kt(4,92))),new Kt(18,80,80,18,18,new ft(48,new kt(4,114))),new Kt(19,88,88,20,20,new ft(56,new kt(4,144))),new Kt(20,96,96,22,22,new ft(68,new kt(4,174))),new Kt(21,104,104,24,24,new ft(56,new kt(6,136))),new Kt(22,120,120,18,18,new ft(68,new kt(6,175))),new Kt(23,132,132,20,20,new ft(62,new kt(8,163))),new Kt(24,144,144,22,22,new ft(62,new kt(8,156),new kt(2,155))),new Kt(25,8,18,6,16,new ft(7,new kt(1,5))),new Kt(26,8,32,6,14,new ft(11,new kt(1,10))),new Kt(27,12,26,10,24,new ft(14,new kt(1,16))),new Kt(28,12,36,10,16,new ft(18,new kt(1,22))),new Kt(29,16,36,14,16,new ft(24,new kt(1,32))),new Kt(30,16,48,14,22,new ft(28,new kt(1,49)))]}}Kt.VERSIONS=Kt.buildVersions();class Li{constructor(l){const d=l.getHeight();if(d<8||d>144||(d&1)!==0)throw new D;this.version=Li.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new te(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const d=l.getHeight(),h=l.getWidth();return Kt.getVersionForDimensions(d,h)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let d=0,h=4,x=0;const y=this.mappingBitMatrix.getHeight(),b=this.mappingBitMatrix.getWidth();let _=!1,T=!1,k=!1,P=!1;do if(h===y&&x===0&&!_)l[d++]=this.readCorner1(y,b)&255,h-=2,x+=2,_=!0;else if(h===y-2&&x===0&&(b&3)!==0&&!T)l[d++]=this.readCorner2(y,b)&255,h-=2,x+=2,T=!0;else if(h===y+4&&x===2&&(b&7)===0&&!k)l[d++]=this.readCorner3(y,b)&255,h-=2,x+=2,k=!0;else if(h===y-2&&x===0&&(b&7)===4&&!P)l[d++]=this.readCorner4(y,b)&255,h-=2,x+=2,P=!0;else{do h<y&&x>=0&&!this.readMappingMatrix.get(x,h)&&(l[d++]=this.readUtah(h,x,y,b)&255),h-=2,x+=2;while(h>=0&&x<b);h+=1,x+=3;do h>=0&&x<b&&!this.readMappingMatrix.get(x,h)&&(l[d++]=this.readUtah(h,x,y,b)&255),h+=2,x-=2;while(h<y&&x>=0);h+=3,x+=1}while(h<y||x<b);if(d!==this.version.getTotalCodewords())throw new D;return l}readModule(l,d,h,x){return l<0&&(l+=h,d+=4-(h+4&7)),d<0&&(d+=x,l+=4-(x+4&7)),this.readMappingMatrix.set(d,l),this.mappingBitMatrix.get(d,l)}readUtah(l,d,h,x){let y=0;return this.readModule(l-2,d-2,h,x)&&(y|=1),y<<=1,this.readModule(l-2,d-1,h,x)&&(y|=1),y<<=1,this.readModule(l-1,d-2,h,x)&&(y|=1),y<<=1,this.readModule(l-1,d-1,h,x)&&(y|=1),y<<=1,this.readModule(l-1,d,h,x)&&(y|=1),y<<=1,this.readModule(l,d-2,h,x)&&(y|=1),y<<=1,this.readModule(l,d-1,h,x)&&(y|=1),y<<=1,this.readModule(l,d,h,x)&&(y|=1),y}readCorner1(l,d){let h=0;return this.readModule(l-1,0,l,d)&&(h|=1),h<<=1,this.readModule(l-1,1,l,d)&&(h|=1),h<<=1,this.readModule(l-1,2,l,d)&&(h|=1),h<<=1,this.readModule(0,d-2,l,d)&&(h|=1),h<<=1,this.readModule(0,d-1,l,d)&&(h|=1),h<<=1,this.readModule(1,d-1,l,d)&&(h|=1),h<<=1,this.readModule(2,d-1,l,d)&&(h|=1),h<<=1,this.readModule(3,d-1,l,d)&&(h|=1),h}readCorner2(l,d){let h=0;return this.readModule(l-3,0,l,d)&&(h|=1),h<<=1,this.readModule(l-2,0,l,d)&&(h|=1),h<<=1,this.readModule(l-1,0,l,d)&&(h|=1),h<<=1,this.readModule(0,d-4,l,d)&&(h|=1),h<<=1,this.readModule(0,d-3,l,d)&&(h|=1),h<<=1,this.readModule(0,d-2,l,d)&&(h|=1),h<<=1,this.readModule(0,d-1,l,d)&&(h|=1),h<<=1,this.readModule(1,d-1,l,d)&&(h|=1),h}readCorner3(l,d){let h=0;return this.readModule(l-1,0,l,d)&&(h|=1),h<<=1,this.readModule(l-1,d-1,l,d)&&(h|=1),h<<=1,this.readModule(0,d-3,l,d)&&(h|=1),h<<=1,this.readModule(0,d-2,l,d)&&(h|=1),h<<=1,this.readModule(0,d-1,l,d)&&(h|=1),h<<=1,this.readModule(1,d-3,l,d)&&(h|=1),h<<=1,this.readModule(1,d-2,l,d)&&(h|=1),h<<=1,this.readModule(1,d-1,l,d)&&(h|=1),h}readCorner4(l,d){let h=0;return this.readModule(l-3,0,l,d)&&(h|=1),h<<=1,this.readModule(l-2,0,l,d)&&(h|=1),h<<=1,this.readModule(l-1,0,l,d)&&(h|=1),h<<=1,this.readModule(0,d-2,l,d)&&(h|=1),h<<=1,this.readModule(0,d-1,l,d)&&(h|=1),h<<=1,this.readModule(1,d-1,l,d)&&(h|=1),h<<=1,this.readModule(2,d-1,l,d)&&(h|=1),h<<=1,this.readModule(3,d-1,l,d)&&(h|=1),h}extractDataRegion(l){const d=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(l.getHeight()!==d)throw new w("Dimension of bitMatrix must match the version size");const x=this.version.getDataRegionSizeRows(),y=this.version.getDataRegionSizeColumns(),b=d/x|0,_=h/y|0,T=b*x,k=_*y,P=new te(k,T);for(let G=0;G<b;++G){const $=G*x;for(let ee=0;ee<_;++ee){const Ae=ee*y;for(let ce=0;ce<x;++ce){const ge=G*(x+2)+1+ce,Te=$+ce;for(let Ze=0;Ze<y;++Ze){const Ye=ee*(y+2)+1+Ze;if(l.get(Ye,ge)){const Ke=Ae+Ze;P.set(Ke,Te)}}}}}return P}}class Nn{constructor(l,d){this.numDataCodewords=l,this.codewords=d}static getDataBlocks(l,d){const h=d.getECBlocks();let x=0;const y=h.getECBlocks();for(let ce of y)x+=ce.getCount();const b=new Array(x);let _=0;for(let ce of y)for(let ge=0;ge<ce.getCount();ge++){const Te=ce.getDataCodewords(),Ze=h.getECCodewords()+Te;b[_++]=new Nn(Te,new Uint8Array(Ze))}const k=b[0].codewords.length-h.getECCodewords(),P=k-1;let G=0;for(let ce=0;ce<P;ce++)for(let ge=0;ge<_;ge++)b[ge].codewords[ce]=l[G++];const $=d.getVersionNumber()===24,ee=$?8:_;for(let ce=0;ce<ee;ce++)b[ce].codewords[k-1]=l[G++];const Ae=b[0].codewords.length;for(let ce=k;ce<Ae;ce++)for(let ge=0;ge<_;ge++){const Te=$?(ge+8)%_:ge,Ze=$&&Te>7?ce-1:ce;b[Te].codewords[Ze]=l[G++]}if(G!==l.length)throw new w;return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class fi{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new w(""+l);let d=0,h=this.bitOffset,x=this.byteOffset;const y=this.bytes;if(h>0){const b=8-h,_=l<b?l:b,T=b-_,k=255>>8-_<<T;d=(y[x]&k)>>T,l-=_,h+=_,h===8&&(h=0,x++)}if(l>0){for(;l>=8;)d=d<<8|y[x]&255,x++,l-=8;if(l>0){const b=8-l,_=255>>b<<b;d=d<<l|(y[x]&_)>>b,h+=l}}return this.bitOffset=h,this.byteOffset=x,d}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Cn;(function(K){K[K.PAD_ENCODE=0]="PAD_ENCODE",K[K.ASCII_ENCODE=1]="ASCII_ENCODE",K[K.C40_ENCODE=2]="C40_ENCODE",K[K.TEXT_ENCODE=3]="TEXT_ENCODE",K[K.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",K[K.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",K[K.BASE256_ENCODE=6]="BASE256_ENCODE"})(Cn||(Cn={}));class Hs{static decode(l){const d=new fi(l),h=new re,x=new re,y=new Array;let b=Cn.ASCII_ENCODE;do if(b===Cn.ASCII_ENCODE)b=this.decodeAsciiSegment(d,h,x);else{switch(b){case Cn.C40_ENCODE:this.decodeC40Segment(d,h);break;case Cn.TEXT_ENCODE:this.decodeTextSegment(d,h);break;case Cn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(d,h);break;case Cn.EDIFACT_ENCODE:this.decodeEdifactSegment(d,h);break;case Cn.BASE256_ENCODE:this.decodeBase256Segment(d,h,y);break;default:throw new D}b=Cn.ASCII_ENCODE}while(b!==Cn.PAD_ENCODE&&d.available()>0);return x.length()>0&&h.append(x.toString()),new vt(l,h.toString(),y.length===0?null:y,null)}static decodeAsciiSegment(l,d,h){let x=!1;do{let y=l.readBits(8);if(y===0)throw new D;if(y<=128)return x&&(y+=128),d.append(String.fromCharCode(y-1)),Cn.ASCII_ENCODE;if(y===129)return Cn.PAD_ENCODE;if(y<=229){const b=y-130;b<10&&d.append("0"),d.append(""+b)}else switch(y){case 230:return Cn.C40_ENCODE;case 231:return Cn.BASE256_ENCODE;case 232:d.append("");break;case 233:case 234:break;case 235:x=!0;break;case 236:d.append("[)>05"),h.insert(0,"");break;case 237:d.append("[)>06"),h.insert(0,"");break;case 238:return Cn.ANSIX12_ENCODE;case 239:return Cn.TEXT_ENCODE;case 240:return Cn.EDIFACT_ENCODE;case 241:break;default:if(y!==254||l.available()!==0)throw new D;break}}while(l.available()>0);return Cn.ASCII_ENCODE}static decodeC40Segment(l,d){let h=!1;const x=[];let y=0;do{if(l.available()===8)return;const b=l.readBits(8);if(b===254)return;this.parseTwoBytes(b,l.readBits(8),x);for(let _=0;_<3;_++){const T=x[_];switch(y){case 0:if(T<3)y=T+1;else if(T<this.C40_BASIC_SET_CHARS.length){const k=this.C40_BASIC_SET_CHARS[T];h?(d.append(String.fromCharCode(k.charCodeAt(0)+128)),h=!1):d.append(k)}else throw new D;break;case 1:h?(d.append(String.fromCharCode(T+128)),h=!1):d.append(String.fromCharCode(T)),y=0;break;case 2:if(T<this.C40_SHIFT2_SET_CHARS.length){const k=this.C40_SHIFT2_SET_CHARS[T];h?(d.append(String.fromCharCode(k.charCodeAt(0)+128)),h=!1):d.append(k)}else switch(T){case 27:d.append("");break;case 30:h=!0;break;default:throw new D}y=0;break;case 3:h?(d.append(String.fromCharCode(T+224)),h=!1):d.append(String.fromCharCode(T+96)),y=0;break;default:throw new D}}}while(l.available()>0)}static decodeTextSegment(l,d){let h=!1,x=[],y=0;do{if(l.available()===8)return;const b=l.readBits(8);if(b===254)return;this.parseTwoBytes(b,l.readBits(8),x);for(let _=0;_<3;_++){const T=x[_];switch(y){case 0:if(T<3)y=T+1;else if(T<this.TEXT_BASIC_SET_CHARS.length){const k=this.TEXT_BASIC_SET_CHARS[T];h?(d.append(String.fromCharCode(k.charCodeAt(0)+128)),h=!1):d.append(k)}else throw new D;break;case 1:h?(d.append(String.fromCharCode(T+128)),h=!1):d.append(String.fromCharCode(T)),y=0;break;case 2:if(T<this.TEXT_SHIFT2_SET_CHARS.length){const k=this.TEXT_SHIFT2_SET_CHARS[T];h?(d.append(String.fromCharCode(k.charCodeAt(0)+128)),h=!1):d.append(k)}else switch(T){case 27:d.append("");break;case 30:h=!0;break;default:throw new D}y=0;break;case 3:if(T<this.TEXT_SHIFT3_SET_CHARS.length){const k=this.TEXT_SHIFT3_SET_CHARS[T];h?(d.append(String.fromCharCode(k.charCodeAt(0)+128)),h=!1):d.append(k),y=0}else throw new D;break;default:throw new D}}}while(l.available()>0)}static decodeAnsiX12Segment(l,d){const h=[];do{if(l.available()===8)return;const x=l.readBits(8);if(x===254)return;this.parseTwoBytes(x,l.readBits(8),h);for(let y=0;y<3;y++){const b=h[y];switch(b){case 0:d.append("\r");break;case 1:d.append("*");break;case 2:d.append(">");break;case 3:d.append(" ");break;default:if(b<14)d.append(String.fromCharCode(b+44));else if(b<40)d.append(String.fromCharCode(b+51));else throw new D;break}}}while(l.available()>0)}static parseTwoBytes(l,d,h){let x=(l<<8)+d-1,y=Math.floor(x/1600);h[0]=y,x-=y*1600,y=Math.floor(x/40),h[1]=y,h[2]=x-y*40}static decodeEdifactSegment(l,d){do{if(l.available()<=16)return;for(let h=0;h<4;h++){let x=l.readBits(6);if(x===31){const y=8-l.getBitOffset();y!==8&&l.readBits(y);return}(x&32)===0&&(x|=64),d.append(String.fromCharCode(x))}}while(l.available()>0)}static decodeBase256Segment(l,d,h){let x=1+l.getByteOffset();const y=this.unrandomize255State(l.readBits(8),x++);let b;if(y===0?b=l.available()/8|0:y<250?b=y:b=250*(y-249)+this.unrandomize255State(l.readBits(8),x++),b<0)throw new D;const _=new Uint8Array(b);for(let T=0;T<b;T++){if(l.available()<8)throw new D;_[T]=this.unrandomize255State(l.readBits(8),x++)}h.push(_);try{d.append(Y.decode(_,J.ISO88591))}catch(T){throw new Gn("Platform does not support required encoding: "+T.message)}}static unrandomize255State(l,d){const h=149*d%255+1,x=l-h;return x>=0?x:x+256}}Hs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Hs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Hs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Hs.TEXT_SHIFT2_SET_CHARS=Hs.C40_SHIFT2_SET_CHARS,Hs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class lx{constructor(){this.rsDecoder=new bi(Et.DATA_MATRIX_FIELD_256)}decode(l){const d=new Li(l),h=d.getVersion(),x=d.readCodewords(),y=Nn.getDataBlocks(x,h);let b=0;for(let k of y)b+=k.getNumDataCodewords();const _=new Uint8Array(b),T=y.length;for(let k=0;k<T;k++){const P=y[k],G=P.getCodewords(),$=P.getNumDataCodewords();this.correctErrors(G,$);for(let ee=0;ee<$;ee++)_[ee*T+k]=G[ee]}return Hs.decode(_)}correctErrors(l,d){const h=new Int32Array(l);try{this.rsDecoder.decode(h,l.length-d)}catch{throw new B}for(let x=0;x<d;x++)l[x]=h[x]}}class or{constructor(l){this.image=l,this.rectangleDetector=new $e(this.image)}detect(){const l=this.rectangleDetector.detect();let d=this.detectSolid1(l);if(d=this.detectSolid2(d),d[3]=this.correctTopRight(d),!d[3])throw new q;d=this.shiftToModuleCenter(d);const h=d[0],x=d[1],y=d[2],b=d[3];let _=this.transitionsBetween(h,b)+1,T=this.transitionsBetween(y,b)+1;(_&1)===1&&(_+=1),(T&1)===1&&(T+=1),4*_<7*T&&4*T<7*_&&(_=T=Math.max(_,T));let k=or.sampleGrid(this.image,h,x,y,b,_,T);return new qi(k,[h,x,y,b])}static shiftPoint(l,d,h){let x=(d.getX()-l.getX())/(h+1),y=(d.getY()-l.getY())/(h+1);return new at(l.getX()+x,l.getY()+y)}static moveAway(l,d,h){let x=l.getX(),y=l.getY();return x<d?x-=1:x+=1,y<h?y-=1:y+=1,new at(x,y)}detectSolid1(l){let d=l[0],h=l[1],x=l[3],y=l[2],b=this.transitionsBetween(d,h),_=this.transitionsBetween(h,x),T=this.transitionsBetween(x,y),k=this.transitionsBetween(y,d),P=b,G=[y,d,h,x];return P>_&&(P=_,G[0]=d,G[1]=h,G[2]=x,G[3]=y),P>T&&(P=T,G[0]=h,G[1]=x,G[2]=y,G[3]=d),P>k&&(G[0]=x,G[1]=y,G[2]=d,G[3]=h),G}detectSolid2(l){let d=l[0],h=l[1],x=l[2],y=l[3],b=this.transitionsBetween(d,y),_=or.shiftPoint(h,x,(b+1)*4),T=or.shiftPoint(x,h,(b+1)*4),k=this.transitionsBetween(_,d),P=this.transitionsBetween(T,y);return k<P?(l[0]=d,l[1]=h,l[2]=x,l[3]=y):(l[0]=h,l[1]=x,l[2]=y,l[3]=d),l}correctTopRight(l){let d=l[0],h=l[1],x=l[2],y=l[3],b=this.transitionsBetween(d,y),_=this.transitionsBetween(h,y),T=or.shiftPoint(d,h,(_+1)*4),k=or.shiftPoint(x,h,(b+1)*4);b=this.transitionsBetween(T,y),_=this.transitionsBetween(k,y);let P=new at(y.getX()+(x.getX()-h.getX())/(b+1),y.getY()+(x.getY()-h.getY())/(b+1)),G=new at(y.getX()+(d.getX()-h.getX())/(_+1),y.getY()+(d.getY()-h.getY())/(_+1));if(!this.isValid(P))return this.isValid(G)?G:null;if(!this.isValid(G))return P;let $=this.transitionsBetween(T,P)+this.transitionsBetween(k,P),ee=this.transitionsBetween(T,G)+this.transitionsBetween(k,G);return $>ee?P:G}shiftToModuleCenter(l){let d=l[0],h=l[1],x=l[2],y=l[3],b=this.transitionsBetween(d,y)+1,_=this.transitionsBetween(x,y)+1,T=or.shiftPoint(d,h,_*4),k=or.shiftPoint(x,h,b*4);b=this.transitionsBetween(T,y)+1,_=this.transitionsBetween(k,y)+1,(b&1)===1&&(b+=1),(_&1)===1&&(_+=1);let P=(d.getX()+h.getX()+x.getX()+y.getX())/4,G=(d.getY()+h.getY()+x.getY()+y.getY())/4;d=or.moveAway(d,P,G),h=or.moveAway(h,P,G),x=or.moveAway(x,P,G),y=or.moveAway(y,P,G);let $,ee;return T=or.shiftPoint(d,h,_*4),T=or.shiftPoint(T,y,b*4),$=or.shiftPoint(h,d,_*4),$=or.shiftPoint($,x,b*4),k=or.shiftPoint(x,y,_*4),k=or.shiftPoint(k,h,b*4),ee=or.shiftPoint(y,x,_*4),ee=or.shiftPoint(ee,d,b*4),[T,$,k,ee]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,d,h,x,y,b,_){return Re.getInstance().sampleGrid(l,b,_,.5,.5,b-.5,.5,b-.5,_-.5,.5,_-.5,d.getX(),d.getY(),y.getX(),y.getY(),x.getX(),x.getY(),h.getX(),h.getY())}transitionsBetween(l,d){let h=Math.trunc(l.getX()),x=Math.trunc(l.getY()),y=Math.trunc(d.getX()),b=Math.trunc(d.getY()),_=Math.abs(b-x)>Math.abs(y-h);if(_){let ce=h;h=x,x=ce,ce=y,y=b,b=ce}let T=Math.abs(y-h),k=Math.abs(b-x),P=-T/2,G=x<b?1:-1,$=h<y?1:-1,ee=0,Ae=this.image.get(_?x:h,_?h:x);for(let ce=h,ge=x;ce!==y;ce+=$){let Te=this.image.get(_?ge:ce,_?ce:ge);if(Te!==Ae&&(ee++,Ae=Te),P+=k,P>0){if(ge===b)break;ge+=G,P-=T}}return ee}}class ka{constructor(){this.decoder=new lx}decode(l,d=null){let h,x;if(d!=null&&d.has(Q.PURE_BARCODE)){const k=ka.extractPureBits(l.getBlackMatrix());h=this.decoder.decode(k),x=ka.NO_POINTS}else{const k=new or(l.getBlackMatrix()).detect();h=this.decoder.decode(k.getBits()),x=k.getPoints()}const y=h.getRawBytes(),b=new ye(h.getText(),y,8*y.length,x,De.DATA_MATRIX,I.currentTimeMillis()),_=h.getByteSegments();_!=null&&b.putMetadata(qe.BYTE_SEGMENTS,_);const T=h.getECLevel();return T!=null&&b.putMetadata(qe.ERROR_CORRECTION_LEVEL,T),b}reset(){}static extractPureBits(l){const d=l.getTopLeftOnBit(),h=l.getBottomRightOnBit();if(d==null||h==null)throw new q;const x=this.moduleSize(d,l);let y=d[1];const b=h[1];let _=d[0];const k=(h[0]-_+1)/x,P=(b-y+1)/x;if(k<=0||P<=0)throw new q;const G=x/2;y+=G,_+=G;const $=new te(k,P);for(let ee=0;ee<P;ee++){const Ae=y+ee*x;for(let ce=0;ce<k;ce++)l.get(_+ce*x,Ae)&&$.set(ce,ee)}return $}static moduleSize(l,d){const h=d.getWidth();let x=l[0];const y=l[1];for(;x<h&&d.get(x,y);)x++;if(x===h)throw new q;const b=x-l[0];if(b===0)throw new q;return b}}ka.NO_POINTS=[];class ru extends Ne{constructor(l=500){super(new ka,l)}}var El;(function(K){K[K.L=0]="L",K[K.M=1]="M",K[K.Q=2]="Q",K[K.H=3]="H"})(El||(El={}));class on{constructor(l,d,h){this.value=l,this.stringValue=d,this.bits=h,on.FOR_BITS.set(h,this),on.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return on.L;case"M":return on.M;case"Q":return on.Q;case"H":return on.H;default:throw new m(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof on))return!1;const d=l;return this.value===d.value}static forBits(l){if(l<0||l>=on.FOR_BITS.size)throw new w;return on.FOR_BITS.get(l)}}on.FOR_BITS=new Map,on.FOR_VALUE=new Map,on.L=new on(El.L,"L",1),on.M=new on(El.M,"M",0),on.Q=new on(El.Q,"Q",3),on.H=new on(El.H,"H",2);class $r{constructor(l){this.errorCorrectionLevel=on.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,d){return U.bitCount(l^d)}static decodeFormatInformation(l,d){const h=$r.doDecodeFormatInformation(l,d);return h!==null?h:$r.doDecodeFormatInformation(l^$r.FORMAT_INFO_MASK_QR,d^$r.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,d){let h=Number.MAX_SAFE_INTEGER,x=0;for(const y of $r.FORMAT_INFO_DECODE_LOOKUP){const b=y[0];if(b===l||b===d)return new $r(y[1]);let _=$r.numBitsDiffering(l,b);_<h&&(x=y[1],h=_),l!==d&&(_=$r.numBitsDiffering(d,b),_<h&&(x=y[1],h=_))}return h<=3?new $r(x):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof $r))return!1;const d=l;return this.errorCorrectionLevel===d.errorCorrectionLevel&&this.dataMask===d.dataMask}}$r.FORMAT_INFO_MASK_QR=21522,$r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class we{constructor(l,...d){this.ecCodewordsPerBlock=l,this.ecBlocks=d}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const d=this.ecBlocks;for(const h of d)l+=h.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Z{constructor(l,d){this.count=l,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class wt{constructor(l,d,...h){this.versionNumber=l,this.alignmentPatternCenters=d,this.ecBlocks=h;let x=0;const y=h[0].getECCodewordsPerBlock(),b=h[0].getECBlocks();for(const _ of b)x+=_.getCount()*(_.getDataCodewords()+y);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new D;try{return this.getVersionForNumber((l-17)/4)}catch{throw new D}}static getVersionForNumber(l){if(l<1||l>40)throw new w;return wt.VERSIONS[l-1]}static decodeVersionInformation(l){let d=Number.MAX_SAFE_INTEGER,h=0;for(let x=0;x<wt.VERSION_DECODE_INFO.length;x++){const y=wt.VERSION_DECODE_INFO[x];if(y===l)return wt.getVersionForNumber(x+7);const b=$r.numBitsDiffering(l,y);b<d&&(h=x+7,d=b)}return d<=3?wt.getVersionForNumber(h):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),d=new te(l);d.setRegion(0,0,9,9),d.setRegion(l-8,0,8,9),d.setRegion(0,l-8,9,8);const h=this.alignmentPatternCenters.length;for(let x=0;x<h;x++){const y=this.alignmentPatternCenters[x]-2;for(let b=0;b<h;b++)x===0&&(b===0||b===h-1)||x===h-1&&b===0||d.setRegion(this.alignmentPatternCenters[b]-2,y,5,5)}return d.setRegion(6,9,1,l-17),d.setRegion(9,6,l-17,1),this.versionNumber>6&&(d.setRegion(l-11,0,3,6),d.setRegion(0,l-11,6,3)),d}toString(){return""+this.versionNumber}}wt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),wt.VERSIONS=[new wt(1,new Int32Array(0),new we(7,new Z(1,19)),new we(10,new Z(1,16)),new we(13,new Z(1,13)),new we(17,new Z(1,9))),new wt(2,Int32Array.from([6,18]),new we(10,new Z(1,34)),new we(16,new Z(1,28)),new we(22,new Z(1,22)),new we(28,new Z(1,16))),new wt(3,Int32Array.from([6,22]),new we(15,new Z(1,55)),new we(26,new Z(1,44)),new we(18,new Z(2,17)),new we(22,new Z(2,13))),new wt(4,Int32Array.from([6,26]),new we(20,new Z(1,80)),new we(18,new Z(2,32)),new we(26,new Z(2,24)),new we(16,new Z(4,9))),new wt(5,Int32Array.from([6,30]),new we(26,new Z(1,108)),new we(24,new Z(2,43)),new we(18,new Z(2,15),new Z(2,16)),new we(22,new Z(2,11),new Z(2,12))),new wt(6,Int32Array.from([6,34]),new we(18,new Z(2,68)),new we(16,new Z(4,27)),new we(24,new Z(4,19)),new we(28,new Z(4,15))),new wt(7,Int32Array.from([6,22,38]),new we(20,new Z(2,78)),new we(18,new Z(4,31)),new we(18,new Z(2,14),new Z(4,15)),new we(26,new Z(4,13),new Z(1,14))),new wt(8,Int32Array.from([6,24,42]),new we(24,new Z(2,97)),new we(22,new Z(2,38),new Z(2,39)),new we(22,new Z(4,18),new Z(2,19)),new we(26,new Z(4,14),new Z(2,15))),new wt(9,Int32Array.from([6,26,46]),new we(30,new Z(2,116)),new we(22,new Z(3,36),new Z(2,37)),new we(20,new Z(4,16),new Z(4,17)),new we(24,new Z(4,12),new Z(4,13))),new wt(10,Int32Array.from([6,28,50]),new we(18,new Z(2,68),new Z(2,69)),new we(26,new Z(4,43),new Z(1,44)),new we(24,new Z(6,19),new Z(2,20)),new we(28,new Z(6,15),new Z(2,16))),new wt(11,Int32Array.from([6,30,54]),new we(20,new Z(4,81)),new we(30,new Z(1,50),new Z(4,51)),new we(28,new Z(4,22),new Z(4,23)),new we(24,new Z(3,12),new Z(8,13))),new wt(12,Int32Array.from([6,32,58]),new we(24,new Z(2,92),new Z(2,93)),new we(22,new Z(6,36),new Z(2,37)),new we(26,new Z(4,20),new Z(6,21)),new we(28,new Z(7,14),new Z(4,15))),new wt(13,Int32Array.from([6,34,62]),new we(26,new Z(4,107)),new we(22,new Z(8,37),new Z(1,38)),new we(24,new Z(8,20),new Z(4,21)),new we(22,new Z(12,11),new Z(4,12))),new wt(14,Int32Array.from([6,26,46,66]),new we(30,new Z(3,115),new Z(1,116)),new we(24,new Z(4,40),new Z(5,41)),new we(20,new Z(11,16),new Z(5,17)),new we(24,new Z(11,12),new Z(5,13))),new wt(15,Int32Array.from([6,26,48,70]),new we(22,new Z(5,87),new Z(1,88)),new we(24,new Z(5,41),new Z(5,42)),new we(30,new Z(5,24),new Z(7,25)),new we(24,new Z(11,12),new Z(7,13))),new wt(16,Int32Array.from([6,26,50,74]),new we(24,new Z(5,98),new Z(1,99)),new we(28,new Z(7,45),new Z(3,46)),new we(24,new Z(15,19),new Z(2,20)),new we(30,new Z(3,15),new Z(13,16))),new wt(17,Int32Array.from([6,30,54,78]),new we(28,new Z(1,107),new Z(5,108)),new we(28,new Z(10,46),new Z(1,47)),new we(28,new Z(1,22),new Z(15,23)),new we(28,new Z(2,14),new Z(17,15))),new wt(18,Int32Array.from([6,30,56,82]),new we(30,new Z(5,120),new Z(1,121)),new we(26,new Z(9,43),new Z(4,44)),new we(28,new Z(17,22),new Z(1,23)),new we(28,new Z(2,14),new Z(19,15))),new wt(19,Int32Array.from([6,30,58,86]),new we(28,new Z(3,113),new Z(4,114)),new we(26,new Z(3,44),new Z(11,45)),new we(26,new Z(17,21),new Z(4,22)),new we(26,new Z(9,13),new Z(16,14))),new wt(20,Int32Array.from([6,34,62,90]),new we(28,new Z(3,107),new Z(5,108)),new we(26,new Z(3,41),new Z(13,42)),new we(30,new Z(15,24),new Z(5,25)),new we(28,new Z(15,15),new Z(10,16))),new wt(21,Int32Array.from([6,28,50,72,94]),new we(28,new Z(4,116),new Z(4,117)),new we(26,new Z(17,42)),new we(28,new Z(17,22),new Z(6,23)),new we(30,new Z(19,16),new Z(6,17))),new wt(22,Int32Array.from([6,26,50,74,98]),new we(28,new Z(2,111),new Z(7,112)),new we(28,new Z(17,46)),new we(30,new Z(7,24),new Z(16,25)),new we(24,new Z(34,13))),new wt(23,Int32Array.from([6,30,54,78,102]),new we(30,new Z(4,121),new Z(5,122)),new we(28,new Z(4,47),new Z(14,48)),new we(30,new Z(11,24),new Z(14,25)),new we(30,new Z(16,15),new Z(14,16))),new wt(24,Int32Array.from([6,28,54,80,106]),new we(30,new Z(6,117),new Z(4,118)),new we(28,new Z(6,45),new Z(14,46)),new we(30,new Z(11,24),new Z(16,25)),new we(30,new Z(30,16),new Z(2,17))),new wt(25,Int32Array.from([6,32,58,84,110]),new we(26,new Z(8,106),new Z(4,107)),new we(28,new Z(8,47),new Z(13,48)),new we(30,new Z(7,24),new Z(22,25)),new we(30,new Z(22,15),new Z(13,16))),new wt(26,Int32Array.from([6,30,58,86,114]),new we(28,new Z(10,114),new Z(2,115)),new we(28,new Z(19,46),new Z(4,47)),new we(28,new Z(28,22),new Z(6,23)),new we(30,new Z(33,16),new Z(4,17))),new wt(27,Int32Array.from([6,34,62,90,118]),new we(30,new Z(8,122),new Z(4,123)),new we(28,new Z(22,45),new Z(3,46)),new we(30,new Z(8,23),new Z(26,24)),new we(30,new Z(12,15),new Z(28,16))),new wt(28,Int32Array.from([6,26,50,74,98,122]),new we(30,new Z(3,117),new Z(10,118)),new we(28,new Z(3,45),new Z(23,46)),new we(30,new Z(4,24),new Z(31,25)),new we(30,new Z(11,15),new Z(31,16))),new wt(29,Int32Array.from([6,30,54,78,102,126]),new we(30,new Z(7,116),new Z(7,117)),new we(28,new Z(21,45),new Z(7,46)),new we(30,new Z(1,23),new Z(37,24)),new we(30,new Z(19,15),new Z(26,16))),new wt(30,Int32Array.from([6,26,52,78,104,130]),new we(30,new Z(5,115),new Z(10,116)),new we(28,new Z(19,47),new Z(10,48)),new we(30,new Z(15,24),new Z(25,25)),new we(30,new Z(23,15),new Z(25,16))),new wt(31,Int32Array.from([6,30,56,82,108,134]),new we(30,new Z(13,115),new Z(3,116)),new we(28,new Z(2,46),new Z(29,47)),new we(30,new Z(42,24),new Z(1,25)),new we(30,new Z(23,15),new Z(28,16))),new wt(32,Int32Array.from([6,34,60,86,112,138]),new we(30,new Z(17,115)),new we(28,new Z(10,46),new Z(23,47)),new we(30,new Z(10,24),new Z(35,25)),new we(30,new Z(19,15),new Z(35,16))),new wt(33,Int32Array.from([6,30,58,86,114,142]),new we(30,new Z(17,115),new Z(1,116)),new we(28,new Z(14,46),new Z(21,47)),new we(30,new Z(29,24),new Z(19,25)),new we(30,new Z(11,15),new Z(46,16))),new wt(34,Int32Array.from([6,34,62,90,118,146]),new we(30,new Z(13,115),new Z(6,116)),new we(28,new Z(14,46),new Z(23,47)),new we(30,new Z(44,24),new Z(7,25)),new we(30,new Z(59,16),new Z(1,17))),new wt(35,Int32Array.from([6,30,54,78,102,126,150]),new we(30,new Z(12,121),new Z(7,122)),new we(28,new Z(12,47),new Z(26,48)),new we(30,new Z(39,24),new Z(14,25)),new we(30,new Z(22,15),new Z(41,16))),new wt(36,Int32Array.from([6,24,50,76,102,128,154]),new we(30,new Z(6,121),new Z(14,122)),new we(28,new Z(6,47),new Z(34,48)),new we(30,new Z(46,24),new Z(10,25)),new we(30,new Z(2,15),new Z(64,16))),new wt(37,Int32Array.from([6,28,54,80,106,132,158]),new we(30,new Z(17,122),new Z(4,123)),new we(28,new Z(29,46),new Z(14,47)),new we(30,new Z(49,24),new Z(10,25)),new we(30,new Z(24,15),new Z(46,16))),new wt(38,Int32Array.from([6,32,58,84,110,136,162]),new we(30,new Z(4,122),new Z(18,123)),new we(28,new Z(13,46),new Z(32,47)),new we(30,new Z(48,24),new Z(14,25)),new we(30,new Z(42,15),new Z(32,16))),new wt(39,Int32Array.from([6,26,54,82,110,138,166]),new we(30,new Z(20,117),new Z(4,118)),new we(28,new Z(40,47),new Z(7,48)),new we(30,new Z(43,24),new Z(22,25)),new we(30,new Z(10,15),new Z(67,16))),new wt(40,Int32Array.from([6,30,58,86,114,142,170]),new we(30,new Z(19,118),new Z(6,119)),new we(28,new Z(18,47),new Z(31,48)),new we(30,new Z(34,24),new Z(34,25)),new we(30,new Z(20,15),new Z(61,16)))];var Ur;(function(K){K[K.DATA_MASK_000=0]="DATA_MASK_000",K[K.DATA_MASK_001=1]="DATA_MASK_001",K[K.DATA_MASK_010=2]="DATA_MASK_010",K[K.DATA_MASK_011=3]="DATA_MASK_011",K[K.DATA_MASK_100=4]="DATA_MASK_100",K[K.DATA_MASK_101=5]="DATA_MASK_101",K[K.DATA_MASK_110=6]="DATA_MASK_110",K[K.DATA_MASK_111=7]="DATA_MASK_111"})(Ur||(Ur={}));class Zi{constructor(l,d){this.value=l,this.isMasked=d}unmaskBitMatrix(l,d){for(let h=0;h<d;h++)for(let x=0;x<d;x++)this.isMasked(h,x)&&l.flip(x,h)}}Zi.values=new Map([[Ur.DATA_MASK_000,new Zi(Ur.DATA_MASK_000,(K,l)=>(K+l&1)===0)],[Ur.DATA_MASK_001,new Zi(Ur.DATA_MASK_001,(K,l)=>(K&1)===0)],[Ur.DATA_MASK_010,new Zi(Ur.DATA_MASK_010,(K,l)=>l%3===0)],[Ur.DATA_MASK_011,new Zi(Ur.DATA_MASK_011,(K,l)=>(K+l)%3===0)],[Ur.DATA_MASK_100,new Zi(Ur.DATA_MASK_100,(K,l)=>(Math.floor(K/2)+Math.floor(l/3)&1)===0)],[Ur.DATA_MASK_101,new Zi(Ur.DATA_MASK_101,(K,l)=>K*l%6===0)],[Ur.DATA_MASK_110,new Zi(Ur.DATA_MASK_110,(K,l)=>K*l%6<3)],[Ur.DATA_MASK_111,new Zi(Ur.DATA_MASK_111,(K,l)=>(K+l+K*l%3&1)===0)]]);class Sl{constructor(l){const d=l.getHeight();if(d<21||(d&3)!==1)throw new D;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let y=0;y<6;y++)l=this.copyBit(y,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let y=5;y>=0;y--)l=this.copyBit(8,y,l);const d=this.bitMatrix.getHeight();let h=0;const x=d-7;for(let y=d-1;y>=x;y--)h=this.copyBit(8,y,h);for(let y=d-8;y<d;y++)h=this.copyBit(y,8,h);if(this.parsedFormatInfo=$r.decodeFormatInformation(l,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new D}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),d=Math.floor((l-17)/4);if(d<=6)return wt.getVersionForNumber(d);let h=0;const x=l-11;for(let b=5;b>=0;b--)for(let _=l-9;_>=x;_--)h=this.copyBit(_,b,h);let y=wt.decodeVersionInformation(h);if(y!==null&&y.getDimensionForVersion()===l)return this.parsedVersion=y,y;h=0;for(let b=5;b>=0;b--)for(let _=l-9;_>=x;_--)h=this.copyBit(b,_,h);if(y=wt.decodeVersionInformation(h),y!==null&&y.getDimensionForVersion()===l)return this.parsedVersion=y,y;throw new D}copyBit(l,d,h){return(this.isMirror?this.bitMatrix.get(d,l):this.bitMatrix.get(l,d))?h<<1|1:h<<1}readCodewords(){const l=this.readFormatInformation(),d=this.readVersion(),h=Zi.values.get(l.getDataMask()),x=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,x);const y=d.buildFunctionPattern();let b=!0;const _=new Uint8Array(d.getTotalCodewords());let T=0,k=0,P=0;for(let G=x-1;G>0;G-=2){G===6&&G--;for(let $=0;$<x;$++){const ee=b?x-1-$:$;for(let Ae=0;Ae<2;Ae++)y.get(G-Ae,ee)||(P++,k<<=1,this.bitMatrix.get(G-Ae,ee)&&(k|=1),P===8&&(_[T++]=k,P=0,k=0))}b=!b}if(T!==d.getTotalCodewords())throw new D;return _}remask(){if(this.parsedFormatInfo===null)return;const l=Zi.values[this.parsedFormatInfo.getDataMask()],d=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,d)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let d=0,h=l.getWidth();d<h;d++)for(let x=d+1,y=l.getHeight();x<y;x++)l.get(d,x)!==l.get(x,d)&&(l.flip(x,d),l.flip(d,x))}}class Vd{constructor(l,d){this.numDataCodewords=l,this.codewords=d}static getDataBlocks(l,d,h){if(l.length!==d.getTotalCodewords())throw new w;const x=d.getECBlocksForLevel(h);let y=0;const b=x.getECBlocks();for(const Ae of b)y+=Ae.getCount();const _=new Array(y);let T=0;for(const Ae of b)for(let ce=0;ce<Ae.getCount();ce++){const ge=Ae.getDataCodewords(),Te=x.getECCodewordsPerBlock()+ge;_[T++]=new Vd(ge,new Uint8Array(Te))}const k=_[0].codewords.length;let P=_.length-1;for(;P>=0&&_[P].codewords.length!==k;)P--;P++;const G=k-x.getECCodewordsPerBlock();let $=0;for(let Ae=0;Ae<G;Ae++)for(let ce=0;ce<T;ce++)_[ce].codewords[Ae]=l[$++];for(let Ae=P;Ae<T;Ae++)_[Ae].codewords[G]=l[$++];const ee=_[0].codewords.length;for(let Ae=G;Ae<ee;Ae++)for(let ce=0;ce<T;ce++){const ge=ce<P?Ae:Ae+1;_[ce].codewords[ge]=l[$++]}return _}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ji;(function(K){K[K.TERMINATOR=0]="TERMINATOR",K[K.NUMERIC=1]="NUMERIC",K[K.ALPHANUMERIC=2]="ALPHANUMERIC",K[K.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",K[K.BYTE=4]="BYTE",K[K.ECI=5]="ECI",K[K.KANJI=6]="KANJI",K[K.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",K[K.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",K[K.HANZI=9]="HANZI"})(Ji||(Ji={}));class _t{constructor(l,d,h,x){this.value=l,this.stringValue=d,this.characterCountBitsForVersions=h,this.bits=x,_t.FOR_BITS.set(x,this),_t.FOR_VALUE.set(l,this)}static forBits(l){const d=_t.FOR_BITS.get(l);if(d===void 0)throw new w;return d}getCharacterCountBits(l){const d=l.getVersionNumber();let h;return d<=9?h=0:d<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof _t))return!1;const d=l;return this.value===d.value}toString(){return this.stringValue}}_t.FOR_BITS=new Map,_t.FOR_VALUE=new Map,_t.TERMINATOR=new _t(Ji.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),_t.NUMERIC=new _t(Ji.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),_t.ALPHANUMERIC=new _t(Ji.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),_t.STRUCTURED_APPEND=new _t(Ji.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),_t.BYTE=new _t(Ji.BYTE,"BYTE",Int32Array.from([8,16,16]),4),_t.ECI=new _t(Ji.ECI,"ECI",Int32Array.from([0,0,0]),7),_t.KANJI=new _t(Ji.KANJI,"KANJI",Int32Array.from([8,10,12]),8),_t.FNC1_FIRST_POSITION=new _t(Ji.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),_t.FNC1_SECOND_POSITION=new _t(Ji.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),_t.HANZI=new _t(Ji.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Jn{static decode(l,d,h,x){const y=new fi(l);let b=new re;const _=new Array;let T=-1,k=-1;try{let P=null,G=!1,$;do{if(y.available()<4)$=_t.TERMINATOR;else{const ee=y.readBits(4);$=_t.forBits(ee)}switch($){case _t.TERMINATOR:break;case _t.FNC1_FIRST_POSITION:case _t.FNC1_SECOND_POSITION:G=!0;break;case _t.STRUCTURED_APPEND:if(y.available()<16)throw new D;T=y.readBits(8),k=y.readBits(8);break;case _t.ECI:const ee=Jn.parseECIValue(y);if(P=V.getCharacterSetECIByValue(ee),P===null)throw new D;break;case _t.HANZI:const Ae=y.readBits(4),ce=y.readBits($.getCharacterCountBits(d));Ae===Jn.GB2312_SUBSET&&Jn.decodeHanziSegment(y,b,ce);break;default:const ge=y.readBits($.getCharacterCountBits(d));switch($){case _t.NUMERIC:Jn.decodeNumericSegment(y,b,ge);break;case _t.ALPHANUMERIC:Jn.decodeAlphanumericSegment(y,b,ge,G);break;case _t.BYTE:Jn.decodeByteSegment(y,b,ge,P,_,x);break;case _t.KANJI:Jn.decodeKanjiSegment(y,b,ge);break;default:throw new D}break}}while($!==_t.TERMINATOR)}catch{throw new D}return new vt(l,b.toString(),_.length===0?null:_,h===null?null:h.toString(),T,k)}static decodeHanziSegment(l,d,h){if(h*13>l.available())throw new D;const x=new Uint8Array(2*h);let y=0;for(;h>0;){const b=l.readBits(13);let _=b/96<<8&4294967295|b%96;_<959?_+=41377:_+=42657,x[y]=_>>8&255,x[y+1]=_&255,y+=2,h--}try{d.append(Y.decode(x,J.GB2312))}catch(b){throw new D(b)}}static decodeKanjiSegment(l,d,h){if(h*13>l.available())throw new D;const x=new Uint8Array(2*h);let y=0;for(;h>0;){const b=l.readBits(13);let _=b/192<<8&4294967295|b%192;_<7936?_+=33088:_+=49472,x[y]=_>>8,x[y+1]=_,y+=2,h--}try{d.append(Y.decode(x,J.SHIFT_JIS))}catch(b){throw new D(b)}}static decodeByteSegment(l,d,h,x,y,b){if(8*h>l.available())throw new D;const _=new Uint8Array(h);for(let k=0;k<h;k++)_[k]=l.readBits(8);let T;x===null?T=J.guessEncoding(_,b):T=x.getName();try{d.append(Y.decode(_,T))}catch(k){throw new D(k)}y.push(_)}static toAlphaNumericChar(l){if(l>=Jn.ALPHANUMERIC_CHARS.length)throw new D;return Jn.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,d,h,x){const y=d.length();for(;h>1;){if(l.available()<11)throw new D;const b=l.readBits(11);d.append(Jn.toAlphaNumericChar(Math.floor(b/45))),d.append(Jn.toAlphaNumericChar(b%45)),h-=2}if(h===1){if(l.available()<6)throw new D;d.append(Jn.toAlphaNumericChar(l.readBits(6)))}if(x)for(let b=y;b<d.length();b++)d.charAt(b)==="%"&&(b<d.length()-1&&d.charAt(b+1)==="%"?d.deleteCharAt(b+1):d.setCharAt(b,""))}static decodeNumericSegment(l,d,h){for(;h>=3;){if(l.available()<10)throw new D;const x=l.readBits(10);if(x>=1e3)throw new D;d.append(Jn.toAlphaNumericChar(Math.floor(x/100))),d.append(Jn.toAlphaNumericChar(Math.floor(x/10)%10)),d.append(Jn.toAlphaNumericChar(x%10)),h-=3}if(h===2){if(l.available()<7)throw new D;const x=l.readBits(7);if(x>=100)throw new D;d.append(Jn.toAlphaNumericChar(Math.floor(x/10))),d.append(Jn.toAlphaNumericChar(x%10))}else if(h===1){if(l.available()<4)throw new D;const x=l.readBits(4);if(x>=10)throw new D;d.append(Jn.toAlphaNumericChar(x))}}static parseECIValue(l){const d=l.readBits(8);if((d&128)===0)return d&127;if((d&192)===128){const h=l.readBits(8);return(d&63)<<8&4294967295|h}if((d&224)===192){const h=l.readBits(16);return(d&31)<<16&4294967295|h}throw new D}}Jn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Jn.GB2312_SUBSET=1;class hp{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const d=l[0];l[0]=l[2],l[2]=d}}class Ax{constructor(){this.rsDecoder=new bi(Et.QR_CODE_FIELD_256)}decodeBooleanArray(l,d){return this.decodeBitMatrix(te.parseFromBooleanArray(l),d)}decodeBitMatrix(l,d){const h=new Sl(l);let x=null;try{return this.decodeBitMatrixParser(h,d)}catch(y){x=y}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const y=this.decodeBitMatrixParser(h,d);return y.setOther(new hp(!0)),y}catch(y){throw x!==null?x:y}}decodeBitMatrixParser(l,d){const h=l.readVersion(),x=l.readFormatInformation().getErrorCorrectionLevel(),y=l.readCodewords(),b=Vd.getDataBlocks(y,h,x);let _=0;for(const P of b)_+=P.getNumDataCodewords();const T=new Uint8Array(_);let k=0;for(const P of b){const G=P.getCodewords(),$=P.getNumDataCodewords();this.correctErrors(G,$);for(let ee=0;ee<$;ee++)T[k++]=G[ee]}return Jn.decode(T,h,x,d)}correctErrors(l,d){const h=new Int32Array(l);try{this.rsDecoder.decode(h,l.length-d)}catch{throw new B}for(let x=0;x<d;x++)l[x]=h[x]}}class Tl extends at{constructor(l,d,h){super(l,d),this.estimatedModuleSize=h}aboutEquals(l,d,h){if(Math.abs(d-this.getY())<=l&&Math.abs(h-this.getX())<=l){const x=Math.abs(l-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(l,d,h){const x=(this.getX()+d)/2,y=(this.getY()+l)/2,b=(this.estimatedModuleSize+h)/2;return new Tl(x,y,b)}}class ys{constructor(l,d,h,x,y,b,_){this.image=l,this.startX=d,this.startY=h,this.width=x,this.height=y,this.moduleSize=b,this.resultPointCallback=_,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,d=this.height,h=this.width,x=l+h,y=this.startY+d/2,b=new Int32Array(3),_=this.image;for(let T=0;T<d;T++){const k=y+((T&1)===0?Math.floor((T+1)/2):-Math.floor((T+1)/2));b[0]=0,b[1]=0,b[2]=0;let P=l;for(;P<x&&!_.get(P,k);)P++;let G=0;for(;P<x;){if(_.get(P,k))if(G===1)b[1]++;else if(G===2){if(this.foundPatternCross(b)){const $=this.handlePossibleCenter(b,k,P);if($!==null)return $}b[0]=b[2],b[1]=1,b[2]=0,G=1}else b[++G]++;else G===1&&G++,b[G]++;P++}if(this.foundPatternCross(b)){const $=this.handlePossibleCenter(b,k,x);if($!==null)return $}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new q}static centerFromEnd(l,d){return d-l[2]-l[1]/2}foundPatternCross(l){const d=this.moduleSize,h=d/2;for(let x=0;x<3;x++)if(Math.abs(d-l[x])>=h)return!1;return!0}crossCheckVertical(l,d,h,x){const y=this.image,b=y.getHeight(),_=this.crossCheckStateCount;_[0]=0,_[1]=0,_[2]=0;let T=l;for(;T>=0&&y.get(d,T)&&_[1]<=h;)_[1]++,T--;if(T<0||_[1]>h)return NaN;for(;T>=0&&!y.get(d,T)&&_[0]<=h;)_[0]++,T--;if(_[0]>h)return NaN;for(T=l+1;T<b&&y.get(d,T)&&_[1]<=h;)_[1]++,T++;if(T===b||_[1]>h)return NaN;for(;T<b&&!y.get(d,T)&&_[2]<=h;)_[2]++,T++;if(_[2]>h)return NaN;const k=_[0]+_[1]+_[2];return 5*Math.abs(k-x)>=2*x?NaN:this.foundPatternCross(_)?ys.centerFromEnd(_,T):NaN}handlePossibleCenter(l,d,h){const x=l[0]+l[1]+l[2],y=ys.centerFromEnd(l,h),b=this.crossCheckVertical(d,y,2*l[1],x);if(!isNaN(b)){const _=(l[0]+l[1]+l[2])/3;for(const k of this.possibleCenters)if(k.aboutEquals(_,b,y))return k.combineEstimate(b,y,_);const T=new Tl(y,b,_);this.possibleCenters.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return null}}class GA extends at{constructor(l,d,h,x){super(l,d),this.estimatedModuleSize=h,this.count=x,x===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,d,h){if(Math.abs(d-this.getY())<=l&&Math.abs(h-this.getX())<=l){const x=Math.abs(l-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(l,d,h){const x=this.count+1,y=(this.count*this.getX()+d)/x,b=(this.count*this.getY()+l)/x,_=(this.count*this.estimatedModuleSize+h)/x;return new GA(y,b,_,x)}}class Kd{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class lr{constructor(l,d){this.image=l,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=d}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const d=l!=null&&l.get(Q.TRY_HARDER)!==void 0,h=l!=null&&l.get(Q.PURE_BARCODE)!==void 0,x=this.image,y=x.getHeight(),b=x.getWidth();let _=Math.floor(3*y/(4*lr.MAX_MODULES));(_<lr.MIN_SKIP||d)&&(_=lr.MIN_SKIP);let T=!1;const k=new Int32Array(5);for(let G=_-1;G<y&&!T;G+=_){k[0]=0,k[1]=0,k[2]=0,k[3]=0,k[4]=0;let $=0;for(let ee=0;ee<b;ee++)if(x.get(ee,G))($&1)===1&&$++,k[$]++;else if(($&1)===0)if($===4)if(lr.foundPatternCross(k)){if(this.handlePossibleCenter(k,G,ee,h)===!0)if(_=2,this.hasSkipped===!0)T=this.haveMultiplyConfirmedCenters();else{const ce=this.findRowSkip();ce>k[2]&&(G+=ce-k[2]-_,ee=b-1)}else{k[0]=k[2],k[1]=k[3],k[2]=k[4],k[3]=1,k[4]=0,$=3;continue}$=0,k[0]=0,k[1]=0,k[2]=0,k[3]=0,k[4]=0}else k[0]=k[2],k[1]=k[3],k[2]=k[4],k[3]=1,k[4]=0,$=3;else k[++$]++;else k[$]++;lr.foundPatternCross(k)&&this.handlePossibleCenter(k,G,b,h)===!0&&(_=k[0],this.hasSkipped&&(T=this.haveMultiplyConfirmedCenters()))}const P=this.selectBestPatterns();return at.orderBestPatterns(P),new Kd(P)}static centerFromEnd(l,d){return d-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let d=0;for(let y=0;y<5;y++){const b=l[y];if(b===0)return!1;d+=b}if(d<7)return!1;const h=d/7,x=h/2;return Math.abs(h-l[0])<x&&Math.abs(h-l[1])<x&&Math.abs(3*h-l[2])<3*x&&Math.abs(h-l[3])<x&&Math.abs(h-l[4])<x}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,d,h,x){const y=this.getCrossCheckStateCount();let b=0;const _=this.image;for(;l>=b&&d>=b&&_.get(d-b,l-b);)y[2]++,b++;if(l<b||d<b)return!1;for(;l>=b&&d>=b&&!_.get(d-b,l-b)&&y[1]<=h;)y[1]++,b++;if(l<b||d<b||y[1]>h)return!1;for(;l>=b&&d>=b&&_.get(d-b,l-b)&&y[0]<=h;)y[0]++,b++;if(y[0]>h)return!1;const T=_.getHeight(),k=_.getWidth();for(b=1;l+b<T&&d+b<k&&_.get(d+b,l+b);)y[2]++,b++;if(l+b>=T||d+b>=k)return!1;for(;l+b<T&&d+b<k&&!_.get(d+b,l+b)&&y[3]<h;)y[3]++,b++;if(l+b>=T||d+b>=k||y[3]>=h)return!1;for(;l+b<T&&d+b<k&&_.get(d+b,l+b)&&y[4]<h;)y[4]++,b++;if(y[4]>=h)return!1;const P=y[0]+y[1]+y[2]+y[3]+y[4];return Math.abs(P-x)<2*x&&lr.foundPatternCross(y)}crossCheckVertical(l,d,h,x){const y=this.image,b=y.getHeight(),_=this.getCrossCheckStateCount();let T=l;for(;T>=0&&y.get(d,T);)_[2]++,T--;if(T<0)return NaN;for(;T>=0&&!y.get(d,T)&&_[1]<=h;)_[1]++,T--;if(T<0||_[1]>h)return NaN;for(;T>=0&&y.get(d,T)&&_[0]<=h;)_[0]++,T--;if(_[0]>h)return NaN;for(T=l+1;T<b&&y.get(d,T);)_[2]++,T++;if(T===b)return NaN;for(;T<b&&!y.get(d,T)&&_[3]<h;)_[3]++,T++;if(T===b||_[3]>=h)return NaN;for(;T<b&&y.get(d,T)&&_[4]<h;)_[4]++,T++;if(_[4]>=h)return NaN;const k=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(k-x)>=2*x?NaN:lr.foundPatternCross(_)?lr.centerFromEnd(_,T):NaN}crossCheckHorizontal(l,d,h,x){const y=this.image,b=y.getWidth(),_=this.getCrossCheckStateCount();let T=l;for(;T>=0&&y.get(T,d);)_[2]++,T--;if(T<0)return NaN;for(;T>=0&&!y.get(T,d)&&_[1]<=h;)_[1]++,T--;if(T<0||_[1]>h)return NaN;for(;T>=0&&y.get(T,d)&&_[0]<=h;)_[0]++,T--;if(_[0]>h)return NaN;for(T=l+1;T<b&&y.get(T,d);)_[2]++,T++;if(T===b)return NaN;for(;T<b&&!y.get(T,d)&&_[3]<h;)_[3]++,T++;if(T===b||_[3]>=h)return NaN;for(;T<b&&y.get(T,d)&&_[4]<h;)_[4]++,T++;if(_[4]>=h)return NaN;const k=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(k-x)>=x?NaN:lr.foundPatternCross(_)?lr.centerFromEnd(_,T):NaN}handlePossibleCenter(l,d,h,x){const y=l[0]+l[1]+l[2]+l[3]+l[4];let b=lr.centerFromEnd(l,h),_=this.crossCheckVertical(d,Math.floor(b),l[2],y);if(!isNaN(_)&&(b=this.crossCheckHorizontal(Math.floor(b),Math.floor(_),l[2],y),!isNaN(b)&&(!x||this.crossCheckDiagonal(Math.floor(_),Math.floor(b),l[2],y)))){const T=y/7;let k=!1;const P=this.possibleCenters;for(let G=0,$=P.length;G<$;G++){const ee=P[G];if(ee.aboutEquals(T,_,b)){P[G]=ee.combineEstimate(_,b,T),k=!0;break}}if(!k){const G=new GA(b,_,T);P.push(G),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(G)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let d=null;for(const h of this.possibleCenters)if(h.getCount()>=lr.CENTER_QUORUM)if(d==null)d=h;else return this.hasSkipped=!0,Math.floor((Math.abs(d.getX()-h.getX())-Math.abs(d.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,d=0;const h=this.possibleCenters.length;for(const b of this.possibleCenters)b.getCount()>=lr.CENTER_QUORUM&&(l++,d+=b.getEstimatedModuleSize());if(l<3)return!1;const x=d/h;let y=0;for(const b of this.possibleCenters)y+=Math.abs(b.getEstimatedModuleSize()-x);return y<=.05*d}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new q;const d=this.possibleCenters;let h;if(l>3){let x=0,y=0;for(const T of this.possibleCenters){const k=T.getEstimatedModuleSize();x+=k,y+=k*k}h=x/l;let b=Math.sqrt(y/l-h*h);d.sort((T,k)=>{const P=Math.abs(k.getEstimatedModuleSize()-h),G=Math.abs(T.getEstimatedModuleSize()-h);return P<G?-1:P>G?1:0});const _=Math.max(.2*h,b);for(let T=0;T<d.length&&d.length>3;T++){const k=d[T];Math.abs(k.getEstimatedModuleSize()-h)>_&&(d.splice(T,1),T--)}}if(d.length>3){let x=0;for(const y of d)x+=y.getEstimatedModuleSize();h=x/d.length,d.sort((y,b)=>{if(b.getCount()===y.getCount()){const _=Math.abs(b.getEstimatedModuleSize()-h),T=Math.abs(y.getEstimatedModuleSize()-h);return _<T?1:_>T?-1:0}else return b.getCount()-y.getCount()}),d.splice(3)}return[d[0],d[1],d[2]]}}lr.CENTER_QUORUM=2,lr.MIN_SKIP=3,lr.MAX_MODULES=57;class oa{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(Q.NEED_RESULT_POINT_CALLBACK);const h=new lr(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(h)}processFinderPatternInfo(l){const d=l.getTopLeft(),h=l.getTopRight(),x=l.getBottomLeft(),y=this.calculateModuleSize(d,h,x);if(y<1)throw new q("No pattern found in proccess finder.");const b=oa.computeDimension(d,h,x,y),_=wt.getProvisionalVersionForDimension(b),T=_.getDimensionForVersion()-7;let k=null;if(_.getAlignmentPatternCenters().length>0){const ee=h.getX()-d.getX()+x.getX(),Ae=h.getY()-d.getY()+x.getY(),ce=1-3/T,ge=Math.floor(d.getX()+ce*(ee-d.getX())),Te=Math.floor(d.getY()+ce*(Ae-d.getY()));for(let Ze=4;Ze<=16;Ze<<=1)try{k=this.findAlignmentInRegion(y,ge,Te,Ze);break}catch(Ye){if(!(Ye instanceof q))throw Ye}}const P=oa.createTransform(d,h,x,k,b),G=oa.sampleGrid(this.image,P,b);let $;return k===null?$=[x,d,h]:$=[x,d,h,k],new qi(G,$)}static createTransform(l,d,h,x,y){const b=y-3.5;let _,T,k,P;return x!==null?(_=x.getX(),T=x.getY(),k=b-3,P=k):(_=d.getX()-l.getX()+h.getX(),T=d.getY()-l.getY()+h.getY(),k=b,P=b),de.quadrilateralToQuadrilateral(3.5,3.5,b,3.5,k,P,3.5,b,l.getX(),l.getY(),d.getX(),d.getY(),_,T,h.getX(),h.getY())}static sampleGrid(l,d,h){return Re.getInstance().sampleGridWithTransform(l,h,h,d)}static computeDimension(l,d,h,x){const y=Ht.round(at.distance(l,d)/x),b=Ht.round(at.distance(l,h)/x);let _=Math.floor((y+b)/2)+7;switch(_&3){case 0:_++;break;case 2:_--;break;case 3:throw new q("Dimensions could be not found.")}return _}calculateModuleSize(l,d,h){return(this.calculateModuleSizeOneWay(l,d)+this.calculateModuleSizeOneWay(l,h))/2}calculateModuleSizeOneWay(l,d){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(d.getX()),Math.floor(d.getY())),x=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(d.getX()),Math.floor(d.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(h)?x/7:isNaN(x)?h/7:(h+x)/14}sizeOfBlackWhiteBlackRunBothWays(l,d,h,x){let y=this.sizeOfBlackWhiteBlackRun(l,d,h,x),b=1,_=l-(h-l);_<0?(b=l/(l-_),_=0):_>=this.image.getWidth()&&(b=(this.image.getWidth()-1-l)/(_-l),_=this.image.getWidth()-1);let T=Math.floor(d-(x-d)*b);return b=1,T<0?(b=d/(d-T),T=0):T>=this.image.getHeight()&&(b=(this.image.getHeight()-1-d)/(T-d),T=this.image.getHeight()-1),_=Math.floor(l+(_-l)*b),y+=this.sizeOfBlackWhiteBlackRun(l,d,_,T),y-1}sizeOfBlackWhiteBlackRun(l,d,h,x){const y=Math.abs(x-d)>Math.abs(h-l);if(y){let ee=l;l=d,d=ee,ee=h,h=x,x=ee}const b=Math.abs(h-l),_=Math.abs(x-d);let T=-b/2;const k=l<h?1:-1,P=d<x?1:-1;let G=0;const $=h+k;for(let ee=l,Ae=d;ee!==$;ee+=k){const ce=y?Ae:ee,ge=y?ee:Ae;if(G===1===this.image.get(ce,ge)){if(G===2)return Ht.distance(ee,Ae,l,d);G++}if(T+=_,T>0){if(Ae===x)break;Ae+=P,T-=b}}return G===2?Ht.distance(h+k,x,l,d):NaN}findAlignmentInRegion(l,d,h,x){const y=Math.floor(x*l),b=Math.max(0,d-y),_=Math.min(this.image.getWidth()-1,d+y);if(_-b<l*3)throw new q("Alignment top exceeds estimated module size.");const T=Math.max(0,h-y),k=Math.min(this.image.getHeight()-1,h+y);if(k-T<l*3)throw new q("Alignment bottom exceeds estimated module size.");return new ys(this.image,b,T,_-b,k-T,l,this.resultPointCallback).find()}}class Fa{constructor(){this.decoder=new Ax}getDecoder(){return this.decoder}decode(l,d){let h,x;if(d!=null&&d.get(Q.PURE_BARCODE)!==void 0){const T=Fa.extractPureBits(l.getBlackMatrix());h=this.decoder.decodeBitMatrix(T,d),x=Fa.NO_POINTS}else{const T=new oa(l.getBlackMatrix()).detect(d);h=this.decoder.decodeBitMatrix(T.getBits(),d),x=T.getPoints()}h.getOther()instanceof hp&&h.getOther().applyMirroredCorrection(x);const y=new ye(h.getText(),h.getRawBytes(),void 0,x,De.QR_CODE,void 0),b=h.getByteSegments();b!==null&&y.putMetadata(qe.BYTE_SEGMENTS,b);const _=h.getECLevel();return _!==null&&y.putMetadata(qe.ERROR_CORRECTION_LEVEL,_),h.hasStructuredAppend()&&(y.putMetadata(qe.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),y.putMetadata(qe.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),y}reset(){}static extractPureBits(l){const d=l.getTopLeftOnBit(),h=l.getBottomRightOnBit();if(d===null||h===null)throw new q;const x=this.moduleSize(d,l);let y=d[1],b=h[1],_=d[0],T=h[0];if(_>=T||y>=b)throw new q;if(b-y!==T-_&&(T=_+(b-y),T>=l.getWidth()))throw new q;const k=Math.round((T-_+1)/x),P=Math.round((b-y+1)/x);if(k<=0||P<=0)throw new q;if(P!==k)throw new q;const G=Math.floor(x/2);y+=G,_+=G;const $=_+Math.floor((k-1)*x)-T;if($>0){if($>G)throw new q;_-=$}const ee=y+Math.floor((P-1)*x)-b;if(ee>0){if(ee>G)throw new q;y-=ee}const Ae=new te(k,P);for(let ce=0;ce<P;ce++){const ge=y+Math.floor(ce*x);for(let Te=0;Te<k;Te++)l.get(_+Math.floor(Te*x),ge)&&Ae.set(Te,ce)}return Ae}static moduleSize(l,d){const h=d.getHeight(),x=d.getWidth();let y=l[0],b=l[1],_=!0,T=0;for(;y<x&&b<h;){if(_!==d.get(y,b)){if(++T===5)break;_=!_}y++,b++}if(y===x||b===h)throw new q;return(y-l[0])/7}}Fa.NO_POINTS=new Array;class Nt{PDF417Common(){}static getBitCountSum(l){return Ht.sum(l)}static toIntArray(l){if(l==null||!l.length)return Nt.EMPTY_INT_ARRAY;const d=new Int32Array(l.length);let h=0;for(const x of l)d[h++]=x;return d}static getCodeword(l){const d=L.binarySearch(Nt.SYMBOL_TABLE,l&262143);return d<0?-1:(Nt.CODEWORD_TABLE[d]-1)%Nt.NUMBER_OF_CODEWORDS}}Nt.NUMBER_OF_CODEWORDS=929,Nt.MAX_CODEWORDS_IN_BARCODE=Nt.NUMBER_OF_CODEWORDS-1,Nt.MIN_ROWS_IN_BARCODE=3,Nt.MAX_ROWS_IN_BARCODE=90,Nt.MODULES_IN_CODEWORD=17,Nt.MODULES_IN_STOP_PATTERN=18,Nt.BARS_IN_MODULE=8,Nt.EMPTY_INT_ARRAY=new Int32Array([]),Nt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Nt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class pp{constructor(l,d){this.bits=l,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class jt{static detectMultiple(l,d,h){let x=l.getBlackMatrix(),y=jt.detect(h,x);return y.length||(x=x.clone(),x.rotate180(),y=jt.detect(h,x)),new pp(x,y)}static detect(l,d){const h=new Array;let x=0,y=0,b=!1;for(;x<d.getHeight();){const _=jt.findVertices(d,x,y);if(_[0]==null&&_[3]==null){if(!b)break;b=!1,y=0;for(const T of h)T[1]!=null&&(x=Math.trunc(Math.max(x,T[1].getY()))),T[3]!=null&&(x=Math.max(x,Math.trunc(T[3].getY())));x+=jt.ROW_STEP;continue}if(b=!0,h.push(_),!l)break;_[2]!=null?(y=Math.trunc(_[2].getX()),x=Math.trunc(_[2].getY())):(y=Math.trunc(_[4].getX()),x=Math.trunc(_[4].getY()))}return h}static findVertices(l,d,h){const x=l.getHeight(),y=l.getWidth(),b=new Array(8);return jt.copyToResult(b,jt.findRowsWithPattern(l,x,y,d,h,jt.START_PATTERN),jt.INDEXES_START_PATTERN),b[4]!=null&&(h=Math.trunc(b[4].getX()),d=Math.trunc(b[4].getY())),jt.copyToResult(b,jt.findRowsWithPattern(l,x,y,d,h,jt.STOP_PATTERN),jt.INDEXES_STOP_PATTERN),b}static copyToResult(l,d,h){for(let x=0;x<h.length;x++)l[h[x]]=d[x]}static findRowsWithPattern(l,d,h,x,y,b){const _=new Array(4);let T=!1;const k=new Int32Array(b.length);for(;x<d;x+=jt.ROW_STEP){let G=jt.findGuardPattern(l,y,x,h,!1,b,k);if(G!=null){for(;x>0;){const $=jt.findGuardPattern(l,y,--x,h,!1,b,k);if($!=null)G=$;else{x++;break}}_[0]=new at(G[0],x),_[1]=new at(G[1],x),T=!0;break}}let P=x+1;if(T){let G=0,$=Int32Array.from([Math.trunc(_[0].getX()),Math.trunc(_[1].getX())]);for(;P<d;P++){const ee=jt.findGuardPattern(l,$[0],P,h,!1,b,k);if(ee!=null&&Math.abs($[0]-ee[0])<jt.MAX_PATTERN_DRIFT&&Math.abs($[1]-ee[1])<jt.MAX_PATTERN_DRIFT)$=ee,G=0;else{if(G>jt.SKIPPED_ROW_COUNT_MAX)break;G++}}P-=G+1,_[2]=new at($[0],P),_[3]=new at($[1],P)}return P-x<jt.BARCODE_MIN_HEIGHT&&L.fill(_,null),_}static findGuardPattern(l,d,h,x,y,b,_){L.fillWithin(_,0,_.length,0);let T=d,k=0;for(;l.get(T,h)&&T>0&&k++<jt.MAX_PIXEL_DRIFT;)T--;let P=T,G=0,$=b.length;for(let ee=y;P<x;P++)if(l.get(P,h)!==ee)_[G]++;else{if(G===$-1){if(jt.patternMatchVariance(_,b,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return new Int32Array([T,P]);T+=_[0]+_[1],I.arraycopy(_,2,_,0,G-1),_[G-1]=0,_[G]=0,G--}else G++;_[G]=1,ee=!ee}return G===$-1&&jt.patternMatchVariance(_,b,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE?new Int32Array([T,P-1]):null}static patternMatchVariance(l,d,h){let x=l.length,y=0,b=0;for(let k=0;k<x;k++)y+=l[k],b+=d[k];if(y<b)return 1/0;let _=y/b;h*=_;let T=0;for(let k=0;k<x;k++){let P=l[k],G=d[k]*_,$=P>G?P-G:G-P;if($>h)return 1/0;T+=$}return T/y}}jt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),jt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),jt.MAX_AVG_VARIANCE=.42,jt.MAX_INDIVIDUAL_VARIANCE=.8,jt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),jt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),jt.MAX_PIXEL_DRIFT=3,jt.MAX_PATTERN_DRIFT=5,jt.SKIPPED_ROW_COUNT_MAX=25,jt.ROW_STEP=5,jt.BARCODE_MIN_HEIGHT=10;class er{constructor(l,d){if(d.length===0)throw new w;this.field=l;let h=d.length;if(h>1&&d[0]===0){let x=1;for(;x<h&&d[x]===0;)x++;x===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-x),I.arraycopy(d,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let x=0;for(let y of this.coefficients)x=this.field.add(x,y);return x}let d=this.coefficients[0],h=this.coefficients.length;for(let x=1;x<h;x++)d=this.field.add(this.field.multiply(l,d),this.coefficients[x]);return d}add(l){if(!this.field.equals(l.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let d=this.coefficients,h=l.coefficients;if(d.length>h.length){let b=d;d=h,h=b}let x=new Int32Array(h.length),y=h.length-d.length;I.arraycopy(h,0,x,0,y);for(let b=y;b<h.length;b++)x[b]=this.field.add(d[b-y],h[b]);return new er(this.field,x)}subtract(l){if(!this.field.equals(l.field))throw new w("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof er?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new er(this.field,new Int32Array([0]));let d=this.coefficients,h=d.length,x=l.coefficients,y=x.length,b=new Int32Array(h+y-1);for(let _=0;_<h;_++){let T=d[_];for(let k=0;k<y;k++)b[_+k]=this.field.add(b[_+k],this.field.multiply(T,x[k]))}return new er(this.field,b)}negative(){let l=this.coefficients.length,d=new Int32Array(l);for(let h=0;h<l;h++)d[h]=this.field.subtract(0,this.coefficients[h]);return new er(this.field,d)}multiplyScalar(l){if(l===0)return new er(this.field,new Int32Array([0]));if(l===1)return this;let d=this.coefficients.length,h=new Int32Array(d);for(let x=0;x<d;x++)h[x]=this.field.multiply(this.coefficients[x],l);return new er(this.field,h)}multiplyByMonomial(l,d){if(l<0)throw new w;if(d===0)return new er(this.field,new Int32Array([0]));let h=this.coefficients.length,x=new Int32Array(h+l);for(let y=0;y<h;y++)x[y]=this.field.multiply(this.coefficients[y],d);return new er(this.field,x)}toString(){let l=new re;for(let d=this.getDegree();d>=0;d--){let h=this.getCoefficient(d);h!==0&&(h<0?(l.append(" - "),h=-h):l.length()>0&&l.append(" + "),(d===0||h!==1)&&l.append(h),d!==0&&(d===1?l.append("x"):(l.append("x^"),l.append(d))))}return l.toString()}}class Gd{add(l,d){return(l+d)%this.modulus}subtract(l,d){return(this.modulus+l-d)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new w;return this.logTable[l]}inverse(l){if(l===0)throw new fn;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,d){return l===0||d===0?0:this.expTable[(this.logTable[l]+this.logTable[d])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Eo extends Gd{constructor(l,d){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let h=1;for(let x=0;x<l;x++)this.expTable[x]=h,h=h*d%l;for(let x=0;x<l-1;x++)this.logTable[this.expTable[x]]=x;this.zero=new er(this,new Int32Array([0])),this.one=new er(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,d){if(l<0)throw new w;if(d===0)return this.zero;let h=new Int32Array(l+1);return h[0]=d,new er(this,h)}}Eo.PDF417_GF=new Eo(Nt.NUMBER_OF_CODEWORDS,3);class Da{constructor(){this.field=Eo.PDF417_GF}decode(l,d,h){let x=new er(this.field,l),y=new Int32Array(d),b=!1;for(let Ae=d;Ae>0;Ae--){let ce=x.evaluateAt(this.field.exp(Ae));y[d-Ae]=ce,ce!==0&&(b=!0)}if(!b)return 0;let _=this.field.getOne();if(h!=null)for(const Ae of h){let ce=this.field.exp(l.length-1-Ae),ge=new er(this.field,new Int32Array([this.field.subtract(0,ce),1]));_=_.multiply(ge)}let T=new er(this.field,y),k=this.runEuclideanAlgorithm(this.field.buildMonomial(d,1),T,d),P=k[0],G=k[1],$=this.findErrorLocations(P),ee=this.findErrorMagnitudes(G,P,$);for(let Ae=0;Ae<$.length;Ae++){let ce=l.length-1-this.field.log($[Ae]);if(ce<0)throw B.getChecksumInstance();l[ce]=this.field.subtract(l[ce],ee[Ae])}return $.length}runEuclideanAlgorithm(l,d,h){if(l.getDegree()<d.getDegree()){let $=l;l=d,d=$}let x=l,y=d,b=this.field.getZero(),_=this.field.getOne();for(;y.getDegree()>=Math.round(h/2);){let $=x,ee=b;if(x=y,b=_,x.isZero())throw B.getChecksumInstance();y=$;let Ae=this.field.getZero(),ce=x.getCoefficient(x.getDegree()),ge=this.field.inverse(ce);for(;y.getDegree()>=x.getDegree()&&!y.isZero();){let Te=y.getDegree()-x.getDegree(),Ze=this.field.multiply(y.getCoefficient(y.getDegree()),ge);Ae=Ae.add(this.field.buildMonomial(Te,Ze)),y=y.subtract(x.multiplyByMonomial(Te,Ze))}_=Ae.multiply(b).subtract(ee).negative()}let T=_.getCoefficient(0);if(T===0)throw B.getChecksumInstance();let k=this.field.inverse(T),P=_.multiply(k),G=y.multiply(k);return[P,G]}findErrorLocations(l){let d=l.getDegree(),h=new Int32Array(d),x=0;for(let y=1;y<this.field.getSize()&&x<d;y++)l.evaluateAt(y)===0&&(h[x]=this.field.inverse(y),x++);if(x!==d)throw B.getChecksumInstance();return h}findErrorMagnitudes(l,d,h){let x=d.getDegree(),y=new Int32Array(x);for(let k=1;k<=x;k++)y[x-k]=this.field.multiply(k,d.getCoefficient(k));let b=new er(this.field,y),_=h.length,T=new Int32Array(_);for(let k=0;k<_;k++){let P=this.field.inverse(h[k]),G=this.field.subtract(0,l.evaluateAt(P)),$=this.field.inverse(b.evaluateAt(P));T[k]=this.field.multiply(G,$)}return T}}class Ra{constructor(l,d,h,x,y){l instanceof Ra?this.constructor_2(l):this.constructor_1(l,d,h,x,y)}constructor_1(l,d,h,x,y){const b=d==null||h==null,_=x==null||y==null;if(b&&_)throw new q;b?(d=new at(0,x.getY()),h=new at(0,y.getY())):_&&(x=new at(l.getWidth()-1,d.getY()),y=new at(l.getWidth()-1,h.getY())),this.image=l,this.topLeft=d,this.bottomLeft=h,this.topRight=x,this.bottomRight=y,this.minX=Math.trunc(Math.min(d.getX(),h.getX())),this.maxX=Math.trunc(Math.max(x.getX(),y.getX())),this.minY=Math.trunc(Math.min(d.getY(),x.getY())),this.maxY=Math.trunc(Math.max(h.getY(),y.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,d){return l==null?d:d==null?l:new Ra(l.image,l.topLeft,l.bottomLeft,d.topRight,d.bottomRight)}addMissingRows(l,d,h){let x=this.topLeft,y=this.bottomLeft,b=this.topRight,_=this.bottomRight;if(l>0){let T=h?this.topLeft:this.topRight,k=Math.trunc(T.getY()-l);k<0&&(k=0);let P=new at(T.getX(),k);h?x=P:b=P}if(d>0){let T=h?this.bottomLeft:this.bottomRight,k=Math.trunc(T.getY()+d);k>=this.image.getHeight()&&(k=this.image.getHeight()-1);let P=new at(T.getX(),k);h?y=P:_=P}return new Ra(this.image,x,y,b,_)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class iu{constructor(l,d,h,x){this.columnCount=l,this.errorCorrectionLevel=x,this.rowCountUpperPart=d,this.rowCountLowerPart=h,this.rowCount=d+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Il{constructor(){this.buffer=""}static form(l,d){let h=-1;function x(b,_,T,k,P,G){if(b==="%%")return"%";if(d[++h]===void 0)return;b=k?parseInt(k.substr(1)):void 0;let $=P?parseInt(P.substr(1)):void 0,ee;switch(G){case"s":ee=d[h];break;case"c":ee=d[h][0];break;case"f":ee=parseFloat(d[h]).toFixed(b);break;case"p":ee=parseFloat(d[h]).toPrecision(b);break;case"e":ee=parseFloat(d[h]).toExponential(b);break;case"x":ee=parseInt(d[h]).toString($||16);break;case"d":ee=parseFloat(parseInt(d[h],$||10).toPrecision(b)).toFixed(0);break}ee=typeof ee=="object"?JSON.stringify(ee):(+ee).toString($);let Ae=parseInt(T),ce=T&&T[0]+""=="0"?"0":" ";for(;ee.length<Ae;)ee=_!==void 0?ee+ce:ce+ee;return ee}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(y,x)}format(l,...d){this.buffer+=Il.form(l,d)}toString(){return this.buffer}}class Xa{constructor(l){this.boundingBox=new Ra(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let d=this.getCodeword(l);if(d!=null)return d;for(let h=1;h<Xa.MAX_NEARBY_DISTANCE;h++){let x=this.imageRowToCodewordIndex(l)-h;if(x>=0&&(d=this.codewords[x],d!=null)||(x=this.imageRowToCodewordIndex(l)+h,x<this.codewords.length&&(d=this.codewords[x],d!=null)))return d}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,d){this.codewords[this.imageRowToCodewordIndex(l)]=d}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new Il;let d=0;for(const h of this.codewords){if(h==null){l.format("%3d:    |   %n",d++);continue}l.format("%3d: %3d|%3d%n",d++,h.getRowNumber(),h.getValue())}return l.toString()}}Xa.MAX_NEARBY_DISTANCE=5;class qa{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let d=this.values.get(l);d==null&&(d=0),d++,this.values.set(l,d)}getValue(){let l=-1,d=new Array;for(const[h,x]of this.values.entries()){const y={getKey:()=>h,getValue:()=>x};y.getValue()>l?(l=y.getValue(),d=[],d.push(y.getKey())):y.getValue()===l&&d.push(y.getKey())}return Nt.toIntArray(d)}getConfidence(l){return this.values.get(l)}}class $d extends Xa{constructor(l,d){super(l),this._isLeft=d}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let d=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(d,l);let h=this.getBoundingBox(),x=this._isLeft?h.getTopLeft():h.getTopRight(),y=this._isLeft?h.getBottomLeft():h.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(x.getY())),_=this.imageRowToCodewordIndex(Math.trunc(y.getY())),T=-1,k=1,P=0;for(let G=b;G<_;G++){if(d[G]==null)continue;let $=d[G],ee=$.getRowNumber()-T;if(ee===0)P++;else if(ee===1)k=Math.max(k,P),P=1,T=$.getRowNumber();else if(ee<0||$.getRowNumber()>=l.getRowCount()||ee>G)d[G]=null;else{let Ae;k>2?Ae=(k-2)*ee:Ae=ee;let ce=Ae>=G;for(let ge=1;ge<=Ae&&!ce;ge++)ce=d[G-ge]!=null;ce?d[G]=null:(T=$.getRowNumber(),P=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let d=new Int32Array(l.getRowCount());for(let h of this.getCodewords())if(h!=null){let x=h.getRowNumber();if(x>=d.length)continue;d[x]++}return d}adjustIncompleteIndicatorColumnRowNumbers(l){let d=this.getBoundingBox(),h=this._isLeft?d.getTopLeft():d.getTopRight(),x=this._isLeft?d.getBottomLeft():d.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),b=this.imageRowToCodewordIndex(Math.trunc(x.getY())),_=this.getCodewords(),T=-1;for(let k=y;k<b;k++){if(_[k]==null)continue;let P=_[k];P.setRowNumberAsRowIndicatorColumn();let G=P.getRowNumber()-T;G===0||(G===1?T=P.getRowNumber():P.getRowNumber()>=l.getRowCount()?_[k]=null:T=P.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),d=new qa,h=new qa,x=new qa,y=new qa;for(let _ of l){if(_==null)continue;_.setRowNumberAsRowIndicatorColumn();let T=_.getValue()%30,k=_.getRowNumber();switch(this._isLeft||(k+=2),k%3){case 0:h.setValue(T*3+1);break;case 1:y.setValue(T/3),x.setValue(T%3);break;case 2:d.setValue(T+1);break}}if(d.getValue().length===0||h.getValue().length===0||x.getValue().length===0||y.getValue().length===0||d.getValue()[0]<1||h.getValue()[0]+x.getValue()[0]<Nt.MIN_ROWS_IN_BARCODE||h.getValue()[0]+x.getValue()[0]>Nt.MAX_ROWS_IN_BARCODE)return null;let b=new iu(d.getValue()[0],h.getValue()[0],x.getValue()[0],y.getValue()[0]);return this.removeIncorrectCodewords(l,b),b}removeIncorrectCodewords(l,d){for(let h=0;h<l.length;h++){let x=l[h];if(l[h]==null)continue;let y=x.getValue()%30,b=x.getRowNumber();if(b>d.getRowCount()){l[h]=null;continue}switch(this._isLeft||(b+=2),b%3){case 0:y*3+1!==d.getRowCountUpperPart()&&(l[h]=null);break;case 1:(Math.trunc(y/3)!==d.getErrorCorrectionLevel()||y%3!==d.getRowCountLowerPart())&&(l[h]=null);break;case 2:y+1!==d.getColumnCount()&&(l[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Wr{constructor(l,d){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=d,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=Nt.MAX_CODEWORDS_IN_BARCODE,d;do d=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<d);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let d=1;d<this.barcodeColumnCount+1;d++){let h=this.detectionResultColumns[d].getCodewords();for(let x=0;x<h.length;x++)h[x]!=null&&(h[x].hasValidRowNumber()||this.adjustRowNumbers(d,x,h))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<l.length;h++)if(l[h]!=null&&d[h]!=null&&l[h].getRowNumber()===d[h].getRowNumber())for(let x=1;x<=this.barcodeColumnCount;x++){let y=this.detectionResultColumns[x].getCodewords()[h];y!=null&&(y.setRowNumber(l[h].getRowNumber()),y.hasValidRowNumber()||(this.detectionResultColumns[x].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<d.length;h++){if(d[h]==null)continue;let x=d[h].getRowNumber(),y=0;for(let b=this.barcodeColumnCount+1;b>0&&y<this.ADJUST_ROW_NUMBER_SKIP;b--){let _=this.detectionResultColumns[b].getCodewords()[h];_!=null&&(y=Wr.adjustRowNumberIfValid(x,y,_),_.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,d=this.detectionResultColumns[0].getCodewords();for(let h=0;h<d.length;h++){if(d[h]==null)continue;let x=d[h].getRowNumber(),y=0;for(let b=1;b<this.barcodeColumnCount+1&&y<this.ADJUST_ROW_NUMBER_SKIP;b++){let _=this.detectionResultColumns[b].getCodewords()[h];_!=null&&(y=Wr.adjustRowNumberIfValid(x,y,_),_.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,d,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(l)?(h.setRowNumber(l),d=0):++d),d}adjustRowNumbers(l,d,h){if(!this.detectionResultColumns[l-1])return;let x=h[d],y=this.detectionResultColumns[l-1].getCodewords(),b=y;this.detectionResultColumns[l+1]!=null&&(b=this.detectionResultColumns[l+1].getCodewords());let _=new Array(14);_[2]=y[d],_[3]=b[d],d>0&&(_[0]=h[d-1],_[4]=y[d-1],_[5]=b[d-1]),d>1&&(_[8]=h[d-2],_[10]=y[d-2],_[11]=b[d-2]),d<h.length-1&&(_[1]=h[d+1],_[6]=y[d+1],_[7]=b[d+1]),d<h.length-2&&(_[9]=h[d+2],_[12]=y[d+2],_[13]=b[d+2]);for(let T of _)if(Wr.adjustRowNumber(x,T))return}static adjustRowNumber(l,d){return d==null?!1:d.hasValidRowNumber()&&d.getBucket()===l.getBucket()?(l.setRowNumber(d.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,d){this.detectionResultColumns[l]=d}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let d=new Il;for(let h=0;h<l.getCodewords().length;h++){d.format("CW %3d:",h);for(let x=0;x<this.barcodeColumnCount+2;x++){if(this.detectionResultColumns[x]==null){d.format("    |   ");continue}let y=this.detectionResultColumns[x].getCodewords()[h];if(y==null){d.format("    |   ");continue}d.format(" %3d|%3d",y.getRowNumber(),y.getValue())}d.format("%n")}return d.toString()}}class js{constructor(l,d,h,x){this.rowNumber=js.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(d),this.bucket=Math.trunc(h),this.value=Math.trunc(x)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==js.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}js.BARCODE_ROW_UNKNOWN=-1;class si{static initialize(){for(let l=0;l<Nt.SYMBOL_TABLE.length;l++){let d=Nt.SYMBOL_TABLE[l],h=d&1;for(let x=0;x<Nt.BARS_IN_MODULE;x++){let y=0;for(;(d&1)===h;)y+=1,d>>=1;h=d&1,si.RATIOS_TABLE[l]||(si.RATIOS_TABLE[l]=new Array(Nt.BARS_IN_MODULE)),si.RATIOS_TABLE[l][Nt.BARS_IN_MODULE-x-1]=Math.fround(y/Nt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let d=si.getDecodedCodewordValue(si.sampleBitCounts(l));return d!==-1?d:si.getClosestDecodedValue(l)}static sampleBitCounts(l){let d=Ht.sum(l),h=new Int32Array(Nt.BARS_IN_MODULE),x=0,y=0;for(let b=0;b<Nt.MODULES_IN_CODEWORD;b++){let _=d/(2*Nt.MODULES_IN_CODEWORD)+b*d/Nt.MODULES_IN_CODEWORD;y+l[x]<=_&&(y+=l[x],x++),h[x]++}return h}static getDecodedCodewordValue(l){let d=si.getBitValue(l);return Nt.getCodeword(d)===-1?-1:d}static getBitValue(l){let d=0;for(let h=0;h<l.length;h++)for(let x=0;x<l[h];x++)d=d<<1|(h%2===0?1:0);return Math.trunc(d)}static getClosestDecodedValue(l){let d=Ht.sum(l),h=new Array(Nt.BARS_IN_MODULE);if(d>1)for(let b=0;b<h.length;b++)h[b]=Math.fround(l[b]/d);let x=ci.MAX_VALUE,y=-1;this.bSymbolTableReady||si.initialize();for(let b=0;b<si.RATIOS_TABLE.length;b++){let _=0,T=si.RATIOS_TABLE[b];for(let k=0;k<Nt.BARS_IN_MODULE;k++){let P=Math.fround(T[k]-h[k]);if(_+=Math.fround(P*P),_>=x)break}_<x&&(x=_,y=Nt.SYMBOL_TABLE[b])}return y}}si.bSymbolTableReady=!1,si.RATIOS_TABLE=new Array(Nt.SYMBOL_TABLE.length).map(K=>new Array(Nt.BARS_IN_MODULE));class Nl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class gp{static parseLong(l,d=void 0){return parseInt(l,d)}}class su extends f{}su.kind="NullPointerException";class Wd{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,d,h){if(l==null)throw new su;if(d<0||d>l.length||h<0||d+h>l.length||d+h<0)throw new M;if(h===0)return;for(let x=0;x<h;x++)this.write(l[d+x])}flush(){}close(){}}class $A extends f{}class au extends Wd{constructor(l=32){if(super(),this.count=0,l<0)throw new w("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let h=this.buf.length<<1;if(h-l<0&&(h=l),h<0){if(l<0)throw new $A;h=U.MAX_VALUE}this.buf=L.copyOfUint8Array(this.buf,h)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,d,h){if(d<0||d>l.length||h<0||d+h-l.length>0)throw new M;this.ensureCapacity(this.count+h),I.arraycopy(l,d,this.buf,this.count,h),this.count+=h}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return L.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var On;(function(K){K[K.ALPHA=0]="ALPHA",K[K.LOWER=1]="LOWER",K[K.MIXED=2]="MIXED",K[K.PUNCT=3]="PUNCT",K[K.ALPHA_SHIFT=4]="ALPHA_SHIFT",K[K.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(On||(On={}));function mp(){if(typeof window<"u")return window.BigInt||null;if(typeof Tg<"u")return Tg.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ou;function Ya(K){if(typeof ou>"u"&&(ou=mp()),ou===null)throw new Error("BigInt is not supported!");return ou(K)}function Xd(){let K=[];K[0]=Ya(1);let l=Ya(900);K[1]=l;for(let d=2;d<16;d++)K[d]=K[d-1]*l;return K}class Ie{static decode(l,d){let h=new re(""),x=V.ISO8859_1;h.enableDecoding(x);let y=1,b=l[y++],_=new Nl;for(;y<l[0];){switch(b){case Ie.TEXT_COMPACTION_MODE_LATCH:y=Ie.textCompaction(l,y,h);break;case Ie.BYTE_COMPACTION_MODE_LATCH:case Ie.BYTE_COMPACTION_MODE_LATCH_6:y=Ie.byteCompaction(b,l,x,y,h);break;case Ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[y++]);break;case Ie.NUMERIC_COMPACTION_MODE_LATCH:y=Ie.numericCompaction(l,y,h);break;case Ie.ECI_CHARSET:V.getCharacterSetECIByValue(l[y++]);break;case Ie.ECI_GENERAL_PURPOSE:y+=2;break;case Ie.ECI_USER_DEFINED:y++;break;case Ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:y=Ie.decodeMacroBlock(l,y,_);break;case Ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ie.MACRO_PDF417_TERMINATOR:throw new D;default:y--,y=Ie.textCompaction(l,y,h);break}if(y<l.length)b=l[y++];else throw D.getFormatInstance()}if(h.length()===0)throw D.getFormatInstance();let T=new vt(null,h.toString(),null,d);return T.setOther(_),T}static decodeMacroBlock(l,d,h){if(d+Ie.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw D.getFormatInstance();let x=new Int32Array(Ie.NUMBER_OF_SEQUENCE_CODEWORDS);for(let _=0;_<Ie.NUMBER_OF_SEQUENCE_CODEWORDS;_++,d++)x[_]=l[d];h.setSegmentIndex(U.parseInt(Ie.decodeBase900toBase10(x,Ie.NUMBER_OF_SEQUENCE_CODEWORDS)));let y=new re;d=Ie.textCompaction(l,d,y),h.setFileId(y.toString());let b=-1;for(l[d]===Ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(b=d+1);d<l[0];)switch(l[d]){case Ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(d++,l[d]){case Ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let _=new re;d=Ie.textCompaction(l,d+1,_),h.setFileName(_.toString());break;case Ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let T=new re;d=Ie.textCompaction(l,d+1,T),h.setSender(T.toString());break;case Ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let k=new re;d=Ie.textCompaction(l,d+1,k),h.setAddressee(k.toString());break;case Ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let P=new re;d=Ie.numericCompaction(l,d+1,P),h.setSegmentCount(U.parseInt(P.toString()));break;case Ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let G=new re;d=Ie.numericCompaction(l,d+1,G),h.setTimestamp(gp.parseLong(G.toString()));break;case Ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let $=new re;d=Ie.numericCompaction(l,d+1,$),h.setChecksum(U.parseInt($.toString()));break;case Ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ee=new re;d=Ie.numericCompaction(l,d+1,ee),h.setFileSize(gp.parseLong(ee.toString()));break;default:throw D.getFormatInstance()}break;case Ie.MACRO_PDF417_TERMINATOR:d++,h.setLastSegment(!0);break;default:throw D.getFormatInstance()}if(b!==-1){let _=d-b;h.isLastSegment()&&_--,h.setOptionalData(L.copyOfRange(l,b,b+_))}return d}static textCompaction(l,d,h){let x=new Int32Array((l[0]-d)*2),y=new Int32Array((l[0]-d)*2),b=0,_=!1;for(;d<l[0]&&!_;){let T=l[d++];if(T<Ie.TEXT_COMPACTION_MODE_LATCH)x[b]=T/30,x[b+1]=T%30,b+=2;else switch(T){case Ie.TEXT_COMPACTION_MODE_LATCH:x[b++]=Ie.TEXT_COMPACTION_MODE_LATCH;break;case Ie.BYTE_COMPACTION_MODE_LATCH:case Ie.BYTE_COMPACTION_MODE_LATCH_6:case Ie.NUMERIC_COMPACTION_MODE_LATCH:case Ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ie.MACRO_PDF417_TERMINATOR:d--,_=!0;break;case Ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x[b]=Ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,T=l[d++],y[b]=T,b++;break}}return Ie.decodeTextCompaction(x,y,b,h),d}static decodeTextCompaction(l,d,h,x){let y=On.ALPHA,b=On.ALPHA,_=0;for(;_<h;){let T=l[_],k="";switch(y){case On.ALPHA:if(T<26)k=String.fromCharCode(65+T);else switch(T){case 26:k=" ";break;case Ie.LL:y=On.LOWER;break;case Ie.ML:y=On.MIXED;break;case Ie.PS:b=y,y=On.PUNCT_SHIFT;break;case Ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(d[_]);break;case Ie.TEXT_COMPACTION_MODE_LATCH:y=On.ALPHA;break}break;case On.LOWER:if(T<26)k=String.fromCharCode(97+T);else switch(T){case 26:k=" ";break;case Ie.AS:b=y,y=On.ALPHA_SHIFT;break;case Ie.ML:y=On.MIXED;break;case Ie.PS:b=y,y=On.PUNCT_SHIFT;break;case Ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(d[_]);break;case Ie.TEXT_COMPACTION_MODE_LATCH:y=On.ALPHA;break}break;case On.MIXED:if(T<Ie.PL)k=Ie.MIXED_CHARS[T];else switch(T){case Ie.PL:y=On.PUNCT;break;case 26:k=" ";break;case Ie.LL:y=On.LOWER;break;case Ie.AL:y=On.ALPHA;break;case Ie.PS:b=y,y=On.PUNCT_SHIFT;break;case Ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(d[_]);break;case Ie.TEXT_COMPACTION_MODE_LATCH:y=On.ALPHA;break}break;case On.PUNCT:if(T<Ie.PAL)k=Ie.PUNCT_CHARS[T];else switch(T){case Ie.PAL:y=On.ALPHA;break;case Ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(d[_]);break;case Ie.TEXT_COMPACTION_MODE_LATCH:y=On.ALPHA;break}break;case On.ALPHA_SHIFT:if(y=b,T<26)k=String.fromCharCode(65+T);else switch(T){case 26:k=" ";break;case Ie.TEXT_COMPACTION_MODE_LATCH:y=On.ALPHA;break}break;case On.PUNCT_SHIFT:if(y=b,T<Ie.PAL)k=Ie.PUNCT_CHARS[T];else switch(T){case Ie.PAL:y=On.ALPHA;break;case Ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(d[_]);break;case Ie.TEXT_COMPACTION_MODE_LATCH:y=On.ALPHA;break}break}k!==""&&x.append(k),_++}}static byteCompaction(l,d,h,x,y){let b=new au,_=0,T=0,k=!1;switch(l){case Ie.BYTE_COMPACTION_MODE_LATCH:let P=new Int32Array(6),G=d[x++];for(;x<d[0]&&!k;)switch(P[_++]=G,T=900*T+G,G=d[x++],G){case Ie.TEXT_COMPACTION_MODE_LATCH:case Ie.BYTE_COMPACTION_MODE_LATCH:case Ie.NUMERIC_COMPACTION_MODE_LATCH:case Ie.BYTE_COMPACTION_MODE_LATCH_6:case Ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ie.MACRO_PDF417_TERMINATOR:x--,k=!0;break;default:if(_%5===0&&_>0){for(let $=0;$<6;++$)b.write(Number(Ya(T)>>Ya(8*(5-$))));T=0,_=0}break}x===d[0]&&G<Ie.TEXT_COMPACTION_MODE_LATCH&&(P[_++]=G);for(let $=0;$<_;$++)b.write(P[$]);break;case Ie.BYTE_COMPACTION_MODE_LATCH_6:for(;x<d[0]&&!k;){let $=d[x++];if($<Ie.TEXT_COMPACTION_MODE_LATCH)_++,T=900*T+$;else switch($){case Ie.TEXT_COMPACTION_MODE_LATCH:case Ie.BYTE_COMPACTION_MODE_LATCH:case Ie.NUMERIC_COMPACTION_MODE_LATCH:case Ie.BYTE_COMPACTION_MODE_LATCH_6:case Ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ie.MACRO_PDF417_TERMINATOR:x--,k=!0;break}if(_%5===0&&_>0){for(let ee=0;ee<6;++ee)b.write(Number(Ya(T)>>Ya(8*(5-ee))));T=0,_=0}}break}return y.append(Y.decode(b.toByteArray(),h)),x}static numericCompaction(l,d,h){let x=0,y=!1,b=new Int32Array(Ie.MAX_NUMERIC_CODEWORDS);for(;d<l[0]&&!y;){let _=l[d++];if(d===l[0]&&(y=!0),_<Ie.TEXT_COMPACTION_MODE_LATCH)b[x]=_,x++;else switch(_){case Ie.TEXT_COMPACTION_MODE_LATCH:case Ie.BYTE_COMPACTION_MODE_LATCH:case Ie.BYTE_COMPACTION_MODE_LATCH_6:case Ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ie.MACRO_PDF417_TERMINATOR:d--,y=!0;break}(x%Ie.MAX_NUMERIC_CODEWORDS===0||_===Ie.NUMERIC_COMPACTION_MODE_LATCH||y)&&x>0&&(h.append(Ie.decodeBase900toBase10(b,x)),x=0)}return d}static decodeBase900toBase10(l,d){let h=Ya(0);for(let y=0;y<d;y++)h+=Ie.EXP900[d-y-1]*Ya(l[y]);let x=h.toString();if(x.charAt(0)!=="1")throw new D;return x.substring(1)}}Ie.TEXT_COMPACTION_MODE_LATCH=900,Ie.BYTE_COMPACTION_MODE_LATCH=901,Ie.NUMERIC_COMPACTION_MODE_LATCH=902,Ie.BYTE_COMPACTION_MODE_LATCH_6=924,Ie.ECI_USER_DEFINED=925,Ie.ECI_GENERAL_PURPOSE=926,Ie.ECI_CHARSET=927,Ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ie.MACRO_PDF417_TERMINATOR=922,Ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ie.MAX_NUMERIC_CODEWORDS=15,Ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ie.PL=25,Ie.LL=27,Ie.AS=27,Ie.ML=28,Ie.AL=28,Ie.PS=29,Ie.PAL=29,Ie.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ie.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ie.EXP900=mp()?Xd():[],Ie.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Zt{constructor(){}static decode(l,d,h,x,y,b,_){let T=new Ra(l,d,h,x,y),k=null,P=null,G;for(let Ae=!0;;Ae=!1){if(d!=null&&(k=Zt.getRowIndicatorColumn(l,T,d,!0,b,_)),x!=null&&(P=Zt.getRowIndicatorColumn(l,T,x,!1,b,_)),G=Zt.merge(k,P),G==null)throw q.getNotFoundInstance();let ce=G.getBoundingBox();if(Ae&&ce!=null&&(ce.getMinY()<T.getMinY()||ce.getMaxY()>T.getMaxY()))T=ce;else break}G.setBoundingBox(T);let $=G.getBarcodeColumnCount()+1;G.setDetectionResultColumn(0,k),G.setDetectionResultColumn($,P);let ee=k!=null;for(let Ae=1;Ae<=$;Ae++){let ce=ee?Ae:$-Ae;if(G.getDetectionResultColumn(ce)!==void 0)continue;let ge;ce===0||ce===$?ge=new $d(T,ce===0):ge=new Xa(T),G.setDetectionResultColumn(ce,ge);let Te=-1,Ze=Te;for(let Ye=T.getMinY();Ye<=T.getMaxY();Ye++){if(Te=Zt.getStartColumn(G,ce,Ye,ee),Te<0||Te>T.getMaxX()){if(Ze===-1)continue;Te=Ze}let Ke=Zt.detectCodeword(l,T.getMinX(),T.getMaxX(),ee,Te,Ye,b,_);Ke!=null&&(ge.setCodeword(Ye,Ke),Ze=Te,b=Math.min(b,Ke.getWidth()),_=Math.max(_,Ke.getWidth()))}}return Zt.createDecoderResult(G)}static merge(l,d){if(l==null&&d==null)return null;let h=Zt.getBarcodeMetadata(l,d);if(h==null)return null;let x=Ra.merge(Zt.adjustBoundingBox(l),Zt.adjustBoundingBox(d));return new Wr(h,x)}static adjustBoundingBox(l){if(l==null)return null;let d=l.getRowHeights();if(d==null)return null;let h=Zt.getMax(d),x=0;for(let _ of d)if(x+=h-_,_>0)break;let y=l.getCodewords();for(let _=0;x>0&&y[_]==null;_++)x--;let b=0;for(let _=d.length-1;_>=0&&(b+=h-d[_],!(d[_]>0));_--);for(let _=y.length-1;b>0&&y[_]==null;_--)b--;return l.getBoundingBox().addMissingRows(x,b,l.isLeft())}static getMax(l){let d=-1;for(let h of l)d=Math.max(d,h);return d}static getBarcodeMetadata(l,d){let h;if(l==null||(h=l.getBarcodeMetadata())==null)return d==null?null:d.getBarcodeMetadata();let x;return d==null||(x=d.getBarcodeMetadata())==null?h:h.getColumnCount()!==x.getColumnCount()&&h.getErrorCorrectionLevel()!==x.getErrorCorrectionLevel()&&h.getRowCount()!==x.getRowCount()?null:h}static getRowIndicatorColumn(l,d,h,x,y,b){let _=new $d(d,x);for(let T=0;T<2;T++){let k=T===0?1:-1,P=Math.trunc(Math.trunc(h.getX()));for(let G=Math.trunc(Math.trunc(h.getY()));G<=d.getMaxY()&&G>=d.getMinY();G+=k){let $=Zt.detectCodeword(l,0,l.getWidth(),x,P,G,y,b);$!=null&&(_.setCodeword(G,$),x?P=$.getStartX():P=$.getEndX())}}return _}static adjustCodewordCount(l,d){let h=d[0][1],x=h.getValue(),y=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-Zt.getNumberOfECCodeWords(l.getBarcodeECLevel());if(x.length===0){if(y<1||y>Nt.MAX_CODEWORDS_IN_BARCODE)throw q.getNotFoundInstance();h.setValue(y)}else x[0]!==y&&h.setValue(y)}static createDecoderResult(l){let d=Zt.createBarcodeMatrix(l);Zt.adjustCodewordCount(l,d);let h=new Array,x=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),y=[],b=new Array;for(let T=0;T<l.getBarcodeRowCount();T++)for(let k=0;k<l.getBarcodeColumnCount();k++){let P=d[T][k+1].getValue(),G=T*l.getBarcodeColumnCount()+k;P.length===0?h.push(G):P.length===1?x[G]=P[0]:(b.push(G),y.push(P))}let _=new Array(y.length);for(let T=0;T<_.length;T++)_[T]=y[T];return Zt.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),x,Nt.toIntArray(h),Nt.toIntArray(b),_)}static createDecoderResultFromAmbiguousValues(l,d,h,x,y){let b=new Int32Array(x.length),_=100;for(;_-- >0;){for(let T=0;T<b.length;T++)d[x[T]]=y[T][b[T]];try{return Zt.decodeCodewords(d,l,h)}catch(T){if(!(T instanceof B))throw T}if(b.length===0)throw B.getChecksumInstance();for(let T=0;T<b.length;T++)if(b[T]<y[T].length-1){b[T]++;break}else if(b[T]=0,T===b.length-1)throw B.getChecksumInstance()}throw B.getChecksumInstance()}static createBarcodeMatrix(l){let d=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let x=0;x<d.length;x++)for(let y=0;y<d[x].length;y++)d[x][y]=new qa;let h=0;for(let x of l.getDetectionResultColumns()){if(x!=null){for(let y of x.getCodewords())if(y!=null){let b=y.getRowNumber();if(b>=0){if(b>=d.length)continue;d[b][h].setValue(y.getValue())}}}h++}return d}static isValidBarcodeColumn(l,d){return d>=0&&d<=l.getBarcodeColumnCount()+1}static getStartColumn(l,d,h,x){let y=x?1:-1,b=null;if(Zt.isValidBarcodeColumn(l,d-y)&&(b=l.getDetectionResultColumn(d-y).getCodeword(h)),b!=null)return x?b.getEndX():b.getStartX();if(b=l.getDetectionResultColumn(d).getCodewordNearby(h),b!=null)return x?b.getStartX():b.getEndX();if(Zt.isValidBarcodeColumn(l,d-y)&&(b=l.getDetectionResultColumn(d-y).getCodewordNearby(h)),b!=null)return x?b.getEndX():b.getStartX();let _=0;for(;Zt.isValidBarcodeColumn(l,d-y);){d-=y;for(let T of l.getDetectionResultColumn(d).getCodewords())if(T!=null)return(x?T.getEndX():T.getStartX())+y*_*(T.getEndX()-T.getStartX());_++}return x?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,d,h,x,y,b,_,T){y=Zt.adjustCodewordStartColumn(l,d,h,x,y,b);let k=Zt.getModuleBitCount(l,d,h,x,y,b);if(k==null)return null;let P,G=Ht.sum(k);if(x)P=y+G;else{for(let Ae=0;Ae<k.length/2;Ae++){let ce=k[Ae];k[Ae]=k[k.length-1-Ae],k[k.length-1-Ae]=ce}P=y,y=P-G}if(!Zt.checkCodewordSkew(G,_,T))return null;let $=si.getDecodedValue(k),ee=Nt.getCodeword($);return ee===-1?null:new js(y,P,Zt.getCodewordBucketNumber($),ee)}static getModuleBitCount(l,d,h,x,y,b){let _=y,T=new Int32Array(8),k=0,P=x?1:-1,G=x;for(;(x?_<h:_>=d)&&k<T.length;)l.get(_,b)===G?(T[k]++,_+=P):(k++,G=!G);return k===T.length||_===(x?h:d)&&k===T.length-1?T:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,d,h,x,y,b){let _=y,T=x?-1:1;for(let k=0;k<2;k++){for(;(x?_>=d:_<h)&&x===l.get(_,b);){if(Math.abs(y-_)>Zt.CODEWORD_SKEW_SIZE)return y;_+=T}T=-T,x=!x}return _}static checkCodewordSkew(l,d,h){return d-Zt.CODEWORD_SKEW_SIZE<=l&&l<=h+Zt.CODEWORD_SKEW_SIZE}static decodeCodewords(l,d,h){if(l.length===0)throw D.getFormatInstance();let x=1<<d+1,y=Zt.correctErrors(l,h,x);Zt.verifyCodewordCount(l,x);let b=Ie.decode(l,""+d);return b.setErrorsCorrected(y),b.setErasures(h.length),b}static correctErrors(l,d,h){if(d!=null&&d.length>h/2+Zt.MAX_ERRORS||h<0||h>Zt.MAX_EC_CODEWORDS)throw B.getChecksumInstance();return Zt.errorCorrection.decode(l,h,d)}static verifyCodewordCount(l,d){if(l.length<4)throw D.getFormatInstance();let h=l[0];if(h>l.length)throw D.getFormatInstance();if(h===0)if(d<l.length)l[0]=l.length-d;else throw D.getFormatInstance()}static getBitCountForCodeword(l){let d=new Int32Array(8),h=0,x=d.length-1;for(;!((l&1)!==h&&(h=l&1,x--,x<0));)d[x]++,l>>=1;return d}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return Zt.getCodewordBucketNumber(Zt.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let d=new Il;for(let h=0;h<l.length;h++){d.format("Row %2d: ",h);for(let x=0;x<l[h].length;x++){let y=l[h][x];y.getValue().length===0?d.format("        ",null):d.format("%4d(%2d)",y.getValue()[0],y.getConfidence(y.getValue()[0]))}d.format("%n")}return d.toString()}}Zt.CODEWORD_SKEW_SIZE=2,Zt.MAX_ERRORS=3,Zt.MAX_EC_CODEWORDS=512,Zt.errorCorrection=new Da;class ai{decode(l,d=null){let h=ai.decode(l,d,!1);if(h==null||h.length===0||h[0]==null)throw q.getNotFoundInstance();return h[0]}decodeMultiple(l,d=null){try{return ai.decode(l,d,!0)}catch(h){throw h instanceof D||h instanceof B?q.getNotFoundInstance():h}}static decode(l,d,h){const x=new Array,y=jt.detectMultiple(l,d,h);for(const b of y.getPoints()){const _=Zt.decode(y.getBits(),b[4],b[5],b[6],b[7],ai.getMinCodewordWidth(b),ai.getMaxCodewordWidth(b)),T=new ye(_.getText(),_.getRawBytes(),void 0,b,De.PDF_417);T.putMetadata(qe.ERROR_CORRECTION_LEVEL,_.getECLevel());const k=_.getOther();k!=null&&T.putMetadata(qe.PDF417_EXTRA_METADATA,k),x.push(T)}return x.map(b=>b)}static getMaxWidth(l,d){return l==null||d==null?0:Math.trunc(Math.abs(l.getX()-d.getX()))}static getMinWidth(l,d){return l==null||d==null?U.MAX_VALUE:Math.trunc(Math.abs(l.getX()-d.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(ai.getMaxWidth(l[0],l[4]),ai.getMaxWidth(l[6],l[2])*Nt.MODULES_IN_CODEWORD/Nt.MODULES_IN_STOP_PATTERN),Math.max(ai.getMaxWidth(l[1],l[5]),ai.getMaxWidth(l[7],l[3])*Nt.MODULES_IN_CODEWORD/Nt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(ai.getMinWidth(l[0],l[4]),ai.getMinWidth(l[6],l[2])*Nt.MODULES_IN_CODEWORD/Nt.MODULES_IN_STOP_PATTERN),Math.min(ai.getMinWidth(l[1],l[5]),ai.getMinWidth(l[7],l[3])*Nt.MODULES_IN_CODEWORD/Nt.MODULES_IN_STOP_PATTERN)))}reset(){}}class lu extends f{}lu.kind="ReaderException";class xp{constructor(l,d){this.verbose=l===!0,d&&this.setHints(d)}decode(l,d){return d&&this.setHints(d),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const d=!r(l)&&l.get(Q.TRY_HARDER)===!0,h=r(l)?null:l.get(Q.POSSIBLE_FORMATS),x=new Array;if(!r(h)){const y=h.some(b=>b===De.UPC_A||b===De.UPC_E||b===De.EAN_13||b===De.EAN_8||b===De.CODABAR||b===De.CODE_39||b===De.CODE_93||b===De.CODE_128||b===De.ITF||b===De.RSS_14||b===De.RSS_EXPANDED);y&&!d&&x.push(new di(l,this.verbose)),h.includes(De.QR_CODE)&&x.push(new Fa),h.includes(De.DATA_MATRIX)&&x.push(new ka),h.includes(De.AZTEC)&&x.push(new Vt),h.includes(De.PDF_417)&&x.push(new ai),y&&d&&x.push(new di(l,this.verbose))}x.length===0&&(d||x.push(new di(l,this.verbose)),x.push(new Fa),x.push(new ka),x.push(new Vt),x.push(new ai),d&&x.push(new di(l,this.verbose))),this.readers=x}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new lu("No readers where selected, nothing can be read.");for(const d of this.readers)try{return d.decode(l,this.hints)}catch(h){if(h instanceof lu)continue}throw new q("No MultiFormat Readers were able to detect the code.")}}class wp extends Ne{constructor(l=null,d=500){const h=new xp;h.setHints(l),super(h,d)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class cx extends Ne{constructor(l=500){super(new ai,l)}}class ux extends Ne{constructor(l=500){super(new Fa,l)}}var qd;(function(K){K[K.ERROR_CORRECTION=0]="ERROR_CORRECTION",K[K.CHARACTER_SET=1]="CHARACTER_SET",K[K.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",K[K.MIN_SIZE=3]="MIN_SIZE",K[K.MAX_SIZE=4]="MAX_SIZE",K[K.MARGIN=5]="MARGIN",K[K.PDF417_COMPACT=6]="PDF417_COMPACT",K[K.PDF417_COMPACTION=7]="PDF417_COMPACTION",K[K.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",K[K.AZTEC_LAYERS=9]="AZTEC_LAYERS",K[K.QR_VERSION=10]="QR_VERSION"})(qd||(qd={}));var Qr=qd;class WA{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new pt(l,Int32Array.from([1])))}buildGenerator(l){const d=this.cachedGenerators;if(l>=d.length){let h=d[d.length-1];const x=this.field;for(let y=d.length;y<=l;y++){const b=h.multiply(new pt(x,Int32Array.from([1,x.exp(y-1+x.getGeneratorBase())])));d.push(b),h=b}}return d[l]}encode(l,d){if(d===0)throw new w("No error correction bytes");const h=l.length-d;if(h<=0)throw new w("No data bytes provided");const x=this.buildGenerator(d),y=new Int32Array(h);I.arraycopy(l,0,y,0,h);let b=new pt(this.field,y);b=b.multiplyByMonomial(d,1);const T=b.divide(x)[1].getCoefficients(),k=d-T.length;for(let P=0;P<k;P++)l[h+P]=0;I.arraycopy(T,0,l,h+k,T.length)}}class gr{constructor(){}static applyMaskPenaltyRule1(l){return gr.applyMaskPenaltyRule1Internal(l,!0)+gr.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let d=0;const h=l.getArray(),x=l.getWidth(),y=l.getHeight();for(let b=0;b<y-1;b++){const _=h[b];for(let T=0;T<x-1;T++){const k=_[T];k===_[T+1]&&k===h[b+1][T]&&k===h[b+1][T+1]&&d++}}return gr.N2*d}static applyMaskPenaltyRule3(l){let d=0;const h=l.getArray(),x=l.getWidth(),y=l.getHeight();for(let b=0;b<y;b++)for(let _=0;_<x;_++){const T=h[b];_+6<x&&T[_]===1&&T[_+1]===0&&T[_+2]===1&&T[_+3]===1&&T[_+4]===1&&T[_+5]===0&&T[_+6]===1&&(gr.isWhiteHorizontal(T,_-4,_)||gr.isWhiteHorizontal(T,_+7,_+11))&&d++,b+6<y&&h[b][_]===1&&h[b+1][_]===0&&h[b+2][_]===1&&h[b+3][_]===1&&h[b+4][_]===1&&h[b+5][_]===0&&h[b+6][_]===1&&(gr.isWhiteVertical(h,_,b-4,b)||gr.isWhiteVertical(h,_,b+7,b+11))&&d++}return d*gr.N3}static isWhiteHorizontal(l,d,h){d=Math.max(d,0),h=Math.min(h,l.length);for(let x=d;x<h;x++)if(l[x]===1)return!1;return!0}static isWhiteVertical(l,d,h,x){h=Math.max(h,0),x=Math.min(x,l.length);for(let y=h;y<x;y++)if(l[y][d]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let d=0;const h=l.getArray(),x=l.getWidth(),y=l.getHeight();for(let T=0;T<y;T++){const k=h[T];for(let P=0;P<x;P++)k[P]===1&&d++}const b=l.getHeight()*l.getWidth();return Math.floor(Math.abs(d*2-b)*10/b)*gr.N4}static getDataMaskBit(l,d,h){let x,y;switch(l){case 0:x=h+d&1;break;case 1:x=h&1;break;case 2:x=d%3;break;case 3:x=(h+d)%3;break;case 4:x=Math.floor(h/2)+Math.floor(d/3)&1;break;case 5:y=h*d,x=(y&1)+y%3;break;case 6:y=h*d,x=(y&1)+y%3&1;break;case 7:y=h*d,x=y%3+(h+d&1)&1;break;default:throw new w("Invalid mask pattern: "+l)}return x===0}static applyMaskPenaltyRule1Internal(l,d){let h=0;const x=d?l.getHeight():l.getWidth(),y=d?l.getWidth():l.getHeight(),b=l.getArray();for(let _=0;_<x;_++){let T=0,k=-1;for(let P=0;P<y;P++){const G=d?b[_][P]:b[P][_];G===k?T++:(T>=5&&(h+=gr.N1+(T-5)),T=1,k=G)}T>=5&&(h+=gr.N1+(T-5))}return h}}gr.N1=3,gr.N2=3,gr.N3=40,gr.N4=10;class Au{constructor(l,d){this.width=l,this.height=d;const h=new Array(d);for(let x=0;x!==d;x++)h[x]=new Uint8Array(l);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(l,d){return this.bytes[d][l]}getArray(){return this.bytes}setNumber(l,d,h){this.bytes[d][l]=h}setBoolean(l,d,h){this.bytes[d][l]=h?1:0}clear(l){for(const d of this.bytes)L.fill(d,l)}equals(l){if(!(l instanceof Au))return!1;const d=l;if(this.width!==d.width||this.height!==d.height)return!1;for(let h=0,x=this.height;h<x;++h){const y=this.bytes[h],b=d.bytes[h];for(let _=0,T=this.width;_<T;++_)if(y[_]!==b[_])return!1}return!0}toString(){const l=new re;for(let d=0,h=this.height;d<h;++d){const x=this.bytes[d];for(let y=0,b=this.width;y<b;++y)switch(x[y]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class So{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new re;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<So.NUM_MASK_PATTERNS}}So.NUM_MASK_PATTERNS=8;class Ln extends f{}Ln.kind="WriterException";class Ot{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,d,h,x,y){Ot.clearMatrix(y),Ot.embedBasicPatterns(h,y),Ot.embedTypeInfo(d,x,y),Ot.maybeEmbedVersionInfo(h,y),Ot.embedDataBits(l,x,y)}static embedBasicPatterns(l,d){Ot.embedPositionDetectionPatternsAndSeparators(d),Ot.embedDarkDotAtLeftBottomCorner(d),Ot.maybeEmbedPositionAdjustmentPatterns(l,d),Ot.embedTimingPatterns(d)}static embedTypeInfo(l,d,h){const x=new O;Ot.makeTypeInfoBits(l,d,x);for(let y=0,b=x.getSize();y<b;++y){const _=x.get(x.getSize()-1-y),T=Ot.TYPE_INFO_COORDINATES[y],k=T[0],P=T[1];if(h.setBoolean(k,P,_),y<8){const G=h.getWidth()-y-1;h.setBoolean(G,8,_)}else{const $=h.getHeight()-7+(y-8);h.setBoolean(8,$,_)}}}static maybeEmbedVersionInfo(l,d){if(l.getVersionNumber()<7)return;const h=new O;Ot.makeVersionInfoBits(l,h);let x=17;for(let y=0;y<6;++y)for(let b=0;b<3;++b){const _=h.get(x);x--,d.setBoolean(y,d.getHeight()-11+b,_),d.setBoolean(d.getHeight()-11+b,y,_)}}static embedDataBits(l,d,h){let x=0,y=-1,b=h.getWidth()-1,_=h.getHeight()-1;for(;b>0;){for(b===6&&(b-=1);_>=0&&_<h.getHeight();){for(let T=0;T<2;++T){const k=b-T;if(!Ot.isEmpty(h.get(k,_)))continue;let P;x<l.getSize()?(P=l.get(x),++x):P=!1,d!==255&&gr.getDataMaskBit(d,k,_)&&(P=!P),h.setBoolean(k,_,P)}_+=y}y=-y,_+=y,b-=2}if(x!==l.getSize())throw new Ln("Not all bits consumed: "+x+"/"+l.getSize())}static findMSBSet(l){return 32-U.numberOfLeadingZeros(l)}static calculateBCHCode(l,d){if(d===0)throw new w("0 polynomial");const h=Ot.findMSBSet(d);for(l<<=h-1;Ot.findMSBSet(l)>=h;)l^=d<<Ot.findMSBSet(l)-h;return l}static makeTypeInfoBits(l,d,h){if(!So.isValidMaskPattern(d))throw new Ln("Invalid mask pattern");const x=l.getBits()<<3|d;h.appendBits(x,5);const y=Ot.calculateBCHCode(x,Ot.TYPE_INFO_POLY);h.appendBits(y,10);const b=new O;if(b.appendBits(Ot.TYPE_INFO_MASK_PATTERN,15),h.xor(b),h.getSize()!==15)throw new Ln("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(l,d){d.appendBits(l.getVersionNumber(),6);const h=Ot.calculateBCHCode(l.getVersionNumber(),Ot.VERSION_INFO_POLY);if(d.appendBits(h,12),d.getSize()!==18)throw new Ln("should not happen but we got: "+d.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let d=8;d<l.getWidth()-8;++d){const h=(d+1)%2;Ot.isEmpty(l.get(d,6))&&l.setNumber(d,6,h),Ot.isEmpty(l.get(6,d))&&l.setNumber(6,d,h)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Ln;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,d,h){for(let x=0;x<8;++x){if(!Ot.isEmpty(h.get(l+x,d)))throw new Ln;h.setNumber(l+x,d,0)}}static embedVerticalSeparationPattern(l,d,h){for(let x=0;x<7;++x){if(!Ot.isEmpty(h.get(l,d+x)))throw new Ln;h.setNumber(l,d+x,0)}}static embedPositionAdjustmentPattern(l,d,h){for(let x=0;x<5;++x){const y=Ot.POSITION_ADJUSTMENT_PATTERN[x];for(let b=0;b<5;++b)h.setNumber(l+b,d+x,y[b])}}static embedPositionDetectionPattern(l,d,h){for(let x=0;x<7;++x){const y=Ot.POSITION_DETECTION_PATTERN[x];for(let b=0;b<7;++b)h.setNumber(l+b,d+x,y[b])}}static embedPositionDetectionPatternsAndSeparators(l){const d=Ot.POSITION_DETECTION_PATTERN[0].length;Ot.embedPositionDetectionPattern(0,0,l),Ot.embedPositionDetectionPattern(l.getWidth()-d,0,l),Ot.embedPositionDetectionPattern(0,l.getWidth()-d,l);const h=8;Ot.embedHorizontalSeparationPattern(0,h-1,l),Ot.embedHorizontalSeparationPattern(l.getWidth()-h,h-1,l),Ot.embedHorizontalSeparationPattern(0,l.getWidth()-h,l);const x=7;Ot.embedVerticalSeparationPattern(x,0,l),Ot.embedVerticalSeparationPattern(l.getHeight()-x-1,0,l),Ot.embedVerticalSeparationPattern(x,l.getHeight()-x,l)}static maybeEmbedPositionAdjustmentPatterns(l,d){if(l.getVersionNumber()<2)return;const h=l.getVersionNumber()-1,x=Ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let y=0,b=x.length;y!==b;y++){const _=x[y];if(_>=0)for(let T=0;T!==b;T++){const k=x[T];k>=0&&Ot.isEmpty(d.get(k,_))&&Ot.embedPositionAdjustmentPattern(k-2,_-2,d)}}}}Ot.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ot.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ot.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ot.VERSION_INFO_POLY=7973,Ot.TYPE_INFO_POLY=1335,Ot.TYPE_INFO_MASK_PATTERN=21522;class dx{constructor(l,d){this.dataBytes=l,this.errorCorrectionBytes=d}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class tr{constructor(){}static calculateMaskPenalty(l){return gr.applyMaskPenaltyRule1(l)+gr.applyMaskPenaltyRule2(l)+gr.applyMaskPenaltyRule3(l)+gr.applyMaskPenaltyRule4(l)}static encode(l,d,h=null){let x=tr.DEFAULT_BYTE_MODE_ENCODING;const y=h!==null&&h.get(Qr.CHARACTER_SET)!==void 0;y&&(x=h.get(Qr.CHARACTER_SET).toString());const b=this.chooseMode(l,x),_=new O;if(b===_t.BYTE&&(y||tr.DEFAULT_BYTE_MODE_ENCODING!==x)){const Ye=V.getCharacterSetECIByName(x);Ye!==void 0&&this.appendECI(Ye,_)}this.appendModeInfo(b,_);const T=new O;this.appendBytes(l,b,T,x);let k;if(h!==null&&h.get(Qr.QR_VERSION)!==void 0){const Ye=Number.parseInt(h.get(Qr.QR_VERSION).toString(),10);k=wt.getVersionForNumber(Ye);const Ke=this.calculateBitsNeeded(b,_,T,k);if(!this.willFit(Ke,k,d))throw new Ln("Data too big for requested version")}else k=this.recommendVersion(d,b,_,T);const P=new O;P.appendBitArray(_);const G=b===_t.BYTE?T.getSizeInBytes():l.length;this.appendLengthInfo(G,k,b,P),P.appendBitArray(T);const $=k.getECBlocksForLevel(d),ee=k.getTotalCodewords()-$.getTotalECCodewords();this.terminateBits(ee,P);const Ae=this.interleaveWithECBytes(P,k.getTotalCodewords(),ee,$.getNumBlocks()),ce=new So;ce.setECLevel(d),ce.setMode(b),ce.setVersion(k);const ge=k.getDimensionForVersion(),Te=new Au(ge,ge),Ze=this.chooseMaskPattern(Ae,d,k,Te);return ce.setMaskPattern(Ze),Ot.buildMatrix(Ae,d,k,Ze,Te),ce.setMatrix(Te),ce}static recommendVersion(l,d,h,x){const y=this.calculateBitsNeeded(d,h,x,wt.getVersionForNumber(1)),b=this.chooseVersion(y,l),_=this.calculateBitsNeeded(d,h,x,b);return this.chooseVersion(_,l)}static calculateBitsNeeded(l,d,h,x){return d.getSize()+l.getCharacterCountBits(x)+h.getSize()}static getAlphanumericCode(l){return l<tr.ALPHANUMERIC_TABLE.length?tr.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,d=null){if(V.SJIS.getName()===d&&this.isOnlyDoubleByteKanji(l))return _t.KANJI;let h=!1,x=!1;for(let y=0,b=l.length;y<b;++y){const _=l.charAt(y);if(tr.isDigit(_))h=!0;else if(this.getAlphanumericCode(_.charCodeAt(0))!==-1)x=!0;else return _t.BYTE}return x?_t.ALPHANUMERIC:h?_t.NUMERIC:_t.BYTE}static isOnlyDoubleByteKanji(l){let d;try{d=Y.encode(l,V.SJIS)}catch{return!1}const h=d.length;if(h%2!==0)return!1;for(let x=0;x<h;x+=2){const y=d[x]&255;if((y<129||y>159)&&(y<224||y>235))return!1}return!0}static chooseMaskPattern(l,d,h,x){let y=Number.MAX_SAFE_INTEGER,b=-1;for(let _=0;_<So.NUM_MASK_PATTERNS;_++){Ot.buildMatrix(l,d,h,_,x);let T=this.calculateMaskPenalty(x);T<y&&(y=T,b=_)}return b}static chooseVersion(l,d){for(let h=1;h<=40;h++){const x=wt.getVersionForNumber(h);if(tr.willFit(l,x,d))return x}throw new Ln("Data too big")}static willFit(l,d,h){const x=d.getTotalCodewords(),b=d.getECBlocksForLevel(h).getTotalECCodewords(),_=x-b,T=(l+7)/8;return _>=T}static terminateBits(l,d){const h=l*8;if(d.getSize()>h)throw new Ln("data bits cannot fit in the QR Code"+d.getSize()+" > "+h);for(let b=0;b<4&&d.getSize()<h;++b)d.appendBit(!1);const x=d.getSize()&7;if(x>0)for(let b=x;b<8;b++)d.appendBit(!1);const y=l-d.getSizeInBytes();for(let b=0;b<y;++b)d.appendBits((b&1)===0?236:17,8);if(d.getSize()!==h)throw new Ln("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,d,h,x,y,b){if(x>=h)throw new Ln("Block ID too large");const _=l%h,T=h-_,k=Math.floor(l/h),P=k+1,G=Math.floor(d/h),$=G+1,ee=k-G,Ae=P-$;if(ee!==Ae)throw new Ln("EC bytes mismatch");if(h!==T+_)throw new Ln("RS blocks mismatch");if(l!==(G+ee)*T+($+Ae)*_)throw new Ln("Total bytes mismatch");x<T?(y[0]=G,b[0]=ee):(y[0]=$,b[0]=Ae)}static interleaveWithECBytes(l,d,h,x){if(l.getSizeInBytes()!==h)throw new Ln("Number of bits and data bytes does not match");let y=0,b=0,_=0;const T=new Array;for(let P=0;P<x;++P){const G=new Int32Array(1),$=new Int32Array(1);tr.getNumDataBytesAndNumECBytesForBlockID(d,h,x,P,G,$);const ee=G[0],Ae=new Uint8Array(ee);l.toBytes(8*y,Ae,0,ee);const ce=tr.generateECBytes(Ae,$[0]);T.push(new dx(Ae,ce)),b=Math.max(b,ee),_=Math.max(_,ce.length),y+=G[0]}if(h!==y)throw new Ln("Data bytes does not match offset");const k=new O;for(let P=0;P<b;++P)for(const G of T){const $=G.getDataBytes();P<$.length&&k.appendBits($[P],8)}for(let P=0;P<_;++P)for(const G of T){const $=G.getErrorCorrectionBytes();P<$.length&&k.appendBits($[P],8)}if(d!==k.getSizeInBytes())throw new Ln("Interleaving error: "+d+" and "+k.getSizeInBytes()+" differ.");return k}static generateECBytes(l,d){const h=l.length,x=new Int32Array(h+d);for(let b=0;b<h;b++)x[b]=l[b]&255;new WA(Et.QR_CODE_FIELD_256).encode(x,d);const y=new Uint8Array(d);for(let b=0;b<d;b++)y[b]=x[h+b];return y}static appendModeInfo(l,d){d.appendBits(l.getBits(),4)}static appendLengthInfo(l,d,h,x){const y=h.getCharacterCountBits(d);if(l>=1<<y)throw new Ln(l+" is bigger than "+((1<<y)-1));x.appendBits(l,y)}static appendBytes(l,d,h,x){switch(d){case _t.NUMERIC:tr.appendNumericBytes(l,h);break;case _t.ALPHANUMERIC:tr.appendAlphanumericBytes(l,h);break;case _t.BYTE:tr.append8BitBytes(l,h,x);break;case _t.KANJI:tr.appendKanjiBytes(l,h);break;default:throw new Ln("Invalid mode: "+d)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const d=tr.getDigit(l);return d>=0&&d<=9}static appendNumericBytes(l,d){const h=l.length;let x=0;for(;x<h;){const y=tr.getDigit(l.charAt(x));if(x+2<h){const b=tr.getDigit(l.charAt(x+1)),_=tr.getDigit(l.charAt(x+2));d.appendBits(y*100+b*10+_,10),x+=3}else if(x+1<h){const b=tr.getDigit(l.charAt(x+1));d.appendBits(y*10+b,7),x+=2}else d.appendBits(y,4),x++}}static appendAlphanumericBytes(l,d){const h=l.length;let x=0;for(;x<h;){const y=tr.getAlphanumericCode(l.charCodeAt(x));if(y===-1)throw new Ln;if(x+1<h){const b=tr.getAlphanumericCode(l.charCodeAt(x+1));if(b===-1)throw new Ln;d.appendBits(y*45+b,11),x+=2}else d.appendBits(y,6),x++}}static append8BitBytes(l,d,h){let x;try{x=Y.encode(l,h)}catch(y){throw new Ln(y)}for(let y=0,b=x.length;y!==b;y++){const _=x[y];d.appendBits(_,8)}}static appendKanjiBytes(l,d){let h;try{h=Y.encode(l,V.SJIS)}catch(y){throw new Ln(y)}const x=h.length;for(let y=0;y<x;y+=2){const b=h[y]&255,_=h[y+1]&255,T=b<<8&4294967295|_;let k=-1;if(T>=33088&&T<=40956?k=T-33088:T>=57408&&T<=60351&&(k=T-49472),k===-1)throw new Ln("Invalid byte sequence");const P=(k>>8)*192+(k&255);d.appendBits(P,13)}}static appendECI(l,d){d.appendBits(_t.ECI.getBits(),4),d.appendBits(l.getValue(),8)}}tr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),tr.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class To{write(l,d,h,x=null){if(l.length===0)throw new w("Found empty contents");if(d<0||h<0)throw new w("Requested dimensions are too small: "+d+"x"+h);let y=on.L,b=To.QUIET_ZONE_SIZE;x!==null&&(x.get(Qr.ERROR_CORRECTION)!==void 0&&(y=on.fromString(x.get(Qr.ERROR_CORRECTION).toString())),x.get(Qr.MARGIN)!==void 0&&(b=Number.parseInt(x.get(Qr.MARGIN).toString(),10)));const _=tr.encode(l,y,x);return this.renderResult(_,d,h,b)}writeToDom(l,d,h,x,y=null){typeof l=="string"&&(l=document.querySelector(l));const b=this.write(d,h,x,y);l&&l.appendChild(b)}renderResult(l,d,h,x){const y=l.getMatrix();if(y===null)throw new Gn;const b=y.getWidth(),_=y.getHeight(),T=b+x*2,k=_+x*2,P=Math.max(d,T),G=Math.max(h,k),$=Math.min(Math.floor(P/T),Math.floor(G/k)),ee=Math.floor((P-b*$)/2),Ae=Math.floor((G-_*$)/2),ce=this.createSVGElement(P,G);for(let ge=0,Te=Ae;ge<_;ge++,Te+=$)for(let Ze=0,Ye=ee;Ze<b;Ze++,Ye+=$)if(y.get(Ze,ge)===1){const Ke=this.createSvgRectElement(Ye,Te,$,$);ce.appendChild(Ke)}return ce}createSVGElement(l,d){const h=document.createElementNS(To.SVG_NS,"svg");return h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",d.toString()),h}createSvgRectElement(l,d,h,x){const y=document.createElementNS(To.SVG_NS,"rect");return y.setAttributeNS(null,"x",l.toString()),y.setAttributeNS(null,"y",d.toString()),y.setAttributeNS(null,"height",h.toString()),y.setAttributeNS(null,"width",x.toString()),y.setAttributeNS(null,"fill","#000000"),y}}To.QUIET_ZONE_SIZE=4,To.SVG_NS="http://www.w3.org/2000/svg";class Ol{encode(l,d,h,x,y){if(l.length===0)throw new w("Found empty contents");if(d!==De.QR_CODE)throw new w("Can only encode QR_CODE, but got "+d);if(h<0||x<0)throw new w(`Requested dimensions are too small: ${h}x${x}`);let b=on.L,_=Ol.QUIET_ZONE_SIZE;y!==null&&(y.get(Qr.ERROR_CORRECTION)!==void 0&&(b=on.fromString(y.get(Qr.ERROR_CORRECTION).toString())),y.get(Qr.MARGIN)!==void 0&&(_=Number.parseInt(y.get(Qr.MARGIN).toString(),10)));const T=tr.encode(l,b,y);return Ol.renderResult(T,h,x,_)}static renderResult(l,d,h,x){const y=l.getMatrix();if(y===null)throw new Gn;const b=y.getWidth(),_=y.getHeight(),T=b+x*2,k=_+x*2,P=Math.max(d,T),G=Math.max(h,k),$=Math.min(Math.floor(P/T),Math.floor(G/k)),ee=Math.floor((P-b*$)/2),Ae=Math.floor((G-_*$)/2),ce=new te(P,G);for(let ge=0,Te=Ae;ge<_;ge++,Te+=$)for(let Ze=0,Ye=ee;Ze<b;Ze++,Ye+=$)y.get(Ze,ge)===1&&ce.setRegion(Ye,Te,$,$);return ce}}Ol.QUIET_ZONE_SIZE=4;class fx{encode(l,d,h,x,y){let b;switch(d){case De.QR_CODE:b=new Ol;break;default:throw new w("No encoder available for format "+d)}return b.encode(l,d,h,x,y)}}class la extends se{constructor(l,d,h,x,y,b,_,T){if(super(b,_),this.yuvData=l,this.dataWidth=d,this.dataHeight=h,this.left=x,this.top=y,x+b>d||y+_>h)throw new w("Crop rectangle does not fit within image data.");T&&this.reverseHorizontal(b,_)}getRow(l,d){if(l<0||l>=this.getHeight())throw new w("Requested row is outside the image: "+l);const h=this.getWidth();(d==null||d.length<h)&&(d=new Uint8ClampedArray(h));const x=(l+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,x,d,0,h),d}getMatrix(){const l=this.getWidth(),d=this.getHeight();if(l===this.dataWidth&&d===this.dataHeight)return this.yuvData;const h=l*d,x=new Uint8ClampedArray(h);let y=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return I.arraycopy(this.yuvData,y,x,0,h),x;for(let b=0;b<d;b++){const _=b*l;I.arraycopy(this.yuvData,y,x,_,l),y+=this.dataWidth}return x}isCropSupported(){return!0}crop(l,d,h,x){return new la(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+d,h,x,!1)}renderThumbnail(){const l=this.getWidth()/la.THUMBNAIL_SCALE_FACTOR,d=this.getHeight()/la.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(l*d),x=this.yuvData;let y=this.top*this.dataWidth+this.left;for(let b=0;b<d;b++){const _=b*l;for(let T=0;T<l;T++){const k=x[y+T*la.THUMBNAIL_SCALE_FACTOR]&255;h[_+T]=4278190080|k*65793}y+=this.dataWidth*la.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/la.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/la.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,d){const h=this.yuvData;for(let x=0,y=this.top*this.dataWidth+this.left;x<d;x++,y+=this.dataWidth){const b=y+l/2;for(let _=y,T=y+l-1;_<b;_++,T--){const k=h[_];h[_]=h[T],h[T]=k}}}invert(){return new me(this)}}la.THUMBNAIL_SCALE_FACTOR=2;class Yd extends se{constructor(l,d,h,x,y,b,_){if(super(d,h),this.dataWidth=x,this.dataHeight=y,this.left=b,this.top=_,l.BYTES_PER_ELEMENT===4){const T=d*h,k=new Uint8ClampedArray(T);for(let P=0;P<T;P++){const G=l[P],$=G>>16&255,ee=G>>7&510,Ae=G&255;k[P]=($+ee+Ae)/4&255}this.luminances=k}else this.luminances=l;if(x===void 0&&(this.dataWidth=d),y===void 0&&(this.dataHeight=h),b===void 0&&(this.left=0),_===void 0&&(this.top=0),this.left+d>this.dataWidth||this.top+h>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(l,d){if(l<0||l>=this.getHeight())throw new w("Requested row is outside the image: "+l);const h=this.getWidth();(d==null||d.length<h)&&(d=new Uint8ClampedArray(h));const x=(l+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,x,d,0,h),d}getMatrix(){const l=this.getWidth(),d=this.getHeight();if(l===this.dataWidth&&d===this.dataHeight)return this.luminances;const h=l*d,x=new Uint8ClampedArray(h);let y=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return I.arraycopy(this.luminances,y,x,0,h),x;for(let b=0;b<d;b++){const _=b*l;I.arraycopy(this.luminances,y,x,_,l),y+=this.dataWidth}return x}isCropSupported(){return!0}crop(l,d,h,x){return new Yd(this.luminances,h,x,this.dataWidth,this.dataHeight,this.left+l,this.top+d)}invert(){return new me(this)}}class yp extends V{static forName(l){return this.getCharacterSetECIByName(l)}}class XA{}XA.ISO_8859_1=V.ISO8859_1;class Ml{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class vp{static singletonList(l){return[l]}static min(l,d){return l.sort(d)[0]}}class bp{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Io extends bp{constructor(l,d,h){super(l),this.value=d,this.bitCount=h}appendTo(l,d){l.appendBits(this.value,this.bitCount)}add(l,d){return new Io(this,l,d)}addBinaryShift(l,d){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Io(this,l,d)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+U.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class cu extends Io{constructor(l,d,h){super(l,0,0),this.binaryShiftStart=d,this.binaryShiftByteCount=h}appendTo(l,d){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):h===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(d[this.binaryShiftStart+h],8)}addBinaryShift(l,d){return new cu(this,l,d)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Cp(K,l,d){return new cu(K,l,d)}function kl(K,l,d){return new Io(K,l,d)}const Fl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Za=0,uu=1,vs=2,Zd=3,Ps=4,qA=new Io(null,0,0),No=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function hx(K){for(let l of K)L.fill(l,-1);return K[Za][Ps]=0,K[uu][Ps]=0,K[uu][Za]=28,K[Zd][Ps]=0,K[vs][Ps]=0,K[vs][Za]=15,K}const YA=hx(L.createInt32Array(6,6));class zs{constructor(l,d,h,x){this.token=l,this.mode=d,this.binaryShiftByteCount=h,this.bitCount=x}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,d){let h=this.bitCount,x=this.token;if(l!==this.mode){let b=No[this.mode][l];x=kl(x,b&65535,b>>16),h+=b>>16}let y=l===vs?4:5;return x=kl(x,d,y),new zs(x,l,0,h+y)}shiftAndAppend(l,d){let h=this.token,x=this.mode===vs?4:5;return h=kl(h,YA[this.mode][l],x),h=kl(h,d,5),new zs(h,this.mode,0,this.bitCount+x+5)}addBinaryShiftChar(l){let d=this.token,h=this.mode,x=this.bitCount;if(this.mode===Ps||this.mode===vs){let _=No[h][Za];d=kl(d,_&65535,_>>16),x+=_>>16,h=Za}let y=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,b=new zs(d,h,this.binaryShiftByteCount+1,x+y);return b.binaryShiftByteCount===2078&&(b=b.endBinaryShift(l+1)),b}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let d=this.token;return d=Cp(d,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new zs(d,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let d=this.bitCount+(No[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?d+=zs.calculateBinaryShiftCost(l)-zs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(d+=10),d<=l.bitCount}toBitArray(l){let d=[];for(let x=this.endBinaryShift(l.length).token;x!==null;x=x.getPrevious())d.unshift(x);let h=new O;for(const x of d)x.appendTo(h,l);return h}toString(){return J.format("%s bits=%d bytes=%d",Fl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}zs.INITIAL_STATE=new zs(qA,Za,0,0);function Bp(K){const l=J.getCharCode(" "),d=J.getCharCode("."),h=J.getCharCode(",");K[Za][l]=1;const x=J.getCharCode("Z"),y=J.getCharCode("A");for(let $=y;$<=x;$++)K[Za][$]=$-y+2;K[uu][l]=1;const b=J.getCharCode("z"),_=J.getCharCode("a");for(let $=_;$<=b;$++)K[uu][$]=$-_+2;K[vs][l]=1;const T=J.getCharCode("9"),k=J.getCharCode("0");for(let $=k;$<=T;$++)K[vs][$]=$-k+2;K[vs][h]=12,K[vs][d]=13;const P=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let $=0;$<P.length;$++)K[Zd][J.getCharCode(P[$])]=$;const G=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let $=0;$<G.length;$++)J.getCharCode(G[$])>0&&(K[Ps][J.getCharCode(G[$])]=$);return K}const ZA=Bp(L.createInt32Array(5,256));class Oo{constructor(l){this.text=l}encode(){const l=J.getCharCode(" "),d=J.getCharCode(`
`);let h=vp.singletonList(zs.INITIAL_STATE);for(let y=0;y<this.text.length;y++){let b,_=y+1<this.text.length?this.text[y+1]:0;switch(this.text[y]){case J.getCharCode("\r"):b=_===d?2:0;break;case J.getCharCode("."):b=_===l?3:0;break;case J.getCharCode(","):b=_===l?4:0;break;case J.getCharCode(":"):b=_===l?5:0;break;default:b=0}b>0?(h=Oo.updateStateListForPair(h,y,b),y++):h=this.updateStateListForChar(h,y)}return vp.min(h,(y,b)=>y.getBitCount()-b.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,d){const h=[];for(let x of l)this.updateStateForChar(x,d,h);return Oo.simplifyStates(h)}updateStateForChar(l,d,h){let x=this.text[d]&255,y=ZA[l.getMode()][x]>0,b=null;for(let _=0;_<=Ps;_++){let T=ZA[_][x];if(T>0){if(b==null&&(b=l.endBinaryShift(d)),!y||_===l.getMode()||_===vs){const k=b.latchAndAppend(_,T);h.push(k)}if(!y&&YA[l.getMode()][_]>=0){const k=b.shiftAndAppend(_,T);h.push(k)}}}if(l.getBinaryShiftByteCount()>0||ZA[l.getMode()][x]===0){let _=l.addBinaryShiftChar(d);h.push(_)}}static updateStateListForPair(l,d,h){const x=[];for(let y of l)this.updateStateForPair(y,d,h,x);return this.simplifyStates(x)}static updateStateForPair(l,d,h,x){let y=l.endBinaryShift(d);if(x.push(y.latchAndAppend(Ps,h)),l.getMode()!==Ps&&x.push(y.shiftAndAppend(Ps,h)),h===3||h===4){let b=y.latchAndAppend(vs,16-h).latchAndAppend(vs,1);x.push(b)}if(l.getBinaryShiftByteCount()>0){let b=l.addBinaryShiftChar(d).addBinaryShiftChar(d+1);x.push(b)}}static simplifyStates(l){let d=[];for(const h of l){let x=!0;for(const y of d){if(y.isBetterThanOrEqualTo(h)){x=!1;break}h.isBetterThanOrEqualTo(y)&&(d=d.filter(b=>b!==y))}x&&d.push(h)}return d}}class xn{constructor(){}static encodeBytes(l){return xn.encode(l,xn.DEFAULT_EC_PERCENT,xn.DEFAULT_AZTEC_LAYERS)}static encode(l,d,h){let x=new Oo(l).encode(),y=U.truncDivision(x.getSize()*d,100)+11,b=x.getSize()+y,_,T,k,P,G;if(h!==xn.DEFAULT_AZTEC_LAYERS){if(_=h<0,T=Math.abs(h),T>(_?xn.MAX_NB_BITS_COMPACT:xn.MAX_NB_BITS))throw new w(J.format("Illegal value %s for layers",h));k=xn.totalBitsInLayer(T,_),P=xn.WORD_SIZE[T];let Ke=k-k%P;if(G=xn.stuffBits(x,P),G.getSize()+y>Ke)throw new w("Data to large for user specified layer");if(_&&G.getSize()>P*64)throw new w("Data to large for user specified layer")}else{P=0,G=null;for(let Ke=0;;Ke++){if(Ke>xn.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(_=Ke<=3,T=_?Ke+1:Ke,k=xn.totalBitsInLayer(T,_),b>k)continue;(G==null||P!==xn.WORD_SIZE[T])&&(P=xn.WORD_SIZE[T],G=xn.stuffBits(x,P));let tn=k-k%P;if(!(_&&G.getSize()>P*64)&&G.getSize()+y<=tn)break}}let $=xn.generateCheckWords(G,k,P),ee=G.getSize()/P,Ae=xn.generateModeMessage(_,T,ee),ce=(_?11:14)+T*4,ge=new Int32Array(ce),Te;if(_){Te=ce;for(let Ke=0;Ke<ge.length;Ke++)ge[Ke]=Ke}else{Te=ce+1+2*U.truncDivision(U.truncDivision(ce,2)-1,15);let Ke=U.truncDivision(ce,2),tn=U.truncDivision(Te,2);for(let zt=0;zt<Ke;zt++){let Ir=zt+U.truncDivision(zt,15);ge[Ke-zt-1]=tn-Ir-1,ge[Ke+zt]=tn+Ir+1}}let Ze=new te(Te);for(let Ke=0,tn=0;Ke<T;Ke++){let zt=(T-Ke)*4+(_?9:12);for(let Ir=0;Ir<zt;Ir++){let bs=Ir*2;for(let Ci=0;Ci<2;Ci++)$.get(tn+bs+Ci)&&Ze.set(ge[Ke*2+Ci],ge[Ke*2+Ir]),$.get(tn+zt*2+bs+Ci)&&Ze.set(ge[Ke*2+Ir],ge[ce-1-Ke*2-Ci]),$.get(tn+zt*4+bs+Ci)&&Ze.set(ge[ce-1-Ke*2-Ci],ge[ce-1-Ke*2-Ir]),$.get(tn+zt*6+bs+Ci)&&Ze.set(ge[ce-1-Ke*2-Ir],ge[Ke*2+Ci])}tn+=zt*8}if(xn.drawModeMessage(Ze,_,Te,Ae),_)xn.drawBullsEye(Ze,U.truncDivision(Te,2),5);else{xn.drawBullsEye(Ze,U.truncDivision(Te,2),7);for(let Ke=0,tn=0;Ke<U.truncDivision(ce,2)-1;Ke+=15,tn+=16)for(let zt=U.truncDivision(Te,2)&1;zt<Te;zt+=2)Ze.set(U.truncDivision(Te,2)-tn,zt),Ze.set(U.truncDivision(Te,2)+tn,zt),Ze.set(zt,U.truncDivision(Te,2)-tn),Ze.set(zt,U.truncDivision(Te,2)+tn)}let Ye=new Ml;return Ye.setCompact(_),Ye.setSize(Te),Ye.setLayers(T),Ye.setCodeWords(ee),Ye.setMatrix(Ze),Ye}static drawBullsEye(l,d,h){for(let x=0;x<h;x+=2)for(let y=d-x;y<=d+x;y++)l.set(y,d-x),l.set(y,d+x),l.set(d-x,y),l.set(d+x,y);l.set(d-h,d-h),l.set(d-h+1,d-h),l.set(d-h,d-h+1),l.set(d+h,d-h),l.set(d+h,d-h+1),l.set(d+h,d+h-1)}static generateModeMessage(l,d,h){let x=new O;return l?(x.appendBits(d-1,2),x.appendBits(h-1,6),x=xn.generateCheckWords(x,28,4)):(x.appendBits(d-1,5),x.appendBits(h-1,11),x=xn.generateCheckWords(x,40,4)),x}static drawModeMessage(l,d,h,x){let y=U.truncDivision(h,2);if(d)for(let b=0;b<7;b++){let _=y-3+b;x.get(b)&&l.set(_,y-5),x.get(b+7)&&l.set(y+5,_),x.get(20-b)&&l.set(_,y+5),x.get(27-b)&&l.set(y-5,_)}else for(let b=0;b<10;b++){let _=y-5+b+U.truncDivision(b,5);x.get(b)&&l.set(_,y-7),x.get(b+10)&&l.set(y+7,_),x.get(29-b)&&l.set(_,y+7),x.get(39-b)&&l.set(y-7,_)}}static generateCheckWords(l,d,h){let x=l.getSize()/h,y=new WA(xn.getGF(h)),b=U.truncDivision(d,h),_=xn.bitsToWords(l,h,b);y.encode(_,b-x);let T=d%h,k=new O;k.appendBits(0,T);for(const P of Array.from(_))k.appendBits(P,h);return k}static bitsToWords(l,d,h){let x=new Int32Array(h),y,b;for(y=0,b=l.getSize()/d;y<b;y++){let _=0;for(let T=0;T<d;T++)_|=l.get(y*d+T)?1<<d-T-1:0;x[y]=_}return x}static getGF(l){switch(l){case 4:return Et.AZTEC_PARAM;case 6:return Et.AZTEC_DATA_6;case 8:return Et.AZTEC_DATA_8;case 10:return Et.AZTEC_DATA_10;case 12:return Et.AZTEC_DATA_12;default:throw new w("Unsupported word size "+l)}}static stuffBits(l,d){let h=new O,x=l.getSize(),y=(1<<d)-2;for(let b=0;b<x;b+=d){let _=0;for(let T=0;T<d;T++)(b+T>=x||l.get(b+T))&&(_|=1<<d-1-T);(_&y)===y?(h.appendBits(_&y,d),b--):(_&y)===0?(h.appendBits(_|1,d),b--):h.appendBits(_,d)}return h}static totalBitsInLayer(l,d){return((d?88:112)+16*l)*l}}xn.DEFAULT_EC_PERCENT=33,xn.DEFAULT_AZTEC_LAYERS=0,xn.MAX_NB_BITS=32,xn.MAX_NB_BITS_COMPACT=4,xn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class JA{encode(l,d,h,x){return this.encodeWithHints(l,d,h,x,null)}encodeWithHints(l,d,h,x,y){let b=XA.ISO_8859_1,_=xn.DEFAULT_EC_PERCENT,T=xn.DEFAULT_AZTEC_LAYERS;return y!=null&&(y.has(Qr.CHARACTER_SET)&&(b=yp.forName(y.get(Qr.CHARACTER_SET).toString())),y.has(Qr.ERROR_CORRECTION)&&(_=U.parseInt(y.get(Qr.ERROR_CORRECTION).toString())),y.has(Qr.AZTEC_LAYERS)&&(T=U.parseInt(y.get(Qr.AZTEC_LAYERS).toString()))),JA.encodeLayers(l,d,h,x,b,_,T)}static encodeLayers(l,d,h,x,y,b,_){if(d!==De.AZTEC)throw new w("Can only encode AZTEC, but got "+d);let T=xn.encode(J.getBytes(l,y),b,_);return JA.renderResult(T,h,x)}static renderResult(l,d,h){let x=l.getMatrix();if(x==null)throw new Gn;let y=x.getWidth(),b=x.getHeight(),_=Math.max(d,y),T=Math.max(h,b),k=Math.min(_/y,T/b),P=(_-y*k)/2,G=(T-b*k)/2,$=new te(_,T);for(let ee=0,Ae=G;ee<b;ee++,Ae+=k)for(let ce=0,ge=P;ce<y;ce++,ge+=k)x.get(ce,ee)&&$.setRegion(ge,Ae,k,k);return $}}n.AbstractExpandedDecoder=it,n.ArgumentException=m,n.ArithmeticException=fn,n.AztecCode=Ml,n.AztecCodeReader=Vt,n.AztecCodeWriter=JA,n.AztecDecoder=Yt,n.AztecDetector=Mt,n.AztecDetectorResult=ui,n.AztecEncoder=xn,n.AztecHighLevelEncoder=Oo,n.AztecPoint=gt,n.BarcodeFormat=De,n.Binarizer=E,n.BinaryBitmap=C,n.BitArray=O,n.BitMatrix=te,n.BitSource=fi,n.BrowserAztecCodeReader=Fe,n.BrowserBarcodeReader=_l,n.BrowserCodeReader=Ne,n.BrowserDatamatrixCodeReader=ru,n.BrowserMultiFormatReader=wp,n.BrowserPDF417Reader=cx,n.BrowserQRCodeReader=ux,n.BrowserQRCodeSvgWriter=To,n.CharacterSetECI=V,n.ChecksumException=B,n.Code128Reader=xe,n.Code39Reader=Xe,n.DataMatrixDecodedBitStreamParser=Hs,n.DataMatrixReader=ka,n.DecodeHintType=Q,n.DecoderResult=vt,n.DefaultGridSampler=Ue,n.DetectorResult=qi,n.EAN13Reader=bn,n.EncodeHintType=Qr,n.Exception=f,n.FormatException=D,n.GenericGF=Et,n.GenericGFPoly=pt,n.GlobalHistogramBinarizer=ie,n.GridSampler=Ce,n.GridSamplerInstance=Re,n.HTMLCanvasElementLuminanceSource=ke,n.HybridBinarizer=ae,n.ITFReader=ze,n.IllegalArgumentException=w,n.IllegalStateException=Gn,n.InvertedLuminanceSource=me,n.LuminanceSource=se,n.MathUtils=Ht,n.MultiFormatOneDReader=di,n.MultiFormatReader=xp,n.MultiFormatWriter=fx,n.NotFoundException=q,n.OneDReader=_e,n.PDF417DecodedBitStreamParser=Ie,n.PDF417DecoderErrorCorrection=Da,n.PDF417Reader=ai,n.PDF417ResultMetadata=Nl,n.PerspectiveTransform=de,n.PlanarYUVLuminanceSource=la,n.QRCodeByteMatrix=Au,n.QRCodeDataMask=Zi,n.QRCodeDecodedBitStreamParser=Jn,n.QRCodeDecoderErrorCorrectionLevel=on,n.QRCodeDecoderFormatInformation=$r,n.QRCodeEncoder=tr,n.QRCodeEncoderQRCode=So,n.QRCodeMaskUtil=gr,n.QRCodeMatrixUtil=Ot,n.QRCodeMode=_t,n.QRCodeReader=Fa,n.QRCodeVersion=wt,n.QRCodeWriter=Ol,n.RGBLuminanceSource=Yd,n.RSS14Reader=dn,n.RSSExpandedReader=Ve,n.ReaderException=lu,n.ReedSolomonDecoder=bi,n.ReedSolomonEncoder=WA,n.ReedSolomonException=Lr,n.Result=ye,n.ResultMetadataType=qe,n.ResultPoint=at,n.StringUtils=J,n.UnsupportedOperationException=W,n.VideoInputDevice=ne,n.WhiteRectangleDetector=$e,n.WriterException=Ln,n.ZXingArrays=L,n.ZXingCharset=yp,n.ZXingInteger=U,n.ZXingStandardCharsets=XA,n.ZXingStringBuilder=re,n.ZXingStringEncoding=Y,n.ZXingSystem=I,n.createAbstractExpandedDecoder=ws,Object.defineProperty(n,"__esModule",{value:!0})}))})(eh,eh.exports)),eh.exports}var ur=rq();const iq=Cl(ur),sq=aR({__proto__:null,default:iq},[ur]);var i4=(function(){function t(e,n,r){if(this.formatMap=new Map([[ht.QR_CODE,ur.BarcodeFormat.QR_CODE],[ht.AZTEC,ur.BarcodeFormat.AZTEC],[ht.CODABAR,ur.BarcodeFormat.CODABAR],[ht.CODE_39,ur.BarcodeFormat.CODE_39],[ht.CODE_93,ur.BarcodeFormat.CODE_93],[ht.CODE_128,ur.BarcodeFormat.CODE_128],[ht.DATA_MATRIX,ur.BarcodeFormat.DATA_MATRIX],[ht.MAXICODE,ur.BarcodeFormat.MAXICODE],[ht.ITF,ur.BarcodeFormat.ITF],[ht.EAN_13,ur.BarcodeFormat.EAN_13],[ht.EAN_8,ur.BarcodeFormat.EAN_8],[ht.PDF_417,ur.BarcodeFormat.PDF_417],[ht.RSS_14,ur.BarcodeFormat.RSS_14],[ht.RSS_EXPANDED,ur.BarcodeFormat.RSS_EXPANDED],[ht.UPC_A,ur.BarcodeFormat.UPC_A],[ht.UPC_E,ur.BarcodeFormat.UPC_E],[ht.UPC_EAN_EXTENSION,ur.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!sq)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),s=new Map;s.set(ur.DecodeHintType.POSSIBLE_FORMATS,i),s.set(ur.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var n=new ur.MultiFormatReader(this.verbose,this.hints),r=new ur.HTMLCanvasElementLuminanceSource(e),i=new ur.BinaryBitmap(new ur.HybridBinarizer(r)),s=n.decode(i);return{text:s.text,format:H5.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),aq=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function A(m){try{f(r.next(m))}catch(w){a(w)}}function u(m){try{f(r.throw(m))}catch(w){a(w)}}function f(m){m.done?s(m.value):i(m.value).then(A,u)}f((r=r.apply(t,e||[])).next())})},oq=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(f){return function(m){return u([f,m])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(m){f=[6,m],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},s4=(function(){function t(e,n,r){if(this.formatMap=new Map([[ht.QR_CODE,"qr_code"],[ht.AZTEC,"aztec"],[ht.CODABAR,"codabar"],[ht.CODE_39,"code_39"],[ht.CODE_93,"code_93"],[ht.CODE_128,"code_128"],[ht.DATA_MATRIX,"data_matrix"],[ht.ITF,"itf"],[ht.EAN_13,"ean_13"],[ht.EAN_8,"ean_8"],[ht.PDF_417,"pdf417"],[ht.UPC_A,"upc_a"],[ht.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return aq(this,void 0,void 0,function(){var n,r;return oq(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:H5.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,s=e;i<s.length;i++){var a=s[i],A=a.boundingBox.width*a.boundingBox.height;A>r&&(r=A,n=a)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),a4=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function A(m){try{f(r.next(m))}catch(w){a(w)}}function u(m){try{f(r.throw(m))}catch(w){a(w)}}function f(m){m.done?s(m.value):i(m.value).then(A,u)}f((r=r.apply(t,e||[])).next())})},o4=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(f){return function(m){return u([f,m])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(m){f=[6,m],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},lq=(function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&s4.isSupported()?(this.primaryDecoder=new s4(e,r,i),this.secondaryDecoder=new i4(e,r,i)):this.primaryDecoder=new i4(e,r,i)}return t.prototype.decodeAsync=function(e){return a4(this,void 0,void 0,function(){var n;return o4(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return a4(this,void 0,void 0,function(){var n,r;return o4(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),pC=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),um=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function A(m){try{f(r.next(m))}catch(w){a(w)}}function u(m){try{f(r.throw(m))}catch(w){a(w)}}function f(m){m.done?s(m.value):i(m.value).then(A,u)}f((r=r.apply(t,e||[])).next())})},dm=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(f){return function(m){return u([f,m])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(m){f=[6,m],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},P5=(function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t})(),Aq=(function(t){pC(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(P5),cq=(function(t){pC(e,t);function e(n){return t.call(this,"zoom",n)||this}return e})(Aq),uq=(function(t){pC(e,t);function e(n){return t.call(this,"torch",n)||this}return e})(P5),dq=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new cq(this.track)},t.prototype.torchFeature=function(){return new uq(this.track)},t})(),fq=(function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return um(this,void 0,void 0,function(){var s,a;return dm(this,function(A){switch(A.label){case 0:return s=new t(e,n,i),r.aspectRatio?(a={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(a)]):[3,2];case 1:A.sent(),A.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return um(this,void 0,void 0,function(){return dm(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),s=i.length,a=0;e.mediaStream.getVideoTracks().forEach(function(A){e.mediaStream.removeTrack(A),A.stop(),++a,a>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new dq(this.getFirstTrackOrFail())},t})(),hq=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return um(this,void 0,void 0,function(){return dm(this,function(i){return[2,fq.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return um(this,void 0,void 0,function(){var n,r;return dm(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t})(),l4=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function A(m){try{f(r.next(m))}catch(w){a(w)}}function u(m){try{f(r.throw(m))}catch(w){a(w)}}function f(m){m.done?s(m.value):i(m.value).then(A,u)}f((r=r.apply(t,e||[])).next())})},A4=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(f){return function(m){return u([f,m])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(m){f=[6,m],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},pq=(function(){function t(){}return t.failIfNotSupported=function(){return l4(this,void 0,void 0,function(){return A4(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return l4(this,void 0,void 0,function(){return A4(this,function(n){return[2,hq.create(e)]})})},t})(),gq=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function A(m){try{f(r.next(m))}catch(w){a(w)}}function u(m){try{f(r.throw(m))}catch(w){a(w)}}function f(m){m.done?s(m.value):i(m.value).then(A,u)}f((r=r.apply(t,e||[])).next())})},mq=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(f){return function(m){return u([f,m])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(m){f=[6,m],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},xq=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=xd.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=xd.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return gq(this,void 0,void 0,function(){var e,n,r,i,s,a,A;return mq(this,function(u){switch(u.label){case 0:return e=function(f){for(var m=f.getVideoTracks(),w=0,C=m;w<C.length;w++){var B=C[w];B.enabled=!1,B.stop(),f.removeTrack(B)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=u.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=u.sent(),i=[],s=0,a=r;s<a.length;s++)A=a[s],A.kind==="videoinput"&&i.push({id:A.deviceId,label:A.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(s){for(var a=[],A=0,u=s;A<u.length;A++){var f=u[A];f.kind==="video"&&a.push({id:f.id,label:f.label})}e(a)},i=MediaStreamTrack;i.getSources(r)})},t})(),Fr;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Fr||(Fr={}));var wq=(function(){function t(){this.state=Fr.NOT_STARTED,this.onGoingTransactionNewState=Fr.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Fr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Fr.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Fr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Fr.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Fr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Fr.UNKNOWN:throw"Transition from unknown is not allowed";case Fr.NOT_STARTED:this.failIfNewStateIs(e,[Fr.PAUSED]);break;case Fr.SCANNING:break;case Fr.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),yq=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Fr.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Fr.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Fr.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Fr.PAUSED},t})(),vq=(function(){function t(){}return t.create=function(){return new yq(new wq)},t})(),bq=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ea=(function(t){bq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(JX),Cq=(function(){function t(e,n){this.logger=n,this.fps=ea.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=ea.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?j5.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Al(this.qrbox)},t.create=function(e,n){return new t(e,n)},t})(),Bq=(function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new tq(this.verbose),this.qrcode=new lq(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=vq.create()}return t.prototype.start=function(e,n,r,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var a;i?a=i:a=this.verbose?this.logger.log:function(){};var A=Cq.create(n,this.logger);this.clearElement();var u=!1;A.videoConstraints&&(A.isMediaStreamConstraintsValid()?u=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=u,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:ea.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var w=this,C=this.stateManagerProxy.startTransition(Fr.SCANNING);return new Promise(function(B,E){var I=f?A.videoConstraints:w.createVideoConstraints(e);if(!I){C.cancel(),E("videoConstraints should be defined");return}var M={};(!f||A.aspectRatio)&&(M.aspectRatio=A.aspectRatio);var R={onRenderSurfaceReady:function(L,U){w.setupUi(L,U,A),w.isScanning=!0,w.foreverScan(A,r,a)}};pq.failIfNotSupported().then(function(L){L.create(I).then(function(U){return U.render(s.element,M,R).then(function(O){w.renderedCamera=O,C.execute(),B(null)}).catch(function(O){C.cancel(),E(O)})}).catch(function(U){C.cancel(),E(xd.errorGettingUserMedia(U))})}).catch(function(L){C.cancel(),E(xd.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Fr.PAUSED),this.showPausedState(),(Al(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Fr.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Fr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var s=document.getElementById(ea.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Al(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var a=new Image;a.onload=function(){var A=a.width,u=a.height,f=document.getElementById(r.elementId),m=f.clientWidth?f.clientWidth:ea.DEFAULT_WIDTH,w=Math.max(f.clientHeight?f.clientHeight:u,ea.FILE_SCAN_MIN_HEIGHT),C=r.computeCanvasDrawConfig(A,u,m,w);if(n){var B=r.createCanvasElement(m,w,"qr-canvas-visible");B.style.display="inline-block",f.appendChild(B);var E=B.getContext("2d");if(!E)throw"Unable to get 2d context from canvas";E.canvas.width=m,E.canvas.height=w,E.drawImage(a,0,0,A,u,C.x,C.y,C.width,C.height)}var I=ea.FILE_SCAN_HIDDEN_CANVAS_PADDING,M=Math.max(a.width,C.width),R=Math.max(a.height,C.height),L=M+2*I,U=R+2*I,O=r.createCanvasElement(L,U);f.appendChild(O);var F=O.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=L,F.canvas.height=U,F.drawImage(a,0,0,A,u,I,I,M,R);try{r.qrcode.decodeRobustlyAsync(O).then(function(Q){i(n4.createFromQrcodeResult(Q))}).catch(s)}catch(Q){s("QR code parse error, error = ".concat(Q))}},a.onerror=s,a.onabort=s,a.onstalled=s,a.onsuspend=s,a.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return xq.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!j5.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[ht.QR_CODE,ht.AZTEC,ht.CODABAR,ht.CODE_39,ht.CODE_93,ht.CODE_128,ht.DATA_MATRIX,ht.MAXICODE,ht.ITF,ht.EAN_13,ht.EAN_8,ht.PDF_417,ht.RSS_14,ht.RSS_EXPANDED,ht.UPC_A,ht.UPC_E,ht.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=e.formatsToSupport;i<s.length;i++){var a=s[i];ZX(a)?r.push(a):this.logger.warn("Invalid format: ".concat(a," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Al(e))return!0;if(!Al(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Al(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Al(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(e,n,s),A=function(f){if(f<ea.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ea.MIN_QR_BOX_SIZE,"px.")},u=function(f){return f>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=e),f};A(a.width),A(a.height),a.width=u(a.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=Al(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,n,i);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var a=r.isShadedBoxEnabled()&&s.height<=n,A={x:0,y:0,width:e,height:n},u=a?this.getShadedRegionBounds(e,n,s):A,f=this.createCanvasElement(u.width,u.height),m={willReadFrequently:!0},w=f.getContext("2d",m);w.canvas.width=u.width,w.canvas.height=u.height,this.element.append(f),a&&this.possiblyInsertShadingElement(this.element,e,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=u,this.context=w,this.canvasElement=f},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=xd.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,n4.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=xd.codeParseError(i);return n(s,eq.createFrom(s)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),a=s.videoWidth/s.clientWidth,A=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var u=this.qrRegion.width*a,f=this.qrRegion.height*A,m=this.qrRegion.x*a,w=this.qrRegion.y*A;this.context.drawImage(s,m,w,u,f,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(B){!B&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){C()})):C()}).catch(function(B){i.logger.logError("Error happend while scanning context",B),C()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",a=function(E){if(E in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(E,"'")},A=Object.keys(e);if(A.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(A.length," keys");var u=Object.keys(e)[0];if(u!==n&&u!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(u===n){var f=e.facingMode;if(typeof f=="string"){if(a(f))return{facingMode:f}}else if(typeof f=="object")if(s in f){if(a(f["".concat(s)]))return{facingMode:{exact:f["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var m=typeof f;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var w=e.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(s in w)return{deviceId:{exact:w["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var C=typeof w;throw"Invalid type of 'deviceId' = ".concat(C)}}}var B=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(B)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var s=(r-e)/2,a=(i-n)/2;return{x:s,y:a,width:e,height:n}}else{var A=e,u=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(A,"X").concat(u)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?ea.BORDER_SHADER_MATCH_COLOR:ea.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,s=n,a=document.createElement("canvas");return a.style.width="".concat(i,"px"),a.style.height="".concat(s,"px"),a.style.display="none",a.id=Al(r)?"qr-canvas":r,a},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var a=(n-i.width)/2,A=(r-i.height)/2;if(s.style.borderLeft="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(ea.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var u=5,f=40;this.insertShaderBorders(s,f,u,-u,null,0,!0),this.insertShaderBorders(s,f,u,-u,null,0,!1),this.insertShaderBorders(s,f,u,null,-u,0,!0),this.insertShaderBorders(s,f,u,null,-u,0,!1),this.insertShaderBorders(s,u,f+u,-u,null,-u,!0),this.insertShaderBorders(s,u,f+u,null,-u,-u,!0),this.insertShaderBorders(s,u,f+u,-u,null,-u,!1),this.insertShaderBorders(s,u,f+u,null,-u,-u,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,n,r,i,s,a,A){var u=document.createElement("div");u.style.position="absolute",u.style.backgroundColor=ea.BORDER_SHADER_DEFAULT_COLOR,u.style.width="".concat(n,"px"),u.style.height="".concat(r,"px"),i!==null&&(u.style.top="".concat(i,"px")),s!==null&&(u.style.bottom="".concat(s,"px")),A?u.style.left="".concat(a,"px"):u.style.right="".concat(a,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(u),e.appendChild(u)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),c4;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(c4||(c4={}));const _q="_scannerContainer_yftsj_1",Eq="_header_yftsj_25",Sq="_closeButton_yftsj_37",Tq="_title_yftsj_59",Iq="_scannerArea_yftsj_79",Nq="_qrScannerWrapper_yftsj_91",Oq="_scannerOverlay_yftsj_135",Mq="_corner_yftsj_153",kq="_topLeft_yftsj_167",Fq="_topRight_yftsj_183",Dq="_bottomLeft_yftsj_199",Rq="_bottomRight_yftsj_215",Lq="_instructionBox_yftsj_229",Uq="_qrIconButton_yftsj_253",Qq="_errorMessage_yftsj_293",gi={scannerContainer:_q,header:Eq,closeButton:Sq,title:Tq,scannerArea:Iq,qrScannerWrapper:Nq,scannerOverlay:Oq,corner:Mq,topLeft:kq,topRight:Fq,bottomLeft:Dq,bottomRight:Rq,instructionBox:Lq,qrIconButton:Uq,errorMessage:Qq};function Hq(){var m;const t=Wt(),e=vr(),n="html5qr-code-full-region",r=H.useRef(null),[i,s]=H.useState(null),[a,A]=H.useState(!1),{showAlert:u}=Kn();(m=e.state)!=null&&m.exhibitionInfo,H.useEffect(()=>{const w={fps:10,qrbox:250,aspectRatio:1,disableFlip:!1};return r.current=new Bq(n),r.current.start({facingMode:"environment"},w,C=>{r.current.stop().then(()=>{t(C)}).catch(B=>{console.error("Failed to stop scanner:",B)})},()=>{}).catch(C=>{s("   ."),console.error("QR  :",C)}),async()=>{const C=r.current;if(C)try{C.isScanning&&await C.stop(),C.clear()}catch(B){console.error("Cleanup :",B)}}},[t]);const f=()=>{t(-1)};return H.useEffect(()=>{new URLSearchParams(e.search).get("itemId")&&A(!0)},[e]),g.jsxs("div",{className:gi.scannerContainer,children:[g.jsxs("div",{className:gi.header,children:[g.jsx("button",{className:gi.closeButton,onClick:f,children:""}),g.jsx("h2",{className:gi.title,children:"Artly QR Reader"})]}),g.jsxs("div",{className:gi.scannerArea,children:[g.jsx("div",{id:n,className:gi.qrScannerWrapper}),g.jsxs("div",{className:gi.scannerOverlay,children:[g.jsx("div",{className:`${gi.corner} ${gi.topLeft}`}),g.jsx("div",{className:`${gi.corner} ${gi.topRight}`}),g.jsx("div",{className:`${gi.corner} ${gi.bottomLeft}`}),g.jsx("div",{className:`${gi.corner} ${gi.bottomRight}`})]}),i&&g.jsx("div",{className:gi.errorMessage,children:i})]}),g.jsx("button",{className:gi.qrIconButton,children:g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("path",{d:"M3 11H11V3H3V11ZM5 5H9V9H5V5Z",fill:"black"}),g.jsx("path",{d:"M3 21H11V13H3V21ZM5 15H9V19H5V15Z",fill:"black"}),g.jsx("path",{d:"M13 3V11H21V3H13ZM19 9H15V5H19V9Z",fill:"black"}),g.jsx("path",{d:"M21 19H19V21H21V19Z",fill:"black"}),g.jsx("path",{d:"M15 13H13V15H15V13Z",fill:"black"}),g.jsx("path",{d:"M17 15H15V17H17V15Z",fill:"black"}),g.jsx("path",{d:"M15 17H13V19H15V17Z",fill:"black"}),g.jsx("path",{d:"M17 19H15V21H17V19Z",fill:"black"}),g.jsx("path",{d:"M19 17H17V19H19V17Z",fill:"black"}),g.jsx("path",{d:"M19 13H17V15H19V13Z",fill:"black"}),g.jsx("path",{d:"M21 15H19V17H21V15Z",fill:"black"})]})}),g.jsx("div",{className:gi.instructionBox,children:g.jsx("p",{children:"QR   ."})})]})}const jq="_layout_14fhd_1",Pq="_title_14fhd_23",zq="_galleryWrapper_14fhd_33",Vq="_searchForm_14fhd_45",Kq="_searchInput_14fhd_59",jf={layout:jq,title:Pq,galleryWrapper:zq,searchForm:Vq,searchInput:Kq},Gq="_layout_akvc9_1",$q="_searchTitle_akvc9_15",Wq="_resultNumParagraph_akvc9_25",Xq="_highlightSpan_akvc9_33",qq="_paginationRow_akvc9_53",Pf={layout:Gq,searchTitle:$q,resultNumParagraph:Wq,highlightSpan:Xq,paginationRow:qq};function Yq({results:t,onEvent:e}){const{currentPage:n,setCurrentPage:r,pageItems:i}=Hd(10,t);return g.jsxs("section",{className:Pf.layout,children:[g.jsxs("div",{children:[g.jsx("h2",{className:Pf.searchTitle,children:"   "}),g.jsxs("p",{className:Pf.resultNumParagraph,children:[" ",g.jsx("span",{className:Pf.highlightSpan,children:t.length}),"  "]})]}),t.length===0&&g.jsx("div",{children:"  ."}),i.map(s=>g.jsx(fC,{galleryItem:s,onEvent:e},s.id)),g.jsx("div",{className:Pf.paginationRow,children:g.jsx(Qd,{currentPage:n,onPageChange:r,totalItems:t.length})})]})}function Zq(){const{coords:t,setCoords:e}=R5(),[n,r]=H.useState([]),[i,s]=H.useState(!1),{lat:a,lng:A}=t,[u,f]=H.useState(""),{showAlert:m}=Kn(),w=E=>{f(E.target.value)};cC({lat:a,lng:A,id:"nearby-map",results:n,zoomLevel:12});const C=async E=>{E.preventDefault();try{const I=await JU.get("/v2/geocode",{params:{query:u}}),M=I.data.addresses[0].x,R=I.data.addresses[0].y;e({lat:R,lng:M})}catch(I){console.error(I),m("  ")}},B=async()=>{try{s(!0);const E=await nt.get("/api/galleries",{params:{latitude:a,longitude:A,distance:5e3}});r(E.data)}catch(E){console.error(E),m("   ","error")}finally{s(!1)}};return H.useEffect(()=>{B()},[a,A]),g.jsxs("div",{className:jf.layout,children:[g.jsx("h1",{className:jf.title,children:"  "}),g.jsx("form",{className:jf.searchForm,onSubmit:C,children:g.jsx("input",{className:jf.searchInput,value:u,onChange:w,placeholder:" (,// )"})}),g.jsx("div",{id:"nearby-map",className:jf.galleryWrapper}),i&&g.jsx(br,{}),g.jsx(Yq,{results:n,onEvent:B})]})}const Jq="_layout_zt5d9_1",eY="_breadcrumb_zt5d9_21",tY="_breadcrumbBack_zt5d9_33",nY="_card_zt5d9_43",rY="_mainImage_zt5d9_61",iY="_titleSection_zt5d9_81",sY="_artworkTitle_zt5d9_89",aY="_artworkMaterial_zt5d9_101",oY="_btnLayout_zt5d9_113",lY="_divider_zt5d9_127",AY="_actionButton_zt5d9_141",cY="_icon_zt5d9_163",uY="_likedIcon_zt5d9_169",dY="_artistSection_zt5d9_179",fY="_artistImage_zt5d9_201",hY="_artistName_zt5d9_215",pY="_infoList_zt5d9_227",gY="_infoRow_zt5d9_239",mY="_infoLabel_zt5d9_247",xY="_infoContent_zt5d9_259",wY="_emptyInfo_zt5d9_267",yY="_descriptionParagraph_zt5d9_277",vY="_docentBox_zt5d9_323",bY="_docentLabel_zt5d9_337",CY="_docentAudio_zt5d9_363",BY="_docentVideo_zt5d9_411",_Y="_recommendSection_zt5d9_441",EY="_sectionTitle_zt5d9_447",SY="_relatedGrid_zt5d9_459",TY="_relatedCard_zt5d9_469",IY="_relatedImage_zt5d9_491",NY="_relatedInfo_zt5d9_511",OY="_relatedTitle_zt5d9_517",MY="_exhibitionSection_zt5d9_531",kY="_exhibitionList_zt5d9_559",FY="_exhibitionItem_zt5d9_573",DY="_exhibitionTitle_zt5d9_621",RY="_statusBadge_zt5d9_649",LY="_exhibited_zt5d9_665",UY="_scheduled_zt5d9_675",QY="_ended_zt5d9_685",HY="_arrowIcon_zt5d9_695",jY="_emptyContent_zt5d9_705",PY="_backButton_zt5d9_719",Dt={layout:Jq,breadcrumb:eY,breadcrumbBack:tY,card:nY,mainImage:rY,titleSection:iY,artworkTitle:sY,artworkMaterial:aY,btnLayout:oY,divider:lY,actionButton:AY,icon:cY,likedIcon:uY,artistSection:dY,artistImage:fY,artistName:hY,infoList:pY,infoRow:gY,infoLabel:mY,infoContent:xY,emptyInfo:wY,descriptionParagraph:yY,docentBox:vY,docentLabel:bY,docentAudio:CY,docentVideo:BY,recommendSection:_Y,sectionTitle:EY,relatedGrid:SY,relatedCard:TY,relatedImage:IY,relatedInfo:NY,relatedTitle:OY,exhibitionSection:MY,exhibitionList:kY,exhibitionItem:FY,exhibitionTitle:DY,statusBadge:RY,exhibited:LY,scheduled:UY,ended:QY,arrowIcon:HY,emptyContent:jY,backButton:PY},zY="_modalOverlay_1ae8l_1",VY="_likeModalBox_1ae8l_21",KY="_likeModalStar_1ae8l_63",GY="_likeModalTitle_1ae8l_75",$Y="_likeModalSub_1ae8l_85",WY="_likeModalButton_1ae8l_99",Xu={modalOverlay:zY,likeModalBox:VY,likeModalStar:KY,likeModalTitle:GY,likeModalSub:$Y,likeModalButton:WY};function gC({onClose:t,type:e}){const r={galleries:"",exhibitions:"",artworks:""}[e]||"";return g.jsx("div",{className:Xu.modalOverlay,children:g.jsxs("div",{className:Xu.likeModalBox,children:[g.jsx(zA,{className:Xu.likeModalStar}),g.jsxs("h3",{className:Xu.likeModalTitle,children:[" ",r,"  !"]}),g.jsx("p",{className:Xu.likeModalSub,children:"      ."}),g.jsx("button",{className:Xu.likeModalButton,onClick:t,children:""})]})})}const XY="_modalOverlay_1nwzc_1",qY="_modalBox_1nwzc_27",YY="_closeButton_1nwzc_73",ZY="_modalIconBox_1nwzc_103",JY="_modalIcon_1nwzc_103",eZ="_modalTitle_1nwzc_135",tZ="_modalDesc_1nwzc_149",nZ="_phoneInfo_1nwzc_163",rZ="_phoneNumber_1nwzc_175",iZ="_callButton_1nwzc_191",sZ="_pcInfo_1nwzc_225",aZ="_errorText_1nwzc_237",qs={modalOverlay:XY,modalBox:qY,closeButton:YY,modalIconBox:ZY,modalIcon:JY,modalTitle:eZ,modalDesc:tZ,phoneInfo:nZ,phoneNumber:rZ,callButton:iZ,pcInfo:sZ,errorText:aZ};function oZ({phoneNumber:t,onClose:e}){const n=()=>{t&&(window.location.href=`tel:${t}`)};return g.jsx("div",{className:qs.modalOverlay,onClick:e,children:g.jsxs("div",{className:qs.modalBox,onClick:r=>r.stopPropagation(),children:[g.jsx("button",{className:qs.closeButton,onClick:e,children:g.jsx(sz,{})}),g.jsxs("div",{className:qs.modalContent,children:[g.jsx("div",{className:qs.modalIconBox,children:g.jsx(B5,{className:qs.modalIcon})}),g.jsx("h3",{className:qs.modalTitle,children:" "}),g.jsxs("p",{className:qs.modalDesc,children:["   ?",g.jsx("br",{}),"     ."]}),t?g.jsxs("div",{className:qs.phoneInfo,children:[g.jsx("span",{className:qs.phoneNumber,children:t}),g.jsx("button",{className:qs.callButton,onClick:n,children:" "}),g.jsx("p",{className:qs.pcInfo,children:"*     ."})]}):g.jsx("p",{className:qs.errorText,children:"   ."})]})]})})}function z5({showUserActions:t=!0,id:e,actionButtons:n}){const{showAlert:r}=Kn(),{artworkId:i}=Ls(),s=e||i,a=Wt(),{pathname:A}=vr(),u=A.includes("console"),[f,m]=H.useState(null),[w,C]=H.useState(!1),[B,E]=H.useState(!1),[I,M]=H.useState(!1);H.useEffect(()=>{if(!s)return;(async()=>{try{const qe=await nt.get(`/api/arts/${s}`),{data:vt}=qe;m(vt),typeof vt.is_liked=="boolean"&&C(vt.is_liked)}catch(qe){console.error("   :",qe)}})()},[s]);const R=async()=>{if(!localStorage.getItem("ACCESS_TOKEN")){a("/login");return}try{const et={liked_id:s,liked_type:"art"};w?(await nt.delete("/api/likes",{data:et}),C(!1)):(await nt.post("/api/likes",et),C(!0),E(!0))}catch(et){console.error("  :",et),r("  .","error")}},L=()=>{M(!0)},U=()=>{const et=f==null?void 0:f.art_title,qe=window.location.href;navigator.share?navigator.share({title:`ARTLY: ${et}`,text:`${et}  `,url:qe}):navigator.clipboard.writeText(qe).then(()=>r(" ."))};if(!f)return g.jsx(br,{});const{art_title:O,art_description:F,art_image:Q,art_year:D,art_material:j,art_size:V,art_docent:W,docent_audio_path:Y,docent_video_path:J,gallery_phone:re,artist:te={},artist_name:q,exhibitions:ie=[]}=f,ae="https://artly.soundgram.co.kr",se={exhibited:{label:"",className:Dt.exhibited},scheduled:{label:"",className:Dt.scheduled},ended:{label:"",className:Dt.ended}},me={exhibited:1,scheduled:2,ended:3},ke=[...ie].sort((et,qe)=>{const vt=me[et.exhibition_status]??99,Qt=me[qe.exhibition_status]??99;return vt-Qt}),ne=(te==null?void 0:te.artist_name)||q||"Unknown Artist",he=te!=null&&te.artist_image&&!te.artist_image.startsWith("http")?`${ae}/${te.artist_image}`:te.artist_image,Ne=Y?`${ae}/media/${Y}`:null,ye=J?`${ae}/media/${J}`:null,Ge=((te==null?void 0:te.artworks)||[]).filter(et=>String(et.id)!==String(s)),De=[{label:"",content:D?`${D} `:" "},{label:"",content:j||" "},{label:"",content:V||" "}];return g.jsxs("div",{className:Dt.layout,children:[t&&g.jsxs("div",{className:Dt.breadcrumb,children:[g.jsx("span",{className:Dt.breadcrumbBack,onClick:()=>a("/artworks"),children:""})," > "," ",O]}),g.jsxs("div",{className:Dt.card,children:[g.jsx($t,{src:Q,alt:O,className:Dt.mainImage}),g.jsxs("section",{className:Dt.titleSection,children:[g.jsx("h1",{className:Dt.artworkTitle,children:O}),g.jsx("p",{className:Dt.artworkMaterial,children:j||"Mixed Media"})]}),t&&g.jsxs("div",{className:Dt.btnLayout,children:[g.jsxs("button",{className:Dt.actionButton,onClick:R,children:[g.jsx(zA,{className:w?Dt.likedIcon:Dt.icon}),""]}),g.jsxs("button",{className:Dt.actionButton,onClick:L,children:[g.jsx(B5,{className:Dt.icon}),""]}),g.jsxs("button",{className:Dt.actionButton,onClick:U,children:[g.jsx(oC,{className:Dt.icon}),""]})]}),g.jsx("hr",{className:Dt.divider}),g.jsxs("div",{className:Dt.artistSection,children:[g.jsx($t,{src:he,alt:ne,className:Dt.artistImage}),g.jsx("span",{className:Dt.artistName,children:ne})]}),g.jsx("div",{className:Dt.infoList,children:De.map(({label:et,content:qe})=>g.jsxs("div",{className:Dt.infoRow,children:[g.jsx("span",{className:Dt.infoLabel,children:et}),g.jsx("div",{className:Dt.infoContent,children:qe})]},et))}),g.jsxs("div",{className:Dt.descriptionSection,children:[F?g.jsx("div",{className:Dt.descriptionParagraph,dangerouslySetInnerHTML:{__html:F}}):g.jsx("p",{className:Dt.emptyInfo,children:"  ."}),W&&g.jsxs("div",{className:Dt.docentBox,children:[g.jsx("span",{className:Dt.docentLabel,children:"AI Docent"}),g.jsx("p",{children:W}),u&&!ye&&Ne&&g.jsx("audio",{className:Dt.docentAudio,controls:!0,preload:"metadata",src:Ne}),u&&ye&&g.jsx("video",{className:Dt.docentVideo,controls:!0,preload:"metadata",src:ye})]})]})]}),ke.length>0&&g.jsxs("div",{className:Dt.exhibitionSection,children:[g.jsx("span",{className:Dt.sectionTitle,children:" "}),g.jsx("div",{className:Dt.exhibitionList,children:ke.map(et=>{const qe=se[et.exhibition_status]||se.ended;return g.jsxs("div",{className:Dt.exhibitionItem,onClick:()=>a(u?`/console/exhibitions/${et.id}`:`/exhibitions/${et.id}`),children:[g.jsx("span",{className:`${Dt.statusBadge} ${qe.className}`,children:qe.label}),g.jsx("span",{className:Dt.exhibitionTitle,children:et.exhibition_title}),g.jsx(T5,{className:Dt.arrowIcon})]},et.id)})})]}),t&&Ge.length>0&&g.jsxs("div",{className:Dt.recommendSection,children:[g.jsx("h3",{className:Dt.sectionTitle,children:"  "}),Ge.length>0?g.jsx("div",{className:Dt.relatedGrid,children:Ge.map(et=>g.jsxs("div",{className:Dt.relatedCard,onClick:()=>{a(`/artworks/${et.id}`),window.scrollTo(0,0)},children:[g.jsx($t,{src:et.art_image,alt:et.art_title,className:Dt.relatedImage}),g.jsx("div",{className:Dt.relatedInfo,children:g.jsx("h4",{className:Dt.relatedTitle,children:et.art_title})})]},et.id))}):g.jsx("div",{className:Dt.card,children:g.jsx("p",{className:Dt.emptyContent,children:"   ."})}),g.jsx("button",{className:Dt.backButton,onClick:()=>a("/artworks"),children:""})]}),B&&g.jsx(gC,{onClose:()=>E(!1),type:"artworks"}),I&&g.jsx(oZ,{phoneNumber:re,onClose:()=>M(!1)})]})}const lZ="_layout_ezrs8_1",AZ="_findForm_ezrs8_15",cZ="_formTitle_ezrs8_33",uZ="_submitButton_ezrs8_43",pc={layout:lZ,findForm:AZ,formTitle:cZ,submitButton:uZ};function dZ(){const{data:t,handleChange:e}=Am({userName:"",userEmail:""}),{data:n,handleChange:r}=Am({userId:"",userEmail:""}),{showAlert:i}=Kn(),s=A=>{A.preventDefault(),alert("  ")},a=A=>{A.preventDefault(),alert("  ")};return g.jsxs("div",{className:pc.layout,children:[g.jsxs("form",{className:pc.findForm,onSubmit:s,children:[g.jsx("h2",{className:pc.formTitle,children:" "}),g.jsx(mo,{name:"userName",placeholder:"",onChange:e,value:t.userName}),g.jsx(mo,{name:"userEmail",placeholder:"@     ",onChange:e,value:t.userEmail}),g.jsx("button",{className:pc.submitButton,children:" "})]}),g.jsxs("form",{className:pc.findForm,onSubmit:a,children:[g.jsx("h2",{className:pc.formTitle,children:" "}),g.jsx(mo,{name:"userId",placeholder:"",onChange:r,value:n.userId}),g.jsx(mo,{name:"userEmail",placeholder:"@     ",onChange:r,value:n.userEmail}),g.jsx("button",{className:pc.submitButton,children:"  "})]})]})}const fZ="_announcementLayout_11rfx_1",hZ="_heading_11rfx_19",pZ="_tabWrapper_11rfx_31",gZ="_tab_11rfx_31",mZ="_active_11rfx_71",xZ="_listItem_11rfx_99",wZ="_buttonField_11rfx_107",yZ="_contentContainer_11rfx_129",aA={announcementLayout:fZ,heading:hZ,tabWrapper:pZ,tab:gZ,active:mZ,listItem:xZ,buttonField:wZ,contentContainer:yZ},vZ=[{id:0,title:"      .",content:`  ,     ?
         .

     ,  ,                 .

 :        
  : []  [   ]  
 :      

       ,  .
     1:1  .`},{id:1,title:"  ",content:"  ."}],bZ=[{id:0,title:"   ",content:"        , SNS,        .     ,          ."}],CZ=["","FAQ"];function BZ(){const[t,e]=H.useState(""),[n,r]=H.useState({}),i=t===""?vZ:bZ,s=A=>{if(n[A]){r(f=>({...f,[A]:!1}));return}r(f=>({...f,[A]:!0}))},a=A=>{e(A),r({})};return g.jsxs("div",{className:aA.announcementLayout,children:[g.jsx("h1",{className:aA.heading,children:"&FAQ"}),g.jsx("div",{className:aA.tabWrapper,children:CZ.map(A=>g.jsx("button",{className:`${aA.tab} ${t===A?aA.active:""}`,onClick:()=>a(A),children:A},A))}),g.jsx("ul",{children:i.map((A,u)=>g.jsxs("li",{className:aA.listItem,onClick:()=>{s(u)},children:[g.jsxs("div",{className:aA.buttonField,children:[A.title,g.jsx("span",{children:n[u]?g.jsx(cz,{}):g.jsx(Az,{})})]}),n[u]&&g.jsx("div",{className:aA.contentContainer,children:A.content})]},A.id))})]})}const _Z="_termsLayout_1m4fn_1",EZ="_mainTitle_1m4fn_19",SZ="_tabWrapper_1m4fn_43",TZ="_tab_1m4fn_43",IZ="_active_1m4fn_83",NZ="_contentContainer_1m4fn_99",qu={termsLayout:_Z,mainTitle:EZ,tabWrapper:SZ,tab:TZ,active:IZ,contentContainer:NZ},OZ={content:`  

1 

1 ()   (  )          , ,  (  )        ,      .

2 ( )        .
1.         .
2.      ,      .
3.           .
4.          , , , (PDA),   .
5.    , , ,  ,        ( , ,  ),     .
6.                  (   , ,  ,   ) .
7.             .
8.                .
9 .                .

        1          ,        .

3 (  )            . ,           .
1.  :  , : 
2.   :     76  311
3. ,  : oddlemon@oddlemon.co.kr
4.   : 477-88-01191
5.   : 2019--1107

4 (   )               .        , , ,  ,        , ,            .
       ,       7         . ,           30      28 1   .              .
              .  2                         ,              .              .
               .
      ,    ,   ,      ,            .

5 (   )      (  .)           ,      .
       . ,              .
1.         
2.            
3.            
4.         
5.      
6.       
7.          
                .
1.    ,     ,    
2.      ,    
3.           

6 (  )              ,   ,  ,     ,       .

7 ()              (  )   .
             .
    4 2  . ,          2   .
1.        
2.       
3.                 

2  

8 (   )            ,           . ,          .
                .
                   .
           .

3   

9 ( )    ,            .
        ( )       .           3     .
                  , ,                    .

10 ( )               .
1.         
2.         (ID, , ,   )   ,    
3.            ,       
4.  /        ,   ID    
5.        
6.      ,      () ,                 
7.   , , , , ,        
8.          ,        
9.     ,        
10.       ,      
11.       ( )                 
12.        ,    ,  ,     ,   ,       
13.           
          ,       .               .
             .         
          ,    .
1.  , , ,     
2.  
3.      
4. , ,        

4    

11 ( )   5            . ,            .
                  .
     , ,          .

12 ( )         .           .
 1              .               . ,            .
1.  ,    ,       
2. ,   ,  ,            
3. , ,             
           .             .
           .               .
                .                ,      .
              .                  .

13 (   )               ,       . ,                     .
      ,  ,                   .    30            28 1   .
 2           25 3  .
 2      30       3           .

14 ( )                      .  ,         .

15 (  )             .    ,         , 3           .
   3 1              . , 10 1                   .
                 (, , ,  )     .
                .        ,              .

16 ( )           .      , (LMS/SMS), (Push Notification)       .        ,         .
                .
 2                 ,    ,         . ,                 .

17 (  )            .
                       (, , , , , 2    .  )        .
                      , ,      (   .)         .
1.    ,       (, , , , , , 2       ,    )
2.            , ,    
          (,   )        ,        .
         10 1                 .
                      .          .
       ,     .

18 (  ,   )                 .
          . , 13 2                   .

19 (   )   10        ,             ,  (, ,  )          .        20 1     .
1.    :      
2.   :       
3.   :       
4.   :       
 1           .
                .
1.        
2.        
3.           
 3   ,               . ,  3       .

20 (   )   19 1        10 1       .
  19 1            . ,         .
1.   
2.     
3.     

21 (    )              14       ,        .
  1    15     ,      . ,           .
         .

5 ,     

22 ()                .                 .
                  .

23 (  )                 7          .
          1     . ,                  .
1.      
2.        
3.             
  2                  ,     (  ,   )               .        2          .
  1  2                    3 ,          30     .
            .                ,     .
 1 4             3   .                   213      .
       ,               ,                 . ,                           .
         ,   ,      .                 .

24 ( )        . ,                     .
        ,     ,       .
         (,   )     .
                 .
             ,      .        3  .

25 (  )               .            .
        ,                            .
 1  2       .
      1      (  )             .    30  ,            .

6    

26 ()                . ,        
                                  .

27 ( )                   .
    , , ,            . ,        .
             . ,        .
        ,             .
               ,       .
             .         .
              .
    , , ,        . ,        .
     ,         3     . ,        .
    ,    , (OS)  ,  ,                  . ,        .
             . ,        .
          . ,        .

28 (  )        , ,    , (LMS/SMS)    .
       7        1    .

29 (  )       .                .

30 (   )

               .         .
               . ,             28 1  .
      3           ,     .
`},MZ={content:`[   ]

 1  : 
 2  :  
 3  :  
 4  : 

1  

1 ()
    (  )      ( ' )     ,   ,          .

2 ( )
        .
1.  :  (      )  ""      .
2.  :        
3.  :   , ,     , , ,  ,     
4.  :            , ,       .
5.  :      
 :         

3 (   )
            ,     7              .
1.              .
  2.          ,       .                         .
3.          ,     ,   7              .
4.               ,               .

4 (  )
     ,    ,        .

2  

5 ( )
            3   . ,         ,                .

6 ( )
1.           .
   ID   
    ,   3  
  , 3      
       
     
    

2.              3                    .
3.       ,         .
4.   ,        ,     .

3  

7 ( )
1.     , ,       .     ,   .
2.         3           .             .
3.  14        .

8 (   )
       ,  ,            (  )            ,       .
1. ,    3      
2.      , ,     
3.      
4.  , 3 ,           
5.       
6.   ,   
7.       
8.     

9 ( )
1.           ,          .         .
2.        ,       ,    .    ,                  ,             .
3.   ,         .

10 ( )
          1 24  .         .

11 (  )
  ,  , S/W  ,          ,        ,          .

12 (  )
         .
1.   
2.      
3.        
4.       
5.    
6.     

4  

13 ( )
  ,     ,   ,     .

14 ( )
1.                        .
2.               3                 ,              .

15 ( )
1.  ,                 .
2.    , , ,         .
3.          .
4.                .
5.     , ,  ,       .
6.      3               .

16( )
               .

  
()   2024 9 28 .
`};function kZ(){const t=["",""],[e,n]=H.useState(""),r=e===""?OZ:MZ,i=s=>{n(s)};return g.jsxs("section",{className:qu.termsLayout,children:[g.jsx("h1",{className:qu.mainTitle,children:""}),g.jsx("div",{className:qu.tabWrapper,children:t.map(s=>g.jsx("button",{className:`${qu.tab} ${e===s?qu.active:""}`,onClick:()=>i(s),children:s},s))}),g.jsx("div",{className:qu.contentContainer,children:r.content})]})}const FZ="_layout_3y7o4_1",DZ="_title_3y7o4_19",RZ="_posterImage_3y7o4_31",LZ="_completionIcon_3y7o4_43",UZ="_completionTitle_3y7o4_67",QZ="_reservationSummary_3y7o4_81",HZ="_summaryRow_3y7o4_95",jZ="_summaryLabel_3y7o4_115",PZ="_summaryValue_3y7o4_125",zZ="_buttonField_3y7o4_155",VZ="_exhibitionLink_3y7o4_165",KZ="_mypageLink_3y7o4_167",xa={layout:FZ,title:DZ,posterImage:RZ,completionIcon:LZ,completionTitle:UZ,reservationSummary:QZ,summaryRow:HZ,summaryLabel:jZ,summaryValue:PZ,buttonField:zZ,exhibitionLink:VZ,mypageLink:KZ};function GZ(){const{reservationId:t}=Ls(),[e,n]=H.useState([]),{exhibition_location:r,exhibition_title:i,exhibition_poster:s,exhibition_id:a,reservation_total_price:A,reservation_number_of_tickets:u,reservation_datetime:f}=e,w=[{label:"",value:e?i:""},{label:"",value:e?r:""},{label:"",value:(C=>{if(C)return C.split(" ")[0]})(f)},{label:"",value:`${u}`},{label:"",value:`${A}`}];return H.useEffect(()=>{(async()=>{try{const B=await nt.get("/api/users/me/exhibitions");n(B.data.find(E=>E.id===t))}catch(B){console.error(B)}})()},[]),g.jsxs("div",{className:xa.layout,children:[g.jsx("h1",{className:xa.title,children:"  "}),g.jsx($t,{className:xa.posterImage,src:s,alt:"  "}),g.jsx("div",{className:xa.completionIcon,children:g.jsx(lC,{})}),g.jsx("div",{className:xa.completionTitle,children:"   "}),g.jsx("div",{className:xa.reservationSummary,children:w.map(C=>g.jsxs("div",{className:xa.summaryRow,children:[g.jsx("span",{className:xa.summaryLabel,children:C.label}),g.jsx("span",{className:xa.summaryValue,children:C.value})]},C.label))}),g.jsxs("div",{className:xa.buttonField,children:[g.jsx(yr,{className:xa.mypageLink,to:"/mypage",children:""}),g.jsx(yr,{className:xa.exhibitionLink,to:`/exhibitions/${a}`,children:" "})]})]})}const $Z="_container_xs957_1",WZ="_breadcrumb_xs957_37",XZ="_breadcrumbBack_xs957_51",qZ="_error_xs957_65",YZ="_empty_xs957_67",ZZ="_exhibitionInfo_xs957_93",JZ="_calendarContainer_xs957_175",eJ="_calendarHeader_xs957_191",tJ="_legend_xs957_207",nJ="_legendItem_xs957_229",rJ="_legendDot_xs957_241",iJ="_dotRed_xs957_253",sJ="_dotBlue_xs957_261",aJ="_monthNavigator_xs957_269",oJ="_currentMonth_xs957_281",lJ="_monthButton_xs957_297",AJ="_weekdaysRow_xs957_339",cJ="_weekdayCell_xs957_355",uJ="_weekend_xs957_369",dJ="_closedDot_xs957_377",fJ="_calendarGrid_xs957_393",hJ="_dateCell_xs957_405",pJ="_todayDot_xs957_445",gJ="_disabled_xs957_459",mJ="_selected_xs957_459",xJ="_today_xs957_445",wJ="_visitorCount_xs957_507",yJ="_countLabel_xs957_529",vJ="_countControls_xs957_541",bJ="_countButton_xs957_553",CJ="_countDisplay_xs957_595",BJ="_reservationInfo_xs957_613",_J="_infoRow_xs957_627",EJ="_infoLabel_xs957_655",SJ="_infoValue_xs957_665",TJ="_reservationForm_xs957_679",IJ="_formTitle_xs957_687",NJ="_formGroup_xs957_701",OJ="_formLabel_xs957_709",MJ="_formInput_xs957_725",kJ="_reservationSummary_xs957_767",FJ="_summaryTitle_xs957_785",DJ="_summaryTitle2_xs957_803",RJ="_summaryImage_xs957_819",LJ="_summaryRow_xs957_833",UJ="_summaryLabel_xs957_855",QJ="_summaryValue_xs957_871",HJ="_completionScreen_xs957_889",jJ="_completionIcon_xs957_923",PJ="_completionTitle_xs957_949",zJ="_completionMessage_xs957_963",VJ="_buttonsContainer_xs957_977",KJ="_actionButton_xs957_993",GJ="_backButton_xs957_995",lt={container:$Z,breadcrumb:WZ,breadcrumbBack:XZ,error:qZ,empty:YZ,exhibitionInfo:ZZ,calendarContainer:JZ,calendarHeader:eJ,legend:tJ,legendItem:nJ,legendDot:rJ,dotRed:iJ,dotBlue:sJ,monthNavigator:aJ,currentMonth:oJ,monthButton:lJ,weekdaysRow:AJ,weekdayCell:cJ,weekend:uJ,closedDot:dJ,calendarGrid:fJ,dateCell:hJ,todayDot:pJ,disabled:gJ,selected:mJ,today:xJ,visitorCount:wJ,countLabel:yJ,countControls:vJ,countButton:bJ,countDisplay:CJ,reservationInfo:BJ,infoRow:_J,infoLabel:EJ,infoValue:SJ,reservationForm:TJ,formTitle:IJ,formGroup:NJ,formLabel:OJ,formInput:MJ,reservationSummary:kJ,summaryTitle:FJ,summaryTitle2:DJ,summaryImage:RJ,summaryRow:LJ,summaryLabel:UJ,summaryValue:QJ,completionScreen:HJ,completionIcon:jJ,completionTitle:PJ,completionMessage:zJ,buttonsContainer:VJ,actionButton:KJ,backButton:GJ};function $J(){const{exhibitionId:t}=Ls(),e=Wt(),[n,r]=H.useState(null),[i,s]=H.useState(!0),[a,A]=H.useState(null),{showAlert:u}=Kn(),[f,m]=H.useState(1),[w,C]=H.useState(""),[B,E]=H.useState(1),[I,M]=H.useState({name:"",phone:"",email:"",date:"",gallery:"",price:0,state:""}),R=new Date,[L,U]=H.useState(R.getMonth()),[O,F]=H.useState(R.getFullYear());H.useEffect(()=>{t&&(async()=>{try{const me=await nt.get(`/api/exhibitions/${t}`);r(me.data)}catch{A("     .")}finally{s(!1)}})()},[t]),H.useEffect(()=>{n&&M(se=>({...se,gallery:n.exhibition_location,price:n.exhibition_price}))},[n]),H.useEffect(()=>{(async()=>{try{const ke=(await nt.get("/api/users/me")).data;console.log(ke),M(ne=>({...ne,name:ke.user_name||"",phone:ke.user_phone||"",email:ke.user_email||""}))}catch(me){console.error("   :",me)}})()},[]),H.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[f]);const Q=se=>{if(!se)return[];const me={:0,:1,:2,:3,:4,:5,:6};return se.split(",").map(ke=>me[ke.trim()]).filter(ke=>ke!==void 0)},D=()=>{const se=new Date(O,L+1,0).getDate(),me=new Date(O,L,1).getDay(),ke=[],ne=n!=null&&n.exhibition_start_date?new Date(n.exhibition_start_date):null,he=n!=null&&n.exhibition_end_date?new Date(n.exhibition_end_date):null,Ne=n?Q(n.exhibition_closed_day):[];ne&&ne.setHours(0,0,0,0),he&&he.setHours(0,0,0,0);const ye=new Date;return ye.setHours(0,0,0,0),Array.from({length:me}).forEach(()=>{ke.push({day:"",disabled:!0})}),Array.from({length:se}).forEach((Ge,De)=>{const et=De+1,qe=new Date(O,L,et);qe.setHours(0,0,0,0);const vt=qe.getTime()===ye.getTime();let Qt=!1,pt=!1;qe<ye&&(Qt=!0),ne&&qe<ne&&(Qt=!0),he&&qe>he&&(Qt=!0),Ne.includes(qe.getDay())&&(Qt=!0,pt=!0),ke.push({day:et,date:qe,disabled:Qt,isToday:vt,isClosedDay:pt})}),ke},j=()=>{U(se=>se===11?0:se+1),L===11&&F(se=>se+1)},V=()=>{U(se=>se===0?11:se-1),L===0&&F(se=>se-1)},W=se=>{if(se.disabled)return;const me=`${O}.${String(L+1).padStart(2,"0")}.${String(se.day).padStart(2,"0")}`;C(me),M(ke=>({...ke,date:me}))},Y=se=>{const me=B+se;me>=1&&me<=10&&E(me)},J=se=>{const{name:me,value:ke}=se.target;M(ne=>({...ne,[me]:ke}))},re=async()=>{if(f===1&&!w){u(" .");return}if(f===2&&(!I.name||!I.phone||!I.email)){u("   .");return}if(f===2)try{const se=await nt.post("/api/reservations",{exhibition_id:Number(t),number_of_tickets:B,reservation_datetime:w,visitor_name:I.name,visitor_phone:I.phone,visitor_email:I.email,payment_method:"",total_price:n.exhibition_price*B});console.log(" :",se.data)}catch(se){console.error(" :",se),u("    .");return}m(f+1)},te=()=>{m(f-1)},q=()=>{e("/mypage",{state:{activeTab:"MY"}})};if(i)return g.jsx(br,{});if(a)return g.jsx("div",{className:lt.error,children:a});if(!n)return g.jsx("div",{className:lt.empty,children:"    ."});const ie=["","","","","","",""],ae=[{label:"",value:n?n.exhibition_title:""},{label:"",value:w},{label:"",value:`${B}`},{label:"",value:n?n.exhibition_location:""},{label:"",value:I.name},{label:"",value:I.phone},{label:"",value:I.email},{label:" ",value:`${(n.exhibition_price||0).toLocaleString()} (  )`}];return g.jsxs("div",{className:lt.container,children:[g.jsxs("div",{className:lt.breadcrumb,children:[g.jsx("span",{className:lt.breadcrumbBack,onClick:()=>e(`/exhibitions/${t}`),children:""})," ","> "]}),f===1&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:lt.exhibitionInfo,children:[g.jsx("strong",{children:n.exhibition_title}),g.jsx("p",{children:n.exhibition_organization})]}),g.jsxs("div",{className:lt.calendarContainer,children:[g.jsxs("div",{className:lt.calendarHeader,children:[g.jsxs("div",{className:lt.monthNavigator,children:[g.jsx("button",{className:lt.monthButton,onClick:V,children:"<"}),g.jsx("span",{className:lt.currentMonth,children:`${O}.${String(L+1).padStart(2,"0")}`}),g.jsx("button",{className:lt.monthButton,onClick:j,children:">"})]}),g.jsxs("div",{className:lt.legend,children:[g.jsxs("div",{className:lt.legendItem,children:[g.jsx("div",{className:`${lt.legendDot} ${lt.dotRed}`}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:lt.legendItem,children:[g.jsx("div",{className:`${lt.legendDot} ${lt.dotBlue}`}),g.jsx("span",{children:""})]})]})]}),g.jsx("div",{className:lt.weekdaysRow,children:ie.map((se,me)=>g.jsx("div",{className:`${lt.weekdayCell} ${me===0||me===6?lt.weekend:""}`,children:se},se))}),g.jsx("div",{className:lt.calendarGrid,children:D().map((se,me)=>{const ke=se.day?`${O}-${L}-${se.day}`:`empty-${me}`;return g.jsxs("div",{className:`${lt.dateCell} ${se.disabled?lt.disabled:""} ${se.isToday?lt.today:""} ${w&&se.day&&w===`${O}.${String(L+1).padStart(2,"0")}.${String(se.day).padStart(2,"0")}`?lt.selected:""}`,onClick:()=>W(se),children:[g.jsx("span",{className:lt.dateNumber,children:se.day}),se.day&&g.jsxs(g.Fragment,{children:[se.isClosedDay&&g.jsx("div",{className:lt.closedDot}),!se.isClosedDay&&se.isToday&&g.jsx("div",{className:lt.todayDot})]})]},ke)})})]}),g.jsxs("div",{className:lt.visitorCount,children:[g.jsx("span",{className:lt.countLabel,children:""}),g.jsxs("div",{className:lt.countControls,children:[g.jsx("button",{className:lt.countButton,onClick:()=>Y(-1),children:"-"}),g.jsxs("span",{className:lt.countDisplay,children:[B,""]}),g.jsx("button",{className:lt.countButton,onClick:()=>Y(1),children:"+"})]})]}),g.jsxs("div",{className:lt.reservationInfo,children:[g.jsxs("div",{className:lt.infoRow,children:[g.jsx("span",{className:lt.infoLabel,children:""}),g.jsx("span",{className:lt.infoValue,children:w||""})]}),g.jsxs("div",{className:lt.infoRow,children:[g.jsx("span",{className:lt.infoLabel,children:""}),g.jsxs("span",{className:lt.infoLabel,children:[B,""]})]}),g.jsxs("div",{className:lt.infoRow,children:[g.jsx("span",{className:lt.infoLabel,children:""}),g.jsx("span",{className:lt.infoValue,children:n.exhibition_location})]})]})]}),f===2&&g.jsxs("div",{className:lt.reservationForm,children:[g.jsx("h3",{className:lt.formTitle,children:"  "}),["name","phone","email"].map(se=>g.jsxs("div",{className:lt.formGroup,children:[g.jsx("label",{className:lt.formLabel,children:se==="name"?"":se==="phone"?"":""}),g.jsx("input",{className:lt.formInput,type:se==="email"?"email":se==="phone"?"tel":"text",name:se,value:I[se],onChange:J,placeholder:se==="name"?" ":se==="phone"?"010-0000-0000":"example@email.com"})]},se)),g.jsxs("div",{className:lt.reservationSummary,children:[g.jsx("div",{className:lt.summaryTitle,children:"  "}),[{label:"",value:n?n.exhibition_title:" "},{label:"",value:w},{label:"",value:`${B}`},{label:"",value:n?n.exhibition_location:" "},{label:" ",value:`${(n.exhibition_price||0).toLocaleString()}`}].map(se=>g.jsxs("div",{className:lt.summaryRow,children:[g.jsx("span",{className:lt.summaryLabel,children:se.label}),g.jsx("span",{className:lt.summaryValue,children:se.value})]},se.label))]})]}),f===3&&g.jsxs("div",{className:lt.completionScreen,children:[g.jsx("div",{className:lt.completionIcon,children:g.jsx(lC,{})}),g.jsx("div",{className:lt.completionTitle,children:"   "}),g.jsxs("div",{className:lt.completionMessage,children:[I.name,"   ."]}),g.jsxs("div",{className:lt.reservationSummary,children:[g.jsx($t,{className:lt.summaryImage,src:n.exhibition_poster}),ae.map(se=>g.jsx("div",{className:lt.summaryRow,children:se.label===""?g.jsx("h2",{className:lt.summaryTitle2,children:se.value}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:lt.summaryLabel,children:se.label}),g.jsx("span",{className:lt.summaryValue,children:se.value})]})},se.label))]})]}),g.jsx("div",{className:lt.buttonsContainer,children:f===1?g.jsx("button",{className:lt.actionButton,onClick:re,children:""}):f===2?g.jsxs(g.Fragment,{children:[g.jsx("button",{className:lt.backButton,onClick:te,children:""}),g.jsx("button",{className:lt.actionButton,onClick:re,children:""})]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{className:lt.backButton,onClick:()=>e("/exhibitions"),children:""}),g.jsx("button",{className:lt.actionButton,onClick:q,children:" "})]})})]})}const WJ="_actionContainer_haua7_1",XJ="_actionButton_haua7_17",qJ="_actionButtonActive_haua7_57",YJ="_actionButtonInactive_haua7_79",Yg={actionContainer:WJ,actionButton:XJ,actionButtonActive:qJ,actionButtonInactive:YJ};function ZJ({tabList:t,activeTab:e,onTabChange:n}){return g.jsx("nav",{className:Yg.actionContainer,children:t.map(r=>g.jsx("button",{onClick:()=>n(r),className:`${Yg.actionButton} ${e===r?Yg.actionButtonActive:Yg.actionButtonInactive}`,children:r},r))})}function JJ(t){return Fn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function mC(t){return Fn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"},child:[]}]})(t)}function eee(t){return Fn({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function tee(t="",e=""){const[n,r]=H.useState(!1),[i,s]=H.useState(t||e),a=H.useRef(null);return H.useEffect(()=>{const w=C=>{a.current&&!a.current.contains(C.target)&&r(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]),{isOpen:n,selectedValue:i,dropdownRef:a,handleOptionClick:(w,C)=>{s(w.name),C(w.id),r(!1)},toggleDropdown:()=>{r(!n)},closeDropdown:()=>{r(!1)},openDropdown:()=>{r(!0)},setSelectedValue:s}}const nee="_dropdownWrapper_1sd9j_3",ree="_inputContainer_1sd9j_13",iee="_dropdownTrigger_1sd9j_37",see="_dropdownList_1sd9j_51",aee="_dropdownItem_1sd9j_83",oee="_dropdownItemActive_1sd9j_123",lee="_inputField_1sd9j_163",Aee="_chevron_1sd9j_185",cee="_chevronOpen_1sd9j_199",ja={dropdownWrapper:nee,inputContainer:ree,dropdownTrigger:iee,dropdownList:see,dropdownItem:aee,dropdownItemActive:oee,inputField:lee,chevron:Aee,chevronOpen:cee};function N0({value:t,onChange:e,placeholder:n=" ",isInput:r=!1,options:i=[],title:s=" "}){var I;const{isOpen:a,dropdownRef:A,handleOptionClick:u,toggleDropdown:f}=tee(t,n);console.log(i);const[m,w]=H.useState(t||""),C=H.useRef(null);H.useEffect(()=>{t!==m&&w(t||"")},[t]);const B=((I=i.find(M=>M.id===t))==null?void 0:I.name)||n,E=M=>{const R=M.target.value;w(R),e(R)};return r?g.jsx("div",{className:ja.inputContainer,children:g.jsx("input",{ref:C,type:"text",value:m,onChange:E,placeholder:n,className:ja.inputField})}):g.jsx("div",{className:ja.dropdownWrapper,children:g.jsxs("div",{className:ja.inputContainer,ref:A,children:[g.jsxs("div",{className:ja.dropdownTrigger,onClick:f,children:[g.jsx("span",{className:ja.inputField,children:B}),g.jsx(JJ,{className:`${ja.chevron} ${a?ja.chevronOpen:""}`})]}),a&&g.jsx("div",{className:ja.dropdownList,children:i.map(M=>g.jsx("div",{className:`${ja.dropdownItem} ${t===M.id?ja.dropdownItemActive:""}`,onClick:()=>u(M,e),children:M.name},M.id))})]})})}const uee="_countText_1ceqk_3",dee={countText:uee};function O0({count:t}){return g.jsxs("span",{className:dee.countText,children:[" ",t,""]})}const fee="_registerButton_1e0nv_3",hee={registerButton:fee};function M0({buttonText:t,onButtonClick:e}){return g.jsx("button",{onClick:e,className:hee.registerButton,children:t})}const pee="_container_1oiix_3",gee="_message_1oiix_33",mee="_buttonText_1oiix_57",xee="_instruction_1oiix_67",zf={container:pee,message:gee,buttonText:mee,instruction:xee};function xC({message:t,buttonText:e}){return g.jsxs("div",{className:zf.container,children:[g.jsx("p",{className:zf.message,children:t}),g.jsx("p",{className:zf.buttonText,children:e}),g.jsx("p",{className:zf.instruction,children:" "}),g.jsx("p",{className:zf.instruction,children:"  ."})]})}function V5({onSearch:t,onEmptySearch:e,onSearchValueChange:n,onClearSearch:r,minLength:i=1,delay:s=500}){const[a,A]=H.useState(""),u=H.useRef(null),f=w=>{if(A(w),n&&n(w),u.current&&clearTimeout(u.current),!w.trim()){e&&e();return}w.trim().length<i||(u.current=setTimeout(()=>{t(w)},s))},m=()=>{f(""),r&&r()};return H.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]),{searchValue:a,handleSearchChange:f,clearSearch:m}}const wee="_contentContainer_1tp2p_1",yee="_searchContainer_1tp2p_15",vee="_countAndButtonContainer_1tp2p_25",bee="_galleryCard_1tp2p_41",Cee="_cardContent_1tp2p_83",Bee="_galleryImage_1tp2p_93",_ee="_cardInfo_1tp2p_119",Eee="_cardHeader_1tp2p_139",See="_galleryTitle_1tp2p_153",Tee="_deleteButton_1tp2p_171",Iee="_galleryAddress_1tp2p_207",Nee="_galleryClosedDay_1tp2p_209",Oee="_galleryTime_1tp2p_211",Mee="_cardFooter_1tp2p_253",kee="_separator_1tp2p_275",Fee="_emptyStateContainer_1tp2p_285",Dee="_errorMessage_1tp2p_309",Jr={contentContainer:wee,searchContainer:yee,countAndButtonContainer:vee,galleryCard:bee,cardContent:Cee,galleryImage:Bee,cardInfo:_ee,cardHeader:Eee,galleryTitle:See,deleteButton:Tee,galleryAddress:Iee,galleryClosedDay:Nee,galleryTime:Oee,cardFooter:Mee,separator:kee,emptyStateContainer:Fee,errorMessage:Dee};function Ree({galleryList:t,onDelete:e,loadGalleries:n,isLoading:r,isSearching:i,error:s}){const{showConfirm:a}=Zc(),A=Wt(),{searchValue:u,handleSearchChange:f}=V5({onSearch:n,onEmptySearch:()=>n(""),minLength:2,delay:500}),m=Array.isArray(t)?t:[],w=async C=>{await a("   ?",!0)&&(await e(C,"gallery"),A("/console/main",{state:{activeTab:""},replace:!0}))};return g.jsxs("div",{className:Jr.contentContainer,children:[g.jsx("div",{className:Jr.searchContainer,children:g.jsx(N0,{value:u,onChange:f,placeholder:" ",isInput:!0})}),g.jsxs("div",{className:Jr.countAndButtonContainer,children:[g.jsx(O0,{count:m.length}),g.jsx(M0,{buttonText:"+ ",onButtonClick:()=>A("/console/galleries/edit/new")})]}),r?g.jsx("div",{className:Jr.contentContainer,children:g.jsx(br,{})}):s?g.jsx("div",{className:Jr.contentContainer,children:g.jsxs("div",{className:Jr.errorMessage,children:[" : ",s]})}):m.length>0?g.jsx("section",{className:Jr.contentContainer,children:m.map(C=>g.jsxs("div",{className:Jr.galleryCard,onClick:()=>A(`/console/galleries/${C.id}`),children:[g.jsxs("div",{className:Jr.cardContent,children:[g.jsx($t,{src:C.image,alt:C.name,className:Jr.galleryImage}),g.jsxs("div",{className:Jr.cardInfo,children:[g.jsxs("div",{className:Jr.cardHeader,children:[g.jsx("h3",{className:Jr.galleryTitle,children:C.name}),g.jsx("button",{onClick:B=>{B.stopPropagation(),w(C.id)},className:Jr.deleteButton,children:g.jsx(mC,{size:18})})]}),g.jsx("p",{className:Jr.galleryAddress,children:C.address||"  "}),g.jsxs("p",{className:Jr.galleryClosedDay,children:[" | ",C.closedDay||""]}),g.jsx("p",{className:Jr.galleryTime,children:C.time.replace("-","~")})]})]}),g.jsxs("div",{className:Jr.cardFooter,children:[g.jsxs("span",{children:["  ",C.registered,""]}),g.jsx("span",{className:Jr.separator,children:"|"}),g.jsxs("span",{children:[" ",C.liked,""]})]})]},C.id))}):g.jsx("section",{className:Jr.emptyStateContainer,children:g.jsx(xC,{message:"  .",buttonText:"+ "})})]})}function Yu(t,e,n){let r=n.initialDeps??[],i,s=!0;function a(){var A,u,f;let m;n.key&&((A=n.debug)!=null&&A.call(n))&&(m=Date.now());const w=t();if(!(w.length!==r.length||w.some((E,I)=>r[I]!==E)))return i;r=w;let B;if(n.key&&((u=n.debug)!=null&&u.call(n))&&(B=Date.now()),i=e(...w),n.key&&((f=n.debug)!=null&&f.call(n))){const E=Math.round((Date.now()-m)*100)/100,I=Math.round((Date.now()-B)*100)/100,M=I/16,R=(L,U)=>{for(L=String(L);L.length<U;)L=" "+L;return L};console.info(`%c ${R(I,5)} /${R(E,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*M,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(s&&n.skipInitialOnChange)&&n.onChange(i),s=!1,i}return a.updateDeps=A=>{r=A},a}function u4(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const Lee=(t,e)=>Math.abs(t-e)<1.01,Uee=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},d4=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},Qee=t=>t,Hee=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},jee=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=a=>{const{width:A,height:u}=a;e({width:Math.round(A),height:Math.round(u)})};if(i(d4(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(a=>{const A=()=>{const u=a[0];if(u!=null&&u.borderBoxSize){const f=u.borderBoxSize[0];if(f){i({width:f.inlineSize,height:f.blockSize});return}}i(d4(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(A):A()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},f4={passive:!0},h4=typeof window>"u"?!0:"onscrollend"in window,Pee=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const s=t.options.useScrollendEvent&&h4?()=>{}:Uee(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),a=m=>()=>{const{horizontal:w,isRtl:C}=t.options;i=w?n.scrollLeft*(C&&-1||1):n.scrollTop,s(),e(i,m)},A=a(!0),u=a(!1);u(),n.addEventListener("scroll",A,f4);const f=t.options.useScrollendEvent&&h4;return f&&n.addEventListener("scrollend",u,f4),()=>{n.removeEventListener("scroll",A),f&&n.removeEventListener("scrollend",u)}},zee=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},Vee=(t,{adjustments:e=0,behavior:n},r)=>{var i,s;const a=t+e;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:a,behavior:n})};class Kee{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const a=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Qee,rangeExtractor:Hee,onChange:()=>{},measureElement:zee,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=Yu(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let a=r-1;a>=0;a--){const A=n[a];if(i.has(A.lane))continue;const u=s.get(A.lane);if(u==null||A.end>u.end?s.set(A.lane,A):A.end<u.end&&i.set(A.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((a,A)=>a.end===A.end?a.index-A.index:a.end-A.end)[0]:void 0},this.getMeasurementOptions=Yu(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,i,s,a,A)=>(this.prevLanes!==void 0&&this.prevLanes!==A&&(this.lanesChangedFlag=!0),this.prevLanes=A,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:a,lanes:A}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Yu(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:a,lanes:A},u)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const C of this.laneAssignments.keys())C>=n&&this.laneAssignments.delete(C);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(C=>{this.itemSizeCache.set(C.key,C.size)}));const f=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const m=this.measurementsCache.slice(0,f),w=new Array(A).fill(void 0);for(let C=0;C<f;C++){const B=m[C];B&&(w[B.lane]=C)}for(let C=f;C<n;C++){const B=s(C),E=this.laneAssignments.get(C);let I,M;if(E!==void 0&&this.options.lanes>1){I=E;const O=w[I],F=O!==void 0?m[O]:void 0;M=F?F.end+this.options.gap:r+i}else{const O=this.options.lanes===1?m[C-1]:this.getFurthestMeasurement(m,C);M=O?O.end+this.options.gap:r+i,I=O?O.lane:C%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(C,I)}const R=u.get(B),L=typeof R=="number"?R:this.options.estimateSize(C),U=M+L;m[C]={index:C,start:M,size:L,end:U,key:B,lane:I},w[I]=C}return this.measurementsCache=m,m},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Yu(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,s)=>this.range=n.length>0&&r>0?Gee({measurements:n,outerSize:r,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Yu(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,s,a)=>s===null||a===null?[]:n({startIndex:s,endIndex:a,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const a=s.key,A=this.elementsCache.get(a);A!==n&&(A&&this.observer.unobserve(A),this.observer.observe(n),this.elementsCache.set(a,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,a=r-s;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,a,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Yu(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,a=n.length;s<a;s++){const A=n[s],u=r[A];i.push(u)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return u4(r[K5(0,r.length-1,i=>u4(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const s=this.getSize(),a=this.getScrollOffset();r==="auto"&&(r=n>=a+s?"end":"start"),r==="center"?n+=(i-s)/2:r==="end"&&(n-=s);const A=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(A,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),a=this.getScrollOffset();if(r==="auto")if(i.end>=a+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=a+this.options.scrollPaddingStart)r="start";else return[a,r];const A=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(A,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let s=0;const a=10,A=f=>{if(!this.targetWindow)return;const m=this.getOffsetForIndex(n,f);if(!m){console.warn("Failed to get offset for index:",n);return}const[w,C]=m;this._scrollToOffset(w,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const B=this.getScrollOffset(),E=this.getOffsetForIndex(n,C);if(!E){console.warn("Failed to get offset for index:",n);return}Lee(E[0],B)||u(C)})},u=f=>{this.targetWindow&&(s++,s<a?this.targetWindow.requestAnimationFrame(()=>A(f)):console.warn(`Failed to scroll to index ${n} after ${a} attempts.`))};A(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let a=r.length-1;for(;a>=0&&s.some(A=>A===null);){const A=r[a];s[A.lane]===null&&(s[A.lane]=A.end),a--}i=Math.max(...s.filter(A=>A!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}const K5=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,s=n(i);if(s<r)t=i+1;else if(s>r)e=i-1;else return i}return t>0?t-1:0};function Gee({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,s=u=>t[u].start;if(t.length<=r)return{startIndex:0,endIndex:i};let a=K5(0,i,s,n),A=a;if(r===1)for(;A<i&&t[A].end<n+e;)A++;else if(r>1){const u=Array(r).fill(0);for(;A<i&&u.some(m=>m<n+e);){const m=t[A];u[m.lane]=m.end,A++}const f=Array(r).fill(n+e);for(;a>=0&&f.some(m=>m>=n);){const m=t[a];f[m.lane]=m.start,a--}a=Math.max(0,a-a%r),A=Math.min(i,A+(r-1-A%r))}return{startIndex:a,endIndex:A}}const p4=typeof document<"u"?H.useLayoutEffect:H.useEffect;function $ee(t){const e=H.useReducer(()=>({}),{})[1],n={...t,onChange:(i,s)=>{var a;s?qb.flushSync(e):e(),(a=t.onChange)==null||a.call(t,i,s)}},[r]=H.useState(()=>new Kee(n));return r.setOptions(n),p4(()=>r._didMount(),[]),p4(()=>r._willUpdate()),r}function G5(t){return $ee({observeElementRect:jee,observeElementOffset:Pee,scrollToFn:Vee,...t})}const Wee="_contentContainer_3gx7a_3",Xee="_cardContainer_3gx7a_15",qee="_cardContent_3gx7a_27",Yee="_emptyStateContainer_3gx7a_37",Zee="_searchContainer_3gx7a_45",Jee="_galleryCard_3gx7a_53",ete="_cardInfo_3gx7a_75",tte="_cardHeader_3gx7a_87",nte="_countAndButtonContainer_3gx7a_143",rte="_galleryImage_3gx7a_193",ite="_deleteButton_3gx7a_217",ste="_galleryAddress_3gx7a_247",ate="_galleryFloor_3gx7a_255",ote="_galleryTitle_3gx7a_283",is={contentContainer:Wee,cardContainer:Xee,cardContent:qee,emptyStateContainer:Yee,searchContainer:Zee,galleryCard:Jee,cardInfo:ete,cardHeader:tte,countAndButtonContainer:nte,galleryImage:rte,deleteButton:ite,galleryAddress:ste,galleryFloor:ate,galleryTitle:ote},$5=window.innerWidth<700,lte=window.innerWidth>1e3,Ate=lte?180:$5?130:150;function cte({exhibitionList:t,selectedGallery:e,onGalleryChange:n,onDelete:r,loadExhibitions:i,isLoading:s,error:a,galleryList:A}){const u=Wt(),{showConfirm:f}=Zc(),{showAlert:m}=Kn(),w=H.useRef(null),C=H.useMemo(()=>e?t.filter(R=>R.gallery_id===e):t,[t,e]),B=G5({count:C.length,getScrollElement:()=>w.current,estimateSize:()=>Ate,overscan:$5?3:6}),E=H.useMemo(()=>{const R=new Set(t.map(L=>L.gallery_id).filter(Boolean));return A==null?void 0:A.filter(L=>R.has(L.id)).map(L=>({id:L.id,name:L.name,value:L.id}))},[A,t]);H.useEffect(()=>{A.length>0&&i(" ")},[A.length]);const I=async(R,L)=>{R.stopPropagation(),await f("   ?",!0)&&(await r(L,"exhibition"),u("/console/main",{state:{activeTab:""},replace:!0}))},M=()=>{if(!e){m("      .");return}u(`/console/exhibitions/edit/new?gallery_id=${e}`)};return s?g.jsx("div",{className:is.contentContainer,children:g.jsx(br,{})}):g.jsxs("section",{className:is.contentContainer,children:[g.jsx("div",{className:is.searchContainer,children:g.jsx(N0,{value:e,onChange:n,options:E})}),g.jsxs("div",{className:is.countAndButtonContainer,children:[g.jsx(O0,{count:C.length}),g.jsx(M0,{buttonText:"+ ",onButtonClick:M})]}),C.length>0?g.jsx("section",{className:is.cardContainer,children:g.jsx("div",{ref:w,style:{height:"calc(100vh - 30px)",overflowY:"auto"},children:g.jsx("div",{style:{height:`${B.getTotalSize()}px`,position:"relative"},children:B.getVirtualItems().map(R=>{const L=C[R.index];return g.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${R.start}px)`},children:g.jsx("div",{className:is.galleryCard,onClick:()=>u(`/console/exhibitions/${L.id}`),children:g.jsxs("div",{className:is.cardContent,children:[g.jsx($t,{src:L.image,alt:L.title,className:is.galleryImage}),g.jsxs("div",{className:is.cardInfo,children:[g.jsxs("div",{className:is.cardHeader,children:[g.jsx("h3",{className:is.galleryTitle,children:L.title}),g.jsx("button",{onClick:U=>I(U,L.id),className:is.deleteButton,children:g.jsx(mC,{size:18})})]}),g.jsx("p",{className:is.galleryAddress,children:L.period.includes("null")?"  ":L.period.replace(" - "," ~ ")}),g.jsx("p",{className:is.galleryFloor,children:L.gallery_name})]})]})})},L.id)})})})}):g.jsx("section",{className:is.emptyStateContainer,children:g.jsx(xC,{message:"  .",buttonText:"+ "})})]})}const ute="_contentContainer_nic5h_3",dte="_cardContainer_nic5h_15",fte="_cardContent_nic5h_27",hte="_emptyStateContainer_nic5h_37",pte="_searchContainer_nic5h_45",gte="_artworkCard_nic5h_53",mte="_cardInfo_nic5h_75",xte="_cardHeader_nic5h_87",wte="_countAndButtonContainer_nic5h_143",yte="_artworkImage_nic5h_193",vte="_deleteButton_nic5h_217",bte="_artworkArtist_nic5h_247",Cte="_artworkExhibition_nic5h_263",Bte="_artworkTitle_nic5h_291",ss={contentContainer:ute,cardContainer:dte,cardContent:fte,emptyStateContainer:hte,searchContainer:pte,artworkCard:gte,cardInfo:mte,cardHeader:xte,countAndButtonContainer:wte,artworkImage:yte,deleteButton:vte,artworkArtist:bte,artworkExhibition:Cte,artworkTitle:Bte};function _te({artworkList:t,selectedExhibition:e,onExhibitionChange:n,onDelete:r,loadArtworks:i,loadExhibitions:s,isLoading:a,error:A,galleryList:u,exhibitionList:f}){const m=Wt(),{showConfirm:w}=Zc(),{showAlert:C}=Kn(),B=async Q=>{await w("   ?",!0)&&(await r(Q,"artwork"),m("/console/main",{state:{activeTab:""},replace:!0}))};H.useEffect(()=>{s&&s(" ")},[]),H.useEffect(()=>{if(e){if(!f||f.length===0)return;const Q=f.find(D=>String(D.id)===String(e));Q&&i(Q.title)}else i("")},[e,f,i]);const E=()=>{if(!e){C("      .");return}m(`/console/artworks/edit/new?exhibition_id=${e}`)},I=H.useMemo(()=>t||[],[t]),M=H.useMemo(()=>f?f.map(Q=>({id:Q.id,name:Q.title,value:Q.id})):[],[f]),R=H.useRef(null),L=window.innerWidth<700,O=window.innerWidth>1e3?180:L?130:150,F=G5({count:I.length,getScrollElement:()=>R.current,estimateSize:()=>O,overscan:L?3:6});return a?g.jsx("div",{className:ss.contentContainer,children:g.jsx(br,{})}):g.jsxs("section",{className:ss.contentContainer,children:[g.jsx("div",{className:ss.searchContainer,children:g.jsx(N0,{value:e,onChange:n,options:M,placeholder:" "})}),g.jsxs("div",{className:ss.countAndButtonContainer,children:[g.jsx(O0,{count:I.length}),g.jsx(M0,{buttonText:"+ ",onButtonClick:E})]}),I.length>0?g.jsx("section",{className:ss.cardContainer,children:g.jsx("div",{ref:R,style:{height:"calc(100vh - 30px)",overflowY:"auto"},children:g.jsx("div",{style:{height:`${F.getTotalSize()}px`,position:"relative"},children:F.getVirtualItems().map(Q=>{var j;const D=I[Q.index];return g.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${Q.start}px)`},children:g.jsx("div",{className:ss.artworkCard,onClick:()=>m(`/console/artworks/${D.id}`),children:g.jsxs("div",{className:ss.cardContent,children:[g.jsx($t,{src:D.image,alt:D.title,className:ss.artworkImage}),g.jsxs("div",{className:ss.cardInfo,children:[g.jsxs("div",{className:ss.cardHeader,children:[g.jsx("h3",{className:ss.artworkTitle,children:D.title}),g.jsx("button",{onClick:V=>{V.stopPropagation(),B(D.id)},className:ss.deleteButton,children:g.jsx(mC,{size:18})})]}),g.jsx("p",{className:ss.artworkArtist,children:D.artist||" "}),g.jsx("p",{className:ss.artworkExhibition,children:e?(j=f.find(V=>String(V.id)===String(e)))==null?void 0:j.title:D.exhibition_title||D.exhibition_name||"-"})]})]})})},D.id)})})})}):g.jsx("section",{className:ss.emptyStateContainer,children:g.jsx(xC,{message:"  .",buttonText:"+ ",onButtonClick:E})})]})}const Ete="_overlay_t7lbi_1",Ste="_modal_t7lbi_31",Tte="_header_t7lbi_55",Ite="_title_t7lbi_71",Nte="_body_t7lbi_83",Ote="_countBadge_t7lbi_97",Mte="_formGroup_t7lbi_117",kte="_label_t7lbi_129",Fte="_input_t7lbi_153",Dte="_textarea_t7lbi_155",Rte="_closeButton_t7lbi_201",Lte="_buttonContainer_t7lbi_237",Ute="_sendButton_t7lbi_249",as={overlay:Ete,modal:Ste,header:Tte,title:Ite,body:Nte,countBadge:Ote,formGroup:Mte,label:kte,input:Fte,textarea:Dte,closeButton:Rte,buttonContainer:Lte,sendButton:Ute};function Qte({isOpen:t,onClose:e,selectedUsersCount:n,onSendAlarm:r,isSending:i=!1}){const{showConfirm:s}=Zc(),[a,A]=H.useState(""),[u,f]=H.useState(""),{showAlert:m}=Kn(),w=()=>{A(""),f(""),e()};if(!t)return null;const C=async()=>{if(!a.trim()){m(" .");return}if(!u.trim()){m("  .");return}if(n===0){m("  .  .");return}await s(`     ?
 ,   .`)&&(await r(a.trim(),u.trim()),A(""),f(""))};return g.jsx("div",{className:as.overlay,children:g.jsxs("div",{className:as.modal,children:[g.jsxs("header",{className:as.header,children:[g.jsx("h2",{className:as.title,children:" "}),g.jsx("button",{onClick:w,className:as.closeButton,"aria-label":"",children:g.jsx(eee,{size:24})})]}),g.jsxs("div",{className:as.body,children:[g.jsxs("div",{className:as.countBadge,children:["  :  ",n,""]}),g.jsxs("div",{className:as.formGroup,children:[g.jsx("label",{className:as.label,children:""}),g.jsx("input",{type:"text",className:as.input,placeholder:"  ",value:a,onChange:B=>A(B.target.value),autoFocus:!0})]}),g.jsxs("div",{className:as.formGroup,children:[g.jsxs("label",{className:as.label,children:[" ",g.jsxs("span",{children:["(",u.length,"/80)"]})]}),g.jsx("textarea",{className:as.textarea,placeholder:"  ",maxLength:80,value:u,onChange:B=>f(B.target.value)})]})]}),g.jsx("div",{className:as.buttonContainer,children:g.jsx("button",{onClick:C,className:as.sendButton,disabled:i||n===0,children:i?" ...":" "})})]})})}const Hte="_tableCard_kma4v_3",jte="_tabHeader_kma4v_23",Pte="_tabList_kma4v_35",zte="_tabButton_kma4v_57",Vte="_tabButtonActive_kma4v_93",Kte="_tableContainer_kma4v_117",Gte="_table_kma4v_3",$te="_tableHeader_kma4v_135",Wte="_tableRow_kma4v_145",Xte="_tableRowSelected_kma4v_171",qte="_tableCell_kma4v_179",Yte="_tableHeaderCell_kma4v_195",Zte="_checkboxCell_kma4v_213",Jte="_checkboxWrapper_kma4v_229",ene="_checkbox_kma4v_213",tne="_checkboxCustom_kma4v_263",nne="_categoryName_kma4v_419",rne="_userName_kma4v_431",ine="_dateCell_kma4v_441",sne="_emptyState_kma4v_455",ane="_emptyIcon_kma4v_465",one="_emptyText_kma4v_475",lne="_emptySubtext_kma4v_489",ln={tableCard:Hte,tabHeader:jte,tabList:Pte,tabButton:zte,tabButtonActive:Vte,tableContainer:Kte,table:Gte,tableHeader:$te,tableRow:Wte,tableRowSelected:Xte,tableCell:qte,tableHeaderCell:Yte,checkboxCell:Zte,checkboxWrapper:Jte,checkbox:ene,checkboxCustom:tne,categoryName:nne,userName:rne,dateCell:ine,emptyState:sne,emptyIcon:ane,emptyText:one,emptySubtext:lne};function Ane({interestedUserList:t,selectedUserList:e,onUserSelect:n,onSelectAll:r,isAllSelected:i,activeTab:s,onTabChange:a}){const A=()=>{r(t)};return g.jsxs("div",{className:ln.tableCard,children:[g.jsx("div",{className:ln.tabHeader,children:g.jsxs("div",{className:ln.tabList,children:[g.jsx("button",{className:`${ln.tabButton} ${s==="all"?ln.tabButtonActive:""}`,onClick:()=>a("all"),children:""}),g.jsx("button",{className:`${ln.tabButton} ${s==="gallery"?ln.tabButtonActive:""}`,onClick:()=>a("gallery"),children:""}),g.jsx("button",{className:`${ln.tabButton} ${s==="exhibition"?ln.tabButtonActive:""}`,onClick:()=>a("exhibition"),children:""}),g.jsx("button",{className:`${ln.tabButton} ${s==="art"?ln.tabButtonActive:""}`,onClick:()=>a("art"),children:""})]})}),t.length>0?g.jsx("div",{className:ln.tableContainer,children:g.jsxs("table",{className:ln.table,children:[g.jsx("thead",{className:ln.tableHeader,children:g.jsxs("tr",{children:[g.jsx("th",{className:`${ln.tableHeaderCell} ${ln.checkboxCell}`,children:g.jsxs("label",{className:ln.checkboxWrapper,children:[g.jsx("input",{type:"checkbox",className:ln.checkbox,checked:i(t),onChange:A}),g.jsx("span",{className:ln.checkboxCustom})]})}),g.jsx("th",{className:ln.tableHeaderCell,children:""}),g.jsx("th",{className:ln.tableHeaderCell,children:""}),g.jsx("th",{className:ln.tableHeaderCell,children:""})]})}),g.jsx("tbody",{children:t.map(u=>g.jsxs("tr",{className:`${ln.tableRow} ${e.includes(u.id)?ln.tableRowSelected:""}`,children:[g.jsx("td",{className:`${ln.tableCell} ${ln.checkboxCell}`,children:g.jsxs("label",{className:ln.checkboxWrapper,children:[g.jsx("input",{type:"checkbox",className:ln.checkbox,checked:e.includes(u.id),onChange:()=>n(u.id)}),g.jsx("span",{className:ln.checkboxCustom})]})}),g.jsx("td",{className:ln.tableCell,children:g.jsx("span",{className:ln.categoryName,children:u.category})}),g.jsx("td",{className:ln.tableCell,children:g.jsx("span",{className:ln.userName,children:u.name==="string"||!u.name?" ":u.name})}),g.jsx("td",{className:`${ln.tableCell} ${ln.dateCell}`,children:u.date})]},`${u.type}-${u.id}`))})]})}):g.jsxs("div",{className:ln.emptyState,children:[g.jsx("div",{className:ln.emptyIcon,children:""}),g.jsx("p",{className:ln.emptyText,children:" "}),g.jsxs("p",{className:ln.emptySubtext,children:[s==="all"?"":s==="gallery"?"":s==="exhibition"?"":"","   "]})]})]})}function cne(){const[t,e]=H.useState([]);return{selectedUserList:t,handleUserSelect:a=>{e(A=>A.includes(a)?A.filter(u=>u!==a):[...A,a])},handleSelectAll:a=>{if(a.length>0&&a.every(u=>t.includes(u.id))){const u=t.filter(f=>!a.some(m=>m.id===f));e(u)}else{const f=a.filter(m=>!t.includes(m.id)).map(m=>m.id);e(m=>[...m,...f])}},clearSelection:()=>{e([])},isAllSelected:a=>a.length>0&&a.every(A=>t.includes(A.id))}}function une(){const[t,e]=H.useState([]),[n,r]=H.useState(!1),[i,s]=H.useState(!1),[a,A]=H.useState(null),[u,f]=H.useState("all"),m=async(R="gallery",L="")=>{var U,O;try{r(!0);const F=new URLSearchParams;F.append("liked_type",R),L&&F.append("search",L);const Q=await nt.get(`/api/users/console/likes?${F.toString()}`),j=(Array.isArray(Q.data)?Q.data:[]).map(V=>{var W,Y,J,re,te,q,ie,ae,se;return{id:V.id,userId:V.user_id||((W=V.user)==null?void 0:W.id),name:((Y=V.user)==null?void 0:Y.user_name)||"  ",category:((J=V.gallery)==null?void 0:J.gallery_name)||((re=V.exhibition)==null?void 0:re.exhibition_title)||((te=V.art)==null?void 0:te.art_title)||" ",date:V.create_dtm?new Date(V.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((q=V.user)==null?void 0:q.user_name)||"  ",galleryName:((ie=V.gallery)==null?void 0:ie.gallery_name)||"  ",exhibitionName:((ae=V.exhibition)==null?void 0:ae.exhibition_title)||"  ",artworkName:((se=V.art)==null?void 0:se.art_title)||"  ",type:R}});e(j)}catch(F){A(F.message),console.error("   :",F),console.error(" :",(U=F.response)==null?void 0:U.data),console.error(" :",(O=F.response)==null?void 0:O.status),e([])}finally{r(!1)}},w=[...t].sort((R,L)=>{const U=new Date(R.date.replace(/\./g,"-"));return new Date(L.date.replace(/\./g,"-"))-U}),C=async(R,L="")=>{if(f(R),L&&L.length>=2)if(R==="all")try{r(!0);const U=new URLSearchParams;U.append("liked_type","gallery"),U.append("search",L);const O=new URLSearchParams;O.append("liked_type","exhibition"),O.append("search",L);const F=new URLSearchParams;F.append("liked_type","art"),F.append("search",L);const[Q,D,j]=await Promise.all([nt.get(`/api/users/console/likes?${U.toString()}`),nt.get(`/api/users/console/likes?${O.toString()}`),nt.get(`/api/users/console/likes?${F.toString()}`)]),V=Q.data||[],W=D.data||[],Y=j.data||[],J=[...V.map(re=>{var te,q,ie,ae,se;return{id:re.id,userId:re.user_id||((te=re.user)==null?void 0:te.id),name:((q=re.user)==null?void 0:q.user_name)||"  ",category:((ie=re.gallery)==null?void 0:ie.gallery_name)||" ",date:re.create_dtm?new Date(re.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ae=re.user)==null?void 0:ae.user_name)||"  ",galleryName:((se=re.gallery)==null?void 0:se.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}),...W.map(re=>{var te,q,ie,ae,se;return{id:re.id,userId:re.user_id||((te=re.user)==null?void 0:te.id),name:((q=re.user)==null?void 0:q.user_name)||"  ",category:((ie=re.exhibition)==null?void 0:ie.exhibition_title)||" ",date:re.create_dtm?new Date(re.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ae=re.user)==null?void 0:ae.user_name)||"  ",galleryName:"  ",exhibitionName:((se=re.exhibition)==null?void 0:se.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}),...Y.map(re=>{var te,q,ie,ae,se;return{id:re.id,userId:re.user_id||((te=re.user)==null?void 0:te.id),name:((q=re.user)==null?void 0:q.user_name)||"  ",category:((ie=re.art)==null?void 0:ie.art_title)||" ",date:re.create_dtm?new Date(re.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ae=re.user)==null?void 0:ae.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((se=re.art)==null?void 0:se.art_title)||"  ",type:"art"}})];e(J)}catch(U){A(U.message),console.error("+ :",U),e([])}finally{r(!1)}else await m(R,L);else if(R==="all")try{r(!0);const[U,O,F]=await Promise.all([nt.get("/api/users/console/likes?liked_type=gallery"),nt.get("/api/users/console/likes?liked_type=exhibition"),nt.get("/api/users/console/likes?liked_type=art")]),Q=U.data||[],D=O.data||[],j=F.data||[],V=[...Q.map(W=>{var Y,J,re,te,q;return{id:W.id,userId:W.user_id||((Y=W.user)==null?void 0:Y.id),name:((J=W.user)==null?void 0:J.user_name)||"  ",category:((re=W.gallery)==null?void 0:re.gallery_name)||" ",date:W.create_dtm?new Date(W.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((te=W.user)==null?void 0:te.user_name)||"  ",galleryName:((q=W.gallery)==null?void 0:q.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}),...D.map(W=>{var Y,J,re,te,q;return{id:W.id,userId:W.user_id||((Y=W.user)==null?void 0:Y.id),name:((J=W.user)==null?void 0:J.user_name)||"  ",category:((re=W.exhibition)==null?void 0:re.exhibition_title)||" ",date:W.create_dtm?new Date(W.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((te=W.user)==null?void 0:te.user_name)||"  ",galleryName:"  ",exhibitionName:((q=W.exhibition)==null?void 0:q.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}),...j.map(W=>{var Y,J,re,te,q;return{id:W.id,userId:W.user_id||((Y=W.user)==null?void 0:Y.id),name:((J=W.user)==null?void 0:J.user_name)||"  ",category:((re=W.art)==null?void 0:re.art_title)||" ",date:W.create_dtm?new Date(W.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((te=W.user)==null?void 0:te.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((q=W.art)==null?void 0:q.art_title)||"  ",type:"art"}})];e(V)}catch(U){A(U.message),console.error("    :",U),e([])}finally{r(!1)}else await m(R)},B=async R=>{if(s(!0),u==="all")try{r(!0);const L=new URLSearchParams;L.append("liked_type","gallery"),L.append("search",R);const U=new URLSearchParams;U.append("liked_type","exhibition"),U.append("search",R);const O=new URLSearchParams;O.append("liked_type","art"),O.append("search",R);const[F,Q,D]=await Promise.all([nt.get(`/api/users/console/likes?${L.toString()}`),nt.get(`/api/users/console/likes?${U.toString()}`),nt.get(`/api/users/console/likes?${O.toString()}`)]),j=F.data||[],V=Q.data||[],W=D.data||[],Y=[...j.map(J=>{var re,te,q,ie,ae;return{id:J.id,userId:J.user_id||((re=J.user)==null?void 0:re.id),name:((te=J.user)==null?void 0:te.user_name)||"  ",category:((q=J.gallery)==null?void 0:q.gallery_name)||" ",date:J.create_dtm?new Date(J.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ie=J.user)==null?void 0:ie.user_name)||"  ",galleryName:((ae=J.gallery)==null?void 0:ae.gallery_name)||"  ",exhibitionName:"  ",artworkName:"  ",type:"gallery"}}),...V.map(J=>{var re,te,q,ie,ae;return{id:J.id,userId:J.user_id||((re=J.user)==null?void 0:re.id),name:((te=J.user)==null?void 0:te.user_name)||"  ",category:((q=J.exhibition)==null?void 0:q.exhibition_title)||" ",date:J.create_dtm?new Date(J.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ie=J.user)==null?void 0:ie.user_name)||"  ",galleryName:"  ",exhibitionName:((ae=J.exhibition)==null?void 0:ae.exhibition_title)||"  ",artworkName:"  ",type:"exhibition"}}),...W.map(J=>{var re,te,q,ie,ae;return{id:J.id,userId:J.user_id||((re=J.user)==null?void 0:re.id),name:((te=J.user)==null?void 0:te.user_name)||"  ",category:((q=J.art)==null?void 0:q.art_title)||" ",date:J.create_dtm?new Date(J.create_dtm).toLocaleDateString("ko-KR"):"  ",userName:((ie=J.user)==null?void 0:ie.user_name)||"  ",galleryName:"  ",exhibitionName:"  ",artworkName:((ae=J.art)==null?void 0:ae.art_title)||"  ",type:"art"}})];e(Y)}catch(L){A(L.message),console.error(" :",L),e([])}finally{r(!1),s(!1)}else try{r(!0),await m(u,R)}finally{s(!1)}},{searchValue:E,handleSearchChange:I,clearSearch:M}=V5({onSearch:B,onEmptySearch:()=>C(u),onClearSearch:async()=>{u==="all"?await C("all"):await m(u,"")},minLength:2,delay:500});return H.useEffect(()=>{C("all")},[]),{interestedUserList:w,setInterestedUserList:e,searchQuery:E,isLoading:n,isSearching:i,error:a,activeTab:u,loadInterestedUsers:m,handleSearchChange:I,clearSearch:M,handleTabChange:C}}const dne="_contentContainer_m513q_3",fne="_countAndButtonContainer_m513q_27",hne="_loadingContainer_m513q_45",pne="_errorContainer_m513q_65",gne="_errorMessage_m513q_79",Zu={contentContainer:dne,countAndButtonContainer:fne,loadingContainer:hne,errorContainer:pne,errorMessage:gne};function mne(){const{showAlert:t}=Kn(),[e,n]=H.useState(!1),[r,i]=H.useState(!1),[s,a]=H.useState(null),{selectedUserList:A,handleUserSelect:u,handleSelectAll:f,clearSelection:m,isAllSelected:w}=cne(),{interestedUserList:C,searchQuery:B,isLoading:E,isSearching:I,error:M,activeTab:R,handleSearchChange:L,handleTabChange:U}=une(),O=async(Q,D)=>{var j,V;if(!(!A||A.length===0))try{i(!0),a(null);const W=localStorage.getItem("ACCESS_TOKEN"),Y=A.map(re=>{const te=C.find(q=>String(q.id)===String(re));return(te==null?void 0:te.userId)??null}).filter(re=>re!==null);if(Y.length===0){t("  ID   .");return}const J=await nt.post("/api/notification/send",{userIds:Y,title:Q,message:D},{headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"}});t(`${Y.length}    .`),n(!1),m()}catch(W){console.error("  :",W);const Y=((V=(j=W==null?void 0:W.response)==null?void 0:j.data)==null?void 0:V.message)||W.message||"    .";a(Y),t(`  .
${Y}`,"error")}finally{i(!1)}},F=Q=>{U(Q,B)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:Zu.contentContainer,children:[g.jsx(N0,{value:B,onChange:L,placeholder:", , ,  ",isInput:!0}),g.jsxs("div",{className:Zu.countAndButtonContainer,children:[g.jsx(O0,{count:C.length}),g.jsx(M0,{buttonText:" ",onButtonClick:()=>n(!0),disabled:A.length===0||r})]}),s&&g.jsxs("div",{className:Zu.errorMessage,children:["    : ",s]}),E||I?g.jsx("div",{className:Zu.loadingContainer,children:g.jsx(br,{})}):M?g.jsx("div",{className:Zu.errorContainer,children:g.jsxs("div",{className:Zu.errorMessage,children:[" : ",M]})}):g.jsx(Ane,{interestedUserList:C,selectedUserList:A,onUserSelect:u,onSelectAll:f,isAllSelected:w,activeTab:R,onTabChange:F})]}),g.jsx(Qte,{isOpen:e,onClose:()=>n(!1),selectedUsersCount:A.length,onSendAlarm:O,isSending:r})]})}function xne(){const{showAlert:t}=Kn(),{user:e}=Us(),[n,r]=H.useState([]),[i,s]=H.useState([]),[a,A]=H.useState([]),[u,f]=H.useState(!1),[m,w]=H.useState(!1),[C,B]=H.useState(null),E=H.useCallback(async(L="")=>{var U,O,F;try{f(!0),L.trim()&&w(!0);const Q=new URLSearchParams;L&&Q.append("search",L),Q.append("is_console",!0);const D=`/api/galleries${Q.toString()?`?${Q.toString()}`:""}`,j=await nt.get(D),V=Array.isArray(j.data)?j.data.map(W=>({id:W.id,name:W.gallery_name,address:W.gallery_address,closedDay:W.gallery_closed_day,time:`${W.gallery_start_time} - ${W.gallery_end_time}`,registered:W.exhibitions?W.exhibitions.length:0,liked:W.like_count,image:W.gallery_image})):[];r(V)}catch(Q){B(Q.message),console.error("   :",Q),console.error(" :",(U=Q.response)==null?void 0:U.data),console.error(" :",(O=Q.response)==null?void 0:O.status),console.error(" :",(F=Q.response)==null?void 0:F.headers),r([])}finally{f(!1),w(!1)}},[]),I=H.useCallback(async(L="")=>{try{f(!0);const U=new URLSearchParams;L&&L!==" "&&U.append("gallery_name",L);const O=`/api/exhibitions${U.toString()?`?${U.toString()}`:""}`,F=await nt.get(O),Q=n.map(j=>j.id),D=Array.isArray(F.data)?F.data.filter(j=>Q.includes(j.gallery_id)).map(j=>{var V,W;return{id:j.id,title:j.exhibition_title,period:`${j.exhibition_start_date} - ${j.exhibition_end_date}`,image:j.exhibition_poster||null,gallery_name:((V=j.exhibition_organization)==null?void 0:V.name)||"  ",gallery_id:j.gallery_id||null,value:((W=j.exhibition_organization)==null?void 0:W.name)||"  "}}):[];s(D)}catch(U){B(U.message),console.error("   :",U),s([])}finally{f(!1)}},[n]),M=H.useCallback(async(L="")=>{try{f(!0);const U=new URLSearchParams;L&&L!==" "&&U.append("exhibition_title",L);const O=`/api/arts${U.toString()?`?${U.toString()}`:""}`,F=await nt.get(O),Q=Array.isArray(F.data)?F.data.map(D=>{var V,W;const j=D.exhibitions&&D.exhibitions.length>0?D.exhibitions[0]:null;return{id:D.id,title:D.art_title||D.title,artist:((V=D.artist)==null?void 0:V.artist_name)||D.artist_name||"  ",image:D.art_image||D.image_url||D.image,gallery_name:((W=j==null?void 0:j.gallery)==null?void 0:W.gallery_name)||"",exhibition_title:(j==null?void 0:j.exhibition_title)||""}}):[];A(Q)}catch(U){B(U.message),console.error("   :",U),A([])}finally{f(!1)}},[]);return H.useEffect(()=>{e!=null&&e.id&&E()},[e==null?void 0:e.id]),H.useEffect(()=>{n.length>0&&I(" ")},[n.length]),H.useEffect(()=>{i.length>0&&M(" ")},[i.length]),{galleryList:n,exhibitionList:i,artworkList:a,handleDelete:async(L,U)=>{try{U==="gallery"?(r(F=>F.filter(Q=>Q.id!==L)),await nt.delete(`/api/galleries/${L}`)):U==="exhibition"?(s(F=>F.filter(Q=>Q.id!==L)),await nt.delete(`/api/exhibitions/${L}`)):U==="artwork"&&A(F=>F.filter(Q=>Q.id!==L));let O;if(U==="gallery"?O=await nt.delete(`/api/galleries/${L}`):U==="exhibition"?O=await nt.delete(`/api/exhibitions/${L}`):U==="artwork"&&(O=await nt.delete(`/api/arts/${L}`)),typeof O.data=="string"&&(O.data.includes("Fatal error")||O.data.includes("Integrity constraint violation")))throw new Error("FOREIGN_KEY_ERROR");t(`${U==="gallery"?"":U==="exhibition"?"":""}  .`)}catch(O){console.error(" :",O),O.message==="FOREIGN_KEY_ERROR"?t(`${U==="gallery"?"":U==="exhibition"?"":" "}   .
 ${U==="gallery"?"":""}   (${U==="gallery"?"":", "} )  .`,"error"):t("   .  .","error"),U==="gallery"?E():U==="exhibition"?I(" "):U==="artwork"&&M("")}},loadGalleries:E,loadExhibitions:I,loadArtworks:M,isLoading:u,isSearching:m,error:C}}const wne="_layout_1pq3h_3",yne="_tabSection_1pq3h_19",vne="_content_1pq3h_39",Hy={layout:wne,tabSection:yne,content:vne};function Zg({defaultTab:t="",defaultGallery:e=" "}){const{showAlert:n}=Kn(),r=vr(),i=Wt(),[s,a]=H.useState(t),[A,u]=H.useState(null),[f,m]=H.useState(null);H.useEffect(()=>{var D;(D=r.state)!=null&&D.activeTab&&a(r.state.activeTab)},[r.state]);const w=D=>{a(D),D===""?m(null):u(null)},C=["","","",""],{galleryList:B,exhibitionList:E,artworkList:I,handleDelete:M,loadGalleries:R,loadExhibitions:L,loadArtworks:U,isLoading:O,isSearching:F,error:Q}=xne();return H.useEffect(()=>{Q&&(n(" .   ."),i("/login",{replace:!0}))},[Q,i]),g.jsxs("div",{className:Hy.layout,children:[g.jsx("div",{className:Hy.tabSection,children:g.jsx(ZJ,{tabList:C,activeTab:s,onTabChange:w})}),g.jsx("div",{className:Hy.content,children:!Q&&g.jsxs(g.Fragment,{children:[s===""&&g.jsx(Ree,{galleryList:B,onDelete:M,loadGalleries:R,isLoading:O,isSearching:F,error:Q}),s===""&&g.jsx(cte,{exhibitionList:E,selectedGallery:A,onGalleryChange:u,onDelete:M,loadExhibitions:L,isLoading:O,error:Q,galleryList:B}),s===""&&g.jsx(_te,{artworkList:I,selectedExhibition:f,onExhibitionChange:m,onDelete:M,loadArtworks:U,loadExhibitions:L,isLoading:O,error:Q,galleryList:B,exhibitionList:E},s),s===""&&g.jsx(mne,{})]})})]})}function bne(){const{user:t,isLoading:e}=Us();return e?g.jsx(br,{}):t?t.admin_flag===1?g.jsx(pv,{to:"/",replace:!0}):g.jsxs(g.Fragment,{children:[g.jsx(_8,{}),g.jsx(n5,{}),g.jsx("div",{style:{flex:1},children:g.jsx($b,{})})]}):g.jsx(pv,{to:"/login",replace:!0})}const Cne="_layout_7bq4q_1",Bne="_header_7bq4q_9",_ne="_title_7bq4q_35",Ene="_backButton_7bq4q_45",Sne="_content_7bq4q_63",Tne="_adminTabNav_7bq4q_77",Ine="_adminTabButton_7bq4q_103",Nne="_addButton_7bq4q_193",el={layout:Cne,header:Bne,title:_ne,backButton:Ene,content:Sne,adminTabNav:Tne,adminTabButton:Ine,addButton:Nne};var Ju={},jy,g4;function W5(){return g4||(g4=1,jy={L:1,M:0,Q:3,H:2}),jy}var Py,m4;function X5(){return m4||(m4=1,Py={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),Py}var zy,x4;function One(){if(x4)return zy;x4=1;var t=X5();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},zy=e,zy}var Vy,w4;function Mne(){if(w4)return Vy;w4=1;var t=W5();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var i=e.getRsBlockTable(n,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var s=i.length/3,a=new Array,A=0;A<s;A++)for(var u=i[A*3+0],f=i[A*3+1],m=i[A*3+2],w=0;w<u;w++)a.push(new e(f,m));return a},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},Vy=e,Vy}var Ky,y4;function kne(){if(y4)return Ky;y4=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Ky=t,Ky}var Gy,v4;function q5(){if(v4)return Gy;v4=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return Gy=t,Gy}var $y,b4;function Y5(){if(b4)return $y;b4=1;var t=q5();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var i=0;i<n.length&&n[i]==0;)i++;this.num=new Array(n.length-i+r);for(var s=0;s<n.length-i;s++)this.num[s]=n[s+i]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(var s=0;s<n.getLength();s++)r[i+s]^=t.gexp(t.glog(this.get(i))+t.glog(n.get(s)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),i=new Array(this.getLength()),s=0;s<this.getLength();s++)i[s]=this.get(s);for(var s=0;s<n.getLength();s++)i[s]^=t.gexp(t.glog(n.get(s))+r);return new e(i,0).mod(n)}},$y=e,$y}var Wy,C4;function Fne(){if(C4)return Wy;C4=1;var t=X5(),e=Y5(),n=q5(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var a=s<<10;i.getBCHDigit(a)-i.getBCHDigit(i.G15)>=0;)a^=i.G15<<i.getBCHDigit(a)-i.getBCHDigit(i.G15);return(s<<10|a)^i.G15_MASK},getBCHTypeNumber:function(s){for(var a=s<<12;i.getBCHDigit(a)-i.getBCHDigit(i.G18)>=0;)a^=i.G18<<i.getBCHDigit(a)-i.getBCHDigit(i.G18);return s<<12|a},getBCHDigit:function(s){for(var a=0;s!=0;)a++,s>>>=1;return a},getPatternPosition:function(s){return i.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,a,A){switch(s){case r.PATTERN000:return(a+A)%2==0;case r.PATTERN001:return a%2==0;case r.PATTERN010:return A%3==0;case r.PATTERN011:return(a+A)%3==0;case r.PATTERN100:return(Math.floor(a/2)+Math.floor(A/3))%2==0;case r.PATTERN101:return a*A%2+a*A%3==0;case r.PATTERN110:return(a*A%2+a*A%3)%2==0;case r.PATTERN111:return(a*A%3+(a+A)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var a=new e([1],0),A=0;A<s;A++)a=a.multiply(new e([1,n.gexp(A)],0));return a},getLengthInBits:function(s,a){if(1<=a&&a<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(a<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(a<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+a)},getLostPoint:function(s){for(var a=s.getModuleCount(),A=0,u=0;u<a;u++)for(var f=0;f<a;f++){for(var m=0,w=s.isDark(u,f),C=-1;C<=1;C++)if(!(u+C<0||a<=u+C))for(var B=-1;B<=1;B++)f+B<0||a<=f+B||C==0&&B==0||w==s.isDark(u+C,f+B)&&m++;m>5&&(A+=3+m-5)}for(var u=0;u<a-1;u++)for(var f=0;f<a-1;f++){var E=0;s.isDark(u,f)&&E++,s.isDark(u+1,f)&&E++,s.isDark(u,f+1)&&E++,s.isDark(u+1,f+1)&&E++,(E==0||E==4)&&(A+=3)}for(var u=0;u<a;u++)for(var f=0;f<a-6;f++)s.isDark(u,f)&&!s.isDark(u,f+1)&&s.isDark(u,f+2)&&s.isDark(u,f+3)&&s.isDark(u,f+4)&&!s.isDark(u,f+5)&&s.isDark(u,f+6)&&(A+=40);for(var f=0;f<a;f++)for(var u=0;u<a-6;u++)s.isDark(u,f)&&!s.isDark(u+1,f)&&s.isDark(u+2,f)&&s.isDark(u+3,f)&&s.isDark(u+4,f)&&!s.isDark(u+5,f)&&s.isDark(u+6,f)&&(A+=40);for(var I=0,f=0;f<a;f++)for(var u=0;u<a;u++)s.isDark(u,f)&&I++;var M=Math.abs(100*I/a/a-50)/5;return A+=M*10,A}};return Wy=i,Wy}var Xy,B4;function Dne(){if(B4)return Xy;B4=1;var t=One(),e=Mne(),n=kne(),r=Fne(),i=Y5();function s(A,u){this.typeNumber=A,this.errorCorrectLevel=u,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var a=s.prototype;return a.addData=function(A){var u=new t(A);this.dataList.push(u),this.dataCache=null},a.isDark=function(A,u){if(A<0||this.moduleCount<=A||u<0||this.moduleCount<=u)throw new Error(A+","+u);return this.modules[A][u]},a.getModuleCount=function(){return this.moduleCount},a.make=function(){if(this.typeNumber<1){var A=1;for(A=1;A<40;A++){for(var u=e.getRSBlocks(A,this.errorCorrectLevel),f=new n,m=0,w=0;w<u.length;w++)m+=u[w].dataCount;for(var w=0;w<this.dataList.length;w++){var C=this.dataList[w];f.put(C.mode,4),f.put(C.getLength(),r.getLengthInBits(C.mode,A)),C.write(f)}if(f.getLengthInBits()<=m*8)break}this.typeNumber=A}this.makeImpl(!1,this.getBestMaskPattern())},a.makeImpl=function(A,u){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++){this.modules[f]=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++)this.modules[f][m]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(A,u),this.typeNumber>=7&&this.setupTypeNumber(A),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,u)},a.setupPositionProbePattern=function(A,u){for(var f=-1;f<=7;f++)if(!(A+f<=-1||this.moduleCount<=A+f))for(var m=-1;m<=7;m++)u+m<=-1||this.moduleCount<=u+m||(0<=f&&f<=6&&(m==0||m==6)||0<=m&&m<=6&&(f==0||f==6)||2<=f&&f<=4&&2<=m&&m<=4?this.modules[A+f][u+m]=!0:this.modules[A+f][u+m]=!1)},a.getBestMaskPattern=function(){for(var A=0,u=0,f=0;f<8;f++){this.makeImpl(!0,f);var m=r.getLostPoint(this);(f==0||A>m)&&(A=m,u=f)}return u},a.createMovieClip=function(A,u,f){var m=A.createEmptyMovieClip(u,f),w=1;this.make();for(var C=0;C<this.modules.length;C++)for(var B=C*w,E=0;E<this.modules[C].length;E++){var I=E*w,M=this.modules[C][E];M&&(m.beginFill(0,100),m.moveTo(I,B),m.lineTo(I+w,B),m.lineTo(I+w,B+w),m.lineTo(I,B+w),m.endFill())}return m},a.setupTimingPattern=function(){for(var A=8;A<this.moduleCount-8;A++)this.modules[A][6]==null&&(this.modules[A][6]=A%2==0);for(var u=8;u<this.moduleCount-8;u++)this.modules[6][u]==null&&(this.modules[6][u]=u%2==0)},a.setupPositionAdjustPattern=function(){for(var A=r.getPatternPosition(this.typeNumber),u=0;u<A.length;u++)for(var f=0;f<A.length;f++){var m=A[u],w=A[f];if(this.modules[m][w]==null)for(var C=-2;C<=2;C++)for(var B=-2;B<=2;B++)C==-2||C==2||B==-2||B==2||C==0&&B==0?this.modules[m+C][w+B]=!0:this.modules[m+C][w+B]=!1}},a.setupTypeNumber=function(A){for(var u=r.getBCHTypeNumber(this.typeNumber),f=0;f<18;f++){var m=!A&&(u>>f&1)==1;this.modules[Math.floor(f/3)][f%3+this.moduleCount-8-3]=m}for(var f=0;f<18;f++){var m=!A&&(u>>f&1)==1;this.modules[f%3+this.moduleCount-8-3][Math.floor(f/3)]=m}},a.setupTypeInfo=function(A,u){for(var f=this.errorCorrectLevel<<3|u,m=r.getBCHTypeInfo(f),w=0;w<15;w++){var C=!A&&(m>>w&1)==1;w<6?this.modules[w][8]=C:w<8?this.modules[w+1][8]=C:this.modules[this.moduleCount-15+w][8]=C}for(var w=0;w<15;w++){var C=!A&&(m>>w&1)==1;w<8?this.modules[8][this.moduleCount-w-1]=C:w<9?this.modules[8][15-w-1+1]=C:this.modules[8][15-w-1]=C}this.modules[this.moduleCount-8][8]=!A},a.mapData=function(A,u){for(var f=-1,m=this.moduleCount-1,w=7,C=0,B=this.moduleCount-1;B>0;B-=2)for(B==6&&B--;;){for(var E=0;E<2;E++)if(this.modules[m][B-E]==null){var I=!1;C<A.length&&(I=(A[C]>>>w&1)==1);var M=r.getMask(u,m,B-E);M&&(I=!I),this.modules[m][B-E]=I,w--,w==-1&&(C++,w=7)}if(m+=f,m<0||this.moduleCount<=m){m-=f,f=-f;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(A,u,f){for(var m=e.getRSBlocks(A,u),w=new n,C=0;C<f.length;C++){var B=f[C];w.put(B.mode,4),w.put(B.getLength(),r.getLengthInBits(B.mode,A)),B.write(w)}for(var E=0,C=0;C<m.length;C++)E+=m[C].dataCount;if(w.getLengthInBits()>E*8)throw new Error("code length overflow. ("+w.getLengthInBits()+">"+E*8+")");for(w.getLengthInBits()+4<=E*8&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(!1);for(;!(w.getLengthInBits()>=E*8||(w.put(s.PAD0,8),w.getLengthInBits()>=E*8));)w.put(s.PAD1,8);return s.createBytes(w,m)},s.createBytes=function(A,u){for(var f=0,m=0,w=0,C=new Array(u.length),B=new Array(u.length),E=0;E<u.length;E++){var I=u[E].dataCount,M=u[E].totalCount-I;m=Math.max(m,I),w=Math.max(w,M),C[E]=new Array(I);for(var R=0;R<C[E].length;R++)C[E][R]=255&A.buffer[R+f];f+=I;var L=r.getErrorCorrectPolynomial(M),U=new i(C[E],L.getLength()-1),O=U.mod(L);B[E]=new Array(L.getLength()-1);for(var R=0;R<B[E].length;R++){var F=R+O.getLength()-B[E].length;B[E][R]=F>=0?O.get(F):0}}for(var Q=0,R=0;R<u.length;R++)Q+=u[R].totalCount;for(var D=new Array(Q),j=0,R=0;R<m;R++)for(var E=0;E<u.length;E++)R<C[E].length&&(D[j++]=C[E][R]);for(var R=0;R<w;R++)for(var E=0;E<u.length;E++)R<B[E].length&&(D[j++]=B[E][R]);return D},Xy=s,Xy}var Jg={},_4;function Rne(){if(_4)return Jg;_4=1,Object.defineProperty(Jg,"__esModule",{value:!0});var t=Object.assign||function(f){for(var m=1;m<arguments.length;m++){var w=arguments[m];for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&(f[C]=w[C])}return f},e=Yb(),n=s(e),r=HA(),i=s(r);function s(f){return f&&f.__esModule?f:{default:f}}function a(f,m){var w={};for(var C in f)m.indexOf(C)>=0||Object.prototype.hasOwnProperty.call(f,C)&&(w[C]=f[C]);return w}var A={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},u=(0,r.forwardRef)(function(f,m){var w=f.bgColor,C=f.bgD,B=f.fgD,E=f.fgColor,I=f.size,M=f.title,R=f.viewBoxSize,L=f.xmlns,U=L===void 0?"http://www.w3.org/2000/svg":L,O=a(f,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",t({},O,{height:I,ref:m,viewBox:"0 0 "+R+" "+R,width:I,xmlns:U}),M?i.default.createElement("title",null,M):null,i.default.createElement("path",{d:C,fill:w}),i.default.createElement("path",{d:B,fill:E}))});return u.displayName="QRCodeSvg",u.propTypes=A,Jg.default=u,Jg}var E4;function Lne(){if(E4)return Ju;E4=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.QRCode=void 0;var t=Object.assign||function(I){for(var M=1;M<arguments.length;M++){var R=arguments[M];for(var L in R)Object.prototype.hasOwnProperty.call(R,L)&&(I[L]=R[L])}return I},e=Yb(),n=w(e),r=W5(),i=w(r),s=Dne(),a=w(s),A=HA(),u=w(A),f=Rne(),m=w(f);function w(I){return I&&I.__esModule?I:{default:I}}function C(I,M){var R={};for(var L in I)M.indexOf(L)>=0||Object.prototype.hasOwnProperty.call(I,L)&&(R[L]=I[L]);return R}var B={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},E=(0,A.forwardRef)(function(I,M){var R=I.bgColor,L=R===void 0?"#FFFFFF":R,U=I.fgColor,O=U===void 0?"#000000":U,F=I.level,Q=F===void 0?"L":F,D=I.size,j=D===void 0?256:D,V=I.value,W=C(I,["bgColor","fgColor","level","size","value"]),Y=new a.default(-1,i.default[Q]);Y.addData(V),Y.make();var J=Y.modules;return u.default.createElement(m.default,t({},W,{bgColor:L,bgD:J.map(function(re,te){return re.map(function(q,ie){return q?"":"M "+ie+" "+te+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:O,fgD:J.map(function(re,te){return re.map(function(q,ie){return q?"M "+ie+" "+te+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:M,size:j,viewBoxSize:J.length}))});return Ju.QRCode=E,E.displayName="QRCode",E.propTypes=B,Ju.default=E,Ju}var Une=Lne();const Qne=Cl(Une);function Hne(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const jne=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function TA(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let ed=null;function Z5(t={}){return ed||(t.includeStyleProperties?(ed=t.includeStyleProperties,ed):(ed=TA(window.getComputedStyle(document.documentElement)),ed))}function fm(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function Pne(t){const e=fm(t,"border-left-width"),n=fm(t,"border-right-width");return t.clientWidth+e+n}function zne(t){const e=fm(t,"border-top-width"),n=fm(t,"border-bottom-width");return t.clientHeight+e+n}function J5(t,e={}){const n=e.width||Pne(t),r=e.height||zne(t);return{width:n,height:r}}function Vne(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const Ys=16384;function Kne(t){(t.width>Ys||t.height>Ys)&&(t.width>Ys&&t.height>Ys?t.width>t.height?(t.height*=Ys/t.width,t.width=Ys):(t.width*=Ys/t.height,t.height=Ys):t.width>Ys?(t.height*=Ys/t.width,t.width=Ys):(t.width*=Ys/t.height,t.height=Ys))}function hm(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function Gne(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function $ne(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(t),Gne(i)}const Ds=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||Ds(n,e)};function Wne(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function Xne(t,e){return Z5(e).map(n=>{const r=t.getPropertyValue(n),i=t.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function qne(t,e,n,r){const i=`.${t}:${e}`,s=n.cssText?Wne(n):Xne(n,r);return document.createTextNode(`${i}{${s}}`)}function S4(t,e,n,r){const i=window.getComputedStyle(t,n),s=i.getPropertyValue("content");if(s===""||s==="none")return;const a=jne();try{e.className=`${e.className} ${a}`}catch{return}const A=document.createElement("style");A.appendChild(qne(a,n,i,r)),e.appendChild(A)}function Yne(t,e,n){S4(t,e,":before",n),S4(t,e,":after",n)}const T4="application/font-woff",I4="image/jpeg",Zne={woff:T4,woff2:T4,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:I4,jpeg:I4,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Jne(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function wC(t){const e=Jne(t).toLowerCase();return Zne[e]||""}function ere(t){return t.split(/,/)[1]}function Ev(t){return t.search(/^(data:)/)!==-1}function tre(t,e){return`data:${e};base64,${t}`}async function e6(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((s,a)=>{const A=new FileReader;A.onerror=a,A.onloadend=()=>{try{s(n({res:r,result:A.result}))}catch(u){a(u)}},A.readAsDataURL(i)})}const qy={};function nre(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function yC(t,e,n){const r=nre(t,e,n.includeQueryParams);if(qy[r]!=null)return qy[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const s=await e6(t,n.fetchRequestInit,({res:a,result:A})=>(e||(e=a.headers.get("Content-Type")||""),ere(A)));i=tre(s,e)}catch(s){i=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${t}`;s&&(a=typeof s=="string"?s:s.message),a&&console.warn(a)}return qy[r]=i,i}async function rre(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):hm(e)}async function ire(t,e){if(t.currentSrc){const s=document.createElement("canvas"),a=s.getContext("2d");s.width=t.clientWidth,s.height=t.clientHeight,a==null||a.drawImage(t,0,0,s.width,s.height);const A=s.toDataURL();return hm(A)}const n=t.poster,r=wC(n),i=await yC(n,r,e);return hm(i)}async function sre(t,e){var n;try{if(!((n=t==null?void 0:t.contentDocument)===null||n===void 0)&&n.body)return await k0(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function are(t,e){return Ds(t,HTMLCanvasElement)?rre(t):Ds(t,HTMLVideoElement)?ire(t,e):Ds(t,HTMLIFrameElement)?sre(t,e):t.cloneNode(t6(t))}const ore=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",t6=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function lre(t,e,n){var r,i;if(t6(e))return e;let s=[];return ore(t)&&t.assignedNodes?s=TA(t.assignedNodes()):Ds(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?s=TA(t.contentDocument.body.childNodes):s=TA(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),s.length===0||Ds(t,HTMLVideoElement)||await s.reduce((a,A)=>a.then(()=>k0(A,n)).then(u=>{u&&e.appendChild(u)}),Promise.resolve()),e}function Are(t,e,n){const r=e.style;if(!r)return;const i=window.getComputedStyle(t);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):Z5(n).forEach(s=>{let a=i.getPropertyValue(s);s==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),Ds(t,HTMLIFrameElement)&&s==="display"&&a==="inline"&&(a="block"),s==="d"&&e.getAttribute("d")&&(a=`path(${e.getAttribute("d")})`),r.setProperty(s,a,i.getPropertyPriority(s))})}function cre(t,e){Ds(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),Ds(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function ure(t,e){if(Ds(t,HTMLSelectElement)){const r=Array.from(e.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function dre(t,e,n){return Ds(e,Element)&&(Are(t,e,n),Yne(t,e,n),cre(t,e),ure(t,e)),e}async function fre(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let s=0;s<n.length;s++){const A=n[s].getAttribute("xlink:href");if(A){const u=t.querySelector(A),f=document.querySelector(A);!u&&f&&!r[A]&&(r[A]=await k0(f,e,!0))}}const i=Object.values(r);if(i.length){const s="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg");a.setAttribute("xmlns",s),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const A=document.createElementNS(s,"defs");a.appendChild(A);for(let u=0;u<i.length;u++)A.appendChild(i[u]);t.appendChild(a)}return t}async function k0(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>are(r,e)).then(r=>lre(t,r,e)).then(r=>dre(t,r,e)).then(r=>fre(r,e))}const n6=/url\((['"]?)([^'"]+?)\1\)/g,hre=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,pre=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function gre(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function mre(t){const e=[];return t.replace(n6,(n,r,i)=>(e.push(i),n)),e.filter(n=>!Ev(n))}async function xre(t,e,n,r,i){try{const s=n?Hne(e,n):e,a=wC(e);let A;return i||(A=await yC(s,a,r)),t.replace(gre(e),`$1${A}$3`)}catch{}return t}function wre(t,{preferredFontFormat:e}){return e?t.replace(pre,n=>{for(;;){const[r,,i]=hre.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function r6(t){return t.search(n6)!==-1}async function i6(t,e,n){if(!r6(t))return t;const r=wre(t,n);return mre(r).reduce((s,a)=>s.then(A=>xre(A,a,e,n)),Promise.resolve(r))}async function td(t,e,n){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(i){const s=await i6(i,null,n);return e.style.setProperty(t,s,e.style.getPropertyPriority(t)),!0}return!1}async function yre(t,e){await td("background",t,e)||await td("background-image",t,e),await td("mask",t,e)||await td("-webkit-mask",t,e)||await td("mask-image",t,e)||await td("-webkit-mask-image",t,e)}async function vre(t,e){const n=Ds(t,HTMLImageElement);if(!(n&&!Ev(t.src))&&!(Ds(t,SVGImageElement)&&!Ev(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await yC(r,wC(r),e);await new Promise((s,a)=>{t.onload=s,t.onerror=e.onImageErrorHandler?(...u)=>{try{s(e.onImageErrorHandler(...u))}catch(f){a(f)}}:a;const A=t;A.decode&&(A.decode=s),A.loading==="lazy"&&(A.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})}async function bre(t,e){const r=TA(t.childNodes).map(i=>s6(i,e));await Promise.all(r).then(()=>t)}async function s6(t,e){Ds(t,Element)&&(await yre(t,e),await vre(t,e),await bre(t,e))}function Cre(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const N4={};async function O4(t){let e=N4[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},N4[t]=e,e}async function M4(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let A=a.replace(r,"$1");return A.startsWith("https://")||(A=new URL(A,t.url).href),e6(A,e.fetchRequestInit,({result:u})=>(n=n.replace(a,`url(${u})`),[a,u]))});return Promise.all(s).then(()=>n)}function k4(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const u=i.exec(r);if(u===null)break;e.push(u[0])}r=r.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",A=new RegExp(a,"gi");for(;;){let u=s.exec(r);if(u===null){if(u=A.exec(r),u===null)break;s.lastIndex=A.lastIndex}else A.lastIndex=s.lastIndex;e.push(u[0])}return e}async function Bre(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{TA(i.cssRules||[]).forEach((s,a)=>{if(s.type===CSSRule.IMPORT_RULE){let A=a+1;const u=s.href,f=O4(u).then(m=>M4(m,e)).then(m=>k4(m).forEach(w=>{try{i.insertRule(w,w.startsWith("@import")?A+=1:i.cssRules.length)}catch(C){console.error("Error inserting rule from remote css",{rule:w,error:C})}})).catch(m=>{console.error("Error loading remote css",m.toString())});r.push(f)}})}catch(s){const a=t.find(A=>A.href==null)||document.styleSheets[0];i.href!=null&&r.push(O4(i.href).then(A=>M4(A,e)).then(A=>k4(A).forEach(u=>{a.insertRule(u,a.cssRules.length)})).catch(A=>{console.error("Error loading remote stylesheet",A)})),console.error("Error inlining remote css file",s)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{TA(i.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${i.href}`,s)}}),n))}function _re(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>r6(e.style.getPropertyValue("src")))}async function Ere(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=TA(t.ownerDocument.styleSheets),r=await Bre(n,e);return _re(r)}function a6(t){return t.trim().replace(/["']/g,"")}function Sre(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(s=>{e.add(a6(s))}),Array.from(r.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(t),e}async function Tre(t,e){const n=await Ere(t,e),r=Sre(t);return(await Promise.all(n.filter(s=>r.has(a6(s.style.fontFamily))).map(s=>{const a=s.parentStyleSheet?s.parentStyleSheet.href:null;return i6(s.cssText,a,e)}))).join(`
`)}async function Ire(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await Tre(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function Nre(t,e={}){const{width:n,height:r}=J5(t,e),i=await k0(t,e,!0);return await Ire(i,e),await s6(i,e),Cre(i,e),await $ne(i,n,r)}async function Ore(t,e={}){const{width:n,height:r}=J5(t,e),i=await Nre(t,e),s=await hm(i),a=document.createElement("canvas"),A=a.getContext("2d"),u=e.pixelRatio||Vne(),f=e.canvasWidth||n,m=e.canvasHeight||r;return a.width=f*u,a.height=m*u,e.skipAutoScale||Kne(a),a.style.width=`${f}`,a.style.height=`${m}`,e.backgroundColor&&(A.fillStyle=e.backgroundColor,A.fillRect(0,0,a.width,a.height)),A.drawImage(s,0,0,a.width,a.height),a}async function Mre(t,e={}){return(await Ore(t,e)).toDataURL()}const kre="_modalOverlay_1vmb9_1",Fre="_modalContent_1vmb9_27",Dre="_header_1vmb9_43",Rre="_title_1vmb9_59",Lre="_closeButton_1vmb9_71",Ure="_body_1vmb9_87",Qre="_qrCodeWrapper_1vmb9_139",Hre="_downloadButton_1vmb9_151",jre="_loadingState_1vmb9_201",Pre="_noContentState_1vmb9_221",zre="_mainName_1vmb9_241",Vre="_subName_1vmb9_257",Kre="_emptyMessage_1vmb9_273",Gre="_qrDownloadArea_1vmb9_287",Ti={modalOverlay:kre,modalContent:Fre,header:Dre,title:Rre,closeButton:Lre,body:Ure,qrCodeWrapper:Qre,downloadButton:Hre,loadingState:jre,noContentState:Pre,mainName:zre,subName:Vre,emptyMessage:Kre,qrDownloadArea:Gre};function $re({data:t,onClose:e,type:n}){var R;const[r,i]=H.useState(!0),[s,a]=H.useState(!1),[A,u]=H.useState(""),{showAlert:f}=Kn(),m=H.useRef(null),w=n==="artworks",C=n==="exhibitions";let B="",E="",I="";t&&(w?(B=t.art_title,E=t.artist_name||t.art_medium||"",I=t.art_title||"artwork"):C?(B=t.exhibition_title,E=((R=t.gallery)==null?void 0:R.gallery_name)||t.gallery_name||"",I=t.exhibition_title||"exhibition"):(B=t.gallery_name,E=t.gallery_eng_name||"",I=t.gallery_name||"gallery")),H.useEffect(()=>{(async()=>{if(t!=null&&t.id){i(!0);try{if(w){const U=`/art/${t.id}`;U?(a(!0),u(U)):a(!1)}else{const U=C?"exhibitionCategory":"galleryCategory",O=await nt.get("/api/leaflet",{params:{category:U,category_id:t.id}});if((Array.isArray(O.data)?O.data:[]).length>0){a(!0);const Q=`${window.location.origin}/view/leaflet/${n}/${t.id}`;u(Q),console.log(Q)}else a(!1)}}catch(U){console.error("  :",U),a(!1)}finally{i(!1)}}})()},[t,n,w,C]);const M=()=>{m.current!==null&&Mre(m.current,{cacheBust:!0,backgroundColor:"#ffffff",pixelRatio:2}).then(L=>{const U=document.createElement("a");U.download=`${I}-qr-code.png`,U.href=L,U.click()}).catch(L=>{console.error("  :",L),f("  .","error")})};return t?g.jsx("div",{className:Ti.modalOverlay,onClick:e,children:g.jsxs("div",{className:Ti.modalContent,onClick:L=>L.stopPropagation(),children:[g.jsxs("header",{className:Ti.header,children:[g.jsx("h2",{className:Ti.title,children:w?"QR :  ":"QR : /"}),g.jsx("button",{className:Ti.closeButton,onClick:e,children:""})]}),g.jsx("div",{className:Ti.body,children:r?g.jsx("div",{className:Ti.loadingState,children:g.jsx("p",{children:"  ..."})}):s?g.jsxs(g.Fragment,{children:[g.jsxs("div",{ref:m,className:Ti.qrDownloadArea,children:[g.jsxs("div",{className:Ti.infoArea,children:[g.jsx("p",{className:Ti.mainName,children:B||"  "}),g.jsx("p",{className:Ti.subName,children:E})]}),g.jsx("div",{className:Ti.qrCodeWrapper,children:g.jsx(Qne,{value:A,size:200,bgColor:"#FFFFFF",fgColor:"#000000",level:"L",style:{height:"auto",maxWidth:"100%",width:"100%"}})})]}),g.jsx("button",{className:Ti.downloadButton,onClick:M,children:""})]}):g.jsxs("div",{className:Ti.noContentState,children:[g.jsx("p",{className:Ti.mainName,children:B||"  "}),g.jsx("p",{className:Ti.subName,children:E}),g.jsx("div",{className:Ti.emptyMessage,children:w?" (/) .":"   ."})]})})]})}):null}const Wre="_layout_1ecnc_1",Xre="_breadcrumb_1ecnc_21",qre="_breadcrumbBack_1ecnc_35",Yre="_card_1ecnc_45",Zre="_titleSection_1ecnc_63",Jre="_galleryTitle_1ecnc_73",eie="_gallerySubTitle_1ecnc_87",tie="_galleryImage_1ecnc_99",nie="_btnLayout_1ecnc_117",rie="_likeButton_1ecnc_131",iie="_icon_1ecnc_155",sie="_likedIcon_1ecnc_163",aie="_containerLayout_1ecnc_173",oie="_tagContainer_1ecnc_185",lie="_tag_1ecnc_185",Aie="_infoList_1ecnc_221",cie="_infoRow_1ecnc_235",uie="_infoLabel_1ecnc_245",die="_infoContent_1ecnc_257",fie="_homepageButton_1ecnc_277",hie="_descriptionParagraph_1ecnc_335",pie="_inlineSns_1ecnc_381",gie="_snsLink_1ecnc_395",mie="_snsIcon_1ecnc_405",xie="_instagram_1ecnc_429",wie="_youtube_1ecnc_437",yie="_twitter_1ecnc_445",vie="_facebook_1ecnc_453",bie="_emptyContent_1ecnc_461",Cie="_sectionTitle_1ecnc_475",Bie="_backButton_1ecnc_487",_ie="_emptyInfo_1ecnc_521",En={layout:Wre,breadcrumb:Xre,breadcrumbBack:qre,card:Yre,titleSection:Zre,galleryTitle:Jre,gallerySubTitle:eie,galleryImage:tie,btnLayout:nie,likeButton:rie,icon:iie,likedIcon:sie,containerLayout:aie,tagContainer:oie,tag:lie,infoList:Aie,infoRow:cie,infoLabel:uie,infoContent:die,homepageButton:fie,descriptionParagraph:hie,inlineSns:pie,snsLink:gie,snsIcon:mie,instagram:xie,youtube:wie,twitter:yie,facebook:vie,emptyContent:bie,sectionTitle:Cie,backButton:Bie,emptyInfo:_ie},Eie="_exhibitionList_w9oxj_1",Sie="_exhibitionCard_w9oxj_17",Tie="_imageContainer_w9oxj_49",Iie="_exhibitionImage_w9oxj_63",Nie="_statusTag_w9oxj_77",Oie="_statusOn_w9oxj_101",Mie="_statusScheduled_w9oxj_107",kie="_statusDone_w9oxj_113",Fie="_statusDefault_w9oxj_119",Die="_infoContainer_w9oxj_127",Rie="_title_w9oxj_147",Lie="_location_w9oxj_165",Uie="_date_w9oxj_175",Qie="_emptyContent_w9oxj_185",Ns={exhibitionList:Eie,exhibitionCard:Sie,imageContainer:Tie,exhibitionImage:Iie,statusTag:Nie,statusOn:Oie,statusScheduled:Mie,statusDone:kie,statusDefault:Fie,infoContainer:Die,title:Rie,location:Lie,date:Uie,emptyContent:Qie},F4={exhibited:{text:"",className:Ns.statusOn},scheduled:{text:"",className:Ns.statusScheduled},ended:{text:"",className:Ns.statusDone},default:{text:"",className:Ns.statusDefault}},Hie="https://artly.soundgram.co.kr";function o6({exhibitions:t}){const n=vr().pathname.includes("/console");return console.log(" ",t),!t||t.length===0?g.jsx("p",{className:Ns.emptyContent,children:"   ."}):g.jsx("section",{className:Ns.exhibitionList,children:t.map(({id:r,exhibition_poster:i,exhibition_title:s,exhibition_status:a,exhibition_location:A,exhibition_start_date:u,exhibition_end_date:f})=>{const m=F4[a]||F4.default,w=n?`/console/exhibitions/${r}`:`/exhibitions/${r}`,C=i&&!i.startsWith("http")?`${Hie}/${i}`:i;return g.jsxs(yr,{className:Ns.exhibitionCard,to:w,children:[g.jsxs("div",{className:Ns.imageContainer,children:[g.jsx($t,{className:Ns.exhibitionImage,src:C,alt:"  "}),g.jsx("span",{className:`${Ns.statusTag} ${m.className}`,children:m.text})]}),g.jsxs("div",{className:Ns.infoContainer,children:[g.jsx("h4",{className:Ns.title,children:s||" "}),g.jsx("p",{className:Ns.location,children:A||"  "}),g.jsx("p",{className:Ns.date,children:`${u||" "} ~ ${f||" "}`})]})]},r)})})}const jie="_artworkGrid_2xf7o_1",Pie="_artworkCard_2xf7o_45",zie="_artworkImage_2xf7o_83",Vie="_artworkInfo_2xf7o_97",Kie="_title_2xf7o_111",Gie="_materials_2xf7o_123",$ie="_emptyContent_2xf7o_145",gc={artworkGrid:jie,artworkCard:Pie,artworkImage:zie,artworkInfo:Vie,title:Kie,materials:Gie,emptyContent:$ie};function l6({artworks:t}){const n=vr().pathname.includes("/console");return console.log(t),!t||t.length===0?g.jsx("p",{className:gc.emptyContent,children:"   ."}):g.jsx("section",{className:gc.artworkGrid,children:t.map(({id:r,image_url:i,title:s,artist_name:a})=>{const A=n?`/console/artworks/${r}`:`/artworks/${r}`;return g.jsxs(yr,{className:gc.artworkCard,to:A,children:[g.jsx($t,{className:gc.artworkImage,src:i,alt:s}),g.jsxs("div",{className:gc.artworkInfo,children:[g.jsx("h4",{className:gc.title,children:s}),g.jsx("p",{className:gc.materials,children:a})]})]},r)})})}function A6({showUserActions:t=!0,id:e,actionButtons:n}){const{showAlert:r}=Kn(),{galleryId:i}=Ls(),s=e||i,a=Wt(),{user:A}=Us(),[u,f]=H.useState(null),[m,w]=H.useState(!1),[C,B]=H.useState(!1),[E,I]=H.useState("info"),[M,R]=H.useState(!1),L=async()=>{if(s)try{const qe=await nt.get(`/api/galleries/${s}`),{data:vt}=qe;f(vt),typeof vt.is_liked=="boolean"&&w(vt.is_liked)}catch(qe){console.error("   :",qe)}};if(H.useEffect(()=>{L()},[s]),H.useEffect(()=>{u&&typeof u.is_liked=="boolean"&&w(u.is_liked)},[u]),!u)return g.jsx(br,{});const U=async()=>{if(!A){a("/login");return}try{const qe={liked_id:s,liked_type:"gallery"};if(m){await nt.delete("/api/likes",{data:qe}),w(!1);return}else await nt.post("/api/likes",{liked_id:s,liked_type:"gallery"});await nt.post("/api/likes",qe),w(!0),B(!0)}catch(qe){console.error("  :",qe)}},O=()=>{const qe=u.gallery_name,vt=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${qe}`,text:`${qe}   !`,url:vt}).catch(Qt=>console.error(" :",Qt));else{const Qt=document.createElement("textarea");Qt.value=vt,document.body.appendChild(Qt),Qt.select();try{document.execCommand("copy"),r("  .")}catch(pt){console.error("  :",pt),r("  .","error")}finally{document.body.removeChild(Qt)}}},F={instagram:JP,youtube:ez,twitter:WS,facebook:WS},{exhibitions:Q=[],artworks:D=[],gallery_address:j="",gallery_category:V="",gallery_closed_day:W="",gallery_description:Y="",gallery_end_time:J="",gallery_start_time:re="",gallery_image:te="",gallery_name:q="",gallery_eng_name:ie="",gallery_phone:ae="",gallery_email:se="",gallery_homepage:me="",gallery_sns:ke,gallery_latitude:ne,gallery_longitude:he}=u;let Ne=[];try{Array.isArray(ke)?Ne=ke:typeof ke=="string"&&(Ne=JSON.parse(ke))}catch(qe){console.error("SNS   :",qe),Ne=[]}const ye=Ne.filter(qe=>qe.url&&qe.url.trim()!==""),Ge=[{label:"",content:re&&J?`${re.slice(0,5)} ~ ${J.slice(0,5)}`:" "},{label:"",content:W||" "},{label:"",content:ae||" "},{label:"",content:j||" "},{label:"",content:se?g.jsx("a",{href:`mailto:${se}`,children:se}):" "},{label:"SNS",content:ye.length>0?g.jsx("div",{className:En.inlineSns,children:ye.map(({type:qe,url:vt})=>{const Qt=qe==null?void 0:qe.toLowerCase(),pt=F[Qt]||F.default,fn=En[Qt]||En.defaultLink;return g.jsx("a",{href:vt,target:"_blank",rel:"noopener noreferrer",className:En.snsLink,children:g.jsx(pt,{className:`${En.snsIcon} ${fn}`})},`${qe}-${vt}`)})}):" "}],De=[{key:"info",label:""},{key:"exhibitions",label:`(${Q.length||0})`}],et=`gallery-${s}-map`;return g.jsxs("div",{className:En.layout,children:[t&&g.jsxs("div",{className:En.breadcrumb,children:[g.jsx("span",{className:En.breadcrumbBack,onClick:()=>a("/galleries"),children:""})," ","> ",q]}),g.jsxs("section",{className:En.titleSection,children:[g.jsx("h1",{className:En.galleryTitle,children:q}),g.jsx("p",{className:En.gallerySubTitle,children:ie||"Gallery"})]}),g.jsxs("div",{className:En.card,children:[g.jsx($t,{className:En.galleryImage,src:te,alt:"  "}),t&&g.jsxs("div",{className:En.btnLayout,children:[g.jsxs("button",{className:En.likeButton,onClick:U,children:[g.jsx(zA,{className:m?En.likedIcon:En.icon}),""]}),g.jsxs("button",{className:En.likeButton,onClick:()=>R(!0),children:[g.jsx(rz,{className:En.icon}),""]}),g.jsxs("button",{className:En.likeButton,onClick:O,children:[g.jsx(oC,{className:En.icon}),""]})]}),g.jsx("div",{className:En.tagContainer,children:V&&V.split(",").map(qe=>g.jsx("span",{className:En.tag,children:qe.trim()},qe))}),g.jsxs("section",{className:En.infoList,children:[Ge.map(({label:qe,content:vt})=>{const Qt=!vt||typeof vt=="string"&&vt.trim()===" ";return g.jsxs("div",{className:En.infoRow,children:[g.jsx("span",{className:En.infoLabel,children:qe}),g.jsx("div",{className:`${En.infoContent} ${Qt?En.emptyInfo:""}`,children:vt})]},qe)}),g.jsx("button",{disabled:!me,className:En.homepageButton,onClick:()=>window.open(me,"_blank"),children:me?"":"  "})]})]}),g.jsxs(hC,{tabs:De,activeTab:E,setActiveTab:I,children:[E==="info"&&(Y?g.jsx("div",{className:En.descriptionParagraph,dangerouslySetInnerHTML:{__html:Y}}):g.jsx("p",{className:En.emptyContent,children:"   ."})),E==="artworks"&&g.jsxs(g.Fragment,{children:[D.length>0?g.jsx(l6,{artworks:D}):g.jsx("p",{className:En.emptyContent,children:"  ."}),n==null?void 0:n.artworks]}),E==="exhibitions"&&g.jsxs(g.Fragment,{children:[Q.length>0?g.jsx(o6,{exhibitions:Q}):g.jsx("p",{className:En.emptyContent,children:"  ."}),n==null?void 0:n.exhibitions]})]}),t&&g.jsx("button",{className:En.backButton,onClick:()=>a("/galleries"),children:" "}),M&&g.jsx(M5,{lat:ne,lng:he,title:q,address:j,mapId:et,onClose:()=>R(!1)}),C&&g.jsx(gC,{onClose:()=>B(!1)})]})}const Wie="_layout_1s9mv_1",Xie="_breadcrumb_1s9mv_21",qie="_breadcrumbBack_1s9mv_35",Yie="_card_1s9mv_45",Zie="_titleSection_1s9mv_63",Jie="_exhibitionTitle_1s9mv_73",ese="_posterImage_1s9mv_87",tse="_btnLayout_1s9mv_111",nse="_likeButton_1s9mv_125",rse="_icon_1s9mv_149",ise="_likedIcon_1s9mv_157",sse="_infoList_1s9mv_165",ase="_infoRow_1s9mv_181",ose="_infoLabel_1s9mv_191",lse="_infoContent_1s9mv_203",Ase="_homepageButton_1s9mv_223",cse="_descriptionParagraph_1s9mv_281",use="_emptyContent_1s9mv_317",dse="_emptyInfo_1s9mv_331",fse="_backButton_1s9mv_339",hse="_disabledButton_1s9mv_377",zn={layout:Wie,breadcrumb:Xie,breadcrumbBack:qie,card:Yie,titleSection:Zie,exhibitionTitle:Jie,posterImage:ese,btnLayout:tse,likeButton:nse,icon:rse,likedIcon:ise,infoList:sse,infoRow:ase,infoLabel:ose,infoContent:lse,homepageButton:Ase,descriptionParagraph:cse,emptyContent:use,emptyInfo:dse,backButton:fse,disabledButton:hse},pse="_relatedSection_c53cq_1",gse="_list_c53cq_17",mse="_card_c53cq_31",xse="_imageWrapper_c53cq_63",wse="_image_c53cq_63",yse="_info_c53cq_99",vse="_title_c53cq_115",bse="_meta_c53cq_127",Cse="_date_c53cq_137",tl={relatedSection:pse,list:gse,card:mse,imageWrapper:xse,image:wse,info:yse,title:vse,meta:bse,date:Cse},Bse="https://artly.soundgram.co.kr";function _se({exhibitions:t}){const e=Wt();return g.jsx("section",{className:tl.relatedSection,children:g.jsx("div",{className:tl.list,children:t.map(({id:n,title:r,poster:i,start_date:s,end_date:a,location:A,organization:u})=>{const f=i&&!i.startsWith("http")?`${Bse}/${i}`:i;return g.jsxs("div",{className:tl.card,onClick:()=>e(`/exhibitions/${n}`),children:[g.jsx("div",{className:tl.imageWrapper,children:g.jsx($t,{src:f,alt:r,className:tl.image})}),g.jsxs("div",{className:tl.info,children:[g.jsx("h4",{className:tl.title,children:r||" "}),g.jsxs("p",{className:tl.meta,children:[u||"  "," |"," ",A||"  "]}),g.jsxs("p",{className:tl.date,children:[s," ~ ",a]})]})]},n)})})})}function c6({showUserActions:t=!0,id:e,actionButtons:n}){const{exhibitionId:r}=Ls(),i=e||r,{user:s}=Us(),a=Wt(),{showAlert:A}=Kn(),[u,f]=H.useState(null),[m,w]=H.useState(!1),[C,B]=H.useState(!1),[E,I]=H.useState("info"),M=async()=>{if(i)try{const ye=await nt.get(`/api/exhibitions/${i}`),{data:Ge}=ye;f(Ge),typeof Ge.is_liked=="boolean"&&w(Ge.is_liked)}catch(ye){console.error("   :",ye)}};H.useEffect(()=>{M()},[i]);const R=async()=>{if(!s){a("/login");return}try{const ye={liked_id:i,liked_type:"exhibition"};m?(await nt.delete("/api/likes",{data:ye}),w(!1)):(await nt.post("/api/likes",ye),w(!0),B(!0))}catch(ye){console.error("  :",ye)}},L=()=>{const ye=u==null?void 0:u.exhibition_title,Ge=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${ye}`,text:`${ye}   !`,url:Ge}).catch(De=>console.error(" :",De));else{const De=document.createElement("textarea");De.value=Ge,document.body.appendChild(De),De.select();try{document.execCommand("copy"),A("  .")}catch(et){console.error("  :",et),A("  .","error")}finally{document.body.removeChild(De)}}},U=()=>{a("/scan")};if(console.log("",u),!u)return g.jsx(br,{});const{exhibition_title:O,exhibition_poster:F,exhibition_start_date:Q,exhibition_end_date:D,exhibition_start_time:j,exhibition_end_time:V,exhibition_organization:W,exhibition_location:Y,exhibition_price:J,exhibition_closed_day:re,exhibition_description:te,related_exhibitions:q=[],artworks:ie=[],exhibition_phone:ae,artists:se=[],exhibition_homepage:me,exhibition_status:ke}=u,ne=ke==="exhibited",he=[{label:"",content:Q&&D?`${Q} ~ ${D}`:" "},{label:"",content:W},{label:"",content:j&&V?`${j.slice(0,5)} ~ ${V.slice(0,5)}`:" "},{label:"",content:re||" "},{label:"",content:J?`${J.toLocaleString()}`:""},{label:"",content:ae||" "},{label:"",content:Y||" "},{label:"",content:se.map(ye=>ye.artist_name).join(", ")||" "}],Ne=[{key:"info",label:""},{key:"artworks",label:`(${ie.length})`}];return g.jsxs("div",{className:zn.layout,children:[t&&g.jsxs("div",{className:zn.breadcrumb,children:[g.jsx("span",{className:zn.breadcrumbBack,onClick:()=>a("/exhibitions"),children:""})," ","> ",O]}),g.jsxs("div",{className:zn.card,children:[g.jsx($t,{className:zn.posterImage,src:F,alt:" "}),g.jsx("section",{className:zn.titleSection,children:g.jsx("h1",{className:zn.exhibitionTitle,children:O})}),t&&g.jsxs("div",{className:zn.btnLayout,children:[g.jsxs("button",{className:zn.likeButton,onClick:R,children:[g.jsx(zA,{className:m?zn.likedIcon:zn.icon}),""]}),g.jsxs("button",{className:`${zn.likeButton} ${ne?"":zn.disabledButton}`,disabled:!ne,onClick:()=>a(`/reservation/${i}`),title:ne?"":"   ",children:[g.jsx(tz,{className:zn.icon}),""]}),g.jsxs("button",{className:zn.likeButton,onClick:U,children:[g.jsx(nz,{className:zn.icon}),""]}),g.jsxs("button",{className:zn.likeButton,onClick:L,children:[g.jsx(oC,{className:zn.icon}),""]})]}),g.jsxs("section",{className:zn.infoList,children:[he.map(({label:ye,content:Ge})=>{const De=!Ge||typeof Ge=="string"&&Ge.trim()===" ";return g.jsxs("div",{className:zn.infoRow,children:[g.jsx("span",{className:zn.infoLabel,children:ye}),g.jsx("div",{className:`${zn.infoContent} ${De?zn.emptyInfo:""}`,children:Ge})]},ye)}),g.jsx("button",{disabled:!me,className:zn.homepageButton,onClick:()=>window.open(me,"_blank"),children:me?"  ":"  "})]})]}),g.jsxs(hC,{tabs:Ne,activeTab:E,setActiveTab:I,children:[E==="info"&&(te?g.jsx("div",{className:zn.descriptionParagraph,dangerouslySetInnerHTML:{__html:te}}):g.jsx("p",{className:zn.emptyContent,children:"    ."})),E==="artworks"&&g.jsxs(g.Fragment,{children:[ie.length>0?g.jsx(l6,{artworks:ie}):g.jsx("p",{className:zn.emptyContent,children:"  ."}),n==null?void 0:n.artworks]}),E==="exhibitions"&&g.jsxs(g.Fragment,{children:[q.length>0?g.jsx(_se,{exhibitions:q}):g.jsx("p",{className:zn.emptyContent,children:"  ."}),n==null?void 0:n.exhibitions]})]}),t&&g.jsx("button",{className:zn.backButton,onClick:()=>a("/exhibitions"),children:" "}),C&&g.jsx(gC,{onClose:()=>B(!1)})]})}const Ese="_overlay_1ujik_1",Sse="_modalContainer_1ujik_27",Tse="_closeButton_1ujik_51",Ise="_tabArea_1ujik_59",Nse="_tabButton_1ujik_79",Ose="_active_1ujik_115",Mse="_generateContainer_1ujik_133",mc={overlay:Ese,modalContainer:Sse,closeButton:Tse,tabArea:Ise,tabButton:Nse,active:Ose,generateContainer:Mse},kse="_page_1731v_1",Fse="_formArea_1731v_27",Dse="_label_1731v_39",Rse="_input_1731v_49",Lse="_textarea_1731v_51",Use="_submitButton_1731v_137",Qse="_resultArea_1731v_177",Hse="_resultCard_1731v_191",jse="_textContent_1731v_211",Pse="_cardHeader_1731v_241",zse="_buttonGroup_1731v_267",Vse="_copyButton_1731v_279",Kse="_captureButton_1731v_281",Gse="_refineButton_1731v_329",$se="_placeholder_1731v_361",Hi={page:kse,formArea:Fse,label:Dse,input:Rse,textarea:Lse,submitButton:Use,resultArea:Qse,resultCard:Hse,textContent:jse,cardHeader:Pse,buttonGroup:zse,copyButton:Vse,captureButton:Kse,refineButton:Gse,placeholder:$se};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sv=function(t,e){return Sv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Sv(t,e)};function $a(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Sv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Tv=function(){return Tv=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tv.apply(this,arguments)};function As(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function A(m){try{f(r.next(m))}catch(w){a(w)}}function u(m){try{f(r.throw(m))}catch(w){a(w)}}function f(m){m.done?s(m.value):i(m.value).then(A,u)}f((r=r.apply(t,[])).next())})}function Pi(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(f){return function(m){return u([f,m])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(m){f=[6,m],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function e1(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||e)}var yl=(function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),F0=function(t,e){return yl.fromClientRect(t,e.getBoundingClientRect())},Wse=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new yl(0,0,r,i)},D0=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},Kr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var a=t[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},D4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xse=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var t1=0;t1<D4.length;t1++)Xse[D4.charCodeAt(t1)]=t1;var R4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",th=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var n1=0;n1<R4.length;n1++)th[R4.charCodeAt(n1)]=n1;var qse=function(t){var e=t.length*.75,n=t.length,r,i=0,s,a,A,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var f=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),m=Array.isArray(f)?f:new Uint8Array(f);for(r=0;r<n;r+=4)s=th[t.charCodeAt(r)],a=th[t.charCodeAt(r+1)],A=th[t.charCodeAt(r+2)],u=th[t.charCodeAt(r+3)],m[i++]=s<<2|a>>4,m[i++]=(a&15)<<4|A>>2,m[i++]=(A&3)<<6|u&63;return f},Yse=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Zse=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Fc=5,vC=11,Yy=2,Jse=vC-Fc,u6=65536>>Fc,eae=1<<Fc,Zy=eae-1,tae=1024>>Fc,nae=u6+tae,rae=nae,iae=32,sae=rae+iae,aae=65536>>vC,oae=1<<Jse,lae=oae-1,L4=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Aae=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},cae=function(t,e){var n=qse(t),r=Array.isArray(n)?Zse(n):new Uint32Array(n),i=Array.isArray(n)?Yse(n):new Uint16Array(n),s=24,a=L4(i,s/2,r[4]/2),A=r[5]===2?L4(i,(s+r[4])/2):Aae(r,Math.ceil((s+r[4])/4));return new uae(r[0],r[1],r[2],r[3],a,A)},uae=(function(){function t(e,n,r,i,s,a){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Fc],n=(n<<Yy)+(e&Zy),this.data[n];if(e<=65535)return n=this.index[u6+(e-55296>>Fc)],n=(n<<Yy)+(e&Zy),this.data[n];if(e<this.highStart)return n=sae-aae+(e>>vC),n=this.index[n],n+=e>>Fc&lae,n=this.index[n],n=(n<<Yy)+(e&Zy),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),U4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dae=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var r1=0;r1<U4.length;r1++)dae[U4.charCodeAt(r1)]=r1;var fae="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Q4=50,hae=1,d6=2,f6=3,pae=4,gae=5,H4=7,h6=8,j4=9,bA=10,Iv=11,P4=12,Nv=13,mae=14,nh=15,Ov=16,i1=17,Vf=18,xae=19,z4=20,Mv=21,Kf=22,Jy=23,nd=24,Js=25,rh=26,ih=27,rd=28,wae=29,bc=30,yae=31,s1=32,a1=33,kv=34,Fv=35,Dv=36,kh=37,Rv=38,V1=39,K1=40,e2=41,p6=42,vae=43,bae=[9001,65288],g6="!",vn="",o1="",Lv=cae(fae),nl=[bc,Dv],Uv=[hae,d6,f6,gae],m6=[bA,h6],V4=[ih,rh],Cae=Uv.concat(m6),K4=[Rv,V1,K1,kv,Fv],Bae=[nh,Nv],_ae=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(s,a){var A=Lv.get(s);if(A>Q4?(i.push(!0),A-=Q4):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(a),n.push(Ov);if(A===pae||A===Iv){if(a===0)return r.push(a),n.push(bc);var u=n[a-1];return Cae.indexOf(u)===-1?(r.push(r[a-1]),n.push(u)):(r.push(a),n.push(bc))}if(r.push(a),A===yae)return n.push(e==="strict"?Mv:kh);if(A===p6||A===wae)return n.push(bc);if(A===vae)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(kh):n.push(bc);n.push(A)}),[r,n,i]},t2=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=n;s<=r.length;){s++;var a=r[s];if(a===e)return!0;if(a!==bA)break}if(i===bA)for(var s=n;s>0;){s--;var A=r[s];if(Array.isArray(t)?t.indexOf(A)!==-1:t===A)for(var u=n;u<=r.length;){u++;var a=r[u];if(a===e)return!0;if(a!==bA)break}if(A!==bA)break}return!1},G4=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===bA)n--;else return r}return 0},Eae=function(t,e,n,r,i){if(n[r]===0)return vn;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return vn;var a=s-1,A=s+1,u=e[s],f=a>=0?e[a]:0,m=e[A];if(u===d6&&m===f6)return vn;if(Uv.indexOf(u)!==-1)return g6;if(Uv.indexOf(m)!==-1||m6.indexOf(m)!==-1)return vn;if(G4(s,e)===h6)return o1;if(Lv.get(t[s])===Iv||(u===s1||u===a1)&&Lv.get(t[A])===Iv||u===H4||m===H4||u===j4||[bA,Nv,nh].indexOf(u)===-1&&m===j4||[i1,Vf,xae,nd,rd].indexOf(m)!==-1||G4(s,e)===Kf||t2(Jy,Kf,s,e)||t2([i1,Vf],Mv,s,e)||t2(P4,P4,s,e))return vn;if(u===bA)return o1;if(u===Jy||m===Jy)return vn;if(m===Ov||u===Ov)return o1;if([Nv,nh,Mv].indexOf(m)!==-1||u===mae||f===Dv&&Bae.indexOf(u)!==-1||u===rd&&m===Dv||m===z4||nl.indexOf(m)!==-1&&u===Js||nl.indexOf(u)!==-1&&m===Js||u===ih&&[kh,s1,a1].indexOf(m)!==-1||[kh,s1,a1].indexOf(u)!==-1&&m===rh||nl.indexOf(u)!==-1&&V4.indexOf(m)!==-1||V4.indexOf(u)!==-1&&nl.indexOf(m)!==-1||[ih,rh].indexOf(u)!==-1&&(m===Js||[Kf,nh].indexOf(m)!==-1&&e[A+1]===Js)||[Kf,nh].indexOf(u)!==-1&&m===Js||u===Js&&[Js,rd,nd].indexOf(m)!==-1)return vn;if([Js,rd,nd,i1,Vf].indexOf(m)!==-1)for(var w=s;w>=0;){var C=e[w];if(C===Js)return vn;if([rd,nd].indexOf(C)!==-1)w--;else break}if([ih,rh].indexOf(m)!==-1)for(var w=[i1,Vf].indexOf(u)!==-1?a:s;w>=0;){var C=e[w];if(C===Js)return vn;if([rd,nd].indexOf(C)!==-1)w--;else break}if(Rv===u&&[Rv,V1,kv,Fv].indexOf(m)!==-1||[V1,kv].indexOf(u)!==-1&&[V1,K1].indexOf(m)!==-1||[K1,Fv].indexOf(u)!==-1&&m===K1||K4.indexOf(u)!==-1&&[z4,rh].indexOf(m)!==-1||K4.indexOf(m)!==-1&&u===ih||nl.indexOf(u)!==-1&&nl.indexOf(m)!==-1||u===nd&&nl.indexOf(m)!==-1||nl.concat(Js).indexOf(u)!==-1&&m===Kf&&bae.indexOf(t[A])===-1||nl.concat(Js).indexOf(m)!==-1&&u===Vf)return vn;if(u===e2&&m===e2){for(var B=n[s],E=1;B>0&&(B--,e[B]===e2);)E++;if(E%2!==0)return vn}return u===s1&&m===a1?vn:o1},Sae=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=_ae(t,e.lineBreak),r=n[0],i=n[1],s=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(A){return[Js,bc,p6].indexOf(A)!==-1?kh:A}));var a=e.wordBreak==="keep-all"?s.map(function(A,u){return A&&t[u]>=19968&&t[u]<=40959}):void 0;return[r,i,a]},Tae=(function(){function t(e,n,r,i){this.codePoints=e,this.required=n===g6,this.start=r,this.end=i}return t.prototype.slice=function(){return Kr.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),Iae=function(t,e){var n=D0(t),r=Sae(n,e),i=r[0],s=r[1],a=r[2],A=n.length,u=0,f=0;return{next:function(){if(f>=A)return{done:!0,value:null};for(var m=vn;f<A&&(m=Eae(n,s,i,++f,a))===vn;);if(m!==vn||f===A){var w=new Tae(n,m,u,f);return u=f,{value:w,done:!1}}return{done:!0,value:null}}}},Nae=1,Oae=2,ap=4,$4=8,pm=10,W4=47,ph=92,Mae=9,kae=32,l1=34,Gf=61,Fae=35,Dae=36,Rae=37,A1=39,c1=40,$f=41,Lae=95,Os=45,Uae=33,Qae=60,Hae=62,jae=64,Pae=91,zae=93,Vae=61,Kae=123,u1=63,Gae=125,X4=124,$ae=126,Wae=128,q4=65533,n2=42,Sc=43,Xae=44,qae=58,Yae=59,Fh=46,Zae=0,Jae=8,eoe=11,toe=14,noe=31,roe=127,lo=-1,x6=48,w6=97,y6=101,ioe=102,soe=117,aoe=122,v6=65,b6=69,C6=70,ooe=85,loe=90,Vi=function(t){return t>=x6&&t<=57},Aoe=function(t){return t>=55296&&t<=57343},id=function(t){return Vi(t)||t>=v6&&t<=C6||t>=w6&&t<=ioe},coe=function(t){return t>=w6&&t<=aoe},uoe=function(t){return t>=v6&&t<=loe},doe=function(t){return coe(t)||uoe(t)},foe=function(t){return t>=Wae},d1=function(t){return t===pm||t===Mae||t===kae},gm=function(t){return doe(t)||foe(t)||t===Lae},Y4=function(t){return gm(t)||Vi(t)||t===Os},hoe=function(t){return t>=Zae&&t<=Jae||t===eoe||t>=toe&&t<=noe||t===roe},dA=function(t,e){return t!==ph?!1:e!==pm},f1=function(t,e,n){return t===Os?gm(e)||dA(e,n):gm(t)?!0:!!(t===ph&&dA(t,e))},r2=function(t,e,n){return t===Sc||t===Os?Vi(e)?!0:e===Fh&&Vi(n):Vi(t===Fh?e:t)},poe=function(t){var e=0,n=1;(t[e]===Sc||t[e]===Os)&&(t[e]===Os&&(n=-1),e++);for(var r=[];Vi(t[e]);)r.push(t[e++]);var i=r.length?parseInt(Kr.apply(void 0,r),10):0;t[e]===Fh&&e++;for(var s=[];Vi(t[e]);)s.push(t[e++]);var a=s.length,A=a?parseInt(Kr.apply(void 0,s),10):0;(t[e]===b6||t[e]===y6)&&e++;var u=1;(t[e]===Sc||t[e]===Os)&&(t[e]===Os&&(u=-1),e++);for(var f=[];Vi(t[e]);)f.push(t[e++]);var m=f.length?parseInt(Kr.apply(void 0,f),10):0;return n*(i+A*Math.pow(10,-a))*Math.pow(10,u*m)},goe={type:2},moe={type:3},xoe={type:4},woe={type:13},yoe={type:8},voe={type:21},boe={type:9},Coe={type:10},Boe={type:11},_oe={type:12},Eoe={type:14},h1={type:23},Soe={type:1},Toe={type:25},Ioe={type:24},Noe={type:26},Ooe={type:27},Moe={type:28},koe={type:29},Foe={type:31},Qv={type:32},B6=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(D0(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==Qv;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case l1:return this.consumeStringToken(l1);case Fae:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Y4(n)||dA(r,i)){var s=f1(n,r,i)?Oae:Nae,a=this.consumeName();return{type:5,value:a,flags:s}}break;case Dae:if(this.peekCodePoint(0)===Gf)return this.consumeCodePoint(),woe;break;case A1:return this.consumeStringToken(A1);case c1:return goe;case $f:return moe;case n2:if(this.peekCodePoint(0)===Gf)return this.consumeCodePoint(),Eoe;break;case Sc:if(r2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Xae:return xoe;case Os:var A=e,u=this.peekCodePoint(0),f=this.peekCodePoint(1);if(r2(A,u,f))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(f1(A,u,f))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(u===Os&&f===Hae)return this.consumeCodePoint(),this.consumeCodePoint(),Ioe;break;case Fh:if(r2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case W4:if(this.peekCodePoint(0)===n2)for(this.consumeCodePoint();;){var m=this.consumeCodePoint();if(m===n2&&(m=this.consumeCodePoint(),m===W4))return this.consumeToken();if(m===lo)return this.consumeToken()}break;case qae:return Noe;case Yae:return Ooe;case Qae:if(this.peekCodePoint(0)===Uae&&this.peekCodePoint(1)===Os&&this.peekCodePoint(2)===Os)return this.consumeCodePoint(),this.consumeCodePoint(),Toe;break;case jae:var w=this.peekCodePoint(0),C=this.peekCodePoint(1),B=this.peekCodePoint(2);if(f1(w,C,B)){var a=this.consumeName();return{type:7,value:a}}break;case Pae:return Moe;case ph:if(dA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case zae:return koe;case Vae:if(this.peekCodePoint(0)===Gf)return this.consumeCodePoint(),yoe;break;case Kae:return Boe;case Gae:return _oe;case soe:case ooe:var E=this.peekCodePoint(0),I=this.peekCodePoint(1);return E===Sc&&(id(I)||I===u1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case X4:if(this.peekCodePoint(0)===Gf)return this.consumeCodePoint(),boe;if(this.peekCodePoint(0)===X4)return this.consumeCodePoint(),voe;break;case $ae:if(this.peekCodePoint(0)===Gf)return this.consumeCodePoint(),Coe;break;case lo:return Qv}return d1(e)?(this.consumeWhiteSpace(),Foe):Vi(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):gm(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Kr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();id(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===u1&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(Kr.apply(void 0,e.map(function(u){return u===u1?x6:u})),16),s=parseInt(Kr.apply(void 0,e.map(function(u){return u===u1?C6:u})),16);return{type:30,start:i,end:s}}var a=parseInt(Kr.apply(void 0,e),16);if(this.peekCodePoint(0)===Os&&id(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var A=[];id(n)&&A.length<6;)A.push(n),n=this.consumeCodePoint();var s=parseInt(Kr.apply(void 0,A),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===c1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===c1?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===lo)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===A1||n===l1){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===lo||this.peekCodePoint(0)===$f)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),h1)}for(;;){var i=this.consumeCodePoint();if(i===lo||i===$f)return{type:22,value:Kr.apply(void 0,e)};if(d1(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===lo||this.peekCodePoint(0)===$f?(this.consumeCodePoint(),{type:22,value:Kr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),h1);if(i===l1||i===A1||i===c1||hoe(i))return this.consumeBadUrlRemnants(),h1;if(i===ph)if(dA(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),h1;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;d1(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===$f||e===lo)return;dA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=Kr.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===lo||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===pm)return this._value.splice(0,r),Soe;if(i===ph){var s=this._value[r+1];s!==lo&&s!==void 0&&(s===pm?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):dA(i,s)&&(n+=this.consumeStringSlice(r),n+=Kr(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=ap,r=this.peekCodePoint(0);for((r===Sc||r===Os)&&e.push(this.consumeCodePoint());Vi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Fh&&Vi(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=$4;Vi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===b6||r===y6)&&((i===Sc||i===Os)&&Vi(s)||Vi(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=$4;Vi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[poe(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(f1(i,s,a)){var A=this.consumeName();return{type:15,number:n,flags:r,unit:A}}return i===Rae?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(id(e)){for(var n=Kr(e);id(this.peekCodePoint(0))&&n.length<6;)n+=Kr(this.consumeCodePoint());d1(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||Aoe(r)||r>1114111?q4:r}return e===lo?q4:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(Y4(n))e+=Kr(n);else if(dA(n,this.peekCodePoint(0)))e+=Kr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t})(),_6=(function(){function t(e){this._tokens=e}return t.create=function(e){var n=new B6;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||Roe(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Qv:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),op=function(t){return t.type===15},jd=function(t){return t.type===17},Yn=function(t){return t.type===20},Doe=function(t){return t.type===0},Hv=function(t,e){return Yn(t)&&t.value===e},E6=function(t){return t.type!==31},Td=function(t){return t.type!==31&&t.type!==4},Bo=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},Roe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},LA=function(t){return t.type===17||t.type===15},ti=function(t){return t.type===16||LA(t)},S6=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Fi={type:17,number:0,flags:ap},bC={type:16,number:50,flags:ap},CA={type:16,number:100,flags:ap},sh=function(t,e,n){var r=t[0],i=t[1];return[ar(r,e),ar(typeof i<"u"?i:r,n)]},ar=function(t,e){if(t.type===16)return t.number/100*e;if(op(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},T6="deg",I6="grad",N6="rad",O6="turn",R0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case T6:return Math.PI*e.number/180;case I6:return Math.PI/200*e.number;case N6:return e.number;case O6:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},M6=function(t){return t.type===15&&(t.unit===T6||t.unit===I6||t.unit===N6||t.unit===O6)},k6=function(t){var e=t.filter(Yn).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Fi,Fi];case"to top":case"bottom":return Sa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Fi,CA];case"to right":case"left":return Sa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[CA,CA];case"to bottom":case"top":return Sa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[CA,Fi];case"to left":case"right":return Sa(270)}return 0},Sa=function(t){return Math.PI*t/180},IA={name:"color",parse:function(t,e){if(e.type===18){var n=Loe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return BA(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return BA(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return BA(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return BA(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var A=gl[e.value.toUpperCase()];if(typeof A<"u")return A}return gl.TRANSPARENT}},NA=function(t){return(255&t)===0},mi=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},BA=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},Z4=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},J4=function(t,e){var n=e.filter(Td);if(n.length===3){var r=n.map(Z4),i=r[0],s=r[1],a=r[2];return BA(i,s,a,1)}if(n.length===4){var A=n.map(Z4),i=A[0],s=A[1],a=A[2],u=A[3];return BA(i,s,a,u)}return 0};function i2(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var eT=function(t,e){var n=e.filter(Td),r=n[0],i=n[1],s=n[2],a=n[3],A=(r.type===17?Sa(r.number):R0.parse(t,r))/(Math.PI*2),u=ti(i)?i.number/100:0,f=ti(s)?s.number/100:0,m=typeof a<"u"&&ti(a)?ar(a,1):1;if(u===0)return BA(f*255,f*255,f*255,1);var w=f<=.5?f*(u+1):f+u-f*u,C=f*2-w,B=i2(C,w,A+1/3),E=i2(C,w,A),I=i2(C,w,A-1/3);return BA(B*255,E*255,I*255,m)},Loe={hsl:eT,hsla:eT,rgb:J4,rgba:J4},gh=function(t,e){return IA.parse(t,_6.create(e).parseComponentValue())},gl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Uoe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Yn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Qoe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},L0=function(t,e){var n=IA.parse(t,e[0]),r=e[1];return r&&ti(r)?{color:n,stop:r}:{color:n,stop:null}},tT=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Fi),r.stop===null&&(r.stop=CA);for(var i=[],s=0,a=0;a<t.length;a++){var A=t[a].stop;if(A!==null){var u=ar(A,e);u>s?i.push(u):i.push(s),s=u}else i.push(null)}for(var f=null,a=0;a<i.length;a++){var m=i[a];if(m===null)f===null&&(f=a);else if(f!==null){for(var w=a-f,C=i[f-1],B=(m-C)/(w+1),E=1;E<=w;E++)i[f+E-1]=B*E;f=null}}return t.map(function(I,M){var R=I.color;return{color:R,stop:Math.max(Math.min(1,i[M]/e),0)}})},Hoe=function(t,e,n){var r=e/2,i=n/2,s=ar(t[0],e)-r,a=i-ar(t[1],n);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},joe=function(t,e,n){var r=typeof t=="number"?t:Hoe(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),s=e/2,a=n/2,A=i/2,u=Math.sin(r-Math.PI/2)*A,f=Math.cos(r-Math.PI/2)*A;return[i,s-f,s+f,a-u,a+u]},Pa=function(t,e){return Math.sqrt(t*t+e*e)},nT=function(t,e,n,r,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,A){var u=A[0],f=A[1],m=Pa(n-u,r-f);return(i?m<a.optimumDistance:m>a.optimumDistance)?{optimumCorner:A,optimumDistance:m}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Poe=function(t,e,n,r,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)s=a=Math.min(Pa(e,n),Pa(e,n-i),Pa(e-r,n),Pa(e-r,n-i));else if(t.shape===1){var A=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),u=nT(r,i,e,n,!0),f=u[0],m=u[1];s=Pa(f-e,(m-n)/A),a=A*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)s=a=Math.max(Pa(e,n),Pa(e,n-i),Pa(e-r,n),Pa(e-r,n-i));else if(t.shape===1){var A=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),w=nT(r,i,e,n,!1),f=w[0],m=w[1];s=Pa(f-e,(m-n)/A),a=A*s}break}return Array.isArray(t.size)&&(s=ar(t.size[0],r),a=t.size.length===2?ar(t.size[1],i):s),[s,a]},zoe=function(t,e){var n=Sa(180),r=[];return Bo(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){n=k6(i);return}else if(M6(a)){n=R0.parse(t,a);return}}var A=L0(t,i);r.push(A)}),{angle:n,stops:r,type:1}},p1=function(t,e){var n=Sa(180),r=[];return Bo(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){n=k6(i);return}else if(M6(a)){n=(R0.parse(t,a)+Sa(270))%Sa(360);return}}var A=L0(t,i);r.push(A)}),{angle:n,stops:r,type:1}},Voe=function(t,e){var n=Sa(180),r=[],i=1,s=0,a=3,A=[];return Bo(e).forEach(function(u,f){var m=u[0];if(f===0){if(Yn(m)&&m.value==="linear"){i=1;return}else if(Yn(m)&&m.value==="radial"){i=2;return}}if(m.type===18){if(m.name==="from"){var w=IA.parse(t,m.values[0]);r.push({stop:Fi,color:w})}else if(m.name==="to"){var w=IA.parse(t,m.values[0]);r.push({stop:CA,color:w})}else if(m.name==="color-stop"){var C=m.values.filter(Td);if(C.length===2){var w=IA.parse(t,C[1]),B=C[0];jd(B)&&r.push({stop:{type:16,number:B.number*100,flags:B.flags},color:w})}}}}),i===1?{angle:(n+Sa(180))%Sa(360),stops:r,type:i}:{size:a,shape:s,stops:r,position:A,type:i}},F6="closest-side",D6="farthest-side",R6="closest-corner",L6="farthest-corner",U6="circle",Q6="ellipse",H6="cover",j6="contain",Koe=function(t,e){var n=0,r=3,i=[],s=[];return Bo(e).forEach(function(a,A){var u=!0;if(A===0){var f=!1;u=a.reduce(function(w,C){if(f)if(Yn(C))switch(C.value){case"center":return s.push(bC),w;case"top":case"left":return s.push(Fi),w;case"right":case"bottom":return s.push(CA),w}else(ti(C)||LA(C))&&s.push(C);else if(Yn(C))switch(C.value){case U6:return n=0,!1;case Q6:return n=1,!1;case"at":return f=!0,!1;case F6:return r=0,!1;case H6:case D6:return r=1,!1;case j6:case R6:return r=2,!1;case L6:return r=3,!1}else if(LA(C)||ti(C))return Array.isArray(r)||(r=[]),r.push(C),!1;return w},u)}if(u){var m=L0(t,a);i.push(m)}}),{size:r,shape:n,stops:i,position:s,type:2}},g1=function(t,e){var n=0,r=3,i=[],s=[];return Bo(e).forEach(function(a,A){var u=!0;if(A===0?u=a.reduce(function(m,w){if(Yn(w))switch(w.value){case"center":return s.push(bC),!1;case"top":case"left":return s.push(Fi),!1;case"right":case"bottom":return s.push(CA),!1}else if(ti(w)||LA(w))return s.push(w),!1;return m},u):A===1&&(u=a.reduce(function(m,w){if(Yn(w))switch(w.value){case U6:return n=0,!1;case Q6:return n=1,!1;case j6:case F6:return r=0,!1;case D6:return r=1,!1;case R6:return r=2,!1;case H6:case L6:return r=3,!1}else if(LA(w)||ti(w))return Array.isArray(r)||(r=[]),r.push(w),!1;return m},u)),u){var f=L0(t,a);i.push(f)}}),{size:r,shape:n,stops:i,position:s,type:2}},Goe=function(t){return t.type===1},$oe=function(t){return t.type===2},CC={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=P6[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Woe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!P6[t.name])}var P6={"linear-gradient":zoe,"-moz-linear-gradient":p1,"-ms-linear-gradient":p1,"-o-linear-gradient":p1,"-webkit-linear-gradient":p1,"radial-gradient":Koe,"-moz-radial-gradient":g1,"-ms-radial-gradient":g1,"-o-radial-gradient":g1,"-webkit-radial-gradient":g1,"-webkit-gradient":Voe},Xoe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return Td(r)&&Woe(r)}).map(function(r){return CC.parse(t,r)})}},qoe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Yn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Yoe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Bo(e).map(function(n){return n.filter(ti)}).map(S6)}},Zoe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Bo(e).map(function(n){return n.filter(Yn).map(function(r){return r.value}).join(" ")}).map(Joe)}},Joe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Cd;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Cd||(Cd={}));var ele={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Bo(e).map(function(n){return n.filter(tle)})}},tle=function(t){return Yn(t)||ti(t)},U0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},nle=U0("top"),rle=U0("right"),ile=U0("bottom"),sle=U0("left"),Q0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return S6(n.filter(ti))}}},ale=Q0("top-left"),ole=Q0("top-right"),lle=Q0("bottom-right"),Ale=Q0("bottom-left"),H0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},cle=H0("top"),ule=H0("right"),dle=H0("bottom"),fle=H0("left"),j0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return op(n)?n.number:0}}},hle=j0("top"),ple=j0("right"),gle=j0("bottom"),mle=j0("left"),xle={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wle={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},yle={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Yn).reduce(function(n,r){return n|vle(r.value)},0)}},vle=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ble={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Cle={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},mm;(function(t){t.NORMAL="normal",t.STRICT="strict"})(mm||(mm={}));var Ble={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return mm.STRICT;case"normal":default:return mm.NORMAL}}},_le={name:"line-height",initialValue:"normal",prefix:!1,type:4},rT=function(t,e){return Yn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ti(t)?ar(t,e):e},Ele={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:CC.parse(t,e)}},Sle={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},jv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},P0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Tle=P0("top"),Ile=P0("right"),Nle=P0("bottom"),Ole=P0("left"),Mle={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Yn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},kle={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},z0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Fle=z0("top"),Dle=z0("right"),Rle=z0("bottom"),Lle=z0("left"),Ule={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Qle={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Hle={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Hv(e[0],"none")?[]:Bo(e).map(function(n){for(var r={color:gl.TRANSPARENT,offsetX:Fi,offsetY:Fi,blur:Fi},i=0,s=0;s<n.length;s++){var a=n[s];LA(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:r.blur=a,i++):r.color=IA.parse(t,a)}return r})}},jle={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ple={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=Kle[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},zle=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},Vle=function(t){var e=t.filter(function(u){return u.type===17}).map(function(u){return u.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],A=e[13];return e[14],e[15],e.length===16?[n,r,i,s,a,A]:null},Kle={matrix:zle,matrix3d:Vle},iT={type:16,number:50,flags:ap},Gle=[iT,iT],$le={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(ti);return n.length!==2?Gle:[n[0],n[1]]}},Wle={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},mh;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(mh||(mh={}));var Xle={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return mh.BREAK_ALL;case"keep-all":return mh.KEEP_ALL;case"normal":default:return mh.NORMAL}}},qle={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(jd(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},z6={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Yle={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return jd(e)?e.number:1}},Zle={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Jle={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Yn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},eAe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},tAe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},nAe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(jd(e))return e.number;if(Yn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},rAe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Yn).map(function(n){return n.value})}},iAe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ai=function(t,e){return(t&e)!==0},sAe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},aAe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(E6),s=0;s<i.length;s++){var a=i[s],A=i[s+1];if(a.type===20){var u=A&&jd(A)?A.number:1;r.push({counter:a.value,increment:u})}}return r}},oAe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(E6),i=0;i<r.length;i++){var s=r[i],a=r[i+1];if(Yn(s)&&s.value!=="none"){var A=a&&jd(a)?a.number:0;n.push({counter:s.value,reset:A})}}return n}},lAe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(op).map(function(n){return z6.parse(t,n)})}},AAe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(Doe);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,A=i[s+1].value;r.push({open:a,close:A})}return r}},sT=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},cAe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Hv(e[0],"none")?[]:Bo(e).map(function(n){for(var r={color:255,offsetX:Fi,offsetY:Fi,blur:Fi,spread:Fi,inset:!1},i=0,s=0;s<n.length;s++){var a=n[s];Hv(a,"inset")?r.inset=!0:LA(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:i===2?r.blur=a:r.spread=a,i++):r.color=IA.parse(t,a)}return r})}},uAe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Yn).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},dAe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fAe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return op(e)?e.number:0}},hAe=(function(){function t(e,n){var r,i;this.animationDuration=ut(e,lAe,n.animationDuration),this.backgroundClip=ut(e,Uoe,n.backgroundClip),this.backgroundColor=ut(e,Qoe,n.backgroundColor),this.backgroundImage=ut(e,Xoe,n.backgroundImage),this.backgroundOrigin=ut(e,qoe,n.backgroundOrigin),this.backgroundPosition=ut(e,Yoe,n.backgroundPosition),this.backgroundRepeat=ut(e,Zoe,n.backgroundRepeat),this.backgroundSize=ut(e,ele,n.backgroundSize),this.borderTopColor=ut(e,nle,n.borderTopColor),this.borderRightColor=ut(e,rle,n.borderRightColor),this.borderBottomColor=ut(e,ile,n.borderBottomColor),this.borderLeftColor=ut(e,sle,n.borderLeftColor),this.borderTopLeftRadius=ut(e,ale,n.borderTopLeftRadius),this.borderTopRightRadius=ut(e,ole,n.borderTopRightRadius),this.borderBottomRightRadius=ut(e,lle,n.borderBottomRightRadius),this.borderBottomLeftRadius=ut(e,Ale,n.borderBottomLeftRadius),this.borderTopStyle=ut(e,cle,n.borderTopStyle),this.borderRightStyle=ut(e,ule,n.borderRightStyle),this.borderBottomStyle=ut(e,dle,n.borderBottomStyle),this.borderLeftStyle=ut(e,fle,n.borderLeftStyle),this.borderTopWidth=ut(e,hle,n.borderTopWidth),this.borderRightWidth=ut(e,ple,n.borderRightWidth),this.borderBottomWidth=ut(e,gle,n.borderBottomWidth),this.borderLeftWidth=ut(e,mle,n.borderLeftWidth),this.boxShadow=ut(e,cAe,n.boxShadow),this.color=ut(e,xle,n.color),this.direction=ut(e,wle,n.direction),this.display=ut(e,yle,n.display),this.float=ut(e,ble,n.cssFloat),this.fontFamily=ut(e,eAe,n.fontFamily),this.fontSize=ut(e,tAe,n.fontSize),this.fontStyle=ut(e,iAe,n.fontStyle),this.fontVariant=ut(e,rAe,n.fontVariant),this.fontWeight=ut(e,nAe,n.fontWeight),this.letterSpacing=ut(e,Cle,n.letterSpacing),this.lineBreak=ut(e,Ble,n.lineBreak),this.lineHeight=ut(e,_le,n.lineHeight),this.listStyleImage=ut(e,Ele,n.listStyleImage),this.listStylePosition=ut(e,Sle,n.listStylePosition),this.listStyleType=ut(e,jv,n.listStyleType),this.marginTop=ut(e,Tle,n.marginTop),this.marginRight=ut(e,Ile,n.marginRight),this.marginBottom=ut(e,Nle,n.marginBottom),this.marginLeft=ut(e,Ole,n.marginLeft),this.opacity=ut(e,Yle,n.opacity);var s=ut(e,Mle,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ut(e,kle,n.overflowWrap),this.paddingTop=ut(e,Fle,n.paddingTop),this.paddingRight=ut(e,Dle,n.paddingRight),this.paddingBottom=ut(e,Rle,n.paddingBottom),this.paddingLeft=ut(e,Lle,n.paddingLeft),this.paintOrder=ut(e,uAe,n.paintOrder),this.position=ut(e,Qle,n.position),this.textAlign=ut(e,Ule,n.textAlign),this.textDecorationColor=ut(e,Zle,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=ut(e,Jle,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=ut(e,Hle,n.textShadow),this.textTransform=ut(e,jle,n.textTransform),this.transform=ut(e,Ple,n.transform),this.transformOrigin=ut(e,$le,n.transformOrigin),this.visibility=ut(e,Wle,n.visibility),this.webkitTextStrokeColor=ut(e,dAe,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=ut(e,fAe,n.webkitTextStrokeWidth),this.wordBreak=ut(e,Xle,n.wordBreak),this.zIndex=ut(e,qle,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return NA(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Ai(this.display,4)||Ai(this.display,33554432)||Ai(this.display,268435456)||Ai(this.display,536870912)||Ai(this.display,67108864)||Ai(this.display,134217728)},t})(),pAe=(function(){function t(e,n){this.content=ut(e,sAe,n.content),this.quotes=ut(e,AAe,n.quotes)}return t})(),aT=(function(){function t(e,n){this.counterIncrement=ut(e,aAe,n.counterIncrement),this.counterReset=ut(e,oAe,n.counterReset)}return t})(),ut=function(t,e,n){var r=new B6,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var s=new _6(r.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,Yn(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return R0.parse(t,s.parseComponentValue());case"color":return IA.parse(t,s.parseComponentValue());case"image":return CC.parse(t,s.parseComponentValue());case"length":var A=s.parseComponentValue();return LA(A)?A:Fi;case"length-percentage":var u=s.parseComponentValue();return ti(u)?u:Fi;case"time":return z6.parse(t,s.parseComponentValue())}break}},gAe="data-html2canvas-debug",mAe=function(t){var e=t.getAttribute(gAe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Pv=function(t,e){var n=mAe(t);return n===1||e===n},_o=(function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Pv(n,3))debugger;this.styles=new hAe(e,window.getComputedStyle(n,null)),Kv(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=F0(this.context,n),Pv(n,4)&&(this.flags|=16)}return t})(),xAe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",oT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ah=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var m1=0;m1<oT.length;m1++)ah[oT.charCodeAt(m1)]=m1;var wAe=function(t){var e=t.length*.75,n=t.length,r,i=0,s,a,A,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var f=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),m=Array.isArray(f)?f:new Uint8Array(f);for(r=0;r<n;r+=4)s=ah[t.charCodeAt(r)],a=ah[t.charCodeAt(r+1)],A=ah[t.charCodeAt(r+2)],u=ah[t.charCodeAt(r+3)],m[i++]=s<<2|a>>4,m[i++]=(a&15)<<4|A>>2,m[i++]=(A&3)<<6|u&63;return f},yAe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},vAe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Dc=5,BC=11,s2=2,bAe=BC-Dc,V6=65536>>Dc,CAe=1<<Dc,a2=CAe-1,BAe=1024>>Dc,_Ae=V6+BAe,EAe=_Ae,SAe=32,TAe=EAe+SAe,IAe=65536>>BC,NAe=1<<bAe,OAe=NAe-1,lT=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},MAe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},kAe=function(t,e){var n=wAe(t),r=Array.isArray(n)?vAe(n):new Uint32Array(n),i=Array.isArray(n)?yAe(n):new Uint16Array(n),s=24,a=lT(i,s/2,r[4]/2),A=r[5]===2?lT(i,(s+r[4])/2):MAe(r,Math.ceil((s+r[4])/4));return new FAe(r[0],r[1],r[2],r[3],a,A)},FAe=(function(){function t(e,n,r,i,s,a){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Dc],n=(n<<s2)+(e&a2),this.data[n];if(e<=65535)return n=this.index[V6+(e-55296>>Dc)],n=(n<<s2)+(e&a2),this.data[n];if(e<this.highStart)return n=TAe-IAe+(e>>BC),n=this.index[n],n+=e>>Dc&OAe,n=this.index[n],n=(n<<s2)+(e&a2),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),AT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DAe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var x1=0;x1<AT.length;x1++)DAe[AT.charCodeAt(x1)]=x1;var RAe=1,o2=2,l2=3,cT=4,uT=5,LAe=7,dT=8,A2=9,c2=10,fT=11,hT=12,pT=13,gT=14,u2=15,UAe=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},QAe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var a=t[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},HAe=kAe(xAe),ba="",d2="",jAe=function(t){return HAe.get(t)},PAe=function(t,e,n){var r=n-2,i=e[r],s=e[n-1],a=e[n];if(s===o2&&a===l2)return ba;if(s===o2||s===l2||s===cT||a===o2||a===l2||a===cT)return d2;if(s===dT&&[dT,A2,fT,hT].indexOf(a)!==-1||(s===fT||s===A2)&&(a===A2||a===c2)||(s===hT||s===c2)&&a===c2||a===pT||a===uT||a===LAe||s===RAe)return ba;if(s===pT&&a===gT){for(;i===uT;)i=e[--r];if(i===gT)return ba}if(s===u2&&a===u2){for(var A=0;i===u2;)A++,i=e[--r];if(A%2===0)return ba}return d2},zAe=function(t){var e=UAe(t),n=e.length,r=0,i=0,s=e.map(jAe);return{next:function(){if(r>=n)return{done:!0,value:null};for(var a=ba;r<n&&(a=PAe(e,s,++r))===ba;);if(a!==ba||r===n){var A=QAe.apply(null,e.slice(i,r));return i=r,{value:A,done:!1}}return{done:!0,value:null}}}},VAe=function(t){for(var e=zAe(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},KAe=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(r),s===e)return!0}}return!1},GAe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=D0(r.data).map(function(u){return Kr(u)}),s=0,a={},A=i.every(function(u,f){n.setStart(r,s),n.setEnd(r,s+u.length);var m=n.getBoundingClientRect();s+=u.length;var w=m.x>a.x||m.y>a.y;return a=m,f===0?!0:w});return t.body.removeChild(e),A},$Ae=function(){return typeof new Image().crossOrigin<"u"},WAe=function(){return typeof new XMLHttpRequest().responseType=="string"},XAe=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},mT=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},qAe=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=e.toDataURL();i.src=s;var a=zv(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),xT(a).then(function(A){r.drawImage(A,0,0);var u=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var f=t.createElement("div");return f.style.backgroundImage="url("+s+")",f.style.height=n+"px",mT(u)?xT(zv(n,n,0,0,f)):Promise.reject(!1)}).then(function(A){return r.drawImage(A,0,0),mT(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},zv=function(t,e,n,r,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),A=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",n.toString()),A.setAttributeNS(null,"y",r.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(A),A.appendChild(i),a},xT=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Oi={get SUPPORT_RANGE_BOUNDS(){var t=KAe(document);return Object.defineProperty(Oi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Oi.SUPPORT_RANGE_BOUNDS&&GAe(document);return Object.defineProperty(Oi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=XAe(document);return Object.defineProperty(Oi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?qAe(document):Promise.resolve(!1);return Object.defineProperty(Oi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=$Ae();return Object.defineProperty(Oi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=WAe();return Object.defineProperty(Oi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Oi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Oi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},xh=(function(){function t(e,n){this.text=e,this.bounds=n}return t})(),YAe=function(t,e,n,r){var i=ece(e,n),s=[],a=0;return i.forEach(function(A){if(n.textDecorationLine.length||A.trim().length>0)if(Oi.SUPPORT_RANGE_BOUNDS){var u=wT(r,a,A.length).getClientRects();if(u.length>1){var f=_C(A),m=0;f.forEach(function(C){s.push(new xh(C,yl.fromDOMRectList(t,wT(r,m+a,C.length).getClientRects()))),m+=C.length})}else s.push(new xh(A,yl.fromDOMRectList(t,u)))}else{var w=r.splitText(A.length);s.push(new xh(A,ZAe(t,r))),r=w}else Oi.SUPPORT_RANGE_BOUNDS||(r=r.splitText(A.length));a+=A.length}),s},ZAe=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=F0(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return yl.EMPTY},wT=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},_C=function(t){if(Oi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return VAe(t)},JAe=function(t,e){if(Oi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return nce(t,e)},ece=function(t,e){return e.letterSpacing!==0?_C(t):JAe(t,e)},tce=[32,160,4961,65792,65793,4153,4241],nce=function(t,e){for(var n=Iae(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var a=i.value.slice(),A=D0(a),u="";A.forEach(function(f){tce.indexOf(f)===-1?u+=Kr(f):(u.length&&r.push(u),r.push(Kr(f)),u="")}),u.length&&r.push(u)}};!(i=n.next()).done;)s();return r},rce=(function(){function t(e,n,r){this.text=ice(n.data,r.textTransform),this.textBounds=YAe(e,this.text,r,n)}return t})(),ice=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(sce,ace);case 2:return t.toUpperCase();default:return t}},sce=/(^|\s|:|-|\(|\))([a-z])/g,ace=function(t,e,n){return t.length>0?e+n.toUpperCase():t},K6=(function(t){$a(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e})(_o),G6=(function(t){$a(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e})(_o),$6=(function(t){$a(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=new XMLSerializer,a=F0(n,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(_o),W6=(function(t){$a(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e})(_o),Vv=(function(t){$a(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e})(_o),oce=[{type:15,flags:0,unit:"px",number:3}],lce=[{type:16,flags:0,number:50}],Ace=function(t){return t.width>t.height?new yl(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new yl(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},cce=function(t){var e=t.type===uce?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},xm="checkbox",wm="radio",uce="password",yT=707406591,EC=(function(t){$a(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=cce(r),(i.type===xm||i.type===wm)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Ace(i.bounds)),i.type){case xm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=oce;break;case wm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=lce;break}return i}return e})(_o),X6=(function(t){$a(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(_o),q6=(function(t){$a(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e})(_o),Y6=(function(t){$a(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=J6(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?gh(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):gl.TRANSPARENT,a=r.contentWindow.document.body?gh(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):gl.TRANSPARENT;i.backgroundColor=NA(s)?NA(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e})(_o),dce=["OL","UL","MENU"],G1=function(t,e,n,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,eO(i)&&i.data.trim().length>0)n.textNodes.push(new rce(t,i,n.styles));else if(wd(i))if(iO(i)&&i.assignedNodes)i.assignedNodes().forEach(function(A){return G1(t,A,n,r)});else{var a=Z6(t,i);a.styles.isVisible()&&(fce(i,a,r)?a.flags|=4:hce(a.styles)&&(a.flags|=2),dce.indexOf(i.tagName)!==-1&&(a.flags|=8),n.elements.push(a),i.slot,i.shadowRoot?G1(t,i.shadowRoot,a,r):!ym(i)&&!tO(i)&&!vm(i)&&G1(t,i,a,r))}},Z6=function(t,e){return Gv(e)?new K6(t,e):nO(e)?new G6(t,e):tO(e)?new $6(t,e):pce(e)?new W6(t,e):gce(e)?new Vv(t,e):mce(e)?new EC(t,e):vm(e)?new X6(t,e):ym(e)?new q6(t,e):rO(e)?new Y6(t,e):new _o(t,e)},J6=function(t,e){var n=Z6(t,e);return n.flags|=4,G1(t,e,n,n),n},fce=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||SC(t)&&n.styles.isTransparent()},hce=function(t){return t.isPositioned()||t.isFloating()},eO=function(t){return t.nodeType===Node.TEXT_NODE},wd=function(t){return t.nodeType===Node.ELEMENT_NODE},Kv=function(t){return wd(t)&&typeof t.style<"u"&&!$1(t)},$1=function(t){return typeof t.className=="object"},pce=function(t){return t.tagName==="LI"},gce=function(t){return t.tagName==="OL"},mce=function(t){return t.tagName==="INPUT"},xce=function(t){return t.tagName==="HTML"},tO=function(t){return t.tagName==="svg"},SC=function(t){return t.tagName==="BODY"},nO=function(t){return t.tagName==="CANVAS"},vT=function(t){return t.tagName==="VIDEO"},Gv=function(t){return t.tagName==="IMG"},rO=function(t){return t.tagName==="IFRAME"},bT=function(t){return t.tagName==="STYLE"},wce=function(t){return t.tagName==="SCRIPT"},ym=function(t){return t.tagName==="TEXTAREA"},vm=function(t){return t.tagName==="SELECT"},iO=function(t){return t.tagName==="SLOT"},CT=function(t){return t.tagName.indexOf("-")>0},yce=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(A){var u=n.counters[A.counter];u&&A.increment!==0&&(s=!1,u.length||u.push(1),u[Math.max(0,u.length-1)]+=A.increment)});var a=[];return s&&i.forEach(function(A){var u=n.counters[A.counter];a.push(A.counter),u||(u=n.counters[A.counter]=[]),u.push(A.reset)}),a},t})(),BT={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_T={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},vce={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},bce={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sd=function(t,e,n,r,i,s){return t<e||t>n?Dh(t,i,s.length>0):r.integers.reduce(function(a,A,u){for(;t>=A;)t-=A,a+=r.values[u];return a},"")+s},sO=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},Pr=function(t,e,n,r,i){var s=n-e+1;return(t<0?"-":"")+(sO(Math.abs(t),s,r,function(a){return Kr(Math.floor(a%s)+e)})+i)},xc=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return sO(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},ud=1,AA=2,cA=4,oh=8,rl=function(t,e,n,r,i,s){if(t<-9999||t>9999)return Dh(t,4,i.length>0);var a=Math.abs(t),A=i;if(a===0)return e[0]+A;for(var u=0;a>0&&u<=4;u++){var f=a%10;f===0&&Ai(s,ud)&&A!==""?A=e[f]+A:f>1||f===1&&u===0||f===1&&u===1&&Ai(s,AA)||f===1&&u===1&&Ai(s,cA)&&t>100||f===1&&u>1&&Ai(s,oh)?A=e[f]+(u>0?n[u-1]:"")+A:f===1&&u>0&&(A=n[u-1]+A),a=Math.floor(a/10)}return(t<0?r:"")+A},ET="",ST="",TT="",f2="",Dh=function(t,e,n){var r=n?". ":"",i=n?"":"",s=n?", ":"",a=n?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var A=Pr(t,48,57,!0,r);return A.length<4?"0"+A:A;case 4:return xc(t,"",i);case 6:return sd(t,1,3999,BT,3,r).toLowerCase();case 7:return sd(t,1,3999,BT,3,r);case 8:return Pr(t,945,969,!1,r);case 9:return Pr(t,97,122,!1,r);case 10:return Pr(t,65,90,!1,r);case 11:return Pr(t,1632,1641,!0,r);case 12:case 49:return sd(t,1,9999,_T,3,r);case 35:return sd(t,1,9999,_T,3,r).toLowerCase();case 13:return Pr(t,2534,2543,!0,r);case 14:case 30:return Pr(t,6112,6121,!0,r);case 15:return xc(t,"",i);case 16:return xc(t,"",i);case 17:case 48:return rl(t,"",ET,"",i,AA|cA|oh);case 47:return rl(t,"",ST,"",i,ud|AA|cA|oh);case 42:return rl(t,"",ET,"",i,AA|cA|oh);case 41:return rl(t,"",ST,"",i,ud|AA|cA|oh);case 26:return rl(t,"","",TT,i,0);case 25:return rl(t,"","",TT,i,ud|AA|cA);case 31:return rl(t,"","",f2,s,ud|AA|cA);case 33:return rl(t,"","",f2,s,0);case 32:return rl(t,"","",f2,s,ud|AA|cA);case 18:return Pr(t,2406,2415,!0,r);case 20:return sd(t,1,19999,bce,3,r);case 21:return Pr(t,2790,2799,!0,r);case 22:return Pr(t,2662,2671,!0,r);case 22:return sd(t,1,10999,vce,3,r);case 23:return xc(t,"");case 24:return xc(t,"");case 27:return Pr(t,3302,3311,!0,r);case 28:return xc(t,"",i);case 29:return xc(t,"",i);case 34:return Pr(t,3792,3801,!0,r);case 37:return Pr(t,6160,6169,!0,r);case 38:return Pr(t,4160,4169,!0,r);case 39:return Pr(t,2918,2927,!0,r);case 40:return Pr(t,1776,1785,!0,r);case 43:return Pr(t,3046,3055,!0,r);case 44:return Pr(t,3174,3183,!0,r);case 45:return Pr(t,3664,3673,!0,r);case 46:return Pr(t,3872,3881,!0,r);case 3:default:return Pr(t,48,57,!0,r)}},aO="data-html2canvas-ignore",IT=(function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new yce,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=Cce(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,A=i.contentWindow,u=A.document,f=Ece(i).then(function(){return As(r,void 0,void 0,function(){var m,w;return Pi(this,function(C){switch(C.label){case 0:return this.scrolledElements.forEach(Nce),A&&(A.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==n.top||A.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-n.left,A.scrollY-n.top,0,0))),m=this.options.onclone,w=this.clonedReferenceElement,typeof w>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:C.sent(),C.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,_ce(u)]:[3,4];case 3:C.sent(),C.label=4;case 4:return typeof m=="function"?[2,Promise.resolve().then(function(){return m(u,w)}).then(function(){return i})]:[2,i]}})})});return u.open(),u.write(Tce(document.doctype)+"<html></html>"),Ice(this.referenceElement.ownerDocument,s,a),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),f},t.prototype.createElementClone=function(e){if(Pv(e,2))debugger;if(nO(e))return this.createCanvasClone(e);if(vT(e))return this.createVideoClone(e);if(bT(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return Gv(n)&&(Gv(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),CT(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return h2(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var A=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(A){var u=A.getContextAttributes();(u==null?void 0:u.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!wd(n)||!wce(n)&&!n.hasAttribute(aO)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!wd(n)||!bT(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(wd(s)&&iO(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(A){return i.appendChildNode(n,A,r)})}else this.appendChildNode(n,s,r)},t.prototype.cloneNode=function(e,n){if(eO(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&wd(e)&&(Kv(e)||$1(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),a=r.getComputedStyle(e,":before"),A=r.getComputedStyle(e,":after");this.referenceElement===e&&Kv(i)&&(this.clonedReferenceElement=i),SC(i)&&kce(i);var u=this.counters.parse(new aT(this.context,s)),f=this.resolvePseudoContent(e,i,a,wh.BEFORE);CT(e)&&(n=!0),vT(e)||this.cloneChildNodes(e,i,n),f&&i.insertBefore(f,i.firstChild);var m=this.resolvePseudoContent(e,i,A,wh.AFTER);return m&&i.appendChild(m),this.counters.pop(u),(s&&(this.options.copyStyles||$1(e))&&!rO(e)||n)&&h2(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(ym(e)||vm(e))&&(ym(i)||vm(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var s=this;if(r){var a=r.content,A=n.ownerDocument;if(!(!A||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new aT(this.context,r));var u=new pAe(this.context,r),f=A.createElement("html2canvaspseudoelement");h2(r,f),u.content.forEach(function(w){if(w.type===0)f.appendChild(A.createTextNode(w.value));else if(w.type===22){var C=A.createElement("img");C.src=w.value,C.style.opacity="1",f.appendChild(C)}else if(w.type===18){if(w.name==="attr"){var B=w.values.filter(Yn);B.length&&f.appendChild(A.createTextNode(e.getAttribute(B[0].value)||""))}else if(w.name==="counter"){var E=w.values.filter(Td),I=E[0],M=E[1];if(I&&Yn(I)){var R=s.counters.getCounterValue(I.value),L=M&&Yn(M)?jv.parse(s.context,M.value):3;f.appendChild(A.createTextNode(Dh(R,L,!1)))}}else if(w.name==="counters"){var U=w.values.filter(Td),I=U[0],O=U[1],M=U[2];if(I&&Yn(I)){var F=s.counters.getCounterValues(I.value),Q=M&&Yn(M)?jv.parse(s.context,M.value):3,D=O&&O.type===0?O.value:"",j=F.map(function(Y){return Dh(Y,Q,!1)}).join(D);f.appendChild(A.createTextNode(j))}}}else if(w.type===20)switch(w.value){case"open-quote":f.appendChild(A.createTextNode(sT(u.quotes,s.quoteDepth++,!0)));break;case"close-quote":f.appendChild(A.createTextNode(sT(u.quotes,--s.quoteDepth,!1)));break;default:f.appendChild(A.createTextNode(w.value))}}),f.className=$v+" "+Wv;var m=i===wh.BEFORE?" "+$v:" "+Wv;return $1(n)?n.className.baseValue+=m:n.className+=m,f}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),wh;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(wh||(wh={}));var Cce=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(aO,"true"),t.body.appendChild(n),n},Bce=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},_ce=function(t){return Promise.all([].slice.call(t.images,0).map(Bce))},Ece=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},Sce=["all","d","content"],h2=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);Sce.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},Tce=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Ice=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},Nce=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},Oce=":before",Mce=":after",$v="___html2canvas___pseudoelement_before",Wv="___html2canvas___pseudoelement_after",NT=`{
    content: "" !important;
    display: none !important;
}`,kce=function(t){Fce(t,"."+$v+Oce+NT+`
         .`+Wv+Mce+NT)},Fce=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},oO=(function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),Dce=(function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(g2(e)||Qce(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return As(this,void 0,void 0,function(){var n,r,i,s,a=this;return Pi(this,function(A){switch(A.label){case 0:return n=oO.isSameOrigin(e),r=!p2(e)&&this._options.useCORS===!0&&Oi.SUPPORT_CORS_IMAGES&&!n,i=!p2(e)&&!n&&!g2(e)&&typeof this._options.proxy=="string"&&Oi.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!p2(e)&&!g2(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(u,f){var m=new Image;m.onload=function(){return u(m)},m.onerror=f,(Hce(s)||r)&&(m.crossOrigin="anonymous"),m.src=s,m.complete===!0&&setTimeout(function(){return u(m)},500),a._options.imageTimeout>0&&setTimeout(function(){return f("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var A=Oi.SUPPORT_RESPONSE_TYPE?"blob":"text",u=new XMLHttpRequest;u.onload=function(){if(u.status===200)if(A==="text")s(u.response);else{var w=new FileReader;w.addEventListener("load",function(){return s(w.result)},!1),w.addEventListener("error",function(C){return a(C)},!1),w.readAsDataURL(u.response)}else a("Failed to proxy resource "+i+" with status code "+u.status)},u.onerror=a;var f=r.indexOf("?")>-1?"&":"?";if(u.open("GET",""+r+f+"url="+encodeURIComponent(e)+"&responseType="+A),A!=="text"&&u instanceof XMLHttpRequest&&(u.responseType=A),n._options.imageTimeout){var m=n._options.imageTimeout;u.timeout=m,u.ontimeout=function(){return a("Timed out ("+m+"ms) proxying "+i)}}u.send()})},t})(),Rce=/^data:image\/svg\+xml/i,Lce=/^data:image\/.*;base64,/i,Uce=/^data:image\/.*/i,Qce=function(t){return Oi.SUPPORT_SVG_DRAWING||!jce(t)},p2=function(t){return Uce.test(t)},Hce=function(t){return Lce.test(t)},g2=function(t){return t.substr(0,4)==="blob"},jce=function(t){return t.substr(-3).toLowerCase()==="svg"||Rce.test(t)},At=(function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t})(),ad=function(t,e,n){return new At(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},w1=(function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=ad(this.start,this.startControl,e),i=ad(this.startControl,this.endControl,e),s=ad(this.endControl,this.end,e),a=ad(r,i,e),A=ad(i,s,e),u=ad(a,A,e);return n?new t(this.start,r,a,u):new t(u,A,s,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),_a=function(t){return t.type===1},Pce=(function(){function t(e){var n=e.styles,r=e.bounds,i=sh(n.borderTopLeftRadius,r.width,r.height),s=i[0],a=i[1],A=sh(n.borderTopRightRadius,r.width,r.height),u=A[0],f=A[1],m=sh(n.borderBottomRightRadius,r.width,r.height),w=m[0],C=m[1],B=sh(n.borderBottomLeftRadius,r.width,r.height),E=B[0],I=B[1],M=[];M.push((s+u)/r.width),M.push((E+w)/r.width),M.push((a+I)/r.height),M.push((f+C)/r.height);var R=Math.max.apply(Math,M);R>1&&(s/=R,a/=R,u/=R,f/=R,w/=R,C/=R,E/=R,I/=R);var L=r.width-u,U=r.height-C,O=r.width-w,F=r.height-I,Q=n.borderTopWidth,D=n.borderRightWidth,j=n.borderBottomWidth,V=n.borderLeftWidth,W=ar(n.paddingTop,e.bounds.width),Y=ar(n.paddingRight,e.bounds.width),J=ar(n.paddingBottom,e.bounds.width),re=ar(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?wr(r.left+V/3,r.top+Q/3,s-V/3,a-Q/3,Qn.TOP_LEFT):new At(r.left+V/3,r.top+Q/3),this.topRightBorderDoubleOuterBox=s>0||a>0?wr(r.left+L,r.top+Q/3,u-D/3,f-Q/3,Qn.TOP_RIGHT):new At(r.left+r.width-D/3,r.top+Q/3),this.bottomRightBorderDoubleOuterBox=w>0||C>0?wr(r.left+O,r.top+U,w-D/3,C-j/3,Qn.BOTTOM_RIGHT):new At(r.left+r.width-D/3,r.top+r.height-j/3),this.bottomLeftBorderDoubleOuterBox=E>0||I>0?wr(r.left+V/3,r.top+F,E-V/3,I-j/3,Qn.BOTTOM_LEFT):new At(r.left+V/3,r.top+r.height-j/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?wr(r.left+V*2/3,r.top+Q*2/3,s-V*2/3,a-Q*2/3,Qn.TOP_LEFT):new At(r.left+V*2/3,r.top+Q*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?wr(r.left+L,r.top+Q*2/3,u-D*2/3,f-Q*2/3,Qn.TOP_RIGHT):new At(r.left+r.width-D*2/3,r.top+Q*2/3),this.bottomRightBorderDoubleInnerBox=w>0||C>0?wr(r.left+O,r.top+U,w-D*2/3,C-j*2/3,Qn.BOTTOM_RIGHT):new At(r.left+r.width-D*2/3,r.top+r.height-j*2/3),this.bottomLeftBorderDoubleInnerBox=E>0||I>0?wr(r.left+V*2/3,r.top+F,E-V*2/3,I-j*2/3,Qn.BOTTOM_LEFT):new At(r.left+V*2/3,r.top+r.height-j*2/3),this.topLeftBorderStroke=s>0||a>0?wr(r.left+V/2,r.top+Q/2,s-V/2,a-Q/2,Qn.TOP_LEFT):new At(r.left+V/2,r.top+Q/2),this.topRightBorderStroke=s>0||a>0?wr(r.left+L,r.top+Q/2,u-D/2,f-Q/2,Qn.TOP_RIGHT):new At(r.left+r.width-D/2,r.top+Q/2),this.bottomRightBorderStroke=w>0||C>0?wr(r.left+O,r.top+U,w-D/2,C-j/2,Qn.BOTTOM_RIGHT):new At(r.left+r.width-D/2,r.top+r.height-j/2),this.bottomLeftBorderStroke=E>0||I>0?wr(r.left+V/2,r.top+F,E-V/2,I-j/2,Qn.BOTTOM_LEFT):new At(r.left+V/2,r.top+r.height-j/2),this.topLeftBorderBox=s>0||a>0?wr(r.left,r.top,s,a,Qn.TOP_LEFT):new At(r.left,r.top),this.topRightBorderBox=u>0||f>0?wr(r.left+L,r.top,u,f,Qn.TOP_RIGHT):new At(r.left+r.width,r.top),this.bottomRightBorderBox=w>0||C>0?wr(r.left+O,r.top+U,w,C,Qn.BOTTOM_RIGHT):new At(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=E>0||I>0?wr(r.left,r.top+F,E,I,Qn.BOTTOM_LEFT):new At(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||a>0?wr(r.left+V,r.top+Q,Math.max(0,s-V),Math.max(0,a-Q),Qn.TOP_LEFT):new At(r.left+V,r.top+Q),this.topRightPaddingBox=u>0||f>0?wr(r.left+Math.min(L,r.width-D),r.top+Q,L>r.width+D?0:Math.max(0,u-D),Math.max(0,f-Q),Qn.TOP_RIGHT):new At(r.left+r.width-D,r.top+Q),this.bottomRightPaddingBox=w>0||C>0?wr(r.left+Math.min(O,r.width-V),r.top+Math.min(U,r.height-j),Math.max(0,w-D),Math.max(0,C-j),Qn.BOTTOM_RIGHT):new At(r.left+r.width-D,r.top+r.height-j),this.bottomLeftPaddingBox=E>0||I>0?wr(r.left+V,r.top+Math.min(F,r.height-j),Math.max(0,E-V),Math.max(0,I-j),Qn.BOTTOM_LEFT):new At(r.left+V,r.top+r.height-j),this.topLeftContentBox=s>0||a>0?wr(r.left+V+re,r.top+Q+W,Math.max(0,s-(V+re)),Math.max(0,a-(Q+W)),Qn.TOP_LEFT):new At(r.left+V+re,r.top+Q+W),this.topRightContentBox=u>0||f>0?wr(r.left+Math.min(L,r.width+V+re),r.top+Q+W,L>r.width+V+re?0:u-V+re,f-(Q+W),Qn.TOP_RIGHT):new At(r.left+r.width-(D+Y),r.top+Q+W),this.bottomRightContentBox=w>0||C>0?wr(r.left+Math.min(O,r.width-(V+re)),r.top+Math.min(U,r.height+Q+W),Math.max(0,w-(D+Y)),C-(j+J),Qn.BOTTOM_RIGHT):new At(r.left+r.width-(D+Y),r.top+r.height-(j+J)),this.bottomLeftContentBox=E>0||I>0?wr(r.left+V+re,r.top+F,Math.max(0,E-(V+re)),I-(j+J),Qn.BOTTOM_LEFT):new At(r.left+V+re,r.top+r.height-(j+J))}return t})(),Qn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Qn||(Qn={}));var wr=function(t,e,n,r,i){var s=4*((Math.sqrt(2)-1)/3),a=n*s,A=r*s,u=t+n,f=e+r;switch(i){case Qn.TOP_LEFT:return new w1(new At(t,f),new At(t,f-A),new At(u-a,e),new At(u,e));case Qn.TOP_RIGHT:return new w1(new At(t,e),new At(t+a,e),new At(u,f-A),new At(u,f));case Qn.BOTTOM_RIGHT:return new w1(new At(u,e),new At(u,e+A),new At(t+a,f),new At(t,f));case Qn.BOTTOM_LEFT:default:return new w1(new At(u,f),new At(u-a,f),new At(t,e+A),new At(t,e))}},bm=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},zce=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Cm=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Vce=(function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t})(),y1=(function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t})(),Kce=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),Gce=function(t){return t.type===0},lO=function(t){return t.type===1},$ce=function(t){return t.type===2},OT=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},Wce=function(t,e,n,r,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,n);case 1:return s.add(e+r,n);case 2:return s.add(e+r,n+i);case 3:return s.add(e,n+i)}return s})},AO=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),cO=(function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new Pce(this.container),this.container.styles.opacity<1&&this.effects.push(new Kce(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Vce(r,i,s))}if(this.container.styles.overflowX!==0){var a=bm(this.curves),A=Cm(this.curves);OT(a,A)?this.effects.push(new y1(a,6)):(this.effects.push(new y1(a,2)),this.effects.push(new y1(A,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(u){return!lO(u)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=bm(r.curves),A=Cm(r.curves);OT(a,A)||i.unshift(new y1(A,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(u){return Ai(u.target,e)})},t})(),Xv=function(t,e,n,r){t.container.elements.forEach(function(i){var s=Ai(i.flags,4),a=Ai(i.flags,2),A=new cO(i,t);Ai(i.styles.display,2048)&&r.push(A);var u=Ai(i.flags,8)?[]:r;if(s||a){var f=s||i.styles.isPositioned()?n:e,m=new AO(A);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var w=i.styles.zIndex.order;if(w<0){var C=0;f.negativeZIndex.some(function(E,I){return w>E.element.container.styles.zIndex.order?(C=I,!1):C>0}),f.negativeZIndex.splice(C,0,m)}else if(w>0){var B=0;f.positiveZIndex.some(function(E,I){return w>=E.element.container.styles.zIndex.order?(B=I+1,!1):B>0}),f.positiveZIndex.splice(B,0,m)}else f.zeroOrAutoZIndexOrTransformedOrOpacity.push(m)}else i.styles.isFloating()?f.nonPositionedFloats.push(m):f.nonPositionedInlineLevel.push(m);Xv(A,m,s?m:n,u)}else i.styles.isInlineLevel()?e.inlineLevel.push(A):e.nonInlineLevel.push(A),Xv(A,e,n,u);Ai(i.flags,8)&&uO(i,u)})},uO=function(t,e){for(var n=t instanceof Vv?t.start:1,r=t instanceof Vv?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof W6&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=Dh(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},Xce=function(t){var e=new cO(t,null),n=new AO(e),r=[];return Xv(e,n,n,r),uO(e.container,r),n},MT=function(t,e){switch(e){case 0:return Ta(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ta(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ta(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ta(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},qce=function(t,e){switch(e){case 0:return Ta(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ta(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ta(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ta(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Yce=function(t,e){switch(e){case 0:return Ta(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ta(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ta(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ta(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Zce=function(t,e){switch(e){case 0:return v1(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return v1(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return v1(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return v1(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},v1=function(t,e){var n=[];return _a(t)?n.push(t.subdivide(.5,!1)):n.push(t),_a(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Ta=function(t,e,n,r){var i=[];return _a(t)?i.push(t.subdivide(.5,!1)):i.push(t),_a(n)?i.push(n.subdivide(.5,!0)):i.push(n),_a(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),_a(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},dO=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Bm=function(t){var e=t.styles,n=t.bounds,r=ar(e.paddingLeft,n.width),i=ar(e.paddingRight,n.width),s=ar(e.paddingTop,n.width),a=ar(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},Jce=function(t,e){return t===0?e.bounds:t===2?Bm(e):dO(e)},eue=function(t,e){return t===0?e.bounds:t===2?Bm(e):dO(e)},m2=function(t,e,n){var r=Jce(dd(t.styles.backgroundOrigin,e),t),i=eue(dd(t.styles.backgroundClip,e),t),s=tue(dd(t.styles.backgroundSize,e),n,r),a=s[0],A=s[1],u=sh(dd(t.styles.backgroundPosition,e),r.width-a,r.height-A),f=nue(dd(t.styles.backgroundRepeat,e),u,s,r,i),m=Math.round(r.left+u[0]),w=Math.round(r.top+u[1]);return[f,m,w,a,A]},od=function(t){return Yn(t)&&t.value===Cd.AUTO},b1=function(t){return typeof t=="number"},tue=function(t,e,n){var r=e[0],i=e[1],s=e[2],a=t[0],A=t[1];if(!a)return[0,0];if(ti(a)&&A&&ti(A))return[ar(a,n.width),ar(A,n.height)];var u=b1(s);if(Yn(a)&&(a.value===Cd.CONTAIN||a.value===Cd.COVER)){if(b1(s)){var f=n.width/n.height;return f<s!=(a.value===Cd.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var m=b1(r),w=b1(i),C=m||w;if(od(a)&&(!A||od(A))){if(m&&w)return[r,i];if(!u&&!C)return[n.width,n.height];if(C&&u){var B=m?r:i*s,E=w?i:r/s;return[B,E]}var I=m?r:n.width,M=w?i:n.height;return[I,M]}if(u){var R=0,L=0;return ti(a)?R=ar(a,n.width):ti(A)&&(L=ar(A,n.height)),od(a)?R=L*s:(!A||od(A))&&(L=R/s),[R,L]}var U=null,O=null;if(ti(a)?U=ar(a,n.width):A&&ti(A)&&(O=ar(A,n.height)),U!==null&&(!A||od(A))&&(O=m&&w?U/r*i:n.height),O!==null&&od(a)&&(U=m&&w?O/i*r:n.width),U!==null&&O!==null)return[U,O];throw new Error("Unable to calculate background-size for element")},dd=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},nue=function(t,e,n,r,i){var s=e[0],a=e[1],A=n[0],u=n[1];switch(t){case 2:return[new At(Math.round(r.left),Math.round(r.top+a)),new At(Math.round(r.left+r.width),Math.round(r.top+a)),new At(Math.round(r.left+r.width),Math.round(u+r.top+a)),new At(Math.round(r.left),Math.round(u+r.top+a))];case 3:return[new At(Math.round(r.left+s),Math.round(r.top)),new At(Math.round(r.left+s+A),Math.round(r.top)),new At(Math.round(r.left+s+A),Math.round(r.height+r.top)),new At(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new At(Math.round(r.left+s),Math.round(r.top+a)),new At(Math.round(r.left+s+A),Math.round(r.top+a)),new At(Math.round(r.left+s+A),Math.round(r.top+a+u)),new At(Math.round(r.left+s),Math.round(r.top+a+u))];default:return[new At(Math.round(i.left),Math.round(i.top)),new At(Math.round(i.left+i.width),Math.round(i.top)),new At(Math.round(i.left+i.width),Math.round(i.height+i.top)),new At(Math.round(i.left),Math.round(i.height+i.top))]}},rue="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",kT="Hidden Text",iue=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),i.src=rue,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(kT)),r.appendChild(s),r.appendChild(i);var A=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(kT)),r.style.lineHeight="normal",i.style.verticalAlign="super";var u=i.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:A,middle:u}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t})(),fO=(function(){function t(e,n){this.context=e,this.options=n}return t})(),sue=1e4,aue=(function(t){$a(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new iue(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),$ce(n)&&(this.ctx.globalAlpha=n.opacity),Gce(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),lO(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return As(this,void 0,void 0,function(){var r;return Pi(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return As(this,void 0,void 0,function(){return Pi(this,function(r){switch(r.label){case 0:if(Ai(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var a=_C(n.text);a.reduce(function(A,u){return s.ctx.fillText(u,A,n.bounds.top+i),A+s.ctx.measureText(u).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=uue(n.fontFamily).join(", "),s=op(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(n,r){return As(this,void 0,void 0,function(){var i,s,a,A,u,f,m,w,C=this;return Pi(this,function(B){return i=this.createFontStyle(r),s=i[0],a=i[1],A=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",u=this.fontMetrics.getMetrics(a,A),f=u.baseline,m=u.middle,w=r.paintOrder,n.textBounds.forEach(function(E){w.forEach(function(I){switch(I){case 0:C.ctx.fillStyle=mi(r.color),C.renderTextWithLetterSpacing(E,r.letterSpacing,f);var M=r.textShadow;M.length&&E.text.trim().length&&(M.slice(0).reverse().forEach(function(R){C.ctx.shadowColor=mi(R.color),C.ctx.shadowOffsetX=R.offsetX.number*C.options.scale,C.ctx.shadowOffsetY=R.offsetY.number*C.options.scale,C.ctx.shadowBlur=R.blur.number,C.renderTextWithLetterSpacing(E,r.letterSpacing,f)}),C.ctx.shadowColor="",C.ctx.shadowOffsetX=0,C.ctx.shadowOffsetY=0,C.ctx.shadowBlur=0),r.textDecorationLine.length&&(C.ctx.fillStyle=mi(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(R){switch(R){case 1:C.ctx.fillRect(E.bounds.left,Math.round(E.bounds.top+f),E.bounds.width,1);break;case 2:C.ctx.fillRect(E.bounds.left,Math.round(E.bounds.top),E.bounds.width,1);break;case 3:C.ctx.fillRect(E.bounds.left,Math.ceil(E.bounds.top+m),E.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&E.text.trim().length&&(C.ctx.strokeStyle=mi(r.webkitTextStrokeColor),C.ctx.lineWidth=r.webkitTextStrokeWidth,C.ctx.lineJoin=window.chrome?"miter":"round",C.ctx.strokeText(E.text,E.bounds.left,E.bounds.top+f)),C.ctx.strokeStyle="",C.ctx.lineWidth=0,C.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=Bm(n),a=Cm(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return As(this,void 0,void 0,function(){var r,i,s,a,A,u,L,L,f,m,w,C,O,B,E,F,I,M,R,L,U,O,F;return Pi(this,function(Q){switch(Q.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,a=0,A=r.textNodes,Q.label=1;case 1:return a<A.length?(u=A[a],[4,this.renderTextNode(u,s)]):[3,4];case 2:Q.sent(),Q.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof K6))return[3,8];Q.label=5;case 5:return Q.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return L=Q.sent(),this.renderReplacedElement(r,i,L),[3,8];case 7:return Q.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof G6&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof $6))return[3,12];Q.label=9;case 9:return Q.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return L=Q.sent(),this.renderReplacedElement(r,i,L),[3,12];case 11:return Q.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Y6&&r.tree?(f=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,f.render(r.tree)]):[3,14];case 13:m=Q.sent(),r.width&&r.height&&this.ctx.drawImage(m,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),Q.label=14;case 14:if(r instanceof EC&&(w=Math.min(r.bounds.width,r.bounds.height),r.type===xm?r.checked&&(this.ctx.save(),this.path([new At(r.bounds.left+w*.39363,r.bounds.top+w*.79),new At(r.bounds.left+w*.16,r.bounds.top+w*.5549),new At(r.bounds.left+w*.27347,r.bounds.top+w*.44071),new At(r.bounds.left+w*.39694,r.bounds.top+w*.5649),new At(r.bounds.left+w*.72983,r.bounds.top+w*.23),new At(r.bounds.left+w*.84,r.bounds.top+w*.34085),new At(r.bounds.left+w*.39363,r.bounds.top+w*.79)]),this.ctx.fillStyle=mi(yT),this.ctx.fill(),this.ctx.restore()):r.type===wm&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+w/2,r.bounds.top+w/2,w/4,0,Math.PI*2,!0),this.ctx.fillStyle=mi(yT),this.ctx.fill(),this.ctx.restore())),oue(r)&&r.value.length){switch(C=this.createFontStyle(s),O=C[0],B=C[1],E=this.fontMetrics.getMetrics(O,B).baseline,this.ctx.font=O,this.ctx.fillStyle=mi(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Aue(r.styles.textAlign),F=Bm(r),I=0,r.styles.textAlign){case 1:I+=F.width/2;break;case 2:I+=F.width;break}M=F.add(I,0,0,-F.height/2+1),this.ctx.save(),this.path([new At(F.left,F.top),new At(F.left+F.width,F.top),new At(F.left+F.width,F.top+F.height),new At(F.left,F.top+F.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new xh(r.value,M),s.letterSpacing,E),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ai(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(R=r.styles.listStyleImage,R.type!==0)return[3,18];L=void 0,U=R.url,Q.label=15;case 15:return Q.trys.push([15,17,,18]),[4,this.context.cache.match(U)];case 16:return L=Q.sent(),this.ctx.drawImage(L,r.bounds.left-(L.width+10),r.bounds.top),[3,18];case 17:return Q.sent(),this.context.logger.error("Error loading list-style-image "+U),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(O=this.createFontStyle(s)[0],this.ctx.font=O,this.ctx.fillStyle=mi(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",F=new yl(r.bounds.left,r.bounds.top+ar(r.styles.paddingTop,r.bounds.width),r.bounds.width,rT(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new xh(n.listValue,F),s.letterSpacing,rT(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Q.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return As(this,void 0,void 0,function(){var r,i,R,s,a,R,A,u,R,f,m,R,w,C,R,B,E,R,I,M,R;return Pi(this,function(L){switch(L.label){case 0:if(Ai(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:L.sent(),r=0,i=n.negativeZIndex,L.label=2;case 2:return r<i.length?(R=i[r],[4,this.renderStack(R)]):[3,5];case 3:L.sent(),L.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:L.sent(),s=0,a=n.nonInlineLevel,L.label=7;case 7:return s<a.length?(R=a[s],[4,this.renderNode(R)]):[3,10];case 8:L.sent(),L.label=9;case 9:return s++,[3,7];case 10:A=0,u=n.nonPositionedFloats,L.label=11;case 11:return A<u.length?(R=u[A],[4,this.renderStack(R)]):[3,14];case 12:L.sent(),L.label=13;case 13:return A++,[3,11];case 14:f=0,m=n.nonPositionedInlineLevel,L.label=15;case 15:return f<m.length?(R=m[f],[4,this.renderStack(R)]):[3,18];case 16:L.sent(),L.label=17;case 17:return f++,[3,15];case 18:w=0,C=n.inlineLevel,L.label=19;case 19:return w<C.length?(R=C[w],[4,this.renderNode(R)]):[3,22];case 20:L.sent(),L.label=21;case 21:return w++,[3,19];case 22:B=0,E=n.zeroOrAutoZIndexOrTransformedOrOpacity,L.label=23;case 23:return B<E.length?(R=E[B],[4,this.renderStack(R)]):[3,26];case 24:L.sent(),L.label=25;case 25:return B++,[3,23];case 26:I=0,M=n.positiveZIndex,L.label=27;case 27:return I<M.length?(R=M[I],[4,this.renderStack(R)]):[3,30];case 28:L.sent(),L.label=29;case 29:return I++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var a=_a(i)?i.start:i;s===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),_a(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,A=a.createElement("canvas");A.width=Math.max(1,r),A.height=Math.max(1,i);var u=A.getContext("2d");return u.drawImage(n,0,0,n.width,n.height,0,0,r,i),A},e.prototype.renderBackgroundImage=function(n){return As(this,void 0,void 0,function(){var r,i,s,a,A,u;return Pi(this,function(f){switch(f.label){case 0:r=n.styles.backgroundImage.length-1,i=function(m){var w,C,B,W,ie,ae,re,te,j,E,W,ie,ae,re,te,I,M,R,L,U,O,F,Q,D,j,V,W,Y,J,re,te,q,ie,ae,se,me,ke,ne,he,Ne,ye,Ge;return Pi(this,function(De){switch(De.label){case 0:if(m.type!==0)return[3,5];w=void 0,C=m.url,De.label=1;case 1:return De.trys.push([1,3,,4]),[4,s.context.cache.match(C)];case 2:return w=De.sent(),[3,4];case 3:return De.sent(),s.context.logger.error("Error loading background-image "+C),[3,4];case 4:return w&&(B=m2(n,r,[w.width,w.height,w.width/w.height]),W=B[0],ie=B[1],ae=B[2],re=B[3],te=B[4],j=s.ctx.createPattern(s.resizeImage(w,re,te),"repeat"),s.renderRepeat(W,j,ie,ae)),[3,6];case 5:Goe(m)?(E=m2(n,r,[null,null,null]),W=E[0],ie=E[1],ae=E[2],re=E[3],te=E[4],I=joe(m.angle,re,te),M=I[0],R=I[1],L=I[2],U=I[3],O=I[4],F=document.createElement("canvas"),F.width=re,F.height=te,Q=F.getContext("2d"),D=Q.createLinearGradient(R,U,L,O),tT(m.stops,M).forEach(function(et){return D.addColorStop(et.stop,mi(et.color))}),Q.fillStyle=D,Q.fillRect(0,0,re,te),re>0&&te>0&&(j=s.ctx.createPattern(F,"repeat"),s.renderRepeat(W,j,ie,ae))):$oe(m)&&(V=m2(n,r,[null,null,null]),W=V[0],Y=V[1],J=V[2],re=V[3],te=V[4],q=m.position.length===0?[bC]:m.position,ie=ar(q[0],re),ae=ar(q[q.length-1],te),se=Poe(m,ie,ae,re,te),me=se[0],ke=se[1],me>0&&ke>0&&(ne=s.ctx.createRadialGradient(Y+ie,J+ae,0,Y+ie,J+ae,me),tT(m.stops,me*2).forEach(function(et){return ne.addColorStop(et.stop,mi(et.color))}),s.path(W),s.ctx.fillStyle=ne,me!==ke?(he=n.bounds.left+.5*n.bounds.width,Ne=n.bounds.top+.5*n.bounds.height,ye=ke/me,Ge=1/ye,s.ctx.save(),s.ctx.translate(he,Ne),s.ctx.transform(1,0,0,ye,0,0),s.ctx.translate(-he,-Ne),s.ctx.fillRect(Y,Ge*(J-Ne)+Ne,re,te*Ge),s.ctx.restore()):s.ctx.fill())),De.label=6;case 6:return r--,[2]}})},s=this,a=0,A=n.styles.backgroundImage.slice(0).reverse(),f.label=1;case 1:return a<A.length?(u=A[a],[5,i(u)]):[3,4];case 2:f.sent(),f.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return As(this,void 0,void 0,function(){return Pi(this,function(s){return this.path(MT(i,r)),this.ctx.fillStyle=mi(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,s){return As(this,void 0,void 0,function(){var a,A;return Pi(this,function(u){switch(u.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return u.sent(),[2];case 2:return a=qce(s,i),this.path(a),this.ctx.fillStyle=mi(n),this.ctx.fill(),A=Yce(s,i),this.path(A),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return As(this,void 0,void 0,function(){var r,i,s,a,A,u,f,m,w=this;return Pi(this,function(C){switch(C.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!NA(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=lue(dd(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),NA(r.backgroundColor)||(this.ctx.fillStyle=mi(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:C.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(B){w.ctx.save();var E=bm(n.curves),I=B.inset?0:sue,M=Wce(E,-I+(B.inset?1:-1)*B.spread.number,(B.inset?1:-1)*B.spread.number,B.spread.number*(B.inset?-2:2),B.spread.number*(B.inset?-2:2));B.inset?(w.path(E),w.ctx.clip(),w.mask(M)):(w.mask(E),w.ctx.clip(),w.path(M)),w.ctx.shadowOffsetX=B.offsetX.number+I,w.ctx.shadowOffsetY=B.offsetY.number,w.ctx.shadowColor=mi(B.color),w.ctx.shadowBlur=B.blur.number,w.ctx.fillStyle=B.inset?mi(B.color):"rgba(0,0,0,1)",w.ctx.fill(),w.ctx.restore()}),C.label=2;case 2:A=0,u=0,f=s,C.label=3;case 3:return u<f.length?(m=f[u],m.style!==0&&!NA(m.color)&&m.width>0?m.style!==2?[3,5]:[4,this.renderDashedDottedBorder(m.color,m.width,A,n.curves,2)]:[3,11]):[3,13];case 4:return C.sent(),[3,11];case 5:return m.style!==3?[3,7]:[4,this.renderDashedDottedBorder(m.color,m.width,A,n.curves,3)];case 6:return C.sent(),[3,11];case 7:return m.style!==4?[3,9]:[4,this.renderDoubleBorder(m.color,m.width,A,n.curves)];case 8:return C.sent(),[3,11];case 9:return[4,this.renderSolidBorder(m.color,A,n.curves)];case 10:C.sent(),C.label=11;case 11:A++,C.label=12;case 12:return u++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,s,a){return As(this,void 0,void 0,function(){var A,u,f,m,w,C,B,E,I,M,R,L,U,O,F,Q,F,Q;return Pi(this,function(D){return this.ctx.save(),A=Zce(s,i),u=MT(s,i),a===2&&(this.path(u),this.ctx.clip()),_a(u[0])?(f=u[0].start.x,m=u[0].start.y):(f=u[0].x,m=u[0].y),_a(u[1])?(w=u[1].end.x,C=u[1].end.y):(w=u[1].x,C=u[1].y),i===0||i===2?B=Math.abs(f-w):B=Math.abs(m-C),this.ctx.beginPath(),a===3?this.formatPath(A):this.formatPath(u.slice(0,2)),E=r<3?r*3:r*2,I=r<3?r*2:r,a===3&&(E=r,I=r),M=!0,B<=E*2?M=!1:B<=E*2+I?(R=B/(2*E+I),E*=R,I*=R):(L=Math.floor((B+I)/(E+I)),U=(B-L*E)/(L-1),O=(B-(L+1)*E)/L,I=O<=0||Math.abs(I-U)<Math.abs(I-O)?U:O),M&&(a===3?this.ctx.setLineDash([0,E+I]):this.ctx.setLineDash([E,I])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=mi(n),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(_a(u[0])&&(F=u[3],Q=u[0],this.ctx.beginPath(),this.formatPath([new At(F.end.x,F.end.y),new At(Q.start.x,Q.start.y)]),this.ctx.stroke()),_a(u[1])&&(F=u[1],Q=u[2],this.ctx.beginPath(),this.formatPath([new At(F.end.x,F.end.y),new At(Q.start.x,Q.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return As(this,void 0,void 0,function(){var r;return Pi(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=mi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=Xce(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(fO),oue=function(t){return t instanceof q6||t instanceof X6?!0:t instanceof EC&&t.type!==wm&&t.type!==xm},lue=function(t,e){switch(t){case 0:return bm(e);case 2:return zce(e);case 1:default:return Cm(e)}},Aue=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},cue=["-apple-system","system-ui"],uue=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return cue.indexOf(e)===-1}):t},due=(function(t){$a(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return As(this,void 0,void 0,function(){var r,i;return Pi(this,function(s){switch(s.label){case 0:return r=zv(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,fue(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=mi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(fO),fue=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},hue=(function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,e1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,e1([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,e1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,e1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),pue=(function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new hue({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new Dce(this,e)}return t.instanceCount=1,t})(),gue=function(t,e){return e===void 0&&(e={}),mue(t,e)};typeof window<"u"&&oO.setContext(window);var mue=function(t,e){return As(void 0,void 0,void 0,function(){var n,r,i,s,a,A,u,f,m,w,C,B,E,I,M,R,L,U,O,F,D,Q,D,j,V,W,Y,J,re,te,q,ie,ae,se,me,ke,ne,he,Ne,ye;return Pi(this,function(Ge){switch(Ge.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(j=e.allowTaint)!==null&&j!==void 0?j:!1,imageTimeout:(V=e.imageTimeout)!==null&&V!==void 0?V:15e3,proxy:e.proxy,useCORS:(W=e.useCORS)!==null&&W!==void 0?W:!1},s=Tv({logging:(Y=e.logging)!==null&&Y!==void 0?Y:!0,cache:e.cache},i),a={windowWidth:(J=e.windowWidth)!==null&&J!==void 0?J:r.innerWidth,windowHeight:(re=e.windowHeight)!==null&&re!==void 0?re:r.innerHeight,scrollX:(te=e.scrollX)!==null&&te!==void 0?te:r.pageXOffset,scrollY:(q=e.scrollY)!==null&&q!==void 0?q:r.pageYOffset},A=new yl(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),u=new pue(s,A),f=(ie=e.foreignObjectRendering)!==null&&ie!==void 0?ie:!1,m={allowTaint:(ae=e.allowTaint)!==null&&ae!==void 0?ae:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:f,copyStyles:f},u.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),w=new IT(u,t,m),C=w.clonedReferenceElement,C?[4,w.toIFrame(n,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return B=Ge.sent(),E=SC(C)||xce(C)?Wse(C.ownerDocument):F0(u,C),I=E.width,M=E.height,R=E.left,L=E.top,U=xue(u,C,e.backgroundColor),O={canvas:e.canvas,backgroundColor:U,scale:(me=(se=e.scale)!==null&&se!==void 0?se:r.devicePixelRatio)!==null&&me!==void 0?me:1,x:((ke=e.x)!==null&&ke!==void 0?ke:0)+R,y:((ne=e.y)!==null&&ne!==void 0?ne:0)+L,width:(he=e.width)!==null&&he!==void 0?he:Math.ceil(I),height:(Ne=e.height)!==null&&Ne!==void 0?Ne:Math.ceil(M)},f?(u.logger.debug("Document cloned, using foreign object rendering"),D=new due(u,O),[4,D.render(C)]):[3,3];case 2:return F=Ge.sent(),[3,5];case 3:return u.logger.debug("Document cloned, element located at "+R+","+L+" with size "+I+"x"+M+" using computed rendering"),u.logger.debug("Starting DOM parsing"),Q=J6(u,C),U===Q.styles.backgroundColor&&(Q.styles.backgroundColor=gl.TRANSPARENT),u.logger.debug("Starting renderer for element at "+O.x+","+O.y+" with size "+O.width+"x"+O.height),D=new aue(u,O),[4,D.render(Q)];case 4:F=Ge.sent(),Ge.label=5;case 5:return(!((ye=e.removeContainer)!==null&&ye!==void 0)||ye)&&(IT.destroy(B)||u.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),u.logger.debug("Finished rendering"),[2,F]}})})},xue=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?gh(t,getComputedStyle(r.documentElement).backgroundColor):gl.TRANSPARENT,s=r.body?gh(t,getComputedStyle(r.body).backgroundColor):gl.TRANSPARENT,a=typeof n=="string"?gh(t,n):n===null?gl.TRANSPARENT:4294967295;return e===r.documentElement?NA(i)?NA(s)?a:s:i:a};function wue({initialTheme:t="",initialOthers:e="",showTitle:n=!0}){const[r,i]=H.useState(t),[s,a]=H.useState(e),[A,u]=H.useState([]),[f,m]=H.useState(!1),w=H.useRef([]),{showAlert:C}=Kn();H.useEffect(()=>{t&&i(t),e!==void 0&&a(e)},[t,e]),new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});const B=async()=>{var R,L;if(u([]),m(!0),!r.trim()){u(["  ."]),m(!1);return}try{const U=await nt.post("/api/console/invitation/create",{eventTopic:r,userRequirements:s||""}),{data:O}=U;O&&typeof O=="string"?u([O]):Array.isArray(O)?u(O):O.invitations&&Array.isArray(O.invitations)?u(O.invitations):u([" ."])}catch(U){console.error("API  :",U),((R=U.response)==null?void 0:R.status)===401?u([" .  ."]):((L=U.response)==null?void 0:L.status)===403?u([" ."]):u([`API  : ${U.message}`])}finally{m(!1)}},E=async(R,L)=>{var U,O;if(R.trim())try{const Q=(await nt.post("/api/console/invitation/refine",{selectedInvitation:R,eventTopic:r,userRequirements:"   "})).data,D=Array.isArray(Q)?Q[0]:Q;u(j=>j.map((V,W)=>W===L?D:V))}catch(F){console.error(" API  :",F),((U=F.response)==null?void 0:U.status)===401?C(" .  ."):((O=F.response)==null?void 0:O.status)===403?C(" ."):C("  .","error")}},I=async R=>{try{await navigator.clipboard.writeText(R),C(" !")}catch(L){console.error(" :",L);const U=document.createElement("textarea");U.value=R,document.body.appendChild(U),U.select();try{document.execCommand("copy"),C(" !")}catch{C(" .","error")}document.body.removeChild(U)}},M=async R=>{const L=w.current[R];if(L)try{const U=await gue(L,{backgroundColor:"#ffffff",scale:2,useCORS:!0}),O=document.createElement("a");O.download=`_${R+1}.png`,O.href=U.toDataURL("image/png"),O.click(),C(" !")}catch(U){console.error(" :",U),C("  .","error")}};return g.jsxs("div",{className:Hi.page,children:[g.jsxs("div",{className:Hi.formArea,children:[g.jsx("label",{className:Hi.label,children:" "}),g.jsx("input",{type:"text",value:r,onChange:R=>i(R.target.value),placeholder:":  ,  ",className:Hi.input}),g.jsx("label",{className:Hi.label,children:""}),g.jsx("textarea",{value:s,onChange:R=>a(R.target.value),placeholder:": #, #, # ",className:Hi.textarea}),g.jsx("button",{onClick:B,className:Hi.submitButton,disabled:f,children:f?" ...":" "})]}),g.jsx("div",{className:Hi.resultArea,children:A.length>0?A.map((R,L)=>g.jsxs("div",{className:Hi.resultCard,children:[g.jsxs("div",{className:Hi.cardHeader,children:[g.jsxs("h3",{children:[" ",L+1]}),g.jsxs("div",{className:Hi.buttonGroup,children:[g.jsx("button",{className:Hi.copyButton,onClick:()=>I(R),title:"",children:" "}),g.jsx("button",{className:Hi.captureButton,onClick:()=>M(L),title:" ",children:" "}),g.jsx("button",{className:Hi.refineButton,onClick:()=>E(R,L),children:" "})]})]}),g.jsx("div",{className:Hi.textContent,ref:U=>w.current[L]=U,children:g.jsx("p",{children:R})})]},L)):g.jsx("div",{className:Hi.placeholder,children:"    ."})})]})}const yue="_container_1qhrc_1",vue="_contentBox_1qhrc_31",bue="_inputSection_1qhrc_53",Cue="_label_1qhrc_65",Bue="_textarea_1qhrc_77",_ue="_generateButton_1qhrc_97",Eue="_resultSection_1qhrc_117",Sue="_generatedImage_1qhrc_135",Tue="_downloadButton_1qhrc_151",Iue="_imagePlaceholder_1qhrc_175",Ao={container:yue,contentBox:vue,inputSection:bue,label:Cue,textarea:Bue,generateButton:_ue,resultSection:Eue,generatedImage:Sue,downloadButton:Tue,imagePlaceholder:Iue};function hO(){const[t,e]=H.useState(""),[n,r]=H.useState(null),[i,s]=H.useState(!1),a=async()=>{s(!0);try{const A=await $i.post("/api/console/images/generate",{text:t});console.log(A),r(A.data.image)}catch(A){console.error(A)}finally{s(!1)}};return g.jsx("div",{className:Ao.container,children:g.jsxs("div",{className:Ao.contentBox,children:[g.jsxs("div",{className:Ao.inputSection,children:[g.jsx("label",{className:Ao.label,children:"  "}),g.jsx("textarea",{value:t,onChange:A=>e(A.target.value),placeholder:":        ",className:Ao.textarea}),g.jsx("button",{onClick:a,className:Ao.generateButton,disabled:i,children:i?"  ...":"  "})]}),g.jsx("div",{className:Ao.resultSection,children:n?g.jsxs(g.Fragment,{children:[g.jsx("img",{src:n,alt:" ",className:Ao.generatedImage}),g.jsx("button",{className:Ao.downloadButton,onClick:()=>{const A=document.createElement("a");A.href=n,A.download="generated-image.png",document.body.appendChild(A),A.click(),document.body.removeChild(A)},children:" "})]}):g.jsx("div",{className:Ao.imagePlaceholder,children:i?"  ...":"   ."})})]})})}function Nue({onClose:t}){const[e,n]=H.useState(" "),r=[" "," "];return g.jsx("div",{className:mc.overlay,children:g.jsxs("div",{className:mc.modalContainer,children:[g.jsx("button",{className:mc.closeButton,onClick:t,children:g.jsx(iz,{})}),g.jsx("div",{className:mc.tabArea,children:r.map(i=>g.jsx("button",{className:`${mc.tabButton} ${e===i?mc.active:""}`,onClick:()=>{n(i)},children:i},i))}),g.jsx("div",{className:mc.generateContainer,children:e===" "?g.jsx(hO,{}):g.jsx(wue,{})})]})})}const Oue={galleries:{title:"",Component:A6,tabs:["","QR",""],fetchUrl:t=>`/api/galleries/${t}`},exhibitions:{title:"",Component:c6,fetchUrl:t=>`/api/exhibitions/${t}`,tabs:["","QR","","/"]},artworks:{title:"",Component:z5,fetchUrl:t=>`/api/arts/${t}`,tabs:["","QR",""]}};function C1({type:t}){const{id:e}=Ls(),n=Wt(),[r,i]=H.useState(null),[s,a]=H.useState(!1),[A,u]=H.useState(!1),f=Oue[t],{title:m,Component:w,fetchUrl:C,tabs:B}=f||{},E=R=>{switch(R){case"galleries":return"";case"exhibitions":return"";case"artworks":return"";default:return""}};H.useEffect(()=>{if(!C||!e)return;(async()=>{try{const L=await nt.get(C(e));i(L.data)}catch(L){console.error("  :",L)}})()},[e,t,C]);const I=R=>{switch(R){case"":n(`/console/${t}/edit/${e}`);break;case"QR":a(!0);break;case"":n(`/console/artworks/docent/${e}`);break;case"":n(`/console/${t}/leaflet/${e}`);break;case"/":u(!0);break}},M={artworks:g.jsx("button",{className:el.addButton,onClick:()=>n(`/console/artworks/edit/new?exhibition_id=${e}`),children:"+  "}),exhibitions:g.jsx("button",{className:el.addButton,onClick:()=>n(`/console/exhibitions/edit/new?gallery_id=${e}`),children:"+  "})};return r?g.jsxs("div",{className:el.layout,children:[g.jsxs("header",{className:el.header,children:[g.jsx("button",{className:el.backButton,onClick:()=>n("/console/main",{state:{activeTab:E(t)}}),children:"<"}),g.jsx("h1",{className:el.title,children:m})]}),g.jsx("nav",{className:el.adminTabNav,children:B.map(R=>g.jsx("button",{className:el.adminTabButton,onClick:()=>I(R),children:R},R))}),g.jsx("main",{className:el.content,children:g.jsx(w,{showUserActions:!1,id:e,actionButtons:M})}),s&&g.jsx($re,{data:r,onClose:()=>a(!1),type:t}),A&&g.jsx(Nue,{onClose:()=>{u(!1)}})]}):g.jsx(br,{})}const Mue="_layout_wdn79_1",kue="_breadcrumb_wdn79_35",Fue="_breadcrumbBack_wdn79_47",Due="_titleSection_wdn79_63",Rue="_statusBadge_wdn79_71",Lue="_artistTitle_wdn79_111",Uue="_artistSubTitle_wdn79_123",Que="_card_wdn79_135",Hue="_artistImage_wdn79_157",jue="_btnLayout_wdn79_171",Pue="_actionButton_wdn79_187",zue="_icon_wdn79_221",Vue="_likedIcon_wdn79_229",Kue="_infoList_wdn79_275",Gue="_infoRow_wdn79_293",$ue="_infoLabel_wdn79_305",Wue="_infoContent_wdn79_317",Xue="_emptyInfo_wdn79_327",que="_descriptionParagraph_wdn79_335",Yue="_emptyContent_wdn79_361",Zue="_artworkGrid_wdn79_467",Jue="_artworkCard_wdn79_479",ede="_artworkImage_wdn79_503",tde="_artworkTitle_wdn79_519",nde="_backButton_wdn79_539",kn={layout:Mue,breadcrumb:kue,breadcrumbBack:Fue,titleSection:Due,statusBadge:Rue,artistTitle:Lue,artistSubTitle:Uue,card:Que,artistImage:Hue,btnLayout:jue,actionButton:Pue,icon:zue,likedIcon:Vue,infoList:Kue,infoRow:Gue,infoLabel:$ue,infoContent:Wue,emptyInfo:Xue,descriptionParagraph:que,emptyContent:Yue,artworkGrid:Zue,artworkCard:Jue,artworkImage:ede,artworkTitle:tde,backButton:nde};function rde(){const{user:t}=Us(),{artistId:e}=Ls(),n=Wt(),[r,i]=H.useState(null),[s,a]=H.useState("profile"),{showAlert:A}=Kn(),u=async()=>{if(e)try{const re=await nt.get(`/api/artists/${e}`);i(re.data)}catch(re){console.error(re)}};if(H.useEffect(()=>{u()},[e]),!r)return g.jsx(br,{});const{artist_name:f="",artist_nation:m="",artist_category:w="",artist_image:C="",artist_description:B="",artist_homepage:E="",is_liked:I,is_on_exhibition:M,like_count:R,exhibitions:L=[],artworks:U=[]}=r,O=E?E.startsWith("http")?E:`https://${E}`:"",F=async()=>{if(!t){n("/login");return}try{I?await nt.delete("/api/likes",{data:{liked_id:e,liked_type:"artist"}}):await nt.post("/api/likes",{liked_id:e,liked_type:"artist"}),await u()}catch(re){console.error("   :",re)}},Q=()=>{O&&window.open(O,"_blank","noopener,noreferrer")},D=()=>{const re=window.location.href;if(navigator.share)navigator.share({title:`ARTLY: ${f}`,text:`${f}   !`,url:re}).catch(te=>console.error(" :",te));else{const te=document.createElement("textarea");te.value=re,document.body.appendChild(te),te.select();try{document.execCommand("copy"),A("  .")}catch(q){console.error("  :",q),A("  .","error")}finally{document.body.removeChild(te)}}},j=[{label:"",content:m||" "},{label:"",content:w||" "},{label:" ",content:M?" ":"  "},{label:" ",content:`${R.toLocaleString()}`}],V=[{key:"profile",label:""},{key:"exhibitions",label:` (${L.length||0})`},{key:"artworks",label:` (${U.length||0})`}],W=(re,te)=>{if(!re||!te)return"default";const q=new Date().setHours(0,0,0,0),ie=new Date(re).setHours(0,0,0,0),ae=new Date(te).setHours(0,0,0,0);return q<ie?"scheduled":q>ae?"ended":"exhibited"},Y=()=>{if(!L.length)return g.jsx("p",{className:kn.emptyContent,children:"  ."});const re=L.map((te={})=>{const q=W(te.exhibition_start_date,te.exhibition_end_date);return{exhibition_id:te.id,exhibition_poster:te.exhibition_poster,exhibition_title:te.exhibition_title,exhibition_status:q,exhibition_location:te.exhibition_location||te.location||"  ",exhibition_start_date:te.exhibition_start_date,exhibition_end_date:te.exhibition_end_date}});return g.jsx(o6,{exhibitions:re})},J=()=>U.length?g.jsx("div",{className:kn.artworkGrid,children:U.map(({id:re,art_title:te,art_image:q,title:ie,imageUrl:ae})=>{const se=te||ie||"",me=q||ae||"";return g.jsxs("div",{className:kn.artworkCard,children:[g.jsx($t,{className:kn.artworkImage,src:me,alt:se}),g.jsx("p",{className:kn.artworkTitle,children:se})]},`${re}-${se}`)})}):g.jsx("p",{className:kn.emptyContent,children:"  ."});return g.jsxs("div",{className:kn.layout,children:[g.jsxs("div",{className:kn.breadcrumb,children:[g.jsx("span",{className:kn.breadcrumbBack,onClick:()=>n("/artists"),children:""})," ","> ",f]}),g.jsxs("div",{className:kn.card,children:[g.jsx($t,{className:kn.artistImage,src:C,alt:`${f}  `}),M&&g.jsx("div",{className:kn.statusBadge,children:""}),g.jsxs("section",{className:kn.titleSection,children:[g.jsx("h1",{className:kn.artistTitle,children:f}),(m||w)&&g.jsx("p",{className:kn.artistSubTitle,children:[m,w].filter(Boolean).join(" | ")})]}),g.jsxs("div",{className:kn.btnLayout,children:[g.jsxs("button",{className:kn.actionButton,onClick:F,children:[g.jsx(N5,{className:`${kn.icon} ${I?kn.likedIcon:""}`})," "]}),g.jsxs("button",{className:kn.actionButton,disabled:!O,onClick:Q,children:[g.jsx(uz,{className:kn.icon}),""]}),g.jsxs("button",{className:kn.actionButton,onClick:D,children:[g.jsx(fz,{className:kn.icon}),""]})]}),g.jsx("section",{className:kn.infoList,children:j.map(({label:re,content:te})=>{const q=!te||typeof te=="string"&&te.trim()===" ";return g.jsxs("div",{className:kn.infoRow,children:[g.jsx("span",{className:kn.infoLabel,children:re}),g.jsx("div",{className:`${kn.infoContent} ${q?kn.emptyInfo:""}`,children:te})]},re)})})]}),g.jsxs(hC,{tabs:V,activeTab:s,setActiveTab:a,children:[s==="profile"&&(B?g.jsx("div",{className:kn.descriptionParagraph,dangerouslySetInnerHTML:{__html:B}}):g.jsx("p",{className:kn.emptyContent,children:"  ."})),s==="exhibitions"&&Y(),s==="artworks"&&J()]}),g.jsx("button",{className:kn.backButton,onClick:()=>n("/artists"),children:" "})]})}const ide="_layout_x21rz_1",sde="_container_x21rz_21",ade="_header_x21rz_39",ode="_loginTitle_x21rz_49",lde="_subParagraph_x21rz_63",Ade="_contentContainer_x21rz_75",cde="_loginForm_x21rz_91",ude="_submitButton_x21rz_105",oA={layout:ide,container:sde,header:ade,loginTitle:ode,subParagraph:lde,contentContainer:Ade,loginForm:cde,submitButton:ude},dde="_layout_i8wj8_1",fde="_navigateLink_i8wj8_19",hde="_termParagraph_i8wj8_59",pde="_termLink_i8wj8_77",gde="_registerButton_i8wj8_85",Wf={layout:dde,navigateLink:fde,termParagraph:hde,termLink:pde,registerButton:gde};function mde(){return g.jsxs("section",{className:Wf.layout,children:[g.jsx(yr,{className:Wf.navigateLink,to:"/find",children:" /  "}),g.jsxs("p",{className:Wf.termParagraph,children:["    ,",g.jsx("br",{})," "," ",g.jsx(yr,{className:Wf.termLink,children:"  "}),"",g.jsx("br",{}),"  ."]}),g.jsx(yr,{className:Wf.registerButton,to:"/register",children:" "})]})}const xde=()=>{};var FT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wde=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],A=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|A&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},gO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,A=a?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,m=s>>2,w=(s&3)<<4|A>>4;let C=(A&15)<<2|f>>6,B=f&63;u||(B=64,a||(C=64)),r.push(n[m],n[w],n[C],n[B])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wde(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],A=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const w=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||A==null||f==null||w==null)throw new yde;const C=s<<2|A>>4;if(r.push(C),f!==64){const B=A<<4&240|f>>2;if(r.push(B),w!==64){const E=f<<6&192|w;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yde extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vde=function(t){const e=pO(t);return gO.encodeByteArray(e,!0)},mO=function(t){return vde(t).replace(/\./g,"")},bde=function(t){try{return gO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bde=()=>Cde().__FIREBASE_DEFAULTS__,_de=()=>{if(typeof process>"u"||typeof FT>"u")return;const t=FT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ede=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bde(t[1]);return e&&JSON.parse(e)},Sde=()=>{try{return xde()||Bde()||_de()||Ede()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xO=()=>{var t;return(t=Sde())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tde{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ide(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TC(){try{return typeof indexedDB=="object"}catch{return!1}}function IC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function wO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nde="FirebaseError";class Jc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Nde,Object.setPrototypeOf(this,Jc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lp.prototype.create)}}class lp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Ode(s,r):"Error",A=`${this.serviceName}: ${a} (${i}).`;return new Jc(i,A,r)}}function Ode(t,e){return t.replace(Mde,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Mde=/\{\$([^}]+)}/g;function _m(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(DT(s)&&DT(a)){if(!_m(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function DT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kde=1e3,Fde=2,Dde=14400*1e3,Rde=.5;function RT(t,e=kde,n=Fde){const r=e*Math.pow(n,t),i=Math.round(Rde*r*(Math.random()-.5)*2);return Math.min(Dde,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){return t&&t._delegate?t._delegate:t}class vo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lde{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Tde;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Qde(e))try{this.getOrInitializeService({instanceIdentifier:vc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vc){return this.instances.has(e)}getOptions(e=vc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(s);r===A&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ude(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vc){return this.component?this.component.multipleInstances?e:vc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ude(t){return t===vc?void 0:t}function Qde(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hde{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Lde(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fr||(fr={}));const jde={debug:fr.DEBUG,verbose:fr.VERBOSE,info:fr.INFO,warn:fr.WARN,error:fr.ERROR,silent:fr.SILENT},Pde=fr.INFO,zde={[fr.DEBUG]:"log",[fr.VERBOSE]:"log",[fr.INFO]:"info",[fr.WARN]:"warn",[fr.ERROR]:"error"},Vde=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=zde[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yO{constructor(e){this.name=e,this._logLevel=Pde,this._logHandler=Vde,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jde[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fr.DEBUG,...e),this._logHandler(this,fr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fr.VERBOSE,...e),this._logHandler(this,fr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fr.INFO,...e),this._logHandler(this,fr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fr.WARN,...e),this._logHandler(this,fr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fr.ERROR,...e),this._logHandler(this,fr.ERROR,...e)}}const Kde=(t,e)=>e.some(n=>t instanceof n);let LT,UT;function Gde(){return LT||(LT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $de(){return UT||(UT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vO=new WeakMap,qv=new WeakMap,bO=new WeakMap,x2=new WeakMap,NC=new WeakMap;function Wde(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ml(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&vO.set(n,t)}).catch(()=>{}),NC.set(e,t),e}function Xde(t){if(qv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});qv.set(t,e)}let Yv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ml(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qde(t){Yv=t(Yv)}function Yde(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(w2(this),e,...n);return bO.set(r,e.sort?e.sort():[e]),ml(r)}:$de().includes(t)?function(...e){return t.apply(w2(this),e),ml(vO.get(this))}:function(...e){return ml(t.apply(w2(this),e))}}function Zde(t){return typeof t=="function"?Yde(t):(t instanceof IDBTransaction&&Xde(t),Kde(t,Gde())?new Proxy(t,Yv):t)}function ml(t){if(t instanceof IDBRequest)return Wde(t);if(x2.has(t))return x2.get(t);const e=Zde(t);return e!==t&&(x2.set(t,e),NC.set(e,t)),e}const w2=t=>NC.get(t);function V0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),A=ml(a);return r&&a.addEventListener("upgradeneeded",u=>{r(ml(a.result),u.oldVersion,u.newVersion,ml(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),A.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),A}function y2(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),ml(n).then(()=>{})}const Jde=["get","getKey","getAll","getAllKeys","count"],efe=["put","add","delete","clear"],v2=new Map;function QT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(v2.get(e))return v2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=efe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Jde.includes(n)))return;const s=async function(a,...A){const u=this.transaction(a,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(A.shift())),(await Promise.all([f[n](...A),i&&u.done]))[0]};return v2.set(e,s),s}qde(t=>({...t,get:(e,n,r)=>QT(e,n)||t.get(e,n,r),has:(e,n)=>!!QT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tfe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nfe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nfe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zv="@firebase/app",HT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new yO("@firebase/app"),rfe="@firebase/app-compat",ife="@firebase/analytics-compat",sfe="@firebase/analytics",afe="@firebase/app-check-compat",ofe="@firebase/app-check",lfe="@firebase/auth",Afe="@firebase/auth-compat",cfe="@firebase/database",ufe="@firebase/data-connect",dfe="@firebase/database-compat",ffe="@firebase/functions",hfe="@firebase/functions-compat",pfe="@firebase/installations",gfe="@firebase/installations-compat",mfe="@firebase/messaging",xfe="@firebase/messaging-compat",wfe="@firebase/performance",yfe="@firebase/performance-compat",vfe="@firebase/remote-config",bfe="@firebase/remote-config-compat",Cfe="@firebase/storage",Bfe="@firebase/storage-compat",_fe="@firebase/firestore",Efe="@firebase/ai",Sfe="@firebase/firestore-compat",Tfe="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="[DEFAULT]",Ife={[Zv]:"fire-core",[rfe]:"fire-core-compat",[sfe]:"fire-analytics",[ife]:"fire-analytics-compat",[ofe]:"fire-app-check",[afe]:"fire-app-check-compat",[lfe]:"fire-auth",[Afe]:"fire-auth-compat",[cfe]:"fire-rtdb",[ufe]:"fire-data-connect",[dfe]:"fire-rtdb-compat",[ffe]:"fire-fn",[hfe]:"fire-fn-compat",[pfe]:"fire-iid",[gfe]:"fire-iid-compat",[mfe]:"fire-fcm",[xfe]:"fire-fcm-compat",[wfe]:"fire-perf",[yfe]:"fire-perf-compat",[vfe]:"fire-rc",[bfe]:"fire-rc-compat",[Cfe]:"fire-gcs",[Bfe]:"fire-gcs-compat",[_fe]:"fire-fst",[Sfe]:"fire-fst-compat",[Efe]:"fire-vertex","fire-js":"fire-js",[Tfe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=new Map,Nfe=new Map,eb=new Map;function jT(t,e){try{t.container.addComponent(e)}catch(n){vl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bl(t){const e=t.name;if(eb.has(e))return vl.debug(`There were multiple attempts to register component ${e}.`),!1;eb.set(e,t);for(const n of Em.values())jT(n,t);for(const n of Nfe.values())jT(n,t);return!0}function Ap(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ofe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},OA=new lp("app","Firebase",Ofe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mfe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw OA.create("app-deleted",{appName:this._name})}}function CO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Jv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw OA.create("bad-app-name",{appName:String(i)});if(n||(n=xO()),!n)throw OA.create("no-options");const s=Em.get(i);if(s){if(_m(n,s.options)&&_m(r,s.config))return s;throw OA.create("duplicate-app",{appName:i})}const a=new Hde(i);for(const u of eb.values())a.addComponent(u);const A=new Mfe(n,r,a);return Em.set(i,A),A}function BO(t=Jv){const e=Em.get(t);if(!e&&t===Jv&&xO())return CO();if(!e)throw OA.create("no-app",{appName:t});return e}function wo(t,e,n){let r=Ife[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vl.warn(a.join(" "));return}bl(new vo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kfe="firebase-heartbeat-database",Ffe=1,Rh="firebase-heartbeat-store";let b2=null;function _O(){return b2||(b2=V0(kfe,Ffe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rh)}catch(n){console.warn(n)}}}}).catch(t=>{throw OA.create("idb-open",{originalErrorMessage:t.message})})),b2}async function Dfe(t){try{const n=(await _O()).transaction(Rh),r=await n.objectStore(Rh).get(EO(t));return await n.done,r}catch(e){if(e instanceof Jc)vl.warn(e.message);else{const n=OA.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vl.warn(n.message)}}}async function PT(t,e){try{const r=(await _O()).transaction(Rh,"readwrite");await r.objectStore(Rh).put(e,EO(t)),await r.done}catch(n){if(n instanceof Jc)vl.warn(n.message);else{const r=OA.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vl.warn(r.message)}}}function EO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rfe=1024,Lfe=30;class Ufe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hfe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Lfe){const a=jfe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zT(),{heartbeatsToSend:r,unsentEntries:i}=Qfe(this._heartbeatsCache.heartbeats),s=mO(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return vl.warn(n),""}}}function zT(){return new Date().toISOString().substring(0,10)}function Qfe(t,e=Rfe){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),VT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),VT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hfe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TC()?IC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Dfe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function VT(t){return mO(JSON.stringify({version:2,heartbeats:t})).length}function jfe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pfe(t){bl(new vo("platform-logger",e=>new tfe(e),"PRIVATE")),bl(new vo("heartbeat",e=>new Ufe(e),"PRIVATE")),wo(Zv,HT,t),wo(Zv,HT,"esm2020"),wo("fire-js","")}Pfe("");const SO="@firebase/installations",OC="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=1e4,IO=`w:${OC}`,NO="FIS_v2",zfe="https://firebaseinstallations.googleapis.com/v1",Vfe=3600*1e3,Kfe="installations",Gfe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $fe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zc=new lp(Kfe,Gfe,$fe);function OO(t){return t instanceof Jc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO({projectId:t}){return`${zfe}/projects/${t}/installations`}function kO(t){return{token:t.token,requestStatus:2,expiresIn:Xfe(t.expiresIn),creationTime:Date.now()}}async function FO(t,e){const r=(await e.json()).error;return zc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function DO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Wfe(t,{refreshToken:e}){const n=DO(t);return n.append("Authorization",qfe(e)),n}async function RO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Xfe(t){return Number(t.replace("s","000"))}function qfe(t){return`${NO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yfe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=MO(t),i=DO(t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const a={fid:n,authVersion:NO,appId:t.appId,sdkVersion:IO},A={method:"POST",headers:i,body:JSON.stringify(a)},u=await RO(()=>fetch(r,A));if(u.ok){const f=await u.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:kO(f.authToken)}}else throw await FO("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zfe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jfe=/^[cdef][\w-]{21}$/,tb="";function ehe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=the(t);return Jfe.test(n)?n:tb}catch{return tb}}function the(t){return Zfe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new Map;function QO(t,e){const n=K0(t);HO(n,e),nhe(n,e)}function HO(t,e){const n=UO.get(t);if(n)for(const r of n)r(e)}function nhe(t,e){const n=rhe();n&&n.postMessage({key:t,fid:e}),ihe()}let Tc=null;function rhe(){return!Tc&&"BroadcastChannel"in self&&(Tc=new BroadcastChannel("[Firebase] FID Change"),Tc.onmessage=t=>{HO(t.data.key,t.data.fid)}),Tc}function ihe(){UO.size===0&&Tc&&(Tc.close(),Tc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const she="firebase-installations-database",ahe=1,Vc="firebase-installations-store";let C2=null;function MC(){return C2||(C2=V0(she,ahe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vc)}}})),C2}async function Sm(t,e){const n=K0(t),i=(await MC()).transaction(Vc,"readwrite"),s=i.objectStore(Vc),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&QO(t,e.fid),e}async function jO(t){const e=K0(t),r=(await MC()).transaction(Vc,"readwrite");await r.objectStore(Vc).delete(e),await r.done}async function G0(t,e){const n=K0(t),i=(await MC()).transaction(Vc,"readwrite"),s=i.objectStore(Vc),a=await s.get(n),A=e(a);return A===void 0?await s.delete(n):await s.put(A,n),await i.done,A&&(!a||a.fid!==A.fid)&&QO(t,A.fid),A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(t){let e;const n=await G0(t.appConfig,r=>{const i=ohe(r),s=lhe(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===tb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ohe(t){const e=t||{fid:ehe(),registrationStatus:0};return PO(e)}function lhe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(zc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Ahe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:che(t)}:{installationEntry:e}}async function Ahe(t,e){try{const n=await Yfe(t,e);return Sm(t.appConfig,n)}catch(n){throw OO(n)&&n.customData.serverCode===409?await jO(t.appConfig):await Sm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function che(t){let e=await KT(t.appConfig);for(;e.registrationStatus===1;)await LO(100),e=await KT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await kC(t);return r||n}return e}function KT(t){return G0(t,e=>{if(!e)throw zc.create("installation-not-found");return PO(e)})}function PO(t){return uhe(t)?{fid:t.fid,registrationStatus:0}:t}function uhe(t){return t.registrationStatus===1&&t.registrationTime+TO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dhe({appConfig:t,heartbeatServiceProvider:e},n){const r=fhe(t,n),i=Wfe(t,n),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const a={installation:{sdkVersion:IO,appId:t.appId}},A={method:"POST",headers:i,body:JSON.stringify(a)},u=await RO(()=>fetch(r,A));if(u.ok){const f=await u.json();return kO(f)}else throw await FO("Generate Auth Token",u)}function fhe(t,{fid:e}){return`${MO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(t,e=!1){let n;const r=await G0(t.appConfig,s=>{if(!zO(s))throw zc.create("not-registered");const a=s.authToken;if(!e&&ghe(a))return s;if(a.requestStatus===1)return n=hhe(t,e),s;{if(!navigator.onLine)throw zc.create("app-offline");const A=xhe(s);return n=phe(t,A),A}});return n?await n:r.authToken}async function hhe(t,e){let n=await GT(t.appConfig);for(;n.authToken.requestStatus===1;)await LO(100),n=await GT(t.appConfig);const r=n.authToken;return r.requestStatus===0?FC(t,e):r}function GT(t){return G0(t,e=>{if(!zO(e))throw zc.create("not-registered");const n=e.authToken;return whe(n)?{...e,authToken:{requestStatus:0}}:e})}async function phe(t,e){try{const n=await dhe(t,e),r={...e,authToken:n};return await Sm(t.appConfig,r),n}catch(n){if(OO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await jO(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Sm(t.appConfig,r)}throw n}}function zO(t){return t!==void 0&&t.registrationStatus===2}function ghe(t){return t.requestStatus===2&&!mhe(t)}function mhe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Vfe}function xhe(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function whe(t){return t.requestStatus===1&&t.requestTime+TO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yhe(t){const e=t,{installationEntry:n,registrationPromise:r}=await kC(e);return r?r.catch(console.error):FC(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vhe(t,e=!1){const n=t;return await bhe(n),(await FC(n,e)).token}async function bhe(t){const{registrationPromise:e}=await kC(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Che(t){if(!t||!t.options)throw B2("App Configuration");if(!t.name)throw B2("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw B2(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function B2(t){return zc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="installations",Bhe="installations-internal",_he=t=>{const e=t.getProvider("app").getImmediate(),n=Che(e),r=Ap(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Ehe=t=>{const e=t.getProvider("app").getImmediate(),n=Ap(e,VO).getImmediate();return{getId:()=>yhe(n),getToken:i=>vhe(n,i)}};function She(){bl(new vo(VO,_he,"PUBLIC")),bl(new vo(Bhe,Ehe,"PRIVATE"))}She();wo(SO,OC);wo(SO,OC,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const The="/firebase-messaging-sw.js",Ihe="/firebase-cloud-messaging-push-scope",KO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Nhe="https://fcmregistrations.googleapis.com/v1",GO="google.c.a.c_id",Ohe="google.c.a.c_l",Mhe="google.c.a.ts",khe="google.c.a.e",$T=1e4;var WT;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(WT||(WT={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Lh;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Lh||(Lh={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fhe(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="fcm_token_details_db",Dhe=5,XT="fcm_token_object_Store";async function Rhe(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(_2))return null;let e=null;return(await V0(_2,Dhe,{upgrade:async(r,i,s,a)=>{if(i<2||!r.objectStoreNames.contains(XT))return;const A=a.objectStore(XT),u=await A.index("fcmSenderId").get(t);if(await A.clear(),!!u){if(i===2){const f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:f.createTime??Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:ul(f.vapidKey)}}}else if(i===3){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:ul(f.auth),p256dh:ul(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:ul(f.vapidKey)}}}else if(i===4){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:ul(f.auth),p256dh:ul(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:ul(f.vapidKey)}}}}}})).close(),await y2(_2),await y2("fcm_vapid_details_db"),await y2("undefined"),Lhe(e)?e:null}function Lhe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uhe="firebase-messaging-database",Qhe=1,Uh="firebase-messaging-store";let E2=null;function $O(){return E2||(E2=V0(Uhe,Qhe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Uh)}}})),E2}async function Hhe(t){const e=WO(t),r=await(await $O()).transaction(Uh).objectStore(Uh).get(e);if(r)return r;{const i=await Rhe(t.appConfig.senderId);if(i)return await DC(t,i),i}}async function DC(t,e){const n=WO(t),i=(await $O()).transaction(Uh,"readwrite");return await i.objectStore(Uh).put(e,n),await i.done,e}function WO({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jhe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Wi=new lp("messaging","Messaging",jhe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Phe(t,e){const n=await LC(t),r=XO(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(RC(t.appConfig),i)).json()}catch(a){throw Wi.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Wi.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw Wi.create("token-subscribe-no-token");return s.token}async function zhe(t,e){const n=await LC(t),r=XO(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${RC(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw Wi.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw Wi.create("token-update-failed",{errorInfo:a})}if(!s.token)throw Wi.create("token-update-no-token");return s.token}async function Vhe(t,e){const r={method:"DELETE",headers:await LC(t)};try{const s=await(await fetch(`${RC(t.appConfig)}/${e}`,r)).json();if(s.error){const a=s.error.message;throw Wi.create("token-unsubscribe-failed",{errorInfo:a})}}catch(i){throw Wi.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function RC({projectId:t}){return`${Nhe}/projects/${t}/registrations`}async function LC({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function XO({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==KO&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Khe=10080*60*1e3;async function Ghe(t){const e=await Whe(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ul(e.getKey("auth")),p256dh:ul(e.getKey("p256dh"))},r=await Hhe(t.firebaseDependencies);if(r){if(Xhe(r.subscriptionOptions,n))return Date.now()>=r.createTime+Khe?$he(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Vhe(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return qT(t.firebaseDependencies,n)}else return qT(t.firebaseDependencies,n)}async function $he(t,e){try{const n=await zhe(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await DC(t.firebaseDependencies,r),n}catch(n){throw n}}async function qT(t,e){const r={token:await Phe(t,e),createTime:Date.now(),subscriptionOptions:e};return await DC(t,r),r.token}async function Whe(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fhe(e)})}function Xhe(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return qhe(e,t),Yhe(e,t),Zhe(e,t),e}function qhe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}function Yhe(t,e){e.data&&(t.data=e.data)}function Zhe(t,e){var i,s,a,A;if(!e.fcmOptions&&!((i=e.notification)!=null&&i.click_action))return;t.fcmOptions={};const n=((s=e.fcmOptions)==null?void 0:s.link)??((a=e.notification)==null?void 0:a.click_action);n&&(t.fcmOptions.link=n);const r=(A=e.fcmOptions)==null?void 0:A.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jhe(t){return typeof t=="object"&&!!t&&GO in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function epe(t){if(!t||!t.options)throw S2("App Configuration Object");if(!t.name)throw S2("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw S2(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function S2(t){return Wi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tpe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=epe(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function npe(t){try{t.swRegistration=await navigator.serviceWorker.register(The,{scope:Ihe}),t.swRegistration.update().catch(()=>{}),await rpe(t.swRegistration)}catch(e){throw Wi.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function rpe(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${$T} ms`)),$T),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=s=>{var a;((a=s.target)==null?void 0:a.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ipe(t,e){if(!e&&!t.swRegistration&&await npe(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Wi.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function spe(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=KO)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e){if(!navigator)throw Wi.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Wi.create("permission-blocked");return await spe(t,e==null?void 0:e.vapidKey),await ipe(t,e==null?void 0:e.serviceWorkerRegistration),Ghe(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ape(t,e,n){const r=ope(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[GO],message_name:n[Ohe],message_time:n[Mhe],message_device_time:Math.floor(Date.now()/1e3)})}function ope(t){switch(t){case Lh.NOTIFICATION_CLICKED:return"notification_open";case Lh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lpe(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Lh.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(YT(n)):t.onMessageHandler.next(YT(n)));const r=n.data;Jhe(r)&&r[khe]==="1"&&await ape(t,n.messageType,r)}const ZT="@firebase/messaging",JT="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ape=t=>{const e=new tpe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>lpe(e,n)),e},cpe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>qO(e,r)}};function upe(){bl(new vo("messaging",Ape,"PUBLIC")),bl(new vo("messaging-internal",cpe,"PRIVATE")),wo(ZT,JT),wo(ZT,JT,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dpe(){try{await IC()}catch{return!1}return typeof window<"u"&&TC()&&wO()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fpe(t,e){if(!navigator)throw Wi.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hpe(t=BO()){return dpe().then(e=>{if(!e)throw Wi.create("unsupported-browser")},e=>{throw Wi.create("indexed-db-unsupported")}),Ap(Pd(t),"messaging").getImmediate()}async function ppe(t,e){return t=Pd(t),qO(t,e)}function gpe(t,e){return t=Pd(t),fpe(t,e)}upe();var mpe="firebase",xpe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(mpe,xpe,"app");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="analytics",wpe="firebase_id",ype="origin",vpe=60*1e3,bpe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",UC="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new yO("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cpe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ia=new lp("analytics","Analytics",Cpe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bpe(t){if(!t.startsWith(UC)){const e=ia.create("invalid-gtag-resource",{gtagURL:t});return fs.warn(e.message),""}return t}function YO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function _pe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Epe(t,e){const n=_pe("firebase-js-sdk-policy",{createScriptURL:Bpe}),r=document.createElement("script"),i=`${UC}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Spe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Tpe(t,e,n,r,i,s){const a=r[i];try{if(a)await e[a];else{const u=(await YO(n)).find(f=>f.measurementId===i);u&&await e[u.appId]}}catch(A){fs.error(A)}t("config",i,s)}async function Ipe(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const A=await YO(n);for(const u of a){const f=A.find(w=>w.measurementId===u),m=f&&e[f.appId];if(m)s.push(m);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){fs.error(s)}}function Npe(t,e,n,r){async function i(s,...a){try{if(s==="event"){const[A,u]=a;await Ipe(t,e,n,A,u)}else if(s==="config"){const[A,u]=a;await Tpe(t,e,n,r,A,u)}else if(s==="consent"){const[A,u]=a;t("consent",A,u)}else if(s==="get"){const[A,u,f]=a;t("get",A,u,f)}else if(s==="set"){const[A]=a;t("set",A)}else t(s,...a)}catch(A){fs.error(A)}}return i}function Ope(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Npe(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Mpe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(UC)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kpe=30,Fpe=1e3;class Dpe{constructor(e={},n=Fpe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ZO=new Dpe;function Rpe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Lpe(t){var a;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Rpe(n)},i=bpe.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let A="";try{const u=await s.json();(a=u.error)!=null&&a.message&&(A=u.error.message)}catch{}throw ia.create("config-fetch-failed",{httpStatus:s.status,responseMessage:A})}return s.json()}async function Upe(t,e=ZO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ia.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ia.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},A=new jpe;return setTimeout(async()=>{A.abort()},vpe),JO({appId:r,apiKey:i,measurementId:s},a,A,e)}async function JO(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=ZO){var A;const{appId:s,measurementId:a}=t;try{await Qpe(r,e)}catch(u){if(a)return fs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw u}try{const u=await Lpe(t);return i.deleteThrottleMetadata(s),u}catch(u){const f=u;if(!Hpe(f)){if(i.deleteThrottleMetadata(s),a)return fs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:a};throw u}const m=Number((A=f==null?void 0:f.customData)==null?void 0:A.httpStatus)===503?RT(n,i.intervalMillis,kpe):RT(n,i.intervalMillis),w={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return i.setThrottleMetadata(s,w),fs.debug(`Calling attemptFetch again in ${m} millis`),JO(t,w,r,i)}}function Qpe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ia.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Hpe(t){if(!(t instanceof Jc)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class jpe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ppe(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,a={...r,send_to:s};t("event",n,a)}}async function zpe(t,e,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vpe(){if(TC())try{await IC()}catch(t){return fs.warn(ia.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fs.warn(ia.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Kpe(t,e,n,r,i,s,a){const A=Upe(t);A.then(C=>{n[C.measurementId]=C.appId,t.options.measurementId&&C.measurementId!==t.options.measurementId&&fs.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>fs.error(C)),e.push(A);const u=Vpe().then(C=>{if(C)return r.getId()}),[f,m]=await Promise.all([A,u]);Mpe(s)||Epe(s,f.measurementId),i("js",new Date);const w=(a==null?void 0:a.config)??{};return w[ype]="firebase",w.update=!0,m!=null&&(w[wpe]=m),i("config",f.measurementId,w),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gpe{constructor(e){this.app=e}_delete(){return delete Bd[this.app.options.appId],Promise.resolve()}}let Bd={},eI=[];const tI={};let T2="dataLayer",$pe="gtag",nI,QC,rI=!1;function Wpe(){const t=[];if(Ide()&&t.push("This is a browser extension environment."),wO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ia.create("invalid-analytics-context",{errorInfo:e});fs.warn(n.message)}}function Xpe(t,e,n){Wpe();const r=t.options.appId;if(!r)throw ia.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ia.create("no-api-key");if(Bd[r]!=null)throw ia.create("already-exists",{id:r});if(!rI){Spe(T2);const{wrappedGtag:s,gtagCore:a}=Ope(Bd,eI,tI,T2,$pe);QC=s,nI=a,rI=!0}return Bd[r]=Kpe(t,eI,tI,e,nI,T2,n),new Gpe(t)}function qpe(t=BO()){t=Pd(t);const e=Ap(t,Tm);return e.isInitialized()?e.getImmediate():Ype(t)}function Ype(t,e={}){const n=Ap(t,Tm);if(n.isInitialized()){const i=n.getImmediate();if(_m(e,n.getOptions()))return i;throw ia.create("already-initialized")}return n.initialize({options:e})}function Zpe(t,e,n){t=Pd(t),zpe(QC,Bd[t.app.options.appId],e,n).catch(r=>fs.error(r))}function Jpe(t,e,n,r){t=Pd(t),Ppe(QC,Bd[t.app.options.appId],e,n,r).catch(i=>fs.error(i))}const iI="@firebase/analytics",sI="0.10.19";function ege(){bl(new vo(Tm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Xpe(r,i,n)},"PUBLIC")),bl(new vo("analytics-internal",t,"PRIVATE")),wo(iI,sI),wo(iI,sI,"esm2020");function t(e){try{const n=e.getProvider(Tm).getImmediate();return{logEvent:(r,i,s)=>Jpe(n,r,i,s),setUserProperties:(r,i)=>Zpe(n,r,i)}}catch(n){throw ia.create("interop-component-reg-failed",{reason:n})}}}ege();const tge={apiKey:"AIzaSyC6SrC7FmlmnihhlL5v4MS-bTvjO-wpHRI",authDomain:"soundgram-tot.firebaseapp.com",databaseURL:"https://soundgram-tot-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"soundgram-tot",storageBucket:"soundgram-tot.firebasestorage.app",messagingSenderId:"186758434361",appId:"1:186758434361:web:41ef236e0e5e39527e87e8",measurementId:"G-SYHFZP4259"},eM=CO(tge);qpe(eM);const nb=hpe(eM),nge="BOImd23EYCHck5Cgh3yZ7hTvnpgBr4xbPLymUTkfm-JnIwHY9iQgLN6PFxkrtnXELRNQsAWG8OexmGHpRLrMhzg",rge="fcm_token",ige=()=>window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.getFcmToken,sge=async t=>{if(ige()){console.log("iOS  "),window.webkit.messageHandlers.setUserId.postMessage(t),window.receiveFcmToken=async function(e){console.log(`iOS FCM  : ${e}`),e&&await I2(t,e)},window.webkit.messageHandlers.getFcmToken.postMessage(null);return}if(typeof window.Android<"u"){console.log(`WebView  User_Id : ${t}`);const e=window.Android.getFcmToken();return window.Android.setUserId(t),e?(console.log(` FCM Token: ${e}`),await I2(t,e),e):(console.warn("Android Fcm   ."),"NATIVE_MODE_PENDING")}try{if(console.log("  "),await Notification.requestPermission()==="granted"){console.log("  ");const n=await ppe(nb,{vapidKey:nge});return n?(console.log("FCM  :",n),hl.set(rge,n,{path:"/"}),await I2(t,n),n):(console.warn("   ."),null)}else return console.warn("  "),null}catch(e){throw e}},I2=async(t,e)=>{try{const n=await $i.post("/api/notification/registerToken",{user_id:t,fcm_token:e});return console.log("  ",n.data),n.data}catch(n){throw console.error("   ",n),n}},age=t=>nb?gpe(nb,e=>{if(console.log(" ",e),e.notification){const{title:n,body:r}=e.notification;Notification.permission==="granted"&&new Notification(n,{body:r,icon:"/logo192.png",data:e.data}),t&&t(e)}}):(console.log("  "),()=>{});function oge(){var u,f;const{data:t,handleChange:e}=Am({login_id:"",login_pwd:""}),n=Wt(),r=vr(),i=((f=(u=r.state)==null?void 0:u.from)==null?void 0:f.pathname)||"/",{showAlert:s}=Kn(),{login:a}=H.useContext(PA),A=async()=>{try{const m=await $i.post("/api/auth/login",t),w=m.data.data,C=m.data.jwt;a(w,C),w&&w.id&&w.admin_flag!=="1"?await sge(w.id):console.log("  - FCM   "),i==="/register"?n("/",{replace:!0}):i&&i!=="/login"&&i!==r.pathname?n(i,{replace:!0}):n("/",{replace:!0})}catch(m){m.status===401?s("   "):s("  .    .")}};return g.jsx("div",{className:oA.layout,children:g.jsxs("div",{className:oA.container,children:[g.jsxs("div",{className:oA.header,children:[g.jsx("h1",{className:oA.loginTitle,children:""}),g.jsx("p",{className:oA.subParagraph,children:"  "})]}),g.jsxs("div",{className:oA.contentContainer,children:[g.jsxs("form",{className:oA.loginForm,onSubmit:m=>{m.preventDefault(),A()},children:[g.jsx(mo,{placeholder:"ID (6 ~ 20 , )",name:"login_id",onChange:e,value:t.login_id}),g.jsx(mo,{placeholder:"Password (8 ~ 16 ++)",name:"login_pwd",type:"password",onChange:e,value:t.login_pwd}),g.jsx("button",{type:"submit",className:oA.submitButton,children:" "})]}),g.jsx(mde,{})]})]})})}const lge="_container_17td7_1",Age="_loginContent_17td7_23",cge="_header_17td7_39",uge="_subtitle_17td7_49",dge="_emailButton_17td7_81",fge="_footer_17td7_217",hge="_registerLink_17td7_229",wc={container:lge,loginContent:Age,header:cge,subtitle:uge,emailButton:dge,footer:fge,registerLink:hge};function pge(){const t=Wt(),e=()=>{t("/login-detail")};return g.jsx("div",{className:wc.container,children:g.jsxs("div",{className:wc.loginContent,children:[g.jsxs("div",{className:wc.header,children:[g.jsx(t5,{color:"#3c504b"}),g.jsx("p",{className:wc.subtitle,children:"  ."})]}),g.jsx("button",{className:wc.emailButton,onClick:e,children:"  "}),g.jsx("div",{className:wc.footer,children:g.jsx(yr,{className:wc.registerLink,to:"/register",children:" "})})]})})}const gge="_layout_1g5v5_1",mge="_layoutTitle_1g5v5_31",xge="_backButton_1g5v5_65",wge="_mainContentContainer_1g5v5_81",yge="_formSection_1g5v5_149",vge="_inputGroup_1g5v5_163",bge="_label_1g5v5_173",Cge="_textInput_1g5v5_189",Bge="_contentGrid_1g5v5_225",_ge="_leftColumn_1g5v5_237",Ege="_rightColumn_1g5v5_249",Sge="_actionFooter_1g5v5_261",Tge="_buttonGroup_1g5v5_291",Ige="_actionButton_1g5v5_305",Nge="_previewBtn_1g5v5_327",Oge="_submitBtn_1g5v5_345",Mge="_editModeButtons_1g5v5_383",kge="_deleteBtn_1g5v5_395",Mr={layout:gge,layoutTitle:mge,backButton:xge,mainContentContainer:wge,formSection:yge,inputGroup:vge,label:bge,textInput:Cge,contentGrid:Bge,leftColumn:_ge,rightColumn:Ege,actionFooter:Sge,buttonGroup:Tge,actionButton:Ige,previewBtn:Nge,submitBtn:Oge,editModeButtons:Mge,deleteBtn:kge},Fge="_coverSectionBox_ul99z_1",Dge="_sectionHeader_ul99z_13",Rge="_coverLabelSpan_ul99z_27",Lge="_badge_ul99z_41",Uge="_coverWrapper_ul99z_61",Qge="_coverImageContainerBox_ul99z_87",Hge="_coverImage_ul99z_87",jge="_removeCoverButton_ul99z_117",Pge="_coverPlaceholderBox_ul99z_169",zge="_dragActive_ul99z_201",Vge="_placeholderContent_ul99z_211",Kge="_plusIconSpan_ul99z_225",Gge="_placeholderText_ul99z_237",Zs={coverSectionBox:Fge,sectionHeader:Dge,coverLabelSpan:Rge,badge:Lge,coverWrapper:Uge,coverImageContainerBox:Qge,coverImage:Hge,removeCoverButton:jge,coverPlaceholderBox:Pge,dragActive:zge,placeholderContent:Vge,plusIconSpan:Kge,placeholderText:Gge};function $ge({coverImage:t,setCoverImage:e,coverDropzone:n,openFileDialogForCover:r}){return g.jsxs("div",{className:Zs.coverSectionBox,children:[g.jsxs("div",{className:Zs.sectionHeader,children:[g.jsx("span",{className:Zs.coverLabelSpan,children:" "}),g.jsx("span",{className:Zs.badge,children:""})]}),g.jsx("div",{className:Zs.coverWrapper,children:t?g.jsxs("div",{className:Zs.coverImageContainerBox,children:[g.jsx("img",{src:t.url,alt:"",className:Zs.coverImage}),g.jsx("button",{className:Zs.removeCoverButton,onClick:()=>e(null),"aria-label":" ",children:""})]}):g.jsxs("div",{...n.getRootProps(),className:`${Zs.coverPlaceholderBox} ${n.isDragActive?Zs.dragActive:""}`,onClick:i=>{i.stopPropagation(),r()},children:[g.jsx("input",{...n.getInputProps()}),g.jsxs("div",{className:Zs.placeholderContent,children:[g.jsx("span",{className:Zs.plusIconSpan,children:"+"}),g.jsx("span",{className:Zs.placeholderText,children:" "})]})]})})]})}const Wge="_innerPagesSectionBox_1g0ac_1",Xge="_headerRow_1g0ac_13",qge="_innerPagesLabelSpan_1g0ac_27",Yge="_countBadge_1g0ac_41",Zge="_innerPagesGridContainer_1g0ac_61",Jge="_dropzoneActive_1g0ac_93",e1e="_innerPageItemBox_1g0ac_105",t1e="_dragging_1g0ac_147",n1e="_dragOver_1g0ac_157",r1e="_imageWrapper_1g0ac_167",i1e="_innerPageImage_1g0ac_175",s1e="_removeInnerPageButton_1g0ac_195",a1e="_pageNumberBadge_1g0ac_259",o1e="_addInnerPageButton_1g0ac_287",l1e="_plusIconSpan_1g0ac_327",A1e="_addText_1g0ac_339",ji={innerPagesSectionBox:Wge,headerRow:Xge,innerPagesLabelSpan:qge,countBadge:Yge,innerPagesGridContainer:Zge,dropzoneActive:Jge,innerPageItemBox:e1e,dragging:t1e,dragOver:n1e,imageWrapper:r1e,innerPageImage:i1e,removeInnerPageButton:s1e,pageNumberBadge:a1e,addInnerPageButton:o1e,plusIconSpan:l1e,addText:A1e};function c1e({imageList:t,setImageList:e,innerDropzone:n,handleRemoveImage:r,openFileDialogForInner:i}){const[s,a]=H.useState(null),[A,u]=H.useState(null),f=(E,I)=>{E.stopPropagation(),a(I),E.dataTransfer.effectAllowed="move",E.dataTransfer.setData("text/plain",I.toString())},m=E=>{E.stopPropagation(),a(null),u(null)},w=(E,I)=>{E.preventDefault(),E.stopPropagation(),E.dataTransfer.dropEffect="move",s!==null&&s!==I&&u(I)},C=E=>{E.currentTarget.contains(E.relatedTarget)||u(null)},B=(E,I)=>{if(s===null)return;if(E.preventDefault(),E.stopPropagation(),s===I){a(null),u(null);return}const M=t.filter((R,L)=>L!==s);M.splice(I,0,t[s]),e(M),a(null),u(null)};return g.jsxs("div",{className:ji.innerPagesSectionBox,children:[g.jsxs("div",{className:ji.headerRow,children:[g.jsx("span",{className:ji.innerPagesLabelSpan,children:" "}),g.jsxs("span",{className:ji.countBadge,children:[t.length,""]})]}),g.jsxs("div",{...n.getRootProps(),className:`${ji.innerPagesGridContainer} ${n.isDragActive?ji.dropzoneActive:""}`,children:[g.jsx("input",{...n.getInputProps()}),t.map((E,I)=>g.jsxs("div",{className:`
              ${ji.innerPageItemBox} 
              ${s===I?ji.dragging:""} 
              ${A===I?ji.dragOver:""}
            `,draggable:!0,onDragStart:M=>f(M,I),onDragEnd:m,onDragOver:M=>w(M,I),onDragLeave:C,onDrop:M=>B(M,I),children:[g.jsx("div",{className:ji.imageWrapper,children:g.jsx("img",{src:E.url,alt:` ${I+1}`,className:ji.innerPageImage})}),g.jsx("div",{className:ji.pageNumberBadge,children:I+1}),g.jsx("button",{className:ji.removeInnerPageButton,onClick:M=>{M.stopPropagation(),r(I)},title:"",children:""})]},E.url)),g.jsxs("div",{className:ji.addInnerPageButton,onClick:E=>{E.stopPropagation(),i()},children:[g.jsx("span",{className:ji.plusIconSpan,children:"+"}),g.jsx("span",{className:ji.addText,children:""})]})]})]})}function eu(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function A(m){try{f(r.next(m))}catch(w){a(w)}}function u(m){try{f(r.throw(m))}catch(w){a(w)}}function f(m){m.done?s(m.value):i(m.value).then(A,u)}f((r=r.apply(t,e||[])).next())})}const u1e=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Id(t,e,n){const r=d1e(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&aI(r,"path",s),aI(r,"relativePath",s),r}function d1e(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=u1e.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function aI(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const f1e=[".DS_Store","Thumbs.db"];function h1e(t){return eu(this,void 0,void 0,function*(){return Im(t)&&p1e(t.dataTransfer)?w1e(t.dataTransfer,t.type):g1e(t)?m1e(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?x1e(t):[]})}function p1e(t){return Im(t)}function g1e(t){return Im(t)&&Im(t.target)}function Im(t){return typeof t=="object"&&t!==null}function m1e(t){return rb(t.target.files).map(e=>Id(e))}function x1e(t){return eu(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Id(n))})}function w1e(t,e){return eu(this,void 0,void 0,function*(){if(t.items){const n=rb(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(y1e));return oI(tM(r))}return oI(rb(t.files).map(n=>Id(n)))})}function oI(t){return t.filter(e=>f1e.indexOf(e.name)===-1)}function rb(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function y1e(t){if(typeof t.webkitGetAsEntry!="function")return lI(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?nM(e):lI(t,e)}function tM(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?tM(n):[n]],[])}function lI(t,e){return eu(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const a=yield s.getFile();return a.handle=s,Id(a)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Id(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function v1e(t){return eu(this,void 0,void 0,function*(){return t.isDirectory?nM(t):b1e(t)})}function nM(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(a=>eu(this,void 0,void 0,function*(){if(a.length){const A=Promise.all(a.map(v1e));i.push(A),s()}else try{const A=yield Promise.all(i);n(A)}catch(A){r(A)}}),a=>{r(a)})}s()})}function b1e(t){return eu(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Id(r,t.fullPath);e(i)},r=>{n(r)})})})}var B1={},AI;function C1e(){return AI||(AI=1,B1.__esModule=!0,B1.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(a){var A=a.trim().toLowerCase();return A.charAt(0)==="."?r.toLowerCase().endsWith(A):A.endsWith("/*")?s===A.replace(/\/.*$/,""):i===A})}return!0}),B1}var B1e=C1e();const N2=Cl(B1e);function cI(t){return S1e(t)||E1e(t)||iM(t)||_1e()}function _1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S1e(t){if(Array.isArray(t))return ib(t)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){rM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qh(t,e){return N1e(t)||I1e(t,e)||iM(t,e)||T1e()}function T1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iM(t,e){if(t){if(typeof t=="string")return ib(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ib(t,e)}}function ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,A;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,A=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw A}}return r}}function N1e(t){if(Array.isArray(t))return t}var O1e=typeof N2=="function"?N2:N2.default,M1e="file-invalid-type",k1e="file-too-large",F1e="file-too-small",D1e="too-many-files",R1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:M1e,message:"File type must be ".concat(r)}},fI=function(e){return{code:k1e,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},hI=function(e){return{code:F1e,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},L1e={code:D1e,message:"Too many files"};function sM(t,e){var n=t.type==="application/x-moz-file"||O1e(t,e);return[n,n?null:R1e(e)]}function aM(t,e,n){if(Cc(t.size))if(Cc(e)&&Cc(n)){if(t.size>n)return[!1,fI(n)];if(t.size<e)return[!1,hI(e)]}else{if(Cc(e)&&t.size<e)return[!1,hI(e)];if(Cc(n)&&t.size>n)return[!1,fI(n)]}return[!0,null]}function Cc(t){return t!=null}function U1e(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,a=t.maxFiles,A=t.validator;return!s&&e.length>1||s&&a>=1&&e.length>a?!1:e.every(function(u){var f=sM(u,n),m=Qh(f,1),w=m[0],C=aM(u,r,i),B=Qh(C,1),E=B[0],I=A?A(u):null;return w&&E&&!I})}function Nm(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function _1(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function pI(t){t.preventDefault()}function Q1e(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function H1e(t){return t.indexOf("Edge/")!==-1}function j1e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Q1e(t)||H1e(t)}function co(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return e.some(function(A){return!Nm(r)&&A&&A.apply(void 0,[r].concat(s)),Nm(r)})}}function P1e(){return"showOpenFilePicker"in window}function z1e(t){if(Cc(t)){var e=Object.entries(t).filter(function(n){var r=Qh(n,2),i=r[0],s=r[1],a=!0;return oM(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(s)||!s.every(lM))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(n,r){var i=Qh(r,2),s=i[0],a=i[1];return dI(dI({},n),{},rM({},s,a))},{});return[{description:"Files",accept:e}]}return t}function V1e(t){if(Cc(t))return Object.entries(t).reduce(function(e,n){var r=Qh(n,2),i=r[0],s=r[1];return[].concat(cI(e),[i],cI(s))},[]).filter(function(e){return oM(e)||lM(e)}).join(",")}function K1e(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function G1e(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function oM(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function lM(t){return/^.*\.[\w]+$/.test(t)}var $1e=["children"],W1e=["open"],X1e=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],q1e=["refKey","onChange","onClick"];function Y1e(t){return eme(t)||J1e(t)||AM(t)||Z1e()}function Z1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eme(t){if(Array.isArray(t))return sb(t)}function O2(t,e){return rme(t)||nme(t,e)||AM(t,e)||tme()}function tme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AM(t,e){if(t){if(typeof t=="string")return sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sb(t,e)}}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,A;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,A=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw A}}return r}}function rme(t){if(Array.isArray(t))return t}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){ab(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ab(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Om(t,e){if(t==null)return{};var n=ime(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ime(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var HC=H.forwardRef(function(t,e){var n=t.children,r=Om(t,$1e),i=lb(r),s=i.open,a=Om(i,W1e);return H.useImperativeHandle(e,function(){return{open:s}},[s]),An.createElement(H.Fragment,null,n(_r(_r({},a),{},{open:s})))});HC.displayName="Dropzone";var cM={disabled:!1,getFilesFromEvent:h1e,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};HC.defaultProps=cM;HC.propTypes={children:Bt.func,accept:Bt.objectOf(Bt.arrayOf(Bt.string)),multiple:Bt.bool,preventDropOnDocument:Bt.bool,noClick:Bt.bool,noKeyboard:Bt.bool,noDrag:Bt.bool,noDragEventsBubbling:Bt.bool,minSize:Bt.number,maxSize:Bt.number,maxFiles:Bt.number,disabled:Bt.bool,getFilesFromEvent:Bt.func,onFileDialogCancel:Bt.func,onFileDialogOpen:Bt.func,useFsAccessApi:Bt.bool,autoFocus:Bt.bool,onDragEnter:Bt.func,onDragLeave:Bt.func,onDragOver:Bt.func,onDrop:Bt.func,onDropAccepted:Bt.func,onDropRejected:Bt.func,onError:Bt.func,validator:Bt.func};var ob={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function lb(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=_r(_r({},cM),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,a=e.minSize,A=e.multiple,u=e.maxFiles,f=e.onDragEnter,m=e.onDragLeave,w=e.onDragOver,C=e.onDrop,B=e.onDropAccepted,E=e.onDropRejected,I=e.onFileDialogCancel,M=e.onFileDialogOpen,R=e.useFsAccessApi,L=e.autoFocus,U=e.preventDropOnDocument,O=e.noClick,F=e.noKeyboard,Q=e.noDrag,D=e.noDragEventsBubbling,j=e.onError,V=e.validator,W=H.useMemo(function(){return V1e(n)},[n]),Y=H.useMemo(function(){return z1e(n)},[n]),J=H.useMemo(function(){return typeof M=="function"?M:mI},[M]),re=H.useMemo(function(){return typeof I=="function"?I:mI},[I]),te=H.useRef(null),q=H.useRef(null),ie=H.useReducer(sme,ob),ae=O2(ie,2),se=ae[0],me=ae[1],ke=se.isFocused,ne=se.isFileDialogActive,he=H.useRef(typeof window<"u"&&window.isSecureContext&&R&&P1e()),Ne=function(){!he.current&&ne&&setTimeout(function(){if(q.current){var Ce=q.current.files;Ce.length||(me({type:"closeDialog"}),re())}},300)};H.useEffect(function(){return window.addEventListener("focus",Ne,!1),function(){window.removeEventListener("focus",Ne,!1)}},[q,ne,re,he]);var ye=H.useRef([]),Ge=function(Ce){te.current&&te.current.contains(Ce.target)||(Ce.preventDefault(),ye.current=[])};H.useEffect(function(){return U&&(document.addEventListener("dragover",pI,!1),document.addEventListener("drop",Ge,!1)),function(){U&&(document.removeEventListener("dragover",pI),document.removeEventListener("drop",Ge))}},[te,U]),H.useEffect(function(){return!r&&L&&te.current&&te.current.focus(),function(){}},[te,L,r]);var De=H.useCallback(function($e){j?j($e):console.error($e)},[j]),et=H.useCallback(function($e){$e.preventDefault(),$e.persist(),ci($e),ye.current=[].concat(Y1e(ye.current),[$e.target]),_1($e)&&Promise.resolve(i($e)).then(function(Ce){if(!(Nm($e)&&!D)){var de=Ce.length,Ue=de>0&&U1e({files:Ce,accept:W,minSize:a,maxSize:s,multiple:A,maxFiles:u,validator:V}),Re=de>0&&!Ue;me({isDragAccept:Ue,isDragReject:Re,isDragActive:!0,type:"setDraggedFiles"}),f&&f($e)}}).catch(function(Ce){return De(Ce)})},[i,f,De,D,W,a,s,A,u,V]),qe=H.useCallback(function($e){$e.preventDefault(),$e.persist(),ci($e);var Ce=_1($e);if(Ce&&$e.dataTransfer)try{$e.dataTransfer.dropEffect="copy"}catch{}return Ce&&w&&w($e),!1},[w,D]),vt=H.useCallback(function($e){$e.preventDefault(),$e.persist(),ci($e);var Ce=ye.current.filter(function(Ue){return te.current&&te.current.contains(Ue)}),de=Ce.indexOf($e.target);de!==-1&&Ce.splice(de,1),ye.current=Ce,!(Ce.length>0)&&(me({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),_1($e)&&m&&m($e))},[te,m,D]),Qt=H.useCallback(function($e,Ce){var de=[],Ue=[];$e.forEach(function(Re){var gt=sM(Re,W),Mt=O2(gt,2),Vt=Mt[0],Fe=Mt[1],_e=aM(Re,a,s),xe=O2(_e,2),Xe=xe[0],ze=xe[1],dt=V?V(Re):null;if(Vt&&Xe&&!dt)de.push(Re);else{var un=[Fe,ze];dt&&(un=un.concat(dt)),Ue.push({file:Re,errors:un.filter(function(gn){return gn})})}}),(!A&&de.length>1||A&&u>=1&&de.length>u)&&(de.forEach(function(Re){Ue.push({file:Re,errors:[L1e]})}),de.splice(0)),me({acceptedFiles:de,fileRejections:Ue,isDragReject:Ue.length>0,type:"setFiles"}),C&&C(de,Ue,Ce),Ue.length>0&&E&&E(Ue,Ce),de.length>0&&B&&B(de,Ce)},[me,A,W,a,s,u,C,B,E,V]),pt=H.useCallback(function($e){$e.preventDefault(),$e.persist(),ci($e),ye.current=[],_1($e)&&Promise.resolve(i($e)).then(function(Ce){Nm($e)&&!D||Qt(Ce,$e)}).catch(function(Ce){return De(Ce)}),me({type:"reset"})},[i,Qt,De,D]),fn=H.useCallback(function(){if(he.current){me({type:"openDialog"}),J();var $e={multiple:A,types:Y};window.showOpenFilePicker($e).then(function(Ce){return i(Ce)}).then(function(Ce){Qt(Ce,null),me({type:"closeDialog"})}).catch(function(Ce){K1e(Ce)?(re(Ce),me({type:"closeDialog"})):G1e(Ce)?(he.current=!1,q.current?(q.current.value=null,q.current.click()):De(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):De(Ce)});return}q.current&&(me({type:"openDialog"}),J(),q.current.value=null,q.current.click())},[me,J,re,R,Qt,De,Y,A]),Et=H.useCallback(function($e){!te.current||!te.current.isEqualNode($e.target)||($e.key===" "||$e.key==="Enter"||$e.keyCode===32||$e.keyCode===13)&&($e.preventDefault(),fn())},[te,fn]),Lr=H.useCallback(function(){me({type:"focus"})},[]),Gn=H.useCallback(function(){me({type:"blur"})},[]),bi=H.useCallback(function(){O||(j1e()?setTimeout(fn,0):fn())},[O,fn]),Dn=function(Ce){return r?null:Ce},Yt=function(Ce){return F?null:Dn(Ce)},Ht=function(Ce){return Q?null:Dn(Ce)},ci=function(Ce){D&&Ce.stopPropagation()},at=H.useMemo(function(){return function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ce=$e.refKey,de=Ce===void 0?"ref":Ce,Ue=$e.role,Re=$e.onKeyDown,gt=$e.onFocus,Mt=$e.onBlur,Vt=$e.onClick,Fe=$e.onDragEnter,_e=$e.onDragOver,xe=$e.onDragLeave,Xe=$e.onDrop,ze=Om($e,X1e);return _r(_r(ab({onKeyDown:Yt(co(Re,Et)),onFocus:Yt(co(gt,Lr)),onBlur:Yt(co(Mt,Gn)),onClick:Dn(co(Vt,bi)),onDragEnter:Ht(co(Fe,et)),onDragOver:Ht(co(_e,qe)),onDragLeave:Ht(co(xe,vt)),onDrop:Ht(co(Xe,pt)),role:typeof Ue=="string"&&Ue!==""?Ue:"presentation"},de,te),!r&&!F?{tabIndex:0}:{}),ze)}},[te,Et,Lr,Gn,bi,et,qe,vt,pt,F,Q,r]),qi=H.useCallback(function($e){$e.stopPropagation()},[]),ui=H.useMemo(function(){return function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ce=$e.refKey,de=Ce===void 0?"ref":Ce,Ue=$e.onChange,Re=$e.onClick,gt=Om($e,q1e),Mt=ab({accept:W,multiple:A,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Dn(co(Ue,pt)),onClick:Dn(co(Re,qi)),tabIndex:-1},de,q);return _r(_r({},Mt),gt)}},[q,n,A,pt,r]);return _r(_r({},se),{},{isFocused:ke&&!r,getRootProps:at,getInputProps:ui,rootRef:te,inputRef:q,open:Dn(fn)})}function sme(t,e){switch(e.type){case"focus":return _r(_r({},t),{},{isFocused:!0});case"blur":return _r(_r({},t),{},{isFocused:!1});case"openDialog":return _r(_r({},ob),{},{isFileDialogActive:!0});case"closeDialog":return _r(_r({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return _r(_r({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return _r(_r({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return _r({},ob);default:return t}}function mI(){}function ame(){const[t,e]=H.useState([]),[n,r]=H.useState(null),i=C=>{if(!C.target||!C.target.files)return;const E=Array.from(C.target.files).map(I=>new Promise(M=>{const R=new FileReader;R.onload=L=>{M({file:I,url:L.target.result,name:I.name})},R.readAsDataURL(I)}));Promise.all(E).then(I=>{e(M=>[...M,...I]),C.target&&(C.target.value="")})},s=C=>{e(B=>B.filter((E,I)=>I!==C))},a=C=>{const B=new FileReader;B.onload=E=>{r({file:C,url:E.target.result,name:C.name})},B.readAsDataURL(C)},A=()=>{const C=document.createElement("input");C.type="file",C.accept="image/*",C.onchange=B=>{const E=B.target.files[0];E&&a(E)},C.click()},u=()=>{const C=document.createElement("input");C.type="file",C.accept="image/*",C.multiple=!0,C.onchange=i,C.click()},f=(C,B="inner")=>{const E=C.map(I=>new Promise(M=>{const R=new FileReader;R.onload=L=>{M({file:I,url:L.target.result,name:I.name})},R.readAsDataURL(I)}));Promise.all(E).then(I=>{B==="cover"?I.length>0&&r(I[0]):e(M=>[...M,...I])})},m=lb({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!1,onDrop:C=>f(C,"cover"),onDropRejected:C=>{console.log("   :",C)}}),w=lb({accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},multiple:!0,onDrop:C=>f(C,"inner"),onDropRejected:C=>{console.log("   :",C)}});return{imageList:t,setImageList:e,coverImage:n,setCoverImage:r,handleImageChange:i,handleRemoveImage:s,openFileDialogForCover:A,openFileDialogForInner:u,coverDropzone:m,innerDropzone:w,handleDrop:f}}function xI({type:t}){const{id:e}=Ls(),n=Wt(),{showConfirm:r}=Zc(),{showAlert:i}=Kn(),[s,a]=H.useState(null),[A,u]=H.useState(""),[f,m]=H.useState(!1),[w,C]=H.useState(null),{imageList:B,setImageList:E,coverImage:I,setCoverImage:M,coverDropzone:R,innerDropzone:L,openFileDialogForCover:U,openFileDialogForInner:O,handleRemoveImage:F}=ame();H.useEffect(()=>{(async()=>{var J;try{m(!0);const re=t==="galleries"?"galleryCategory":"exhibitionCategory",te=await nt.get("/api/leaflet",{params:{category:re,category_id:e}});let q=null;if(Array.isArray(te.data)?te.data.length>0&&(q=te.data[0]):q=te.data,q&&(C(q),a(q.id),u(q.title||""),q.image_urls&&q.image_urls.length>0&&(q.image_urls[0]&&M({url:q.image_urls[0],file:null,isNew:!1}),q.image_urls.length>1))){const ie=q.image_urls.slice(1).map(ae=>({url:ae,file:null,isNew:!1}));E(ie)}}catch(re){console.error("  :",re),((J=re.response)==null?void 0:J.status)!==404&&i("   .","error")}finally{m(!1)}})()},[e,t,M,E]);const Q=()=>{if(!s){i("  !");return}n(`/view/leaflet/${t}/${e}`)},D=async()=>{if(!(!s||!await r("   ?",!0)))try{m(!0),await nt.delete(`/api/leaflet/${s}`),i(" ."),n(`/console/${t}/${e}`)}catch(J){console.error("  :",J),i("  .","error"),m(!1)}},j=async(Y,J)=>{try{const re=Y.includes("?")?`${Y}&t=${Date.now()}`:`${Y}?t=${Date.now()}`,te=await fetch(re,{mode:"cors"});if(!te.ok)throw new Error(`  : ${te.status}`);const q=await te.blob(),ie=q.type.split("/")[1]||"jpg",ae=`reupload_${Date.now()}_${J}.${ie}`;return new File([q],ae,{type:q.type})}catch(re){return console.error(`(${Y})   :`,re),null}},V=async()=>{if(!A.trim()){i("  !");return}if(!I){i("  !");return}try{m(!0);const Y=t==="galleries"?"galleryCategory":"exhibitionCategory",J=[I,...B],re=J.some(me=>me.file);if(s&&w&&!re){console.log(" /  -> PATCH");const me=J.map(ke=>ke.url);await nt.patch(`/api/leaflet/${s}`,{title:A.trim(),category:Y,image_urls:me}),i("  !");return}console.log("   ->    ");const te=J.map(async(me,ke)=>me.file?me.file:await j(me.url,ke)),ie=(await Promise.all(te)).filter(me=>me!==null);if(ie.length!==J.length){console.error("   ."),i("    .      ."),m(!1);return}const ae=new FormData;ie.forEach(me=>{ae.append("image[]",me)}),ae.append("title",A.trim()),ae.append("category",Y),ae.append("categoryId",e);const se=await nt.post("/api/leaflet",ae,{headers:{"Content-Type":"multipart/form-data"}});if(se.data&&se.data.id){const me=se.data.id;if(s)try{console.log(` (${me})  .  (${s})  .`),await nt.delete(`/api/leaflet/${s}`)}catch(ke){console.warn("    ():",ke)}i("  .")}}catch{i("    .","error")}finally{m(!1)}},W=!I&&B.length===0;return g.jsxs("div",{className:Mr.layout,children:[g.jsxs("div",{className:Mr.layoutTitle,children:[" ",g.jsx("button",{className:Mr.backButton,onClick:()=>{n(-1)},children:g.jsx(C5,{})})]}),g.jsxs("div",{className:Mr.mainContentContainer,children:[g.jsxs("div",{className:Mr.formSection,children:[g.jsxs("div",{className:Mr.inputGroup,children:[g.jsx("label",{className:Mr.label,children:" "}),g.jsx("input",{type:"text",value:A,onChange:Y=>u(Y.target.value),placeholder:" .",className:Mr.textInput,disabled:f})]}),g.jsxs("div",{className:Mr.contentGrid,children:[g.jsx("div",{className:Mr.leftColumn,children:g.jsx($ge,{coverImage:I,setCoverImage:M,openFileDialogForCover:U,coverDropzone:R})}),g.jsx("div",{className:Mr.rightColumn,children:g.jsx(c1e,{imageList:B,setImageList:E,handleRemoveImage:F,openFileDialogForInner:O,innerDropzone:L})})]})]}),g.jsx("div",{className:Mr.actionFooter,children:g.jsxs("div",{className:Mr.buttonGroup,children:[g.jsx("button",{className:`${Mr.actionButton} ${Mr.previewBtn}`,onClick:Q,disabled:W,children:""}),s?g.jsxs("div",{className:Mr.editModeButtons,children:[g.jsx("button",{className:`${Mr.actionButton} ${Mr.submitBtn}`,onClick:V,disabled:W||f,children:f?" ...":" "}),g.jsx("button",{className:`${Mr.actionButton} ${Mr.deleteBtn}`,onClick:D,disabled:f,children:""})]}):g.jsx("button",{className:`${Mr.actionButton} ${Mr.submitBtn}`,onClick:V,disabled:W||f,children:f?" ...":" "})]})})]})]})}const ome="_layout_11fk5_3",lme="_list_11fk5_49",Ame="_notificationItem_11fk5_65",cme="_iconArea_11fk5_97",ume="_icon_11fk5_97",dme="_contentArea_11fk5_131",fme="_headerRow_11fk5_141",hme="_notiTitle_11fk5_155",pme="_timestamp_11fk5_169",gme="_notiBody_11fk5_185",mme="_tabContainer_11fk5_223",xme="_tabButton_11fk5_237",wme="_activeTab_11fk5_265",Vr={layout:ome,list:lme,notificationItem:Ame,iconArea:cme,icon:ume,contentArea:dme,headerRow:fme,notiTitle:hme,timestamp:pme,notiBody:gme,tabContainer:mme,tabButton:xme,activeTab:wme},yme=t=>t?new Date(t.replace(" ","T")+"+09:00"):new Date,vme=t=>{const e=yme(t),r=new Date-e,i=Math.floor(r/(1e3*60)),s=Math.floor(r/(1e3*60*60)),a=Math.floor(r/(1e3*60*60*24));return i<1?" ":i<60?`${i} `:s<24?`${s} `:a<7?`${a} `:e.toLocaleDateString("ko-KR")},bme=()=>g.jsx(s5,{size:22,className:Vr.icon});function Cme(){const[t,e]=H.useState("sent"),[n,r]=H.useState([]),[i,s]=H.useState(!0),[a,A]=H.useState(null),u=H.useCallback(async()=>{var f;try{s(!0),A(null);const m=localStorage.getItem("ACCESS_TOKEN"),w=t==="sent"?"/api/notification/console":"/api/notification/user",C=await nt.get(w,{headers:{Authorization:`Bearer ${m}`}}),I=(Array.isArray((f=C.data)==null?void 0:f.data)?C.data.data:[]).map(M=>({id:M.notification_id||M.id,title:M.title,body:M.body||M.content,create_dtm:M.create_dtm})).sort((M,R)=>new Date(R.create_dtm).getTime()-new Date(M.create_dtm).getTime());r(I)}catch(m){console.error(m),A("    .")}finally{s(!1)}},[t]);return H.useEffect(()=>{u()},[u]),H.useEffect(()=>{const f=()=>{console.log(" NEW_NOTIFICATION      "),u()};return window.addEventListener("NEW_NOTIFICATION",f),()=>window.removeEventListener("NEW_NOTIFICATION",f)},[u]),i?g.jsx("div",{className:Vr.layout,children:" ..."}):a?g.jsx("div",{className:Vr.layout,children:a}):n.length===0?g.jsx("div",{className:Vr.layout,children:g.jsx("h2",{children:"   ."})}):g.jsxs("div",{className:Vr.layout,children:[g.jsxs("div",{className:Vr.tabContainer,children:[g.jsx("button",{className:`${Vr.tabButton} ${t==="sent"?Vr.activeTab:""}`,onClick:()=>e("sent"),children:" "}),g.jsx("button",{className:`${Vr.tabButton} ${t==="received"?Vr.activeTab:""}`,onClick:()=>e("received"),children:" "})]}),i?g.jsx("div",{className:Vr.loading,children:" ..."}):a?g.jsx("div",{className:Vr.error,children:a}):n.length===0?g.jsx("div",{className:Vr.empty,children:" ."}):g.jsx("div",{className:Vr.list,children:n.map((f,m)=>g.jsxs("div",{className:Vr.notificationItem,children:[g.jsx("div",{className:Vr.iconArea,children:g.jsx(bme,{})}),g.jsxs("div",{className:Vr.contentArea,children:[g.jsxs("div",{className:Vr.headerRow,children:[g.jsx("span",{className:Vr.notiTitle,children:f.title}),g.jsx("span",{className:Vr.timestamp,children:vme(f.create_dtm)})]}),g.jsx("p",{className:Vr.notiBody,children:f.body})]})]},`${f.id}-${m}`))})]})}const Bme="_container_1ktes_3",_me="_image_1ktes_27",Eme="_info_1ktes_41",Sme="_productName_1ktes_49",Tme="_artist_1ktes_59",Ime="_guide_1ktes_71",Nme="_textArea_1ktes_87",Ome="_checkboxBlock_1ktes_113",Mme="_checkboxLabel_1ktes_163",kme="_checkbox_1ktes_113",Fme="_checkboxText_1ktes_191",Dme="_expandedContent_1ktes_203",Rme="_expandedActive_1ktes_225",Lme="_expandedTitle_1ktes_251",Ume="_expandedList_1ktes_265",Qme="_fileInputArea_1ktes_289",Hme="_fileInputLabel_1ktes_305",jme="_fileInput_1ktes_289",Pme="_fileName_1ktes_331",zme="_buttonRow_1ktes_341",Vme="_containerExpanded_1ktes_357",Kme="_saveBtn_1ktes_391",Gme="_cancelBtn_1ktes_393",rr={container:Bme,image:_me,info:Eme,productName:Sme,artist:Tme,guide:Ime,textArea:Nme,checkboxBlock:Ome,checkboxLabel:Mme,checkbox:kme,checkboxText:Fme,expandedContent:Dme,expandedActive:Rme,expandedTitle:Lme,expandedList:Ume,fileInputArea:Qme,fileInputLabel:Hme,fileInput:jme,fileName:Pme,buttonRow:zme,containerExpanded:Vme,saveBtn:Kme,cancelBtn:Gme};function $me({autoGenerate:t=!1}){var j;const{id:e}=Ls(),[n,r]=H.useState(null),[i,s]=H.useState(""),[a,A]=H.useState(!1),[u,f]=H.useState(!1),[m,w]=H.useState(""),[C,B]=H.useState(!1),[E,I]=H.useState(null),{showAlert:M}=Kn(),R=Wt(),L=(n==null?void 0:n.art_title)||"",U=(n==null?void 0:n.artist_name)||((j=n==null?void 0:n.artist)==null?void 0:j.artist_name)||"",O=(n==null?void 0:n.art_image)||"https://images.unsplash.com/photo-1570393080660-de4e4a15a247?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OTF8fEFydHxlbnwwfHwwfHx8MA%3D%3D",F=async V=>{var W,Y,J;A(!0),w("");try{const re=await nt.get(`/api/arts/${V}`),te=((W=re.data)==null?void 0:W.data)??re.data;if(!te){w("    ."),r(null),s("");return}r(te),s((te==null?void 0:te.art_docent)||"")}catch(re){w(((J=(Y=re.response)==null?void 0:Y.data)==null?void 0:J.message)||"     ."),r(null),s("")}finally{A(!1)}};H.useEffect(()=>{e&&F(e)},[e]);const Q=async()=>{if(!e)return M("  ID .");if(!i.trim())return M("  .");if(!n)return M("   .    .");try{f(!0);const V=new FormData;V.append("_method","PATCH"),n.art_title&&V.append("art_title",n.art_title),n.art_description&&V.append("art_description",n.art_description),n.artist_id&&V.append("artist_id",n.artist_id),n.artist_name&&V.append("artist_name",n.artist_name),n.art_material&&V.append("art_material",n.art_material),n.art_size&&V.append("art_size",n.art_size),n.art_year&&V.append("art_year",n.art_year),n.art_price&&V.append("art_price",n.art_price),V.append("art_docent",i),n.art_image&&typeof n.art_image=="string"&&V.append("art_image",n.art_image),n.art_images&&V.append("art_images",n.art_images),n.art_image_mime&&V.append("art_image_mime",n.art_image_mime),n.art_image_name&&V.append("art_image_name",n.art_image_name),n.art_image_size&&V.append("art_image_size",n.art_image_size);const W=await nt.post(`/api/arts/${e}`,V,{headers:{"Content-Type":void 0}}),Y=new FormData;Y.append("docent_script",i),Y.append("art_name",L),E&&Y.append("docent_img",E),nt.post(`/api/docents/${e}?type=${C?"video":"audio"}`,Y,{headers:{"Content-Type":void 0}}),M(" ."),await F(e),R(`/console/artworks/${e}`)}catch(V){M("    ."),console.error(V)}finally{f(!1)}},D=()=>{confirm("     . ?")&&(s((n==null?void 0:n.art_docent)||""),R(`/console/artworks/${e}`))};return e?g.jsx("div",{className:`${rr.container} ${C?rr.containerExpanded:""}`,children:a?g.jsx("div",{className:rr.guide,children:"   ..."}):g.jsxs(g.Fragment,{children:[g.jsx("img",{src:O,alt:L,className:rr.image}),g.jsxs("div",{className:rr.info,children:[g.jsx("div",{className:rr.productName,children:L}),g.jsx("div",{className:rr.artist,children:U})]}),m&&g.jsx("div",{className:rr.guide,style:{color:"#ef4444"},children:m}),g.jsx("p",{className:rr.guide,children:"    ."}),g.jsx("textarea",{className:rr.textArea,value:i,onChange:V=>s(V.target.value),placeholder:"  .",disabled:a}),g.jsxs("div",{className:rr.checkboxBlock,children:[g.jsxs("label",{className:rr.checkboxLabel,children:[g.jsx("input",{type:"checkbox",checked:C,onChange:V=>B(V.target.checked),className:rr.checkbox}),g.jsx("span",{className:rr.checkboxText,children:"  ."})]}),g.jsxs("div",{className:`${rr.expandedContent} ${C?rr.expandedActive:""}`,children:[g.jsx("p",{className:rr.expandedTitle,children:"  "}),g.jsxs("ul",{className:rr.expandedList,children:[g.jsx("li",{children:"  ,          ."}),g.jsx("li",{children:"       ."}),g.jsx("li",{children:"       ."}),g.jsx("li",{children:"========================================"}),g.jsx("li",{children:"     .       ."})]}),g.jsxs("div",{className:rr.fileInputArea,children:[g.jsxs("label",{className:rr.fileInputLabel,children:[g.jsx("input",{type:"file",accept:"image/*",onChange:V=>I(V.target.files&&V.target.files[0]?V.target.files[0]:null),className:rr.fileInput}),g.jsx("span",{className:rr.checkboxText})]}),E&&g.jsx("div",{className:rr.fileName,children:E.name})]})]})]}),g.jsxs("div",{className:rr.buttonRow,children:[g.jsx("button",{className:rr.saveBtn,onClick:Q,disabled:u||!!m||a,children:u?" ...":""}),g.jsx("button",{className:rr.cancelBtn,onClick:D,disabled:u||a,children:""})]})]})}):g.jsx("div",{className:rr.container,children:"  ID ."})}function Wme(){return null}const Xme="_layout_sbqx4_1",qme="_header_sbqx4_15",Yme="_title_sbqx4_41",Zme="_backButton_sbqx4_51",Jme="_formContainer_sbqx4_69",e0e="_bottomButtonContainer_sbqx4_83",t0e="_button_sbqx4_105",n0e="_cancelButton_sbqx4_125",r0e="_saveButton_sbqx4_135",uo={layout:Xme,header:qme,title:Yme,backButton:Zme,formContainer:Jme,bottomButtonContainer:e0e,button:t0e,cancelButton:n0e,saveButton:r0e},i0e=(t,e,n,r)=>{const[i,s]=H.useState(null),[a,A]=H.useState(!0),[u]=B8(),f=Wt(),{showAlert:m}=Kn();return H.useEffect(()=>{r&&(async()=>{A(!0);try{let C={},B=null;if(n){const E=u.get("exhibition_id"),I=u.get("gallery_id");E&&(C.exhibition_id=E),I&&(C.gallery_id=I),B=I}else{const E=await nt.get(r.apiUrl(e));C=typeof E.data=="string"?JSON.parse(E.data):E.data,B=C.gallery_id}if(t==="exhibitions"&&!n&&(C._originalArtworks=[...C.artworks||[]],C._originalArtists=[...C.artists||[]]),t==="artworks"&&B)try{const E=await nt.get(`/api/exhibitions?gallery_id=${B}`);C.exhibitions=Array.isArray(E.data)?E.data:[],!n&&C.exhibitions_connected&&(C.selected_exhibition_ids=C.exhibitions_connected.map(I=>I.id))}catch(E){console.error("   :",E),C.exhibitions=[]}s(C)}catch(C){console.error("  :",C),m("  ."),f(`/console/${t}`)}finally{A(!1)}})()},[t,e,n,r,u,f]),{data:i,setData:s,isLoading:a}},wa=t=>t.id||t.artist_id,s0e=(t,e,n,r,i,s)=>{const[a,A]=H.useState(!1),[u,f]=H.useState(null),{showAlert:m}=Kn(),[w]=B8(),C=()=>{if(t==="artworks"){if(!i.art_title)return" .";if(!i.artist_id)return" .";if(n&&!u)return"  ."}if(t==="galleries"&&!i.gallery_name)return" .";if(t==="exhibitions"){if(n&&!i.gallery_id)return"  .";if(!i.exhibition_title)return" ."}return null},B=()=>{var L;const R=new FormData;if(n||R.append("_method","PATCH"),Object.entries(i).forEach(([U,O])=>{if(O!=null&&!["artists","artworks","_originalArtworks","_originalArtists"].includes(U)){if(U==="gallery_sns"&&Array.isArray(O)){const F=O.filter(Q=>Q.type!=="twitter");R.append(U,JSON.stringify(F));return}typeof O=="object"&&!(O instanceof File)?R.append(U,JSON.stringify(O)):R.append(U,O)}}),!R.has("gallery_id")){const U=i.gallery_id||((L=i.gallery)==null?void 0:L.id);U&&R.append("gallery_id",U)}return u&&R.append(r.formImageField,u),R},E=async R=>{const L=i.artworks||[],U=i._originalArtworks||[],O=L.filter(te=>!U.some(q=>wa(q)===wa(te))),F=U.filter(te=>!L.some(q=>wa(q)===wa(te))),Q=[...O.map(te=>nt.post(`/api/exhibitions/${R}/arts`,{art_id:wa(te),display_order:0})),...F.map(te=>nt.delete(`/api/exhibitions/${R}/arts/${wa(te)}`))],D=i.artists||[],j=i._originalArtists||[],V=D.filter(te=>!j.some(q=>wa(q)===wa(te))),W=j.filter(te=>!D.some(q=>wa(q)===wa(te))),Y=V.map(te=>wa(te)).filter(Boolean),J=Y.length>0?nt.post(`/api/exhibitions/${R}/artists`,{artist_ids:Y}):Promise.resolve(),re=W.map(te=>nt.delete(`/api/exhibitions/${R}/artists/${wa(te)}`));try{await Promise.all([...Q,J,...re]),console.log(` : (${O.length}/${F.length}), (${V.length}/${W.length})`)}catch(te){console.error("   :",te),m("      .")}},I=async R=>{const L=w.get("exhibition_id")||i.exhibition_id,U=i.selected_exhibition_ids||[],O=new Set([...U]);if(L&&O.add(Number(L)),console.log("   IDs:",Array.from(O)),O.size>0&&R){const F=Array.from(O).map(Q=>nt.post(`/api/exhibitions/${Q}/arts`,{art_id:R,display_order:0}));await Promise.all(F)}};return{handleSave:async()=>{var L;if(a||!i)return;const R=C();if(R)return m(R);A(!0);try{const U=B(),O=await nt.post(r.apiUrl(e),U,{headers:{"Content-Type":"multipart/form-data"}}),F=n?((L=O.data.data)==null?void 0:L.id)||O.data.id:e;t==="exhibitions"&&F?await E(F):t==="artworks"&&await I(F),m(n?`${t==="galleries"?"":t==="exhibitions"?"":""} .`:"."),n?s("/console/main",{state:{activeTab:t==="galleries"?"":t==="exhibitions"?"":""}}):s(`/console/${t}/${e}`)}catch(U){console.error(" :",U),m("   .")}finally{A(!1)}},isSaving:a,setSelectedImageFile:f}},a0e="_card_hijaa_1",o0e="_input_hijaa_17",l0e="_tagInputField_hijaa_19",A0e="_timeInput_hijaa_21",c0e="_galleryNameInput_hijaa_55",u0e="_gallerySubNameInput_hijaa_73",d0e="_imageUploadBox_hijaa_99",f0e="_previewImage_hijaa_129",h0e="_previewImageDesc_hijaa_141",p0e="_imageDelBtn_hijaa_149",g0e="_inputGroup_hijaa_185",m0e="_label_hijaa_199",x0e="_tagInputContainer_hijaa_211",w0e="_tagItem_hijaa_231",y0e="_removeTagBtn_hijaa_251",v0e="_timeInputContainer_hijaa_293",b0e="_checkboxGroup_hijaa_313",C0e="_snsCard_hijaa_339",B0e="_snsInputGroup_hijaa_349",_0e="_tiptap_hijaa_363",E0e="_emptyContent_hijaa_381",S0e="_uploadButton_hijaa_395",T0e="_artistSelectRow_hijaa_423",I0e="_selectButton_hijaa_435",N0e="_modalOverlay_hijaa_467",O0e="_modalBox_hijaa_487",M0e="_inputDocent_hijaa_503",k0e="_docent_hijaa_515",F0e="_textarea_hijaa_527",D0e="_exhibitionListWrapper_hijaa_561",R0e="_exhibitionItem_hijaa_575",L0e="_exhibitionTitle_hijaa_595",U0e="_statusBadge_hijaa_605",Q0e="_exhibited_hijaa_619",H0e="_scheduled_hijaa_629",j0e="_ended_hijaa_639",P0e="_emptyText_hijaa_657",z0e="_helperText_hijaa_667",V0e="_addHeaderContainer_hijaa_679",K0e="_artworkSection_hijaa_693",G0e="_addBtn_hijaa_703",$0e="_artworkGrid_hijaa_737",W0e="_artworkCard_hijaa_749",X0e="_artworkThumb_hijaa_779",q0e="_artworkMeta_hijaa_795",Y0e="_artworkTitle_hijaa_809",Z0e="_artworkArtist_hijaa_827",J0e="_removeBtn_hijaa_837",exe="_fullWidth_hijaa_869",txe="_addArtistBtn_hijaa_877",nxe="_artistList_hijaa_889",rxe="_artistItem_hijaa_901",ixe="_artistName_hijaa_919",sxe="_artistThumb_hijaa_931",Se={card:a0e,input:o0e,tagInputField:l0e,timeInput:A0e,galleryNameInput:c0e,gallerySubNameInput:u0e,imageUploadBox:d0e,previewImage:f0e,previewImageDesc:h0e,imageDelBtn:p0e,inputGroup:g0e,label:m0e,tagInputContainer:x0e,tagItem:w0e,removeTagBtn:y0e,timeInputContainer:v0e,checkboxGroup:b0e,snsCard:C0e,snsInputGroup:B0e,tiptap:_0e,emptyContent:E0e,uploadButton:S0e,artistSelectRow:T0e,selectButton:I0e,modalOverlay:N0e,modalBox:O0e,inputDocent:M0e,docent:k0e,textarea:F0e,exhibitionListWrapper:D0e,exhibitionItem:R0e,exhibitionTitle:L0e,statusBadge:U0e,exhibited:Q0e,scheduled:H0e,ended:j0e,default:"_default_hijaa_647",emptyText:P0e,helperText:z0e,addHeaderContainer:V0e,artworkSection:K0e,addBtn:G0e,artworkGrid:$0e,artworkCard:W0e,artworkThumb:X0e,artworkMeta:q0e,artworkTitle:Y0e,artworkArtist:Z0e,removeBtn:J0e,fullWidth:exe,addArtistBtn:txe,artistList:nxe,artistItem:rxe,artistName:ixe,artistThumb:sxe};var M2={exports:{}},k2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI;function axe(){if(wI)return k2;wI=1;var t=HA();function e(w,C){return w===C&&(w!==0||1/w===1/C)||w!==w&&C!==C}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function A(w,C){var B=C(),E=r({inst:{value:B,getSnapshot:C}}),I=E[0].inst,M=E[1];return s(function(){I.value=B,I.getSnapshot=C,u(I)&&M({inst:I})},[w,B,C]),i(function(){return u(I)&&M({inst:I}),w(function(){u(I)&&M({inst:I})})},[w]),a(B),B}function u(w){var C=w.getSnapshot;w=w.value;try{var B=C();return!n(w,B)}catch{return!0}}function f(w,C){return C()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:A;return k2.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,k2}var yI;function uM(){return yI||(yI=1,M2.exports=axe()),M2.exports}var dM=uM();function Ni(t){this.content=t}Ni.prototype={constructor:Ni,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Ni(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ni(n)},addToStart:function(t,e){return new Ni([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ni(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Ni(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ni.from(t),t.size?new Ni(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ni.from(t),t.size?new Ni(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ni.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ni.from=function(t){if(t instanceof Ni)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ni(e)};function fM(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=fM(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function hM(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=t.child(--i),A=e.child(--s),u=a.nodeSize;if(a==A){n-=u,r-=u;continue}if(!a.sameMarkup(A))return{a:n,b:r};if(a.isText&&a.text!=A.text){let f=0,m=Math.min(a.text.length,A.text.length);for(;f<m&&a.text[a.text.length-f-1]==A.text[A.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(a.content.size||A.content.size){let f=hM(a.content,A.content,n-1,r-1);if(f)return f}n-=u,r-=u}}class We{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let a=0,A=0;A<n;a++){let u=this.content[a],f=A+u.nodeSize;if(f>e&&r(u,i+A,s||null,a)!==!1&&u.content.size){let m=A+1;u.nodesBetween(Math.max(0,e-m),Math.min(u.content.size,n-m),r,i+m)}A=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",a=!0;return this.nodesBetween(e,n,(A,u)=>{let f=A.isText?A.text.slice(Math.max(e,u)-u,n-u):A.isLeaf?i?typeof i=="function"?i(A):i:A.type.spec.leafText?A.type.spec.leafText(A):"":"";A.isBlock&&(A.isLeaf&&f||A.isTextblock)&&r&&(a?a=!1:s+=r),s+=f},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new We(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,a=0;a<n;s++){let A=this.content[s],u=a+A.nodeSize;u>e&&((a<e||u>n)&&(A.isText?A=A.cut(Math.max(0,e-a),Math.min(A.text.length,n-a)):A=A.cut(Math.max(0,e-a-1),Math.min(A.content.size,n-a-1))),r.push(A),i+=A.nodeSize),a=u}return new We(r,i)}cutByIndex(e,n){return e==n?We.empty:e==0&&n==this.content.length?this:new We(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new We(i,s)}addToStart(e){return new We([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new We(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return fM(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return hM(this,e,n,r)}findIndex(e){if(e==0)return E1(0,e);if(e==this.size)return E1(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?E1(n+1,s):E1(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return We.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new We(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return We.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new We(n||e,r)}static from(e){if(!e)return We.empty;if(e instanceof We)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new We([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}We.empty=new We([],0);const F2={index:0,offset:0};function E1(t,e){return F2.index=t,F2.offset=e,F2}function Mm(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Mm(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Mm(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let ir=class Ab{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Mm(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ab.none;if(e instanceof Ab)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};ir.none=[];class km extends Error{}class ct{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=gM(this.content,e+this.openStart,n);return r&&new ct(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ct(pM(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ct.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ct(We.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new ct(e,r,i)}}ct.empty=new ct(We.empty,0,0);function pM(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:A}=t.findIndex(n);if(i==e||s.isText){if(A!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(pM(s.content,e-i-1,n-i-1)))}function gM(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let A=gM(a.content,e-s-1,n,a);return A&&t.replaceChild(i,a.copy(A))}function oxe(t,e,n){if(n.openStart>t.depth)throw new km("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new km("Inconsistent open depths");return mM(t,e,n,0)}function mM(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=mM(t,e,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,A=a.content;return Lc(a,A.cut(0,t.parentOffset).append(n.content).append(A.cut(e.parentOffset)))}else{let{start:a,end:A}=lxe(n,t);return Lc(s,wM(t,a,A,e,r))}else return Lc(s,Fm(t,e,r))}function xM(t,e){if(!e.type.compatibleContent(t.type))throw new km("Cannot join "+e.type.name+" onto "+t.type.name)}function cb(t,e,n){let r=t.node(n);return xM(r,e.node(n)),r}function Rc(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function yh(t,e,n,r){let i=(e||t).node(n),s=0,a=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Rc(t.nodeAfter,r),s++));for(let A=s;A<a;A++)Rc(i.child(A),r);e&&e.depth==n&&e.textOffset&&Rc(e.nodeBefore,r)}function Lc(t,e){return t.type.checkContent(e),t.copy(e)}function wM(t,e,n,r,i){let s=t.depth>i&&cb(t,e,i+1),a=r.depth>i&&cb(n,r,i+1),A=[];return yh(null,t,i,A),s&&a&&e.index(i)==n.index(i)?(xM(s,a),Rc(Lc(s,wM(t,e,n,r,i+1)),A)):(s&&Rc(Lc(s,Fm(t,e,i+1)),A),yh(e,n,i,A),a&&Rc(Lc(a,Fm(n,r,i+1)),A)),yh(r,null,i,A),new We(A)}function Fm(t,e,n){let r=[];if(yh(null,t,n,r),t.depth>n){let i=cb(t,e,n+1);Rc(Lc(i,Fm(t,e,n+1)),r)}return yh(e,null,n,r),new We(r)}function lxe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(We.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Hh{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return ir.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let A=r;r=i,i=A}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Dm(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=e;;){let{index:A,offset:u}=a.content.findIndex(s),f=s-u;if(r.push(a,A,i+u),!f||(a=a.child(A),a.isText))break;s=f-1,i+=u+1}return new Hh(n,r,s)}static resolveCached(e,n){let r=vI.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else vI.set(e,r=new Axe);let i=r.elts[r.i]=Hh.resolve(e,n);return r.i=(r.i+1)%cxe,i}}class Axe{constructor(){this.elts=[],this.i=0}}const cxe=12,vI=new WeakMap;class Dm{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const uxe=Object.create(null);let MA=class ub{constructor(e,n,r,i=ir.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||We.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Mm(this.attrs,n||e.defaultAttrs||uxe)&&ir.sameSet(this.marks,r||ir.none)}copy(e=null){return e==this.content?this:new ub(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ub(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ct.empty;let i=this.resolve(e),s=this.resolve(n),a=r?0:i.sharedDepth(n),A=i.start(a),f=i.node(a).content.cut(i.pos-A,s.pos-A);return new ct(f,i.depth-a,s.depth-a)}replace(e,n,r){return oxe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Hh.resolveCached(this,e)}resolveNoCache(e){return Hh.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),yM(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=We.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),A=a&&a.matchFragment(this.content,n);if(!A||!A.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ir.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!ir.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=We.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};MA.prototype.text=void 0;class Rm extends MA{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):yM(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Rm(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Rm(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function yM(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Kc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new dxe(e,n);if(r.next==null)return Kc.empty;let i=vM(r);r.next&&r.err("Unexpected trailing text");let s=wxe(xxe(i));return yxe(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(a,A){let u=a.matchFragment(e,r);if(u&&(!n||u.validEnd))return We.from(A.map(f=>f.createAndFill()));for(let f=0;f<a.next.length;f++){let{type:m,next:w}=a.next[f];if(!(m.isText||m.hasRequiredAttrs())&&i.indexOf(w)==-1){i.push(w);let C=s(w,A.concat(m));if(C)return C}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let A=i;A.type;A=A.via)a.push(A.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:A,next:u}=s.next[a];!A.isLeaf&&!A.hasRequiredAttrs()&&!(A.name in n)&&(!i.type||u.validEnd)&&(r.push({match:A.contentMatch,type:A,via:i}),n[A.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}Kc.empty=new Kc(!0);class dxe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function vM(t){let e=[];do e.push(fxe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function fxe(t){let e=[];do e.push(hxe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function hxe(t){let e=mxe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=pxe(t,e);else break;return e}function bI(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function pxe(t,e){let n=bI(t),r=n;return t.eat(",")&&(t.next!="}"?r=bI(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function gxe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function mxe(t){if(t.eat("(")){let e=vM(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=gxe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function xxe(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(a,A,u){let f={term:u,to:A};return e[a].push(f),f}function i(a,A){a.forEach(u=>u.to=A)}function s(a,A){if(a.type=="choice")return a.exprs.reduce((u,f)=>u.concat(s(f,A)),[]);if(a.type=="seq")for(let u=0;;u++){let f=s(a.exprs[u],A);if(u==a.exprs.length-1)return f;i(f,A=n())}else if(a.type=="star"){let u=n();return r(A,u),i(s(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return i(s(a.expr,A),u),i(s(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(A)].concat(s(a.expr,A));if(a.type=="range"){let u=A;for(let f=0;f<a.min;f++){let m=n();i(s(a.expr,u),m),u=m}if(a.max==-1)i(s(a.expr,u),u);else for(let f=a.min;f<a.max;f++){let m=n();r(u,m),i(s(a.expr,u),m),u=m}return[r(u)]}else{if(a.type=="name")return[r(A,void 0,a.value)];throw new Error("Unknown expr type")}}}}function bM(t,e){return e-t}function CI(t,e){let n=[];return r(e),n.sort(bM);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:A,to:u}=s[a];!A&&n.indexOf(u)==-1&&r(u)}}}function wxe(t){let e=Object.create(null);return n(CI(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:A,to:u})=>{if(!A)return;let f;for(let m=0;m<i.length;m++)i[m][0]==A&&(f=i[m][1]);CI(t,u).forEach(m=>{f||i.push([A,f=[]]),f.indexOf(m)==-1&&f.push(m)})})});let s=e[r.join(",")]=new Kc(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let A=i[a][1].sort(bM);s.next.push({type:i[a][0],next:e[A.join(",")]||n(A)})}return s}}function yxe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let A=0;A<i.next.length;A++){let{type:u,next:f}=i.next[A];a.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(f)==-1&&r.push(f)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function CM(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function BM(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function _M(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function EM(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new bxe(t,r,e[r]);return n}let BI=class SM{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=EM(e,r.attrs),this.defaultAttrs=CM(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Kc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:BM(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new MA(this,this.computeAttrs(e),We.from(n),ir.setFrom(r))}createChecked(e=null,n,r){return n=We.from(n),this.checkContent(n),new MA(this,this.computeAttrs(e),n,ir.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=We.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(We.empty,!0);return s?new MA(this,e,n.append(s),ir.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){_M(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:ir.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new SM(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function vxe(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class bxe{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?vxe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class $0{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=EM(e,i.attrs),this.excluded=null;let s=CM(this.attrs);this.instance=s?new ir(this,s):null}create(e=null){return!e&&this.instance?this.instance:new ir(this,BM(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new $0(s,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){_M(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class TM{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Ni.from(e.nodes),n.marks=Ni.from(e.marks||{}),this.nodes=BI.compile(this.spec.nodes,this),this.marks=$0.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",A=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=Kc.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=A=="_"?null:A?_I(this,A.split(" ")):A==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:_I(this,a.split(" "))}this.nodeFromJSON=i=>MA.fromJSON(this,i),this.markFromJSON=i=>ir.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof BI){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Rm(r,r.defaultAttrs,e,ir.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function _I(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],a=s;if(s)n.push(s);else for(let A in t.marks){let u=t.marks[A];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function Cxe(t){return t.tag!=null}function Bxe(t){return t.style!=null}class kA{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(Cxe(i))this.tags.push(i);else if(Bxe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new SI(this,n,!1);return r.addAll(e,ir.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new SI(this,n,!0);return r.addAll(e,ir.none,n.from,n.to),ct.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Sxe(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],A=a.style;if(!(A.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||A.length>e.length&&(A.charCodeAt(e.length)!=61||A.slice(e.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let A=n[a];if((A.priority==null?50:A.priority)<s)break}n.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=TI(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=TI(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new kA(e,kA.schemaRules(e)))}}const IM={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},_xe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},NM={ol:!0,ul:!0},jh=1,db=2,vh=4;function EI(t,e,n){return e!=null?(e?jh:0)|(e==="full"?db:0):t&&t.whitespace=="pre"?jh|db:n&~vh}class S1{constructor(e,n,r,i,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=ir.none,this.match=s||(a&vh?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(We.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&jh)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=We.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(We.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!IM.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class SI{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=EI(null,n.preserveWhitespace,0)|(r?vh:0);i?s=new S1(i.type,i.attrs,ir.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new S1(null,null,ir.none,!0,null,a):s=new S1(e.schema.topNodeType,null,ir.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&db?"full":this.localPreserveWS||(i.options&jh)>0,{schema:a}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let A=r.split(/\r?\n|\r/);for(let u=0;u<A.length;u++)u&&this.insertNode(a.linebreakReplacement.create(),n,!0),A[u]&&this.insertNode(a.text(A[u]),n,!/\S/.test(A[u]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let A=i.content[i.content.length-1],u=e.previousSibling;(!A||u&&u.nodeName=="BR"||A.isText&&/[ \t\r\n\u000c]$/.test(A.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),A;NM.hasOwnProperty(a)&&this.parser.normalizeLists&&Exe(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(A=this.parser.matchTag(e,this,r));e:if(u?u.ignore:_xe.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let f,m=this.needsBlock;if(IM.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),f=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let w=u&&u.skip?n:this.readStyles(e,n);w&&this.addAll(e,w),f&&this.sync(s),this.needsBlock=m}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,u,f,u.consuming===!1?A:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let A=void 0;;){let u=this.parser.matchStyle(s,a,this,A);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(f=>!u.clearMark(f)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)A=u;else break}}return n}addElementByRule(e,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let u=this.enter(a,n.attrs||null,r,n.preserveWhitespace);u&&(s=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let A=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}s&&this.sync(A)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,A=i==null?null:e.childNodes[i];a!=A;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let a=this.open,A=0;a>=0;a--){let u=this.nodes[a],f=u.findWrapping(e);if(f&&(!i||i.length>f.length+A)&&(i=f,s=u,!f.length))break;if(u.solid){if(r)break;A+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=ir.none;for(let A of i.concat(e.marks))(s.type?s.type.allowsMarkType(A.type):II(A.type,e.type))&&(a=A.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let A=EI(e,s,a.options);a.options&vh&&a.content.length==0&&(A|=vh);let u=ir.none;return r=r.filter(f=>(a.type?a.type.allowsMarkType(f.type):II(f.type,e))?(u=f.addToSet(u),!1):!0),this.nodes.push(new S1(e,n,u,i,null,A)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=jh)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(A,u)=>{for(;A>=0;A--){let f=n[A];if(f==""){if(A==n.length-1||A==0)continue;for(;u>=s;u--)if(a(A-1,u))return!0;return!1}else{let m=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!m||m.name!=f&&!m.isInGroup(f))return!1;u--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Exe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&NM.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Sxe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function TI(t){let e={};for(let n in t)e[n]=t[n];return e}function II(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],a=A=>{s.push(A);for(let u=0;u<A.edgeCount;u++){let{type:f,next:m}=A.edge(u);if(f==e||s.indexOf(m)<0&&a(m))return!0}};if(a(i.contentMatch))return!0}}class tu{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=D2(n).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let A=0,u=0;for(;A<s.length&&u<a.marks.length;){let f=a.marks[u];if(!this.marks[f.type.name]){u++;continue}if(!f.eq(s[A][0])||f.type.spec.spanning===!1)break;A++,u++}for(;A<s.length;)i=s.pop()[1];for(;u<a.marks.length;){let f=a.marks[u++],m=this.serializeMark(f,a.isInline,n);m&&(s.push([f,i]),i.appendChild(m.dom),i=m.contentDOM||m.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=W1(D2(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&W1(D2(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return W1(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new tu(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=NI(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return NI(e.marks)}}function NI(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function D2(t){return t.document||window.document}const OI=new WeakMap;function Txe(t){let e=OI.get(t);return e===void 0&&OI.set(t,e=Ixe(t)),e}function Ixe(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function W1(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Txe(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let A,u=n?t.createElementNS(n,i):t.createElement(i),f=e[1],m=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){m=2;for(let w in f)if(f[w]!=null){let C=w.indexOf(" ");C>0?u.setAttributeNS(w.slice(0,C),w.slice(C+1),f[w]):w=="style"&&u.style?u.style.cssText=f[w]:u.setAttribute(w,f[w])}}for(let w=m;w<e.length;w++){let C=e[w];if(C===0){if(w<e.length-1||w>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:B,contentDOM:E}=W1(t,C,n,r);if(u.appendChild(B),E){if(A)throw new RangeError("Multiple content holes");A=E}}}return{dom:u,contentDOM:A}}const OM=65535,MM=Math.pow(2,16);function Nxe(t,e){return t+e*MM}function MI(t){return t&OM}function Oxe(t){return(t-(t&OM))/MM}const kM=1,FM=2,X1=4,DM=8;class fb{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&DM)>0}get deletedBefore(){return(this.delInfo&(kM|X1))>0}get deletedAfter(){return(this.delInfo&(FM|X1))>0}get deletedAcross(){return(this.delInfo&X1)>0}}class ra{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ra.empty)return ra.empty}recover(e){let n=0,r=MI(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Oxe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let A=0;A<this.ranges.length;A+=3){let u=this.ranges[A]-(this.inverted?i:0);if(u>e)break;let f=this.ranges[A+s],m=this.ranges[A+a],w=u+f;if(e<=w){let C=f?e==u?-1:e==w?1:n:n,B=u+i+(C<0?0:m);if(r)return B;let E=e==(n<0?u:w)?null:Nxe(A/3,e-u),I=e==u?FM:e==w?kM:X1;return(n<0?e!=u:e!=w)&&(I|=DM),new fb(B,I,E)}i+=m-f}return r?e+i:new fb(e+i,0,null)}touches(e,n){let r=0,i=MI(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let A=0;A<this.ranges.length;A+=3){let u=this.ranges[A]-(this.inverted?r:0);if(u>e)break;let f=this.ranges[A+s],m=u+f;if(e<=m&&A==i*3)return!0;r+=this.ranges[A+a]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],A=a-(this.inverted?s:0),u=a+(this.inverted?0:s),f=this.ranges[i+n],m=this.ranges[i+r];e(A,A+f,u,u+m),s+=m-f}}invert(){return new ra(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ra.empty:new ra(e<0?[0,-e,0]:[0,0,e])}}ra.empty=new ra([]);class Ph{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Ph(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Ph;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],A=a.mapResult(e,n);if(A.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,e=this._maps[u].recover(A.recover);continue}}i|=A.delInfo,e=A.pos}return r?e:new fb(e,i,null)}}const R2=Object.create(null);class Xi{getMap(){return ra.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=R2[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in R2)throw new RangeError("Duplicate use of step JSON ID "+e);return R2[e]=n,n.prototype.jsonID=e,n}}class ni{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new ni(e,null)}static fail(e){return new ni(null,e)}static fromReplace(e,n,r,i){try{return ni.ok(e.replace(n,r,i))}catch(s){if(s instanceof km)return ni.fail(s.message);throw s}}}function jC(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(jC(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return We.fromArray(r)}class _A extends Xi{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ct(jC(n.content,(a,A)=>!a.isAtom||!A.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return ni.fromReplace(e,this.from,this.to,s)}invert(){return new Va(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new _A(n.pos,r.pos,this.mark)}merge(e){return e instanceof _A&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new _A(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new _A(n.from,n.to,e.markFromJSON(n.mark))}}Xi.jsonID("addMark",_A);class Va extends Xi{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ct(jC(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return ni.fromReplace(e,this.from,this.to,r)}invert(){return new _A(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Va(n.pos,r.pos,this.mark)}merge(e){return e instanceof Va&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Va(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Va(n.from,n.to,e.markFromJSON(n.mark))}}Xi.jsonID("removeMark",Va);class EA extends Xi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ni.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ni.fromReplace(e,this.pos,this.pos+1,new ct(We.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new EA(this.pos,n.marks[i]);return new EA(this.pos,this.mark)}}return new Gc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new EA(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new EA(n.pos,e.markFromJSON(n.mark))}}Xi.jsonID("addNodeMark",EA);class Gc extends Xi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ni.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ni.fromReplace(e,this.pos,this.pos+1,new ct(We.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new EA(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Gc(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Gc(n.pos,e.markFromJSON(n.mark))}}Xi.jsonID("removeNodeMark",Gc);class xi extends Xi{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&hb(e,this.from,this.to)?ni.fail("Structure replace would overwrite content"):ni.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ra([this.from,this.to-this.from,this.slice.size])}invert(e){return new xi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new xi(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof xi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ct.empty:new ct(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new xi(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ct.empty:new ct(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new xi(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new xi(n.from,n.to,ct.fromJSON(e,n.slice),!!n.structure)}}Xi.jsonID("replace",xi);class wi extends Xi{constructor(e,n,r,i,s,a,A=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=A}apply(e){if(this.structure&&(hb(e,this.from,this.gapFrom)||hb(e,this.gapTo,this.to)))return ni.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ni.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?ni.fromReplace(e,this.from,this.to,r):ni.fail("Content does not fit in gap")}getMap(){return new ra([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new wi(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new wi(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new wi(n.from,n.to,n.gapFrom,n.gapTo,ct.fromJSON(e,n.slice),n.insert,!!n.structure)}}Xi.jsonID("replaceAround",wi);function hb(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function Mxe(t,e,n,r){let i=[],s=[],a,A;t.doc.nodesBetween(e,n,(u,f,m)=>{if(!u.isInline)return;let w=u.marks;if(!r.isInSet(w)&&m.type.allowsMarkType(r.type)){let C=Math.max(f,e),B=Math.min(f+u.nodeSize,n),E=r.addToSet(w);for(let I=0;I<w.length;I++)w[I].isInSet(E)||(a&&a.to==C&&a.mark.eq(w[I])?a.to=B:i.push(a=new Va(C,B,w[I])));A&&A.to==C?A.to=B:s.push(A=new _A(C,B,r))}}),i.forEach(u=>t.step(u)),s.forEach(u=>t.step(u))}function kxe(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(a,A)=>{if(!a.isInline)return;s++;let u=null;if(r instanceof $0){let f=a.marks,m;for(;m=r.isInSet(f);)(u||(u=[])).push(m),f=m.removeFromSet(f)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let f=Math.min(A+a.nodeSize,n);for(let m=0;m<u.length;m++){let w=u[m],C;for(let B=0;B<i.length;B++){let E=i[B];E.step==s-1&&w.eq(i[B].style)&&(C=E)}C?(C.to=f,C.step=s):i.push({style:w,from:Math.max(A,e),to:f,step:s})}}}),i.forEach(a=>t.step(new Va(a.from,a.to,a.style)))}function PC(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],A=e+1;for(let u=0;u<s.childCount;u++){let f=s.child(u),m=A+f.nodeSize,w=r.matchType(f.type);if(!w)a.push(new xi(A,m,ct.empty));else{r=w;for(let C=0;C<f.marks.length;C++)n.allowsMarkType(f.marks[C].type)||t.step(new Va(A,m,f.marks[C]));if(i&&f.isText&&n.whitespace!="pre"){let C,B=/\r?\n|\r/g,E;for(;C=B.exec(f.text);)E||(E=new ct(We.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),a.push(new xi(A+C.index,A+C.index+C[0].length,E))}}A=m}if(!r.validEnd){let u=r.fillBefore(We.empty,!0);t.replace(A,A,new ct(u,0,0))}for(let u=a.length-1;u>=0;u--)t.step(a[u])}function Fxe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function zd(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,s=0;;--r){let a=t.$from.node(r),A=t.$from.index(r)+i,u=t.$to.indexAfter(r)-s;if(r<t.depth&&a.canReplace(A,u,n))return r;if(r==0||a.type.spec.isolating||!Fxe(a,A,u))break;A&&(i=1),u<a.childCount&&(s=1)}return null}function Dxe(t,e,n){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),A=i.after(s+1),u=a,f=A,m=We.empty,w=0;for(let E=s,I=!1;E>n;E--)I||r.index(E)>0?(I=!0,m=We.from(r.node(E).copy(m)),w++):u--;let C=We.empty,B=0;for(let E=s,I=!1;E>n;E--)I||i.after(E+1)<i.end(E)?(I=!0,C=We.from(i.node(E).copy(C)),B++):f++;t.step(new wi(u,f,a,A,new ct(m.append(C),w,B),m.size-w,!0))}function zC(t,e,n=null,r=t){let i=Rxe(t,e),s=i&&Lxe(r,e);return s?i.map(kI).concat({type:e,attrs:n}).concat(s.map(kI)):null}function kI(t){return{type:t,attrs:null}}function Rxe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,i,a)?s:null}function Lxe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let u=(a.length?a[a.length-1]:e).contentMatch;for(let f=r;u&&f<i;f++)u=u.matchType(n.child(f).type);return!u||!u.validEnd?null:a}function Uxe(t,e,n){let r=We.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let A=n[a].type.contentMatch.matchFragment(r);if(!A||!A.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=We.from(n[a].type.create(n[a].attrs,r))}let i=e.start,s=e.end;t.step(new wi(i,s,i,s,new ct(r,0,0),n.length,!0))}function Qxe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,A)=>{let u=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,u)&&Hxe(t.doc,t.mapping.slice(s).map(A),r)){let f=null;if(r.schema.linebreakReplacement){let B=r.whitespace=="pre",E=!!r.contentMatch.matchType(r.schema.linebreakReplacement);B&&!E?f=!1:!B&&E&&(f=!0)}f===!1&&LM(t,a,A,s),PC(t,t.mapping.slice(s).map(A,1),r,void 0,f===null);let m=t.mapping.slice(s),w=m.map(A,1),C=m.map(A+a.nodeSize,1);return t.step(new wi(w,C,w+1,C-1,new ct(We.from(r.create(u,null,a.marks)),0,0),1,!0)),f===!0&&RM(t,a,A,s),!1}})}function RM(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let a,A=/\r?\n|\r/g;for(;a=A.exec(i.text);){let u=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function LM(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function Hxe(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function jxe(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new wi(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ct(We.from(a),0,0),1,!0))}function xl(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,m=n-2;f>s;f--,m--){let w=i.node(f),C=i.index(f);if(w.type.spec.isolating)return!1;let B=w.content.cutByIndex(C,w.childCount),E=r&&r[m+1];E&&(B=B.replaceChild(0,E.type.create(E.attrs)));let I=r&&r[m]||w;if(!w.canReplace(C+1,w.childCount)||!I.type.validContent(B))return!1}let A=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(A,A,u?u.type:i.node(s+1).type)}function Pxe(t,e,n=1,r){let i=t.doc.resolve(e),s=We.empty,a=We.empty;for(let A=i.depth,u=i.depth-n,f=n-1;A>u;A--,f--){s=We.from(i.node(A).copy(s));let m=r&&r[f];a=We.from(m?m.type.create(m.attrs,a):i.node(A).copy(a))}t.step(new xi(e,e,new ct(s.append(a),n,n),!0))}function VA(t,e){let n=t.resolve(e),r=n.index();return UM(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function zxe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function UM(t,e){return!!(t&&e&&!t.isLeaf&&zxe(t,e))}function W0(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,a,A=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),A++,a=r.node(i).maybeChild(A)):(s=r.node(i).maybeChild(A-1),a=r.node(i+1)),s&&!s.isTextblock&&UM(s,a)&&r.node(i).canReplace(A,A+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function Vxe(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let m=a.whitespace=="pre",w=!!a.contentMatch.matchType(i);m&&!w?r=!1:!m&&w&&(r=!0)}let A=t.steps.length;if(r===!1){let m=t.doc.resolve(e+n);LM(t,m.node(),m.before(),A)}a.inlineContent&&PC(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let u=t.mapping.slice(A),f=u.map(e-n);if(t.step(new xi(f,u.map(e+n,-1),ct.empty,!0)),r===!0){let m=t.doc.resolve(f);RM(t,m.node(),m.before(),t.steps.length)}return t}function Kxe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function QM(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let A=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(A>0?1:0),f=r.node(a),m=!1;if(s==1)m=f.canReplace(u,u,i);else{let w=f.contentMatchAt(u).findWrapping(i.firstChild.type);m=w&&f.canReplaceWith(u,u,w[0])}if(m)return A==0?r.pos:A<0?r.before(a+1):r.after(a+1)}return null}function X0(t,e,n=e,r=ct.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return HM(i,s,r)?new xi(e,n,r):new Gxe(i,s,r).fit()}function HM(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Gxe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=We.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=We.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,A=i.depth;for(;a&&A&&s.childCount==1;)s=s.firstChild.content,a--,A--;let u=new ct(s,a,A);return e>-1?new wi(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new xi(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=L2(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let A=this.depth;A>=0;A--){let{type:u,match:f}=this.frontier[A],m,w=null;if(n==1&&(a?f.matchType(a.type)||(w=f.fillBefore(We.from(a),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:A,parent:s,inject:w};if(n==2&&a&&(m=f.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:A,parent:s,wrap:m};if(s&&f.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=L2(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ct(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=L2(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new ct(lh(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new ct(lh(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let I=0;I<s.length;I++)this.openFrontierNode(s[I]);let a=this.unplaced,A=r?r.content:a.content,u=a.openStart-e,f=0,m=[],{match:w,type:C}=this.frontier[n];if(i){for(let I=0;I<i.childCount;I++)m.push(i.child(I));w=w.matchFragment(i)}let B=A.size+e-(a.content.size-a.openEnd);for(;f<A.childCount;){let I=A.child(f),M=w.matchType(I.type);if(!M)break;f++,(f>1||u==0||I.content.size)&&(w=M,m.push(jM(I.mark(C.allowedMarks(I.marks)),f==1?u:0,f==A.childCount?B:-1)))}let E=f==A.childCount;E||(B=-1),this.placed=Ah(this.placed,n,We.from(m)),this.frontier[n].match=w,E&&B<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let I=0,M=A;I<B;I++){let R=M.lastChild;this.frontier.push({type:R.type,match:R.contentMatchAt(R.childCount)}),M=R.content}this.unplaced=E?e==0?ct.empty:new ct(lh(a.content,e-1,1),e-1,B<0?a.openEnd:e-1):new ct(lh(a.content,e,f),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!U2(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=U2(e,n,i,r,s);if(a){for(let A=n-1;A>=0;A--){let{match:u,type:f}=this.frontier[A],m=U2(e,A,f,u,!0);if(!m||m.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ah(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ah(this.placed,this.depth,We.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(We.empty,!0);n.childCount&&(this.placed=Ah(this.placed,this.frontier.length,n))}}function lh(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(lh(t.firstChild.content,e-1,n)))}function Ah(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ah(t.lastChild.content,e-1,n)))}function L2(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function jM(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,jM(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(We.empty,!0)))),t.copy(r)}function U2(t,e,n,r,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let A=r.fillBefore(s.content,!0,a);return A&&!$xe(n,s.content,a)?A:null}function $xe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Wxe(t){return t.spec.defining||t.spec.definingForContent}function Xxe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(HM(i,s,r))return t.step(new xi(e,n,r));let a=zM(i,s);a[a.length-1]==0&&a.pop();let A=-(i.depth+1);a.unshift(A);for(let C=i.depth,B=i.pos-1;C>0;C--,B--){let E=i.node(C).type.spec;if(E.defining||E.definingAsContext||E.isolating)break;a.indexOf(C)>-1?A=C:i.before(C)==B&&a.splice(1,0,-C)}let u=a.indexOf(A),f=[],m=r.openStart;for(let C=r.content,B=0;;B++){let E=C.firstChild;if(f.push(E),B==r.openStart)break;C=E.content}for(let C=m-1;C>=0;C--){let B=f[C],E=Wxe(B.type);if(E&&!B.sameMarkup(i.node(Math.abs(A)-1)))m=C;else if(E||!B.type.isTextblock)break}for(let C=r.openStart;C>=0;C--){let B=(C+m+1)%(r.openStart+1),E=f[B];if(E)for(let I=0;I<a.length;I++){let M=a[(I+u)%a.length],R=!0;M<0&&(R=!1,M=-M);let L=i.node(M-1),U=i.index(M-1);if(L.canReplaceWith(U,U,E.type,E.marks))return t.replace(i.before(M),R?s.after(M):n,new ct(PM(r.content,0,r.openStart,B),B,r.openEnd))}}let w=t.steps.length;for(let C=a.length-1;C>=0&&(t.replace(e,n,r),!(t.steps.length>w));C--){let B=a[C];B<0||(e=i.before(B),n=s.after(B))}}function PM(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(PM(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(We.empty,!0))}return t}function qxe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=Kxe(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new ct(We.from(r),0,0))}function Yxe(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=zM(r,i);for(let a=0;a<s.length;a++){let A=s[a],u=a==s.length-1;if(u&&A==0||r.node(A).type.contentMatch.validEnd)return t.delete(r.start(A),i.end(A));if(A>0&&(u||r.node(A-1).canReplace(r.index(A-1),i.indexAfter(A-1))))return t.delete(r.before(A),i.after(A))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function zM(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class _d extends Xi{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return ni.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return ni.fromReplace(e,this.pos,this.pos+1,new ct(We.from(i),0,n.isLeaf?0:1))}getMap(){return ra.empty}invert(e){return new _d(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _d(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new _d(n.pos,n.attr,n.value)}}Xi.jsonID("attr",_d);class zh extends Xi{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return ni.ok(r)}getMap(){return ra.empty}invert(e){return new zh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new zh(n.attr,n.value)}}Xi.jsonID("docAttr",zh);let Nd=class extends Error{};Nd=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Nd.prototype=Object.create(Error.prototype);Nd.prototype.constructor=Nd;Nd.prototype.name="TransformError";class VM{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ph}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Nd(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ct.empty){let i=X0(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new ct(We.from(r),0,0))}delete(e,n){return this.replace(e,n,ct.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Xxe(this,e,n,r),this}replaceRangeWith(e,n,r){return qxe(this,e,n,r),this}deleteRange(e,n){return Yxe(this,e,n),this}lift(e,n){return Dxe(this,e,n),this}join(e,n=1){return Vxe(this,e,n),this}wrap(e,n){return Uxe(this,e,n),this}setBlockType(e,n=e,r,i=null){return Qxe(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return jxe(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new _d(e,n,r)),this}setDocAttribute(e,n){return this.step(new zh(e,n)),this}addNodeMark(e,n){return this.step(new EA(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof ir)n.isInSet(r.marks)&&this.step(new Gc(e,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new Gc(e,s)),i=s.removeFromSet(i);for(let A=a.length-1;A>=0;A--)this.step(a[A])}return this}split(e,n=1,r){return Pxe(this,e,n,r),this}addMark(e,n,r){return Mxe(this,e,n,r),this}removeMark(e,n,r){return kxe(this,e,n,r),this}clearIncompatible(e,n,r){return PC(this,e,n,r),this}}const Q2=Object.create(null);class rn{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Zxe(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ct.empty){let r=n.content.lastChild,i=null;for(let A=0;A<n.openEnd;A++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let A=0;A<a.length;A++){let{$from:u,$to:f}=a[A],m=e.mapping.slice(s);e.replaceRange(m.map(u.pos),m.map(f.pos),A?ct.empty:n),A==0&&RI(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:A}=i[s],u=e.mapping.slice(r),f=u.map(a.pos),m=u.map(A.pos);s?e.deleteRange(f,m):(e.replaceRangeWith(f,m,n),RI(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Pt(e):fd(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=n<0?fd(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):fd(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new sa(e.node(0))}static atStart(e){return fd(e,e,0,0,1)||new sa(e)}static atEnd(e){return fd(e,e,e.content.size,e.childCount,-1)||new sa(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Q2[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Q2)throw new RangeError("Duplicate use of selection JSON ID "+e);return Q2[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Pt.between(this.$anchor,this.$head).getBookmark()}}rn.prototype.visible=!0;class Zxe{constructor(e,n){this.$from=e,this.$to=n}}let FI=!1;function DI(t){!FI&&!t.parent.inlineContent&&(FI=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Pt extends rn{constructor(e,n=e){DI(e),DI(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return rn.near(r);let i=e.resolve(n.map(this.anchor));return new Pt(i.parent.inlineContent?i:r,r)}replace(e,n=ct.empty){if(super.replace(e,n),n==ct.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Pt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new q0(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Pt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=rn.findFrom(n,r,!0)||rn.findFrom(n,-r,!0);if(s)n=s.$head;else return rn.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(rn.findFrom(e,-r,!0)||rn.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Pt(e,n)}}rn.jsonID("text",Pt);class q0{constructor(e,n){this.anchor=e,this.head=n}map(e){return new q0(e.map(this.anchor),e.map(this.head))}resolve(e){return Pt.between(e.resolve(this.anchor),e.resolve(this.head))}}class It extends rn{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?rn.near(s):new It(s)}content(){return new ct(We.from(this.node),0,0)}eq(e){return e instanceof It&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new VC(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new It(e.resolve(n.anchor))}static create(e,n){return new It(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}It.prototype.visible=!1;rn.jsonID("node",It);class VC{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new q0(r,r):new VC(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&It.isSelectable(r)?new It(n):rn.near(n)}}class sa extends rn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ct.empty){if(n==ct.empty){e.delete(0,e.doc.content.size);let r=rn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new sa(e)}map(e){return new sa(e)}eq(e){return e instanceof sa}getBookmark(){return Jxe}}rn.jsonID("all",sa);const Jxe={map(){return this},resolve(t){return new sa(t)}};function fd(t,e,n,r,i,s=!1){if(e.inlineContent)return Pt.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let A=e.child(a);if(A.isAtom){if(!s&&It.isSelectable(A))return It.create(t,n-(i<0?A.nodeSize:0))}else{let u=fd(t,A,n+i,i<0?A.childCount:0,i,s);if(u)return u}n+=A.nodeSize*i}return null}function RI(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof xi||i instanceof wi))return;let s=t.mapping.maps[r],a;s.forEach((A,u,f,m)=>{a==null&&(a=m)}),t.setSelection(rn.near(t.doc.resolve(a),n))}const LI=1,T1=2,UI=4;class ewe extends VM{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|LI)&~T1,this.storedMarks=null,this}get selectionSet(){return(this.updated&LI)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=T1,this}ensureMarks(e){return ir.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&T1)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~T1,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ir.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(rn.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UI,this}get scrolledIntoView(){return(this.updated&UI)>0}}function QI(t,e){return!e||!t?t:t.bind(e)}class ch{constructor(e,n,r){this.name=e,this.init=QI(n.init,r),this.apply=QI(n.apply,r)}}const twe=[new ch("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ch("selection",{init(t,e){return t.selection||rn.atStart(e.doc)},apply(t){return t.selection}}),new ch("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new ch("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class H2{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=twe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ch(r.key,r.spec.state,r))})}}class yd{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let A=this.config.plugins[a];if(A.spec.appendTransaction){let u=i?i[a].n:0,f=i?i[a].state:this,m=u<n.length&&A.spec.appendTransaction.call(A,u?n.slice(u):n,f,r);if(m&&r.filterTransaction(m,a)){if(m.setMeta("appendedTransaction",e),!i){i=[];for(let w=0;w<this.config.plugins.length;w++)i.push(w<a?{state:r,n:n.length}:{state:this,n:0})}n.push(m),r=r.applyInner(m),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new yd(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new ewe(this)}static create(e){let n=new H2(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new yd(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new H2(this.schema,e.plugins),r=n.fields,i=new yd(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new H2(e.schema,e.plugins),s=new yd(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=MA.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=rn.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let A in r){let u=r[A],f=u.spec.state;if(u.key==a.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,A)){s[a.name]=f.fromJSON.call(u,e,n[A],s);return}}s[a.name]=a.init(e,s)}}),s}}function KM(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=KM(i,e,{})),n[r]=i}return n}class Rr{constructor(e){this.spec=e,this.props={},e.props&&KM(e.props,this,this.props),this.key=e.key?e.key.key:GM("plugin")}getState(e){return e[this.key]}}const j2=Object.create(null);function GM(t){return t in j2?t+"$"+ ++j2[t]:(j2[t]=0,t+"$")}class vi{constructor(e="key"){this.key=GM(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const KC=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function $M(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const WM=(t,e,n)=>{let r=$M(t,n);if(!r)return!1;let i=GC(r);if(!i){let a=r.blockRange(),A=a&&zd(a);return A==null?!1:(e&&e(t.tr.lift(a,A).scrollIntoView()),!0)}let s=i.nodeBefore;if(rk(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Od(s,"end")||It.isSelectable(s)))for(let a=r.depth;;a--){let A=X0(t.doc,r.before(a),r.after(a),ct.empty);if(A&&A.slice.size<A.to-A.from){if(e){let u=t.tr.step(A);u.setSelection(Od(s,"end")?rn.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):It.create(u.doc,i.pos-s.nodeSize)),e(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},nwe=(t,e,n)=>{let r=$M(t,n);if(!r)return!1;let i=GC(r);return i?XM(t,i,e):!1},rwe=(t,e,n)=>{let r=YM(t,n);if(!r)return!1;let i=$C(r);return i?XM(t,i,e):!1};function XM(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let m=i.lastChild;if(!m)return!1;i=m}let a=e.nodeAfter,A=a,u=e.pos+1;for(;!A.isTextblock;u++){if(A.type.spec.isolating)return!1;let m=A.firstChild;if(!m)return!1;A=m}let f=X0(t.doc,s,u,ct.empty);if(!f||f.from!=s||f instanceof xi&&f.slice.size>=u-s)return!1;if(n){let m=t.tr.step(f);m.setSelection(Pt.create(m.doc,s)),n(m.scrollIntoView())}return!0}function Od(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const qM=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=GC(r)}let a=s&&s.nodeBefore;return!a||!It.isSelectable(a)?!1:(e&&e(t.tr.setSelection(It.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function GC(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function YM(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const ZM=(t,e,n)=>{let r=YM(t,n);if(!r)return!1;let i=$C(r);if(!i)return!1;let s=i.nodeAfter;if(rk(t,i,e,1))return!0;if(r.parent.content.size==0&&(Od(s,"start")||It.isSelectable(s))){let a=X0(t.doc,r.before(),r.after(),ct.empty);if(a&&a.slice.size<a.to-a.from){if(e){let A=t.tr.step(a);A.setSelection(Od(s,"start")?rn.findFrom(A.doc.resolve(A.mapping.map(i.pos)),1):It.create(A.doc,A.mapping.map(i.pos))),e(A.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},JM=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=$C(r)}let a=s&&s.nodeAfter;return!a||!It.isSelectable(a)?!1:(e&&e(t.tr.setSelection(It.create(t.doc,s.pos)).scrollIntoView()),!0)};function $C(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const iwe=(t,e)=>{let n=t.selection,r=n instanceof It,i;if(r){if(n.node.isTextblock||!VA(t.doc,n.from))return!1;i=n.from}else if(i=W0(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(It.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},swe=(t,e)=>{let n=t.selection,r;if(n instanceof It){if(n.node.isTextblock||!VA(t.doc,n.to))return!1;r=n.to}else if(r=W0(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},awe=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&zd(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},ek=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function WC(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const owe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=WC(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let A=n.after(),u=t.tr.replaceWith(A,A,a.createAndFill());u.setSelection(rn.near(u.doc.resolve(A),1)),e(u.scrollIntoView())}return!0},tk=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof sa||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=WC(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,A=t.tr.insert(a,s.createAndFill());A.setSelection(Pt.create(A.doc,a+1)),e(A.scrollIntoView())}return!0},nk=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(xl(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&zd(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function lwe(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof It&&e.selection.node.isBlock)return!r.parentOffset||!xl(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,A,u=!1,f=!1;for(let B=r.depth;;B--)if(r.node(B).isBlock){u=r.end(B)==r.pos+(r.depth-B),f=r.start(B)==r.pos-(r.depth-B),A=WC(r.node(B-1).contentMatchAt(r.indexAfter(B-1))),s.unshift(u&&A?{type:A}:null),a=B;break}else{if(B==1)return!1;s.unshift(null)}let m=e.tr;(e.selection instanceof Pt||e.selection instanceof sa)&&m.deleteSelection();let w=m.mapping.map(r.pos),C=xl(m.doc,w,s.length,s);if(C||(s[0]=A?{type:A}:null,C=xl(m.doc,w,s.length,s)),!C)return!1;if(m.split(w,s.length,s),!u&&f&&r.node(a).type!=A){let B=m.mapping.map(r.before(a)),E=m.doc.resolve(B);A&&r.node(a-1).canReplaceWith(E.index(),E.index()+1,A)&&m.setNodeMarkup(m.mapping.map(r.before(a)),A)}return n&&n(m.scrollIntoView()),!0}}const Awe=lwe(),cwe=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(It.create(t.doc,i))),!0)};function uwe(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||VA(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function rk(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,a,A,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&uwe(t,e,n))return!0;let f=!u&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(a=(A=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&A.matchType(a[0]||s.type).validEnd){if(n){let B=e.pos+s.nodeSize,E=We.empty;for(let R=a.length-1;R>=0;R--)E=We.from(a[R].create(null,E));E=We.from(i.copy(E));let I=t.tr.step(new wi(e.pos-1,B,e.pos,B,new ct(E,1,0),a.length,!0)),M=I.doc.resolve(B+2*a.length);M.nodeAfter&&M.nodeAfter.type==i.type&&VA(I.doc,M.pos)&&I.join(M.pos),n(I.scrollIntoView())}return!0}let m=s.type.spec.isolating||r>0&&u?null:rn.findFrom(e,1),w=m&&m.$from.blockRange(m.$to),C=w&&zd(w);if(C!=null&&C>=e.depth)return n&&n(t.tr.lift(w,C).scrollIntoView()),!0;if(f&&Od(s,"start",!0)&&Od(i,"end")){let B=i,E=[];for(;E.push(B),!B.isTextblock;)B=B.lastChild;let I=s,M=1;for(;!I.isTextblock;I=I.firstChild)M++;if(B.canReplace(B.childCount,B.childCount,I.content)){if(n){let R=We.empty;for(let U=E.length-1;U>=0;U--)R=We.from(E[U].copy(R));let L=t.tr.step(new wi(e.pos-E.length,e.pos+s.nodeSize,e.pos+M,e.pos+s.nodeSize-M,new ct(R,E.length,0),0,!0));n(L.scrollIntoView())}return!0}}return!1}function ik(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Pt.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const dwe=ik(-1),fwe=ik(1);function hwe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),A=a&&zC(a,t,e);return A?(r&&r(n.tr.wrap(a,A).scrollIntoView()),!0):!1}}function HI(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:A}}=n.selection.ranges[s];n.doc.nodesBetween(a,A,(u,f)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let m=n.doc.resolve(f),w=m.index();i=m.parent.canReplaceWith(w,w+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:A},$to:{pos:u}}=n.selection.ranges[a];s.setBlockType(A,u,t,e)}r(s.scrollIntoView())}return!0}}function XC(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}XC(KC,WM,qM);XC(KC,ZM,JM);XC(ek,tk,nk,Awe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function pwe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let A=r?n.tr:null;return gwe(A,a,t,e)?(r&&r(A.scrollIntoView()),!0):!1}}function gwe(t,e,n,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=a.resolve(e.start-2);s=new Dm(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new Dm(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let A=zC(s,n,r,e);return A?(t&&mwe(t,e,A,i,n),!0):!1}function mwe(t,e,n,r,i){let s=We.empty;for(let m=n.length-1;m>=0;m--)s=We.from(n[m].type.create(n[m].attrs,s));t.step(new wi(e.start-(r?2:0),e.end,e.start,e.end,new ct(s,0,0),n.length,!0));let a=0;for(let m=0;m<n.length;m++)n[m].type==i&&(a=m+1);let A=n.length-a,u=e.start+n.length-(r?2:0),f=e.parent;for(let m=e.startIndex,w=e.endIndex,C=!0;m<w;m++,C=!1)!C&&xl(t.doc,u,A)&&(t.split(u,A),u+=2*A),u+=f.child(m).nodeSize;return t}function xwe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?wwe(e,n,t,s):ywe(e,n,s):!0:!1}}function wwe(t,e,n,r){let i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new wi(s-1,a,s,a,new ct(We.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Dm(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const A=zd(r);if(A==null)return!1;i.lift(r,A);let u=i.doc.resolve(i.mapping.map(s,-1)-1);return VA(i.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&i.join(u.pos),e(i.scrollIntoView()),!0}function ywe(t,e,n){let r=t.tr,i=n.parent;for(let B=n.end,E=n.endIndex-1,I=n.startIndex;E>I;E--)B-=i.child(E).nodeSize,r.delete(B-1,B+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let A=n.startIndex==0,u=n.endIndex==i.childCount,f=s.node(-1),m=s.index(-1);if(!f.canReplace(m+(A?0:1),m+1,a.content.append(u?We.empty:We.from(i))))return!1;let w=s.pos,C=w+a.nodeSize;return r.step(new wi(w-(A?1:0),C+(u?1:0),w+1,C-1,new ct((A?We.empty:We.from(i.copy(We.empty))).append(u?We.empty:We.from(i.copy(We.empty))),A?0:1,u?0:1),A?0:1)),e(r.scrollIntoView()),!0}function vwe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let A=s.parent,u=A.child(a-1);if(u.type!=t)return!1;if(n){let f=u.lastChild&&u.lastChild.type==A.type,m=We.from(f?t.create():null),w=new ct(We.from(t.create(null,We.from(A.type.create(null,m)))),f?3:1,0),C=s.start,B=s.end;n(e.tr.step(new wi(C-(f?3:1),B,C,B,w,1,!0)).scrollIntoView())}return!0}}const Mi=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Md=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let pb=null;const dl=function(t,e,n){let r=pb||(pb=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},bwe=function(){pb=null},$c=function(t,e,n,r){return n&&(jI(t,e,n,r,-1)||jI(t,e,n,r,1))},Cwe=/^(img|br|input|textarea|hr)$/i;function jI(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ea(t))){let a=t.parentNode;if(!a||a.nodeType!=1||cp(t)||Cwe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Mi(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?Ea(t):0}else return!1}}function Ea(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Bwe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ea(t)}else if(t.parentNode&&!cp(t))e=Mi(t),t=t.parentNode;else return null}}function _we(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!cp(t))e=Mi(t)+1,t=t.parentNode;else return null}}function Ewe(t,e,n){for(let r=e==0,i=e==Ea(t);r||i;){if(t==n)return!0;let s=Mi(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Ea(t)}}function cp(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Y0=function(t){return t.focusNode&&$c(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Bc(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Swe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Twe(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Ea(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Ea(r.startContainer),r.startOffset)}}}const bo=typeof navigator<"u"?navigator:null,PI=typeof document<"u"?document:null,KA=bo&&bo.userAgent||"",gb=/Edge\/(\d+)/.exec(KA),sk=/MSIE \d/.exec(KA),mb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(KA),Rs=!!(sk||mb||gb),FA=sk?document.documentMode:mb?+mb[1]:gb?+gb[1]:0,Ia=!Rs&&/gecko\/(\d+)/i.test(KA);Ia&&+(/Firefox\/(\d+)/.exec(KA)||[0,0])[1];const xb=!Rs&&/Chrome\/(\d+)/.exec(KA),Gi=!!xb,ak=xb?+xb[1]:0,hs=!Rs&&!!bo&&/Apple Computer/.test(bo.vendor),kd=hs&&(/Mobile\/\w+/.test(KA)||!!bo&&bo.maxTouchPoints>2),Ba=kd||(bo?/Mac/.test(bo.platform):!1),Iwe=bo?/Win/.test(bo.platform):!1,pl=/Android \d/.test(KA),up=!!PI&&"webkitFontSmoothing"in PI.documentElement.style,Nwe=up?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Owe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function il(t,e){return typeof t=="number"?t:t[e]}function Mwe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function zI(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Md(a);continue}let A=a,u=A==s.body,f=u?Owe(s):Mwe(A),m=0,w=0;if(e.top<f.top+il(r,"top")?w=-(f.top-e.top+il(i,"top")):e.bottom>f.bottom-il(r,"bottom")&&(w=e.bottom-e.top>f.bottom-f.top?e.top+il(i,"top")-f.top:e.bottom-f.bottom+il(i,"bottom")),e.left<f.left+il(r,"left")?m=-(f.left-e.left+il(i,"left")):e.right>f.right-il(r,"right")&&(m=e.right-f.right+il(i,"right")),m||w)if(u)s.defaultView.scrollBy(m,w);else{let B=A.scrollLeft,E=A.scrollTop;w&&(A.scrollTop+=w),m&&(A.scrollLeft+=m);let I=A.scrollLeft-B,M=A.scrollTop-E;e={left:e.left-I,top:e.top-M,right:e.right-I,bottom:e.bottom-M}}let C=u?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(C))break;a=C=="absolute"?a.offsetParent:Md(a)}}function kwe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let A=t.root.elementFromPoint(s,a);if(!A||A==t.dom||!t.dom.contains(A))continue;let u=A.getBoundingClientRect();if(u.top>=n-20){r=A,i=u.top;break}}return{refDOM:r,refTop:i,stack:ok(t.dom)}}function ok(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Md(r));return e}function Fwe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;lk(n,r==0?0:r-e)}function lk(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let ld=null;function Dwe(t){if(t.setActive)return t.setActive();if(ld)return t.focus(ld);let e=ok(t);t.focus(ld==null?{get preventScroll(){return ld={preventScroll:!0},!0}}:void 0),ld||(ld=!1,lk(e,0))}function Ak(t,e){let n,r=2e8,i,s=0,a=e.top,A=e.top,u,f;for(let m=t.firstChild,w=0;m;m=m.nextSibling,w++){let C;if(m.nodeType==1)C=m.getClientRects();else if(m.nodeType==3)C=dl(m).getClientRects();else continue;for(let B=0;B<C.length;B++){let E=C[B];if(E.top<=a&&E.bottom>=A){a=Math.max(E.bottom,a),A=Math.min(E.top,A);let I=E.left>e.left?E.left-e.left:E.right<e.left?e.left-E.right:0;if(I<r){n=m,r=I,i=I&&n.nodeType==3?{left:E.right<e.left?E.right:E.left,top:e.top}:e,m.nodeType==1&&I&&(s=w+(e.left>=(E.left+E.right)/2?1:0));continue}}else E.top>e.top&&!u&&E.left<=e.left&&E.right>=e.left&&(u=m,f={left:Math.max(E.left,Math.min(E.right,e.left)),top:E.top});!n&&(e.left>=E.right&&e.top>=E.top||e.left>=E.left&&e.top>=E.bottom)&&(s=w+1)}}return!n&&u&&(n=u,i=f,r=0),n&&n.nodeType==3?Rwe(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:Ak(n,i)}function Rwe(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=uA(r,1);if(s.top!=s.bottom&&qC(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function qC(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Lwe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Uwe(t,e,n){let{node:r,offset:i}=Ak(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function Qwe(t,e,n,r){let i=-1;for(let s=e,a=!1;s!=t.dom;){let A=t.docView.nearestDesc(s,!0),u;if(!A)return null;if(A.dom.nodeType==1&&(A.node.isBlock&&A.parent||!A.contentDOM)&&((u=A.dom.getBoundingClientRect()).width||u.height)&&(A.node.isBlock&&A.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(A.dom.nodeName)&&(!a&&u.left>r.left||u.top>r.top?i=A.posBefore:(!a&&u.right<r.left||u.bottom<r.top)&&(i=A.posAfter),a=!0),!A.contentDOM&&i<0&&!A.node.isText))return(A.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?A.posBefore:A.posAfter;s=A.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function ck(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let A=a.getClientRects();for(let u=0;u<A.length;u++){let f=A[u];if(qC(e,f))return ck(a,e,f)}}if((s=(s+1)%r)==i)break}return t}function Hwe(t,e){let n=t.dom.ownerDocument,r,i=0,s=Twe(n,e.left,e.top);s&&({node:r,offset:i}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),A;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let f=t.dom.getBoundingClientRect();if(!qC(e,f)||(a=ck(t.dom,e,f),!a))return null}if(hs)for(let f=a;r&&f;f=Md(f))f.draggable&&(r=void 0);if(a=Lwe(a,e),r){if(Ia&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let m=r.childNodes[i],w;m.nodeName=="IMG"&&(w=m.getBoundingClientRect()).right<=e.left&&w.bottom>e.top&&i++}let f;up&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?A=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(A=Qwe(t,r,i,e))}A==null&&(A=Uwe(t,a,e));let u=t.docView.nearestDesc(a,!0);return{pos:A,inside:u?u.posAtStart-u.border:-1}}function VI(t){return t.top<t.bottom||t.left<t.right}function uA(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(VI(r))return r}return Array.prototype.find.call(n,VI)||t.getBoundingClientRect()}const jwe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function uk(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=up||Ia;if(r.nodeType==3)if(a&&(jwe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=uA(dl(r,i,i),n);if(Ia&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=uA(dl(r,i-1,i-1),-1);if(f.top==u.top){let m=uA(dl(r,i,i+1),-1);if(m.top!=u.top)return Xf(m,m.left<f.left)}}return u}else{let u=i,f=i,m=n<0?1:-1;return n<0&&!i?(f++,m=-1):n>=0&&i==r.nodeValue.length?(u--,m=1):n<0?u--:f++,Xf(uA(dl(r,u,f),m),m<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ea(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return P2(u.getBoundingClientRect(),!1)}if(s==null&&i<Ea(r)){let u=r.childNodes[i];if(u.nodeType==1)return P2(u.getBoundingClientRect(),!0)}return P2(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ea(r))){let u=r.childNodes[i-1],f=u.nodeType==3?dl(u,Ea(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(f)return Xf(uA(f,1),!1)}if(s==null&&i<Ea(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let f=u?u.nodeType==3?dl(u,0,a?0:1):u.nodeType==1?u:null:null;if(f)return Xf(uA(f,-1),!0)}return Xf(uA(r.nodeType==3?dl(r):r,-n),n>=0)}function Xf(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function P2(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function dk(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Pwe(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return dk(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let A=t.docView.nearestDesc(s,!0);if(!A)break;if(A.node.isBlock){s=A.contentDOM||A.dom;break}s=A.dom.parentNode}let a=uk(t,i.pos,1);for(let A=s.firstChild;A;A=A.nextSibling){let u;if(A.nodeType==1)u=A.getClientRects();else if(A.nodeType==3)u=dl(A,0,A.nodeValue.length).getClientRects();else continue;for(let f=0;f<u.length;f++){let m=u[f];if(m.bottom>m.top+1&&(n=="up"?a.top-m.top>(m.bottom-a.top)*2:m.bottom-a.bottom>(a.bottom-m.top)*2))return!1}}return!0})}const zwe=/[\u0590-\u08ac]/;function Vwe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,A=t.domSelection();return A?!zwe.test(r.parent.textContent)||!A.modify?n=="left"||n=="backward"?s:a:dk(t,e,()=>{let{focusNode:u,focusOffset:f,anchorNode:m,anchorOffset:w}=t.domSelectionRange(),C=A.caretBidiLevel;A.modify("move",n,"character");let B=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:E,focusOffset:I}=t.domSelectionRange(),M=E&&!B.contains(E.nodeType==1?E:E.parentNode)||u==E&&f==I;try{A.collapse(m,w),u&&(u!=m||f!=w)&&A.extend&&A.extend(u,f)}catch{}return C!=null&&(A.caretBidiLevel=C),M}):r.pos==r.start()||r.pos==r.end()}let KI=null,GI=null,$I=!1;function Kwe(t,e,n){return KI==e&&GI==n?$I:(KI=e,GI=n,$I=n=="up"||n=="down"?Pwe(t,e,n):Vwe(t,e,n))}const Na=0,WI=1,Ic=2,Co=3;class dp{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Na,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Mi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let A=i.children[a];if(A.size){i=A;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],A=s+a.size;if(A>e||a instanceof hk){i=e-s;break}s=A}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof fk&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Mi(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Mi(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,A=0;;A++){let u=this.children[A],f=a+u.size;if(i==-1&&e<=f){let m=a+u.border;if(e>=m&&n<=f-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,m);e=a;for(let w=A;w>0;w--){let C=this.children[w-1];if(C.size&&C.dom.parentNode==this.contentDOM&&!C.emptyChildAt(1)){i=Mi(C.dom)+1;break}e-=C.size}i==-1&&(i=0)}if(i>-1&&(f>n||A==this.children.length-1)){n=f;for(let m=A+1;m<this.children.length;m++){let w=this.children[m];if(w.size&&w.dom.parentNode==this.contentDOM&&!w.emptyChildAt(-1)){s=Mi(w.dom);break}n+=w.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=f}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let B=0,E=0;B<this.children.length;B++){let I=this.children[B],M=E+I.size;if(s>E&&a<M)return I.setSelection(e-E-I.border,n-E-I.border,r,i);E=M}let A=this.domFromPos(e,e?-1:1),u=n==e?A:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),m=r.domSelectionRange(),w=!1;if((Ia||hs)&&e==n){let{node:B,offset:E}=A;if(B.nodeType==3){if(w=!!(E&&B.nodeValue[E-1]==`
`),w&&E==B.nodeValue.length)for(let I=B,M;I;I=I.parentNode){if(M=I.nextSibling){M.nodeName=="BR"&&(A=u={node:M.parentNode,offset:Mi(M)+1});break}let R=I.pmViewDesc;if(R&&R.node&&R.node.isBlock)break}}else{let I=B.childNodes[E-1];w=I&&(I.nodeName=="BR"||I.contentEditable=="false")}}if(Ia&&m.focusNode&&m.focusNode!=u.node&&m.focusNode.nodeType==1){let B=m.focusNode.childNodes[m.focusOffset];B&&B.contentEditable=="false"&&(i=!0)}if(!(i||w&&hs)&&$c(A.node,A.offset,m.anchorNode,m.anchorOffset)&&$c(u.node,u.offset,m.focusNode,m.focusOffset))return;let C=!1;if((f.extend||e==n)&&!(w&&Ia)){f.collapse(A.node,A.offset);try{e!=n&&f.extend(u.node,u.offset),C=!0}catch{}}if(!C){if(e>n){let E=A;A=u,u=E}let B=document.createRange();B.setEnd(u.node,u.offset),B.setStart(A.node,A.offset),f.removeAllRanges(),f.addRange(B)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let A=r+s.border,u=a-s.border;if(e>=A&&n<=u){this.dirty=e==r||n==a?Ic:WI,e==A&&n==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Co:s.markDirty(e-A,n-A);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ic:Co}r=a}this.dirty=Ic}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ic:WI;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class fk extends dp{constructor(e,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let A=document.createElement("span");A.appendChild(a),a=A}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Na&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Gwe extends dp{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Wc extends dp{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=tu.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Wc(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Co||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Co&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Na){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Na}}slice(e,n,r){let i=Wc.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=yb(s,n,a,r)),e>0&&(s=yb(s,0,e,r));for(let A=0;A<s.length;A++)s[A].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class DA extends dp{constructor(e,n,r,i,s,a,A,u,f){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=A}static create(e,n,r,i,s,a){let A=s.nodeViews[n.type.name],u,f=A&&A(n,s,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,i),m=f&&f.dom,w=f&&f.contentDOM;if(n.isText){if(!m)m=document.createTextNode(n.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:w}=tu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!w&&!n.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),n.type.spec.draggable&&(m.draggable=!0));let C=m;return m=mk(m,r,n),f?u=new $we(e,n,r,i,m,w||null,C,f,s,a+1):n.isText?new Z0(e,n,r,i,m,C,s):new DA(e,n,r,i,m,w||null,C,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>We.empty)}return e}matchesNode(e,n,r){return this.dirty==Na&&e.eq(this.node)&&Lm(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,A=s&&s.pos<0,u=new Xwe(this,a&&a.node,e);Zwe(this.node,this.innerDeco,(f,m,w)=>{f.spec.marks?u.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!w&&u.syncToMarks(m==this.node.childCount?ir.none:this.node.child(m).marks,r,e),u.placeWidget(f,e,i)},(f,m,w,C)=>{u.syncToMarks(f.marks,r,e);let B;u.findNodeMatch(f,m,w,C)||A&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(B=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(f,m,w,B,e)||u.updateNextNode(f,m,w,e,C,i)||u.addNode(f,m,w,e,i),i+=f.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Ic)&&(a&&this.protectLocalComposition(e,a),pk(this.contentDOM,this.children,e),kd&&Jwe(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Pt)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,A=eye(this.node.content,a,r-n,i-n);return A<0?null:{node:s,pos:A,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new Gwe(this,s,n,i);e.input.compositionNodes.push(a),this.children=yb(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==Co||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Na}updateOuterDeco(e){if(Lm(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=gk(this.dom,this.nodeDOM,wb(this.outerDeco,this.node,n),wb(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function XI(t,e,n,r,i){mk(r,e,t);let s=new DA(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Z0 extends DA{constructor(e,n,r,i,s,a,A){super(e,n,r,i,s,null,a,A,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Co||this.dirty!=Na&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Na||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Na,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Z0(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Co)}get domAtom(){return!1}isText(e){return this.node.text==e}}class hk extends dp{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Na&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class $we extends DA{constructor(e,n,r,i,s,a,A,u,f,m){super(e,n,r,i,s,a,A,f,m),this.spec=u}update(e,n,r,i){if(this.dirty==Co)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function pk(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],A=a.dom;if(A.parentNode==t){for(;A!=r;)r=qI(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(A,r);if(a instanceof Wc){let u=r?r.previousSibling:t.lastChild;pk(a.contentDOM,a.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=qI(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const bh=function(t){t&&(this.nodeName=t)};bh.prototype=Object.create(null);const Nc=[new bh];function wb(t,e,n){if(t.length==0)return Nc;let r=n?Nc[0]:new bh,i=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(r=new bh(a.nodeName));for(let A in a){let u=a[A];u!=null&&(n&&i.length==1&&i.push(r=new bh(e.isInline?"span":"div")),A=="class"?r.class=(r.class?r.class+" ":"")+u:A=="style"?r.style=(r.style?r.style+";":"")+u:A!="nodeName"&&(r[A]=u))}}}return i}function gk(t,e,n,r){if(n==Nc&&r==Nc)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],A=n[s];if(s){let u;A&&A.nodeName==a.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(i),A=Nc[0]),i=u}Wwe(i,A||Nc[0],a)}return i}function Wwe(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function mk(t,e,n){return gk(t,t,Nc,wb(e,n,t.nodeType!=1))}function Lm(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function qI(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Xwe{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=qwe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Na,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let A=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let f=this.top.children[u];if(f.matchesMark(e[s])&&!this.isLocked(f.dom)){A=u;break}}if(A>-1)A>this.index&&(this.changed=!0,this.destroyBetween(this.index,A)),this.top=this.top.children[this.index];else{let u=Wc.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let A=this.index,u=Math.min(this.top.children.length,A+5);A<u;A++){let f=this.top.children[A];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){s=A;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let a=this.top.children[i];return a.dirty==Co&&a.dom==a.contentDOM&&(a.dirty=Ic),a.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,a){for(let A=this.index;A<this.top.children.length;A++){let u=this.top.children[A];if(u instanceof DA){let f=this.preMatch.matched.get(u);if(f!=null&&f!=s)return!1;let m=u.dom,w,C=this.isLocked(m)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=Co&&Lm(n,u.outerDeco));if(!C&&u.update(e,n,r,i))return this.destroyBetween(this.index,A),u.dom!=m&&(this.changed=!0),this.index++,!0;if(!C&&(w=this.recreateWrapper(u,e,n,r,i,a)))return this.destroyBetween(this.index,A),this.top.children[this.index]=w,w.contentDOM&&(w.dirty=Ic,w.updateChildren(i,a+1),w.dirty=Na),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Lm(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let A=DA.create(this.top,n,r,i,s,a);if(A.contentDOM){A.children=e.children,e.children=[];for(let u of A.children)u.parent=A}return e.destroy(),A}addNode(e,n,r,i,s){let a=DA.create(this.top,e,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new fk(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Wc;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Z0)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((hs||Gi)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new hk(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function qwe(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let A;for(;;)if(r){let f=n.children[r-1];if(f instanceof Wc)n=f,r=f.children.length;else{A=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=A.node;if(u){if(u!=t.child(i-1))break;--i,s.set(A,i),a.push(A)}}return{index:i,matched:s,matches:a.reverse()}}function Ywe(t,e){return t.type.side-e.type.side}function Zwe(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let f=0;f<t.childCount;f++){let m=t.child(f);r(m,i,e.forChild(s,m),f),s+=m.nodeSize}return}let a=0,A=[],u=null;for(let f=0;;){let m,w;for(;a<i.length&&i[a].to==s;){let M=i[a++];M.widget&&(m?(w||(w=[m])).push(M):m=M)}if(m)if(w){w.sort(Ywe);for(let M=0;M<w.length;M++)n(w[M],f,!!u)}else n(m,f,!!u);let C,B;if(u)B=-1,C=u,u=null;else if(f<t.childCount)B=f,C=t.child(f++);else break;for(let M=0;M<A.length;M++)A[M].to<=s&&A.splice(M--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)A.push(i[a++]);let E=s+C.nodeSize;if(C.isText){let M=E;a<i.length&&i[a].from<M&&(M=i[a].from);for(let R=0;R<A.length;R++)A[R].to<M&&(M=A[R].to);M<E&&(u=C.cut(M-s),C=C.cut(0,M-s),E=M,B=-1)}else for(;a<i.length&&i[a].to<E;)a++;let I=C.isInline&&!C.isLeaf?A.filter(M=>!M.inline):A.slice();r(C,I,e.forChild(s,C),B),s=E}}function Jwe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function eye(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let a=t.child(i++),A=s;if(s+=a.nodeSize,!a.isText)continue;let u=a.text;for(;i<t.childCount;){let f=t.child(i++);if(s+=f.nodeSize,!f.isText)break;u+=f.text}if(s>=n){if(s>=r&&u.slice(r-e.length-A,r-A)==e)return r-e.length;let f=A<r?u.lastIndexOf(e,r-A-1):-1;if(f>=0&&f+e.length+A>=n)return A+f;if(n==r&&u.length>=r+e.length-A&&u.slice(r-A,r-A+e.length)==e)return r}}return-1}function yb(t,e,n,r,i){let s=[];for(let a=0,A=0;a<t.length;a++){let u=t[a],f=A,m=A+=u.size;f>=n||m<=e?s.push(u):(f<e&&s.push(u.slice(0,e-f,r)),i&&(s.push(i),i=void 0),m>n&&s.push(u.slice(n-f,u.size,r)))}return s}function YC(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let A=r.resolve(a),u,f;if(Y0(n)){for(u=a;i&&!i.node;)i=i.parent;let w=i.node;if(i&&w.isAtom&&It.isSelectable(w)&&i.parent&&!(w.isInline&&Ewe(n.focusNode,n.focusOffset,i.dom))){let C=i.posBefore;f=new It(a==C?A:r.resolve(C))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let w=a,C=a;for(let B=0;B<n.rangeCount;B++){let E=n.getRangeAt(B);w=Math.min(w,t.docView.posFromDOM(E.startContainer,E.startOffset,1)),C=Math.max(C,t.docView.posFromDOM(E.endContainer,E.endOffset,-1))}if(w<0)return null;[u,a]=C==t.state.selection.anchor?[C,w]:[w,C],A=r.resolve(a)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let m=r.resolve(u);if(!f){let w=e=="pointer"||t.state.selection.head<A.pos&&!s?1:-1;f=ZC(t,m,A,w)}return f}function xk(t){return t.editable?t.hasFocus():yk(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function wl(t,e=!1){let n=t.state.selection;if(wk(t,n),!!xk(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Gi){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&$c(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)nye(t);else{let{anchor:r,head:i}=n,s,a;YI&&!(n instanceof Pt)&&(n.$from.parent.inlineContent||(s=ZI(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=ZI(t,n.to))),t.docView.setSelection(r,i,t,e),YI&&(s&&JI(s),a&&JI(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&tye(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const YI=hs||Gi&&ak<63;function ZI(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(hs&&i&&i.contentEditable=="false")return z2(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return z2(i);if(s)return z2(s)}}function z2(t){return t.contentEditable="true",hs&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function JI(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function tye(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!xk(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function nye(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Mi(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Rs&&FA<=11&&(n.disabled=!0,n.disabled=!1)}function wk(t,e){if(e instanceof It){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(eN(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else eN(t)}function eN(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function ZC(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Pt.between(e,n,r)}function tN(t){return t.editable&&!t.hasFocus()?!1:yk(t)}function yk(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function rye(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return $c(e.node,e.offset,n.anchorNode,n.anchorOffset)}function vb(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&rn.findFrom(s,e)}function fA(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function nN(t,e,n){let r=t.state.selection;if(r instanceof Pt)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return fA(t,new Pt(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=vb(t.state,e);return i&&i instanceof It?fA(t,i):!1}else if(!(Ba&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let A=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(A))&&!a.contentDOM?It.isSelectable(s)?fA(t,new It(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):up?fA(t,new Pt(t.state.doc.resolve(e<0?A:A+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof It&&r.node.isInline)return fA(t,new Pt(e>0?r.$to:r.$from));{let i=vb(t.state,e);return i?fA(t,i):!1}}}function Um(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ch(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ad(t,e){return e<0?iye(t):sye(t)}function iye(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for(Ia&&n.nodeType==1&&r<Um(n)&&Ch(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let A=n.childNodes[r-1];if(Ch(A,-1))i=n,s=--r;else if(A.nodeType==3)n=A,r=n.nodeValue.length;else break}}else{if(vk(n))break;{let A=n.previousSibling;for(;A&&Ch(A,-1);)i=n.parentNode,s=Mi(A),A=A.previousSibling;if(A)n=A,r=Um(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?bb(t,n,r):i&&bb(t,i,s)}function sye(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Um(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let A=n.childNodes[r];if(Ch(A,1))s=n,a=++r;else break}else{if(vk(n))break;{let A=n.nextSibling;for(;A&&Ch(A,1);)s=A.parentNode,a=Mi(A)+1,A=A.nextSibling;if(A)n=A,r=0,i=Um(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&bb(t,s,a)}function vk(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function aye(t,e){for(;t&&e==t.childNodes.length&&!cp(t);)e=Mi(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function oye(t,e){for(;t&&!e&&!cp(t);)e=Mi(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function bb(t,e,n){if(e.nodeType!=3){let s,a;(a=aye(e,n))?(e=a,n=0):(s=oye(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Y0(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&wl(t)},50)}function rN(t,e){let n=t.state.doc.resolve(e);if(!(Gi||Iwe)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function iN(t,e,n){let r=t.state.selection;if(r instanceof Pt&&!r.empty||n.indexOf("s")>-1||Ba&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=vb(t.state,e);if(a&&a instanceof It)return fA(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,A=r instanceof sa?rn.near(a,e):rn.findFrom(a,e);return A?fA(t,A):!1}return!1}function sN(t,e){if(!(t.state.selection instanceof Pt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function aN(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function lye(t){if(!hs||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;aN(t,r,"true"),setTimeout(()=>aN(t,r,"false"),20)}return!1}function Aye(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function cye(t,e){let n=e.keyCode,r=Aye(e);if(n==8||Ba&&n==72&&r=="c")return sN(t,-1)||Ad(t,-1);if(n==46&&!e.shiftKey||Ba&&n==68&&r=="c")return sN(t,1)||Ad(t,1);if(n==13||n==27)return!0;if(n==37||Ba&&n==66&&r=="c"){let i=n==37?rN(t,t.state.selection.from)=="ltr"?-1:1:-1;return nN(t,i,r)||Ad(t,i)}else if(n==39||Ba&&n==70&&r=="c"){let i=n==39?rN(t,t.state.selection.from)=="ltr"?1:-1:1;return nN(t,i,r)||Ad(t,i)}else{if(n==38||Ba&&n==80&&r=="c")return iN(t,-1,r)||Ad(t,-1);if(n==40||Ba&&n==78&&r=="c")return lye(t)||iN(t,1,r)||Ad(t,1);if(r==(Ba?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function JC(t,e){t.someProp("transformCopied",B=>{e=B(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let B=r.firstChild;n.push(B.type.name,B.attrs!=B.type.defaultAttrs?B.attrs:null),r=B.content}let a=t.someProp("clipboardSerializer")||tu.fromSchema(t.state.schema),A=Sk(),u=A.createElement("div");u.appendChild(a.serializeFragment(r,{document:A}));let f=u.firstChild,m,w=0;for(;f&&f.nodeType==1&&(m=Ek[f.nodeName.toLowerCase()]);){for(let B=m.length-1;B>=0;B--){let E=A.createElement(m[B]);for(;u.firstChild;)E.appendChild(u.firstChild);u.appendChild(E),w++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${s}${w?` -${w}`:""} ${JSON.stringify(n)}`);let C=t.someProp("clipboardTextSerializer",B=>B(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:C,slice:e}}function bk(t,e,n,r,i){let s=i.parent.type.spec.code,a,A;if(!n&&!e)return null;let u=!!e&&(r||s||!n);if(u){if(t.someProp("transformPastedText",C=>{e=C(e,s||r,t)}),s)return A=new ct(We.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",C=>{A=C(A,t,!0)}),A;let w=t.someProp("clipboardTextParser",C=>C(e,i,r,t));if(w)A=w;else{let C=i.marks(),{schema:B}=t.state,E=tu.fromSchema(B);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(I=>{let M=a.appendChild(document.createElement("p"));I&&M.appendChild(E.serializeNode(B.text(I,C)))})}}else t.someProp("transformPastedHTML",w=>{n=w(n,t)}),a=hye(n),up&&pye(a);let f=a&&a.querySelector("[data-pm-slice]"),m=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let w=+m[3];w>0;w--){let C=a.firstChild;for(;C&&C.nodeType!=1;)C=C.nextSibling;if(!C)break;a=C}if(A||(A=(t.someProp("clipboardParser")||t.someProp("domParser")||kA.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||m),context:i,ruleFromNode(C){return C.nodeName=="BR"&&!C.nextSibling&&C.parentNode&&!uye.test(C.parentNode.nodeName)?{ignore:!0}:null}})),m)A=gye(oN(A,+m[1],+m[2]),m[4]);else if(A=ct.maxOpen(dye(A.content,i),!0),A.openStart||A.openEnd){let w=0,C=0;for(let B=A.content.firstChild;w<A.openStart&&!B.type.spec.isolating;w++,B=B.firstChild);for(let B=A.content.lastChild;C<A.openEnd&&!B.type.spec.isolating;C++,B=B.lastChild);A=oN(A,w,C)}return t.someProp("transformPasted",w=>{A=w(A,t,u)}),A}const uye=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function dye(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(A=>{if(!a)return;let u=i.findWrapping(A.type),f;if(!u)return a=null;if(f=a.length&&s.length&&Bk(u,s,A,a[a.length-1],0))a[a.length-1]=f;else{a.length&&(a[a.length-1]=_k(a[a.length-1],s.length));let m=Ck(A,u);a.push(m),i=i.matchType(m.type),s=u}}),a)return We.from(a)}return t}function Ck(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,We.from(t));return t}function Bk(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=Bk(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(We.from(Ck(n,t,i+1))))}}function _k(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,_k(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(We.empty,!0);return t.copy(n.append(r))}function Cb(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,A=a.content;return t.childCount>1&&(s=0),i<r-1&&(A=Cb(A,e,n,r,i+1,s)),i>=n&&(A=e<0?a.contentMatchAt(0).fillBefore(A,s<=i).append(A):A.append(a.contentMatchAt(a.childCount).fillBefore(We.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(A))}function oN(t,e,n){return e<t.openStart&&(t=new ct(Cb(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ct(Cb(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Ek={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let lN=null;function Sk(){return lN||(lN=document.implementation.createHTMLDocument("title"))}let V2=null;function fye(t){let e=window.trustedTypes;return e?(V2||(V2=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),V2.createHTML(t)):t}function hye(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Sk().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Ek[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=fye(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function pye(t){let e=t.querySelectorAll(Gi?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function gye(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let A=r.length-2;A>=0;A-=2){let u=n.nodes[r[A]];if(!u||u.hasRequiredAttrs())break;i=We.from(u.create(r[A+1],i)),s++,a++}return new ct(i,s,a)}const ps={},gs={},mye={touchstart:!0,touchmove:!0};class xye{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function wye(t){for(let e in ps){let n=ps[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{vye(t,r)&&!eB(t,r)&&(t.editable||!(r.type in gs))&&n(t,r)},mye[e]?{passive:!0}:void 0)}hs&&t.dom.addEventListener("input",()=>null),Bb(t)}function SA(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function yye(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Bb(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>eB(t,r))})}function eB(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function vye(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function bye(t,e){!eB(t,e)&&ps[e.type]&&(t.editable||!(e.type in gs))&&ps[e.type](t,e)}gs.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Ik(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(pl&&Gi&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),kd&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Bc(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||cye(t,n)?n.preventDefault():SA(t,"key")};gs.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};gs.keypress=(t,e)=>{let n=e;if(Ik(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ba&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Pt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function J0(t){return{left:t.clientX,top:t.clientY}}function Cye(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function tB(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,A=>a>s.depth?A(t,n,s.nodeAfter,s.before(a),i,!0):A(t,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function Ed(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function Bye(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&It.isSelectable(r)?(Ed(t,new It(n)),!0):!1}function _ye(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof It&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let A=a>s.depth?s.nodeAfter:s.node(a);if(It.isSelectable(A)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(Ed(t,It.create(t.state.doc,i)),!0):!1}function Eye(t,e,n,r,i){return tB(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?_ye(t,n):Bye(t,n))}function Sye(t,e,n,r){return tB(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Tye(t,e,n,r){return tB(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||Iye(t,n,r)}function Iye(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Ed(t,Pt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),A=i.before(s);if(a.inlineContent)Ed(t,Pt.create(r,A+1,A+1+a.content.size));else if(It.isSelectable(a))Ed(t,It.create(r,A));else continue;return!0}}function nB(t){return Qm(t)}const Tk=Ba?"metaKey":"ctrlKey";ps.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=nB(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&Cye(n,t.input.lastClick)&&!n[Tk]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=t.posAtCoords(J0(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Nye(t,a,n,!!r)):(s=="doubleClick"?Sye:Tye)(t,a.pos,a.inside,n)?n.preventDefault():SA(t,"pointer"))};class Nye{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Tk],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let m=e.state.doc.resolve(n.pos);s=m.parent,a=m.depth?m.before():0}const A=i?null:r.target,u=A?e.docView.nearestDesc(A,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:f}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||f instanceof It&&f.from<=a&&f.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ia&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),SA(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>wl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(J0(e))),this.updateAllowDefault(e),this.allowDefault||!n?SA(this.view,"pointer"):Eye(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||hs&&this.mightDrag&&!this.mightDrag.node.isAtom||Gi&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ed(this.view,rn.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):SA(this.view,"pointer")}move(e){this.updateAllowDefault(e),SA(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ps.touchstart=t=>{t.input.lastTouch=Date.now(),nB(t),SA(t,"pointer")};ps.touchmove=t=>{t.input.lastTouch=Date.now(),SA(t,"pointer")};ps.contextmenu=t=>nB(t);function Ik(t,e){return t.composing?!0:hs&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Oye=pl?5e3:-1;gs.compositionstart=gs.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Pt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Qm(t,!0),t.markCursor=null;else if(Qm(t,!e.selection.empty),Ia&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let A=t.domSelection();A&&A.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}Nk(t,Oye)};gs.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Nk(t,20))};function Nk(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Qm(t),e))}function Ok(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=kye());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Mye(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Bwe(e.focusNode,e.focusOffset),r=_we(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function kye(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Qm(t,e=!1){if(!(pl&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Ok(t),e||t.docView&&t.docView.dirty){let n=YC(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Fye(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Vh=Rs&&FA<15||kd&&Nwe<604;ps.copy=gs.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Vh?null:n.clipboardData,a=r.content(),{dom:A,text:u}=JC(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",A.innerHTML),s.setData("text/plain",u)):Fye(t,A),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Dye(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Rye(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Kh(t,r.value,null,i,e):Kh(t,r.textContent,r.innerHTML,i,e)},50)}function Kh(t,e,n,r,i){let s=bk(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,s||ct.empty)))return!0;if(!s)return!1;let a=Dye(s),A=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(A.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Mk(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}gs.paste=(t,e)=>{let n=e;if(t.composing&&!pl)return;let r=Vh?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Kh(t,Mk(r),r.getData("text/html"),i,n)?n.preventDefault():Rye(t,n)};class kk{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Lye=Ba?"altKey":"ctrlKey";function Fk(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[Lye]}ps.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(J0(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof It?i.to-1:i.to))){if(r&&r.mightDrag)a=It.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let w=t.docView.nearestDesc(n.target,!0);w&&w.node.type.spec.draggable&&w!=t.docView&&(a=It.create(t.state.doc,w.posBefore))}}let A=(a||t.state.selection).content(),{dom:u,text:f,slice:m}=JC(t,A);(!n.dataTransfer.files.length||!Gi||ak>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Vh?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Vh||n.dataTransfer.setData("text/plain",f),t.dragging=new kk(m,Fk(t,n),a)};ps.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};gs.dragover=gs.dragenter=(t,e)=>e.preventDefault();gs.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(J0(n));if(!i)return;let s=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",E=>{a=E(a,t,!1)}):a=bk(t,Mk(n.dataTransfer),Vh?null:n.dataTransfer.getData("text/html"),!1,s);let A=!!(r&&Fk(t,n));if(t.someProp("handleDrop",E=>E(t,n,a||ct.empty,A))){n.preventDefault();return}if(!a)return;n.preventDefault();let u=a?QM(t.state.doc,s.pos,a):s.pos;u==null&&(u=s.pos);let f=t.state.tr;if(A){let{node:E}=r;E?E.replace(f):f.deleteSelection()}let m=f.mapping.map(u),w=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,C=f.doc;if(w?f.replaceRangeWith(m,m,a.content.firstChild):f.replaceRange(m,m,a),f.doc.eq(C))return;let B=f.doc.resolve(m);if(w&&It.isSelectable(a.content.firstChild)&&B.nodeAfter&&B.nodeAfter.sameMarkup(a.content.firstChild))f.setSelection(new It(B));else{let E=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((I,M,R,L)=>E=L),f.setSelection(ZC(t,B,f.doc.resolve(E)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};ps.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&wl(t)},20))};ps.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ps.beforeinput=(t,e)=>{if(Gi&&pl&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Bc(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in gs)ps[t]=gs[t];function Gh(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Hm{constructor(e,n){this.toDOM=e,this.spec=n||Uc,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new ds(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Hm&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Gh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class RA{constructor(e,n){this.attrs=e,this.spec=n||Uc}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new ds(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof RA&&Gh(this.attrs,e.attrs)&&Gh(this.spec,e.spec)}static is(e){return e.type instanceof RA}destroy(){}}class rB{constructor(e,n){this.attrs=e,this.spec=n||Uc}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new ds(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof rB&&Gh(this.attrs,e.attrs)&&Gh(this.spec,e.spec)}destroy(){}}class ds{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ds(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ds(e,e,new Hm(n,r))}static inline(e,n,r,i){return new ds(e,n,new RA(r,i))}static node(e,n,r,i){return new ds(e,n,new rB(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof RA}get widget(){return this.type instanceof Hm}}const hd=[],Uc={};class Er{constructor(e,n){this.local=e.length?e:hd,this.children=n.length?n:hd}static create(e,n){return n.length?jm(n,e,0,Uc):zi}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let a=0;a<this.local.length;a++){let A=this.local[a];A.from<=n&&A.to>=e&&(!s||s(A.spec))&&r.push(A.copy(A.from+i,A.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let A=this.children[a]+1;this.children[a+2].findInner(e-A,n-A,r,i+A,s)}}map(e,n,r){return this==zi||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Uc)}mapInner(e,n,r,i,s){let a;for(let A=0;A<this.local.length;A++){let u=this.local[A].map(e,r,i);u&&u.type.valid(n,u)?(a||(a=[])).push(u):s.onRemove&&s.onRemove(this.local[A].spec)}return this.children.length?Uye(this.children,a||[],e,n,r,i,s):a?new Er(a.sort(Qc),hd):zi}add(e,n){return n.length?this==zi?Er.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((A,u)=>{let f=u+r,m;if(m=Rk(n,A,f)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(A,m,f+1):i.splice(s,0,u,u+A.nodeSize,jm(m,A,f+1,Uc)),s+=3}});let a=Dk(s?Lk(n):n,-r);for(let A=0;A<a.length;A++)a[A].type.valid(e,a[A])||a.splice(A--,1);return new Er(a.length?this.local.concat(a).sort(Qc):this.local,i||this.children)}remove(e){return e.length==0||this==zi?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,A=r[s]+n,u=r[s+1]+n;for(let m=0,w;m<e.length;m++)(w=e[m])&&w.from>A&&w.to<u&&(e[m]=null,(a||(a=[])).push(w));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[s+2].removeInner(a,A+1);f!=zi?r[s+2]=f:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let A=0;A<i.length;A++)i[A].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(A--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Er(i,r):zi}forChild(e,n){if(this==zi)return this;if(n.isLeaf)return Er.empty;let r,i;for(let A=0;A<this.children.length;A+=3)if(this.children[A]>=e){this.children[A]==e&&(r=this.children[A+2]);break}let s=e+1,a=s+n.content.size;for(let A=0;A<this.local.length;A++){let u=this.local[A];if(u.from<a&&u.to>s&&u.type instanceof RA){let f=Math.max(s,u.from)-s,m=Math.min(a,u.to)-s;f<m&&(i||(i=[])).push(u.copy(f,m))}}if(i){let A=new Er(i.sort(Qc),hd);return r?new xA([A,r]):A}return r||zi}eq(e){if(this==e)return!0;if(!(e instanceof Er)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return iB(this.localsInner(e))}localsInner(e){if(this==zi)return hd;if(e.inlineContent||!this.local.some(RA.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof RA||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Er.empty=new Er([],[]);Er.removeOverlap=iB;const zi=Er.empty;class xA{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Uc));return xA.from(r)}forChild(e,n){if(n.isLeaf)return Er.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=zi&&(s instanceof xA?r=r.concat(s.members):r.push(s))}return xA.from(r)}eq(e){if(!(e instanceof xA)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?iB(r?n:n.sort(Qc)):hd}static from(e){switch(e.length){case 0:return zi;case 1:return e[0];default:return new xA(e.every(n=>n instanceof Er)?e:e.reduce((n,r)=>n.concat(r instanceof Er?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Uye(t,e,n,r,i,s,a){let A=t.slice();for(let f=0,m=s;f<n.maps.length;f++){let w=0;n.maps[f].forEach((C,B,E,I)=>{let M=I-E-(B-C);for(let R=0;R<A.length;R+=3){let L=A[R+1];if(L<0||C>L+m-w)continue;let U=A[R]+m-w;B>=U?A[R+1]=C<=U?-2:-1:C>=m&&M&&(A[R]+=M,A[R+1]+=M)}w+=M}),m=n.maps[f].map(m,-1)}let u=!1;for(let f=0;f<A.length;f+=3)if(A[f+1]<0){if(A[f+1]==-2){u=!0,A[f+1]=-1;continue}let m=n.map(t[f]+s),w=m-i;if(w<0||w>=r.content.size){u=!0;continue}let C=n.map(t[f+1]+s,-1),B=C-i,{index:E,offset:I}=r.content.findIndex(w),M=r.maybeChild(E);if(M&&I==w&&I+M.nodeSize==B){let R=A[f+2].mapInner(n,M,m+1,t[f]+s+1,a);R!=zi?(A[f]=w,A[f+1]=B,A[f+2]=R):(A[f+1]=-2,u=!0)}else u=!0}if(u){let f=Qye(A,t,e,n,i,s,a),m=jm(f,r,0,a);e=m.local;for(let w=0;w<A.length;w+=3)A[w+1]<0&&(A.splice(w,3),w-=3);for(let w=0,C=0;w<m.children.length;w+=3){let B=m.children[w];for(;C<A.length&&A[C]<B;)C+=3;A.splice(C,0,m.children[w],m.children[w+1],m.children[w+2])}}return new Er(e.sort(Qc),A)}function Dk(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new ds(i.from+e,i.to+e,i.type))}return n}function Qye(t,e,n,r,i,s,a){function A(u,f){for(let m=0;m<u.local.length;m++){let w=u.local[m].map(r,i,f);w?n.push(w):a.onRemove&&a.onRemove(u.local[m].spec)}for(let m=0;m<u.children.length;m+=3)A(u.children[m+2],u.children[m]+f+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&A(t[u+2],e[u]+s+1);return n}function Rk(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[s]=null);return i}function Lk(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function jm(t,e,n,r){let i=[],s=!1;e.forEach((A,u)=>{let f=Rk(t,A,u+n);if(f){s=!0;let m=jm(f,A,n+u+1,r);m!=zi&&i.push(u,u+A.nodeSize,m)}});let a=Dk(s?Lk(t):t,-n).sort(Qc);for(let A=0;A<a.length;A++)a[A].type.valid(e,a[A])||(r.onRemove&&r.onRemove(a[A].spec),a.splice(A--,1));return a.length||i.length?new Er(a,i):zi}function Qc(t,e){return t.from-e.from||t.to-e.to}function iB(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),AN(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),AN(e,i,r.copy(s.from,r.to)));break}}}return e}function AN(t,e,n){for(;e<t.length&&Qc(n,t[e])>0;)e++;t.splice(e,0,n)}function K2(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=zi&&e.push(r)}),t.cursorWrapper&&e.push(Er.create(t.state.doc,[t.cursorWrapper.deco])),xA.from(e)}const Hye={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},jye=Rs&&FA<=11;class Pye{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class zye{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Pye,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Rs&&FA<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),jye&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Hye)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(tN(this.view)){if(this.suppressingSelectionUpdates)return wl(this.view);if(Rs&&FA<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&$c(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Md(s))n.add(s);for(let s=e.anchorNode;s;s=Md(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&tN(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,A=!1,u=[];if(e.editable)for(let m=0;m<n.length;m++){let w=this.registerMutation(n[m],u);w&&(s=s<0?w.from:Math.min(w.from,s),a=a<0?w.to:Math.max(w.to,a),w.typeOver&&(A=!0))}if(Ia&&u.length){let m=u.filter(w=>w.nodeName=="BR");if(m.length==2){let[w,C]=m;w.parentNode&&w.parentNode.parentNode==C.parentNode?C.remove():w.remove()}else{let{focusNode:w}=this.currentSelection;for(let C of m){let B=C.parentNode;B&&B.nodeName=="LI"&&(!w||Gye(e,w)!=B)&&C.remove()}}}let f=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Y0(r)&&(f=YC(e))&&f.eq(rn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,wl(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),Vye(e)),this.handleDOMChange(s,a,A,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||wl(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let w=e.addedNodes[m];n.push(w),w.nodeType==3&&(this.lastChangedTextNode=w)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Rs&&FA<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:w,nextSibling:C}=e.addedNodes[m];(!w||Array.prototype.indexOf.call(e.addedNodes,w)<0)&&(i=w),(!C||Array.prototype.indexOf.call(e.addedNodes,C)<0)&&(s=C)}let a=i&&i.parentNode==e.target?Mi(i)+1:0,A=r.localPosFromDOM(e.target,a,-1),u=s&&s.parentNode==e.target?Mi(s):e.target.childNodes.length,f=r.localPosFromDOM(e.target,u,1);return{from:A,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let cN=new WeakMap,uN=!1;function Vye(t){if(!cN.has(t)&&(cN.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Ia,uN)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),uN=!0}}function dN(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return $c(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Kye(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return dN(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?dN(t,n):null}function Gye(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function $ye(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:A}=t.docView.parseRange(e,n),u=t.domSelectionRange(),f,m=u.anchorNode;if(m&&t.dom.contains(m.nodeType==1?m:m.parentNode)&&(f=[{node:m,offset:u.anchorOffset}],Y0(u)||f.push({node:u.focusNode,offset:u.focusOffset})),Gi&&t.input.lastKeyCode===8)for(let M=s;M>i;M--){let R=r.childNodes[M-1],L=R.pmViewDesc;if(R.nodeName=="BR"&&!L){s=M;break}if(!L||L.size)break}let w=t.state.doc,C=t.someProp("domParser")||kA.fromSchema(t.state.schema),B=w.resolve(a),E=null,I=C.parse(r,{topNode:B.parent,topMatch:B.parent.contentMatchAt(B.index()),topOpen:!0,from:i,to:s,preserveWhitespace:B.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:Wye,context:B});if(f&&f[0].pos!=null){let M=f[0].pos,R=f[1]&&f[1].pos;R==null&&(R=M),E={anchor:M+a,head:R+a}}return{doc:I,sel:E,from:a,to:A}}function Wye(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(hs&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||hs&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Xye=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function qye(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let D=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,j=YC(t,D);if(j&&!t.state.selection.eq(j)){if(Gi&&pl&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",W=>W(t,Bc(13,"Enter"))))return;let V=t.state.tr.setSelection(j);D=="pointer"?V.setMeta("pointer",!0):D=="key"&&V.scrollIntoView(),s&&V.setMeta("composition",s),t.dispatch(V)}return}let a=t.state.doc.resolve(e),A=a.sharedDepth(n);e=a.before(A+1),n=t.state.doc.resolve(n).after(A+1);let u=t.state.selection,f=$ye(t,e,n),m=t.state.doc,w=m.slice(f.from,f.to),C,B;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(C=t.state.selection.to,B="end"):(C=t.state.selection.from,B="start"),t.input.lastKeyCode=null;let E=Jye(w.content,f.doc.content,f.from,C,B);if(E&&t.input.domChangeCount++,(kd&&t.input.lastIOSEnter>Date.now()-225||pl)&&i.some(D=>D.nodeType==1&&!Xye.test(D.nodeName))&&(!E||E.endA>=E.endB)&&t.someProp("handleKeyDown",D=>D(t,Bc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!E)if(r&&u instanceof Pt&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))E={start:u.from,endA:u.to,endB:u.to};else{if(f.sel){let D=fN(t,t.state.doc,f.sel);if(D&&!D.eq(t.state.selection)){let j=t.state.tr.setSelection(D);s&&j.setMeta("composition",s),t.dispatch(j)}}return}t.state.selection.from<t.state.selection.to&&E.start==E.endB&&t.state.selection instanceof Pt&&(E.start>t.state.selection.from&&E.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?E.start=t.state.selection.from:E.endA<t.state.selection.to&&E.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(E.endB+=t.state.selection.to-E.endA,E.endA=t.state.selection.to)),Rs&&FA<=11&&E.endB==E.start+1&&E.endA==E.start&&E.start>f.from&&f.doc.textBetween(E.start-f.from-1,E.start-f.from+1)==" "&&(E.start--,E.endA--,E.endB--);let I=f.doc.resolveNoCache(E.start-f.from),M=f.doc.resolveNoCache(E.endB-f.from),R=m.resolve(E.start),L=I.sameParent(M)&&I.parent.inlineContent&&R.end()>=E.endA;if((kd&&t.input.lastIOSEnter>Date.now()-225&&(!L||i.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!L&&I.pos<f.doc.content.size&&(!I.sameParent(M)||!I.parent.inlineContent)&&I.pos<M.pos&&!/\S/.test(f.doc.textBetween(I.pos,M.pos,"","")))&&t.someProp("handleKeyDown",D=>D(t,Bc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>E.start&&Zye(m,E.start,E.endA,I,M)&&t.someProp("handleKeyDown",D=>D(t,Bc(8,"Backspace")))){pl&&Gi&&t.domObserver.suppressSelectionUpdates();return}Gi&&E.endB==E.start&&(t.input.lastChromeDelete=Date.now()),pl&&!L&&I.start()!=M.start()&&M.parentOffset==0&&I.depth==M.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==E.endA&&(E.endB-=2,M=f.doc.resolveNoCache(E.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(D){return D(t,Bc(13,"Enter"))})},20));let U=E.start,O=E.endA,F=D=>{let j=D||t.state.tr.replace(U,O,f.doc.slice(E.start-f.from,E.endB-f.from));if(f.sel){let V=fN(t,j.doc,f.sel);V&&!(Gi&&t.composing&&V.empty&&(E.start!=E.endB||t.input.lastChromeDelete<Date.now()-100)&&(V.head==U||V.head==j.mapping.map(O)-1)||Rs&&V.empty&&V.head==U)&&j.setSelection(V)}return s&&j.setMeta("composition",s),j.scrollIntoView()},Q;if(L)if(I.pos==M.pos){Rs&&FA<=11&&I.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>wl(t),20));let D=F(t.state.tr.delete(U,O)),j=m.resolve(E.start).marksAcross(m.resolve(E.endA));j&&D.ensureMarks(j),t.dispatch(D)}else if(E.endA==E.endB&&(Q=Yye(I.parent.content.cut(I.parentOffset,M.parentOffset),R.parent.content.cut(R.parentOffset,E.endA-R.start())))){let D=F(t.state.tr);Q.type=="add"?D.addMark(U,O,Q.mark):D.removeMark(U,O,Q.mark),t.dispatch(D)}else if(I.parent.child(I.index()).isText&&I.index()==M.index()-(M.textOffset?0:1)){let D=I.parent.textBetween(I.parentOffset,M.parentOffset),j=()=>F(t.state.tr.insertText(D,U,O));t.someProp("handleTextInput",V=>V(t,U,O,D,j))||t.dispatch(j())}else t.dispatch(F());else t.dispatch(F())}function fN(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:ZC(t,e.resolve(n.anchor),e.resolve(n.head))}function Yye(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,a,A,u;for(let m=0;m<r.length;m++)i=r[m].removeFromSet(i);for(let m=0;m<n.length;m++)s=n[m].removeFromSet(s);if(i.length==1&&s.length==0)A=i[0],a="add",u=m=>m.mark(A.addToSet(m.marks));else if(i.length==0&&s.length==1)A=s[0],a="remove",u=m=>m.mark(A.removeFromSet(m.marks));else return null;let f=[];for(let m=0;m<e.childCount;m++)f.push(u(e.child(m)));if(We.from(f).eq(t))return{mark:A,type:a}}function Zye(t,e,n,r,i){if(n-e<=i.pos-r.pos||G2(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let A=s.nodeAfter;return A!=null&&n==e+A.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(G2(s,!0,!0));return!a.parent.isTextblock||a.pos>n||G2(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function G2(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Jye(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:A}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,s-Math.min(a,A));r-=a+u-s}if(a<s&&t.size<e.size){let u=r<=s&&r>=a?s-r:0;s-=u,s&&s<e.size&&hN(e.textBetween(s-1,s+1))&&(s+=u?1:-1),A=s+(A-a),a=s}else if(A<s){let u=r<=s&&r>=A?s-r:0;s-=u,s&&s<t.size&&hN(t.textBetween(s-1,s+1))&&(s+=u?1:-1),a=s+(a-A),A=s}return{start:s,endA:a,endB:A}}function hN(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class Uk{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new xye,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(wN),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=mN(this),gN(this),this.nodeViews=xN(this),this.docView=XI(this.state.doc,pN(this),K2(this),this.dom,this),this.domObserver=new zye(this,(r,i,s,a)=>qye(this,r,i,s,a)),this.domObserver.start(),wye(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Bb(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(wN),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(Ok(this),a=!0),this.state=e;let A=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(A||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let B=xN(this);t2e(B,this.nodeViews)&&(this.nodeViews=B,s=!0)}(A||n.handleDOMEvents!=this._props.handleDOMEvents)&&Bb(this),this.editable=mN(this),gN(this);let u=K2(this),f=pN(this),m=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",w=s||!this.docView.matchesNode(e.doc,f,u);(w||!e.selection.eq(i.selection))&&(a=!0);let C=m=="preserve"&&a&&this.dom.style.overflowAnchor==null&&kwe(this);if(a){this.domObserver.stop();let B=w&&(Rs||Gi)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&e2e(i.selection,e.selection);if(w){let E=Gi?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Mye(this)),(s||!this.docView.update(e.doc,f,u,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=XI(e.doc,f,u,this.dom,this)),E&&!this.trackWrites&&(B=!0)}B||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&rye(this))?wl(this,B):(wk(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():C&&Fwe(C)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof It){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&zI(this,n.getBoundingClientRect(),e)}else zI(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new kk(e.slice,e.move,i<0?void 0:It.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let A=this.directPlugins[a].props[e];if(A!=null&&(i=n?n(A):A))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let A=s[a].props[e];if(A!=null&&(i=n?n(A):A))return i}}hasFocus(){if(Rs){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Dwe(this.dom),wl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Hwe(this,e)}coordsAtPos(e,n=1){return uk(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Kwe(this,n||this.state,e)}pasteHTML(e,n){return Kh(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Kh(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return JC(this,e)}destroy(){this.docView&&(yye(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],K2(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,bwe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return bye(this,e)}domSelectionRange(){let e=this.domSelection();return e?hs&&this.root.nodeType===11&&Swe(this.dom.ownerDocument)==this.dom&&Kye(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Uk.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function pN(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[ds.node(0,t.state.doc.content.size,e)]}function gN(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ds.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function mN(t){return!t.someProp("editable",e=>e(t.state)===!1)}function e2e(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function xN(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function t2e(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function wN(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var UA={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Pm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},n2e=typeof navigator<"u"&&/Mac/.test(navigator.platform),r2e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ki=0;ki<10;ki++)UA[48+ki]=UA[96+ki]=String(ki);for(var ki=1;ki<=24;ki++)UA[ki+111]="F"+ki;for(var ki=65;ki<=90;ki++)UA[ki]=String.fromCharCode(ki+32),Pm[ki]=String.fromCharCode(ki);for(var $2 in UA)Pm.hasOwnProperty($2)||(Pm[$2]=UA[$2]);function i2e(t){var e=n2e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||r2e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Pm:UA)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const s2e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),a2e=typeof navigator<"u"&&/Win/.test(navigator.platform);function o2e(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let A=0;A<e.length-1;A++){let u=e[A];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))s2e?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function l2e(t){let e=Object.create(null);for(let n in t)e[o2e(n)]=t[n];return e}function W2(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function A2e(t){return new Rr({props:{handleKeyDown:Qk(t)}})}function Qk(t){let e=l2e(t);return function(n,r){let i=i2e(r),s,a=e[W2(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let A=e[W2(i,r,!1)];if(A&&A(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(a2e&&r.ctrlKey&&r.altKey)&&(s=UA[r.keyCode])&&s!=i){let A=e[W2(s,r)];if(A&&A(n.state,n.dispatch,n))return!0}}return!1}}var c2e=Object.defineProperty,sB=(t,e)=>{for(var n in e)c2e(t,n,{get:e[n],enumerable:!0})};function ex(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var tx=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,A])=>[a,(...f)=>{const m=A(...f)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],A=!!t,u=t||i.tr,f=()=>(!A&&e&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(w=>w===!0)),m={...Object.fromEntries(Object.entries(n).map(([w,C])=>[w,(...E)=>{const I=this.buildProps(u,e),M=C(...E)(I);return a.push(M),m}])),run:f};return m}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([A,u])=>[A,(...f)=>u(...f)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:t,editor:r,view:s,state:ex({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([A,u])=>[A,(...f)=>u(...f)(a)]))}};return a}},Hk={};sB(Hk,{blur:()=>u2e,clearContent:()=>d2e,clearNodes:()=>f2e,command:()=>h2e,createParagraphNear:()=>p2e,cut:()=>g2e,deleteCurrentNode:()=>m2e,deleteNode:()=>x2e,deleteRange:()=>w2e,deleteSelection:()=>y2e,enter:()=>v2e,exitCode:()=>b2e,extendMarkRange:()=>C2e,first:()=>B2e,focus:()=>E2e,forEach:()=>S2e,insertContent:()=>T2e,insertContentAt:()=>O2e,joinBackward:()=>F2e,joinDown:()=>k2e,joinForward:()=>D2e,joinItemBackward:()=>R2e,joinItemForward:()=>L2e,joinTextblockBackward:()=>U2e,joinTextblockForward:()=>Q2e,joinUp:()=>M2e,keyboardShortcut:()=>j2e,lift:()=>P2e,liftEmptyBlock:()=>z2e,liftListItem:()=>V2e,newlineInCode:()=>K2e,resetAttributes:()=>G2e,scrollIntoView:()=>$2e,selectAll:()=>W2e,selectNodeBackward:()=>X2e,selectNodeForward:()=>q2e,selectParentNode:()=>Y2e,selectTextblockEnd:()=>Z2e,selectTextblockStart:()=>J2e,setContent:()=>eve,setMark:()=>xve,setMeta:()=>wve,setNode:()=>yve,setNodeSelection:()=>vve,setTextSelection:()=>bve,sinkListItem:()=>Cve,splitBlock:()=>Bve,splitListItem:()=>_ve,toggleList:()=>Eve,toggleMark:()=>Sve,toggleNode:()=>Tve,toggleWrap:()=>Ive,undoInputRule:()=>Nve,unsetAllMarks:()=>Ove,unsetMark:()=>Mve,updateAttributes:()=>kve,wrapIn:()=>Fve,wrapInList:()=>Dve});var u2e=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),d2e=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),f2e=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(A,u)=>{if(A.type.isText)return;const{doc:f,mapping:m}=e,w=f.resolve(m.map(u)),C=f.resolve(m.map(u+A.nodeSize)),B=w.blockRange(C);if(!B)return;const E=zd(B);if(A.type.isTextblock){const{defaultType:I}=w.parent.contentMatchAt(w.index());e.setNodeMarkup(B.start,I)}(E||E===0)&&e.lift(B,E)})}),!0},h2e=t=>e=>t(e),p2e=()=>({state:t,dispatch:e})=>tk(t,e),g2e=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new Pt(r.doc.resolve(Math.max(a-1,0)))),!0},m2e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const A=i.before(s),u=i.after(s);t.delete(A,u).scrollIntoView()}return!0}return!1};function ri(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var x2e=t=>({tr:e,state:n,dispatch:r})=>{const i=ri(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const u=s.before(a),f=s.after(a);e.delete(u,f).scrollIntoView()}return!0}return!1},w2e=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},y2e=()=>({state:t,dispatch:e})=>KC(t,e),v2e=()=>({commands:t})=>t.keyboardShortcut("Enter"),b2e=()=>({state:t,dispatch:e})=>owe(t,e);function aB(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function zm(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:aB(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function jk(t,e,n={}){return t.find(r=>r.type===e&&zm(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function yN(t,e,n={}){return!!jk(t,e,n)}function oB(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(m=>m.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(m=>m.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!jk([...i.node.marks],e,n)))return;let a=i.index,A=t.start()+i.offset,u=a+1,f=A+i.node.nodeSize;for(;a>0&&yN([...t.parent.child(a-1).marks],e,n);)a-=1,A-=t.parent.child(a).nodeSize;for(;u<t.parent.childCount&&yN([...t.parent.child(u).marks],e,n);)f+=t.parent.child(u).nodeSize,u+=1;return{from:A,to:f}}function Bl(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var C2e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Bl(t,r.schema),{doc:a,selection:A}=n,{$from:u,from:f,to:m}=A;if(i){const w=oB(u,s,e);if(w&&w.from<=f&&w.to>=m){const C=Pt.create(a,w.from,w.to);n.setSelection(C)}}return!0},B2e=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Pk(t){return t instanceof Pt}function Oc(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function zk(t,e=null){if(!e)return null;const n=rn.atStart(t),r=rn.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?Pt.create(t,Oc(0,i,s),Oc(t.content.size,i,s)):Pt.create(t,Oc(e,i,s),Oc(e,i,s))}function _2e(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function lB(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var E2e=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(lB()||_2e())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!Pk(n.state.selection))return a(),!0;const A=zk(i.doc,t)||n.state.selection,u=n.state.selection.eq(A);return s&&(u||i.setSelection(A),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},S2e=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),T2e=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),Vk=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&Vk(r)}return t};function I1(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return Vk(n)}function $h(t,e,n){if(t instanceof MA||t instanceof We)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return We.fromArray(t.map(A=>e.nodeFromJSON(A)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),$h("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,A="";const u=new TM({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(a=!0,A=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?kA.fromSchema(u).parseSlice(I1(t),n.parseOptions):kA.fromSchema(u).parse(I1(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${A}`)})}const s=kA.fromSchema(e);return n.slice?s.parseSlice(I1(t),n.parseOptions).content:s.parse(I1(t),n.parseOptions)}return $h("",e,n)}function I2e(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof xi||i instanceof wi))return;const s=t.mapping.maps[r];let a=0;s.forEach((A,u,f,m)=>{a===0&&(a=m)}),t.setSelection(rn.near(t.doc.resolve(a),n))}var N2e=t=>!("type"in t),O2e=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let A;const u=M=>{s.emit("contentError",{editor:s,error:M,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{$h(e,s.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(M){u(M)}try{A=$h(e,s.schema,{parseOptions:f,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(M){return u(M),!1}let{from:m,to:w}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},C=!0,B=!0;if((N2e(A)?A:[A]).forEach(M=>{M.check(),C=C?M.isText&&M.marks.length===0:!1,B=B?M.isBlock:!1}),m===w&&B){const{parent:M}=r.doc.resolve(m);M.isTextblock&&!M.type.spec.code&&!M.childCount&&(m-=1,w+=1)}let I;if(C){if(Array.isArray(e))I=e.map(M=>M.text||"").join("");else if(e instanceof We){let M="";e.forEach(R=>{R.text&&(M+=R.text)}),I=M}else typeof e=="object"&&e&&e.text?I=e.text:I=e;r.insertText(I,m,w)}else{I=A;const M=r.doc.resolve(m),R=M.node(),L=M.parentOffset===0,U=R.isText||R.isTextblock,O=R.content.size>0;L&&U&&O&&(m=Math.max(0,m-1)),r.replaceWith(m,w,I)}n.updateSelection&&I2e(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:I}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:I})}return!0},M2e=()=>({state:t,dispatch:e})=>iwe(t,e),k2e=()=>({state:t,dispatch:e})=>swe(t,e),F2e=()=>({state:t,dispatch:e})=>WM(t,e),D2e=()=>({state:t,dispatch:e})=>ZM(t,e),R2e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=W0(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},L2e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=W0(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},U2e=()=>({state:t,dispatch:e})=>nwe(t,e),Q2e=()=>({state:t,dispatch:e})=>rwe(t,e);function Kk(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function H2e(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let A=0;A<e.length-1;A+=1){const u=e[A];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))lB()||Kk()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var j2e=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=H2e(t).split(/-(?!$)/),a=s.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),A=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,A))});return u==null||u.steps.forEach(f=>{const m=f.map(r.mapping);m&&i&&r.maybeStep(m)}),!0};function QA(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,a=e?ri(e,t.schema):null,A=[];t.doc.nodesBetween(r,i,(w,C)=>{if(w.isText)return;const B=Math.max(r,C),E=Math.min(i,C+w.nodeSize);A.push({node:w,from:B,to:E})});const u=i-r,f=A.filter(w=>a?a.name===w.node.type.name:!0).filter(w=>zm(w.node.attrs,n,{strict:!1}));return s?!!f.length:f.reduce((w,C)=>w+C.to-C.from,0)>=u}var P2e=(t,e={})=>({state:n,dispatch:r})=>{const i=ri(t,n.schema);return QA(n,i,e)?awe(n,r):!1},z2e=()=>({state:t,dispatch:e})=>nk(t,e),V2e=t=>({state:e,dispatch:n})=>{const r=ri(t,e.schema);return xwe(r)(e,n)},K2e=()=>({state:t,dispatch:e})=>ek(t,e);function nx(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function vN(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var G2e=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const A=nx(typeof t=="string"?t:t.name,r.schema);return A?(A==="node"&&(s=ri(t,r.schema)),A==="mark"&&(a=Bl(t,r.schema)),i&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(f,m)=>{s&&s===f.type&&n.setNodeMarkup(m,void 0,vN(f.attrs,e)),a&&f.marks.length&&f.marks.forEach(w=>{a===w.type&&n.addMark(m,m+f.nodeSize,a.create(vN(w.attrs,e)))})})}),!0):!1},$2e=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),W2e=()=>({tr:t,dispatch:e})=>{if(e){const n=new sa(t.doc);t.setSelection(n)}return!0},X2e=()=>({state:t,dispatch:e})=>qM(t,e),q2e=()=>({state:t,dispatch:e})=>JM(t,e),Y2e=()=>({state:t,dispatch:e})=>cwe(t,e),Z2e=()=>({state:t,dispatch:e})=>fwe(t,e),J2e=()=>({state:t,dispatch:e})=>dwe(t,e);function _b(t,e,n={},r={}){return $h(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var eve=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:a,commands:A})=>{const{doc:u}=s;if(r.preserveWhitespace!=="full"){const f=_b(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return a&&s.replaceWith(0,u.content.size,f).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),A.insertContentAt({from:0,to:u.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function Gk(t,e){const n=Bl(e,t.schema),{from:r,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,u=>{a.push(...u.marks)});const A=a.find(u=>u.type.name===n.name);return A?{...A.attrs}:{}}function $k(t,e){const n=new VM(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function tve(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function nve(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function rve(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function rx(t){return e=>rve(e.$from,t)}function Tt(t,e,n){return t.config[e]===void 0&&t.parent?Tt(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Tt(t.parent,e,n):null}):t.config[e]}function AB(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Tt(e,"addExtensions",n);return r?[e,...AB(r())]:e}).flat(10)}function cB(t,e){const n=tu.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function Wk(t){return typeof t=="function"}function Vn(t,e=void 0,...n){return Wk(t)?e?t.bind(e)(...n):t(...n):t}function ive(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Wh(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Xk(t){const e=[],{nodeExtensions:n,markExtensions:r}=Wh(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const A={name:a.name,options:a.options,storage:a.storage,extensions:i},u=Tt(a,"addGlobalAttributes",A);if(!u)return;u().forEach(m=>{m.types.forEach(w=>{Object.entries(m.attributes).forEach(([C,B])=>{e.push({type:w,name:C,attribute:{...s,...B}})})})})}),i.forEach(a=>{const A={name:a.name,options:a.options,storage:a.storage},u=Tt(a,"addAttributes",A);if(!u)return;const f=u();Object.entries(f).forEach(([m,w])=>{const C={...s,...w};typeof(C==null?void 0:C.default)=="function"&&(C.default=C.default()),C!=null&&C.isRequired&&(C==null?void 0:C.default)===void 0&&delete C.default,e.push({type:a.name,name:m,attribute:C})})}),e}function Gr(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const A=s?String(s).split(" "):[],u=r[i]?r[i].split(" "):[],f=A.filter(m=>!u.includes(m));r[i]=[...u,...f].join(" ")}else if(i==="style"){const A=s?s.split(";").map(m=>m.trim()).filter(Boolean):[],u=r[i]?r[i].split(";").map(m=>m.trim()).filter(Boolean):[],f=new Map;u.forEach(m=>{const[w,C]=m.split(":").map(B=>B.trim());f.set(w,C)}),A.forEach(m=>{const[w,C]=m.split(":").map(B=>B.trim());f.set(w,C)}),r[i]=Array.from(f.entries()).map(([m,w])=>`${m}: ${w}`).join("; ")}else r[i]=s}),r},{})}function Vm(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Gr(n,r),{})}function sve(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function bN(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const A=a.attribute.parseHTML?a.attribute.parseHTML(n):sve(n.getAttribute(a.name));return A==null?s:{...s,[a.name]:A}},{});return{...r,...i}}}}function CN(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&ive(n)?!1:n!=null))}function BN(t){var e,n,r;const i={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&((n=t==null?void 0:t.attribute)==null?void 0:n.default)!==void 0&&(i.default=t.attribute.default),((r=t==null?void 0:t.attribute)==null?void 0:r.validate)!==void 0&&(i.validate=t.attribute.validate),[t.name,i]}function ave(t,e){var n;const r=Xk(t),{nodeExtensions:i,markExtensions:s}=Wh(t),a=(n=i.find(f=>Tt(f,"topNode")))==null?void 0:n.name,A=Object.fromEntries(i.map(f=>{const m=r.filter(R=>R.type===f.name),w={name:f.name,options:f.options,storage:f.storage,editor:e},C=t.reduce((R,L)=>{const U=Tt(L,"extendNodeSchema",w);return{...R,...U?U(f):{}}},{}),B=CN({...C,content:Vn(Tt(f,"content",w)),marks:Vn(Tt(f,"marks",w)),group:Vn(Tt(f,"group",w)),inline:Vn(Tt(f,"inline",w)),atom:Vn(Tt(f,"atom",w)),selectable:Vn(Tt(f,"selectable",w)),draggable:Vn(Tt(f,"draggable",w)),code:Vn(Tt(f,"code",w)),whitespace:Vn(Tt(f,"whitespace",w)),linebreakReplacement:Vn(Tt(f,"linebreakReplacement",w)),defining:Vn(Tt(f,"defining",w)),isolating:Vn(Tt(f,"isolating",w)),attrs:Object.fromEntries(m.map(BN))}),E=Vn(Tt(f,"parseHTML",w));E&&(B.parseDOM=E.map(R=>bN(R,m)));const I=Tt(f,"renderHTML",w);I&&(B.toDOM=R=>I({node:R,HTMLAttributes:Vm(R,m)}));const M=Tt(f,"renderText",w);return M&&(B.toText=M),[f.name,B]})),u=Object.fromEntries(s.map(f=>{const m=r.filter(M=>M.type===f.name),w={name:f.name,options:f.options,storage:f.storage,editor:e},C=t.reduce((M,R)=>{const L=Tt(R,"extendMarkSchema",w);return{...M,...L?L(f):{}}},{}),B=CN({...C,inclusive:Vn(Tt(f,"inclusive",w)),excludes:Vn(Tt(f,"excludes",w)),group:Vn(Tt(f,"group",w)),spanning:Vn(Tt(f,"spanning",w)),code:Vn(Tt(f,"code",w)),attrs:Object.fromEntries(m.map(BN))}),E=Vn(Tt(f,"parseHTML",w));E&&(B.parseDOM=E.map(M=>bN(M,m)));const I=Tt(f,"renderHTML",w);return I&&(B.toDOM=M=>I({mark:M,HTMLAttributes:Vm(M,m)})),[f.name,B]}));return new TM({topNode:a,nodes:A,marks:u})}function ove(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function uB(t){return t.sort((n,r)=>{const i=Tt(n,"priority")||100,s=Tt(r,"priority")||100;return i>s?-1:i<s?1:0})}function qk(t){const e=uB(AB(t)),n=ove(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function Yk(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let A="";return t.nodesBetween(r,i,(u,f,m,w)=>{var C;u.isBlock&&f>r&&(A+=s);const B=a==null?void 0:a[u.type.name];if(B)return m&&(A+=B({node:u,pos:f,parent:m,index:w,range:e})),!1;u.isText&&(A+=(C=u==null?void 0:u.text)==null?void 0:C.slice(Math.max(r,f)-f,i-f))}),A}function lve(t,e){const n={from:0,to:t.content.size};return Yk(t,n,e)}function Zk(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Ave(t,e){const n=ri(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,A=>{s.push(A)});const a=s.reverse().find(A=>A.type.name===n.name);return a?{...a.attrs}:{}}function Jk(t,e){const n=nx(typeof e=="string"?e:e.name,t.schema);return n==="node"?Ave(t,e):n==="mark"?Gk(t,e):{}}function cve(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function uve(t){const e=cve(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function eF(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((A,u)=>{a.push({from:A,to:u})});else{const{from:A,to:u}=n[s];if(A===void 0||u===void 0)return;a.push({from:A,to:u})}a.forEach(({from:A,to:u})=>{const f=e.slice(s).map(A,-1),m=e.slice(s).map(u),w=e.invert().map(f,-1),C=e.invert().map(m);r.push({oldRange:{from:w,to:C},newRange:{from:f,to:m}})})}),uve(r)}function dB(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),a=oB(s,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}var dve=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const A=i.node(s);(A==null?void 0:A.type.name)===e?a=A:s-=1}return[a,s]};function X2(t,e){return e.nodes[t]||e.marks[t]||null}function q1(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var fve=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,A)=>{var u,f;const m=((f=(u=i.type.spec).toText)==null?void 0:f.call(u,{node:i,pos:s,parent:a,index:A}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?m:m.slice(0,Math.max(0,r-s))}),n};function Eb(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Bl(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(w=>s?s.name===w.type.name:!0).find(w=>zm(w.attrs,n,{strict:!1}));let a=0;const A=[];if(i.forEach(({$from:w,$to:C})=>{const B=w.pos,E=C.pos;t.doc.nodesBetween(B,E,(I,M)=>{if(!I.isText&&!I.marks.length)return;const R=Math.max(B,M),L=Math.min(E,M+I.nodeSize),U=L-R;a+=U,A.push(...I.marks.map(O=>({mark:O,from:R,to:L})))})}),a===0)return!1;const u=A.filter(w=>s?s.name===w.mark.type.name:!0).filter(w=>zm(w.mark.attrs,n,{strict:!1})).reduce((w,C)=>w+C.to-C.from,0),f=A.filter(w=>s?w.mark.type!==s&&w.mark.type.excludes(s):!0).reduce((w,C)=>w+C.to-C.from,0);return(u>0?u+f:u)>=a}function hve(t,e,n={}){if(!e)return QA(t,null,n)||Eb(t,null,n);const r=nx(e,t.schema);return r==="node"?QA(t,e,n):r==="mark"?Eb(t,e,n):!1}var pve=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=rx(A=>A.type.name===e)(t.selection);if(!s)return!1;const a=t.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},gve=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function _N(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function EN(t,e){const{nodeExtensions:n}=Wh(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Vn(Tt(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function ix(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(ix(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function tF(t){return t instanceof It}function mve(t,e,n){var r;const{selection:i}=e;let s=null;if(Pk(i)&&(s=i.$cursor),s){const A=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(A)||!A.some(f=>f.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:A,$to:u})=>{let f=A.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(A.pos,u.pos,(m,w,C)=>{if(f)return!1;if(m.isInline){const B=!C||C.type.allowsMarkType(n),E=!!n.isInSet(m.marks)||!m.marks.some(I=>I.type.excludes(n));f=B&&E}return!f}),f})}var xve=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:A}=s,u=Bl(t,r.schema);if(i)if(a){const f=Gk(r,u);n.addStoredMark(u.create({...f,...e}))}else A.forEach(f=>{const m=f.$from.pos,w=f.$to.pos;r.doc.nodesBetween(m,w,(C,B)=>{const E=Math.max(B,m),I=Math.min(B+C.nodeSize,w);C.marks.find(R=>R.type===u)?C.marks.forEach(R=>{u===R.type&&n.addMark(E,I,u.create({...R.attrs,...e}))}):n.addMark(E,I,u.create(e))})});return mve(r,n,u)},wve=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),yve=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=ri(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:A})=>HI(s,{...a,...e})(n)?!0:A.clearNodes()).command(({state:A})=>HI(s,{...a,...e})(A,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},vve=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Oc(t,0,r.content.size),s=It.create(r,i);e.setSelection(s)}return!0},bve=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=Pt.atStart(r).from,A=Pt.atEnd(r).to,u=Oc(i,a,A),f=Oc(s,a,A),m=Pt.create(r,u,f);e.setSelection(m)}return!0},Cve=t=>({state:e,dispatch:n})=>{const r=ri(t,e.schema);return vwe(r)(e,n)};function SN(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}var Bve=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:A,$to:u}=s,f=i.extensionManager.attributes,m=q1(f,A.node().type.name,A.node().attrs);if(s instanceof It&&s.node.isBlock)return!A.parentOffset||!xl(a,A.pos)?!1:(r&&(t&&SN(n,i.extensionManager.splittableMarks),e.split(A.pos).scrollIntoView()),!0);if(!A.parent.isBlock)return!1;const w=u.parentOffset===u.parent.content.size,C=A.depth===0?void 0:tve(A.node(-1).contentMatchAt(A.indexAfter(-1)));let B=w&&C?[{type:C,attrs:m}]:void 0,E=xl(e.doc,e.mapping.map(A.pos),1,B);if(!B&&!E&&xl(e.doc,e.mapping.map(A.pos),1,C?[{type:C}]:void 0)&&(E=!0,B=C?[{type:C,attrs:m}]:void 0),r){if(E&&(s instanceof Pt&&e.deleteSelection(),e.split(e.mapping.map(A.pos),1,B),C&&!w&&!A.parentOffset&&A.parent.type!==C)){const I=e.mapping.map(A.before()),M=e.doc.resolve(I);A.node(-1).canReplaceWith(M.index(),M.index()+1,C)&&e.setNodeMarkup(e.mapping.map(A.before()),C)}t&&SN(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return E},_ve=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const A=ri(t,r.schema),{$from:u,$to:f}=r.selection,m=r.selection.node;if(m&&m.isBlock||u.depth<2||!u.sameParent(f))return!1;const w=u.node(-1);if(w.type!==A)return!1;const C=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==A||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let R=We.empty;const L=u.index(-1)?1:u.index(-2)?2:3;for(let j=u.depth-L;j>=u.depth-3;j-=1)R=We.from(u.node(j).copy(R));const U=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,O={...q1(C,u.node().type.name,u.node().attrs),...e},F=((a=A.contentMatch.defaultType)==null?void 0:a.createAndFill(O))||void 0;R=R.append(We.from(A.createAndFill(null,F)||void 0));const Q=u.before(u.depth-(L-1));n.replace(Q,u.after(-U),new ct(R,4-L,0));let D=-1;n.doc.nodesBetween(Q,n.doc.content.size,(j,V)=>{if(D>-1)return!1;j.isTextblock&&j.content.size===0&&(D=V+1)}),D>-1&&n.setSelection(Pt.near(n.doc.resolve(D))),n.scrollIntoView()}return!0}const B=f.pos===u.end()?w.contentMatchAt(0).defaultType:null,E={...q1(C,w.type.name,w.attrs),...e},I={...q1(C,u.node().type.name,u.node().attrs),...e};n.delete(u.pos,f.pos);const M=B?[{type:A,attrs:E},{type:B,attrs:I}]:[{type:A,attrs:E}];if(!xl(n.doc,u.pos,2))return!1;if(i){const{selection:R,storedMarks:L}=r,{splittableMarks:U}=s.extensionManager,O=L||R.$to.parentOffset&&R.$from.marks();if(n.split(u.pos,2,M).scrollIntoView(),!O||!i)return!0;const F=O.filter(Q=>U.includes(Q.type.name));n.ensureMarks(F)}return!0},q2=(t,e)=>{const n=rx(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&VA(t.doc,n.pos)&&t.join(n.pos),!0},Y2=(t,e)=>{const n=rx(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&VA(t.doc,r)&&t.join(r),!0},Eve=(t,e,n,r={})=>({editor:i,tr:s,state:a,dispatch:A,chain:u,commands:f,can:m})=>{const{extensions:w,splittableMarks:C}=i.extensionManager,B=ri(t,a.schema),E=ri(e,a.schema),{selection:I,storedMarks:M}=a,{$from:R,$to:L}=I,U=R.blockRange(L),O=M||I.$to.parentOffset&&I.$from.marks();if(!U)return!1;const F=rx(Q=>EN(Q.type.name,w))(I);if(U.depth>=1&&F&&U.depth-F.depth<=1){if(F.node.type===B)return f.liftListItem(E);if(EN(F.node.type.name,w)&&B.validContent(F.node.content)&&A)return u().command(()=>(s.setNodeMarkup(F.pos,B),!0)).command(()=>q2(s,B)).command(()=>Y2(s,B)).run()}return!n||!O||!A?u().command(()=>m().wrapInList(B,r)?!0:f.clearNodes()).wrapInList(B,r).command(()=>q2(s,B)).command(()=>Y2(s,B)).run():u().command(()=>{const Q=m().wrapInList(B,r),D=O.filter(j=>C.includes(j.type.name));return s.ensureMarks(D),Q?!0:f.clearNodes()}).wrapInList(B,r).command(()=>q2(s,B)).command(()=>Y2(s,B)).run()},Sve=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=Bl(t,r.schema);return Eb(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},Tve=(t,e,n={})=>({state:r,commands:i})=>{const s=ri(t,r.schema),a=ri(e,r.schema),A=QA(r,s,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),A?i.setNode(a,u):i.setNode(s,{...u,...n})},Ive=(t,e={})=>({state:n,commands:r})=>{const i=ri(t,n.schema);return QA(n,i,e)?r.lift(i):r.wrapIn(i,e)},Nve=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const a=t.tr,A=s.transform;for(let u=A.steps.length-1;u>=0;u-=1)a.step(A.steps[u].invert(A.docs[u]));if(s.text){const u=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,u))}else a.delete(s.from,s.to)}return!0}}return!1},Ove=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},Mve=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:A}=n,u=Bl(t,r.schema),{$from:f,empty:m,ranges:w}=A;if(!i)return!0;if(m&&a){let{from:C,to:B}=A;const E=(s=f.marks().find(M=>M.type===u))==null?void 0:s.attrs,I=oB(f,u,E);I&&(C=I.from,B=I.to),n.removeMark(C,B,u)}else w.forEach(C=>{n.removeMark(C.$from.pos,C.$to.pos,u)});return n.removeStoredMark(u),!0},kve=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const A=nx(typeof t=="string"?t:t.name,r.schema);return A?(A==="node"&&(s=ri(t,r.schema)),A==="mark"&&(a=Bl(t,r.schema)),i&&n.selection.ranges.forEach(u=>{const f=u.$from.pos,m=u.$to.pos;let w,C,B,E;n.selection.empty?r.doc.nodesBetween(f,m,(I,M)=>{s&&s===I.type&&(B=Math.max(M,f),E=Math.min(M+I.nodeSize,m),w=M,C=I)}):r.doc.nodesBetween(f,m,(I,M)=>{M<f&&s&&s===I.type&&(B=Math.max(M,f),E=Math.min(M+I.nodeSize,m),w=M,C=I),M>=f&&M<=m&&(s&&s===I.type&&n.setNodeMarkup(M,void 0,{...I.attrs,...e}),a&&I.marks.length&&I.marks.forEach(R=>{if(a===R.type){const L=Math.max(M,f),U=Math.min(M+I.nodeSize,m);n.addMark(L,U,a.create({...R.attrs,...e}))}}))}),C&&(w!==void 0&&n.setNodeMarkup(w,void 0,{...C.attrs,...e}),a&&C.marks.length&&C.marks.forEach(I=>{a===I.type&&n.addMark(B,E,a.create({...I.attrs,...e}))}))}),!0):!1},Fve=(t,e={})=>({state:n,dispatch:r})=>{const i=ri(t,n.schema);return hwe(i,e)(n,r)},Dve=(t,e={})=>({state:n,dispatch:r})=>{const i=ri(t,n.schema);return pwe(i,e)(n,r)},Rve=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},sx=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},Lve=(t,e)=>{if(aB(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function N1(t){var e;const{editor:n,from:r,to:i,text:s,rules:a,plugin:A}=t,{view:u}=n;if(u.composing)return!1;const f=u.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(C=>C.type.spec.code))return!1;let m=!1;const w=fve(f)+s;return a.forEach(C=>{if(m)return;const B=Lve(w,C.find);if(!B)return;const E=u.state.tr,I=ex({state:u.state,transaction:E}),M={from:r-(B[0].length-s.length),to:i},{commands:R,chain:L,can:U}=new tx({editor:n,state:I});C.handler({state:I,range:M,match:B,commands:R,chain:L,can:U})===null||!E.steps.length||(C.undoable&&E.setMeta(A,{transform:E,from:r,to:i,text:s}),u.dispatch(E),m=!0)}),m}function Uve(t){const{editor:e,rules:n}=t,r=new Rr({state:{init(){return null},apply(i,s,a){const A=i.getMeta(r);if(A)return A;const u=i.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:m}=u;typeof m=="string"?m=m:m=cB(We.from(m),a.schema);const{from:w}=u,C=w+m.length;N1({editor:e,from:w,to:C,text:m,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,A){return N1({editor:e,from:s,to:a,text:A,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&N1({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?N1({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Qve(t){return Object.prototype.toString.call(t).slice(8,-1)}function O1(t){return Qve(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function nF(t,e){const n={...t};return O1(t)&&O1(e)&&Object.keys(e).forEach(r=>{O1(e[r])&&O1(t[r])?n[r]=nF(t[r],e[r]):n[r]=e[r]}),n}var fB=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Vn(Tt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Vn(Tt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>nF(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},nu=class rF extends fB{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new rF(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(f=>(f==null?void 0:f.type.name)===n.name))return!1;const u=a.find(f=>(f==null?void 0:f.type.name)===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Hve(t){return typeof t=="number"}var jve=class{constructor(t){this.find=t.find,this.handler=t.handler}},Pve=(t,e,n)=>{if(aB(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function zve(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:A}=t,{commands:u,chain:f,can:m}=new tx({editor:e,state:n}),w=[];return n.doc.nodesBetween(r,i,(B,E)=>{var I,M,R,L,U;if((M=(I=B.type)==null?void 0:I.spec)!=null&&M.code||!(B.isText||B.isTextblock||B.isInline))return;const O=(U=(L=(R=B.content)==null?void 0:R.size)!=null?L:B.nodeSize)!=null?U:0,F=Math.max(r,E),Q=Math.min(i,E+O);if(F>=Q)return;const D=B.isText?B.text||"":B.textBetween(F-E,Q-E,void 0,"");Pve(D,s.find,a).forEach(V=>{if(V.index===void 0)return;const W=F+V.index+1,Y=W+V[0].length,J={from:n.tr.mapping.map(W),to:n.tr.mapping.map(Y)},re=s.handler({state:n,range:J,match:V,commands:u,chain:f,can:m,pasteEvent:a,dropEvent:A});w.push(re)})}),w.every(B=>B!==null)}var M1=null,Vve=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function Kve(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,A;try{A=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{A=null}const u=({state:m,from:w,to:C,rule:B,pasteEvt:E})=>{const I=m.tr,M=ex({state:m,transaction:I});if(!(!zve({editor:e,state:M,from:Math.max(w-1,0),to:C.b-1,rule:B,pasteEvent:E,dropEvent:A})||!I.steps.length)){try{A=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{A=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,I}};return n.map(m=>new Rr({view(w){const C=E=>{var I;r=(I=w.dom.parentElement)!=null&&I.contains(E.target)?w.dom.parentElement:null,r&&(M1=e)},B=()=>{M1&&(M1=null)};return window.addEventListener("dragstart",C),window.addEventListener("dragend",B),{destroy(){window.removeEventListener("dragstart",C),window.removeEventListener("dragend",B)}}},props:{handleDOMEvents:{drop:(w,C)=>{if(s=r===w.dom.parentElement,A=C,!s){const B=M1;B!=null&&B.isEditable&&setTimeout(()=>{const E=B.state.selection;E&&B.commands.deleteRange({from:E.from,to:E.to})},10)}return!1},paste:(w,C)=>{var B;const E=(B=C.clipboardData)==null?void 0:B.getData("text/html");return a=C,i=!!(E!=null&&E.includes("data-pm-slice")),!1}}},appendTransaction:(w,C,B)=>{const E=w[0],I=E.getMeta("uiEvent")==="paste"&&!i,M=E.getMeta("uiEvent")==="drop"&&!s,R=E.getMeta("applyPasteRules"),L=!!R;if(!I&&!M&&!L)return;if(L){let{text:F}=R;typeof F=="string"?F=F:F=cB(We.from(F),B.schema);const{from:Q}=R,D=Q+F.length,j=Vve(F);return u({rule:m,state:B,from:Q,to:{b:D},pasteEvt:j})}const U=C.doc.content.findDiffStart(B.doc.content),O=C.doc.content.findDiffEnd(B.doc.content);if(!(!Hve(U)||!O||U===O.b))return u({rule:m,state:B,from:U,to:O,pasteEvt:a})}}))}var ax=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=qk(t),this.schema=ave(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:X2(e.name,this.schema)},r=Tt(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return uB([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:X2(r.name,this.schema)},s=[],a=Tt(r,"addKeyboardShortcuts",i);let A={};if(r.type==="mark"&&Tt(r,"exitable",i)&&(A.ArrowRight=()=>nu.handleExit({editor:t,mark:r})),a){const C=Object.fromEntries(Object.entries(a()).map(([B,E])=>[B,()=>E({editor:t})]));A={...A,...C}}const u=A2e(A);s.push(u);const f=Tt(r,"addInputRules",i);if(_N(r,t.options.enableInputRules)&&f){const C=f();if(C&&C.length){const B=Uve({editor:t,rules:C}),E=Array.isArray(B)?B:[B];s.push(...E)}}const m=Tt(r,"addPasteRules",i);if(_N(r,t.options.enablePasteRules)&&m){const C=m();if(C&&C.length){const B=Kve({editor:t,rules:C});s.push(...B)}}const w=Tt(r,"addProseMirrorPlugins",i);if(w){const C=w();s.push(...C)}return s})}get attributes(){return Xk(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Wh(this.extensions);return Object.fromEntries(e.filter(n=>!!Tt(n,"addNodeView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ri(n.name,this.schema)},s=Tt(n,"addNodeView",i);if(!s)return[];const a=s();if(!a)return[];const A=(u,f,m,w,C)=>{const B=Vm(u,r);return a({node:u,view:f,getPos:m,decorations:w,innerDecorations:C,editor:t,extension:n,HTMLAttributes:B})};return[n.name,A]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Wh(this.extensions);return Object.fromEntries(e.filter(n=>!!Tt(n,"addMarkView")).map(n=>{const r=this.attributes.filter(A=>A.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Bl(n.name,this.schema)},s=Tt(n,"addMarkView",i);if(!s)return[];const a=(A,u,f)=>{const m=Vm(A,r);return s()({mark:A,view:u,inline:f,editor:t,extension:n,HTMLAttributes:m,updateAttributes:w=>{abe(A,t,w)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:X2(e.name,this.schema)};e.type==="mark"&&((n=Vn(Tt(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=Tt(e,"onBeforeCreate",r),s=Tt(e,"onCreate",r),a=Tt(e,"onUpdate",r),A=Tt(e,"onSelectionUpdate",r),u=Tt(e,"onTransaction",r),f=Tt(e,"onFocus",r),m=Tt(e,"onBlur",r),w=Tt(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),A&&this.editor.on("selectionUpdate",A),u&&this.editor.on("transaction",u),f&&this.editor.on("focus",f),m&&this.editor.on("blur",m),w&&this.editor.on("destroy",w)})}};ax.resolve=qk;ax.sort=uB;ax.flatten=AB;var Gve={};sB(Gve,{ClipboardTextSerializer:()=>sF,Commands:()=>aF,Delete:()=>oF,Drop:()=>lF,Editable:()=>AF,FocusEvents:()=>uF,Keymap:()=>dF,Paste:()=>fF,Tabindex:()=>hF,focusEventsPluginKey:()=>cF});var ii=class iF extends fB{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new iF(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},sF=ii.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Rr({key:new vi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(m=>m.$from.pos)),A=Math.max(...s.map(m=>m.$to.pos)),u=Zk(n);return Yk(r,{from:a,to:A},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),aF=ii.create({name:"commands",addCommands(){return{...Hk}}}),oF=ii.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var a,A,u,f;if((f=(u=(A=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:A.filterTransaction)==null?void 0:u.call(A,t))!=null?f:t.getMeta("y-sync$"))return;const m=$k(t.before,[t,...e]);eF(m).forEach(B=>{m.mapping.mapResult(B.oldRange.from).deletedAfter&&m.mapping.mapResult(B.oldRange.to).deletedBefore&&m.before.nodesBetween(B.oldRange.from,B.oldRange.to,(E,I)=>{const M=I+E.nodeSize-2,R=B.oldRange.from<=I&&M<=B.oldRange.to;this.editor.emit("delete",{type:"node",node:E,from:I,to:M,newFrom:m.mapping.map(I),newTo:m.mapping.map(M),deletedRange:B.oldRange,newRange:B.newRange,partial:!R,editor:this.editor,transaction:t,combinedTransform:m})})});const C=m.mapping;m.steps.forEach((B,E)=>{var I,M;if(B instanceof Va){const R=C.slice(E).map(B.from,-1),L=C.slice(E).map(B.to),U=C.invert().map(R,-1),O=C.invert().map(L),F=(I=m.doc.nodeAt(R-1))==null?void 0:I.marks.some(D=>D.eq(B.mark)),Q=(M=m.doc.nodeAt(L))==null?void 0:M.marks.some(D=>D.eq(B.mark));this.editor.emit("delete",{type:"mark",mark:B.mark,from:B.from,to:B.to,deletedRange:{from:U,to:O},newRange:{from:R,to:L},partial:!!(Q||F),editor:this.editor,transaction:t,combinedTransform:m})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),lF=ii.create({name:"drop",addProseMirrorPlugins(){return[new Rr({key:new vi("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),AF=ii.create({name:"editable",addProseMirrorPlugins(){return[new Rr({key:new vi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),cF=new vi("focusEvents"),uF=ii.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Rr({key:cF,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),dF=ii.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:A})=>{const{selection:u,doc:f}=A,{empty:m,$anchor:w}=u,{pos:C,parent:B}=w,E=w.parent.isTextblock&&C>0?A.doc.resolve(C-1):w,I=E.parent.type.spec.isolating,M=w.pos-w.parentOffset,R=I&&E.parent.childCount===1?M===w.pos:rn.atStart(f).from===C;return!m||!B.type.isTextblock||B.textContent.length||!R||R&&w.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return lB()||Kk()?s:i},addProseMirrorPlugins(){return[new Rr({key:new vi("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(I=>I.getMeta("composition")))return;const r=t.some(I=>I.docChanged)&&!e.doc.eq(n.doc),i=t.some(I=>I.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:A}=e.selection,u=rn.atStart(e.doc).from,f=rn.atEnd(e.doc).to;if(s||!(a===u&&A===f)||!ix(n.doc))return;const C=n.tr,B=ex({state:n,transaction:C}),{commands:E}=new tx({editor:this.editor,state:B});if(E.clearNodes(),!!C.steps.length)return C}})]}}),fF=ii.create({name:"paste",addProseMirrorPlugins(){return[new Rr({key:new vi("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),hF=ii.create({name:"tabindex",addProseMirrorPlugins(){return[new Rr({key:new vi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),$ve=class pd{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new pd(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new pd(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new pd(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const A=this.resolvedPos.doc.resolve(a);if(!i&&A.depth<=this.depth)return;const u=new pd(A,this.editor,i,i?n:null);i&&(u.actualDepth=this.depth+1),e.push(new pd(A,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let A=0;A<a.length;A+=1){const u=a[A];if(s[u]!==n[u])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(u=>n[u]===a.node.attrs[u])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},Wve=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Xve(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var qve=class extends Rve{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=zk(e,this.options.autofocus);this.editorState=yd.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Xve(Wve,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=Wk(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[AF,sF.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),aF,uF,dF,hF,lF,fF,oF].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new ax(r,this)}createCommandManager(){this.commandManager=new tx({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=_b(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=_b(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new Uk(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(f=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(f)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),A=a==null?void 0:a.getMeta("focus"),u=a==null?void 0:a.getMeta("blur");A&&this.emit("focus",{editor:this,event:A.event,transaction:a}),u&&this.emit("blur",{editor:this,event:u.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(f=>f.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return Jk(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return hve(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return cB(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return lve(this.state.doc,{blockSeparator:e,textSerializers:{...Zk(this.schema),...n}})}get isEmpty(){return ix(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new $ve(e,this)}get $doc(){return this.$pos(0)}};function Fd(t){return new sx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Vn(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],A=r[0];if(a){const u=A.search(/\S/),f=n.from+A.indexOf(a),m=f+a.length;if(dB(n.from,n.to,e.doc).filter(B=>B.mark.type.excluded.find(I=>I===t.type&&I!==B.mark.type)).filter(B=>B.to>f).length)return null;m<n.to&&s.delete(m,n.to),f>n.from&&s.delete(n.from+u,f);const C=n.from+u+a.length;s.addMark(n.from+u,C,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function pF(t){return new sx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Vn(t.getAttributes,void 0,r)||{},{tr:s}=e,a=n.from;let A=n.to;const u=t.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let m=a+f;m>A?m=A:A=m+r[1].length;const w=r[0][r[0].length-1];s.insertText(w,a+r[0].length-1),s.replaceWith(m,A,u)}else if(r[0]){const f=t.type.isInline?a:a-1;s.insert(f,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(A))}s.scrollIntoView()},undoable:t.undoable})}function Sb(t){return new sx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Vn(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Dd(t){return new sx({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Vn(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),u=a.doc.resolve(n.from).blockRange(),f=u&&zC(u,t.type,s);if(!f)return null;if(a.wrap(u,f),t.keepMarks&&t.editor){const{selection:w,storedMarks:C}=e,{splittableMarks:B}=t.editor.extensionManager,E=C||w.$to.parentOffset&&w.$from.marks();if(E){const I=E.filter(M=>B.includes(M.type.name));a.ensureMarks(I)}}if(t.keepAttributes){const w=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(w,s).run()}const m=a.doc.resolve(n.from-1).nodeBefore;m&&m.type===t.type&&VA(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,m))&&a.join(n.from-1)},undoable:t.undoable})}var Yve=t=>"touches"in t,Zve=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=a=>{if(!this.isResizing||!this.activeHandle)return;const A=a.clientX-this.startX,u=a.clientY-this.startY;this.handleResize(A,u)},this.handleTouchMove=a=>{if(!this.isResizing||!this.activeHandle)return;const A=a.touches[0];if(!A)return;const u=A.clientX-this.startX,f=A.clientY-this.startY;this.handleResize(u,f)},this.handleMouseUp=()=>{if(!this.isResizing)return;const a=this.element.offsetWidth,A=this.element.offsetHeight;this.onCommit(a,A),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,i,s;this.node=t.node,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t==null?void 0:t.options)!=null&&r.directions&&(this.directions=t.options.directions),(i=t.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(s=t.options)!=null&&s.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",t.style.justifyContent="flex-start",t.style.alignItems="flex-start",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),i=e.includes("left"),s=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),i&&(t.style.left="0"),s&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{const e=this.createHandle(t);this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.wrapper.appendChild(e)})}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,Yve(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),s=this.applyConstraints(r,i,n);this.element.style.width=`${s.width}px`,this.element.style.height=`${s.height}px`,this.onResize&&this.onResize(s.width,s.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,i=this.startHeight;const s=t.includes("right"),a=t.includes("left"),A=t.includes("bottom"),u=t.includes("top");return s?r=this.startWidth+e:a&&(r=this.startWidth-e),A?i=this.startHeight+n:u&&(i=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(s?e:-e)),(t==="top"||t==="bottom")&&(i=this.startHeight+(A?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,i,t):{width:r,height:i}}applyConstraints(t,e,n){var r,i,s,a;if(!n){let f=Math.max(this.minSize.width,t),m=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(f=Math.min(this.maxSize.width,f)),(i=this.maxSize)!=null&&i.height&&(m=Math.min(this.maxSize.height,m)),{width:f,height:m}}let A=t,u=e;return A<this.minSize.width&&(A=this.minSize.width,u=A/this.aspectRatio),u<this.minSize.height&&(u=this.minSize.height,A=u*this.aspectRatio),(s=this.maxSize)!=null&&s.width&&A>this.maxSize.width&&(A=this.maxSize.width,u=A/this.aspectRatio),(a=this.maxSize)!=null&&a.height&&u>this.maxSize.height&&(u=this.maxSize.height,A=u*this.aspectRatio),{width:A,height:u}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",i=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function Jve(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof It){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var ebe={};sB(ebe,{createAtomBlockMarkdownSpec:()=>tbe,createBlockMarkdownSpec:()=>nbe,createInlineMarkdownSpec:()=>sbe,parseAttributes:()=>hB,parseIndentedBlocks:()=>Tb,renderNestedMarkdownContent:()=>gB,serializeAttributes:()=>pB});function hB(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,f=>(n.push(f),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const f=i.map(m=>m.trim().slice(1));e.class=f.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,f,m])=>{var w;const C=parseInt(((w=m.match(/__QUOTED_(\d+)__/))==null?void 0:w[1])||"0",10),B=n[C];B&&(e[f]=B.slice(1,-1))});const u=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return u&&u.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(e[m]=!0)}),e}function pB(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function tbe(t){const{nodeName:e,name:n,parseAttributes:r=hB,serializeAttributes:i=pB,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:A}=t,u=n||e,f=m=>{if(!A)return m;const w={};return A.forEach(C=>{C in m&&(w[C]=m[C])}),w};return{parseMarkdown:(m,w)=>{const C={...s,...m.attributes};return w.createNode(e,C,[])},markdownTokenizer:{name:e,level:"block",start(m){var w;const C=new RegExp(`^:::${u}(?:\\s|$)`,"m"),B=(w=m.match(C))==null?void 0:w.index;return B!==void 0?B:-1},tokenize(m,w,C){const B=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),E=m.match(B);if(!E)return;const I=E[1]||"",M=r(I);if(!a.find(L=>!(L in M)))return{type:e,raw:E[0],attributes:M}}},renderMarkdown:m=>{const w=f(m.attrs||{}),C=i(w),B=C?` {${C}}`:"";return`:::${u}${B} :::`}}}function nbe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=hB,serializeAttributes:s=pB,defaultAttributes:a={},content:A="block",allowedAttributes:u}=t,f=n||e,m=w=>{if(!u)return w;const C={};return u.forEach(B=>{B in w&&(C[B]=w[B])}),C};return{parseMarkdown:(w,C)=>{let B;if(r){const I=r(w);B=typeof I=="string"?[{type:"text",text:I}]:I}else A==="block"?B=C.parseChildren(w.tokens||[]):B=C.parseInline(w.tokens||[]);const E={...a,...w.attributes};return C.createNode(e,E,B)},markdownTokenizer:{name:e,level:"block",start(w){var C;const B=new RegExp(`^:::${f}`,"m"),E=(C=w.match(B))==null?void 0:C.index;return E!==void 0?E:-1},tokenize(w,C,B){var E;const I=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),M=w.match(I);if(!M)return;const[R,L=""]=M,U=i(L);let O=1;const F=R.length;let Q="";const D=/^:::([\w-]*)(\s.*)?/gm,j=w.slice(F);for(D.lastIndex=0;;){const V=D.exec(j);if(V===null)break;const W=V.index,Y=V[1];if(!((E=V[2])!=null&&E.endsWith(":::"))){if(Y)O+=1;else if(O-=1,O===0){const J=j.slice(0,W);Q=J.trim();const re=w.slice(0,F+W+V[0].length);let te=[];if(Q)if(A==="block")for(te=B.blockTokens(J),te.forEach(q=>{q.text&&(!q.tokens||q.tokens.length===0)&&(q.tokens=B.inlineTokens(q.text))});te.length>0;){const q=te[te.length-1];if(q.type==="paragraph"&&(!q.text||q.text.trim()===""))te.pop();else break}else te=B.inlineTokens(Q);return{type:e,raw:re,attributes:U,content:Q,tokens:te}}}}}},renderMarkdown:(w,C)=>{const B=m(w.attrs||{}),E=s(B),I=E?` {${E}}`:"",M=C.renderChildren(w.content||[],`

`);return`:::${f}${I}

${M}

:::`}}}function rbe(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,a]=r;e[i]=s||a,r=n.exec(t)}return e}function ibe(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function sbe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=rbe,serializeAttributes:s=ibe,defaultAttributes:a={},selfClosing:A=!1,allowedAttributes:u}=t,f=n||e,m=C=>{if(!u)return C;const B={};return u.forEach(E=>{E in C&&(B[E]=C[E])}),B},w=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(C,B)=>{const E={...a,...C.attributes};if(A)return B.createNode(e,E);const I=r?r(C):C.content||"";return I?B.createNode(e,E,[B.createTextNode(I)]):B.createNode(e,E,[])},markdownTokenizer:{name:e,level:"inline",start(C){const B=A?new RegExp(`\\[${w}\\s*[^\\]]*\\]`):new RegExp(`\\[${w}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${w}\\]`),E=C.match(B),I=E==null?void 0:E.index;return I!==void 0?I:-1},tokenize(C,B,E){const I=A?new RegExp(`^\\[${w}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${w}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${w}\\]`),M=C.match(I);if(!M)return;let R="",L="";if(A){const[,O]=M;L=O}else{const[,O,F]=M;L=O,R=F||""}const U=i(L.trim());return{type:e,raw:M[0],content:R.trim(),attributes:U}}},renderMarkdown:C=>{let B="";r?B=r(C):C.content&&C.content.length>0&&(B=C.content.filter(R=>R.type==="text").map(R=>R.text).join(""));const E=m(C.attrs||{}),I=s(E),M=I?` ${I}`:"";return A?`[${f}${M}]`:`[${f}${M}]${B}[/${f}]`}}}function Tb(t,e,n){var r,i,s,a;const A=t.split(`
`),u=[];let f="",m=0;const w=e.baseIndentSize||2;for(;m<A.length;){const C=A[m],B=C.match(e.itemPattern);if(!B){if(u.length>0)break;if(C.trim()===""){m+=1;continue}else return}const E=e.extractItemData(B),{indentLevel:I,mainContent:M}=E;f=`${f}${C}
`;const R=[M];for(m+=1;m<A.length;){const F=A[m];if(F.trim()===""){const D=A.slice(m+1).findIndex(W=>W.trim()!=="");if(D===-1)break;if((((i=(r=A[m+1+D].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>I){R.push(F),f=`${f}${F}
`,m+=1;continue}else break}if((((a=(s=F.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>I)R.push(F),f=`${f}${F}
`,m+=1;else break}let L;const U=R.slice(1);if(U.length>0){const F=U.map(Q=>Q.slice(I+w)).join(`
`);F.trim()&&(e.customNestedParser?L=e.customNestedParser(F):L=n.blockTokens(F))}const O=e.createToken(E,L);u.push(O)}if(u.length!==0)return{items:u,raw:f.trim()}}function gB(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[s,...a]=t.content,A=e.renderChildren([s]),u=[`${i}${A}`];return a&&a.length>0&&a.forEach(f=>{const m=e.renderChildren([f]);if(m){const w=m.split(`
`).map(C=>C?e.indent(C):"").join(`
`);u.push(w)}}),u.join(`
`)}function abe(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,a=t;i.descendants((A,u)=>{const f=s.mapping.map(u),m=s.mapping.map(u)+A.nodeSize;let w=null;if(A.marks.forEach(B=>{if(B!==a)return!1;w=B}),!w)return;let C=!1;if(Object.keys(n).forEach(B=>{n[B]!==w.attrs[B]&&(C=!0)}),C){const B=t.type.create({...t.attrs,...n});s.removeMark(f,m,t.type),s.addMark(f,m,B)}}),s.docChanged&&e.view.dispatch(s)}var Qs=class gF extends fB{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new gF(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Xc(t){return new jve({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Vn(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,A=r[r.length-1],u=r[0];let f=n.to;if(A){const m=u.search(/\S/),w=n.from+u.indexOf(A),C=w+A.length;if(dB(n.from,n.to,e.doc).filter(E=>E.mark.type.excluded.find(M=>M===t.type&&M!==E.mark.type)).filter(E=>E.to>w).length)return null;C<n.to&&a.delete(C,n.to),w>n.from&&a.delete(n.from+m,w),f=n.from+m+A.length,a.addMark(n.from+m,f,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}var Z2,TN;function obe(){return TN||(TN=1,Z2=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),Z2}var lbe=obe();const Abe=Cl(lbe);var J2={exports:{}},ev={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN;function cbe(){if(IN)return ev;IN=1;var t=HA(),e=uM();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,A=t.useMemo,u=t.useDebugValue;return ev.useSyncExternalStoreWithSelector=function(f,m,w,C,B){var E=s(null);if(E.current===null){var I={hasValue:!1,value:null};E.current=I}else I=E.current;E=A(function(){function R(Q){if(!L){if(L=!0,U=Q,Q=C(Q),B!==void 0&&I.hasValue){var D=I.value;if(B(D,Q))return O=D}return O=Q}if(D=O,r(U,Q))return D;var j=C(Q);return B!==void 0&&B(D,j)?(U=Q,D):(U=Q,O=j)}var L=!1,U,O,F=w===void 0?null:w;return[function(){return R(m())},F===null?void 0:function(){return R(F())}]},[m,w,C,B]);var M=i(f,E[0],E[1]);return a(function(){I.hasValue=!0,I.value=M},[M]),u(M),M},ev}var NN;function ube(){return NN||(NN=1,J2.exports=cbe()),J2.exports}var dbe=ube(),fbe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},hbe=({contentComponent:t})=>{const e=dM.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return g.jsx(g.Fragment,{children:Object.values(e)})};function pbe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:F9.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var gbe=class extends An.Component{constructor(t){var e;super(t),this.editorContentRef=An.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=pbe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:fbe(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&g.jsx(hbe,{contentComponent:t.contentComponent})]})}},mbe=H.forwardRef((t,e)=>{const n=An.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return An.createElement(gbe,{key:n,innerRef:e,...t})}),xbe=An.memo(mbe),wbe=typeof window<"u"?H.useLayoutEffect:H.useEffect,ybe=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function vbe(t){var e;const[n]=H.useState(()=>new ybe(t.editor)),r=dbe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Abe);return wbe(()=>n.watch(t.editor),[t.editor,n]),H.useDebugValue(r),r}var bbe=!1,Ib=typeof window>"u",Cbe=Ib||!!(typeof window<"u"&&window.next),Bbe=class mF{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Ib||Cbe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new qve(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=n.extensions)==null?void 0:a[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?mF.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function _be(t={},e=[]){const n=H.useRef(t);n.current=t;const[r]=H.useState(()=>new Bbe(n)),i=dM.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return H.useDebugValue(i),H.useEffect(r.onRender(e)),vbe({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var Ebe=H.createContext({editor:null});Ebe.Consumer;var Sbe=H.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Tbe=()=>H.useContext(Sbe);An.forwardRef((t,e)=>{const{onDragStart:n}=Tbe(),r=t.as||"div";return g.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});An.createContext({markViewContentRef:()=>{}});var Km=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},Ibe=/^\s*>\s$/,Nbe=Qs.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Km("blockquote",{...Gr(this.options.HTMLAttributes,t),children:Km("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const A=e.renderChildren([i]).split(`
`).map(u=>u.trim()===""?n:`${n} ${u}`);r.push(A.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Dd({find:Ibe,type:this.type})]}}),Obe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Mbe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,kbe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Fbe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Dbe=nu.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Km("strong",{...Gr(this.options.HTMLAttributes,t),children:Km("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Fd({find:Obe,type:this.type}),Fd({find:kbe,type:this.type})]},addPasteRules(){return[Xc({find:Mbe,type:this.type}),Xc({find:Fbe,type:this.type})]}}),Rbe=/(^|[^`])`([^`]+)`(?!`)$/,Lbe=/(^|[^`])`([^`]+)`(?!`)/g,Ube=nu.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Gr(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Fd({find:Rbe,type:this.type})]},addPasteRules(){return[Xc({find:Lbe,type:this.type})]}}),tv=4,Qbe=/^```([a-z]+)?[\s\n]$/,Hbe=/^~~~([a-z]+)?[\s\n]$/,jbe=Qs.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:tv,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Gr(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:tv,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;const A=" ".repeat(n);return a?t.commands.insertContent(A):t.commands.command(({tr:u})=>{const{from:f,to:m}=i,B=r.doc.textBetween(f,m,`
`,`
`).split(`
`).map(E=>A+E).join(`
`);return u.replaceWith(f,m,r.schema.text(B)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:tv,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?t.commands.command(({tr:A})=>{var u;const{pos:f}=s,m=s.start(),w=s.end(),B=r.doc.textBetween(m,w,`
`,`
`).split(`
`);let E=0,I=0;const M=f-m;for(let Q=0;Q<B.length;Q+=1){if(I+B[Q].length>=M){E=Q;break}I+=B[Q].length+1}const L=((u=B[E].match(/^ */))==null?void 0:u[0])||"",U=Math.min(L.length,n);if(U===0)return!0;let O=m;for(let Q=0;Q<E;Q+=1)O+=B[Q].length+1;return A.delete(O,O+U),f-O<=U&&A.setSelection(Pt.create(A.doc,O)),!0}):t.commands.command(({tr:A})=>{const{from:u,to:f}=i,C=r.doc.textBetween(u,f,`
`,`
`).split(`
`).map(B=>{var E;const I=((E=B.match(/^ */))==null?void 0:E[0])||"",M=Math.min(I.length,n);return B.slice(M)}).join(`
`);return A.replaceWith(u,f,r.schema.text(C)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:A})=>(A.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const A=i.after();return A===void 0?!1:r.nodeAt(A)?t.commands.command(({tr:f})=>(f.setSelection(rn.near(r.resolve(A))),!0)):t.commands.exitCode()}}},addInputRules(){return[Sb({find:Qbe,type:this.type,getAttributes:t=>({language:t[1]})}),Sb({find:Hbe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Rr({key:new vi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:a,schema:A}=t.state,u=A.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},u)),a.selection.$from.parent.type!==this.type&&a.setSelection(Pt.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),Pbe=Qs.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),zbe=Qs.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Gr(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:A}=r.extensionManager,u=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:m})=>{if(m&&u&&a){const w=u.filter(C=>A.includes(C.type.name));f.ensureMarks(w)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Vbe=Qs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Gr(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Sb({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),Kbe=Qs.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Gr(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Jve(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return tF(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:A})=>{if(A){const{$to:u}=a.selection,f=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(Pt.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(It.create(a.doc,u.pos)):a.setSelection(Pt.create(a.doc,u.pos));else{const m=s.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,w=m==null?void 0:m.create();w&&(a.insert(f,w),a.setSelection(Pt.create(a.doc,f+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[pF({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Gbe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,$be=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Wbe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Xbe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,qbe=nu.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Fd({find:Gbe,type:this.type}),Fd({find:Wbe,type:this.type})]},addPasteRules(){return[Xc({find:$be,type:this.type}),Xc({find:Xbe,type:this.type})]}});const Ybe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Zbe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Nb="numeric",Ob="ascii",Mb="alpha",Bh="asciinumeric",uh="alphanumeric",kb="domain",xF="emoji",Jbe="scheme",eCe="slashscheme",nv="whitespace";function tCe(t,e){return t in e||(e[t]=[]),e[t]}function Mc(t,e,n){e[Nb]&&(e[Bh]=!0,e[uh]=!0),e[Ob]&&(e[Bh]=!0,e[Mb]=!0),e[Bh]&&(e[uh]=!0),e[Mb]&&(e[uh]=!0),e[uh]&&(e[kb]=!0),e[xF]&&(e[kb]=!0);for(const r in e){const i=tCe(r,n);i.indexOf(t)<0&&i.push(t)}}function nCe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Ms(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Ms.groups={};Ms.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Ms.groups;let i;return e&&e.j?i=e:(i=new Ms(e),n&&r&&Mc(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Ms.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,A=i.go(t);if(A?(a=new Ms,Object.assign(a.j,A.j),a.jr.push.apply(a.jr,A.jr),a.jd=A.jd,a.t=A.t):a=new Ms,s){if(r)if(a.t&&typeof a.t=="string"){const u=Object.assign(nCe(a.t,r),n);Mc(s,u,r)}else n&&Mc(s,n,r);a.t=s}return i.j[t]=a,a}};const nn=(t,e,n,r,i)=>t.ta(e,n,r,i),kr=(t,e,n,r,i)=>t.tr(e,n,r,i),ON=(t,e,n,r,i)=>t.ts(e,n,r,i),Je=(t,e,n,r,i)=>t.tt(e,n,r,i),cl="WORD",Fb="UWORD",wF="ASCIINUMERICAL",yF="ALPHANUMERICAL",Xh="LOCALHOST",Db="TLD",Rb="UTLD",Y1="SCHEME",gd="SLASH_SCHEME",mB="NUM",Lb="WS",xB="NL",_h="OPENBRACE",Eh="CLOSEBRACE",Gm="OPENBRACKET",$m="CLOSEBRACKET",Wm="OPENPAREN",Xm="CLOSEPAREN",qm="OPENANGLEBRACKET",Ym="CLOSEANGLEBRACKET",Zm="FULLWIDTHLEFTPAREN",Jm="FULLWIDTHRIGHTPAREN",e0="LEFTCORNERBRACKET",t0="RIGHTCORNERBRACKET",n0="LEFTWHITECORNERBRACKET",r0="RIGHTWHITECORNERBRACKET",i0="FULLWIDTHLESSTHAN",s0="FULLWIDTHGREATERTHAN",a0="AMPERSAND",o0="APOSTROPHE",l0="ASTERISK",hA="AT",A0="BACKSLASH",c0="BACKTICK",u0="CARET",wA="COLON",wB="COMMA",d0="DOLLAR",fo="DOT",f0="EQUALS",yB="EXCLAMATION",va="HYPHEN",Sh="PERCENT",h0="PIPE",p0="PLUS",g0="POUND",Th="QUERY",vB="QUOTE",vF="FULLWIDTHMIDDLEDOT",bB="SEMI",ho="SLASH",Ih="TILDE",m0="UNDERSCORE",bF="EMOJI",x0="SYM";var CF=Object.freeze({__proto__:null,ALPHANUMERICAL:yF,AMPERSAND:a0,APOSTROPHE:o0,ASCIINUMERICAL:wF,ASTERISK:l0,AT:hA,BACKSLASH:A0,BACKTICK:c0,CARET:u0,CLOSEANGLEBRACKET:Ym,CLOSEBRACE:Eh,CLOSEBRACKET:$m,CLOSEPAREN:Xm,COLON:wA,COMMA:wB,DOLLAR:d0,DOT:fo,EMOJI:bF,EQUALS:f0,EXCLAMATION:yB,FULLWIDTHGREATERTHAN:s0,FULLWIDTHLEFTPAREN:Zm,FULLWIDTHLESSTHAN:i0,FULLWIDTHMIDDLEDOT:vF,FULLWIDTHRIGHTPAREN:Jm,HYPHEN:va,LEFTCORNERBRACKET:e0,LEFTWHITECORNERBRACKET:n0,LOCALHOST:Xh,NL:xB,NUM:mB,OPENANGLEBRACKET:qm,OPENBRACE:_h,OPENBRACKET:Gm,OPENPAREN:Wm,PERCENT:Sh,PIPE:h0,PLUS:p0,POUND:g0,QUERY:Th,QUOTE:vB,RIGHTCORNERBRACKET:t0,RIGHTWHITECORNERBRACKET:r0,SCHEME:Y1,SEMI:bB,SLASH:ho,SLASH_SCHEME:gd,SYM:x0,TILDE:Ih,TLD:Db,UNDERSCORE:m0,UTLD:Rb,UWORD:Fb,WORD:cl,WS:Lb});const sl=/[a-z]/,qf=new RegExp("\\p{L}","u"),rv=new RegExp("\\p{Emoji}","u"),al=/\d/,iv=/\s/,MN="\r",sv=`
`,rCe="",iCe="",av="";let k1=null,F1=null;function sCe(t=[]){const e={};Ms.groups=e;const n=new Ms;k1==null&&(k1=kN(Ybe)),F1==null&&(F1=kN(Zbe)),Je(n,"'",o0),Je(n,"{",_h),Je(n,"}",Eh),Je(n,"[",Gm),Je(n,"]",$m),Je(n,"(",Wm),Je(n,")",Xm),Je(n,"<",qm),Je(n,">",Ym),Je(n,"",Zm),Je(n,"",Jm),Je(n,"",e0),Je(n,"",t0),Je(n,"",n0),Je(n,"",r0),Je(n,"",i0),Je(n,"",s0),Je(n,"&",a0),Je(n,"*",l0),Je(n,"@",hA),Je(n,"`",c0),Je(n,"^",u0),Je(n,":",wA),Je(n,",",wB),Je(n,"$",d0),Je(n,".",fo),Je(n,"=",f0),Je(n,"!",yB),Je(n,"-",va),Je(n,"%",Sh),Je(n,"|",h0),Je(n,"+",p0),Je(n,"#",g0),Je(n,"?",Th),Je(n,'"',vB),Je(n,"/",ho),Je(n,";",bB),Je(n,"~",Ih),Je(n,"_",m0),Je(n,"\\",A0),Je(n,"",vF);const r=kr(n,al,mB,{[Nb]:!0});kr(r,al,r);const i=kr(r,sl,wF,{[Bh]:!0}),s=kr(r,qf,yF,{[uh]:!0}),a=kr(n,sl,cl,{[Ob]:!0});kr(a,al,i),kr(a,sl,a),kr(i,al,i),kr(i,sl,i);const A=kr(n,qf,Fb,{[Mb]:!0});kr(A,sl),kr(A,al,s),kr(A,qf,A),kr(s,al,s),kr(s,sl),kr(s,qf,s);const u=Je(n,sv,xB,{[nv]:!0}),f=Je(n,MN,Lb,{[nv]:!0}),m=kr(n,iv,Lb,{[nv]:!0});Je(n,av,m),Je(f,sv,u),Je(f,av,m),kr(f,iv,m),Je(m,MN),Je(m,sv),kr(m,iv,m),Je(m,av,m);const w=kr(n,rv,bF,{[xF]:!0});Je(w,"#"),kr(w,rv,w),Je(w,rCe,w);const C=Je(w,iCe);Je(C,"#"),kr(C,rv,w);const B=[[sl,a],[al,i]],E=[[sl,null],[qf,A],[al,s]];for(let I=0;I<k1.length;I++)lA(n,k1[I],Db,cl,B);for(let I=0;I<F1.length;I++)lA(n,F1[I],Rb,Fb,E);Mc(Db,{tld:!0,ascii:!0},e),Mc(Rb,{utld:!0,alpha:!0},e),lA(n,"file",Y1,cl,B),lA(n,"mailto",Y1,cl,B),lA(n,"http",gd,cl,B),lA(n,"https",gd,cl,B),lA(n,"ftp",gd,cl,B),lA(n,"ftps",gd,cl,B),Mc(Y1,{scheme:!0,ascii:!0},e),Mc(gd,{slashscheme:!0,ascii:!0},e),t=t.sort((I,M)=>I[0]>M[0]?1:-1);for(let I=0;I<t.length;I++){const M=t[I][0],L=t[I][1]?{[Jbe]:!0}:{[eCe]:!0};M.indexOf("-")>=0?L[kb]=!0:sl.test(M)?al.test(M)?L[Bh]=!0:L[Ob]=!0:L[Nb]=!0,ON(n,M,M,L)}return ON(n,"localhost",Xh,{ascii:!0}),n.jd=new Ms(x0),{start:n,tokens:Object.assign({groups:e},CF)}}function BF(t,e){const n=aCe(e.replace(/[A-Z]/g,A=>A.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let A=t,u=null,f=0,m=null,w=-1,C=-1;for(;a<r&&(u=A.go(n[a]));)A=u,A.accepts()?(w=0,C=0,m=A):w>=0&&(w+=n[a].length,C++),f+=n[a].length,s+=n[a].length,a++;s-=w,a-=C,f-=w,i.push({t:m.t,v:e.slice(s-f,s),s:s-f,e:s})}return i}function aCe(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function lA(t,e,n,r,i){let s;const a=e.length;for(let A=0;A<a-1;A++){const u=e[A];t.j[u]?s=t.j[u]:(s=new Ms(r),s.jr=i.slice(),t.j[u]=s),t=s}return s=new Ms(n),s.jr=i.slice(),t.j[e[a-1]]=s,s}function kN(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}const qh={defaultProtocol:"http",events:null,format:FN,formatHref:FN,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function CB(t,e=null){let n=Object.assign({},qh);t&&(n=Object.assign(n,t instanceof CB?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}CB.prototype={o:qh,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:qh[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function FN(t){return t}function _F(t,e){this.t="token",this.v=t,this.tk=e}_F.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=qh.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),a={},A=t.get("className",n,e),u=t.get("target",n,e),f=t.get("rel",n,e),m=t.getObj("attributes",n,e),w=t.getObj("events",n,e);return a.href=r,A&&(a.class=A),u&&(a.target=u),f&&(a.rel=f),m&&Object.assign(a,m),{tagName:i,attributes:a,content:s,eventListeners:w}}};function ox(t,e){class n extends _F{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const DN=ox("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),RN=ox("text"),oCe=ox("nl"),D1=ox("url",{isLink:!0,toHref(t=qh.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Xh&&t[1].t===wA}}),ya=t=>new Ms(t);function lCe({groups:t}){const e=t.domain.concat([a0,l0,hA,A0,c0,u0,d0,f0,va,mB,Sh,h0,p0,g0,ho,x0,Ih,m0]),n=[o0,wA,wB,fo,yB,Sh,Th,vB,bB,qm,Ym,_h,Eh,$m,Gm,Wm,Xm,Zm,Jm,e0,t0,n0,r0,i0,s0],r=[a0,o0,l0,A0,c0,u0,d0,f0,va,_h,Eh,Sh,h0,p0,g0,Th,ho,x0,Ih,m0],i=ya(),s=Je(i,Ih);nn(s,r,s),nn(s,t.domain,s);const a=ya(),A=ya(),u=ya();nn(i,t.domain,a),nn(i,t.scheme,A),nn(i,t.slashscheme,u),nn(a,r,s),nn(a,t.domain,a);const f=Je(a,hA);Je(s,hA,f),Je(A,hA,f),Je(u,hA,f);const m=Je(s,fo);nn(m,r,s),nn(m,t.domain,s);const w=ya();nn(f,t.domain,w),nn(w,t.domain,w);const C=Je(w,fo);nn(C,t.domain,w);const B=ya(DN);nn(C,t.tld,B),nn(C,t.utld,B),Je(f,Xh,B);const E=Je(w,va);Je(E,va,E),nn(E,t.domain,w),nn(B,t.domain,w),Je(B,fo,C),Je(B,va,E);const I=Je(B,wA);nn(I,t.numeric,DN);const M=Je(a,va),R=Je(a,fo);Je(M,va,M),nn(M,t.domain,a),nn(R,r,s),nn(R,t.domain,a);const L=ya(D1);nn(R,t.tld,L),nn(R,t.utld,L),nn(L,t.domain,a),nn(L,r,s),Je(L,fo,R),Je(L,va,M),Je(L,hA,f);const U=Je(L,wA),O=ya(D1);nn(U,t.numeric,O);const F=ya(D1),Q=ya();nn(F,e,F),nn(F,n,Q),nn(Q,e,F),nn(Q,n,Q),Je(L,ho,F),Je(O,ho,F);const D=Je(A,wA),j=Je(u,wA),V=Je(j,ho),W=Je(V,ho);nn(A,t.domain,a),Je(A,fo,R),Je(A,va,M),nn(u,t.domain,a),Je(u,fo,R),Je(u,va,M),nn(D,t.domain,F),Je(D,ho,F),Je(D,Th,F),nn(W,t.domain,F),nn(W,e,F),Je(W,ho,F);const Y=[[_h,Eh],[Gm,$m],[Wm,Xm],[qm,Ym],[Zm,Jm],[e0,t0],[n0,r0],[i0,s0]];for(let J=0;J<Y.length;J++){const[re,te]=Y[J],q=Je(F,re);Je(Q,re,q),Je(q,te,F);const ie=ya(D1);nn(q,e,ie);const ae=ya();nn(q,n),nn(ie,e,ie),nn(ie,n,ae),nn(ae,e,ie),nn(ae,n,ae),Je(ie,te,F),Je(ae,te,F)}return Je(i,Xh,L),Je(i,xB,oCe),{start:i,tokens:CF}}function ACe(t,e,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let A=t,u=null,f=null,m=0,w=null,C=-1;for(;i<r&&!(u=A.go(n[i].t));)a.push(n[i++]);for(;i<r&&(f=u||A.go(n[i].t));)u=null,A=f,A.accepts()?(C=0,w=A):C>=0&&C++,i++,m++;if(C<0)i-=m,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(ov(RN,e,a)),a=[]),i-=C,m-=C;const B=w.t,E=n.slice(i-m,i);s.push(ov(B,e,E))}}return a.length>0&&s.push(ov(RN,e,a)),s}function ov(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const cCe=typeof console<"u"&&console&&console.warn||(()=>{}),uCe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",dr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function dCe(){return Ms.groups={},dr.scanner=null,dr.parser=null,dr.tokenQueue=[],dr.pluginQueue=[],dr.customSchemes=[],dr.initialized=!1,dr}function LN(t,e=!1){if(dr.initialized&&cCe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${uCe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);dr.customSchemes.push([t,e])}function fCe(){dr.scanner=sCe(dr.customSchemes);for(let t=0;t<dr.tokenQueue.length;t++)dr.tokenQueue[t][1]({scanner:dr.scanner});dr.parser=lCe(dr.scanner.tokens);for(let t=0;t<dr.pluginQueue.length;t++)dr.pluginQueue[t][1]({scanner:dr.scanner,parser:dr.parser});return dr.initialized=!0,dr}function BB(t){return dr.initialized||fCe(),ACe(dr.parser.start,t,BF(dr.scanner.start,t))}BB.scan=BF;function EF(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new CB(n),i=BB(t),s=[];for(let a=0;a<i.length;a++){const A=i[a];A.isLink&&(!e||A.t===e)&&r.check(A)&&s.push(A.toFormattedObject(r))}return s}var _B="[\0- -\u2029]",hCe=new RegExp(_B),pCe=new RegExp(`${_B}$`),gCe=new RegExp(_B,"g");function mCe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function xCe(t){return new Rr({key:new vi("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),s=e.some(f=>f.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,A=$k(n.doc,[...e]);if(eF(A).forEach(({newRange:f})=>{const m=nve(r.doc,f,B=>B.isTextblock);let w,C;if(m.length>1)w=m[0],C=r.doc.textBetween(w.pos,w.pos+w.node.nodeSize,void 0," ");else if(m.length){const B=r.doc.textBetween(f.from,f.to," "," ");if(!pCe.test(B))return;w=m[0],C=r.doc.textBetween(w.pos,f.to,void 0," ")}if(w&&C){const B=C.split(hCe).filter(Boolean);if(B.length<=0)return!1;const E=B[B.length-1],I=w.pos+C.lastIndexOf(E);if(!E)return!1;const M=BB(E).map(R=>R.toObject(t.defaultProtocol));if(!mCe(M))return!1;M.filter(R=>R.isLink).map(R=>({...R,from:I+R.start+1,to:I+R.end+1})).filter(R=>r.schema.marks.code?!r.doc.rangeHasMark(R.from,R.to,r.schema.marks.code):!0).filter(R=>t.validate(R.value)).filter(R=>t.shouldAutoLink(R.value)).forEach(R=>{dB(R.from,R.to,r.doc).some(L=>L.mark.type===t.type)||a.addMark(R.from,R.to,t.type.create({href:R.href}))})}}),!!a.steps.length)return a}})}function wCe(t){return new Rr({key:new vi("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let m=r.target;const w=[];for(;m.nodeName!=="DIV";)w.push(m),m=m.parentNode;a=w.find(C=>C.nodeName==="A")}if(!a)return!1;const A=Jk(e.state,t.type.name),u=(i=a==null?void 0:a.href)!=null?i:A.href,f=(s=a==null?void 0:a.target)!=null?s:A.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),a&&u?(window.open(u,f),!0):!1}}})}function yCe(t){return new Rr({key:new vi("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:a}=s,{empty:A}=a;if(A)return!1;let u="";r.content.forEach(m=>{u+=m.textContent});const f=EF(u,{defaultProtocol:t.defaultProtocol}).find(m=>m.isLink&&m.value===u);return!u||!f||i!==void 0&&!i(f.href)?!1:t.editor.commands.setMark(t.type,{href:f.href})}}})}function yc(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(gCe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var vCe=nu.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){LN(t);return}LN(t.scheme,t.optionalSlashes)})},onDestroy(){dCe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!yc(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!yc(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!yc(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Gr(this.options.HTMLAttributes,t),0]:["a",Gr(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!yc(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!yc(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Xc({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=EF(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!yc(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(xCe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!yc(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(wCe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(yCe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),bCe=Object.defineProperty,CCe=(t,e)=>{for(var n in e)bCe(t,n,{get:e[n],enumerable:!0})},BCe="listItem",UN="textStyle",QN=/^\s*([-+*])\s$/,SF=Qs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Gr(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(BCe,this.editor.getAttributes(UN)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Dd({find:QN,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Dd({find:QN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(UN),editor:this.editor})),[t]}}),TF=Qs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Gr(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),A=e.parseChildren(a);n.push(...A)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>gB(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),_Ce={};CCe(_Ce,{findListItemPos:()=>fp,getNextListDepth:()=>EB,handleBackspace:()=>Ub,handleDelete:()=>Qb,hasListBefore:()=>IF,hasListItemAfter:()=>ECe,hasListItemBefore:()=>NF,listItemHasSubList:()=>OF,nextListIsDeeper:()=>MF,nextListIsHigher:()=>kF});var fp=(t,e)=>{const{$from:n}=e.selection,r=ri(t,e.schema);let i=null,s=n.depth,a=n.pos,A=null;for(;s>0&&A===null;)i=n.node(s),i.type===r?A=s:(s-=1,a-=1);return A===null?null:{$pos:e.doc.resolve(a),depth:A}},EB=(t,e)=>{const n=fp(t,e);if(!n)return!1;const[,r]=dve(e,t,n.$pos.pos+4);return r},IF=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},NF=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},OF=(t,e,n)=>{if(!n)return!1;const r=ri(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},Ub=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!QA(t.state,e)&&IF(t.state,e,n)){const{$anchor:A}=t.state.selection,u=t.state.doc.resolve(A.before()-1),f=[];u.node().descendants((C,B)=>{C.type.name===e&&f.push({node:C,pos:B})});const m=f.at(-1);if(!m)return!1;const w=t.state.doc.resolve(u.start()+m.pos+1);return t.chain().cut({from:A.start()-1,to:A.end()+1},w.end()).joinForward().run()}if(!QA(t.state,e)||!gve(t.state))return!1;const r=fp(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=OF(e,t.state,s);return NF(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},MF=(t,e)=>{const n=EB(t,e),r=fp(t,e);return!r||!n?!1:n>r.depth},kF=(t,e)=>{const n=EB(t,e),r=fp(t,e);return!r||!n?!1:n<r.depth},Qb=(t,e)=>{if(!QA(t.state,e)||!pve(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:MF(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():kF(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},ECe=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},FF=ii.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Qb(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Qb(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Ub(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Ub(t,n,r)&&(e=!0)}),e}}}}),HN=/^(\s*)(\d+)\.\s+(.*)$/,SCe=/^\s/;function TCe(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],s=i.match(HN);if(!s)break;const[,a,A,u]=s,f=a.length;let m=u,w=n+1;const C=[i];for(;w<t.length;){const B=t[w];if(B.match(HN))break;if(B.trim()==="")C.push(B),m+=`
`,w+=1;else if(B.match(SCe))C.push(B),m+=`
${B.slice(f+2)}`,w+=1;else break}e.push({indent:f,number:parseInt(A,10),content:m.trim(),raw:C.join(`
`)}),r=w,n=w}return[e,r]}function DF(t,e,n){var r;const i=[];let s=0;for(;s<t.length;){const a=t[s];if(a.indent===e){const A=a.content.split(`
`),u=((r=A[0])==null?void 0:r.trim())||"",f=[];u&&f.push({type:"paragraph",raw:u,tokens:n.inlineTokens(u)});const m=A.slice(1).join(`
`).trim();if(m){const B=n.blockTokens(m);f.push(...B)}let w=s+1;const C=[];for(;w<t.length&&t[w].indent>e;)C.push(t[w]),w+=1;if(C.length>0){const B=Math.min(...C.map(I=>I.indent)),E=DF(C,B,n);f.push({type:"list",ordered:!0,start:C[0].number,items:E,raw:C.map(I=>I.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:f}),s=w}else s+=1}return i}function ICe(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var NCe="listItem",jN="textStyle",PN=/^(\d+)\.\s$/,RF=Qs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Gr(this.options.HTMLAttributes,n),0]:["ol",Gr(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?ICe(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[s,a]=TCe(i);if(s.length===0)return;const A=DF(s,0,n);return A.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:A,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(NCe,this.editor.getAttributes(jN)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Dd({find:PN,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Dd({find:PN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(jN)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),OCe=/^\s*(\[([( |x])?\])\s$/,MCe=Qs.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Gr(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return gB(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),A=document.createElement("input"),u=document.createElement("div"),f=m=>{var w,C;A.ariaLabel=((C=(w=this.options.a11y)==null?void 0:w.checkboxLabel)==null?void 0:C.call(w,m,A.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};return f(t),s.contentEditable="false",A.type="checkbox",A.addEventListener("mousedown",m=>m.preventDefault()),A.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){A.checked=!A.checked;return}const{checked:w}=m.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:C})=>{const B=n();if(typeof B!="number")return!1;const E=C.doc.nodeAt(B);return C.setNodeMarkup(B,void 0,{...E==null?void 0:E.attrs,checked:w}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,w)||(A.checked=!A.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,w])=>{i.setAttribute(m,w)}),i.dataset.checked=t.attrs.checked,A.checked=t.attrs.checked,s.append(A,a),i.append(s,u),Object.entries(e).forEach(([m,w])=>{i.setAttribute(m,w)}),{dom:i,contentDOM:u,update:m=>m.type!==this.type?!1:(i.dataset.checked=m.attrs.checked,A.checked=m.attrs.checked,f(m),!0)}}},addInputRules(){return[Dd({find:OCe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),kCe=Qs.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Gr(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const a=Tb(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:A=>({indentLevel:A[1].length,mainContent:A[4],checked:A[3].toLowerCase()==="x"}),createToken:(A,u)=>({type:"taskItem",raw:"",mainContent:A.mainContent,indentLevel:A.indentLevel,checked:A.checked,text:A.mainContent,tokens:n.inlineTokens(A.mainContent),nestedTokens:u}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(s)},i=Tb(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ii.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(SF.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(TF.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(FF.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(RF.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(MCe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(kCe.configure(this.options.taskList)),t}});var FCe=Qs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Gr(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),DCe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,RCe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,LCe=nu.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Gr(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Fd({find:DCe,type:this.type})]},addPasteRules(){return[Xc({find:RCe,type:this.type})]}}),UCe=Qs.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),QCe=nu.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Gr(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function HCe(t={}){return new Rr({view(e){return new jCe(e,t)}})}class jCe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,A=s.height/i.offsetHeight;if(n){let w=e.nodeBefore,C=e.nodeAfter;if(w||C){let B=this.editorView.nodeDOM(this.cursorPos-(w?w.nodeSize:0));if(B){let E=B.getBoundingClientRect(),I=w?E.bottom:E.top;w&&C&&(I=(I+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let M=this.width/2*A;r={left:E.left,right:E.right,top:I-M,bottom:I+M}}}}if(!r){let w=this.editorView.coordsAtPos(this.cursorPos),C=this.width/2*a;r={left:w.left-C,right:w.left+C,top:w.top,bottom:w.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,m;if(!u||u==document.body&&getComputedStyle(u).position=="static")f=-pageXOffset,m=-pageYOffset;else{let w=u.getBoundingClientRect(),C=w.width/u.offsetWidth,B=w.height/u.offsetHeight;f=w.left-u.scrollLeft*C,m=w.top-u.scrollTop*B}this.element.style.left=(r.left-f)/a+"px",this.element.style.top=(r.top-m)/A+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/A+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let A=QM(this.editorView.state.doc,a,this.editorView.dragging.slice);A!=null&&(a=A)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Dr extends rn{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Dr.valid(r)?new Dr(r):rn.near(r)}content(){return ct.empty}eq(e){return e instanceof Dr&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Dr(e.resolve(n.pos))}getBookmark(){return new SB(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!PCe(e)||!zCe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Dr.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let A=e.node(a);if(n>0?e.indexAfter(a)<A.childCount:e.index(a)>0){s=A.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let u=e.doc.resolve(i);if(Dr.valid(u))return u}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!It.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let A=e.doc.resolve(i);if(Dr.valid(A))return A}return null}}}Dr.prototype.visible=!1;Dr.findFrom=Dr.findGapCursorFrom;rn.jsonID("gapcursor",Dr);class SB{constructor(e){this.pos=e}map(e){return new SB(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Dr.valid(n)?new Dr(n):rn.near(n)}}function LF(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function PCe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||LF(i.type))return!0;if(i.inlineContent)return!1}}return!0}function zCe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||LF(i.type))return!0;if(i.inlineContent)return!1}}return!0}function VCe(){return new Rr({props:{decorations:WCe,createSelectionBetween(t,e,n){return e.pos==n.pos&&Dr.valid(n)?new Dr(n):null},handleClick:GCe,handleKeyDown:KCe,handleDOMEvents:{beforeinput:$Ce}}})}const KCe=Qk({ArrowLeft:R1("horiz",-1),ArrowRight:R1("horiz",1),ArrowUp:R1("vert",-1),ArrowDown:R1("vert",1)});function R1(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,A=e>0?a.$to:a.$from,u=a.empty;if(a instanceof Pt){if(!s.endOfTextblock(n)||A.depth==0)return!1;u=!1,A=r.doc.resolve(e>0?A.after():A.before())}let f=Dr.findGapCursorFrom(A,e,u);return f?(i&&i(r.tr.setSelection(new Dr(f))),!0):!1}}function GCe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Dr.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&It.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Dr(r))),!0)}function $Ce(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Dr))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=We.empty;for(let a=r.length-1;a>=0;a--)i=We.from(r[a].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new ct(i,0,0));return s.setSelection(Pt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function WCe(t){if(!(t.selection instanceof Dr))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Er.create(t.doc,[ds.widget(t.selection.head,e,{key:"gapcursor"})])}var w0=200,yi=function(){};yi.prototype.append=function(e){return e.length?(e=yi.from(e),!this.length&&e||e.length<w0&&this.leafAppend(e)||this.length<w0&&e.leafPrepend(this)||this.appendInner(e)):this};yi.prototype.prepend=function(e){return e.length?yi.from(e).append(this):this};yi.prototype.appendInner=function(e){return new XCe(this,e)};yi.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?yi.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};yi.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};yi.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};yi.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};yi.from=function(e){return e instanceof yi?e:e&&e.length?new UF(e):yi.empty};var UF=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,A){for(var u=s;u<a;u++)if(i(this.values[u],A+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,A){for(var u=s-1;u>=a;u--)if(i(this.values[u],A+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=w0)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=w0)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(yi);yi.empty=new UF([]);var XCe=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var A=this.left.length;if(i<A&&this.left.forEachInner(r,i,Math.min(s,A),a)===!1||s>A&&this.right.forEachInner(r,Math.max(i-A,0),Math.min(this.length,s)-A,a+A)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var A=this.left.length;if(i>A&&this.right.forEachInvertedInner(r,i-A,Math.max(s,A)-A,a+A)===!1||s<A&&this.left.forEachInvertedInner(r,Math.min(i,A),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(yi);const qCe=500;class za{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,A,u,f=[],m=[];return this.items.forEach((w,C)=>{if(!w.step){i||(i=this.remapping(r,C+1),s=i.maps.length),s--,m.push(w);return}if(i){m.push(new po(w.map));let B=w.step.map(i.slice(s)),E;B&&a.maybeStep(B).doc&&(E=a.mapping.maps[a.mapping.maps.length-1],f.push(new po(E,void 0,void 0,f.length+m.length))),s--,E&&i.appendMap(E,s)}else a.maybeStep(w.step);if(w.selection)return A=i?w.selection.map(i.slice(s)):w.selection,u=new za(this.items.slice(0,r).append(m.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:A}}addTransform(e,n,r,i){let s=[],a=this.eventCount,A=this.items,u=!i&&A.length?A.get(A.length-1):null;for(let m=0;m<e.steps.length;m++){let w=e.steps[m].invert(e.docs[m]),C=new po(e.mapping.maps[m],w,n),B;(B=u&&u.merge(C))&&(C=B,m?s.pop():A=A.slice(0,A.length-1)),s.push(C),n&&(a++,n=void 0),i||(u=C)}let f=a-r.depth;return f>ZCe&&(A=YCe(A,f),a-=f),new za(A.append(s),a)}remapping(e,n){let r=new Ph;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new za(this.items.append(e.map(n=>new po(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,A=this.eventCount;this.items.forEach(C=>{C.selection&&A--},i);let u=n;this.items.forEach(C=>{let B=s.getMirror(--u);if(B==null)return;a=Math.min(a,B);let E=s.maps[B];if(C.step){let I=e.steps[B].invert(e.docs[B]),M=C.selection&&C.selection.map(s.slice(u+1,B));M&&A++,r.push(new po(E,I,M))}else r.push(new po(E))},i);let f=[];for(let C=n;C<a;C++)f.push(new po(s.maps[C]));let m=this.items.slice(0,i).append(f).append(r),w=new za(m,A);return w.emptyItemCount()>qCe&&(w=w.compress(this.items.length-r.length)),w}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((a,A)=>{if(A>=e)i.push(a),a.selection&&s++;else if(a.step){let u=a.step.map(n.slice(r)),f=u&&u.getMap();if(r--,f&&n.appendMap(f,r),u){let m=a.selection&&a.selection.map(n.slice(r));m&&s++;let w=new po(f.invert(),u,m),C,B=i.length-1;(C=i.length&&i[B].merge(w))?i[B]=C:i.push(w)}}else a.map&&r--},this.items.length,0),new za(yi.from(i.reverse()),s)}}za.empty=new za(yi.empty,0);function YCe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class po{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new po(n.getMap().invert(),n,this.selection)}}}class pA{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const ZCe=20;function JCe(t,e,n,r){let i=n.getMeta(Hc),s;if(i)return i.historyState;n.getMeta(nBe)&&(t=new pA(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Hc))return a.getMeta(Hc).redo?new pA(t.done.addTransform(n,void 0,r,Z1(e)),t.undone,zN(n.mapping.maps),t.prevTime,t.prevComposition):new pA(t.done,t.undone.addTransform(n,void 0,r,Z1(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let A=n.getMeta("composition"),u=t.prevTime==0||!a&&t.prevComposition!=A&&(t.prevTime<(n.time||0)-r.newGroupDelay||!eBe(n,t.prevRanges)),f=a?lv(t.prevRanges,n.mapping):zN(n.mapping.maps);return new pA(t.done.addTransform(n,u?e.selection.getBookmark():void 0,r,Z1(e)),za.empty,f,n.time,A??t.prevComposition)}else return(s=n.getMeta("rebased"))?new pA(t.done.rebased(n,s),t.undone.rebased(n,s),lv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new pA(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),lv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function eBe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function zN(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,a)=>e.push(s,a));return e}function lv(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function tBe(t,e,n){let r=Z1(e),i=Hc.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),A=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),u=new pA(n?A:s.remaining,n?s.remaining:A,null,0,-1);return s.transform.setSelection(a).setMeta(Hc,{redo:n,historyState:u})}let Av=!1,VN=null;function Z1(t){let e=t.plugins;if(VN!=e){Av=!1,VN=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Av=!0;break}}return Av}const Hc=new vi("history"),nBe=new vi("closeHistory");function rBe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Rr({key:Hc,state:{init(){return new pA(za.empty,za.empty,null,0,-1)},apply(e,n,r){return JCe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?HF:r=="historyRedo"?jF:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function QF(t,e){return(n,r)=>{let i=Hc.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=tBe(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const HF=QF(!1,!0),jF=QF(!0,!0);ii.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Rr({key:new vi("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,A=0,u=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(A,u);return t=!0,f}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const A=e.selection.$head.pos,u=s-r,f=A-u,m=A;return e.deleteRange(f,m),!(this.storage.characters({node:e.doc})>r)}})]}});var iBe=ii.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[HCe(this.options)]}});ii.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Rr({key:new vi("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return Er.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((u,f)=>{if(u.isText)return;if(!(i>=f&&i<=f+u.nodeSize-1))return!1;a+=1});let A=0;return t.descendants((u,f)=>{if(u.isText||!(i>=f&&i<=f+u.nodeSize-1))return!1;if(A+=1,this.options.mode==="deepest"&&a-A>0||this.options.mode==="shallowest"&&A>1)return this.options.mode==="deepest";s.push(ds.node(f,f+u.nodeSize,{class:this.options.className}))}),Er.create(t,s)}}})]}});var sBe=ii.create({name:"gapCursor",addProseMirrorPlugins(){return[VCe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Vn(Tt(t,"allowGapCursor",n)))!=null?e:null}}});ii.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Rr({key:new vi("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((a,A)=>{const u=r>=A&&r<=A+a.nodeSize,f=!a.isLeaf&&ix(a);if((u||!this.options.showOnlyCurrent)&&f){const m=[this.options.emptyNodeClass];s&&m.push(this.options.emptyEditorClass);const w=ds.node(A,A+a.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:A,hasAnchor:u}):this.options.placeholder});i.push(w)}return this.options.includeChildren}),Er.create(t,i)}}})]}});ii.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Rr({key:new vi("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||tF(n.selection)||t.view.dragging?null:Er.create(n.doc,[ds.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function KN({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var aBe=ii.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new vi(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Rr({key:e,appendTransaction:(i,s,a)=>{const{doc:A,tr:u,schema:f}=a,m=e.getState(a),w=A.content.size,C=f.nodes[n];if(m)return u.insert(w,C.create())},state:{init:(i,s)=>{const a=s.tr.doc.lastChild;return!KN({node:a,types:r})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;const a=i.doc.lastChild;return!KN({node:a,types:r})}}})]}}),oBe=ii.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>HF(t,e),redo:()=>({state:t,dispatch:e})=>jF(t,e)}},addProseMirrorPlugins(){return[rBe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),lBe=ii.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(Dbe.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(Nbe.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(SF.configure(this.options.bulletList)),this.options.code!==!1&&i.push(Ube.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(jbe.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(Pbe.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(iBe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(sBe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(zbe.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(Vbe.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(oBe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(Kbe.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(qbe.configure(this.options.italic)),this.options.listItem!==!1&&i.push(TF.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(FF.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(vCe.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(RF.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(FCe.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(LCe.configure(this.options.strike)),this.options.text!==!1&&i.push(UCe.configure(this.options.text)),this.options.underline!==!1&&i.push(QCe.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(aBe.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),ABe=lBe,cBe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,uBe=Qs.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Gr(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,s,a;const A=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",u=(i=(r=t.attrs)==null?void 0:r.alt)!=null?i:"",f=(a=(s=t.attrs)==null?void 0:s.title)!=null?a:"";return f?`![${u}](${A} "${f}")`:`![${u}](${A})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u"||!this.editor.isEditable)return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:i,getPos:s,HTMLAttributes:a})=>{const A=document.createElement("img");Object.entries(a).forEach(([m,w])=>{if(w!=null)switch(m){case"width":case"height":break;default:A.setAttribute(m,w);break}}),A.src=a.src;const u=new Zve({element:A,node:i,getPos:s,onResize:(m,w)=>{A.style.width=`${m}px`,A.style.height=`${w}px`},onCommit:(m,w)=>{const C=s();C!==void 0&&this.editor.chain().setNodeSelection(C).updateAttributes(this.name,{width:m,height:w}).run()},onUpdate:(m,w,C)=>m.type===i.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),f=u.dom;return f.style.visibility="hidden",f.style.pointerEvents="none",A.onload=()=>{f.style.visibility="",f.style.pointerEvents=""},u}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[pF({find:cBe,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),dBe=uBe;const fBe="_editorWrapper_1qbzy_1",hBe="_menuBar_1qbzy_15",pBe="_isActive_1qbzy_67",gBe="_divider_1qbzy_77",mBe="_editorContent_1qbzy_91",fl={editorWrapper:fBe,menuBar:hBe,isActive:pBe,divider:gBe,editorContent:mBe};async function xBe(t,e){try{const n=new FormData;return n.append("image",t),(await nt.post("/api/upload/image",n,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(n){return console.error("  :",n),e&&e("    ."),null}}function wBe({editor:t}){const e=H.useRef(null),{showAlert:n}=Kn();if(!t)return null;const r=async i=>{const s=Array.from(i.target.files);if(s.length!==0){i.target.value="",t.chain().focus();for(const a of s){const A=await xBe(a,n);A&&t.chain().setImage({src:A}).run()}}};return g.jsxs("div",{className:fl.menuBar,children:[g.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?fl.isActive:"",children:g.jsx("b",{children:"B"})}),g.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?fl.isActive:"",children:g.jsx("i",{children:"I"})}),g.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),className:t.isActive("strike")?fl.isActive:"",children:g.jsx("s",{children:"S"})}),g.jsx("div",{className:fl.divider}),[1,2,3].map(i=>g.jsxs("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:i}).run(),className:t.isActive("heading",{level:i})?fl.isActive:"",children:["H",i]},i)),g.jsx("div",{className:fl.divider}),g.jsx("button",{type:"button",onClick:()=>e.current.click(),children:" "}),g.jsx("input",{type:"file",ref:e,onChange:r,style:{display:"none"},accept:"image/*",multiple:!0})]})}function TB({content:t,onChange:e}){const n=H.useRef(!0),r=_be({extensions:[ABe.configure({heading:{levels:[1,2,3]}}),dBe.configure({allowBase64:!0})],content:t||"",onUpdate:({editor:i})=>{n.current||e(i.getHTML())},editorProps:{attributes:{class:fl.editorContent}}});return H.useEffect(()=>{r&&(n.current&&(n.current=!1),!(!t||r.getHTML()===t)&&r.commands.setContent(t,{emitUpdate:!1}))},[t,r]),g.jsxs("div",{className:fl.editorWrapper,children:[g.jsx(wBe,{editor:r}),g.jsx(xbe,{editor:r})]})}function yBe({data:t,setData:e,onFileChange:n}){var Q,D;const[r,i]=H.useState(""),[s,a]=H.useState(!1),[A,u]=H.useState(null),f=H.useRef(null);H.useEffect(()=>{t.gallery_image&&typeof t.gallery_image=="string"&&u(t.gallery_image)},[t.gallery_image]),H.useEffect(()=>{if(typeof t.gallery_sns=="string")try{const j=JSON.parse(t.gallery_sns);e(V=>({...V,gallery_sns:j}))}catch(j){console.error("SNS   :",j),e(V=>({...V,gallery_sns:[]}))}},[t.gallery_sns,e]);const m=(j,V)=>{if(!V)return;let W=V.trim();!W.startsWith("http://")&&!W.startsWith("https://")&&(W=`https://${W}`,R(j,W))},w=j=>{j.type==="compositionstart"&&a(!0),j.type==="compositionend"&&a(!1)},C=j=>{if(!s&&j.key==="Enter"&&r.trim()!==""){j.preventDefault();const V=r.trim(),W=t.gallery_category?t.gallery_category.split(",").map(Y=>Y.trim()):[];if(!W.includes(V)){const Y=[...W,V].join(", ");e(J=>({...J,gallery_category:Y}))}i("")}},B=j=>{const W=t.gallery_category.split(",").map(Y=>Y.trim()).filter(Y=>Y!==j).join(", ");e(Y=>({...Y,gallery_category:W}))},E=j=>{const{name:V,value:W}=j.target;e(Y=>({...Y,[V]:W}))},I=["","","","","","",""],M=j=>{const{value:V,checked:W}=j.target,Y=t.gallery_closed_day?t.gallery_closed_day.split(",").map(te=>te.trim()):[];let J;W?J=[...new Set([...Y,V])]:J=Y.filter(te=>te!==V);const re=I;J.sort((te,q)=>re.indexOf(te)-re.indexOf(q)),e(te=>({...te,gallery_closed_day:J.join(", ")}))},R=(j,V)=>{e(W=>{let Y=Array.isArray(W.gallery_sns)?[...W.gallery_sns]:[];const J=Y.findIndex(re=>re.type===j);return J!==-1?Y[J].url=V:Y.push({type:j,url:V}),{...W,gallery_sns:Y}})},L=j=>{e(V=>({...V,gallery_description:j}))},U=t.gallery_category?t.gallery_category.split(",").map(j=>j.trim()):[],O=j=>{const V=j.target.files[0];if(V){n(V);const W=URL.createObjectURL(V);u(W)}j.target.value=""},F=j=>{j.stopPropagation(),u(null),n(null),f.current&&(f.current.value="")};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:Se.card,children:[g.jsx("input",{className:`${Se.input} ${Se.galleryNameInput}`,name:"gallery_name",value:t.gallery_name||"",onChange:E,placeholder:" "}),g.jsx("input",{className:`${Se.input} ${Se.gallerySubNameInput}`,name:"gallery_eng_name",value:t.gallery_eng_name||"",onChange:E,placeholder:" "}),g.jsx("input",{type:"file",ref:f,onChange:O,accept:"image/*",style:{display:"none"}}),g.jsx("div",{className:Se.imageUploadBox,onClick:()=>f.current.click(),children:A?g.jsxs(g.Fragment,{children:[g.jsx($t,{src:A,alt:"  ",className:Se.previewImage}),g.jsx("button",{type:"button",onClick:F,className:Se.imageDelBtn,title:" ",children:""})]}):g.jsx("p",{className:Se.previewImageDesc,children:"+    "})}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsxs("div",{className:Se.tagInputContainer,children:[U.map(j=>g.jsxs("div",{className:Se.tagItem,children:[j,g.jsx("button",{type:"button",className:Se.removeTagBtn,onClick:()=>B(j),children:""})]},j)),g.jsx("input",{type:"text",className:Se.tagInputField,value:r,onChange:j=>i(j.target.value),onKeyDown:C,onCompositionStart:w,onCompositionEnd:w,placeholder:" "})]})]}),g.jsxs("div",{className:Se.formGrid,children:[g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsxs("div",{className:Se.timeInputContainer,children:[g.jsx("input",{type:"time",className:Se.timeInput,name:"gallery_start_time",value:((Q=t.gallery_start_time)==null?void 0:Q.slice(0,5))||"",onChange:E}),g.jsx("span",{children:"~"}),g.jsx("input",{type:"time",className:Se.timeInput,name:"gallery_end_time",value:((D=t.gallery_end_time)==null?void 0:D.slice(0,5))||"",onChange:E})]})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("div",{className:Se.checkboxGroup,children:I.map(j=>{var V;return g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"closedDays",value:j,checked:(V=t.gallery_closed_day)==null?void 0:V.includes(j),onChange:M})," ",j]},j)})})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("input",{className:Se.input,name:"gallery_phone",value:t.gallery_phone||"",onChange:E})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("input",{className:Se.input,name:"gallery_address",value:t.gallery_address||"",onChange:E})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("input",{className:Se.input,type:"email",name:"gallery_email",value:t.gallery_email||"",onChange:E})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("input",{className:Se.input,type:"url",name:"gallery_homepage",value:t.gallery_homepage||"",onChange:E})]})]})]}),g.jsxs("div",{className:`${Se.card} ${Se.snsCard}`,children:[g.jsx("label",{className:Se.label,children:"SNS"}),g.jsx("div",{className:Se.snsInputGroup,children:[{type:"instagram",placeholder:"Instagram "},{type:"youtube",placeholder:"YouTube "},{type:"twitter",placeholder:"Twitter "},{type:"facebook",placeholder:"Facebook "}].map(({type:j,placeholder:V})=>{var Y;const W=Array.isArray(t.gallery_sns)&&((Y=t.gallery_sns.find(J=>J.type===j))==null?void 0:Y.url)||"";return g.jsx("input",{className:Se.input,placeholder:V,value:W,onChange:J=>R(j,J.target.value),onBlur:()=>m(j,W)},j)})})]}),g.jsxs("div",{className:`${Se.card} ${Se.tiptap}`,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx(TB,{content:t.gallery_description||"",onChange:L})]})]})}const vBe="_overlay_1y5nn_1",bBe="_modalBox_1y5nn_27",CBe="_header_1y5nn_49",BBe="_closeBtn_1y5nn_73",_Be="_body_1y5nn_87",EBe="_searchBar_1y5nn_97",SBe="_listContainer_1y5nn_151",TBe="_artistRow_1y5nn_163",IBe="_artistImg_1y5nn_181",NBe="_artistInfo_1y5nn_197",OBe="_name_1y5nn_207",MBe="_category_1y5nn_217",kBe="_selectBtn_1y5nn_227",FBe="_emptyState_1y5nn_255",DBe="_addNewBtn_1y5nn_269",RBe="_addFormContainer_1y5nn_305",LBe="_addTitle_1y5nn_317",UBe="_imageUploadCircle_1y5nn_329",QBe="_placeholder_1y5nn_365",HBe="_addInput_1y5nn_387",jBe="_formActions_1y5nn_415",PBe="_cancelBtn_1y5nn_425",zBe="_confirmBtn_1y5nn_427",Br={overlay:vBe,modalBox:bBe,header:CBe,closeBtn:BBe,body:_Be,searchBar:EBe,listContainer:SBe,artistRow:TBe,artistImg:IBe,artistInfo:NBe,name:OBe,category:MBe,selectBtn:kBe,emptyState:FBe,addNewBtn:DBe,addFormContainer:RBe,addTitle:LBe,imageUploadCircle:UBe,placeholder:QBe,addInput:HBe,formActions:jBe,cancelBtn:PBe,confirmBtn:zBe};function PF({onClose:t,onSelect:e}){const[n,r]=H.useState(""),[i,s]=H.useState([]),[a,A]=H.useState(!1),[u,f]=H.useState(!1),[m,w]=H.useState(""),[C,B]=H.useState(null),[E,I]=H.useState(null),M=H.useRef(null),{showAlert:R}=Kn(),L=async Q=>{if(!Q||Q.trim()===""){R(" .");return}try{const D=await nt.get("/api/artist",{params:{search:Q}});s(D.data||[]),f(!0)}catch(D){console.error("  :",D)}},U=Q=>{Q.key==="Enter"&&L(n)},O=Q=>{const D=Q.target.files[0];D&&(B(D),I(URL.createObjectURL(D)))},F=async()=>{if(!m.trim()){R("  .");return}try{const Q=new FormData;Q.append("artist_name",m),C&&Q.append("artist_image",C);const D=await nt.post("/api/artists",Q,{headers:{"Content-Type":"multipart/form-data"}});R("  .");const j=D.data.data||D.data;j&&j.id?e(j):(A(!1),w(""),B(null),I(null),r(m),L(m))}catch(Q){console.error("  :",Q),R("    .")}};return g.jsx("div",{className:Br.overlay,onClick:t,children:g.jsxs("div",{className:Br.modalBox,onClick:Q=>Q.stopPropagation(),children:[g.jsxs("div",{className:Br.header,children:[g.jsx("h3",{children:" "}),g.jsx("button",{className:Br.closeBtn,onClick:t,children:""})]}),g.jsx("div",{className:Br.body,children:a?g.jsxs("div",{className:Br.addFormContainer,children:[g.jsx("p",{className:Br.addTitle,children:"  "}),g.jsxs("div",{className:Br.imageUploadCircle,onClick:()=>M.current.click(),children:[E?g.jsx($t,{src:E,alt:"Preview"}):g.jsxs("div",{className:Br.placeholder,children:[g.jsx(hz,{}),g.jsx("span",{children:" "})]}),g.jsx("input",{type:"file",ref:M,onChange:O,hidden:!0})]}),g.jsx("input",{className:Br.addInput,placeholder:"  ",value:m,onChange:Q=>w(Q.target.value)}),g.jsxs("div",{className:Br.formActions,children:[g.jsx("button",{className:Br.cancelBtn,onClick:()=>A(!1),children:""}),g.jsx("button",{className:Br.confirmBtn,onClick:F,children:" "})]})]}):g.jsxs("div",{className:Br.listContainer,children:[g.jsxs("div",{className:Br.searchBar,children:[g.jsx("input",{value:n,onChange:Q=>r(Q.target.value),onKeyDown:U,placeholder:"  ",autoFocus:!0}),g.jsx("button",{onClick:()=>L(n),children:g.jsx(I5,{})})]}),i.length>0?i.map(Q=>g.jsxs("div",{className:Br.artistRow,children:[g.jsx($t,{src:Q.artist_image,alt:Q.artist_name,className:Br.artistImg}),g.jsxs("div",{className:Br.artistInfo,children:[g.jsx("span",{className:Br.name,children:Q.artist_name}),g.jsx("span",{className:Br.category,children:Q.artist_category||"Category"})]}),g.jsx("button",{className:Br.selectBtn,onClick:()=>e(Q),children:""})]},Q.id)):g.jsx("div",{className:Br.emptyState,children:u?g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:['"',n,'"    .']}),g.jsxs("button",{className:Br.addNewBtn,onClick:()=>A(!0),children:[g.jsx(dz,{}),"   "]})]}):g.jsx("p",{children:"   ."})})]})})]})})}const VBe="_overlay_1kynb_1",KBe="_modalBox_1kynb_27",GBe="_header_1kynb_51",$Be="_closeBtn_1kynb_79",WBe="_body_1kynb_95",XBe="_searchBar_1kynb_111",qBe="_listContainer_1kynb_163",YBe="_artistRow_1kynb_181",ZBe="_selected_1kynb_211",JBe="_checkbox_1kynb_221",e_e="_artistImg_1kynb_233",t_e="_artistInfo_1kynb_249",n_e="_name_1kynb_263",r_e="_category_1kynb_275",i_e="_emptyState_1kynb_285",s_e="_footer_1kynb_299",a_e="_confirmBtn_1kynb_313",Ii={overlay:VBe,modalBox:KBe,header:GBe,closeBtn:$Be,body:WBe,searchBar:XBe,listContainer:qBe,artistRow:YBe,selected:ZBe,checkbox:JBe,artistImg:e_e,artistInfo:t_e,name:n_e,category:r_e,emptyState:i_e,footer:s_e,confirmBtn:a_e};function o_e({onClose:t,onSelect:e,existingArtworks:n=[]}){const[r,i]=H.useState(""),[s,a]=H.useState([]),[A,u]=H.useState([]);H.useEffect(()=>{n&&n.length>0&&u(n)},[n]);const f=async(B="")=>{try{const E=await nt.get("/api/arts",{params:{search:B}}),I=Array.isArray(E.data)?E.data:E.data.data||[];a(I)}catch(E){console.error("  :",E)}};H.useEffect(()=>{f()},[]);const m=B=>{B.key==="Enter"&&f(r)},w=B=>{u(E=>E.some(M=>M.id===B.id)?E.filter(M=>M.id!==B.id):[...E,B])},C=()=>{e(A),t()};return g.jsx("div",{className:Ii.overlay,onClick:t,children:g.jsxs("div",{className:Ii.modalBox,onClick:B=>B.stopPropagation(),children:[g.jsxs("div",{className:Ii.header,children:[g.jsx("h3",{children:"  "}),g.jsx("button",{className:Ii.closeBtn,onClick:t,children:""})]}),g.jsxs("div",{className:Ii.body,children:[g.jsxs("div",{className:Ii.searchBar,children:[g.jsx("input",{value:r,onChange:B=>i(B.target.value),onKeyDown:m,placeholder:"   "}),g.jsx("button",{onClick:()=>f(r),children:g.jsx(I5,{})})]}),g.jsx("div",{className:Ii.listContainer,children:s.length>0?s.map(B=>{var I;const E=A.some(M=>M.id===B.id);return g.jsxs("div",{className:`${Ii.artistRow} ${E?Ii.selected:""}`,onClick:()=>w(B),children:[g.jsx("input",{type:"checkbox",checked:E,readOnly:!0,className:Ii.checkbox}),g.jsx($t,{src:B.art_image||B.image,alt:B.art_title,className:Ii.artistImg}),g.jsxs("div",{className:Ii.artistInfo,children:[g.jsx("span",{className:Ii.name,children:B.art_title}),g.jsx("span",{className:Ii.category,children:((I=B.artist)==null?void 0:I.artist_name)||B.artist_name||""})]})]},B.id)}):g.jsx("p",{className:Ii.emptyState,children:"  ."})}),g.jsx("div",{className:Ii.footer,children:g.jsxs("button",{className:Ii.confirmBtn,onClick:C,children:["  (",A.length,")"]})})]})]})})}const Yf=t=>t.id||t.artist_id,GN=t=>t.artist_image||t.profile_img,$N=t=>{var e;return t.artist_name||t.name||((e=t.artist)==null?void 0:e.artist_name)||" "},l_e=t=>t.image_url||t.art_image||"/images/no-image.png",A_e=t=>t.title||t.art_title||" ",c_e=t=>{var e;return t.artist_name||((e=t.artist)==null?void 0:e.artist_name)||" "};function u_e({data:t,setData:e,onFileChange:n}){var F,Q;const[r,i]=H.useState(null),s=H.useRef(null),[a,A]=H.useState(!1),[u,f]=H.useState(!1),{showAlert:m}=Kn();H.useEffect(()=>{t.exhibition_poster&&typeof t.exhibition_poster=="string"&&i(t.exhibition_poster)},[t.exhibition_poster]);const w=D=>{const{name:j,value:V}=D.target;e(W=>({...W,[j]:V}))},C=D=>{e(j=>({...j,exhibition_description:D}))},B=D=>{const j=D.target.files[0];if(j){n(j);const V=URL.createObjectURL(j);i(V)}D.target.value=""},E=D=>{D.stopPropagation(),i(null),n(null),s.current&&(s.current.value="")},I=D=>{const j=t.artists||[];if(j.some(W=>Yf(W)===Yf(D))){m("  .");return}const V={id:Yf(D),name:$N(D),artist_image:GN(D)};e(W=>({...W,artists:[...j,V]})),A(!1)},M=D=>{const j=(t.artists||[]).filter(V=>Yf(V)!==D);e(V=>({...V,artists:j}))},R=D=>{e(j=>({...j,artworks:D}))},L=D=>{const j=(t.artworks||[]).filter(V=>(V.id||V.art_id)!==D);e(V=>({...V,artworks:j}))},U=["","","","","","",""],O=D=>{const{value:j,checked:V}=D.target,W=t.exhibition_closed_day?t.exhibition_closed_day.split(",").map(re=>re.trim()):[];let Y;V?Y=[...new Set([...W,j])]:Y=W.filter(re=>re!==j);const J=U;Y.sort((re,te)=>J.indexOf(re)-J.indexOf(te)),e(re=>({...re,exhibition_closed_day:Y.join(", ")}))};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:Se.card,children:[g.jsx("input",{className:`${Se.input} ${Se.galleryNameInput}`,name:"exhibition_title",value:t.exhibition_title||"",onChange:w,placeholder:" "}),g.jsx("input",{type:"file",ref:s,onChange:B,accept:"image/*",style:{display:"none"}}),g.jsx("div",{className:Se.imageUploadBox,onClick:()=>s.current.click(),children:r?g.jsxs(g.Fragment,{children:[g.jsx($t,{src:r,alt:"  ",className:Se.previewImage}),g.jsx("button",{type:"button",onClick:E,className:Se.imageDelBtn,title:" ",children:""})]}):g.jsx("p",{className:Se.previewImageDesc,children:"+    "})}),g.jsxs("div",{className:Se.formGrid,children:[g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsxs("div",{className:Se.timeInputContainer,children:[g.jsx("input",{type:"date",className:Se.timeInput,name:"exhibition_start_date",value:t.exhibition_start_date||"",onChange:w}),g.jsx("span",{children:"~"}),g.jsx("input",{type:"date",className:Se.timeInput,name:"exhibition_end_date",value:t.exhibition_end_date||"",onChange:w})]})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsxs("div",{className:Se.timeInputContainer,children:[g.jsx("input",{type:"time",className:Se.timeInput,name:"exhibition_start_time",value:((F=t.exhibition_start_time)==null?void 0:F.slice(0,5))||"",onChange:w}),g.jsx("span",{children:"~"}),g.jsx("input",{type:"time",className:Se.timeInput,name:"exhibition_end_time",value:((Q=t.exhibition_end_time)==null?void 0:Q.slice(0,5))||"",onChange:w})]})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("div",{className:Se.checkboxGroup,children:U.map(D=>{var j;return g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",name:"closedDays",value:D,checked:(j=t.exhibition_closed_day)==null?void 0:j.includes(D),onChange:O})," ",D]},D)})})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("input",{className:Se.input,name:"exhibition_organization",value:t.exhibition_organization||"",onChange:w})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("input",{className:Se.input,name:"exhibition_location",value:t.exhibition_location||"",onChange:w})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("input",{className:Se.input,name:"exhibition_price",value:t.exhibition_price||"",onChange:w})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("input",{className:Se.input,name:"exhibition_phone",value:t.exhibition_phone||"",onChange:w})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("input",{className:Se.input,type:"url",name:"exhibition_homepage",value:t.exhibition_homepage||"",onChange:w})]}),g.jsxs("div",{className:`${Se.inputGroup} ${Se.fullWidth}`,children:[g.jsxs("div",{className:Se.addHeaderContainer,children:[g.jsx("label",{className:Se.label,children:" "}),g.jsx("button",{type:"button",className:Se.addBtn,onClick:()=>A(!0),children:"+  /"})]}),g.jsx("div",{className:Se.artistListContainer,children:g.jsx("div",{className:Se.artistList,children:!t.artists||t.artists.length===0?g.jsx("p",{className:Se.emptyText,children:"  "}):t.artists.map((D,j)=>{const V=Yf(D),W=$N(D);return g.jsxs("div",{className:Se.artworkCard,children:[g.jsx($t,{src:GN(D),alt:"thumb",className:Se.artistThumb}),g.jsx("span",{className:Se.artistName,children:W}),g.jsx("button",{type:"button",className:Se.removeBtn,onClick:()=>M(V),title:"",children:""})]},V||j)})})})]}),g.jsxs("div",{className:`${Se.inputGroup} ${Se.artworkSection}`,children:[g.jsxs("div",{className:Se.addHeaderContainer,children:[g.jsx("label",{className:Se.label,children:" "}),g.jsx("button",{type:"button",className:Se.addBtn,onClick:()=>f(!0),children:"+  "})]}),g.jsx("div",{className:Se.artistListContainer,children:g.jsx("div",{className:Se.artworkGrid,children:!t.artworks||t.artworks.length===0?g.jsx("p",{className:Se.emptyText,children:"  "}):t.artworks.map(D=>g.jsxs("div",{className:Se.artworkCard,children:[g.jsx($t,{src:l_e(D),alt:"thumb",className:Se.artworkThumb}),g.jsxs("div",{className:Se.artworkMeta,children:[g.jsx("div",{className:Se.artworkTitle,children:A_e(D)}),g.jsx("div",{className:Se.artworkArtist,children:c_e(D)})]}),g.jsx("button",{type:"button",className:Se.removeBtn,onClick:()=>L(D.id),title:"",children:""})]},D.id))})})]})]})]}),g.jsxs("div",{className:`${Se.card} ${Se.tiptap}`,children:[g.jsx("label",{className:Se.label,children:" "}),g.jsx(TB,{content:t.exhibition_description||"",onChange:C})]}),a&&g.jsx(PF,{onClose:()=>A(!1),onSelect:I}),u&&g.jsx(o_e,{onClose:()=>f(!1),onSelect:R,existingArtworks:t.artworks||[]})]})}function d_e({data:t,setData:e,onFileChange:n}){const[r,i]=H.useState(null),[s,a]=H.useState(!1),A=H.useRef(null),u={exhibited:"",scheduled:"",ended:"",default:""},f={exhibited:1,scheduled:2,ended:3},w=[...t.exhibitions||[]].sort((R,L)=>{const U=R.exhibition_status,O=L.exhibition_status,F=f[U]||99,Q=f[O]||99;return F-Q}),C=R=>{const L=R.target.files[0];L&&(n(L),i(URL.createObjectURL(L))),R.target.value=""},B=R=>{R.stopPropagation(),i(null),n(null),A.current&&(A.current.value="")},E=R=>{const{name:L,value:U}=R.target;e(O=>({...O,[L]:U}))},I=R=>{e(L=>({...L,art_description:R}))},M=R=>{e(L=>({...L,artist_name:R.artist_name,artist_id:R.id})),a(!1)};return H.useEffect(()=>{t.art_image&&typeof t.art_image=="string"&&i(t.art_image)},[t.art_image]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:Se.card,children:[g.jsx("input",{className:`${Se.input} ${Se.galleryNameInput}`,name:"art_title",value:t.art_title||"",onChange:E,placeholder:" "}),g.jsx("input",{type:"file",ref:A,onChange:C,accept:"image/*",style:{display:"none"}}),g.jsx("div",{className:Se.imageUploadBox,onClick:()=>A.current.click(),children:r?g.jsxs(g.Fragment,{children:[g.jsx($t,{src:r,alt:" ",className:Se.previewImage}),g.jsx("button",{className:Se.imageDelBtn,type:"button",onClick:B,children:""})]}):g.jsx("p",{className:Se.previewImageDesc,children:"+   "})}),g.jsxs("div",{className:Se.formGrid,children:[g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsxs("div",{className:Se.artistSelectRow,children:[g.jsx("input",{className:Se.input,value:t.artist_name||"",placeholder:" ",readOnly:!0,onClick:()=>a(!0),style:{cursor:"pointer"}}),g.jsx("button",{type:"button",className:Se.selectButton,onClick:()=>a(!0),children:" "})]})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("input",{type:"number",className:Se.input,name:"art_year",value:t.art_year||"",onChange:E,placeholder:": 2025"})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("input",{className:Se.input,name:"art_material",value:t.art_material||"",onChange:E,placeholder:": Oil on canvas"})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:""}),g.jsx("input",{className:Se.input,name:"art_size",value:t.art_size||"",onChange:E,placeholder:": 100x150cm"})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:" "}),g.jsx("input",{className:Se.input,name:"gallery_phone",value:t.gallery_phone||"",onChange:E,placeholder:": 02-1234-5678"})]}),g.jsxs("div",{className:Se.inputGroup,children:[g.jsx("label",{className:Se.label,children:"  "}),g.jsx("div",{className:Se.exhibitionListWrapper,children:w&&w.length>0?w.map(R=>{const L=R.exhibition_status||"default";return g.jsxs("div",{className:Se.exhibitionItem,children:[g.jsx("span",{className:Se.exhibitionTitle,children:R.exhibition_title}),g.jsx("span",{className:`${Se.statusBadge} ${Se[L]}`,children:u[L]||L})]},R.id)}):g.jsx("span",{className:Se.emptyText,children:"    ."})}),g.jsx("p",{className:Se.helperText,children:"      ' '  ."})]})]})]}),g.jsxs("div",{className:`${Se.card} ${Se.tiptap}`,children:[g.jsx("label",{className:Se.label,children:" "}),g.jsx(TB,{content:t.art_description||"",onChange:I})]}),g.jsx("div",{className:Se.card,children:g.jsxs("div",{className:Se.inputDocent,children:[g.jsx("label",{className:Se.docent,children:"AI  "}),g.jsx("textarea",{className:Se.textarea,name:"art_docent",value:t.art_docent||"",onChange:E,placeholder:"AI    ."})]})}),s&&g.jsx(PF,{onClose:()=>a(!1),onSelect:M})]})}const f_e={galleries:{title:" /",apiUrl:t=>t==="new"?"/api/galleries":`/api/galleries/${t}`,formImageField:"gallery_image_file"},exhibitions:{title:" /",apiUrl:t=>t==="new"?"/api/exhibitions":`/api/exhibitions/${t}`,formImageField:"exhibition_poster_file"},artworks:{title:" /",apiUrl:t=>t==="new"?"/api/arts":`/api/arts/${t}`,formImageField:"image"}},h_e={galleries:yBe,exhibitions:u_e,artworks:d_e};function cv({type:t}){const{id:e}=Ls(),{showConfirm:n}=Zc(),r=Wt(),i=e==="new",s=f_e[t],a=h_e[t],{data:A,setData:u,isLoading:f}=i0e(t,e,i,s),{handleSave:m,isSaving:w,setSelectedImageFile:C}=s0e(t,e,i,s,A,r),B=async()=>{await n(" ?")&&(i?r("/console/main",{state:{activeTab:t==="galleries"?"":t==="exhibitions"?"":""}}):r(`/console/${t}/${e}`))},E=I=>C(I);return f||!A?g.jsx(br,{}):g.jsxs("div",{className:uo.layout,children:[g.jsxs("header",{className:uo.header,children:[g.jsx("button",{className:uo.backButton,onClick:B,children:g.jsx(C5,{})}),g.jsx("h1",{className:uo.title,children:s.title})]}),g.jsx("main",{className:uo.formContainer,children:a&&g.jsx(a,{data:A,setData:u,onFileChange:E})}),g.jsxs("div",{className:uo.bottomButtonContainer,children:[g.jsx("button",{className:`${uo.button} ${uo.saveButton}`,onClick:m,disabled:w,children:w?" ...":""}),g.jsx("button",{className:`${uo.button} ${uo.cancelButton}`,onClick:B,disabled:w,children:""})]})]})}const p_e="_layout_19w3s_1",g_e="_backButton_19w3s_17",WN={layout:p_e,backButton:g_e};function m_e(){const t=Wt(),e=()=>{t(-1)};return g.jsxs("div",{className:WN.layout,children:[g.jsx(hO,{}),g.jsx("button",{className:WN.backButton,onClick:e,children:" "})]})}const x_e="_layout_17mbt_1",w_e="_notificationList_17mbt_45",y_e="_notificationItem_17mbt_61",v_e="_iconContainer_17mbt_91",b_e="_contentArea_17mbt_113",C_e="_header_17mbt_121",B_e="_title_17mbt_135",__e="_timestamp_17mbt_149",E_e="_content_17mbt_113",S_e="_errorText_17mbt_177",ls={layout:x_e,notificationList:w_e,notificationItem:y_e,iconContainer:v_e,contentArea:b_e,header:C_e,title:B_e,timestamp:__e,content:E_e,errorText:S_e},T_e=()=>g.jsx(s5,{size:20,className:ls.iconNotice}),I_e=t=>{const e=new Date(t),r=new Date().getTime()-e.getTime(),i=Math.floor(r/(1e3*60)),s=Math.floor(r/(1e3*60*60)),a=Math.floor(r/(1e3*60*60*24));return i<1?" ":i<60?`${i} `:s<24?`${s} `:a<7?`${a} `:e.toLocaleDateString("ko-KR")};function N_e(){const{user:t,isLoading:e}=Us(),[n,r]=H.useState([]),[i,s]=H.useState(!0),[a,A]=H.useState(null),u=H.useCallback(async f=>{if(!f){A("      ."),s(!1);return}try{s(!0),A(null);const w=(await nt.get("/api/notification/user")).data.data;if(!Array.isArray(w)){r([]);return}const C=w.map(B=>({id:B.notification_id,title:B.title,content:B.body,timestamp:B.create_dtm,read:B.is_checked==="1"})).sort((B,E)=>new Date(E.timestamp).getTime()-new Date(B.timestamp).getTime());r(C)}catch(m){A(`    . (${m.message})`)}finally{s(!1)}},[]);return H.useEffect(()=>{!e&&(t!=null&&t.id)?u(t.id):!e&&!t&&s(!1)},[e,t==null?void 0:t.id,u]),H.useEffect(()=>{if(!(t!=null&&t.id))return;const f=age(()=>{console.log("      "),u(t.id)}),m=w=>{var C;((C=w.data)==null?void 0:C.type)==="NEW_NOTIFICATION"&&(console.log("      ",w.data),u(t.id))};return"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("message",m),navigator.serviceWorker.ready.then(()=>{navigator.serviceWorker.addEventListener("message",m)})),()=>{f(),"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",m)}},[t==null?void 0:t.id,u]),i?g.jsx("div",{className:ls.layout,children:"  ..."}):a?g.jsx("div",{className:ls.layout,children:g.jsx("div",{className:ls.errorText,children:a})}):n.length===0?g.jsx("div",{className:ls.layout,children:g.jsx("h1",{children:" ."})}):g.jsx("div",{className:ls.layout,children:g.jsx("div",{className:ls.notificationList,children:n.map(f=>g.jsxs("div",{className:`${ls.notificationItem} ${f.read?ls.readItem:""}`,onClick:()=>{f.read||handleNotificationClick(f.id)},children:[g.jsx("div",{className:ls.iconContainer,children:T_e()}),g.jsxs("div",{className:ls.contentArea,children:[g.jsxs("div",{className:ls.header,children:[g.jsx("span",{className:ls.title,children:f.title}),g.jsx("span",{className:ls.timestamp,children:I_e(f.timestamp)})]}),g.jsx("p",{className:ls.content,children:f.content})]})]},f.id))})})}var dh={exports:{}},O_e=dh.exports,XN;function M_e(){return XN||(XN=1,(function(t,e){(function(n,r){r(e)})(O_e,(function(n){class r{constructor(O,F){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=F,this.nowDrawingDensity=this.createdDensity,this.render=O}setDensity(O){this.createdDensity=O,this.nowDrawingDensity=O}setDrawingDensity(O){this.nowDrawingDensity=O}setPosition(O){this.state.position=O}setAngle(O){this.state.angle=O}setArea(O){this.state.area=O}setHardDrawingAngle(O){this.state.hardDrawingAngle=O}setHardAngle(O){this.state.hardAngle=O,this.state.hardDrawingAngle=O}setOrientation(O){this.orientation=O}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(O,F,Q){super(O,Q),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=F}draw(O){const F=this.render.getContext(),Q=this.render.convertToGlobal(this.state.position),D=this.render.getRect().pageWidth,j=this.render.getRect().height;F.save(),F.translate(Q.x,Q.y),F.beginPath();for(let V of this.state.area)V!==null&&(V=this.render.convertToGlobal(V),F.lineTo(V.x-Q.x,V.y-Q.y));F.rotate(this.state.angle),F.clip(),this.isLoad?F.drawImage(this.image,0,0,D,j):this.drawLoader(F,{x:0,y:0},D,j),F.restore()}simpleDraw(O){const F=this.render.getRect(),Q=this.render.getContext(),D=F.pageWidth,j=F.height,V=O===1?F.left+F.pageWidth:F.left,W=F.top;this.isLoad?Q.drawImage(this.image,V,W,D,j):this.drawLoader(Q,{x:V,y:W},D,j)}drawLoader(O,F,Q,D){O.beginPath(),O.strokeStyle="rgb(200, 200, 200)",O.fillStyle="rgb(255, 255, 255)",O.lineWidth=1,O.rect(F.x+1,F.y+1,Q-1,D-1),O.stroke(),O.fill();const j={x:F.x+Q/2,y:F.y+D/2};O.beginPath(),O.lineWidth=10,O.arc(j.x,j.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),O.stroke(),O.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class s{constructor(O,F){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=F,this.app=O,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let F=0;F<this.pages.length;F++)this.portraitSpread.push([F]);let O=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([O]),O++);for(let F=O;F<this.pages.length;F+=2)F<this.pages.length-1?this.landscapeSpread.push([F,F+1]):(this.landscapeSpread.push([F]),this.pages[F].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(O){const F=this.getSpread();for(let Q=0;Q<F.length;Q++)if(O===F[Q][0]||O===F[Q][1])return Q;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(O){if(O>=0&&O<this.pages.length)return this.pages[O];throw new Error("Invalid page number")}nextBy(O){const F=this.pages.indexOf(O);return F<this.pages.length-1?this.pages[F+1]:null}prevBy(O){const F=this.pages.indexOf(O);return F>0?this.pages[F-1]:null}getFlippingPage(O){const F=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return O===0?this.pages[F].newTemporaryCopy():this.pages[F-1];{const Q=O===0?this.getSpread()[F+1]:this.getSpread()[F-1];return Q.length===1||O===0?this.pages[Q[0]]:this.pages[Q[1]]}}getBottomPage(O){const F=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return O===0?this.pages[F+1]:this.pages[F-1];{const Q=O===0?this.getSpread()[F+1]:this.getSpread()[F-1];return Q.length===1?this.pages[Q[0]]:O===0?this.pages[Q[1]]:this.pages[Q[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(O=null){if(O===null&&(O=this.currentPageIndex),O<0||O>=this.pages.length)return;const F=this.getSpreadIndexByPage(O);F!==null&&(this.currentSpreadIndex=F,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(O){if(!(O>=0&&O<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=O}showSpread(){const O=this.getSpread()[this.currentSpreadIndex];O.length===2?(this.render.setLeftPage(this.pages[O[0]]),this.render.setRightPage(this.pages[O[1]])):this.render.getOrientation()==="landscape"&&O[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[O[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[O[0]])),this.currentPageIndex=O[0],this.app.updatePageIndex(this.currentPageIndex)}}class a extends s{constructor(O,F,Q){super(O,F),this.imagesHref=Q}load(){for(const O of this.imagesHref){const F=new i(this.render,O,"soft");F.load(),this.pages.push(F)}this.createSpread()}}class A{static GetDistanceBetweenTwoPoint(O,F){return O===null||F===null?1/0:Math.sqrt(Math.pow(F.x-O.x,2)+Math.pow(F.y-O.y,2))}static GetSegmentLength(O){return A.GetDistanceBetweenTwoPoint(O[0],O[1])}static GetAngleBetweenTwoLine(O,F){const Q=O[0].y-O[1].y,D=F[0].y-F[1].y,j=O[1].x-O[0].x,V=F[1].x-F[0].x;return Math.acos((Q*D+j*V)/(Math.sqrt(Q*Q+j*j)*Math.sqrt(D*D+V*V)))}static PointInRect(O,F){return F===null?null:F.x>=O.left&&F.x<=O.width+O.left&&F.y>=O.top&&F.y<=O.top+O.height?F:null}static GetRotatedPoint(O,F,Q){return{x:O.x*Math.cos(Q)+O.y*Math.sin(Q)+F.x,y:O.y*Math.cos(Q)-O.x*Math.sin(Q)+F.y}}static LimitPointToCircle(O,F,Q){if(A.GetDistanceBetweenTwoPoint(O,Q)<=F)return Q;const D=O.x,j=O.y,V=Q.x,W=Q.y;let Y=Math.sqrt(Math.pow(F,2)*Math.pow(D-V,2)/(Math.pow(D-V,2)+Math.pow(j-W,2)))+D;Q.x<0&&(Y*=-1);let J=(Y-D)*(j-W)/(D-V)+j;return D-V+j===0&&(J=F),{x:Y,y:J}}static GetIntersectBetweenTwoSegment(O,F,Q){return A.PointInRect(O,A.GetIntersectBeetwenTwoLine(F,Q))}static GetIntersectBeetwenTwoLine(O,F){const Q=O[0].y-O[1].y,D=F[0].y-F[1].y,j=O[1].x-O[0].x,V=F[1].x-F[0].x,W=O[0].x*O[1].y-O[1].x*O[0].y,Y=F[0].x*F[1].y-F[1].x*F[0].y,J=Q*Y-D*W,re=j*Y-V*W,te=-(W*V-Y*j)/(Q*V-D*j),q=-(Q*Y-D*W)/(Q*V-D*j);if(isFinite(te)&&isFinite(q))return{x:te,y:q};if(Math.abs(J-re)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(O,F){const Q=Math.abs(O.x-F.x),D=Math.abs(O.y-F.y),j=Math.max(Q,D),V=[O];function W(Y,J,re,te,q){return J>Y?Y+q*(re/te):J<Y?Y-q*(re/te):Y}for(let Y=1;Y<=j;Y+=1)V.push({x:W(O.x,F.x,Q,j,Y),y:W(O.y,F.y,D,j,Y)});return V}}class u extends r{constructor(O,F,Q){super(O,Q),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=F,this.element.classList.add("stf__item"),this.element.classList.add("--"+Q)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new u(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(O){const F=O||this.nowDrawingDensity,Q=this.render.convertToGlobal(this.state.position),D=this.render.getRect().pageWidth,j=this.render.getRect().height;this.element.classList.remove("--simple");const V=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${D}px;
            height: ${j}px;
        `;F==="hard"?this.drawHard(V):this.drawSoft(Q,V)}drawHard(O=""){const F=this.render.getRect().left+this.render.getRect().width/2,Q=this.state.hardDrawingAngle,D=O+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${Q}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${F}px, 0, 0) rotateY(${Q}deg);`);this.element.style.cssText=D}drawSoft(O,F=""){let Q="polygon( ";for(const j of this.state.area)if(j!==null){let V=this.render.getDirection()===1?{x:-j.x+this.state.position.x,y:j.y-this.state.position.y}:{x:j.x-this.state.position.x,y:j.y-this.state.position.y};V=A.GetRotatedPoint(V,{x:0,y:0},this.state.angle),Q+=V.x+"px "+V.y+"px, "}Q=Q.slice(0,-2),Q+=")";const D=F+`transform-origin: 0 0; clip-path: ${Q}; -webkit-clip-path: ${Q};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${O.x}px, ${O.y}px);`:`transform: translate3d(${O.x}px, ${O.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=D}simpleDraw(O){const F=this.render.getRect(),Q=F.pageWidth,D=F.height,j=O===1?F.left+F.pageWidth:F.left,V=F.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${D}px; 
            left: ${j}px; 
            top: ${V}px; 
            width: ${Q}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(O){super.setOrientation(O),this.element.classList.remove("--left","--right"),this.element.classList.add(O===1?"--right":"--left")}setDrawingDensity(O){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+O),super.setDrawingDensity(O)}}class f extends s{constructor(O,F,Q,D){super(O,F),this.element=Q,this.pagesElement=D}load(){for(const O of this.pagesElement){const F=new u(this.render,O,O.dataset.density==="hard"?"hard":"soft");F.load(),this.pages.push(F)}this.createSpread()}}class m{constructor(O,F,Q,D){this.direction=O,this.corner=F,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(Q,10),this.pageHeight=parseInt(D,10)}calc(O){try{return this.position=this.calcAngleAndPosition(O),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const O=[];let F=!1;return O.push(this.rect.topLeft),O.push(this.topIntersectPoint),this.sideIntersectPoint===null?F=!0:(O.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(F=!1)),O.push(this.bottomIntersectPoint),(F||this.corner==="bottom")&&O.push(this.rect.bottomLeft),O}getBottomClipArea(){const O=[];return O.push(this.topIntersectPoint),this.corner==="top"?O.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&O.push({x:this.pageWidth,y:0}),O.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?A.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&O.push(this.sideIntersectPoint):this.corner==="top"&&O.push({x:this.pageWidth,y:this.pageHeight}),O.push(this.bottomIntersectPoint),O.push(this.topIntersectPoint),O}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const O=A.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?O:Math.PI-O}calcAngleAndPosition(O){let F=O;if(this.updateAngleAndGeometry(F),F=this.corner==="top"?this.checkPositionAtCenterLine(F,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(F,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(F.x-this.pageWidth)<1&&Math.abs(F.y)<1)throw new Error("Point is too small");return F}updateAngleAndGeometry(O){this.angle=this.calculateAngle(O),this.rect=this.getPageRect(O)}calculateAngle(O){const F=this.pageWidth-O.x+1,Q=this.corner==="bottom"?this.pageHeight-O.y:O.y;let D=2*Math.acos(F/Math.sqrt(Q*Q+F*F));Q<0&&(D=-D);const j=Math.PI-D;if(!isFinite(D)||j>=0&&j<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(D=-D),D}getPageRect(O){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],O):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],O)}getRectFromBasePoint(O,F){return{topLeft:this.getRotatedPoint(O[0],F),topRight:this.getRotatedPoint(O[1],F),bottomLeft:this.getRotatedPoint(O[2],F),bottomRight:this.getRotatedPoint(O[3],F)}}getRotatedPoint(O,F){return{x:O.x*Math.cos(this.angle)+O.y*Math.sin(this.angle)+F.x,y:O.y*Math.cos(this.angle)-O.x*Math.sin(this.angle)+F.y}}calculateIntersectPoint(O){const F={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=A.GetIntersectBetweenTwoSegment(F,[O,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=A.GetIntersectBetweenTwoSegment(F,[O,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=A.GetIntersectBetweenTwoSegment(F,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=A.GetIntersectBetweenTwoSegment(F,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=A.GetIntersectBetweenTwoSegment(F,[O,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=A.GetIntersectBetweenTwoSegment(F,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(O,F,Q){let D=O;const j=A.LimitPointToCircle(F,this.pageWidth,D);D!==j&&(D=j,this.updateAngleAndGeometry(D));const V=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let W=this.rect.bottomRight,Y=this.rect.topLeft;if(this.corner==="bottom"&&(W=this.rect.topRight,Y=this.rect.bottomLeft),W.x<=0){const J=A.LimitPointToCircle(Q,V,Y);J!==D&&(D=J,this.updateAngleAndGeometry(D))}return D}getSegmentToShadowLine(){const O=this.getShadowStartPoint();return[O,O!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class w{constructor(O,F){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=O,this.app=F}fold(O){this.setState("user_fold"),this.calc===null&&this.start(O),this.do(this.render.convertToPage(O))}flip(O){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(O)||(this.calc!==null&&this.render.finishAnimation(),!this.start(O)))return;const F=this.getBoundsRect();this.setState("flipping");const Q=F.height/10,D=this.calc.getCorner()==="bottom"?F.height-Q:Q,j=this.calc.getCorner()==="bottom"?F.height:0;this.calc.calc({x:F.pageWidth-Q,y:D}),this.animateFlippingTo({x:F.pageWidth-Q,y:D},{x:-F.pageWidth,y:j},!0)}start(O){this.reset();const F=this.render.convertToBook(O),Q=this.getBoundsRect(),D=this.getDirectionByPoint(F),j=F.y>=Q.height/2?"bottom":"top";if(!this.checkDirection(D))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(D),this.bottomPage=this.app.getPageCollection().getBottomPage(D),this.render.getOrientation()==="landscape")if(D===1){const V=this.app.getPageCollection().nextBy(this.flippingPage);V!==null&&this.flippingPage.getDensity()!==V.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),V.setDrawingDensity("hard"))}else{const V=this.app.getPageCollection().prevBy(this.flippingPage);V!==null&&this.flippingPage.getDensity()!==V.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),V.setDrawingDensity("hard"))}return this.render.setDirection(D),this.calc=new m(D,j,Q.pageWidth.toString(10),Q.height.toString(10)),!0}catch{return!1}}do(O){if(this.calc!==null&&this.calc.calc(O)){const F=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*F)/100):this.flippingPage.setHardAngle(-90*(200-2*F)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),F,this.calc.getDirection())}}flipToPage(O,F){const Q=this.app.getPageCollection().getCurrentSpreadIndex(),D=this.app.getPageCollection().getSpreadIndexByPage(O);try{D>Q&&(this.app.getPageCollection().setCurrentSpreadIndex(D-1),this.flipNext(F)),D<Q&&(this.app.getPageCollection().setCurrentSpreadIndex(D+1),this.flipPrev(F))}catch{}}flipNext(O){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:O==="top"?1:this.render.getRect().height-2})}flipPrev(O){this.flip({x:10,y:O==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const O=this.calc.getPosition(),F=this.getBoundsRect(),Q=this.calc.getCorner()==="bottom"?F.height:0;O.x<=0?this.animateFlippingTo(O,{x:-F.pageWidth,y:Q},!0):this.animateFlippingTo(O,{x:F.pageWidth,y:Q},!1)}showCorner(O){if(!this.checkState("read","fold_corner"))return;const F=this.getBoundsRect(),Q=F.pageWidth;if(this.isPointOnCorners(O))if(this.calc===null){if(!this.start(O))return;this.setState("fold_corner"),this.calc.calc({x:Q-1,y:1});const D=50,j=this.calc.getCorner()==="bottom"?F.height-1:1,V=this.calc.getCorner()==="bottom"?F.height-D:D;this.animateFlippingTo({x:Q-1,y:j},{x:Q-D,y:V},!1,!1)}else this.do(this.render.convertToPage(O));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(O,F,Q,D=!0){const j=A.GetCordsFromTwoPoint(O,F),V=[];for(const Y of j)V.push(()=>this.do(Y));const W=this.getAnimationDuration(j.length);this.render.startAnimation(V,W,()=>{this.calc&&(Q&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),D&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(O){this.state!==O&&(this.app.updateState(O),this.state=O)}getDirectionByPoint(O){const F=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(O.x-F.pageWidth<=F.width/5)return 1}else if(O.x<F.width/2)return 1;return 0}getAnimationDuration(O){const F=this.app.getSettings().flippingTime;return O>=1e3?F:O/1e3*F}checkDirection(O){return O===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...O){for(const F of O)if(this.state===F)return!0;return!1}isPointOnCorners(O){const F=this.getBoundsRect(),Q=F.pageWidth,D=Math.sqrt(Math.pow(Q,2)+Math.pow(F.height,2))/5,j=this.render.convertToBook(O);return j.x>0&&j.y>0&&j.x<F.width&&j.y<F.height&&(j.x<D||j.x>F.width-D)&&(j.y<D||j.y>F.height-D)}}class C{constructor(O,F){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=F,this.app=O;const Q=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=Q.exec(window.navigator.userAgent)!==null}render(O){if(this.animation!==null){const F=Math.round((O-this.animation.startedAt)/this.animation.durationFrame);F<this.animation.frames.length?this.animation.frames[F]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=O,this.drawFrame()}start(){this.update();const O=F=>{this.render(F),requestAnimationFrame(O)};requestAnimationFrame(O)}startAnimation(O,F,Q){this.finishAnimation(),this.animation={frames:O,duration:F,durationFrame:F/O.length,onAnimateEnd:Q,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const O=this.calculateBoundsRect();this.orientation!==O&&(this.orientation=O,this.app.updateOrientation(O))}calculateBoundsRect(){let O="landscape";const F=this.getBlockWidth(),Q=F/2,D=this.getBlockHeight()/2,j=this.setting.width/this.setting.height;let V=this.setting.width,W=this.setting.height,Y=Q-V;return this.setting.size==="stretch"?(F<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(O="portrait"),V=O==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,V>this.setting.maxWidth&&(V=this.setting.maxWidth),W=V/j,W>this.getBlockHeight()&&(W=this.getBlockHeight(),V=W*j),Y=O==="portrait"?Q-V/2-V:Q-V):F<2*V&&this.app.getSettings().usePortrait&&(O="portrait",Y=Q-V/2-V),this.boundsRect={left:Y,top:D-W/2,width:2*V,height:W,pageWidth:V},O}setShadowData(O,F,Q,D){if(!this.app.getSettings().drawShadow)return;const j=100*this.getSettings().maxShadowOpacity;this.shadow={pos:O,angle:F,width:3*this.getRect().pageWidth/4*Q/100,opacity:(100-Q)*j/100/100,direction:D,progress:2*Q}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(O){this.pageRect=O}setDirection(O){this.direction=O}setRightPage(O){O!==null&&O.setOrientation(1),this.rightPage=O}setLeftPage(O){O!==null&&O.setOrientation(0),this.leftPage=O}setBottomPage(O){O!==null&&O.setOrientation(this.direction===1?0:1),this.bottomPage=O}setFlippingPage(O){O!==null&&O.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=O}convertToBook(O){const F=this.getRect();return{x:O.x-F.left,y:O.y-F.top}}isSafari(){return this.safari}convertToPage(O,F){F||(F=this.direction);const Q=this.getRect();return{x:F===0?O.x-Q.left-Q.width/2:Q.width/2-O.x+Q.left,y:O.y-Q.top}}convertToGlobal(O,F){if(F||(F=this.direction),O==null)return null;const Q=this.getRect();return{x:F===0?O.x+Q.left+Q.width/2:Q.width/2-O.x+Q.left,y:O.y+Q.top}}convertRectToGlobal(O,F){return F||(F=this.direction),{topLeft:this.convertToGlobal(O.topLeft,F),topRight:this.convertToGlobal(O.topRight,F),bottomLeft:this.convertToGlobal(O.bottomLeft,F),bottomRight:this.convertToGlobal(O.bottomRight,F)}}}class B extends C{constructor(O,F,Q){super(O,F),this.canvas=Q,this.ctx=Q.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const O=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(O.left+O.pageWidth,O.top,O.width,O.height),this.ctx.clip())}drawBookShadow(){const O=this.getRect();this.ctx.save(),this.ctx.beginPath();const F=O.width/20;this.ctx.rect(O.left,O.top,O.width,O.height);const Q={x:O.left+O.width/2-F/2,y:0};this.ctx.translate(Q.x,Q.y);const D=this.ctx.createLinearGradient(0,0,F,0);D.addColorStop(0,"rgba(0, 0, 0, 0)"),D.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),D.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),D.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),D.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),D.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=D,this.ctx.fillRect(0,0,F,2*O.height),this.ctx.restore()}drawOuterShadow(){const O=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(O.left,O.top,O.width,O.height);const F=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(F.x,F.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const Q=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),Q.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),Q.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),Q.addColorStop(0,"rgba(0, 0, 0, 0)"),Q.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=Q,this.ctx.fillRect(0,0,this.shadow.width,2*O.height),this.ctx.restore()}drawInnerShadow(){const O=this.getRect();this.ctx.save(),this.ctx.beginPath();const F=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),Q=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(Q.topLeft.x,Q.topLeft.y),this.ctx.lineTo(Q.topRight.x,Q.topRight.y),this.ctx.lineTo(Q.bottomRight.x,Q.bottomRight.y),this.ctx.lineTo(Q.bottomLeft.x,Q.bottomLeft.y),this.ctx.translate(F.x,F.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const D=3*this.shadow.width/4,j=this.ctx.createLinearGradient(0,0,D,0);this.shadow.direction===0?(this.ctx.translate(-D,-100),j.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),j.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),j.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),j.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=j,this.ctx.fillRect(0,0,D,2*O.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class E{constructor(O,F,Q){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=j=>{if(this.checkTarget(j.target)){const V=this.getMousePos(j.clientX,j.clientY);this.app.startUserTouch(V),j.preventDefault()}},this.onTouchStart=j=>{if(this.checkTarget(j.target)&&j.changedTouches.length>0){const V=j.changedTouches[0],W=this.getMousePos(V.clientX,V.clientY);this.touchPoint={point:W,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(W)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||j.preventDefault()}},this.onMouseUp=j=>{const V=this.getMousePos(j.clientX,j.clientY);this.app.userStop(V)},this.onMouseMove=j=>{const V=this.getMousePos(j.clientX,j.clientY);this.app.userMove(V,!1)},this.onTouchMove=j=>{if(j.changedTouches.length>0){const V=j.changedTouches[0],W=this.getMousePos(V.clientX,V.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-W.x)>10||this.app.getState()!=="read")&&j.cancelable&&this.app.userMove(W,!0),this.app.getState()!=="read"&&j.preventDefault()):this.app.userMove(W,!0)}},this.onTouchEnd=j=>{if(j.changedTouches.length>0){const V=j.changedTouches[0],W=this.getMousePos(V.clientX,V.clientY);let Y=!1;if(this.touchPoint!==null){const J=W.x-this.touchPoint.point.x,re=Math.abs(W.y-this.touchPoint.point.y);Math.abs(J)>this.swipeDistance&&re<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(J>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),Y=!0),this.touchPoint=null}this.app.userStop(W,Y)}},this.parentElement=O,O.classList.add("stf__parent"),O.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=O.querySelector(".stf__wrapper"),this.app=F;const D=this.app.getSettings().usePortrait?1:2;O.style.minWidth=Q.minWidth*D+"px",O.style.minHeight=Q.minHeight+"px",Q.size==="fixed"&&(O.style.minWidth=Q.width*D+"px",O.style.minHeight=Q.height+"px"),Q.autoSize&&(O.style.width="100%",O.style.maxWidth=2*Q.maxWidth+"px"),O.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=Q.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(O){this.wrapper.classList.remove("--portrait","--landscape"),O==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(O,F){const Q=this.distElement.getBoundingClientRect();return{x:O-Q.left,y:F-Q.top}}checkTarget(O){return!this.app.getSettings().clickEventForward||!["a","button"].includes(O.tagName.toLowerCase())}}class I extends E{constructor(O,F,Q,D){super(O,F,Q),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=O.querySelector(".stf__block"),this.items=D;for(const j of D)this.distElement.appendChild(j);this.setHandlers()}clear(){for(const O of this.items)this.parentElement.appendChild(O)}updateItems(O){this.removeHandlers(),this.distElement.innerHTML="";for(const F of O)this.distElement.appendChild(F);this.items=O,this.setHandlers()}update(){this.app.getRender().update()}}class M extends E{constructor(O,F,Q){super(O,F,Q),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=O.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const O=getComputedStyle(this.canvas),F=parseInt(O.getPropertyValue("width"),10),Q=parseInt(O.getPropertyValue("height"),10);this.canvas.width=F,this.canvas.height=Q}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class R extends C{constructor(O,F,Q){super(O,F),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=Q,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const O=this.getRect(),F=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let Q=(100-F)*(2.5*O.pageWidth)/100+20;Q>O.pageWidth&&(Q=O.pageWidth);let D=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${Q}px;
            height: ${O.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*F/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${O.left+O.width/2}px;
            transform-origin: 0 0;
        `;D+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=D}drawHardOuterShadow(){const O=this.getRect();let F=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*O.pageWidth)/100+20;F>O.pageWidth&&(F=O.pageWidth);let Q=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${F}px;
            height: ${O.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${O.left+O.width/2}px;
            transform-origin: 0 0;
        `;Q+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=Q}drawInnerShadow(){const O=this.getRect(),F=3*this.shadow.width/4,Q=this.getDirection()===0?F:0,D=this.getDirection()===0?"to left":"to right",j=this.convertToGlobal(this.shadow.pos),V=this.shadow.angle+3*Math.PI/2,W=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let Y="polygon( ";for(const re of W){let te=this.getDirection()===1?{x:-re.x+this.shadow.pos.x,y:re.y-this.shadow.pos.y}:{x:re.x-this.shadow.pos.x,y:re.y-this.shadow.pos.y};te=A.GetRotatedPoint(te,{x:Q,y:100},V),Y+=te.x+"px "+te.y+"px, "}Y=Y.slice(0,-2),Y+=")";const J=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${F}px;
            height: ${2*O.height}px;
            background: linear-gradient(${D},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${Q}px 100px;
            transform: translate3d(${j.x-Q}px, ${j.y-100}px, 0) rotate(${V}rad);
            clip-path: ${Y};
            -webkit-clip-path: ${Y};
        `;this.innerShadow.style.cssText=J}drawOuterShadow(){const O=this.getRect(),F=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),Q=this.shadow.angle+3*Math.PI/2,D=this.getDirection()===1?this.shadow.width:0,j=this.getDirection()===0?"to right":"to left",V=[{x:0,y:0},{x:O.pageWidth,y:0},{x:O.pageWidth,y:O.height},{x:0,y:O.height}];let W="polygon( ";for(const J of V)if(J!==null){let re=this.getDirection()===1?{x:-J.x+this.shadow.pos.x,y:J.y-this.shadow.pos.y}:{x:J.x-this.shadow.pos.x,y:J.y-this.shadow.pos.y};re=A.GetRotatedPoint(re,{x:D,y:100},Q),W+=re.x+"px "+re.y+"px, "}W=W.slice(0,-2),W+=")";const Y=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*O.height}px;
            background: linear-gradient(${j}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${D}px 100px;
            transform: translate3d(${F.x-D}px, ${F.y-100}px, 0) rotate(${Q}rad);
            clip-path: ${W};
            -webkit-clip-path: ${W};
        `;this.outerShadow.style.cssText=Y}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const O=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(O))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const O of this.app.getPageCollection().getPages())O!==this.leftPage&&O!==this.rightPage&&O!==this.flippingPage&&O!==this.bottomPage&&(O.getElement().style.cssText="display: none"),O.getTemporaryCopy()!==this.flippingPage&&O.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class L{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(O){const F=this._default;if(Object.assign(F,O),F.size!=="stretch"&&F.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(F.width<=0||F.height<=0)throw new Error("Invalid width or height");if(F.flippingTime<=0)throw new Error("Invalid flipping time");return F.size==="stretch"?(F.minWidth<=0&&(F.minWidth=100),F.maxWidth<F.minWidth&&(F.maxWidth=2e3),F.minHeight<=0&&(F.minHeight=100),F.maxHeight<F.minHeight&&(F.maxHeight=2e3)):(F.minWidth=F.width,F.maxWidth=F.width,F.minHeight=F.height,F.maxHeight=F.height),F}}(function(U,O){O===void 0&&(O={});var F=O.insertAt;if(typeof document<"u"){var Q=document.head||document.getElementsByTagName("head")[0],D=document.createElement("style");D.type="text/css",F==="top"&&Q.firstChild?Q.insertBefore(D,Q.firstChild):Q.appendChild(D),D.styleSheet?D.styleSheet.cssText=U:D.appendChild(document.createTextNode(U))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(U,O){return this.events.has(U)?this.events.get(U).push(O):this.events.set(U,[O]),this}off(U){this.events.delete(U)}trigger(U,O,F=null){if(this.events.has(U))for(const Q of this.events.get(U))Q({data:F,object:O})}}{constructor(U,O){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new L().getSettings(O),this.block=U}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(U){this.ui=new M(this.block,this,this.setting);const O=this.ui.getCanvas();this.render=new B(this,this.setting,O),this.flipController=new w(this.render,this),this.pages=new a(this,this.render,U),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(U){this.ui=new I(this.block,this,this.setting,U),this.render=new R(this,this.setting,this.ui.getDistElement()),this.flipController=new w(this.render,this),this.pages=new f(this,this.render,this.ui.getDistElement(),U),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(U){const O=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new a(this,this.render,U),this.pages.load(),this.pages.show(O),this.trigger("update",this,{page:O,mode:this.render.getOrientation()})}updateFromHtml(U){const O=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new f(this,this.render,this.ui.getDistElement(),U),this.pages.load(),this.ui.updateItems(U),this.render.reload(),this.pages.show(O),this.trigger("update",this,{page:O,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(U){this.pages.show(U)}flipNext(U="top"){this.flipController.flipNext(U)}flipPrev(U="top"){this.flipController.flipPrev(U)}flip(U,O="top"){this.flipController.flipToPage(U,O)}updateState(U){this.trigger("changeState",this,U)}updatePageIndex(U){this.trigger("flip",this,U)}updateOrientation(U){this.ui.setOrientationStyle(U),this.update(),this.trigger("changeOrientation",this,U)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(U){return this.pages.getPage(U)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(U){this.mousePosition=U,this.isUserTouch=!0,this.isUserMove=!1}userMove(U,O){this.isUserTouch||O||!this.setting.showPageCorners?this.isUserTouch&&A.GetDistanceBetweenTwoPoint(this.mousePosition,U)>5&&(this.isUserMove=!0,this.flipController.fold(U)):this.flipController.showCorner(U)}userStop(U,O=!1){this.isUserTouch&&(this.isUserTouch=!1,O||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(U)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(dh,dh.exports)),dh.exports}var k_e=M_e();const F_e=An.forwardRef((t,e)=>{const n=H.useRef(null),r=H.useRef([]),i=H.useRef(),[s,a]=H.useState([]);H.useImperativeHandle(e,()=>({pageFlip:()=>i.current}));const A=H.useCallback(()=>{i.current&&i.current.clear()},[]),u=H.useCallback(()=>{const f=i.current;f&&(f.off("flip"),f.off("changeOrientation"),f.off("changeState"),f.off("init"),f.off("update"))},[]);return H.useEffect(()=>{if(r.current=[],t.children){const f=An.Children.map(t.children,m=>An.cloneElement(m,{ref:w=>{w&&r.current.push(w)}}));(!t.renderOnlyPageLengthChange||s.length!==f.length)&&(f.length<s.length&&A(),a(f))}},[t.children]),H.useEffect(()=>{const f=()=>{const m=i.current;m&&(t.onFlip&&m.on("flip",w=>t.onFlip(w)),t.onChangeOrientation&&m.on("changeOrientation",w=>t.onChangeOrientation(w)),t.onChangeState&&m.on("changeState",w=>t.onChangeState(w)),t.onInit&&m.on("init",w=>t.onInit(w)),t.onUpdate&&m.on("update",w=>t.onUpdate(w)))};s.length>0&&r.current.length>0&&(u(),n.current&&!i.current&&(i.current=new k_e.PageFlip(n.current,t)),i.current.getFlipController()?i.current.updateFromHtml(r.current):i.current.loadFromHTML(r.current),f())},[s]),An.createElement("div",{ref:n,className:t.className,style:t.style},s)}),D_e=An.memo(F_e),R_e="_container_ho3zg_5",L_e="_ambientBackground_ho3zg_39",U_e="_overlay_ho3zg_69",Q_e="_header_ho3zg_97",H_e="_title_ho3zg_125",j_e="_closeBtn_ho3zg_141",P_e="_bookScene_ho3zg_183",z_e="_page_ho3zg_235",V_e="_imageWrapper_ho3zg_311",K_e="_pageImage_ho3zg_329",G_e="_pageNumber_ho3zg_345",$_e="_controls_ho3zg_367",W_e="_navBtn_ho3zg_397",X_e="_pageIndicator_ho3zg_445",q_e="_loader_ho3zg_463",Y_e="_errorMessage_ho3zg_481",Z_e="_backButton_ho3zg_491",zr={container:R_e,ambientBackground:L_e,overlay:U_e,header:Q_e,title:H_e,closeBtn:j_e,bookScene:P_e,page:z_e,imageWrapper:V_e,pageImage:K_e,pageNumber:G_e,controls:$_e,navBtn:W_e,pageIndicator:X_e,loader:q_e,errorMessage:Y_e,backButton:Z_e};function J_e(){const{category:t,id:e}=Ls(),n=Wt(),r=H.useRef(null),[i,s]=H.useState(null),[a,A]=H.useState(!0),[u,f]=H.useState(null),[m,w]=H.useState(0),[C,B]=H.useState(null),[E,I]=H.useState({width:window.innerWidth,height:window.innerHeight}),M=E.width>768;H.useEffect(()=>{const W=()=>I({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]),H.useEffect(()=>{(async()=>{try{A(!0);const Y=t==="galleries"?"galleryCategory":"exhibitionCategory",J=await nt.get("/api/leaflet",{params:{category:Y,category_id:e}}),re=Array.isArray(J.data)?J.data.length>0?J.data[0]:null:J.data;if(re)if(s(re),re.image_urls&&re.image_urls.length>0){const te=new Image;te.src=re.image_urls[0],te.onload=()=>{if(te.width>0){const q=te.height/te.width;B(q)}},te.onerror=()=>B(1.414)}else B(1.414);else f("    .")}catch(Y){console.error("Error:",Y),f("  .")}finally{A(!1)}})()},[t,e]);const R=i?i.image_urls.length:0,L=H.useCallback(()=>{r.current&&r.current.pageFlip().flipNext()},[]),U=H.useCallback(()=>{r.current&&r.current.pageFlip().flipPrev()},[]);if(H.useEffect(()=>{const W=Y=>{Y.key==="ArrowLeft"&&U(),Y.key==="ArrowRight"&&L(),Y.key==="Escape"&&n(-1)};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[U,L,n]),a||i&&!C)return g.jsx("div",{className:zr.container,children:g.jsx("div",{className:zr.loader})});if(u||!i)return g.jsx("div",{className:zr.container,children:g.jsxs("div",{className:zr.errorMessage,children:[g.jsx("p",{children:u}),g.jsx("button",{className:zr.backButton,onClick:()=>n(-1),children:""})]})});const{image_urls:O,title:F}=i,Q=O[0];let D=E.height*.85,j=D/C;const V=M?E.width*.45:E.width*.9;return j>V&&(j=V,D=j*C),g.jsxs("div",{className:zr.container,children:[Q&&g.jsx("div",{className:zr.ambientBackground,style:{backgroundImage:`url(${Q})`}}),g.jsx("div",{className:zr.overlay}),g.jsxs("header",{className:zr.header,children:[g.jsx("h1",{className:zr.title,children:F}),g.jsx("button",{className:zr.closeBtn,onClick:()=>n(-1),"aria-label":"",children:g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[g.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),g.jsx("div",{className:zr.bookScene,children:g.jsx(D_e,{ref:r,width:Math.floor(j),height:Math.floor(D),size:"fixed",minWidth:280,maxWidth:Math.floor(M?E.width*.45:E.width*.9),minHeight:Math.floor(280*C),maxHeight:Math.floor((M?E.width*.45:E.width*.9)*C),showCover:!1,mobileScrollSupport:!1,className:zr.flipBook,onFlip:W=>w(W.data),usePortrait:!M,startPage:0,drawShadow:!0,flippingTime:800,useMouseEvents:!0,swipeDistance:30,children:O.map((W,Y)=>g.jsxs("div",{className:zr.page,children:[g.jsx("div",{className:zr.imageWrapper,children:g.jsx($t,{src:W,className:zr.pageImage})}),Y>0&&g.jsx("div",{className:zr.pageNumber,children:Y})]},Y))})}),g.jsxs("div",{className:zr.controls,children:[g.jsx("button",{className:zr.navBtn,onClick:U,disabled:m===0,children:g.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("polyline",{points:"15 18 9 12 15 6"})})}),g.jsx("span",{className:zr.pageIndicator,children:m===0?"":`${m} / ${R-1}`}),g.jsx("button",{className:zr.navBtn,onClick:L,disabled:m>=R-1,children:g.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:g.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]})}const eEe=C9([{path:"/",element:g.jsx(KQ,{}),children:[{path:"/",element:g.jsx(pz,{})},{path:"/exhibitions",element:g.jsx(MV,{})},{path:"/galleries",element:g.jsx(yK,{})},{path:"/artists",element:g.jsx($V,{})},{path:"/artworks",element:g.jsx(_X,{})},{path:"/search",element:g.jsx(sW,{})},{path:"/notices",element:g.jsx(FW,{})},{path:"/exhibitions/:exhibitionId",element:g.jsx(c6,{})},{path:"/galleries/:galleryId",element:g.jsx(A6,{})},{path:"/artists/:artistId",element:g.jsx(rde,{})},{path:"/notices/:noticeId",element:g.jsx($W,{})},{path:"/artworks/:artworkId",element:g.jsx(z5,{})},{path:"/art/:artId",element:g.jsx(gX,{})},{path:"/catalog/:catalogId",element:g.jsx(YX,{})},{path:"/nearby-galleries",element:g.jsx(Zq,{})},{path:"/login",element:g.jsx(pge,{})},{path:"/login-detail",element:g.jsx(oge,{})},{path:"/register",element:g.jsx(RK,{})},{path:"/find",element:g.jsx(dZ,{})},{path:"/announcement",element:g.jsx(BZ,{})},{path:"/termspolicy",element:g.jsx(kZ,{})},{path:"/reservation/:exhibitionId",element:g.jsx($J,{})},{path:"/reservationconfirm/:reservationId",element:g.jsx(GZ,{})},{element:g.jsx(JQ,{}),children:[{path:"/notifications",element:g.jsx(N_e,{})},{path:"/mypage",element:g.jsx($G,{})},{path:"/mypage/edit",element:g.jsx(V$,{})},{path:"/purchase/:reservationId",element:g.jsx(bW,{})}]},{path:"*",element:g.jsx(Wme,{})}]},{path:"/console",element:g.jsx(bne,{}),children:[{path:"/console/notification",element:g.jsx(Cme,{})},{path:"/console/main",element:g.jsx(Zg,{})},{path:"/console/galleries",element:g.jsx(Zg,{defaultTab:""})},{path:"/console/exhibitions",element:g.jsx(Zg,{defaultTab:""})},{path:"/console/artworks",element:g.jsx(Zg,{defaultTab:""})},{path:"/console/detail",element:g.jsx(C1,{})},{path:"/console/exhibitions/:id",element:g.jsx(C1,{type:"exhibitions"})},{path:"/console/galleries/:id",element:g.jsx(C1,{type:"galleries"})},{path:"/console/artworks/:id",element:g.jsx(C1,{type:"artworks"})},{path:"/console/galleries/edit/:id",element:g.jsx(cv,{type:"galleries"})},{path:"/console/exhibitions/edit/:id",element:g.jsx(cv,{type:"exhibitions"})},{path:"/console/artworks/edit/:id",element:g.jsx(cv,{type:"artworks"})},{path:"/console/artworks/docent/:id",element:g.jsx($me,{})},{path:"/console/galleries/leaflet/:id",element:g.jsx(xI,{type:"galleries"})},{path:"/console/exhibitions/leaflet/:id",element:g.jsx(xI,{type:"exhibitions"})},{path:"/console/poster",element:g.jsx(m_e,{})}]},{path:"/scan/:id?",element:g.jsx(Hq,{})},{path:"/view/leaflet/:category/:id",element:g.jsx(J_e,{})}]);function tEe(t,e){const n=H.useRef(null),[r,i]=H.useState(!1),s=H.useCallback(()=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{i(!0)},e)},[e]),a=H.useCallback(()=>{n.current&&clearTimeout(n.current),n.current=null},[]),A=H.useCallback(()=>{t()},[t]);return{start:s,clear:a,done:A,isExiting:r}}const nEe="_toastContainer_wle1e_1",rEe="_toast_wle1e_1",iEe="_exiting_wle1e_45",sEe="_title_wle1e_53",aEe="_message_wle1e_65",fh={toastContainer:nEe,toast:rEe,exiting:iEe,title:sEe,message:aEe};function oEe({id:t,title:e,message:n,duration:r,removeToast:i}){const{start:s,clear:a,done:A,isExiting:u}=tEe(()=>{i(t)},r),f=()=>a(),m=()=>s();H.useEffect(()=>{s()},[s]);const w=`${fh.toast} ${u?fh.exiting:""}`,C=()=>{u&&A()};return g.jsxs("div",{className:w,onMouseEnter:f,onMouseLeave:m,onAnimationEnd:C,children:[g.jsx("div",{className:fh.title,children:e}),n&&g.jsx("div",{className:fh.message,children:n})]})}const lEe=H.createContext();function AEe({children:t}){const[e,n]=H.useState(null),r=H.useCallback((s,a=1e3)=>{let A,u;typeof s=="string"?(A=s,u=null):(A=s.title,u=s.message);const f=Date.now();n({id:f,title:A,message:u,duration:a})},[]),i=H.useCallback(s=>{n(a=>a&&a.id===s?null:a)},[]);return g.jsxs(lEe.Provider,{value:{addToast:r},children:[t,g.jsx("div",{className:fh.toastContainer,children:e&&g.jsx(oEe,{id:e.id,title:e.title,message:e.message,duration:e.duration,removeToast:i},e.id)})]})}function cEe(){return g.jsx(br,{})}function uEe(){return g.jsx(mR,{fallback:g.jsx("div",{children:" ."}),children:g.jsx(H.Suspense,{fallback:g.jsx(cEe,{}),children:g.jsx(eQ,{children:g.jsx(AEe,{children:g.jsx(D9,{router:eEe})})})})})}YN.createRoot(document.getElementById("root")).render(g.jsx(bV,{children:g.jsx(HG,{children:g.jsx(uEe,{})})}));
